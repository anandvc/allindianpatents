<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/256397-a-charging-system-for-charging-service-usage-in-a-communication-network by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 09:35:56 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 256397:&quot;A CHARGING SYSTEM FOR CHARGING SERVICE USAGE IN A COMMUNICATION NETWORK&quot;</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">&quot;A CHARGING SYSTEM FOR CHARGING SERVICE USAGE IN A COMMUNICATION NETWORK&quot;</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A charging system for charging service usage in a communication network, characterized in that the said charging system comprises: a charging server (2) adapted to: handle subscriber account information, receive a first charging request message for a service from an Intelligent Network service (1), before the service is provided, using an on-line charging protocol (3), and a credit control server (17) adapted to : perform pre-reservation of an amount of resources from the subscriber&#x27;s account, said amount depending on a requested amount included in said message about said service, and to return an answer message comprising information indicating whether an amount of resources are pre-reserved from said subscriber account for enabling usage of said service to the Intelligent Network service (1) using said online charging protocol (3).</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>SYSTEM AND METHOD FOR CHARGING IN A COMMUNICATIONS NETWORK AND A COMMUNICATIONS NETWORK CHARGING SERVER<br>
Technical field of the invention<br>
The present invention relates in general to communication networks and more specifically to a system and a method for charging in a communication network and to a communication network charging server.<br>
Background of the invention<br>
In the present communication networks i.e. telecommunications networks and data communications networks there are no real-time charging protocol mechanisms over which a client providing services to the subscriber would be able to  debit subscriber's account residing in a charging server based on the charges calculated by the client.<br>
The current real-time charging protocol mechanisms do not allow any client to request charging server to rate a service event(s) and return the number of the events that are allowed be provided to the subscriber.<br>
Furthermore, the current real-time charging protocol mechanisms do not allow any client to inform the subscriber before and after Service Event execution about the monetary amount to be used.<br>
The new network generation specifies (e.g. 3G Charging and Billing requirements) the more critical requirements for the Accounting applications (Charging systems) of the communication networks. The Accounting application must be able to rate Accounting information in real-time. For example, the service environment processes service event information, which has to be rated before or at service delivery/execution .<br>
There exist also requirements for the End User credit control of the new communication networks generation. The Accounting application must be able to check the End User's account for coverage for the requested Service Event charges prior to execution of that<br><br>
Service Event. All the chargeable events related to a specific account must be barred to the End User when the credit of that account is exhausted or expired.<br>
In the next generation networks the number of services offered to the End User and the number of actors delivering these services to End Users will grow. To fulfil all these new requirements new types of mechanisms for charging in a data communication network are needed, which will support the communication between Credit Control applications/servers and the service environment.<br>
A particular problem arises in connection with intelligent network (IN) services, such as Premium Rate calls, Mobile Virtual Private Network (VPN), Prepaid charging and Personal Number. Since prepaid usually is an IN service itself it is not convenient to provide prepaid of other IN services for subscribers. To provide prepaid of other IN services, the prepaid functionality has been integrated with the particular other IN service in prior art communications system. Hence, each IN service has to be redesigned with prepaid functionality added to be able to offer the service as prepaid.<br>
Summary of the present invention<br>
It is an object of the present invention to overcome or at least mitigate the disadvantages of the prior art. The present invention provides a system and a method for charging in a communication network and a communication network charging server.<br>
According to a first aspect of the present invention there is provided a system for charging in a communications network, comprising a client associated with the network for providing services to subscribers associated with the network, wherein the system comprises a charging server adapted to handle subscriber account information, the client is adapted to send a first charging request message for a service, to the charging server before the service is provided, using an on-line charging protocol, the charging server is adapted to perform pre-reservation<br><br>
of an amount of resources from the subscriber's account defined by information included in said message about said service, and to retur an answer message including information indicating whether enough resources are pre-reserved from said subscriber account for enabling usage of said service to the client using the on-line charging protocol.<br>
According to a second aspect of the present invention there is provided a system for charging in a communications network, Comprising a client associated with the network for providing services to subscribers associated with the network, wherein the system comprises a charging server adapted to handle subscriber account information, the client is adapted to send a first charging request message for a service, to the charging server before the service is provided, using an on-line charging protocol, and the charging server is adapted to rate the service and return an answer message to the client using an on-line charging protocol, wherein the answer message includes the price indications of the requested service event(s).<br>
According to a third aspect of the present invention there is provided a methdd for charging in a communications network, comprising a client associated with the network for providing services to subscribers associated with the network and a charging server adapted to handle subscriber account information having the subscriber account information, wherein the client (1,14) sends a first charging request message for a service, to the charging server before the service is provided, using an on-line charging protocol, the charging server performs pre-reservation of an amount of resources from the subscriber's account defined by information included in the message about the service, and returns an answer message including information indicating whether enough resources are pre-reserved from said subscriber account for enabling usage of the service to the client using the on-line charging protocol.<br><br>
According to a fourth aspect of the present invention there is provided a method for charging in a communications network comprising a client associated with the network for providing services to subscribers associated with the network and a charging server adapted to handle subscriber account information having the subscriber account information,  wherein the client sends a first charging request message for a service, to the charging server before the service is provided, using an on-line charging protocol, the charging server rates the service and returns an answer message to the client using an on-line charging protocol, wherein the answer message includes the price indications of the requested service event(s) .<br>
According to a fifth aspect of the present invention there is provided charging server for charging service usage in a communications network, wherein the charging server is adapted to handle subscriber account information, receive a first charging request message for a service from a client, before the service is provided, using an on-line charging protocol, perform pre-reservation of an amount of resources from the subscriber's account defined by information included in the message about the service, and to return an answer message including information indicating whether enough resources are pre-reserved from said subscriber account for enabling usage of said service to the client using the on-line charging protocol.<br>
According to a sixth aspect of the present invention there is provided a charging server for charging service usage in a communications network, wherein the charging server is adapted to handle: subscriber account information, receive a first; charging request message for a service from a client, before the service is provided, using an on-line charging protocol, and rate the service and return an answer message to the client using an online charging protocol, wherein the answer message<br><br>
includes the price indications of the requested service event(s) .<br>
Advantages of the present invention are that any client network can debit end subscribers' account specified in the charging server, any client can use the charging server to rate service event(s) without knowledge about the actual price and the control how many such service events can be provided to the user, and the client can provide cost estimation to subscribers before service execution and a final cost for the service usage after the service execution. Still another advantage is that intelligent network (IN) services can be provided with prepaid rating without redesign of the complete IN service. Hence, each IN service does not need to be redesigned with prepaid functionality added to be able to offer the service as prepaid.<br>
Statement of Invention<br>
Accordingly, the present invention provides a charging system for charging service usage in a communication network, characterized in that the said charging system comprises: a charging server (2) adapted to: handle subscriber account information, receive a first charging request message for a service from an Intelligent Network service (1), before the service is provided, using an on-line charging protocol (3), and a credit control server (17) adapted to:<br>
perform pre-reservation of an amount of resources from the subscriber's account, said amount depending on a requested amount included in said message about said service, and to return an answer message comprising      information indicating whether an amount of resources are pre-reserved from    said subscriber account for enabling usage of said service to the Intelligent Network service (1) using said online charging protocol (3).<br>
Brief description of the drawings<br>
For a better understanding of the present invention and in order to show how the same way be carried into<br>
effect reference will now be made to the accompanying<br>
drawings, in which:<br>
Figure 1 illustrates the system for charging in a communication network according to the present invention,<br>
Figure 2 illustrates the message sequence for account debiting by monetary units in the system for charging in a communication network according to the present invention,<br>
Figure 3 illustrates the message sequence for rating service-events in the system for charging in a communication network according to the present invention,<br>
Figure 4 illustrates the message sequence for cost estimation for charging in a communication network according to the  the present invention<br>
 Figure 5 illustrates a block diagram of  the system <br>
for charging in a communication network according to the <br>
present invention <br><br>
Figure 6 illustrates another embodiment of the system in figure 1, and<br>
Figure 7 illustrates the message sequence for account debiting in the system for charging in a communication network in figure 6.<br>
Detailed description of the invention The solution according to the present invention presents a new mechanism for charging in a communication network. This new charging mechanism allows any client network to debit end subscriber's account specified in a new On-line Charging Server. The monetary amount to be debited is determined by the client.<br>
In the new charging mechanism according to the present invention a client in the network can use the Charging Server to rate service event or service events without knowing the actual price and control how many such a service events can be provided to subscriber. In the new charging mechanism according to the present invention the client can further provide to subscriber cost estimation before service execution and final cost after service execution.<br>
Figure 1 illustratesi the system for charging in a communication network according to the present invention. In the charging system according to the present invention there is a client 1 providing services to the subscriber and a charging server or charging control server 2 having the subscriber account information. The client 1 and the charging server 2 communicate using an On-line Charging Protocol 3. The On-line Charging Protocol 3 is a bi-directional protocol that supports real-time charging. Real-time charging is charging which is performed as a part of rendering services. Preferably, the On-line Charging Protocol 3 is based on an IP protocol such as the Diameter protocol. Alternatively, the On-line Charging Protocol is based on Parlay protocol, INAP CSl protocol or SS7.<br>
Figure 2 illustrates the message sequence for account debiting by monetary units in the system for<br><br>
charging in a communication network according to the present invention. The client may reserve money for a subscriber to use for services charging wise controlled by the client 1 by sending a Charging-Request 4 message to the charging server 2. An alternative Charging-Request message is marked with a reference number 6.<br>
In the Charging-Request 4, 6 the subscriber to be charged for is identified: by a specific Subscriber ID, for instance IMSI, MSISDN, IP. address or SIPJJRL. The client 1 indicates how much money it  wants to reserve for the use of services controlled by it (Reserved Monetary Amount). The client 1 can also indicate to the charging server 2 what is the expected duration during which the monetary amount is to be consumed (Reservation Duration). The charging server 2 uses the message parameters of Charging-Request 4, 6 to determine, how it should response to the request 4, 6.<br>
The charging server 2 then determines, even independent on the value requested by the client 1, the monetary amount to be reserved from subscriber's account. The amount can be for instance a default value independent from the requested value. For instance, the amount can be equal to the requested value in case there is enough money on the account. Likewise, the amount can be less than what is requested in case there is not enough money on the subscriber's account, or in case the subscriber is unreliable.<br>
It can also be that; the client 1 does not indicate a requested monetary amount: in the Charging-Request 4, 6. In this case the charging server 2 needs to determine the monetary amount to be reserved based on other message parameters, such as the service used e.g. Service Event Information, such as time;, data volume, service specific<br>
events (e.g.web -pages downloads, timetable inquires etcl <br>
and money of the charging-Request 4,6 or based  on<br>
configuration parameters in the charging server 2 The<br>
configuration paratersin the charging server 2 The <br>
charging  server 2  returns the reserved monetary amount in    a  Charging- Answer 5 message to the  client 1. An<br><br><br>
alternative Charging-Answer message is marked with a reference number 7.<br>
The charging server 2 also determines the allowed duration to be used for the consuming of the reserved monetary amount. The duration can be a default value independent on the requested value. For instance, the duration can be bigger than the requested value in case of signalling capacity problems, or duration can be less than what is requested in case the subscriber is unreliable.<br>
In case the client 1 does not indicate a requested Reservation Duration, then the charging server 2 needs to determine the duration to be reserved based on other message parameters of Charging-Request 4, 6 or based on configuration parameters in the charging server 2. The charging server 2 returns the reservation duration in a Charging-Answer 5, 7 message to the client 1.<br>
The charging server 2 can also choose not to put any time limit on the usage of! the monetary amount, in which case it does not send message parameter Reservation Duration. The charging server 2 can also indicate in the Charging-Answer 5, 7 message to the client 1 that the reservation was unsuccessful e.g. in case the subscriber's account is totally empty.<br>
When the Charging-Answer 5, 7 indicates that a monetary amount is successfully reserved, then the client 1 allows the subscriber to! initiate chargeable transactions'in the client; network. Upon the entire monetary amount reserved by the charging server 2 has been spent by .the subscriber, the client 1 re-requests for more money from the charging server 2 by sending a new Charging-Request 6.<br>
In case the monetary amount reserved by the charging server 2 is not spent upon the expiration of the<br>
reservation time allocated by the  charging server 2 the<br>
client 1 contacts the charging server 2 with a new <br>
charging Request 6 indiacting how much  money was actually<br>
used by the subscriber (Used Monetary Amount )The new<br><br><br>
Charging-Request 6 message can also include a request for more money.<br>
As the charging server 2 receives the knowledge on the money used by the subscriber, it returns the initially reserved monetary amount back to the account, and deducts the used monetary amount from the account. Thereafter, the charging server 2 starts reserving the next monetary amount from the account. If the knowledge on the money used by the subscriber is not received in the message, the charging server 2 deducts the account based on the reserved amount at the reception of previous Charging-Request 4, 6.<br>
In case the initial reservation request 4 is unsuccessful, the client 1 will determine whether it wants to retry the reservation e.g. with smaller value for Reserved Monetary Units. The charging server 2 can give some input to the client 1 to determine what to do in the unsuccessful reservation case. The charging session between the client and the Charging Server can be finished by the client 1 according to the instructions from the charging server 2 (Close Charging Session).<br>
The charging server 2 includes to each Charging-Answer 5, 7 the accumulated cost (Accumulated Cost) for charging session. The final answer message 5, 7 also includes the total cost of the charging session.<br>
Figure 3 illustrates the message sequence for rating service events in the system for- charging in a communication network according to the present invention. The client 1 may request rates for service events and reserve money for a subscriber to use the service by sending a first Charging-Request 8 message to the charging server 2. An second Charging-Request message is marked with a reference number 10.<br>
In the Charging-Request 8, 10 the subscriber to be charged for is Identified by a specific Subscriber ID, for instance IMSI, MSISDN or SXIP_URL. The client 1 indicates the service event type (Service event Information) and number (Number of Events) of such events, which it wants<br><br>
to be rated. The client 1  can also indicate to the charging server 2 what is jthe expected duration during which the service events are to be consumed (Reservation Duration) . The charging sejrver 2 uses the message parameters of Charging-Reqjuest 8, 10 to determine how it should response to the request 8, 10.<br>
The charging server 2 then rates the requested service using service evenjt information and number of requested information, and reserves corresponding amount of money from the subscriber account.<br>
The charging server 2 then determines, even independent on the requested number of events by the client 1, the number of events, which are granted to be used by the subscriber. The number of events can be for instance a default value independent from the requested value. For instance, the number of events can be equal to the requested value for instance in case there is enough money on the account. Likewise, the number of events can be less than what is requested in case there is not enough money on the subscriber's account, or in case the subscriber is unreliable.<br>
The charging server %  returns the number of events, which are granted to be used by the subscriber in a Charging-Answer 9 message io the client 1. An alternative Charging-Answer message is marked with a reference number 11.<br>
The charging server 2 also determines the allowed duration to be used for the consuming of the reserved monetary amount. The duration can be a default value independent on the requested value. For instance, the duration can be bigger thari the requested value in case of signalling capacity problems, or duration can be less than what is requested in case the subscriber is unreliable.<br>
In case the client 1 does not indicate a requested Reservation Duration, then ;the charging server 2 needs to determine the duration to be reserved based on other message parameters e.g. Service Event Information of Charging-Request 8, 10 or bjased on configuration<br><br>
parameters in the charging server 2. The charging server 2 returns the reservation duration in a Charging-Answer 9, 11 message to the client 1.<br>
Alternatively, the Charging Server does not put any duration limit on the usage of the granted number events, in which case it does not send message parameter Reservation Duration.<br>
The charging server 2 can also choose not to put any limit on the usage of the granted number events, in which case it does not send message parameter Reservation Duration. The charging server 2 can also indicate in the Charging-Answer 9, 11 message to the client 1 that the reservation was unsuccessful e.g. in case the subscriber's account is totally empty.<br>
When the Charging-Answer 9, 11 indicates that rating of the service event and reservation of a monetary amount is successful, then the client 1 allows the subscriber to initiate chargeable transactions in the client network. Upon the all granted events reserved by the charging server 2 have been spent by the subscriber, the client 1 re-requests for more service events from the charging server 2 by sending a new' Charging-Request 8, 10.<br>
In case the granted: number of events reserved by the charging server 2 is not spent upon the expiration of the reservation time allocated by the charging server 2,   the client 1 contacts the charging server 2 with a new Charging-Request- 10 indicating how many events was actually used by the subscriber (Number of Used Service Events). The new Charging-Request 10 message can also include a request for more events.<br>
As the charging server 2 receives the knowledge on the service events used by the subscriber, it returns the initially reserved monetary amount back to the account, i.e cancels the reservation, and deducts a monetary amount equal to the number of used service events from the account. Thereafter, the charging server 2 rates the new service event request and starts reserving the corresponding amount from the account. If the knowledge on<br><br>
the service events used by the subscriber is not received in the message, the charging server 2 deducts the account based on the already reserved amount.<br>
In case the initial reservation request 8, is unsuccessful, the client 1 will determine whether it wants to retry the reservation e.g. with less number of events. The charging server 2 can give some input to the client 1 to determine what to do in the unsuccessful reservation case. The charging session between the client and the Charging Server can be finished by the client 1 according to the instructions from the charging server 2 (Close Charging Session).<br>
The charging server 2 includes to each Charging-Answer 9, 11 the accumulated cost (Accumulated Cost) for charging session. The final answer message 9, 11 also includes the total cost of the charging session.<br>
Figure 4 illustrates the message sequence for cost estimation for charging in a communication network according to the present invention. The client 1 may inquire the price of the service event (Pricing Enquiry Indication) before service execution by sending a Charging-Request 12 message to the charging server 2.<br>
By using service event information and number of requested information, the charging server 2 calculates the price of the requested service. The charging server 2 does not perform any account balance check nor account adjustment. The charging server 2 returns the calculated price indication in a Charging-Answer 13 message to the client 1. The client 1 can then advice subscriber the cost of the requested service.<br>
Figure 5 illustrates a block diagram of the system for charging in a communication network according to the present invention. In the  charging system according to the present invention there is a Service/Network Element 14 and Service Consumers 15, ;16. Service/Network Element 14 can be a Service Element 14 that provides Services to Service Consumers 15, 16 or a Network Element 14 that enables Service Consumers 15, 16 access to network usage.<br>
I<br><br>
In the charging system according to the present invention there is also a Credit Control Server 17. Before the service is provided, the Service/Network Element 14 contacts the Credit Control Server 17 using Credit Control Protocol 18 with Service Event information included (as described in the previous Figures 1-4). The Credit Control Server 17, depending on and defined by the Service Event information, performs the rating of the Service Event, pricing of the Service Event, credit check and pre-reservation.<br>
In the charging system according to the present invention there is also an.  Accounting Server 19. The Accounting Server 19 is a server handling the accounting of the different events and services in the customer's network.<br>
The Service/Network Element 14 can alternatively deliver the Service Event Information to the Accounting Server 19 using Accounting Protocol 20, which Accounting Server 19 may contact the Credit Control Server 17. The Credit Control Server 17 and the Accounting Server 19 are logical entities. An implemented configuration can contain both the Credit Control Server 17 and the Accounting Server 19 forming a single host or charging server.<br>
When the Service Consumer 15, 16 requests a service the request is forwarded to a Service/Network Element 14 in home domain, that is the same administrative domain, in which the Service Consumer's 15, 16 Credit Control Server 17 is located.<br>
Next the Service/Network Element 14 authorizes the Service Consumer 15, 16 and sends a request to the Credit Control Server 17. The Service/Network Element 14 can get the authorization information from an authorization server. The authorization server may also send the Service/Network Element 14 instructions and identification data regarding the Credit Control Protocol 18 and the Accounting Protocol 20.<br><br>
The system for charging in a communication network according to the present invention has two main service scenarios:<br>
a one time event that is used for price enquiry and credit control, and<br>
several interrogations that are used for session based credit control.<br>
The one time event i^s used when the Service/Network Element 14 wants to know tjhe cost of the Service Event without any credit-reservation. It can be used also for a credit control when one time event has occurred in service environment. There might exist services offered by Application Service providers, whose prices are not known in the Service/Network Element. End User might also want to know the exact price of a Service Event before requesting the Service Event.<br>
After a request 12 from the client the Credit Control Server 17 calculates the cost of the requested Service Event, but it does not perform any account balance check or credit-reservation from the account. The price of the requested Service Event is returned to the Service/Network Element 14 with the answer message 13.<br>
There are certain one time events for which service execution is always successful in the service environment. In these cases Service/Network Element 14 can use the one time event scenario for real Credit Control. The Service/Network Element 14 sends a credit control request message 4, 8 to the Credit Control Server 17 before the Service/Network Element 14 allows the Service Event to the Service Consumer 15, 16.<br>
The Credit Control Server 17 rates the Service Event and deduct the corresponding monetary amount from Service Consumer's 15, 16 account, and returns a credit control answer message 5, 9 to the iService/Network Element 14.<br>
In a session based Credit Control there are several interrogations: the first, intermediate and the final interrogation. The Service/Network Element 14 sends a first interrogation message: 4, 8 to the Credit Control<br><br>
Server 17 before the Service/Network Element 14 allows the Service Event to the Service Consumer 15, 16.<br>
The Credit Control Server 17 rates the Service Event and deduct the corresponding monetary amount from Service Consumer's 15, 16 account;, and returns a credit control answer message 5, 9 to this Service/Network Element 14. The type of the granted service units can be time, volume, event or money depending pn the type of Service Event.<br>
The Intermediate Interrogation can be sent as<br>
follows. When all the grafted service units are spent by<br>
the Service Consumer 15, 16, the Service/Network Element<br>
14 sends a new request 6, 10 to the Credit Control Server<br>
■ 17. The Credit Control Server 17 rates the Service Event<br>
and deduct the corresponding monetary amount from Service<br>
Consumer's 15, 16 account, and returns a credit control<br>
answer message 7, 11 to the Service/Network Element 14 as<br>
in the first interrogation. There can be several<br>
intermediate interrogatiohs within one session.<br>
When the Service Consumer 15, 16 finishes the Service Event or when all the granted units are used, the Service/Network Element 14 sends a Final Interrogation 6, 10 message to the Credit Control Server 17. After final interrogation the Credit Control Server 17 refunds the reserved credit amount not  used to the Service Consumer's 15, 16 account, deducts the used monetary amount from the account and returns an answer message 7, 11.<br>
The solution according to the present invention proposes a new protocol mechanism by which a client is able to charge certain amount of monetary units for particular event(s) occurring in the<br>
(com/service/multimedia) network under the control of the charging server. Monetary amount to be charged is determined by the client that sends a charging request to a server holding an account database. The server reserves the money from the account and allocates a duration during which the money is to be consumed or the server to be recontacted. Return message is sent back to the client. Upon subscriber having spent the reserved money, the<br><br>
client requests the server to withdraw the monetary amount from the account.<br>
In the new protocol |mechanism solution according to the present invention a client is able to request the Charging Server (server holding an account database) to rate particular service event(s) occurring in the (com/service/multimedia) network under the control of the client. The Server reserves the money according to the rating result from the account and allocates the number of the events and a duration during which the events are to be used or the server to be recontacted. Return message is sent back to the client. Upon subscriber having used the service events, the client requests the server to withdraw the monetary amount from the account.<br>
In the new protocol mechanism solution according to the present invention a client is able to provide a mechanism to calculate the! total cost of the service events(s) used during a particular service session according to the information provided the Charging Server. This solution addresses the possibility to return an estimate on the cost for the service event(s) before the service event(s) are executed, and final exact cost after the execution of the service event(s) for the served subscriber. This cost can ibe advised as a money.<br>
The new protocol mechanism solution according to the present invention will improve the existing charging systems by enabling account debiting based on charges calculated by the interrogating network. The presented charging mechanism can be japplied for instance to on-line charging of events occurring in Service Network and IP Multimedia Network. However, note that the solution is not restricted to those' networks but the client can exist in any network.<br>
The new protocol mechanism solution according to the present invention will also improve the existing charging systems by enabling service rating based on service event information received from Service Network or IP multimedia network or some other network. The new protocol mechanism<br><br>
solution according to the present invention will further improve the existing charging systems by enabling providing the cost estimation before service execution and final cost after service execution.<br>
The present inventiqn is further described in the Internet Engineering Task Force (IETF) contribution: "Diameter Credit Control APPlication<br>
j<br>
In another embodiment of the invention shown in FIG 6 system includes an intelligent network IN with a signalling network, which performs message switching between network elements, In this embodiment of the invention, a specific type of signalling protocol, Camel Application Part (CAP) 21 for GSM/UMTS, is used as a carrier for the exchange of information messages and carries many types of information elements, which are useful for intelligent network services. However, CAMEL is only an example and the signalling protocol can be based on another protocol such ajs the Internet Protocol (IP) , signalling system 7 (SS7), IN Application Part (INAP) for fixed networks - where CAPj and INAP are transported on SS7/C7/SIGTRAN. Additionally, the intelligent network includes a service switching function (SSF) 22, which is usually located in the (G)MSC 23 in GSM systems. The SSF 22 detects events indicating a call requiring IN and after this triggering, it suspends call processing and starts a series of transactions with a service control function SCF 24. In this embodiment the; SCF 24 is located at an SCP (Service Control Point) 25 handling an IN services, i.e clients 1, 14, such as Premium Rate calls, Mobile Virtual Private Network (VPN), Prepaid charging and Personal Number. In order to provide prepaid charging of IN services, the charging server is adapted to handle the on-line rating and charging, In this embodiment the charging server is a CCN (Charging Control Node) 22. Hence, an IN service of the SCP 25 sends charging data to the CCN 2 6 via another embodiment 27 of the on-line charging protocol according to the invention <br><br>
A charging request message from the SCP 25 to the CCN 26 includes an IN service parameter and an IN service information parameter. The IN service parameter identifies the IN service and the IN! service information is used to differentiate between different usage of the same IN service, for example .on-net and off-net calls in VPN.<br>
Answer messages from the CCN 26 to the SCP 25 includes parameters as well, for handling the call control and end user communication connection, i.e the IN part of the prepaid service, in connection with account status received from the CCN 26. An account status parameter has different values to convey the status of the subscriber account to the SCP 25. In this embodiment the different values are active, supervised or barred. Active implies that the account can be charged; supervised implies that the account can be charged but there are warnings, for instance that the account will soon be barred, and barred implies that the account can not be charged.<br>
Additionally, it is  necessary for the IN service to be able to handle the call control and end user communication in connectiqn with the amount available on the account, that it would receive from the CCN 26. An account value parameter has different values to convey the available amount of the subscriber account to the SCP 25.<br>
In this embodiment the different values are large, medium or small. Theses values implies that the account has funds that will cover more than the normally assigned duration or volume, cover only the normally assigned duration or volume, or not cover the normally assigned duration or volume, respectively.<br>
Figure 7 illustrates'a message sequence for account debiting in the system for1 charging in the communication network in figure 6. When a VPN call is initiated from a subscriber the MSC 23 notices that IN should be invoked for the call and the SSF 22 sends an Initial DP to invoke the SCP 25 in step 28. The SCP 25 invokes the requested IN service, i.e VPN in this example, and sends a rating request to the CCN 26 in step 29. The CCN 26 checks the<br><br>
account and notice that tjhe subscriber needs to be warned about a low account, and send the result back to the SCP 25 in step 30. In step 31, the SCP 25 checks the result and.notices that the subscriber should be warned, wherein the SCP 25 instructs the SSF 22 to connect to an SRF (service rating function) 22'. Further, the SCP 25 instructs the SRF 22' to play an announcement to the subscriber in step 32 . When the call is disconnected the SCP 25 requests a report from the SSF 22 in step 33. In the next step 34, the SCP 25 instructs the SSF 22 to connect the VPN call. The call is connected and proceeds in step 35. When the call is disconnected the SSF 22 informs the SCP 25 of the disconnection and replays to the requested report in step 36. The SCP 25 invokes the IN service and sends a charging request to the CCN 2 6 via the on-line charging protocol 27 in step 37. The CCN rates the call and charges the account, after which it sends the result back to the SCP 25 in step 38. The disconnection is continued when the SCP 25 instructs the SSF 22 to do so in step 39.<br><br><br><br><br><br><br>
WE CLAIM:<br>
1.	A charging system for charging service usage in a communication network,<br>
characterized in that the said charging system comprises:<br>
a charging server (2) adapted to:<br>
handle subscriber account information,<br>
receive a first charging request message for a service from an<br>
Intelligent Network service (1), before the service is provided, using<br>
an on-line charging protocol (3), and<br>
a credit control server (17) adapted to:<br>
perform pre-reservation of an amount of resources from the subscriber's account, said amount depending on a requested amount included in said message about said service, and to return an answer message comprising      information indicating whether an amount of resources are pre-reserved from    said subscriber account for enabling usage of said service to the Intelligent Network service (1) using said online charging protocol (3).<br>
2.	The charging system as claimed in claim 1, wherein the charging server (2)<br>
and the credit control server (17) are adapted to:<br>
receive a second charging request message (6,10) from the IN service (1,14) using said on-line charging protocol (3,18), said request message (6), (10) comprising the<br><br>
amount of resources used by the subscriber, deduct the amount of resources used by the subscriber from the subscriber's account, and return an answer message (7,11) to the IN service (1,14) using said on-line charging protocol (3,18), wherein the answer message (7,11 )comprises the    accumulated amount of resources used for the usage of said service.<br>
3.	The charging system as claimed in plaims 1 or 2, wherein the said first charging<br>
request message comprises subscriber idetitification and a value of the amount of<br>
resources requested.<br>
4.	The charging system as claimed  in any one of claims 1 to 3, wherein the said first charging request message comprises the allowed duration for the consuming of the reserved resources.<br>
5.	The charging system as claimed in any one of claims 1 to 4, wherein the first charging request message expresses the requested amount of resources as a monetary value, and that the charging answer message expresses the reserved monetary amount as a monetary value.<br>
6.	The charging system as claimed in any one of claims 1 to 4, wherein the<br>
first charging request message expresses the requested value as a number of service<br>
events, the charging server (2) is adapted to rate the service events, and the charging<br>
answer message expresses the reserved monetary amount as a number of reserved service<br><br>
events.<br>
7.	The charging system as claimed in any one of claims 1 to 4, wherein the first charging request message expresses the requested value as a length of service time, the charging server (2) is adapted to rate {he service events, and the charging answer message expresses the reserved monetary amount as a length of reserved service time.<br>
8.	The charging system as claimed in any one of claims 1 to 4, wherein the first charging request message expresses the requested value as a volume for data transfer, the charging server (2) is adapted to rate the service events, and the charging answer message expresses the reserved monetary amount as a reserved volume for data transfer.<br>
9.	The charging system as claimed in claims 1 to 8, wherein the IN service (1)<br>
is a service/network element (14) and, that the charging server (2) is a credit control<br>
server (17), wherein and the credit control server (17) performs the credit check and the<br>
pre-reservation.<br>
10.	The charging system as claimed in claim 9, wherein the credit control server (17) performs the rating of the service.<br>
11.	The charging system as claimed in any one of claims 1 to 10, wherein the online charging protocol (3) is based on the Diameter protocol, the Parlay protocol, the ss7 protocol, or the INAP CS1 protocol.<br><br>
12.	The charging system as claimed in any one of claims 1 to 11, wherein the IN<br>
service is a Premium Rate call, Mobile Virtual Private Network (VPN) call. Prepaid<br>
charging or Personal Number.<br>
13.	The charging system as claimed in any one of claims 1 to 12, wherein the<br>
charging server (2) and the credit control server (17) are adapted to deduct the account<br>
based on the reserved amount of resources.<br>
14.	The charging system as claimed in any one of claim 13, wherein the charging<br>
request message (12) expresses a request for the price of a service event(s), and that the<br>
charging answer message (13) expresses only price indications of the requested service<br>
event(s).<br>
15.	The charging system as claimed in any one of claim 1 to 14, wherein the<br>
charging server (2) is adapted to rate the service and return an answer message (13) to the<br>
IN service (1) using an on-line charging protocol (3) , (18), said answer message (13)<br>
including the price indications of the requested service event (s).<br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Nzg4LWRlbG5wLTIwMDQtYWJzdHJhY3QucGRm" target="_blank" style="word-wrap:break-word;">788-delnp-2004-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Nzg4LWRlbG5wLTIwMDQtY2xhaW1zLnBkZg==" target="_blank" style="word-wrap:break-word;">788-delnp-2004-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Nzg4LWRlbG5wLTIwMDQtY29tcGxldGUgc3BlY2lmaWNhdGlvbiAoYXMgZmlsZXMpLnBkZg==" target="_blank" style="word-wrap:break-word;">788-delnp-2004-complete specification (as files).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Nzg4LWRlbG5wLTIwMDQtY29tcGxldGUgc3BlY2lmaWNhdGlvbiAoZ3JhbnRlZCkucGRm" target="_blank" style="word-wrap:break-word;">788-delnp-2004-complete specification (granted).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Nzg4LWRlbG5wLTIwMDQtY29ycmVzcG9uZGVuY2Utb3RoZXJzLnBkZg==" target="_blank" style="word-wrap:break-word;">788-delnp-2004-correspondence-others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Nzg4LWRlbG5wLTIwMDQtY29ycmVzcG9uZGVuY2UtcG8ucGRm" target="_blank" style="word-wrap:break-word;">788-delnp-2004-correspondence-po.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Nzg4LWRlbG5wLTIwMDQtZGVzY3JpcHRpb24gKGNvbXBsZXRlKS5wZGY=" target="_blank" style="word-wrap:break-word;">788-delnp-2004-description (complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Nzg4LWRlbG5wLTIwMDQtZHJhd2luZ3MucGRm" target="_blank" style="word-wrap:break-word;">788-delnp-2004-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Nzg4LWRlbG5wLTIwMDQtZm9ybS0xLnBkZg==" target="_blank" style="word-wrap:break-word;">788-delnp-2004-form-1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Nzg4LWRlbG5wLTIwMDQtZm9ybS0xMy5wZGY=" target="_blank" style="word-wrap:break-word;">788-delnp-2004-form-13.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Nzg4LWRlbG5wLTIwMDQtZm9ybS0xOC5wZGY=" target="_blank" style="word-wrap:break-word;">788-delnp-2004-form-18.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Nzg4LWRlbG5wLTIwMDQtZm9ybS0yLnBkZg==" target="_blank" style="word-wrap:break-word;">788-delnp-2004-form-2.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Nzg4LWRlbG5wLTIwMDQtZm9ybS0zLnBkZg==" target="_blank" style="word-wrap:break-word;">788-delnp-2004-form-3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Nzg4LWRlbG5wLTIwMDQtZm9ybS01LnBkZg==" target="_blank" style="word-wrap:break-word;">788-delnp-2004-form-5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Nzg4LWRlbG5wLTIwMDQtZ3BhLnBkZg==" target="_blank" style="word-wrap:break-word;">788-delnp-2004-gpa.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Nzg4LWRlbG5wLTIwMDQtcGN0LTIxMC5wZGY=" target="_blank" style="word-wrap:break-word;">788-delnp-2004-pct-210.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Nzg4LWRlbG5wLTIwMDQtcGN0LTMwMS5wZGY=" target="_blank" style="word-wrap:break-word;">788-delnp-2004-pct-301.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Nzg4LWRlbG5wLTIwMDQtcGN0LTMwNC5wZGY=" target="_blank" style="word-wrap:break-word;">788-delnp-2004-pct-304.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Nzg4LWRlbG5wLTIwMDQtcGN0LTQwOS5wZGY=" target="_blank" style="word-wrap:break-word;">788-delnp-2004-pct-409.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Nzg4LWRlbG5wLTIwMDQtcGV0aXRpb24tMTM3LnBkZg==" target="_blank" style="word-wrap:break-word;">788-delnp-2004-petition-137.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="256396-novel-heterobicyclic-derivatives-useful-as-inhibitors-of-liver-carnitine-palmitoyl-transferase.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="256398-method-for-delivering-data-in-hybrid-automatic-repeat-request-harq-based-advanced-communication-systems.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>256397</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>788/DELNP/2004</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>24/2013</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>14-Jun-2013</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>11-Jun-2013</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>26-Mar-2004</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>TELEFONAKTIEBOLAGET LM ERICSSON( PUBL)</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>S-164 83 STOCKHOLM, SWEDEN.</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>HAKALA, HARRI</td>
											<td>ROSSINKATU 2 F 7, FIN-20380 TURKU, FINLAND.</td>
										</tr>
										<tr>
											<td>2</td>
											<td>HALKOSAARI, MATTI</td>
											<td>MURKIONKATU 3 B 29, FIN-20740 TURKU, FINLAND.</td>
										</tr>
										<tr>
											<td>3</td>
											<td>TORNK VIST, ROBERT</td>
											<td>BJORNBARSSTIGEN 28, S-374 40 KARLSHAMN, SWEDEN.</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04Q 3/00</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/SE02/01840</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2002-10-08</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>2001/2023</td>
									<td>2001-10-18</td>
								    <td>Finland</td>
								</tr>
								<tr>
									<td>2</td>
									<td>2001/1955</td>
									<td>2001-10-08</td>
								    <td>Finland</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/256397-a-charging-system-for-charging-service-usage-in-a-communication-network by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 09:35:57 GMT -->
</html>
