<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/251217-a-method-and-device-for-determining-a-timing-offset-of-a-channel-relative-to-a-reference-channel by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 14:00:53 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 251217:A METHOD AND DEVICE FOR DETERMINING A TIMING OFFSET OF A CHANNEL RELATIVE TO A REFERENCE CHANNEL</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">A METHOD AND DEVICE FOR DETERMINING A TIMING OFFSET OF A CHANNEL RELATIVE TO A REFERENCE CHANNEL</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>1. A method in a wireless device of determining a timing offset of a channel relative to a reference channel, the method comprising: detennining an integer number of full frames offsetting the channel from the reference channel; detennining a fi-actional number, less than one, of full frames offsetting the channel fi-om the reference channel such that the timing offset may be determined from the sum of the integer number of full frames with the fractional number of full frames; re-determining the fi-actional number of full frames; and updating to a memory the integer number of full frames based, at least in part, on the fi-actional number of full firames.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>WO 03/088527	PCT/US03/11477<br>
1<br>
RADIO INTERFACE SYNCHRONIZATION<br>
Field<br>
[0001] The invention relates to wireless communication. More particularly, the invention relates to radio interface synchronization in an asynchronous wireless communication device.<br>
Background and Related Art<br>
[0002] Wireless phones have enabled mobile Communications over wide geographic areas. A wireless phone is not constrained to any particular geographic location, but is only limited by the coverage areas supported by a compatible communication system. Many different systems have been established for wireless Communications. Wireless phone systems may be based on code division multiple access (CDMA), time division multiple access (TDMA), orthogonal frequency division multiplexing (OFDM), frequency modulation (Flvl), or some other modulation techniques. Some communication systems and some wireless phones are able to operate using one or more of the modulation techniques. Each of the different communication systems may operate in accordance with one or more distinct communication standards.<br>
[0003] A wireless phone may be configured to operate in a Universal Mobile Telecommunications System (UMTS). The UMTS may be a third generation or higher wireless communication system such as a third generation CDMA wireless communication system or a Global System for Mobile Communications (GSM) wireless communication system. There may be one or more specifications for a UMTS.<br>
[0004] For example, a wireless communication device may be designed to support one or more GSM standards, such as the standards offered by the "3rd Generation Partnership Project (3GPP)" and embodied in the 3GPP specification where the term "3GPP specification" refers to all GSM specifications including those covering GSM Evolution (GSM EDGE), Global Packet Radio Service (GPRS), and GSM 3G, including implementations for a Universal Mobile Telecommunications System (UMTS). The 3GPP specification is provided in a set of documents provided by Technical Specification Groups (TSG) including specifications in series 01 through 13 for GSM only prior to Rel-<br><br>
WO 03/088527	PCT/US03/n477<br>
,2<br>
4, series 21 through 35 for 3G/GSM R99 and later, and series 41 through 52 for GSM only for Rel-4 and later.<br>
[0005] Nearly all of the wireless communication systems support some type of handoff or hand over. In a handoff, a mobile wireless terminal, also refened to as user equipment (UE), user terminal, mobile device, mobile unit, mobile terminal, wireless device, or wireless phone, senses that it is nearing the edge of a coverage ai-ea supported by a first transceiver. However, there may be a second transceiver that can provide a higher quality of service fur coxruimiiications with the user equipment. Thus, the communication system hands off the communication with the user equipment from the fï rst transceiver to the second transceiver.<br>
[0006] Hand off, or hand over as it is commonly referred, may be accomplished in a variety of ways. One method of handoff is termed a "hard handoff'. In a hard handoff, the communication link between the first transceiver and the user equipment is broken before the communication link is established between the second transceiver and the user equipment. Typically, the period in which the user equipment has no communication link to the system is short enough to be not noticeable by a user during a call.<br>
[0007] A second method of handoff is termed a "soft handoff'. In a soft handoff, or soft hand over, the user equipment establishes communication with the second transceiver before the communication link to the first transceiver is broken. Thus, in a soft hand over the user equipment communicates simultaneously with two transceivers. The transceivers involved in the soft hand over transmit duplicate information to the user equipment. For example, during a voice call, the two transceivers transmit identical voice call information to the user equipment. The user equipment may be able to combine the signals from the two transceivers to create a single higher quality signal because identical information is being sent from two transceivers.<br>
[0008] A third method of handoffs is termed "softer handoff'. Softer handoff, or softer hand over, 'refers to a soft hand over between multiple sectors of a single transceiver. In softer hand over, a single transceiver may provide a coverage area using multiple antennas. Each of the antennas may provide coverage for a sector within the aggregate coverage area supported by the single transceiver.    A softer hand over<br><br>
WO 03/088527	PCT/US03/11477<br>
3<br>
essentially operates identically to a soft hand over, except that the hand over is between different sectors and net different transceivers.<br>
[0009] User equipment typically continually searches for and synchronizes with signals from neighboring transceivers such that when a hand over is initiated, the user equipment is able to communicate with the new transceiver. Additionally, the user equipment may assist in the process of determining when a soft hand over should be iuiüated and the tvansceWer to which the coinmünication \\vk. should be handed. Thus, the user equipment not only nccds to continually search for and synchronize with neighboring transceivers, the user equipment also needs to continually evaluate the signals from neighboring transceivers in order to assist in determining whether a hand over should occur.<br>
[0010] Thus, during a soft hand over and a softer hand over the user equipment simultaneously communicates with two different signal sources. Each of the signal sources transmits some information that may be identical. The user equipment may combine the two signals to create a higher quality combined signal. However, the two transmitted signals originate from two different sources. The two signal sources may be different antennas or different transceivers. The two signal sources may not be identically synchronized. That is, a first transceiver may transmit a signal to the user equipment slightly ahead of the time the second transceiver transmits the identical signal. Additionally, the propagation paths from the first transceiver to the user equipment are likely different from the propagation paths from the second transceiver to the user equipment. Thus, even if the signals from the first transceiver were synchronized with the signals from the second transceiver at the time of transmission, the signals may still arrive at the user equipment at different times due to path differences.<br>
[0011] Thus, what is needed is a manner of determining the timing offset of the signals received from the second transceiver relative to the signals received from the first transceiver. In asynchronous wireless communication systems, such as systems covered under the UMTS Terrestrial Radio Access Network (UTRAN) or 3GPP specifications, the transmitted signals are configured as frames. Each of the frames has a corresponding frame number. It is desirable to unambiguously determine frame numbers<br><br>
WO 03/088527	PCT/US03/11477<br>
4<br>
of channels that are being set up for a soft hand over. It is also desirable to determine a time offset of the signals from sources that may be used in a soft hand over.<br>
SUMMARY<br>
[0012] The present disclosure describes techniques for detemiining frame offsets. An offset determination is performed as a complete determination foliowed by a partial re-determination and update. In this manner, a complete determination does not need to be performed each lime a value of tlie frame offset is dcsired.<br>
[0013] In one embodiment of the invention, an offset of a channel relative to a reference channel is determined. A complete frame offset determination is initially performed. The complete frame offset determination includes a determination of an offset of an integer number of full frames and a determination of an offset of a fractional number of full frames. The fractional number of frames typically defines a fraction less than one of a full frame duration. The total offset may be characterized as the sum of the full frame offset with the fractional frame offset. Once the complete offset determination has been completed, a periodic re-deteiinination of the fractional frame offset may be performed. Then, the full frame offset may be updated based at least in part on the re-determined fractional frame offset.<br>
[0014] The full frame offset may be updated in this manner so long as the last fractional frame offset re-determdnation has been performed recently. The decision to perform a re-determination of the fractional frame offset and an update of the full frame offset is determined, based in part, on the value of a timer. If the timer has expired, the re-determination of the fractional frame offset is not performed and a complete determination is performed. However, if the timer has not expired, the re-determination and update may be performed.<br><br>
WO 03/088527	PCT/USÜ3/11477<br>
5<br>
BRIEF DESCRIPTION OF THE DRAWINGS<br>
[0015] The features, objects, and advantages of the invention wil! become more apparent from the detailed description set forth below when taken in conjunction with the drawings in which like reference characters identify conespondingly throughout and wherein:<br>
[0016] Figure 1 is a functional block diagram of an embodiment showing a user equipment communicating with muitiple base transceiver stations.<br>
[0017] Figure 2 is a fiowchait showing an embodiment for determining and updating frame offsets in UMTS user equipment for neighboring cell transmissions.<br>
[0018] Figure 3 is a flowchart showing an embodiment for determining a frame offset in UMTS user equipment.<br>
[0019] Figure 4 is a flowchart of an embodiment of determining uplink DPCH connection frame numbers using a k-bit counter.<br>
[0020] Figure 5 is a flowchart of an embodiment of deteniiining unambiguous connection frame numbers.<br>
[0021] Figure 6 is a timing diagram showing derivation of frame numbers for a variety of different offsets.<br>
[0022] Figure 7 is a flowchart showing an example of updating Tm and OFF parameters after initial determination.<br>
[0023] Figure 8 is a functional block diagram of an embodiment showing a user equipment configured to determine the offset timing of frames relative to an aligned channel.<br>
DETAILED DESCRIPTION<br>
[0024] Various techniques for determining offsets of multiple channels are disclosed herein. These techniques allow for determining a timing offset of a channel relative to a reference channel. In one embodiment, user equipment is configured to , determine frame offset parameters between signals from a serving transmitter with those of a neighboring transmitter. The user equipment is configured to determine frame offset parameters, such as OFF and Tm, used in association with soft handovers between base stations in an asynchronous wireless communication system.<br><br>
WO 03/088527	PCT/US03/11477<br>
6<br>
[0025] The frame offset may be denoted in terms of a number of full frames offset and fractional frames offset. Once an initial determination of the offseis has been performed, the user equipment may be configured to update the offset parameters to re-determine the fractional frame offset and update the number of full frames offset based in part on the value of the re-determined fractional frame offset. The full frames offset is determined to be some positive integer number of frames and the fractional offset is a fraction of a full frame, when added to the full frame offset, fully determines the frame offset.<br>
[0026] As part of the frame offset determination, an unambiguous determination of frame numbers may be performed. Various nevel techniques for unambiguously determining the frame numbering associated with aligned channels and channels to be set up are also disclosed herein. These techniques facilitate the unambiguous determinations of CFN for multiple channels using simple counters.<br>
[0027] Figure 1 shows a communication system 100 configured as a wireless communication system. The wireless communication system may be a UMTS wireless phone system, such as a UMTS Terrestrial Radio Access Network (UTRAN). The communication system 100 has one or more base stations, 110a and 110b, here shown as antenna systems typical of a wireless phone system. Although only two base stations UOa, 110b are shown, it is understood that the communication system 100 may support any number of base stations. Each base station 110a, 110b provides coverage for a corresponding cell 120a, 120b. The coverage areas or cells 120a, 120b supported by the two base stations llOa, 110b are shown to be overlapping. Hovvever, it is understood that where more than one base station is supported in the communication system 100, the cells supported by each base station may or may not overlap. Additionally, the cells of any three or more base stations may have some common coverage areas or may be mutually exclusive.<br>
[0028] Because the operation of the communication system 100 within each cell is substantially identical, the discussion will focus on the operation within a single cell. A base station 110a supports coverage over a corresponding cell 120a. There may be one or more Mobile Stations (MS) 130a, 130b, within the cell 120a simultaneously communicating with the base station 110a.   The MS 130a, 130b are shown as portable<br><br>
WO 03/088527	PCT/US03/11477<br>
7<br>
phones but it is understood that the MS 130a, 130b may be portable phones, mobile phones operating within vehicles, fixed position phones, wireless local loop phones, or any other communication device. The base station UOa coinmunicates to each MS 130a, 130b, over a down link and each MS 130a, 130b communicates to the base station 110a over an up link. The base station UOa also communicates with a Base Station Controller (BSC) 150 that provides the communication link to a Public Switched Telephone Network (PSTN) not shown.<br>
[0029] A MS 130c in a shared coverage area may be in communication with two BS llOa and 110b in the case of a soft hand over. The MS 130c may be travelling away from the coverage area 120a supported by the first BS 110a and into the coverage area 120b supported by the second BS 110b. The communication system 100 and the MS 130c need to hand off the communication from the first BS UOa to the second BS UOb in order for the MS 130c to maintain a communication link. The MS 130c needs to be able to synchronize its communication with the second BS 110b in order to soft combine the signals and eventually hand off.<br>
[0030] In a UMTS system such as a Frequency Division Duplex (FDD) Wideband CDMA (W-CDMA) system, the down link and up link are defined as a coUection of logical channels mapped to a set of physical channels. For example, a Downlink Dedicated Physical Channel (DDPCH) is configured as a sequential number of frames of information. Each frame is 10 mS in duration and is divided into sixteen slots. Each slot in the DDPCH carries information corresponding to a Dedicated Physical Control Channel (DPCCH) and a Dedicated Physical Data Channel (DPDCH). Another channel known as the Common Control Physical Channel (CCPCHQ is configured as a Primary CCPCH (PCCPCH), one or more Secondary CCPCH (S-CCPGH) and a Physical Random Access Channel (PRACH).<br>
[0031] The logical channels that are mapped to dedicated channels include a Broadcast Control Channel (BCCH) that is used to broadcast system control information such as the spreading code used within a cell. A logical channel that is mapped to a common channel includes the Broadcast Channel (BCH), which carries system and cell specific information. Such cel] specific information may include available codes within the cell.<br><br>
WO 03/088527	PCT/US03/11477<br>
8<br>
[0032] Mobile equipment, such as user equipment or a user device, searches the common channels of available base stations in order to set up Communications with a particular base station. A mobile device initially uses the primary synchronization code of a Sync Channel (SCH) in order to acquire slot synchronization to a cell. Then the mobile device uses a secondary sjoichronization code from the SCH to find frame synchronization and to identify the code group of the cell. Then, the mobile device extracts the primary scrambling code used by the cell from the Common Pi lot Channel (CPICH). Afler cxtracting the primary scrambling code, the mobile device detects the Primary Common Control Physical Channel (P-CCPCH). Additionally, the Broadcast Channel Information can be read by the mobile device.<br>
[0033] The mobile device uses the Information on the Broadcast Channel (BCH) to set up a Downlink Dedicated Physical Channel (DL DPCH) so that it may communicate over a logical Dedicated Channel (DCH), which carries data and control Information reJated to hand offs intended for the specific mobile device.<br>
[0034] During a call, a mobile device monitors the signals from other cells. Information relating to the monitoring is related back to the UTRAN in order to assist in a soft hand off. For example, a mobile device performs a cell search for neighboring cells. The mobile device estimates the timing offset between a dedicated downlink channel used in the current communication and a Common Control Physical Channel (CCPCH) of the neighboring cell.<br>
[0035] The mobile device may communicate the value of the timing offset to the UTRAN, for example to the neighboring base station. The UTRAN then adjusts the timing of the downlink dedicated channel of neighboring base station to minimize the offset of frames transmitted by the neighboring base station. Radio interface synchronization is the term used to refer to the timing of the radio frame transmission.<br>
[0036] For example, the neighboring base station may adjust the Dedicated Physical Channel (DPCH) frames so that frames transmitted by both the original base station and the neighboring base station arrive nearly simultaneously at the mobile device. The near simultaneous reception of frames from the two base stations allows the mobile device to perform soft combining during soft hand off without the need for an extremely large buffer to compensate for the time offset between the two signals.<br><br>
WO 03/088527	PCT/US()3/11477<br>
9<br>
[0037] However, the neighboring base station typically adjusts its frame timing in steps of 256 chips in order to preserve downlink transmit orthogonality of the base stations. Furthermore the DPCH frames may be offset relative to the P-CCPCH frames from the same cell. The DPCH frame offset may be anywhere from zero to 38144 chips, typically in steps of 256 chips. Thus the frame offset, measured in increments of 256 chips, may vary from zero to 149. Additionally, there may be differences in multipath or propagation paths between the two base stations to the mobile device. These differences in the propagation from base station to mobile device cnntribute to the inability of frames transmitted by two base stations to simultaneously arrive at the mobile device. Thus, even when two base stations align their transnoissions during a soft hand over, there may still be a time offset between the frames transmitted by the two base stations.<br>
[0038] The UMTS specifications, such as 3GPP TS 25.402 titled "SYNCHRONISATION ESf UTRAN STAGE 2", describe various parameters that are to be determined and which may be reported to the UTRAN in order to achieve and maintain synchronization between base stations. One such parameter determined by the mobile device is "OFF". Another parameter that is determined by the mobile device is 'Tm".<br>
[0039] OFF is a parameter that represents the integral frame offset between a frame of a Dedicated Physical Channel (DPCH) from the current base station and the corresponding frame of the P-CCPCH from a neighboring base station. The OFF parameter has a resolution of one frame and has a range of zero to 255 frames. OFF may be determined by selecting a time instant for which a frame number, N, from a neighboring base station begins. A second time instant represents the next frame border of DL DPCH from the current base station. The difference between the frame numbers at the two time instances modulo 256 frames equals OFF.<br>
[0040] TiTi is a parameter that represents the sub-frame offset remaining when the integral frame offset (or OFF) is subtracted from the total offset between a frame of a Dedicated Physical Channel (DPCH) from the current base station and the corresponding frame of the P-CCPCH from a neighboring base station. The Tm parameter has a resolution of one chip and a range of from zero to 38399 chips. That is, Tm is able to express any chip offset up to a full frame. The Tm parameter may be used to indicate the<br><br>
WO 03/088527	PCT/US03/n477<br>
10<br>
frame misalignment in chips, moduio one frame of chips, between the same channek from two different base stations. The Tm parameter, for example, may be used to represent a portion of the time difference between the Primary Common Control Physical Channel (P-CCPCH) from two base stations. Tm may be assumed to be zero for a first P-CCPCH used as a reference channel. Tm may then be determined to be the time difference between the P-CCPCH of a second base station and the reference channel. Tm may be determined using the same two time instances used for the determination of OFF. A first time instant occurs whcrc a frame number, N, from a neighboring base station starts. A second time instant occurs at the next frame border of DL DPCH from a current base station. The time from the first time instant to the second time instant, in terms of chips, represents Tm.<br>
[0041] Thus, in one embodiment of the invention, the mobile device communicating with a first base station constantly searches the signals from neighboring base stations in order to monitor the signal quality of the base stations. The mobile device may monitor the received power from the neighboring base stations and compare them to a predetermined threshold. The mobile device may more closely monitor and report parameters associated with the base stations for which the received power exceeds the predetermined threshold. The mobile device may report timing parameters such as OFF and Tm back to the UTRAN in order to assist in the hand off from the first base station to a neighboring base station.<br>
[0042] The OFF and Tm values are used by the UTRAN during a soft hand over to Schedule the frames on the neighboring DPCH. The frames are scheduled to arrive temporally coincident at the mobile device. However, multipath, obstructions, and other slow and fast fading contributors may cause the signals from neighboring base stations to rapidly change the signal power received at the mobile device. The rapid change in received signal power may cause the signal power from a neighboring base station to exceed and then fall below the monitoring threshold.<br>
[0043] The computation of the timing, parameters OFF and Tm is typically initially determined when a new cell power exceeds the threshold. However, the initial determination of the timing parameters is time and resource intensive. In certain urban environments the pilot channel densities may be high, thereby creating multiple base<br><br>
WO 03/088527	PCT/US03/11477<br>
u<br>
stations for which the timing parameters need to be determined. Recalculating the timing parameters for base stations that rapidly fall below and exceed the threshold consumes more processing resources than does monitoring the timing parameters for a base station continuously exceeding the threshold. Thus, the mobile device is configured to reduce the processing requirements for determining and monitoring the OPT and Tm parameters needed for a soft hand off.<br>
[0044] Figure 2 shows a flovvchart of an embodiment of a process 200 of determining OFr and Tin paiarneters. The user cquipment executes process 200 to determine the OFF and Tm parameters when a signal from a neighboring base station initially èxceeds a predetermined threshold. Then, the Tm parameters are periodically redetermined and the OFF parameter updated based on the value of the redetermined Tm paiameter. Although Figure 2 is described with respect to the detemiination of the parameters for a single neighboring base station, the processes shown in Figure 2 and the accompanying figures, and the apparatus performing these processes may perform some or all of the methods for applicable neighboring base station signals. The processes may be performed serially, in parallel, or a combination of serial and parallel operation for the various base station signals. Additionally, where a base station provides sectorized coverage, the processes may be applied to signals from each of the applicable sectors.<br>
[0045] The user equipment initiates the method 200 by monitoring the received power of signals from neighboring base stations. At block 210, the user equipment, in which the method 200 is mnning, determines the received power of a signal transmitted by a neighboring base station. The user equipment may determine the power of the received signal for example, by determining a received signal strength indication. If the signal from a neighboring cell is greater than a predetermined threshold, the method 200 proceeds to block 220. However, if there are no neighboring base station transmissions that exceed the predetermined threshold, the method 200 loops back to block 210 where additional received signals are examined to see if they exceed the predetermined threshold. Thus, user equipment performing the method 200 may be configured to sequentially or simultaneously monitor multiple neighboring base station transmissions and determine the frame offset OFF and Tm parameters for all, or a subset<br><br>
WO 03/088527	PCT/IJS03/11477<br>
.    12<br>
of all, the neighboring base stations for which the received signal strength exceeds a predetermined threshold.<br>
[0046] At block 220, the user equipment executing the method perfomis full frame offset determination for the neighboring cell whose received signal exceeds the predetermined threshold. The user equipment then determines the OFF and Tm parameters. The determination of these parameters will be discussed in more detail in conjunction with the discussion of Figure 3. Once the OFF and Tm parameters have been determined,"the user equipment may report these values to a base station, for example, in a measurement report.<br>
[0047] The user equipment may periodically update the frame offset parameters because a number of factors may contribute to a change in the offset parameters. These factors include, but are not limited to, changes in the position of the user equipment, changes in multipaths, or changes in path loss. The user equipment may more accurately assist in a soft hand over by accurately measuring and reporting the frame offset parameters.<br>
[0048] The user equipment proceeds from block 220 to block 230 of the method 20O according to a predetermined update schedule. The predetermined update Schedule may correspond to a predetermined period of time. In block 230, the user equipment performing the method 200 next determines if the received signal from the neighboring cell still exceeds the predetermined threshold. If the received signal from the neighboring cell no longer exceeds the predetermined threshold, the method proceeds to block 234 where the user equipment is instructed to start, or continue to increment, a timer. If the timer has not previously been starled, block 234 instructs the user equipment to start the timer. However, if the user equipment has previously started the timer and the timer is currently running, block 234 instructs the user equipment to allow the timer to continue to increment.<br>
[0049] The time accumulated on the timer is used by the user equipment executing the method 200 as a measure of the relative accuracy of the previous frame offset parameter measurements. Because the frame offset parameters do not typically vary suddenly, or in large increments, a previous measure of the offset values may be assumed   to   be  relatively  accurate,   provided  a  short  time  has  elapsed  since   the<br><br>
WO 03/088527	PCT/US03/11477<br>
13<br>
determination of the parameters. The previous determination of the frame offset parameters can be assumed to become more inaccurate as more time elapses since the parameter determination. Thus, there may be a point of elapsed time for which previously determined frame offset parameters may no longer be rehable. Prior to this elapsed time previously determined frame offset parameters may be assumed to be reliable and may be used as the basis for future updates of those parameters.<br>
[0050] After initializing the timer in block 234, the user equipment executing the m.ethod 200 returns to block 230 vvhere the reccived power from the ïieighboring cell is again compared against the predetermined threshold. After initializing the timer in block 234 the user equipment does not update the OFF and Tm frame offset parameters because the received power from the neighboring cell was less than the predetermined threshold.<br>
[0051] Retuming to block 230, if the received power from the neighboring cell is greater than the predetermined threshold, the user equipment proceeds to block 240 of the method 200. In block 240, the user equipment is directed to examine the value of the timer to see if a timeout has occurred. That is, the user equipment determines if the value on the timer exceeds a predetermined timeout value. If a timeout has occurred, the previously determined frame offset parameters are assumed to be unreliable. The user equipment executing the method 200 proceeds to block 242 where the timer is stopped and reset. The method 200 then loops back to block 220 where the user equipment performs a fuU determination of the frame offset parameters.<br>
[0052] Retuming to block 240, if a timeout has not occurred the user equipment proceeds to block 244 where the timer is stopped and reset. The frame offset parameters will be updated before the previously determined values are assumejd to have become unreliable. Thus, the updated frame offset parameters can be assumed to be accurate at the time of the update. After the user equipment resets the timer in block 244, the method proceeds to block 250 where the user equipment updates the frame offset parameters.<br>
[0053] In block 250, the Tm parameter is updated using portions of the method detailed in Figure 3 and the OFF parameter is updated based on the value of the Tm parameter. Because the Tm parameter represents a sub-frame offset in increments of<br><br>
WO 03/088527	PCT/US03/n477<br>
14<br>
chips, the OFF value may be updated by determining a change in the Tm parameter. If the updated Tm parameter may be used to indicate a frame boundary has been crossed, thus indicating that the OFF parameter should be updated. A difference in Tm values is compared against a predetermined threshold. If an updated Tm value is different from a previously determined Tm value by some predetermined amount, a frame crossover has occurred. In one example, if the updated Tm value is greater than the previous Tm value, the OFF parameter is decreased by one. Altemalively, if the updated Tm parameter is less than or equai to the previous Tni parameter, the-€)FF parameter is increased by one. !n this manner, the OFF parameter may be updated with less processing load. Following the update of the Tm and OFF parameters, the method 200 returns to block 230 and the user equipment again compares the received signal power against the predetermined threshold.<br>
[0054] A detailed flowchart of an embodiment of a method 220 for initially determining the OFF and Tm parameters is shown in Figure 3. The order of the operations performed in the method shown in Figure 3 is an example of one embodiment. The method may be performed using a different order in other embodiments. The particular order shown in Figure 3 is not a critical feature of the method.<br>
[0055] The user equipment executing the method 220 initially determines the downlink (DL) DPCH connection frame number (CFN) in block 310. The CFN that is to be determined coiresponds to a CFN of the serving DPCH, that is, the DPCH from the base station that the user equipment is currently associated. The user equipment initially acquires a communication channel by detecting the PCCPCH. The P-CCPCH carries System Frame Number (SFN) information that may be extracted by the user equipment. The user equipment may then establish a Connection Frame Number (CFN) based on the SFN in order to track the frames received from the particular base station. The CFN as used herein represents a parameter used locally within the user equipment to track received frames and does not represent a system wide parameter.<br>
[0056] The SFN broadcast in the P-CCPCH has a range of 0-4095 and increments with each received frame. The CFN generated within the user equipment is typically related to the SFN. The CFN has a range of 0-255 and increments with each received frame. Because the PCCPCH is used by the user equipment as a timing reference, the user equipment can determine a PCCPCH CFN corresponding to the SFN<br><br>
WO 03/088527	PCT/US03/1I477<br>
15<br>
using the simple formula: P-CCPCH CFN = SFN mod 256, where 'mod 256' indicates the calculation is performed modulo 256.<br>
[0057] The DL DPCH may be offset from the P-CCPCH and the offset is typically in increments of 256 chips. There may be many methods of determining an unambiguous Cn<i for the dl dpcch. one embodiment of a cfn determination method is discussed below in conjunction v figure></i>
[0058] Once the user equipment executing the method 220 has determined the CFN for the DL DPCI.I associatcd with the PCCPCK, the user equipment prcceeds to block 320 where the frame timing of the neighboring PCCPCH is detennined. The frame timing for the neighboring PCCPCH may be detemiined using a chip level counter that resets to zero at each PCCPCH frame boundary. At a particular instant, the counter value is determined and compared against similar counters used to track other channels. Then, the timing of the PCCPCH relative to the other tracked channels may be determined.<br>
[0059] Although a chip counter may be used that exactly counts exactly the number of chips in a frame, the counter may have other configurations. For example, the counter may operate at a multiple of the chip rate, and may count to a different multiple number of frames prior to resetting. The multiple of the chip rate is typically an integer as is the multiple of the number of frames. However, as noted earlier, the chip rate multipher may not be the same as the frame number multiplier. Thus, a chip level counter that counts 38400mn times in a single frame may be used, where m and n typically represent integers that may or may not be the same number. A non-integer factor may be used for m or n, however, this creates a greater burden on the processor because a fractional count at the end of each frame or a fractional chip offset at each count may need to be determined.<br>
[0060] Another chip level counter that may be configured similar to the PCCPCH chip level counter can be used to determine the frame timing of the DL DPCH or the UL DPCH. The UL DPCH frame timing is determined in block 330. It may be preferable to track the UL DPCH instead of the DL DPCH frame timing. The UL DPCH generated within the user equipment may be used as a time reference and the timing of neighboring channels may be referenced to the UL DPCH. In this manner, when the user equipment hands off from one DL DPCH to another, the timing of the neighboring<br><br>
WO «3/088527	PCT/US«3/n477<br>
16<br>
channels do not all need to be re-determined. The timing of the UL DPCH varies slowly, whereas the DL DPCH timing may take an incremental jump during a hand off. Thus, use of the UL DPCH as a fundamental timing reference for hand off eliminates discontinuous timing jumps that may occur during hand off. It is to be noted since OFF and Tm are parameters that are referred to the downlink, the actual timing reference used is really that of a "fictitious" downlink channel, called the Nomina] Downlink Dedicated Physical Channel (ND DPCH), whose frame timing is defined to be always a constant 1024 chips ahead of the UL DPCH iVames. This constant (1024 chips) is defined as TQ. From the previous example, if the frame timing of the UL DPCH is given by the UL DPCH chip-level counter as a count of NUL-DPCH, the extrapolated chip-level count corresponding to the frame timing of the ND DPCH will be NUL-DPCH plus To (mod 38400).<br>
[0061] In addition to the frame timing Information, the user equipment determines frame number information. As previously indicated, in block 310, the user equipment determines the unambiguous CFN of the DL DPCH. The UL DPCH CFN is determined on block 340. The UL DPCH frame timing is related to the DL DPCH frame timing for the serving cell. After initial setup of a DL DPCH, the UL DPCH frame boundary is determined to occur a constant time To after the arrival of the DL DPCH frame. Thus, the UL DPCH CFN can be initially determined based on the previously determined DL DPCH CFN. A frame level counter may be used to track the UL DPCH CFN once the initial frame timing has been determined. Although the CFN counter operates modulo 256, a counter having eight or more bits is not required for the UL DPCH CFN counter. A counter having less than eight bits may be used to track the UL DPCH CFN, yet an unambiguous CFN may be determined. This method is detailed in Figure 4 with a corresponding description provided below.<br>
[0062] The user equipment executing the method 220, in block 350, determines the SFN of the neighbor PCCPCH. The SFN is broadcast on the P-CCPCH and the SFN may be determined directly by decoding the received neighboring P-CCPCH.<br>
[0063] The method 220 then proceeds to block 360 where the user equipment determines the CFN of the ND DPCH at the next frame boundary of the neighboring P-CCPCH. Recall that the CFN is a parameter used locally within the user equipment to track received frames.  The CFN for frames from the serving cell and neighboring cells<br><br>
WO 03/088527	PCT/US03/11477<br>
17<br>
will be the same at a single instant in time if the channels are temporally aligned. Typically, there is a time offset between the aniving frames, such that the CFN for frames from the serving cell are not identical to the CFN for frames from a neighboring cell that arrive at the same time.<br>
[0064] In one example, if the extrapolated count from the ND DPCH is less than that from the chip-level UL DPCH counter, then a frame roll-over has occurred on the ND DPCH hut not yet on the UL DPCH. In this case, the CFN of the ND DPCH extrapolated from that of the UL DPCH is one greater than the latter. Otherwise, the two CFNs are the same. Furthermore, if the count from the neighboring P-CCPCH chip level counter is greater than or equal to the extrapolated chip-level count of the ND DPCH (mod 3S400), then the CFN of the ND DPCH at the neighboring P-CCPCH next frame boundary is one greater than the extrapolated CFN of the ND DPCH. In this example, the P-CCPCH and ND DPCH chip level counters are normalized to count 38400 chips in a frame. However, the value of the chip level counters may be normalized to any number that represents one frame.<br>
[0065] Altematively, if the neighboring P-CCPCH chip level counter is less than extrapolated chip-level count of the ND DPCH (mod 38400), then the CFN of the ND DPCH at the neighboring P-CCPCH next frame bounadry is two greater than the extrapolated ND DPCH CIrN. Once the CFN value is determined, a frame level counter may be initialized to count the neighboring P-CCPCH CFN, incrementing at each frame boundary. Altematively, the value of a running counter that increments at each frame boundary may be correlated to the detennined CFN.<br>
[0066] The user equipment executing the method 220 then proceeds to block 370 where the OFF parameter is detennined. This value represents the offset in frames between frames from the serving cell and frames from the neighboring cell. OFT is determined to be the SFN minus CFN of the neighboring P-CCPCH modulo 256.<br>
[0067] The value of Tm is determined in block 380. Tm represents the fractional frame offset, in tenns of chips, between frames from the serving cell and frames from the neighboring cell. The value of Tm may be determined as the neighboring P-CCPCH chip level counter minus the extrapolated chip-level count for the ND DPCH. The chip level counters are typically normalized to count 38400 times within a frame.<br><br>
18<br>
although the values may be normalized to any number that provides a suitable level of accuracy. However, when the counters are normalized to 38400, the value for Tm is directiy determined in terms of chips, and the calculation of Tm is performed module 38400.<br>
[0068] Figure 4 shows a flow chart of an embodiment of a generalized method 340 of determining the UL DPCH CFN. Initially, the user equipment executing the method 340 begins 'm block 410 by determining a short UL DPCH count. This is performed by determining the valuc of the UL DPCH counter at substantially the same instant the DL DPCH counter value is determined. The value of the UL DPCH counter is referred to as the short UL DPCH count because typically, a counter having less than eight bits is used for the "count. However, counters having eight bits or more may be used for the UL DPCH counter. The value of such a counter will still be referred to as a short UL DPCH count even when the UL DPCH counter uses eight or more bits.<br>
[0069] The method 340 then proceeds to decision block 414 where the user equipment compaies the number of bits in the UL DPCH counter is to a predetennined value. The number of bits in the UL DPCH counter may be defmed to be 'k', where k may be any integer greater than, or equal to 1. Typically, k is chosen to be within the range of three to eight. In a particular embodiment, k may be chosen to be three, four, five, six, or seven. Thus, in the embodiment where k is equal to three, the UL DPCH counter is only able to count up to eight, from zero through seven, and thus the UL DPCH CFN typically cannot be determined directiy from the short UL DPCH count.<br>
[0070] If the number of bits, k, in the UL DPCH counter equals or exceeds eight, the CFN may be directiy read from the counter. In embodiments where the UL DPCH counter is configured for eight bits or more, the method 340 proceeds to block 460 where the UL DPCH CFN is directiy determined to be the lowest eight bits of the short UL DPCH count. Recall that the CFN count is a modulo 256 number. Therefore, an eight bit counter may directiy represent a CFN value. Significant bits from counters that are greater than the eight least significant bits (LSB) do not provide any additional Information relating to the CFN because the CIT^ value is modulo 256. Therefore, in this embodiment, only the eight LSBs are used to determine the CFN value when a counter having eight or more significant bits is used as the UL DPCH counter.   Because the<br><br>
WO 03/088527	PCT/US03/11477<br>
19<br>
lowest eight significant bits of the counter precisely determine the UL DPCH CFN, the method 340 proceeds to block 490 to indicate it is done.<br>
[0071] Retuming to decision block 414, if the number of bits used in the UL DPCH counter is less than eight, the user equipment executing the method 340 proceeds to decision block 420 to compare the DL DPCH counter value to the short UL DPCH count. In decision block 420, the value of the DL DPCH CFN modulo 2*^ is computed and compared to the value of the short UL DPCH count. Conceptually, this is equivalent to cornparing the value represented by the lowest k significant bits of the DL DPCH CFN counter to the short UL DPCH. If the user equipment in decision block 420 determines that the two values are the same, the user equipment proceeds to block 450 where the UL DPCH CFN is determined to be the same as the DL DPCH CFN. Altematively, if the lowest k bits of the DL DPCH counter are not the same as the k significant bits of the short UL DPCH, the method 340 proceeds to decision block 430.<br>
[0072] The user equipment in decision block 430, compares the value represented by the lowest k bits of the DL DPCH counter against the short UL DPCH to determine if the short UL DPCH count is less than the value represented by the lowest k bits of the DL DPCH counter. If the value represented by the lowest k bits of the DL DPCH counter is not less than the short UL DPCH the user equipment performing the method 340 proceeds to block 440 where the UL DPCH CFN is determined. In block 440, the UL DPCH CFN is determined to be equal to the DL DPCH counter value with the lowest k significant bits replaced by the k significant bits of the short UL DPCH. The user equipment proceeds from block 440 to block 490 to indicate it is done.<br>
[0073] Retuming to decision block 430, if it is detemiined that the short UL DPCH count is greater than the value represented by the lowest k bits of the DL DPCH counter, the user equipment proceeds to block 434 where the value of the 8-k most significant bits of the UL DPCH CFN are determined to be equal to one less than the value represented by the 8-k most significant bits of the DL DPCH CFN in a modulo [2'^" '^^] sense. This operation is typically performed modulo [2^^"'^] to correspond to the number of bits used in the counter. The user equipment proceeds to block 438 to determine the lowest k significant bits of the UL DPCH CFN. In block 438, the lowest k significant bits of the UL DPCH CFN are determined to be equal to the k bits of the short<br><br>
WO 03/088527	PCT/US03/11477<br>
20<br>
UL DPCH. From block 438, the user equipment performing the method 340 proceeds to block 490 to indicate it is done.<br>
[0074] Figure 5 shows a flowchart of an embodiment of a method of determining the unambiguous connection frame number (CPN) of the aligned channel anywhere within the designated configuration window of a setup channel. During initial setup of a DPCH or setup of a neighboring channel during a soft hand over, the frames being transmitted by the aligned channel may not coincide with the frames sent on the channel to be setup. The frames may be transmitted from a single base station, as in the case where the P-CCPCH is the aligned channel and the DPCH is the setup channel. Altematively, the frames niay be transmitted by different base stations, such as the case where the DPCH of a serving cell is the aligned channel and the P-CCPCH of a neighboring channel is the setup channel. Because the frames may not be aligned at the receiver, the CFN typically needs to be unambiguously determined in order to allow soft combining and reporting of the OFF and Tm parameters.<br>
[0075] A physical channel setup typically occurs on a frame boundary. Additionally, there is a non-zero processing time that occurs in detennining the setup parameters. To allow for the non-zero processing time, a setup window is defined as the period in which the setup parameters are determined. The end of the setup window occurs prior to the beginning of the next frame boundary to provide sufficiënt time for the non-zero processing. Additionally, the setup window begins slightly after the beginning frame boundary because of non-zero processing times and delays that may prevent actions directly at the frame boundary. The determination of unambiguous CFN typically occurs during a setup window to allow for processing to occur prior to the channel setup at the next frame boundary. Of course, setup may not occur on each frame boundary and the setup window may determine parameters that allow the channel to be setup on the next frame boundai^ or other frame boundaries in the occurring in the future.<br>
[0076] The user equipment executing the method 500 begins at block 510 where a pilot offset is determined. The pilot offset determined is the difference between the pilot of the aligned channel and the pilot of the setup channel. The offset is zero if the aligned and setup channels are transmitted from the same base station.<br><br>
WO 03/088527	PCT/US03/11477<br>
21<br>
[0077] The user equipment then proceeds to block 520 where the CFN of the aligned channel is determined. The CFN may be determined based on the information received from the aligned channel, as in the case of initial setup of the P-CCPCH, or may be detennined using a frame level counter that tracks the CFN of the aligned channel.<br>
[0078] The user equipment then proceeds to block 522 where the unsigned offset parameters na and ns are determined. The parameter na refers to a magnitude of a time offset of the aligned channel from a reference point. The parameter refers to the time offset of the setup channel from a reference point. The parameters may be received as messages or may be determined directly from the received frames. For example, if the setup channel is the DPCH of a serving cell, a time offset typically referred to as TDPCH is received by a mobile station in a setup message. Altematively, an offset, such as ns may be determined based on the pilot offset determined in block 510. A sign associated with the offsets may indicate whether the offset is leading or lagging the reference channel. A positivo sign indicates the channel is lagging the reference channel and a negative sign indicates the channel is leading the reference channel.<br>
[0079] The user equipment performing the method 500 then proceeds to block 530 where relative frame position of the aligned channel is determined. The relative frame position may be detennined using counters. A first counter may be a high resolution counter that typically is configured to provide at least chip level resolution. The high resolution counter may start from zero at each aligned channel frame boundary and count to some maximum number at the end of the aligned frame. For example, the high resolution counter may count at eight times the chip rate, start from zero at the aligned frame boundary, and count to 307,199 at the end of the aligned frame boundary before resetting to zero. Altematively, the high resolution counter may count at a rate that is two times, three times, four times, tem times, sixteen times, or any other multiple times the chip rate.<br>
[0080] A second counter may be a lower resolution counter that is used to track the CFN of the aligned channel. Once the CFN for the aligned channel is detennined, the second counter may be initialized and configured to track the CFN. The second counter may be a lower resolution counter that is synchronized wilh the frame boundaries of the aligned channel and that increments with each frame of the aligned<br><br>
WO 03/088527	PCT/US03/11477<br>
22<br>
channel. As an example, the lower resolution counter may count from zero to 255 to directly track the CFN of the aligned channel.<br>
[0081] In block 530, the relative frame position may be determined by the user equipment by observing the values of the first and second counters at two time instances designated t- and t+. At a first time instance, t-, the counters values are observed. At a second time instance, t+, the counters are again observed. The sample values for each time instance may be slored in memory. Preferably, the two time instances OCCUT within the same sciup window and therc is sufficiënt time between t- and t+ such that the two samples of the high resolution counter are distinct and different in value.<br>
[0082] The user equipment then proceeds to decision block 532 to determine if the value of the high resolution counter sarapled at t- is less than the value of the high resolution counter sampled at t+. If the value of the high resolution counter at t- is greater than the value of the high resolution counter at t+ a frame boundary was crossed during the time between the two samples. Because the user equipment executing the method 500 is configured to operate using samples observed in a single setup window of a single frame, the user equipment returns to block 530 where the three counter values area gain observed.<br>
[0083] Retuming to decision block 534, if the value of the high resolution counter at t- is less than the value of the high resolution counter at t+, the user equipment determines the two samples were taken during the same frame of the aligned channel. This frame has the corresponding CFvN represented by the lower resolution counter value. Typically, the value of the low resolution counter is sampled at t- or t+ but not both, although the value of the low resolution counter may be sampled at both t- and t+.<br>
[0084] Once satisfactory counter samples have been observed, the user equipment proceeds to block 540 where a differential offset value is determined. As discussed earlier, it may be convenient to measure offsets of the aligned and setup channels to a common reference point. For example, the start of each frame from the P-CCPCH of the serving cell may be used as a time reference. The time offset of the aligned channel may then represent an offset for the start of a frame of the aligned channel relative to the start of the serving cell P-CCPCH frame. The offset of the aligned channel may be designated na. Similarly, the offset of the setup channel may be referenced to the<br><br>
WO 03/088527	PCT/US03/11477<br>
23<br>
same point. For example, the setup channel may be a P-CCPCH of a neighboring cell and the offset may be represented by the pilot offset determined in block 510. In block 540, the user equipment determines the value of the difference in offsets to be nA = ns-na.<br>
[0085] The user equipment performing the method 500 then proceeds to decision block 544 where the values na and ns are compared. If na is less than or equal to ns, the user equipment proceeds to decision block 550. In decision block 550, the value of the difference in offsets, nA, is compared to the high resolution counter value sampled at t-. In order to perform the comparison, the values of nA and the counter value sampled at t- are typically adjusted to a common unit of measurement. For example, the counter value sampled at t- may be converted to an equivalent number of chip periods. Similarly, the value of :nA may be converted to represent a number of chip periods. Altematively, any common measurement unit may be used. If, in block 550, the user equipment determines that Ihe value of nA is less than or equal to the value represented by the high resolution counter sampled at t-, the user equipment proceeds to block 554. In block 554 the CFN value of the setup channel at the next frame boundary is one greater than the CFN value of the aligned channel sampled in block 530.<br>
[0086] Retuming to decision block 550, if the user equipment determines that the value of nA is greater than the value represented by the high resolution counter sampled at t-, the user equipment proceeds to block 558. At block 558, the CFN value of the aligned channle at the setup channel next frame boundary is determined to be equal to the CFN value of the aligned channel sampled in block 530.<br>
[0087] Retuming to decision block 544, if the value of na is not less than or equal to the value of ns the user equipment proceeds to decision block 560. In decision block 560 the value of nA is compared to the value of the high resolution counter sampled at t-. Again, the values of nA and the counter value at t- are normalized to a common unit of measurement. If nA is determined to be less than or equal to the counter value sampled at t-, the user equipment proceeds to block 564. In block 564 the CFN value of the aligned channel at the setup channel next frame boundary is determined to be two greater than the CFN value of the aligned channel sampled in block 530.<br>
[0088] Retuming to decision block 560, if the value of nA is determined to be greater than the value of the counter sampled at t-, the user equipment proceeds to block<br><br>
WO 03/088527	PCT/IJS03/11477<br>
24<br>
568. In block 568, the CFN value of the aligned channel at the setup channel next frame boundary is determined to be one greater than the CFN value of the aligned channel sampled in block 530.<br>
[0089] Following an initial determination of the setup channel CFN at blocks 554, 558, 564, or 568, the user equipment proceeds to block 570 to con-ect the CFN value for the sign associated with the offsets na and ns. If the signs of the two numbers are the same, whether both positive or both negative, the CFN mimber of the setup channel is not adjustcd. Howcvcr, if the sigr. associated with na is negative but the sign associated with ns is positive, the user equipment corrects the CFN by decrementing the previously determined CFN by one. Altematively, if the sign associated with na is positive but the sign associated with ns is negative, the CFN is corrected by incrementing the previously deterrruned CFN by one.<br>
[0090] Thus, the CFN of the setup channel may be unambiguously determined using a counter to track the CFN of the aligned channel and a counter to track passage of time within a frame of the aligned channel. Two conditions of the CFN deteiTnination method 500 are typically encountered. The first is the setup of a DPCH of a serving cell after initially setting up the P-CCPCH. The second condition is the setup of a neighboring P-CCPCH for soft hand over when operating in a DPCH of a serving cell.<br>
[0091] In the first exaraple, the aligned channel is the P-CCPCH of the serving cell. Because the DPCH will be originating from the same base station, the pilot offset is zero. The CFN of the aligned channel may be determined directly from the P-CCPCH. The P-CCPCH Information includes a SFN. The CFN associated with the P-CCPCH from the serving cell may be determined as the SFN modulo 256. A counter is initialized to count the CFN of the P-CCPCH. Similarly, a high resolution counter is initialized to count at eight times the chip rate. The high resolution counter resets to zero at each P-CCPCH frame boundary.<br>
[0092] The P-CCPCH from the serving cell, in this example, is used as the time reference and also represents the aligned channel. Thus, the offset na is zero for this example. The offset of the DPCH being setup is represented by ns and may be determined by information transmitted by the base station.  The value of ns is the TDPCH<br><br>
WO 03/088527	PCT/US03/11477<br>
25<br>
value transmitted by the serving base station. The sign associated with ns is positive because the DPCH lags the P-CCPCH.<br>
[0093] Next, during a setup window, the values of the CFN counter and the high resolution counter are sampled at a time t- after a frame boundary of the P-CCPCH. At a time t+ after the same frame boundary, the high resolution counter is again sampled. The value of the P-CCPCH CFN at the next DPCH frame boundary is unambiguously determined based in part on the values of the offset, ns, the values of the high resolution counter at tinrics t- and t-!, and the value of the P-CCPCH CFN counter. This value is also defined as the CFN of the DPCH. Thus, once the unambiguous DPCH CFN is determined, the DPCH from the serving cell may be used as the aligned channel, while the P-CCPCH frame boundary could still be used as a reference point. The counters may be reset to align with the DPCH rather than the P-CCPCH.<br>
[0094] In the second example, a neighboring P-CCPCH may be setup for a soft hand over. During setup of a neighboring P-CCPCH for a soft hand over, the DPCH from the serving cell may be used as the aligned channel and the P-CCPCH of the neighboring cell may be the setup channel. The P-CCPCH of the serving cell could still be used as the time reference as in the following example.<br>
[0095] In this example, the pilot offset is for the serving and neighboring cells is determined to determine the magnitude of the offset of the setup channel as well as to determine its associated sign. The CFN of the aligned channel is determined directly from the lower resolution counter. The offset of the aligned channel, na, is determined direcüy as TDPCH while the offset of the setup channel, ns, is determined when the pilot offset is determined. The sign of the offset na is determined by the sign of the offset for TDPCH which is positive.<br>
[0096] The unambiguous CFN of the DPCH at the next frame boundary of the neighboring P-CCPCH may then be determined by sampling the high and lower resolution counters of during a setup window of the DPCH and correcting for any sign associated with the two offset numbers, na and ns.<br>
[0097] Figure 6 is a time diagram showing derivation of frame numbers for a variety of different offsets.  A mobile station may need to simultaneously track multiple<br><br>
WO (»3/()88527	PCT/USn3/l 1477<br>
26<br>
neighboring channels for potential soft hand over and thus may need to determine the unambiguous CFN for the channels associated with each of the neighboring cells.<br>
[0098] Shown are frames for an aligned channel 604 and four setup channels 650-60S. Also shown is a reference line 602 that may represent, for example, a frame boundary of a P-CCPCH of the serving cell. Setup windows 620 are representatively shown in each of the four setup channels 605-608. Typically, a setup window 620 may occur in each frame, although only one setup window 620 is shown for each channel for purposes of ciarity. The offset of the aügned channef 604 relativè to the reference point 602 is designated ua and na 612. As discussed earlier, na represents the magnitude of the offset. Here, the term ua is used to represent the signed value of the offset. For the aligned channel 604 in this example, ua and na are the same because the aligned channel 604 lags the reference line 602. Similarly, the unsigned magnitudes of the offsets for the setup channels 605-608, are designatedns3 610, ns2 614, nsl 616, and ns4 619. Note that for setup channels 1 through 3 605-607, the unsigned offset equals the signed offset because the channels lag the reference line 602. However, the unsigned offset us4 618 for setup channel 4 608 is different from the unsigned magnitude of the offset 619 because the channel leads the reference line 602.<br>
[0099] The timing diagram also shows two time instances, t- 630, where samples of the aligned channel counters may be observed and two time instances, t-i- 640, where the samples of aligned channel counters may be taken. The fïrst matched pair of t-and t+ 650 occurs within the same frame of the aligned channel. Thus, these samples may be used in the unambiguous determination of the setup channel CFN. However, note that the second pair of t- and t+ 660 straddles a frame boundary. For this pair the t- high resolution counter value would exceed the t+ high resolution counter value. Thus, a new set of samples would need to be observed before determining the CFN values according to the method of Figure 5. Thus, it may be seen that with only a high resolution and lower resolution counters, the unambiguous CFN of a number of setup channels may be determjned.<br>
[0100] Figure 7 shows a flow chart of an embodiment of a method 700 of updating OFF and Tm parameters following an initial full determination for which the unambiguous CFN determination is a part. The user equipment executing the method 700<br><br>
WO 03/088527	PCT/IIS03/11477<br>
27<br>
begins at block 710 where a complete frame timing detennination is perfoimed. For example, a full OFF and Tm determination according to the method shown in Figure 3 may be performed when the power received from a monitored cell initially exceeds a predetermined threshold. After initially determining the OFF and Tm parameters, the values of the parameters are periodically updated. The update may be performed by redetermining the value of the Tm parameter and updating the OFF parameter based in part on the value of the Tm parameter. An example of the steps for updating of the OFF and Tm parameters is shown in blocks 720 through 760 of the m.ethod 700. The functions performed in each of these blocks may be repeated on a periodic basis to provide periodic update of the OEF and Tm parameters without the need to perform a complete determination of the two parameters.<br>
[0101] Updating the OFF and Tm parameters begins at block 720 after an initial determination has been perfonned in block 710. Typically, some predetermined update period will have elapsed from the time of initial determination before parameter updating in block 720 coramences. In block 720, the user equipment begins the update by determining the neighbor P-CCPCH frame timing. The user equipment, in block 720, may perform some or all of the functions previously described with respect to block 320 in Figure 3. The frame timing for the neighboring P-CCPCH may be determined using a chip level counter that resets to zero at each P-CCPCH frame boundary. At a particular instant, the counter value is determined and compared against similar counters used to track other channels. Then, the timing of the P-CCPCH relative to the other tracked channels may be determined.<br>
[0102] The user equipment proceeds to block 730 where the UL DPCH frame timing is determined. The UL DPCH frame timing is determined using a chip level counter, as was done during initial full determination of the OFF and Tm parameters. As discussed earlier, the counter typically has a resolution of at least one chip and counts an integer multiple of 38400 chips before restarting at zero.<br>
[0103] At block 740 the user equipment determines the frame numbers for channels involved with a hand over using the frame level counters. Typically, the frame numbering for the DL DPCH, UL DPCH, and neighboring P-CCPCH are determined using frame level counters that are initialized during full OFF and Tm determination. The<br><br>
WO 03/088527	PCT/US03/11477<br>
28<br>
frame numbers may be determined by directly reading the values of the respective counters if the counters were previously initialized to count the frame number. Altematively, the values of the respective counters may be con-elated to the frame numbers using correlation information gathered during full timing determination. If the frame level counter used to track the UL DPCH frame number is not an eight bit counter, the value may be adjusted using the method detailed in Figure 4.<br>
[0104] Typically, the values of the chip level counters and the values of the frame leve] counters are read substantially simultancously. The counter values are read substantially simultaneously if the counter values are read within the period of one chip. Altematively, the counters maybe read substantially simultaneously if they are read within a single period of the highest rate counter, that is the counters are read during the shortest period defined by the counters. Altematively, the counter values are read substantially simultaneously if the determination of the OFF and Tm timing parameters vary by less than a predetermined error value.<br>
[0105] Once the chip level counter values and frame level counter values have been read such that the relative frame timing and frame numbers can be determined, the Tm value may be re-determined. The user equipment, in block 750, determines the value of the Tm parameter based in part on the counter values. The value of Tm may be determined as the neighboring P-CCPCH chip level counter noinus the sum of the UL DPCH chip level counter and TQ. The chip level counters and To are typically normalized to count 38400 times within a frame, although the values may be normalized to any number that provides a suitable level of accuracy. However, when the counters and To are normalized to 38400, the value for Tm is directly determined in terms of chips and the calculation of Tm is performed modulo 38400. As before, To represents a constant value of 1024 chips.<br>
[0106] After determining the value of Tm in block 750, the user equipment proceeds to block 760 where the value of the OFF parameter is adjusted based at least in part on the value of the Tm parameter just detennined. The most recently determined Tm value is compared against a previously determined Tm value. If the change in the value of the Tm value indicates a frame boundary has been crossed, the value of the OFF parameter is adjusted to reflect the change.   A change in Tm values of greater than a<br><br>
WO «3/088527	PCT/IIS03/11477<br>
29<br>
predetermined threshold value may indicate a frame boundary has been crossed. The predetermined threshold value used in the frame boundary determination may be one half the number of chips in a frame, or 19200 chips. For example, the Tm parameter value may initially be determined to be slightly less than a full frame, such as 3S380. The next update of the Tm parameter value may indicate that the Tm parameter value is only a fraction of a full frame, such as 5. The frame offset between a servicing cell and a neighboring base station typically changes slowly over time with respect to the update period of the Tm parameter. Because the determination of the Tm parameter is performed modulo 38400 in our example, the change in Tm value from 38380 to 5 indicates that a frame boundary was crossed. Thus the value of the OFF parameter is incremented to indicate this change.<br>
[0107] In this manner, the value of the OFF and Tm parameters may be updated without having to periodically perform the full OFF and TM determination for each neighboring cell. The time and processing power required to update the frame timing parameters is greatly reduced by not having to decode the SFN from each neighboring P-CCPCH at each update.<br>
[0108] Note that after a hand over, the OFF and Tm parameters do not need to be re-determined using a full OFF and Tm determination. The process of updating the two parameters is accurate after a hand over occurs.<br>
[0109] The update process is performed for each neighboring cell for which the received power exceeds a predetermined threshold. When the received power from the neighboring cell raomentarily falls below the threshold the update procedure is not performed. However, the counters are still maintained. An additional timer is initialized to track the time that the energy of the neighboring cell remains below the predetermined threshold. If the received energy from the neighboring cell remains below the threshold for some predetermined amount of time the frame offset parameters OFF and Tm must be re-determined using a full determination. However, if the energy from the neighboring cell exceeds the threshold before expiration of the predetermined time, the values of OFF and Tm may be updated using the update routine.<br>
[0110] The following pseudo-code represents one example of the operation of the OFF and Tm fine tuning operation performed in the update routine.<br><br>
WO Ü3/088527	PCT/US03/11477<br>
30<br>
#define  MIN_DIFF   =   19200   /*   Half   of   a   frame   in chips   on<br>
the  PN  circle  */<br>
FineTuneOFFAndTm<br>
{<br>
if    (UTRANHasAskedForOffAndTm)<br>
{<br>
/* Avoid computing OFF if it was recent ly done from the cell */ if (NoNeedToRecompute)<br>
{<br>
/* Get frame timing and Tm. */ ComputeOnlyTm () , ;  /* Do not set up neighbor P-CCPCH *i<br>
/* Check and adjust OFF if necessary */ if  (ChipsTitiMovedBy  &gt; MIN_DIFF)  /*  Tm crossed a frame */<br>
{<br>
if   (LatestTm &gt;  EarlierTm)<br>
{<br>
/*   Decrement  OFF by 1   */<br>
}<br>
else<br>
{<br>
/* Increment OFF by 1 */<br>
OFF = OFF + 1; } } }<br>
else {<br>
/*   Compute both OFF and Tm   */ } } }<br>
[0111] Figure 8 is a functional block diagram of an embodiment showing a user equipment 800 configured to determine the offset timing of frames relativa to an aligned channel. The user equipment 800 may, for exarnple, be configured to 'determine OFF and Tm parameters as part of operation in a frequency multiplexed asynchronous communication system.<br>
[0112] The user equipment 800 may, for example, be a WCMA wireless phone. The user equipment includes an RF transceiver 810 configured to perform the majority of frequency conversion and modulation operations.  The user equipment 800<br><br>
WO 03/088527	PCT/US03/11477<br>
31<br>
also includes a baseband processor 820 to perform baseband processing and user interface operations.<br>
[0113] The RF transceiver 810 interfaces over a wireless link to the wireless communication system. Typically, the RF transceiver 810 interfaces with one or more base stations of the wireless communication system. The RF transceiver 810 includes a receiver configured to receive transmitted RF signals in one or more designated frequency bands. The received signals are typically filtered, amplified, downconverted, demodulated, and further processed in the PJ transceiver hefore coupüng the received signal to the baseband processor 820.<br>
[0114] Similarly, baseband signals frora the baseband processor 820 are coupled to the RF transceiver 810 for transmission to one or more base stations. The RF transceiver 810 may filter, amplify, modulate, upconvert and further process the baseband signal prior to transmitting to the base stations.<br>
[0115] The baseband processor 820 is configured to perfonn many operations. The baseband processor 820 may perform the unambiguous determination of CFN and the determination of the offset parameters. Altematively, the determination of the unambiguous CFN may be performed in one or more other modules and the determination of the offset parameters may also be performed in one or more other modules. However, in this embodiment, the functions are performed in the baseband processor 820.<br>
[0116] The baseband processor 820 includes a processor 830 that may be configured to perform one or more functions relating to either unambiguous CFN determination as well as offset determination. The processor 830 may be connected to a memory 832 that may include one or more storage devices. The memory 832 may store computer readable instructions that direct the processor to perform one or more of the functions relating to unambiguous CFN detennination or offset determination.<br>
[0117] The baseband processor 840 may also include chip counters 840 used in the unambiguous CFN detennination or offset determination methods. The chip counters 840 may be implemented as hardware counters or may be implemented in software. Additionally, the chip counters may be implemented as a combination of hardware and software.  The chip counters 840 include the high resolution counters used<br><br>
WO «3/088527	PCT/US«3/1U77<br>
32<br>
in the unambiguous CFN determination. The chip counters 840 also include the chip level counters used in the offset deteiTnination.<br>
[0118] The baseband processor 820 also includes frame counters 850. Tiie frame counters 850 may be implemented in software, hardvvai-e, or a combination of software and hardware. The frame counters 850 include the frame level counter used to track the aligned channel CFN in the unambiguous CFN determination. The frame counters 850 also include the frame level counters used to track the DL DPCH or P-CCPCK frames and the frame level counter used to track the UL DPCH frames.<br>
[0119] A CFN determination module 860 is also included in the baseband processor. The CFN determination module 860 may interface with the appropriate chip counters 850 and frame counters 860 as well as the processor 830 and memory 832 to obtain the unambiguous CFN of the various setup channels.<br>
[0120] The baseband processor 820 also includes a timing module 870 that is used to determine the offset parameters. The offset parameters may include the OFF and Tm parameters used in a soft hand over to a neighboring base station. The timing module 870 communicates with the CFN determination module 860, the appropriate frame counters 850, the appropriate chip counters 850, the processor 830 and memory 840 to determine the offset parameters used in the soft hand over.<br>
[0121] Various techniques for determining frame offsets, such as frame offset parameters used in a soft hand over, have been disclosed. These techniques facilitate one or more frames to be tracked simultaneously without a heavy time or processing burden. The method of determining frame offsets may also use a novel method and apparatus disclosed herein for unambiguously determining the frame numbers, such as CïTsT, of frames from one or more setup channels.<br>
[0122] Further to the description of the soft hand off operation and OFF/Tm computation outlined above, an additional optimization embodied in this invention is as follows. Allocation of cell scrambling codes is planned by network planners very carefully so that even under the most severe multipath conditions, user equipment may never see the same scrambling code from two different cells at any given spot. The only manner in which a user equipment may see the same scrambling code from a different cell is if the user equipment has moved to the cell located in a different geographic location<br><br>
WO 03/088527	PCT/US()3/11477<br>
33<br>
altogether. For a vast majority of dedicated channel activities, including for both voice-calls and data-calls, the duration of the activity may never be long enough for that to happen. Therefore, within a period of time during which the dedicated physical channel is continuously active, measurements of the OFF and Tm parameters for a given cell may be remembered for subsequent use during the call. For example, if OFF and Tm have been measured for a given cell scrambling code once during a period of continuous DPCH activity, the measured parameters will be saved and used without any further measurements v/hen subsequent soft hand off calls for those parameters for the particular cell scrambling code. In an environment where the same cell comes drops in to and out of the user equipment's "view" over and over again during DPCH activity, this optimization may significantly reduce the delay in reporting OFF and Tm, since setting up a neighbor P-CCPCH and measuring OFF and Tra from scratch is time consuming. In one implementation, the OFF and Tm is stored for every cell even as it moves out of the active set and into the unlisted set, so that the next time the cell reappears in the neighbor set, OFF and Tm need not be re-measured.<br>
[0123] Electrical connections, couplings, and connections have been described with respect to various devices or elements. The connections and couplings may be direct or indirect. A connection between a first and second device may be a direct connection or may be an indirect connection. An indirect connection may include interposed elements that may process the signals from the first device to the second device. Those of skill in the art will understand that Information and signals may be represented using any of a variety of different technologies and techniques. For example, data, instructions, commands, information, signals, bits, symbols, and chips that may be referenced throughout the above description may be represented by voltages, currents, electromagnetic waves, magnetic fields or particles, optical fields or particles, or any combination thereof.<br>
[0124] Those of skill will further appreciate that the various illustrative logical blocks, modules, circuits, and algorithm steps described in connection with the embodiments disclosed herein may be implemented as electronic hardware, computer software, or combinations of both. To clearly illustrate this interchangeability of hardware and software, various illustrative components, blocks, modules, circuits, and<br><br>
WO 03/088527	PCT/US03/11477<br>
34<br>
steps have been described above generally in terms of their functionality. Whether such functionality is implemented as hardware or software depends upon the particular application and design constraints imposed on the overall system. Ski lied persons may implement the described functionality in varying ways for each particular application, but such implementation decisions should not be interpreted as causing a departure from the scope of the present invention.<br>
[0125] The various illustrative logical blocks, modules, and circuits described in connection wiih ihe ernbodinients uisclosed herein may be implemented or pcrfoniied with a general purpose processor, a digital signal processor (DSP), an application specific integrated circuit (ASIC), a field programmable gate array (FPGA) or other progranunable logic device, discrete gate or transistor logic, discrete hardware components, or any combination thereof designed to perform the functions described herein. A general purpose processor may be a microprocessor, but in the altemative, the processor may be any processor, controller, microcontroller, or state machine. A processor may also be implemented as a combination of computing devices, for example, a combination of a DSP and a microprocessor, a plurality of nrücroprocessors, one or more microprocessors in conjunction with a DSP core, or any other such configuration.<br>
[0126] The techniques described in connection with the embodiments disclosed herein may be embodied directly in hardware, in a software module executed by a processor, or in a combination of the two. A software module may reside in RAM memory, flash memory, ROM memory, EPROM memory, EEPROM memory, registers, hard disk, a removable disk, a CD-ROM, or any other ferm of storage medium known in the art. An exemplary storage medium is coupled to the processor such the processor can read information from, and write information to, the storage medium. In the altemative, the storage medium may be integral to the processor. The processor and the storage medium may reside in an ASIC.<br>
[0127] The above description of the disclosed embodiments is provided to enable any person skilled in the art to make or use the invention. Various modifications to these embodiments will be readily apparent to those skilled in the art, and the genene principles defined herein may be applied to other embodiments without departing from the spirit or scope of the invention.   Thus, the invention is not intended to be limited to<br><br>
VVO 03/088527	PCT/US03/11477<br>
35<br>
the embodiments shown herein but is to be accorded the widest scope consistent with the principles and novel features disclosed herein.<br><br><br>
WE CLAIM :<br>
1.	A method in a wireless device of determining a timing offset of a channel relative to a reference channel, the method comprising: detennining an integer number of full frames offsetting the channel from the reference channel; detennining a fi-actional number, less than one, of full frames offsetting the channel fi-om the reference channel such that the timing offset may be determined from the sum of the integer number of full frames with the fractional number of full frames; re-determining the fi-actional number of full frames; and updating to a memory the integer number of full frames based, at least in part, on the fi-actional number of full firames.<br>
2.	The method of claim 1, wherein re-determining the fractional number and updating the integer number of full frames is performed periodically.<br>
3.	The method of claim 1, further comprising, prior to re-determining the fractional number fi-ames and updating the integer number of full frames, comparing an energy of the channel to a predetermined threshold.<br>
4.	The method of claim 1, wherein determining the integer number of full frames offsetting the channel from the reference channel comprises: determining a frame number of the reference channel; determining frame timing of the channel; determining a firame number of the channel; and determining the difference of the frame number of the channel minus the frame number of the reference channel.<br>
5.	The method of claim 4, wherein determining the frame number of the reference channel comprises: determining an offset magnitude of the reference channel relative to a reference point; detennining a frame position of the reference channel; determining the fi-ame number based at least in part on the offset magnitude and the frame position.<br>
6.	The method of claim 1, wherein re-determining the fi-actional number of full frames comprises: sampling a fïrst counter value that resets at a frame boundary of the channel; sampling a second counter value that resets at a frame boundary of the reference channel; and determining the fractional number of full frames based at least in part on the first and second counter values.<br>
7.	The method of claim 1, wherein the reference channel is a serving base station channel and the channel is a neighboring base station channel.<br>
8.	The method of claim 1, wherein the reference channel is an Up Link Dedicated Physical Channel (UL DPCH) of a wireless communication link and the channel is a Primary Common Control Physical Channel (P-CCPCH) from a neighboring base station.<br><br>
9.	A method of deteraiining a timing offset of an uplink wireless communication channel to a neighboring base station channel, the method comprising: determining a frame number of the upHnk wireless commimication channel; determining frame timing of the neighboring base station channel; determining a frame number of the neighboring base station channel; determining a frame offset using the difference of the frame number of the neighboring base station channel minus the frame number of the uplink wireless communication channel; determining a fractional number of frames, less than one, offsetting the neighboring base station channel from the uplink wireless communication channel such that the timing offset may be determined, in part, from the sum of the frame offset with the fractional number of full frames; re-determining the fractional number of fiill frames; and updating the frame offset based, at least in part, on the fractional number of full frames.<br>
10.	A wireless communication device configured to determine a timing offset of first channel to a second channel, the wireless communication device comprising: an RF transceiver configured to communicate using the first and second channels; and a timing module connected to the RF fransceiver, the timing module configured to determine a frame offset and a fractional frame offset of the first channel to the second channel, the timing module further configured to periodically re-determine the fractional frame offset and update the frame offset based at least in part on the re-determined fractional frame offset.<br>
11.	The wireless communication device of claim 10, further comprising: a frame counter connected to the timing module, the frame counter configured to count the frame number of the first chaimel and further configured to derive a frame number of the second channel; and wherein the timing module determines the frame offset based, at least in part, on the difference of the frame number of the first channel from the frame number of the second channel.<br>
12.	The wireless communication device of claim 11, wherein the timing module updates the frame offset if the re-determined fractional frame offset differs from a previously determined fractional frame offset by more than a predetermined amount.<br>
13.	A processor readable storage device having processor readable code embodied thereon, the processor readable code for programming one or more processors to perform a method of determining a timing offset of a channel relative to a reference channel, the method comprising: determining an integer number of fiill frames offsetting the channel from the reference channel; determining a fractional number, less than one, of a full frame duration offsetting the channel from the reference channel such that the timing offset may be determined from the sum of the integer number of fiill frames with the fractional number of the full frame duration; redetermining the fractional number of the full frame<br><br>
duration; and updating the integer number of fiill frames based, at least in part, on the fractional number of the flill frame duration.<br>
14.	A method of determining a frame number of a setup channel, the method comprising determining a frame nimiber of the aligned channel; determining an aligned frame offset relative to a reference point; determining a setup channel offset relative to the reference point; determining a relative frame position of the setup channel to the aligned channel; determining the frame number of the setup channel based, at least in part, on the relative frame position, the aligned frame offset, and the setup channel offset.<br>
15.	The method of claim 14, ftirther comprising: determining a pilot offset of a pilot signal for an aligned channel relative to a pilot signal for the setup channel; and determining a corrected frame nimiber of the setup channel based in part on the pilot offset.<br>
16.	The method of claim 14, wherein determining the relative frame position comprises sampling a counter that resets at each frame boundary of the aligned channel.<br>
17.	The method of claim 14, wherein determining the frame number of the setup channel comprises: comparing the aligned frame offset to the setup channel offset; determining a difference between the setup charmel offset and the aligned frame offset; comparing the difference to the relative frame position; if the aligned channel offset is less than or equal to the setup frame offset and the difference between the setup channel offset and the aligned frame offset is less than the relative frame position, determining the frame number of the setup channel to be one greater than the frame number of the aligned channel.<br>
18.	The method of claim 14, further comprising, if the aligned channel offset is less than or equal to the setup frame offset and the difference between the setup channel offset and the aligned frame offset is greater than the relative frame position, determining the frame number of the setup channel to be equal to the frame number of the aligned channel.<br>
19.	The method of claim 14, ftirther comprising, if the aligned channel offset is greater than the setup frame offset and the difference between the setup channel offset and the aligned frame offset is less than the relative frame position, determining the frame number of the setup channel to be two greater than the frame number of the aligned charmel.<br>
20.	A wireless communication device for determining a timing offset of a channel relative to a reference channel, the device comprising: means for determining an integer number of fuU frames offsetting the channel from the reference channel; means for determining a fractional number, less than one, of fiill frames offsetting the channel from the reference channel such that the timing<br><br>
offset may be determined from the sum of the integer number of füll frames with the fractional number of füll frames; means for re-determining the fractional number of full frames; and means for updating to a memory the integer number of füll frames based, at least in part, on the fi-actional number of füll frames.<br>
21. A wireless communication device for determining a timing offset of an uplink wireless communication channel to a neighboring base station charmel, the device comprising: means for determining a frame number of the uplink wireless communication chaimel; means for determining frame timing of the neighboring base station channel; means for determining a frame number of the neighboring base station channel; means for determining a frame offset using the difference of the frame number of the neighboring base station channel minus the frame number of the uplink wireless communication channel; means for determining a fractional number of frames, less than one, offsetting the neighboring base station channel from the uplink wireless commvinication channel such that the timing offset may be determined, in part, from the sum of the frame offset with the fractional number of füll frames; means for re-determining the fractional number of füll frames; and means for updating the frame offset based, at least in part, on the fractional number of füll frames.<br>
dated    this     11     day     of    October    2004<br>
(D J SOLOMON) OF DePENNING &amp; DePENNING AGENT FOR THE APPLICANTS<br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjI5My1DSEVOUC0yMDA0ICAgIENPUlJFU1BPTkRFTkNFIE9USEVSUyAgIDEzLTA1LTIwMTEucGRm" target="_blank" style="word-wrap:break-word;">2293-CHENP-2004    CORRESPONDENCE OTHERS   13-05-2011.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjI5My1DSEVOUC0yMDA0ICAgIEZPUk0tMSAgMjAtMDItMjAxMi5wZGY=" target="_blank" style="word-wrap:break-word;">2293-CHENP-2004    FORM-1  20-02-2012.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjI5My1DSEVOUC0yMDA0ICAgIEZPUk0tMyAgMjAtMDItMjAxMi5wZGY=" target="_blank" style="word-wrap:break-word;">2293-CHENP-2004    FORM-3  20-02-2012.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjI5My1DSEVOUC0yMDA0ICAgIFBPV0VSIE9GIEFUVE9STkVZICAyMC0wMi0yMDEyLnBkZg==" target="_blank" style="word-wrap:break-word;">2293-CHENP-2004    POWER OF ATTORNEY  20-02-2012.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjI5My1DSEVOUC0yMDA0ICAgQU1FTkRFRCAgUEFHRVMgT0YgU1BFQ0lGSUNBVElPTiAgMjAtMDItMjAxMi5wZGY=" target="_blank" style="word-wrap:break-word;">2293-CHENP-2004   AMENDED  PAGES OF SPECIFICATION  20-02-2012.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjI5My1DSEVOUC0yMDA0ICAgQU1FTkRFRCBDTEFJTVMgIDIwLTAyLTIwMTIucGRm" target="_blank" style="word-wrap:break-word;">2293-CHENP-2004   AMENDED CLAIMS  20-02-2012.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjI5My1DSEVOUC0yMDA0ICAgQU1FTkRFRCBDTEFJTVMgIDI3LTAyLTIwMTIucGRm" target="_blank" style="word-wrap:break-word;">2293-CHENP-2004   AMENDED CLAIMS  27-02-2012.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjI5My1jaGVucC0yMDA0ICAgY29ycmVzcG9uZGVuY2Ugb3RoZXJzLnBkZg==" target="_blank" style="word-wrap:break-word;">2293-chenp-2004   correspondence others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjI5My1DSEVOUC0yMDA0ICAgRVhBTUlOQVRJT04gUkVQT1JUIFJFUExZIFJFQ0VJVkVEIDIwLTAyLTIwMTIucGRm" target="_blank" style="word-wrap:break-word;">2293-CHENP-2004   EXAMINATION REPORT REPLY RECEIVED 20-02-2012.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjI5My1jaGVucC0yMDA0ICAgZm9ybSAgMTMucGRm" target="_blank" style="word-wrap:break-word;">2293-chenp-2004   form  13.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjI5My1jaGVucC0yMDA0ICAgZm9ybSAgMTgucGRm" target="_blank" style="word-wrap:break-word;">2293-chenp-2004   form  18.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjI5My1jaGVucC0yMDA0ICAgZm9ybSAgMy5wZGY=" target="_blank" style="word-wrap:break-word;">2293-chenp-2004   form  3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjI5My1jaGVucC0yMDA0ICAgZm9ybSAgNS5wZGY=" target="_blank" style="word-wrap:break-word;">2293-chenp-2004   form  5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjI5My1jaGVucC0yMDA0ICAgZm9ybSAxLnBkZg==" target="_blank" style="word-wrap:break-word;">2293-chenp-2004   form 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjI5My1DSEVOUC0yMDA0ICAgT1RIRVIgUEFURU5UIERPQ1VNRU5UICAyMC0wMi0yMDEyLnBkZg==" target="_blank" style="word-wrap:break-word;">2293-CHENP-2004   OTHER PATENT DOCUMENT  20-02-2012.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjI5My1DSEVOUC0yMDA0ICAgT1RIRVIgUEFURU5UIERPQ1VNRU5UIDEgIDIwLTAyLTIwMTIucGRm" target="_blank" style="word-wrap:break-word;">2293-CHENP-2004   OTHER PATENT DOCUMENT 1  20-02-2012.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjI5My1jaGVucC0yMDA0ICAgcGN0LnBkZg==" target="_blank" style="word-wrap:break-word;">2293-chenp-2004   pct.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjI5My1jaGVucC0yMDA0ICAgcG93ZXIgb2YgYXR0b3JuZXkucGRm" target="_blank" style="word-wrap:break-word;">2293-chenp-2004   power of attorney.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjI5My1jaGVucC0yMDA0ICBjbGFpbXMucGRm" target="_blank" style="word-wrap:break-word;">2293-chenp-2004  claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjI5My1DSEVOUC0yMDA0ICBDT1JSRVNQT05ERU5DRSBPVEhFUlMgIDI3LTAyLTIwMTIucGRm" target="_blank" style="word-wrap:break-word;">2293-CHENP-2004  CORRESPONDENCE OTHERS  27-02-2012.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjI5My1DSEVOUC0yMDA0ICBDT1JSRVNQT05ERU5DRSBQTy5wZGY=" target="_blank" style="word-wrap:break-word;">2293-CHENP-2004  CORRESPONDENCE PO.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjI5My1jaGVucC0yMDA0ICBkcmF3aW5ncy5wZGY=" target="_blank" style="word-wrap:break-word;">2293-chenp-2004  drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjI5My1jaGVucC0yMDA0ICBmb3JtIDIgIHRpdGxlIHBhZ2UucGRm" target="_blank" style="word-wrap:break-word;">2293-chenp-2004  form 2  title page.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjI5My1jaGVucC0yMDA0IGRlc2NyaXB0aW9uICAoY29tcGxldGUpLnBkZg==" target="_blank" style="word-wrap:break-word;">2293-chenp-2004 description  (complete).pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="251216-a-method-of-inhibiting-corrosion-on-metallic-surfaces-in-contact-with-a-fluid-contained-in-an-aqueous-industrial-fluid-system.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="251218-grindling-balls-and-their-manufacturing-method.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>251217</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>2293/CHENP/2004</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>10/2012</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>09-Mar-2012</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>01-Mar-2012</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>11-Oct-2004</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>QUALCOMM INCORPORATED</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>5775 Morehouse Drive, San Diego, california 92121</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>RAY-CHAUDHURI, Siddhartha</td>
											<td>14478 Seabridge Lane, San Diego, california 92128-4226</td>
										</tr>
										<tr>
											<td>2</td>
											<td>HSU, Chih-Ping</td>
											<td>7185 Celome Court, San Diego, CA 92129</td>
										</tr>
										<tr>
											<td>3</td>
											<td>EMANI, Chalapathi Rao</td>
											<td>9625 Genesee Avenue, Apt. J-1, San Diego, CA 92121</td>
										</tr>
										<tr>
											<td>4</td>
											<td>LIN, Jeremy</td>
											<td>610 Arcadia Terrace, #305, Sunnyvale, CA 94085</td>
										</tr>
										<tr>
											<td>5</td>
											<td>SINGH, Gurdeep</td>
											<td>11899 Westview Parkway, San Diego, CA 92126</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04B7/26</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/US2003/011477</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2003-04-11</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>60/388,705</td>
									<td>2002-06-13</td>
								    <td>U.S.A.</td>
								</tr>
								<tr>
									<td>2</td>
									<td>60/372,296</td>
									<td>2002-04-11</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/251217-a-method-and-device-for-determining-a-timing-offset-of-a-channel-relative-to-a-reference-channel by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 14:00:54 GMT -->
</html>
