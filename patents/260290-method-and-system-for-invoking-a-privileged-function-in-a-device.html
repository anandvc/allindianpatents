<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/260290-method-and-system-for-invoking-a-privileged-function-in-a-device by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2024 23:26:33 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 260290:METHOD AND SYSTEM FOR INVOKING A PRIVILEGED FUNCTION IN A DEVICE</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">METHOD AND SYSTEM FOR INVOKING A PRIVILEGED FUNCTION IN A DEVICE</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>ABSTRACT SYSTEM FOR INVOKING A PRIVILEGED FUNCTION IN A DEVICE The system includes a method that allows an application to invoke a function on a device, wherein the device includes at least two operating modes comprising a privileged mode (314) and a non-privileged mode(322), and the function executes in the privileged mode (314). The method includes receiving a request from the application to invoke the function and determining the operating mode of the application. The method also includes invoking the function using an interrupt (310), if the application is executing in the non-privileged mode, wherein the function is executed within the same task as the application. The method also includes invoking the function directly, if the application is executing in the privileged mode. Figure 3</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>BACKGROUND<br>
I. FIELD<br>
[0001] The present invention relates generally to tlae efficient operation of a device, and<br>
more particularly, to a system for invoking a privileged function in a device.<br>
II. DESCRIPTION OF THE RELATED ART<br>
[0002] Advances in technology have resulted in the development of a variety of devices<br>
for home, office, and personal use. For example, computer systems, such as desktops,<br>
notebooks, and tablet computers have become powerful tools for use at home or in<br>
office environments. Personal devices, such as wireless telephones, personal digital<br>
assistants (PDAs), and paging devices have also become more powerful and are now<br>
widely used.<br>
[0003] Many devices now comprise complex hardware and software that run operating<br>
systems such as UNIX, LINUX, or similar operating systems. Generally, these<br>
operating systems provide for multiple modes of operation. For example, most systems<br>
provide privileged and non-privileged modes of operation. Programs executing in the<br>
privileged mode of operation are allowed to access memory and system resources<br>
without limitation. Programs executing in the non-privileged mode are restricted from<br>
| | ^ accessing certain memory regions and/or device systems. This configuration provides a<br>
level of protection to important memory or device functions. For example, by executing<br>
third-party applications in the non-privileged mode, important memory regions and<br>
device functions can be protected from unauthorized access. Also, such an arrangement<br>
allows the system to isolate faults during execution.<br>
[0004] However, in some situations, it is desirable to allow privileged mode functions<br>
to be invoked from applications executing in either the privileged or non-privileged<br>
mode. For example, it is desirable for a privileged mode application to have access to<br>
privileged mode fimctions, but it is also desirable for an application executing in the<br>
non-privileged mode to have access to the same privileged functions. For example, it<br>
may be deskable to allow an apphcation to have access to a selected system file, or<br>
device hardware, such as a device modem.<br>
,2<br>
jfcH [0005] Unfortunately, conventional systems utilize a trap to suspend execution of the<br>
non-privileged application while a separate privileged mode "kernel" task performs the<br>
requested operation. As a result, the new privileged mode task results in additional<br>
scheduling complexity and overhead. There may also be additional system delays in the<br>
form of dispatch^ latency. Furthermore, the new task may execute at a different<br>
priority than tibe non-privileged application from which it was invoked, thereby further<br>
complicating system scheduling and operation.<br>
[0006] Therefore, what is needed is a system that provides a way for an application,<br>
executing in either the privileged or non-privileged mode, to invoke a privileged<br>
function to execute within the same task as the application, thereby providing access to<br>
privileged mode hooks to ^pHcations executing under either mode.<br>
# SIMMARY<br>
[0007] In one or more embodiments, a system comprising methods and/or apparatus<br>
operates to provide access to privileged mode hooks from applications executing in<br>
either the privileged or non-privileged mode. For example, in one embodiment, the<br>
system provides a function handler that allows an application nmning in non-privileged<br>
mode to execute privileged mode fimctions within the same task (or execution thread),<br>
thereby avoiding task creation, scheduling, and dispatcher latency. The function<br>
handler is also accessible to privileged apphcations to allow those apphcations to<br>
execute privileged functions. Thus, the system maps well into existing software<br>
because access to privileged mode fimctions can be accomplished without changing die<br>
existing software model.<br>
•^ [0008J In one or more embodiments, the function handler operates to determine whether<br>
a calling application is executing in the privileged or non-privileged mode. If the<br>
calling application is executing in privileged mode, the function handler calls the<br>
privileged fimction directly. If the calling s^plication is executing in non-privileged<br>
mode, the function handler generates an interrupt that is processed by, for example, a<br>
transition system that allows the privileged function to be called within the same task as<br>
the calling non-privileged application. Thus, the fimction handler operates to provide<br>
privileged function hooks to both privileged and non-privileged apphcations.<br>
[0009] In one embodiment, the calling application passes a function identifier to the<br>
function handler. The function identifier identifies fimctions that are available for<br>
3<br>
execution. In one embodiment, the function handler determines the fiinction from the<br>
identifier and calls the fiinction directly. In another embodiment, the function handler<br>
generates an interrupt and passes the identifier to the transition system, which uses the<br>
identifier to call the requested function after proper validation. The interrupt may be a<br>
software, hardware, or exception based interrupt.<br>
[0010] In one embodiment, a method is provided that allows an application to invoke a<br>
function on a device, wherein the device includes at least two operating modes<br>
comprising a privileged mode and a non-privileged mode, and the function executes in<br>
the privileged mode. The method comprises receiving a request from the ^phcation to<br>
invoke the fimction and determining the operating mode of the application. The method<br>
also comprises invoking the function usmg an interrupt, if the application is executing in<br>
'^^ the non-privileged mode, wherein the function is executed within the same task as the<br>
application. The method also comprises invoking the function directly, if the<br>
application is executing in the privileged mode.<br>
[0011] In another embodiment, apparatus is provided that allows an ^plication to<br>
invoke a function on a device, wherein the device includes at least two operating modes<br>
comprising a privileged mode and a non-privileged mode, and the fimction executes in<br>
the privileged mode. The apparatus comprises logic that receives a request from the<br>
application to invoke the function. The apparatus also comprises logic that determines<br>
the operating mode of the application. The apparatus also comprises logic to invoke the<br>
function using an interrupt, if the application is executing in the non-privileged mode,<br>
wherein the function is executed within the same task as the application. The apparatus<br>
r ^ also comprises logic to invoke the function directly, if the application is executing in the<br>
privileged mode.<br>
[0012] In another embodiment, apparatus is provided that allows an application to<br>
invoke a fimction on a device, wherein the device includes at least two operating modes<br>
comprising a privileged mode and a non-privileged mode, and the function executes in<br>
the privileged mode. The apparatus comprises means for receiving a request from the<br>
application to invoke the function and means for determining the operating mode of the<br>
application. The apparatus also comprises means for invoking the function using an<br>
interrupt, if the application is executing in the non-privileged mode, wherein the<br>
function is executed within the same task as the application. The apparatus also<br>
4<br>
-. c •<br>
comprises means for invoking the function directly, if the application is executing in the<br>
privileged mode.<br>
[00131 ^ another embodiment, a computer-readable media is provided comprising<br>
instractions, which when executed by a processor in a device, operate to allow an<br>
application to invoke a Amction on a device, wherein the device includes at least two<br>
operating modes comprising a privileged mode and a non-privileged mode, and the<br>
function execute in the privileged mode. The computer-readable media comprises<br>
instructions for receiving a request from the application to invoke the function and<br>
instructions for determining the operating mode of the application. The computerreadable<br>
media also comprises instructions for invoking the fimction using an interrupt,<br>
fS^ if the application is executing in the non-privileged mode, wherein the function is<br>
executed within the same task as the application. The computer readable media also<br>
comprises instructions for invoking the function directly, if the application is executing<br>
in the privileged mode.<br>
[0014] Other aspects, advantages, and features of the present invention will become<br>
apparent after review of the hereinafter set forth Brief Description of the Drawings,<br>
Detailed Description of the Invention, and the Claims.<br>
BRIEF DESCRIPTION OF THE DRAWINGS<br>
[0015] The foregoing aspects and the attendant advantages of the embodiments<br>
described herein will become more readily apparent by reference to the following<br>
. ^ detailed description when taken in conjunction with the accompanying drawings<br>
wherein:<br>
[0016] FIG. 1 shows one embodiment of a fimction handler system that provides<br>
privileged function hooks to privileged and non-privileged applications executing on a<br>
device 102;<br>
[0017] FIG. 2 shows a detailed block diagram of a device comprising one embodiment<br>
of a function handler system; and<br>
[0018] " FIG. 3 shows a flow diagram that illustrates the operation of one embodiment of<br>
a fimction handler system for use in a device.<br>
5<br>
DETAILED DESCRIPTION<br>
[0019] The following detailed description describes a function handler system that<br>
provides privileged function hooks to privileged and non-privileged applications. For<br>
example, the system operates to receive flmction calls from privileged and nonprivileged<br>
applications, after which, the operating mode of the calling application is<br>
determined, and a fast and efQcient transition to the privileged function is provided.<br>
The function executes within the same thread of execution as the calling application.<br>
Thus, the function handler provides privileged function hooks to both privileged and<br>
non-privileged applications, which are then able to call privileged functions without a<br>
new task being generated, thereby avoiding the overhead of new task creation,<br>
^H&gt;, scheduling and dispatcher latency,<br>
[0020] In one or more embodiments, the fVmction handler system interacts with a<br>
nmtime enviromnent (or operating system) executing on the device that is used to<br>
simplify operation of the device, such as by providing generalized calls for device<br>
specific resources. One such runtime environment is the Binary Runtime Btiviromnent<br>
for Wireless™ (BREW™) software platform developed by QUALCOMM, Inc., of San<br>
Diego, CaUfomia. The following description describes a device executing a nmtime<br>
environment, such as the BREW software platform. Ho\Vever, in one or more<br>
embodiments, the registration system is suitable for use with other types of runtune<br>
environments to provide fast and efficient registration of privileged function hooks in a<br>
variety of devices, including generating systems or other controlling or monitoring<br>
programs. For example, the devices may include, but are not limited to, desktop<br>
^ ^ computers, notebook computers, handheld computers, and portable devices, such as<br>
wireless telephones, pagers, PDAs, email devices, tablet computers, or other type of<br>
computing devices.<br>
[0021] FIG. 1 shows one embodiment of a function handler system 100 that provides<br>
privileged function hooks to privileged and non-privileged applications executing on a<br>
device 102. The system 100 may be part of a home computer, office computer, or<br>
personal device, such as a wireless telephone or PDA, or any other type of computing<br>
device. During operation, one or more applications execute on the device 102 and<br>
operate to provide information, functions, and/or services to the device 102. For<br>
example, one type of application may be a viewer q)phcation that operates to allow the<br>
device 102 to display movies, news, or other types of multimedia content<br>
6<br>
[0022] In one embodiment, the device 102 includes a runtime environment 104 (i.e.,<br>
BREW) that provides at least two modes of operation; namely a non-privileged mode<br>
(NP) and a privileged mode (P). The non-privilege mode of operation is used to restrict<br>
the access of applications running on the device and to provide fault detection. For<br>
example, £q[}plications running in non-privileged mode are restricted to selected memory<br>
regions and may be denied access to device registers or other resources. The privileged<br>
mode of operation allows appUcations running under this mode to access memory or<br>
device resources without limitation.<br>
[0023] When an application executes on the device 102, it runs imder the runtime<br>
environment to provide the desired functionality. For example, the application 106 runs<br>
on the device 102 under the non-privileged mode (NP), and the application 108 runs on<br>
flie device 102 in the privileged mode (P). Either of these applications may require<br>
functions or system services that are available through a privileged function 110. For<br>
example, the {^plications may need to access privileged memory or device hardware<br>
resources. To obtain these fimctions or services, the fimction handler system 100<br>
provides a mechanism that allows either application (106, 108) to call the privileged<br>
fimction through a function handler 112. When called through the function handler 112,<br>
the function 110 executes within the same thread of execution as the calling application.<br>
After the function 110 performs the requested service, program control returns to the<br>
calling application.<br>
[0024] As a result, the fimction handler system 100 provides a fast and efficient<br>
mechanism to allow privileged and non-privileged applications to perform privileged<br>
's' fimctions without the need for a new task to be created and scheduled for execution by<br>
the runtime environment, thereby eliminating scheduler complexity and associated<br>
dispatcher latency.<br>
[0025] FIG. 2 shows a detailed block diagram of the device 102 con^rising one<br>
embodiment of a function handler system. The device 102 comprises processing logic<br>
202 and device resources 206 that are coupled to an internal data bus 204. The device<br>
^resources 206 comprise hardware, software, memory, logic, or other resources that<br>
allow the device to interface to various internal and external resomrces, devices, or<br>
systems. Also coupled to the processing logic 202 are code memory 208 and data<br>
memory 210.<br>
7<br>
c<br>
[0026] In one or more embodiments, the processing logic 202 comprises a CPU,<br>
processor, gate array, hardware logic, memory elements, virtual machine, software, I/O<br>
interfaces, and/or any combination of hardware and software. Thus, the processing<br>
logic 202 generally comprises logic to execute machine-readable instructions. For<br>
example, instructions may be loaded into the device 102 from a con[^)uter-readable<br>
media, such as a floppy disk, CDROM, Flash memory, or other computer-readable<br>
media that interfaces to the device 102 via the device resources 206. In another<br>
embodiment, the instructions may be downloaded into the device 102 from a network<br>
resource, such as a network server or any other type of network resource that interfaces<br>
to the device 102 via the device resources 206. The instructions, when executed by the<br>
_- processing logic 202, provide one or more embodiments of a ftmction handler system as<br>
described herein.<br>
[0027] In one embodiment, code memory 208 comprises RAM, ROM, FLASH,<br>
EEROM, or any other suitable type of memory, or a combination thereof. The code<br>
memory 206 is partitioned into a privileged region (?) 212 and a non-privileged region<br>
(NP) 214 through the operation of a memory management imit 216. The MMU 216<br>
operates to restrict the operation of non-privileged program code so that non-privileged<br>
code has limited access rights to selected regions of the code memory 208.<br>
[0028] The privileged region 212 includes program code that when executed has<br>
unrestricted access to the memory or other systans of the device 102. For example, the<br>
privileged code region 212 comprises operating system code (OS), user interface code<br>
(UI), validation code, q)plication code (A^p-P) 108 and privileged fimction code<br>
w FUNC 110. Thecodeshownintheprivilegedcoderegion212 is representative of the<br>
types of privileged code that may be included in the device 102. It is also possible that<br>
the privileged code region 212 includes other types of privileged code for execution on<br>
the device 102.<br>
[0029] The non-privileged code region 214 includes program code that when executed<br>
is restricted to accessing only selected memory regions. For example, the nonprivileged<br>
code region 214 comprises OS code and application code (App-NP) 106, and<br>
the fimction handler 106. fa one or more embodiments, the FH106 may be downloaded<br>
to the device 102 from a network or system, installed at device manufacture, or added to<br>
the device from a computer-readable media.<br>
8<br>
[0030] In one embodiment, data memory 210 comprises a privileged region 216 and a<br>
non-privileged region 218. The privileged region 226 comprises data regions that may<br>
be accessed only by privileged program code. For example, the privileged data region<br>
216 comprises data used by the OS, UI, validation, App-P and FUNC code. The nonprivileged<br>
data region 218 includes data regions that may be accessed by non-privileged<br>
program code. For example, the non-privileged data region 218 comprises data used by<br>
the non-privileged OS, App-NP, and FH program code. Also coupled to the data<br>
memory 210 is a memory management unit (MMU) 220. The MMU 220 operates to<br>
restrict access to the non-privileged and privileged data regions. For example, a non-<br>
4 ^ privileged appUcation is restricted from accessing data in the privileged data region 216,<br>
or data belonging to other non-privileged applications in the non-privileged data region<br>
218.<br>
[0031] The processing logic 202 also comprises mode logic 222 and intermpt logic 224.<br>
The mode logic 222 comprises a CPU, processor, logic, device registers, software, or<br>
any combination of hardware and software that operates to allow a mode change<br>
between operating modes of the device 102. For example, in one embodiment, the<br>
mode logic 222 comprises a register whose bits set the operating mode. For example, to<br>
switch from privileged mode to non-privileged mode, selected bits in the register are<br>
set, which results in a non-privileged stack being restored and program execution<br>
continuing in the non-privileged mode.<br>
,.^,&gt;, [0032] The intermpt logic 224 comprises a CPU, processor, logic, software, or any<br>
combination of hardware and software that operates to allow an interrupt to be received<br>
and processed by the processmg logic 202, For example, the interrupt logic 224 may<br>
receive a software intenupt that is generated by program code executed by the<br>
processing logic 202. hi one embodiment, the frmction handler system uses the<br>
software interrupt to allow non-privileged program code to execute a privileged<br>
fimction within the same task and priority. In one embodiment, the intermpt logic 224<br>
-^ processes software intermpts, hardware interrupts, program exceptions, or any other<br>
type of intenupt as part of the operation of the fimction handler system.<br>
[0033] It should be noted that the configuration of the device 102 is just one suitable<br>
configuration for implementing the described fimction handler system. It is also<br>
possible to implement one or more embodiments of the fimction handler system using<br>
9<br>
other device configurations, functional elements or element configurations within the<br>
scope of the present invention.<br>
[0034] During operation of the device 102, the processing logic 202 executes nonprivileged<br>
^plication code (i.fc., App-NP) and/or privileged qiplication code (App-P).<br>
When eifh&amp;c application requires the services of a privileged function, such as Func 110,<br>
the respective ^)plication calls the FH code 112 wifli an identifier that identifies the<br>
desired fimction (i.e., Func). The FH code 112 is non-priAdleged code, and so it may be<br>
called from either privileged or non-privileged applications.<br>
[0035] The FH code determines the operating mode of the calling application, and<br>
based on the determined mode, executes selected procedures to call the privileged<br>
fimction Func to provide the requested services without creating a new task. The<br>
following is a summary of the procedures used by the FH 112 to respond to a request<br>
for the services of a privileged fimction.<br>
1. Receive a request from an application to execute a fimction associated with an<br>
identifier that is passed with the request.<br>
2. Determine the operating mode of the requesting application.<br>
3. If the requesting application is executing in the privileged operating mode, then:<br>
a. Look iqj the requested privileged fimction based on the identifier.<br>
b. Call the privileged fimction.<br>
c. Return to the calling privileged application.<br>
4. If the requesting q)plication is executing in the non-privileged operating mode,<br>
"mi then:<br>
a. Generate a software interrupt and pass the identifier.<br>
b. Transition to a privileged mode interrupt handler.<br>
c. Look \xp the requested privileged fimction based on the identifier.<br>
d. Call the privileged fimction.<br>
e. After the privileged fimction executes, restore the non-privileged<br>
registers<br>
f. Return to the calling non-privileged application.<br>
[0036] In one embodiment, the described fimction handler system comprises program<br>
instiiictions stored on a computer-readable media, which when executed by the<br>
10,<br>
c<br>
processing logic 202, provides the functions described herein. In one or more<br>
embodiments, the computer-readable media comprises a floppy disk, CD, memory card,<br>
FLASH memory device, RAM, ROM, or any other type of memory device.<br>
[0037] FIG, 3 shows a flow diagram 300 that illustrates the operation of one<br>
embodiment of a function handler system for use in a device, for example the device<br>
102. For clarity, the flow diagram 300 will be described with reference to the device<br>
shown in FIG. 2. It will be assumed that the device is executing a BREW runtime<br>
environment that operates to create a thread of execution 302. The execution thread 302<br>
represents the execution of privileged or non-privileged appUcations on the device.<br>
[0038] A system scheduler (not shown) operates to schedule the execution of<br>
^ applications to form the thread of execution 302. Typically, the scheduler operates to<br>
schedule execution based on priority, but may operate to schedule execution based on<br>
other criteria. However, the function handler system described herein provides a<br>
fimction handler that operates within the same thread of execution as a calling<br>
appUcation, thereby avoiding new task creation, associated scheduler complexity, and<br>
possible dispatcher latency.<br>
[0039] The thread of execution 302 represents the execution of either the privileged<br>
appUcation (App-P) or the non-privileged apphcation (App-NP). The executing<br>
appUcation may be a viewer appUcation that allows the device to display various<br>
multimedia content to the device user. As the appUcation executes, a requirement for<br>
the services of a privileged function (Fimc) occm-s. To obtain services from the<br>
,,7^ privileged function, the application calls the FH 304 and passes an identifier that<br>
identifies the privileged function Func. It wiU be assimied that privileged functions<br>
available in the system have an associated identifier that can be discovered by the<br>
executing application. In one or more embodiments, the following functions are<br>
performed by the processing lo^c 202 executing program instructions stored in the code<br>
memoiy 208, which may also process data in the data memory 210.<br>
[0040] At block 306, the FH 304 obtains the identifier that identifies the privileged<br>
-junction Func. For example, the identifier may be passed to the FH in a register<br>
associated with the processing logic 202 or other memory location in the data memory<br>
210.<br>
[0041] At block 308, a test is performed to determine if the calUng application is<br>
executing in the privileged or non-privileged mode. For example, the processing logic<br>
11<br>
determines the current processing mode of the ^plication by evaluating the processor<br>
status registers. If the calUng appUcation is executing in the non-privileged mode, the<br>
method proceeds to block 310. If tibe calling application is executing in the privileged<br>
mode, the method proceeds to block 312.<br>
[0042] At block 312, it has been determined that the ^plication is executing in the<br>
privileged mode. Tlie FH code 304 looks up the requested privileged fimction (i.e.,<br>
Func) based on the received identifier. For example, the processing logic 202 uses the<br>
identifier to access a data structure that maps available functions to identifiers to<br>
detemiine the function being requested by the calling application. The data structure<br>
may be stored in the data memory 210.<br>
[0043] At block 314, the privileged Amotion Func is called to perform the requested<br>
"" service. For example, the privileged Amotion may access a system file or a hardware<br>
resource. In one embodiment, the processing logic executes program instructions to call<br>
the privileged function Func. Upon execution, the function Func may also perform<br>
various parameters checks and validations to verify that the calling application has<br>
passed legal and vaUd parameters. Once the fimction Func has completed executing,<br>
program flow returns to the thread of execution 302.<br>
[0044] Therefore, if a privileged application calls the fimction Func through the FH<br>
304, the FH 304 operates to detennine the requested function, based on the identifier,<br>
and call that function to perform the requested service. If a non-privileged appUcation<br>
calls the fimction Func through the FH 304, the FH 304 operates as follows to provide<br>
tiie requested service.<br>
^^ [0045] At block 310, the FH 304 generates an intexiupt that operates to request that the<br>
operating mode of the device to transition to tiie privileged mode 316 so that the<br>
privileged fimction Func can acecute. The interrupt may be a software internq)t or any<br>
other type of interrupt that may be generated by the FH 304. The interrupt includes the<br>
identifier passed fix)m the calling application. For example, the interrupt may be<br>
generated and/or processed by intemipt logic 224 shown in FIG. 2.<br>
[0046] After the interrupt is generated, program execution flows to privileged mode<br>
- • I<br>
program code 316 where the privileged function Func is call within the same task as the<br>
calling application.<br>
[0047] A brief description of the operation of program code 316 is provided below.<br>
However, for a more detailed description of the operation of the program code 316, the<br>
12<br>
c.<br>
reader is referred to U.S. Patent Application entitled "SYSTEM FOR PROVIDING<br>
TRANSITIONS BETWEEN OPERATING MODES OF A DEVICE" having Attorney Docket No.<br>
030620, which is incorporated by referaice herein.<br>
[0048] After a switch to a privileged mode stack occurs and validation of the passed<br>
function identifier, the program execution flows to block 318.<br>
[0049] At block 318, the desired privileged function is determined based on the passed<br>
identifier. For example, a data structure stored in the data memory 210 is search by the<br>
processing logic 202 based on the identifier to identify the desu-ed function Func.<br>
[0050] At block 320, once the privileged function Func is determined, it is called. For<br>
example, in one embodiment, the processing logic 202 executes instructions stored in<br>
"^ the code memory 208 to call the function Func. The privileged function may operate to<br>
open a particular system file that contains data for use by the calling non-privileged<br>
appUcation. hi one embodiment, additional parameters are passed to the privileged<br>
function fi-om the application. For example, the parameters may further indicate or<br>
define the type of service being requested by the non-privileged application. The<br>
privileged function operates to validate these parameters to verify that execution of the<br>
privileged function will not exceed the privileges granted to the application. For<br>
example, the function operates to validate the parameters so that execution of the<br>
fiinction will not exceed memory restrictions placed on the application.<br>
[0051] At block 322, after the function Func is performed, the non-privileged mode<br>
registers are restored, including the non-privileged mode stack. The program execution<br>
'^€$ retums to the non-privileged amplication thread 302 as shown at path 324.<br>
[0052] It should be noted that the program flow diagram 300 illustrates just one<br>
embodiment and that changes, additions, or rearrangements of the program elements<br>
may be made without deviating from the scope of the invention.<br>
[0053] Accordingly, while one or more embodiments of methods and apparatus for a<br>
function handler system have been illustrated and described herein, it will be<br>
appreciated that various changes can be made to the embodiments without departing<br>
from their spirit or essential characteristics. Therefore, the disclosures and descriptions<br>
herein are intended to be illustrative, but not limiting, of the scope of the invention,<br>
which is set forth in the following claims.<br>
13<br><br><br><br><br><br><br><br><br>
Cleancopy of claims<br>
Indian Patent application No.: 2351/DELNP/2006<br>
#*, We claim<br>
1. A method for allowing an application (106,108) to invoke a function (110) on a<br>
device (102), wherein the device includes at least two operating modes comprising a<br>
privileged mode and a non-privileged mode, and the function (110) executes in the privileged<br>
mode, the method comprising:<br>
receiving a request from the application to invoke the function (110);<br>
determining the operating mode of the application;<br>
invoking the function using an interrupt, if the application (106) is executing in the<br>
non-privileged mode, wherein the function (110) is executed within the same task as the<br>
application(106); and<br>
invoking (314) the function directly, if the application (108) is executing in the<br>
privileged mode.<br>
2. The method as claimed in claim 1, wherein the interrupt is a software interrupt.<br>
3. The method of claim 1 , further comprising determining (318) the function (110)<br>
based on an identifier that is passed with the request.<br>
4. The method as claimed in claim 1, further comprising returning to the application<br>
(106,108) when the execution of the function is completed.<br>
5. The method as claimed in claim 1, wherein the device (102) is a wireless device.<br>
6. Apparatus for allowing an application (106,108) to invoke a function (110) on a<br>
device (102), wherein the device includes at least two operating modes comprising a<br>
privileged mode and a non-privileged mode, and the function (110) executes in the privileged<br>
mode, the apparatus comprising:<br>
means for receiving a request from the application (106,108) to invoke the<br>
function(llO);<br>
means for determining the operating mode of the application (106,108);<br>
Clean copy of claims<br>
Indian Patent application No.: 2351/DELNP/2006<br>
^ ^ means for invoking the function using an interrupt, if the appHcation (106) is<br>
executing in the non-privileged mode, wherein the function (110) is executed within the same<br>
task as the application (106); and<br>
means for invoking the function (110) directly, if the application (108) is executing in<br>
the privileged mode.<br>
7. The apparatus as claimed in claim 6, wherein the interrupt is a software interrupt.<br>
8. The apparatus as claimed in claim 6, further comprising identifier means for<br>
identifying the function(l 10).<br>
9. The apparatus as claimed in claim 6, wherein the device (102) is a wireless device.<br>
10. The apparatus as claimed in any of claims 6 to 9, wherein the means for receiving, the<br>
means for determining, and the means for invoking comprise logic.<br>
Dated this 27
Drishi Kaur Vilkhu<br>
Of Anand and Anand Advocates<br>
Attorney for the Applicant</td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjM1MS1kZWxucC0yMDA2LWFic3RyYWN0LnBkZg==" target="_blank" style="word-wrap:break-word;">2351-delnp-2006-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjM1MS1kZWxucC0yMDA2LUNsYWltcy0oMTgtMDItMjAxNCkucGRm" target="_blank" style="word-wrap:break-word;">2351-delnp-2006-Claims-(18-02-2014).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjM1MS1kZWxucC0yMDA2LUNsYWltcy0oMjEtMDgtMjAxMykucGRm" target="_blank" style="word-wrap:break-word;">2351-delnp-2006-Claims-(21-08-2013).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjM1MS1kZWxucC0yMDA2LWNsYWltcy5wZGY=" target="_blank" style="word-wrap:break-word;">2351-delnp-2006-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjM1MS1kZWxucC0yMDA2LUNvcnJlc3BvbmRlbmNlICBPdGhlcnMtKDIxLTA4LTIwMTMpLnBkZg==" target="_blank" style="word-wrap:break-word;">2351-delnp-2006-Correspondence  Others-(21-08-2013).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjM1MS1kZWxucC0yMDA2LUNvcnJlc3BvbmRlbmNlIE90aGVycy0oMTgtMDItMjAxNCkucGRm" target="_blank" style="word-wrap:break-word;">2351-delnp-2006-Correspondence Others-(18-02-2014).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjM1MS1kZWxucC0yMDA2LWNvcnJlc3BvbmRlbmNlLW90aGVycyAxLnBkZg==" target="_blank" style="word-wrap:break-word;">2351-delnp-2006-correspondence-others 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjM1MS1kZWxucC0yMDA2LWNvcnJlc3BvbmRlbmNlLW90aGVycy5wZGY=" target="_blank" style="word-wrap:break-word;">2351-delnp-2006-correspondence-others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjM1MS1kZWxucC0yMDA2LURlc2NyaXB0aW9uIChDb21wbGV0ZSktKDIxLTA4LTIwMTMpLnBkZg==" target="_blank" style="word-wrap:break-word;">2351-delnp-2006-Description (Complete)-(21-08-2013).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjM1MS1kZWxucC0yMDA2LWRlc2NyaXB0aW9uIChjb21wbGV0ZSkucGRm" target="_blank" style="word-wrap:break-word;">2351-delnp-2006-description (complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjM1MS1kZWxucC0yMDA2LURyYXdpbmdzLSgyMS0wOC0yMDEzKS5wZGY=" target="_blank" style="word-wrap:break-word;">2351-delnp-2006-Drawings-(21-08-2013).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjM1MS1kZWxucC0yMDA2LWRyYXdpbmdzLnBkZg==" target="_blank" style="word-wrap:break-word;">2351-delnp-2006-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjM1MS1kZWxucC0yMDA2LWZvcm0tMS5wZGY=" target="_blank" style="word-wrap:break-word;">2351-delnp-2006-form-1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjM1MS1kZWxucC0yMDA2LWZvcm0tMTgucGRm" target="_blank" style="word-wrap:break-word;">2351-delnp-2006-form-18.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjM1MS1kZWxucC0yMDA2LUZvcm0tMi0oMjEtMDgtMjAxMykucGRm" target="_blank" style="word-wrap:break-word;">2351-delnp-2006-Form-2-(21-08-2013).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjM1MS1kZWxucC0yMDA2LWZvcm0tMi5wZGY=" target="_blank" style="word-wrap:break-word;">2351-delnp-2006-form-2.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjM1MS1kZWxucC0yMDA2LUZvcm0tMy0oMjEtMDgtMjAxMykucGRm" target="_blank" style="word-wrap:break-word;">2351-delnp-2006-Form-3-(21-08-2013).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjM1MS1kZWxucC0yMDA2LWZvcm0tMy5wZGY=" target="_blank" style="word-wrap:break-word;">2351-delnp-2006-form-3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjM1MS1kZWxucC0yMDA2LWZvcm0tNS5wZGY=" target="_blank" style="word-wrap:break-word;">2351-delnp-2006-form-5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjM1MS1kZWxucC0yMDA2LUdQQS0oMjEtMDgtMjAxMykucGRm" target="_blank" style="word-wrap:break-word;">2351-delnp-2006-GPA-(21-08-2013).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjM1MS1kZWxucC0yMDA2LWdwYS5wZGY=" target="_blank" style="word-wrap:break-word;">2351-delnp-2006-gpa.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjM1MS1kZWxucC0yMDA2LXBjdC0zMDQucGRm" target="_blank" style="word-wrap:break-word;">2351-delnp-2006-pct-304.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjM1MS1kZWxucC0yMDA2LXBjdC0zMTEucGRm" target="_blank" style="word-wrap:break-word;">2351-delnp-2006-pct-311.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjM1MS1kZWxucC0yMDA2LXBjdC0zMzIucGRm" target="_blank" style="word-wrap:break-word;">2351-delnp-2006-pct-332.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjM1MS1kZWxucC0yMDA2LXBjdC00MDIucGRm" target="_blank" style="word-wrap:break-word;">2351-delnp-2006-pct-402.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjM1MS1kZWxucC0yMDA2LVBldGl0aW9uLTEzNy0oMjEtMDgtMjAxMykucGRm" target="_blank" style="word-wrap:break-word;">2351-delnp-2006-Petition-137-(21-08-2013).pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="260289-resuming-an-existing-session-between-a-client-device-and-a-host-device.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="260291-a-pharmaceutical-oral-formulation.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>260290</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>2351/DELNP/2006</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>17/2014</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>25-Apr-2014</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>21-Apr-2014</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>27-Apr-2006</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>QUALCOMM INCORPORATED</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>5775 MOREHOUSE DRIVE SAN DIEGO, CLIFORNIA 92121-1741, USA</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>KELLEY BRIAN HAROLD</td>
											<td>10917 CLOVERHURST WAY, SAN DIEGO, CA 92130, USA</td>
										</tr>
										<tr>
											<td>2</td>
											<td>CHANDRASEKHAR RAMESH</td>
											<td>12671 LA TORTOLA, SAN DIEGO, CA 92129, USA</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>G06F</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/US2004/036286</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2004-10-28</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>10/697,355</td>
									<td>2003-10-29</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/260290-method-and-system-for-invoking-a-privileged-function-in-a-device by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2024 23:26:34 GMT -->
</html>
