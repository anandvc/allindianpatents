<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/216288-communication-control-apparatus-for-gans-mitling-digital-and-analog-data-for-a-vehicle by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 10:29:17 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 216288:&quot;COMMUNICATION CONTROL APPARATUS FOR GANS MITLING DIGITAL AND ANALOG DATA FOR A VEHICLE&quot;</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">&quot;COMMUNICATION CONTROL APPARATUS FOR GANS MITLING DIGITAL AND ANALOG DATA FOR A VEHICLE&quot;</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A communication control apparatus comprising: input/output lines for connecting an input/output unit and a central control unit to each other; said central control unit used for carrying out processing of load control based on input data coming from said input/output lines and provided with an A/D conversion means; and said input/output unit wherein an input side of said input/output unit is connected to a plurality of sensors and an output side of said input/output unit is connected to loads such as actuators, said communication control apparatus characterized in that: said input/output lines include a transmission line for transmission of digital data and a transmission line for transmission of analog data; said input/output unit is provided with a bus control means for transmitting special data indicating a sensor type of analog data through said transmission line for transmission of digital data when transmitting said analog data; and said central control unit is provided with a control means for storing received analog data by associating said analog data with a sensor type of said analog data.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>[.DETAILED  DESCRIPTION  OF THE INVENTTON ]<br>
[Field of  the  Invention]<br>
The present invention relates to a communication control apparatus for transmitting analog and digital data.<br>
[Description of the Prior Art]<br>
As an example of a communication control apparatus, a control system employed in a vehicle for controlling a plurality of pieces of electrical equipment mounted on the vehicle is disclosed in Japanese Patent Laid-open No. Hei6-276570.  The disclosed vehicle control system comprises a plurality of input/output means and a central control means.  The input /output means include:<br>
a sensor output reading means for fetching signals output by sensors installed on the electrical equipment;<br>
an input data generating means for generating input data from an output of the sensor output reading means; and<br>
1st communication means each for converting an output of the input data generating means into a signal having a transmission format set in advance and outputting the signal to a data communication network as well as for extracting an energisation signal for energizing the electrical equipment from a signal received from the data communication network.<br>
On the other hand, the central control means comprises a 2nd communication means connected to the data<br>
communication network and a control means for controlling the electrical equipment through the 2nd communication means.  Connected to the data communication network, the 2nd communication means is used for exchanging data with each of the 1st communication means.<br>
By virtue of the vehicle control system described above, the number of microcomputers in use can be reduced, allowing the manufacturing cost of the electrical equipment employed in the vehicle to be cut as well.<br>
In addition, the number of I/O ports provided on the central control means and the number of lines connecting the I/O ports on the central control means to the input /output means can also be reduced, allowing the central control means to be made compact.  Furthermore, a change in input/output means specification entailing a replacement can be implemented by adding or removing lines connecting the I/O ports to the input /output means.  As a result, the development efficiency can also be improved as well.<br>
The disclosure described above also reveals an embodiment wherein an analog signal output by a steering wheel angle sensor is converted into digital data by means<br>
of an A/D converter  for carrying out analog to digital conversion and the digital data is then transmitted to the central control unit. [0005]<br>
Accordingly   the   present   invention   relates   to   a   communication   control<br>
apparatus comprising:    <br>
input/output lines for connecting an input/output unit and a central control unit to each other;<br>
said central control unit used for carrying out processing of load control based on input data corning from said input/output lines and provided with an A/D conversion means; and<br>
said input/output unit wherein an input side of said input/output unit is connected to a plurality of sensors and an output side of said input/output unit is connected to loads such as actuators,<br>
said communication control apparatus characterized in that:<br>
said input/output lines include a transmission line for transmission of digital data and a transmission line for transmission of analog data;<br>
said input/output unit is provided with a bus control means for transmitting special data indicating a sensor type of analog data through said transmission line for transmission of digital data when transmitting said analog data; and<br>
said central control unit is provided with a control means for storing received analog data by associating said analog data with a sensor type of said analog data.<br>
[Problem to be Solved by the Invention] In the conventional communication control<br>
apparatus, if the number of sensors each for outputting an analog signal is increased, it is necessary to provide as many additional A/D converters as sensors newly added.  It is thus desirable to provide a communication control apparatus which allows a common A/D converter of a common A/D conversion unit to be shared among a plurality of sensors. [0006]<br>
[Means for Solving the Problem]<br>
According to claim 1, there is provided a communication control apparatus comprising:<br>
input/output lines for connecting an input/output unit and a central control unit to each other;<br>
said central control unit used for carrying out processing of load control based on input data coming from said input/output lines and provided with an A/D conversion means; and<br>
said input/output unit wherein an input side of<br>
said input/output unit is connected to a plurality of sensors and an output side of said input/output unit is connected to loads such as actuators,<br>
said communication control apparatus characterized in that:<br>
said input/output lines include a transmission line for transmission of digital data and a transmission line for transmission of analog data;<br>
said input/output unit is provided with a bus control means for transmitting specific data indicating a sensor type of analog data through said transmission line for transmission of digital data when transmitting said analog data; and<br>
said central control unit is provided with a control means for storing received analog data by associating said analog data with a sensor type of said analog data. [0007]<br>
When an analog signal is transmitted through the transmission line for transmission of analog data, specific data indicating a sensor type of the analog signal is transmitted through the transmission line for transmission of digital data.  Thus, it is not necessary to physically distribute A/D converters among input units.  As a result,<br>
it is necessary to merely convert an analog signal transmitted through the transmission line dedicated for transmission of analog data into digital data in the central control unit, allowing the communication control apparatus to be made compact and its cost to be reduced. In addition, when a new sensor generating an analog signal is added, the work to newly install an A/D converter for the sensor is not required anymore. [0008]<br>
According to claim 2, said communication control apparatus claimed as claim 1 is further characterized in that:<br>
said input/output unit is provided with internal switches for switching pieces of analog data generated by the same plurality of sensors from a piece to another wherein an output side of said internal switches is connected to said transmission line for transmission of analog data; and<br>
said specific data indicating a sensor type of analog data is information identifying a channel of one of said internal switches. [0009]<br>
By providing the input/output unit with a plurality of internal switches for switching pieces of analog data<br>
generated by the same plurality of sensors from a piece to another, the single transmission line for transmission of analog data is capable of transmitting the analog signals by passing on at a time only an output of one internal switch selected among the internal switches.<br>
In addition, by transmitting specific data used for indicating a sensor type as information identifying a channel of one of the internal switches from the input/output unit to the central control unit through the transmission line for transmission of digital data, the central control unit is allowed to identify which of the sensors has generated the analog signal. [0010]<br>
According to claim 3, said communication control apparatus claimed as claim 2 is further characterized in that said transmission line for transmission digital data is a duplex transmission line for exchanging data as well as acknowledgments of reception of said data between said input/output unit and said central control unit. [0011]<br>
As a result, it is possible to transmit data from the input/output unit to the central control unit and vice versa by using a single duplex transmission line, allowing the number of transmission lines between the input/output<br>
unit and the central control unit and, hence, the size as well as the cost of the communication control apparatus to be reduced. [0012]<br>
According to claim 4, said communication control apparatus claimed as claim 2 is further characterized in that said control means comprises:<br>
an A/D converter connected to said transmission line for transmission of analog data;<br>
a register for storing digital data resulting from conversion by said A/D converter; and<br>
a processing means for processing digital data read out from said register,<br>
wherein:<br>
said A/D converter is used for sequentially converting input analog signals coming from ports one signal after another into digital data; and<br>
upon activation of one of said internal switches in accordance with a request issued by said central control unit, said input/output unit transmits a signal for permitting said processing means to read out data from said register after a time it takes for a voltage of an input signal to sufficiently rise as an analog signal and a time it takes for said A/D converter to convert input analog<br>
signals from all said ports into digital data have lapsed. [0013]<br>
As described above, upon activation of one of the internal switches in accordance with a request issued by the central control unit, the input/output unit transmits a signal for permitting the processing means to read out data from the register after a time it takes for a voltage of a signal generated by a sensor to sufficiently rise as an analog signal and a time it takes for the A/D converter to convert input signals from all said ports into digital data have lapsed.  As a result, it is possible to read in an accurate value of an analog signal generated by each of the sensors connected to the input/output unit as digital data.<br>
[BRIEF DESCRIPTION OF THE DRAWINGS]<br>
A preferred embodiment of the present invention has been described with reference to the following diagrams wherein:<br>
Fig. 1 is a simple block diagram showing the configuration of a communication control apparatus provided by the present invention;<br>
Fig. 2 is an explanatory diagram showing in more detail an input/output unit employed in the communication apparatus shown in Fig. 1;<br>
Fig. 3 is a diagram showing the format of a data frame;<br>
Fig. 4 is a block diagram showing major components<br>
composing another embodiment implementing the communication control apparatus provided by the present invention; and<br>
Fig. 5 shows timing charts of operations carried out by the communication control apparatus provided by the present invention shown in Fig. 4.<br>
 [0014]<br>
[Detailed Description of the Preferred Embodiment]<br>
The present invention will become more apparent from a careful study of the following- detailed description of a preferred embodiment with reference to accompanying diagrams.<br>
Fig. 1 is a simple block diagram showing the configuration of a communication control apparatus provided by the present invention. [0015]<br>
As shown in the figure, the communication control<br>
apparatus comprises an input/output unit 2, a central control unit 3, input/output lines A1-, Bl and B2 connecting the input/output unit 2 to the central control unit 3.  The input/output lines Al, Bl and B2 are used for transmitting data exchanged between the input/output unit 2 and the central control unit 3.  The central control unit 3 carries processing to execute load control based on data received through the input/output lines Al, Bl and B2.  An operation switch 4 as well as sensors 8 and 9 are connected to the input side of the input/output unit 2.  On the other hand, loads such as an actuator are connected to the output side of the input/output unit 2.<br>
The input/output lines Bl and B2 are each a transmission line for transmitting digital data while the input/output line Al is a transmission line for transmitting an analog signal.<br>
When an analog signal is transmitted, data indicating a channel of the analog signal is transmitted through the transmission line Bl used for digital data transmission.<br>
A load can be a motor 5 as shown in Fig. 1, a solenoid coil of an electromagnetic valve or an indicator lamp. [0016]<br>
The input/output line Bl is used for transmitting data from the input/output unit 2 to the central control unit 3 and for transmitting an acknowledgment of reception of the data by the central control unit 3 from the central control unit 3 to the input/output unit 2.  By the same token, the input/output line B2 is used also for transmitting data from the central control unit 3 to the input/output unit 2 and for transmitting an acknowledgment of reception of the data by the input/output unit 2 from the input/output unit 2 to the central control unit 3. [0017]<br>
Since the input/output lines Bl and B2 are provided, it is possible to avoid collision of data transmitted from the input/output unit 2 to the central control unit 3 with data transmitted from the central control unit 3 to the input/output unit 2.  In addition, it is also possible to avoid collision of transmitted data and an acknowledgment of reception of the transmitted data. Furthermore, while the central control unit 3 is transmitting data through one of the input/output lines, say, the input/output line Bl, the unit 3 is capable of receiving other data transmitted thereto through the other input/output line B2. [0018]<br>
Next, the operation of the communication control apparatus is explained as follows.<br>
Assume that the operation switch 4 of, for example, a cassette tape recorder is turned on.  In this case, a state detection signal indicating the on state of the operation switch 4 is supplied to a bus controller 23 employed in the input/output unit 2 by way of an interface circuit 21 of the input/output unit 21.  The bus controller 23 converts the state detection signal into a data frame determined in advance and supplies the data frame to the input/output line Bl by way of an input/output driver circuit 24. [0019]<br>
In the central control unit 3, the data frame coming from the input/output line Bl is received by an input/output driver circuit 34 and then supplied to a bus controller 33.  The bus controller 33 carries out a parity check on the incoming data frame.  If no parity error is detected, the state detection signal is extracted back from the data frame and data for acknowledging the reception of the state reception signal is converted into a data frame determined in advance.  This acknowledgment data frame is then output to the input/output line Bl by way of the input/output driver circuit 34.<br>
 [0020]<br>
In the input/output unit 2, the acknowledgment data frame coming from the input/output line Bl is received by the input/output driver circuit 24 and then supplied to the bus controller 23.  The bus controller 23 finally extracts the data for acknowledging the reception from the acknowledgment data frame to verify the completion of the data transmission.<br>
In the mean time, a microcomputer 31 employed in the central control unit 3 carries out processing to control an operation to drive the motor 5 based on the state detection signal supplied thereto by the bus controller 33, outputting a driving control signal to the bus controller 33. [0021]<br>
The bus controller 33 converts the driving control signal into a data frame determined in advance and outputs the data frame to the input/output line B2 by way of the input/output driver circuit 35. [0022]<br>
In the input/output unit 2, the data frame coming from the input/output line B2 is received by the input/output driver circuit 25 and then supplied to the bus controller 23.  The bus controller 23 carries out a parity<br>
check on the incoming data frame.  If no parity error is detected, the driving control signal is extracted back from the data frame and data for acknowledging the reception of the driving control signal is converted into an acknowledgment data frame determined in advance.  This acknowledgment data frame is then output to the input/output line B2 by way of the input/output driver circuit 25. [0023]<br>
In the central control unit 3, the acknowledgment data frame coming from the input/output line B2 is received by the input/output driver circuit 35 and then supplied to the bus controller 33.  The bus controller 33 finally extracts the data for acknowledging the reception from the acknowledgment data frame to verify the completion of the data transmission.<br>
The bus controller 23 employed in the input/output unit 2 then drives a driving circuit 22 which in turn drives a load such as the motor 5 in accordance with the driving control signal. [0024]<br>
Assume that sensor 8 is a steering wheel angle sensor and the sensor 9 is a temperature sensor.  The sensors 8 and 9 each generate an analog signal.  The analog<br>
signals generated by the sensors 8 and 9 are supplied to switches 28 and 29 employed in an analog switch unit 26 in the input/output unit 2 respectively.  In the communication control apparatus shown in Fig. 1, the analog switch unit 26 employs only the 2 switches 28 and 29 employed therein. It should be noted that the analog switch unit 26 can include 3 or more switches. [0025]<br>
The following is a description of operations to turn on the switch 28 and supply an analog signal generated by the sensor 8 connected to the switch 28 to the A/D converter 32 employed in the central control unit 3.<br>
First of all, the bus controller 23 employed in the input/output unit 2 issues a command to the analog switch unit 26 to open the switches 28 and 29, putting the switches 28 and 29 in an open state.  Then, the bus controller 23 outputs data indicating that the switch 28 has been closed and data indicating the type of the sensor 8 connected to the switch 28 to the input/output line Bl, one of the transmission lines for transmission of digital data, by way of the input/output driver circuit 24. [0026]<br>
The bus controller 33 employed in the central control unit 3 receives the data from the input/output line<br>
Bl through the input/output driver circuit 34 and, after putting the switches 38 and 39 in an open state, closes the switch 38 which serves as the counterpart of the switch 28.<br>
After the switch 38 has been closed, the bus controller 33 outputs an acknowledgment of the reception of the data indicating that the switch 28 has been closed to the input/output line B2, the other transmission line for transmission of digital data, by way of the input/output driver circuit 35. [0027]<br>
The bus controller 23 employed in the input/output unit 2 receives the acknowledgment of the reception of the data indicating that the switch 28 has been closed from the input/output line B2 through the input/output driver circuit 25 and puts the switch 28 in a closed state, terminating the operation to transmit the data which indicates that the switch 28 has been closed.<br>
With the switch 28 put in a closed state, an analog signal generated by the sensor 8 is supplied to the A/D converter 32 by way of a path comprising the switch 28 employed in the input/output unit 2, the input/output line Al for transmission analog data and the switch 38 employed in the central control unit 3.<br>
The same operations are carried out when the switch<br>
29 employed in the input/output unit 2 is closed.<br>
It should be noted that the bus controller 23 employed in the input/output unit 2 alternately puts the switches 28 and 29 in a closed state at predetermined intervals.<br>
The digital data resulting from the A/D conversion which represents a steering wheel angle or a detected temperature is used as a base by the microcomputer 31 for carrying out processing to execute various kinds of control.  The central control unit 3 then transmits data for load control to the input/output unit 2 by way of the input/output line B2. [0028]<br>
When an analog signal is transmitted through the input/output line Al, data indicating the type of a sensor generating the analog signal is transmitted through the input/output line Bl for digital data transmission.  Thus, it is not necessary to physically distribute A/D converters 32 among input units.  As a result, it is necessary to merely convert an analog signal transmitted through the input/output line Al dedicated for analog signal transmission into digital data in the central control unit 3 and to store the digital data in a memory of the microcomputer 31 which serves as a control means by<br>
associating the digital data with the type of the sensor, allowing the communication control apparatus to be made compact and its cost to be reduced.  In addition, when a new sensor generating an analog signal is added, the work to newly install an A/D converter for the sensor is not required anymore. [0029]<br>
Fig. 2 is an explanatory diagram showing the input/output unit 2 in more detail.  It should be noted that the figure shows mainly the bus controller 23 and the input/output driver circuit 24.  Designed into the same configuration as the input/output driver circuit 24, the input/output driver circuit 25 is not shown in the figure.<br>
As shown in the figure, the bus controller 23 comprises a data frame conversion circuit 6h, an AND circuit 6a, an OR circuit 6r, a NOT circuit 6n and 4 3-state buffers 6x, 6y, 6z and 6w.<br>
4 output signal lines of the 4 3-state buffers 6x, 6y, 6z and 6w are connected to the bases of 4 transistors Ql, Q2, Q3 and Q4 employed in the input/output driver circuit 24 respectively.  The input/output driver circuit 24 is a totem-pole driving circuit wherein, when the transistors Ql and Q4 are turned on, the transistors Q2 and Q3 are turned off.   When the transistors Ql and Q4 are<br><br>
turned off, on the other hand, the transistors Q2 and Q3<br>
are turned on.<br>
[0030]<br>
The input/output line El is actually implemented by a pair of wires.  One of the wires is connected to a point of junction between the transistors Ql and Q2 and to a + input terminal of a comparator CP through a resistor.  On the other hand, the other wire is connected to a point of junction between the transistors Q3 and Q4 and to a-input terminal of the comparator CP through a resistor.  A signal output by the comparator CP is supplied to the data frame conversion circuit 6h employed in the bus controller 23. [0031]<br>
The data frame conversion circuit 6h converts a signal coming from the interface circuit 21 such as a state detection signal into a data frame determined in advance and outputs the data frame by way of an OUT1 terminal.  At that time, an ILD1 terminal of the data frame conversion circuit 6h is at an L level.<br>
The data frame conversion circuit 6h receives a data frame from the comparator CP by way of an INI terminal, carrying out a parity check on the incoming data frame.  Then, data for acknowledging the reception of the data frame is extracted from the data frame.<br>
In addition, the data frame conversion circuit 6h supplies a select signal at predetermined intervals from an EN terminal thereof to the decoder 27 employed in the analog switch unit 26. [0032]<br>
Fig. 3 is an explanatory diagram showing the format of a data frame created in the bus controllers 23 and 33 and transmitted through the input/output lines Bl and B2. As shown in the figure, the data frame is composed of 16 bits.  A start bit at the head of the data frame is 1 bit in length and always set at an L level. [0033]<br>
A data address bit following the start bit is also 1 bit in length.  A data address bit set at an L level indicates a data frame to be supplied to a higher level port.  On the other hand, a data address bit set at an H level indicates a data frame to be supplied to a lower level port. [0034]<br>
A function address bit following the data address bit is also 1 bit in length.  A function address bit set at an L level indicates a data frame associated with an analog signal.  On the other hand, a function address bit set at an H level indicates a data frame for digital data.  That<br>
is to say, when transmitting data indicating a channel of an analog signal, the function address bit is set at an L level.  In cases other than transmission of data indicating a channel of an analog signal, the function address bit is set at an H level. [0035]<br>
A data area following the function address bit is 8 bits in length.  The data area is used for recording data representing a state detection signal or a driving control signal.  In other words, data extracted from the data area represents a state detection signal or a driving control signal.<br>
The bus controllers 23 and 33 receive data in parallel and supplies the data to a shift register to be converted into serial data.  The serial data can then be stored in the data area. [0036]<br>
A parity bit following the data area is 1 bit in length.  The value of the parity bit represents parity of the rest of the data frame, from the data address bit to the data area. [0037]<br>
A stop bit following the parity bit is also 1 bit in length.  The stop bit is always set at an H level.<br>
[0038]<br>
Acknowledge bits following the stop bit are 2 bits in length.  The acknowledge bits are used for storing data for acknowledging reception.  In other words, data extracted from the acknowledge bits represents an acknowledgment of reception of transmitted data.  In actuality, however, only 1 of the acknowledge bits is used to indicate the validity of reception.  To put it in detail, an L level of this bit indicates that a data frame has been received by the bus controller of the communication partner with no error or that the received data frame is valid.  On the other hand, an H level of this bit indicates that a data frame has been received by the bus controller of the communication partner with an error detected or that the received data frame is invalid. [0039]<br>
An end bit following the acknowledge bits is also 1 bit in length.  Always set at an H level, the end bit is the last bit of the data frame. [0040]<br>
It should be noted that the data frame conversion circuit 6h shown in Fig. 2 can also be built from logic circuits (hardware).<br>
The bus controller 23 also includes an OUT2<br>
terminal, an IDL2 terminal and an IN2 terminal which have similar functions as the OUT1 terminal, an IDL1 terminal and an INI terminal described above respectively.  In addition, the bus controller 23 also includes an AND circuit 7a, an OR circuit 7r, a NOT circuit 7n and 4 3-state buffers 7x, 7y, 7z and 7w which have the same functions as the AND circuit 6a, the OR circuit 6r, the NOT circuit 6n and the 4 3-state buffers 6x, 6y, 6z and 6w described above respectively.  The IN2 terminal and the outputs of the 3-state buffers 7x, 7y, 7z and 7w are connected to the input/output driver circuit 25 which has the same configuration as the input/output driver circuit 24 as the INI terminal and the outputs of the 3-state buffers 6x, 6y, 6z and 6w are connected to the input/output driver circuit 24.<br>
The bus controller 33 employed in the central control unit 3 can be designed into the same configuration as the bus controller 23 of the input/output unit shown in Fig. 2. [0041]<br>
Fig. 4 is a block diagram showing major components composing another embodiment implementing the communication control apparatus provided by the present invention.<br>
As shown in the figure, the communication control<br>
apparatus 40 comprises 3 input/output units 41, 42 and 43, a central control unit 50 and a single digital bus 61 used as a duplex transmission line for transmission of digital data in both directions as well as a single analog bus 62 used as a transmission line for transmission of analog data.<br>
It should be noted that the input/output units 41, 42 and 43 are connected to the digital bus 61 through terminals Dl, D2 and D3 respectively.  By the same token, the input/output units 41, 42 and 43 are connected to the analog bus 62 through terminals AXl, AX2 and AX3 respectively. [0042]<br>
The input/output units 41, 42 and 43 each comprise an analog switch unit 44, a decoder 45 and a communication 1C 46.  Composed of switches for 8 channels, the analog switch unit 44 closes one of the switches of the 8 channels identified by a code supplied thereto by the decoder 45. [0043]<br>
On the other hand, input terminals 00 to 70 of the analog switch 44 employed in the input/output unit 41 are connected to a variety of sensors S10 to S17 respectively. An analog signal generated by one of the sensors connected to a closed switch of the analog switch unit 44 is<br><br>
transmitted to the central control unit 50 by way of the terminal AX1, the analog bus 62 and a terminal AO on the central control unit 50.<br>
It should be noted the sensors S10 to S17 are each a sensor which exhibits a gradual change in output with the lapse of time.  Examples of the sensors S10 to S17 are a water temperature sensor, an atmospheric pressure sensor and an intake air temperature sensor. [0044]<br>
The communication 1C 46 receives a code identifying a channel transmitted by the central control unit 50 by way of a terminal DO on the central control unit 50, the digital bus 61 and the terminal Dl, supplying the code to the decoder 45.  The communication 1C 46 also outputs data indicating that a sensor signal is ready to be read in to the digital bus 61. [0045]<br>
It should be noted that the input/output units 42 and 43 are the same as the input/output units 41 except that the input terminals 00 to 70 of the analog switch unit 44 are connected to different sensors S20 to S27 in the case of the input/output terminal unit 42 and to still different sensors S30 to S37 in the case of the input/output terminal unit 43.<br>
 [0046]<br>
The central control unit 50 comprises an A/D converter 51 connected to the analog bus 62 for transmission of analog data, a register unit 52 for storing digital data resulting from analog-to-digital conversion by the A/D converter 51, a CPU 53 for processing digital data read in from the register unit 52, a RAM unit 54 and a communication 1C 55.<br>
The A/D converter 51 has typically 6 input ports A/DO to A/D5 each provided for a channel.  The input ports A/DO to A/D4 are connected to sensors SMI to SMS respectively.  The sensors SMI to SMS are each a sensor exhibiting a fast change with the lapse of time or a sensor used in high speed processing such as ignition and FI (fuel injection).  It is the input port A/D5 that connects the A/D converter 51 to the analog bus 62 by way of the terminal AO.<br>
Examples of the sensors SMI to SMS are a<br>
potentiometer of ABS data, a throttle sensor and a knocking sensor which are used in high speed processing.  Analog signals generated by the sensors SMI to SMS are supplied to the A/D converter 51. [0047]<br>
The A/D converter 51 converts analog signals<br><br>
supplied to the input ports A/DO to A/D5 into digital data one signal after another by sequentially scanning the input ports A/DO to A/D5 and stores the digital data in the register unit 52. [0048]<br>
The register unit 52 comprises registers Rl to R6 for temporarily storing the digital data resulting from the analog-to digital conversion of the analog signals supplied to the input ports A/DO to A/D5.  The digital data stored in the register unit 52 is supplied to the CPU 53 to be stored in the RAM unit 54 or to be processed by the CPU 53. The CPU 53 executes control of the whole operation of the communication control apparatus 40 based on a program provided in advance. [0049]<br>
The communication 1C 55 transmits a code<br>
identifying a channel of the switch unit 44 to each of the input/output unit 41, 42 or 43 through the digital bus 61 and receives data indicating that a sensor signal is ready to be input from the input/output units 41, 42 and 43.  The data indicating that a sensor signal can be input from the input/output units 41, 42 and 43 is passed on to the CPU 53 which then reads in digital data of the sensor signal stored temporarily in the register unit 52 and processes<br>
the digital data or stores the digital data in the RAM unit<br>
54.<br>
[0050]<br>
Next, communication between the central control unit 50 and the input/output units 41 to 42 is explained by referring to Fig. 5 which shows timing charts of operations carried out by the communication control apparatus 40 provided by the present invention.  To be more specific, the timing charts shown in the figure represent an operation carried out by the CPU 53 to select one of the switches in the analog switch unit 44, analog-to-digital conversion to convert an analog signal generated by a sensor connected to the selected switch into digital data and an operation to store the digital data into the register unit 52. [0051]<br>
Assume that, in the example shown in Fig. 5, the CPU 53 employed in the central control unit 50 outputs digital data as a command requesting data input from the sensor S13 connected to the input/output unit 41.  In this case, the communication 1C 55 converts the data requesting command into a code identifying one of the switches in the analog switch 44 that is connected to the sensor S13 and transmits the digital data representing the code to the<br>
input/output unit 41 through the digital bus 61. [0052]<br>
The communication 1C 46 employed in the<br>
input/output 41 receives the code from the digital bus 61, actuating the analog switch unit 44 to select one of the switches thereof for channel #3 of the sensor S13 through the decoder 45.  It should be noted that channel #3 is denoted by notation Nch in Fig. 5. [0053]<br>
Since the switch for channel #3 is connected to the sensor S13, at the time the analog switch unit 44 selects the switch, an analog signal generated by the sensor S13 is supplied right away to the input port A/D5 of the A/D converter 51 through the analog bus 62. [0054]<br>
The communication 1C 46 then transmits data indicating that an analog signal generated by the sensor SI 3 can be input to the communication 1C 55 after a time it takes for the voltage of the sensor signal to sufficiently rise as an analog signal and a time it takes for the A/D converter 51 to convert input signals from all the input ports A/DO to A/D5 into digital data in 1 round of scanning have lapsed. [0055]<br><br>
The communication 1C 55 passes on the data indicating that an analog signal generated by the sensor S13 can be input to the CPU 53.  Receiving the data, the CPU 53 lets the A/D converter 51 convert the analog signal supplied to the input port A/D5 by the sensor S13 into digital data and lets the register unit 52 store the digital data in the register R6 thereof.<br>
As a result, since a time it takes for the voltage of the sensor signal to sufficiently rise as an analog signal and a time it takes for the A/D converter 51 to convert the analog signal into digital data at least once have lapsed since the selection of the channel before the CPU 53 reads out the result of the conversion, the analog signal can be detected with a high degree of accuracy. [0056]<br>
As described above, in the communication control apparatus provided by the present invention, since an input/output unit transmits data indicating that an analog signal generated by a sensor can be read out from the register unit to the central control unit after a time it takes for the voltage of the sensor signal to sufficiently rise as an analog signal and a time it takes for the A/D converter to convert input signals from all the input ports into digital data have lapsed, an accurate value of an<br>
analog signal generated by any sensor connected any of the input/output units can be read in as a digital signal. [0057]<br>
The communication control apparatus provided by the present invention can be mounted on a vehicle and used as a communication control apparatus for the vehicle.  In this case, as a power supply voltage Vc applied to the communication control apparatus, the voltage of the battery of the vehicle can be used.<br>
In addition, the embodiments described are no more than examples of an implementation of the present invention which are therefore not intended to be construed in a limiting sense.  That is to say, it is needless to say that the scope of the present invention is not limited to the embodiments . [0058]<br>
[Effects of the Invention]<br>
According to the present invention, when an analog signal is transmitted from the input/output unit to the central control unit through an input/output line dedicated for analog signal transmission, data indicating a channel of the analog signal is also transmitted from the input/output unit to the central control unit through another input/output line dedicated for digital data<br>
transmission. "Thus, it is not necessary to physically distribute A/D converters among input-units.  As a result, it is necessary to merely convert an analog signal transmitted through the input/output line dedicated for analog signal transmission into digital data in the central control unit, allowing the communication control apparatus to be made compact and its cost to be reduced.  In addition, when a new sensor generating an analog signal is added, the work to newly install an A/D converter for the sensor is not required anymore. [0059]<br>
In addition, according to the present invention, it is possible to avoid collision of data transmitted from the input/output unit to the central control unit with data transmitted from the central control unit to the input/output unit.  In addition, it is also possible to avoid collision of transmitted data and an acknowledgment of reception of the transmitted data.  Furthermore, while the central control unit is transmitting data through one of the input/output lines, the central control unit is capable of receiving other data transmitted thereto through another one of the input/output lines. [0060]<br>
Moreover, according to the present invention, a<br>
signal for allowing a processing means employed in a central control unit to read in data from a register is not transmitted to the central control unit till a time it takes for the voltage of a sensor signal to sufficiently rise as an analog signal and a time it takes for an A/D converter employed in the central control unit to convert input signals from all input ports thereof into digital data lapse, an accurate value of an analog signal generated by any sensor connected an input/output unit can be read in as a digital signal.<br>
 [LIST OF REFERENCE NUMERALS]<br>
2, 41, 42 and 43  Input/output units<br>
3	and 50 Central control units<br>
4	Operation switch<br>
5	Motor<br>
6a AND circuit<br>
6h Data frame conversion circuit<br>
6n NOT circuit<br>
6r OR circuit<br>
6x, 6y, 6z and 6w 3-state buffers<br>
8 and 9 Analog sensors each used for generating an analog<br>
signal<br>
21	Interface circuit<br>
22	Driving circuit<br>
23	and 33 Bus controller (Bus control means)<br>
24, 25, 34 and 35  Input/output driver circuits<br>
26 and 36 Analog switch units each provided with a group of switches<br><br>
27,	37 and 45  Decoders<br>
28,	29, 38 and 39  Switches<br><br>
31	and 53 Microcomputers<br>
32	and 51 A/D converters<br>
46 and 55 Communication ICs<br>
61	Digital bus<br>
62	Analog bus<br>
Al  Input/output line for transmission of an analog data<br>
Bl and B2  Input/output lines each used for transmission of<br>
digital data<br>
CP Comparator<br>
C8 and C9  Sample hold capacitors<br>
Ql and Q3  PNP transistors<br>
Q2 and Q4 NPN transistors<br>
R8 and R9  Resistors<br>
Vc Power supply voltage<br><br><br><br><br><br><br>
WE CLAIM:<br>
1. A communication control apparatus for transmitting an analog and digital data for a vehicle comprising:<br>
input/output lines for connecting an input/output unit and a central control unit to each other;<br>
said central control unit used for carrying out processing of load control based on input data coming from said input/output lines and provided with an A/D conversion means; and<br>
said input/output unit wherein an input side of said input/output unit is connected to a plurality of sensors and an output side of said input/output unit is connected to loads such as actuators,<br>
said communication control apparatus characterized in that:<br>
said input/output lines include a transmission line for transmission of digital data and a transmission line for transmission of analog data;<br>
said input/output unit is provided with a bus controller for transmitting specific data indicating a sensor type of analog data through said transmission line for transmission of digital data when transmitting said analog data; and<br>
said central control unit is provided with a control means for storing received analog data by associating said analog data with a sensor type of said analog data.<br>
2.	A communication control apparatus as claimed in claim  1,<br>
wherein said input/output unit is provided with internal switches<br>
for switching pieces of analog data generated by the same plurality<br>
of sensors from a piece to another wherein an output side of said<br>
internal   switches   is   connected   to   said   transmission   line   for<br>
transmission of analog data; and<br>
said specific data indicating a sensor type of analog data is information identifying a channel of one of said internal switches.<br>
3.	A communication control apparatus as claimed in claims 1 or<br>
2 wherein said transmission line for transmission digital data is a<br>
duplex    transmission    line    for    exchanging    data    as    well    as<br>
acknowledgments    of    reception    of    said    data    between    said<br>
input/output unit and said central control unit.<br>
4.	A communication control apparatus as claimed in claim 2<br>
wherein said control means comprises:<br>
an A/D converter connected to said transmission line for transmission of analog data;<br>
a register for storing digital data resulting from conversion by said<br>
A/D converter; and<br>
a processing means for processing digital data read out from said register,<br>
wherein:<br>
said A/D converter is used for sequentially converting input analog signals coming from ports one signal after another into digital data; and upon activation of one of said internal switches in accordance with a request issued by said central control unit, said input/output unit transmits a signal for permitting said processing means to read out data from said register after a time it takes for a voltage of an input signal to sufficiently rise as an analog signal and a time it takes for said A/D converter to convert input analog signals from all said ports into digital data have lapsed.<br>
5. A communication control apparatus for transmitting an analog and digital data for a vehicle substantially as hereinbefore described with reference to the accompanying drawings.<br><br><br><br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTg0NS1kZWwtMTk5OC1hYnN0cmFjdC5wZGY=" target="_blank" style="word-wrap:break-word;">1845-del-1998-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTg0NS1kZWwtMTk5OC1jbGFpbXMucGRm" target="_blank" style="word-wrap:break-word;">1845-del-1998-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTg0NS1kZWwtMTk5OC1jb3JyZXNwb25kZW5jZS1vdGhlcnMucGRm" target="_blank" style="word-wrap:break-word;">1845-del-1998-correspondence-others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTg0NS1kZWwtMTk5OC1jb3JyZXNwb25kZW5jZS1wby5wZGY=" target="_blank" style="word-wrap:break-word;">1845-del-1998-correspondence-po.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTg0NS1kZWwtMTk5OC1kZXNjcmlwdGlvbiAoY29tcGxldGUpLnBkZg==" target="_blank" style="word-wrap:break-word;">1845-del-1998-description (complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTg0NS1kZWwtMTk5OC1kcmF3aW5ncy5wZGY=" target="_blank" style="word-wrap:break-word;">1845-del-1998-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTg0NS1kZWwtMTk5OC1mb3JtLTEucGRm" target="_blank" style="word-wrap:break-word;">1845-del-1998-form-1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTg0NS1kZWwtMTk5OC1mb3JtLTEzLnBkZg==" target="_blank" style="word-wrap:break-word;">1845-del-1998-form-13.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTg0NS1kZWwtMTk5OC1mb3JtLTE5LnBkZg==" target="_blank" style="word-wrap:break-word;">1845-del-1998-form-19.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTg0NS1kZWwtMTk5OC1mb3JtLTIucGRm" target="_blank" style="word-wrap:break-word;">1845-del-1998-form-2.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTg0NS1kZWwtMTk5OC1mb3JtLTMucGRm" target="_blank" style="word-wrap:break-word;">1845-del-1998-form-3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTg0NS1kZWwtMTk5OC1mb3JtLTQucGRm" target="_blank" style="word-wrap:break-word;">1845-del-1998-form-4.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTg0NS1kZWwtMTk5OC1mb3JtLTYucGRm" target="_blank" style="word-wrap:break-word;">1845-del-1998-form-6.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTg0NS1kZWwtMTk5OC1ncGEucGRm" target="_blank" style="word-wrap:break-word;">1845-del-1998-gpa.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTg0NS1kZWwtMTk5OC1wZXRpdGlvbi0xMzcucGRm" target="_blank" style="word-wrap:break-word;">1845-del-1998-petition-137.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTg0NS1kZWwtMTk5OC1wZXRpdGlvbi0xMzgucGRm" target="_blank" style="word-wrap:break-word;">1845-del-1998-petition-138.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="216287-method-for-providing-marking-on-the-pull-tab-of-a-can-end.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="216289-phosphonate-compounds.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>216288</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>1845/DEL/1998</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>13/2008</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>28-Mar-2008</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>12-Mar-2008</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>30-Jun-1998</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>HONDA GIKEN KOGYO KABUSHIKI KAISHA.</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>1-1, MINAMIAOYAMA 2-CHOME, MINATO-KU, TOKYO, JAPAN.</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>MORIO SATO</td>
											<td>C\O KABUSHIKI KAISHAN HONDA GIJUTSU KENKYUSHO</td>
										</tr>
										<tr>
											<td>2</td>
											<td>KATSUHIRO OHUCHI</td>
											<td>4-1 CHUO 1-CHOME, WAKO-SHI, SAITAMA, JAPAN.</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>G05B 23/02</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>N/A</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td></td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>HEI-9-176224</td>
									<td>1997-07-01</td>
								    <td>Japan</td>
								</tr>
								<tr>
									<td>2</td>
									<td>HEI-10-168452</td>
									<td>1998-06-16</td>
								    <td>Japan</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/216288-communication-control-apparatus-for-gans-mitling-digital-and-analog-data-for-a-vehicle by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 10:29:18 GMT -->
</html>
