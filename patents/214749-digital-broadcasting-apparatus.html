<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/214749-digital-broadcasting-apparatus by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 08:47:04 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 214749:&quot;DIGITAL BROADCASTING APPARATUS&quot;</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">&quot;DIGITAL BROADCASTING APPARATUS&quot;</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A broadcasting system which includes a broadcasting apparatus and a reception apparatus and which achieves interactiveness using a broadcast wave.&amp;nbsp;The broadcasting apparatus includes a content storing unit for storing the plurality of contents,•each content including a set of video data and a set of control information that indicates another content that is a link destination for a present content, and a transmitting unit for multiplexing a set of video data and a plurality of sets of the same control information included in a same content as the set of video data, and for transmitting the multiplexed sets of video data and control information.&amp;nbsp;The reception apparatus includes an extracting unit for extracting a set of video data and a set of control information in a same content as the set of video data, a storing unit for storing the extracted set of control information, a reproducing unit for reproducing the extracted set of video data and outputting an image signal, an operation unit for receiving a user operation that indicates a content switching, and a control unit for controlling the extracting unit to extract another content indicated by thecset of control information stored in the storing unit, in accordance with the user operation.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>TITLE OF THE INVENTION<br>
DIGITAL BROADCASTING SYSTEM, DIGITAL BROADCASTING APPARATUS, AND A RECEPTION APPARATUS FOR DIGITAL BROADCASTS<br>
BACKGROUND OF THE INVENTION<br>
1.	Field of the Invention<br>
The present invention relates to a digital broadcasting system.<br>
2.	Description of the Related Art<br>
Since the development of digital satellite<br>
i broadcasting in recent years, there has been a great<br>
increase in the number of programs being provided on an ever greater number of channels.  For digital satellite broadcasting, large numbers of channels are possible by multiplexing the channels together into a single frequency band.  This multiplexing is performed using what is called a "transport stream" under MPEG2 (Moving Pictures Experts Group2) standard.  This technique is described in detail in the documentation for IS/IEC Standard 13818-1 (MPEG2 system standard).<br>
Digital satellite broadcasting has a drawback in that image information is transmitted one-directionally from a transmitter, so that no interaction between the receiver and the transmitter is possible.  However, users would be able to enjoy a greater variety of programs if they were able to<br>
make interactive selections of image information in accordance with the content of the image information received by the receiver terminal.<br>
SUMMARY OF THE INVENTION<br>
It is a primary object of the present invention to provide a digital broadcasting apparatus that one-directionally broadcasts a broadcast wave which, when received by a reception apparatus, gives the user the impression of interaction that is achieved through bidirectional communication.  Here, it is the object of the<br>
1<br>
present invention to further provide a reception apparatus, a digital broadcasting system, and a recording medium for recording a program to be used by a reception apparatus. The above object can be achieved by a broadcasting apparatus for broadcasting an interactive program composed of a plurality of contents that are linked to one another, the broadcasting apparatus including: a content storing unit for storing the plurality of contents, each content including a set of video data and a set of control information that indicates another content that is a link destination for a present content, and a transmitting unit for multiplexing a set of video data and a plurality of sets of the same control information included in a same content as the set of video data, and for transmitting the multiplexed sets of video data and control information.<br>
Here, the content storing unit may include: a first storing unit for storing the sets of video data included in the plurality of contents; a second storing unit for storing the sets of control information included in the plurality of contents; and a construction table storing unit for storing a construction table showing correspondence between the sets of video data stored in the first storing unit and the sets of control information stored in the second storing unit.<br>
Here, the transmitting unit may include: a<br>
multiplexing unit for reading the plurality of sets of video data stored in the first storing unit and the plurality of sets of control information stored in the second storing unit as respective digital data streams, and multiplexing the digital data streams to generate a multiplexed stream; a multiplexing control unit for referring to the construction table and controlling the multiplexing unit to multiplex the plurality of sets of video data and to repeatedly multiplex a set of control information corresponding to a set of video data; and a broadcasting unit for placing the multiplexed stream generated by the multiplexing unit onto a digital broadcast wave and broadcasting the digital broadcast wave.<br>
Here, the content storing unit may further include: a third storing unit for storing sets of audio data that correspond to the sets of video data, wherein the construction table storing unit stores correspondence between a set of video data, a set of audio data, and a set<br>
of control information included in each of the plurality of contents, and wherein the multiplexing unit also multiplexes the sets of audio data stored in the third storing unit into the multiplexed stream.<br>
With the above construction, control information is repeatedly multiplexed with the video data and is transmitted, so that the reception apparatus can perform reproduction while interactively switching between contents in accordance with user operations.  This is to say, the present digital broadcasting apparatus can provide<br>
interactive programs using a one-directional broadcast.<br>
i Here, each content may include a plurality of sets of<br>
control information, each set of control information including a set of link information showing contents that are link destinations and a set of time information indicating a valid period for the present control information within the reproduction period of the set of video data corresponding to the present set of control information, and the multiplexing control unit may control the multiplexing unit to repeatedly multiplex each set of control information with the corresponding set of video data during the valid period of the set of control information.<br>
With the stated construction, the digital broadcasting apparatus can repeatedly and freely multiplex different sets of control information for different periods within the reproduction time of sets of video data, so that the link<br>
destination contents and number of potential links can be dynamically changed in accordance with the content of the video data.  As a result, each content can be linked to appropriate link destination contents for the content of each scene in the video data.<br>
Here, the multiplexing control unit may control the multiplexing unit to repeatedly multiplex each set of control information with the corresponding video data starting from a predetermined time before the valid period of the set of control information, the predetermined time<br>
being sufficiently long to enable a reception apparatus to<br>
t process a set of control information.<br>
With the stated construction, control information is repeatedly multiplexed with the video data starting from a predetermined time before the valid period of the control information, so that when a content is being reproduced by the reception apparatus, the reception apparatus will have enough time to process new control information which has a different valid period.<br>
Here, the multiplexing control unit may append a version number, reflecting the valid period of each set of control information, to each set of control information in a given content.<br>
With the stated construction, the reception apparatus can obtain new control information with a different valid period for a same content using the version numbers.<br>
Here, each set of control information stored by the second storing unit may include a set of link information showing contents that are link destinations and supplementary images representing menu items for each link destination.<br>
With the stated construction, menu items for assisting user operations in the reception apparatus can be freely set in each set of control information.<br>
Here, at least one set of control information may include: a plurality of sets of additional information<br>
representing one of text and a graphic image that is to be<br>
i displayed superimposed onto the corresponding video data;<br>
and a set of script information that validates one of the sets of additional information within a reception apparatus, in accordance with a user operation.<br>
With the stated construction, sets of control information can be provided with script information and a plurality of sets of additional information, with the reception apparatus being able to interactively switch between the sets of additional information.  As one example, when the video data expresses a weather forecast and the sets of additional information provide a plurality of supplementary explanations (text or graphics) relating to the content of the video data, switching of the display of supplementary explanations can be performed using the script information in accordance with the user operations.  By<br>
doing so, one pair of a set of video data and a set of control information can be used to express what are effectively a plurality of contents.<br>
Here, at least one set of control information may include: at least two groups of a set of link information and supplementary images; a set of initial information showing a group of a set of link information and supplementary images that is valid at a start of reproduction by a reception apparatus for a content including the present set of control information; and a set<br>
of script information that changes a valid setting in the<br>
i reception apparatus in accordance with a user operation.<br>
With the stated construction, sets of control information are provided with a plurality of groups which may be switched according to the script information, so that an effective increase in the number of link destination contents can be achieved.<br>
Here, each group of a set of link information and supplementary image may further include a set of additional information representing one of text and a graphic image that is to be displayed superimposed onto the corresponding video data.<br>
With the stated construction, the groups are provided with additional information, so that one pair of a set of video data and a set of control information can be used to effectively express a plurality of contents that have<br>
different link destination contents according to the additional information.<br>
The object of the present invention can also be achieved by a broadcasting apparatus for broadcasting an interactive program composed of a plurality of contents that are linked.to one another, the broadcasting apparatus including-an image storing unit storing a plurality of sets of video data and a plurality of sets of still image data; a control information storing unit for storing sets of type 1 control information and sets of type 2 control information, the sets of type 1 control information being elements of contents including video images, the sets of type 2 control information being elements of contents including still images, and the sets of type 1 control information and sets of type 2 control information including sets of link information that indicate contents which are link destinations for a present content; a construction table storing unit.storing a first construction table showing correspondence between sets of video data and sets of type 1 control information and a second construction table showing correspondence between sets of still image data and sets of type 2 control information; a first multiplexing unit for generating a first multiplexed stream by multiplexing a set of video data in the first construction table and repeatedly multiplexing a set of type 1 control information corresponding to the set of video data; a second<br>
multiplexing unit for generating a second multiplexed stream by repeatedly multiplexing a plurality of sets of still image data in the second construction table with a set of type 2 control information; and a broadcasting unit for placing the multiplexed stream generated by the multiplexing unit onto a digital broadcast wave and broadcasting the digital broadcast wave.<br>
With the stated construction, interactive programs that are made up of two types of contents, which is to say video-based contents and still-based contents, can be<br>
broadcasted.  Type 1 and type 2 control information can have<br>
i both kinds of contents as link destination contents, so that<br>
a reception apparatus can perform reproduction switching between both kinds of content in accordance with user operations.  In this way, very impressive interactive programs can be realized.<br>
The above object can also be achieved by a reception apparatus for receiving a broadcast wave including an interactive program composed of a plurality of contents that are linked to one another, wherein the broadcast wave includes a multiplexed stream into which different sets of video data have been multiplexed with a plurality of sets of control information showing a link to another content, the sets of control information being repeatedly multiplexed, the reception apparatus including: an extracting unit for extracting a set of video data and a set of control<br>
'information in a same content as the set of video data; a storing unit for storing the extracted set of control information; a reproducing unit for reproducing the extracted set of video data and outputting an image signal; an operation unit for receiving a user operation that indicates a content switching; and a control unit for controlling the extracting unit to extract another content indicated by the set of control information stored in the storing unit, in accordance with the user operation.<br>
With the stated construction, the reception apparatus<br>
can behave interactively as if two-way communication were<br>
t being performed, despite only using a one-directional<br>
broadcast of image information, meaning that users can enjoy interactive programs.  Since the control information is repeatedly transmitted, the storing unit only requires enough storage capacity to store the control information for one content.<br>
Here, first identification information may be appended to each set of video data and second identification information is appended to each set of control information, and wherein the sets of control information include first identification information and second identification information which express a content of a link destination, the extracting unit may include: a first judging unit for judging the first identification information appended to sets of video data in the broadcast wave; a second judging<br><br>
unit for judging the second identification information<br>
appended to sets of control information in the broadcast wave; an obtaining unit for obtaining a set of video data and when the first judging unit judges that the first identification information coincides with specified identification information indicated by the control unit and obtaining a set of control information when the second judging unit judges that the second identification information coincides with specified identification information, the reproducing unit may reproduce the set of<br>
video data obtained by the obtaining unit, and the storing<br>
i unit may store the set of control information obtained by<br>
the obtaining unit.<br>
With the stated construction, the reception apparatus judges the sets of video information and control information and obtains the appropriate data, so that the only the data to be reproduced is obtained, thereby improving the reception efficiency.<br>
Here, a set of entry information giving first identification information and second identification information for the content to be reproduced first may be multiplexed into the multiplexed stream, the control unit may send an indication to the extracting unit to extract the set of entry information when the operation unit has received a selection operation for a multiplexed stream from a user, the extracting unit may further include: an entry<br>
/information extracting unit for receiving the indication from the control unit and extracting the set of entry information from the multiplexed stream; and an entry information storing unit for storing the set of entry information extracted by the entry information extracting unit, wherein the control unit may give the obtaining unit an indication of the first identification information and second identification information included in the entry information as the specified identification information.<br>
With the stated construction, the reception apparatus<br>
can extract the content to be reproduced first in accordance<br>
with the entry information, so that contents which contain<br>
important information, such as a main menu, can definitely be reproduced.<br>
Here, the link information may include an identifier of a set of video data and an identifier of a set of control information which show a content of a link destination, the first identification information and second identification information may be IDs (identifiers) of digital data streams which represent a set of video data and a set of control information in the multiplexed stream, a correspondence table, showing correspondence between the identifiers for sets of video data and the first identification information and correspondence between the identifiers for sets of control information and the second identification information, may be multiplexed into the multiplexed stream<br>
and repeatedly transmitted, and the extracting unit may extract the correspondence table and the control unit may refer to the correspondence table, convert an identifier of the set of video data included in the link information into first identification information and an identifier of the set of control information into second identification information and inform the extracting unit of the converted first and second identification information.<br>
With the stated construction, the interactive programs of the present invention are broadcast using a digital satellite broadcast according to MPEG2 standard, so that the<br>
I<br>
present invention can be achieved by modifying a conventional digital satellite broadcast tuner.<br>
Here, at least one set of control information may include link information showing a content of a link destination and supplementary images that include a menu item image for each link destination, the reproducing unit may include: a video data reproducing unit for reproducing the set of video data obtained by the obtaining unit; and an image reproducing unit for reproducing supplementary images stored by the storing unit superimposed onto the video data, wherein'the operation unit may receive a user selection of a menu item image, and wherein the control unit may determine the first identification information and the second identification information of a link destination content in accordance with the link information and the menu item image<br>
Selected by the user.<br>
With the stated construction, menu item images are displayed by the reception apparatus, assisting the interactive operations of the user and enabling the achievement of impressive interactive programs.<br>
Here, at least one set of control information may include additional information which expresses one of a text image and a graphics image, and wherein the reproducing unit may additionally reproduce one of the text image and graphics image stored in the storing unit superimposed onto the video data.<br>
1<br>
With the stated construction, additional images such as text or graphics are displayed in addition to the video data, making the interactive programs even more impressive.<br>
Here, each set of control information may include valid period information showing a valid period of the set of control information, wherein each content may have a plurality of sets of control information which have different valid periods, and wherein the reproducing unit may reproduce supplementary images stored in the storing unit only during a valid period of the set of control information stored in the storing unit.<br>
With the stated construction, sets of control information with different valid periods within the reproduction time of video data are repeatedly multiplexed, so that the link destination contents and number of<br>
potential links can be dynamically changed in accordance with the content of the video data.  As a result, each content can be linked to appropriate link destination contents for the content of each scene in the video data. As a result, the user of the reception apparatus can gain greater enjoyment from the interactive programs which have link destinations that correspond to the video scenes.<br>
Here, each of the plurality of sets of control information for a same content has a version number that reflects the valid period, and wherein the control unit<br>
controls the extracting unit to extract a set of control<br>
information which has a next version number, when one set of<br>
control information has been extracted by the extracting unit.<br>
With the above construction, the reception apparatus can use the version numbers for the content presently being reproduced and so obtain following sets of control information with different valid periods.<br>
Here, at least one set of control information may include a plurality of sets of additional information which each express one of a text image and a graphics image to be displayed superimposed onto the video data, and a set of script information that validates one of the sets of additional information within a reception apparatus, in accordance with a user operation, wherein the control unit may determine a valid set of additional information by<br>
Interpreting and executing the script information stored in the storing unit, and wherein the reproducing unit may reproduce one of the text image and the graphics image included in the valid set of additional information based on a result of interpreting and executing by the control unit. With- the stated construction, the reception apparatus does not need to obtain new control information, and so can perform content switching in accordance with the script information.  Such content switching performed entirely by the execution of script information is much more responsive to user operations.<br>
t<br>
Here, the multiplexed stream may include sets of audio data corresponding to the sets of video data, wherein the extracting unit may extract a set of audio data corresponding to a set of video data from the broadcast wave, and wherein the reproducing unit may additionally reproduce the extracted set of audio data.<br>
With the stated construction, interactive programs composed of contents including video, stills, and audio can be realized.<br>
The stated object can also be achieved by a recording medium used by a reception apparatus that includes a receiving unit for receiving a broadcast wave including an interactive program composed of a plurality of contents that are linked to one another, an extracting unit for extracting one digital data stream from the broadcast wave, and a<br><br>
reproducing unit for reproducing a set of video data and outputting an image signal, the recording medium storing a program that includes the following steps: an extracting step for extracting a set of video data and a set of control information in a same content as the set of video data from the broadcast wave; a storing step for storing the extracted set of control information into a memory in the reception apparatus; a reproducing step for reproducing the extracted set of video data and outputting an image signal; a judging step for judging whether a user operation indicating a switching of content has been made; and a control step for<br>
I<br>
controlling the extracting unit to extract another content indicated by the set of control information stored in the memory, when the judging step judges that a user operation indicating a switching of content has been made.<br>
With the stated recording medium, the program can be installed into a conventional reception apparatus (satellite broadcast tuner), so that the present invention can be easily realized.<br>
The present invention relates to a broadcasting apparatus for broadcasting an interactive program composed of a plurality of contents that are linked to one another, the broadcasting apparatus comprising:<br>
•	first storing means for storing a plurality of sets of video data that each<br>
have an identifier, each set of video data being an element of a content<br>
that composes an interactive program;<br>
•	second storing means for storing a plurality of sets of control<br>
information that each have an identifier, each set of control information<br>
being another element of a content that composes an interactive<br>
program and each set of control information including a set of link<br>
information that shows an identifier of a set of control information for a<br>
content that is a link destination;<br>
•	construction table storing means for storing a construction table<br>
showing correspondence between the sets of video data stored in the<br>
first storing means and the sets of control information stored in the<br>
second storing means for each content, wherein the content includes a<br>
plurality of control 0V*information and a valid period table, the valid<br>
period table indicating a valid period for a set of control information<br>
within the reproduction period of the corresponding set of video data,<br>
for each of the plurality of sets of control information included in a<br>
given content,;<br>
•	multiplexing means for reading the plurality of sets of video data stored<br>
in the first storing means and the plurality of sets of control information<br>
stored in the second storing means as respective digital data streams, and<br>
for multiplexing the digital data streams to generate a multiplexed<br>
stream;<br>
•	multiplexing control means for referring to the construction table and<br>
controlling the multiplexing means to multiplex the plurality of sets of<br>
video data and to repeatedly multiplex a given set of control information<br>
with the corresponding set of video data during the valid period of the<br>
given set of control information based on the valid period table, and<br>
appending a version number, reflecting the valid period of each set of<br>
control information, to each set of control information, in a given<br>
content; and<br>
•	broadcasting means for placing the multiplexed stream generated by the<br>
multiplexing means onto a digital broadcast wave and broadcasting the<br>
digital broadcast wave.<br>
The present invention also includes a reception apparatus for receiving a<br>
broadcast wave including an interactive program composed of a plurality of<br>
contents that are linked to one another, wherein the broadcast wave includes a<br>
multiplexed stream into which different sets of video data have been<br>
multiplexed with a plurality of sets of control information showing a link to<br>
another content, the sets of control information being repeatedly multiplexed,<br>
each content corresponding to a plurality of sets of control information which<br>
have different valid periods, each set of control information having a version<br>
number	which	reflects	the	valid	period,<br>
the reception apparatus comprising.<br>
•	extracting means for extracting a set of video data and a set of control<br>
information in a same content as the set of video data;<br>
•	storing means for storing the extracted set of control information;<br>
•	reproducing means for reproducing the extracted set of video data and<br>
outputting an image signal;<br>
•	operation means for receiving a user operation that indicates a content<br>
switching and<br>
•	control means for controlling the extracting means to extract another<br>
content indicated by the set of control information stored in the storing<br>
means, in accordance with the user operation, wherein the control<br>
means controls the extracting means to extract a set of control<br>
information which has a next version number, when one set of control<br>
information has been extracted by the extracting means.<br>
The present invention also includes a broadcasting system which comprises a broadcasting apparatus, and a reception apparatus for achieving interactiveness using a broadcast wave, the broadcasting apparatus comprising:<br>
•	first storing means for storing a plurality of sets of video data that each<br>
have an identifier, each set of video data being an element of a content<br>
that composes an interactive program;<br>
•	second storing means for storing a plurality of sets of control<br>
information that each have an identifier, each set of control information<br>
being another element of a content that composes an interactive<br>
program and each set of control information including a set of link<br>
information that shows an identifier of a set of control information for a<br>
content that is a link destination;<br>
•	construction table storing means for storing a construction table<br>
showing correspondence between the sets of video data stored in the<br>
first storing means and the sets of control information stored in the<br>
second storing means;<br>
•	multiplexing means for reading the plurality of sets of video data stored<br>
in the first storing means and the plurality of sets of control information<br>
stored in the second storing means as respective digital data streams, and<br>
for multiplexing the digital data streams to generate a multiplexed<br>
stream;<br>
•	multiplexing control means for referring to the construction table and<br>
controlling the multiplexing means to multiplex the plurality of sets of<br>
video data and to repeatedly multiplex a set of control information<br>
corresponding to a set of video data; and<br>
•	broadcasting means for placing the multiplexed stream generated by the<br>
multiplexing means onto a digital broadcast wave and broadcasting the<br>
digital broadcast wave,<br>
wherein each content includes a plurality of sets of control information,<br>
wherein the construction table storing means includes a valid period table indicating a valid period for a set of control information within the reproduction period of the corresponding set of video data, for each of the plurality of sets of control information included in a given content,<br>
wherein the multiplexing control means controls the multiplexing means to repeatedly multiplex a given set of control information with the corresponding set of video data during the valid period of the given set of control information, based on the valid period table,<br>
wherein the multiplexing control means controls the multiplexing means to repeatedly multiplex each set of control information with the corresponding video data starting from a predetermined time before the valid period of the set of control information, the predetermined time being sufficiently long to enable a reception apparatus to process a set of control information, and<br>
wherein the multiplexing control means appends a version number, reflecting the valid period of each set of control information, to each set of control information in a given content,<br>
the reception apparatus comprising:<br>
•	extracting means for extracting a set of video data and a set of control<br>
information in a same content as the set of video data;<br>
•	storing means for storing the extracted set of control information;<br>
•	reproducing means for reproducing the extracted set of video data and<br>
outputting an image signal;<br>
•	operation means for receiving a user operation that indicates a content<br>
switching; and<br>
•	control means for controlling the extracting means to extract another<br>
content indicated by the set of control information stored in the storing<br>
means, in accordance with the user operation,<br>
wherein each content corresponds to a plurality of sets of control information which have different valid periods,<br>
wherein each set of control information has aversion number which reflects the valid period, and<br>
wherein the control means controls the extracting means to extract a set of control information which has a next version number, when one set of control information has been extracted by the extracting means.<br>
BRIEF DESCRIPTION OF THE INVENTION<br>
These and other objects, advantages and features of the invention will become apparent from the following description thereof taken in conjunction with the accompanying drawings which illustrate a specific embodiment.<br>
of the invention.  In the drawings:<br>
Fig. 1 shows a plurality of examples of contents which are selectively reproduced by a reception apparatus;<br>
Fig. 2 is an expansion of the left side of Fig. 1;<br>
Fig. 3 is an expansion of the right side of Fig. 1;<br>
Fig. 4 shows the construction of the digital broadcasting apparatus and reception apparatus in the digital broadcasting system of the first embodiment of the present invention;<br>
Fig. 5 shows a plurality of examples of contents which compose an interactive program;<br>
I<br>
Figs. 6A and 6B show example sets of image data which are stored by- the presentation information storage unit in the present embodiment;<br>
Figs. 6C and 6D show example sets of audio data which are stored by the presentation information storage unit in the present, embodiment;<br>
Fig. 7 shows an example of the navigation information which is stored by the navigation information storage unit in the present embodiment;<br>
Fig. 8 shows another example of the navigation information which is stored by the navigation information storage unit in the present embodiment;<br>
Fig. 9 shows another example of the navigation information which is stored by the navigation information storage unit in the present embodiment;<br>
Fig. 10 shows another example of the navigation information which is stored by the navigation information storage unit in the present embodiment;<br>
Fig. 11 shows another example of the navigation information which is stored by the navigation information storage unit in the present embodiment;<br>
Fig. 12 shows an example of the construction information table which is stored by the construction information storage unit in the present embodiment;<br>
Fig. 13 shows an example of the entry information<br>
which is stored by the construction 'information storage unit<br>
in the present embodiment;<br>
Fig. 14 shows an example of the multiplexing information table stored by the multiplexing information storage unit in the present embodiment;<br>
Fig. 15 shows an example of the content identifier assigning table generated by the multiplexing control unit in the present embodiment;<br>
Fig. 16 shows an example of the version number assigning table generated by the multiplexing control unit in the present embodiment;<br>
Fig. 17 shows an example of a navigation information table generated by the navigation information table generating unit in the present embodiment;<br>
Fig. 18 shows another example of a navigation information table generated by the navigation information<br>
table generating unit in the present embodiment;<br>
Fig. 19 shows another example of a navigation information table generated by the navigation information table generating unit in the present embodiment;<br>
Fig. 20 shows another example of a navigation information table generated by the navigation information table generating unit in the present embodiment;<br>
Fig. 21 shows another example of a navigation information table generated by the navigation information table generating unit in the present embodiment;<br>
Fig. 22A shows an example of the NIT generated by the<br>
t system information table generating unit in the present<br>
embodiment; '<br>
Fig. 22B shows an example of the SDT generated by the system information table generating unit in the present embodiment;<br>
Fig. 22C shows an example of the EIT generated by the system information table generating unit in the present embodiment;<br>
Fig. 23 shows an example of the PAT generated by the system information table generating unit in the present embodiment;<br>
Fig. 24 shows an example of the PMT generated by the system information table generating unit in the present embodiment;<br>
Fig. 25 shows the detailed content of the<br>
Entry_Descriptor in the PMT generated by the system information table generating unit in the present embodiment;<br>
Figs. 26A to 26D show the details of the<br>
NE__Component_Descriptor in the PMT generated by the system information table generating unit in the present embodiment;<br>
Figs. 27A and 27B show the details of the stream_identifier_descriptor in the PMT generated by the system information table generating unit in the present embodiment;<br>
Fig. 28 is a graphic representation of a transport<br>
stream multiplexed by the multiplexing unit in the present<br>
embodiment;<br>
Fig. 29 is a graphic representation of a transport stream multiplexed by the transmission unit in the present embodiment;<br>
Figs. 30 to 32 are flowcharts showing the operation of the data transmission apparatus in the present embodiment;<br>
Figs. 33A and 33B are examples of filter conditions stored by the filter condition storage unit in the TS decoder unit of the present embodiment;<br>
Figs. 34A to 34D are examples of display images displayed by the display unit in the present embodiment;<br>
Figs. 35A and 35B are examples of display images displayed by the display unit in the present embodiment;<br>
Fig. 36 is a flowchart showing an overview of the reception processing for an interactive program;<br>
Fig. 37 is a flowchart showing the details of the content switching process shown in Fig. 36;<br>
Fig. 38 is a flowchart showing the details of the image data switching process shown in Fig. 37;<br>
Fig. 39 is a flowchart showing the details of the audio data switching process shown in Fig. 37;<br>
Fig. 40 is a flowchart showing the details of the navigation information switching process shown in Fig. 37;<br>
Fig. 41 is a flowchart for the interactive control processing performed according to the navigation information;<br>
1<br>
Fig. 42 is a flowchart showing the user I/F processing performed according to the navigation information;<br>
Fig. 43 shows examples of other interactive programs which are composed of the four contents 10 to 13;<br>
Figs. 44 to 47 show four sets of navigation information which correspond to contents 10 to 13;<br>
Fig. 48 shows a set of navigation information which corresponds to all contents 10 to 13;<br>
Fig. 49 shows examples of contents which are each displayed as one frame on the display screen of the reception apparatus;<br>
Fig. 50 is a model representation of the transmission data transmitted by the transmission apparatus;<br>
Fig. 51 a model representation of the transmission of the transmission data from the transmission apparatus;<br>
Fig. 52 shows the construction of the data transmission apparatus and the data reception apparatus in the second embodiment of the present invention;<br>
Fig. 53A shows an example of the image data stored by the presentation information storage unit in the present embodiment;<br>
Fig. 53B shows another example of the image data stored by the presentation information storage unit in the present embodiment;<br>
Fig. 54 shows an example of the navigation information<br>
which is stored in the navigation information storage unit<br>
t of the present embodiment;<br>
Fig. 55 shows another example of the navigation information which is stored in the navigation information storage unit of the present embodiment;<br>
Fig. 56 shows an example of the construction<br>
information table and the entry information which are stored in the construction information storage unit of the present embodiment;<br>
Fig. 57 shows an example of the multiplexing information table stored in the multiplexing information storage unit of the present embodiment;<br>
Fig. 58 shows an example of the content identifier assigning table generated by the multiplexing control unit of the present embodiment;<br>
Fig. 59 shows an example of the display image<br>
information identifier assigning table which is generated by the multiplexing control unit of the present embodiment;<br>
Fig. 60 shows the state when the identifier information appending unit of the present embodiment has appended the identifier VE_id to the private area of the bitstream for the image data;<br>
Fig. 61 shows an example of a navigation information table generated by the navigation information table generating unit of the present embodiment;<br>
Fig.' 62 shows another example of a navigation information table generated by the navigation information<br>
1<br>
table generating unit of the present embodiment;<br>
Fig. 63A shows an example of the stream correspondence table generated by the stream correspondence information table generating unit in the present embodiment;<br>
Fig. 63B shows another example of the stream correspondence table generated by the stream correspondence information table generating unit in the present embodiment;<br>
Fig. 63C shows another example of the stream correspondence table generated by the stream correspondence information table generating unit in the present embodiment;<br>
Fig. 64 is a model representation of a transport stream which has been multiplexed by the multiplexing unit of the present embodiment;<br>
Fig. 65 is a model representation of another transport stream which has been multiplexed by the multiplexing unit<br>
of the present embodiment;<br>
Fig. 66A shows an example of the NIT generated by the system information table generating unit of the present embodiment;<br>
Fig. 66B shows an example of the SDT generated by the system information table generating unit of the present embodiment;<br>
Fig. 66C shows an example of the EIT generated by the system information table generating unit of the present embodiment;<br>
Fig. 67 shows an example of the PAT generated by the<br>
t<br>
system information table generating unit of the present embodiment;<br>
Fig. 68 shows an example of the PMT generated by the system information table generating unit of the present embodiment;<br>
Fig. 69A shows the details of the Entry_Descriptor in the PMT generated by the system information table generating unit of the present embodiment;<br>
Fig. 69B shows the details of the<br>
NE_Component_Descriptor in the PMT generated by the system information table generating unit of the present embodiment;<br>
Fig. 69C shows the details of the VE_Information Component_Descriptor in the PMT generated by the system information table generating unit of the present embodiment;<br>
Fig. 69D shows the details of the<br>
stream_identifier_descriptor in the PMT generated by the system information table generating unit of the present embodiment;<br>
Fig. 70 is a model representation of the transport stream multiplexed by the transmission unit of the present embodiment;<br>
Fig. 71 is a flowchart showing the operation of the data transmission apparatus of the present embodiment;<br>
Fig. 72 is a flowchart showing the operation of the data transmission apparatus of the present embodiment;<br>
Fig. 73 is a flowchart showing the operation of the<br>
i data transmission apparatus of the present embodiment;<br>
Fig. 74A shows examples of the filter conditions which<br>
are stored by the filter condition storage unit of the TS<br>
decoder unit of the present embodiment;<br>
Fig. 74B shows other examples of the filter conditions<br>
which are .stored by the filter condition storage unit of the<br>
TS decoder unit of the present embodiment;<br>
Fig. 75A shows an example display screen which is<br>
displayed by the display unit in the present embodiment/Fig. 75B shows another example display screen which is<br>
displayed by the display unit in the present embodiment;<br>
Fig. 75C shows another example display screen which is<br>
displayed by the display unit in the present embodiment;<br>
Fig. 76 is a flowchart showing the showing the entire<br>
operation of the data receiver apparatus of the present<br>
embodiment;<br>
Fig. 77 is a flowchart showing the details of the processing in S2410 of the present embodiment;<br>
Fig. 78 is a flowchart showing the details of the processing in S2504 of the present embodiment;<br>
Fig. 79 is a flowchart showing the details of the processing in S2506 of the present embodiment;<br>
Fig. 80 is a flowchart showing the details of the processing in S2416 of the present embodiment;<br>
Fig. 81 shows the construction of the digital<br>
broadcasting apparatus of the third embodiment of the<br>
present invention;<br>
Figs. 82A and 82B show examples of the construction information tables stored in the construction information storage unit of the third embodiment;<br>
Fig. 83 shows an example of the navigation information in the third embodiment;<br>
Figs. 84A to 84C are representations of sets of video data in the third embodiment;<br>
Fig. 85 shows the relation between scenes in the video data and the sets of navigation information;<br>
Fig. 86 also shows the relation between scenes in the video data and the sets of navigation information;<br>
Fig. 87 shows a specific example of a set of navigation information;<br>
Fig. 88 shows another specific example of a set of<br>
navigation information;<br>
Fig.	89 shows another specific example of a set of<br>
navigation	information;<br>
Fig.	90 shows another specific example of a set of<br>
navigation	information;<br>
Fig.	91 shows another specific example of a set of<br>
navigation	information;<br>
Fig.	92 shows another specific example of a set of<br>
navigation	information;<br>
Fig.	93 shows another specific example of a set of<br>
navigation information;<br>
i Fig. 94 shows another specific example of a set of<br>
navigation information;<br>
Fig. 95 shows a specific example of a set of navigation information which corresponds to a plurality of contents;<br>
Fig. 96 shows an example of a navigation information table;<br>
Fig. 97 shows an example of a transport stream multiplexed by the transmission unit;<br>
Fig. 98 is a block diagram showing the construction of the data reception apparatus in the present embodiment;<br>
Fig. 99 shows an example of the filter condition table stored by the filter condition storage unit;<br>
Fig. 100 is a flowchart for the control executed by the reception control unit; and<br>
Fig.'. 101 is also a flowchart for the control executed by the reception control unit.<br>
DESCRIPTION OF THE PREFERRED EMBODIMENTS<br>
0. Outline Description of the Present Invention<br>
An outline description of the interactive programs achieved by digital broadcasting is given below, prior to the description of the construction of the broadcasting apparatus and reception apparatus in the digital<br>
broadcasting system of the present invention.<br>
i The broadcasting apparatus in the present digital<br>
broadcasting system broadcasts interactive programs composed of contents that feature links to one another.  The reception apparatus receives these interactive programs and reproduces them, interactively switching between contents as requested by a user.<br>
The term "content" here refers to information which forms each compositional element of an interactive program and so is the unit of information used when interactive switching operations are made by a user.  In the present embodiment, there are two types of contents which are namely stream-based contents and page-based contents.  Here, stream-based contents are contents which are mainly used for moving pictures (video), while page-based contents are contents which are mainly used for displaying still images.<br>
Fig. 1 shows a plurality of examples of contents which are selectively reproduced by a reception apparatus. Expansions of the left and right side of Fig. 1 are shown in Fig. 2 and Fig. 3, respectively.  Here, the line "A-A"' in Figs. 2 and 3 shows the boundary between the two halves of Fig. 1.<br>
In the present figures, numerals 100S-105S, 105S', and 105S" denote stream-based contents, while numerals 100P-106P denote page-based contents.<br>
Content 100S represents video and audio for a world travel guide which gives a succession of introductions of<br>
t<br>
various countries around the world, such as China, Japan, and Egypt, as well as menus composed of a plurality of button images (hereinafter referred to as buttons) which are only displayed during the video display of the corresponding destination.  These buttons are used to make user selections of other contents which are linked to the present content. Simplified representations of several scenes (or frames) out of the sets of video introducing different countries are also shown in Figs. 1 to 3 in order of their reproduction times.  As one example, scene 100S1 represents a travel guide for China, while scene 100S2 represents a travel guide for Japan.  When switching from scene 100S1 to scene 100S2, the displayed menu also changes from the menu for China to the menu for Japan.  The link destinations for the displayed buttons also change from the contents for the travel guide<br>
for China to the contents for the travel guide for Japan.<br>
Contents 101S, 102S, and 103S include the same video and audio for introductions of various countries around the world as content 100S, but include different menus for the countries being introduced and text information which may be supplementary information for the country being introduced.<br>
Content 104S is composed of video and audio for a travel guide about Japan which successively introduces different areas of Japan, such as Osaka and Nara, with a menu composed of buttons which correspond to the region<br>
currently being displayed.<br>
Contents 105S, 105S', and 105" include the same video<br>
and audio as content 104S, but have different menus for the various regions being introduced.<br>
Content 100P represents a still image showing a world weather forecast, as well as buttons for different countries, such as Japan, China, or Taiwan, which are link destination contents.<br>
In the same way, contents 101P to 106P represent still images showing weather forecasts for different regions and countries which are the link destinations, as well as buttons for the different link destinations.<br>
The interactive program which contains the contents described above is reproduced by the reception apparatus with interactive switching of contents being performed in accordance with user requests.  The arrows in Figs. 1 to 3<br>
show examples of switching between contents.<br>
As one example, when the user makes an operation to select and activate the "Weather" button during the reproduction of scene 100S1, the reproduction apparatus switches the reproduction to the link destination, content 100P, as shown by the arrow in Fig. 2.  As a result, the user is shown a still image for a main menu that informs the user of the weather around the world.  Here, if the user makes an operation to select and activate the "Return" button during the reproduction of content 100P, the<br>
reproduction apparatus switches the reproduction to scene<br>
t 100S2 at that point, as shown"by the arrow in Fig. 2.  In<br>
this way, switching is performed between stream-based contents and page-based contents.<br>
As another example, if the user makes an operation to select and activate the "Transport" button during the reproduction of scene 101S1 (a scene with a submenu including items such as transport to Japan and accommodation), the reproduction apparatus switches the reproduction to the link destination, scene 102S1, as shown by the arrow in Fig. 2.  As a result, the user is shown text information which gives a supplementary explanation about transport to Japan.  Here, if the user makes an operation to select and activate the "Return" button during the reproduction of scene 101S1, the reproduction apparatus switches the reproduction to scene 101S2, as shown by the<br><br>
arrow in Fig. 2.  In this way, switching is performed b.etween different stream-based contents.<br>
As another example, if the user makes an operation to select and activate the "Osaka" button during the reproduction of content 104P (a main menu showing the weather in Japan), the reproduction apparatus switches the reproduction to the link destination, content 106P, as shown by the arrow in Fig. 2.  As a result, the user is shown a weather forecast for Osaka, Japan.  Here, if the user makes an operation to select and activate the "Return" button during the reproduction of content 106P, the reproduction<br>
t<br>
apparatus switches the reproduction to content 104P. In this way, switching is performed between different page-based contents.<br>
This concludes the overview of the present invention. Below, the first embodiment will describe the construction of a digital broadcasting system for realizing an interactive program composed of stream-based contents, while the second embodiment will describe the construction of a digital broadcasting system for realizing an interactive program composed of page-based contents and the third embodiment will describe the construction of a digital broadcasting system for realizing an interactive program composed of both types of contents.<br>
1. First Embodiment<br>
The following explanation will first deal with the interactive programs composed of stream-based contents (in the present embodiment, hereinafter abbreviated to "contents"), before describing the construction of the digital broadcasting system.<br>
The content S100 shown in Figs. 1 and 2 expresses video data and audio data for video and audio which give a world travel guide, as well as a plurality of sets of navigation information which express supplementary explanations and menus composed of a plurality of buttons corresponding to the countries being displayed.<br>
The sets of navigation information referred to here can be provided so as to correspond to the reproduced content of the video data during given time periods.  As one example, one set of navigation information (set as "version 1") may be provided for scene 100S1 which includes a travel guide for China, while another set of navigation information (set as "version 2") may be provided for scene 100S2 which includes a travel guide for Japan and another set of navigation information (set as "version N") may be provided for a scene which includes a travel guide for Egypt.<br>
Contents 101S to 103S share the same video data and audio data for the world travel guide as content 100S, and also include a plurality of sets of navigation information which correspond to the reproduced content of the video data during given time periods.<br>
The reproduction apparatus is able to switch from a content which is currently being displayed to a different stream-based content because navigation information is transmitted by the broadcasting apparatus along with the video data and audio data, according to the method described below.<br>
Navigation information is repeatedly transmitted by the broadcasting apparatus during the reproduction time of the image data.  When doing so, the transmitted navigation information corresponds to the reproduced content of the<br>
video data for the given time period, so that each set of<br>
i<br>
navigation information is only repeatedly transmitted during the time period to which it corresponds.<br>
As one example, during the reproduction time of the travel guide for China included in scene S100S1, the navigation information for version 1 is repeatedly transmitted.  Similarly, during the reproduction time of the travel guide for Japan included in scene S100S2, the navigation information for version 2 is repeatedly transmitted.  Also, during the. reproduction time of the travel guide for Egypt, the navigation information for version N is repeatedly transmitted.<br>
Here, the reason the same navigation information is repeatedly sent is to enable the reception apparatus to immediately receive the navigation information of a switching destination when content switching is performed or<br>
when reception is commenced midway through the broadcast of an interactive program.  When the navigation information is dynamically set for different sections of the video data, this means that the latest navigation information can be received at the point where the content switching is made.<br>
By doing so, the user of a reception apparatus in what is a one-directional broadcasting system can make what appear to be interactive operations that switch between stream-based contents.<br>
1-1 Digital Broadcasting System<br>
1<br>
Fig. 4 is a block diagram showing the construction of the digital broadcasting system of the first embodiment of the present invention.<br>
The present digital broadcasting system includes a digital broadcasting apparatus 5101 and a plurality of reception apparatuses.  In Fig. 4, this plurality of reception apparatuses is represented by only one reception apparatus 5121.  In the present digital broadcasting system, interactive programs which are composed of stream-based contents (hereinafter, simply "contents") that are linked to one another are broadcast by the digital broadcasting apparatus 5101 and are reproduced by the reception apparatus 5121 which interactively switches between the different contents.<br>
To simplify the explanation of the present embodiment,<br>
an example of an interactive program which is composed of the four contents numbered 0-3 in Fig. 5 will be used to describe the construction of the digital broadcasting apparatus 5101 and the reception apparatus 5121.<br>
Content 0 is composed of scenes Ola to Olh, and expresses video and audio (not illustrated) which gives the viewer of a weather forecast for the Kansai region of Japan.<br>
Scene Ola is the opening scene.<br>
Scene Olb has two buttons (button images) 02b and 03b superimposed over video image.  These buttons 02b and 03b are respectively linked to content 1 and content 2 and are<br>
t<br>
used by the reception apparatus 5121 when the user performs a content switching operation.  This is also the case for scenes Olc to Olh.<br>
Content 1 is composed of scenes lla to llh and, in addition to the video and audio (not illustrated) for the weather forecast used in content 0, includes the text information 13b to 13h.  These sets of text information 13b to 13h express supplementary information such as the estimated maximum temperature,, estimated minimum temperature, humidity, and probability of rain.<br>
Scene lib has a button 12b which features a link to content 0 and a text information 13b displayed on top of the video images.  This is also the case for scenes lie to llh.<br>
Content 2 and expresses video and audio (not illustrated) which gives the viewer of a weather forecast<br>
Mor the Kanto region of Japan.  Scene 21b has a button 22b linked to content 3 and a button 23b which is linked to content 0.<br>
Content 3 includes sets of text information, in addition to the video and audio (not illustrated) for the weather forecast used in content 2.  As one example, the button 32b in scene 31b is linked to content 2.<br>
The interactive program composed of the four contents described above is reproduced by the reception apparatus 5121 while switching between contents as desired by the user, according to the method described below.<br>
As one example, when the user makes a select and activate operation for the button 02b during the reproduction by the reception apparatus 5121 of scene Olb in content 0, the reception apparatus 5121 switches the reproduction to content 1 which is the link destination of this button.  When doing so, since every content is multiplexed with corresponding reproduction times, content 1 is not reproduced from the start and is instead reproduced starting from a scene whose reproduction time corresponds with the part of content 0 where the switching operation was made.  Here, since content 1 contains the same video and audio as content 0, the user will not notice a change in the reproduced video or audio and will merely obtain supplementary information for the weather forecast which is provided as text.<br>
1-2 Digital Broadcasting Apparatus 5101<br>
As shown in Fig. 4, the digital broadcasting apparatus 5101 is composed of a transmission data storage unit 5102, a data multiplexing unit 5103, a multiplexing information storage unit 5104, a system information table generating unit 5105, and a transmission unit 5106.  This digital broadcasting apparatus 5101 broadcasts the interactive program described above on a digital broadcast wave.<br>
The transmission data storage unit 5102 includes a recording medium such as a magnetic disc and is used to<br>
store the data for each content which composes the<br>
t interactive program.  Here, the data for one content is<br>
composed of presentation information, such as video data and audio data, and navigation information which expresses hyperlinks to other contents, buttons, and text information. As one example, the video and audio for each content in Fig. 5 are included in this presentation information, while the buttons and text information to be displayed on top of the video images, and the hyperlinks given to each button are included in the navigation information.<br>
The data multiplexing unit 5103 generates a multiplexed stream by multiplexing the content data stored in the transmission data storage unit 5102.  More specifically, the data multiplexing unit 5103 multiplexes the presentation information for each content so that the reproduction times of the presentation information coincide,<br>
as well as repeatedly multiplexing the navigation information during the reproduction time of the presentation information in the same content.  Here, the navigation information is repeatedly multiplexed so that no matter when content switching is performed by the reception apparatus, the reproduction apparatus will definitely be able to receive the navigation information for the content which is the link destination.<br>
The multiplexed stream described above is generated as a part of a transport stream in accordance with DVB-SI (Digital Video Broadcasting) and MPEG system standards.<br>
i<br>
This transport stream is a collection of a plurality of digital data streams which are multiplexed into the bandwidth of one carrier wave on a digital satellite broadcast, and so has a bandwidth which is equivalent to five or six broadcast channels.<br>
The multiplexing information storage unit 5104 stores a variety of parameters that are needed by the data multiplexing unit 5103 to generate the multiplexed stream.<br>
The system information table generating unit 5105 refers to the multiplexing information storage unit 5104 and generates system information tables (made up of a variety of tables) which are required by the reception apparatus 5121 to select a multiplexed stream.<br>
The transmission unit 5106 multiplexes the multiplexed stream generated by the data multiplexing unit 5103 and the<br>
system information tables generated by the system information table generating unit 5105 into a transport stream which it then transmits.  The system information tables referred to here are composed of a variety of tables which store information used to identify the multiplexed streams that express the interactive programs of the present invention in the transport stream.<br>
1-2-1 Transmission Data Storage Unit 5102<br>
As shown in Fig. 4, the transmission data storage unit 5102 includes a presentation information storage unit 5107,<br>
1<br>
a navigation information storage unit 5108, and a construction information storage unit 5109.  This transmission data storage unit 5102 stores the data for a plurality of contents which compose one interactive program (application) classified into presentation information and navigation information.  The transmission data storage unit 5102 also stores a construction information table which shows the correspondence between sets of presentation information and sets of navigation information.<br>
1-2-1-1 Presentation Information Storage Unit 5107<br>
The presentation information storage unit 5107 stores<br>
the presentation information which is the video data and<br>
audio data included in each content.<br>
Figs. 6A and 6B show the scenes (frames) in the sets<br>
of video data used as the presentation information of the contents shown in Fig. 5.<br>
The video data 5201 shown in Fig. 6A has the filename "Video0.m2v" and expresses video which gives a weather forecast for the Kansai region of Japan.  This video data is presentation information which is used by both content 0 and content 1 shown in Fig. 5.<br>
The video data 5202 shown in Fig. 6B has the filename "Videol.m2v" and expresses video which gives a weather forecast for the Kanto region of Japan.  This video data is presentation information which is used by both content 2 and content 3 shown in Fig. 5.<br>
These sets of video data 5201 and 5202 are stored in the presentation information storage unit 5107 having been compressed according to IS/IEC 13818-2 (MPEG2 Video) standard.  However, other video data formats are also possible.<br>
Figs. 6C and 6D show examples of sets of audio data which are used as presentation information.<br>
Audio data 5203 shown in Fig. 6C has the filename "Audio0.m2a" and is the audio data that is to be reproduced with the video data 5201 shown in Fig. 6A.  This audio data is presentation information which is used by both content 0 and content 1 shown in Fig. 5.<br>
Audio data 5204 shown in Fig. 6D has the filename "Audiol.m2a" and is the audio data that is to be reproduced<br>
with the video data 5202 shown in Fig. 6B. This audio data is presentation information which is used by both content 2 and content 3 shown in Fig. 5.<br>
These sets of audio data are stored in the presentation information storage unit 5107 having been compressed according to IS/IEC 13818-3 (MPEG2 Audio) standard.  However, other video data formats are also possible.<br>
1-2-1-2 Navigation Information Storage Unit 5108<br>
The navigation information storage unit 5108 stores<br>
i the navigation information for each content.  These sets of<br>
navigation information include hyperlink information for links to other contents and valid time information for the valid time of the present set of navigation information. The hyperlink information is given as objects to be used by the reception apparatus to enable the user to make interactive operations.  The valid time information, meanwhile, is added to enable the content of the valid navigation information to be updated (expressed using the concept of a "version up") in accordance with changes in the content of the video data or other presentation information.<br>
Fig. 7 shows an example of the navigation information corresponding to the scene Olb (or, more correctly, scenes Olb to Old) shown in Fig. 5.  This navigation information has the filename "NaviO-0.nif" and includes the navigation<br>
information 5301, the object definition table 5302, the handler definition table 5303, the hyperlink table 5304, the bitmap table 5305, and the time information table 5306.<br>
The object definition table 5302 is a list of information which shows the types and attributes of the objects which are to be displayed superimposed onto the video data included in the presentation information.  More specifically, the object definition table includes the following columns.<br>
The "object index" column shows the numbers used to<br>
identify each of the objects.<br>
i The "type" column shows the type of each object.  As<br>
examples of types of objects, "button" denotes a button object which used to display a button which has an attached hyperlink, while "picture" denotes a picture object which is used to display a still image or text information.  In the present example, the buttons 02b and 03b shown in Fig. 5 have been recorded as button objects with the object index numbers "0" and "1".  On the other hand, the text information 13b shown in Fig. 5 has been recorded as a picture object.<br>
The "X" column and "Y" column are used to record the X and Y coordinates of the standard display position of each object, such as buttons or pictures, on the display screen. The values in these columns are used, for example, to determine the display positions of the buttons 02b and 03b<br>
shown in Fig. 5.<br>
The "handler" column is used to show the handler index which indicates the handler, out of the handlers stored in the handler definition table 5303, that corresponds to each object.  These handlers are scripts, which is to say programs or instruction words which are written in a programming language that is executable by the reception apparatus 5121.  In particular, handlers for button objects include content switching instructions that are executed by the reception apparatus 5121 when the corresponding button<br>
object is activated by a user operation.<br>
i The "normal bitmap" column is used to show the bitmap<br>
index number that is used to indicate the bitmap image (button image or picture representing still image information), out of the bitmap images in the bitmap table 5305, which is to be displayed at the standard display position given by the X and Y coordinates described above during the normal (non-selected state) display state.  Here, the non-selected state is the state of a given button when it has not been selected by the reproduction apparatus.<br>
The "focused bitmap" column is used to show the bitmap index number that is used to indicate the bitmap image (button image or picture representing still image information), out of the bitmap images in the bitmap table 5305, which is to be displayed at the standard display position given by the X and Y coordinates described above<br>
during the selected state.  Here, the selected state is the state of a given button when it has been selected by the reproduction apparatus.<br>
The handler definition table 5303 stores the handlers (scripts) which are indicated for each object in the object definition table 5302.  More specifically, the handler definition table 5303 includes the following columns.  The "handler index" column stores numbers (handler indexes) for identifying each handler.  The "script" column shows the handler (script) corresponding to each handler index.  In<br>
particular, the handlers corresponding to button objects<br>
i include content switching instructions such as "goto_content<br>
(Hyperlink Index 0)" given in Fig. 7.<br>
The hyperlink table 5304 stores the arguments for the content switching instructions in the handler definition table 5303.  More specifically, the hyperlink table includes the following columns.  The "hyperlink index" column stores values (hyperlink indexes) for identifying each hyperlink. The "content number" column stores hyperlink information which is the content number of. the link destination used as the argument in a content switching instruction.  As one example, the content switching instruction "goto_content (Hyperlink Index 0)" is effectively the same as the instruction "goto_content (content 1)", with this being the instruction which is executed by the reception apparatus 5121 when the corresponding button object is activated.<br>
The bitmap table 5305 stores bitmap data for bitmap images indicated in the "normal bitmap" and "focused bitmap" columns of the object definition table 5302.  More specifically, the bitmap table includes the following columns.  The "bitmap index" column is used to store the values ("bitmap numbers") which are used to identify the bitmaps.  The "bitmap data" column is used to store the bitmap data used to express buttons and text information which are displayed superimposed onto the presentation information.  As one example, the button 02b in scene Olb of<br>
Fig. 5 is displayed using the "Details for Osaka" bitmap<br>
t with the bitmap index 0 in the normal state and using the<br>
"Details for Osaka" bitmap (which has a different color density to make it stand out) with the bitmap index 1 in the selected state.  In the same way, button 03b is displayed using the "See Kanto" bitmap with the bitmap index 2 in the normal state and using the "See Kanto" bitmap with the bitmap index 3 in the selected state.<br>
The time information table 5306 stores the start_time which denotes the time at which the present navigation information becomes valid and the end_time which denotes the time at which the present navigation information ceases to be valid.  These times are expressed as relative times (in units of one second) where the broadcasting start time of the interactive program is set at "0".<br>
Fig. 8 shows an example of the navigation information<br>
which corresponds to scene lib in Fig. 5.  This navigation information 5401 has the filename "Navil-0.nif" and includes the object definition table 5402, the handler definition table 5403, the bitmap table 5404, and the time information table 5405.<br>
On the line of the object definition table 5402 with the object index number "0", the type of the object is "button", and the display coordinates of the top-left corner of the display of the object on the display screen are X=20, Y=400.  When this button is activated, the handler with the<br>
handler index number "0" is activated.  During the non-<br>
selected state, this button is displayed using the bitmap<br>
with the bitmap index number "0", while during the selected state, the button is display using the bitmap with the bitmap index number "1".<br>
On the line of the object definition table 5402 with the object index number "1", the type of the object is "picture", and the display coordinates of the top-left corner of the display of the object on the display screen are X=300, Y=20.  This object is displayed using the bitmap with the bitmap index number "2".<br>
The handler definition table 5403 shows that when the handler with the handler index number "0" is activated, the script "goto_entry" will be executed.  This script is an instruction which indicates a switching to a default content for the start of reproduction, which is to say the content<br><br>
which is to be reproduced first by the reproduction apparatus.<br>
The bitmap table 5404 stores the bitmap data for the bitmaps with the bitmap index numbers "0", "1", and "2".  Of these, the bitmap with the bitmap index number "2"  is the text information 13b shown in Fig. 5.<br>
The time information table 5405 shows that the navigation information 5401 becomes valid five seconds after the start of reproduction and ceases to be valid sixty-five seconds after the start of the reproduction.  This is to<br>
say, navigation information 5401 will stop being used sixty-<br>
\ five seconds after the start of reproduction.<br>
Other examples of navigation information stored in the navigation information storage unit 5108 are shown in Fig. 9 (navigation information 5501), Fig. 10 (navigation information 5601), and Fig. 11 (navigation information 5701).  These sets of navigation information respectively correspond to scene Ole in content 0, to scene lie in content 1, and to scene 21b in content 2.<br>
1-2-1-3 Construction Information Storage Unit 5109<br>
The construction information storage unit 5109 stores a construction information table, which is a list of pairings of presentation information and navigation information which compose each content, and entry information.  This entry information shows an entry content<br><br>
number of an entry content that is the content to be reproduced first when the reproduction of the interactive program is commenced by the reception apparatus 5121.<br>
Fig. 12 shows an example of the construction information table stored by the construction information storage unit 5109.  This construction information table 5801 shows a combination of video data, audio data, and navigation information for each content identified using content numbers.  These content numbers are the numbers which are exclusively assigned for identification purposes to each of the contents stored in the transmission data<br>
1<br>
storage unit 5102.  Here, while content numbers are one-to-one assigned to contents, it is also possible in exceptional circumstances for them to correspond to a plurality of contents.<br>
The content number "0" line of the construction information table 5801 shows that the content with the content number "0" is composed of the video data with the filename "VideoO.m2v" and the audio data with the filename "Audio0.m2a" stored in the presentation information storage unit 5107, and the sets of navigation information identified by the filenames "NaviO-O.nif", "NaviO-1.nif", "NaviO-2.nif", "NaviO-S.nif", and "NaviO-4.nif" stored in the navigation information storage unit 5108.  Here, each set of navigation information stored in the "navigation information" column is given in ascending order of valid<br><br>
start time.  This is also the case for the other lines in the construction information table 5801.<br>
Fig. 13 shows an example of the entry information stored in the construction information storage unit 5109. This entry information 5901 shows that the content number of the entry content of the application stored in the transmission data storage unit 5102 is "0".<br>
1-2-2 Multiplexing Information Storage Unit 5104<br>
The multiplexing information storage unit 5104 stores the multiplexing information table for the resource<br>
1<br>
assigning information for identifiers and areas used when multiplexing the interactive program into an MPEG2 transport stream for broadcasting.<br>
Fig. 14 shows an example of the multiplexing information table stored by the multiplexing information storage unit 5104.  The multiplexing information table 6001 in this figure is a table which shows the various identifiers for the interactive program and its composite elements, as well as the various bit rates used in transmission.<br>
In Fig. 14, the rows 6002 to 6005 for the<br>
"original_network_id", "transport_stream_id", "service_id", and "event_id" show the values of the identifiers assigned to the interactive programs when multiplexing the program into the MPEG2 transport stream used for broadcasting the<br><br>
interactive program.  In a standard satellite digital broadcasting system, transmission of one or more MPEG2 transport streams is performed from a single satellite (network) using carrier waves on separate frequency bands. Here, each broadcast program is multiplexed into the MPEG2 transport stream having been assigned its own "original_network_id", "transport_stream_id", "service_id", and "event_id" in accordance with ETS 300 468 Standard (hereinafter, referred to as "DVB-SI Standard").<br>
The original_network_id is a unique identifier which identifies the network.<br>
The transport_stream_ID is a unique identifier which identifies the transport stream in a network.<br>
The event_ID is a unique identifier which identifies one event on a transport stream.  Here, an event is a collection of a number of components, and is the equivalent of the concept of a "program" which is used in conventional analog broadcasting.<br>
A component is a stream (program element) identified by a PID (packet identifier) under IS/IEC 13818-1 Standard (MPEG2 system standard) , and represents one compositional element of a program, such as video or audio.  As one example, each set of video data shown in Fig. 12, each set of audio data, and each collection of sets of navigation information in each content is a separate component.<br>
In the present embodiment, a service is a collection<br>
of sequences of events, which is the equivalent of one channel in conventional analog broadcasting.  The interactive program described above is one time segment on such a service.<br>
A transport stream is a collection of a plurality of services.  Here, bandwidth can be assigned to transport streams and services in a variety of ways, with, for example, each transport stream being assigned around 30Mbps and each service being assigned around SMbps.  In such a case, each transport stream is the equivalent of six<br>
channels.  The transfer rates used for the interactive<br>
i programs transmitted as events, meanwhile, will greatly<br>
differ since different numbers of contents and differing amounts of video data are included.<br>
Each program (event) transmitted using a digital broadcasting system in accordance with DVB-SI standard can be uniquely specified in every digital broadcasting system using a combination of the "original_network_id", "transport_stream_id", "service_id", and "event_id".  The details of the "original_network_id", "transport_stream_id", "service_id", and "event_id" are given in the documentation for DVB-SI standard.<br>
The "PMT_PID" column 6006 and "PCR_PID" column 6007 express the values of the PID which are assigned to the PMT (Program Map Table) and the PCR (Program Clock Reference). The PMT referred to here is one of the system information<br>
tables multiplexed into the transport stream and is a table that shows the correspondence between the various streams which express the video data and audio data (components) included in an event and the identifiers (packet identifiers: PIDs) of the packets used to transfer these components.  The PCR is also one of the system information tables and is time information that is used as a standard in the digital broadcasting apparatus 5101 when data for each content is multiplexed into the multiplexed stream, as well as being used as the standard time information when each event is reproduced by the reception apparatus 5121.<br>
The "NE_component(0)_Bitrate" column 6008 and the "NE_component(0)_pid" column 6009 show the values of the transfer rate and PID which are assigned to each component for transferring navigation information tables which are included in content 0.  This is also the case for "NE_component(l)_Bitrate" onwards.  Here, "NE" is an abbreviation for "Navigation Element".<br>
The "VE_component(0)_Bitrate" column 6010 and the "VE_component(0)_pid" column 6011 show the values of the transfer rate and PID which are assigned to each component for transferring the video data corresponding to the component_tag number "0x00".  This is also the case for "VE_component(l)_Bitrate" onwards.  Here, VE is an abbreviation for "Video Element".<br>
The "AE__component (0)_Bitrate" column 6012 and the<br>
"AE_component(0)_pid" column 6013 show the values of the transfer rate and PID which are assigned to each component for transferring the audio data corresponding to the component_tag number "0x00".  This is also the case for "AE_component(l)_Bitrate" onwards.  Here, AE is an abbreviation for "Audio Element".<br>
It should be noted that in the present embodiment, the number of PIDs for transferring navigation information is kept equal to the number of contents so that the PIDs may be used to identify each set of navigation information,<br>
although the number of PIDs for transferring navigation<br>
t information may be less than the number of contents, and may<br>
for example be "1".  In such a case, a combination of a PID and another parameter (such as a "table_id_extension" under MPEG2 standards) may be used as the information for identifying each set of navigation information.  This is also the case for the video data and audio data included in the presentation information which may each be identified by a combination of a PID and another parameter, such as the stream_id under MPEG2 standard.  By doing so, even if the number of PIDs that may be used in each transport stream is limited to a given number, a number of contents which exceeds this given number may still be transmitted.<br>
1-2-3 Data Multiplexing Unit 5103<br>
The data multiplexing unit 5103 shown in Fig. 4 first<br>
(a) assigns a variety of identifiers to each of the contents stored in the transmission data storage unit 5102 (or in other words, generates a content identifier assigning table), (b) assigns version numbers to each set of navigation information (or in other words, generates a version number assigning table), (c) instructs the navigation information table generating unit 5111 to generate a navigation information table, (d) instructs the system information table generating unit 5105 to generate the system information tables, and (e) multiplexes the presentation information in accordance with these tables so that the reproduction times of the presentation information are aligned, as well as repeatedly multiplexing each set of navigation information corresponding to the presentation information for the period that the navigation information is valid.  To do so, the data multiplexing unit 5103 includes a multiplexing control unit 5110, a navigation information table generating unit 5111, and a multiplexing unit 5112.<br>
The process (c) described above is performed by the navigation information table generating unit 5111, while the processes (a), (b), and (e) are performed by the multiplexing control unit 5110.  Process (d) meanwhile, is performed by the system information table generating unit 5105.<br>
1-2-3-1 Multiplexing Control Unit 5110<br>
The multiplexing control unit 5110 can be composed of a CPU (Central Processing Unit), a ROM (Read Only Memory) storing a program, and a RAM (Random Access Memory) used as a work area, and generates the content identifier assigning table and the version number assigning table (processes (a) and (b) above), as well as generating a multiplexing instruction for each set of presentation information and each set of navigation information in accordance with these tables, and informing the multiplexing unit 5112 of these multiplexing instructions (process (e) above).  These<br>
1<br>
multiplexing instructions include the various identifiers needed for multiplexing, the multiplexing start position in the transport stream, and the transfer rate, for each set of video data and audio data in the presentation information and for each set of navigation information.<br>
In more detail, the process (e) involves the multiplexing control unit 5110 generating multiplexing instructions so that the reproduction times of each set of video data and audio data in the presentation information overlap.  As one example, it may generate multiplexing instructions which set the multiplexing start positions of video data and audio data at the same time.  For sets of navigation information, the multiplexing control unit 5110 may generate multiplexing instructions so that the sets of navigation information are repeatedly multiplexed during the<br>
"reproduction period of the presentation information in the same content.  This is to say, a plurality of multiplexing start positions are set for each set of navigation information, with multiplexing instructions being generated for each of these multiplexing start positions.<br>
1-2-3-2 Multiplexing Control Unit 5110: (a) Generation of the Content Identifier Assigning Table<br>
On being activated by the transmission unit 5106, the multiplexing control unit 5110 reads the construction<br>
information table and multiplexing information table stored<br>
in the construction information storage unit 5109 and in the<br>
multiplexing information storage unit 5104, and generates the content identifier assigning table.<br>
Fig. 15 shows an example of a content identifier assigning table generated from the construction information table 5801 shown in Fig. 12 and the multiplexing information table 6001 shown in Fig. 14.<br>
This content identifier assigning table 6101 is composed so that the values in the "original_network_id" column 6002, the "transport_stream_id" column 6003, the "service_id" column 6004, and the "event_id" column 6005 of the multiplexing information table 6001 are written into the "orig__nw_id" column 6103, the "ts_id" column 6104, the "VE_svc_id" column 6105, and the "VE_event_id" column 6106. In the same way, the values in the "service id" column 6003<br>
and the "event_id" column 6005 are written into the "AE_svc_id" column 6108 and the "AE_event_id" column 6109. This is also the case for the "NE_svc_id" column 6111 and the "NE_event_id" column 6112.<br>
Each set of video data is assigned a two-digit hexadecimal component tag in order starting from "0x00", with these values being written into the "VE_comp__tag" column 6107.  As examples, video data "Video0.m2v" is assigned the component tag "0x00" and video data "Videol.m2v" is assigned the component tag "0x01", with these values being written into the "VE_comp_tag" column 6107.<br>
These component tags are values which are freely one-to-one assigned to each PID, and are used to indirectly refer to each PID.  In the present embodiment, the component tags with the value "N" correspond to the PIDs given by the "VE_component(N)_pid" in the multiplexing information storage unit 5104.  This correspondence between PIDs and component tags is given in the PMT which is described later in this specification.  By doing so, the reception apparatus 5121 is able to refer to the component tags written in the "descriptor" column of the PMT and so determine the PID, before using this PID to obtain the desired video or other data.  Here, even if different values for the PIDs are written in the system information tables when the interactive program is multiplexed with other programs by<br>
the transmission unit 5106, the reception apparatus 5121 will still definitely be able to obtain the desired video data.<br>
It should be noted here that if a component tag is not used, the values of the PIDs may be directly written into the "VE_comp_tag" and "AE_comp_tag" columns.  When doing so, if the PIDs are rewritten using different values in the system information tables during the multiplexing into the transport stream by the transmission unit 5106, the values of the PIDs in these columns in the navigation information<br>
table may also be appropriately rewritten.<br>
i In the same way, each set of audio data is assigned a<br>
component tag.which is written into the "AE_comp_tag" column 6110.  As examples, audio data "Audio0.m2a" is assigned the component tag "0x00" and audio data "Audiol.m2a" is assigned the component tag "0x01", with these values being written into the "AE_comp_tag" column 6110.<br>
A four-digit hexadecimal value is written into the "NE_id" (navigation information identifier) column 6113 of the content identifier assigning table 6101, with this value being incremented by one for each content number 6102.<br>
It should be noted that the "VE_id" and "AE_id" in Fig. 15 are information which is used to identify page-based contents.  In this first embodiment, the interactive program is assumed to be entirely composed of stream-based contents, so that the "VE id" and "AE id" columns are not used.  The<br>
details of these columns are given in the second and following embodiments.<br>
1-2-3-3 Multiplexing Control Unit 5110: (b) Generation of the Version Number Assigning Table<br>
On completing the generation of the content identifier assigning table 6101, the multiplexing control unit 5110 generates the version number assigning table.<br>
More specifically, the multiplexing control unit 5110 refers to the construction information table 5801 and<br>
assigns version numbers, which start at "0" and are<br>
incremented by one each time, to each set of navigation information with the same content number, starting from the in order from the first set of navigation information.  It should be noted here that when the version number exceeds "31", the next assigned version number will be "0", with numbers incremented by "1" being used thereafter.<br>
Fig. 16 shows an example of the version number assigning table.  In. this example, the sets of navigation information "NaviO-0.nif", "NaviO-1.nif", "NaviO-2.nif" ... are assigned the version numbers "0x00", "0x01", "0x02"... This is also the case for the navigation information in contents 1-3.<br>
On completing the generation of the version number assigning table 6201, the multiplexing control unit 5110 instructs the navigation information table generating unit<br>
~*5111 to generate the navigation information table.<br>
1-2-3-4 Navigation Information Table Generating Unit 5111:<br>
l£l<br>
On being instructed by the multiplexing control unit<br>
5110	to generate the navigation information table, the<br>
navigation information table generating unit 5111 generates<br>
a navigation information table by replacing the content<br>
numbers of the link destinations in the hyperlink table with<br>
various identifiers which express each component that<br>
includes the contents which are the link destinations.<br>
i More specifically, the navigation information table<br>
generating unit 5111 reads the navigation information stored in the navigation information storage unit 5108, and, when a hyperlink table is included in the navigation information, refers to the content identifier assigning table generated by the multiplexing control unit 5110 using the information for the link destination given as a content number, changes the content numbers into various identifiers, and by doing so generates the navigation information table.<br>
The navigation information table generating unit 5111 also stores the generated navigation information table in a storage' area (not illustrated) as the navigation information table with the filename NVT (content number, version number).  The navigation information table generating unit<br>
5111	obtains this content number and version number by<br>
referring to the construction information table in the construction information storage unit 5109 and the version number assigning table in the multiplexing control unit 5110.  When the read navigation information does not include a hyperlink table, the navigation information table generating unit 5111 stores the navigation information as it is in the storage area, changing only the filename.<br>
Fig. 17 shows the generated navigation information table 6301 with the filename "NVT(0,0)".  This navigation information table 6301 has been generated from the<br>
navigation information 5301 with the filename "NaviO.nif"<br>
t shown in Fig. 7, and so corresponds to scene Olb shown in<br>
Fig. 5.<br>
The navigation information table 6301 includes the object definition table 6302, the handler definition table 6303, the hyperlink table 6304, the bitmap table 6305, and the time information table 6306.  With the exception of the filenames and the hyperlink table 6304, the content is the same as the navigation information 5301 shown in Fig. 7.<br>
The hyperlink table 6304 is such that each content number in the hyperlink table 5304 of Fig. 7 has been converted to the various identifiers given in the content identifier assigning table 6101 shown in Fig. 15.  The columns such as "orig_nw_id" in the hyperlink table 6304 are given as "-", with no identifiers having been entered.  This shows that the contents belonging to the navigation<br>
information table 6301 have the same identifiers as the contents given as the link destinations, so that these do not need to be recorded in the table.<br>
In the present example, the "Hyperlink Index 0" row shows that there is a link between scene Olb of content 0 shown in Fig. 5 to scene lib of content 1.  With the exception of the "NE_id" column, all of the entries in the "Hyperlink Index 0" row of the hyperlink table 6304 are "-", showing that the link destination, content 1, has the same images and audio as content 0, with only the navigation information table (NE_id) being different.<br>
In the present example, the "Hyperlink Index 1" row shows that there is a link between scene Olb of content 0 shown in Fig. 5 to scene 21b of content 2.  With the exception of the "VE_comp_tag", the "AE_comp_tag" and the "NE_id" columns, all of the entries in the "Hyperlink Index 1" row of the hyperlink table 6304 are "-", showing that the link destination, content 2, has different images (VE_comp__tag) , audio (AE_comp_tag) and a different navigation information table (NE_id) to content 0.<br>
Supposing here that the content which is the link destination belongs to a different service, the appropriate identifiers will be given in the "VE_service_id", the "AE_service_id", and the "NE_service_id".  However, by omitting these identifiers when the values for the link destination are the same as those for the current content as<br>
in the example above, a reduction in the size of the navigation information table can be achieved.<br>
It should be noted that the "VE_id" and "AE_id" columns in the hyperlink table in Fig. 17 include information used for identifying page-based contents.  For the navigation information table NVT (0,0), all of the link destinations are stream-based contents, so that no entries are made into the "VE_id" and "AE_id" columns.  The case where page-based columns are included as link destinations is explained in the second and following embodiments.<br>
Fig. 18 shows the navigation information table 6401<br>
t with the filename NVT (1,0).  This navigation information<br>
table 6401 has been generated from the navigation information 5401 with the filename "navil-0.nif" shown in Fig. 8, and so corresponds to scene lib in content 1 shown in Fig. 5.<br>
Since navigation information 5401 does not include a hyperlink table, the content of navigation information table 6401 is the same as navigation information 5401.  However, the link from scene lib of content 1 to content 0 is expressed by the handler definition table 6403 in Fig. 18 and the entry information shown in Fig. 13.<br>
In the same way, the navigation information table 6501 with the filename NVT (0,1) is shown in Fig. 19, the navigation information table 6601 with the filename NVT (1,1) is shown in Fig. 20, and the navigation information<br>
table 6701 with the filename NVT (2,0) is shown in Fig. 21. These have been respectively generated from the navigation information 5501 with the filename "naviO-1.nif" shown in Fig. 9, from the navigation information 5601 with the filename "navil-l.nif" shown in Fig. 10, from the navigation information 5701 with the filename "navi2-0.nif" shown in Fig. 11.<br>
On completing the generation of the navigation information table, the navigation information table generating unit 5111 informs the multiplexing control unit 5110.  On receiving notification of the completion of the<br>
1<br>
generation of the navigation information table, the multiplexing control unit 5110 instructs the system information table generating unit 5105 to generate the system information tables.  The generation of the system information tables (d) is described later in this specification.<br>
1-2-3-5 Multiplexing Control Unit 5110: Generation of Multiplexing Instructions<br>
On receiving notification of the completion of the generation of the system information tables, the multiplexing control unit 5110 first reads the value of "PCR_PID" from the multiplexing information storage unit 5104 and notifies the multiplexing unit 5112.  This action is performed so that the multiplexing unit 5112 canmultiplex the time information (PCR), which is set as a standard when multiplexing each set of content data into the multiplexed stream.<br>
Next, the multiplexing control unit 5110 generates multiplexing instructions for the presentation information and sends these instructions to the multiplexing unit 5112.<br>
More specifically, the multiplexing control unit 5110 generates multiplexing instructions for the video data and the audio data included in all of the contents with a multiplexing start position of "0", so that the presentation<br>
information in all of the contents will be multiplexed with<br>
t overlapping reproduction times.  This reproduction start<br>
time is a relative time with the transmission start time being set at "0".<br>
Each multiplexing instruction for video data and audio data includes a multiplexing start position, a PID, and a bit rate.  As one example, for the video data "Video0.m2v" of content 0 in the construction information table 5801, the multiplexing control unit 5110 refers to the content identifier assigning table 6101 and reads the value "0x00" of the "VE_comp_tag" 6107 of this video data.  The multiplexing control unit 5110 then refers to the multiplexing information table 6001 and reads the value<br>
"0x0096" of the "VE_component(0)_pid" 6011 to obtain the PID<br>
2<br>
of this video data and reads the value "4Mbps" as the<br>
'VE component(0) Bitrate" 6010.  The multiplexing control<br>
unit 5110 then informs the multiplexing unit 5112 of this PID and this bit rate in addition to the multiplexing start position.<br>
The multiplexing control unit 5110 next generates multiplexing instructions for navigation information according to the process described below, before notifying the multiplexing unit 5112 of these instructions.<br>
The multiplexing control unit 5110 generates multiplexing instructions for each content so that the navigation information tables included in each content will be repeatedly multiplexed during their valid time periods. As one example, the multiplexing control unit 5110 repeatedly generates multiplexing instructions for the navigation information table 6301 (NVT(0,0)) shown in Fig. 17 during its valid period which, as shown by the time information table 6306 is from the start_time (5 seconds) to the end_time (65 seconds).  In the present embodiment, however, the navigation information tables are multiplexed at a predetermined time (such as one second) before their valid start_times.  Navigation information tables are multiplexed this predetermined time before their valid start_times to give the reception apparatus 5121 enough of a margin to process the navigation information tables.<br>
The multiplexing instructions for navigation information tables each include a multiplexing start position, a PID, a transfer amount (bit rate), a version<br>
number, and a table_id_extension.<br>
As one example, when multiplexing the navigation information table with the filename "NVT(0,0)" shown in Fig. 17, the multiplexing control unit 5110 sets the multiplexing start position the predetermined time before the valid start_time (resulting here in a time of four seconds), reads the value "0x0092" of the "NE_component(0)_pid" 6009 and the value "iMbps" of the "NE_component(0)_Bitrate" 6008 from the multiplexing information table 6001, and informs the multiplexing unit 5112 of these values as the PID and the bit rate.  Also, the multiplexing control unit 5110 reads<br>
1<br>
the value "0x0000" of the "NE_id" 6113 corresponding to content number 0 from the content identifier assigning table 6101 and informs the multiplexing unit 5112 of this value as the table_id_extension.<br>
The multiplexing control unit 5110 then calculates the next multiplexing start position by dividing the transfer rate (bit rate) used for transferring the present navigation information by the size of present navigation information table, and generates the next multiplexing instruction as described above.<br>
The multiplexing control unit 5110 repeats the above process, successively finding the next multiplexing start positions, generating multiplexing instructions, and informing the multiplexing unit 5112 of the multiplexing instructions, until the valid end time is reached.  By doing<br><br>
'so, the navigation information table NVT (0,0) is repeatedly multiplexed into the multiplexed stream between the four-second mark and the sixty-five-second mark.<br>
By repeating the processing described above, the multiplexing control unit 5110 generates multiplexing instructions for the other navigation information tables NVT(0,1), NVT(0,2) ... included in content 0, the navigation information tables NVT(1,0), NVT(1,1) ... included in content 1, and so on, and informs the multiplexing unit 5112 of these multiplexing instructions.<br>
1-2-4 System Information Table Generating Unit 5105: (d)<br>
On being instructed by the multiplexing control unit 5110, the system information table generating unit 5105 generates the system information tables.  These system information tables are made up of a variety of tables which store information that is used to identify multiplexed streams in the transport stream, which is to say various kinds of information used by the reception apparatus 5121 to select events.<br>
More specifically, the system information table generating unit 5105 refers to the multiplexing information storage unit 5104 and generates the NIT (Network Information Table), the EIT (Event Information Table), the SDT (Service Description Table), and the PAT (Program Association Table), in accordance with ETS 300 468 (DVB-SI) standard and IS/IEC<br>
13818-1 (MPEG2 system) standard.<br>
The NIT referred to here is used to record physical information related to the transfer path for each transport stream transferred on a specified network.   Fig. 22A shows an example of an NIT, NIT 6801, which is generated by the system information table generating unit 5105.  In this example, the transport stream identified by the transport_stream_id "0x0001" for the original_network_id "0x0001" is transmitted on the network identified by the network_id "0x0001", with the "transfer preface" expressing the frequency and modulation method of the transmission.<br>
1<br>
The SDT stores information, such as service names, for each service included in a specified transport stream.  An example, SDT 6802, of the SDT generated by the system information table generating unit 5105 is shown in Fig. 22B. In this example, the service identified by the service_id value "0x0002" is included in the transport stream with the transport_stream_id "0x0001", with information such as the service names being written into the column headed "Service name and other information".<br>
The EIT stores information, such as event names, start times, and end times, for each of the events on a specified service.  An example, EIT 6803, of the EIT generated by the system information table generating unit 5105 is shown in Fig. 22C.  In this example, the event identified by the event_id "0x0002" on the service identified by the<br>
service_id "0x0002" is included, with information such as the event name being written into the column headed "Event name and other information".<br>
The PAT includes information for the PIDs of the PMT (Program Map Table) for each program included in a specified transport stream.  An example, PAT 6901, of the PAT generated by the system information table generating unit 5105 is shown in Fig. 23.  In this example, the program identified by the program_no "0x0002" is included in the transport stream with the transport_stream_id "0x0001", with<br>
the PID of this PMT being given as "0x0090".  Here, the<br>
i program_no matches the service_id, and a "program" is<br>
equivalent to an "event".<br>
The system information table generating unit 5105 refers to the multiplexing information storage unit 5104, the multiplexing control unit 5110, and the construction information storage unit 5109 and generates, in accordance with MPEG2 system standards, the PMTs corresponding to the multiplexed programs which use the transmission data stored in the transmission data storage unit 5102.  An example of a PMT generated by the system information table generating unit 5105 from the multiplexing information table 6001 shown in Fig. 14, the content identifier assigning table 6101 shown in Fig. 15, and the entry information 5901 shown in Fig. 13, is shown in Fig. 24.<br>
During the generation of PMT 7001, "program_number" is<br><br><br>
a value showing the program number of a program (or in other words, event) in which transmission data is multiplexed, with the value "0x0002" of the "service_id" 6004 in the multiplexing information table 6001 being extracted and written in as this "program number".<br>
The "PCR_PID" 20 is a value showing the PID of the packet which includes the clock information (PCR) which is used as the standard for decoding the present program.  In the present example, the value "0x0091" of the "PCR_PID" in multiplexing information table 6001 is extracted and is written in as this "PCR_PID".<br>
The "Entry_Descriptor" 7003 is the descriptor which includes information for the identifier of an entry content which is the first content to be reproduced when the present program is selected.  Fig. 25 shows the details of the "Entry Descriptor" included in PMT 7001.  Here, the descriptor_tag of "Entry_Descriptor" 7003 is an identifier showing the type of descriptor and is set a value such as "0x98" that is predetermined for an entry_descriptor.  The "entry_VE_comp__tag", the "entry_AE_comp_tag" and the "entry_NE_id" columns are used to show the values of the identifiers which are used for the image data, audio data, and navigation information which compose the entry content.<br>
In generating the PMT, the system information table generating unit 5105 refers to the construction information storage unit 5109 and obtains the content number "0" of the<br><br><br>
entry content.  The system information table generating unit 5105 then obtains the value "0x00" of the "VE_comp_tag" 6107, the value "0x00" of the "AE_comp_tag" 6110, and the value "0x0000" of the "NE_id" 6113 of the content whose content number is "0", and writes these values into the "entry_VE_comp_tag", the "entry_AE_comp_tag", and the "entry_NE_id" columns.<br>
The table 7004 in the PMT 7001 shows the "stream_type" 7006 indicating the type of data which is transmitted in each component and a "descriptor" 7007 which expresses<br>
additional information, for each value of the "PID" 7005 of<br>
i the components which compose the present program.  The first<br>
row of table 7004 is used to record the value "0x0092" of the "NE_component(0)_pid" read from the multiplexing information table 6001, the value "0x05" showing that the data type of the transferred data is section data, and the "NE_Component_Descriptor(0)" 7201 shown in Fig. 26A.  This "NE_Component_Descriptor(0)" shows that navigation information which has a value of NE_id which is equal to or above the "min_NE_id" and equal to or less than the "max_NE_id" is transferred using the component to which this descriptor is attached.  In the present embodiment, the component identified by the "NE_component(0)_pid" 6009 is used to multiplex the navigation information for the content with the content number 0, so that the value "0x0000" of the "NE_id" 6113 read from the content identifier assigning<br>
table 6101 corresponding to the content number 0 is written into the "min_NE_id" and into the "max_NE_id".  A value showing the type of descriptor (in this case "0x99"), is written into the "descriptor_tag".<br>
On the second to fourth rows of table 7004, values of the "NE_component(l)_pid", "NE_component(2)_pid", and "NE_component(3)_pid" read from the multiplexing information table 6001 are written into the "PID" column, with the "stream_type" being set at "0x05" and the NE_Component_Descriptor(1) 7202 shown in Fig. 26B, the NE_Component_Descriptor(2) 7203 shown in Fig. 26C, and the NE_Component_Descriptor (3) 7204 shown in Fig.' 26D being set in the "descriptor" column.<br>
On the fifth row of table 7004, the value "0x0096" of the "VE_component(0)_pid" 6011 read from the multiplexing information table 6001, the value "0x02" showing that the data type of the transferred data is image data, and the "stream_identifier_descriptor(0)" 7301 shown in Fig. 27A are recorded.  The "stream_identifier_descriptor(0)" 7301 shows that the component tag of the component for this PID is "0x00".  The value of the "descriptor_tag" is set a value, such as "0x52", showing the type of descriptor.<br>
On the sixth row of table 7004, the value of the "VE_component(l)_pid" read from the multiplexing information table 6001, the value "0x02" for the "stream type", and the "stream_identifier_descriptor(1)" 7301 shown in Fig. 27B are<br>
recorded.<br>
On the seventh and eighth rows of table 7004, the values of the "AE_component(0)_pid" and the<br>
"AE_component(l)_pid" read from the multiplexing information table 6001, the value "0x03" for the "stream type" showing that the data is audio data, and the "stream_identifier_descriptor(0)" and "stream_identifier_descriptor(1)" are recorded.<br>
1-2-5 Multiplexing Unit 5112<br>
Based on the multiplexing instructions sent from the<br>
i multiplexing control unit 5110, the multiplexing unit 5112<br>
multiplexes the content data into an MPEG2 transport stream according to a method which is standardized for MPEG2 system standard.  The multiplexing unit 5112 then successively outputs the generated transport stream data to the transmission unit 5106.<br>
In more detail, on receiving a multiplexing instruction for image data from the multiplexing control unit 5110, the multiplexing unit 5112 reads the image data from the presentation information storage unit 5107 and converts it into a data stream, before multiplexing this data stream into the transport stream starting from the indicated start position using the indicated PID and bit rate.  Similarly, on receiving a multiplexing instruction for audio data from the multiplexing control unit 5110, the<br>
multiplexing unit 5112 reads the audio data from the presentation information storage unit 5107 and converts it into a data stream, before multiplexing this data stream into the transport stream starting from the indicated start position using the indicated PID and bit rate.<br>
On receiving a multiplexing instruction for a navigation information table from the multiplexing control unit 5110, the multiplexing unit 5112 reads the navigation information table from the navigation information table generating unit 5111 and converts it into a data stream, before multiplexing this data stream into the transport stream starting from the indicated start position using the indicated PID, table_id_extension, version_no, and bit rate.<br>
As for the PCR, the multiplexing unit 5112 sets the initial value at the start of the generated transport stream at "0", and multiplexes the PCR using the PCR_PID sent from the multiplexing control unit 5110.<br>
Fig. 28 shows an example of the multiplexed stream generated by the multiplexing unit 5112.  The horizontal axis in this figure represents elapsed time, while the vertical axis represents the content data and PCR which are multiplexed at the same time.<br>
The element 7401 in Fig. 28 shows the video data stream that is the result of the conversion by the multiplexing unit 5112 of the video data "Video0.m2v" which is common to both content 0 and content 1 into a data<br>
stream.  This video data stream has been given the PID "0x0096".  This video data stream 7401 is shown as one consecutive data stream in Fig. 28, although in reality this data stream is divided into packets of a predetermined length (these packets being called 188-byte transport packets) by the multiplexing unit 5112 and being multiplexed with the allocated bit rate of 4Mbps.  In the same way, element 7402 is the video data stream which is shared by content 2 and content 3.<br>
Element 7403 in Fig. 28 shows the audio data stream<br>
that is the result of the conversion of the audio data<br>
i<br>
"Audio0.m2a" which is shared by content 0 and content 1 into a data stream by the multiplexing unit 5112.  This audio data stream has been additionally assigned the PID "0x0098". This audio data stream is multiplexed using the assigned bit rate (O.SMbps).  In the same way, element 7404 is the audio data stream which is commonly used by the content 2 and content 3.<br>
Element 7405 is a data stream which is used for transmitting the navigation information tables included in content 0.  This data has been multiplexed by the multiplexing unit 5112 using the assigned bit rate (IMbps). Each navigation information table in the data stream 7405 is assigned the PID "0x0092", the table_id_extension "0x0000", and a version number from "0x00" to "0x04".  These navigation information tables are multiplexed so that<br>
navigation information tables with the same version number are multiplexed a plurality of times, with the version number being progressively incremented as the reproduction time elapses.  Here, the PID, table_id_extension, and version_no are used by the reception apparatus 5121 to identify each navigation information table in the data stream 7405.  In the same way, elements 7406 to 7408 are data streams used to transfer the navigation information included in contents 1 to 3.<br>
Element 7409 in Fig. 28 is the time information (PCR)<br>
used as the standard for setting the reproduction time,<br>
i which is also multiplexed into the transport stream.<br>
It should be noted here that every time the multiplexing unit 5112 receives a multiplexing instruction from the multiplexing control unit 5110, it may perform a multiplexing operation and generate a multiplexed stream in an intermediate state which is then stored in a storage unit (not illustrated).  After completing the processing of all of the multiplexing instructions, the multiplexing unit 5112 may output the completed multiplexed stream to the transmission unit 5106.  Alternatively, instead of immediately processing the multiplexing instructions, the multiplexing unit 5112 may store these instructions in a storage unit (not illustrated), before sorting the necessary multiplexing instructions and performing multiplexing in order of reproduction time to generate a multiplexed stream,<br>
which it may then successively output to the transmission unit 5106.<br>
1-2-6 Transmission Unit 5106<br>
The transmission unit 5106 includes a scheduler, and is activated by the multiplexing control unit 5110 at a predetermined time before the transmission start time of an event, such as five minutes before the start of the transmission.  When the transmission start time is reached, the transmission unit 5106 repeatedly multiplexes<br>
information such as the NIT, PAT, PMT, SDT, and EIT<br>
t generated by the system information table generating unit<br>
5105 into the transport stream outputted by the multiplexing unit 5112 at a predetermined interval using predetermined PIDs in accordance with DVB-SI standard and MPEG2 system standard.  The transmission unit 5106 then performs modulation and other processes, before transmitting the data to a plurality of data reception apparatuses 5121.<br>
Fig. 29 gives a model representation of a transport stream multiplexed by the transmission unit 5106.  In this example, the NIT, the PAT, the PMT, the SDT, and the EIT have been additionally multiplexed into the transport stream multiplexed by the multiplexing unit 5112.  In reality, a plurality of events have also been multiplexed into this transport stream by the transmission unit 5106, although only the event (interactive program) shown in Fig. 5 has<br>
been shown in Fig. 29.<br>
1-2-7 Operation of the Data Broadcasting Apparatus 5101<br>
The following is a description of the operation of the data transmission apparatus 5101 in the present embodiment, which is constructed as described above.<br>
Fig. 30 is a flowchart showing the entire operation of the digital broadcasting apparatus 5101.<br>
The multiplexing control unit 5110 first generates the (a) content identifier assigning table (S7602) and then generates the (b) version number assigning table (S7604) . After this, the multiplexing control unit 5110 gives an indication for the generation of the (c) navigation information tables (S7606) and the generation of the (d) system information tables (S7608).  Once the system information tables have been generated by the system information table generating unit 5105, the multiplexing control unit 5110 reads the value of the "PCR_PID" from the multiplexing information storage unit 5104 and notifies the multiplexing unit 5112 of this value (S7610).<br>
After this, the multiplexing control unit 5110 instructs the multiplexing unit 5112 to multiplex the presentation information (S7611), and instructs the multiplexing unit 5112 to multiplex the navigation information (S77-0, S77-1, ... S77-n).  In doing so, the<br>
multiplexing control unit 5110 performs the processes in S77-0, S77-1, ... S77-n in parallel for the n+1 contents from content 0 to content n, such as by generating n+1 tasks and performing multitask processing.<br>
Fig. 31 is a flowchart showing the details of the generation of multiplexing instructions for the presentation information.  In this figure, the variable i is the variable used for successively counting content numbers.<br>
The multiplexing control unit 5110 initializes the variable i to "0" (S7612), and then refers to the<br>
construction information storage unit 5109 to determine<br>
whether the image data for the content whose content number is i has already been multiplexed (S7614, S7616).<br>
The above determination is performed by the multiplexing control unit 5110 checking whether there are any contents with lower content numbers than i which include the same image data as content i.  As one example, when this determination is performed using the construction information table 5801 shown in Fig. 12, when the content counter i is "0", the image data "Video0.m2v" is judged as not having been multiplexed, while when the content counter is "1", the present content has the same image data "Video0.m2v" as content 0, so that the multiplexing control unit 5110 judges that this image data has already been multiplexed.<br>
When the image data has already been multiplexed, the<br>
multiplexing control unit 5110 does not have the data multiplexed again.  When the image data has not been multiplexed, the multiplexing control unit 5110 instructs the multiplexing unit 5112 to multiplex the image data of the content with the content number i (S7618).  In doing so, the multiplexing control unit 5110 informs the multiplexing unit 5112 of the multiplexing start position, the PID, and the bit rate.  In this case, it informs the multiplexing unit 5112 of the value "0" (the start of the transport stream) as the multiplexing start position.<br>
The multiplexing control unit 5110 also refers to the multiplexing information storage unit 5104 and reads the value of the PID of the component corresponding to the component tag assigned to the image data to be multiplexed, before informing the multiplexing unit 5112 of this value as the PID.  In the same way, the multiplexing control unit 5110 refers to the multiplexing information storage unit 5104 and reads the bit rate corresponding to the component tag assigned to the image data to be multiplexed, before informing the multiplexing unit 5112 of this value as the bit rate.<br>
As one example, when multiplexing the image data "Video0.m2v" of the content with the content number "0" in the construction information table 5801, the multiplexing control unit 5110 first refers to the content identifier assigning table 6101 and reads the value "0x00" of the<br>
"VE_comp_tag" 6107 for the image data of content 0.  After this, the multiplexing control unit 5110 reads the value "0x0096" of the "VE_component(0)_pid" 6011 and the value "4Mbps" of the "VE_component(0)_Bitrate" 6010 from the multiplexing information table 6001 and informs the multiplexing unit 5112 of these values.<br>
In the same way as for image data, the multiplexing control unit 5110 then determines whether the audio data for the content whose content number is i has already been multiplexed (S7620).  When the audio data has not been<br>
multiplexed, the multiplexing control unit 5110 instructs<br>
t<br>
the multiplexing unit 5112 to multiplex the audio data, while when the audio data has already been multiplexed, the multiplexing control unit 5110 does not have a multiplexing operation performed.<br>
The processes described above are performed for all of the contents.  As a result, the multiplexing control unit 5110 issues multiplexing instructions for all sets of image data and audio data with the multiplexing start positions being set at "0".<br>
Fig. 32 is a more detailed flowchart for the generation process of multiplexing instructions for navigation information shown as S77-0, S77-1, ... S77-n in Fig. 30.  This flowchart shows the multiplexing instructions for navigation information for the content i, out of the contents from content 0 to content n.  As with other<br>
contents, these processes are executed in parallel.  Here, the variable wp shows the time (seconds) of the multiplexing start position of each navigation information table where the starting point of the transport stream is set at "0". The variable endT, conversely, shows the end time for the repeated multiplexing of the navigation information table with a given version number.<br>
The multiplexing control unit 5110 first initializes the version number v and the multiplexing start position wp to "0" (S7702).  The multiplexing control unit 5110 then refers to the storage region of the navigation information table generating unit 5111 and investigates whether there is a navigation information table with the filename "NVT (i,v)" for the content number i, and the version number v (S7704). When no "NVT(i,v)" is present, the multiplexing control unit 5110 terminates the processing.  When "NVT(i,v)" is present, the multiplexing control unit 5110 investigates whether a navigation information table with the filename "NVT(i,v+l)" is present (S7708).<br>
When no "NVT(i,v+l)" is present, the multiplexing control unit 5110 reads the value of the valid end time "end_time" from the navigation information table with the filename "NVT(i,v)" and sets it into the variable endT (S7710) .<br>
When a navigation information table "NVT(i,v+l)" is present, the multiplexing control unit 5110 compares the<br>
value of the valid end time "end_time" of the navigation information table with the filename "NVT(l,v)" given by subtracting "1" from the valid start time "start_time" of the navigation information table with the filename "NVT(i,v+l), before setting the smaller of these values in the variable endT (S7714).  As one example, when i=0 and v=0, the navigation information table "NVT(0,0)" is as shown in Fig. 17 and the navigation information table "NVT(0,D" is as shown in Fig. 19, with the value of the end_time of navigation information table "NVT(0,0)" being "65" and the value of the start_time of navigation information table<br>
I<br>
"NVT(0,1)" being "70". As a result, the multiplexing control unit 5110 compares the start_time "65" of NVT(0,0) with the end_time of NVT(0,1) minus 1 "69" and sets the smaller of these values, "65", into the variable endT.  By doing so, the time period during which the navigation information table "NVT(0,0)" becomes the time period between wp=0 and endT=65.<br>
The multiplexing control unit 5110 next calculates the multiplexing end position wp when multiplexing NVT(i,v) according to the equation wp=wp+{S_NVT(i,v)/Bi} and compares this value with the value of the variable endT (S7712) . Here, S_NVT(i,v) is the size of the navigation information table NVT(i,v) when converted to a transport stream in accordance with MPEG2 system standards.  The variable Bi, meanwhile, is the bit rate assigned to the component used<br>
for multiplexing the navigation information table "NVT(i,v), with the value of the bit rate assigned to this component being read from the multiplexing information storage unit 5104.<br>
When the multiplexing end position wp is greater than the variable endT, the multiplexing control unit 5110 adds "1" to the version number v (S7716) and returns to the process in S7704.<br>
When the multiplexing end position wp is equal to or less than the variable endT, the multiplexing control unit<br>
5110 generates a multiplexing instruction for the navigation<br>
t information table "NVT(i,v)?I and sends it to the<br>
multiplexing unit 5112.  In doing so, the multiplexing control unit 5110 informs the multiplexing unit 5112 of the value of the multiplexing start position wp, the value of the bit rate Bi, the value of the PID, the value of the table_id, the value of the table_extension_id, and the value of the version_no as the multiplexing instruction.<br>
Here, to find the value of the PID, the multiplexing control unit 5110 reads the PID assigned to the component used for multiplexing the navigation information table of the content with the content number i from the multiplexing information storage unit 5104.<br>
The multiplexing control unit 5110 finds the value of the table_id as a value (for example "0x90") which is predetermined for a navigation information table.<br>
The multiplexing control unit 5110 obtains the table_id_extension by reading the value assigned to the "NE_id" of the content with the content number i in the content number assigning table 6101.<br>
The multiplexing control unit 5110 obtains the version_no by reading it from the version number assigning table 6201 shown in Fig. 16.<br>
As one example, for the navigation information table "NVT(0,0)" shown in Fig. 17, the first multiplexing instruction is composed of the multiplexing start position<br>
wp=0, PID=Ox0092 (="NE_component(0)_pid"), Bi=lMbps,<br>
i table_id=0x90, table_id_extension=OxOOOO (=NE_id), and<br>
version_no=OxOO.<br>
After sending a multiplexing instruction to the multiplexing unit 5112, the multiplexing control unit 5110 resets the value of the multiplexing start position wp according to the equation wp=wp+{S_NVT(i,v)/Bi} (S7720), and repeats the processing starting from the determination of the multiplexing end position when the navigation information table with the filename NVT(i,v) has been multiplexed once again (S7712).<br>
On receiving the multiplexing instructions generated as described above, the multiplexing unit 5112 generates a multiplexed stream.  After this, the transmission unit 5106 multiplexes this multiplexed stream into a transport stream which it then transmits.<br>
1-3 Overall Construction of the Reception Apparatus 5121<br>
As shown in Fig. 4, the reception apparatus 5121 is composed of a reception unit 5122, a TS (Transport Stream) decoder unit 5123, an AV decoder unit 5124, a received data storage unit 5125, a reception control unit 5126, a signal reception unit 5127, a reproduction unit 5128, a display unit 5129, and an audio output unit 5130.  This reception apparatus 5121 is constructed so as to interactively extract a content from the transport stream transmitted by the digital broadcasting apparatus 5101 in accordance with a user operation and to reproduce the extracted content. Here, the received data storage unit 5125 includes a navigation information table storage unit 5132 and a system information table storage unit 5133.<br>
1-3-1 Reception Unit 5122<br>
The reception unit 5122 receives the transport stream indicated by the reception control unit 5126 and outputs it to the TS decoder unit 5123.<br>
1-3-2 TS Decoder Unit 5123<br>
The TS decoder unit 5123 includes a filter condition storage unit 5131 for storing filter conditions that are set by the reception control unit 5126, and operates in accordance with the filter conditions to separate image data and audio data from the transport stream outputted by the<br>
reception unit 5122 and output them to the AV decoder unit 5124, as well as separating navigation information tables and writing them into the received data storage unit 5125. The TS decoder unit 5123 also separates system information tables, such as the PCR (standard clock information) which it outputs to the AV decoder unit 5124.<br>
The filter condition storage unit 5131 stores a plurality of filter conditions.  Here, the TS decoder unit 5123 is able to simultaneously perform a plurality of separation operations in accordance with these filter conditions.<br>
1<br>
Figs. 33A and 33B show examples of the filter conditions stored in the filter condition storage unit 5131. Each line in the filter condition tables 7801, 7807 in these drawings shows a separate filter condition which includes a filter identification number, a PID, a table_id_extension, a version_no, and an output destination.<br>
The "filter identification number" column 7802 is used to store numbers which identify the respective filter conditions.  In the present figures, the filter identification number "0" shows the filter condition for separating image data, the filter identification number "1" shows the filter condition for separating audio data, and the filter identification number "2" shows the filter condition for separating navigation information, with the filter conditions with the filter identification numbers "3"<br><br>
onwards being used to separate system information such as the PMT.<br>
The "PID" column 7803 shows the PIDs of the data to be separated.<br>
The "table_id_extension" column 7804 shows the values of the "table_id_extension" identifiers for separating the navigation information and system information.<br>
The "version_no" column 7805 shows the value of the "version_no" which is used when separating navigation information.  The entry "-" in this "version_no" column shows that this value is not set for a filter condition, so that separation according to the corresponding filter condition is performed regardless of the value of the "version_no" identifier.<br>
The "output destination" column 7806 shows the output destination to which the separated data is to be outputted.<br>
As one example, the image data separated by the filter condition with the filter identification number "0" shown in Fig. 33A has its output destination given in the "output destination" column 7806 as the AV decoder unit 5124, but has no values set in the "table_id_extension" column 7804 or the "version no" column 7805.  Here, since no "table_id_extension" or "version no" is set for image data, neither of these values may be set in the filter condition for image data.  Conversely, the value "0x0096" for the image data to be separated is set in the "PID" column 7803.<br><br>
As a result, when the reception unit 5122 receives the transport stream shown in Fig. 29, the TS decoder unit 5123 separates the image data "Video0.m2v" and outputs it to the AV decoder unit 5124.<br>
As another example, the audio data separated by the filter condition with the filter identification number "1" shown in Fig. 33A has its output destination given in the "output destination" column 7806 as the AV decoder unit 5124, but has no values set in the "table_id_extension" column 7804 or the "version no" column 7805.  Here, since no<br>
"table_id_extension" or "version no" is set for audio data,<br>
i neither of these values may be set in the filter condition<br>
for audio data.  Conversely, the value "0x0098" for the audio data to be separated is set in the "PID" column 7803. As a result, when the reception unit 5122 receives the transport stream shown in Fig. 29, the TS decoder unit 5123 separates the audio data "Audio0.m2a" and outputs it to the AV decoder unit 5124.<br>
The navigation information table separated by the filter condition with the filter identification number "2" shown in Fig. 33A has its output destination given in the "output destination" column 7806 as the navigation information table storage unit 5132.  Accordingly, the TS decoder unit 5123 writes the separated navigation information table into the navigation information table storage unit 5132.  In Fig. 33A, this filter condition of<br><br>
the navigation information table to be separated has the value "0x0092" in the PID column 7803 and the value "0x0000" set in the "table_id_extension" column 7804.  However, no value is set for this filter condition in the "version no" column 7805.  As a result, when the reception unit 5122 receives the transport stream shown in Fig. 29, the TS decoder unit 5123 separates, depending on the timing of the separation, one of the navigation information tables "NVT(0,0)'?, "NVT(0,D", "NVT(0,2)", "NVT(0,3)", and "NVT(0,4)" and writes the separated navigation information<br>
table into the navigation information table storage unit<br>
i 5132, in addition to informing the reception control unit<br>
5126.<br>
The filter condition table 7801 in Fig. 33A shows the filter conditions which are stored in the filter condition storage unit 5131 immediately after an event has been selected by a user, and so stores the filter conditions for the entry content.<br>
The filter condition table 7807 is the same as the filter condition table 7801 described above, with the exception that the value "0x01" has been set in the "version_no" column of the filter condition for navigation information, so that when the reception unit 5122 receives the transport stream shown in Fig. 29, the TS decoder unit 5123 separates only the navigation information table "NVT(0,l)lf and writes it into the navigation information<br><br>
table storage unit 5132, in addition to informing the reception control unit 5126.  This is to say, the filter condition table 7807 shows filter conditions once the entry content has already been separated.<br>
1-3-3 AV Decoder Unit 5124<br>
The AV decoder unit 5124 has a clock unit (not illustrated) and, in accordance with MPEG2 standard, decodes the video data and audio data outputted by the TS decoder unit 5123 in synchronization and outputs the decoded data to the reproduction unit 5128.  This clock unit has a standard<br>
1<br>
clock which is set at the correct value by the PCR (standard clock information) outputted by the TS decoder unit 5123, and measures the time which is used to ensure that the image data and audio data are decoded with proper synchronization.<br>
1-3-4 Received Data Storage Unit 5125<br>
The received data storage unit 5125 can be composed of RAM (Random Access Memory), for example, and is provided with a navigation information table storage unit 5132, and a system information table storage unit 5133.<br>
The navigation information table storage unit 5132 stores navigation information tables which have been separated by the TS decoder unit 5123.  The system information table storage unit 5133 stores the system information tables, such as the NIT, the SDT, the EIT, the<br><br>
PAT, and the PMT which have been separated by the TS decoder unit 5123.  It should be noted here that the contents of the system information tables are the same as those shown in Figs. 17 to 27, so that no further explanation will be given.<br>
1-3-5 Signal Reception Unit 5127<br>
The signal reception unit 127 receives signals, such as remote controller operations made by a user, and informs the reception control unit 126 of the received signals.  As one example, when a selection signal is received for an event that represents an interactive program but of the transport stream received from the digital broadcasting apparatus 5101, the signal reception unit 5127 outputs the received selection signal to the reception control unit 5126.  Also, when an activation signal (described later in this specification) is received from the user, this signal is also outputted to the reception control unit 5126.  It should be noted here that these operations may be made using, for example, a "left", "right" and "enter" key on an operation panel provided on the reception apparatus 5121 or on a remote controller.  In the latter case, the remote controller sends an appropriate signal to the signal reception unit 5127 when one of the keys is pressed by the user.  Of these keys, the "left" and "right" keys may be used to move the selection state in the display of the<br>
display unit 5129 to the next displayed button on the left or on the right, with the "enter" key being used to activate the button currently in the selected state.<br>
1-3-6 Reproduction Unit 5128<br>
In accordance with the instructions received from the reception control unit 5126, the reproduction unit 5128 generates an image signal for the image data decoded by the AV decoder unit 5124 and the graphics information outputted by the reception control unit 5126 and outputs the generated<br>
image signal to the display unit 5129, as well as outputting<br>
i audio data decoded by the AV decoder unit 5124 to the audio<br>
output unit 130.  In generating the image signal, the reproduction unit 5128 superimposes the graphics information outputted by the reception control unit 5126 onto the video data decoded by the AV decoder unit 5124.<br>
1-3-7 Display Unit 5129<br>
The display unit 5129 can be realized by a television monitor and is used to display, the images outputted by the reproduction unit 5128.<br>
1-3-8 Audio Output Unit 130<br>
The audio output unit 130 can be realized by a speaker and is used to output the audio signal outputted by the reproduction -unit 5128.<br>
1-3-9 Reception Control Unit 5126<br>
The reception control unit 5126 is composed of a CPU, a ROM for storing a program, and a RAM used as a work area. This reception control unit 5126 controls the reception of interactive programs, in addition to controlling the operation of the reception apparatus 5121 as a whole.<br>
1-3-9-1 Reception Control Unit 5126; Outline of the Reception Processing for Interactive Programs<br>
Fig. 36 is a flowchart for the reception processing of interactive programs by the reception control unit 5126.<br>
1<br>
When the reception apparatus 5121 is switched on, the reception control unit 5126 controls the reception unit 5122 and the TS decoder unit 5123 in accordance with an appropriate procedure for MPEG2 system standard and DVB-SI standard and has the system information tables included in the transport stream written into the system information table storage unit 5133.  At this point, a list of programs may be displayed.<br>
When the user selects an event corresponding to an interactive program in the transport stream using a remote controller or the like, the reception control unit 5126 receives this selection signal via the reception control unit 5126 and refers to the system information tables in the system information table storage unit 5133 to obtain the identifiers of the event, which are namely the<br>
original_network_id, the transport_stream_id, the service_id, and the event_id (S8102).<br>
The reception control unit 5126 then refers to the system information tables in the system information table storage unit 5133 and instructs the reception unit 5122 to receive the appropriate transport stream received from the transmission unit 5106, and instructs the TS decoder unit 5123 to separate the PMT corresponding to the selected event.  The reception unit 5122 receives the transport stream from the transmission unit 5106 and outputs it to the TS decoder unit 5123.  The TS decoder unit 5123 separates<br>
the PMT corresponding to the selected event and writes it into the system information table storage unit 5133 in the received data storage unit 5125, as well as notifying the reception control unit 5126.  On being notified of the reception of the PMT by the TS decoder unit 5123, the reception control unit 5126 refers to the PMT stored in the system information table storage unit 5133 and obtains the PID of the PCR which it then writes into the filter condition storage unit 5131 (S8104).<br>
The reception control unit 5126 sets the variables of the selected service and event into the variables cur_... as shown below, and clears the values of the cur_VE_comp_tag, the cur_AE_comp_tag, and the cur_NE_id (S8106) .  These variables (cur_...) are used to store identifiers for the content currently being reproduced.<br>
(Variable cur_..._id) - (value of _id of selected event)<br>
cur_original_network_id *- original_network_id<br>
cur_transport_stream_id - transport_stream_id<br>
cur_VE_service_id      *- service_id<br>
cur_AE_service_id      «- service_id<br>
cur_NE_service_id      - service_id<br>
cur_VE_event_id        - event_id<br>
cur_AE_event_id        ~ event_id<br>
cur_NE_event_id        - event_id<br>
cur_VE_comp_tag_id     - 0 (cleared)<br>
cur_AE_comp_tag_id     *- 0 (cleared)<br>
cur_NE_id	«- 0 (cleared)<br>
Following this, the reception control unit 5126 sets the variables of the selected service and event into the variables new_..._id as shown below (S8108).  In doing so, the reception control unit 5126 reads the values of the entry_VE_comp_tag, entry_AE_comp_tag, and the entry_NE_id from the PMT stored in the system information table storage unit 5133.<br>
(Variable new_..,_id) - (value of _id of selected event) new__original_network_id - original_network_id new_transport_stream_id *- transport_stream_id new_VE_service_id      - service_id new AE service id      - service id<br>
new_NE_service_id	-	service_id<br>
new_VE_event_id	*-	event_id<br>
new_AE_event_id	-	event_id<br>
new_NE_event_id	*-	event_id<br>
new_VE_comp_tag_id	-	entry_VE_comp_tag<br>
new_AE_comp_tag_id	-	entry_AE_comp_tag<br>
new_NE_id	-	entry_NE_id<br>
Following this, the reception control unit 5126 performs the content switching process (S8110), clears the<br>
value of the content change flag, which shows that content<br>
i switching is necessary, to "0" (S8112), performs the<br>
reproduction control process (S8114) for navigation information (S8114), and repeats these processes to control the reproduction of the interactive program.<br>
1-3-9-2 Reception Control Unit 5126: Content Switching Process<br>
Fig. 37 is a flowchart showing the details of the content switching process (S81.10) in Fig. 36.<br>
First, the reception control unit 5126 judges whether the value of the variable new_original_network_id stored by the reception control unit 5126 is the same as cur_original_network_id and whether the value of the variable new_transport_stream_id is the same as the cur transport stream id (S8202).  When both are affirmative,<br>
the reception control unit 5126 performs the switching process for image data (S8210), the switching process for audio data (S8212), and the switching process for navigation information (S8214) in parallel before terminating the procedure.  The details of the switching process for image data, the switching process for audio data, and the switching process for navigation information are given later in this specification.<br>
When the variables are not equal, the reception control unit 5126 refers to the system information tables<br>
and performs a switching process for the transport stream<br>
i identified by the variable new_original__network_stream_id<br>
and the variable new_transport_stream_id, in accordance with MPEG2 system standard and DVB-SI standard (S8204) .  The reception control unit 5126 then sets the value of the variable cur_original_network_id at the variable new_original_network_id, and sets the value of the variable cur_transport_stream_id at the variable<br>
new_transport_stream_id (S8206).  After this, the reception control unit 5126 clears the values of the variables, cur_VE_service_id, cur_AE_service_id, cur_NE_service_id, cur_VE_event_id, cur_AE_event_id, cur_NE_event_id, cur_VE_comp_tag, cur_AE_comp_tag, and cur_NE_id (S8208), and performs the switching process for image data (S8210), the switching process for audio data (S8212) and the switching process for navigation information (S8214) in parallel<br>
before terminating the procedure.<br>
1-3-9-3 Reception Control Unit 5126: Switching Process for Image Data<br>
The following is an explanation of the details of the image data switching processing in S8210 of Fig. 37, with reference to the flowchart in Fig. 38.<br>
First, the reception control unit 5126 judges whether the value of the variable new_VE_service_id stored by the reception control unit 5126 is the same as cur_VE_service_id<br>
and whether the value of the variable new_VE_event_id is the<br>
i same as the cur_VE_event_id (S8302).  When both are<br>
affirmative, the reception control unit 5126 judges whether the variable new_VE_comp_tag is equal to the cur_VE_comp_tag (S8304).  If so, the reception control unit 5126 terminates the processing, or if not, the reception control unit 5126 advances to S8310 in Fig. 38.  When the judgement in S8302 is negative, the reception control unit 5126 sets the filter condition for the PMT corresponding to the variables new_VE_service_id and new_VE_eyent_id in the filter condition storage unit 5131.  The TS decoder unit 5123 then separates the desired PMT and stores it in the system information table storage unit 5133, in addition to notifying the reception control unit 5126.  On receiving notification of the separation of the PMT, the reception control unit 5126 refers to the received PMT and obtains the<br>
PID of the PCR which it sets in the filter condition storage unit 5131 (S8306).<br>
The reception control unit 5126 then sets the value of the variable new_VE_service_id into the variable cur__VE_servi.ce_id and the value of the variable new__VE_event_id into the cur_VE_event_id (S8308) .<br>
In S8310, the reception control unit 5126 refers to the PMT corresponding to the event identified by the variables cur_VE_service_id and cur_VE_event_id in the system information table storage unit 5133 and obtains the PID of the component used for transferring image data that has a component tag equal to the value of the' variable new__VE_comp_tag.  The reception control unit 5126 then sets this PID into the filter condition for image data in the filter condition storage unit 5131.  The TS decoder unit 5123 then separates the image data that corresponds to the value of the new_VE_comp_tag from the transport stream in accordance with this filter condition and outputs the image data to the AV decoder unit 5124.  The AV decoder unit 5124 decodes this image data, and the decoded image data is displayed by the display unit 5129 via the reproduction unit 5128 (S8312).  The reception control unit 5126 then sets the value of the variable new_VE_comp_tag into the variable cur_VE_comp_tag (S8314) and terminates the process.<br>
1-3-9-4 Reception Control Unit 5126; Switching Process for<br>
Audio Data<br>
The following is an explanation of the details of the audio data switching processing in S8212 of Fig. 37, with reference to the flowchart in Fig. 39.<br>
First, the reception control unit 5126 judges whether the value of the variable new_AE_service_id stored by the reception control unit 5126 is the same as cur_AE_service_id and whether the value of the variable new_AE_event_id is the same as the cur_AE_event_id (S8402).  When both are affirmative, the reception control unit 5126 judges whether the variable new_AE__comp_tag is equal to the cur_AE_comp_tag<br>
1<br>
(S8404).  If so, the reception control unit 5126 terminates the process, or if not, the reception control unit 5126 advances to S8410.  When the judgement in S8402 is negative, the reception control unit 5126 sets the filter condition for the PMT corresponding to the variables new_AE_service_id and new_AE_event_id in the filter condition storage unit 5131.  The TS decoder unit 5123 then separates the desired PMT and stores it in the system information table storage unit 5133, in addition to notifying the reception control unit 5126 (S8406).  The reception control unit 5126 then sets the value of the variable new_AE_service_id into the variable cur_AE_service_id and the value of the variable new_AE_event_id into the cur_AE_event_id (S8408).  The reception control unit 5126 then refers to the PMT corresponding to the event identified by the variables<br>
cur_AE_service_id and cur_AE_event_id in the system information table storage unit 5133 and obtains the PID of the component used for transferring image data that has a component tag equal to the value of the variable new_AE_comp_tag (S8410).  The reception control unit 5126 sets this PID into the filter condition for audio data in the filter condition storage unit 5131.  The TS decoder unit 5123 then separates the audio data that corresponds to the value of the new_AE_comp_tag from the transport stream in accordance with this filter condition and outputs the audio<br>
data to the AV decoder unit 5124.  The AV decoder unit 5124<br>
i decodes this audio data, and the decoded audio data is<br>
outputted by the audio output unit 5130 via the reproduction unit 5128 (S8412).  The reception control unit 5126 then sets the value of the variable new_AE_comp_tag into the variable cur_AE_comp_tag (S8314) and terminates the process.<br>
1-3-9-5 Reception Control Unit 5126: Switching Process for Navigation Information<br>
The following is an explanation of the details of the navigation information switching processing in S8214 of Fig. 37, with reference to the flowchart in Fig. 40.<br>
First, the reception control unit 5126 judges whether the value of the variable new_NE_service_id stored by the reception control unit 5126 is the same as cur_NE_service_id<br>
and whether the value of the variable new_NE_event_id is the same as the cur_NE_event_id (S8502).  When both are affirmative, the reception control unit 5126 judges whether the variable new_NE_id is equal to the cur_NE_id (S8504). If so, the reception control unit 5126 terminates the processing, or if not, the reception control unit 5126 advances to S8510.  When the judgement in S8502 is negative, the reception control unit 5126 sets the filter condition for the PMT corresponding to the variables new_NE_service_id and new_NE_event_id in the filter condition storage unit 5131.  The TS decoder unit 5123 then separates the desired<br>
t<br>
PMT and stores it in the system information table storage unit 5133, in addition to notifying the reception control unit 5126 (S8506) .<br>
The reception control unit 5126 sets the value of the variable new_NE_service_id into the variable cur_NE_service_id and the value of the variable new_NE_event_id into the cur_NE_event_id (S8508) .  The reception control unit 5126 then refers to the PMT corresponding to the event identified by the variables cur_NE_service_id and cur_NE_event_id in the system information table storage unit 5133 and obtains the PID of the component used for transferring navigation information that has a component tag equal to the value of the variable new_NE_id (S8510).  The reception control unit 5126 sets this PID into the "PID" of the filter condition for<br>
navigation information and the value of the variable new_NE_id into the "table_id_extension" of this filter condition in the filter condition storage unit 5131, with the "version_no" being set at unconditional.  The TS decoder unit 5123 then separates the navigation information table that corresponds to the value of the new_NE_id from the transport stream in accordance with this filter condition and has this navigation information table stored in the navigation information table storage unit 5132, in addition to notifying the reception control unit 5126.  This is to<br>
say, the first time a navigation information table is<br>
i obtained, a navigation information table transferred at that<br>
time which is identified by only the PID and the table_id_extension is separated from the transport stream, regardless of the version_no of the navigation information table (S8512).  The reception control unit 5126 then sets the value of the variable new_NE_id into the variable cur_NE_id (S8514) and terminates the process.<br>
1-3-9-6 Reception Control Unit 5126: Interactive Control in accordance with the Navigation Information<br>
Fig. 41 is a flowchart showing the interactive control process performed in accordance with the navigation information.<br>
The reception control unit 5126 waits for notification of the separation of a navigation information table from the<br>
TS decoder unit 5123 (S8602) and judges whether such notification has been received.  When the notification has been received, the processing advances to S8606 or otherwise returns to S8602 (S8604).  The reception control unit 5126 reads the version number of the navigation information table stored in the navigation information table storage unit 5132, adds "1" to it, and sets the "version_no" in the filter condition for a navigation information table stored in the filter condition storage unit 5131 (S8606).  After this, the reception control unit 5126 resets the variable<br>
cur_focus to "0" (S8608).  The reception control unit 5126<br>
i then reads the navigation information table stored in the<br>
navigation information table storage unit 5132 and refers to the object definition table and bitmap table, as well as reading the bitmap data for displaying an image and its display coordinates.  In doing so, the reception control unit 5126 reads the bitmap data corresponding' to the bitmap index number given in the "focused bitmap" column for the object whose object index number is equal to the value of the variable cur_focus, as well as reading the bitmap data corresponding to the bitmap index number given in the "normal bitmap" column for objects with other values of the object index number (S8610).  Next, the reception control unit 5126 sets the value of the start_time into the variable start_time and the value of the end_time into the variable end time (S8612).<br>
The reception control unit 5126 then refers to the clock unit of the AV decoder unit 5124 and sets the present time into the variable cur_time (S8614).  The reception control unit 5126 then waits until the value of the variable start_time is equal to or greater than the value of the variable cur_time (S8616) , while outputting the bitmap data and coordinate values read in S8610 to the reproduction unit 5128.  The reproduction unit 5128 superimposes the bitmap data outputted by the reception control unit 5126 onto the image data decoded by the AV decoder unit 5124 at the indicated coordinate position and has the combined image displayed by the display unit 5129 (S8618).<br>
The reception control unit 5126 next determines whether the value of the variable cur_time is equal to or greater than the variable end_time (S8622) and if so, gives the reproduction unit 5128 an indication to stop displaying the current bitmap data (S8624), before returning to S8602. If the judgement in S8622 is negative, the reception control unit 5126 performs a user input process (S8626), the details of which are given later in this specification.<br>
The reception control unit 5126 next judges whether the value of the variable ContentchangeFlag is "1" (S8628) . When this is the case, the reception control unit 5126 terminates the reproduction control process for the navigation information.  When this is not the case, the reception control unit 5126 judges whether notification of<br><br>
the separation of a new navigation information table has been received from the TS decoder unit 5123 (S8630).  When such notification has arrived,  the reception control unit 5126 instructs the reproduction unit 5128 to stop displaying the current bitmap data (S8632) and returns to the process in S8606.  When the reception control unit 5126 judges that no notification has arrived in S8630, the processing returns to S8622.<br>
1-3-9-7 Reception Control Unit 5126:  User I/F Processing<br>
according to the Navigation Information<br>
t Fig. 42 is a flowchart showing the user I/F processing<br>
according to the navigation information.<br>
The reception control unit 5126 first judges whether the user input received from the signal reception unit 5127 is for the "right" key (S8702).  When the input is not for the "right" key, the processing advances to S8708.  When the input is for the "right" key, the reception control unit 5126 adds "1" to the value of the variable cur_focus.  It should be noted here that when the value of the variable cur_focus is equal to the highest value of the object index number in the navigation information table in the navigation information table storage unit 5132, the variable cur_focus is not increased further (S8704).  The processing then advances to S8706.  The reception control unit 5126 refers to the object definition table and bitmap table in the<br>
navigation information table in the navigation information table storage unit 5132 and reads the bitmap data to be displayed on the screen and the coordinates of the display position(s) on the display screen, before outputting these to the reproduction unit 5128.  In doing so, the reception control unit 5126 reads the bitmap data corresponding to the bitmap index number given in the "Focused Bitmap" column for the button object whose object index number is equal to the variable cur_focus, and the bitmap data corresponding to bitmap index numbers given in the "Normal Bitmap" column for button objects with other object index numbers.  The<br>
t<br>
reproduction unit 5128 superimposes these sets of bitmap data onto the image data decoded by the AV decoder unit 5124 at the indicated coordinate positions and has the combined image displayed by the display unit 5129, thereby completing the user input processing (S8706).<br>
In S8708, the reception control unit 5126 judges whether the user input received from the signal reception unit 5127 is for the "left" key (S8708).  When the input is not for the "left" key, the processing advances to S8712. When the input is for the "left" key, the reception control unit 5126 subtracts "1" from the value of the variable cur_focus.  It should be noted here that when the value of the variable cur_focus is "0", it is not decreased further (S8710).  The processing then advances to step S8706.<br>
In S8712, the reception control unit 5126 judges<br>
whether the user input received from the signal reception unit 5127 is for the "enter" key.  When the input is for the "enter" key, the processing advances to S8714.  When the input is not for the "enter" key, the reception control unit 5126 terminates the user input processing.<br>
In step S8714, the reception control unit 5126 refers to the object definition table in the navigation information table stored in the navigation information table storage unit 5132 to obtain the handler index number of the button object whose object index number is equal to the variable cur_focus.  The reception control unit 5126 then refers to<br>
t<br>
the handler definition table and reads the script of the handler corresponding to the obtained handler index number. The reception control unit 5126 judges whether the script is "goto_content" (S8716) and, if not, advances to S8724.  When the script is "goto_content", the reception control unit 5126 reads the hyperlink index number of the argument (S8718) .<br>
The reception control unit 5126 refers to the hyperlink table in the navigation information table and sets the original_network_id, the transport_stream_id, the VE_service_id, the VE_event_id, the VE_comp_tag, the AE_service_id, the AE_event_id, the AE_comp_tag, the NE_service_id, the NE_event_id, and the NE_id which are the identifiers of the content corresponding to the hyperlink index number read in S8718 into the variables<br>
new_original_network_id, new_transport_stream_id, new_VE_service_id, new_VE_event_id, new_VE_comp_tag, new_AE_service_id, new_AE_event_id, new_AE_comp_tag, new_NE_service_id, new_NE_event_id, and new_NE_id.  However, when no value is set in the hyperlink table, which is to say when the identifiers are given as "-", the values of the corresponding variables are left unchanged (S8720).  The reception control unit 5126 sets the value of the variable ContentchangeFlag at "1" (S8722) and terminates the user input processing.<br>
In S8724, the reception control unit 5126 judges whether the script is "goto_entry" (S8724), and if not, terminates the user I/F processing.  When the script is "goto_entry"/ the reception control unit 5126 refers to the PMT stored in the system information table storage unit 5133 corresponding to the variables "cur_NE_service_id" and "cur_NE_event_id" and sets the values of the "entry_VE_comp_tag", the "entry_AE_comp_tag", and the "entry_NE_id" into the variables new_VE_comp_tag, new_AE_comp_tag, and new_NE_id, in addition to setting the value of the variable cur_NE_service_id into the variables new__VE_service_id and new_AE_service_id, and the value of the variable new_NE_event_id into the variables new__VE_event_id and new_AE_event_id (S8726) , before the processing returns to S8722.<br>
1-3-10 Operation of the Reception Apparatus 5121<br>
The operation of the reception apparatus 5121 described above is described below having been divided into a (1) Selection reception operation for an interactive program, (2) Display operation according to the navigation operation, (3) User I/F processing according to the navigation information, and (4) Content switching processing.<br>
1-3-10-1 (1) Selection Reception Operation for an<br>
Interactive Program<br>
i When the reception apparatus 5121 is switched on, the<br>
reception apparatus 5121 receives the various system information tables included in the transport stream and writes them into the system information table storage unit 5133.<br>
When an interactive program, which is to say an event that has been multiplexed into a transport stream in Fig. 29, has been selected by the user, the reception control unit 5126 obtains the information in the transfer preface, such as the frequency of the transport stream identified by the original_network_id "0x0001" and the transport_stream_id "0x0001", from the NIT (see Fig. 22) stored in the system information table storage unit 5133, and instructs the reception unit 5122 to receive the transport stream.<br>
The reception control unit 5126 then obtains the PID<br>
"0x0090" of the PMT of the program whose "program_no" is equal to the service_id "0x0002" from the PAT (see Fig. 23), and sets this in the filter condition for the PMT in the filter condition storage unit 5131.  As a result, the TS decoder unit 5123 separates the PMT 7001 shown in Fig. 24 and writes it into the system information table storage unit 5133.<br>
The reception control unit 5126 reads the PID "0x0091" of the PCR stored in the system information table storage unit 5133 and sets it in the filter condition of the PCR in the filter condition storage unit 5131.<br>
The reception control unit 5126 reads the identifiers of the image data, audio data, and navigation information for the entry content and sets these in the filter condition in the filter condition storage unit 5131.<br>
In more detail, the reception control unit 5126 refers to the Entry_Descriptor 7003 shown in Fig. 25 of PMT 7001, and reads the value "0x00" of the "entry_VE_comp_tag".  The reception control unit 5126 also reads the value "0x0096" of the PID of the component whose data type is "image data" and which has been assigned the stream_identifier_descriptor whose "component_tag" is "0x00", and sets this PID in the filter condition for image data in the filter condition storage unit 5131.<br>
In the same way, the reception control unit 5126 reads the value "0x00" of the "entry_AE_comp_tag".  The reception<br>
control unit 5126 also reads the value "0x0098" of the PID of the component whose data type is "audio data" and which has been assigned the stream_identifier_descriptor whose "component_tag" is "0x00", and sets this PID in the filter condition for audio data in the filter condition storage unit 5131.<br>
The reception control unit 5126 also reads the value "0x0000" of the "entry_NE_id" and sets it in the "table_id_extension" of the filter condition for the navigation information table in the filter condition storage unit 5131.  After this, the reception control unit 5126<br>
I<br>
refers to the table 7004 in the PMT 7001 and reads the value "0x0092" of the PID of the component which has been assigned the "NE_Component_Descriptor(0)" 7201 which includes the value "0x0000" between the values of the "min_NE_id" and the "max_NE_id", before setting this value in the "PID" of the filter condition for the navigation information table. Here, the "version_no" in the filter condition is set as unconditional.  At this point, the filter condition table stored in filter condition storage unit 5131 is the filter condition table 7801 shown in Fig. 33A.<br>
By doing so, the TS decoder unit 5123 separates the image data "VideoO.m2v" and audio data "Audio0.m2a" from the transport stream and outputs them to the AV decoder unit 5124.  Here, since the "version_no" of the filter condition is unconditional, one of the navigation information tables<br>
"NVT(0,0)", "NVT(0,D", "NVT(0,2)", "NVT(0,3)", and "NVT(0,4)" is separated and is written into the navigation information table storage unit 5132.<br>
The reception control unit 5126 reads the separated navigation information table in the navigation information table storage unit 5132, adds one to the version number assigned to the separated navigation information table, and writes the resulting value into the "version_no" of the filter condition for the navigation information table in the filter condition storage unit 5131.  When this addition of "1" results in the value exceeding 31, the resulting value is reset to "0".<br>
As one example, when the navigation information table 6301 with the filename "NVT(0,0)'f shown in Fig. 17 is separated by the TS decoder unit 5123 based on the filter condition table 7801 shown in Fig. 33A, the reception control unit 5126 receives notification of the separation of this navigation information table and reads this navigation information table 6301 from the navigation information table storage unit 5132.  The reception control unit 5126 then adds "1" to the value "0" of the version number and sets the value "0x01" into the "version_no" of the filter condition of the navigation information table in the filter condition storage unit 5131.  At this point, the filter condition table stored by the filter condition storage unit 5131 is the same as the filter condition table 7807 shown in Fig.<br>
33B.<br>
Here, since the TS decoder unit 5123 only separates the navigation information with the version number following the version number of the navigation information table currently being reproduced, the reception control unit 5126 does not need to confirm whether the content has changed every time new navigation information is received, thereby reducing the load of the reception control unit 5126.<br>
1-3-10-2 (2) Display Operation According to the Navigation<br>
Operation<br>
t<br>
The reception control unit 5126 controls the display for objects (buttons and pictures) included in a navigation information table in accordance with the navigation information table separated by the process described above.<br>
Based on the separated navigation information, the reception control unit 5126 initializes the variable cur_focus to "0" and refers to the object definition table 6302 of the navigation information table NVT (0,0) shown in Fig. 17 and the bitmap table 6305 and reads the X coordinate "20" and the Y coordinate "400" shown in the row for the object index number "0" and bitmap data corresponding to the bitmap index number "1" shown in the "Focused Bitmap" column.  The reception control unit 5126 also reads the X coordinate "200" and the Y coordinate "400" shown in the row for the object index number "1" and bitmap data<br>
corresponding to the bitmap index number "2" shown in the "Normal Bitmap" column.<br>
Following this, the reception control unit 5126 outputs the bitmap data and coordinates it has read to the reproduction unit 5128 when the present time reaches the value "5" of the "start_time" in the time information table 6306.<br>
Meanwhile, the image data 5201 ("Video0.m2v") and the audio data 5203 ("AudioO.m2a") separated by the TS decoder unit 5123 are decoded by the AV decoder unit 5124 and are outputted to the reproduction unit 5128.<br>
The reproduction unit 5128 superimposes' the bitmap data outputted by the reception control unit 5126 onto the image data 5201 outputted by the AV decoder unit 5124 and outputs a combined image signal.<br>
The display image for this case is shown in Fig. 34A. This display image 7901 in Fig. 34A corresponds to the scene Olb in Fig. 5, with the "Details for Osaka" button and "Go to Kanto" button being displayed as bitmap images which are superimposed on the image.  Of these, the button "Details for Osaka" is displayed in the selected state in accordance with the variable cur_focus.<br>
This display continues until the user makes a content switching operation, or until the value "65" of the "end_time" in the time information table 6306 of the navigation information table NVT (0,0) is reached.  When the<br>
present time reaches the value of "end_time", the same display operation as described above is performed when the start time for the navigation information table NVT (0,1) of the next version is reached.<br>
1-3-10-3 (3) User I/F Processing According to the Navigation Information<br>
The following example starts with scene Olb, which is to say the display image shown in Fig. 34A, being displayed.<br>
On receiving a signal for a user operation from the<br>
signal reception unit 5127 and judging that the signal is<br>
i for the "right" key, the reception control unit 5126 updates<br>
the value of the variable cur_focus to "1".  The reception control unit 5126 then refers to the navigation information table storage unit 5132 and reads the bitmap data corresponding to the bitmap index number "3" given in the "Focused Bitmap" column for the button object with the object index number "1" in the navigation information table NVT (0,0) shown in Fig. 17.  The reception control unit 5126 outputs this bitmap data together with the X coordinate "200" and the Y coordinate "400" to the reproduction unit 5128.  The reception control unit 5126 also obtains the bitmap data for the button objects whose object index numbers do not agree with the value "1" of the variable cur_focus, and outputs this data in the same way to the reproduction unit 5128.<br>
As a result, the "Details for Osaka" button 02b is displayed in the non-selected state, with the "Go to Kanto" button 03b changing to the selected state.<br>
Here, if the user presses the "left" button, the value of the variable cur_focus is updated back to "0" and the display returns to the state shown in Fig. 34A.<br>
When the user operation signal is for the "enter" key, the reception control unit 5126 refers to the navigation information table storage unit 5132 and reads the script in the handler of the button object whose object index number is equal to the variable cur_focus "0" in the navigation<br>
(<br>
information table NVT (0,0) shown in Fig. 17.  In the present case, the script is "goto_content(Hyperlink IndexO) so that the reception control unit 5126 reads the identifiers of the content for the link destination corresponding to the hyperlink index number given as the argument of the script, and performs the content switching process described below.<br>
1-3-10-4 (4) Content Switching Process<br>
The following is an explanation of when the user operation signal is for the "enter" key during a display of the display image shown in Fig. 34A, which is to say the case when switching between scene Olb in content 0 of Fig. 5 and scene lib of content 1.<br>
In the present case, the reception control unit 5126<br>
reads the various identifiers for the link destination content corresponding to the hyperlink index number "0" in the navigation information table NVT (0,0).  Here, apart from "NE_id", all of these identifiers are "-", so that the transport stream identifier, the service identifiers and event identifiers for the image data, audio data and navigation information, and the identifiers for the image data, and audio data for the link destination are all the same as those for the content currently being displayed. This is to say, the image data and audio data for the link destination content are the same as those for the currently<br>
1<br>
displayed content, so that only the navigation information is different.<br>
The reception control unit 5126 reads the value "0x0001" of the identifier "NE_id" of the navigation information and sets it into the "table_id_extension" of the filter condition for the navigation information table in the filter condition storage unit 5131.  After this, the reception control unit 5126 refers to the table 7004 in the PMT 7001 in the system information table storage unit 5133 and reads the value "0x0093" of the PID of the component which has been assigned the "NE_Component_Descriptor(1)" 7201 which includes the value "0x0001" between the values of the "min_NE_id" and the "max_NE_id", before setting this value in the "PID" of the filter condition for the navigation information table.  Here, the "version_no" in the<br>
filter condition is set as unconditional.<br>
The TS decoder unit 5123 then separates the navigation information table "NVT(0,D" shown in Fig. 18 in accordance with the filter condition set above and writes it into the navigation information table storage unit 5132, in addition to notifying the reception control unit 5126.<br>
The reception control unit 5126 adds "1" to the version number "0" assigned to the separated navigation information table NVT(0,1) and sets this value in the "version_no" column of the filter condition.  This is in<br>
readiness for an updating of the version number of the<br>
navigation information.<br>
In accordance with the navigation information table NVT(1,0) stored in the navigation information table storage unit 5132, the reception control unit 5126 performs (2) the display operation and (3) the user I/F processing.  The display screen displayed in accordance with "NVT(1,0)" is shown in Fig. 34B.  Here, the image data and audio data are the same as those shown in Fig. 34A, although different button text information is displayed due to the difference in navigation information.<br>
The following is a description of the case when, during a display of the display screen 7903 shown in Fig. 34C by the display unit 5129, the user presses the "enter" key on the remote controller, so the content switching is performed between scene Ole of content 0 and scene lie of<br>
content 1.<br>
In this case, the filter condition in the filter condition storage unit 5131 is set by the reception control unit 5126 so that the "PID" is "0x0093", the "table_id_extension" is "0x0001", and the "version_no" is unconditional.  As a result, the TS decoder unit 5123 separates the navigation information table "NVT(1,1)" shown in Fig. 20 from the transport stream shown in Fig. 29 and writes it into the navigation information table storage unit 5132.  In accordance with the navigation information table<br>
NVT(1,1), the reception control unit 5126 performs (2) the<br>
i display operation and (3) the user I/F processing so that<br>
the display screen 7904 shown in Fig. 34D is displayed.<br>
The following is a description of the case when, during a display of the display screen 8001 shown in Fig. 35A by the display unit 5129, the user presses the "enter" key on the remote controller, so the content switching is performed between scene Ola of content 0 and scene 21a of content 2.<br>
The reception control unit 5126 refers to the object definition table 6302 and the handler definition table 6303 in the navigation information table 6301 in the navigation information table storage unit 5132 and reads the script "goto_content" and the index number "1" of the argument of the script.<br>
The reception control unit 5126 then reads the<br>
identifier of the content which is the link destination corresponding to this index number "1" from the hyperlink table 6304.  The reception control unit 5126 judges that the identifier of the transport stream to which the link destination content belongs, and the service and event identifiers of the image data, audio data, and navigation information of the link destination content are the same as the present content, and so does not perform the processing for obtaining a PMT.  Since the identifiers for the image data, audio data, and navigation information are different, the reception control unit 5126 performs the appropriate processing for switching the reception of these.<br>
The reception control unit 5126 reads the value "0x01" of the "VE_comp_tag" identifier of the image data and refers to the table 7004 in the PMT 7001 in the system information table storage unit 5133 to find the value "0x0097" of the PID of the component whose data type is "image data" and which has been given the stream_identifier_descriptor whose "component_tag" is "0x01".  The reception control unit 5126 then sets this value "0x0097" in the "PID" column of the filter condition for image data in the filter condition storage unit 5131.<br>
The reception control unit 5126 reads the value "0x01" of the "AE_comp_tag" identifier of the audio data and refers to the table 7004 in the PMT 7001 in the system information table storage unit 5133 to find the value "0x0099" of the<br><br>
PID of the component whose data type is "audio data" and which has been given the stream_identifier_descriptor whose "component_tag" is "0x01".  The reception control unit 5126 then sets this value "0x0099" in the "PID" column of the filter condition for audio data in the filter condition storage unit 5131.<br>
The reception control unit 5126 reads the value "0x01" of the "NE_id" identifier of the navigation information and, in addition to setting this in the "table_id_extension" of the filter condition for navigation information in the<br>
filter condition storage unit 5131, refers to the table 7004<br>
t in the PMT 7001 to find the value "0x0094" of the PID of the<br>
component which has been given the<br>
"NE_Component_Descriptor(2)" which includes the value "0x0002" between the "min_NE_id" and the "max_NE_id", and sets this value in the "PID" column of the filter condition for the navigation information table.  In doing so, the reception control unit 5126 sets the "version_no" of the filter condition for the navigation information table as "unconditional".<br>
The TS decoder unit 5123 separates the navigation information table 6701 with the filename "NVT(2,0)" shown in Fig. 21 from the transport stream shown in Fig. 29 and stores it in the navigation information table storage unit 5132, in addition to informing the reception control unit 5126.  As a result, the display unit 5129 displays an image<br><br>
identical to that shown as display image 8002 in Fig. 35B.<br>
1-3-11 Example of Content Construction using Scripts<br>
In the interactive program shown in Fig. 5, each of contents 0-3 has one navigation information table.  Putting this into other words, there is a one-to-one relationship between navigation information tables and contents.  The following are examples of a content construction where a one-to-many relationship is established between the navigation information tables and the contents using the scripts in each navigation information table and a content<br>
1<br>
construction where a one-to-one relationship is established.<br>
Fig. 43 shows a different example of an interactive program which is composed of the four contents 10 to 13.<br>
The presentation information which forms the compositional elements of contents 10 to 13 are the video data "Videol.m2v" and the audio data "Audiol.m2a" shown in Figs. 6A and 6B.  This is to say, the four contents 10 to 13 share the same video data "Videol.m2v" and audio data "Audiol.m2a".<br>
The sets of navigation information which are compositional elements of contents 10 to 13 have the following two data constructions.<br>
The first data construction is where the sets of navigation information correspond one-to-one with the contents, which is shown in Figs. 44 to 47.<br>
The navigation information "NavilO-l.nif" shown in Fig. 44 corresponds to each scene in content 10 shown in Fig. 43.  Each of the buttons "North Osaka", "Central Osaka", and "South Osaka" in each scene in content 10 is expressed by the button objects with the object index numbers 0, 1, 2 in the object definition table in the navigation information "NavilO-l.nif".  These buttons "North Osaka", "Central Osaka", and "South Osaka" are also linked to contents 11, 12, and 13, respectively, as shown in the handler definition table and hyperlink table.<br>
The navigation information "Navill-l.nif" shown in<br>
i Fig. 45 corresponds to each scene in content 11 shown in<br>
Fig. 43.  The text information "Weather Information for North Osaka" in each scene in content 11 is expressed by the picture object for object index number 1 in the object definition table.  The "return" button is expressed by a button object with the object index number 0, and is linked to content 10.  This is also the case for the navigation information "Navil2-l.nif" shown in Fig. 46 and the navigation information "Navil3-l.nif" shown in Fig. 47.<br>
In this first data construction, the buttons, the sets of text information, and links between contents for contents 10-13 are expressed by a data construction composed of four sets of navigation information "NavilO-l.nif", "Navill-l.nif", "Navil2-l.nif", and "Navil3-l.nif".<br>
Fig. 48 shows an example set of navigation information<br>
in the second data construction where a single set of navigation information corresponds to many contents.<br>
The navigation information "NavilO_13-l.nif" shown in Fig. 48 corresponds to each of the scenes in the four contents 10 to 13 shown in Fig. 43, and expresses all of the objects which are expressed by the four sets of navigation information in Figs. 44 to 47.<br>
The object definition table in Fig. 48 has seven objects with the object index numbers 0-6 that correspond to the button objects and picture objects shown in Figs. 44 to 47, with the present object definition table also including a "visibility" column.  This "visibility" column in the object definition table is used to show whether an object is to be displayed, which is to say whether the object in question is valid, when switching to content 10 from another content.  Here, the valid objects are buttons and text information expressed as bitmaps, with a handler (script) being executed when a button is activated by a user operation.  Invalid objects are not displayed and their handlers are ignored.<br>
As a result of this object definition table, when reproduction of the contents is commenced, only the objects with the object index numbers 0-2 are valid, so that the buttons for "North Osaka", "Central Osaka", and "South Osaka" given by the bitmap index numbers 0-5 are displayed, with one button being in the selected state and the other<br>
two being in the normal (non-selected) state.  In this way, content 10 shown in Fig. 43 is reproduced.<br>
The scripts in the handler definition table are programs for performing content switching between the four contents.  These scripts are composed of "hide_object()" instructions for preventing the display of objects (invalidating), and "show_object()" instructions for having objects displayed (validating).<br>
As one example, when the "North Osaka" button in content 10 is selected and activated by the user, the<br>
handler (with handler index number 0) corresponding to the<br>
i "North Osaka" button object (object index 0) is activated.<br>
The script in this handler invalidates the button objects with the object index numbers 0, 1, and 2, which is to say the buttons for "North Osaka", "Central Osaka", and "South Osaka".  On the other hand, the button object with the object index number "3", which is to say the "return" button is validated, as is the picture object with the object index number "4", which is to say the text information "Weather Information for North Osaka".<br>
As a result, the display switches from content 10 in Fig. 43 to content 11.  Similar switching processes are also performed when the buttons "Central Osaka" and "South Osaka" are selected and activated by the user during the reproduction of content 10.<br>
As another example, when the user selects and<br>
activates the "return" button during the reproduction of content 11, 12 or 13, the handler (with handler index number 3" for the "return" button object (with the object index number 3) is activated.  By executing the script in this handler, the three button objects with the object index numbers 0-2, which is to say the buttons for "North Osaka", "Central Osaka", and "South Osaka", are validated, with the other objects (button object 3, picture objects 4-6) being invalidated.  As a result, the display switches to content 10 shown in Fig. 43.<br>
As described above, a plurality of objects can be<br>
t written into one set of navigation information, with the<br>
programs being given as scripts for giving the combinations of objects to be displayed (which is to say the valid objects).  Putting this into other words, a plurality of contents can be achieved by a single set of navigation information.  When doing so, the reception apparatus 5121 no longer needs to receive a new set of navigation information when switching between contents, so that the system can respond more quickly to user operations.<br>
1-3-12 Modifications<br>
As shown by the multiplexing information table 6001 in Fig. 14 of the present embodiment, the bit rate (NE_component_(x)_bitrate) of a navigation information table was set at iMbps for each content, although it is also<br>
possible for different values to be set depending on the data included in each content.  As one example, contents which are expected to be heavily used by viewers, such as a content used as a main menu, may be set a higher bit rate. As a specific example, in the interactive program shown in Fig. 5, contents 0 and 1 may be set a higher bit rate than contents 2 and 3.<br>
It is also possible for bit rates to dynamically change across the reproduction period of a content.  As one example, for link destination contents whose reference<br>
probability increases or decreases with time, the assigned<br>
i bit rate may dynamically change as the version number<br>
changes for the present content.<br>
As one example, the bit rate in the multiplexing information table 6001 may dynamically change.  When this is the case, the multiplexing instructions sent from the multiplexing control unit 5110 to the multiplexing unit 5112 will include the bit rates given in this multiplexing information table 6001, so that the multiplexing frequency of the navigation information can also be dynamically changed.<br>
Here, if every set of navigation information is assigned the same bit rate (which is when each set of navigation information is assigned one PID), the multiplexing control unit 5110 may count the number of times multiplexing instructions are generated for the navigation<br>
information tables, with, for example, multiplexing instructions being generated for the navigation information of contents 0-3 at a ratio of 2:1:1:1.<br>
The present embodiment also describes the case when the image data is displayed using the full screen of the display unit 5129 of the reception apparatus 5121, although a smaller size may alternatively be used.  As one example, when the image data is reduced to 1/4 of the size of the screen, the bit rate required for transferring image data can be reduced to one quarter, so that the total number of<br>
contents can still be increased when there is an upper limit<br>
t for the bit rate which may be assigned to the interactive<br>
program.  When doing so, the image data may be still be combined with objects described in the navigation information to give the reproduced image.  It is also possible for contents to be composed of a simultaneous display of between two and four quarter-screen sets of video data.<br>
In the present embodiment, interactive programs are described as being broadcast using digital satellite broadcasting, although they may instead be broadcast from a cable TV (CATV-Cable Television Service) broadcasting station.<br>
In the present embodiment, each navigation information table was described as having a time information table where the valid start time "start time" showing when the<br>
navigation information becomes valid and the valid end time "end_time" showing when it ceases to be valid are defined as relative times where the start time of the broadcasting into which the applications stored in the transmission data storage unit 102 are multiplexed is set as "0".  The reception control unit 5126 of the reception apparatus 5121 is also described as referring to the clock unit of the AV decoder unit 5124 which measures time in synchronization with the information in the PCR multiplexed into the transport stream (where the multiplexing unit 5112 of the<br>
digital broadcasting apparatus 5101 sets the initial value<br>
i of the transport stream at "0") and judging whether the<br>
valid start time or valid end time of each set of navigation information has been reached.  However, it is also possible, for example, for the reception apparatus 5121 to be provided with a clock unit which measures absolute time, with the reception control unit 5126 referring to this clock unit to obtain the present absolute time, before reading the start time (absolute time) of an event from the event information in the EIT stored in the system information table generating unit 5105 and subtracting the event start time from the present absolute time to obtain a relative broadcasting start time (given as "0") for the event, which it then uses to judge the valid start time and valid end time of each set of navigation information.<br>
When the valid start time and valid end time in the<br>
time information table are given as absolute times, and the reception control unit 5126 is provided with a clock unit for measuring absolute time, it should be obvious that the reception control unit 5126 may refer to this clock unit which measures absolute time and judge the valid start time and valid end time of each set of navigation information.<br>
When the management of the valid time periods of each set of navigation information does not need to be especially precise, the reception control unit 5126 of the reception apparatus 5121 need not judge the valid start time and valid<br>
end time of each set of navigation information, so that when<br>
i notification of the separation of a new navigation<br>
information table is received from the TS decoder unit 5123, the reception control unit 5126 may invalidate the present navigation information table and validate this new navigation information table.<br>
Navigation information which does not include a time information table may alternatively be transmitted.  In such a case, the time information table of each set of navigation information may be stored separately to the navigation information, such as in the construction information storage unit, with the multiplexing control unit being constructed to refer to the time information tables when generating multiplexing instructions.<br>
Finally, while the present embodiment describes the case where the image data and audio data to be broadcast are<br>
stored beforehand in the presentation information storage unit 5107 of the digital broadcasting apparatus 5101, it is also possible for a video camera and an encoder for realtime compressing the images shot by the camera to be provided, so that the output of the encoder may then be stored in the presentation information storage unit 107 in real-time.<br>
Second Embodiment<br>
In the present embodiment, a digital broadcasting apparatus for achieving interactive programs composed of<br>
1<br>
page-based contents is described.<br>
The fundamental principles for the realization of interactive programs composed of page-based contents are explained below with reference to Figs. 49 to 51, prior to the description of the construction of the digital broadcasting system of the present embodiment.<br>
Fig. 49 shows several examples of "contents" which are displayed by the display screen of a receiver apparatus, with these example contents representing weather forecasts. Here, the example contents 151 to 153 show weather forecasts for the whole of Japan (153) and for different regions (151, 152).  The arrows 154 to 157 which have been drawn between pairs of these contents 151 to 153 show the switching of display which can be performed in response to user operations.<br>
When the content 153 which gives the weather forecast for the whole of Japan is being displayed on the display screen, if the user makes a selection and confirmation operation for the button 161 which represents "Tokyo", the display on the display screen will switch as shown by the arrow 154 to content 151 which shows the weather forecast for Tokyo.  Should the user then select and confirm the "Return" button 158, the display screen will switch from the content 151 to the content 153, as shown by the arrow 155.<br>
In the same way, if the user selects and confirms the button 161 representing "Osaka" in the content 153, the<br>
1<br>
display screen will switch from the content 153 to the content 152, as shown by the arrow 156.  Once again, should the user then select and confirm the "Return" button 159, the display screen will switch from the content 152 to the content 153, as shown by the arrow 157.  In order to perform these display switching operations, the contents 151 to 153 are provided with the buttons 158 to 161.  Here, in addition to these buttons, each content may also include buttons for switching to the stream-based .contents which were described in the first embodiment.<br>
In order to allow the user to make display switching operations which switch the display between contents, the transmission apparatus transmits each content according to the procedure described below.<br>
Fig. 50 is a pictorial representation of the<br>
transmission data which is transmitted by the transmission apparatus.  The transmission data 165 is made up of data representing a plurality of contents, and is repeatedly transmitted in its entirety.  This transmission data 165 is composed of a plurality of sets of image data 166, 167, 168 ... and a plurality of sets of navigation information 169, 170, 171 ... corresponding to the sets of image data.<br>
Each set of image data (166 onwards) is composed of a main image of one of the contents (151 onwards) which is to be displayed on the display screen of the reception apparatus.  Here, the same example weather forecasts are shown in the drawings.<br>
Each set of navigation information is 169 to 171 includes a set of bitmap data 172 to 174 such as a button which is superimposed on the corresponding image 166 to 168, a set of script information 175 to 177 which describes the operations to be executed in accordance with user operations, and a set of hyperlink information 178 to 180 which shows the contents which can be switched to as a result of a display switching operation made by the user.<br>
As examples, the content 151 shown in Fig. 49 is composed of the image data 166 and the navigation information 169.  In the same way, the content 152 shown in Fig. 49 is composed of the image data 167 and the navigation information 170, while the content 153 is composed of the image data 168 and the navigation information 171.  Putting<br>
this into other words, each set of image data (such as 166) has a corresponding set of navigation information (such as 169) .<br>
Fig. 51 is a pictorial representation of the transmission of the transmission data 165 by the transmission apparatus.  As shown in Fig. 51, the transmission apparatus repeatedly transmits the transmission data.  From this it can be seen that the transmission data 165 is cyclically transmitted.<br>
It should be noted here that while the image data and<br>
navigation information have been illustrated in frame<br>
format, the image data and corresponding navigation<br>
information are in fact digitized and multiplexed together, before being transmitted as an MPEG2 transport stream. Figs. 50 and 51 are therefore somewhat different from the actual transmission data which is transmitted by the present system.<br>
Also, while not illustrated in the drawings, each of the transmitted sets of image data 166 onwards is assigned identification information to .distinguish the image data from the other sets of image data.  In the same way, each set of navigation information 169 onwards is also assigned identification information to distinguish the navigation information from the other navigation information.<br>
The receiver apparatus refers to these sets of identification information in the transmission data 165 and<br>
obtains the image data and navigation information which include the appropriate identification information.  The obtained information is then reproduced and displayed as one content, such as the content 151 shown in Fig. 49.  Here, the obtained navigation information, such as the navigation information 171, is stored in readiness for user operations.<br>
The following is a description of the digital broadcasting system to which the present embodiment relates, with reference to the drawings.<br>
2-1 Outline of the Construction<br>
i Fig. 52 shows the construction of the digital<br>
broadcasting system of the second embodiment of the present invention.  This digital broadcasting system is composed of a data transmission apparatus 101 and a plurality of data reception apparatuses 121.<br>
The data transmission apparatus 101 is constructed to multiplex data for a plurality of paged-based contents, which feature hyperlinks to one another, into an MPEG2 transport stream and repeatedly transmit the multiplexed data.  This data transmission apparatus 101 is composed of a transmission data storage unit 102, a data multiplexing unit 103, a multiplexing information storage unit 104, a system information table generating unit 105, and a transmission unit 106.<br>
The data reception apparatus 121 is constructed to<br><br>
selectively obtain and reproduce a content from the MPEG2 transport stream transmitted by the data transmission apparatus 101, in accordance with an interactive operation made by the user.  This data reception apparatus 121 is composed of a reception unit 122, a TS decoder unit 123, an AV decoder unit 124, a received data storage unit 125, a reception control unit 126, a signal reception unit 127, a reproduction unit 128, a display unit 129, and an audio output unit 130.<br>
2-2 Data Transmission Apparatus 101<br>
i 2-2-1 Construction of Transmission Data Storage Unit <br>
102<br>
The transmission data storage unit 102 is composed of a recording medium such as a magnetic disc, and stores data for a plurality of contents which compose one interactive program and construction information.  This transmission data storage unit 102 includes a presentation information storage unit 107, a navigation information storage unit 108, and a construction information storage unit 109.  Here, an "interactive program" refers to an "event" or "program" which is included in the MPEG2 transport stream used as the transmission data.<br>
The transmission data storage unit 102 separately stores the image data (presentation information) and the navigation information in the transmission data 165 shown in Fig. 50.  The transmission data storage unit 102 further<br>
stores a composition correspondence table which shows the correspondence between sets of image data and navigation information.<br>
2-2-1-1 Presentation Information Storage Unit 107<br>
The presentation information storage unit 107 stores presentation information, such as image data and audio data, which is included in each content.  Figs. 53A and 53B show sets of still image data which are examples of the presentation information for contents 153 and 151.  Fig. 53A<br>
shows the still image data 201 which is given the filename<br>
i "stillS.m2v", while Fig. 53B shows the still image data 202<br>
which is given the filename "stilll.m2v".  These sets of still image data 201, 202 are stored having been digitally encoded according to IS/IEC 13818-2 (MPEG2 video) standard. However, other encoding methods for image data may be used.<br>
2-2-1-2 Navigation Information Storage Unit 108<br>
The navigation information storage unit 108 stores the navigation information which is included in the transmitted contents.  This navigation information can include hyperlink information for links to other contents, and describes objects which allow the user to interactively select link destinations.  An example of this navigation information is shown in Fig. 54, with the figure showing the navigation information 301 of content 153 which has been given the<br>
filename "naviS.nif".<br>
It should be noted that information showing that the still image data 201 shown in Fig. 53A and the navigation information 301 shown in Fig. 54 form one content 153 is given in the construction correspondence table 501 shown in Fig. 56.  This is described in more detail later in this text.<br>
The navigation information 301 includes an object definition table 302, a handler definition table 303, a hyperlink table 304, and a bitmap table 305 which are each given in table format.  This navigation information 301<br>
t<br>
differs from the navigation information 5301 shown in Fig. 7 in that it does not include a time information table, but is otherwise effectively the same and so will not be described in detail.  Also, in Fig. 54, the "object index", the "handler index" the "hyperlink index", and the "bitmap index" have each been abbreviated to "index". 2-2-1-3 Construction Information Storage Unit 109<br>
The construction information storage unit 109 stores the construction information table and the entry information.  The construction information table is information showing a combination of the presentation information and navigation information for each content. The entry information is information showing an entry content.<br>
The construction information table 501 shown in Fig.<br><br>
56 stores information which shows a combination of the presentation information and navigation information for each content, with each corresponding content number.  These content numbers are used to identify each content among the plurality of contents stored in the transmission data storage unit 102.  As shown in Fig. 56, the first line of construction information table 501 is for the content with the content number "0", which is composed of a combination of the still image data with the filename "stillO.m2v" which is stored in the presentation information storage unit 107<br>
and the navigation information with the filename "naviO.nif"<br>
\ which is stored in the navigation information storage unit<br>
108.  This is also the case for the other lines in the construction information table 501.<br>
The entry information 502 shown in Fig. 56 shows that the entry content representing the first content to be displayed in the application stored in the transmission data storage unit 102 is the content with the content number "5".<br>
2-2-2 Multiplexing Information Storage Unit 104<br>
The multiplexing information storage unit 104 stores assigning information for resources, such as identifiers and areas when multiplexing the transmission data stored in the transmission data storage unit 102 into an MPEG2 transport stream for broadcasting, in the form of a multiplexing information table.  An example of this multiplexing<br><br><br>
information table 601 is shown in Fig. 57.<br>
The item "Bit_Rate" stored on line 1 of multiplexing information table 601 shows the assigned transfer rate when multiplexing the transmission data stored in the transmission data storage unit 102 into an MPEG2 transport stream.  Here, 6Mbps is assigned as the transfer rate.<br>
The "original_network_id", the "transport_stream_id", the "service_id", and the "event_id" on lines 2 through 5 of the multiplexing information table 601 are the same as those in Fig. 14, and so will not be described.<br>
Lines 6 through 10 of the multiplexing information<br>
i table 601 show the values of the PIDs assigned to each of<br>
the components which compose the event when the application stored in the transmission data storage unit 102 is multiplexed into a broadcast MPEG2 transport stream as an event.  It should be noted here that PMT_PID and PCR_PID represent the values of the PIDs which are assigned to the PMT (Program Map Table) and PCR (Program Clock Reference), respectively.  These are explained later in this text.<br>
The NE_component_pid (navigation information component packet identifier) shows the value of the PID assigned to the component into which the navigation information stored in the navigation information storage unit 108 of the transmission data storage unit 102 is multiplexed.<br>
The VE_information_component_pid (stream correspondence information component packet identifier)<br><br>
shows the value of PID assigned to the components into which the stream correspondence table generated by the stream correspondence information table generating unit 111 (described later in this text) is multiplexed.<br>
The VE_component_pid (image data component identifier) shows the value of the PID assigned to the component into which the image data stored in the presentation information storage unit 107 is multiplexed.<br>
It should be noted that in the present embodiment, the NE_component_pid, the VE_information_component_pid and the<br>
VE_component_pid are each assigned only one PID, although it<br>
i is also possible for each to be assigned a plurality of<br>
PIDs.  This is to say, while Fig. 54 shows the case when the NE_component_pid is "0x0082", the<br>
VE_information_component_pid is "0x0083", and the VE_component_pid is "0x0084", the NE_component_pid can be additionally assigned the value "0x0085", the VE_information_component_pid the value "0x0086", and the VE_component_pid the value "0x0087".<br>
Also, while not present in the present embodiment, when audio information is included in the transmission data, an AE_information_component_pid and an AE_component_pid will also be assigned.<br>
2-2-3 Construction of the Data Multiplexing Unit 103 The data multiplexing unit 103 is composed of a<br><br>
multiplexing control unit 110, a stream correspondence information table generating unit 111, an identifier information appending unit 112, a navigation information table generating unit 113, and a multiplexing unit 114.<br>
The data multiplexing unit 103 performs the processing described below to generate the transmission data 165 shown in Fig. 51.<br>
2-2-3-1 Multiplexing Control Unit 110 (part 1)<br>
On being activated by the transmission unit 106, the multiplexing control unit 110 first reads the construction<br>
I<br>
information table 501 and the multiplexing information table 601 stored in the construction information storage unit 109 and the multiplexing information storage unit 104, before generating an identifier assigning table which assigns an image data identifier VE__id and a navigation information identifier NE_id to each content number of contents in the digital broadcast.<br>
Fig. 58 shows content identifier assigning table 701 which is an example of this content identifier assigning table.  Here, each column in the content identifier assigning table 701 is the same as those in Fig. 15 of the first embodiment, with these identifiers being mainly used in the present embodiment for page-based contents.  The "VE_id" 709 is the identifier for uniquely identifying a set of image data in a page-based content in one of the events.<br><br>
The "AE_id" 713 is the identifier for uniquely identifying a set of audio data.  The "NE_id" 710 is the identifier for uniquely identifying a set of navigation information in one of the events.<br>
In the present embodiment, "VE_id", "AE_id", and "NE_id" are used for identifying each page-based content. In the first embodiment, meanwhile, a "VE_comp_tag", an "AE_comp_tag", and an "NE_id" are used for identifying each stream-based content.  As a result, the "VE_comp_tag" and "AE_comp_tag" columns in the present table are set at "-".<br>
In the present embodiment, the "VE_id" 709 and "NE_id"<br>
1<br>
710 are assigned the same value as the content number 702. However, the values of "VE_id" 709 and "NE_id" 710 do not need to match the value of the content number 702, so long as each they are assigned different values for each pairing of a set of image data and set of navigation information.<br>
In the present embodiment, no audio data is present, so that no identifiers are assigned to "AE_svc_id" 711, "AE_event_id" 712, "AE_id" 713 and "-" is written into the table.  When audio data is present, these values are assigned in the same way as for the image data and navigation information.<br>
On completing the generation of the content identifier assigning table 701, the multiplexing control unit 110 generates the display image information identifier assigning table which assigns values to "PID", "component tag", and<br><br>
"stream_ID".  An example of this display image information identifier assigning table, display image information identifier assigning table 801, is shown in Fig. 59.  In the display image information identifier assigning table 801, the "VE_id" 709 is the same as that assigned in the content identifier assigning table 701, while the "PID" 803 is assigned the same value (here, the value "0x0084") as the "VE_component_pid" 607 in the multiplexing information table 601.  Each "component_tag" 802 is assigned the same value for each value of the "PID" 803  (so that in the present example "0x00" is assigned to the "component_tag" 802 for<br>
t<br>
each value "0x0084" of the "PID" 803).  Each entry in the "stream_id" 804 column is assigned a hexadecimal value which is cyclically incremented by "1" between "eO" and "ef". Finally, the filename of the image data which is identified by this value of "VE_id" 709 and which is stored in the presentation information storage unit 107 is written into the image data file column 805.<br>
It should be noted here that when a plurality of identifiers are assigned to the VE_component_pid of Fig. 57, the "PID" and "stream id" can be assigned in the manner described below.  First, each value of "PID" is set by extracting one value from the VE_Component pid, while the "stream id" is set a hexadecimal value which is incremented between "eO" and "ef".  After each set of stream ids, a new VE_component_pid is extracted from the multiplexing<br>
information table and is set in the "PID" 803.   When there are no more new values of VE_component_pid, the process returns to the value of the VE_component_pid that was assigned first.  Here, a different value is set in the "component tag" 802 for each PID 803.<br>
In the present embodiment, all sixteen of the possible values between "eO" and "ef" are used as values of the stream_id for image data, although it is equally possible for only some of such possible values to be used.  For audio data, thirty-two hexadecimal values between "cO" and "df"<br>
may be used for stream_ids in accordance with MPEG2<br>
standard.<br>
It should be noted that the value of the "component_tag" 802 is used to indirectly refer to the "PID".  As described above, the "component_tag" 802 may be set any values which one-to-one correspond to values of the PID, with the correspondence between component tags and PIDs being written into the PMT which is described later in this text.  Here, if the value of the PID is not found directly from the navigation information or stream correspondence information, but is instead indirectly found using the "component_tag", it becomes no longer necessary to change the navigation information or stream correspondence information when multiplexing the data with other programs, even when the value of the PID is changed by the transmission unit 106 (described later).<br>
On completing the generation of the display image information identifier assigning table 801, the multiplexing control unit 110 gives an indication to the stream correspondence information table generating unit 111 to generate the stream correspondence table, an indication to the identifier information appending unit 112 to add the identifier VE_id to private area of the image data, and an indication to the navigation information table generating unit 113 to generate a navigation information table.<br>
2-2-3-2 Identifier Information Appending Unit 112<br>
1<br>
On receiving an indication from the multiplexing control unit 110 to add identifier information, the identifier information appending unit 112 retrieves the image data stored in the presentation information storage unit 107.  The identifier information appending unit 112 then writes the image data identifier VE_id into the private area of the retrieved image data bitstream.  It should be noted here that the identifier information appending unit 112 obtains this identifier VE_id by referring to the display image information identifier assigning table 801 generated by the multiplexing control unit 110.  The identifier information appending unit 112 then adds a filename to the image data bitstream with the appended VE_id and stores it in a storage region (not illustrated).<br>
Fig. 60 shows a bitstream 901 which is an example of<br>
the image data with the filename "VE(5)" to which identifier information has been appended.  This bitstream 901 is encoded according to MPEG2 standard, with the value "0x0005" of the VE_id being recorded in the user data area 903 of the picture header 902.  The still image data 201 shown in Fig. 53A, meanwhile, is recorded in the picture data area 904. Once identifier information has been appended to every set of image data, the identifier information appending unit 112 gives the multiplexing control unit 110 an indication showing that the appending process has been completed.<br>
It should be noted here that while the present<br>
embodiment describes the case when the VE-id is written into<br>
the user data area, it may instead be written into any area which may be used for recording private data.<br>
2-2—3-3 Navigation Information Table Generating Unit 113<br>
On receiving an indication to generate the navigation information table, the navigation information table generating unit 113 reads the navigation information stored in the navigation information .storage unit 108.  When the read navigation information includes a hyperlink table, the navigation information table generating unit 113 refers to the content identifier assigning table 701 for the information regarding link destinations which are expressed using content numbers.  The navigation information table generating unit 113 then converts all of the identifiers to<br>
generate the navigation information table.  When no hyperlink table is included, the navigation information table generating unit 113 generates the navigation information table using the original navigation information as it is, changing only the filenames.  The generated navigation information is then stored in a storage area (not-illustrated).<br>
Fig. 61 shows the generated navigation information table 1001 which has the filename "NVT(5)".  This navigation information table 1001 has been generated from the navigation information with the filename "naviS.nif" which<br>
t<br>
was shown in Fig. 54.  The navigation information table 1001 includes the object definition table 1002, the handler definition table 1003, the hyperlink table 1004, and the bitmap table 1005.<br>
Fig. 62 shows the navigation information table 1101 for the filename "NVT(l)".  This navigation information table 1101 has been generated from the navigation information "navil.nif" shown in Fig. 55, and does not include a hyperlink table, so none has been shown.<br>
On completing the generation of the navigation information table, the navigation information table generating unit 113 gives the multiplexing control unit 110 notification of such.<br>
2-2-3-4 Stream Correspondence Information<br>
Table Generating unit 111<br>
On receiving an indication from the multiplexing control unit 110 to generate a stream correspondence table, the stream correspondence information table generating unit 111 refers to the display image information identifier assigning table 801 and generates a stream correspondence table for each set of image data.  These stream correspondence tables are used to extract sets of image data from the stream transmitted to the data reception apparatus 121 from the data transmission apparatus 101.<br>
Fig. 63A shows the stream correspondence table<br>
1<br>
[VET(5)] 1201 which is used by the data reception apparatus 121 to extract the image data "VE(5)".  The item "first_pts" in this stream correspondence table 1201 represents the reproduction starting time information in units of one ninety-thousandth of one second for the time at which the first frame in the corresponding image data is to be reproduced.  This "first_pts" can be obtained, as one example, using the formula given below as Formula 1.<br>
Formula 1<br>
(Formula Removed)<br>
Here, S_VE(x) is the size when the image data VE(x)<br>
stored in a storage area of the identifier information appending unit 112 has been converted into a transport stream packet in accordance with MPEG2 system standards. S_NVT(x) is the size when the navigation information table NVT(x) stored in a storage area of the navigation information table generating unit 113 has been converted into a transport stream packet.  S_VET is the size when one stream correspondence table stored in a storage area of the stream correspondence information table generating unit 111 has been converted into a transport stream packet.  Here, these sizes are expressed as numbers of bits.  Here, the variable "R" represents the number of times a stream correspondence table has been multiplexed, and is an integer in the range from "1" to "(P*S)".  The variable "P" is the number of PIDs which have been assigned to each component which has been allocated by the multiplexing information storage unit 104 for transferring the image data, the value of P being "1" in the present embodiment.  The variable "S" represents the number of different stream_id values which are used in the display image.information identifier assigning table 801, with this being "16" in the present embodiment.  Finally, the variable "B" represents the bit rate, which is "6Mbps" in the present embodiment.<br>
It should be noted here that the S_VE(x) is found by the adding the sizes of the PES packet header and the trailer information which are required by each PES packet,<br>
and the sizes of the transport packet header and trailer information part which are required by each transport packet to the size of VE(x).  S_NVT(x) is found by adding the sizes of the section header and trailer header required by each section and the sizes of the transport packet header and trailer information part which are required by each transport packet to the size of NVT(x).  S_VET, meanwhile, is found by adding the sizes of the section headers and the like to the size of the VET, in the same way as S_NVT(x). It should be noted here that in the present embodiment, all of the VETs are of the same size.  A detailed description of<br>
1<br>
the PES packet, the transport packet, and the sections is given in the documentation for MPEG2 system standard.<br>
The "last_pts" in the stream correspondence table 1201 gives information for the time at which the final frame in the corresponding image data is to be reproduced as the reproduction end time.  This "last_pts" is expressed in units of 1/90000 of one second.  In the present embodiment, the image data is composed of still images, so that the "last_pts" (reproduction end time information) is the same as the "first_pts".<br>
The "component_tag" and "stream_id" in stream correspondence table 1201 are set at the values of the component_tag and the stream_id assigned to the corresponding image data by referring to the display image information identifier assigning table 801.<br>
Fig. 63B shows the first stream correspondence table 1202 for the image data, while Fig. 63C shows the fifteenth stream correspondence table 1203 for the image data.<br>
It should be noted here that the time "0" which is the standard for the "first_pts" and the "last_pts" in the stream correspondence tables 1201, 1202, and 1203 is the time at which the data stored in the transmission data storage unit 102 is first multiplexed into the transport stream and transmitted.<br>
In the present embodiment, the stream correspondence information table generating unit 111 is described as<br>
t<br>
referring to the display image information identifier assigning table 801 and writing the value of the assigned component_tag into the stream correspondence table, although the value of the assigned VE_component_pid in the multiplexing information table 601 may be directly written in place of the value of the VE_component_pid.<br>
2-2-3-5 Multiplexing Control Unit 110 (part 2)<br>
On receiving notification from the identifier information appending unit 112, the navigation information table generating unit 113, and the stream correspondence information table generating unit 111 indicating that they have completed their respective processes, the multiplexing control unit 110 determines the number of contents "T" to be used as the unit for repetition.  Here, put simply the<br>
number of contents used as the unit for repetition T is a total given by adding the number M of contents included in the transmission data 165 to the number of dummy contents, or more precisely is set at T where M^P*S*n=T with M as the total number of contents stored in the construction information storage unit 109.  As described above with reference to Formula 1, "P" is the number of PIDs which are assigned to a component for transferring the image data by the multiplexing information storage unit 104, while "S" is the number of stream_ids.  Also, "n" is the smallest integer which enables the condition M T to be satisfied.  In the<br>
I<br>
present embodiment, P=l, S=16, and M=63, so that T=64.  Note here that when the number of contents T in each repetition is greater than the total number of contents M, the multiplexing control unit 110 multiplexes T-M null packets of a size which is at least equal to the smallest content after first multiplexing all of the contents into the transport stream.  By doing so, it is possible to maintain at least a predetermined interval D (at least (P*S-1) times the size of the smallest content) between the multiplexing positions of the image data and the stream correspondence table corresponding to the image data.<br>
The multiplexing control unit 110 uses Formula 2 below to find the length L of one cycle of the number of contents T in each repetition.  The value L is expressed in units of 1/90000 of one second and is the length of the transport<br>
stream when multiplexing all of the contents and null packets of a size equivalent to (T-M) contents into the transport stream at the bit rate B stored in the multiplexing information storage unit 104.<br>
Formula 2<br>
(Formula Removed)<br>
As described above, M and T are the total number of contents and the number of contents in one repetition, with S_VE(x), S_NVT(x), S_VET, R, and B being the same as defined in Formula 1.<br>
The multiplexing control unit 110 sets the content counter i at "0" and sets the multiplexing start position pointer wp at "0".  This value of "wp" shows the time from the first information position of the contents multiplexed into the transport stream.<br>
The multiplexing control unit 110 next sets the value of the VET counter j at "0".  The value of this VET counter j is then used to find the cycle number C and the content number N.  The cycle number C is the integer of the quotient given by {i+(P*S)-1-j }-5-T, while the content number is the remainder of {i+(P*S)-1-j}-M1.  Following this, the<br>
multiplexing control unit 110 judges whether an Nth stream correspondence table VET(N) is stored in the stream correspondence information table generating unit 111, and if so, adds a value, which is a multiple of length L of one cycle of the number of contents T in one repetition and a number of cycles C, to the "first_pts" and "last_pts" of VET(N) .<br>
The multiplexing control unit 110 then instructs the multiplexing unit 114 to multiplex VET(N) into the transport stream.  In doing so, the multiplexing control unit 110<br>
informs the multiplexing unit 114 of the multiplexing start<br>
position wp and the bit rate B, as well as the value of the "VE_information_component_pid" in the multiplexing information table 601 as the PID value and the value of the "VE_id" corresponding to the content number N in the content identifier assigning table 701 as the table_id_extension.<br>
When VET(N) is not stored in the stream correspondence information table generating unit 111, the multiplexing control unit 110 instructs the multiplexing unit 114 to multiplex a null packet with the same size as S_VET, and informs the multiplexing unit 114 of the multiplexing start position wp and the bit rate B.<br>
After instructing the multiplexing unit 114 to perform multiplexing, the multiplexing control unit 110 calculates the multiplexing start position wp using the equation wp=wp+S_VET/B.  After this, the multiplexing control unit<br>
110 adds "1" to the value of the VET counter j and judges whether the VET counter j coincides with the value of the number of repeated multiplexing R in the stream correspondence table. When the values match, the multiplexing control unit 110 recalculates the number of cycles C and the contents number N, before continuing with the multiplexing process for VET(N).<br>
On judging that the values do not match, the multiplexing control unit 110 calculates the number of cycles C and the contents number N according to the method<br>
described above and judges whether there is a content with<br>
i the content number N stored in the identifier information<br>
appending unit 112 or in the navigation information table generating unit 113.  On judging that such a content is being stored, the multiplexing control unit 110 instructs the multiplexing unit 114 to multiplex VE(N).  At this point, the multiplexing control unit 110 informs the multiplexing unit 114 of the values of the multiplexing start position wp, the bit rate Bv(N), the PID, and the stream_id.  Here, to find the values of the PID and the stream_id, the multiplexing control unit 110 fetches the values of the PID and of the stream_id from "PID" and the "stream_id" assigned to the image data whose "VE_id" is "N" from the display image information identifier assigning table 801.  On the other hand, the multiplexing control unit 110 calculates the bit rate Bv(N) according to Formula 3<br>
below.<br>
Formula 3<br>
(Formula Removed)<br>
The symbols in the above Formula 3 are the same as those in Formula 1.<br>
The multiplexing control unit 110 also instructs the multiplexing unit 114 to multiplex NVT(N).  In doing so, the multiplexing control unit 110 informs the multiplexing unit<br>
114 of the values of the multiplexing start position wp, the<br>
i bit rate Bn(N), the PID, and the table_id_extension.  Here,<br>
to find the value of the PID, the multiplexing control unit 110 refers to the multiplexing information storage unit 104 and extracts the PID which has been assigned to the component assigned to the transfer of the navigation information.  To find the value of the table_id_extension, the multiplexing control unit 110 extracts the value of "NE_id" assigned to the contents identifier N from the content identifier assigning table 701.  The multiplexing control unit 110, calculates the bit rate Bn(N) according to Formula 4 given below.<br>
Formula 4<br>
(Formula Removed)<br>
The symbols in the above Formula 3 are the same as those in Formula 3.<br>
The multiplexing control unit 110 next finds the multiplexing start position wp according to the formula [wp = wp + {S_VE(N)+S_NVT(N)}/B].<br>
When content N is not stored, the multiplexing control unit 110 instructs the multiplexing unit 114 to multiplex a null packet of a size given as S_VE(0)+S_NVT(0).  In doing so, the multiplexing control unit 110 informs the multiplexing unit 114 of the multiplexing start position wp.<br>
While the above explanation gives the size of a null<br>
i packet to be multiplexed as the combined size of S_VE(0) and<br>
S_NVT(0) for content number "0", the size of the null packet may instead be set at a size S_VE(k) + S_NVT(k) where this represents the smallest combined size out of all of the contents.<br>
The multiplexing control unit 110 next finds the multiplexing start position wp according to the formula [wp = wp + {S_VE(0)+S_NVT(0)}/B].<br>
The multiplexing control unit 110 next adds "1" to the value of the content counter i, recalculates the value of the VET counter j, and repeats the processing from the multiplexing of VET(N) onwards.<br>
2-2-3-6 Multiplexing Unit 114<br>
The multiplexing unit 114 multiplexes the transmission<br><br>
data 165 shown in Fig. 51 into an MPEG2 transport stream. Figs. 64 and 65 show model representations of multiplexed streams where identification information has been added to the data shown in Fig. 51.  This is described in detail below.<br>
When instructed by the multiplexing control unit 110, the multiplexing unit 114 multiplexes data into an MPEG2 transport stream using a method which has been standardized according to MPEG2 system standards. On receiving instructions from the multiplexing control unit 110 to multiplex a stream correspondence table VET(N), the<br>
t<br>
multiplexing unit 114 reads the stream correspondence table VET(N) from the stream correspondence information table generating unit 111 and multiplexes it into the transport stream at a position starting from the indicated multiplexing start position wp, using the indicated PID, table_id_extension, and bit rate B.  On receiving an indication from the multiplexing control unit 110 to multiplex the image data VE(N), the multiplexing unit 114 reads the image data which has. been appended with the corresponding identifier from the identifier information appending unit 112 and multiplexes the image data into the transport stream at a position starting from the indicated multiplexing start position wp, using the indicated PID, stream_id, and bit rate Bv(N).  On receiving an indication from the multiplexing control unit 110 to multiplex the<br>
navigation information NVT(N), the multiplexing unit 114 reads the navigation information table from the navigation information table generating unit 113 and multiplexes it into the transport stream at a position starting from the indicated multiplexing start position wp, using the indicated PID, table_id_extension, and bit rate Bn(N). Also, on receiving an indication from the multiplexing control unit 110 to multiplex a null packet, the multiplexing unit 114 multiplexes a null packet of the indicated size at a position starting from the multiplexing start position wp at the indicated bit rate.<br>
1<br>
The multiplexing unit 114 multiplexes the PCR at the front of the generated transport stream with the initial value "0", using the PCR_PID indicated by the multiplexing control unit 110.<br>
Fig. 64 shows an example of a transport stream generated by the multiplexing unit 114.  Here, the 63 contents stored in the transmission data storage unit 102 have been multiplexed into this transport stream 1701. These 63 sets of image data have been assigned the values "0x0084" shown in the multiplexing information table 601 as their PID, with each set of image data having been assigned a value which has been cyclically incremented between "OxeO" and "Oxef".<br>
Each stream correspondence table VET(N) has been assigned the value "0x0083" given in the multiplexing<br><br>
information table 601 as its PID, and a value each to the image data identifier "VE_id" as its table_id_extension.  As shown in Fig. 64, one stream correspondence table VET(N) is multiplexed for each set of image data VE(N).  Accordingly, the number of repeated multiplexing R for the stream correspondence table is "1".<br>
The sixty-three navigation information tables NE(0) to NE(62) are multiplexed by the multiplexing unit 114 having been each assigned the value "0x0082" given in multiplexing information table 601 as their PID, and the value of the navigation information identifier "NE_id" as their<br>
t<br>
table_id_extension.  PCRs 1702, which include standard information for time, are also multiplexed into the transport stream.<br>
As one example, the transmission data 165 shown in Fig. 51 extends between the stream correspondence table VET(15) to the null packet 1705.<br>
Each stream correspondence table VET(N) in the transport stream 1701 is multiplexed at a position at the equivalent of fifteen sets of image data ahead of the corresponding image data VE(N).  Since each set of image data is cyclically assigned one of sixteen stream_ids, no image data which has the same PID and stream_id as image data VE(N) will be multiplexed between the stream correspondence table VET(N) and the corresponding image data VE(N).  As a result, the data reception apparatus 121 is<br><br>
able to extract the desired image data VE(N) from the transport stream by first obtaining the stream correspondence table VET(N) and then separating the first set of image data in the transport stream which has been assigned the indicated PID and stream_id, out of the many sets of image data with this PID and stream_id.<br>
As one example, there is no image data with the PID "0x0084" and the stream_id "OxeO" between the stream correspondence table VET(16) 1703 and the image data VE(16) 1704.  Accordingly, despite there being four sets of image data VE(0), VE(16), VE(32), and VE(48) with the same PID<br>
!<br>
"0x0084" and stream_id "OxeO", the data reception apparatus 121 will separate only the first set of image data with the indicated PID and stream_id which appears after the stream<br>
correspondence table VET(16) 1703, which means that the desired image data VE(16) will be obtained.<br>
The transport stream 1701 is also composed so that data equivalent to fifteen contents is multiplexed between each stream correspondence table VET(N) and its corresponding image data VE(N).  Accordingly, it can be ensured that the time D taken from the appearance of the stream correspondence table VET(N) to the appearance of the corresponding image data VE(N) is at least the time taken by the transmission of fifteen contents of the smallest size. Accordingly, if the data reception apparatus 121 can perform the necessary processes for the interpretation of the stream<br><br>
correspondence table and the preparation for separating the image data within this time period D, proper reproduction of the desired image data can be ensured.  In the present example, a null packet 1705 whose size is equivalent to one content has been multiplexed into the transport stream 1701 to ensure that time D is maintained at a value equivalent at least the transmission time of fifteen contents, even at a part of the transport stream near the end of a transmission cycle.  By doing so, it can be ensured that a time interval which is equivalent to the transmission of a least fifteen<br>
of the smallest contents is present, even<br>
when a stream correspondence table VET(N) and its<br>
corresponding image data VE(N) are in different transmission cycles, such as VET(O) 1706 and VE(0) 1707 in Fig. 64.<br>
Fig. 65 shows an example of the transport stream generated by the multiplexing unit 114 when the number of repeated multiplexing R for the stream correspondence tables is "16".<br>
The transport stream 1711 is constructed so that each stream correspondence table VET(N) is multiplexed sixteen times between a position which is the equivalent of fifteen contents ahead of the corresponding image data VE(N) and the multiplexing start position of this image data VE(N).  As a result, the data reception apparatus 121 first obtains the stream correspondence table and, in reproducing the corresponding image data VE(N), can reproduce the desired<br>
image data faster the shorter the time D between the stream correspondence table VET(N) and the corresponding image data.  However, if the time D is reduced, the data reception apparatus 121 has to interpret the stream correspondence table and perform the necessary preparations for the separation of the image data faster.  Here, if each stream correspondence table is repeatedly multiplexed, as shown in the transport stream 1711, the data reception apparatus 121 will be able to obtain the stream correspondence table from a position which is close to the image data when the load of<br>
the data reception apparatus 121 is light, allowing high-<br>
i speed reproduction, or from a position which is further from<br>
the image data when the load of the data reception apparatus 121 is great.  By performing such control, proper reproduction of the image data can be maintained.<br>
On generating a transport stream, such as transport stream 1701 shown in Fig. 64, the multiplexing unit 114 outputs the stream in order to the transmission unit 106.<br>
2-2-4 System Information Table Generating unit 105<br>
The system information table generating unit 105 refers to the multiplexing information storage unit 104 and generates the NIT (Network Information Table), the EIT (Event Information Table), the SDT (Service Description Table), the PAT (Program Association Table), and the PMT (Program Map Table).  These tables compose the program<br>
specification information which is used by the data reception apparatus 121 in selecting a program.  These tables are the same as those generated by the system information table generating unit 5105 in the first embodiment, so that the following explanation will instead focus on the generated results (which is to say the system information tables) in the present embodiment.<br>
Figs. 66A to 66C show examples of the NIT, SDT, and EIT generated by the system information table generating unit 105.<br>
Figs. 67 and 68 show examples of the PAT and PMT<br>
1<br>
generated by the system information table generating unit 105.<br>
Figs. 69A to 69D show the details of the Entry_descriptor, the NE_Component_Descriptor, the VE_Component_Descriptor, and the<br>
stream_identifier_descriptor generated by the system information table generating unit 105.<br>
Figs. 69A to 69D show the details of the Entry_descriptor, the NE_component_descriptor, the VE_Information_descriptor, and the stream_identifier descriptor generated by the system information table generating unit 105.<br>
The "Entry_descriptor" in Fig. 69A is used to record the values of the "entry_VE_id", "entry_AE_id", and the "entry_NE_id".  These show that the entry content is a page-<br>
based content.  This differs from the "Entry_Descriptor" shown in Fig. 73 of the first embodiment which indicates an entry content which is a stream-based content.  This to say, the "Entry_Descriptor" shown in Fig. 73 is used to record values of the "entry_VE_comp_tag", "entry_AE_comp_tag", and the "entry_NE_id" which show that the entry content is a stream-based content.<br>
2-2-5 Transmission Unit 106<br>
The transmission unit 106 includes a scheduler, and is activated by the multiplexing control unit 110 at a<br>
t<br>
predetermined time before the transmission start time of an event, such as five minutes before transmission.  When the transmission start time is reached, the transmission unit 106 repeatedly multiplexes information such as the NIT, PAT, PMT, SDT, and EIT generated by the system information table generating unit 105 into the transport stream outputted by the multiplexing unit 114 at a predetermined interval using predetermined PIDs in accordance with DVB-SI standard and MPEG2 system standard.  The transmission unit 106 then performs modulation and other processes, before transmitting the data to a plurality of data reception apparatuses 121.<br>
Fig. 70 gives a model representation of a multiplexed transport stream 1801.  In this example, the NIT 1802, the PAT 1803, the PMT 1804, the SDT 1805, and the EIT 1806 have been additionally multiplexed into the transport stream 1706<br>
multiplexed by the multiplexing unit 114.<br>
2-2-6 Operation of the Data Transmission Apparatus 101<br>
The following is a description of the operation of the data transmission apparatus 101 in the present embodiment, with reference to Figs. 71 through 73.<br>
The multiplexing control unit 110 first generates the identifier assigning table which assigns a VE_id and an NE_id for each content number (S1902).  Next, the multiplexing control unit 110 generates the display image<br>
information identifier assigning table 801 (S1904), before<br>
instructing the identifier information appending unit 112 to<br>
append the identifier information, instructing the navigation information table generating unit 113 to generate the navigation information table, and instructing the stream correspondence information table generating unit 111 to generate the stream correspondence table.<br>
The identifier information appending unit 112 appends image data identifiers to the private area of the bit stream of image data stored in the presentation information storage unit 107 and stores the appended data.  After appending identifiers to every set of image data, the identifier information appending unit 112 notifies the multiplexing control unit 110 of the completion of its processing (S1906).<br>
The navigation information table generating unit 113<br>
generates navigation information tables from the navigation information stored in the navigation information storage unit 108.  After completing the generation of all navigation information tables, the navigation information table generating unit 113 notifies the multiplexing control unit 110 of the completion of its processing (S1908) .<br>
The stream correspondence information table generating unit 111 refers to the display image information identifier assigning table 801 generated by the multiplexing control unit 110 and generates the stream correspondence tables.  On<br>
completing the generation of all of the stream<br>
correspondence tables, the stream correspondence information<br>
table generating unit 111 notifies the multiplexing control unit 110 of the completion of its processing (S1910).<br>
The system information table generating unit 105 then generates the various system information tables, such as the NIT, the SDT, the EIT, the PAT, and the PMT (S1912).<br>
The multiplexing control unit 110 determines the number of contents T in one repetition when the contents are multiplexed into a transport stream (S1914).  Here, the multiplexing control unit 110 calculates the length L of one cycle composed of T contents in units of one ninety-thousandth of one second (this being the length of the transport stream when all contents plus a null packet of a size equivalent to (M-T contents) is multiplexed at the bit rate B stored in the multiplexing information storage unit<br>
104) (S1916).  The multiplexing control unit 110 then informs the multiplexing unit 114 of the PCR_PID and instructs the multiplexing unit 114 to multiplex the PCR (S1918) . Following this, the multiplexing control unit 110 sets both the content counter i and the multiplexing start position pointer wp at "0" (S2002).<br>
The multiplexing control unit 110 then sets the VET counter j at "0" (S2004).  The multiplexing control unit 110 also finds the number of cycles C and content number N. Here, the number of cycles is given as the quotient (integer part) of the sum {i+(P*S)-1-j}, while the content N is given<br>
1<br>
as the remainder (integer) (S2006).<br>
The multiplexing control unit 110 then judges whether the stream correspondence table VET(N) is stored in the storage area of the stream correspondence information table generating unit 111 (S2008), and if so, adds a value given as C*L to the values of first_pts and last_pts of VET(N) (S2010) .<br>
The multiplexing control unit 110 instructs the multiplexing unit 114 to multiplex the stream correspondence table VET(N) into the transport stream, and informs the multiplexing unit 114 of the multiplexing start position wp, the bit rate B, the PID, and the table_id_extension (S2018), before proceeding to step S2014.<br>
When the multiplexing control unit 110 judges in step S2008 that the stream correspondence table VET(N) is not<br>
stored in the stream correspondence information table generating unit 111, the multiplexing control unit 110 instructs the multiplexing unit 114 to multiplex a null packet which is the same size as S_VET, at the same time informing the multiplexing unit 114 of the multiplexing start position wp and the bit rate B.  The multiplexing unit 114 then multiplexes a null packet into the transport stream (S2108) and the processing proceeds to step S2014.<br>
In step S2014, the multiplexing control unit 110 calculates the multiplexing start position wp as wp=wp +<br>
{S_VET/B} and adds "1" to the value of the VET counter "1"<br>
i (S2015).  The multiplexing control unit 110 then compares<br>
the value of the VET counter j with the value of the number of repeated multiplexing R of the stream correspondence table VET(N) (S2016).  Here, when j=R, the processing proceeds to S2120, while when j<r the processing returns to step s2006.></r>
In step S2102, the multiplexing control unit 110 sets the number of cycles C at the quotient (integer part) of i/T, and sets the content number N at the remainder (integer).   Following this, the multiplexing control unit 110 refers to the content identifier assigning table in the construction information storage unit 109 and judges whether a content with this content number N is present (S2104) .  If so, the multiplexing control unit 110 instructs the multiplexing unit 114 to multiplex the bit stream of the<br>
image data VE(N).  At this point, the multiplexing control unit 110 calculates the bit rate Bv(N) and informs the multiplexing unit 114 of this bit rate Bv(N), together with the multiplexing start position wp and the values of the "PID" and the "stream_id" which are written in the display image information identifier assigning table 801.  The multiplexing unit 114 then multiplexes this image data VE(N) into the transport stream (S2106).<br>
The multiplexing control unit 110 then instructs the multiplexing unit 114 to multiplex the navigation<br>
information table NVT(N).  In doing so, the multiplexing<br>
i control unit 110 calculates the bit rate Bn(N) and informs<br>
the multiplexing unit 114 of this bit rate Bn(N), the multiplexing start position wp, the PID, and the table_id_extension.  The multiplexing unit 114 then multiplexes the navigation information table NVT(N) into the transport stream (S2108).<br>
The multiplexing control unit 110 then recalculates the multiplexing start position according to the formula wp = wp + {S_VE(N)+S_NVT(N)}/B (S2110).  The multiplexing control unit 110 then adds "1" to the content counter i (S2112), and the processing returns to S2004.<br>
When the multiplexing control unit 110 judges in step S2104 that there is no content with the content number N, the multiplexing control unit 110 instructs the multiplexing unit 114 to multiplex a null packet of a size given as<br>
S_VE(N) + S_NVT(N), while informing the multiplexing unit 114 of the multiplexing start position wp and the bit rate B.  The multiplexing unit 114 then multiplexes a null packet of the indicated size into the transport stream (S2114).<br>
The multiplexing control unit 110 recalculates the multiplexing start position wp according to the formula wp = wp + (S_VE(0)+S_NVT(N)}/B (S2116) and the processing returns to S2112.<br>
When executing the above processing, the NIT, the RAT, and other tables will be multiplexed into the multiplexed stream shown in Fig. 64 for an example where the number of<br>
t<br>
repeated multiplexing R for each stream correspondence table VET(N) is "1", or into the multiplexed stream shown in Fig. 65 for an example where the number of repeated multiplexing R is "16", so that a transport stream such as that shown in Fig. 70 will be transmitted.<br>
2-2-7 Summary<br>
As described above, the data transmission apparatus 101 of the present embodiment assigns identifiers to the image data and navigation information which compose each content and multiplexes them into a transport stream which it transmits repeatedly.<br>
Here, identifiers for image data and navigation information of contents connected by hyperlinks,<br>
supplementary image information for displaying menus and the like, and script for performing switches of display are included in the navigation information. As a result, the data reception apparatus 121 can selectively extract and reproduced contents, thereby realizing an interactive display which uses only a one-directional communication path.<br>
2-2-8 Additional Information 2-2-8-1<br>
It should be noted here that while the above<br>
i embodiment has described the case where the image data is<br>
composed of still images, it is also possible for the image data to be moving pictures (video).  When the image data is video, Formula 1 used for calculating the "first_pts" and "last_pts", Formula 2 used for calculating the length L of the stream, Formula 3 used for calculating the bit rate Bv(N) assigned to the image data Bv(N), Formula 4 used for calculating the bit rate Bn(N) assigned to the navigation information table NVT(N), and .the formula used by the multiplexing control unit 110 to recalculate the multiplexing start position wp after the multiplexing of the image data VE(N) and the navigation information table NVT(N) are changed to the formulas given below.<br>
When the image data is video, the bit rate Bv(N) assigned to the image data VE(N) is decided by estimating<br>
the increase when converting the bit rate which is predetermined for a video elementary stream to a transport stream.  Here, the navigation information table NVT(N) is assigned a remaining bit rate given by subtracting the bit rate Bv(N) assigned to the video data VE(N) from the overall bit rate .<br>
When doing so, the "first_pts" of the image data VE(N) is calculated according to Formula 5 below.<br>
Formula 5<br>
(Formula Removed)<br>
Here, Bv(x) is the bit rate assigned to the image data VE(x), S_VE_FIRST(N) is the size of the first frame of the image data VE(x) when converted into the transport stream in accordance with MPEG2 system standard, and MAX{A,B} represents the largest values of A and B, respectively.<br>
For video, the "last_pts" does not match the "first_pts".  Here, the "last_pts" can be found according to Formula 6 below.<br>
Formula 6<br>
(Formula Removed)<br>
Here, N_FRAME(x) is the number of frames in video data VE(x), while Frame_per_sec is the number of frames reproduced in one second (which can be 29.97 for NTSC standard, for example).<br>
When doing so for a video image, the multiplexing control unit 110 informs the multiplexing unit 114 of VE(x) and NE(x), before recalculating the multiplexing start position wp according to Formula 7 below.<br>
Formula 7<br>
(Formula Removed)<br>
It should be noted here that the data transmission apparatus 101 is constructed so that the multiplexing unit 114 successively generates the transport stream 1701 during the transmission of an event, although the multiplexing unit 114 may generate a transport stream of one cycle length L and store it beforehand, so that when the transmission unit 106 transmits to the data reception apparatus 121, this transport stream is repeatedly read and repeatedly transmitted having been subjected to predetermined processing.<br>
In the present embodiment, the corresponding sets of image data and navigation information are multiplexed at the same time, although this need not be the case.  As described above, the navigation information table and the corresponding image data are separated from each other, so that they may be multiplexed at different times.<br>
2-3 Data Reception Apparatus 121<br>
As described above with reference to Fig. 49, the data<br>
reception apparatus 121 interactively selects contents from<br>
the MPEG2 transport stream transmitted by the data<br>
transmission apparatus 101 in accordance with user operations and reproduces them.<br>
2-3-1 Reception Unit 122<br>
The reception unit 122 receives the MPEG2 transport stream which corresponds to the transport stream identifier indicated by the reception control unit 126, and outputs it to the TS decoder unit 123.<br>
2-3-2 TS Decoder Unit 123<br>
The TS decoder 123 includes a filter condition storage unit 131 for storing the filter conditions set by the reception control unit 126, and operates in accordance with these filter conditions so as to only separate image data or<br>
audio data with a specified identifier from the transport stream outputted by the reception unit 122.  The TS decoder unit 123 outputs the separated data to the AV decoder unit 124.  The TS decoder unit 123 also separates table data with a specified identifier and outputs the table data to an area maintained in the received data storage unit 125, in accordance with the identifier.  The TS decoder unit 123 separates a PCR (standard clock information) with the specified identifier and outputs it to the AV decoder unit 124.  Here, the filter condition storage unit 131 is capable<br>
of simultaneously storing a plurality of filter conditions,<br>
and the TS decoder unit 123 is capable of simultaneously performing a plurality of separating operations.<br>
Figs. 74A and 74B show examples of the filter condition tables stored in the filter condition storage unit 131.  Each line in filter condition table 2201 is one filter condition.  The "filter identification column" 2202 is used for recording numbers which identify each filter condition. The "start/stop" column 2203 is set so that the entry "start" denotes the started state of a filter condition, while the entry "stop" denotes the stopped state of a filter condition.  The TS decoder unit 123 executes separating processes based on the filter conditions in the started state, and does not preform separating based on filter conditions in the stopped state.  The "PID" column 2204 is used to record the value of the PID of the data separated by<br>
each filter condition.  The "stream_id" column 2205 is used to record the value of the stream_id of the data separated by each filter condition.  The "table_id_extension" column 2206 is used to record the value of the table_id_extension of the data separated by each filter condition.  When the entries in the "PID" column 2204, the "stream__id" column 2205, and the "table_id_extension" column 2206 are all set the value "-", unconditional separating, which is to say separating regardless of the value of the identifiers, will be performed.  Finally, the "output destination" column 2207 is used to record the output destination to which the<br>
separated data is to be outputted.<br>
The line corresponding to the filter identification number "0" in the filter condition table 2201 shows the filter condition for image data.  The entry in the "output destination" column 2207 for this line indicates the AV decoder unit 124, with it not being possible to set an entry in the "table_id_extension" column 2206.  The entries in the "PID" column 2204 and in the "stream_id" column 2205 are set at the values of the PID and stream_id of the image data which is to be separated by the reception control unit 126.<br>
The line corresponding to the filter identification number "1" shows the filter condition for audio data.  The entry in the "output destination" column 2207 for this line indicates the AV decoder unit 124, with it not being possible to set an entry in the "table_id_extension" column<br>
2206.  The entries in the "PID" column 2204 and in the "stream_id" column 2205 are set at the values of the PID and stream_id of the audio data which is to be separated by the reception control unit 126.<br>
The line corresponding to the filter identification number "2" in the filter condition table 2201 shows the filter condition for the stream correspondence table VET. The entry in the "output destination" column 2207 for this line indicates the stream correspondence information table storage unit 132, with it not being possible to set an entry<br>
the "stream_id" column 2205.  The entries in the "PID"<br>
i column 2204 and in the "table_id_extension" column 2206 are<br>
set at the values of the PID and table_id_extension of the stream correspondence table which is to be separated by the reception control unit 126.<br>
The line corresponding to the filter identification number "3" in the filter condition table 2201 shows the filter condition for the navigation information table.  The entry in the "output destination" column 2207 for this line indicates the navigation information table storage unit 133, with it not being possible to set an entry the "stream_id" column 2205.  The entries in the "PID" column 2204 and in the "table_id_extension" column 2206 are set at the values of the PID and table_id_extension of the navigation information table which is to be separated by the reception control unit 126.<br>
The entry in the "start/stop" column 2203 for each filter condition is set at "start" or "stop" by the reception control unit 126 to set the separating process of the TS decoder unit 123 into a started state or stopped state for each filter condition.<br>
In addition to the information described above, the filter condition storage unit 131 also stores filter conditions for the system information tables, such as the NIT, the SDT, the EIT, the PAT, and the PMT, and the PCR (standard clock information).  These conditions have not<br>
been illustrated.<br>
When the filter condition for image data corresponding<br>
to filter identification number "0" and the condition for audio data corresponding to filter identification number "1" are set in the stopped state in the filter condition table 2201 by the reception control unit 126, the TS decoder unit 123 does not separate image data or audio data.<br>
Here, suppose that the filter condition for the stream correspondence table VET corresponding to filter identification number "2" has been set by the reception control unit 126 so that the value in the "PID" column 2204 is "0x0083", the value in the "table_id_extension" column 2206 is "0x0005", and the started state is set in the "start/stop" column 2203.  In this case, the TS decoder unit 123 separates the stream correspondence table VET(5) from the transport stream 1801 (shown in Fig. 70) transmitted<br>
from the transmission unit 106, in accordance with this filter condition.  The TS decoder unit 123 stores the separated stream correspondence table VET(5) in the stream correspondence information table storage unit 132 and notifies the reception control unit 126.  Here, the content of VET(5) is as shown in Fig. 63A.<br>
Next, suppose that the filter condition for the navigation information table NVT corresponding to filter identification number "3" has been set by the reception control unit 126 so that the value in the "PID" column 2204<br>
is "0x0082", the value in the "table_id_extension" column<br>
t<br>
2206 is "0x0005", and the started state is set in the "start/stop" column 2203.  In this case, the TS decoder unit 123 separates the navigation information table NVT(5) from the transport stream 1801 (shown in Fig. 70) transmitted from the transmission unit 106, in accordance with this filter condition.  The TS decoder unit 123 stores the separated navigation information table NVT(5) in the navigation information table storage unit 133 and notifies the reception control unit 126.  Here, the content of the navigation information table NVT(5) is as shown in Fig. 61.<br>
Next, in filter condition table 2208, suppose that the filter condition for the image data corresponding to filter identification number "0" has been set by the reception control unit 126 so that the value in the "PID" column is "0x0084", the value in the "stream id" column is "Oxe5", and<br>
the started state is set in the "start/stop" column.  In this case, the TS decoder unit 123 separates the image data VE(5), the image data VE(21), the image data VE(37), and the image data VE(53) in order from the transport stream 1801 (shown in Fig. 70) transmitted from the transmission unit 106, in accordance with this filter condition.  The TS decoder unit 123 outputs the separated sets of image data to the AV decoder unit 124.  Here, out of these four sets of image data, the first set of image data to be separated will depend on the timing at which the reception control unit 126 sets the started condition for the filter condition.  Also,<br>
1<br>
by setting the stopped condition at the proper timing, the reception control unit 126 can have the TS decoder unit 123 separate only the first out of these four sets of image data and output it to the AV decoder unit 124.<br>
2-3-3 AV Decoder Unit 124<br>
The AV decoder unit 124 includes a clock unit which is not illustrated.  This clock unit is synchronized to a standard time using the value of the PCR outputted by the TS decoder unit 123, and is used to measure time which is used as the standard for synchronized decoding of image data and audio data.<br>
On receiving image data and/or audio data from the TS decoder unit 123, the AV decoder unit 124 reads the identifier of the image data and/or audio data written in<br>
the private area, in accordance with an indication from the reception control unit 126, and notifies the reception control unit 126 of the identifier(s).  Next, the AV decoder unit 124 decodes the image data and/or audio data in predetermined units in accordance with an indication from the reception control unit 126 and outputs the decoded data to the reproduction unit 128 in synchronization with the clock unit, before informing the reception control unit 126 of the completion of the decoding.<br>
2-3-4 Construction of the Received Data Storage Unit 125<br>
The received data storage unit 125 can be composed of RAM (Random Access Memory), for example, and is provided with a stream correspondence information table storage unit 132, a navigation information table storage unit 133, and a system information table storage unit 134.<br>
The stream correspondence information table storage unit 132 stores stream correspondence tables which have been separated by the TS decoder unit 123.  The navigation information table storage unit 133 stores navigation information tables which have been separated by the TS decoder unit 123.  The system information table storage unit 134 stores the system information tables, such as the NIT, the SDT, the EIT, the PAT, and the PMT, which have been separated by the TS decoder unit 123.<br>
2-3-5 Signal Reception Unit 127<br>
The signal reception unit 127 receives signals, such as remote controller operations made by a user, and informs the reception control unit 126 of the received signals.<br>
2-3-6 Reproduction Unit 128<br>
The reproduction unit 128 superimposes graphics information included in the navigation information table outputted from the reception control unit 126 and image data decoded by the AV decoder unit 124 in accordance with indications from the reception control unit 126.  The reproduction unit 128 outputs this combined image to the display unit 129.  The reproduction unit 128 also outputs audio data decoded by the AV decoder unit 124 to the audio output unit 130.<br>
2-3-7 Display Unit 129<br>
The display unit 129 can be realized by a CRT (Cathode Ray Tube) or liquid crystal display, and is used to display the images outputted by the reproduction unit 128.  Examples of such display are the contents 151, 152, and 153 shown in Fig. 49.<br>
2-3-8 Audio Output Unit 130<br>
The audio output unit 130 can be realized by a speaker, and is used to output the audio signal outputted by<br><br>
the reproduction unit 128.<br>
2-3-9 Construction of the Reception Control Unit 126<br>
The reception control unit 126 controls the reception unit 122 and has it receive a desired transport stream.  On receiving a user operation signal via the signal reception unit 127, the reception control unit 126 refers to the navigation information table presently stored in the navigation information table storage unit 133 and sets the filter condition for the next navigation information table and the filter condition for the stream correspondence table<br>
I<br>
for obtaining the image data in the filter condition storage unit 131 of the TS decoder unit 123.  The reception control unit 126 then refers to the stream correspondence table which has been newly separated by the TS decoder unit 123 and stored in the stream correspondence information table storage unit 132, and sets the filter condition for the image data in the filter condition storage unit 131.<br>
The reception control unit 126 judges whether the image data which has been separated by the reception control unit 126 is the appropriate image data by referring to the image data identifier written into the private area of the image data.  When the image data is the appropriate image data, the reception control unit 126 has the image data decoded and outputted to the reproduction unit 128.  When the image data is not the appropriate image data, the<br>
reception control unit 126 changes the filter condition in the filter condition storage unit 131 and gives another indication for the separation of a stream correspondence table.<br>
The reception control unit 126 also reads bitmap data for objects included in the navigation information table separated by the TS decoder unit 123.  The reception control unit 126 also informs the reproduction unit 128 of this data and has the reproduction unit 128 combine the bitmap data with the image data.<br>
t<br>
2-3-9-1 Initial Control<br>
The reception control unit 126 is composed of a CPU and a program for controlling the CPU.  When the user makes an initial selection of an event stored in the transmission data storage unit 102 and multiplexed into the transport stream transmitted by the transmission unit 106 of the data transmission apparatus 101, the reception control unit 126 first refers to the system information tables in accordance with a procedure which is standardized according to the DVB-SI and MPEG2 system standards which are generally used by satellite digital broadcast reception apparatuses.  The reception control unit 126 then instructs the reception unit 122 to receive a transport stream transmitted by the transmission unit 106 and instructs the TS decoder unit 123 to separate the PMT corresponding to the event selected by<br>
the user.<br>
The reception control unit 126 then refers to the PMT stored in the system information table storage unit 134 and obtains the identifier of the PCR, and sets this identifier in the filter condition storage unit 131.  The reception control unit 126 also obtains the identifiers of the image data and the navigation information of the entry content and respectively sets these in the filter condition of the stream correspondence table and the filter condition of the navigation information table in the filter condition storage unit 131.<br>
t<br>
The reception control unit 126 then refers to the PMT stored in the system information table storage unit 134 and obtains the PIDs of the component which is used to transfer the stream correspondence table and the component which is used to transfer the navigation information table.  The reception control unit 126 then respectively sets these PIDs in the filter condition of the stream correspondence table and the filter condition of the navigation information table in the filter condition storage unit 131, in addition to setting both of these filter conditions into the started state.<br>
On receiving notification from the TS decoder unit 123 indicating that the stream correspondence table has been separated, the reception control unit 126 sets the filter condition for the stream correspondence table in the filter<br>
condition storage unit 131 into the stopped state. Following this, the reception control unit 126 refers to the stream correspondence table in the stream correspondence information table storage unit 132 and reads the value of the "stream_id" for the image data, before setting the filter condition for image data in the filter condition storage unit 131.  After this, the reception control unit 126 refers to the stream correspondence table in the stream correspondence information table storage unit 132 and reads the value of the "component_tag", and refers to the PMT in the system information table storage unit 134 and obtains<br>
1<br>
the value of the PID which corresponds to the "component_tag" it has read.  The reception control unit 126 then sets this PID in the filter condition for the image data in the filter condition storage unit 131, and sets this filter condition into the started state.<br>
2-3-9-2 Judgement of Validity of Image Data<br>
The data transmission apparatus 101 is constructed to transmit a plurality of different sets of image data with the same values of the PID and stream_id, so that having transmitting a stream correspondence table corresponding to a given set of image data, a predetermined time later the data transmission apparatus 101 will send a different set of image data with the same PID and stream__id as the given set of image data.  This being the case, if the reception<br>
control unit 126 can complete the setting of the filter condition for the image data within a predetermined time period after receiving the stream correspondence table, the TS decoder unit 123 will be able to separate the desired image data without error and output it to the AV decoder unit 124.<br>
Following this, the reception control unit 126 obtains the value of the image data identifier written into the private area of the image data outputted from the TS decoder unit 123 via the AV decoder unit 124.  The reception control<br>
unit 126 then investigates whether this value matches the<br>
identifier of the image data to be obtained.  When the<br>
values do not match the reception control unit 126 sets the filter condition for the image data in the filter condition storage unit 131 into the stopped state, and sets the PID of the component which transfers the stream correspondence table and the identifier of the image data which it is presently trying to obtain into the filter condition of the stream correspondence table, as well as setting the filter condition for the stream correspondence table into the started condition.  It should be noted here that the value of the identifier "table_id_extension" for the stream correspondence table is the same as the value of the identifier "VE_id" for the image data.  By doing so, when, for whatever reason, the processing whereby the reception control unit 126 refers to the stream correspondence table<br>
and sets the filter condition of the image data is delayed, the mistaken display of other image data can still be avoided.<br>
When the identifier written in the private area of the image data outputted by the TS decoder unit 123 matches the value of the identifier of the image data which the reception control unit 126 is attempting to obtain, the reception control unit 126 refers to the stream correspondence table in the stream correspondence information table storage unit 132 and reads the value of the "first_pts".  After this, the reception control unit 126<br>
refers to the clock unit of the AV decoder unit 124 and checks whether notification of the completion of frame decoding has been received from the AV decoder unit 124. When no such notification has been received, the reception control unit 126 sets the filter condition of the image data in the filter condition storage unit 131 into the stopped state, and resets the PID of the component for transferring the stream correspondence table and the identifier of the image data to be obtained, before setting the filter condition of the stream correspondence table into the started state.<br>
By performing the above processes, unintentional reproduction of image data which skips the beginning and starts midway can be avoided, even when, for whatever reason, there is a delay in the reception control unit 126<br>
referring to the stream correspondence table and setting the filter condition for the image data.<br>
When notification of the completion of frame decoding has been received from the AV decoder unit 124, the reception control unit 126 refers to the stream correspondence table in the stream correspondence information table storage unit 132 and reads the value of the "last_pts".  After this, the reception control unit 126 refers to the clock unit of the AV decoder unit 124 and, once the time of the read "last_pts" has been reached, sets the filter condition for the image data in the filter<br>
I<br>
condition storage unit 131 into the stopped condition.  By doing so, only the desired image data will be separated and outputted to the AV decoder unit 124.  As a result, other sets of image data with the same PID and stream_id will not be separated.<br>
2-3-9-3 Generation of Graphics Information<br>
On receiving notification from the TS decoder unit 123 indicating the separation of a. navigation information table, the reception control unit 126 sets the filter condition for the navigation information table in the filter condition storage unit 131 into the stopped state.  Following this, the reception control unit 126 refers to the object definition table in the navigation information table of the navigation information table storage unit 133 and obtains<br>
the display coordinates "X" and "Y" of the button object. For a button whose index number is "0", the reception control unit 126 obtains an index number for a "Focused Bitmap", while for other buttons, the reception control unit 126 obtains an index number for a "Normal Bitmap", before referring to the bitmap table and obtaining bitmap data corresponding to the obtained index number.  The reception control unit 126 then uses this bitmap data to generate graphics information for buttons and outputs this graphics information to the reproduction unit 128.<br>
2-3-9-4 Interpretation of User Operations<br>
The reception control unit 126 resets the variable "cur_focus" which represents the index number of the button object which is presently displayed in the selection state to "0".<br>
On receiving a signal for a user operation from the signal reception unit 127, the reception control unit 126 judges whether the signal is for an "Up" user operation, a "Down" user operation, or an "Enter" user operation. When the signal is for an "Up" user operation or a "Down" user operation, the reception control unit 126 adds or subtracts "1" to/from the value of the variable cur_focus.  Following this, the reception control unit 126 refers to the navigation information table in the navigation information table storage unit 133 and first refers to the object<br>
definition table to obtain the "X" and "Y" display coordinates of the button object.  The reception control unit 126 next obtains the index number of the "Focused Bitmap" for the button whose index number corresponds to the value of variable cur_focus and the index numbers of the "Normal Bitmap" for all other buttons, before referring to the bitmap table and obtaining the sets of bitmap data which correspond to these index numbers.  The reception control unit 126 generates graphics information for buttons using the obtained bitmap data and outputs the graphics information to the reproduction unit 128.<br>
1<br>
When the signal is for an "Enter" user operation, the reception control unit 126 refers to the object definition table in the navigation information table NVT in the navigation information table storage unit 133 and obtains the index number of handler of the button object whose index number matches the value of cur_focus.  The reception control unit 126 then refers to the handler definition table and reads the instruction word from the handler that corresponds to the index number.  When the instruction word is "goto_content", the reception control unit 126 reads the index number which is the argument of this instruction word and refers to the hyperlink table, before reading the identifier of the content which is the link destination corresponding to the read index number as the identifier of the next content to be reproduced.<br>
When the instruction word is "goto_entry" the reception control unit 126 refers to the system information table storage unit 134 to find the PMT of the event to which the navigation information table of the currently reproduced content belongs, and reads the identifier of the entry content as the identifier of the next content to be reproduced.<br>
2-3-9-5 Setting of the Filter Conditions<br>
When the identifier of the next content to be<br>
reproduced is equal to the identifier of the content<br>
presently being reproduced, the reception control unit 126<br>
performs no action.  When the original_network_id and transport_stream_id of the next content to be reproduced are different to the transport stream presently being received, the reception control unit 126 refers to the system information table and instructs the reception unit 122 to receive the desired transport stream, in accordance with a predetermined procedure for MPEG2 system standard and DVB-SI standard.  On receiving instruction which indicate the reception of a transport stream which belongs to a different network, the reception unit 122 performs the necessary processes, such as the changing of the orientation of an antenna, and receives the indicated transport stream.<br>
When the event to which the image data for the next content to be displayed belongs is different to the event to<br>
which the image display of the presently display content belongs, the reception control unit 126 refers to the system information table as described above and sets the identifier of the PMT of the event to which the image data of the next content belongs into the filter condition storage unit 131 of the TS decoder unit 123.<br>
The TS decoder unit 123 separates the PMT in accordance with the filter condition and stores the PMT in the system information table storage unit 134, before notifying the reception control unit 126.<br>
On receiving notification of the separation of the PMT<br>
i<br>
of the event to which the image data belongs from the TS decoder unit 123, the reception control unit 126 refers to the PMT and sets the value of the "PCR_PID" into the filter condition storage unit 131.<br>
The reception control unit 126 refers to the system information tables as described above and sets the identifier of the PMT of the event to which the navigation information of the next content to be reproduced belongs into the filter condition storage unit 131 in the TS decoder unit 123.  This procedure is executed even when the event to which the navigation information of the next content to be reproduced belongs differs from the event to which the navigation information of the presently reproduced content belongs.<br>
When the value of the identifier "VE id" of the image<br>
data of the next content to be displayed is different to the value of the identifier "VE_id" of the image data of the content which is presently being reproduced, the reception control unit 126 refers to the system information table storage unit 134 to find the PMT of the event to which the image data of the next content to be displayed belongs and obtains the PID of the component to which the VE_Information_Component_Descriptor is attached.  The reception control unit 126 then sets this PID and the value "VE_id" into the filter condition for the stream<br>
correspondence table in the filter condition storage unit<br>
i<br>
131, in addition to setting this filter condition into the<br>
started condition.<br>
When the value of the identifier "NE_id" of the image data of the next content to be displayed is different to the value of the identifier "VE_id" of the image data of the content which is presently being reproduced, the reception control unit 126 refers to the system information table storage unit 134 to find the PMT of the event to which the navigation information of the next content to be displayed belongs and obtains the PID of the component to which the NE_Component_Descriptor is attached.  The reception control unit 126 then sets this PID and the value "NE_id" into the filter condition for the navigation information table in the filter condition storage unit 131, in addition to setting this filter condition into the started condition.<br>
2-3-10 Specific Example of Content Display by the Data Reception Apparatus 121<br>
When, as one example, the user initially selects the event multiplexed into the transport stream 1801 (shown in Fig. 70) which is identified by the original_network_id "0x0001", the transport_stream_id "0x0001", the service_id "0x0001", and the event_id "0x0001", the reception control unit 126 refers to NIT 1301 in Fig. 66A and obtains the information for the transfer preface, such as the frequency of the transport stream 1801 identified by the<br>
original_network_id "0x0001" and the transport_stream_id<br>
i<br>
"0x0001", in accordance with a procedure which is standardized in accordance with MPEG2 system standard and DVB-SI standard.<br>
Next, the reception control unit 126 instructs the reception unit 122 to receive the transport stream 1801 and refers in the same way to the PAT 1401 in Fig. 67 to obtain the value "0x0080" of the PID of the PMT for the program whose "program_no" is equal to the service_id (here, "1"). The reception control unit 126 then sets this value in the filter condition for the PMT in the filter condition storage unit 131.<br>
The TS decoder unit 123 separates the PMT 1501 shown in Fig. 68 and stores it in the system information table storage unit 134, before notifying the reception control unit 126.  The reception control unit 126 reads the value<br>
"0x0081" of the "PCR_PID" from the PMT 1501 stored in the system information table storage unit 134 and sets this value in the filter condition of the PCR in the filter condition storage unit 131.  Following this, the reception control unit 126 refers to the Entry_Descriptor (shown in Fig. 69A) of the PMT 1501 and obtains the value "0x0005" of the "entry__VE_id", before setting this in the "table_id_extension" entry of the filter condition for the stream correspondence table in the filter condition storage unit 131.  After this, the reception control unit 126 obtains the value "0x0083" of the PID of the component attached to the VE_Information_Component_Desc'riptor from the PMT 1501 and sets this in the "PID" entry in the filter condition for the stream correspondence table, in addition to setting the filter condition for the stream correspondence table into the started state.<br>
Following this, the reception control unit 126 refers to the Entry_Descriptor (shown in Fig. 69A) of the PMT 1501 and obtains the value "0x0005" of the "entry_NE_id", before setting this in the "table_id_extension" entry of the filter condition for the navigation information table in the filter condition storage unit 131.  After this, the reception control unit 126 obtains the value "0x0082" of the PID of the component attached to the NE_Component_Descriptor from the PMT 1501 and sets this in the "PID" entry for the navigation information table, in addition to setting the<br>
filter condition for the navigation information table into the started state.<br>
The TS decoder unit 123 separates the stream correspondence table 1201 shown in Fig. 63A, stores it in the stream correspondence information table storage unit 132, and notifies the reception control unit 126, in addition to separating the navigation information table 1001, storing it in the navigation information table storage unit 133, and informing the reception control unit 126.<br>
On receiving notification of the separation the stream<br>
correspondence table, the reception control unit 126 refers<br>
to the stream correspondence table 1201 in the stream correspondence information table storage unit 132 and obtains the value "Oxe5" of the "stream_id" which it then sets as the "stream_id" entry of the filter condition for image data.  Following this, the reception control unit 126 obtains the value "0x00" of the "component_tag" from the stream correspondence table 1201, before obtaining the value "0x0084" of the "PID" of the component whose "component_tag" has been appended with the stream_identifier_descriptor of the value "0x00", meaning that its data type is image data. The reception control unit 126 then sets this value "0x0084" in the "PID" entry of the filter condition for image data in the filter condition storage unit 131, in addition to setting this filter condition into the started state.<br>
It should be noted here that when the value of the<br>
"PID" is written directly into the stream correspondence table in place of the "component_tag", the reception control unit 126 does not need to refer to the PMT and so can instead obtain the "stream_id" and "PID" directly from the stream correspondence table, before setting the filter condition for the image data in the filter condition storage unit 131.<br>
The TS decoder unit 123 separates the bitstream 901 for the image data shown in Fig. 60 and outputs it to the AV decoder unit 124.  This bitstream 901 for the image data has the value "0x0005" of the "VE_id" written into the private<br>
1<br>
area for the still image data 201 shown the Fig. 53A.<br>
The reception control unit 126 receives, via the AV decoder unit 124, notification of the value "0x0005" of the identifier written into the private area of the separated image data, and confirms that this value matches the value "0x0005" set beforehand in the table_id_extension of the stream correspondence table.  After this, the reception control unit 126 refers to the clock unit of the AV decoder unit 124 and having confirmed that notification of the successful decoding to image data has been received from the AV decoder unit 124 has been received by the time indicated by the value "112500" of the "first_pts" in the stream correspondence table 1201, waits until the time indicated by the value "112500" of the "last_pts" in the stream correspondence table 1201, before setting the filter<br>
condition for image data in the filter condition storage unit 131 into the stopped state.<br>
On receiving notification of the separation of the navigation information table, the reception control unit 126 sets the variable cur_focus at "0", before referring to the navigation information table 1001 in the navigation information table storage unit 133 and obtaining the display coordinates of a button corresponding to the index number "0", the bitmap data corresponding to the index number of the item "Focused bitmap", the display coordinates of a<br>
button corresponding to the index number "1", and the bitmap<br>
i data corresponding to the index number of the item "Normal<br>
bitmap".  The reception control unit 126 then uses these to generate graphics information for buttons which it outputs to the reproduction unit 128.  The reproduction unit 128 superimposes this graphics information outputted by the reception control unit 126 onto the image data outputted by the AV decoder unit 124, and has the display image 2301 shown in Fig. 75A displayed on the display unit 129. When a "Down" signal is inputted due to a user operation made via a remote controller or the like during the display of display image 2301, the reception control unit 126 receives notification of the "Down" input signal via the signal reception unit 127 and increases the value of "cur_focus" by one to "1".  The reception control unit 126 then refers to the navigation information table 1001 in the<br><br>
navigation information table storage unit 133 and obtains the display coordinates corresponding to the index number "0" and the bitmap data corresponding to the index number for the "Normal Bitmap", as well as the display coordinates corresponding to the index number "1" and the bitmap data corresponding to the index number for the "Focused Bitmap", before using this information to generate graphics information for the buttons which it outputs to the reproduction unit 128.  The reproduction unit 128 superimposes this graphics information outputted by the<br>
reception control unit 126 onto the image data outputted by<br>
i the AV decoder unit 124, and has the display image 2302<br>
shown in Fig. 75B displayed on the display unit 129.<br>
When an "Enter" signal is inputted due to a user operation made via a remote controller or the like during the display of display image 2301, the reception control unit 126 receives notification of the "Enter" input signal via the signal reception unit 127.  The reception control unit 126 then obtains the index number "0" of the handler of the button whose index number ("0") coincides with the value of the variable cur_focus from the object definition table 1002 in the navigation information table 1001 in the navigation information table storage unit 133.  The reception control unit 126 refers to the handler definition table 1003 and obtains the script, instruction word "goto_content", and the argument index number "0" which<br>
correspond to index number "0".<br>
The reception control unit 126 next refers to the hyperlink table 1004 and fetches the value "0x0001" of the "VE_id" of the content which is the link destination corresponding to the index number "0".  The reception control unit 126 sets this extracted value in the "table_id_extension" of the filter condition for the stream correspondence table in the filter condition storage unit 131.  The reception control unit 126 then fetches the value "0x0083" of the PID of the component attached to the<br>
VE_Information_Component_Descriptor and sets this in the<br>
"PID" entry of the filter condition for the stream correspondence table, before setting this filter condition into the started state.<br>
The reception control unit 126 next fetches the value "0x0001" of the "NE_id" of the content which is the link destination corresponding to the index number "0", and sets this fetched value in the "table_id_extension" entry of the filter condition in the navigation information table in the filter condition storage unit 131.  After this, the reception control unit 126 fetches the value "0x0082" of the PID of the component attached to the NE_Component_Descriptor from the PMT 1501, and sets this value in the "PID" entry in the filter condition for the navigation information table in the filter condition storage unit 131, before setting the filter condition for the navigation information table into<br>
the started state.<br>
The TS decoder unit 123 separates the stream correspondence table 1202 shown in Fig. 63B, stores it in the stream correspondence information table storage unit 132, and notifies the reception control unit 126, in addition to separating the navigation information table 1101 shown in Fig. 62, storing it in the navigation information table storage unit 133, and notifying the reception control unit 126.<br>
On receiving notification of the separation of the stream correspondence table from the TS decoder unit 123,<br>
I<br>
the reception control unit 126 refers to the stream correspondence table 1202 and instructs the TS decoder unit 123 to separate the image data.  On receiving notification of the separation of the navigation information table from the TS decoder unit 123, the reception control unit 126 refers to the navigation information table 1101, generates the graphics information for the button, and outputs it to the reproduction unit 128.<br>
The reproduction unit 128 superimposes the graphics information outputted by the reception control unit 126 onto the image data outputted by the AV decoder unit 124 and outputs the display image 2303 shown in Fig. 75C to the display unit 129.<br>
When an "Enter" signal is inputted due to a user operation made via a remote controller or the like during<br>
the display of display image 2301, the reception control unit 126 receives notification of the "Enter" input signal via the signal reception unit 127.  The reception control unit 126 then refers to the navigation information table 1101 in the navigation information table storage unit 133 and obtains the script, instruction word "goto_entry". After this, the reception control unit 126 obtains the value "0x0005" of the "entry_VE_id" from the PMT 1501 stored in the system information table storage unit 134 and sets this value in the "table_id_extension" entry of the filter<br>
condition for the stream correspondence table in the filter<br>
condition storage unit 131.<br>
The reception control unit 126 next receives the value "0x0083" of the component attached to the<br>
VE_Information_Component_Descriptor from the PMT 1501 and sets this value in the "PID" entry of the filter condition for the stream correspondence table, before setting the filter condition for the stream correspondence table into the started state.<br>
Next, the reception control unit 126 refers to PMT 1501 and fetches the value "0x005" of the "entry_NE_id" which it sets in the "table_id_extension" of the filter condition of the navigation information table in the filter condition storage unit 131.  Following this, the reception control unit 126 obtains the value "0x0082" of the PID of the component to which the NE_Component_Descriptor has been<br>
attached from the PMT 1501, before setting this value in the "PID" entry of the filter condition for the navigation information table and setting the filter condition for the navigation information table into the started state.<br>
The TS decoder unit 123 separates the stream correspondence table 1201 shown in Fig. 63A, stores it in the stream correspondence information table storage unit 132, and notifies the reception control unit 126, in addition to separating the navigation information table 1001 shown in Fig. 61, storing it in the navigation information table storage unit 133, and notifying the reception control unit 126.<br>
On receiving notification of the separation of the stream correspondence table from the TS decoder unit 123, the reception control unit 126 refers to the stream correspondence table 1201 and instructs the TS decoder unit 123 to separate the image data.  On receiving notification of the separation of the navigation information table from the TS decoder unit 123, the reception control unit 126 refers to the navigation information table 1001, generates the graphics information for the button, and outputs it to the reproduction unit 128.<br>
The reproduction unit 128 superimposes the graphics information outputted by the reception control unit 126 onto the image data outputted by the AV decoder unit 124 and outputs the display image 2303 shown in Fig. 75A to the<br>
display unit 129.<br>
2-3-11 Operation of the Data Reception Apparatus 121<br>
The following is an explanation of the operation of the data reception apparatus 121, with reference to the flowcharts in Figs. 76 to 79.<br>
2-3-11-1 Entire Operation<br>
The following is a description of the entire operation procedure for the data reception apparatus 121 with<br>
reference to Fig. 76.<br>
When the user switches the data reception apparatus<br>
121	on, the reception control unit 126 operates in<br>
accordance with a predetermined procedure for MPEG2 system<br>
standard and DVB-SI standard to control the reception unit<br>
122	and the TS decoder unit 123 so that the system<br>
information tables are received, with the reproduction unit<br>
128 having a program table displayed on the display unit 129<br>
to enable the user to select a program using an operation<br>
unit such as a remote controller.  On receiving a selection<br>
signal from the operation unit via the signal reception unit<br>
127, the reception control unit 126 selects an event out of<br>
the transmission data stored in the transmission data<br>
storage unit 102 sent in the transport stream transmitted by<br>
the transmission unit 106 of the data transmission apparatus<br>
101.  In doing so, the reception control unit 126 obtains<br>
the identifier of the event, the original_network_id, the transport_stream_id, the service_id, and the event_id (S2402) .<br>
When an event which has been multiplexed into the transmission data stored in the transmission data storage unit 102 is selected, the reception control unit 126 operates in accordance with a predetermined procedure for MPEG2 system standard and DVB-SI standard to refer to the system information tables.  The reception control unit 126 then instructs the reception unit 122 to receive the transport stream transmitted by the transmission unit 106<br>
t<br>
and instructs the TS decoder unit 123 to separate the PMT corresponding to the selected event.  The reception unit 122 receives the transport stream transmitted by the transmission unit 106 and outputs it to the TS decoder unit 123.  The TS decoder unit 123 separates the PMT corresponding to the selected event and writes it into the system information table storage unit 134 in the received data storage unit 125, before notifying the reception control unit 126.  On receiving notification of the reception of the PMT from the TS decoder unit 123, the reception control unit 126 refers to the PMT in the system information table storage unit 134 and obtains the PID of the PCR, before storing it in the filter condition storage unit 131 (S2404).<br>
The reception control unit 126 sets the<br>
original_network_id of the selected event in the variable cur_original_network_id and set the transport_stream_id of the selected event into the variable<br>
cur_transport_stream_id.  The reception control unit 126 also sets the service_id of the selected service into the variable cur_VE_service_id and the variable cur_NE_service_id, sets the event_id of the selected event into the variable cur_VE_event_id and the variable cur_NE_event__id, and clears the variable cur_VE_id and the variable cur_NE_id.  These variables indicate the<br>
information for the identifiers of the content which is<br>
i<br>
currently being reproduced (S2406).<br>
The reception control unit 126 next sets the original_network_id of the selected event in the variable new_original_network_id, sets the transport_stream_id of the selected event into the variable new_transport_stream_id, sets the service_id into the variable new_VE_service_id and the variable new_NE_service_id, and sets the event_id of the selected event into the variable new_VE_event_id and the variable new_NE_event_id.  The reception control unit 126 also refers to the PMT in the system information table storage unit 134 and sets the respective values of the entry_VE_id and the entry_NE_id into the variable new_VE_id and the variable new_NE_id (S2408).<br>
Following this, the reception control unit 126 performs the content switching processing.  The details of<br>
the contents switching processing are given later in this specification (S2410).<br>
The reception control unit 126 next clears the value of the content change flag, which shows the content switching is necessary, to zero (S2412).<br>
After this, the reception control unit 126 waits for notification from the signal reception unit 127 of an input of a signal for a selection operation made the user (S2414) . When a signal is inputted from the signal reception unit 127, the reception control unit 126 processes the user input signal.  The details of this processing are given later in this specification (S2416).   The reception control unit 126 then judges whether the content change flag is set at "1" (S2418), and if so the processing returns to step S2410, or otherwise returns to step S2414.<br>
2-3-11-2 Content Switching Processing<br>
The following is an explanation of the details of the contents switching processing in S2410, with reference to the flowchart in Fig. 77.<br>
First, the reception control unit 126 judges whether the value of the variable new_original_network_id stored by the reception control unit 126 is the same as cur_original_network_id and whether the value of the variable new_transport_stream_id is the same as the cur_transport_stream_id (S2502).  When both are affirmative,<br>
the reception control unit 126 performs the switching process for image data (S2504) and the switching process for navigation information (S2506) in parallel before terminating the procedure.  When the variables are not equal, the reception control unit 126 refers to the system information tables and performs a switching process for the transport stream identified by the variable new_original_network_stream_id and the variable new_transport_stream_id (S2508), sets the value of the variable cur_original_network_id at the variable<br>
new_original_network_id, sets the value of the variable<br>
cur_transport_stream_id at the variable<br>
new_transport_stream_id, clears the values of the variables, cur_VE_event_id, cur_VE_id, cur_NE_event_id, cur_NE_id (S2510), and performs the switching process for image data (S2504) and the switching process for navigation information (S2506) in parallel before terminating the procedure.<br>
2-3-11-3 Image Data Switching Processing<br>
The following is an explanation of the details of the image data switching processing in S2504, with reference to the flowchart in Fig. 78.<br>
First, the reception control unit 126 judges whether the value of the variable new_VE_service_id stored by the reception control unit 126 is the same as cur_VE_service_id and whether the value of the variable new VE event id is the<br>
same as the cur_VE_event_id (S2602).  When both are affirmative, the reception control unit 126 judges whether the variable new_VE_id is equal to the cur_VE_id (S2604) . If so, the reception control unit 126 terminates the processing, or if not, the reception control unit 126 advances to S2610.  When the judgement in S2602 is negative, the reception control unit 126 refers to the system information tables corresponding to the variables new_VE_service_id and new_VE_event_id and instructs the TS decoder unit 123 to separate the PMT corresponding to the event identified by the variables new_VE_service_id and<br>
1<br>
new_VE_event_id.  The TS decoder unit 123 separates the indicated PMT and writes it into the system information table storage unit 134 of the received data storage unit 125, before notifying the reception control unit 126.  On receiving notification of the separation of the PMT from the TS decoder unit 123, the reception control unit 126 refers to the received PMT and obtains the PID of the PCR which it then sets in the filter condition storage unit 131 (S2606). The reception control unit 126 then sets the value of the variable new_VE_service_id in the variable cur_VE_service_id and the value of the variable new_VE_event_id into the cur_VE_event_id (S2608).<br>
The reception control unit 126 next refers to the PMT corresponding to the event identified by the variables cur VE service id and cur VE event id in the system<br>
information table storage unit 134 and obtains the PID of the component attached to the<br>
VE_Information_Component_Descriptor and sets the value of the variable new_VE_id as the table_id_extension in the filter condition for the stream correspondence table.  The reception control unit 126 also sets this filter condition into the started condition.  The TS decoder unit 123 then separates the stream correspondence table VET corresponding to the value of the variable new_VE_id from the transport stream in accordance with the filter condition, stores it in the stream correspondence information table storage unit 132, and notifies the reception control unit 126 (S2610) .<br>
The reception control unit 126 interprets the stream correspondence table VET in the stream correspondence information table storage unit 132 which was obtained in step S2610 and sets the value of "first_pts" in the variable firstPTS and the value of "last_pts" in the variable "lastPTS", before obtaining the values of the "stream_id" and the "component_tag" (S2612).  Following this, the reception control unit 126 resets the value of the flag "first flag", which shows whether the decoding of the first frame of image data is complete, to zero (S2614).<br>
After this, the reception control unit 126 refers to the PMT corresponding to the event identified by the variables cur_VE_service_id, cur_VE_event_id in the system information table storage unit 134, and obtains the PID of<br>
the component which transfers data of the data type "image data" and which has been given a<br>
stream_identifier_descriptor of the same value as the "component_tag" obtained in S2612.  The reception control unit 126 sets this PID and the "stream_id" obtained in S2612 in the filter condition for image data in the filter condition storage unit 131, and sets this filter condition for image data into the started state.  The TS decoder unit 123 then separates the image data in accordance with this filter condition and outputs it to the AV decoder unit 124 (S2616) .<br>
t<br>
The reception control unit 126 sends a message to the AV decoder unit 124 and so obtains the value of the image data identifier written into the private area of the image data separated by the TS decoder unit 123, which it then compares with the value of the variable new_VE_id (S2618) . When these values match, the processing advances to S2620, while when they do not match, the processing switches to S2619.<br>
The reception control unit 126 sets the filter condition for image data in the filter condition storage unit 131 into the stopped state (S2619), and the processing returns to S2610.<br>
On completing the decoding of the image data outputted by the TS decoder unit 123, the AV decoder unit 124 notifies the reception control unit 126 of the completion of<br>
decoding.  The reception control unit 126 judges whether it has received a decoding completion signal (S2620).  When it has, the processing advances to S2622, or if not, the processing advances to S2624.<br>
The reception control unit 126 sets the value of the flag first_flag at "1" (S2622).<br>
The reception control unit 126 refers to the value of the clock unit of the AV decoder unit 124 and obtains the present time expressed in units of one ninety-thousandth of one second.  The reception control unit 126 then compares the obtained value with the value of the variable firstPTS (S2624).  When the value of the present time 'is greater than or equal to the value of the variable firstPTS, the processing advances to S2626, while when it is less than firstPTS, the processing advances to S2628.  The reception control unit 126 judges whether the value of the flag first_flag is "1" (S2626).  When the value of first_flag is "0", the processing proceeds to S2619, while when the value is "1", the processing advances to S2628.<br>
In step S2628, the reception control unit 126 refers to the value of the clock unit of the AV decoder unit 124 and obtains the present time expressed in units of one ninety-thousandth of one second.  The reception control unit 126 then compares the obtained value with the value of the variable lastPTS.  When the value of the present time is less than the variable lastPTS, the processing returns to<br>
S2620.  When, however, the value of the present time is greater than or equal to the value of the variable lastPTS, the reception control unit 126 sets the filter condition for the image data in the filter condition storage unit 131 into the stopped state (S2630) and sets the variable cur_VE_id at the value of the variable new_VE_id (S2632).  The reception control unit 126 then terminates the reproduction processing of the image data.<br>
2-3-11-4 Switching Process for Navigation Information<br>
The following is an explanation of the details of the<br>
t<br>
navigation information switching processing in S2506, with reference to the flowchart in Fig. 79.<br>
First, the reception control unit 126 judges whether the value of the variable new_NE_service_id stored by the reception control unit 126 is the same as cur_NE_service_id and whether the value of the variable new_NE_event_id is the same as the cur_NE_event_id (S2702).  When both are affirmative, the reception control unit 126 judges whether the variable new_NE_id is equal to the cur_NE_id (S2704). If so, the reception control unit 126 terminates the processing, or if not, the reception control unit 126 advances to S2706.  When the judgement in S2702 is negative, the reception control unit 126 refers to the system information tables corresponding to the variables new NE service id and new NE event id and instructs the TS<br>
decoder unit 123 to separate the PMT corresponding to the event identified by the variables new_NE_service_id and new_NE_event_id.  The TS decoder unit 123 separates the indicated PMT and writes it into the system information table storage unit 134 of the received data storage unit 125, before notifying the reception control unit 126 (S2708) .<br>
The reception control unit 126 sets the value of the variable new_NE_service_id in the variable cur_NE_service_id and the value of the variable new_NE_event_id into the variable cur_NE_event_id (S2710).<br>
In S2706, the reception control unit 126 refers to the PMT corresponding to the event identified by the variables cur_NE_service_id and cur_NE_event_id in the system information table storage unit 134 and obtains the PID of the component attached to the NE_Component_Descriptor and sets the value of the variable new_NE_id as the table_id_extension in the filter condition for the navigation information table.  The reception control unit 126 also sets this filter condition into the started condition.  The TS decoder unit 123 then separates the navigation information table NVT corresponding to the value of the variable new_NE_id from the transport stream in accordance with the filter condition, stores it in the navigation information table storage unit 133, and notifies the reception control unit 126 (S2706).<br><br>
The reception control unit 126 next refers to the object definition table in the navigation information table NVT in the navigation information table storage unit 133 which was obtained in S2706 and obtains the display coordinates "X", "Y" of the button object.  The reception control unit 126 next obtains the index number of the "Normal Bitmap" and refers to the bitmap table so that it can obtain the bitmap data corresponding to this index number.  The reception control unit 126 uses this bitmap data to generate graphics information for buttons which it<br>
outputs to the reproduction unit 128.  The reproduction unit<br>
128 superimposes this graphics information onto the image data decoded by the AV decoder unit 124 and has the combined image displayed on the display unit 129 (S2712).<br>
The reception control unit 126 resets the variable cur_focus which expresses the index number of the button object currently in the selected state to zero (S2714).  The reception control unit 126 then refers to the object definition table of the navigation information table NVT obtained in S2706 and obtains .the display coordinates "X", "Y" of the button object which has an index number equal to the value of the variable cur_focus.  The reception control unit 126 next obtains the index number of the "Focused Bitmap" and refers to the bitmap table so that it can obtain the bitmap data corresponding to this index number.  The reception control unit 126 sets the bitmap of the button<br><br>
with the index number corresponding to the value of the variable cur_focus as the bitmap for the selected state and generates graphics information for the button objects which it outputs to the reproduction unit 128.  The reproduction unit 128 superimposes this graphics information onto the image data decoded by the AV decoder unit 124 and has the combined image displayed on the display unit 129 (S2716). The reception control unit 126 then sets the variable cur_NE_id at the value of the variable new_NE_id (S2718) and completes the switching processing for navigation<br>
information.<br>
2-3-11-5 Processing for a User Input Signal<br>
The following is an explanation of the details of the processing for a user input signal in S2416, with reference to the flowchart in Fig. 80.<br>
The reception control unit 126 first judges whether the user input reported by the signal reception unit 127 was an "up" signal.  When it is an "up" signal, the processing advances to S2804, or if not, the processing advances to S2808 (S2802) .  In S2804, the reception control unit 126 reduces the value of the variable cur_focus by one. However, when the value of the variable cur_focus is already at zero, it is not reduced further and stays at zero.<br>
The reception control unit 126 refers to the object definition table of the navigation information table NVT<br>
which was obtained in S2706 and which is stored in the navigation information table storage unit 133, and obtains the display coordinates "X", "Y" of the button object whose index number is equal to the variable cur_focus.  Next, the reception control unit 126 obtains the index number of the "Focused Bitmap" and refers to the bitmap table so that it can obtain the bitmap data corresponding to this index number.  Based on this information, the reception control unit 126 sets the bitmap of the button with the index number corresponding to the value of the variable cur_focus as the<br>
bitmap in the selected state, as well as setting the bitmap<br>
for the button corresponding to the index number which corresponds to the value of cur_focus as the bitmap in the normal state, before generating graphics information for the button objects and outputting the graphics information to the reproduction unit 128.   The reproduction unit 128 superimposes the graphics information on the image data decoded by the AV decoder unit 124 and has the combined image displayed on the display unit 129 (S2806), and the reception control unit 126 terminates the user input processing.<br>
In S2808, the reception control unit 126 judges whether the user input reported by the signal reception unit 127 was a "down" signal.  When it is a "down" signal, the processing advances to S2810, or if not, the processing advances to S2812 (S2802).  In S2810, the reception control<br>
unit 126 increases the value of the variable cur_focus by one.  However, when the value of the variable cur_focus is already equal to the highest value out of the identifiers of the button objects in the navigation information table, it is not increased further and stays as it is with the processing proceeding to S2806.<br>
In S2812, the reception control unit 126 judges whether the user input reported by the signal reception unit 127 was an "enter" signal.  When it is an "enter" signal, the processing advances to S2814, or if not, the user input<br>
processing is terminated.<br><br>
In S2814, the reception control unit 126 refers to the<br>
object definition table in the navigation information table NVT and obtains the index number of the handler of the button object whose index number is equal to the value of the variable cur_focus.  The reception control unit 126 then refers to the handler definition table and reads the instruction word from the handler which corresponds to this index number.  When the instruction word is "goto_content", the processing advances to S2818, while when this is not the case, the processing advances to S2824 (S2816).<br>
In S2818, the reception control unit 126 reads the index number of the argument of the goto_content instruction from the handler.<br>
After this, the reception control unit 126 refers to the hyperlink table for the navigation information table and<br>
sets the values of the original_network_id, the transport_stream_id, the VE_service_id, the VE_event_id, the VE_id, the NE_service_id, the NE_event_id, and the NE_id of the content which corresponds to the index number read in S2818 at the respective values of the<br>
new_original_network_id, the new_transport_stream_id, the new_VE_service_id, the new_VE_event_id, the new_VE_id, the new_NE_service_id, the new_NE_event_id, and the new_NE_id. However, when the identifiers have not been set values in the hyperlink table, which is to say the identifiers are<br>
given as "-", the original values are left unchanged<br>
 (S2820).<br>
The reception control unit 126 set the value of the content change flag at "1" (S2822) and terminates the user input processing.<br>
In S2824, the reception control unit 126 judges whether the script instruction word is "goto_entry", and if not, terminates the user input processing.  When the script instruction word is "goto_entry", the reception control unit 126 refers to the PMT corresponding to the event identified by the cur_NE_service_id and the cur_NE_event_id in the system information table storage unit 134, and sets the variable new__VE_id and the variable new_NE_id at the values of the "entry_VE_id" and the "entry_NE_id".  The reception control unit 126 also sets the variables new_VE_service_id and new VE event id at the values of the variables<br>
cur_NE_service_id and cur_event_id (S2826), before proceeding to step S2822.<br>
As described above, the display can be switched between the display image 2301 shown in Fig. 75A and the display image 2303 shown in Fig. 75C in accordance with user operations.<br>
2-3-12 Summary<br>
As described above, the data reception apparatus 121 of the present invention can extract the presentation information and navigation information which are necessary for the reproduction of a specified content f'rom the transport stream at the necessary time.  By doing so, link destination contents can be extracted and reproduced in accordance with user operations, so that programs which allow user interaction can be achieved on a system which performs only one-directional communication.<br>
It should be noted here that the reception unit 122, the TS decoder unit 123, the AV decoder unit 124, the reproduction unit 128, the display unit 129, the audio output unit 130, and the signal reception unit 127 in the data reception apparatus 121 may be provided using the same construction as a conventional digital TV broadcast receiver apparatus.<br>
Accordingly, by merely adding the received data storage unit 125 and the reception control unit 126<br>
described above to the reception unit, TS decoder unit and AV decoder unit of a conventional digital TV broadcast receiver apparatus, the interactive functions for programs of the present invention can be achieved.<br>
By using such a conventional construction as it is, a reception apparatus is capable of receiving conventional digital satellite broadcasts in addition to achieving the interactive functions of the present invention.<br>
2-3-13 Modifications 2-3-13-1<br>
The present embodiment describes the case where all of the image data is for still images, although reproduction by the data reception apparatus 121 of the present embodiment is still possible when the image data is moving pictures.<br>
2-3-13-2<br>
The above explanation also describes the case when each content is the combination of image data and navigation information, although audio data may also be included.  In such a case, the reception control unit 126 may be constructed so as to perform a switching process for audio data at the same time as the switching process for image data, and to output the audio data to an audio output unit 130.  The switching process for audio data may be performed using the same method as the switching process for image<br>
data.<br>
2-3-13-3<br>
The above embodiment also describes an example where the script which is included in the handler definition table of the navigation information and which denotes the operation to be taken by the data reception apparatus 121 merely indicates switching of contents, although complex script which is made up of a plurality of instruction words is also possible.<br>
As one example, when a program is for shopping<br>
1<br>
information, the script may represent the calculation of the total cost of the products selected by the user.  To do so, the reception control unit 126 of the data reception apparatus 121 is provided with the suitable functions for script execution.  These functions may calculate the total cost, and output the result to the reproduction unit 128 which has the total cost displayed by the display unit 129.<br>
For the example of shopping, script for the ordering of products may also be included.  To achieve this, the script may contain an instruction for a modem (not illustrated) of the data reception apparatus 121, which is connected to a telephone line, to connect to the retailer's computer system and transmit data which is used to order the desired products.  With this construction, the user is able to first view the product information, and then confirm the<br>
total cost of the products before placing the actual order.<br>
Third Embodiment<br>
The following embodiment describes a digital broadcasting apparatus which can achieve interactive programs that are composed of stream-based contents and page-based contents.<br>
3-1 Digital Broadcasting Apparatus 8101<br>
Fig. 81 is a block diagram showing the construction of<br>
the digital broadcasting apparatus 8101.  Components of the<br>
digital broadcasting apparatus 8101 which have been given the same reference numerals as components in the digital broadcasting apparatus 5101 of Fig. 4 or in the digital broadcasting apparatus 101 of Fig. 52 are the same as the corresponding components and so will not be described.  The following explanation will instead focus on the differences with the previous embodiments.<br>
The major difference between the data transmission apparatus 8101 and the data transmission apparatus 101 shown in Fig. 52 lies in the additional provision of the data multiplexing unit 5103.  This is described in more detail below.<br>
The transmission data storage unit 102 stores data (presentation information and navigation information) for both page-based contents and stream-based contents.  The<br>
construction information storage unit 109, meanwhile, stores a construction information table for stream-based contents and a construction information table for page-based contents.<br>
The data multiplexing unit 5103 multiplexes the data for the stream-based contents stored in the transmission data storage unit 102.  The data multiplexing unit 103, meanwhile, multiplexes the data (presentation information and navigation information) for the page-based contents stored in the transmission data storage unit 102.<br>
The data multiplexing unit 5103 and the data multiplexing unit 103 are the same as those described in the first and second embodiments, respectively.<br>
The transmission unit 106 multiplexes the multiplexed streams outputted from the two data multiplexing units 5103 and 103 into a transport stream.<br>
3-1-1 Construction Information Tables<br>
Figs. 82A and 82B show the construction information table 8201 for stream-based contents that is stored in the construction information storage unit 109 and the construction information table 8301 for page-based contents that is stored in the construction information storage unit 109.<br>
In the construction information table 8201, the sets of image data with the filenames "VideolOO.m2v",<br>
one-to-one with the contents.<br>
As one example, the image data "VideolOO.m2v", the audio data "AudiolOO.m2a", and the navigation information "NavilOO-O.nif, NavilOO-l.nif, NavilOO-2.nif, ..." are indicated in the row for content number 100.<br>
As shown in Fig. 84A, video data "VideolOO.m2v" represents a world travel guide for various countries such as China, Japan, and Egypt.  This video data is based on the content 100S in Fig. 1.  The audio data "AudiolOO.m2a" is a filename for audio data stored by the presentation<br>
information storage unit 107.  This audio data<br>
i "AudiolOO.m2a" represents audio which is to be reproduced<br>
together with the video data "VideolOO.m2v" to introduce the various countries.<br>
The navigation information "NavilOO-O.nif" represents the main menu for the travel guide scenes for China which include scene 100S1 shown as part of the video data "VideolOO.m2v" in Fig. 85.  Similarly, the navigation information "NavilOO-l.nif" is for the travel guide scenes for Japan which include scene 100S2, and the navigation information "NavilOO-2.nif" is for the travel guide scenes for Egypt.<br>
The construction information for content number 100, composed of the information described above, expresses the data for content 100 which is the world travel guide shown in Figs. 1 to 3.<br>
"Videol04.m2v", and "Videol06.m2v" given in the "Video data" column are stored in the presentation information storage unit 107.  Graphic representations of "VideolOO.m2v", "Videol04.m2v" and "Videol06.m2v" are given in Figs. 84A to 84C.  As shown in these figures, image data "VideolOO.m2v" is a world travel guide which has the same contents 100S to 103S as shown in Figs. 1 to 3.  Image data "Videol04.m2v" is a Japan travel guide which has the same contents 104S, 105S, 105S', and 105" as shown in Figs. 1 to 3. "Videol06.m2v", meanwhile, is a China travel guide whose content is not illustrated in Figs. 1 to 3.  This is also the case for the<br>
1<br>
"Audio data" column in the construction information table 8201.<br>
The sets of navigation information which have the filenames "NavilOO-0.nif" ... in the "Navigation information" column in the construction information table 8201 are stored in the navigation information storage unit 108.  Figs. 85 and 86 show the correspondence between the sets of navigation information in the construction information table 8201 and each of the scenes in Figs. 1 to 3.  Here, Fig. 85 and Fig. 86 are the left and right sides of the line A-A'.<br>
The construction information for the contents with the content numbers 100 to 104 in construction information table 8201 represents the contents 100S to 104S in Figs. 85 and 86.  In the present example, the content numbers correspond<br>
the content number 100, which is to say the stream-based content 100S.<br>
The page-based contents in Figs. 85 and 86 are included in the contents shown by the construction information table 8301, with the content 104P in particular corresponding to the content representing the weather forecast for Japan (with a main menu for selecting various regions) in content number 5 given in the second embodiment. However, it is somewhat different to the navigation information (shown in Fig. 54) for content number 5 in the second embodiment in that it additionally includes links to stream-based contents.  Fig. 83 shows the navigation information for content number 5 in the present embodiment. As can be seen by comparing this figure with Fig. 54, this navigation information additionally includes a hyperlink to content number 100.<br>
3-1-2 Navigation Information<br>
A detailed explanation of the navigation information is given in the first and second embodiments, so that the following explanation will instead focus on the correspondence between contents and navigation information shown in Figs. 85 and 86.<br>
Fig. 87 gives a specific example of the navigation information "NavilOO-0.nif".  This is used for the travel guide scenes for China, including scene 100S1 in Fig. 85.<br>
The construction information for content number 105 in the construction information 8201 represents contents 105S, 105S', and 105".  These contents 105S, 105S', and 105" for content 105S are an example where one content number represents a plurality of contents (here, with a ratio of 1 to 3).  This is to say, the navigation information "NavilOS-l.nif" corresponds to all of the contents 105S, 105S', and 105" using scripts which change the display of button objects and text information.  This switching of the display of button objects and text information is the same as in the first embodiment.<br>
t<br>
The construction information table 8301 in Fig. 82B is the same as that shown in Fig. 56 of the second embodiment. The image data and audio data indicated by the construction information table 8301 is stored in the presentation information storage unit 107 while the navigation information is stored in the navigation information storage unit 108.<br>
The interactive program represented by the construction information table. 8301 includes page-based contents for weather forecasts for around the world, in addition to the page-based contents for weather forecasts for Japan given in the second embodiment.  Here, content 100P shows the world weather forecast (with a main menu for selecting various countries).  The entry information stored in the construction information storage unit 109 indicates<br>
This navigation information "NavilOO-0.nif" has three button objects in its object definition table.  These three button objects correspond to the "Details", "Weather", and "China" buttons in scene 100S1 in Fig. 85.  As shown in the hyperlink table, the "Details" button has the content number 101 (content 101S) as its link destination.  The "Weather" button has the content number 10 (content 100P shown by the arrow in Fig. 85) as its link destination.  The "China" button, meanwhile, has the content number 106 as its link destination.  Here, while not shown in Fig. 85, this content<br>
number 106 represents the content for the China travel guide<br>
i which includes the video data "Videol06.m2v" described<br>
above.<br>
Fig. 88 gives a specific example of the navigation information "NavilOO-l.nif".  This is the same as the navigation information "NavilOO-0.nif", except that the button for "China" has been replaced with a button for "Japan".  The link destination of this button is the content number 104 (content 104S in Fig. 85) instead of the content number 106.  This is because the version of the navigation information is changed reflecting the change in the video content of content 100S from scenes giving a travel guide for China to scenes giving a travel guide for Japan.<br>
In the same way, Fig. 89 gives a specific example of the navigation information "NavilOO-2.nif", Fig. 90 gives a specific example of the navigation information "NavilOl-<br><br>
l.nif", Fig. 91 gives a specific example of the navigation information "NavilOl-2.nif", Fig. 92 gives a specific example of the navigation information "Navil02-l.nif", Fig. 93 gives a specific example of the navigation information "Navil03-l.nif", and Fig. 94 gives a specific example of the navigation information "Navil04-l.nif".<br>
Fig. 95, meanwhile, gives a specific example of the navigation information "Navil05-l.nif".  This navigation information "NavilOS-l.nif" represents the navigation information for all of contents 105S, 105S', and 105".  The switching between contents 105S, 105S', and 105" is achieved by scripts.  This switching according to scripts is the same as in Fig. 48 of the first embodiment.<br>
As one example, the script for the hyperlink index number 0 is activated by the "Transport" button in content 105S, with the "Transport", "Accommodation", and "Return" buttons and "Nara...." picture (object indexes 0-3) being deleted from the display, and the "Getting to Nara" picture and "Return" buttons (object indexes 4, 5) being displayed. By doing so, the display is changed from 105S to 105S'.<br>
The script for handler index 3 is activated by the "Return" button in Content 105S, and deletes the picture "Getting to Nara" and the "Return" button (object indexes 4 and 5), in addition to heving the "Transport", "Accommodation", and "Return" buttons and the "Nara ..." picture (objects indexes 0-3) displayed.  By doing so, the<br><br>
display is switched from content 105S ' back to 105S.<br>
3-1-3 Navigation Information Table<br>
The navigation information described above is converted into navigation information tables by the navigation information table generating unit 5111 or by the navigation information table generating unit 113.<br>
In addition to generating the navigation information tables described in the first and second embodiments, the navigation information table generating units 5111, 113 set the respective identifiers in the "VE_comp_tag", the<br>
1<br>
"AE_comp_tag" and "NE_id" columns of the hyperlink table when the content number for the link destination is a stream-based content, or the respective identifiers in the "VE_id", the "AE_id" and "NE_id" columns of the hyperlink table when the content number for the link destination is a page-based content.<br>
Fig. 96 shows the navigation information table NVT (104.1) which is generated from the navigation information "Navil04-l.nif".  This navigation information table NVT (104.1) is such that each content number in the hyperlink table in "Navil04-l.nif" has been converted into a variety of identifiers.<br>
The column for hyperlink index number 2 in this figure has the stream-based content 105S as its link destination, and so is converted into the "VE comp_tag", "AE_comp_tag"<br>
and "NE_id" corresponding to content number 105.  This is also the case for the hyperlink table index number 2, which has been converted into the "VE_comp_tag", "AE_comp_tag" and "NE_id" corresponding to content number 100.<br>
The column for hyperlink index number 1 in this figure has the page-based content 5 (content 104P) as its link destination, and so is converted into the "VE_id", "AE_id" and "NE_id" corresponding to content number 5.  However, this content does not contain audio data, so that the items related to audio data have been omitted.<br>
3-1-4 Multiplexing<br>
The presentation information and navigation information described above are multiplexed by the data multiplexing unit 103 and the data multiplexing unit 5103.<br>
The data multiplexing unit 5103 multiplexes stream-based contents according to the construction information table 8201 in the same way as in the first embodiment.  The data multiplexing unit 103 multiplexes page-based contents according to the construction information table 8301, in the same way as in the second embodiment.  These processes are performed in parallel.<br>
The multiplexed stream representing the stream-based contents and the multiplexed stream representing the page-based contents are multiplexed into a multiplexed stream by the transmission unit 106 and are transmitted.<br>
Fig. 97 is a graphic representation of the transport stream multiplexed by the transmission unit 106.  In the same way as Figs. 29 and 70, the horizontal axis represents elapsed time while the vertical axis represents the content data and system information tables which are multiplexed at the same time.<br>
In Fig. 97, element 9701 represents the part of the multiplexed data stream where data for the stream-based contents has been multiplexed by the data multiplexing unit 5103.  Element 9702 represents the part of the multiplexed<br>
data stream where data for the stream-based contents has<br>
t been multiplexed by the data multiplexing unit 103.  Element<br>
9703 represents the part of the multiplexed data stream for the system information tables generated by the system information table generating unit 105.<br>
3-2 Reception Apparatus 9121<br>
Fig. 98 is a block diagram showing the construction of the reception apparatus 9121.<br>
The elements of the reception apparatus 9121 which are the same as the reception apparatus 121 of the second embodiment shown in Fig. 52 have been given the same reference numerals, so that the following explanation will instead focus on the differences.<br>
The differences with the reception apparatus 121 in Fig. 52 are that the reception apparatus 9121 includes a TS<br>
decoder unit 9123 and a reception control unit 9126 in place of the TS decoder unit 123 and the reception control unit 126.  Here, the filter condition storage unit 9131 in the TS decoder unit 9123 is also somewhat different.<br>
3-2-1 TS Decoder Unit 9123<br>
The TS decoder unit 9123 is equipped with the functions of both the TS decoder unit 5123 of the first embodiment and the TS decoder unit 123 of the second embodiment.  As a result, the TS decoder unit 9123 can handle both stream-based contents and page-based contents, and the filter condition storage unit 9131 stores all of the filter conditions of the filter condition storage unit 5131 and the filter condition storage unit 131 in the first and second embodiments, with the setting of these filter conditions being possible in the same way as before.<br>
Fig. 99 shows the filter condition table that is stored in the filter condition storage unit 9131.  This filter condition table 9131 stores a variety of filter conditions.  As shown in Fig. 99, these filter conditions are composed of a "PID", a "stream_id", a "table_id_extension", a "version_no", and an "output destination".  Each of these items is the same as in the first and second embodiments, and so will not be explained further.<br>
3-2-2 Reception Control Unit 9126<br>
The reception control unit 9126 is equipped with the functions of both the reception control unit 5126 in the first embodiment and the reception control unit 126 in the second embodiment.  As a result, the reception control unit 9126 is able to handle both stream-based contents and page-based contents.<br>
Figs. 100 and 101 are flowcharts showing the control conten fo the reception control unit 9126.  In Fig. 100, S2402, S2404, S2406, and S2408 represent the processes with<br>
the same reference numerals in Fig. 76.  In Fig. 101, S2410,<br>
S2412, S2414, S2416, and S2418 represent the processes with the same reference numerals in Fig. 76.  Also, in Fig. 101, S8110, S8112, and S8114 represent the processes with the same reference numerals in Fig. 36.  However, the "cur_VE__comp_tag", "cur_AE_comp_tag", "new_VE_comp__tag", and "new_AE_comp_tag" are also handled in S2406 and S2408.<br>
In Fig. 100, the reception control unit 9126 judges whether the various identifiers indicated in S2408 specify a stream-based content or a page^based content.  More specifically, the reception control unit 9126 judges that a stream-based content is specified when "new_VE_comp_tag" is included, and that a page_based content is specified when "new_VE_id" is included.<br>
Here, when the reception control unit 9126 judges that a stream-based content is specified, it performs the<br>
processing in S8110 onwards in Fig. 101, while when the reception control unit 9126 judges that a page-based content is specified, it performs the processing in S2410 onwards in Fig. 101.  The details of this processing are the same as the corresponding processes in the first and second embodiment.<br>
3-2-3 Other Modifications<br>
In this third embodiment, the distinction between page-based contents and stream-based contents is made according to whether a "VE_comp_tag" or a "VE_id" is specified, but this need not be the case, with it being possible to provide other identifiers for making this distinction.<br>
The construction information storage unit 109 is described as storing separate construction information tables for stream-based contents and page-based contents, although both types of contents may be provided in the same table.  As one example, flags may be provided to indicate stream-based contents or page-based contents with these flags being multiplexed with the corresponding contents by the data multiplexing units 103, 5103.<br>
In the first and third embodiments, the multiplexing of the video data included in stream-based contents is commenced at the same time as the start of multiplexing, although the video data may be multiplexed with only a<br>
partial overlap of reproduction times.<br>
In the first and third embodiments, the video data in the stream-based contents are described with the premise of full-screen display on the display screen of the reception apparatus 5121, although video data of a smaller size may be used.  As one example, the video data may be one quarter of the size of the video data, so that the total number of contents can still be increased when there is an upper limit for the bit rate which may be assigned to the interactive program.  When doing so, the image data may be still be<br>
combined with objects described in the navigation<br>
i<br>
information to give the reproduced image.  It is also possible for contents to be composed of a simultaneous display of between two and four quarter-screen sets of video data.<br>
The still images in the page-based contents of the second and third embodiments may also be image data which is smaller than the display screen.  It is also possible for one content to include a plurality of sets of image data. As one example, one content may include between two and four quarter screen still images.<br>
The still images may be used as background images with quarter-size sets of video data being reproduced on top of these.<br>
In the first to third embodiments, the scripts in the handler definition table of the navigation information may<br>
describe operations of the reception apparatus aside from the switching of the display of buttons and graphics.  As one example, the scripts may describe sounds (beeps or clicks) to be sounded when a button is selected or activated, or when an error occurs.  For the example of contents in an interactive program which includes shopping information, script may receive numerical inputs (prices) from the operator and calculate a total cost.<br>
The operation of the reception control unit shown in the flowcharts in the first to third embodiments may be achieved by software.  This is to say, a program which includes these functions may be executed by a CPU to achieve the necessary control.  The remaining construction elements are achieved by hardware, so that almost the same hardware as a conventional digital satellite broadcast tuner may be used.  Accordingly, the reception apparatus described above can be realized by equipping a conventional digital satellite broadcast tuner with a program which realizes the functions of the reception control unit.  As one example, the program may be provided to a conventional digital satellite broadcast tuner using a recording medium, such as a ROM card, on which the program is recorded.  By doing so, the present invention may be achieved by making slight modifications to a conventional digital satellite broadcast tuner.<br>
Although the present invention has been fully<br>
described by way of examples with reference to accompanying drawings, it is to be noted that various changes and modifications will be apparent to those skilled in the art. Therefore, unless such changes and modifications depart from the scope of the present invention, they should be construed as being included therein.<br><br><br><br>
We claim:<br>
1. A broadcasting apparatus for broadcasting an interactive program composed of a plurality of contents that are linked to one another, the broadcasting apparatus comprising:<br>
•	first storing means for storing a plurality of sets of video data that each<br>
have an identifier, each set of video data being an element of a content<br>
that composes an interactive program;<br>
•	second storing means for storing a plurality of sets of control<br>
information that each have an identifier, each set of control information<br>
being another element of a content that composes an interactive<br>
program and each set of control information including a set of link<br>
information that shows an identifier of a set of control information for a<br>
content that is a link destination;<br>
•	construction table storing means for storing a construction table<br>
showing correspondence between the sets of video data stored in the<br>
first storing means and the sets of control information stored in the<br>
second storing means for each content, wherein the content includes a<br>
plurality of control ^information and a valid period table, the valid<br>
period table indicating a valid period for a set of control information<br>
within the reproduction period of the corresponding set of video data,<br>
for each of the plurality of sets of control information included in a<br>
given content,;<br>
•	multiplexing means for reading the plurality of sets of video data stored<br>
in the first storing means and the plurality of sets of control information<br>
stored in the second storing means as respective digital data streams, and<br>
for multiplexing the digital data streams to generate a multiplexed<br>
stream;<br>
•	multiplexing control means for referring to the construction table and<br>
controlling the multiplexing means to multiplex the plurality of sets of<br>
video data and to repeatedly multiplex a given set of control information<br>
with the corresponding set of video data during the valid period of the<br>
given set of control information based on the valid period table, and<br>
appending a version number, reflecting the valid period of each set of<br>
control information, to each set of control information, in a given<br>
content; and<br>
broadcasting means for placing the multiplexed stream generated by the multiplexing means onto a digital broadcast wave and broadcasting the digital broadcast wave.<br>
2.	The broadcasting apparatus as claimed in Claim 1. wherein the<br>
multiplexing control means comprises:<br>
•	system information storing means for storing system information for<br>
specifying a multiplexed stream on a digital broadcast wave, wherein the<br>
system information includes a stream ID for each set of video data and a<br>
stream ID for each set of control information;<br>
•	identification information appending means for converting an identifier<br>
of a set of video data and an identifier of a set of control information<br>
respectively into first identification information and second identification<br>
information, based on the system information, for appending the first<br>
identification information to the set of video data, and for appending the<br>
second identification information to the set of control information; and<br>
•	link destination information converting means for converting the link<br>
information in a navigation table into the first identification information<br>
and second identification information for the set of video data and set of<br>
control information of each content that is a link destination,<br>
wherein the multiplexing means generates the multiplexed stream using the system information, the first identification information, and the second identification information.<br>
3.	The broadcasting apparatus as claimed in Claim 2. wherein the first<br>
identification information is expressed as a unique stream ID for each set of<br>
video data and the second identification information is expressed as a<br>
combination of a stream ID that is common to all sets of control information<br>
in a content and a unique parameter for each set of control information in the<br>
content.<br>
4.	The broadcasting apparatus as claimed in Claim 3, wherein each set of<br>
control information stored by the second storing means comprises a set of link<br>
information showing contents that are link destinations and supplementary<br>
images representing menu items for each link destination.<br>
5.	The broadcasting apparatus as claimed in Claim 4.<br>
wherein at least one set of control information comprises:<br>
•	at least two groups of a set of link information and supplementary<br>
images;<br>
•	a set of initial information showing a group of a set of link information<br>
and supplementary images that is valid at a start of reproduction by a<br>
reception apparatus for a content including the present set of control<br>
information; and<br>
•	a set of script information that changes a valid setting in the reception<br>
apparatus in accordance with a user operation.<br><br>
6.	The broadcasting apparatus as claimed in Claim 5. wherein each group of<br>
a set of link information and supplementary image further includes a set of<br>
additional information representing one of text and a graphic image that is to<br>
be displayed superimposed onto the corresponding video data.<br>
7.	The broadcasting apparatus as claimed in Claim 3,<br>
wherein at least one set of control information comprises:<br>
•	a plurality of sets of' additional information representing one of text and<br>
a graphic image that is to be displayed superimposed onto the<br>
corresponding video data; and<br>
•	a set of script information that validates one of the sets of additional<br>
information within a reception apparatus, in accordance with a user<br>
operation.<br>
8.	The broadcasting apparatus as claimed in Claim 2, wherein the<br>
multiplexing control means further includes:<br>
•	a bandwidth assigning table that shows a bandwidth for each content,<br>
the bandwidth being for the digital data stream of the sets of control<br>
information in a content that are repeatedly transmitted and being a<br>
bandwidth that is part of a total bandwidth of the multiplexed stream,<br>
wherein the second determining means determines the multiplexing start positions of sets of control information in accordance with the bandwidths given in the bandwidth assigning table, and<br>
wherein the multiplexing means multiplexes the digital data streams in accordance with the bandwidth assigning table.<br>
9. The broadcasting apparatus as claimed in Claim 1. comprising:<br>
•    third storing means for storing sets of audio data that correspond to the sets of video data,<br>
wherein the construction table storing correspondence between a set of video data, a set of audio data, and a set of control information included in each of the plurality of contents,<br>
and wherein the multiplexing means also multiplexes the sets of audio data stored in the third storing means into the multiplexed stream.<br>
10.	The broadcasting apparatus as claimed in Claim 1.<br>
wherein control information includes a set of link information showing contents that are link destinations and a set of time information indicating a valid period for the present control information within the reproduction period of the set of video data corresponding to the present set of control information, and the plurality of control information included in the content determines a set of link information and a set of time information for a content of a corresponding set of video data.<br>
11.	The broadcasting apparatus as claimed in Claim 1T<br>
wherein the multiplexing control means controls the multiplexing means to repeatedly multiplex each set of control information with the corresponding video data starting from a predetermined time before the valid period of the set of control information, the predetermined time being sufficiently long'to enable a reception apparatus to process a set of control information.<br>
12.	The broadcasting apparatus as claimed in Claim \, wherein at least one<br>
set of control information includes a set of additional information representing<br>
one of text and a graphic image that is to be displayed superimposed onto the<br>
corresponding video data.<br>
13.	A reception apparatus for receiving a broadcast wave including an<br>
interactive program composed of a plurality of contents that are linked to one<br>
another, wherein the broadcast wave includes a multiplexed stream into which<br>
different sets of video data have been multiplexed with a plurality of sets of<br>
control information showing a link to another content, the sets of control<br>
information being repeatedly multiplexed, each content corresponding to a<br>
plurality of sets of control information which have different valid periods, each<br>
set of control information having a version number which reflects the valid<br>
period,<br>
the reception apparatus comprising:<br>
•	extracting means for extracting a set of video data and a set of control<br>
information in a same content as the set of video data;<br>
•	storing means for storing the extracted set of control information;<br>
•	reproducing means for reproducing the extracted set of video data and<br>
outputting an image signal;<br>
•	operation means for receiving a user operation that indicates a content<br>
switching; and<br>
•	control means for controlling the extracting means to extract another<br>
content indicated by the set of control information stored in the storing<br>
means, in accordance with the user operation, wherein the control<br>
means controls the extracting means to extract a set of control<br>
information which has a next version number, when one set of control<br>
information has been extracted by the extracting means.<br>
14. The reception apparatus as claimed in Claim 13,<br>
wherein first identification information is appended to each set of video data and second identification information is appended to each set of control information, and wherein the sets of control information include first identification information and second identification information which express a content of a link destination,<br>
wherein the extracting means comprises:<br>
•	first judging means for judging the first identification information<br>
appended to sets of video data in the broadcast wave;<br>
•	second judging means for judging the second identification information<br>
appended to sets of control information in the broadcast wave;<br>
•	obtaining means for obtaining a set of video data and when the first<br>
judging means judges that the first identification information coincides<br>
with specified identification information indicated by the control means<br>
and obtaining a set of control information when the second judging<br>
means judges that the second identification information coincides with<br>
specified identification information,<br>
wherein the reproducing means reproduces the set of video data obtained by the obtaining means, and the storing means stores the set of<br>
control information obtained by the obtaining means.<br>
15.	The reception apparatus as claimed in Claim 14.<br>
wherein the link information includes an identifier of a set of video data and an identifier of a set of control information which show a content of a link destination,<br>
wherein the first identification information and second identification information are IDs (identifiers) of digital data streams which represent a set of video data and a set of control information in the multiplexed stream,<br>
wherein a correspondence table, showing correspondence between the identifiers for sets of video data and the first identification information and correspondence between the identifiers for sets of control information and the second identification information, is multiplexed into the multiplexed stream and repeatedly transmitted, and<br>
wherein the extracting means extracts the correspondence table and the control means refers to the correspondence table, converts an identifier of the set of video data included in the link information into first identification information and an identifier of the set of control information into second identification information and informs the extracting means of the converted first and second identification information<br>
16.	The reception apparatus as claimed in Claim 15. wherein the first<br>
identification information includes a packet identifier in accordance with<br>
MPEG2 (Moving Pictures Experts Group 2) standard.<br>
17.	The reception apparatus as claimed in Claim 16. wherein the first<br>
identification information is a combination of a packet identifier in accordance<br>
with MPEG2 (Moving Pictures Experts Group 2) standard and another<br>
parameter.<br>
18.	The reception apparatus as claimed in Claim 14,<br>
wherein at least one set of control information includes link information showing a content of a link destination and supplementary images that include a menu item image for each link destination,<br>
wherein the reproducing means includes:<br>
•	video data reproducing means for reproducing the set of video data<br>
obtained by the obtaining means; and<br>
•	image reproducing means for reproducing supplementary images stored<br>
by the storing means superimposed onto the video data,<br>
wherein the operation means receives a user selection of a menu item image, and<br>
wherein the control means determines the first identification information and the second identification information of a link destination content in accordance with the link information and the menu item image selected by the user.<br>
19.	The reception apparatus as claimed in Claim 18.<br>
wherein at least one set of control information includes additional information which expresses one of a text image and a graphics image, and wherein the reproducing means additionally reproduces one of the text image and graphics image stored in the storing means superimposed onto the video data.<br>
20.	The reception apparatus as claimed in Claim 19.<br>
wherein at least one set of control information includes a plurality of sets of additional information which each express one of a text image and a graphics image to be displayed superimposed onto the video data, and a set of script information that validates one of the sets of additional information within a reception apparatus, in accordance with a user operation,<br>
wherein the control means determines a valid set by interpreting and executing the script information stored in the storing means, and<br>
wherein the reproducing means reproduces one of the text image and the graphics image included in the valid set of additional information based on a result of interpreting and executing by the control means.<br>
21.	The reception apparatus as claimed in Claim 20.<br>
wherein at least one set of control information includes:<br>
•	at least two groups that each include a set of link information and a<br>
supplementary image;<br>
•	a set of initial information showing a valid group at a start of<br>
reproduction by the reception apparatus of a content to which the set of<br>
control information belongs; and<br>
•	a set of script information which changes a setting of a valid group in the<br>
reception apparatus in accordance with a user operation,<br>
wherein the control means determines a valid group by interpreting and executing the initial information and script information stored in the storing means,<br>
wherein the reproducing means reproduces the supplementary images in<br>
the valid group in accordance with an interpreting and executing result of the control means.<br>
22.	The reception apparatus as claimed in Claim 14.<br>
wherein a set of entry information giving first identification information and second identification information for the content to be reproduced first is multiplexed into the multiplexed stream,<br>
wherein the control means sends an indication to the extracting means to extract the set of entry information when the operation means has received a selection operation for a multiplexed stream from a user,<br>
wherein the extracting means further includes:<br>
•	entry information extracting means for receiving the indication from the<br>
control means and extracting the set of entry information from the<br>
multiplexed stream; and<br>
•	entry information storing means for storing the set of entry information<br>
extracted by the entry information extracting means,<br>
wherein the control means gives the obtaining means an indication of the first identification information and second identification information included in the entry information as the specified identification information.<br>
23.	The reception apparatus as claimed in Claim 13.<br>
wherein the multiplexed stream includes sets of audio data corresponding to the sets of video data,<br>
wherein the extracting means extracts a set of audio data corresponding to a set of video data from the broadcast wave,<br>
and wherein the reproducing means additionally reproduces the extracted set of audio data.<br>
24.	The reception apparatus as claimed in Claim 13.<br>
wherein the sets of control information each include valid period information showing a valid period for the set of control information,<br>
wherein each content has a plurality of sets of control information which have different valid periods, and<br>
wherein the reproducing means reproduces supplementary images in the set of control information stored in the storing means during the valid period of the set of control information.<br>
25. A broadcasting system which comprises a broadcasting apparatus, and a reception apparatus for achieving interactiveness using a broadcast wave, the broadcasting apparatus comprising:<br>
•	first storing means for storing a plurality of sets of video data that each<br>
have an identifier, each set of video data being an element of a content<br>
that composes an interactive program;<br>
•	second storing means for storing a plurality of sets of control<br>
information that each have an identifier, each set of control information<br>
being another element of a content that composes an interactive<br>
program and each set of control information including a set of link<br>
information that shows an identifier of a set of control information for a<br>
content that is a link destination;<br>
•	construction table storing means for storing a construction table<br>
showing correspondence between the sets of video data stored in the<br>
first storing means and the sets of control information stored in the<br>
second storing means;<br>
•	multiplexing means for reading the plurality of sets of video data stored<br>
in the first storing means and the plurality of sets of control information<br>
stored in the second storing means as respective digital data streams, and<br>
for multiplexing the digital data streams to generate a multiplexed<br>
stream;<br>
•	multiplexing control means for referring to the construction table and<br>
controlling the multiplexing means to multiplex the plurality of sets of<br>
video data and to repeatedly multiplex a set of control information<br>
corresponding to a set of video data; and<br>
•	broadcasting means for placing the multiplexed stream generated by the<br>
multiplexing means onto a digital broadcast wave and broadcasting the<br>
digital broadcast wave,<br>
wherein each content includes a plurality of sets of control information,<br>
wherein the construction table storing means includes a valid period table indicating a valid period for a set of control information within the reproduction period of the corresponding set of video data, for each of the plurality of sets of control information included in a given content,<br>
wherein the multiplexing control means controls the multiplexing means to repeatedly multiplex a given set of control information with the corresponding set of video data during the valid period of the given set of<br>
control information, based on the valid period table,<br>
wherein the multiplexing control means controls the multiplexing means to repeatedly multiplex each set of control information with the corresponding video data starting from a predetermined time before the valid period of the set of control information, the predetermined time being sufficiently long to enable a reception apparatus to process a set of control information, and<br>
wherein the multiplexing control means appends a version number, reflecting the valid period of each set of control information, to each set of control information in a given content,<br>
the reception apparatus comprising:<br>
•	extracting means for extracting a set of video data and a set of control<br>
information in a same content as the set of video data;<br>
•	storing means for storing the extracted set of control information;<br>
•	reproducing means for reproducing the extracted set of video data and<br>
outputting an image signal;<br>
•	operation means for receiving a user operation that indicates a content<br>
switching; and<br>
•	control means for controlling the extracting means to extract another<br>
content indicated by the set of control information stored in the storing<br>
means, in accordance with the user operation,<br>
wherein each content corresponds to a plurality of sets of control information which have different valid periods,<br>
wherein each set of control information has aversion number which reflects the valid period, and<br>
wherein the control means controls the extracting means to extract a set of control information which has a next version number, when one set of control information has been extracted by the extracting means.<br>
26.	A   broadcasting   apparatus   for   broadcasting   an   interactive   program<br>
composed of a plurality of contents that are linked to one another substantially<br>
as herein described with reference to the accompanying drawings<br>
27.	A reception apparatus substantially as herein described with reference to the<br>
accompanying drawings<br><br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ3OC1kZWwtMTk5Ny1hYnN0cmFjdC5wZGY=" target="_blank" style="word-wrap:break-word;">2478-del-1997-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ3OC1kZWwtMTk5Ny1jbGFpbXMucGRm" target="_blank" style="word-wrap:break-word;">2478-del-1997-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ3OC1kZWwtMTk5Ny1jb3JyZXNwb25kZW5jZS1vdGhlcnMucGRm" target="_blank" style="word-wrap:break-word;">2478-del-1997-correspondence-others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ3OC1kZWwtMTk5Ny1jb3JyZXNwb25kZW5jZS1wby5wZGY=" target="_blank" style="word-wrap:break-word;">2478-del-1997-correspondence-po.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ3OC1kZWwtMTk5Ny1kZXNjcmlwdGlvbiAoY29tcGxldGUpLnBkZg==" target="_blank" style="word-wrap:break-word;">2478-del-1997-description (complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ3OC1kZWwtMTk5Ny1kcmF3aW5ncy5wZGY=" target="_blank" style="word-wrap:break-word;">2478-del-1997-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ3OC1kZWwtMTk5Ny1mb3JtLTEucGRm" target="_blank" style="word-wrap:break-word;">2478-del-1997-form-1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ3OC1kZWwtMTk5Ny1mb3JtLTE5LnBkZg==" target="_blank" style="word-wrap:break-word;">2478-del-1997-form-19.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ3OC1kZWwtMTk5Ny1mb3JtLTIucGRm" target="_blank" style="word-wrap:break-word;">2478-del-1997-form-2.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ3OC1kZWwtMTk5Ny1mb3JtLTMucGRm" target="_blank" style="word-wrap:break-word;">2478-del-1997-form-3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ3OC1kZWwtMTk5Ny1mb3JtLTQucGRm" target="_blank" style="word-wrap:break-word;">2478-del-1997-form-4.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ3OC1kZWwtMTk5Ny1mb3JtLTYucGRm" target="_blank" style="word-wrap:break-word;">2478-del-1997-form-6.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ3OC1kZWwtMTk5Ny1wYS5wZGY=" target="_blank" style="word-wrap:break-word;">2478-del-1997-pa.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ3OC1kZWwtMTk5Ny1wZXRpdGlvbi0xMzcucGRm" target="_blank" style="word-wrap:break-word;">2478-del-1997-petition-137.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ3OC1kZWwtMTk5Ny1wZXRpdGlvbi0xMzgucGRm" target="_blank" style="word-wrap:break-word;">2478-del-1997-petition-138.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ3OC1kZWwtMTk5Ny1wZXRpdGlvbi1vdGhlcnMucGRm" target="_blank" style="word-wrap:break-word;">2478-del-1997-petition-others.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="214748-an-improved-process-for-preparing-granular-urea-from-a-urea-solution.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="214750-a-display-mointing-assembly-for-mounting-an-electronic-display.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>214749</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>2478/DEL/1997</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>09/2008</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>29-Feb-2008</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>15-Feb-2008</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>01-Sep-1997</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>MATSUSHITA ELECTRIC INDUSTRIAL CO.LTD.</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>1006, OAZA KADOMA, KADOMA-SHI, OSAKA-571, JAPAN</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>TOSHIYA MORI</td>
											<td>1-7-5-603 SHINZAIKE, SETTSU-SHI, OSAKA-FU,566, JAPAN</td>
										</tr>
										<tr>
											<td>2</td>
											<td>NAOYA TAKAO</td>
											<td>16-3-712, JOUSYOUJI-CHO, KADOMA-SHI, OSAKA-FU 571, JAPAN</td>
										</tr>
										<tr>
											<td>3</td>
											<td>TATSUYA SHIMOJI</td>
											<td>30-3-1102, MIMINAMIMACHI,NEYAGAWA-SHI, OSAKA-FU 572, JAPAN</td>
										</tr>
										<tr>
											<td>4</td>
											<td>KAZUO OKAMURA</td>
											<td>4-5-8-302, HOSHIGAOKA, HIRAKATA-SHI, OSAKA-FU 573, JAPAN</td>
										</tr>
										<tr>
											<td>5</td>
											<td>JUNICHI HIRAI</td>
											<td>2-20-8-503, YAMATE-CHO, SUITA-SHI, OSAKA-FU 564, JAPAN</td>
										</tr>
										<tr>
											<td>6</td>
											<td>MASAHIRO OASHI</td>
											<td>43-22, NOMURAMOTOMACHI, HIRAKATA-SHI, OSAKA-FU 573-01, JAPAN</td>
										</tr>
										<tr>
											<td>7</td>
											<td>TAKASHI KAKIUCHI</td>
											<td>2-10-7, KITAJO-CHO, TOYONAKA-SHI, OSAKA-FU 561, JAPAN</td>
										</tr>
										<tr>
											<td>8</td>
											<td>YUKI KUSUMI</td>
											<td>3-15-40, SEKIYAKITA, KASHIBA-SHI, NARA-KEN 639-02, JAPAN</td>
										</tr>
										<tr>
											<td>9</td>
											<td>YOSHIYUKI MIYABE</td>
											<td>3-9-11-505, HIGASHIMIKUNI, YODOGAWA-KU, OSAKA-SHI, OSAKA-FU 532, JAPAN</td>
										</tr>
										<tr>
											<td>10</td>
											<td>IKUO MINAKATA</td>
											<td>2-34-3, SAKURAGAKO, SEIKA-CHO, SOURAKU-GUN, KYOTO-FU 619-02, JAPAN</td>
										</tr>
										<tr>
											<td>11</td>
											<td>MASAYUKI KOZUKA</td>
											<td>19-1-1207, ISHIZUMINAMI-MACHI, NEYAGAWA-SHI, OSAKA-FU, 572, JAPAN</td>
										</tr>
										<tr>
											<td>12</td>
											<td>YOSHIHIRO MIMURA</td>
											<td>2-22-513, TAKATSUKA-CHO, HIRAKATA-SHI, OSAKA-FU, 573, JAPAN</td>
										</tr>
										<tr>
											<td>13</td>
											<td>SHINJI INOUE</td>
											<td>19-1, MATSUYA-CHO, NEYAGAWA-SHI, OSAKA-FU 572, JAPAN</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04N 7/16</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>N/A</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td></td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>9-56687</td>
									<td>1997-03-11</td>
								    <td>Japan</td>
								</tr>
								<tr>
									<td>2</td>
									<td>8-230015</td>
									<td>1996-08-30</td>
								    <td>Japan</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/214749-digital-broadcasting-apparatus by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 08:47:05 GMT -->
</html>
