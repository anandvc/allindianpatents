<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/192699-a-process-control-loop by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 03:02:34 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 192699:A PROCESS CONTROL LOOP</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">A PROCESS CONTROL LOOP</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A variable Horizon Predictor (VHP) compensates for dead time, measured disturbances, and time variant dynamics in process control loops. The VHP is comprised of a process model, an uncorrected prediction vector unit, a prediction correction unit, a corrected prediction vector unit, and a horizon selection unit 54. The VHP applies a controller output signal to the process model to form a prediction vector that is stored in the uncorrected prediction vector unit and predicts the process output signal over a prediction horizon. The prediction is corrected by the prediction correction unit, which compares the prediction vector to the process output signal. The corrected prediction vector is then stored in the corrected prediction vector unit. The horizon selection unit isolates a portion of the prediction vector to form a subvector and feeds the subvector to an error vector calculator to form an error signal that is applied to the controller. A multivariable interactive control system is implemented by coupling plurality of VHPs and a plurality of loop interaction compensators to a process having a plurality of control fnputs and a plurality of control outputs. PRICE: THIRTY RUPEES</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td> <br><br><br><br>
The present invention is a Variable Horizon Predictor that provides a prediction of a controlled process output.  More specifically, the Variable Horizon Predictor of the present invention provides a classic feedback loop with properties of a predictive control loop, thereby compensating for dead time and time variant dynamics.<br>
In the control art, traditional feedback controllers dominate control practice.  Traditional feedback controllers include linear controllers, such as the proportional (P) controller, the proportional-integral (PI) controller, or the proportional-integral-derivative (PID) controller, and non-linear controllers, such as the fuzzy logic (FL) controller.<br>
However, feedback controllers do not perform well with processes dominated by dead time and processes having time-variant dynamics.  In addition, feedback controllers do not perform well with multivariable processes, where interactions exist between the process variables.<br>
Several predictive control techniques have been developed to address the limitations of feedback controllers, but none of these techniques has displaced the feedback controller from its dominant position.<br><br>
SUMMARY OF THE INVENTION<br>
The present invention is a Variable Horizon Predictor (VHP) that may be used with any type of control algorithm, compensates for dead time ' and time variant dynamics in process control loops, and may be used with interactive multivariable processes. The VHP applies a controller output signal to a process model to form a prediction vector that predicts the process output signal over a prediction horizon.  The prediction is corrected by comparing the prediction vector to the process output signal.  A horizon selector isolates a prediction subvector of the prediction vector, which is fed back to an adder to form the error signal that is applied to the controller.  The subvector may comprise between one element of the prediction vector and the entire prediction vector.<br>
In a first mode of operation, the VHP of the present invention is configured to provide a prediction of the output of the controlled process at a future time based on the dead time of the process.<br>
In a second mode of operation, the VHP of the present invention is configured to provide a prediction vector of the controlled process that includes a number of predictions at different times in the future.  In this mode, an error vector is computed by subtracting the prediction vector from a set point prediction vector.  If the controller expects a single error value, then the error vector can be converted into a weighted average to form an error scalar, and the error scalar can be applied to the controllen<br><br>
Finally, both of these modes may be used in a multi variable control system, wherein the controlled process has multiple process inputs and multiple process outputs. In a multivariable control system, a VHP is provided for each process output, and a control loop is provided for each process input. The VHPs compensate for measured disturbances, dead time, time variant dynamics, and predicted errors in neighboring control loops.<br>
Accordingly, the present invention provides a process control loop having a controller coupled to control a process , wherein the controller has a controller output for providing a control signal and a controller input for receiving an error signal, and the process has a process input for controlling a process variable, with the process input coupled to the controller output to receive the control signal, and a process output for providing a process output signal representative of the process variable characterized in that: a variable predictor is coupled between the controller and the process the variable horizon predictor comprising a process model having a model input coupled to the controller output to receive the control signal and a model response output for providing a model response signal based on the control signal; a prediction vector unit having a prediction vector output for providing a prediction vector and a model response input coupled to the model response output of the process model to receive the model response signal, wherein the prediction vector comprises predicted future values of the process output signal; a horizon selection unit having a prediction subvector output for providing a selected subvector of the prediction vector and a prediction vector input coupled to the prediction vector output of the prediction vector unit to receive the prediction vector, wherein the horizon selection unit selects a prediction subvector from the prediction vector; and an error scalar/vector calculator having an error signal output coupled to the controller input and a subvector input coupled to tiie subvector output of the horizon selection unit to receive the subvector, wherein the error scalar/vector calculator produces an error signal based on a set point signal and the prediction subvector.<br><br>
BRIEF DESCRIPTION OF THE DRAWINGS '<br>
Figure I is a block diagram of a prior art<br><br><br>
proportional (P) controller, the proportional-integral (PI) controller, and the proportional-integral-derivative (PID) controller, and nonlinear controllers, such as the fuzzy logic (FL) controller.<br>
Feedback controller 12 receives an error signal e(t)   from adder 16 and processes the error signal using control parameters to form the control signal u(t).       Process 14 receives the control signal u(t)   and exhibits some type of response that is evident in the output signal y(t).     The output signal y(t)   is fed back to adder 16, where it is subtracted from the set point signal r(t)   to produce the error signal e(t),   which represents the difference between the desired process output and the current process output.<br>
Control loop 10 may represent one of many different types of industrial processes.  For example, assume process 14 comprises a mixing tank that must be maintained at a specified temperature. In this example, the output signal y(t)   represents the measured temperature of the tank, the set point input r(t)   represents the desired temperature of the tank, the error signal e(t)   represents the difference between the set point temperature and the measured temperature and the control signal u(t)   is used to control a device that applies heat to the tank.<br>
Assume that in this example, the device that applies heat to the tank is an electric heating element that responds guickly to the control signal u(t).     Figure 2 shows the response of process 14 for a control loop having such a device, with curve 18 representing a change in the set point signal r(t) from SPQ to SPi at time k,   and curve 2 0 representing<br><br>
the response of process 14 at output signal y(t). Because the heating element responds quickly to the control signal u(t),   curve 20 begins to move toward the new set point almost immediately after the set '  point change.<br>
Now assume that the device that applies heat to the tank is a boiler that generates steam, with a substantial length of pipe connecting a heat exchanger in the tank to the boiler, and a valve having a valve positioner controlled by the control signal u(t)   controlling the flow of steam through the pipe.  Figure 3 shows the response of process 14 for a control loop having such a configuration, with curve 22 representing a change in the set point signal r(t)   from SPQ to SPj at time k,   and curve 24<br>
representing the response of process 14 at output signal y(t).     Because the steam must travel the length of the pipe before reaching the heat exchanger, curve 2 0 does not begin to move toward the new set point until time d.  Time d is known in the control art as "dead time", and refers to a delay between a control action contained in the signal u(t),   and the beginning of a response to the control action in the signal y(t).<br>
The dominant time constant of a process is defined as the time required for the output signal to reach about 63% of the steady-state output value of the output signal after application of a unit step signal to the process input, assuming that the process has no dead time.  Feedback controllers perform well when dead time is relatively small compared to the dominant time constant of the process under control.  However, the performance of feedback controllers deteriorates as dead time<br><br>
approaches the dominant time constant of the process.<br>
A number of solutions have been developed to compensate for dead time.  Typically, these solutions involve the use of a mathematical model of the process to remove dead time from the feedback signal, thereby improving the quality of process control.  One of the most successful solutions to the problems caused by dead time is the Smith Predictor.<br>
Figure 4 is a block diagram of a prior art control loop 2 6 provided with a Smith Predictor. Loop 2 6 comprises feedback controller 28, process under control 30, process model (without dead time) 32, dead time delay unit 34, and adders 36, 38, and 40.<br>
Feedback controller 28 receives an error signal e2(t)   from adder 40 and processes the error signal using control parameters to form the control signal u(t).       Process 30 receives the control signal u (t).  As a consequence of the action of the control signal u(t),   the process exhibits some type of response that is evident in the output signal y(t).  Feedback controller 28 has a transfer function Gy-'(i(i3) ,   and process under control 3 0 has a<br>
transfer function Gp(iw)<br>
Together, process model 3 2 and dead time delay unit 34 form a model of process 30. Process model 32 has a transfer function G'p(ioi) , which approximates the process transfer function Gp(i(j}) , but without dead time. As used herein, a variable label having a horizontal bar (e.g., G'p(i(ji)) represents a prediction of a physical signal, or a model that generates a prediction.<br><br>
In a control loop having a Smith Predictor, the controlled process is modeled as a first order function plus dead time.  Therefore, the transfer function G'p(io3)   is equal to the first order function component of   In Figure 4,<br>
process model 32 also receives control signal u(t). Accordingly, process model 3 2 produces signal<br>
  which is a prediction of the value of signal   at a time in the future equal to the dead time. The signal is fed back to adder 40, where it is subtracted from the error signal to form the error signal which is supplied to feedback controller 28.<br>
The signal is also provided to dead time delay unit 34, which delays the signal  by a time interval equal to the dead time to produce output prediction  The predicted output signal   is subtracted from the actual output signal   by adder 3 6 to form the signal  which represents the modeling error.  The signal is subtracted from the set point signal r(t)   at adder 3 8 to form the error signal ej(t).<br>
If process model 32 and dead time delay unit 34, taken together, form a perfect model of process 30, then the model error signal ^i^(t)   will be zero and feedback controller 28 will receive an error signal equal to the set point signal minus the prediction.  However, in practice the model will never be perfect and the model error signal <br>
will be non-zero.  Accordingly, the Smith Predictor eliminates the effects of dead time to the extent that the model matches the process, but includes dead time when compensating for the effect of model error.<br><br>
The Smith Predictor works well for processes that have a constant dead time and dynamics that are accurately modeled by a first order approximation.  However, the Smith Predictor is sensitive to process model mismatch.  This is a significant problem because many industrial processes have complicated dynamics that are not closely approximated by a first order plus dead time model.  In addition, the Smith Predictor has difficultly coping with load disturbances and is not designed to operate with processes having multiple inputs and outputs.<br>
Many other techniques have been developed to operate with dead time dominant processes, interactive processes, and processes with time variant dynamics.  These techniques include Model Algorithmic Control (also known as Identification and Command) disclosed by J. P. Richalet, A. Rault, J. L. Testud, and J. Papon in "Model Predictive Heuristic Control: Applications to Industrial Processes," Automatica, Vol. 14, 1978, and Dynamic Matrix Control disclosed by C. R. Cutler and B. L. Ramaker in "Dynamic Matrix Control - A Computer Control Algorithm,"  The National Meeting of the American Institute of Chemical Engineers. Houston, Texas, April 1979.  These techniques are generally referred to as Model Predictive Control (MPC), and require that an engineer develop an accurate mathematical model of the process under control. MPC techniques successfully address many of the limitations of the Smith Predictor and traditional feedback controllers.  However, implementing MPC techniques requires sophisticated tools and a high level of engineering knowledge and skill.  MPC techniques have had a growing impact on the control<br><br>
industry.  However, classic linear feedback controllers, such as the proportional (P) controller, the proportional-integral (PI) controller, and the proportional-integral-derivative (PID) controller, and nonlinear feedback controllers, such as the fuzzy logic (FL) controller, continue to dominate control practice.<br>
Other techniques that operate with dead time dominant processes, interactive processes, and processes with time variant dynamics employ model-based algorithms.  These techniques include the Analytical Predictor Algorithm disclosed by C F. Moore in "Selected Problems in the Design and Implementation of Direct Digital Control," Ph.D. Thesis. Department of Chemical Engineering, Louisiana state University, 1969, Simplified Model Predictive Control, Disclosed by G. R. Arulalan and P. B. Deshpande in "Simplified Model Predictive Control," I &amp; E C Proc. Pes. Dev.. 25, 2, 1987, and the Q-PID controller disclosed by Pradeep B. Deshpande, Russel E. Hannula, Mohan A. Bhalodia, and Clay W. Hansen in "Achieve Total Quality Control of Continuous Processes," Chemical Engineering Progress,   July 1993.  These techniques require accurate mathematical models of the controlled processes, and the controller tuning process is cumbersome.  Therefore these techniques have not met with wide practical acceptance, although they have had a substantial academic impact.<br>
Accordingly, there is a need in the control industry for a control strategy that compensates for dead time, can operate effectively with a process having complex and time variant dynamics, does not require an exact mathematical model of the process under control, can compensate<br><br>
for load disturbances, and operate effectively with multivariable processes.<br>
The Variable Horizon Predictor (VHP) of the present invention fulfills these needs by combining the model based prediction abilities of MPC techniques with any control algorithm. Therefore, the VHP of the present invention can be configured as an add-on unit that can be coupled into a control loop having a traditional feedback controller.<br>
Figure 5 is a block diagram showing a control loop 42 provided with a VHP 41 of the present invention.  Control loop 42 comprises VHP 41, controller 44, and controlled process 46.  VHP 41 comprises error scalar/vector calculator 58, set point unit 59, and VHP prediction unit 43.  VHP prediction unit 43 comprises process model 48, prediction vector unit 51, and horizon selection unit 54.  Finally, prediction vector unit 51 comprises uncorrected prediction vector unit 49, prediction correction unit 50, corrected prediction vector unit 52, and adder 56.  The signals shown in Figure 5 are depicted as discrete signals, compared to the continuous signals shown in the previous figures.  Those skilled in the art will recognize that discrete signals can be converted to continuous signals, and continuous signals can be converted to discrete signals using techniques known in the art.<br>
Typically, digital control loops control the process by operating synchronously at time slots known as "scans" that are separated by "scan intervals."  During each scan, the signals at various locations of the control loop are sampled, and a control action is taken based on the samples.<br><br>
In Figure 5, the subscript k  refers to the state of control loop 42 at scan k.     Accordingly, the signal yu  represents the current output of process 46 (as measured during the last scan). Before the prediction is updated, the signal j^<br>
represents a prediction of the output of process 46 at scan k -  1.     After the prediction is updated, the signal yu  represents a prediction of what the output of process 46 will be at the next scan.  The subscript p  represents the outer edge of the prediction horizon, which will be described in greater detail below.<br>
Process 46 receives a control signal w^ from controller 44.  Process  46 is also shown receiving disturbance signal d/.,   which represents a measurable disturbance.  The signals Uj.  and du  cause process 4 6 to exhibit a response in the process output signal yj^.<br>
The signals Ur,  and d^  are also provided to process model 48, which contains step responses of the process to the signals UK  and dj^.     Uncorrected prediction vector unit 49 forms an uncorrected<br>
I,  )^	^^	}fC<br>
prediction vector [yf^   . . . y/r+n ] that contains predicted values of the process output signal for every future scan from time k  out to the edge of the prediction horizon, which is time p.  Adder 56<br>
compares the actual output of process 46 {yi^)   with<br>
— * the predicted output {y^  ) and generates a<br>
prediction error.  Prediction correction unit 5 0<br>
adjusts every element of the uncorrected prediction<br>
vector based on the prediction error to form the<br>
corrected prediction vector [yt-- • ■ y^+r,] » which is<br>
- stored iii corrected prediction vector unit 52.<br><br>
Horizon selection unit 54 selects a prediction subvector of prediction<br>
vector  which is then applied to error<br>
scalar/vector calculator 58.  In the simplest mode of operation of the present invention, the selected prediction subvector will be a single predicted value based on the process dead time.  This is represented in Figure 5 by the signal  In another mode of operation, the selected prediction subvector can comprise the entire prediction vector or a subset of the prediction vector.  This is represented in Figure 5 by the signal<br>
The prediction selected by horizon selection unit 54 is provided to error scalar/vector calculator 58.  Set point unit 59 must provide calculator 58 with a set point prediction vector having the same number of elements as the prediction subvector.  This vector may be generated by simply assuming that the future set point will be the current set point such that<br>
  Alternatively, the set<br>
point prediction vector may be shaped arbitrarily. For example, a control room operator may program a computer to raise a process set point slowly over a period of hours, in which case, the computer (represented by set point unit 59) can provide a set point prediction vector to error scalar/vector calculator 58 that reflects the anticipated change in the process set point.  Alternatively, the set point signal r^ may applied to a first order plus dead time filter to form a set point reference trajectory prediction vector such that a step change process set point from SPQ to SPj results in a<br><br>
set point reference trajectory prediction vector that predicts a smooth change in the set point signal from SPQ to SPj between scan k  and scan k+p.<br>
Error scalar/vector calculator 58 subtracts the prediction subvector from the set point prediction vector to form the error signal that is provided to controller 44.  For a single prediction point based on dead time, is equal to  For a plurality of prediction<br>
points, the error vector is equal to<br>
  where<br>
  Depending on the controller, the controller may receive the whole error vector, or a weighted average of the error vector may be formed and applied to the controller, as will be discussed in greater detail below.<br>
In one embodiment of the present invention, the prediction algorithm employed is that disclosed by Manfred Morari, N. L. Richer, and Evanghelos Zafiriou in a handout entitled "Model Predictive Control" distributed at Workshop Number 4 of the American Control Conference, which was held in Chicago, Illinois in June of 1992.  In this algorithm, the dynamics of the process are modeled by the response measured at the process output for a unit step signal applied to the process input and a unit step signal applied to the disturbance input. For the process input, the step response coefficients are assembled into a p x 1 matrix as follows: <br>
For the disturbance input, the step response coefficients are assembled into a p x 1 matrix as follows:<br><br><br>
Additional measured disturbances may be included in the prediction, if required.  The superscript "T" denotes a transposed matrix and the individual coefficients represent measurements of the output signal taken at intervals separated by the loop scan interval, with the first measurement taken at the first scan after the application of the unit step signal and the pth measurement taken at the scan corresponding to the outer limit of the desired prediction horizon.  If an analytical process model is available, the coefficients may be calculated.  The coefficients are stored in process model 48.<br>
When the variable horizon predictor of the present invention is initiated, the prediction vector YQ is initiated by setting all predictions<br>
contained in the vector to the current state of the process output signal.  In other words:<br>
YQ = [7o • • ■ Yp-if = [yo • • • yo]^-<br>
After every loop scan, the prediction vector is updated by shifting the vector one step into the future, and adjusting the vector to take into account the controller action that occurred in the last loop scan and disturbances measured in the last scan.  In matrix notation, this is represented as follows:<br><br>
where<br><br>
and is the change in the control input of the process at scan k-1.<br><br><br>
and is the observed change in the disturbance input at scan k-1,   and M is a p x p matrix that shifts the prediction vector into the future and copies  into the vector position of   For example for p = 5, the matrix M is:<br><br>
If the measured variable of the process represents an integrating action, then the last two digits of the last row of the matrix should be  instead of  After the prediction<br>
vector has been updated, it is stored in uncorrected prediction vector unit 49.<br>
Next, the prediction vector is corrected by prediction correction unit 50 to compensate for . modeling errors and unmeasured (or unmeasurable) disturbances.  The correction is performed by simply adding a quantity based on the difference to<br>
each element of the prediction vector as follows:<br><br>
where is the observed process output at scan k  and<br>
  is the prediction of the process output at scan k.     Typically, F is p x 1 unity vector.  However, F may also be a filter (such as a first order low-pass filter or other types of filters known in the art) to prevent the prediction correction from changing too much from scan to scan.  After the vector is corrected by prediction correction unit 50, it is stored in corrected prediction vector unit 52. Horizon selection unit 54 selects the prediction<br><br>
subvector from the prediction vector between times k and p and provides the prediction subvector to error scalar/vector calculator 58.<br>
When using the VHP of the present invention in its simplest mode of operation, horizon selection unit 54 will be configured to provide a single prediction point in the future related to the dead time of process 46.  It has been found that selection of a prediction a little farther in the future than the dead time provides sensitive control of the process, while selection of a prediction significantly farther in the future than dead time, and close to where the process step response reaches steady state, provides very stable and robust control of the process.<br>
In another mode of operation, the prediction subvector is used.  If<br>
the VHP of the present invention is being configured to operated with a classic feedback controller, then the controller will most likely expect a single error signal at the controller input.  Therefore, the error vector   must be formed<br>
into an error scalar.  The error scalar can be formed by computing a weighted average as follows:<br><br>
The values of a determine to what extent predicted error elements of the subvector are represented in the error scalar.  The effect of computing a scalar error from a weighted average of the error vector, and applying the scalar error to a classic feedback controller is to convert a classic feedback control loop into a predictive control loop that calculates control moves based on a series of<br><br>
predicted values, thereby eliminating dead time and provide more robust control of the process.<br>
In addition, if a process has a time-varying dead time that can be measured, the measured dead time can be provided to the horizon selection unit, which in turn will select the proper prediction based on the measured dead time.  For example, in the example discussed above, where dead time was caused by steam flowing through a pipe, assume that the steam is alternately provided by one of two boilers, with each boiler coupled to the process by a different length of pipe.  In this example, horizon selection unit 54 would be configured to select the prediction based on the boiler that was coupled to the process.<br>
It is contemplated that the VHP of the present invention will typically be used with a feedback controller, such as a P, PI, PID, or FL controller.  In such a configuration, a feedback controller tuned to provide integral control action (with minimal proportional control action and no derivative control) and coupled to the VHP of the present invention implements a simplified predictive algorithm.  This assertion is justified by considering that the least squares solution of the model predictive control technique disclosed by<br><br><br>
m  is the number of control moves calculated in the future (with the penalty matrix having a scalar value of ru for "one move ahead" control), S is a p<br>
X m  process dynamic matrix (which is equal to the step response vector A discussed above for "one move ahead" control), Eu is an error control vector over the prediction horizon such that:<br>
Ek = [ej,, . . ., ek+p]T, and the superscript "T" denotes a transposed matrix.<br>
When used to calculate "one move ahead" control moves (e.g., m =  1),   the denominator of the equation for Suj^ becomes a scalar equal to<br>
and the numerator becomes It can easily be seen that a "one move ahead" predictive control algorithm provides weighted integral control over the entire prediction horizon.  Every predicted error for every future loop scan is accounted for in every calculated control move, with an adequate penalty on each error prediction multiplied times the appropriate step response coefficient.<br>
The equation that defines the control move 8u^  can be further simplified by defining based on a single point in the future as follows:<br>
5uk = (airyi^e^+i) / (ai^ryj^ -f rf),<br>
which can be simplified to: where<br>
Ki = ai / (ai^ + (rVryp^).<br>
Accordingly, K^ is a predictive controller gain for<br>
control that is based on a predicted process error at a time instant at ^ + i in the future.  To implement this control algorithm using a classic<br><br>
feedback controller that has been coupled to the VHP of the present invention, the feedback controller gain is set to IC and horizon selection unit 54 is<br>
set to select a prediction at scan k + i.<br>
In another embodiment of the present invention, a pair of VHPs are used in a process control loop having a process with two inputs and two outputs and controlled by a pair of classic feedback controllers, with each feedback controller having a single error input and a single control output.  A process having two inputs and two outputs is known in the art as a 2 x 2 process.<br>
One predictive multivariable strategy known in the art defines controller moves for a 2 x 2 process as follows:<br>
where bui  is the change in the control signal supplied to the first input of the process, bu2  is the change in the control signal supplied to the second input of the process, elu^:  is the predicted process error of the first process output at scan k +  i, ^2j.^j  is the predicted process error of the second process output at scan k + j,   Kjj   is the gain of the first controller output with respect to the first predicted process error, Kj2  is the gain of the first controller output with respect to the second predicted process error, Ky]   is the gain of the second controller output with respect to the first predicted process error, K22  is the gain of the second controller output with respect to the second predicted process error, .<br><br>
Based on the above matrix, the individual control actions are as follows:<br><br>
In these equations, each controller action is based on two inputs, and each input must<br>
be multiplied by a separate gain.  However, classic feedback controllers typically have only one input. In accordance with the present invention, two classic feedback controllers coupled with two VHP prediction units and two loop interaction compensators implement the 2x2 control algorithm described above.  By rearranging the right side of each of the above equations, it can be seen that:<br><br>
Accordingly, the first classic feedback controller is configured to have a gain Kjj  and the second classic feedback controller is configured to have a gain K22/   with each feedback controller receiving an error signal based on the predicted error in the neighboring loop multiplied times a scaling factor plus the predicted error in the feedback controller's own loop.<br>
Figure 6 is a block diagram of a control system 60 having control loops 61 and 63 and 2x2 process 62.  Control loop 63 comprises process 62, controller 64, VHP prediction unit 68, and adders 72 I  and 74.  Control loop 61 comprises process 62,<br>
controller 66, VHP prediction unit 70, and adders 7 6 and 78.  Also included in control system 60 is loop interaction compensator 80, which provides additional compensation in loop 63 based on the error in loop 61, and loop interaction compensator<br><br>
82, which provides additional compensation in loop 61 based on the error in loop 63.  Each VHP prediction unit comprises a process model, uncorrected prediction vector unit, prediction correction unit, corrected prediction vector unit, horizon selection unit, and adder, such as process model 48, uncorrected prediction vector unit 49, prediction correction unit 50, corrected prediction vector unit 52, horizon selection unit 54, and adder 56 in Figure 5.  For simplicity, Figure 6 depicts VHP prediction unit 68 configured to provide a prediction for a single time point at scan k+j  and VHP prediction unit 70 configured to provide a prediction for a single time point at scan k+i   . However, VHP prediction units 68 and 70 may also be configured to provide prediction vectors which are subtracted from set point vectors to form error vectors that may be formed into scalars by computing weighted averages, as discussed above with reference to Figure 5.<br>
In Figure 6, each VHP prediction unit is configured to receive the control signals U2K  and UIK from controllers 64 and 66, respectively, and disturbance signal di.,   which represents a measurable<br>
disturbance.  The process model of each VHP prediction unit contains at least three step responses of the process, with a first step response representing the response of the output that is being predicted by the VHP prediction unit for a unit step signal applied to the first process input, a second step response representing the response of the output that is being predicted by the VHP prediction unit for a unit step signal applied to the second process input, and a third step response i; representing the response of the output that is<br><br>
being predicted by the VHP prediction unit for a unit step disturbance applied to the process. Accordingly, the equation given above for updating the prediction is modified as follows:<br>
where<br>
and is the change in the first control input of the process at scan k-1,<br>
and is the change in the second control input of the process at scan k-1,<br>
and is the observed change in the disturbance signal at scan k-1,   and Al and A2 are vectors storing step response coefficients measured at the output with respect to the first and second process inputs, respectively, and D is a vector storing step response coefficients measured at the output with respect to a disturbance.<br>
In Figure 6, VHP prediction unit 68 receives control signals U2K  and ulu  from controllers 64 and 66, respectively, and disturbance signal dj^, and provides a prediction signal y2f^_^_j,  which is a prediction of the output signal y2i^  at future scan k + J.  Prediction signal y2j.,j  is provided to adder 72, where it is subtracted from set point signal SP2 to form error prediction signal e2u,j.     Similarly, VHP 70 prediction unit receives control signals w2^ and ulj^  from controllers 64 and 66, respectively, and disturbance signal dj^,   and provides a prediction „ signal ylj^^j,   which is a prediction of the output signal ylj^  at future scan k  +i.  Prediction signal<br><br>
  is provided to adder 78, where it is subtracted from set point signal SPj to form error prediction signal <br>
Error prediction signal is also applied to loop interaction compensator 80 to form compensated error signal  which in<br>
turn is applied to adder 74 where it is added to error prediction signal      to form composite error prediction signal   Accordingly, composite error prediction signal is equal to<br>
  When composite error signal   is applied to controller 64, the resulting change in the controller output signal is:<br><br>
which is the equation that was derived above from the control matrix.<br>
Likewise, error prediction signal is applied to loop interaction compensator 82 to form compensated error signal which in<br>
turn is applied to adder 76 where it is added to error prediction signal to form composite error prediction signal  Accordingly, composite error prediction signal is equal to<br>
  When composite error signal   is applied to controller 66, the resulting change in control action is:<br><br>
which is also derived above from the control matrix.<br>
In conclusion, multivariable predictive control of a 2 X 2 process is realized by coupling two VHP prediction units and two loop interaction<br><br>
compensators of the present invention to a pair of classic feedback controllers.<br>
The VHP of the present invention may be coupled to a controller employing any control algorithm.  However, it is contemplated that the VHP of the present invention will be particularly beneficial when used by control engineers to convert control loops having classic linear or nonlinear feedback controllers into predictive control loops, thereby compensating for dead time, time variant dynamics, and measured disturbances.  Many companies have a large investment in distributed control systems having classic feedback controllers.  In addition, control engineers are familiar with feedback controllers, and have extensive experience configuring and tuning control loops controlled by feedback controllers.  The VHP of the present invention preserves such investments and experience, while enhancing the quality of process control.<br>
In a first mode of operation, the VHP of the present invention is configured to provide a prediction of the output of the controlled process at a future time based on the dead time of the process, thereby addressing the same problem as that addressed by the Smith Predictor algorithm. However, unlike the Smith Predictor, the VHP of the present invention is not limited to a first order plus dead time model, can easily incorporate the effects of measured disturbances into the prediction, and allows dynamic selection of prediction time.<br>
In a second mode of operation, the VHP of the present invention is configured to provide a prediction vector of the controlled process that includes a number predictions at different scan<br><br>
times.  In this mode, an error vector is computed by subtracting the prediction vector from a set point prediction vector.  If the controller expects a single error signal, then the error vector can be converted into an error scalar by computing a weighted average, and the scalar error can be applied to the controller.  Accordingly, in this mode of operation the VHP of the present invention converts a classic feedback control loop into a predictive control loop that computes controller actions based on a range of predictions, which tends to produce more stable and robust control.<br>
Finally, both of these modes may be used in a multivariable control system, as shown in Figure 6.  Therefore, the VHP of the present invention provides multivariable processes with compensation for measured disturbances, dead time, time variant dynamics, as well as compensation for errors*in neighboring loops.<br>
Although the present invention has been described with reference to preferred embodiments, workers skilled in the art will recognize that changes may be made in form and detail without departing from the spirit and scope of the invention.<br><br><br>
WE CLAIM:<br>
1. A process control loop having a controller (44) coupled to control a process (46), wherein the controller (44) has a controller output for providing a control signal and a controller input for receiving an error signal, and the process (46) has a process input for controlling a process variable, with the process input coupled to the controller output to receive the control signal, and a process output for providing a process output signal representative of the process variable characterized in that: a variable predictor (41) is coupled between the controller and the process (46) the variable horizon predictor comprising a process model (48) having a model input coupled to the controller output to receive the control signal and a model response output for providing a model response signal based on the control signal; a prediction vector unit (51) having a prediction vector output for providing a prediction vector and a model response input coupled to the model response output of the process model (48) to receive the model response signal, wherein the prediction vector comprises predicted future values of the process output signal; a horizon selection unit (54) having a prediction subvector output for providing a selected subvector of the prediction vector and a prediction vector input coupled to the prediction vector output of the prediction vector unit to receive the prediction vector, wherein the horizon selection unit selects a prediction subvector from the prediction vector; and an error scalar/vector calculator (58) having an error signal output coupled to the controller input and a subvector input coupled to the  subvector  output  of   the   horizon selection unit (54) to receive the<br><br>
'    subvector, wherein the error scalar/vector calculator (58) produces an error signal based on a set point signal and the prediction subvector.<br>
2.	The process control loop as claimed in claim 1 wherein the process model (48) has disturbance input for receiving a disturbance signal representing a disturbance to the process (46) and the model response signal is based also on the disturbance signal.<br>
3.	The process control loop as claimed in claim 1, wherein the prediction vector unit (51) has an uncorrected prediction vector unit (49) for receiving the model response signal from the model response output, generating an uncorrected prediction vector based on the corrected prediction vector, and for providing an uncorrected prediction vector at an uncorrected prediction vector output; a prediction correction unit (50) for receiving the uncorrected prediction vector at an uncorrected prediction vector input, correcting the uncorrected prediction vector based on the process output signal, and for providing a corrected prediction vector at a corrected prediction vector output; and a corrected prediction vector unit (52) for receiving the corrected prediction vector at a corrected prediction vector input, undating the prior corrected prediction vector stored in the uncorrected prediction vector unit (49) with the corrected prediction vector, and providing the prediction vector at the prediction vector output; wherein the prediction vector is the corrected prediction vector.<br><br>
4.	The process control loop as claimed in claim 3, wherein the prediction correction unit (50) has a prediction error input, and the prediction vector unit (51) comprises an adder (56) having a first input that receives the process output signal, a second input that receives an uncorrected prediction from the uncorrected prediction vector corresponding in time with the process output signal, and an output that provides a prediction error signal representing a difference between the process output signal and the uncorrected prediction, with the prediction error signal coupled to the prediction error input of the prediction correction unit (50).<br>
5.	The process control loop as claimed in claim 4, wherein the prediction correction unit (50) has a summer that adds the prediction error signal to predicted future values stored in the uncorrected prediction vector to form the corrected prediction vector.<br>
6.	The process control loop as claimed in claim 1, wherein the error signal provided by the error by the error scalar/vector calculator (58) has an error vector, and the variable horizon predictor (41) has a set point generator unit (59) having a set point that generates the set point signal used by the error scalar/vector calculator (58) as a set point vector, wherein the prediction subvector, the set point vector, and the error vector each store and equivalent number of predicted values, and the error scalar/vector calculator (58) calculates the error vector as differences between corresponding predicted values stores in the prediction subvector and the set point vector.<br><br>
 The process control loop as claimed in claim 1, wherein the error signal provided by the error scalar/vector calculator (58) has a signal scalar value, and the variable horizon predictor (41) has a set point generator unit (59) having a set point output that generates the set point signal used by the error scalar/vector calculator (58) as a set point vector, wherein the prediction subvector and the set point vector each store an equivalent number of predicted values, and the error scalar/vector calculator (58) calculates the signal scalar value as a weighted average of the differences between corresponding predicted values stored in the prediction subvector and the set point vector.<br>
process control loop having a controller substantially as herein described with reference to figures 2,3,5 &amp; 6 of the accompanying drawings.<br><br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTM2Mi1tYXMtMTk5NSBhYnN0cmFjdC5qcGc=" target="_blank" style="word-wrap:break-word;">1362-mas-1995 abstract.jpg</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTM2Mi1tYXMtMTk5NSBhYnN0cmFjdC5wZGY=" target="_blank" style="word-wrap:break-word;">1362-mas-1995 abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTM2Mi1tYXMtMTk5NSBjbGFpbXMucGRm" target="_blank" style="word-wrap:break-word;">1362-mas-1995 claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTM2Mi1tYXMtMTk5NSBjb3JyZXNwb25kZW5jZS1vdGhlcnMucGRm" target="_blank" style="word-wrap:break-word;">1362-mas-1995 correspondence-others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTM2Mi1tYXMtMTk5NSBjb3JyZXNwb25kZW5jZS1wby5wZGY=" target="_blank" style="word-wrap:break-word;">1362-mas-1995 correspondence-po.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTM2Mi1tYXMtMTk5NSBkZXNjcmlwdGlvbihjb21wbGV0ZSkucGRm" target="_blank" style="word-wrap:break-word;">1362-mas-1995 description(complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTM2Mi1tYXMtMTk5NSBkcmF3aW5ncy5wZGY=" target="_blank" style="word-wrap:break-word;">1362-mas-1995 drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTM2Mi1tYXMtMTk5NSBmb3JtLTEucGRm" target="_blank" style="word-wrap:break-word;">1362-mas-1995 form-1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTM2Mi1tYXMtMTk5NSBmb3JtLTI2LnBkZg==" target="_blank" style="word-wrap:break-word;">1362-mas-1995 form-26.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTM2Mi1tYXMtMTk5NSBmb3JtLTQucGRm" target="_blank" style="word-wrap:break-word;">1362-mas-1995 form-4.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTM2Mi1tYXMtMTk5NSBmb3JtLTkucGRm" target="_blank" style="word-wrap:break-word;">1362-mas-1995 form-9.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTM2Mi1tYXMtMTk5NSBvdGhlci5wZGY=" target="_blank" style="word-wrap:break-word;">1362-mas-1995 other.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTM2Mi1tYXMtMTk5NSBwZXRpdGlvbi5wZGY=" target="_blank" style="word-wrap:break-word;">1362-mas-1995 petition.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="192697-a-stamping-roller-for-a-stamping-apparatus.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="192700-method-and-apparatus-for-treating-waste-gases-by-exposure-to-electron-beam.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>192699</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>1362/MAS/1995</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>30/2009</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>24-Jul-2009</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>03-Feb-2005</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>20-Oct-1995</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>M/S. FISHER-ROSEMOUNT SYSTEMS, INC</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>8301 CAMERON ROAD, AUSTIN, TEXAS 78754</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>WILHELM K WOJSZNIS</td>
											<td>17004 HILLSIDE DRIVE, ROUND ROCK, TAXAS 78681</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>GO5B13/02</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>N/A</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td></td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td></td>
									<td></td>
								    <td>NA</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/192699-a-process-control-loop by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 03:02:35 GMT -->
</html>
