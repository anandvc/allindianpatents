<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/212053-an-information-processing-apparatus-and-method by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 00:21:19 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 212053:AN INFORMATION PROCESSING APPARATUS AND METHOD</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">AN INFORMATION PROCESSING APPARATUS AND METHOD</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A CPI-type is described in a PlayList(). The CPI-type includes an EP-map type and a TU-map type. If the position of an I picture can be analyzed, the EP-map type is used; and if not, the TU-map type is used. As a result, AV stream data recorded after analyzing the position of the I picture and AV stream data recorded without analyzing the position of the I picture can be commonly managed.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>FORM 2<br>
THE PATENTS ACT 1970<br>
[39 OF 1970]<br>
&amp;<br>
THE PATENTS RULES, 2003<br>
COMPLETE SPECIFICATION<br>
[See Section 10; rule 13]                                                  "AN INFORMATION PROCESSING APPARATUS AND MEHTOD"<br>
SONY CORPORATION, a Japanese company, of 7-35 Kitashinagawa, 6-chome, Shinagawa-ku, Tokyo 141-0001, Japan,<br>
The following specification particularly describes the nature o the invention and the manner in which it is to be performed:-<br>
IN/PCT/2001/1585/MUM<br><br><br>
The present invention relates to an- information- processing apparatus and<br>
method.	"	"<br>
Technical Field<br>
This invention relates to am iitforfflation  processing method and apparatus; a program and a recording medium.  More particularly, it relates to an information processing method and apparatus, a program and a recording medium for recording a file including the information indicated for explanation on the GUI, the information on the main reproducing path, tbe information on the subsidiary reproducing path, connection information between respective reproducing domains making up the main reproducing path, or the informatipn on bookmarks or resume points useful for the user to set a desired scene.<br>
Background Art<br>
Recently, a variety of types of optical discs have been proposed as a recording medium that can be removed from a recording apparatus. These recordable optical discs have been proposed as a large capacity medium of several GBs and are thought to be promising as a medium for recording AV (audio visual) signals. Among the sources (supply sources) of digital AV signals, recorded on the recordable optical disc, there are, for example, CS digital Satellite broadcast and BS digital broadcast. For future use, ground wave television broadcast of the digital system has also been<br><br>
proposed.<br>
It should be noted that digital video signals, furnished from these sources, are routinely compressed in accordance with MPEG (Moving picture Experts Group) 2 system. For the recording apparatus, a recording rate proper to the apparatus is set. If digital video signals, derived from the digital broadcast, are recorded by a conventional video storage medium for domestic use, in accordance with an analog recording system, digital video signals are first decoded and subsequently band-limited for recording. Alternatively, with the digital recording system, exemplified first of all by MPEG1 video, MPEG2 video or DV system, the digital video signals are once decoded and subsequently re-encoded in accordance with the recording rate and encoding system proper to the apparatus for recording.<br>
However, with such recording method, in which the bitstream furnished is once decoded and subsequently bandwidth-limited or re-encoded prior to recording, the picture quality is necessarily deteriorated. If, in recording compressed digital signals, the transmission rate for input digital signals is not higher than the recording rate of the recording and/or reproducing apparatus, such a method in which the bitstream furnished is directly recorded without decoding or re-encoding suffers from picture quality deterioration to the least extent. However, if the transmission rate of the compressed digital signals exceeds the recording rate of the disc as the recording medium, it is truly necessary to first decode the digital signals in the recording and/or reproducing apparatus and to re-encode the digital signals for recording so that the<br><br>
transmission rate will be not higher than the upper limit of the recording rate of the disc.<br>
If the signals being transmitted in accordance with a variable rate system in which the bitrate of the input digital signals is increased or decreased with time, the capacity of the recording medium can be exploited less wastefully in such a disc recording system in which data can be stored once in a buffer and recorded in a burst¬like fashion than with a recording system in which the rotary head is of a fixed rpm and hence the recording rate is a fixed recording rate.<br>
In the near future when digital broadcast becomes the mainstream, it may be premeditated that there is a positive demand for such a recording and/or reproducing apparatus in which aired signals are recorded in the state of digital signals, without decoding or re-encoding, as in the case of a data streamer, and in which a disc is used as a recording medium.<br>
Meanwhile, in recording an AV stream data on a recording medium by the above-described recording apparatus, an AV stream data may be analyzed to enable fast replay to detect the position of an I-picture to effect recording Such as to enable accessing an I-picture. Alternatively, the AV stream may be directly recorded without analysis.<br>
In such case, the conventional practice has been to provide respective dedicated application programs by means of which the AV stream is recorded on the recording medium as AV streams of different formats. The result is that development of an<br><br>
application program tends to be costly and time-consuming. In the AV streams recorded in respective application programs, the format i&amp; different, from one AV stream to another, with the result that the respective AV streams canitotbe reproduced on the same apparatus because of lack of compatibility.<br>
In addition, the conventional recording apparatus has a drawback that audio data, for example, are difficult to post-record.<br>
Disclosure of the Invention<br>
It is therefore an object of the present invention to provide an arrangement in which an AV stream capable of performing high speed recording and an AV stream incapable of performing high speed recording can be supervised in common.<br>
It is another object of the present invention to provide an arrangement in which post-recording is possible.<br>
An information processing apparatus for recording AV stream data on a recording medium includes first generating means for generating a first table describing the relation of correspondence between presentation time stamp and an address in the AV stream data of a corresponding access unit, or a second table describing the relation of correspondence between arrival time stamp derived from the arrival time point of a transport packet and an address in the AV stream data of a corresponding transport packet, selection means for selecting one of the first table and the second table    depending on a recording method and first recording means for<br><br>
recording the selected table on the recording medium along with the AV stream data.<br>
The first table may be EP_map and the second table may be TU_map.<br>
The  selection means may select the second table in case of non-cognizant recording.<br>
The selection means may select the first table in case of self encoding recording.<br>
The selection means may select the first table in case of cognizant recording.<br>
The information processing apparatus may further include second generating means for generating the reproduction specifying information specifying the reproduction of the AV stream data, and second recording means for recording the reproduction specifying information generated by the second generating means on the recording medium. The reproduction specifying information may include the identification information for specifying whether the time information of the reproduction domain of the AV stream data is to be represented on the presentation time basis or on the arrival time basis.<br>
If the first table is recorded along with the AV stream data, the reproduction specifying information expresses the time information of the reproduction domain of the AV stream data on the presentation time basis. If the second table is recorded along with the AV stream data, the reproduction specifying information expresses the time information of the reproduction domain of the AV stream data on the arrival time basis.<br><br>
The present invention also provides an information processing method for recording AV stream data on a recording medium including a generating step of generating a first table describing the relation of correspondence between presentation time stamp and an address in the AV stream data of a corresponding access unit, or a second table describing the relation of correspondence between arrival time stamp derived from the arrival time point of a transport packet and an address in the AV stream data of a corresponding transport packet, a selecting step of selecting one of the first table and the second table depending on a recording method and a recording step of recording the selected table on the recording medium along with the AV stream data.<br>
The present invention also provides a recording medium having recorded ^hereon a computer-readable program for an information processing apparatus recording AV stream data on a recording medium, in which the program includes a generating step of generating a first table describing the relation of correspondence between presentation time stamp and an address in the AV stream data of a corresponding access unit, or a second table describing the relation of correspondence between arrival time stamp derived from the arrival time point of a transport packet and an address in the AV stream data of a corresponding transport packet, a selecting step of selecting one of the first table and the second table depending on a recording method and a recording step of recording the selected table on the recording medium along with the AV stream data.<br><br>
The present invention also provides a program for having a computer, controlling an information processing apparatus recording AV stream data on a recording medium, execute a generating step of generating a first table describing the relation of correspondence between presentation time stamp and an address in the AV stream data of a corresponding access unit, or a second table describing the relation of correspondence between arrival time stamp derived from the arrival time point of a transport packet and an address in the AV stream data of a corresponding transport packet, a selecting step of selecting one of the first table and the second table depending on a recording method and a recording step of recording the selected table on the recording medium along with the AV stream data.<br>
The present invention also provides an information processing apparatus for reproducing AV stream data frorn^a recording medium including reproducing means for reproducing one of a first table describing the relation of correspondence between presentation time stamp and an address in the AV stream data of a corresponding access unit and a second table describing the relation of correspondence between arrival time stamp derived from the arrival time point of a transport packet and an address in the AV stream data of a corresponding transport packet, from the recording medium, which has the first table or the second table recorded thereon depending on a recording method, and control means for controlling the outputting of the AV stream data based on the reproduced table.<br>
The present invention also provides an information processing method for<br><br>
reproducing AV stream data from a recording medium including a reproducing step of reproducing one of a first table describing the relation of correspondence between presentation time stamp and an address in the AV stream data of a corresponding access unit and a second table describing the relation of correspondence between arrival time stamp derived from the arrival time point of a transport packet and an address in the AV stream data of a corresponding transport packet, from the recording medium, which has the first table or the second table recorded thereon depending on a recording method, and a controlling step of controlling the outputting of the AV stream data based on the reproduced table.<br>
The present invention also provides a recording medium having recorded ^hereon at computer-readable program for an information processing apparatus Recording AV stream data on a recording medium, in which the program includes a reproducing step of reproducing one of a first table describing the relation of correspondence between presentation time stamp and an address in the AV stream data of a corresponding access unit and a second table describing the relation of correspondence between arrival time stamp derived from the arrival time point of a transport packet and an address in the AV stream data of a corresponding transport packet, from the recording medium, which has the first table or the second table recorded thereon depending on a recording method, and a controlling step of controlling the outputting of the AV stream data based on the reproduced table.<br>
The present invention also provides (k program for having a computer,<br><br>
controlling a$ information processing apparatus recording AV stream data on a recording medium, execute a reproducing step of reproducing one of a first table describing the relation of correspondence between presentation time stamp and an address in the AV stream data of a corresponding access unit and a second table describing the relation of correspondence between arrival time stamp derived from the arrival time point of a transport packet and an address in the AV stream data of a corresponding transport packet, from the recording medium, having the first table or the second table recorded thereon depending on a recording method, and a controlling step of controlling the outputting of the AV stream data based on the reproduced table. The present invention also provides a recording medium having recorded thereon one of a first table describing the relation of correspondence between<br>
i<br>
presentation time stamp and an address in the AV stream data of a corresponding access unit and a second table describing the relation of correspondence between arrival time stamp derived from the arrival time point of a transport packet and an address in the AV stream data of a corresponding transport packet, depending on a recording method.<br>
The present invention also provides an information processing apparatus for recording AV stream data on a recording medium including generating means for generating the reproduction specifying information made up of the first information indicating a main reproducing path and the second information indicating a subsidiary reproducing path, and recording means for recording the AV stream data and the<br><br>
reproduction specifying information on the recording medium.<br>
The main reproducing path may be a path for the post-recording of audio data. The first information may be main_path and the second information may be the Sub-path.<br>
The second information may include the type information indicating the type of the subsidiary reproducing information, a filename of the AV stream referenced by the subsidiary reproducing path, in- and out-points of the AV stream of the subsidiary reproducing path and the time on the main path at which the in-point of the reproducing path starts in synchronization on the time axis of the main path.<br>
The present invention also provides an information processing method for an information processing apparatus recording AV stream data on a recording medium, including a generating step of generating the reproduction specifying information made up of the first information indicating a main reproducing path and the second information specifying a subsidiary reproducing path reproduced in synchronism with the main reproducing path, and a recording step of recording the AV stream data and the reproduction specifying information on the recording medium.<br>
The present invention ^a,pravides-a-re€efding-jr»edium having recorded thereon a computer-readable program for an information processing apparatus recording AV stream data on a recording medium, in which the program includes a generating step of generating the reproduction specifying information made up of the first information indicating a main reproducing path and the second information<br><br>
specifying a subsidiary reproducing path reproduced in synchronism with the main reproducing path, and a recording step of recording the AV stream data and the reproduction specifying information on the recording medium.<br>
The present invention also provides a program for having a computet, controlling an information processing apparatus recording AV stream data on a recording medium, execute a generating step of generating the reproduction specifying information made up of the first information indicating a main reproducing path and :he second information specifying a subsidiary reproducing path reproduced in synchronism with the main reproducing path, and a recording step of recording the AV stream data and the reproduction specifying mformation on the recording medium.<br>
The present invention also provides an information processing apparatus for reproducing AV stream data from a recording medium including reproducing means for reproducing, from the recording medium, reproduction specifying information made up of the first information indicating a main reproducing path and the second information specifying a subsidiary reproducing path reproduced in synchronism with the main reproducing path, and control means for controlling the outputting of the AV stream data based on the reproduced reproduction specifying information.<br>
The present invention also includes an information processing method for reproducing AV stream data from a recording medium including a reproducing step of reproducing, from the recording medium, reproduction specifying information made up of the first information indicating a main reproducing path and the second<br><br>
information specifying a subsidiary reproducing path reproduced in synchronism with the main reproducing path, and a controlling step of controlling the outputting of the AV stream data based on the reproduced reproduction specifying information.<br>
The present invention also provides a recording medium having recorded thereon a &amp;Qmputer-readable program foi? an information processing apparatus recording AV stream data on a recording medium, in which the program includes a Reproducing step of reproducing, from the recording medium, reproduction specifying Information made up of the first information indicating a main reproducing path and the second information specifying a subsidiary reproducing path reproduced in synchronism with the main reproducing path, and a controlling step of controlling the outputting of the AV stream data based on the reproduced reproduction specifying information.<br>
The present invention also provides a program for haying;..a computer, controlling an information processing apparatus recording AV stream data on a recording medium, execute a reproducing step of reproducing, from the recording medium, the reproduction specifying information made up of the first information indicating a main reproducing path and the second information specifying a subsidiary reproducing path reproduced in synchronism with the main reproducing path, and a controlling step of controlling the outputting of the AV stream data based on the reproduced reproduction specifying information.<br>
The recording medium according to the present invention has recorded thereon<br><br>
the reproduction specifying information made up of the first information indicating a main reproducing path and the second information specifying a subsidiary reproducing path reproduced in synchronism with the main reproducing path.<br>
In the information recording and/or reproducing method and apparatus, program for a recording medium, program, and in the recording medium, according to the present invention, one of thefirst tabJe describing the first tabJe describing thereJation of correspondence between presentation time stamp and an address in the AV stream data of a corresponding access unit and a second table describing the relation of correspondence between arrival time stamp derived from the arrival time point of a transport packet and an address in the AV stream data of a corresponding transport packet is recorded depending on a recording method.<br>
In the information processing method and apparatus, program for a recording^ medium and the program, according to the present invention, one of a first table describing the relation of correspondence between presentation time stampraftd-aH address in the AV stream data of a corresponding access unit and a second table describing the relation of correspondehce between arrival time stamp derived from Trre-arrival time point of a transport packet and an address in the AV stream data of a corresponding transport packet, is reproduced from the recording medium, which has the first table or the second table recorded thereon, depending on a recording method, and the outputting is controlled accordingly.<br>
In the information processing method and apparatus, program for a recording<br><br>
medium, program and the second recording medium, according to the present invention, the reproduction specifying information comprised of the first information indicating the main reproducing path and the second information indicating the subsidiary reproduction path reproduced in synchronism with the main reproducing path is recorded.<br>
In the information processing method and apparatus, program for a recording medium, and the program, according to the present invention, the reproduction specifying information comprised of the first information indicating the main reproducing path and the second information indicating the subsidiary reproduction path reproduced in synchronism with the main reproducing path is reproduced to control the outputting accordingly.<br>
Other objects, features and advantages of the present invention will become more apparent from reading the embodiments of the present invention as shown in the drawings.<br>
Brief Description of the Drawings<br>
Fig.l shows a configuration of an embodiment of a recording and/or reproducing apparatus according to the present invention.<br>
Fig.2 illustrates the data format of data recorded on a recording medium by a recording and/or reproducing apparatus 1.<br>
Fig.3 illustrates Real PlayList and Virtual PlayList.<br><br>
Figs.4A, 4B and 4C illustrate the creation of the Real PlayList.<br>
Figs.5A, 5B and 5C illustrate deletion of the Real PlayList.<br>
Figs.6A and 6B illustrate assemble editing.<br>
Fig.7 illustrates provision of a sub path in the Virtual PlayList.<br>
Fig.8 illustrates the changing of the playback sequence of the PlayList.<br>
Fig.9 illustrates a mark on the PlayList and a mark on the Clip.<br>
Fig. 10 illustrates a menu thumbnail.<br>
Fig. 11 illustrates mark added to the PlayList.<br>
Fig. 12 illustrates a mark added to the Clip.<br>
Fig. 13 illustrates the relation between the PlayList, Clip and the thumbnail file.<br>
Fig. 14 illustrates a directory structure.<br>
Fig. 15 illustrates a syntax of infr.dvr.<br>
Fig.16 shows a syntax of DVRVolume.<br>
Fig. 17 shows a syntax of Resume Volume.<br>
Fig. 18 shows a syntax of UlAppInfoVolume.<br>
Fig. 19 shows a table of character set values.<br>
Fig.20 shows a syntax of TableOfPlayList.<br>
Fig.21 shows another syntax of TableOfPlayList.<br>
Fig.22 shows a syntax of the MakersPrivateData.<br>
Fig.23 shows a syntax of xxxx.rpls and yyyy.vpls.<br>
Figs.24A to 24C illustrate the PlayList.<br><br>
Fig.25 shows a syntax of PlayList. Fig.26 shows a table of PlayList_type. Fig.27 shows a syntax of UIAppInfoPlayList.<br>
Figs.28A to 28C illustrate flags in the UIAppInfoPlayList syntax shown in Fig.27.<br>
Fig.29 illustrates a Playltem.<br>
Fig.30 illustrates a Playltem.<br>
Fig.31 illustrates a Playltem.<br>
Fig.32 shows a syntax of the Playltem.<br>
Fig.33 illustrates IN-time.<br>
Fig.34 illustrates OUT-time.<br>
Fig.35 shows a table of ConnectionCondition.<br>
Figs.36A to 36D illustrate Connection_Condition.<br>
Fig.37 illustrates BridgeSequencelnfo.<br>
Fig.38 shows a syntax of BridgeSequencelnfo.<br>
Fig.39 illustrates SubPlayltem.<br>
Fig.40 shows a syntax of SubPlayltem.<br>
Fig.41 shows a table of Mark_type.<br>
Fig.42 shows a syntax of PlayListMark.<br>
Fig.43 shows a table of Mark_type.<br>
Fig.44 illustrates Mark_time_stamp.<br><br>
Fig.45 shows a syntax of zzzzz.clip.<br>
Fig.46 shows a syntax of Cliplnfo.<br>
Fig.47 shows a table of Clip_stream_type.<br>
Fig.48 illustrates offset_SPN.<br>
Fig.49 illustrates offset_SPN.<br>
Figs.50A, 50B illustrate the STC domain.<br>
Fig.51 illustrates STCJnfo.<br>
Fig.52 shows a syntax of STC_Info.<br>
Fig.53 illustrates Programlnfo.<br>
Fig.54 shows a syntax of Programlnfo.<br>
Fig.55 shows a syntax of VideoCondinglnfo.<br>
Fig.56 shows a table of Video_format.<br>
Fig.57 shows a table of frame_rate.<br>
Fig.58 shows a table of display_aspect_ratio.<br>
Fig.59 shows a syntax of AudioCondinglnfo.<br>
Fig.60 shows a table of audio_coding.<br>
Fig.61 shows a table of audio_component_type.<br>
Fig.62 shows a table of sampling_frequency.<br>
Fig.63 illustrates CPI.<br>
Fig.64 illustrates CPI.<br>
Fig.65 shows a syntax of CPI.<br><br>
Fig.66 shows a table of CPI_type.<br>
Fig.67 illustrates video EP_map.<br>
Fig.68 illustrates EP_map.<br>
Fig.69 illustrates EP_map.<br>
Fig.70 shows a syntax of EP_map.<br>
Fig.71 shows a table of EP_typevalues.<br>
Fig.72 shows a syntax of EP_map_for_one_stream_PID.<br>
Fig.73 illustrates TU_map.<br>
Fig.74 shows a syntax of TU_map.<br>
Fig.75 shows a syntax of ClipMark.<br>
Fig.76 shows a table of Mark_type.<br>
Fig.77 shows a table of Mark_type_stamp.<br>
Fig.78 shows a syntax of menu.thmb and mark.thmb.<br>
Fig.79 shows the syntax of thumbnail.<br>
Fig.80 shows a table of thumbnail_picturejformat.<br>
Figs.81A and 81Billustrate tn_block.<br>
Fig.82 illustrates a structure of a transport stream of DVR MPEG2.<br>
Fig. 83 shows a recorder model of a transport stream of DVR MPEG2.<br>
Fig.84 shows a player model of a transport stream of DVR MPEG2.<br>
Fig.85 shows the syntax of a source packet.<br>
Fig.86 shows the syntax of TP_extra_header.<br><br>
Fig.87 shows a table of a copy permission indicator. Fig.88 illustrates seamless connection. Fig.89 illustrates seamless connection. Fig.90 illustrates seamless connection. Fig.91 illustrates seamless connection. Fig.92 illustrates seamless connection. Fig.93 illustrates audio overlap.<br>
Fig.94 illustrates seamless connection employing BridgeSequence. Fig.95 illustrates seamless connection not employing BridgeSequence. Fig.96 shows a DVR STD model. Fig.97 is a timing chart for decoding and display. Fig.98 shows the syntax of a PlayList file.<br>
Fig.99 shows the syntax of UIAppInfoPlayList in the PlayList file of Fig.98. Fig. 100 shows the syntax of the PlayListQ in the PlayList file of Fig.98. Fig.101 shows the syntax of SubPlayltem.<br>
Fig. 102 is a flowchart for illustrating the method for forming RealPlayList. Fig. 103 is a flowchart for illustrating the method for forming VirtualPlayList. Fig. 104 is a flowchart for illustrating the method for reproducing the PlayList. Fig. 105 is a flowchart for illustrating the method for reproducing a sub-path of PlayList.<br>
Fig. 106 is a flowchart for illustrating the method for forming PlayListMark.<br><br>
Fig.107 is a flowchart for illustrating the locating reproducing method employing PlayListMark.<br>
Fig. 108 illustrates a medium.<br>
Best Mode for Carrying out the Invention<br>
Referring to the drawings, present embodiment of the present invention will be explained in detail. Fig.l shows a typical inner structure of a recording and/or reproducing apparatus 1 embodying the present invention. First, the structure of a recording unit 2, configured for recording signals input from outside, is explained. The recording and/or reproducing apparatus 1 is configured for being fed with and recording analog or digital data.<br>
Analog video signals and analog audio signals are fed to terminals 11, 12, respectively. The video signals, input to the terminal 11, are output to an analysis unit 14 and to an AV encoder 15. The audio signals, input to the terminal 12, are output to the analysis unit 14 and to the AV encoder 15. The analysis unit 14 extracts feature points, such as scene changes, from the input video and audio signals.<br>
The AV encoder 15 encodes input video and audio signal to output the system information (S), such as an encoded video stream (V), an encoded audio stream (A) and AV synchronization, to a multiplexer 16.<br>
The encoded video stream is a video stream encoded e.g., with the MPEG (Moving Picture Expert Group) 2 system, whilst the encoded audio stream is an audio<br><br>
stream encoded in accordance with the MPEG1 system, with the encoded audio stream being e.g., an audio stream encoded in e.g., the MPEG1 system or an audio stream encoded in accordance with the Dolby AC3 (trademak) system. The multiplexer 16 multiplexes the input video and audio streams, based on the input system information, to output a multiplexed stream through a switch 17 to a multiplexed stream analysis unit 18 and to a source packetizer 19.<br>
The multiplexed stream is e.g., an MPEG-2 transport stream or an MPEG2 program stream. The source packetizer 19 encodes the input multiplexed stream into an AV stream composed of source packets in accordance with an application format of a recording medium 100 on which to record the stream. The AV stream is processed in ECC (error correction and coding) unit 20 and a modulation unit 21 with appendage of ECC codes and with modulation, before being output to a write unit 22, which then writes (records) an AV stream file based on a control signals output by the controller 23.<br>
The transport stream, such as digital television broadcast, input from a digital interface or a digital television tuner, is input to^a terminal 13. There are two recording systems for recording the transport stream input to the terminal 13, one being a transparent recording system and the other being a system in which recording is preceded by re-encoding aimed to lower e.g., the recording bit rate. The recording system command information is input from a terminal 24 as a user interface to a controller 23.<br><br>
In the transparent recording of the input transport stream, a transport stream, input to a terminal 13, is output through a switch 17 to a multiplexed stream analysis unit 18 and to the source packetizer 19. The ensuing processing of recording an AV stream on a recording medium is the same as that of encoding and recording analog input audio and video signals, as described above, and hence is not explained here for simplicity.<br>
If the input transport stream is re-encoded and subsequently recorded, the transport stream, input to the terminal 13, is fed to a demultiplexer 26, which demultiplexes the input transport stream to extract a video stream (V), an audio stream (A) and the system information (S).<br>
Of the stream (information), as extracted by the demultiplexer 26, the video stream is output to an audio decoder 27, whilst the audio stream and the system information are output to the multiplexer 16. The audio decoder 27 decodes the input transport stream to output the encoded video stream (V) to the multiplexer 16.<br>
The audio stream and the system information, output from the demultiplexer 26 and input to the multiplexer 16, and the video stream, output by the AV encoder-15, are multiplexed, based on the input system information, and output to the multiplexed stream analysis unit 18 and to the source packetizer 19 through switch 17, as a multiplexed stream. The ensuing processing of recording an AV stream on a recording medium is the same as that of encoding and recording analog input audio and video signals, as described above, and hence is not explained here for simplicity.<br><br>
•The recording and/or reproducing apparatus 1 of the present embodiment records a file of the AV stream on the recording medium 100, while also recording the application database information which accounts for the file. The input information to the controller 23 is the feature information for the moving picture from the analysis unit 14, the feature information of the AV stream from the multiplexed stream analysis unit 18 and the user command information input at a terminal 24.<br>
The feature information of the moving picture, supplied from the analysis unit 14, is generated by the analysis unit 14 when the AV encoder 15 encodes video signals. The analysis unit 14 analyzes the contents of the input video and audio signals to generate the information pertinent to the pictures characteristic of the input moving picture signals (clip mark). This information is the information indicating a picture of characteristic clip mark points, such as program start points, scene change points, CM commercial start and end points, title or telop in input video signals, and also includes a thumbnail of the picture and the information pertinent to stereo/monaural switching points and muted portions of audio signals.<br>
The above picture indicating information is fed through controller 23 to the multiplexer 16. When multiplexing a encoded picture specified as clip mark by the controller 23, the multiplexer 16 returns the information for specifying the encoded picture on the AV stream to the controller 23. Specifically, this information is the PTS (presentation time stamp) of a picture or the address information on the AV stream of an encoded version of the picture. The controller 23 stores the sort of feature pictures<br><br>
and the information for specifying the encoded picture on the AV stream in association with each other.<br>
The feature information of the AV stream from the multiplexed stream analysis unit 18 is the information pertinent to the encoding information of the AV stream to be recorded, and is recorded by an analysis unit 18. For example, the feature information includes the time stamp and address information of the I-picture in the AV stream, discontinuous point information of system time clocks, encoding parameters of the AV stream and change point information of the encoding parameters in the AV stream. When transparently recording the transport stream, input from the terminal 13, the multiplexed stream analysis unit 18 detects the picture of the aforementioned clip mark, from the input transport stream, and generates the information for specifying a picture designated by the clip mark and its type.<br>
The user designation information from the terminal 24 is the information specifying the playback domain, designated by the user, character letters for explaining the contents of the playback domain, or the information such as bookmarks or resuming points set by the user for his or her favorite scene.<br>
Based on the aforementioned input information, the controller 23 creates a database of the AV stream (Clip), a database of a group (PlayList) of playback domains (Playltem) of the AV stream, management information of the recorded contents of the recording medium 100 (info.dvr) and the information on thumbnail pictures. Similarly to the AV stream, the application database information, constructed<br><br>
from the above information, is processed in the ECC unit 20 and the modulation unit 21 and input to the write unit 22, which then records a database file on the recording medium 100.<br>
The above-described application database information will be explained subsequently in detail.<br>
When the AV stream file recorded on the recording medium 100 (files of picture data and speech data) and the application database information, thus recorded on the recording medium 100, are reproduced by a reproducing unit 3, the controller 23 first commands a readout unit 28 to read out the application database information from the recording medium 100. The readout unit 28 reads out the application database information from the recording medium 100, which then reads out the application database information from the recording medium 100 to send the application database information through demodulation and error correction processing by a demodulating unit 29 and an ECC decoder 30 to the controller 23.<br>
Based on the application database information, the controller 23 outputs a list of PlayList recorded on the recording medium 100 to a user interface of the terminal 24. The user selects the PlayList, desired to be reproduced, from the list of Play Lists. The information pertinent to PlayList, specified to be reproduced, is input to the controller 23. The controller 23 commands the readout unit 28 to read out the AV stream file necessary in reproducing the PlayList. In accordance with the command, the readout unit 28 reads out the corresponding AV stream from the recording medium<br><br>
100 to output the read-out AV stream to the demodulating unit 29. The AV stream, thus input to the demodulating unit 29, is demodulated by preset processing and output through the processing by the ECC decoder 30 to a source depacketizer 31.<br>
The source depacketizer 31 converts the AV stream of the application format, read out from the recording medium 100 and processed in a preset fashion, into a stream processable by the demultiplexer 26. The demultiplexer 26 outputs the system information (S), such as the video stream (V), audio stream (A) or the AV synchronization, forming the playback domain (PlayItem) of the AV stream specified by the controller 23, to the audio decoder 27, which AV decoder 27 decodes the video stream and the audio stream to output the playback video signal and the playback audio signal to associated terminals 32, 33, respectively.<br>
If fed from the terminal 24, as a user interface, with the information instructing random access playback or special playback, the controller 23 determines the readout position of the AV stream from the recording medium 100, based on the contents of the database (Clip) of the AV stream, to command the readout unit 28 to read out the AV stream. If the Play List as selected by the user is to be reproduced as from a preset time point, the controller 23 commands the readout unit 28 to read out data from an I-picture having a time stamp closest to the specified time point.<br>
When the user has selected a certain clip mark from indexing points or scene change points for the program stored in the ClipMark in the Clip Information, as when the user selects a certain picture from a list of thumbnail pictures, as demonstrated on<br><br>
a user interface, of the indexing points or scene change points stored in the ClipMark, the controller 23 determines the AV stream readout position from the recording medium 100 to command the readout unit 28 to read out the AV stream. That is, the controller 23 commands the readout unit 28 to read out data from an I-picture having an address closest to the address on the AV stream which has stored the picture selected by the user. The readout unit 28 reads out data from the specified address . The read-out data is processed by the demodulating unit 29, ECC decoder 30 and by the source packetizer 19 so as to be supplied to the demultiplexer 26 and decoded by the audio decoder 27 to reproduce AV data indicated by an address of the mark point picture.<br>
If the user has commanded fast forward playback, the controller 23 commands the readout unit 28 to sequentially read out I-picture data in the AV stream in succession based on the database (Clip) of the AV stream.<br>
The readout unit 28 reads out data of the AV stream from a specified random access point. The so read-out data is reproduced through processing by various components on the downstream side.<br>
The case in which the user edits the AV stream recorded on the recording medium 100 is now explained. If desired to specify a playback domain for the AV stream recorded on the recording medium 100, for example, if desired to create a playback route of reproducing a portion sung by a singer A from a song program A, and subsequently reproducing a portion sung by the same singer A from another song<br><br>
program B, the information pertinent to a beginning point (IN-point) and an end point (OUT-point) of the playback domain is input to the controller 23 from the terminal as a user interface. The controller 23 creates a database of the group (PlayList) of playback domains (Playltem) of the AV streams.<br>
When the user desires to erase a portion of the AV stream recorded on the recording medium 100, the information pertinent to the IN-point and the OUT-point of the erasure domain is input to the controller 23, which then modifies the database of the PlayList so as to refer to only the needed AV streams. The controller 23 also commands the write unit 22 to erase an unneeded stream portion of the AV stream. The case in which the user desires to specify playback domains of an AV stream recorded on the recording medium to create a new playback route, and to interconnect the respective playback domains in a seamless fashion, is now explained. In such case, the controller 23 creates a database of a group (PlayList) of the playback domains (Playltem) of the AV stream and undertakes to partially re-encode and re-multiplex the video stream in the vicinity of junction points of the playback domains.<br>
The picture information at the IN-point and that at the OUT-point of a playback domain are input from a terminal 24 to a controller 23. The controller 23 commands the readout unit 28 to read out data needed to reproduce the pictures at the IN-point and at the OUT-point. The readout unit 28 reads out data from the recording medium 100. The data so read out is output through the demodulating unit 29, ECC decoder 30 and the source packetizer 19 to the demultiplexer 26.<br><br>
The controller 23 analyzes data input to the demultiplexer 26 to determine the re-encoding method for the video stream (change of picture_coding_type and assignment of the quantity of encoding bits for re-encoding) and the re-multiplexing system to send the system to the AV encoder 15 and to the multiplexer 16.<br>
The demultiplexer 26 then separates the input stream into the video stream (V), audio stream (A) and the system information (S), The video stream may be classed into data input to the audio decoder 27 and data input to the multiplexer 16. The former is data needed for re-encoding, and is decoded by the audio decoder 27, with the decoded picture being then re-encoded by the AV encoder 15 and thereby caused to become a video stream. The latter data is data copied from an original stream without re-encoding. The audio stream and the system information are directly input to the multiplexer 16.<br>
The multiplexer 16 multiplexes an input stream, based on the information input from the controller 23, to output a multiplexed stream, which is processed by the ECC unit 20 and the modulation unit 21 so as to be sent to the write unit 22. The write unit 22 records an AV stream on the recording medium 100 based on the control signals supplied from the controller 23.<br>
The application database information and the operation based on this information, such as playback and editing, are hereinafter explained. Fig.2 shows the structure of an application format having two layers, that is Play List and Clip, for AV stream management. The Volume Information manages all Clips and PlayLists in the<br><br>
disc. Here, one AV stream and the ancillary information thereof, paired together, is deemed to be an object, and is termed Clip. The AV stream file is termed a Clip AV stream file, with the ancillary information being termed the Clip Information file.<br>
One Clip AV stream file stores data corresponding to an MPEG-2 transport stream arranged in a structure prescribed by the application format. By and large, a file is treated as a byte string. The contents of the Clip AV stream file are expanded on the time axis, with entry points in the Clip (I-picture) being mainly specified on the time basis. When a time stamp of an access point to a preset Clip is given, the Clip Information file is useful in finding the address information at which to start data readout in the Clip AV stream file.<br>
Referring to Fig.3, PlayList is now explained, which is provided for a user to select a playback domain desired to be viewed from the Clip and to edit the playback domain readily. One PlayList is a set of playback domains in the Clip. One playback domain in a preset Clip is termed Play Item and is represented by a pair of an IN-point and an OUT-point on the time axis. So, the PlayList is formed by a set of plural Playltems.<br>
The PlayList is classified into two types, one of which is Real PlayList and the other of which is Virtual PlayList. The Real PlayList co-owns stream portions of the Clip it is referencing. That is, the Real PlayList takes up in the disc the data capacity corresponding to a stream portion of the Clip it is referencing and, when Real PlayList is erased, the data of the stream portion of the Clip it is referencing is also erased.<br><br>
The Virtual PlayList is not co-owning Clip data. Therefore, if the Virtual PlayList is changed or erased, the contents of the Clip are in no way changed.<br>
The editing of the Real Playlist is explained. Fig.4A shows creation of Real PlayList and, if the AV stream is recorded as a new Clip, the Real PlayList which references the entire Clip is a newly created operation.<br>
Fig.4B shows the division of the real PlayList, that is the operation of dividing the Real PlayList at a desired point to split the Real PlayList in two Real PlayLists. This division operation is performed when two programs are managed in one clip managed by a sole PlayList and when the user intends to re-register or re-record the programs as separate individual programs. This operation does not lead to alteration of the Clip contents, that is to division of the Clip itself.<br>
Fig.4C shows the combining operation of the Real PlayList which is the operation of combining two Real PlayLists into one new Real PlayList. This combining operation is performed such as when the user desires to re-register two programs as a sole program. This operation does not lead to alteration of the Clip contents, that is to combining the clip itself into one.<br>
Fig.5A shows deletion of the entire Real PlayList. If the operation of erasing the entire preset Real PlayList, the associated stream portion of the Clip referenced by the deleted Real PlayList is also deleted.<br>
Fig.5B shows partial deletion of the Real PlayList. If a desired portion of the Real PlayList is deleted, the associated Play Item is altered to reference only the needed<br><br>
Clip stream portion. The corresponding stream portion of the Clip is deleted.<br>
Fig.5C shows the minimizing of the Real Play List. It is an operation of causing the Playltem associated with the Real Play List to reference only the stream portion of the Clip needed for Virtual Play List. The corresponding stream portion of the Clip not needed for the Virtual PlayList is deleted.<br>
If the Real PlayList is changed by the above-described operation such that the stream portion of the Clip referenced by the Real PlayList is deleted, there is a possibility that the Virtual PlayList employing the deleted Clip is present such that problems may be produced in the Virtual PlayList due to the deleted Clip.<br>
In order to prevent this from occurring, such a message which runs: "If there exists the Virtual PlayList referencing the stream portion of the Clip the Real PlayList is referencing, and the Real PlayList is deleted, the Virtual PlayList itself is deleted - is it all right?" is displayed for the user in response to the user"s operation of deletion by way of confirmation or alarming, after which the processing for deletion is executed or cancelled subject to user"s commands. Alternatively, the minimizing operation for the Real PlayList is performed in place of deleting the Virtual PlayList.<br>
The operation for the Virtual PlayList is now explained. If an operation is performed for the Virtual PlayList, the contents of the Clip are not changed. Figs.6A and 6B show the assembling and editing (IN-OUT editing). It is an operation of creating Playltem of the playback domain the user has desired to view to create Virtual PlayList. The seamless connection between Play Items is supported by the application<br><br>
format, as later explained.<br>
If there exist two Real PlayLists 1, 2 and clips 1, 2 associated with the respective Real PlayLists, the user specifies a preset domain in the Real PlayList 1 (domain from INI to OUT1: Playltem 1) as the playback domain, and also specifies, as the domain to be reproduced next, a preset domain in the Real PlayList 2 (domain from IN2 to OUT2: Playltem 2) as the playback domain, as shown in Fig.6A, a sole Virtual PlayList made up of Playltem 1 and the Playltem2 is prepared, as shown in Fig.6B.<br>
The re-editing of the Virtual PlayList is now explained. The re-editing may be enumerated by alteration of IN- or OUT points in the Virtual PlayList, insertion or appendage of new Playltems to the Virtual PlayList and deletion of Playltems in the Virtual PlayList. The Virtual PlayList itself may also be deleted.<br>
Fig. 7 shows the audio dubbing (post recording) to the Virtual PlayList. It is an operation of registering the audio post recording to the Virtual PlayList as a sub path. This audio post recording is supported by the application software. An additional audio stream is added as a sub path to the AV stream of the main path of the Virtual PlayList.<br>
Common to the Real PlayList and the Virtual PlayList is an operation of changing (moving) the playback sequence of the PlayList shown in Fig.8. This operation is an alteration of the playback sequence of the PlayList in the disc (volume) and is supported by TableOfPlayList as defined in the application format, as will be<br><br>
explained subsequently with reference to e.g., Fig.20. This operation does not lead to alteration of the Clip contents.<br>
The mark (Mark) is now explained. The mark is provided for specifying a highlight or characteristic time in the Clip and in the Play List, as shown in Fig. 9. The mark added to the Clip is termed the ClipMark. The ClipMark is e.g., a program indexing point or a scene change point for specifying a characteristic scene ascribable to contents in the AV stream. The ClipMark is generated by e.g., the analysis unit 14 of Fig.l. When the Play List is reproduced, the mark of the Clip referenced by the PlayList may be referenced and used.<br>
The mark appended to the PlayList is termed the PlayListMark (play list mark). The PlayListMark is e.g., a bookmark point or a resuming point as set by the user. The setting of the mark to the Clip and to the PlayList is by adding a time stamp indicating the mark time point to the mark list. On the other hand, mark deletion is removing the time stamp of the mark from the mark list. Consequently, the AV stream is in no way changed by mark setting or by mark deletion.<br>
As another format of the ClipMark, a picture referenced by the ClipMark may be specified on the address basis in the AV stream. Mark setting on the Clip is by adding the address basis information indicating the picture of the mark point to the mark list. On the other hand, mark deletion is removing the address basis information indicating the mark point picture from the mark list. Consequently, the AV stream is in no way changed by mark setting or by mark deletion.<br><br>
A thumbnail is now explained. The thumbnail is a still picture added to the Volume, PlayList and Clip. There are two sorts of the thumbnail, one of them being a thumbnail as a representative picture indicating the contents. This is mainly used in a main picture in order for the user to select what the or she desired to view on acting on a cursor, not shown. Another sort of the thumbnail is a picture indicating a scene pointed by the mark.<br>
The Volume and the respective PlayLists need to own representative pictures. The representative pictures of the Volume are presupposed to be used for initially demonstrating a still picture representing the disc contents when the disc is set in position in the recording ^nd/or reproducing apparatus 1. JLJS-Jwte4-tharthe disc means the recording medium 100 which is presupposed to be a of disc shape. The representative picture of the PlayList is presupposed to be used as a still picture for representing PlayList contents.<br>
As the representative picture of the PlayList, it may be contemplated to use the initial picture of the PlayList as the thumbnail (representative picture). However, the leading picture at the playback time of 0 is not necessarily an optimum picture representing the contents. So, the user is allowed to set an optional picture as a thumbnail of the PlayList. Two sorts of the thumbnails, that is the thumbnail as a representative picture indicating the Volume and the thumbnail as a representative picture indicating PlayList, are termed menu thumbnails. Since the menu thumbnails are demonstrated frequently, these thumbnails need to be read out at an elevated speed<br><br>
from the disc. Thus, it is efficient to store the totality of the menu thumbnails in a sole file. It is unnecessary for the menu thumbnails to be pictures extracted from the moving pictures in the volume, but may be a picture captured from a personal computer or a digital still camera, as shown in Fig. 10.<br>
On the other hand, the Clip and the Play List need be marked with plural marks, whilst the pictures of the mark points need to be readily viewed in order to grasp the contents of the mark positions. The picture indicating such mark point is termed a mark thumbnail. Therefore, the picture which is the original of the mark thumbnail is mainly an extracted mark point picture rather than a picture captured from outside.<br>
Fig.l 1 shows the relation between the mark affixed to the Play List and the mark thumbnail, whilst Fig. 12 shows the relation between the mark affixed to the Clip and the mark thumbnail. In distinction from the menu thumbnail, the mark thumbnail is used in e.g., a sub-menu for representing details of the PlayList, while it is not requested to be read out in a short access time. So, whenever a thumbnail is required, the recording and/or reproducing apparatus 1 opens a file and reads out a portion of the file, while there is no problem presented even if file opening and reading out a portion of the file by the recording and/or reproducing apparatus 1 takes some time. For decreasing the number of files present in a volume, it is preferred for the totality of the mark thumbnails to be stored in one file. While the PlayList may own one menu thumbnail and plural mark thumbnails, the user is not required to select the Clip directly (usually, the Clip is selected through PlayList), and hence there is no<br><br>
necessity of providing menu thumbnails.<br>
Fig. 13 shows the relation between the menu thumbnails, mark thumbnails, PlayList and Clips. In the menu thumbnail file are filed menu thumbnails provided from one PlayList to another. In the menu thumbnail file is contained a volume thumbnail representing the contents of data recorded on the disc. In the menu thumbnail file are filed thumbnails created from one PlayList to another and from one Clip to another.<br>
The CPI (Characteristic Point Information) is hereinafter explained. The CPI is data contained in the Clip information file and is used mainly for finding a data address in the Clip AV stream file at which to start the data readout when a time stamp of the access point to the Clip is afforded. In the present embodiment two sorts of the CPI are used, one of them being EP_map and the other being TUjmap.<br>
The EP_map is a list of entry point (EP) data extracted from the elementary stream and the transport stream. This has the address information used to find the site of entry points in the AV stream at which to start the decoding. One EP data is made up of a presentation time stamp (PTS) and a data address in the AV stream of the accessing unit associated with the PTS, with the data address being paired to the PTS.<br>
The EP_map is used mainly for two purposes. First, it is used for finding a data address in the AV stream in the accessing unit referenced by the PTS in the PlayList. Second, the EP_map is used for fast forward playback or fast reverse playback. If, in recording the input AV stream by the recording and/or reproducing apparatus 1, the<br><br>
syntax of the stream can be analyzed, the EP__map is created and recorded on the disc. The TU_map has a list of time unit (TU) data which is derived from the arrival time point of the transport packet input through a digital interface. This affords the relation between the arrival-time-based time and the data address in the AV stream. When the recording and/or reproducing apparatus 1 records an input AV stream, and the syntax of the stream cannot be analyzed, a TU_map is created and recorded on the disc.<br>
The STCInfo stores the discontinuous point information in the AV stream file which stores the MPEG-2 transport stream.<br>
When the AV stream has discontinuous points of STC, the same PTS values may appear in the AV stream file. Thus, if a time point in the AV stream is specified on the PTS basis, the PTS pf the access point is insufficient to specify the point. Moreover, an index of the continuous STC domain containing the PTS is required. In this format, the continuous STC domain and its index are termed an STC-sequence and STC-sequence-id, respectively. The STC-sequence information is defined by the STCInfo of the Clip Information file.<br>
The STC-sequence-id is used in an AV stream file and is optional in the AV stream file having the TU_map.<br>
The programs are each a collection of elementary streams and co-own a sole system time base for synchronized reproduction of these streams.<br>
It is useful for a reproducing apparatus (recording and/or reproducing apparatus<br><br>
1 of Fig. 1) to know the contents of an AV stream prior to its decoding. These contents include e.g., values of the PID of a transport packet transmitting an audio or video elementary stream or the type of the video or audio components, such as HDTV video or MPEG-2 AAC audio stream. This information is useful for creating a menu screen foy illustrating to the user the contents of the Play List referencing the AV stream. It is similarly useful for setting the initial state of the AV decoder and the demultiplexer of the respective apparatus.<br>
For this reason, the Clip Information file owns Programlnfo for illustrating the program contents.<br>
It may be an occurrence that program contents be changed in the AV stream file in which the MPEG-2 transport stream is stored. For example, the PID of the transport packet transmitting the video elementary stream may be changed, or the component type of the video stream may be changed from SDTV to HDTV.<br>
The Programlnfo stores the information on change points of program contents in the AV stream file. The domain of the AV stream file in which the program contents remain constant is termed program-sequence.<br>
This program-sequence is used in an AV stream file having EP_map and is optional in an AV stream file having TU_map.<br>
The present embodiment defines the self-encoding stream format (SESF). The SESF is used for encoding analog input signals and for decoding digital input signals for subsequently encoding the decoded signal into an MPEG-2 transport stream.<br><br>
The SESF defines an elementary stream pertinent to the MPEG-2 transport stream and the AV stream. When the recording and/or reproducing apparatus 1 encodes and records input signals in the SESF, an EP_map is created and recorded on the disc.<br>
A digital broadcast stream uses one of the following systems for recording on the recording medium 100: First, the digital broadcast stream is transcoded into an SESF stream. In this case, the recorded stream must conform to SESF and EP_map must be prepared and recorded on the disc.<br>
Alternatively, an elementary stream forming a digital broadcast stream is transcoded to a new elementary stream and re-multiplexed to a new transport stream conforming to the stream format prescribed by the organization for standardizing the digital broadcast stream. In this case, an EPjmap must be created and recorded on the disc.<br>
For example, it is assumed that the input stream is an MPEG-2 transport stream conforming to the ISDB (standard appellation of digital BS of Japan), with the transport stream containing the HDTV video stream and the MPEG AAC audio stream. The HDTV video stream is transcoded to an SDTV video stream, which SDTV video stream and the original AAC audio stream are re-multiplexed to TS. The SDTV stream and the transport stream both need to conform to the ISDB format.<br>
Another system of recording the digital broadcast stream on the recording medium 100 is to make transparent recording of the input transport stream, that is to record the input transport stream unchanged, in which case the EP_map is formulated<br><br>
and recorded on the disc.<br>
Alternatively, the input transport stream is recorded transparently, that is an input transport stream is recorded unchanged, in which case TU_map is created and recorded on the disc.<br>
The directory and the file are hereinafter explained. The recording and/or , reproducing apparatus 1 is hereinafter described as DVR (digital video recording). Fig. 14 shows a typical directory structure on the disc. The directories of the disc of the DVR may be enumerated by a root directory including "DVR" directory, and the "DVR" directory, including "PLAYLIST" directory, "CLIPINF" directory, "M2TS" directory and "DATA" directory, as shown in Fig. 14. Although directories other than these may be created below the root directory, these are discounted in the application format of the present embodiment.<br>
Below the "DATA" directory, there are stored all files and directories prescribed by the DVR application format. The "DVR" directory includes four directories. Below the "PLAYLIST" directory are placed Real PlayList and Virtual PlayList database files. The latter directory may exist in a state devoid of PlayList.<br>
Below "CLIPINF" is placed a Clip database. This directory, too, may exist in a state devoid of AV stream files. In the "DATA" directory, there are stored files of data broadcast, such as digital TV broadcast.<br>
The "DVR" directory stores the following files: That is, an "info.dvr" is created below the DVR directory to store the comprehensive information of an application<br><br>
layer. Below the DVR directory, there must be a sole info.dvr. The filename is assumed to be fixed to info.dvr. The "menu.thmb" stores the information pertinent to the menu thumbnails. Below the DVR directory, there must be 0 or 1 mark thumbnail. The filename is assumed to be fixed to "menu.thmb". If there is no menu thumbnail, this file may not exist.<br>
The "mark.thmb" file stores the information pertinent to the mark thumbnail picture. Below the DVR directory, there must be 0 or 1 mark thumbnail. The filename is assumed to be fixed to "menu.thmb". If there is no menu thumbnail, this file may not exist.<br>
The "PLAYLIST" directory stores two sorts of the Play List files which are Real PlayList and Virtual Play List. An "xxxxx.rpls" file stores the information pertinent to one Real PlayList. One file is created for each Real PlayList. The filename is "xxxxx.rpls", where "xxxxx" denotes five numerical figures from 0 to 9. A file extender must be "rpls".<br>
The "yyyyy.vpls" stores the information pertinent to one Virtual PlayList. One file with a filename "yyyyy,vpls" is created from one Virtual PlayList to another, where "yyyyy" denotes five numerical figures from 0 to 9. A file extender must be "vpls".<br>
The "CLIPINF" directory stores one file in association with each AV stream file. The "zzzzz.clpi" is a Clip Information file corresponding to one AV stream file (Clip AV stream file or Bridge-Clip stream file). The filename is "zzzzz.clpi", where "zzzzz" denotes five numerical figures from 0 to 9. A file extender must be "dpi".<br><br>
The "M2TS" directory stores an AV stream file. The "zzzzz.m2ts" file is an AV stream file handled by the DVR system. This is a Clip AV stream file or a Bridge-Clip AV stream file. The filename is "zzzzz.m2ts", where "zzzzz" denotes five numerical figures from 0 to 9. A file extender must be "m2ts".<br>
The "DATA" directory stores data transmitted from data broadcasting. This data may, for example, be XML or MPEG files.<br>
The syntax and the semantics of each directory (file) are now explained. Fig. 15 shows the syntax of the "info.dvr" file. The "info.dvr" file is made up of three objects, that is DVRVoume(), TableOfPlayLists() and MakersPrivateData().<br>
The syntax of info.dvr shown in Fig. 15 is explained. The TableOfPlayLists_Start_address indicates the leading address of the TableOfPlayListsQ in terms of the relative number of bytes from the leading byte of the "info.dvr" file.   The relative number of bytes is counted beginning from 0.<br>
The MakersPrivateData_Start_address indicates the leading address of the MakersPrivateDataQ, in terms of the relative number of bytes as from the leading byte of the "info.dvr" file. The relative number of bytes is counted from 0. The paddingword is inserted in association with the syntax of "info.dvr". Nl and N2 are optional positive integers. Each padding word may assume an optional value.<br>
The DVRVoIumeQ stores the information stating the contents of the volume (disc). Fig. 16 shows the syntax of the DVR Volume. The syntax of the DVRVoIumeQ, shown in Fig. 16, is now explained. The version_number indicates four<br><br>
character letters indicting the version numbers of the DVRVolumeQ.     The version_number is encoded to "0045" in association with IS0646.<br>
Length is denoted by 32-bit unsigned integers indicating the number of bytes from directly after the length field to the trailing end of DVRVolumeQ.<br>
The Resume VolumeQ memorizes the filename of the Real PlayList or the Virtual PlayList reproduced last in the Volume. However, the playback position when the user has interrupted playback of the Real PlayList or the Virtual PlayList is stored in the resume-mark defined in the PlayListMarkQ (see Figs.42 and 43).<br>
Fig. 17 shows the syntax of the Resume VolumeQ. The syntax of the ResumeVolumeQ shown in Fig. 17 is explained. The valid_flag indicates that the resume_PlayList_name field is valid or invalid when this 1-bit flag is set to 1 or 0, respectively.<br>
The 10-byte field of resume_PlayList_name indicates the filename of the Real PlayList or the Virtual PlayList to be resumed.<br>
The UIAppInfoVolume in the syntax of the DVRVolumeQ, shown in Fig. 16, stores parameters of the user interface application concerning the Volume. Fig. 18 shows the syntax of the UIAppInfo Volume, the semantics of which are now explained. The 8-bit field of character_set indicates the encoding method for character letters encoded in the Volumejname field. The encoding method corresponds to the values shown in Fig. 19.<br>
The 8-bit field of the namejength indicates the byte length of the Volume name<br><br>
indicated in the Volume_name field. The Volume_name field indicates the appellation of the Volume. The number of bytes of the number of the namejength counted from left of the field is the number of valid characters and indicates the volume appellation. The values next following these valid character letters may be any values.<br>
The Volume_protect_flag is a flag indicating whether or not the contents in the Volume can be shown to the user without limitations. If this flag is set to 1, the contents of the Volume are allowed to be presented (reproduced) to the user only in case the user has succeeded in correctly inputting the PIN number (password). If this flag is set to 0, the contents of the Volume are allowed to be presented to the user even in case the PIN number is not input by the user.<br>
If, when the user has inserted a disc into a player, this flag has been set to 0, or the flag is set to 1 but the user has succeeded in correctly inputting the PIN number, the recording and/or reproducing apparatus 1 demonstrates a list of the Play List in the disc. The limitations on reproduction of the respective Play Lists are irrelevant to the Volumejprotect_flag and are indicated by playback_control_flag defined in the UIAppInfo Volume.<br>
The PIN is made up of four numerical figures of from 0 to 9, each of which is coded in accordance with ISO/TEC 646. The ref_thumbnail_index field indicates the information of a thumbnail picture added to the Volume. If the ref_thumbnail_index field is of a value other than OxFFFF, a thumbnail picture is added to the Volume. The thumbnail picture is stored in a menu.thumb file. The picture is referenced using the<br><br>
value of the ref_thumbnail_indexinthemenu.thumbfile. If the ref_thumbnail_index field is OxFFFF, it indicates that a thumbnail picture has been added to the Volume. The TableOfPlayListQ in the info.dvr syntax shown in Fig.15 is explained. The TableOfPlayListQ stores the filename of the PlayList (Real PlayList and Virtual PlayList). All PlayList files recorded in the Volume are contained in the TableOfPlayListQ, which TableOfPlayListQ indicates the playback sequence of the default of the PlayList in the Volume.<br>
Fig.20 shows the syntax of the TableOfPlayListQ, which is now explained. The versionnumber of the TableOfPlayListQ indicates four character letters indicating the version numbers of the TableOfPlayLists. The version_number must be encoded to "0045" in accordance with ISO 646.<br>
Length is a unsigned 32-bit integer indicating the number of bytes of the TableOfPlayListQ from directly after the length field to the trailing end of the TableOfPlayListQ. The 16-bit field of the number_of_Play Lists indicates the number of loops of the for-loop inclusive of the PlayList_file_name. This numerical figure must be equal to the number of PlayLists recorded in the Volume. The 10-byte numerical figure of the PlayList_file_name indicates the filename of the PlayLists.<br>
Fig.21 shows another configuration of the syntax of the TableOfPlayListQ. The syntax shown in Fig.21 is comprised of the syntax shown in Fig.20 in which is contained the UIAppInfoPlayList. By such structure including the UIAppInfoPlayList, it  becomes  possible  to   create  a  menu  picture  simply   on   reading  out  the<br><br>
TableOfPlayLists. The following explanation is premised on the use of the syntax shown in Fig.20.<br>
The MakersPrivateData in the info.dvr shown in Fig.15 is explained. The MakersPrivateData is provided to permit the maker of the recording and/or reproducing apparatus 1 to insert private data of the maker in the MakersPrivateDataQ for special applications of different companies. The private data of each maker has standardized maker_ID for identifying the maker who has defined it. The MakersPrivateDataQ may contain one or more maker__ID.<br>
If a preset maker intends to insert private data, and the private data of a different maker is already contained in the MakersPrivateDataQ, the new private data is added to the MakersPrivateDataQ without erasing the pre-existing old private data. Thus, in the present embodiment, private data of plural makers can be contained in one MakersPrivateDataQ.<br>
Fig.22 shows the syntax of the MakersPrivateData. The syntax of the MakersPrivateData shown in Fig.22 is explained. The version_number of the TableOfPlayListQ indicates four character letters indicating the version numbers of the TableOfPlayLists. The version_number must be encoded to "0045" in accordance with ISO 646. Length is a unsigned 32-bit integer indicating the number of bytes of the TableOfPlayListQ from directly after the length field to the trailing end of the MakersPrivateDataQ.<br>
The mpd_blocks_start_address indicates the leading end address of the first<br><br>
mpd_block() in terms of the relative number of bytes from the leading byte of the MakersPrivateDataQ. The number_of_maker_entries is the 16-bit codeless integer affording the number of entries of the maker private data included in the MakersPrivateDataQ. There must not be present two or more maker private data having the same maker_ID values in the MakersPrivateDataQ.<br>
The mpd_blocks_size is a 16-bit unsigned integer affording one mpd_block size in terms of 1024 bytes as a unit. For example, if mpd_block_size = 1, it indicates that the size of one mpd_block is 1024 bytes. The number_of_mpd_blocks is a 16-bit unsigned integer affording the number of mpd_blocks contained in the MakersPrivateDataQ. The makerJDD is the 16-bit unsigned integer indicating the model number code of the DVR system which has created the maker private data. The value encoded to the maker_ID is specified by the licensor.<br>
The maker_model_code is a 16-bit unsigned integer indicating the model number code of the DVR system which has created the maker private data. The value encoded to the maker_model_code is set by the maker who has received the license of the format. The start_mpd_block_number is a 16-bit unsigned integer indicating the number of the mpd_block number at which begins the maker private data. The leading end of the maker private data must be aligned with the leading end of the mpd_block. The start_mpdJblock_number corresponds to a variable j in the for-loop of the mpd_block.<br>
The mpdjength is a 32-bit unsigned integer indicating the size of the maker<br><br>
private data. The mpd_block is an area in which is stored maker private data. All of the mpd_blocks in the MakersPrivateDataQ must be of the same size.<br>
The real PlayList file and the Virtual PlayList file, in other words, xxxxx.rpls and yyyyy.vpls, are explained. Fig.23 shows the syntax of xxxxx.rpls (Real PlayList) and yyyyy.vpls (Virtual PlayList), which are of the same syntax structure. Each of the xxxxx.rpls and yyyyy.vpls is made up of three objects, that is PlayListQ, PlayListMarkQ and MakersPrivateDataQ.<br>
The PlayListMark_Start_address indicates the leading address of the PlayListMark(), in terms of the relative number of bytes from the leading end of the PlayList file as a unit.   The relative number of bytes is counted from zero.<br>
The MakersPrivateData_Start_address indicates the leading address of the MakersPrivateDataQ, in terms of the relative number of bytes from the leading end of the PlayList file as a unit.   The relative number of bytes is counted from zero.<br>
The padding_word (padding word) is inserted in accordance with the syntax of the PlayList file, with Nl and N2 being optional positive integers. Each padding word may assume an optional value.<br>
PlayList will be further explained in the following although it has been explained briefly. A playback domain in all Clips except Bridge-Clip must be referred by all PlayLists in the disc. Also, two or more Real PlayLists must not overlap the playback domains shown by their Playltems in the same Clip.<br>
Reference is made to Figs.24A, 24B and 24C.   For all Clips, there exist<br><br>
corresponding Real Play Lists, as shown in Fig.24A. This rule is observed even after the editing operation has come to a close, as shown in Fig.24B. Therefore, all Clips must be viewed by referencing one of Real PlayLists.<br>
Referring to Fig.24C, the playback domain of the Virtual PlayList must be contained in the playback domain and in the Bridge-Clip playback domain. There must not be present in the disc Bridge-Clip not referenced by any Virtual PlayList.<br>
The Real PlayList, containing the list of the Playltem, must not contain SubPlayltem. The Virtual PlayList contains the Playltem list and, if the CPIJype contained in the PlayListQ is the EP_map type and the PlayList_type is 0 (PlayList containing video and audio) , the Virtual PlayList may contain one SubPlayltem. In the PlayListQ in the present embodiment, the SubPlayltem is used only for audio post recording. The number of the SubPlayltems owned by one Virtual PlayList must be 0 or 1.<br>
The PlayList is hereinafter explained. Fig.25 shows the PlayList syntax which is now explained. The version_number indicates four character letters indicting the version numbers of the PlayListQ. The versionjnumber is encoded to "0045" in association with ISO 646. Length is a 32-bit unsigned integer indicating the total number of byte of the PlayListQ as from directly after the length field to the trailing end of the PlayListQ. The PlayList_type, one example of which is shown in Fig.26, is an 8-bit field indicating the PlayList type.<br>
The CPI_type is one-bit flag indicating the value of the CPI_type of the Clip<br><br>
referenced by the PlayltemQ and by the SubPlayItem(). The CPIJypes defined in the CPIs of all Clips referenced by one PlayList must be of the same values. The number_of_PlayItems is a 16-bit field indicating the number of Playltems present in the PlayList.<br>
The Playltem_id corresponding to the preset PlayltemQ is defined by the sequence in which the PlayltemO appears in the for-loop containing the PlayltemQ. The Playltem_id begins with 0. The nimber_of_SubPlayItems is a 16-bit field indicating the number of SubPlayltem in the PlayList. This value is 0 or 1. An additional audio stream path (audio stream path) is a sort of a sub path.<br>
The UIAppInfoPlayList of the PlayList syntax shown in Fig.25 is explained. The UIAppInfoPlayList stores parameters of the user interface application concerning the PlayList. Fig.27 shows the syntax of the UIAppInfoPlayList, which is now explained. The character_set is an 8-bit field indicating the method for encoding character letters encoded in the PlayListname field. The encoding method corresponds to the values conforming to the table shown in Fig. 19.<br>
The name_length is an 8-bit field indicating the byte length of the PlayList name indicated in the PlayList_name field. The PlayList_name field shows the appellation of the PlayList. The number of bytes of the number of the name_length counted from left of the field is the number of valid characters and indicates the PlayList appellation. The values next following these valid character letters may be any values.<br>
The record_time_and_date is a 56-bit field storing the date and time on which<br><br>
the PlayList was recorded. This field is 14 numerical figures for year/ month/ day/ hour/minute/ second encoded in binary coded decimal (BCD). For example, 2001/12/ 23:01:02:03 is encoded to "0x20011223010203".<br>
The duration is a 24-bit field indicating the total replay time of the PlayList in terms of hour/ minute/ second as a unit. This field is six numerical figures encoded in binary coded decimal (BCD). For example, 01:45:30 is encoded to "0x014530".<br>
The valid_period is a 32-bit field indicating the valid time periods of the PlayList. This field is 8 numerical figures encoded in 4-bit binary coded decimal (BCD). The valid_period is used in the recording and/or reproducing apparatus 1 e.g., when the PlayList, for which the valid period has lapsed, is to be automatically erased. For example, 2001/05/07 is encoded to "0x20010507".<br>
The maker_ID is a 16-bit unsigned integer indicating the maker of the DVR player (recording and/or reproducing apparatus 1) which has been the last to update its PlayList. The value encoded to makerJD is assigned to the licensor of the DVR format. The maker_code is a 16-bit unsigned integer indicating the model number of the DVR player which has been the last to update the PlayList. The value encoded to the maker_code is determined by the maker who has received the license of the DVR format.<br>
If the flag of the playback_control_flag is set to 1, its PlayList is reproduced only when the user successfully entered the PIN number. If this flag is set to 0, the user may view the PlayList without the necessity of inputting the PIN number.<br><br>
If the write_protect_flag is set to 1, the contents of the PlayList are not erased nor changed except the write_proiect_flag. If this flag is set to 0, the user is free to erase or change the PlayList. If this flag is set to 1, the recording and/or reproducing apparatus 1 demonstrates a message requesting re-confirmation by the user before the user proceeds to erase, edit or overwrite the PlayList.<br>
The Real PlayList, in which the write_protect_flag is set to 0, may exist, the Virtual PlayList, referencing the Clip of the Real PlayList may exist, and the write_protect_flag of the Virtual PlayList may be set to 1. If the user is desirous to erase the Real PlayList, the recording and/or reproducing apparatus 1 issues an alarm to the user as to the presence of the aforementioned Virtual PlayList or "minimizes" the Real PlayList before erasing the Real PlayList.<br>
If is_played_flag is set to 1, as shown in Fig.28B, it indicates that the PlayList was reproduced at least once since it was recorded, whereas, if it is set to 0, it indicates that the PlayList was not reproduced even once since it was recorded.<br>
Archive is a two-bit field indicating whether the PlayList is an original or a copy, as shown in Fig.28C. The field of ref_thumbnail_index indicates the information of a thumbnail picture representative of the PlayList. If the ref_thumbnail_index field is of a value other than OxFFFF, a thumbnail picture representative of the PlayList is added in the PlayList, with the PlayList being stored in the menu.thmb file. The picture is referenced using the value of ref_thumbnail_index in the menu.thmb file. If the ref_thumbnail_index field is OxFFFF, no thumbnail picture representative of the<br><br>
PlayList is added in the PlayList.<br>
The Playltem is hereinafter explained. One PlayltemQ basically contains the following data: Clip_Information_file_name for specifying the filename of the Clip, IN-time and OUT-time, paired together to specify the playback domain of Clip, STC_sequence_id referenced by IN-time and OUT-time in case the CPI_type defined in PlayListQ is EPmap type, and Connection_Condition indicating the connection condition of previous Playltem and current Playltem.<br>
If PlayList is made up of two or more Playltems, these Playltems are arrayed in a row, without temporal gap or overlap, on the global time axis of the PlayList. If CPI_type defined in the PlayList is EP_map type and the current PlayList does not have the BridgeSequenceQ, the IN-time and OUT-time pair must indicate the same<br>
time on the STC continuous domain as that specified by the STC_sequence_id. Such<br>
instance is shown in Fig.29.<br>
Fig.30 shows such a case in which the CPI_type defined by PlayListQ and, if<br>
the current Playltem has the BridgeSequenceQ, the rules as now explained are applied.<br>
The IN__time of the Playltem previous to the current Playltem, shown as IN_timel,<br>
indicates the time in Bridge-Clip specified in the BridgeSequencelnfoQ of the current<br>
Playltem. This OUT_time must obey the encoding limitations which will be explained<br>
subsequently.<br>
The INjime of the current Playltem, shown as IN_time2, indicates the time in<br>
Bridge-Clip specified in the BridgeSequencelnfoQ of the current Playltem.   This<br><br>
IN_time also must obey the encoding limitations as later explained. The OUTjime of Playltem of the current Playltem, shown as OUT_time2, indicates the time on the STC continuous domain specified by STC_sequenbce_id of the current Playltem.<br>
If the CPIJype of PlayList() is TU_map type, the INjime and OUTjime of Playltem, paired together, indicate the time on the same Clio AV stream, as shown in Fig.31.<br>
The Playltem syntax is as shown in Fig.32. As to the syntax of the Playltem, shown in Fig.32, the field of the Clip_information_file_name indicates the filename of the Clip Information. The Clip^streamjype defined by the ClipInfoQ of this Clip Information file must indicate the Clip AV stream.<br>
The STC_sequence_id is an 8-bit field and indicates the STC_sequencejd of the continuous STC domain referenced by the Playltem. If the CPI_type specified in the PlayListQ is TU_map type, this 8-bit field has no meaning and is set to 0. INJime is a 32-bit field and used to store the playback start time of Playltem. The semantics of IN_time differs with CPI type defined in the PlayListQ, as shown in Fig.33.<br>
OUT_time is a 32-bit field and is used to store the playback end time of Playltem. The semantics of OUTjime differs with CPIJype defined in the PlayListQ, as shown in Fig. 34.<br>
Connection_condition is a 2-bit field indicating the connection condition between the previous Playltem and the current Playltem, as shown in Fig.35. Figs.36A to 36D illustrate various states of Connection_condition shown in Fig.35.<br><br>
BridgeSequencelnfo is explained with reference to Fig.37. This BridgeSequenceInfo is the ancillary information of the current Play Item and includes the following information. That is, BridgeSequencelnfo includes Bridge_ClipJtaformation_file_name for specifying the Bridge_Clip AV file and a Bridge_Clip_Information_file_name specifying the corresponding Clip Information file (Fig.45).<br>
It is also an address of a source packet on the Clip AV stream referenced by the<br>
previous Playltem. Next to this source packet is connected the first source packet of<br>
the    Bridge-Clip    AV    stream.	This    address    is    termed    the<br>
RSPN_exit_from_previous_Clip. It is also an address of the source packet on the Clip AV stream referenced by the current Playltem. Ahead of this source packet is connected the last source packet of the Bridge_clip AV stream file. This address is termed RSPN_enter_to_current_Clip.<br>
In Fig.37, RSPN_arrival_time_discontinuity indicates an address of a source packet in the BridgeClip AV stream where there is a discontinuous point in the arrival time base. This address is defined in the ClipInfoQ (Fig.46).<br>
Fig.38 shows the syntax of the BridgeSequencelnfo. Turning to the syntax of BridgeSequencelnfo shown in Fig.38, the field of Bridge_ClipJfaformation_file_name indicates the filename of the Clip Information file corresponding to the Bridge_Qip_Information_file. The Clip_stream_type defined in ClipInfoQ of this Clip information file must indicate "Bridge_Clip AV stream".<br><br>
The 32-bit field of the RSPN_exit_from_previous_Clip is a relative address of a source packet on the Clip AV stream referenced by the previous Playltem. Next to this source packet is connected the first source packet of the Bridge_Clip AV stream file. The RSPN_exitJfromj&gt;revious_Clip has a size based on the source packet number as a unit, and is counted with the value of the offsetjSPN defined in the ClipInfo() from the first source packet of the Clip AV stream file referenced by the previous Playltem.<br>
The 32-bit field of RSPN_enter_to_curent_Clip is the relative address of the source packet on the Clip AV stream referenced by the current Playltem. Ahead of this source packet is connected the last source packet of the Bridge_Clip_AV stream file. The RSPN_enter_to_curent_Clip has a size that is based on the source packet number as a unit. The RSPN_enter_to_curent_Clip is counted with the value of the offsetjSPN, defined in the ClipInfo() from the first source packet of the Clip AV stream file referenced by the current Playltem, as an initial value.<br>
The SubPlayltem is explained with reference to Fig.39. The use of SubPlayltemQ is permitted only if the CPI_type of the PlayListQ is the EP_map type. In the present embodiment, SubPlayltem is used only for audio post recording. The SubPlayltemQ includes the following data. First, it includes Clip_Information_file_name for specifying the Clip referenced by the sub path in the PlayList.<br>
It also includes SubPath_IN_time and SubPath_OUT_time for specifying the<br><br>
sub path playback domain in the Clip. Additionally, it includes sync_PlayItem_id and start_PTS_of_Playrtem for specifying the time of starting the sub path reproduction on the main path time axis. The Clip AV stream, referenced by the sub path, must not contain STC discontinuous points (discontinuous points of the system time base). The clocks of audio samples of the Clip used in the sub path are locked to the clocks of the audio samples of the main path.<br>
Fig.40 shows the syntax of the SubPIayltem. Turning to the syntax of the SubPIayltem, shown in Fig.40, the field of the CIip_Information_file_name indicates the filename of the Clip Information file and is used by a sub path in the PlayList. The Clip_stream_type defined in this ClipInfoQ must indicate the Clip AV stream.<br>
An 8-bit field of sync_PlayItem_id indicates the sub path type. Here, only "0x00" is set, as shown in Fig.41, while other values are reserved for future use.<br>
The 8-bit field of sync_PlayItem_id indicates the Playltem_id of the Playltem<br>
containing the time of playback start of the sub path on the time axis of the main path.<br>
The value of Playltem_id corresponding to the preset Playltem is defined in the<br>
PlayListQ (Fig.25).<br>
A 32-bit field of sync_start_PTS_of_PlayItem denotes the time of playback start<br>
of the sub path on the time axis of the main path, and denotes the upper 32 bits of the<br>
PTS (presentation time stamp) on the Playltem referenced by the sync_PlayItem_id.<br>
The upper 32 bit field of the SubPath_IN_time stores the playback start time of the sub<br>
path.  SubPath_IN_time denotes upper 32 bits of the PTS of 33 bits corresponding to<br><br>
the first presentation unit in the sub path.<br>
The upper 32 bit field of subPath_OUT_time stores the playback end time of the sub path. SubPath_OUT_time indicates upper 32 bits of the value of the Presentation_end_TS calculated by the following equation:<br>
Presentation_end_TS = PTS_OUT + AU_duration where PTS_out is the PTS of the 33 bit length corresponding to the last presentation unit of the SubPath and AU_duration is the 90 kHz based display period of the last presentation unit of the SubPath.<br>
Next, PlayListMark() in the syntax of xxxxx.rpls and yyyyy.vpls shown in Fig.23 is explained. The mark information pertinent to the PlayList is stored in this PlayListMark. Fig.42 shows the syntax of PlayListMark. Turning to the syntax of the PlayListMark shown in Fig.42, version_number is four character letters indicating the version number of this PlayListMarkQ. The version_number must be encoded to "0045" in accordance with ISO 646.<br>
Length is an unsigned 32-bit integer indicating the number of bytes of PlayListMarkQ from directly after the length field to the trailing end of the PlayListMarkQ. The number_of_PlayListMarks is a 16-bit unsigned integer indicating the number of marks stored in the PlayListMark. The number_of_PlayListMarks may be zero. The markjype is an 8-bit field indicating the mark type and is encoded in the table shown in Fig.43.<br>
A 32-bit filed of mark_time_stamp stores a time stamp indicating the point<br><br>
specified by the mark. The semantics of the mark_time_stamp differ with CPI_type defined in the PlayList(), as shown in Fig.44. The Playltem_id is an 8-bit field specifying the Play Item where the mark is put. The values of Playltem_id corresponding to a preset Playltem is defined in the PlayListQ (see Fig.25).<br>
An 8-bit field of character_set shows the encoding method of character letters encoded in the markname field. The encoding method corresponds to values shown in Fig. 19. The 8-bit field of name_length indicates the byte length of the mark name shown in the mark_name field. The mark_name field denotes the mark name indicated in the markjtiame field. The number of bytes corresponding to the number of name_lengths from left of this field is the effective character letters and denotes the mark name. In the mark_name field, the value next following these effective character letters may be arbitrary.<br>
The field of the refjhumbnailindex denotes the information of the thumbnail picture added to the mark. If the field of the ref_thumbnail_index is not OxFFFF, a thumbnail picture is added to its mark, with the thumbnail picture being stored in the mark.thmb file. This picture is referenced in the mark.thmb file, using the value of refjhumbnailindex, as explained subsequently. If the refjhumbnailindex field is OxFFFF, it indicates that no thumbnail picture is added to the mark.<br>
The Clip Information file is now explained. The zzzzz.clpi (Clip Information file) is made up of six objects, as shown in Fig.45. These are ClipInfo(), STC_Info(), ProgramQ, CPIQ, ClipMarkQ and MakersPrivateDataQ. For the AV stream (Clip AV<br><br>
stream or Bridge-Clip AV stream) and the corresponding Clip Information file, the same string of numerals "zzzzz" is used.<br>
Turning to the syntax of zzzzz.clpi (Clip Information file) shown in Fig.45 is explained. The ClipInfo_Start_address indicates the leading end address of ClipInfoQ with the relative number of bytes from the leading end byte of the zzzzz.clpi file as a unit. The relative number of bytes is counted from zero.<br>
The STC_Info_Start_address indicates the leading end address of STCJnfo with the relative number of bytes from the leading end byte of the zzzzz.clpi file as a unit. The ProgramInfo_Start_address indicates the leading end address of ProgramlnfoQ with the relative number of bytes from the leading end byte of the zzzzz.clpi file as a unit. The relative number of bytes is counted from 0. The CPI_Start_address indicates the leading end address of CPI() with the relative number of bytes from the leading end byte of the zzzzz.clpi file as a unit. The relative number of bytes is counted from zero.<br>
The ClipMark_Start_address indicates the leading end address of ClipMarkQ with the relative number of bytes from the leading end byte of the zzzzz.clpi file as a unit. The relative number of bytes is counted from zero. TheMakersPrivateData Start_address indicates the leading end address of MakersPrivateData() with the relative number of bytes from the leading end byte of the zzzzz.clpi file as a unit. The relative number of bytes is counted from zero. The padding_word is inserted in accordance with the syntax of the zzzzz.clpi file. Nl, N2, N3, N4 and N5 must be zero<br><br>
or optional positive integers. The respective padding words may also assume optional values.<br>
The Cliplnfo is now explained. Fig.46 shows the syntax of Cliplnfo. Fig.46 shows the syntax of Cliplnfo. In the ClipInfo() is stored the attribute information of corresponding AV stream files (Clip AV stream or Bridge-Clip AV stream file).<br>
Turning to the syntax of the Cliplnfo shown in Fig.46, version_number is the four character letters indicating the version number of this ClipInfoQ. The version_number must be encoded to "0045" in accordance with the ISO 646. Length is a 32-bit unsigned integer indicating the number of bytes of ClipInfoQ from directly at back of the length field to the trailing end of the ClipInfoQ. An 8-bit field of Clip_stream_type indicates the type of the AV stream corresponding to the Clip Information file, as shown in Fig.47. The stream types of the respective AV streams will be explained subsequently.<br>
The 32-bit field of offset_SPN gives an offset value of the source packet number of the first source packet number of the first source packet of the AV stream (Clip AV stream or the Bridge-Clip AV stream). When the AV stream file is first recorded on the disc, this offset_SPN must be zero.<br>
Referring to Fig.48, when the beginning portion of the AV stream file is erased by editing, offset_SPN may assume a value other than 0. In the present embodiment, the relative source packet number (relative address) referencing the offset_SPN is frequently described in the form of RSPNxxx, where xxx is modified such that<br><br>
RSPN_xxx is RAPN_EP_start. The relative source packet number is sized with the source packet number as a unit and is counted from the first source packet number of the AV stream file with the value of the offset_SPN as the initial value.<br>
The number of source packets from the first source packet of the AV stream file to the source packet referenced by the relative source packet number (SPN_xxx) is calculated by the following, equation:<br>
SPNxxx = RSPN_xxx - offset_SPN. Fig.48 shows an instance in which offset_SPN is 4.<br>
TS_recording_rate is a 24-bit unsigned integer, which affords an input/output bit rate required for the AV stream to the DVR drive (write unit 22) or from the DVR drive (readout unit 28). The record^time_and_date is a 56-bit field for storing the date and time of recording of the AV stream corresponding to the Clip and is an encoded representation of year/month/day/hour/minute in 4-bit binary coded decimal (BCD) for 14 numerical figures. For example, 2001/2/23:01:02:03 is encoded to "0x20011223010203".<br>
The duration is a 24-bit field indicating the total playback time of the Clip by hour/minute/second based on arrival time clocks. This field is six numerical figures encoded in 4-bit binary coded decimal (BCD). For example, 01:45:30 is encoded to "0x014530".<br>
A flag time_controlled_flag indicates the recording mode of an AV stream file. If this time_controlled_flag is 1, it indicates that the recording mode is such a mode<br><br>
in which the file size is proportionate to the time elapsed since recording, such that the condition shown by the following equation: Ts_average_rate* 192/188* (t - start_time)- a 

In the above equation, t denotes the time in seconds, while start_time is the time point when the first source packet of the AV stream file was recorded. The size_clip(t) is 10*192 bytes and a is a constant dependent on TS_average_rate.<br>
If time_controlled_flag is set to 0, it indicates that the recording mode is not<br>
controlling so that the time lapse of recording is proportionate to the file size of the AV<br>
stream. For example, the input transport stream is recorded in a transparent fashion.<br>
If time_controlled_flag is set to 1, the 24-bit field of TS_average_rate indicates<br>
the value of TS_average_rate used in the above equation. If time_controlled_flag is set<br>
to 0, this field has no meaning and must be set to 0. For example, the variable bit rate<br>
transport stream is encoded by the following sequence; First, the transport rate is set<br>
to the value of TS_recording_rate. The video stream is encoded with a variable bit<br>
rate. The transport packet is intermittently encoded by not employing null packets.<br>
The 32-bit field of RSPN_arrival_time_discontinuity is a relative address of a<br>
site where arrival timebase discontinuities are produced on the Bridge-Clip AV stream<br>
file. The RSPN_arrival_time_discontinuity is sized with the source packet number as<br><br>
a unit and is counted with the value of offset_SPN defined in the ClipInfoQ as from the first source packet of the Bridge-Clip AV stream file. An absolute address in the Bridge-Clip AV stream file is calculated based on the aforementioned equation: SPN_xxx = RSPN_xxx - offset_SPN.<br>
The 144-bit field of reserver_for_system_use is reserved for a system. If is_format_identifier_valid flag is 1, it indicates that the field of format_identifier is effective. If is_format_identifier_valid flag is 1, it indicates that the format_identifier field is valid. If is_original_network_ID_valid flag is 1, it indicates that the field of is_transport_stream_ID-valid is valid. If the flag is_transport_stream_ID-valid is 1, it indicates that the transportstreamID field is valid. If is_servece_ID_valid flag is 1, it indicates that the servece_ID field is valid.<br>
If is_country_code_valid flag is 1, it indicates that the field countrycode is valid. The 32-bit field of format_identifier indicates the value of format_identifier owned by a registration descriptor (defined in ISO/IEC13818-1) in the transport stream. The 16-bit field of original_network_ID indicates the value of the original_network_ID defined in the transport stream.<br>
The 16-bit field in servece_ID denotes the value of servece_ID defined in the transport stream. The 24-bit field of country_code shows a country code defined by IS03166. Each character code is encoded by IS08859-1. For example, Japan is represented as" JPN" and is encoded to "0x4A 0x50 0x4E". The stream Jbrmatname is 15 character codes of ISO-646 showing the name of a format organization affording<br><br>
stream definitions of transport streams. An invalid byte in this field has a value of "OxFF".<br>
Format_identifier, original_network_ID, transport_stream_ID, servece_ID, country_code and stream_format__name indicate service providers of transport streams. This allows to recognize encoding limitations on audio or video streams and stream definitions of private data streams other than audio video streams or SI (service information). These information can be used to check if the decoder is able to decode the stream. If such decoding is possible, the information may be used to initialize the decoder system before starting the decoding.<br>
STC_Info is now explained. The time domain in the MPEG-2 transport stream not containing STC discontinuous points(discontinuous points of the system time base) is termed the STCjsequence. In the Clip, STCjsequence is specified by the value of STC_sequence_id. Figs.50A and 50B illustrate a continuous STC domain. The same STC values never appear in the same STC_sequence, although the maximum tine length of Clip is limited, as explained subsequently. Therefore, the same PTS values also never appear in the same STCsequence. If the AV stream contains N STC discontinuous points, where N &gt; 0, the Clip system time base is split into (N+1) STC_sequences.<br>
STCJnfo stores the address of the site where STC discontinuities (system timebase discontinuities) are produced. As explained with reference to Fig.51, the RSPN_STC_start indicates the address and begins at a time point of arrival of the<br><br>
source packet referenced by the (k+l)st RSPN_STC_start and ends at a time point of arrival of the last source packet.<br>
Fig.52 shows the syntax of the STCJnfo. Turning to the syntax of STCJnfo shown in Fig.52, version_number is four character letters indicating the version number of STC_Info(). The version_number must be encoded to "0045" in accordance with ISO 646.<br>
Length is a 32-bit unsigned integer indicating the number of bytes of STCJnfo() from directly after this length field to the end of STCJnfo. If CPIJype of CPI() indicates TU_map type, 0 may be set in this length field. If CPIJype of CPIQ indicates EP_map type, the num_of_STC_sequence mut be of a value not less than 1.<br>
An 8-bit unsigned integer of num_of_STC_sequence indicates the number of sequences in the Clip. This value indicates the number of the for-loops next following the field. The STC_sequenceJd corresponding to the preset STCjsequence is defined by the order in which appears the RSPNJSTC_start corresponding to the STC_sequence in the for-loop containing the RSPN_STC_start. The STC_sequence_id commences at 0.<br>
The 32-bit field of RSPN_STC_start indicates an address at which the STC_sequence commences on the AV stream file. RSPN_STC_start denotes an address where system time base discontinuities are produced in the AV stream file. The RSPN_STC_start may also be a relative address of the source packet having the<br><br>
first PCR of the new system time base in the AV stream. The RSPN_STC_start is of a size based on the source packet number and is counted from the first source packet of the AV stream file with the offset_SPN value defined in ClipInfoQ as an initial value. In this AV stream file, the absolute address is calculated by the above-mentioned equation, that is<br>
SPN_xxx = RSPN_xxx - offset_SPN.<br>
Programlnfo in the syntax of zzzz.clip shown in Fig.45 is now explained with reference to Fig.53. The time domain having the following features in the Clip is termed program_sequence. These feature are that the value of PCR_PID is not changed, the number of audio elementary streams is also not changed, the PID values in the respective video streams are not changed, the encoding information which is defined by VideoCodinglnfo thereof is not changed, the number of audio elementary streams is also not changed, the PID values of the respective audio streams are not changed, and that the encoding information, which is defined by AudioCodinglnfo thereof, is not changed.<br>
Program_sequence has only one system time base at the same time point. Program_sequence has a sole PMT at the same time point. ProgramInfo() stores the address of the site where the program_sequence commences. RSPN_program_sequence-start indicates the address.<br>
Fig.54 illustrates the syntax of Programlnfo. Turning to the Programlnfo shown in Fig.54, version_number is four character letters indicating the version number of<br><br>
ProgramlnfoQ. The version_number must be encoded to "0045" in accordance with ISO 646.<br>
Length is a 32-bit unsigned integer indicating the number of bytes of ProgramlnfoQ from directly at back of this length field to the end of program(info(). If CPIJype of CPI() indicates the TU_map type, this length field may be set to 0. If the CPIJype of CPI() indicates EP_map type, the numberj&gt;fj)rograms must be of a value not less than 1.<br>
An 8-bit unsigned integer of number_of_program_sequences denotes the number of program_sequences in the Clip. This value indicates the number of for-loops next following this field. If program_sequence in the Clip is not changed, 1 must be set in the number of program_sequences, A 32-bit field of RSPN_program_sequence_start is a relative address where the program sequence commences on the AV stream.<br>
RSPN_program_sequence_start is sized with the source packet number as a unit and is counted with the value of offset_SPN defined in the ClipInfoQ as from the first source packet of the AV stream file. An absolute address in the AV stream file is calculated by:<br>
SPN_xxx = RSPNxxx - offset_SPN. The values of RSPN_program_sequence_start in the for-loop syntax must appear in the rising order.<br>
A 16-bit field of PCR_PID denotes the PID of the transport packet containing<br><br>
an effective PCR field effective for the program_sequence. An 8-bit field of number_of_audios indicates the number of for-loops containing audio_stream_PID and AudioCodinglnfoQ. A 16-bit field of video_streamJPID indicates the PID of the transport packet containing a video stream effective for its program_sequence. VideoCodinglnfoQ, next following this field, must explain the contents of the video stream referenced by its video_stream_PID.<br>
A 16-bit field of audio_stream_PID indicates the PID of a transport packet containing the audio stream effective for its program_sequence. The AudioCodinglnfoQ, next following this field, must explain the contents of the video stream referenced by its audio_stream_PID.<br>
The order in which the values of video_stream_PID in the for-loop of the syntax must be equal to the sequence of PID encoding of the video stream in the PMT effective for the program_sequence. Additionally, the order in which the values of audio_stream_PID appears in the for-loop of the syntax must be equal to the sequence of PID encoding of the audio stream in the PMT effective for the program_sequence.<br>
Fig.55 shows the syntax of VideoCodinglnfo in the syntax of the Programlnfo shown in Fig.54. Turning to the syntax of the VideoCoding Info shown in Fig.55, an 8-bit field of video_format indicates the video format corresponding to video_stream_PID in ProgramlnfoQ, as shown in Fig.56.<br>
Referring to Fig.57, an 8-bit field of frame_rate indicates the video frame rate corresponding to the video_stream_PID in ProgramlnfoQ.    An 8-bit field of<br><br>
display_aspect_ratio  indicates  a video  display  aspect  ratio  corresponding to video_stream_PID in ProgramInfo().<br>
Fig.59 shows the syntax of AudioCodinglnfo in the syntax of Programlnfo shown in Fig.54. Turning to the syntax of the AudioCoding Info shown in Fig.59, an 8-bit field of audio_format indicates the audio encoding method corresponding to audio_stream_PID in ProgramlnfoQ, as shown in Fig. 60.<br>
An 8-bit field of audio_component_type indicates an audio component type corresponding to audio_stream_PID in ProgramlnfoQ as shown in Fig.61, whilst an 8-bit field of sampling_frequency indicates an audio sampling frequency corresponding to audio_stream_PID in ProgramlnfoQ as shown in Fig. 62.<br>
The CPI (Characteristics Point Information) in the syntax of zzzzz.clip shown in Fig.45 is explained. The CPI is used for correlating the time information in the AV stream with the address in its file. The CPI is of two types, namely EP_map and TU_map. In Fig.63, if CPItype in CPI() is EP_map, its CPIQ contains EP_map. In Fig.64, if CPIJype in CPIQ is TU_map, its CPIQ contains TU_map. One AV stream has one EP_map or one TU_map. If the AV stream is an SESF transport stream, the corresponding Clip must own an EP_map.<br>
Fig.65 show the syntax of CPI. Turning to the syntax of CPI shown in Fig.65, the version_number is four character letters indicating the version number of this CPIQ. The version_number must be encoded to "0045" in accordance with ISO 646. Length is a 32-bit unsigned integer indicating the number of bytes as from directly<br><br>
after this length field to the trailing end of the CPI(). The CPIJype is a 1-bit flag and indicates the CPI type of Clip, as shown in Fig.66.<br>
The EP_map in the CPI syntax shown in Fig.65 is explained. There are two types of the EP_map, that is EP_map for a video stream and an EPjmap for an audio stream. The EP_map_type in the EP_map differentiates between these EP_map types. If the Clip contains one or more video streams, the EP__map for the video stream must be used. If the Clip does not contain a video stream but contains one or more audio streams, the EP_map for the audio stream must be used.<br>
The EP_map for a video stream is explained with reference to Fig.67. The EP_map for the video stream has data streamJPID, PTS_EP_start and RSPN_EP_start. The stream_PID shows the PID of the transport packet transmitting a video stream. The PTS_EP_start indicates the PTS of an access unit beginning from the sequence header of the video stream. The RSPN_RP_start indicates the address of a source packet including the first byte of the access unit referenced by the<br>
PTS_EP_start in the AV stream.<br>
A sub table, termed EP_map_for_one_stream_PID() is created from one video<br>
stream transmitted by the transport packet having the same PID to another. If plural<br>
video    streams    exist    in    the    Clip,    the    EP_map    may    contain    plural<br>
EP_map_for_one_stream_PID().<br>
The EP_map for audio stream has data stream_PID, PTS_EP_start and<br>
RSPN_EP_start. The stream_PID shows a PID of a transport packet transmitting an<br><br>
audio stream. The PTS_EP_start shows the PTS of an accessing unit in the audio stream. The RSPN_EP-start indicates an address of a source packet containing a first byte of the access unit referenced by PTS_EP_start of the AV stream.<br>
The sub table termed EP_map_for_one_stream_PID() is created from one audio stream transmitted by the transport packet having the same PID to another. If there exist plural audio streams in the Clip, EP_map may contain plural EPjmap-_for_one_stream_PID().<br>
Turning to the relation between EP_map and STC_Info, one EP_map_for_one_stream_PID() is created in one table irrespective of discontinuous points in the STC. Comparison of the value of the RSPN_EP_start to the value of RSPN_STC_start defined in STC_Info() reveals the boundary of data of EP_map belonging to respective STC_sequences (see Fig.68). The EP_map must have one EP_map_for_one_stream_PID for a continuous stream range transmitted by the same PID. In the case shown in Fig.69, program#l and program#3 have the same video PID, however, the data range is not continuous, so that EP_map_for_one_stream_PID must be provided for each program.<br>
Fig.70 shows the EP_map syntax. By way of explanation of the EP_map syntax shown in Fig.70, the EP_type is a 4-bit field and shows the EP_map entry point type, as shown in Fig.71. The EP_type shows the semantics of the data field next following this field. If Clip includes one or more video stream, the EP_type must be set to 0 ("video"). Alternatively, if the Clip contains no video stream but contains one or more<br><br>
audio stream, then EP_type must be set to 1 ("audio").<br>
The 16-bit field of number_of_stream_PIDs indicates the number of times of loops of the for-loop having number_of_stream_PIDs in the EP_mapQ as a variable. The 16-bit field of stream__PID(k) indicates the PID of the transport packet transmitting the number k elementary stream (video or audio stream) referenced by EP_map_for_one_stream_PID (num_EP_entries(k)). If EPjype is 0 ("video"), its elementary stream must be a video stream. If EP_type is equal to 1 ("audio"), its elementary stream must be the audio stream.<br>
The 16-bit field of num_EP_entries(k) indicates the num_EP_entries(k) referenced by EP_map_entries(k)). The EP_map_for_one_stream_PID_ Start_address(k): This 32-bit field indicates the relative address position at which the EP_mapjfor_one_stream_ PID(num_EP_entries(k)) begins in the EP_map(). This value is indicated by the size as from the first byte of the EP_map().<br>
Padding_word must be inserted in accordance with the EP_map() syntax. X and Y must be optional positive integers. The respective padding words may assume any optional values.<br>
Fig. 72 shows the  syntax  of EP_map_for_one_stream_PID.  By way  of explanation of the syntax of the EP_map_for_one_stream_PID shown in Fig.72, the semantics of the 32-bit field of PTS_EP_start differs with the EPjype defined by EP_map(). If EPjype is equal to 0 ("video"), this field has upper 32 bits of the 33-bit precision PTS of the access unit beginning with a sequence header of the video stream.<br><br>
If the EPjype is equal to 1 ("audio"), this field has upper 32 bits of PTS of 33 bit precision of the access unit of the audio stream.<br>
The semantics of the 32-bit field of RSPN_EP_start differs with the EPjype defined in EP_map(). If EPjype is equal to 0 ("video"), this field indicates the relative address of the source packet including the first byte of the sequence header of the access unit referenced by the PTS_EP_start in the AV stream. Alternatively, if EPjype is equal to 1 ("audio"), this field indicates the relative address of the source packet containing the first byte in the audio stream of the access unit referenced by the PTS_EP_start in the AV stream.<br>
RSPNJEP_start is of a size which is based on the source packet number as a unit, and is counted from the first source packet of the AV stream file, with the value of the offset JSPN, defined in ClipInfo(), as an initial value. The absolute address in the AV stream file is calculated by<br>
SPN_xxx = RSPN_xxx - offset_SPN.<br>
It is noted that the value of the RSPN_EP_start in the syntax must appear in the rising order.<br>
The TUjmap is now explained with reference to Fig.73. TU_map forms a time axis based on the source packet arrival time clock (timepiece of the arrive time base). This time axis is termed TUjnap time_axis. The point of origin of TU_mapJime_axis is indicated by offset Jime in the TU_map(). TU_map Jime_axis is divided in a preset unit as from offset Jime, this unit being termed time_unit.<br><br>
In each time_unit in the AV stream, addresses on the AV stream file of the source packet in the first complete form are stored in TU_map. These addresses are termed RSPN_time_unit_start. The time at which begins the k(k ^ 0)th time_unit on the TU_mapjime_axis is termed TU_start Jime(k). This value is calculated based on the following equation:<br>
TU_startJime(k) = offsetjime + k*time_unit_size. It is noted that TU_start_time(k) has a precision of 45 kHz. Fig.74 shows the syntax of TU_map. By way of explanation of the TU_map syntax shown in Fig.74, the 32-bit field of offset_time gives an offset time relative to TUjnapJime_axis. This value indicates the offset time relative to the first time_unit in the Clip. The offsetjime is of a size based on 45 kHz clock derived from the 27 MHz precision arrival time clocks as unit. If the AV stream is to be recorded as new Clip, offsetjime must be set to 0-<br>
The 32-bit field of time_uflit_size affords the size of the timejunit, and is based on 45 kHz clocks, derived from the 27 MHz precision arrival time clocks, as unit. Preferably, time_unit_size is not longer than one second (time_unit_size 
The 32-bit field of RSNJime_unit_start indicates the relative address of a site in the AV stream at which begins each timejinit. RSNjime_unit_start is of a size based on the source packet number as unit and is counted with the value of offset_SPN<br><br>
defined in ClipInfoQ as from the first source packet of the AV stream file as an initial value. The absolute address in the AV stream file is calculated by SPN_xxx = RSPN_xxx - offset_SPN.<br>
It is noted that the value of RSN__time_unit_start in the for-loop of the syntax must appear in the rising order. If there is no source packet in the number (k+1) time_unit, the number (k+1) RSN_time_unit_start must be equal to the number k RSPN_time_unit_start.<br>
By way of explanation of the ClipMark in the syntax of zzzzz.clip shown in Fig.45, the ClipMark is the mark information pertinent to clip and is stored in the ClipMark. This mark is not set by a user, but is set by a recorder (recording and/or reproducing apparatus 1).<br>
Fig.75 shows the ClipMark syntax. By way of explanation of the ClipMark syntax shown in Fig.75, the version_number is four character letters indicating the version number of this ClipMark. The version_number must be encoded in accordance with ISO 646 to "0045".<br>
" Length is a 32-bit unsigned integer indicating the number of bytes of the ClipMark() as from directly after the length field to the trailing end of ClipMarkQ. The number_of_Clip_marks is a 16-bit unsigned integer indicating the number of marks stored in ClipMark and may be equal to 0. Mark_type is an 8-bit field indicating the mark type and is encoded in accordance with the table shown in Fig. 76.<br>
Mark_time_stamp is a 32-bit field and stores the time stamp indicating a pointer<br><br>
having a specified mark. The semantics of mark_time_stamp differs with CPI_Jype in the PlayListQ, as shown in Fig.77.<br>
If CPI_type in CPIQ indicates the EP_map type, this 8-bit field indicates the STC_sequence_id of the continuous STC domain where there is placed mark_time_stamp. If CPI_type in CPI() indicates TU_map type, this 8-bit field has no meaning but is set to 0. The 8-bit field of Character_set indicates the indicating method of character letters encoded in the markjtiame field. The encoding method corresponds to the value shown in Fig. 19.<br>
The 8-bit field of name_length indicates the byte length of the mark name shown in the mark_name field. This mark_name field indicates the mark name. The byte number corresponding to the number of the name_length from left of this field is the effective character number and denotes the mark name. In the mark_name field, the values next following these effective character letters may be arbitrary.<br>
The field of ref_thumbnail_index indicates the information of the thumbnail picture appended to the mark. If the ref_thumbnail_index field is of a value different from OxFFFF, a thumbnail picture is added to its mark, with the thumbnail picture being stored in the mark.thumb file. This picture is referenced using the value of ref_thumbnail_index in the mark.thumb file. If the ref_thumbnail_index field is of a value equal to OxFFFF, a thumbnail picture is not appended to its mark.<br>
MakerPrivateData has already been explained with reference to Fig.22 and hence is not explained here specifically.<br><br>
Next, thumbnail_information is explained. A thumbnail picture is stored in a menu.thmb file or in a mark.thmb file. These files are of the same syntax structure and own a sole ThumbnailQ. The menu.thmb file stores a picture representing respective PlatyLists. The totality of menu thumbnails are stored in the sole menu.thmb file.<br>
The mark.thmb file stores a mark thumbnail picture, that is a picture representing a mark point. The totality of mark thumbnails corresponding to the totality of PlayLists and Clips are stored in the sole mark.thmb file. Since the thumbnails are frequently added or deleted, the operation of addition and partial deletion must be executable readily and speedily. For this reason, ThmbnailQ has a block structure. Picture data is divided into plural portions each of which is stored in one tn_block. One picture data is stored in consecutive tn_blocks. In the string of tn_blocks, there may exist a tn_block not in use. The byte length of a sole thumbnail picture is variable.<br>
Fig.78 shows the syntax of menu.thmb and mark.thmb and Fig.79 the syntax of Thumbnail in the syntax of menu.thmb and mark.thmb shown in Fig.78. By way of explanation of the syntax of Thumbnail, shown in Fig.79, version_number is four character letters denoting the version number of this ThumbnailQ. Versionjnumber must be encoded to "0045" in accordance with ISO 646.<br>
Length is a 32-bit unsigned integer indicating the number of bytes of MakerPrivateDataQ as from directly at back of the length field up to the trailing end of Thumbnail (). Tu_block_start_address is a 32-bit unsigned integer indicating the leading end byte address of the first tn_block, in terms of the relative number of bytes<br><br>
as from the leading end byte of ThumbnailQ as a unit. The number of relative bytes is counted from 0. Number_of Jhumbnails is a 16-bit unsigned integer which gives the number of entries of a thumbnail picture contained in ThumbnailQ.<br>
Tu_block_size is a 16-bit unsigned integer which gives the size of one tn_block, in terms of 1024 bytes as a unit. If, for example, tn_block_size = 1, it indicates that the size of one tn_block is 1024 bytes. Number_of_tn_blocks is a 116-bit unsigned integer indicating the number of entries of tn_block in this ThumbnailQ. Thumbnail_index is a 16-bit unsigned integer indicating the index number of the thumbnail picture represented by the thumbnail information for one for-loop beginning from the thumbnail_index field. The value OxFFFF must not be used as ThumbnaiHndex. This Thumbnail_index is referenced by ref_thumbnail_index in UIAppInfoVolumeQ, UIAppInfoPlayList(), PlayListMark() and ClipMarkQ.<br>
ThumbnaiIjpicture_format is an 8-bit unsigned integer representing the picture format of a thumbnail picture and assumes a value shown in Fig.80. In the table, DCF and PNG are allowed only in menu.thumb. The mark thumbnail must assume the value of "0x00" (MPEG-2 Video 1-picture).<br>
Picture_datajsize is a 32-bit unsigned integer indicating the byte length of a thumbnail picture in terms of bytes as a unit. Start_tn_block_number is a 16-bit unsigned integer indicating the tn_block number of the tn_block where data of the thumbnail picture begins. The leading end of the thumbnail picture data must coincide with the leading end of the tn_block.   The tn_block number begins from 0 and is<br><br>
relevant to the value of a variable k in the for-loop of tn_block.<br>
X_picture_length is a 16-bit unsigned integer indicating the number of pixels in the horizontal direction of a franie of a thumbnail picture. Y_picture_length is a 16-bit unsigned integer indicating the number of pixels in the vertical direction of a frame of a thumbnail picture. Tn_block is an area in which to store a thumbnail picture. All tnjblock in the ThumbnailQ ate of the same size, (fixed length) and are of a size defined by tn_block_sixe.<br>
Figs.81A and 81B schematically show how thumbnail picture data are stored in tnblock. If, as shown in Figs.SlA and 81B, the thumbnail picture begins at the leading end of tn_block, and is of a size exceeding 1 tn_block, it is stored using the next following tn_block. By so doing, data with a variable length can be managed as fixed length data, so that the editing of deletion can be coped with by simpler processing.<br>
An AV stream file is now explained. The AV stream file is stored in the "M2TS" directory (Fig.14). There are two types of the AV stream file, namely a Clip A stream file and a Bridge-Clip AV stream file. Both AV streams must be of the structure of DVR MPEG-2 transport stream file as hereinafter defined.<br>
First, the DVR MPEG2 transport stream is explained. The structure of the DVR MPEG-2 transport stream is shown in Fig.82. The AV stream file has the structure of a DVR MPEG 2 transport stream- The DVR MPEG 2 transport stream is made up of an integer number of Aligned units. The size of the aligned unit is 6144 bytes (2048*3 bytes). The Aligned unit begins from the first byte of the source packet. The source<br><br>
packet is 192 bytes long. One source packet is comprised of TP_extra_header and a transport packet. TP_extra_header is 4 bytes long, with the transport packet being 188 bytes long.<br>
One Aligned unit is made up of 32 source packets. The last Aligned unit in the DVR MPEG 2 transport stream is also made up of 32 source packets. Therefore, the DVR MPEG 2 transport stream ends at a boundary of the Aligned unit. If the number of the transport packets of the input transport stream recorded on a disc is not a multiple of 32, a source packet having a null packet (transport packet of PID = OxlFFFF) must be used as the last Aligned unit. The file system must not use excess information in the DVR MPEG 2 transport stream.<br>
Fig.83 shows a recorder model of the DVR MPEG 2 transport stream. The recorder shown in Fig.83 is a conceptual model for prescribing the recording process. The DVR MPEG 2 transport stream obeys this model.<br>
The input timing of the MPEG 2 transport stream is now explained. The input MPEG 2 transport stream is a full transport stream or a partial transport stream. The input MPEG 2 transport stream must obey the ISO/IEC13818-1 or ISO/IEC13818-9. The number i byte of the MPEG 2 transport stream is input simultaneously at time t(i) to T-STD (transport stream system target decoder provided for in SO/IEC13818-1) and to the source packetizer. Rpk is an instantaneous maximum value of the input rate of the transport packet.<br>
A 27 MHz PLL 52 generates a frequency of 27 MHz clock. The 27 MHz clock<br><br>
frequency is locked at a value of the program clock reference (PCR) of the MPEG 2 transport stream. An arrival time clock counter 53 counts the pulses of the 27 MHz frequency. Arrival_time_clock(i) is a count value of the arrival time clock counter at time t(i).<br>
A source packetizer 54 appends TP_extra_ header to the totality of the transport packets to create a source packet. Arrival_time_stamp indicates the time when the first byte of the transport packet reaches both the T-STD and the source packetizer. Airival_timejstamp(k) is a sampled value of the Arrival_time_clock(k) as represented by the following equation:<br>
arrival_time_stamp(k) = arrival_time_clock(k)% 230 where k denotes the first byte of the transport packet.<br>
If the time separation between two neighboring transport packets is 230/2 7000000 sec (about 40 sec) or longer, the difference of the arrival_time_stamp of the two transport packets should be set to 230/2 7000000 sec. The recorder is provided for such case.<br>
A smoothing buffer 55 smoothes the bitrate of the input transport stream. The smoothing buffer must not overflow. Rmax is the output bitrate of the source packet from the smoothing buffer when the smoothing buffer is not null. If the smoothing buffer is null, the output bitrate of the smoothing buffer is 0.<br>
Next, the parameters of the recorder model of the DVR MPEG 2 transport stream are explained. The value of Rmax is given by TS_recording_rate as defined in<br><br>
ClipInfoQ associated with the AV stream file. This value may be calculated from the following equation:<br>
Rmax = TS_recording_rate* 192/188 where the value of TS_recording_rate is of a size in bytes/second.<br>
If the input transport stream is an SESF transport stream, Rpk must be equal to TS_recording_rate as defined in ClipInfoQ associated with the AV stream file. If the input transport stream is not an SESF transport stream, reference may be made to values defined e.g., in a descriptor of the MPEG 2 transport stream, such as maximum_bitrate_descriptor or partial_stream_descriptor for this value.<br>
If the input transport stream is an SESF transport stream, the smoothing buffer size is 0. If the input transport stream is not an SESF transport stream, reference may be made to values defined in the descriptor of the MPEG 2 transport stream, such as, for example, the values defined in the smoothing_buffer_descriptor, shortjsmoothing _buffer_descriptor or in the partial_transport_stream_descriptor.<br>
For the recorder and the player (reproducing apparatus), a sufficient size buffer needs to be provided. The default buffer size is 1536 bytes.<br>
Next, a player model of the DVR MPEG 2 transport stream is explained. Fig.84 shows a player model of the DVR MPEG 2 transport stream. This is a conceptual model for prescribing the reproduction process. The DVR MPEG 2 transport stream obeys this model.<br>
A 27 MHz X-tal 61 generates the frequency of 27 MHz. An error range of the<br><br>
27MHx frequency must be ±30 ppm (2 7000000 ± 810 Hz). The arrival time clock<br>
counter 62 is a binary counter for counting the pulses of the frequency of 27 MHz.<br>
Arrival_time_clock(i) is a count value of the arrival time clock counter at time t(i). In the smoothing buffer 64, Rmax is the input bitrate of the source packet to the<br>
smoothing buffer when the smoothing buffer is not full. If the smoothing buffer is full,<br>
the input bitrate to the smoothing buffer is 0.<br>
By way of explaining the output timing of the MPEG 2 transport stream, if the<br>
arrival_time_stamp of the current source packet is equal to 30 bits on the LSB side of<br>
arrival_time_clock(i), the transport packet of the source packet is removed from the<br>
smoothing buffer. Rpk is an instantaneous maximum value of the transport packet rate.<br>
The overflow of the smoothing buffer is not allowed.<br>
The parameters of the player model of the DVR MPEG 2 transport stream are<br>
the same as those of the recorder model of the DVR MPEG 2 transport stream described above.<br>
Fig.85 shows the syntax of the source packet. Transport__packet() is an MPEG 2 transport stream provided in ISO/IEC13818-1. The syntax of TP_Extra-header in the syntax of the source packet shown in Fig.85 is shown in Fig.86. By way of explaining the syntax of the TPJExtra-header, shown in Fig.86, copy_permission_indicator is an integer representing the copying limitation of the payload of the transport packet. The copying limitation may be copy free, no more copy, copy once or copying prohibited. Fig.87 shows the relation between the value of copy_permission_indicator and the<br><br>
mode it designates.<br>
Copy_permission_indicator is appended to the totality of transport packets. If the input transport stream is recorded using the IEEE1394 digital interface, the value of copy_permission_indicator may be associated with the value of EMI (encryption mode indicator). If the input transport stream is recorded without employing the IEEE1394 digital interface, the value of copy_permission_indicator may be associated with the value of the CCI embedded in the transport packet. If an analog signal input is self-encoded, the value of copy_permission_indicator may be associated with the value of CGMS-A of the analog signal.<br>
Arrival_time_stamp   is   an   integer   having   a   value   as   specified   by arrival_time_stamp in the following equation:<br>
arrival_time_stamp(k) = arrival_time_clock(k)%230.<br>
By way of defining the ClipAV stream, the ClipAV stream must have a structure of the DVR MPEG 2 transport stream defined as described above, Arrival_time_clock(i) must increase continuously in the Clip AV stream. If there exists a discontinuous point of the system time base (STC base) in the Clip AV stream, arrival_time_clock(i) in the Clip AV stream must increase continuously.<br>
The maximum value of the different of the arrival_time_clock(i) between the beginning and the end of the Clip AV stream must be 26 hours. This limitation guarantees that, if there is no discontinuous point in the system time base (STC base) in the MPEG 2 transport stream, the PTS (presentation time stamp) of the same value<br>
f~N<br><br>
never appears in the Clip AV stream. The MPEG 2 system standard provides that the PTS has a wraparound period of 233/90000 sec (about 26.5 hours).<br>
By way of defining the Bridge-Clip AV stream, the Bridge-Clip AV stream must have a structure of the DVR MPEG 2 transport stream defined as described above. The Bridge-Clip AV stream must include a discontinuous point of one arrival time base. The transport stream ahead and at back of the discontinuous point of the arrival time base must obey the encoding limitations and the DVR-STD as later explained.<br>
The present embodiment supports the video-audio seamless connection between Playltems being edited. Seamless connection between Playltems guarantees "continuous data supply" to the player/decoder and "seamless decoding processing". The "continuous data supply" is the capability of guaranteeing data supply to the decoder at a bitrate necessary to prevent buffer underflow. In order to enable data to be read out from the disc as data real-time properties are assured, data is to be stored in terms of a continuous block of a sufficiently large size as a unit.<br>
The "seamless decoding processing" means the capability of a player in displaying audio video data recorded on the disc without producing pause or gap in the playback output of the decoder.<br>
The AV stream, referenced by the seamless connected Playltems, is explained. Whether or not the seamless display of a previous Playltem and the current Playltem is guaranteed may be verified from the connection_condition field defined in the current Playltem. There are two methods for seamless connection of Playltems, that<br><br>
is a method employing Bridge-Clip and a method not employing Bridge-Clip.<br>
Fig.88 shows the relation between the previous Playltem and the current Playltem in case of employing Bridge-Clip. In Fig.88, the stream data, read out by the player, is shown shaded. In Fig.88, TSl is made up of shaded stream data of the Clipl (Clip AV stream) and shaded stream data previous to RSPN_arrival_time_discontinuity.<br>
The shaded stream data of Clipl of TSl is stream data from an address of a stream required for decoding the presentation unit corresponding to IN_item of the previous Playltem (shown as IN-timel in Fig.88) up to the source packet referenced by RSPN_exit_from_previous_Clip. The shaded stream data prior to RSPN_arrival_time_discontinuity of Bridge-Clip contained in TSl is stream data as from the first source packet of Bridge-Clip up to the source packet directly previous to the source packet referenced by RSPN_arrival_tirne_discontinuity.<br>
In Fig.88, TS2 is made up of shaded stream data of Clip 2 (Clip AV stream) and shaded stream data subsequent to RSPN_arrival_time_discontmuity of Bridge-Clip. The shaded stream data as from the RSPN_arrival_time_discontinuity of Bridge-Clip contained in TS2 stream data from the source packet referenced by RSPN_arrival_time_discontinuity to the last source packet of Bridge-Clip. The shaded stream data of Clip2 of TS2 is stream data from the source packet referenced by RSPN_enter_to_current_Clip to the address of the stream required for decoding the presentation unit corresponding to OUT_time of current Playltem (shown by<br><br>
0UT_time2 in Fig.88).<br>
Fig.89 shows the relation between the previous Playltem and the current Play Item in case of not employing Bridge-Clip. In this case, the stream data read out by the player is shown shaded. In Fig.89,TSl is made up of shaded stream data of the Clipl (Clip AV stream). The shaded stream data of Clipl of TSl is data beginning at an address of a stream necessary in decoding a presentation unit corresponding to IN_time of the previous Playltem, shown at IN_timel in Fig.89 as far as the last source packet of Clipl.<br>
In Fig.89, TS2 is shaded stream data of Clip2 (Clip AV stream). The shaded stream data of Clip2 of TS2 is stream data beginning at a first source packet of Clip2 as far as an address of the stream necessary for decoding the presentation unit corresponding to OUT_time of current Playltem (shown at OUT_time2 in Fig.89).<br>
In Figs.88 and 89, TSl and T2 are continuous streams of the source packet. Next, the stream provisions of TSl and TS2 and the connection conditions therebetween are scrutinized." First, encoding limitations for seamless connection are scrutinized. By way of limitations on the encoding structure of a transport stream, the number of programs contained in TSl and TS2 must be 1. The number of video streams contained in TSl and TS2 must be 1. The number of audio streams contained in TS and TS2 must be 2 or less. The numbers of the audio streams contained in TSl and TS2 must be equal to each other. It is also possible for elementary streams or<br><br>
private streams other than those depicted above to be contained in TS1 and/or TS2.<br>
The limitations on the video bitstream are now explained. Fig.90 shows a typical seamless connection indicated by a picture display sequence. In order for a video stream to be demonstrated seamlessly in the vicinity of a junction point, unneeded pictures displayed at back of OUT_timel (OUTjime of Clipl) and ahead of IN_time2 (INjime of Clip2) must be removed by a process of re-encoding the partial stream of the Clip in the vicinity of the junction point.<br>
Fig.91 shows an embodiment of realizing seamless connection using BridgeSequence. The video stream of Bridge-Clip previous to RSPN_arrival_time_discontinuity is comprised of an encoded video stream up to a picture correspondmg to OUTjime 1 of Clipl of Fig.90. * This video stream is connected to the video stream of previous Clipl and is re-encoded to form an elementary stream conforming to the MPEG2 standard.<br>
The video stream of Bridge-Clip subsequent to RSPN_arrival_time_discontinuity is made up of an encoded video stream subsequent to a picture corresponding to IN_time2 of Clip2 of Fig.90. The decoding of this video stream can be started correctly for connecting the video stream to the next following Clip2 video stream. Re-encoding is made such that a sole continuous elementary stream conforming to MPEG 2 standard will be formed. For creating Bridge-Clip, several pictures in general need to be re-encoded, whilst other pictures can be copied from the original Clip.<br><br>
Fig.92 shows an embodiment of realizing seamless connection without employing BiidgeSequence in the embodiment shown in Fig.90. The Clipl video stream is comprised of an encoded video stream as far as the picture corresponding to OUT_timel of Fig.90 and is re-encoded so as to give an elementary stream conforming to the MPEG2 standard. In similar manner, the video stream of CIip2 is made up of encoded bitstteams subsequent to the picture associated with IN_time2 of Clip2 of Fig.90. These encoding bitstreams are already re-encoded to give a sole continuous elementary stream conforming to the MPEG2 standard.<br>
By way of explaining encoding limitations of the video stream, the frame rates of the video streams of TSl and TS2 must be equal to each other. The video stream of TSl must be terminated at sequence_end_code. The video stream of TS2 must commence at Sequence header, GOP Header and with an I-picture. The video stream of TS2 must commence at a closed GOP.<br>
The video presentation units defined in a bitstream (frame or field) must be continuous with a junction point in-between. No gap of the fields or frames are allowed to exist at junction points. In case of encoding employing 3-2 pulldown, it may be necessary to rewrite "top_field_first" and "repeat_first_field" flags. Alternatively, local re-encoding may be made to prevent field gaps from being produced.<br>
By way of explaining encoding limitations on the audio bitstream, the audio sampling frequency of TSl and that of TS2 must be equal to each other. The audio encoding method of TSl and that of TS2 (for example, MPEGl layer 2, AG-3, SESF<br><br>
LPCM and AAC) must be equal to each other.<br>
By way of explaining encoding limitations on MPEG-2 transport stream, the last audio frame of the audio stream of TS1 must contain audio samples having a display timing equal to the display end time of the last display picture of TS1. The first audio frame of the audio stream of TS2 must contain an audio sample having a display timing equal to the display start timing of the first display picture of TS2.<br>
At a junction point, no gap may be allowed to exist in a sequence of the audio presentation units. As shown in Fig.93, there may be an overlap defined by the length of the audio presentation unit less than two audio frame domains. The first packet transmitting an elementary stream of TS2 must be a video packet. The transport stream at the junction point must obey the DVR-STD which will be explained subsequently. By way of explaining limitations on the Clip and Bridge-Clip, no discontinuities in the arrival time base are allowed to exist in TS1 or in TS2.<br>
The following limitations are applied only to the case of employing the Bridge-Clip. The Bridge-Clip AV stream has a sole discontinuous point in the arrival time base only at a junction point of the last source packet of TS1 and the first source packet of TS2. The SPN_arrival_time_discontinuity defined in ClipInfoQ represents an address of the discontinuous point, which must represent the address referencing the first source packet of TS2.<br>
The source packet referenced by RSPN_exit_from_previous_Clip defined in BridgeSequencelnfoQ may be any source packet in Clipl. It is unnecessary for this<br><br>
source packet to be a boundary of the Aligned unit. The source packet referenced by RSPN_enter_to_current_Clip defined in BridgeSequencelnfoQ may be any source packet in Clip2. It is unnecessary for this source packet to be a boundary of the Aligned unit.<br>
By way of explaining limitations on Playltem, the OUTjime of the previous Playltem (OUT_time 1 shown in Fig.89) must represent the display end time of the last video presentation unit of TS1. The INtime of the current Play Time (IN_time2 shown in Fig.88 and 89) must represent the display start time of the first presentation unit of TS2.<br>
By way of explaining the limitations on the data allocation in case of employing Bridge-Clip by referring to Fig.94, the seamless connection must be made to guarantee continuous data supply by the file system. This must be realized by arranging the Bridge-Clip AV stream, connecting to Clipl (Clip AV stream file) and Clip2 (Clip AV stream file), such as to satisfy data allocation prescriptions.<br>
RSPN_exit_ftom_previous_Clip must be selected so that the stream portion of Clipl (Clip AV stream file) previous to RSPN_exit_from_previous_Clip will be arranged in a continuous area not less than half fragment. The data length of the Bridge-Clip AV stream must be selected so that the data will be arranged in the continuous area not less than half fragment. RSPN_enter_to_current_Clip must be selected so that the stream portion of Qip2 (Clip AV stream file) subsequent to RSPN_enter_to_current_Clip will be arranged in a continuous area not less than half<br><br>
fragment.<br>
By way of explaining data allocation limitations in case of seamless connection not employing Bridge-Clip, by referring to Fig.95, the seamless connection must be made so as to guarantee continuous data supply by the file system. This must be realized by arranging the last portion of the Clipl (Clip AV stream file) and the first portion of the Clip2 (Clip AV stream file) so that the provisions on data allocation will be met.<br>
The last stream portion of Clipl (Clip AV stream file) must be arranged in a continuous area not less than one half fragment. The first stream portion of Clip2 (Clip AV stream file) must be arranged in a continuous area not less than one half fragment.<br>
Next, DVR-STD is explained. This DVR-STD is a conceptual model for modeling the decoding processing in the generation and verification of the DVR MPEG 2 transport stream. The DVR-STD is also a conceptual model for modeling the decoding processing in the generation and verification of the AV stream referenced by two Playltems seamlessly connected to each other as described above.<br>
Fig.96 shows a DVR-STD model. The model shown in Fig.96 includes, as a constituent element, a DVR MPEG 2 transport stream player model. The notation of n, Tbn, Mbn, Ebn, Tbsys, Bsys, Rxn, Rbxn, Rxsys, Dn, Dsys, On and P9(k) is the same as that defined in T-STD of ISO/IEC 13818-1, wherein n is an index number of an elementary stream and TBn is a transport buffer of the elementary stream n.<br><br>
MBn is a multiplexing buffer of the elementary stream n and exists only for the video stream. EBn is an elementary stream buffer of the elementary stream n and is present only for the video stream. TBsys is a main buffer in a system target decoder for the system information for a program being decoded. Rxn is a transmission rate with which data is removed from TBn. Rbxn is a transmission rate with which the PES packet payload is removed from MBn and is present only for a video stream.<br>
Rxsys is a transmission rate with which data is removed from TBsys. Dn is a decoder of the elementary stream n. Dsys is a decoder pertinent to the system information of a program being decoded. On is a re-ordering buffer of the video stream n. Pn(k) is a number k presentation unit of the elementary stream.<br>
The decoding process for D VR-STD is explained. During the time a sole D VR MPEG 2 transport stream is being reproduced, the timing of inputting the transport packet to TBI, TBn or TBsys is determined by arrival_time_stamp of the source packet. The prescriptions for the buffering operation of TBI, MB1, EB1, TBn Bn, TBsys and Bsys are the same as those of the T-STD provided for in ISO/IEC13818-1, while the prescriptions for the deciding and display operations are also the same as the T-STD provided for in ISO/IEC 13818-1.<br>
The decoding process during the time the seamlessly connected PI ay Lists are being reproduced is now explained. Here, the reproduction of two AV streams referenced by the seamlessly connected Playltems is explained. In the following explanation, the reproduction of TSl and TS2, shown for example in Fig.88, is<br><br>
explained. TS1 and TS2 are a previous stream and a current stream, respectively.<br>
Fig.97 shows a timing chart for inputting, decoding and display of transport packets when transferring from a given AV stream (TS1) to the next AV stream seamlessly connected thereto (TS2). During transfer from a preset AV stream (TS1) to the next AV stream seamlessly connected thereto (TS2), the time axis of the arrival time base of TS2 is not the same as the time axis of the arrival time base of TS1 (indicated by ATC1 in Fig.97).<br>
Moreover, the time axis of the system time base of TS2 (indicated by ATC1 in Fig.97) is not the same as the time axis of the system time base of TS1 (indicated by STCl in Fig.97). The video display is required to be continuous seamlessly, however, there may be overlap in the display tine of the presentation units.<br>
The input timing to DVR-STD is explained. During the time until time Tl, that is until the inputting of the last video packet to the TBI of DVR-STD, the input timing to the buffers of TBI, TBn or TBsys of DVR-STD is determined by arrival_timejstamp of the arrival time base of TS1.<br>
The remaining packets of TS1 must be input to buffers of TBn or to TBsys of DVR-STD at a bitrate of TS_recording_rate (TS1). The TS_recording_rate (TS1) is the value of TS_recording_rate defined in ClipInfoQ corresponding to Clipl. The time the last byte of TS1 is input to the buffer is the time T2. So, during the time between time Tl and time T2, arrival_time_stamp of the source packet is discounted.<br>
If Nl is the number of bytes of the transport packet of TS1 next following the<br><br>
last video packet of TS1, the time DTI from time Tl until time T2 is the time necessary for Nl bytes to be input completely at a bitrate of TS_recordingjrate (TS1), and is calculated in accordance with the following equation: DTI = T2 - Tl = Nl/TS_recording_rate.<br>
During the time from time Tl until time T2 (TS1), both the values of RXn and RXsys are changed to the value of TS-recording_rate (TS1). Except this rule, the buffering operation is the same as that of T-STD.<br>
At time T2, the arrival time clock counter is reset to the value of arrival_time_stamp of the first source packet of TS2. The input timing to the buffer of TBI, TBn or TBsys of DVR-STD is determined by arrival_time_stamp of the source packet of TB2. Both RXn and RXsys are changed to values defined in T-STD.<br>
By way of explaining additional audio buffering and system data buffering, the audio decoder and the system decoder need to have an additional buffering amount (data amount equivalent to one second) in addition to the buffer amount defined in T-STD in order to allow input data of a domain from time Tl to time T2.<br>
By way of explaining the video presentation timing, the display on the video presentation unit must be continuous, that is devoid of gaps, through junction point. It is noted that STC1 is the time axis of the system time base of TS1 (indicated as STC1 in Fig.9), while STC2 is the time axis of the system time base of TS2 (shown at STC2 in Fig.97; correctly, STC2 begins at time the first PCR of TS2 has been input to the T-STD).<br><br>
The offset between STC1 and STC2 is determined as follows: the PTSlend is the PTS on STC1 corresponding to the last video presentation unit of TS2. PTS2start is PTS on STC2 corresponding to the first video presentation unit of TS2 and Tpp is the display time period of the last video presentation unit of TS1, the offset STC_delta between two system time bases is calculated in accordance with the following equation: STC_delta = PTSlend + Tpp - PTS2start.<br>
By way of explanation of the audio presentation timing, there may be overlap in the display timing of the audio presentation unit, with the overlap being less than 0 to 2 audio frames (see "audio overlap" shown in Fig.97). The indication as to which of audio samples is to be selected and re-synchronization of the display of the audio presentation unit to the corrected time base at back of the junction point are set on the player.<br>
By way of explaining the system time clock of DVR-STD, the last audio presentation unit of TS1 is displayed at time T5. The system time clock may be overlapped between time T2 and time T5. During this time domain, the DVR-STD switches the system time clocks between the value of the old time base (STC1) and the value of the new time base (STC2). The value of STC2 may be calculated in accordance with the following equation: STC2 = STC1 - STC_delta.<br>
The buffering continuity is explained. STCllvideo_end is the value of STC on the system time base STC2 when the first byte of the first video packet reaches TBI<br><br>
of DVR-STD. STC22video_start is the value of STC on the system time base STC2 when the first byte of the first video packet reaches TBI of DVR-STD. STC21video_end is the value of STCllvideo_end calculated as the value on STC2 of the system time base STC2. STC21video_end is calculated in accordance with the following equation:<br>
STC21video_end = STCllvideo_end - STC_delta.<br>
In order to obey DVR-STD, the following two conditions must be met: First, the arrival timing of the first video packet of TS2 at TBI must satisfy the following inequality: STC22video_start &gt; STC21video_end + ATI.<br>
If it is necessary to re-encode and/or multiplex the partial stream of Clipl and/or Clip2, in such a manner that the above inequality will be satisfied, this re-encoding or multiplexing is performed as appropriate.<br>
Second, the inputting of the video packet from TS1 followed by the inputting of the video packet from TS2 on the time axis of the system time base, mapped from STCl and STC2 on the same time axis, must not overflow or underflow the video buffer.<br>
If the above syntax, data structure and the rules are used as basis, the contents of data recorded on the recording medium or the reproduction information can be managed properly to enable the user to confirm the contents of data recorded on the recording medium at the time of reproduction or to reproduce desired data extremely<br><br>
readily.<br>
In the above-described embodiment, the MPEG 2 transport stream is taken as an example of the multiplexed stream. This, however, is merely exemplary, such that the MPEG 2 program stream DSS or the transport stream used in the DirecTV Service (trade mark) of USA may also be used as the multiplexed stream.<br>
Fig.98 shows a modification of a Play List file. The marked difference between the syntax of Fig.98 and that of Fig.99 is the place where UIAppInfoPlayListO is stored. In the embodiment of Fig.98, in which UIAppInfoPlayListO is outside the PlayListQ, the future information expansion of UIAppInfoPlayListO may be achieved rather easily.<br>
Version_number is four figures indicating the version number of the thumbnail header information file.<br>
PlayList_start_address indicates the leading address of PlayList() in terms of the number of relative bytes from the leading end of the Play List file as a unit. The number of relative bytes is counted from 0.<br>
PlayListMark_start_address indicates the leading address of PlayListMarkO in terms of the number of relative bytes from the leading byte of the Play List file as a unit. The number of relative bytes is counted from 0.<br>
MakersPrivateData_start_address denotes the leading address of MakersPrivateData in terms of the number of relative bytes from the leading byte of the Play List file as a unit. The number of relative bytes is counted from 0.<br><br>
Fig.99 shows the syntax of UIAppInfoPlayList in the PlayList file of Fig.98. PlayList_service_type indicates the type of the PlayList file, an example of which is shown in Fig.26. The PlayList_service_type may have the same meaning as that of the service type shown by the digital TV broadcast. For example, in the BS broadcast in Japan, there are three service types, namely the TV service, audio service and data broadcast service. The value representing the service type of the program contained in the Clip AV stream used by the PlayList is set in the PlayList_service_type.<br>
PlayList_character_set denotes the encoding method for character letters encoded in channel_name, PlayList_name and PlayList_detail field, while denoting the encoding method for character letters encoded in mark_name field in PlayListMark. Channel_mimber denotes the broadcast channel number or service number as selected by the user when recording the PlayList. If plural PlayLists are combined into one PlayList, channel_number denotes a representative value of the PlayList. If this field is set to OxFFFF, the field has no meaning.<br>
Channel_name_length denotes the byte length of the channel name indicated in the channel_name field.   This field has a value not larger than 20.<br>
Channel_name denotes the name of the service or the broadcast channel as selected by the user when the PlayList is recorded. The number of bytes of a number indicated by the channel_name_length from left of this field represents effective character letters and denotes the above-mentioned name. The remaining bytes next following these effective character letters may be set to any arbitrary value. If plural<br><br>
Play Lists are combined into one PlayList, this field indicates the name representative of the PlayList.<br>
PlayList_name_length denotes the byte length of the PlayList name indicated in the PlayList_name field.<br>
Play_Iist_name shows the name of the PlayList. The number of bytes of the number indicated by the PlayListjiameJength from left of this field represents the effective character letters and denote the above-mentioned name. The remaining bytes in this field next following these effective character letters may be set to any optional value.<br>
PlayList_detail_length denotes the byte length of the detailed information of the PlayList indicated in the PlayList_detail field. This field has a value not larger than 1200.<br>
PlayList_detail denotes the text for illustrating the detailed information of the PlayList. The number of bytes of a number indicated by PlayList_detail_length as from left of this field is the effective character letters. The remaining bytes in this field next following these effective character letters may be set to any optional value.<br>
The meaning of this syntax field is otherwise the same as that of the field of the same name shown in Fig.27.<br>
Fig. 100 shows the syntax of PlayListQ in the PlayList file of Fig.98. This syntax is basically the same as the embodiment of Fig.25 except that the present syntax lacks in the UIAppInfoPlayListQ.<br><br>
Fig.101 shows a modification of the syntax of SubPlayltem. The present syntax differs appreciably from the embodiment of Fig. 40 in that STC_sequence_id has now been added.<br>
STC_sequence_id indicates STC_sequence_id of STC referenced by SubPath_IN_time and SubPath_OUT_time used for identifying the reproduction domain on the AV stream file corresponding to Clip_Information_file_name. SubPath_IN_time and SubPath_OUT_time denote the time on the same STC continuous domain specified by the STC_sequence_id.<br>
By adding STC_sequence_id to the SubPlayltem, it is allowed that the AV stream file referenced by SubPlayltem has an STC discontinuous point.<br>
The syntax field otherwise has the same meaning as that of the field of the same name shown in Fig.40.<br>
Fig. 102 shows the flowchart for illustrating the method for forming Real PlayList. Reference is had to the block diagram of the recording and/or reproducing apparatus shown in Fig.l.<br>
At step Sll, the controller 43 records a Clip AV stream. At step SI2, the controller 23 checks whether or not EPmap of the AV stream can be prepared. If the result of check at step S12 is YES, the controller 23 proceeds to step S13. If otherwise, the controller 23 proceeds to step S14 to form TU_map. At step S15, the controller 23 then sets the CLI_type of PlayList. At step S16, the controller 23 forms the PlayListQ comprised of Playltem<br><br>
covering the possible reproduction range of the Clip in its entirety.  If CPI_type is EP_map type, the time information is set on the PTS basis.    If there is STC discontinuous point in the Clip, and the PlayListQ is made up of two or more Playltems, the connection_condition between Playltems is also determined.     If CPI_type is TU_map type, the time information is set on the arrival time basis. At step SI7, the controller 23 forms UIAppInfoPlayList(). At step S18, the controller 23 forms PlayListMark. At step S19, the controller 23 forms MakerPrivateData. At step S20, the controller 23 forms RealPlayList file. So, one Real PlayList file is formed whenever a Clip AV stream is newly recorded.<br>
Fig. 103 is a flowchart for illustrating the method for forming Virtual PlayList. At step S31, one real PlayList, recorded on the disc, is specified through user interface. From the reproduction range of the Real PlayList, the reproduction range specified by IN and OUT points is specified through the user interface. If CPI_type is EP_map type, the reproduction domain is set on the PTS basis. If CPI_type is TU__type, the reproduction domain is set on the arrival time basis.<br>
At step S32, the controller 23 checks whether or not the entire operation of specifying the reproduction range by the user has been finished. If the user selects the domain to be reproduced next to the specified reproduction domain, the controller 23 reverts to step S31. If the entire operation of specifying the reproduction range by the<br><br>
user nas come to a close, the controller 23 proceeds to step S33.<br>
At step S33, the connection condition (Connection_condition between two consecutively reproduced reproduction domains is determined by the user through interface or by the controller 23.<br>
If, at step S34, CPI_type is EP_map type, the user specifies the sub-path information (post-recording audio information). This step is omitted if the sub-path is not formed by the user.<br>
At step S35, the controller 23 forms PlayList() based on the reproduction range information specified by the user and on the connection_condition.<br>
At step S36, the controller 23 forms UIAppInfoPlayList().<br>
At step S37, the controller 23 forms PlayListMark.<br>
At step S38, the controller 23 forms MakerPrivateData.<br>
At step S39, the controller 23 forms VirtualPlayList file.<br>
In this manner, one virtual PlayList file is formed for each group of the reproduction domains which are selected from the reproduction range of the Real PlayList recorded on the disc and which the user is desirous to view.<br>
Fig. 104 is a flowchart for explaining the reproducing method of the PlayList.<br>
At step S51, the controller 23 acquires the information on the Info.dvr, Clip Information file, PlayList file and thumbnail file and forms a GUI picture demonstrating a list of PlayLists recorded on the disc to display the GUI picture so formed on the GUI through user interface.<br><br>
At step S52, the controller 23 presents the information explaining the PlayList on the GUI picture based on the UIAppInfoPlayList in the respective Play Lists.<br>
At step S53, the user commands reproduction of one PlayList from the GUI picture through user interface.<br>
If the CPI_type is EPjtnap type, the controller 23 at step S54 acquires, from the STC_sequence_id and IN_time PTS, the number of the source packet having an entry point temporally previous and closest to IN_time. If the CPI_type is TU_map type, the controller 23 acquires, from the INjime of the current Playltem, the number of the source packet where begins the time unit temporally previous and closest to IN_time. At step S55, the controller 23 reads out data of the AV stream from the source packet number acquired at the above step to route the data so read out to the AV decoder 27.<br>
If, at step S56, there is the Playltem temporally previous to the current Playltem, the controller 23 performs the connection processing of display between the previous Playltem and the current Playltem in accordance with the connection_condition.<br>
If. At step S57, the CPI_type is EPjmap type, the AV decoder 27 commands display to be started as from the picture of the IN_time PTS. If the CPI_type is TU__map type, the AV decoder 27 commands display to be started as from the picture of the stream subsequent to IN_time.<br>
At step S58, the controller 23 commands the AV decoder 27 to continue decoding the AV stream.<br><br>
If CPI Jype is EP_map type, the controller 23 at step S59 checks whether or not the picture currently displayed is the picture of the OUT_time PTS. Also, if the CPIJype is TUjmap type, the controller 23 checks whether or not the stream currently decoded is past the OUT_time.<br>
If the result of check at step S59 is NO, the controller 23 proceeds to step S60. At step S60, the controller 23 displays the current picture to then revert to step S58. If the result of check at step S59 is YES, the controller 23 proceeds to step S61.<br>
At step S61, the controller 23 checks whether or not the current Playltem is the last Playltem in the PlayList. If the result of check is NO, the controller 23 reverts to step S54 and, if otherwise, the PlayList reproduction is finished.<br>
Fig.105 is a flowchart for illustrating the reproducing method of the SubPath of the PlayList. The subpath reproducing method of Fig.105 is used only if CPItype of PlayList is EP_map. The processing of the flowchart is performed simultaneously with the processing subsequent to step S54 in the reproduction of the PlayList of Fig.104. Meanwhile, it is presupposed that the AV decoder 27 is able to decode two audio streams simultaneously.<br>
At step S71, the controller 23 acquires the information of SubPlayltem. At step S72, the controller 23 acquires the source packet number having an entry point temporally previous and closest to SubPath_IN_time.<br>
At step S73, the controller 23 reads out data of the AV stream of the subpath from the source packet number having the above entry point to route the data so read<br><br>
out to the AV decoder 27.<br>
At step S74, the controller 23 commands the AV decoder 27 to start displaying the subpath audio when the reproduction of the main path reaches the picture specified by the sync_PlayItem_id and sync_start_PTS_ofJPlayItem.<br>
At step S75, the AV decoder 27 continues decoding the AV stream of the subpath.<br>
At step S76, the controller 23 checks whether or not the PTS of the subpath currently displayed is the SubPath_OUT_time. If the result of check is NO, the controller 23 proceeds to step S77, where the controller 23 continues displaying the subpath. The controller 23 then reverts to step S75.<br>
If, at step S76, the PTS of the subpath currently displayed is SubPath_OUT_time, the display of the subpath is finished.<br>
The main path and the subpath of one PlayList file, commanded to be reproduced by the user, are reproduced, as shown in Figs.104 and 105.<br>
Fig.106 shows a flowchart for illustrating the method for forming the PlayListMark. Reference is made to the block diagram of the recording. and/or reproducing apparatus of Fig. 1.<br>
At step S91, the controller 23 acquires the information on the Info.dvr, Clip Information file, PlayList file and thumbnail file and forms a GUI picture demonstrating a list of PlayLists recorded on the disc to display the GUI picture so formed on the GUI through user interface.<br><br>
At step S92, the user commands the controller 23 to reproduce one PlayList through user interface.<br>
At step S93, the controller 23 causes reproduction of the specified PlayList as commanded to be started (see Fig. 104).<br>
At step S94, the user commands the controller 23 to set a mark at a favorite scene through user interface.<br>
If, at step S95, the CPIJype is EPjmap, the controller 23 acquires the mark PTS and the Playltem_id of the Playltem to which it belongs. Also, the controller 23 acquires the arrival time of the mark point, if the CPI_type is TU_map.<br>
At step S95, the controller 23 stores the mark information in the PlayListMark().<br>
At step S97, the controller 23 records the PlayList file on the recording medium 100.<br>
Fig. 107 is a flowchart for illustrating the locating reproducing method employing the PlayListMark. Reference is made to the block diagram of the recording and/or reproducing apparatus 1 of Fig. 1.<br>
At step Sill, the controller 23 acquires the information on the Info.dvr, Clip Information file, PlayList file and thumbnail file and forms a GUI picture demonstrating a list of PlayLists recorded on the disc (recording medium 100) to display the GUI picture so formed on the GUI through user interface.<br>
At step SI 12, the user commands the controller 23 to reproduce one PlayList through user interface.<br><br>
At step S113, the controller 23 causes the list of thumbnails, generated from the picture referenced by PlayListMark, to be displayed on the GUI through user interface. At step si 14, the user specifies the mark point of the reproduction start point through the user interface.<br>
If the CPIJype is EP_map type, the controller 23 acquires the mark PTS and the Playltemjd to which it belongs. If the CPIJype is TUjnap type, the controller 23 acquires the ATS (Arrival Time Stamp) of the mark.<br>
If the CPI_type is the EPjnap type, the controller 23 at step SI 16 acquires the STC-sequence_id of the AV stream referenced by Playltem specified by the Playltemjd.<br>
At step SI 17, if the CPI_type is EP_map type, the controller 23 causes the AV stream to be input to the decoder based on the PTS of the mark and on the STC-sequencejd. Specifically, the controller 23 performs the processing similar to that at step S55, using the PTS of the mark and on the STC-sequenceJd. If CPIJype is TUjype, the controller 23 causes the AV stream to be input to the decoder, based on the ATS of the mark. Specifically, the controller performs the processing similar to that at step S54 and step S55 of Fig. 104, using the ATS.<br>
If, at step S118, the CPIJype is the EP_map type, the controller 23 causes display to be started as from the picture of the PTS of the mark point. If the CPIJype is the TU jnap type, the controller 23 causes display to be started as from a picture at back of the ATS of the mark point.<br><br>
In this manner, the user selects e.g., a start point of a favorite scene from the Play List. The start point so selected is supervised by the recorder (controller 23 of the recording and/or reproducing apparatus 1) in the PlayListMark. Moreover, the user selects the reproduction start point from the list of the mark points stored in the playListMark so that the player begins reproduction at the start point, as shown in Fig.107.<br>
If the above syntax, data structure and the rules are used as basis, the contents of data recorded on the recording medium or the reproduction information can be managed properly to enable the user to confirm the contents of data recorded on the recording medium at the time of reproduction or to reproduce desired data extremely readily.<br>
If the position of an I-picture can be analyzed, the AV stream of different formats can be recorded, reproduced and managed using a common application program (software), subject to employing TU_map.<br>
If the AV stream is recorded on the recording medium as its contents (I-picture position) are analyzed (cognizant recording), the EP_map is used, whereas, if the AV stream is directly recorded on the recording medium without analyzing its contents (I-picture position) (non-cognizant recording), the TUjtnap is used. So, the AV data can be recorded, reproduced and managed using a common application program.<br>
Thus, if the scrambled AV data is descrambled with analysis to record it on the recording medium, the EP_map is used, whereas, if the scrambled AV data is directly<br><br>
recorded on the recording medium without descrambling (without analysis), the TU_map is used. By so doing, the AV data may be recorded, reproduced and managed using the common application program.<br>
Moreover, the EP_map type and the TU_map type can be described in the PlayListQ as CPIJype, TU_map may be used if the I-picture position can be analyzed, whereas, if the I-picture position cannot be analyzed, the TUjmap may be used. By so doing, the AV stream data recorded with analysis of the I-picture position and the AV stream data recorded without analysis of the I-picture position can be managed in a unified fashion by a common program simply on setting a corresponding flag.<br>
Moreover, the PlayList file and the Clip Information file are recorded separately, so that, if the contents of a given PlayList or Clip are changed by e.g., editing, it is unnecessary to change a file irrelevant to the changed file. The result is that the file contents can be changed readily to reduce the time needed in such change or recording.<br>
In addition, if only the Info.dvr is read out first to present the disc recording contents to the user interface to read out from the disc only the PlayList file commanded to be reproduced by the user and the relevant Clip Information file, the user queuing time may be reduced.<br>
If the totality of PlayList files or Clip Information files are collected in one file for recording, the file size becomes bulky. So, the time involved in changing the file contents for recording is appreciably longer than that in case the respective files are<br><br>
recorded separately. The present invention is aimed to overcome this deficiency.<br>
The above-described sequence of operations may be executed not only by hardware but also bv software- If the sequence of operations is to be executed by software, it is installed from a recording medium to a computer in the dedicated hardware of which the program forming the software or a general-purpose personal<br>
programs installed therein.<br>
The recording medium is constituted not only by a package medium distributed for furnishing the program to the user, in addition to a computer, such as a magnetic disc 221 carrying the program thereon, inclusive of a floppy disc, an optical disc 222, inclusive of a CD-ROM (Compact Disc-Read-Only memory) or a DVD (Digital Versatile Disc), a magneto-Optical disc 223, inclusive of a Mini-Disc, or a semiconductor memory 224, btft also by a hard disc, inclusive of a ROM 202 carrying a program and a memory 208, furnished to the user as it is built-in in a computer, as shown in Fig. 108,<br>
In the present specification, the steps of the program furnished by the medium include not only the chronological processing in accordance with the sequence indicated, but also the processing performed not chronologically but in parallel or separately.<br>
Additionally, in the specification, the system means an entire apparatus comprised of plural component devices.<br><br>
Industrial Applicability<br>
In the information processing method and apparatus according to the present invention, program for a recording medium, program and the recording medium, according to the present invention, one of a first table stating the relation of correspondence between the presentation time stamp and the address in the AV stream data in the corresponding access unit and a second table stating the relation of correspondence between the arrival time stamp derived from the arrival time point of the transport packet and the address in the AV stream data in the corresponding transport packet is recorded depending on the recording method.<br>
In the information processing method and apparatus, program for a recording medium, and the program, according to the present invention, one of a first table stating the relation of correspondence between the presentation time stamp and the address in the AV stream data in the corresponding access unit and a second table stating the relation of correspondence between the arrival time stamp derived from the arrival time point of the transport packet and the address in the AV stream data in the corresponding transport packet, as recorded on a recording medium depending on the recording method, is reproduced from the recording medium to control the output.<br>
In the information processing method and apparatus, program for a recording medium, program, and the second recording medium, according to the present invention, the reproduction specifying information comprised of the first information specifying the main reproducing path and the second information specifying the<br><br>
subsidiary reproducing path reproduced in synchronism with the main reproducing path is recorded.<br>
In the information processing method and apparatus, program for a recording medium, and the program, according to the present invention, the reproduction specifying information comprised of the first information specifying the main reproducing path and the second information specifying the subsidiary reproducing path is reproduced from the recording medium to control the output accordingly.<br>
So, in any instance, the AV stream capable of high speed reproduction and the AV stream incapable of high speed reproduction can be managed in common, whilst post-recording also becomes possible.<br><br>
We claim:<br>
1.	An information processing apparatus for processing input AV data that<br>
comprises transport packets, the apparatus (1) being characterized by:<br>
a controller (23) operable to generate a play list (PlayList) indicating start time information and end time information in said AV data;<br>
said controller (23) being capable of generating either a first table (EP_map) describing a relation of correspondence between a presentation time stamp (PTS) and a packet number in said AV data corresponding to the presentation time stamp or a second table (TU_map) describing a relation of correspondence between an arrival time stamp derived from the arrival time of a transport packet in said AV data and a packet number in said AV data of a corresponding transport packet;<br>
said controller (23) being operable to generate said first table (EP_map) if the controller can analyze said AV data and to generate said second table (TU_map) if the controller cannot analyze said AV data; and<br>
an output operable to output the generated one of said first and second tables and said play list, the play list comprising identification information indicating whether the generated table is said first table (EP_map) or said second table (TU_map).<br>
2.	The information processing apparatus as claimed in claim 1 wherein said first table (EP_map) is an entry point map indicating entry points in said AV data at which to start decoding.<br>
3.	The information processing apparatus as claimed in claim 2 wherein said controller (23) is operable to generate said entry point map (EP-map) if it<br><br>
can analyse said AV data in the sense that it can determine the positions of I-pictures in the data.<br>
4.	The information processing apparatus as claimed in claim 1,2 or 3 comprising a recorder (2) operable to record the generated one of the first and second tables on a recording medium along with said AV data.<br>
5.	The information processing apparatus as claimed in claim 4 wherein said controller (23) is operable to generate said first table (EP map) in the case of self- encoding recording.<br>
6.	The information processing apparatus as claimed in claim 4 wherein said identification information indicating which of said first and second tables has been generated is recorded on said recording medium by said recorder.<br>
7.	The information processing apparatus as claimed in claim 1, 2 or 3, wherein said controller (23) is operable to generate playlist information and either said first table or said second table corresponding to clip information, said clip information being composed of AV data, said playlist information including at least one play item designated by an in-point and an out-point of said clip information, and wherein the apparatus comprises a recorder (2) operable to record said playlist information, said first table or said second table, and said clip information on a recording medium.<br>
8.	The information processing apparatus as claimed in claim 7 wherein said controller (23) is operable to generate a first or a second table for each of plural items of clip information.<br>
9.	The information processing apparatus as claimed in claim 8 wherein said controller (23) is operable to generate the same type of table for all clip information associated with one play list.<br><br>
10.	An information processing method for processing input AV data that<br>
comprises transport packets, the method being characterized by:<br>
generating (23) a play list (PlayList) indicating start time information and end time information in said AV data;<br>
if the AV data can be analyzed, generating a first table (EP_map) describing a relation of correspondence between a presentation time stamp (PTS) and a packet number in said AV data corresponding to the presentation time stamp;<br>
if the AV data cannot be analyzed, generating a second table (TU_map) describing a relation of correspondence between an arrival time stamp derived from the arrival time of a transport packet in said AV data and a packet number in said AV data of a corresponding transport packet; and<br>
outputting the generated one of said first and second tables arid said play list, the play list comprising identification information indicating whether the generated table is said first table (EP_map) or said second table (TU_map).<br>
11.	The information processing method as claimed in claim 10 wherein said first table (EP_map) is an entry point map indicating entry points in said AV data at which to start decoding.<br>
12.	The information processing method as claimed in claim 11 wherein said entry point map (EP--map) is generated if the AV data can be analysed in the sense that the positions of I-pictures in the data can be determined.<br>
13.	The information processing method as claimed in claim 10, 11 or 12 comprising recording said AV data and the generated one of the first and second tables on a recording medium.<br><br>
14.	The information processing method as claimed in claim 13 wherein the first table (EP_map) is generated in the ease of self-encoding recording.<br>
15.	The information processing method as claimed in claim 10, 11 or 12 comprising:<br>
generating playlist information and either said first table or said second table corresponding to clip information, said clip information being composed of AV data, said playlist information including at least one play item designated by an in-point and an out-point of said clip information; and<br>
recording the playlist information, the clip information, and the first or second table on a recording medium.<br>
16.	The information processing method as claimed in claim 15 wherein a first or second table is generated for each of plural items of clip information.<br>
17.	The information processing method as claimed in claim 16 where the same type of table is generated for all clip information associated with one playlist.<br>
18.	An information processing apparatus for reproducing AV data that<br>
comprises 15 transport packets from a recording medium, the apparatus<br>
being characterised by:<br>
a reproducing unit capable of reproducing from the recording medium either a first table (EP_map) describing a relation of correspondence between a presentation time stamp (PTS) and a packet number in said AV data corresponding to the presentation time stamp or a second table (TU_map) describing a relation of correspondence between an arrival time stamp derived from the<br><br>
arrival time of a transport packet in said AV data and a packet number in said AV data of a corresponding transport packet;<br>
the reproducing unit being also operable to reproduce from the recording medium a play list (PlayList) which indicates start time information and end time information in said AV data recorded on the recording medium and which comprises identification information indicating whether the reproduced table is said first table (EP__map) or said second table (TU_map); and<br>
a control unit operable to control outputting of said AV data based on the reproduced one of the first and second tables and the reproduced play list.<br>
The information processing apparatus as claimed in claim 18 wherein said first table (EP_map) is an entry point map indicating entry points in said AV data at which to start decoding.<br>
The information processing apparatus as claimed in claim 18 or 19 wherein said reproducing unit is operable to reproduce, from said recording medium, said first or second table corresponding to clip information, said clip information including said AV data, and playlist information including at least one play item designated by an in- point and an out-point of said clip information, and wherein said control unit is operable to control the outputting of said clip information associated with said reproduced table.<br>
An information processing method for reproducing AV data that comprises transport packets from a recording medium, the method being characterised by:<br>
reproducing from the recording medium either a first table (EP_map)   describing  a  relation   of  correspondence   between   a<br><br>
presentation time stamp (PTS) and a packet number in said AV data corresponding to the presentation time stamp or a second table (TU_map) describing a relation of correspondence between an arrival time stamp derived from the arrival time of a transport packet in said AV data and a packet number in. said AV data of a corresponding transport packet;<br>
reproducing from the recording medium a play list (PlayList) which indicates start time information and end time information in said AV data recorded on the recording medium and which comprises identification information indicating whether the reproduced table is said first table (EP_map) or said second table (TU_map); and<br>
controlling outputting of said AV data based on the reproduced one of the first and second tables and the reproduced play list.<br>
The information processing method as claimed in claim 21 wherein said first table (EP_map) is an entry point map indicating entry points in said AV data at which to start decoding.<br>
The information processing method as claimed in claim 21 or claim 22 wherein said AV data stored on said recording medium is in a self-encode stream format and the table stored on said recording medium is said first table (EP_map).<br>
The information processing method as claimed in any one of claims 21 to 23 which comprises reproducing, from said recording medium, said first or second table corresponding to clip information, said clip information including said AV data, and playlist information including at least one play item designated by an in-point and an out-point of said clip information, and wherein said controlling of the outputting of said AV<br><br>
data comprises reproducing said clip information associated with said reproduced table.<br>
25.	The information processing method as claimed in claim 24 wherein a<br>
said first or second table is stored for each of the plural items of clip<br>
information.<br>
26.	The information processing method as claimed in claim 25 wherein the<br>
same type of table is stored for all clip information associated with one<br>
play list.<br>
Dated this 13/12/2001<br>
(JAYANTA PAL)<br>
OF REMFRY &amp; SAGAR<br>
ATTORNEY FOR THE APPLICANTS</td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=YWJzdHJhY3QxLmpwZw==" target="_blank" style="word-wrap:break-word;">abstract1.jpg</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMDE1ODUtbXVtLWNhbmNlbGxlZCBwYWdlcygxNC0wOS0yMDA3KS5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2001-01585-mum-cancelled pages(14-09-2007).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMDE1ODUtbXVtLWNsYWltcyhncmFudGVkKS0oMTQtMDktMjAwNykuZG9j" target="_blank" style="word-wrap:break-word;">in-pct-2001-01585-mum-claims(granted)-(14-09-2007).doc</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMDE1ODUtbXVtLWNsYWltcyhncmFudGVkKS0oMTQtMDktMjAwNykucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2001-01585-mum-claims(granted)-(14-09-2007).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMDE1ODUtbXVtLWNvcnJlc3BvbmRlbmNlKDA3LTExLTIwMDcpLnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2001-01585-mum-correspondence(07-11-2007).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=SU4tUENULTIwMDEtMDE1ODUtTVVNLUNPUlJFU1BPTkRFTkNFKDE5LTQtMjAxMSkucGRm" target="_blank" style="word-wrap:break-word;">IN-PCT-2001-01585-MUM-CORRESPONDENCE(19-4-2011).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=SU4tUENULTIwMDEtMDE1ODUtTVVNLUNPUlJFU1BPTkRFTkNFKDI5LTUtMjAxMikucGRm" target="_blank" style="word-wrap:break-word;">IN-PCT-2001-01585-MUM-CORRESPONDENCE(29-5-2012).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=SU4tUENULTIwMDEtMDE1ODUtTVVNLUNPUlJFU1BPTkRFTkNFKDctOS0yMDExKS5wZGY=" target="_blank" style="word-wrap:break-word;">IN-PCT-2001-01585-MUM-CORRESPONDENCE(7-9-2011).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMDE1ODUtbXVtLWNvcnJlc3BvbmRlbmNlKGlwbyktKDIxLTA5LTIwMDcpLnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2001-01585-mum-correspondence(ipo)-(21-09-2007).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMDE1ODUtbXVtLWRyYXdpbmcoMTQtMDktMjAwNykucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2001-01585-mum-drawing(14-09-2007).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMDE1ODUtbXVtLWZvcm0gMSgxNC0wOS0yMDA3KS5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2001-01585-mum-form 1(14-09-2007).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMDE1ODUtbXVtLWZvcm0gMTMoMDUtMDgtMjAwMikucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2001-01585-mum-form 13(05-08-2002).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMDE1ODUtbXVtLWZvcm0gMTMoMDYtMTItMjAwNCkucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2001-01585-mum-form 13(06-12-2004).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMDE1ODUtbXVtLWZvcm0gMTMoMTQtMDktMjAwNykucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2001-01585-mum-form 13(14-09-2007).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMDE1ODUtbXVtLWZvcm0gMTgoMTktMDQtMjAwNSkucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2001-01585-mum-form 18(19-04-2005).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMDE1ODUtbXVtLWZvcm0gMihncmFudGVkKS0oMTQtMDktMjAwNykuZG9j" target="_blank" style="word-wrap:break-word;">in-pct-2001-01585-mum-form 2(granted)-(14-09-2007).doc</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMDE1ODUtbXVtLWZvcm0gMihncmFudGVkKS0oMTQtMDktMjAwNykucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2001-01585-mum-form 2(granted)-(14-09-2007).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=SU4tUENULTIwMDEtMDE1ODUtTVVNLUZPUk0gMjYoMTktNC0yMDExKS5wZGY=" target="_blank" style="word-wrap:break-word;">IN-PCT-2001-01585-MUM-FORM 26(19-4-2011).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=SU4tUENULTIwMDEtMDE1ODUtTVVNLUZPUk0gMjYoMjktNS0yMDEyKS5wZGY=" target="_blank" style="word-wrap:break-word;">IN-PCT-2001-01585-MUM-FORM 26(29-5-2012).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=SU4tUENULTIwMDEtMDE1ODUtTVVNLUZPUk0gMjYoNy05LTIwMTEpLnBkZg==" target="_blank" style="word-wrap:break-word;">IN-PCT-2001-01585-MUM-FORM 26(7-9-2011).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMDE1ODUtbXVtLWZvcm0gMygxNC0wOS0yMDA3KS5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2001-01585-mum-form 3(14-09-2007).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMDE1ODUtbXVtLWZvcm0gNSgxMy0xMi0yMDAxKS5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2001-01585-mum-form 5(13-12-2001).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMDE1ODUtbXVtLWZvcm0gNSgxNC0wOS0yMDA3KS5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2001-01585-mum-form 5(14-09-2007).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMDE1ODUtbXVtLXBldGl0aW9uIHVuZGVyIHJ1bGUgMTM3KDE0LTA5LTIwMDcpLnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2001-01585-mum-petition under rule 137(14-09-2007).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMDE1ODUtbXVtLXBldGl0aW9uIHVuZGVyIHJ1bGUgMTM4KDE0LTA5LTIwMDcpLnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2001-01585-mum-petition under rule 138(14-09-2007).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMDE1ODUtbXVtLXBvd2VyIG9mIGF1dGhvcml0eSgxNC0wOS0yMDA3KS5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2001-01585-mum-power of authority(14-09-2007).pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="212052-an-isolated-nucleic-acid-molecule.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="212054-a-device-for-visulizing-movement-of-a-fluorescent-dye-carried-in-the-bloodstream-of-a-cardiovasculuar-bypass-graft-during-a-surgical-procedure.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>212053</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>IN/PCT/2001/01585/MUM</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>04/2008</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>25-Jan-2008</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>13-Nov-2007</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>13-Dec-2001</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>SONY CORPORATION</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>7-35 KITASHINAGAWA 6-CHOME, SHINAGAWA-KU, TOKYO 141-0001,</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>MOTOKI KATO</td>
											<td>C/O SONY CORPORATION, 7-35 KITASHINAGAWA 6-CHOME, SHINAGAWA-KU, TOKYO 141-0001,</td>
										</tr>
										<tr>
											<td>2</td>
											<td>TOSHIYA HAMADA</td>
											<td>C/O SONY CORPORATION, 7-35 KITASHINAGAWA 6-CHOME, SHINAGAWA-KU, TOKYO 141-0001,</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04N 5/92</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/JP01/03415</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2001-04-20</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>2000-183771</td>
									<td>2000-04-21</td>
								    <td>Japan</td>
								</tr>
								<tr>
									<td>2</td>
									<td>2000-271552</td>
									<td>2000-09-07</td>
								    <td>Japan</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/212053-an-information-processing-apparatus-and-method by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 00:21:20 GMT -->
</html>
