<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/219041-a-method-in-single-ended-test-of-a-signal-line-and-an-arrangement-therefor by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 12:17:09 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 219041:A METHOD IN SINGLE-ENDED TEST OF A SIGNAL LINE AND AN ARRANGEMENT THEREFOR</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">A METHOD IN SINGLE-ENDED TEST OF A SIGNAL LINE AND AN ARRANGEMENT THEREFOR</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>The invention refers to single-ended test of a loop (2, 3) with the aid of a transceiver (1), wherein an input impedance (Zin(f)) of the loop is generated. The transceiver (1) has a digital part (41), a codec (42) and an analog part (43) and is connected to the loop. With the aid of a transmitted and a reflected braodband signal (vin, vout) an echo transfer function Hecho(f) = V(/WVin(/) is generated, which also can be expressed as formula (I). Here Ziw(f), Zhyb(f) and HE(f) are model values for the transceiver (1). IN a calibration process a test transceiver, with the same type of hardware as the transceiver (1), is connected to known impedances, replacing the loop (2, 3). Hecho(f) = V(/)out/Vjn(f) is generated for the known impedances and th emodel values are generanted and are stored in a memory (11) in the transceiver (1). The stored model values are then used when the input impedance (Z,-„(f)) for the loop (2, 3) is generated after a measurement of the broadband signal (Vin, Vout) is performed.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>FORM 2<br>
THE PATENTS ACT, 1970<br>
(39 of 1970)<br>
&amp;<br>
THE PATENTS RULES, 2003<br>
COMPLETE SPECIFICATION<br>
(See section 10, rule 13)<br>
"METHOD AND ARRANGEMENT FOR SIGNAL<br>
LOOP TEST"<br>
TELEFONAKTIEBOLAGET  LM   ERICSSON   (PUBL), of<br>
S-l 64 83 Stockholm, Sweden<br>
The following specification particularly describes the invention and the manner in which it is to be performed.<br><br>
WO 2004/1(1(1512<br><br>
PCT/SE2004/000296<br><br>
METHOD AND ARRANGEMENT FOR SIGNAL LOOP TEST<br>
TECHNICAL FIELD OF THE INVENTION<br>
The present invention relates to a method and an arrangement in the area of single-ended test of a signal line.<br>
5   DESCRIPTION OF RELATED ART<br>
In today's telecommunication it is essential from an economical point of view to use existing copper wires for broadband transmission. These copper wires, often called twisted-pair copper loops or copper access lines, have among<br>
10 themselves very different properties from a broadband point of view. Telecom operators therefore have a great interest in testing the properties of the lines to be able to fully utilize their transmission capacity. The abovementioned is discussed in an article by Walter Goralski:  "xDSL Loop<br>
15 Qualification and Testing", IEEE Communications Magazine, May 1999, pages 79-83.. The article also discusses testing possibilities and test equipment.<br>
The transmission properties of copper lines are more closely discussed in an article by Jose E.  Schutt-Aine:  "High-<br>
20 Frequency Characterization of Twisted-Pair Cables", IEEE Transactions on Communications,Vol. 49, No. 4, April 2001. Propagation parameters of high bit rate digital subscriber twisted-pair cables are extracted by a wave propagation method model. The frequency dependence in the properties of<br>
25 the transmission line and the influence of the skin effect on these are studied.<br>
Testing the transmission properties of a line can be performed by sending a test signal from one end of the line and measure it at the other end, so called double end test. 30 That method is labour intensive and expensive. A more frequently used method is to send a test signal from one end of the line and measure on the reflected pulse, so called<br><br>
W0 2(W4/1(),,SI2	J	l&gt;CT/SE2l«4/l»»2%<br>
/<br>
Single-Ended Loop Testing, SELT. In an article by Stefano Galli and David L Waring: "Loop Makeup identification Via Single Ended Testing: Beyond Mere Loop Qualification", IEEE Journal on Selected Areas in Communications, Vol. 20, No. 5, 5 June 2002 is discussed the influence of different types of line discontinuities and generated echoes in connection with single-ended testing. A mathematical method for handling the echoes is presented and also an experimental validation of the method.<br>
10 In single-ended testing it is advantageous to use the transceiver as a part of a mesurement. device for the loop under test. The broadband communication transceiver is no perfect voltage generator but introduces distortion in the measurement. How to remove this distortion is discussed in a<br>
15 standardization paper by Thierry Pollet :"How is G.selt to<br>
specify    Sn	(calibrated    measurements)?",     ITU<br>
Telecommunication Standardization Sector, Temporary Document OJ-091; Osaka, Japan 21-25 October, :i 2002. A calibration method  is  presented,  based  on  a  one  port  scattering<br>
20 parameter Sn, that includes transceiver parameters which are generated during a calibration. Also in a standardization paper by Thierry Pollet : "Minimal information to be passed between measurement and interpretation unit", ITU Telecommunication Standardization Sector, Temporary Document<br>
25 OC-049; Ottawa, Canada 5-9 August, 2002, the one port scattering parameter Sn is discussed.<br>
SUMMARY1 OF THE INVENTION<br>
The present invention is concerned with a problem how to compensate for influence of : a transceiver on a single-ended 30  testing: of a copper access line.<br>
Another problem is how to generate and store transceiver values for the compensation.<br><br>
■WO'4004/100512	PCT/SE20(I4/(I(KI296<br>
/t<br>
A further problem is to generate a .reliable input impedance of the access line.<br>
The problems are solved by calibrating a test transceiver, which is a typical broadband communication transceiver, and 5 generate ttansceiver model values. These values are stored and are used in a transmitter for communication purposes, which is connected to a loop. A test signal, as reflected by the loop, is measured at the communication transceiver, giving a loop test result. The influence on this result by 10 the communication transceiver itself is compensated for with the aid of the stored transceiver model values.<br>
Somewhat more in detail the problems are solved in the following manner. At least three test impedances each with a known value are connected to the test trasceiver.  Test<br>
15 signals are sent through the transceiver and the test impedance and the reflected transceiver test signals are measured. The transceiver model values for the test transceiver itself are generated and are stored. A loop test with  a  real,  unknown  line  is  performed  with  the<br>
2 0 communication transceiver and is compensated for with the aid of the stored transceiver model values.<br>
A purpose with the present invention is to compensate for influence of a transceiver on a single-ended testing of a copper access line.<br>
25 Another purpose is to generate and store transceiver values for the compensation.<br>
A further purpose is to generate a reliable input impedance of the access  line.<br><br>
30<br><br>
An advantage with the invention is that the influence of a transceiver on a single-ended testing of a copper access line can be compensated for.<br><br>
WO 2004/100512<br><br>
b<br><br>
PCT/SE2004/000296<br><br>
Another advantage is that transceiver values for the compensation can be generated and stored and can be applied for all standard broadband transceivers, based on the same hardware as the tested one. Hence a costly procedure of 5  calibrating an actual transceiver will be eliminated.<br>
Still an advantage is that the generated transceiver values have an easily understandable meaning.<br>
A further advantage is that a reliable input impedance of the access line can be generated.<br>
10  Still another advantage is that the test transceiver can be any one of the transceivers used for communication purposes.<br>
The invention will now be more closely described with the aid of  embodiments  and with  refernce  to  the  enclosed 15  drawings.<br>
BRIEF DESCRIPTION OF THE DRAWINGS<br>
Figure 1 shows a simple block schematic over a transceiver and a transmission line;<br>
Figure 2 shows a somewhat more detailed block diagram over a 20  part of the transceiver and the line;<br>
Figure 3 shows a block schematic over the transceiver connected to an impedance of known value;<br>
Figure 4 shows a flow chart for generating of transceiver characteristic values; and<br>
25   Figure 5 shows a flow chart for generating of an impedance value for the line.<br><br>
WO 2004/100512<br><br>
/L<br><br>
PCT/SE2004/000296<br><br>
DETAILED DESCRIPTION OF EMBODIMENTS<br>
Figure 1 shows a simple block schematic over a transceiver 1 at a central office, connected to a remote device 3 at a customer's premises via a digital subscriber line 2 (DSL). 5 The transceiver includes a digital part 41, a codec 42 and an analog part 43, the so called Analog Front End AFE. The digital part includes in turn a digital signal generator 13 and a computational device 11 interconnected with a memory device 12. The transceiver 1 also has an input 63 and an<br>
10 output 64. The generator, which is connected to the computational device 11, sends a broadband input loop test signal vin to the remote device .3 via the codec 42, the analog part 43 and the line 2. A reflected broadband loop test signal vout is received in the computational device from<br>
15 the line 2 via the analog part and the codec. The line 2 is a conventional copper line of a length L, which has certain properties, such as signal attenuation in different frequency ranges.<br>
As mentioned above it is essential for a network operator 20 to be able to utilize the already existing copper line 2 for the broadband transmission. The operator therefore must know the line properties, such as the length L, signal attenuation and transmission capacity. These properties must normally be determined .after a measurement, which is 2 5 advantageously performed 'from the transceiver end of the line as a so called. Single-Ended Loop Test, SELT. The parameters are related to a line input impedance Zin(f) which can be evaluated using transmitted and reflected test signals. The broadband loop test signal vin, sent for such 30 measuring purposes, is reflected back over the line 2 and is noted as the loop test signal vout. As will be described below, the signals vin and vout are used in the determining of the properties of the line 2.<br><br>
WO 2004/100512	PCT/SE2004/000296<br>
7<br>
What the operator in fact needs to know is the input impedance Zln(f) .of the line 2 including the remote device 3, measured from a transceiver interface 5 and being independent of the transceiver 1 itself. A first step in 5 getting the required line properties is to generate an echo transfer function Hech0{f) for the actual line 2. This is calculated by performing a frequency translation of the broadband signals vin and vout, resulting in signals Vin (/) and Vout (_/) in the frequency domain. The, transfer function is 10  generated by the relationship<br>
#„*(/)= Vout(/)/Vin(/)	'     (1)<br>
in which the frequency is denoted by /.'<br>
Naturally, the function HefhB(f)    includes properties of the<br>
transceiver 1. Below it will be described by an example how<br>
15  the required line properties of the line 2 can be obtained<br>
with  the  aid  of  the  frequency dependent  echo  transfer<br>
function Hecho{f) .   First, the transceiver analog part 43 will<br>
be described somewhat more in detail in connection with figurei 2. This is to throw light upon the difficulties in 2 0  characterizing the transceiver 1 in a simple manner.<br>
Figure 2 is a simplified block diagram over the analog transceiver part 43 and the; line 2 of figure 1, yet somewhat more detailed than in that figure. The analog part 43 includes an amplifier block 6, a hybrid block 7, a sense<br>
25 resistor RS and a line transformer 8. The amplifier block 6 has a: driver 61 with its input connected to the digital generator 13 via the codec 42, not shown. I also has a receiver 62 receiving signals from the line 2 and having its output connected to the transceiver digital part 41, not<br>
30 shown. The driver output is connected to the sense resistor RS, the terminales of which are connected to the hybrid block 7. The latter has four resistors Rl, R2, R3 and R4 and<br><br>
WO 2004/100512	PCT/SE2004/0002%<br>
is connected to inputs of the receiver 62. The line transformer 8 has a primary winding Ll and two secondary windings L2 and L3 interconnected by a capacitor CI. The primary winding Ll is connected to the sense resistor RS and 5   the secondary windings L2 and L3 are connected to the line<br>
2.	The frequency dependent line input impedance at the<br>
interface 5 is denoted Z,.„(/) and the input impedance at the<br>
primary side of the transformer is denoted ZL. The<br>
termination of the far-end of the line 2, the remote device<br>
10  3, is represented by an impedance ZA.<br>
The signal vin, now in analog form from the codec 42, is amplified in the driver block 61. The output impedance of the driver is synthezised1 by the feedback loop from the sense resistor RS. The line transformer 8 has a voltage 15 step-up from the driver to the loop. The capacitor Cl has a DC-blocking function. The transformer and the capacitor act as a high pass filter between the driver 61/receiver 62 and the loop 2, 3 with a cut-off frequency around 30 kHz. No galvanic access to the loop is possible in this case.<br>
2 0 In the present description a frequency-domain model of the echo transfer function tiHhn(f) i-s used to calculate the frequency dependent input impedance Z.m(f)   of the loop 2 and<br>
3,	as seen by the transceiver 1 at the interface 5. The<br>
input impedance can then ! be used for calculating several<br>
2 5 loop qualification parameters. This frequency-domain model of the echo transfer function Hech0(f) includes three parameters Zh0(f),     Z^if)    and Ha(f)    which relate to the<br>
transceiver 1. The parameters, transceiver model values, fully:describe the transceiver from this point of view.<br>
30 The parameters ZM(f) , Zhyb(f) and HJf) are originally deduced analytically from the circuits of the transceiver. Some minor simplifications have been made in the analysis,<br><br>
WO 20(14/1 »0S 12	PCT/SE2004/0002%<br>
/ 9<br>
but the model has proved to be very accurate. In the enclosed Appendix 1, "Simulation of the echo transfer function for DAFE708" it is shown how the model of the echo transfer' function Hechc(f)   is derived.<br>
5 The values of the parameters are normally not calculated directly from the component values of the transceiver, but are generated from measurements in a&gt;calibration process, as will be described below.<br>
In the earlier mentioned standardization paper "How is 10 G.selt to specify Sn (calibrated measurements)?" the scattering parameter Sn is expressed with three parameters CI, C.2 and C3 for the transceiver. These parameters should not be confused with the transceiver model values ZM{f), Z.f,(f)   and //„(/) of the present description. The parameters<br>
15 CI, C2, and C3 are dimensioriless quantities and are not given any concrete meaning, although they are successfully used to model the transceiver. The; transceiver model values of the present description are recognized in the analysis and can be interpreted'directly:<br>
2 0 The value HM'(/) is the frequency dependent echo transfer function for the transceiver 1 with open connection to the line 2, i.e. when the jlirie impedance' is of unlimited magnitude.<br>
The value Z^if)   is the transceiver impedance as measured at<br>
25 the connections to the line 2, i.e. the transceiver impedance at the interface 5 as seen from the line side.<br>
The value ZM(f)    can be expressed as ZM{f)    = H0(f) ■    Z^{f),<br>
in which the value H0(f ) is the frequency dependent echo transfer function for the transceiver 1 with the connections 30  to the line 2 shortcut and the value Z^(/) is defined above.<br><br>
WO 2004/100512	PCT/SE2004/000296<br>
It is to observe that the transceiver model values are not measured directly, but are generated in a process as will be<br>
described below.<br>
The echo transfer function Heeho{f)    of equation (1) can be<br>
5  expressed as:<br>
in which<br>
Z,.n(/) is the earlier mentioned input impedance of the line 2 as a function of the frequency / ; and<br>
10   Z,,„(/) , Zhrh(f)    and #»(/) are complex vectors and are the transceiver model values mentioned above.<br>
After a calibration measurement of a certain transceiver version its vectors can be determined. These vectors, the transceiver model values, are then pre-stored in for example 15 the software of the transceivers of the measured version, e.g. in the memory 12 of the transceiver 1. The model values are then used for the loop test of the line 2 with its initially unknown properties.<br>
In connection with figure 3 will be mentioned how the 20 calibration measurement is performed. The figure shows a test transceiver 31, to which test impedances 9 of different predetermined values are connected at the interface 5 for the line 2. A measurement device 32 with a memory 33 is connected to the input 63 and the otput 64 of the test 25 transceiver. The measurement device•. 32 sends a control signal VC1 to the test transceiver 31 and initiates it to generate a broadband transceiver test signal vtin , one for each value of the test impedance 9. A reflected output transceiver  test  signal; vtout is  received  in  the  test<br><br>
WO 2004/1011512<br><br>
//<br><br>
PCT/SE2004/000296<br><br>
tranceiver, which sends a corresponding control signal VC2 to the measurement device. A complete measurement requires the measurement of three selected impedance values. The echo transfer function HechB(f) is then generated in accordance 5  with the relationship (1).<br>
Using three impedance values for the calibration is sufficient to generate the transceiver values*. To get more precise values, more than the three impedances can be used. This gives rise to an overdetermined equation system. An<br>
10 example on a. set of standard values of /the test impedance 9 for the calibration is an. Open circuit, a shortcut circuit and an impedance value corresponding to an expected value for the loop, e.g. 100 ohm;s. It should be noted that a value for a purely resistive component is normally valid only up<br>
15 to a limited frequency, e\ g. 1 MHz. For higher frequencies it is recommended to measure the impedance value of the "resistive" component.<br><br>
20<br><br>
The generating of the three complex vectors Zh0(f) ,     Z^f)<br>
and Ma(f)      for the measured transceiver 31 is performed in<br>
■ * the  following manner.  The model  of the  echo  transfer<br>
vip (2) can be expressed as:<br>
function in the relation'sh<br><br><br><br>
*   (Z^f))<br><br>
= Htcho(f)ZJf)<br><br>
(3)<br><br>
or equivalently Ax = b,   where<br><br>
25   A = (\    -Hech0{f)   Zlh{f))&gt;        * =<br><br>
(z^i/y<br>
Zhh{f)\     and t&gt; = Htcha(f)Zln(f)<br><br>
The general solution to the system Ax~b   is<br><br>
WO 2004/100512	PCT/SE2004/000296<br>
X = (ATAY Arb<br>
By using the values of the transfer function Hecha{f), measured as described above with different types of the input terminations 9, the vector x can be solved. The thus 5 generated calibration values of the vector x are stored for example in the memory 33 of the measurement device 32 or in the memory 12 of the transceivers of the measured version. Note that A , x and b normally are complex valued and frequency dependent.<br>
10  After a measurement of the echo transfer function Heehtl(f)   for<br>
the actual unknown line 2, its input impedance as seen by the transceiver 1 at the interface 5 can be generated as:<br>
To summarize, a certain hardware for transceivers like the 15 transceiver 1 is first calibrated. This is performed for the test transceiver 31 with the aid of the impedances 9 and the transceiver test signals vtin and vtout- The vector x is calculated and the values of the vector x are stored and can be used for any transceiver with the same hardware. The echo 20 transfer function Htchn{f) is then measured by the transceiver 1 for the line 2 having unknown properties with the aid of the loop test signals vin and vout. The frequency dependent input impedance Z.n(f) of the line 2, as seen from the transceiver interface 5, is then generated.<br>
25 In the embodiment described above, both the transceiver test signals vtin,vtout and the loop test signals vin,vout have been broadband signals. It is possible to use signals of any desired frequency width both for the calibration and the measurement of the line. The calibration and the loop test<br>
30  will of course be valid only for the selected frequency<br><br>
•■■WOM(M/1«!512	PCT/SE2(KI4«m2%<br>
13<br>
range. It has been mentioned that the transceiver model values are stored in the memory 12 of the transceiver 1. An obvious alternative is to store the values in the memory 33 or in a memory in some central computer and transmit them to 5 the transceiver 1 when they are required for the generating of e.g. the input impedance Zin(f) of the line 2. Also, in the description has been mentioned the test transceiver 31 and the transceiver 1 for communication purposes. The test transceiver 31 can be any of a set of transceivers which are 10 based on one and the same hardware. The test transceiver can in an obvious way be used for the communication purposes.<br>
The above generating of transceiver model values and the generating of the impedance value for the line 2 will be shortly described  in connection with flowcharts in figures 15   4 and 5.<br>
In figure 4 is shown the; generating and storing of the transceiver model values, the method begins in a step 601 with the selection of the transceiver' 31 for test purposes. In a step 602 an impedance. 9 with a predetermined value is<br>
20 selected and in a step 603 the impedance is connected to the line connection of the test transceiver 31. In a step 604 the transceiver test signal vtin is sent through the transceiver 31 to the line 2 . To get transceiver model values that can be used for a wide range of applications the<br>
25 test signal is a broadband signal. The signal is reflected by the remote device 3 and1 after passage of the transceiver 31 it is received as the transceiver test signal vtout in a step 605. In a step 606 thej echo transfer function Hcch(f) is generated in the computational device 32 for the actual<br>
30 impedance 9, after first having transformed the signals vtin and vtout' into the frequency domain.. In a step 607 it is investigated whether measurements for--a sufficient number of the impedances 9 have been made, so that the transceiver<br>
J'	■' ,<br>
model values Zh0(f),   Z^,b(f)  jand #*(/) can.be generated. In an<br><br>
WO 2004/100512	PCT/S£2004/0002%<br><br>
alternative NOl a further impedance 9 is selected in the step 602. For an alternative YES1 the transceiver model values Zh0(f) , Zhvh{f) and H„(f) are generated in a step 608. In a step 609 the vector x, i.e. the transceiver model 5 values, are stored in the memory 33. Next, the transceiver 1 for communication purposes is selected in a step 610. In a step 611 the transceiver model values ZM(f) ,     Z^if)    and<br>
Hm(f)   are transmitted to the selected transceiver 1 and are<br>
stored in the memory 12.<br>
10 Figure . 5 shows the generating of the frequency dependent line input impedance Zin{f) -at the transceiver interface 5 to the line- 2. In a step 701 the transceiver 1 for communication purposes is connected to- the line 2 with the remote device 3. The loop ,test signal vin is sent in a step<br>
15 702. The loop test signal !vout as reflected by the line 2 is received by the transceiver and is measured in a step 703. In a step 704 the frequency dependent echo transfer function<br>
H ccho(f)    is generated in the computational device 11. The frequency dependent impedajnce value Zin(f)    for the line 2 is<br>
2 0  generated in the device ]  11	with the aid of the stored<br>
transceiver model values and	the echo transfer function,<br>
step 705. This generating is	performed in accordance with<br>
the relationship (4).<br><br>
.   &gt; ,•—'	PCT/SE2004/0002%<br>
/ l&gt;<br>
Appendix 1<br>
SIMULATION OF THE ECHO TRANSFER FUNCTION FOR DAFE708 Abstract<br>
Purpose<br>
Application<br>
Contents<br>
1	Introduction....	2<br>
2	Simulation mode! for symbolic analysis	2<br><br>
2.1	Subscriber cable	2<br>
2.2	Line transformer	3<br>
2.3	Out-of-Band filW	6<br>
2.4	. Line driver/receiver	10<br>
3	Echo transfer function and Loop impedance	16<br>
4	Echo impulse response	20<br>
5	Annex A - Verification of simulation model	24<br>
6	References.....	31<br><br>
WO 2004/100512<br><br>
lb<br><br>
PCT7SE2004/000296<br><br><br><br><br>
V  OUt	C6<br><br>
C2<br>
C3<br>
r<br>
x<br><br>
INTRODUCTION<br>
The DAFE 708 unit contains the Broadcom BladeRunner chipset (DSP and CODEC) and 10 analogue line interfaces. The line interfaces are designed around the Infineon line driver /receiver PBM 39714. For testing the single-end loop test (SELT) algorithms and investigating manufacturing test features it might be helpful to have a simulation model of the analogue front end. With this it is easy to examine the impact of changing the external load or loop connected to the line interface as well as the internal components on the PCB.<br>
In the following such a model based on symbolic expressions is developed for the analogue part of the DAFE 708. The main purpose is to derive expressions, which can; be used for evaluation of thje echo transfer function<br>
OOB-FILTER<br>
LINE TRANSFORMER<br>
SUBSCRIBER LOOP<br><br>
£1<br>
DRIVER<br>
RECEIVER<br>
■"UAA/"<br>
ECHO CANCELLER<br><br>
C5<br>
ZL	ZIN<br>
Figure 1: Block diagram of analogue part of DAFE 708<br><br>
2<br>
2.1<br><br>
The circuit in consideration is shown in Figure 1. The analogue part is separated in three blocks - the PBM 39714 driver/receiver/echo canceller, the out-of-band noise suppression filter and the line transformer. The CODEC output is assumed to be a constant voltage source ein. Two series capacitors are inserted between the CODEC output and the line driver. The echo transfer function is defined as H^o - vou,/ein where vou1 is the received output voltage at the CODEC input. The CODEC input has a differential load impedance of 24 kfX The Shown capacitors C4, C5 and C6 are inserted to perform some low pass and high pass filtering of the receiver output.<br>
Below each block is analysed and symbolic expressions are formulated. Finally these expressions can be combined to generate the echo transfer function. Before Hechojean be evaluated the input impedance Z)N of the subscriber loop must be calculated. This requires knowledge to the primary constants of the cable, the loop length and the far-end termination.<br>
SIMULATION MODEL FOR SYMBOLIC ANALYSIS<br>
SUBSCRIBER CABLE<br>
The input impedance!of the subscriber loop is calculated by using the expressions in Annex A of Ref. [1] for the primary constants for ETSI loops. When the primary constants are found the secondary constants are given by<br><br>
WO: 20(14/1 OOri 12<br><br>
^y?<br><br>
PCT/SE2004/O002%<br><br><br><br>
7 - / ^+y^<br><br>
and<br><br>
y = J{R + jcoL)(G + jcoC)<br><br>
The chain matrix of a loop with the length d is then given by<br><br><br><br>
cosh(^')  Z0sinh(^f)'<br>
*!n!M  cosh(^)<br><br>
iC<br><br><br><br>
2.2<br><br>
With a given far-end termination ZT the input impedance ZM can be calculated by using the expression<br>
_ ZT cosh(;d)-<jz0 sinh></jz0>
—- sinh(^/)!+ cosh(yd)<br>
LINE TRANSFORMER<br><br><br><br><br><br><br>
525uH<br>
AFE<br><br>
LINE<br><br>
Figure 2: Line transformer for DAFE 708<br>
The line transformer together with the series capacitor C1 is shown in Figure 2. All four windings L1, L2, L3 and L4 are placed on the same magnetic core and are closely coupled together. It is assumed that the number of turns for L1 and L2 are equal and the same for L3 and L4.<br>
When considering only differential, balanced port signals the schematics of the transformer can be Simplified in order to make the derivation of the characteristics easier.<br><br>
WO 2004/100512<br><br>
&gt;r<br><br>
PCT/SE2004/000296<br><br><br><br>
i2<br>
	►<br>
i1    +<br>
v3/N<br><br>
Ideal<br><br><br>
v3<br>
^i1/NS|j3<br>
iL1 1.05mH<br><br>
Lis /YYYY<br>
1uH   ■■ <:.></:.><br>
1:2<br><br>
v1<br><br>
Ideal<br><br>
=^   C1 33nF<br><br>
v2<br><br><br><br>
v4 hl/N'<br>
V4/N<br><br>
1:2<br><br>
+   )   L2<br>
1.05mH<br>
i4<br><br>
L2s<br>
1uH<br><br>
Figure 3: Simplified mode) for line transformer<br>
The four winding symmetrical transformer is divided into two single transformers as shown in Figure 3. Each transformer is replaced by an equivalent circuit, which consists of an ideal transformer and the two inductors L1 (L2) and Lis (L2sj. The ideal transformer has a turns ratio N equal to the original transformer, jhe ideal transformer imposes constraints on the terminal voltages and currents of the transformer as indicated in Figure 3.<br>
The inductor LI (L2) 'represents the main inductance on the line side and the inductance is actually half the open circuit inductance measured at the line side. Lis (L2s) represents the leakage inductance and is half the short circuit inductance measureci at the line side (both with C1 shorted).<br>
In order to find the cfjiain matrix of the line transformer the port voltages and currents shown in Figure 3 are considered. The equations of the circuit are<br><br>
^1 + ^L N     N<br><br>
sL1s/2+v3 +<br><br>
sC,<br><br>
+ v4+sL2si2=v2<br><br>
v3 = sL,i,    vt = s^2/4     ;3 = !jL + i2     U=jj + '2<br><br>
If we assume that the two single transformers are identical (L1 = L2) we have i4 = i3 and \/4 = v3. This together with equation 3 to 6 can be used to eliminate v3l v4, i3, i<s from equations and></s>
J " The second equatioh gives after the substitutions<br>
'1=—v2-/V<br>
2L,s<br>
J        2L1C1s2<br>
This expression is introduced in the first equation together with the substitutions. After rearrangement the result is<br><br>
■W2WM/1M512:	~	PCT/SE2004/0002%<br>
1	2L1sClS2+1.<br>
1    A/  2	WC,s      2<br>
The chain matrix is defined as<br>
Comparing with the last two expressions we have the chain parameters of the line transformer:<br>
T    N	T       NC,s<br>
Cr=-^	D	(L„+1,^+1<br>
T    Lms	T	LmClS2<br>
where we have introduced Lm - I, + L2 and Lt = L1s + L.2S as the total main inductance and the total leakage inductance respectively measured at the line side (with C, shorted).<br>
The actual component \/alues for release R1.1 are:<br>
Lm a 2.1 mH, L, = 2 uH, d = 33 nF, N = 2.0.<br>
The magnitude of the four chain parameters with these values is presented in Figure 4.<br><br>
WO 2004/1(10512<br><br><r2-0></r2-0><br>
PCT/SE2004/000296<br><br><br><br>
1*10<br>
1*10<br>
100<br>
10<br>
0.1<br>
0.01<br>
1*10<br>
1 -10<br>
1*10<br><br><br>
^=5S=			Lin	: tr	anslorr	ner chain	J!£	ramete	rs		s=^|4#<br>
												_ - - -<br>
		— S £'-		=						'■■•—•■ ■	=5= = = = ^::<br>
	s		»w,								== = = = = ;■<br>
		-!!vE—			:!:=
—^			;: = &gt;==		= == = =	- = ~ ===3			"iS=^		= = =:;;;:<br>
						" !     .   : ■-!.«;			?'■		<br>
			=; s         V"			i\i-=m		= = = j	s::		«I== = H<br>
^....						■..					<br>
											= ==l = !i;<br>
		■"	..								<br>
			:::==S3S			... ■".&gt; _r_					<br>
					S=3 = =				= =- "■     •		E = = = = = :<br>
			1			iiiii^					<br><br>
			L." '		=11 = 1				nii=g	<br>
											=s3;;:<br>
											-Z. .<br><br><br><br>
10<br><br>
1*10<br><br>
1*1.0<br><br>
1*10<br>
Hz<br><br>
1*10<br><br>
1*10 10106<br><br>
	  AT<br>
	 BT<br>
	  CT<br>
	  DT<br>
Figure 4: Chain parameters A, B, C and D of line transformer<br><br>
2.3<br><br>
OUT-OF-BAND FILTER<br><br>
In order to suppress noise and harmonics of distortion above the ADSL band it has been necessary to introduce an Dut-of-Band filter between the line driver and the line transformer. The OOB-fiiter has the following configuration shown in Figure 5.<br><br><br>
v2<br><br>
Figure 5: Filter for out-of-band noise<br>
The impedance of the series branches is Zi = Z2- sLFt assuming that LF, = LF2. The impedance of the shunt branch is<br><br>
Z3 = sL„ +<br><br>
1        LF,CF,s2+1<br>
sC<br>
F3<br>
F3<br>
sC<br><br>
WO 2004/100512 v	/0    ,	PCT/SE2004/000296<br>
With i2 = 0 and a voltage v^ applied we have<br><br><br>
Z3+2Z,<br>
v2 =	i-=-v1    or<br><br>
If the expressions for the impedances are substituted into the equation the result is<br>
(LF3+2Ln)CF2s2+1t<br>
V    = -l_^	L±L-S±	V<br>
UCt,s2+1        2<br>
r<br>
-F3^F3<br>
With i2 = 0 and a current i, applied we have v2 = Z3\y or i,= v2/Z3<br>
Cf3S '* ~ LnCns2+1V*<br>
With v2 = 0 and a voltage v-, applied we have i2 = v,/2LF1s or<br>
v, = 2LF1s/2<br>
With v2 = 0 and a curreht U applifd we have i2 = ii or i1 = i2. The chain matrix is defined as<br>
Comparing the expressions derived above we have the chain parameters of the OOB-filter:<br><br>
(LH+2Z.fl)C,,jf2+1<br>
-FIEFS'-<br><br><br>
LF3CF3S2+1<br>
The actual component values for release R1.1 are:<br>
LF1 = LF2 = 680 uH, LF3 = 270 uH, CF3 = 4.7 nP.<br>
The magnitude of the four chain parameters with these values is presented in Figure 6.<br><br>
WO 2(1(14/100512<br><br>
S   ^<br><br>
PCT/SE2004/000296<br><br>
OOB-filter chain parameters<br><br>
AF BF CF DF<br>
Figure 6. Chain parameters A, B, C and D of OOB-filter<br>
If the input impedance of the subscriber loop Z|N is known the driver load impedance ZL of the /^FE shown in Figure 1 can be found from<br><br>
Zt =<br><br>
C[ZIN+DL<br><br>
The four coefficients are obtained by multiplication of the chain matrix of the OOB-fitter with the chain matrix of the line transformer<br>
\cL  DJ_1C/:  DFj\cT  DrIf the subscriber loop is replaced by a resistor of 100 D. the load impedance ZL turns out as illustrated in Figure 7.<br><br>
-WO 2004/100512<br><br>
^<br><br>
z3<br><br>
PCT/SE2004/000296<br><br><br><br>
I'lfT<br>
100<br>
10<br><br>
Load impedance ZL with Z1N=100 ohm<br>
			_J			(     .		<br><br><br><br>
		U	u					r<br>
	1			~v-				<br>
		1					1<br>
	,	1 ■ /					/<br>
	7/*4=					V<br>
-/	7=		1    . I!.				<br>
/			1				<br>
f			j				<br>
			1   .				<br>
			i1				<br><br><br><br>
10<br><br>
MO1<br><br>
1*10<br><br>
no r<br>
■Hz<br><br>
I'lO<br><br>
no IOIO6<br><br>
Figure 7: Driver load impedance ZL with the line interface terminated into<br>
100 fi	i<br>
In the ideal case Z± should be given by 100 Q/N2 = 25 Q, which is seen only to be the case between J100 kHz and 1 MHz approximately. The peaking at low frequencies is caused by the line transformer and the series capacitor at the line side. The series resonance circuit of the OOB-filter is responsible for the minimum at 2 MHz.!<br><br>
WO 2(1(14/100512<br><br>
PCT/SE2004/00029f&gt;<br><br><br><br>
JSI-<br><br>
T.<br><br><br><br>
2.4<br><br>
LINE DRIVER/RECEIVER<br><br><br><br><br>
RSHA -JVW—<br>
GAJNA1<br>
RAS	f\      OR1<br>
	c—T	ISMr^	  1ESS	.^fr	|H'	<br>
i^    1	i;      -4="   '5nF	I    R^i   R/tfl    BA3-1    RAO<br>
' (    ' 0	" 0	°	&gt; 3k      &gt; 1.5V   &gt; 3k      &gt; 1.27k<br><br>
-fotm<br><br>
FA2<br><br>
CODEC<br>
—»—ra—w^-H 1E!&gt;-—w^—IH ■—L<br>
-      Hp~I    1ki^,d&amp;r     SA2      27       680r&gt;F SB2<br>
"
2.2nf<br>
"==■:   F 2.84 —.—n  F  -2.M<br>
• o	- o • o FM<br><br>
-fOUfTl<br><br>
LINE<br><br><br><br>
FB1<br><br>
FB2<br><br><br>
?&amp;<br>
i	;.	;<br>
Figure 8: Schematics of the AFE with the PBM 39714 line driver/receiver<br>
i<br>
The Analogue Front-End (AFE) consists apart from the line transformer and OOB-filter of the PBI^I 39714 line driver/receiver and a few external components. PBM 39714 is a differential mode" line driver and receiver including an echo canceller bridge. A suitable model of the device is shown in Figure 8. The input terminals are TVP and TVN with the input resistors RA6 and RB6. The amplified transmit signal appears between the driver output terminals DR1 and 0R2. A sense impedance network Zs consisting of RSA, CSA and RSHA (RSB, CSB and RSHB) is placed in series with the driver output. The voltages at the terminals of the sense impedance network are converted into currents through the two 3 kCl resistors at the terminals SA1 and SB1 (SA2 and SB2). The currents are subtracted by the two current controlled current sources FA1 and FA2 (FB1 and FB2). The difference current represents the voltage across the sense impedance network or the driver output current<br>
multiplied by 2S. This current is fed back to control the driver output voltage tfhe result is that the driver output impedance is equal to<br><br>
4V0 2'*!o4/i.o()5ir<br><br>
^2-3<br><br>
PCT/SE20(U/(I002%<br><br>
Zs multiplied by a real scale factor K. A second feedback path through the controlled source FA3 (FB3) is used to set the transmit gain of the driver output stage.<br>
The echo canceller consists of the resistor bridge RA7, RA8, RB7 and RB8. If the load impedance ZL is matched to the sense impedance K*ZS the echo signal between output terminals RP and RN will ideally be zero with the selected resistor ratio of the bridge.<br>
The receive path is purely passive. The received signal across the line transformer is sensed through the bridge resistors RA8 and RB8 where it appears between the terminals RP and RN. The echo canceller however also affects the received signal. The parallel capacitor CR and the two series capacitors CRP and CRN constitute an output filter together with the receiver output impedance and the CODEC input impedance.<br><br>
21<br><br>
In order to derive a symbolic expression for the echo transfer function the simplified, unbalanced rriodel of the line driver/receiver in Figure 9 is used. A detailed analysis of the circuit is presented in Ref. [2].<br>
X   ZL1<br>
ir-feiFi   r~£-J<br>
F 2.64 — —    F -2( a2<br>
M   I	i——AVV-<br><br>
F    0.5 —<br><br><br>
v out<br><br>
CRP<br>
1.5nF<br><br>
RR1       v  0Uf<br>
ei<br>
-AAV-<br>
687.7<br>
CR<br>
:£ 1.36nF<br>
I        E 1.0<br><br>
RS 1.5k<br>
v5<br>
R7 1.27k<br><br>
R6 1.27k<br>
v4<br>
R8 1.5k<br><br>
Figure 9. Simplified, unbalanced model for deriving the echo transfer function of the line driver/receiver<br>
The echo transfer function Hech0(f) is given by HeCh0 = voui/ejn. This can also be written as<br><br>
H<br><br>
echo<br><br>
v out   _   v out   v out<br>
V out     &amp;,n<br><br>
where vou,/v'0l/t is the transfer function of the output filter.<br><br>
WO: 2004/100512<br><br>
-r/2^?<br><br>
PCT/SE2004/000296<br><br>
The following equations apply to the circuit in Figure 9 (see also section 2.3 of<br>
Ref..[2])<br><br>
R7<br>
-i/2--<br>
R7+R5        R8+R6<br>
0ut = VS-V*   =   r,     .   »    y2-  „      .   „     -3<br><br>
'5=-7T    '6=^    ^i=^/3    ^=^1    V3=ZL1/4    l/2-i/3=Zs/4<br>
R	re<br>
/3=/I+/2=^-e#I-a1/s+a1/6-a-2/a<br><br>
By substitution it is possible to derive<br>
»2  =	1 + ^-Vs	and<br>
v2 =	JH	12,   '"    R   2	a.        a? R   3    R     ,<br>
it is now possible to eliminate v2 and to find v3 expressed by the equation<br><br>
^+^3+^4^+^^-^,=^^<br>
R<br>
-a<br>
RZU<br><br>
or<br><br>
vz =<br>
l^^at,<br>
Z^R^+Z^+^foZ^+a^)) /n Using the first relation between v2 and v3 it is possible to express v2 as R{Z[,+Zs)pZAaln<br>
v2 =<br>
By.<br>
Z, (R(ZLi + Z[)';+ //Z„ (a2Zt1 + a,Zs))<br><br>
The last two expressions are now substituted into the equation for v'ou) to give<br><br>
^^^-^r2"<br>
fl8+K6<br>
out<br><br>
1, {R{ZL, + Zs) 4 A(a2Zt1 + a,Zs))<br>
j If we assume that R5 = R8 and R7 = R6 it can be rearranged to<br><br>
out<br>
MZARaln	{/V-.ft«)Zu + R*ZS<br>
e,„      Z1(R6+Ri)(R + ^Z/(a2)ZL1+(R + /uZ&gt;,a1)Zs It is seen that v'out = 0 if R8/R6 = 1 + 2s/2L1 (echo cancellation). The transfer function v'oul/ein can also be expressed as<br><br>
.2-7<br>
t&gt;VO 2004/100512   .	_    ^	PCT/SE204/0002%<br>
eln        'B,ZU+B0<br>
The coefficients may now be identified by comparing the last two expressions. Then we have<br>
8,=/? + /^	B0={R + /JZAai)Zs<br>
To find the echo transfer function we need to derive the transfer function for the output filter Hou, = vou,/v'ou1. By considering the filter circuit in Figure 9 it is possible to calculate the transfer function to<br>
U	°R2^RPS		<br>
^R^R2^RP^RS\   + (RR\CRP + RR\CR + RRICRP P + 1<br>
If we write the echo transfer function Hech0 as<br>
u     ~ ^JUL - r   i nl+   °<br>
we see that the multiplier is G - G/Hou, while the other coefficients remain<br>
unaltered.	■<br>
1	•  ■'   •<br>
For calculations with the expression for H^ch0 We need the frequency<br>
dependent quantities ZJ, 2S and u. Z1 is given by<br>
1    sC,        sG, The sense impedance Zg is given by<br>
s   JL +    sCs2!     S(RS1 + KS2 )c52 +1<br>
The open loop gain u is determined by the DC gain u0 and the corner frequency given by the)resistor RM and the capacitor CM<br>
sRfi„ +1<br>
With these modifications taken in consideration the coefficients of Hecho now finally can be identified as follows:<br><br>
if<br>
J! WO 2004/101)512	^    CV"	PCT/SE2004/000296<br>
G^Z1(R6+RB)M-'<br>
A,=R6-RS	A0=R6ZS<br>
B,=R + fjZAa2	B0={R + tiZAa,)Zs<br>
where Z  ^sRiCJ+1	2        ffsi(^CS2+1)<br>
sC,	s    s(Rs1+RS2)CS2+1<br><br>
s*„C,+1<br><br>
and<br><br>
W        =	j	RR2C RPS        	<br>
°"     RR,RR7CRPCls2 + (R*,<v rr rr2crp></v>
The actual component values in release R1.1 are:<br>
R, = 2.2kQ, C, = 2.2nF, ain =-4.D, ZA = 1,RM = 1 kn. CM = 15 nF, p0=10+*<br>
a, = 2.84, a2 = 0.5, R = 3 kQ<br>
RS1 = 15 Q. RS2 = 2.J Q, Qs2 = 680 nF, R6 = 1.27 kfi, RB = 1.5 kfi,<br>
RR1 = Re//R8 = 687.7 h, RR2 = 12 kn, CR = 2*680 pF = 1.36 nF, CRP = 1.5 nF.<br>
If the load impedance Zu is known the echo transfer function can be calculated from<br>
A 2   +Ai<br>
i<br>
Note thatZu in this expression shall only be half the impedance ZL calculated in section 2.3! This is because the expression for Hech0 is based on the unbalanced version of the AFE'circuit.<br>
For the case wnere ttpe suDscrmer loop is replaced by a resistor of 100 Q the<br>
corresponding echo transfer functioniis shown in below.<br>
i	. ■ . *	*	. ■<br><br>
? ;WO 2004/100512<br><br>
^X°]<br><br>
PCT/SE20(M/(MK)296<br><br><br><br>
"!0<br>
-20<br>
"30<br>
-40<br>
db<br>
-50<br>
1*10<br>
-50<br><br>
Echo transfer function - Z1N=100 ohm<br>
		A		"\			<br>
		A 1 1	\				<br>
	/ V		1	X	v_;ilffl<br>
	1				V-		\\A...<br>
/							1<br>
1*10"<br>
1*10<br>
to7<br>
1*10<br>
CIO Hz<br><br>
Figure 10: Echo transfer function with the line interface terminated into 100 Q<br>
The procedure for calculating the echo transfer function can now be stated as follows:<br>
1.	Find the primary cable parameters for the selected type of cable (R,L,G,C), the cable length (d) arid the far-end termination impedance (ZT). Calculate the input impedance of the loop Z,N.<br>
2.	Calculate the driver load impedance ZL by using the combined chain matrix for the line transformer and OOB-filter sections and the loop impedance Z|N.<br>
3.	WKh the load impedance ZL1 = ZL/2 the echo transfer function can now be calculated by using the expression for HeCho for the line driver/receiver PBM 39714.<br><br>
WO 2004/100512<br><br>
0<br><br>
PCT/SE2004/000296<br><br>
ECHO TRANSFER FUNCTION AND LOOP IMPEDANCE<br>
The echo transfer function was found in the preceding section 2.4 as<br>
Hecho = G	7	<br>
and the load impedance ZL is related to the input impedance 2|N of the subscriber loop as shown in section 2.3<br>
L~CLZm+DL<br>
If this is substituted into the expression for Hech0 we have after some rearrangements<br><br>
H„eho = G 7g	■	"	—'	■	:<br>
~±BL+B0DL<br>
Z<n></n>
-f\+B0CL<br><br>
If we write Heeho as Y,Zm + M,<br>
echo<br>
H<br>
Y2ZIN + M2<br><br>
we have the identification<br><br>
V ^	J<br><br>
M^G[^BL^A0DL<br><br><br><br>
Y2=^-AL+B0CL<br><br>
M2=yBL+e0oL<br><br>
If ZIN -&gt; oo =&gt; Heeho -&gt; H«, a Yi/Y2, which is the echo transfer function if the subscriber loop is replaced by an open circuit.<br>
If Z,N = 0 =&gt; Hetho = Ho = M,/M2, which is the echo transfer function if the subscriber loop is replaced by a short circuit.<br>
By division with Y2, H**,,. can also be written as<br><br>
_y2<br>
H<br><br>
echo<br><br>
V,7      M,<br>
-IN<br>
Y2    _  H«,ZIN + ZhO<br>
Z   -3<br>
12<br><br>
I<br><br>
WO 2004/100512<br><br>
PCT/SE2004/0002%<br><br>
where Zhyb = M2/Y2 and Zho = Mi/Y3.<br>
Using the actual components values the four highlighted functions can be calculated. The results are shown below.<br><br>
Yl. l<br>
Y2.<br>
!0<br><br><br>
Id				Hin finite			<br>
					■-■■■■■■=#			<br><br>
			'•* ■			i		<br><br>
I					l:-.~			<br>
			■■■■■■■■=?		::::-*	!»_      _-		<br>
			....-/-			h-5«r      -		<br>
			T		.;■	\_		<br>
			i			\		s—=E=I;<br>
n I							»	<br>
		-^-			:_.-	—__		... ^_	-Er:E:i:<br>
								I     ....<br>
		1"		,				i<br>
		/	■ ■■					$:::::<br>
ont	=*	v  -			-			-===5=;;<br>
	i=				--——			H(-1IHH<br>
	/							<br>
	r				,			<br>
								——	<br>
-3								<br>
I»I0<br><br><br><br>
1*10<br><br>
I»I0<br><br>
1*10<br>
Hz<br><br>
1*10<br><br>
1 "10<br>
!07<br><br>
	   Hecho with open line terminals<br><br>
1,0<br>
Ml. r<br>
"MT<br>
10<br><br><br>
1			"~~K					......      ..<br>
			X					<br>
			/.■		.-    •	V		<br>
			/	,   /		
			&gt;'  ■	V'			■-,	<br>
0 I		h+ra	1   .				\	[ \\M<br>
		—
		t-						it -..<br>
								31<br>
		(						J r "<br>
		I						<br>
001	-i	1						^	\14- -lv+<br>
	=7=							—r<br>
	/							<br>
	/							...y<br>
	/							<br><br>
"3								<br>
1*10<br><br><br><br>
1*10<br><br>
1-10<br><br>
1*10<br>
H2<br><br>
1*10<br><br>
1*10<br>
107<br><br>
Hecho with shorted line terminals<br><br>
WO 2004/100512<br><br>
3<br><br>
PCT/SE2004/0002%<br><br><br><br>
,o4   no4<br>
I -10<br>
M2.<br>
Y2.<br>
100<br>
10<br><br>
Zhybrid<br>
\				<br>
V			<br><br>
\	,	         ... ... •,	;	<br>
	..........		<br>
	\i i		<br>
	- ■ tt-	&gt;./■'           -	<br>
	V	....  -      ^:*	       	/'Jll [   1 \\$M   1 H-mttti<br>
			E^-Ei:;-<br>
				     A  [.....<br>
				   ij.	<br>
			1<br><br><br><br>
I*I03<br><br>
1*10<br><br>
1*10<br>
r.<br>
t<br>
III<br><br>
!-!06<br><br>
1*10'<br>
io7<br><br><br>
ZhO<br>
100<br>
Ml.<br>
Y2.<br>
io3   i*io3  {=■-<br>
=						■ +	:					pjiwtrm<br>
—^											<br><br><br><br>
■—*~			•T'-1     *-								<br><br>
	^		** ~									<br>
		y" ^'									<br>
	/										<br>
/											<br>
-y		,							..:^_		<br>
~ZJ									--v		<br>
■									—^		<br>
										i	<br>
										\	<br>
										\	<br>
										1	^:iii'<br>
zzrr											<br><br><br><br>
						,|					<br><br>
0.1<br>
1*10 !07<br>
1*10<br>
1*10<br>
f.<br>
1*10<br>
Hz<br>
I«I03 ,„3<br><br>
The last expression for Hecho may also be written as<br>
"ecfto^/N + Zhyb - n^Z^ - Zh0 = 0<br>
If the echo transfer function Hecno is measured with a set of appropriate terminations Z)N it is possible to solve for the unknown coefficients 2*^, Zh0 and H„ considering the expression as a set of equations. This is described in<br><br>
WO20(U/1
details in Ref. [3]. The coefficient Kn may be determined directly from one single measurement with Z|N -» oo. Wtthlrwo different resistive terminations it should be possible to find the remaining coefficients Zhyb and Z^o- These parameters completely characterize the'analogue front-end inclusive the line transformer since Hed10 always must be a bilinear function in Z,N.<br>
With the actual subscriber loop connected to the ADSL modem it is now possible to derive the input impedance of the loop Zm- This is done by inverting the expression for Hec)10<br>
7      _      h0 ~      echo^-hyb<br>
echo<br>
This approach is further described in Ref. [3].<br><br>
WO 204/100512	.„   /,	PCT/SE2004/0002%<br>
The procedure can be described as follows:<br>
1.	Measure the echo transfer function with open line terminals and save the result as H«.<br>
2.	Measure the echo transfer function with at least two resistive terminations (more measurements may improve the accuracy).<br>
3.	Solve for the parameters Z^b and 2h0 and save the results. This concludes the calibration procedure.<br>
4.	Measure the echo response with the actual loop connected to the ADSL modem and calculate the input impedance 2|N.<br>
5.	The input impedance Z,N may next be used to identify the subscriber loop.<br>
ECHO IMPULSE RESPONSE<br>
The measured echo transfer function can be used for deriving the corresponding echo impulse response. Usually the echo transfer function is only measured at a finite number of discrete frequencies. If HeCho is assumed to be band-limited above the Nyquist frequency it may be considered as a period of the echo transfer function of a time-discrete system. Hech0 is sampled at 2N frequency points to give Hech0(kF) where F is the distance between the samples. If Heeho(kF) is expanded around f = 0 with complex conjugate symmetry an IFFT performed on rt will generate the corresponding time-discrete echo impulse response heeh0(kT).<br>
For a typical subscriber loop h^o has a pulse-like waveform with a large peak at the time t close to zero. This pulse is followed by a damped oscillation mainly caused by the line transformer section. Somewhere on this curve another small pulse-like waveform is visible. This represents the reflection of the initial pulse waveform from the far end of the loop.<br>
By measuring the distance in time between the occurrence of the first pulse and the second one the delay time forth and back in the actual subscriber loop can be found, if the velocity of propagation of the cable is known the physical cable length d can be calculated.<br>
The ratio between the energy in the first and second pulse could be used to estimate the cable loss since the ratio should be exp(-2ad) approximately. This part is most conveniently accomplished with a band pass filtered version of the echo response in-order to evaluate the cable loss at a certain frequency. See Ref. [4] for further details.<br>
The presence of the analogue echo canceller in the AFE however tends to make this approach questionable as described below.<br>
What is needed in the determination of the cable length and cable loss is the incident and reflected pulse waveform in time at the input at subscriber loop. The available information is however the echo impulse response measured at<br><br>
WO 2004/100512<br><br>
IS<br><br>
PCT/SE2(I04/0(M)2%<br><br>
the receiver output terminals. It is therefore necessary to "transform" the measured impulse response from the receiver output to the line terminals or whaiis the same to the line transformer input. This is illustrated in Figure 11 and Figure 12 below.<br><br><br>
v out'<br>
e in<br><br>
ZT<br><br>
Figure 11. Echo path of the incident wave<br><br><br>
e in=0 V-<br>
v out"<br>
ZT<br><br>
Figure 12: Receive path of the reflected wave<br>
From Ref. [2], 2.3 or the equations in section 2.4 we have the transfer function frorri the AFE output voltage va' to the CODEC input voltage vout' with e,ine = 0 and e^ i- 0<br><br>
8   V,<br>
v a* = vs ~ vA =<br><br>
R*<br>
R6+K8<br><br>
(      z    <br>
v\-<br><br>
R8 + R6<br><br>
which can be rearranged to<br><br>
H,<br><br>
(R6+Re)ZL1<br><br>
The CODEC input voltage vout" with eiine * 0 and e-in = 0 can be written as (see also Ref. [2], section 2.4)<br><br>
^^=^5-^   =<br><br><br>
R.<br>
Re<br>
■v2--<br>
R* + R*       Ra + Rf,<br><br>
With ein = 0 we have<br><br><br>
WO 2(11)4/11)0512<br><br>
PCT/SE2004/000296<br><br><br><br>
v2=^Z,<br><br>
3,	3.	dj<br><br><br>
Using this v2 can be eliminated and the transfer function now becomes<br><br>
",=<br><br>
v"01//     (a, -a2)vZAR6 ~{a,fjZA + R)Re __ (a,-a2)f?6-a,R8<br>
a,(R6+RB)<br>
(R6+Rja,MZA+R)<br><br>
Both functions Hinc and H^ shall be multiplied with the output filter transfer function Houl. Since we only are interested in the ratio between the functions this can be omitted.<br>
It can be noted that while H^ is independent of the load impedance Zu the transfer function of the incident signal Hmc is dependent on ZLi or the impedance of the subscriber loop. Both functions are frequency dependent.<br>
If we consider the envelopes of the band pass filtered pulses, which occur in hecfio(t) *ne assumption is that the envelopes at the line transformer can be found as<br><br>
Incident waveform:<br><br>
^nv(v3Jnc) =<br><br>
Env(vouUnc)<br>
H,<br><br><br><br>
Reflected waveform:	Env(v2 rt) =<br><br>
Env(vou,,rf,)<br><br>
The estimated cable loss is calculated as<br><br>
/       Union    (EnV(VUnc))<br><br>
= -|10log<br><br>
10<br><br>
^v(v0UIJJ Env(vouLt1l)<br><br>
+ 10log10<br><br>
H„<br>
H„<br><br>
dB<br><br>
The last term is the logarithm to the scale factor | Hrf/Hmc I. Using the actual component values the scale factor can be calculated for the cases where the subscriber loop is a 0.4 mm and a 0.5 mm PE cable. The result is shown below. The graphs show that the scale factor is frequency dependent, but also dependent on the characteristic impedance of the subscriber loop. It is therefore not possible to find one single scale factor covering all cases.<br>
The analysis demonstrates that the echo canceller decreases the energy of the incident wave relatively to the reflected wave - this is actually the idea with an echo canceller. The advantage is that the dynamic range for retrieving weak echoes is improved when the near-end echo is suppressed. The disadvantage is that the energy of the incident wave cannot be found directly from the measured echo response.<br><br>
WO 2004/1005[2<br><br>
PCT7SE2004/0002%<br><br><br>
40	J	1	Scale factors for incident wave		<br>
35	k	-t								<br>
	u	\								<br>
li										<br>
id										<br>
li	II									<br>
10										<br><br>
5-tO4   I.5-105 2S*I05 3.5-tO5 4.5'105 5.5-105 6.5*I05 7.5-I05 8.5*105 9.5*I05 1.05-tO6<br><br>
SO 10<br><br>
1.05 10<br><br>
Hi<br>
	  ETSI04PE<br>
	  ETSI05PE<br>
Figure 13: Scale factors for incident envelope<br>
Ref, [4] demonstrates how the estimate of the cable loss becomes erroneous if the correction term from the scale factor is not taken into consideration.<br>
Again to illustrate the importance of the scaling factor the simulation model is used to estimate the cable loss at 300 kHz for a 0.4 mm PE cable at different lengths. The procedure described in Ref. [4] is applied here. In Figure 14 the envelope loss is the loss based on the ratio between the envelopes of the incident and reflected wave. From Figure 13 the scale factor at 300 kHz for the 0.4 mm PE cable is approximately 12.5 or 10.9 dB. If the scale factor term of this magnitude is addedto the envelope loss the cable loss appears. Finally the nominal cable loss of the cable is shown for comparison also in Figure 14.<br><br>
WO 2004/100512<br><br>
3T<br><br>
PCT/SE2004/000296<br><br>
ETSI 04PE cable - Estimated cable loss @ 300 kHz AFE EC enabled<br><br><br><br>
0	500       1000      1500     2000      2500      3000      3500      4000      4500<br>
m<br>
Figure 14. Estimated cable loss at 300 kHz for a 04PE loop (Echo canceller enabled)<br>
It is possible in the simulation model to disable the echo canceller. If this is done the following results occur for the estimated cable loss. This clearly illustrates the effect of the echo canceller on the envelopes.<br>
ETSI 04PE cable • Estimated cable loss @ 300 kHz AFE EC disabled<br><br><br>
0,00 ^<br>
500  1000  1500  2000  2500  3000  3500  4000  45D0 m<br><br>
Figure 15: Estimated cable loss at 300 kHz for a 04PE loop (Echo canceller disabled)<br>
ANNEX A - VERIFICATION OF SIMULATION MODEL<br>
In order to verify the simulation model measurements on a DAFE 708 unit has been carried out. The series capacitors between the CODEC and the line<br><br><br>
WO 2004/100512<br><br>
PCT/SE2004/0002%<br><br>
driver/receiver are disconnected at the CODEC side. The transmit signal e,n is applied to the capacitors through a 50/100 D. balancing transformer. The series capacitors at the receive side are terminated to ground via two 12 kft resistors to simulate the input impedance of the CODEC. The output voltage vout is measured with a high-impedance differential probe amplifier. A cable simulator is connected to the line interface to simulate different loops.<br>
The following equipment have been used during the measurements:<br>
EDAR1.1 IPDSLAM       BFB40102/A1 P1B, 008037AC4EE9	with<br>
DAFE708-ROA119 708<br><br>
Network Analyzer 4395A	Agilent	FAA21372<br>
S-parameter accessory kit	■■it  .Agilent	FAA21741<br>
Differential Probe Amplifier	Hewlett-Packard	FAA<br>
Cable Simulator DLS400E	Spirent	FAA<br>
The echo transfer function is measured with the network analyzer. The input impedance of the simulated loop is measured with the S-parameter accessory kit attached to the network analyzer.<br>
First the input impedance Zw of the cable simulator is compared with the same impedance calculated from the transmission line formulae. The result for a 0.5 mm PE cable (ETSI loop #2) with a length of 500 m open ended is shown in Figure 16 below. There seems to be a reasonable agreement between the measured and calculated results almost up 1 MHz (phase angle only up to 500 kHz). Similar results are observed for other loop lengths.<br>
In Figure 17, which follows, the driver load impedance ZL is simulated by usihg the expressions for the combined chain matrix of the line transformer and OOB-filter. Two cases are compared 1) Zj. calculated from the transmission line version of ZjN and 2) %_ calculated from the measured input impedance Z|N. Again the two sets of results are fairly closed to each other.<br><br><br>
WO 2004/100512<br><br>
PCT/SE2004/0002%<br><br>
I -10<br>
100<br><br>
			Zoc for 500 m	05PE cable,	magnitude		<br>
			Ss										<br>
			T								<br><br><br><br><br>
						-i-A					<br>
						■f		f\l	IvUmk	/|^A	<br>
						::zj.:	\	V-	flffra		z j<br>
							/	\	l_		V	_- 1 .<br>
						I	\.	M		\	-4 -<br>
						- L -	V				C    -. .<br>
						\.
											^-J- .<br>
											f<br>
											i<br>
											1<br>
fio6<br>
!0<br>
fio<br>
1*10<br>
1*10-<br>
]*I0 .3<br>
Hz<br>
Transmission line formulae, simulated DLS400E measured<br>
Zoc for 500 m 05PE cable, phase<br><br>
Transmission line formulae, simulated DLS400E measured<br>
Figure 16: Input impedance Z,N for ETSI loop #2, d = 500 m, ZT = °°<br><br>
WO 2004/100512<br><br>
^<br><br>
PCT/SE2(MU/0002W.<br><br><br><br>
no3<br>
100<br>
10<br><br><br>
		Driver load impedanc	5, magnitude	<br>
			m				<br>
			XL   .				<br>
			/\				<br>
		Jfc	— V =				—,	<br>
		IK	—A	\--f			wm<br>
		»		\   /	\r~Wl		<br>
		.., i		\ /	XrC	il *	<br>
	"	7/=4=m			&gt;/	XI   V	r%	<br>
=F							<br>
r							<br><br><br><br><br><br>
to-<br>
no<br>
3<br><br>
1*10<br><br>
1*10<br>
f.<br>
Hi<br><br>
1*10<br><br>
1*10 .MO7.<br><br>
Simulated with transmission line ZIN Simulated with DLS400E ZIN<br><br>
-100<br>
Driver load impedance, phase<br><br>
~—  Simulated with transmission line ZIN<br>
	 Simulated with DLS400E ZIN<br>
Figure 17: Driver load impedance 2Lfor DAFE 708 with ETSI loop #2, d = 500 m, Zt a «<br><br>
W0! 2004/100512<br><br>
Sl\L~<br><br>
PCT/SE2004/0002%<br><br>
Now the echo transfer function Hech0 is simulated by using the expression derived in section 2.4. The two results for the driver load impedance ZL mentioned above are used in the calculation of Hech0. The simulated versions of Hech0 are compared with the echo transfer function measured with the network analyzer. The result can be found in Figure 18. The three graphs are close to each other up to 1 MHz. This is probably becomes more evident in Figure 19 where Hecho &gt;s plotted in a linear scale.<br><br>
-20<br>
-30<br>
-40<br><br>
Hecho for DAFE708 with 500m 05PE o.c.<br>
			\				<br>
X		/	v.	J           \			<br>
/	/	f		.   1 ■	nl	w	N<br>
						m 1	<br><br><br><br>
1«I0<br><br>
1*10<br><br>
I«I05 f..f.,/2 I   i     I<br>
Ilz<br><br>
1*10<br><br>
1*10<br>
,o7<br><br>
	  Hecho simulated<br>
	   Hecho simulated with DSL400E ZIN<br>
Hecho measured with Network Analyzer<br>
Figure 18: Echo transfer function for DAFE 708 with ETSI loop #2, d = 500 m, ZT = «°<br><br><br>
WO 2004/100512<br><br>
PCT/SE2004/0002%<br><br>
0.25<br>
0.15<br>
0,05<br>
1* 10<br>
1.0 106<br>
Hecho for DAFE708 with 500m 05PE o,c.<br><br>
	  Hecho simulated<br>
	  Hecho simulated with DLS400E ZIN<br>
.""	  Hecho measured with network analyzer<br>
Figure 19: Hecho as in Figure 18, but in linear scale<br>
The results seems to indicate that the simulation model provides an echo transfer function, which is reasonably close to what can be measured on the DAFE 708 unit. However if the loop length is increased the agreement between measured and simulated versions of Hecho becomes less satisfactory as it appears from Figure 19 and Figure 20. The actual reason for this discrepancy is not fully clarified. One explanation could be that when the loop length increases the load impedance ZL approaches the scaled sense impedance K*ZS leading to;an increasing echo loss. With a high echo loss Hecho becomes very sensitive even to small changes in the parameter values of the line driver/receiver. The simulation model for PBM 39714 is only a macromodel, which probably not fully characterizes the device.<br><br>
WO.-2004/1(10512<br><br><br><br>
W<br><br>
PCT7SE2004/000296<br><br><br><br>
0.15<br>
0.1<br>
0.05.<br><br>
Hecho for DAFE708 with 1000m 05PE o.c.<br>
	i							<br>
	1	\f\						<br>
	'	n			i—v			<br>
					$	^	^	y^i<br><br>
0	1 *J 05	2*105	,3«105	4«!05	5M05	6'105	7«105	8M05<br>
I   I    I Hz<br>
0.8 10<br>
JO,<br>
	   Hecho simulated<br>
-	Hecho simulated with DLS400E ZIN<br>
	  Hecho measured with network analyzer<br>
Figure 20: Echo transfer function for DAFE 708 with ETSI loop #2,<br>
d - 500 m, ZT = •<br><br>
0.08<br>
0,06<br>
004<br>
0.02<br>
0<br><br><br>
		Hecho for	DAFE708 with 1000m 05PE	o.c.	<br>
			!					<br><br>
}	\					__-—	_^<br><br>
\	A      \      -^							<br>
\	^		,.				<br><br><br><br>
0	|M05	2«I05	3»I0S .        4«I05	5»l05<br>
JO,	(..(..a<br>
I    i     i<br>
H2<br>
Hecho simulated<br>
	   Hecho simulated with DLS400E ZIN<br>
Hecho measured With network analyzer<br><br>
6«)05	7-105	8«105<br>
0.8 10<br><br>
WO 2004/100512<br><br>
/i\b<br><br>
PCT/SE2004/000296<br><br>
Figure 21: Echo transfer function for DAFE 708 with ETSI loop #2, d = 3000 m, ZT = «<br><br>
REFERENCES<br>
. [1]  ETSITS 101 388<br>
[2] ANA2812B<br>
[3] 4/0363-FCP105 581<br><br>
Transmission and Multiplexing (TM); Access transmission systems on metallic access cables; Asymmetric Digital Subscriber Line (ADSL) -European specific requirements, 2002-05.<br>
Analogue Front End for ADSL with PBM 39714.<br>
Derived equations during Loop Test and Qualification workshop 2002-03-21.<br><br><br><br>
[4] ANA3255A<br><br>
SELT using the Echo Impulse Response.<br><br>
WO 2004/100512	|	PCT/SE2004/000296<br>
CLAIM<br>
1. Method in single-ended test of a signal line (2), the method including:<br>
-	Selecting (601) a transceiver (31);<br>
5  - Connecting (603) impedances (9) of each a predetermined value to a line connection (5) of the tranceiver (31);<br>
-	generating, in a calibration process, calibration values<br>
for the transceiver with the aid of said impedances (9)<br>
and test signals (vtin , vt0L,t) ,<br>
10  characterized  in  connecting  at  least  three  of  said impedances (9), the method also including.:<br>
generating (606) for the transceiver (31) frequency dependent echo transfer functions (Hech0(f)) utilizing said at least three impedances (9); and<br>
15 - generating (608) transceiver model values (Zho(f) &gt; Zhyb(f)' H«(f) ) with the aid of said echo transfer functions .(Hnha(f)') and the corresponding impedance values (9), said model values including an echo transfer function ('#«&gt;(/))  f°r the test transceiver (31) with open line<br>
20     connection (5), a transceiver impedance value (Zhyb(f))   as<br>
seen from the line (2) side and a product (2A0(/)) of said<br>
transceiver impedance value (Zhyb(f)) and an echo transfer<br>
function (H0(/)) for the transceiver (31) with shortcut line connection (5).<br>
25<br><br>
WO 2004/100512	-I	PCT/SE2(KM/0002%<br>
2. A method according to claim 1 including storing (609) the transceiver model values (Zh0(f), Zhyh{f),HM(f) ) for performing the calibration process.<br>
5  3. A method according to claim 1 including:<br>
- Selecting (610) a transceiver ;(1) for communication<br>
purposes of the same type of hardware as said test<br>
transceiver (31); and	'  .' ■<br>
Storing    (611)    the    transceiver   model    values 0     (Zh0(f) , Z^h(/),//„(/) )  in  said  transceiver  (1,  12)  for communication purposes.<br>
4. A method according to claim :3 including:<br>
connecting (701) a loop, including ' the' signal line (2) and 5     a remote device (3) to the transceiver (1,31);<br>
-	sending (702), via the connected transceiver (1), a loop test signal (vin) to the line (2);<br>
-	measuring (703), via said transceiver (1), the loop test signal (vout) as reflected;<br>
0  - generating  (704)  an echo transfer function (Hccho(f) ) f or the loop (1,2,3);<br>
-	generating (705) an impedance value (Z,„(/) ) for the line<br>
(2) and the remote device (3) with the aid of the stored<br>
transceiver model  values  ( Zh0(f), Zhyh(f), HJf) )     and  the<br>
5    generated echo transfer function (Hecho(f)).<br><br>
IfT<br>
WO 2004/100512	/ , <x pct></x><br>
5. Method according to claim 1, 2', ' 3 or 4, wherein the test of the loop (2,3) is a frequency broadband test.<br>
6. An arrangement in single-ended test of a signal line 5        (2), the arrangement including:<br>
a transceiver (31);<br>
-	impedances  (9)  of each a predetermined value to be<br>
connected to a line connection (5) of the tranceiver (31);<br>
-	a measurement device (32) for generating, in a calibration<br>
10    process, calibration values for the transceiver with the<br>
aid of said impedances (9) and test signals (vtin , vtout) ,<br>
characterized in that<br>
-	the measurement device (32) is arranged to generate a<br>
frequency dependent echo transfer function (Hlchn(f))    for<br>
15     the test transceiver utilizing at least three of said impedances (9); and<br>
the  measurement device  (32)  is  arranged to generate transceiver model values ( Zh(j(f), Z^h{f), Hm(f) ) with the aid<br>
of said echo transfer function (Hech0(f)) and the 20 corresponding impedance values (9), said model values including an echo transfer function (#„(/)) for the transceiver (31) with open line connection (5), a transceiver impedance value (Z^„(/)) as seen from the line (2) side and a product of said transceiver impedance 25 value (Zhyh(f)) and an echo transfer function (H0(f)) for the transceiver (31) with shortcut line connection (5) .<br><br>
WO2h,M/1005,2	-	PCT/SE2OIM/O00296<br>
7. An arrangement according to claim 6, characterized in that the measurement device (32) has a memory (33) for storing     the     transceiver     model     values<br>
5 8. An arrangement according to claim 6, characterized in that it includes a transceiver (1) for communication purposes of the same type of hardware as said test transceiver (31) and that said transceiver (1) for communication purposes has a memory (12) for storing<br>
10       the transceiver model values ( Zh0(f), Zhyh(f), Ha(f) ) .<br>
9. An arrangement according to claim 8, characterized in that it includes:<br>
a loop, including the line (2) and a remote device (3), connected to the transceiver line connection (5) of the 15     transceiver;<br>
a computational device (11);<br>
a device (4) for sending a loop test signal (vin) to the line (2) via the transceiver and measuring a corresponding reflected signal (vout) via the transceiver,<br>
20 the computational device (11) being arranged both to generate an echo transfer function (Haha(f)) for the loop and to generate an impedance value (£,„(/) ) for the line (2) with the remote device (3) with the aid of the stored transceiver model values ( ZM(f) ■ Z^if) , HJf) ) .<br>
2 5 10. An arrangement according to claim 6, 7, 8 or 9, wherein the device for sending the loop test signal (vin) is arranged to  send, frequency broadband signals.<br><br>
-50-<br>
11. .   MefrTod in single-ended test of a signal line and an arrangement thereof, as herein described and illustrated with reference to the accompanying drawings.<br><br>
■&gt;nd<br>
Dated, this 2na day of November, 2005.<br><br><br>
(RAVF BHOLA)<br>
OF K &amp; S PARTNERS<br>
AGENT FOR THE APPLICANT<br><br>
-51 -<br>
Abstract<br>
The invention refers to single-ended test of a loop (2, 3) with the aid of a transceiver (1), wherein an input impedance (Zin(f)) of the loop is generated. The transceiver (1) has a digital part (41), a codec (42) and an analog part (43) and is connected to the loop. With the aid of a transmitted and a reflected braodband signal (vin, vout) an echo transfer function Hecho(/) = V(/WVin(/) is generated, which also can be expressed as formula (I). Here Ziw(f), Zhyb(f) and HE(f) are model values for the transceiver (1). IN a calibration process a test transceiver, with the same type of hardware as the transceiver (1), is connected to known impedances, replacing the loop (2, 3). Hecho(f) = V(/)out/Vjn(f) is generated for the known impedances and th emodel values are generanted and are stored in a memory (11) in the transceiver (1). The stored model values are then used when the input impedance (Z,-„(f)) for the loop (2, 3) is generated after a measurement of the broadband signal (Vin, Vout) is performed.<br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LSBhYnN0cmFjdC0xLmpwZw==" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005- abstract-1.jpg</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LWFic3RyYWN0KGdyYW50ZWQpLSgyNS0wMy0yMDA4KS5kb2M=" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005-abstract(granted)-(25-03-2008).doc</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LWFic3RyYWN0KGdyYW50ZWQpLSgyNS0wMy0yMDA4KS5wZGY=" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005-abstract(granted)-(25-03-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LWFic3RyYWN0LnBkZg==" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LWNhbmNlbGxlZCBwYWdlcygyNS0wMy0yMDA4KS5wZGY=" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005-cancelled pages(25-03-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LWNsYWltcyhncmFudGVkKS0oMjUtMDMtMjAwOCkuZG9j" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005-claims(granted)-(25-03-2008).doc</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LWNsYWltcyhncmFudGVkKS0oMjUtMDMtMjAwOCkucGRm" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005-claims(granted)-(25-03-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LWNsYWltcy5wZGY=" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LWNvcnJlc3BvbmRlbmNlKDI1LTAzLTIwMDgpLnBkZg==" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005-correspondence(25-03-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LWNvcnJlc3BvbmRlbmNlKGlwbyktKDA5LTA0LTIwMDgpLnBkZg==" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005-correspondence(ipo)-(09-04-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LWNvcnJlc3BvbmRlbmNlLXJlY2VpdmVkLnBkZg==" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005-correspondence-received.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LWRlc2NyaXB0aW9uIChjb21wbGV0ZSkucGRm" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005-description (complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LWRyYXdpbmcoMjUtMDMtMjAwOCkucGRm" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005-drawing(25-03-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LWRyYXdpbmdzLnBkZg==" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LWZvcm0gMSgwOC0xMS0yMDA1KS5wZGY=" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005-form 1(08-11-2005).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LWZvcm0gMTMoMDUtMDMtMjAwNykucGRm" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005-form 13(05-03-2007).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LWZvcm0gMTgoMTItMDQtMjAwNikucGRm" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005-form 18(12-04-2006).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LWZvcm0gMiAoZ3JhbnRlZCktKDI1LTAzLTIwMDgpLmRvYw==" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005-form 2 (granted)-(25-03-2008).doc</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LWZvcm0gMihncmFudGVkKS0oMjUtMDMtMjAwOCkucGRm" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005-form 2(granted)-(25-03-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LWZvcm0gMjYoMjUtMDMtMjAwOCkucGRm" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005-form 26(25-03-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LWZvcm0gMygwMi0xMS0yMDA1KS5wZGY=" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005-form 3(02-11-2005).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LWZvcm0gMygyMC0wMi0yMDA2KS5wZGY=" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005-form 3(20-02-2006).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LWZvcm0gMygyNS0wMy0yMDA4KS5wZGY=" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005-form 3(25-03-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LWZvcm0gNSgwMi0xMS0yMDA1KS5wZGY=" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005-form 5(02-11-2005).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LWZvcm0tMS5wZGY=" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005-form-1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LWZvcm0tMTMucGRm" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005-form-13.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LWZvcm0tMi5kb2M=" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005-form-2.doc</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LWZvcm0tMi5wZGY=" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005-form-2.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LWZvcm0tMy5wZGY=" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005-form-3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LWZvcm0tNS5wZGY=" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005-form-5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LWZvcm0tcGN0LWlzYS0yMTAoMjUtMDMtMjAwOCkucGRm" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005-form-pct-isa-210(25-03-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LWZvcm0zLTItdmVyLTAyMTEyMDA1LnBkZg==" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005-form3-2-ver-02112005.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LXBjdC1pYi0zMDQucGRm" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005-pct-ib-304.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LXBjdC1pc2EtMjEwLnBkZg==" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005-pct-isa-210.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LXBjdC1pc2EtMjM3LnBkZg==" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005-pct-isa-237.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTI1MC1tdW1ucC0yMDA1LXBldGl0aW9uIHVuZGVyIHJ1bGUxMzcoMjUtMDMtMjAwOCkucGRm" target="_blank" style="word-wrap:break-word;">1250-mumnp-2005-petition under rule137(25-03-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=YWJzdHJhY3QxLmpwZw==" target="_blank" style="word-wrap:break-word;">abstract1.jpg</a></p>
		<br>
		<div class="pull-left">
			<a href="219040-method-and-system-for-providing-supervisory-control-over-wireless-phone-usage.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="219042-modified-release-pharmaceutical-compositions-and-process-for-the-preparation-thereof.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>219041</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>1250/MUMNP/2005</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>28/2008</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>11-Jul-2008</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>21-Apr-2008</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>08-Nov-2005</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>TELEFONAKTIEBOLAGET LM ERICSSON (PUBL)</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td></td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>PER OLA BORJESSON</td>
											<td></td>
										</tr>
										<tr>
											<td>2</td>
											<td>Per Odling</td>
											<td></td>
										</tr>
										<tr>
											<td>3</td>
											<td>Adam Wia</td>
											<td></td>
										</tr>
										<tr>
											<td>4</td>
											<td>Fredrik Lindqvist</td>
											<td></td>
										</tr>
										<tr>
											<td>5</td>
											<td>Jonas Rosenberg</td>
											<td></td>
										</tr>
										<tr>
											<td>6</td>
											<td>Antoni Fertner</td>
											<td></td>
										</tr>
										<tr>
											<td>7</td>
											<td>Axel Frank Jensen</td>
											<td></td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H 04 M 3/30</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/SE2004/000296</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2004-03-04</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>60/469,658</td>
									<td>2003-05-12</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/219041-a-method-in-single-ended-test-of-a-signal-line-and-an-arrangement-therefor by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 12:17:10 GMT -->
</html>
