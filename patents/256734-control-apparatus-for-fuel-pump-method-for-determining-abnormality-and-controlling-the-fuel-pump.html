<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/256734-control-apparatus-for-fuel-pump-method-for-determining-abnormality-and-controlling-the-fuel-pump by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 09:13:38 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 256734:CONTROL APPARATUS FOR FUEL PUMP, METHOD FOR DETERMINING ABNORMALITY AND CONTROLLING THE FUEL PUMP</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">CONTROL APPARATUS FOR FUEL PUMP, METHOD FOR DETERMINING ABNORMALITY AND CONTROLLING THE FUEL PUMP</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A control apparatus controls a fuel pump (30) driven using a brushless motor (32) rotated at a rotation frequency corresponding to a voltage applied from a power supply (14). A storage unit (22) stores a relationship between the voltage of the power supply (14) and the rotation frequency of the brushless motor (32). A voltage detection unit (24) detects the voltage of the power supply (14). A rotation frequency detection unit (13) detects the rotation frequency of the brushless motor (32). An abnormality determination unit (11, 20) determines whether the rotation frequency detected by the rotation frequency detection unit (13) and the voltage detected by the voltage detection unit (24) are within a predetermined range stored in the storage unit (22). The abnormality determination unit (11, 20) determines the fuel pump (30) to be abnormal when the rotation frequency and the voltage are out of the predetermined range.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td> <br><br>
CONTROLAPPARATUS FOR FUEL PUMP, METHOD FOR DETERMINING ABNORMALITY AND CONTROLLING THE FUEL PUMP<br>
Description<br>
The present invention relates to a control apparatus for a fuel pump. The present invention further relates to a method for determining an abnormality in the fuel pump. The present invention further relates to a method for controlling the fuel pump.<br>
For example, according to each of JP-A-3-284187 and JP-A-8-317686, a brushless motor is provided as a drive source for a fuel pump, in place of a usual brush motor, thereby achieving downsizing of the fuel supply device and power saving of the same. Such a brushless motor of the fuel pump has a simple circuit configuration, and the brushless motor is directly driven by being applied with voltage of a power supply. Therefore, rotation frequency of a brushless motor of the fuel pump depends on voltage of a battery provided as a power supply in a vehicle. That is, rotation frequency of the brushless motor, which is a dominant factor of a discharge rate of fuel, changes in dependence upon the voltage of the battery.<br>
The brushless motor is directly driven by being applied with the voltage of the power supply for driving the fuel pump. Therefore, when a flow rate of fuel discharged from the fuel pump changes, it is difficult to determine whether such change is caused due to change in voltage of a power supply or due to abnormality in the fuel pump. As a result, abnormality in the fuel pump is hardly detected.<br>
In view of the foregoing and other problems, it is an object of the present invention to produce a control apparatus adapted to detecting abnormality in a fuel pump.   It is another object of the invention to produce a<br><br>
control apparatus adapted to recovering abnormality in the fuel pump. It is another object of the invention to produce a control apparatus adapted to maintaining an operation of an internal combustion engine even when abnormality occurs in a fuel pump supplying fuel to the internal combustion engine. It is another object of the invention to produce a method for determining an abnormality in the fuel pump. It is another object of the invention to produce a method for controlling the fuel pump.<br>
According to one aspect of the present invention, a control apparatus for a fuel pump to pump fuel from a fuel tank, the fuel pump adapted to driven using a brushless motor rotated at a rotation frequency corresponding to a voltage applied from a power supply, the control apparatus including storage means for storing a relationship between the voltage of the power supply and the rotation frequency of the brushless motor. The control apparatus further includes voltage detection means for detecting the voltage of the power supply. The control apparatus further includes rotation frequency detection means for detecting the rotation frequency of the brushless motor. The control apparatus further includes abnormality determination means for determining whether the rotation frequency detected by the rotation frequency detection means and the voltage detected by the voltage detection means are within a predetermined range stored in the storage means. The abnormality determination means determines the fuel pump to be abnormal when the rotation frequency and the voltage are out of the predetermined range.<br>
According to another aspect of the present invention, a control apparatus for a fuel pump to pump fuel from a fuel tank, the fuel pump adapted to driven using a brushless motor rotated at a rotation frequency corresponding to a voltage applied from a power supply, the control apparatus including storage means for storing a relationship between the voltage of the power<br><br>
supply and the rotation frequency of the brushless motor. The control apparatus further includes voltage detection means for detecting the voltage of the power supply. The control apparatus further includes rotation frequency detection means for detecting the rotation frequency of the brushless motor. The control apparatus further includes abnormality determination means for determining whether the rotation frequency detected by the rotation frequency detection means and the voltage detected by the voltage detection means are within a predetermined range stored in the storage means. The control apparatus further includes restart means for temporarily stopping the brushless motor and then restarting the brushless motor when the abnormality determination means determines the fuel pump to be abnormal in a condition where the rotation frequency and the voltage are out of the predetermined range.<br>
According to another aspect of the present invention, a control apparatus for a fuel pump to pump fuel from a fuel tank, the fuel pump adapted to driven using a brushless motor rotated at a rotation frequency corresponding to a voltage applied from a power supply, the control apparatus including storage means for storing a relationship between the voltage of the power supply and the rotation frequency of the brushless motor. The control apparatus further includes voltage detection means for detecting the voltage of the power supply. The control apparatus further includes rotation frequency detection means for detecting the rotation frequency of the brushless motor. The control apparatus further includes abnormality determination means for determining whether the rotation frequency detected by the rotation frequency detection means and the voltage detected by the voltage detection means are within a predetermined range stored in the storage means. The control apparatus further includes property adjusting means for adjusting at least one of<br><br>
an injection rate of fuel and ignition timing in an internal combustion engine supplied with fuel from the fuel tank when the abnormality determination means determines the fuel pump to be abnormal in a condition where the rotation frequency and the voltage are out of the predetermined range.<br>
According to another aspect of the present invention, a control apparatus for a fuel pump to pump fuel from a fuel tank, the fuel pump adapted to driven using a brushless motor rotated at a rotation frequency corresponding to a voltage applied from a power supply, the control apparatus including storage means for storing a relationship between the voltage of the power supply and the rotation frequency of the brushless motor. The control apparatus further includes voltage detection means for detecting the voltage of the power supply. The control apparatus further includes rotation frequency detection means for detecting the rotation frequency of the brushless motor. The control apparatus further includes abnormality determination means for determining whether the rotation frequency detected by the rotation frequency detection means and the voltage detected by the voltage detection means are within a predetermined range stored in the storage means. The control apparatus further includes restart means for temporarily stopping the brushless motor and then restarting the brushless motor when the abnormality determination means determines the fuel pump to be abnormal in a condition where the rotation frequency and the voltage are out of the predetermined range. The control apparatus further includes property adjusting means for adjusting at least one of an injection rate of fuel and ignition timing in an internal combustion engine supplied with fuel from the fuel tank when the brushless motor stops.<br>
According to another aspect of the present invention, a control apparatus for a fuel pump to pump fuel from a fuel tank, the fuel pump adapted<br><br>
to driven using a brushless motor rotated at a rotation frequency corresponding to a voltage applied from a power supply, the control apparatus including storage means for storing a relationship between the voltage of the power supply and the rotation frequency of the brushless motor. The control apparatus further includes voltage detection means for detecting the voltage of the power supply. The control apparatus further includes rotation frequency detection means for detecting the rotation frequency of the brushless motor. The control apparatus further includes abnormality determination means for determining whether the rotation frequency detected by the rotation frequency detection means and the voltage detected by the voltage detection means are within a predetermined range stored in the storage means. The abnormality determination means determines whether an abnormality occurs in the fuel pump based on a quantity of fuel remaining in the fuel tank accommodating the fuel pump, when the rotation frequency and the voltage are out of the predetermined range.<br>
According to another aspect of the present invention, a method for determining an abnormality in a fuel pump, the method including applying a voltage from a power supply to a brushless motor to rotate the brushless motor at a rotation frequency corresponding to the voltage, thereby driving the fuel pump. The method further includes detecting a voltage of the power supply. The method further includes detecting a rotation frequency of the brushless motor. The method further includes determining the fuel pump to be abnormal when the detected rotation frequency and the detected voltage are out of a predetermined range prestored in a relationship between the voltage of the power supply and the rotation frequency of the brushless motor.<br>
According to another aspect of the present invention, a method for controlling a fuel pump, the method including applying a voltage from a power<br><br>
supply to a brushless motor to rotate the brushless motor at a rotation frequency corresponding to the voltage, thereby driving the fuel pump. The method further includes detecting a voltage of the power supply. The method further includes detecting a rotation frequency of the brushless motor. The method further includes temporarily stopping the brushless motor and then restarting the brushless motor when the fuel pump is determined to be abnormal in a condition where the detected rotation frequency and the detected voltage are out of a predetermined range prestored in a relationship between the voltage of the power supply and the rotation frequency of the brushless motor.<br>
According to another aspect of the present invention, a method for controlling a fuel pump, the method including applying a voltage from a power supply to a brushless motor to rotate the brushless motor at a rotation frequency corresponding to the voltage, thereby driving the fuel pump. The method further includes detecting a voltage of the power supply. The method further includes detecting a rotation frequency of the brushless motor. The method further includes adjusting at least one of an injection rate of fuel and ignition timing in an internal combustion engine supplied with fuel when the fuel pump is determined to be abnormal in a condition where the detected rotation frequency and the detected voltage are out of a predetermined range prestored in a relationship between the voltage of the power supply and the rotation frequency of the brushless motor.<br>
According to another aspect of the present invention, a method for controlling a fuel pump, the method including applying a voltage from a power supply to a brushless motor to rotate the brushless motor at a rotation frequency corresponding to the voltage, thereby driving the fuel pump. The method further includes detecting a voltage of the power supply.   The method<br><br>
further includes detecting a rotation frequency of the brushless motor. The method further includes temporarily stopping the brushless motor and then restarting the brushless motor when the fuel pump is determined to be abnormal in a condition where the detected rotation frequency and the detected voltage are out of a predetermined range prestored in a relationship between the voltage of the power supply and the rotation frequency of the brushless motor. The method further includes adjusting at least one of an injection rate of fuel and ignition timing in an internal combustion engine supplied with fuel from the fuel tank in the temporarily stopping of the brushless motor.<br>
According to another aspect of the present invention, a method for determining an abnormality in a fuel pump, the method including applying a voltage from a power supply to a brushless motor to rotate the brushless motor at a rotation frequency corresponding to the voltage, thereby driving the fuel pump. The method further includes detecting a voltage of the power supply. The method further includes detecting a rotation frequency of the brushless motor. The method further includes determining whether an abnormality occurs in the fuel pump based on a quantity of fuel remaining in the fuel tank accommodating the fuel pump, in a condition where: the detected rotation frequency and the detected voltage are out of a predetermined range prestored in a relationship between the voltage of the power supply and the rotation frequency of the brushless motor.<br>
The above and other objects, features and advantages of the present invention will become more apparent from the following detailed description made with reference to the accompanying drawings.   In the drawings:<br>
FIG. 1 is a block diagram showing an engine system applied with a control apparatus for a fuel pump according to a first embodiment;<br><br>
FIG. 2 is a section diagram showing an outline of a fuel pump applied to the control apparatus for the fuel pump according to the first embodiment;<br>
FIG. 3 is a schematic diagram showing a relationship between a battery voltage and a rotation frequency of the fuel pump according to the first embodiment;<br>
FIG. 4 is a schematic diagram showing flow of a first embodiment of abnormality detection of the fuel pump according to the control apparatus for the fuel pump according to the first embodiment;<br>
FIG. 5 is a schematic diagram showing flow of a second embodiment of abnormality detection of the fuel pump according to the control apparatus for the fuel pump according to the first embodiment;<br>
FIG. 6 is a schematic diagram showing flow of a first embodiment of abnormality recovery of the fuel pump according to the control apparatus for the fuel pump according to the first embodiment;<br>
FIG. 7 is a schematic diagram showing flow of a second embodiment of abnormality recovery of the fuel pump according to the control apparatus for the fuel pump according to the first embodiment;<br>
FIG. 8 is a schematic diagram showing flow of a first recovery mode procedure in the second embodiment of abnormality recovery of the fuel pump according to the control apparatus for the fuel pump according to the first embodiment;<br>
FIG. 9 is a schematic diagram showing flow of a second recovery mode procedure in the second embodiment of abnormality recovery of the fuel pump according to the control apparatus for the fuel pump according to the first embodiment;<br>
FIG. 10 is a schematic diagram showing flow of a first embodiment of security according to the control apparatus for the fuel pump according to the<br><br>
first embodiment;<br>
FIG. 11 is a schematic diagram showing flow of a second embodiment of security according to the control apparatus for the fuel pump according to the first embodiment;<br>
FIG. 12 is a schematic diagram showing flow of a third embodiment of security according to the control apparatus for the fuel pump according to the first embodiment;<br>
FIG. 13 is a schematic diagram showing flow of a fourth embodiment of security according to the control apparatus for the fuel pump according to the first embodiment;<br>
FIG. 14 is a schematic diagram showing flow of a fifth embodiment of security according to the control apparatus for the fuel pump according to the first embodiment;<br>
FIG. 15 is a schematic diagram showing flow of a sixth embodiment of security according to the control apparatus for the fuel pump according to the first embodiment;<br>
FIG. 16 is a schematic diagram showing flow of a seventh embodiment of security according to the control apparatus for the fuel pump according to the first embodiment;<br>
FIG. 17 is a schematic diagram showing flow of an eighth embodiment of security according to the control apparatus for the fuel pump according to the first embodiment;<br>
FIG. 18 is a schematic diagram showing a relationship between CFPF and p  set in the eighth embodiment of security according to the control<br>
apparatus for the fuel pump according to the first embodiment;<br>
FIG. 19 is a schematic diagram showing a relationship between CFPF and  σ  set in the eighth embodiment of security according to the control<br><br>
apparatus for the fuel pump according to the first embodiment;<br>
FIG. 20 is a schematic diagram showing a relationship between CFPF and K set in the eighth embodiment of security according to the control apparatus for the fuel pump according to the first embodiment;<br>
FIG. 21 is a block diagram showing an engine system applied with a control apparatus for a fuel pump according to a second embodiment;<br>
FIG. 22 is a schematic diagram showing flow of a first embodiment of abnormality detection based on remaining quantity of fuel according to the control apparatus for the fuel pump according to the second embodiment;<br>
FIG. 23 is a schematic diagram showing flow of a second embodiment of abnormality detection based on remaining quantity of fuel according to the control apparatus for the fuel pump according to the second embodiment;<br>
FIG. 24 is a schematic diagram showing flow of a third embodiment of abnormality detection based on remaining quantity of fuel according to the control apparatus for the fuel pump according to the second embodiment;<br>
FIG. 25 is a schematic diagram showing flow of security (1) of the first embodiment of abnormality detection based on remaining quantity of fuel according to the control apparatus for the fuel pump according to the second embodiment;<br>
FIG. 26 is a schematic diagram showing flow of security (1) of the second embodiment of abnormality detection based on remaining quantity of fuel according to the control apparatus for the fuel pump according to the second embodiment;<br>
FIG. 27 is a schematic diagram showing flow of security (1) of the third embodiment of abnormality detection based on remaining quantity of fuel according to the control apparatus for the fuel pump according to the second<br><br>
embodiment;<br>
FIG. 28 is a schematic diagram showing flow of security (2) of the first embodiment of abnormality detection based on remaining quantity of fuel according to the control apparatus for the fuel pump according to the second embodiment; and<br>
FIG. 29 is a schematic section diagram showing a fuel pump applied to the control apparatus for the fuel pump according to the second embodiment.<br>
(First Embodiment)<br>
As shown in FIG. 1, a control apparatus 10 of a fuel pump includes a control unit 11 and a fuel pump 30. The fuel pump 30 is set, for example, inside a fuel tank of a two-wheeled vehicle mounted with a gasoline engine having a displacement of about 150 cc as an internal combustion engine. As shown in FIG. 2, the fuel pump 30 has a pump portion 31 and a brushless motor 32 for driving the pump portion 31. A housing 33 is formed as both housings for the pump portion 31 and the brushless motor 32. The housing 33 is fixed with a pump case 34, a pump cover 35, and an end cover 36.<br>
The pump portion 31 is a turbine pump having a pump case 34, a pump cover 35, and an impeller 37. The pump case 34 and the pump cover 35 rotatably accommodate the impeller 37 as a rotative member. Pump channels 38 in a substantially C-shape extends along a circumferential direction of the fuel pump 30 between the pump case 34, the pump cover 35, and the impeller 37. Fuel drawn from a suction port 39 provided in the pump cover 35 is boosted in the pump channels 38 by rotation of the impeller 37. The boosted fuel is supplied to the brushless motor 32 under pressure, and discharged from a discharge port 45 via a fuel channel 43 and a discharge channel 44 between a stator core 41 and a rotor 42.<br><br>
The brushless motor 32 is, for example, a sensor-less-driven ushless motor having no brush and commutator. The brushless motor 32 is the stator core 41 and the rotor 42. The stator core 41 is provided in a -cumferential direction, and has multiple cores 47 wound with coils 46. jrrent supply to the coils 46 is controlled in accordance with a rotative position<br>
the rotor 42, thereby a magnetic pole, which is formed on an inner rcumferential periphery of each core 47 facing the rotor 42, is switched. The tor 42 has a shaft 48 and permanent magnets 49. The rotor 42 is rotatably &gt;t on an inner circumferential periphery of the stator core 41. Both ends lative to an axial direction of the shaft 48 are respectively supported by taring portions 51 and 52.   The permanent magnets 49 are magnetized so as<br>
form magnetic poles, which are alternatively varied, along the rotative rection on a side of each outer circumferential periphery facing the stator core 1.<br>
Referring to FIG. 1, the control unit 11 as a control device has a control circuit portion 12 and an ECU 20. The control circuit portion 12 may be nfigured as an electronic circuit integrated with the ECU 20. The control rcuit portion 12 outputs a control signal to the brushless motor 32 of the fuel μmp 30 to rotatably drive the brushless motor 32. The control circuit portion 2 outputs a control signal to control current supply to the coils 46 of the rushless motor 32. Thus, the magnetic pole, which is formed on the inner ircumferential periphery of each core 47 of the stator core 41, is switched, so iat the rotor 42 is rotated. The rotor 42 is rotated, thereby the impeller 37 is )tated together with the shaft 48, so that fuel in the pump channels 38 is ressurized.<br>
The control circuit portion 12 has a rotation frequency detecting ortion   13  as  rotation  frequency  detection  means for  detecting   rotation<br><br>
frequency of the brushless motor 32. For example, the rotation frequency detecting portion 13 inputs a control signal outputted from the control circuit portion 12, thereby detects the rotation frequency of the brushless motor 32. The rotation frequency detecting portion 13 outputs the detected rotation frequency of the brushless motor 32 to the ECU 20 as an electric signal.<br>
The ECU 20 is configured by a microcomputer having a CPU 21, a ROM 22, and a RAM 23. The CPU 21 controls the overall vehicle mounted with an engine 60 in addition to the fuel pump 30 by a computer program stored in the ROM 22 and the like. The ECU 20 is electrically connected to the control circuit portion 12. The ECU 20 controls the brushless motor 32 via the control circuit portion 12. Moreover, the ECU 20 is operated according to the computer program stored in the ROM 22, thereby further serves as abnormality determination means and restart means. The ECU 20 may be configured such that a computer program or predetermined data are stored in not only the ROM 22, but also a nonvolatile memory such as EEPROM, or a recording medium such as a hard disk or DVD.<br>
The ECU 20 is connected to the engine control portion 61, in addition to the control circuit portion 12. The engine control portion 61 controls the engine 60 supplied with fuel by the fuel pump 30. In this embodiment, the engine control portion 61 has an injector control portion 62 and an ignition timing control portion 63. The engine control portion 61 may be configured as an electronic circuit integrated with the ECU 20. The ECU 20 configures property adjusting means together with the injector control portion 62 and the ignition timing control portion 63 configuring the engine control portion 61. The injector control portion 62 drives an injector 64 for injecting fuel into the engine 60. The injector 64 is an electromagnetic valve being opened and closed according to a control signal outputted from the injector control portion 62.   The<br><br>
amount of fuel injected from the injector 64 is adjusted by the control signal outputted from the injector control portion 62. The ignition timing control portion 63 drives an ignition device 65 for igniting mixture gas drawn into the engine 60. The ignition device 65 has, for example, an ignition plug, and allows the mixture gas to be intermittently ignited in accordance with a control signal outputted from the ignition timing control portion 63. Thus, ignition timing of the mixture gas drawn into the engine 60 is adjusted by the control signal outputted from the ignition timing control portion 63.<br>
The ECU 20 is supplied with power from a battery 14 as a power supply. The ECU 20 supplies the power supplied from the battery 14 to respective sections of the vehicle including the fuel pump 30. The ECU 20 has a voltage detecting portion 24 as voltage detection means for detecting a voltage of the battery 14. Thus, the ECU 20 detects the voltage of the battery 14 via the voltage detecting portion 24.<br>
The ROM 22 of the ECU 20 stores a map defining a rotation frequency of the brushless motor 32 relative to a voltage of the battery 14. That is, the ROM 22 of the ECU 20 is storage means. As shown in FIG. 3, the ECU 20 changes rotation frequency of the brushless motor 32 in accordance with change in voltage of the battery 14. The map stored in the ROM 22 includes a reference rotation frequency of the brushless motor 32 relative to the voltage of the battery 14 and an upper limit value and a lower limit value of the rotation frequency.<br>
Next, description is made on a procedure of detecting abnormality in the fuel pump 30 by the control apparatus 10 of the fuel pump 30 according to the above configuration. 1. First embodiment of abnormality detection<br>
First embodiment of abnormality detection is described with reference<br><br>
to FIG. 4. In a predetermined timing, the ECU 20 carries out an abnormality determination procedure on whether an abnormality occurs in the fuel pump 30. The abnormality determination procedure is included, for example, as one of procedures for monitoring the overall vehicle by the ECU 20, and periodically carried out after starting the engine 60. When the operation is shifted to the abnormality determination procedure, the ECU 20 first detects a voltage (battery voltage) B of the battery 14 (S101). The ECU 20 obtains the battery voltage B from the voltage detecting portion 24. The ECU 20 stores the obtained battery voltage B to the RAM 23. When the ECU 20 detects the battery voltage B, the ECU 20 in turn detects rotation frequency NP of the brushless motor 32 of the fuel pump 30 (S102). The ECU 20 obtains the rotation frequency NP of the brushless motor 32 from the rotation frequency detecting portion 13 of the control circuit portion 12. The ECU 20 stores the obtained rotation frequency NP of the brushless motor 32 to the RAM 23.<br>
The ECU 20 calculates a reference rotation frequency NP0 of the brushless motor 32 corresponding to the battery voltage B, which is obtained in step S101 and stored to the RAM 23, from the map stored in the ROM 22 (S103). The ECU 20 stores the calculated reference rotation frequency NP0 to the RAM 23. When the ECU 20 calculates the reference rotation frequency NP0, the ECU 20 in turn calculates an upper limit value NPO+or and a lower limit value NP0-« depending on the reference rotation frequency NP0.<br>
The ECU 20 determines whether the rotation frequency NP of the brushless motor 32 obtained in step S102 is within a predetermined range between the upper limit value NP0+α and the lower limit value NPO-or  (S104).<br>
As shown in FIG. 3, the brushless motor 32 and the fuel pump 30 having the motor 32 has a distribution in rotation frequency relative to a certain voltage, due to variation in production process.   Thus, the ECU 20 calculates<br><br>
the upper limit value NPO+α and the lower limit value NPO-or, in advance, with the reference rotation frequency NPO as a reference, and determines whether the detected rotation frequency NP of the brushless motor 32 is within the predetermined range.<br>
When the ECU 20 determines the detected rotation frequency NP of the brushless motor 32 is greater than the upper limit value NPO+or, or less than the lower limit value NPO-a, the ECU 20 determines abnormality to occur in the fuel pump 30 (S105). In this condition, the ECU 20 sets a pump abnormality flag FFPF to be FFPF=1 and stores the pump abnormality flag FFPF to the RAM 23 (S106). By contrast, when the ECU 20 determines the detected rotation frequency NP of the brushless motor 32 is between the upper limit value NP0+a and the lower limit value NPO-a, that is, within a normal range, the ECU 20 sets the pump abnormality flag FFPF to be FFPF=0 and stores the pump abnormality flag FFPF to the RAM 23 (S107).<br>
Thus, detection of abnormality in the fuel pump 30 is terminated. 2. Second embodiment of abnormality detection<br>
A second embodiment of abnormality detection is described with reference to FIG. 5. Substantially the same procedures as in the first embodiment of abnormality detection are omitted from the detailed description.<br>
When the operation proceeds to the abnormality determination procedure, the ECU 20 detects the battery voltage B, and stores the detected battery voltage B to the RAM 23 (S201). Moreover, the ECU 20 detects rotation frequency NP of the brushless motor 32 of the fuel pump 30, and stores the detected rotation frequency NP of the brushless motor 32 to the RAM 23 (S202). Furthermore, the ECU 20 calculates the reference rotation frequency NPO of the brushless motor 32, corresponding to the battery voltage B (S203), from the battery voltage B obtained in step S201.   Then, the ECU 20 calculates<br><br>
the upper limit value NPO+ β and a lower limit value NPO- y including individual difference in the fuel pump 30 depending on the calculated reference rotation frequency NPO.<br>
The ECU 20 calculates the upper limit value NP0+/7 and the lower limit value NPO-x, and subsequently, the ECU 20 determines whether the<br>
rotation frequency NP of the brushless motor 32 obtained in step S202 is equal to or less than the upper limit value NPO+ytf (S204). When the rotation frequency NP is greater than the upper limit value NP0+/?, the ECU 20 sets a<br>
step-out abnormality determination flag FFPF1 to be FFPF1=1 (S205). When the rotation frequency NP is greater than the upper limit value NP0+/?, the<br>
brushless motor 32 is considered to be in a condition where a phase of the motor is shifted from a phase of a control signal outputted from the control circuit portion 12 and therefore the motor idles, namely, in a step-out condition. That is, the brushless motor 32 is considered to rotate with a rotation frequency greater than a rotation frequency determined with respect to the battery voltage B supplied from the battery 14 as the power supply. Thus, when the ECU 20 determines the rotation frequency NP is greater than the upper limit value NP0+β, the ECU 20 determines step-out abnormality occurs in the brushless<br>
motor 32, and the ECU 20 sets step-out abnormality determination flag FFPF1 to be FFPF1=1 and stores the step-out abnormality determination flag FFPF1 to the RAM 23.<br>
By contrast, when the rotation frequency NP is determined to be equal to or less than the upper limit value NP0+ p in step S204, the ECU 20<br>
determines whether the rotation frequency NP is equal to or greater than the lower limit value HPQ-y (S206). When the rotation frequency NP is less than the lower limit value NPO- y , the ECU 20 sets a stacking abnormality determination flag FFPF2 to be FFPF2=1 (S207).   When the rotation frequency<br><br>
NP is less than the lower limit value NPO- γ, the brushless motor 32 is considered to be in a condition where a rotation frequency of the motor decreases. That is, the brushless motor 32 is considered to rotate with a rotation frequency less than the rotation frequency determined with respect to the battery voltage B supplied from the battery 14 as the power supply. The condition occurs in the case where a factor of obstructing rotation acts on the fuel pump 30, such as a case that a foreign substance is stacked to cause seizure in a rotating portion of the pump portion 31 or the brushless motor 32. Thus, when the ECU 20 determines the rotation frequency NP is less than the lower limit value NPO-?', the ECU 20 determines stacking abnormality occurs in<br>
the brushless motor 32 of the fuel pump 30, and the ECU 20 sets the stacking abnormality determination flag FFPF2 to be FFPF2=1 and stores it to the RAM 23 (S207).<br>
When the rotation frequency NP is determined to be greater than the lower limit value NPO-/ in step S206, the ECU 20 determines abnormality does<br>
not occur in the fuel pump 30. Thus, the ECU 20 sets step-out abnormality determination flag FFPF1 and the stacking abnormality determination flag FFPF2 to be FFPF1=0 and FFPF2=0 respectively, and stores the abnormality determination flags to the RAM 23 (S208).<br>
Thus, detection of abnormality in the fuel pump 30 is terminated.   In the second embodiment, determination can be made on not only whether an abnormality occurs in the fuel pump 30, but also whether a cause of abnormality is due to step-out or due to stacking of a foreign substance. (Abnormality recovery procedure of fuel pump)<br>
Next, a description is made on an abnormality recovery procedure of the fuel pump 30 in which the ECU 20 detects an abnormality according to the above procedure.<br><br>
1. First embodiment of abnormality recovery<br>
When the ECU 20 detects an abnormality in the fuel pump 30 according to the procedure shown in FIG. 4, the ECU 20 shifts the operation to an abnormality recovery procedure shown in FIG. 6, so that the ECU 20 recovers the fuel pump 30 from an abnormal condition to a normal condition.<br>
The ECU 20 carries out the abnormality recovery procedure of the fuel pump 30 according to the procedure shown in FIG. 4, and determines whether the pump abnormality flag FFPF is in a state of FFPF=1 (S301). When the pump abnormality flag FFPF is in a state of FFPF=0, since the ECU 20 does not detect abnormality in the fuel pump 30, the ECU 20 terminates the abnormality recovery procedure.<br>
When the pump abnormality flag FFPF is in a state of FFPF=1, the ECU 20 determines whether a restart waiting counter CFPRST is 100 (S302). The restart waiting counter CFPRST reaches to 100, in a case where the ECU 20 detects an abnormality in the fuel pump 30, and the abnormality recovery procedure is completed. An initial value of the restart waiting counter CFPRST is 100, so that when the operation proceeds to the abnormality recovery procedure in step S301, CFPRST=100 is valid.<br>
When the ECU 20 starts the pump abnormality recovery procedure, the restart waiting counter CFPRST is 100, and in step S303, the ECU 20 sets the restart waiting counter CFPRST at 0. When the ECU 20 starts the pump abnormality recovery procedure, the ECU 20 stops supply of power to the brushless motor 32 of the fuel pump 30 (S304). Furthermore, when the ECU 20 stops supply of power to the brushless motor 32 of the fuel pump 30, the ECU 20 increments the restart waiting counter CFPRST by one (S305).<br>
Subsequently, the ECU 20 determines whether the restart waiting counter CFPRST is 100 (S306).   When the restart waiting counter CFPRST is<br><br>
not 100, the operation returns to step S302. When the operation returns from step S306, since the restart waiting counter CFPRST is not 100, the operation proceeds from step S302 to step S307. In step S307, the ECU 20 determines whether the restart waiting counter CFPRST is 50. When the restart waiting counter CFPRST is not 50, the operation proceeds to step S305, and increments the restart waiting counter CFPRST by one. Thus, the ECU 20 continues a condition of stopping supply of power to the brushless motor 32 until the restart waiting counter CFPRST reaches to a state of CFPRST=50.<br>
By contrast, when the restart waiting counter CFPRST reaches to 50, the ECU 20 restarts power supply to the brushless motor 32 of the fuel pump 30 (S308). Then, the operation proceeds to step S305, and increments the restart waiting counter CFPRST by one. Thus, the ECU 20 continues supply of power to the brushless motor 32. When the restart waiting counter CFPRST incremented in step S305 reaches to 100, the ECU 20 determines sufficient time has passed after the brushless motor 32 was restarted. Therefore, the ECU 20 terminates the abnormality recovery procedure (S309).<br>
As above, in the first embodiment of abnormality recovery, the ECU 20 stops the operation of the fuel pump 30 for a certain period by incrementing the restart waiting counter, subsequently, the ECU 20 restarts the brushless motor 32 of the fuel pump 30. Thus, the fuel pump 30 being idling due to step-out or the like, is recovered to a normal rotative condition. Moreover, for example, when a foreign substance is stacked to cause seizure in the pump portion 31, stacking of the foreign substance is dissolved by stopping the brushless motor 32. Therefore, the fuel pump 30 can be recovered to the normal rotative condition by restarting the brushless motor 32. 2. Second embodiment of recovery of abnormality<br>
When the ECU 20 detects an abnormality in the fuel pump 30<br><br>
according to the procedure shown in FIG. 5, the ECU 20 shifts the operation to an abnormality recovery procedure shown in FIG. 7, so that the ECU 20 recovers the fuel pump 30 from an abnormal condition to a normal condition.<br>
When the ECU 20 detects an abnormality in the fuel pump 30 according to the procedure shown in FIG. 5, the ECU 20 shifts the operation to the abnormality recovery procedure shown in FIG. 7, and sets the pump restart waiting counter CFPRST to be CFPRST=100 (S401). Moreover, the ECU 20 sets a pump reversal determination counter CNFPRVto be CNFPRV=0 (S402).<br>
When the ECU 20 completes setting of the pump restart waiting counter CFPRST and the pump reversal determination counter CNFPRV, the ECU 20 detects a state of step-out abnormality determination flag FFPF1 (S403). When the step-out abnormality determination flag FFPF1 stored in the RAM 23 is in a state of FFPF1=1, the ECU 20 shifts the operation to a first recovery mode procedure (S404). By contrast, when the step-out abnormality determination flag FFPF1 is in a state of FFPF1=0, the ECU 20 determines abnormality in the fuel pump 30 is not due to a step-out condition.<br>
Subsequently, the ECU 20 detects a state of the stacking abnormality determination flag FFPF2 (S405). When the stacking abnormality determination flag FFPF2 stored in the RAM 23 is in a state of FFPF2=1, the ECU 20 shifts the operation to a second recovery mode procedure (S406). By contrast, when the stacking abnormality determination flag FFPF2 is in a state of FFPF2=0, the ECU 20 determines abnormality does not occur in the fuel pump, and terminates the abnormality recovery procedure. • First recovery mode procedure<br>
When the step-out abnormality determination flag FFPF1 is determined as FFPF1=1 in step S403, the operation proceeds to the first recovery mode procedure in step S404 specifically shown in FIG. 8.<br><br>
Since a step-out recovery mode as the first recovery mode procedure hown in FIG. 8 is approximately the same as the abnormality recovery mode s shown in FIG. 6, it is briefly described.<br>
The ECU 20 determines whether the restart waiting counter CFPRST ; 100 (S501). An initial value of restart waiting counter CFPRST is 100. herefore, at a point when the operation proceeds to the first recovery mode rocedure, CFPRST=100 is valid.<br>
When the restart waiting counter CFPRST is 100, the ECU 20 sets le restart waiting counter CFPRST to be CFPRST=0 (S502). When the ECU 0 starts the first recovery mode procedure, the ECU 20 stops supply of power ) the fuel pump 30 (S503). Furthermore, when the ECU 20 stops supply of ower to the fuel pump 30, the ECU 20 increments the restart waiting counter ;FPRSTbyone(S504).<br>
Subsequently, the ECU 20 determines whether the restart waiting ounter CFPRST is 100 (S505). When the restart waiting counter CFPRST is ot 100, the operation returns to step S501. At that time, since the restart /aiting counter CFPRST is not 100, the operation proceeds from step S501 to tep S506. In step S506, the ECU 20 determines whether the restart waiting ounter CFPRST is 50. When the restart waiting counter CFPRST is not 50, ie operation proceeds to step S504, and increments the restart waiting counter CFPRST by one. Thus, the ECU 20 continues a condition of stopping supply if power to the fuel pump 30 until the restart waiting counter reaches to 50.<br>
By contrast, when the restart waiting counter CFPRST reaches to 50, he ECU 20 restarts supply of power to the fuel pump 30 (S507). Then, the iperation proceeds to step S504, and increments the restart waiting counter CFPRST by one. Thus, the ECU 20 continues supply of power to the fuel pump 30.   When the restart waiting counter CFPRST incremented in step<br><br>
S504 reaches to 100, the ECU 20 determines sufficient time has passed after the fuel pump 30 was restarted.   Therefore, the ECU 20 terminates the first recovery mode procedure (S508). • Second recovery mode procedure<br>
When the stacking abnormality determination flag FFPF2 is determined as FFPF2=1 in step S405 in FIG. 7 described above, the operation proceeds to the second recovery mode procedure shown in FIG. 9 in step S406.<br>
The ECU 20 sets the anti-stacking restart waiting counter CFPRVSS to be CFPRVSS=100 (S601). Then, the ECU 20 detects whether the anti-stacking restart waiting counter CFPRVSS is 100 (S602). When the operation proceeds to the second recovery mode procedure, since the anti-stacking restart waiting counter CFPRVSS is set to be 100 in step S601, so that CFPRVSS=100 is determined to be valid in step S602.<br>
When CFPRVSS=100 is determined to be valid in step S602, the ECU 20 determines the second recovery mode procedure to be started, and sets the anti-stacking restart waiting counter CFPRVSS to be CFPRVSS=0 (S603). Then, the ECU 20 stops supply of power to the brushless motor 32 of the fuel pump 30 (S604). Furthermore, the ECU 20 sets the pump reversal start counter CFPRVSE to be CFPRVSE=100 (S605).<br>
The ECU 20 sets the pump reversal start counter CFPRVSE, and the ECU 20 determines whether CFPRVSE=0 is valid (S606). The ECU 20 sets the pump reversal start counter CFPRVSE at 100 in step S605, so that the ECU 20 repeats returning of the operation to step S602 until the pump reversal start counter CFPRVSE reaches to 0. Since CFPRVSS=0 is set in step S603, when the operation returns to step S602, CFPRVSS=100 is not valid. Thus, the ECU 20 shifts the operation to step S611, and determines whether CFPRVSS=50 is valid (S611).    When CFPRVSS=50 is not valid, the anti-<br><br>
stacking restart waiting counter CFPRVSS is incremented by one (S612). Then, the ECU 20 repeatedly carries out steps S602, S611, S612, and S606 until CFPRVSS=50 becomes valid.<br>
The anti-stacking restart waiting counter CFPRVSS defines a period during which supply of power to the fuel pump 30 stops. Therefore, when CFPRVSS=50 is determined to be valid in step S611, it is considered that a sufficient stop period is ensured for the fuel pump 30. Thus, the ECU 20 performs restart of the fuel pump 30. Here, in step S613, the ECU 20 determines whether the pump reversal determination counter CNFPRV is an even number. The pump reversal determination counter CNFPRV is set to be CNFPRV=0 in step S402 in FIG. 7. Therefore, CNFPRV=even number is determined to be valid in step S613.<br>
When the ECU 20 determines CNFPRV=even number to be valid in step S613, the ECU 20 drives the fuel pump 30 in a reversal direction (S614). That is, the ECU 20 drives the fuel pump 30 in a direction opposite to a normal rotation direction in which the fuel pump 30 rotates when the fuel pump 30 discharges fuel to the engine 60. When the ECU 20 drives the fuel pump 30 in the reverse rotation direction, the ECU sets the pump reversal start counter CFPRVSE to be CFPRVSE=0 (S615).<br>
Since the pump reversal start counter CFPRVSE is set to be 0 in step S615, the ECU 20 determines CFPRVSE=0 is valid in step S606. Furthermore, the ECU 20 shifts the operation to step S621, and determines CFPRVSE=50 is not valid. Thus, the ECU 20 increments the pump reversal start counter CFPRVSE by one (S622). Then, the ECU 20 determines whether the pump reversal start counter CFPRVSE is equal to or greater than 50 (S624). Thus, the ECU repeats steps S621, S622 and S624 until CNFPRVSE=50 becomes valid.   The pump reversal start counter CFPRVSE defines an elapsed period<br><br>
after the fuel pump 30 is driven in the reversal direction in step S614. Therefore, the ECU 20 determines a drive period of the fuel pump 30 to be insufficient before CFPRVSE=50 becomes valid.<br>
By contrast, when the ECU 20 determines CFPRVSE=50 is valid in step S624, the operation returns to step S621, and shifted to step S623. That is, the ECU 20 determines the drive period of the fuel pump 30 is sufficiently secured. Then, the ECU 20 increments the pump reversal determination counter CNFPRV by one (S623).<br>
When the ECU 20 determines the pump reversal start counter CFPRVSE is 50 or greater in step S624, the ECU 20 in turn determines whether the pump reversal determination counter CNFPRV incremented in count is equal to or greater than 5 (S625). When the pump reversal determination counter CNFPRV is less than 5, the operation returns to step S601. In this operation, the ECU 20 stops the fuel pump 30 in step S604. Then, after a predetermined period has passed, that is, when the anti-stacking restart waiting counter CFPRVSS reaches to 50, the operation proceeds to step S613. Here, since the pump reversal determination counter CNFPRV is incremented by one in step S623, the pump reversal determination counter CNFPRV is an odd number. Therefore, the fuel pump 30 is driven in a normal rotation direction (S616).<br>
According to the above procedure, the ECU 20 repeatedly performs stop, reverse rotation, stop and normal rotation of the fuel pump 30 until the pump reversal determination counter CNFPRV reaches to 5 or greater. When the pump reversal determination counter CNFPRV becomes equal to 5 or greater, the ECU 20 terminates the second recovery mode procedure (S206).<br>
In the second recovery mode procedure, the ECU 20 repeatedly performs stop, reverse rotation, stop and normal rotation of the fuel pump 30.<br><br>
Thus, when imperfect rotation occurs in the pump portion 31 or the brushless motor 32 due to stacking of a foreign substance, the foreign substance may be removed by repeating of the normal rotation and reverse rotation. Therefore, even when abnormality occurs in the fuel pump 30, a cause of the abnormality is removed, so that the operation of the fuel pump 30 can be ensured. (Security during abnormality in fuel pump) 1. First embodiment of security<br>
When the ECU 20 detects an abnormality in the fuel pump 30 according to the procedure shown in FIG. 4, the ECU 20 shifts the operation to the abnormality recovery procedure shown in FIG. 6 to recover the fuel pump 30 into a normal condition. At that time, the ECU 20 stops the fuel pump 30 for a certain period as shown in FIG. 6. Therefore, pressure of fuel supplied from the fuel pump 30 into the engine 60 is reduced. Thus, in a first embodiment of security, when the ECU 20 detects an abnormality in the fuel pump 30 according to the procedure shown in FIG. 4, and the ECU 20 stops the fuel pump 30, the ECU 20 corrects an injection rate of fuel from the injector 64 according to the procedure shown in FIG. 10. Thus, the ECU 20 is adapted to securing a stable operation of the engine 60.<br>
The ECU 20 determines whether calculation timing of the injection period TAU has come irrespectively of presence of abnormality in the fuel pump 30 (S701). The injection period TAU is a period of fuel injected from the injector 64. At timing when injection of fuel from the injector 64 is performed in a basic procedure of engine control, the ECU 20 calculates an injection rate of fuel. When pressure of fuel supplied from the fuel pump 30 is constant, the injection rate of fuel from the injector 64 correlates with valve-opening time of the injector 64, i.e., injection period. Thus, the ECU 20 shifts the operation to calculation of the injection period TAU at the injection timing of fuel from the<br><br>
injector 64.<br>
The ECU 20 calculates rotation speed NE of the engine 60 in order to calculate the injection period TAU (S702). The engine 60 is provided with the rotation speed sensor 66, as shown in FIG. 1. The ECU 20 calculates rotation speed of the engine 60 from an electric signal outputted from the rotation speed sensor 66. Moreover, the ECU 20 calculates a load P of the engine 60 (S703). The ECU 20 detects pressure in a not-shown suction channel through which suction air to be drawn into the engine 60 flows (S703). A pressure sensor 67 is installed in the suction channel, for outputting detected pressure to the ECU 20, as an electric signal. The ECU 20 calculates the load P of the engine 60 from the detected pressure in the suction channel.<br>
Furthermore, the ECU 20 detects a condition of the engine 60 (S704). Here, the ECU 20 detects various parameters such as temperature THA of the suction air flowing through the suction channel, temperature THW of cooling water for cooling the engine 60, and atmospheric pressure PA from various sensors being not shown. Thus, the ECU 20 detects the condition of the engine 60 as a basis for calculating the injection period TAU.<br>
The ECU 20 calculates the rotation speed NE and load P of the engine 60, and detects the condition of the engine 60, so that the ECU 20 determines whether the pump abnormality flag FFPF is in a state of FFPF=1 (S705). When the ECU 20 detects an abnormality in the fuel pump 30 according to the procedure shown in FIG. 4 as described above, FFPF=1 is valid.<br>
When FFPF=1 is valid, the ECU 20 sets a square root of reference fuel pressure PF0 for a fuel-pressure correction coefficient FPF (S706). The fuel-pressure correction coefficient FPF is defined for correcting discharge pressure of fuel, the pressure being reduced by stop of the fuel pump 30<br><br>
accompanying abnormality detection. The reference fuel pressure PFO is pressure of fuel discharged from the fuel pump 30. By contrast, when FFPF=0 is valid, that is, the ECU 20 does not detect abnormality in the fuel pump 30, the ECU sets the fuel-pressure correction coefficient FPF to be FPF=1.0 (S707). In this case, FPF is not corrected.<br>
When the fuel-pressure correction coefficient FPF is set, the ECU 20 calculates the injection period TAU according to the following expression 1 (S708). The ECU 20 corrects reference injection pulse width TP with the fuel-pressure correction coefficient FPF calculated in step S707 and various parameters. The reference injection pulse width TP is obtained from the rotation speed NE of the engine 60 calculated in step S702 and the load P of the engine 60 calculated in step S703. For example, the ECU 20 has the reference injection pulse width TP as a function of the rotation speed NE with the load P as a map in the ROM 22. Therefore, the ECU 20 reads the reference injection pulse width TP from the ROM 22 based on the calculated NE and P. The various parameters for correcting the reference injection pulse width TP includes the temperature THA of the suction air, temperature THW of the cooling water, and atmospheric pressure PA detected in step S704. The ECU 20 corrects the set reference injection pulse width TP with the fuel-pressure correction coefficient FPF and the various parameters, and adds injector invalid-injection period TV to the reference injection pulse width TP. The injector invalid-injection period TV defines time during which fuel is not injected due to delay in valve opening in the injector 64 or the like even when a control signal instructing to open the injector 64 is outputted from the ECU 20 to the injector 64. Consequently, the ECU 20 calculates the injection period TAU according to the following expression 1.<br>
TAU=TP*f(THA, THW, PA, •••)*FPF+TV	expression 1<br><br>
The ECU 20 calculates the injection period TAU, and the ECU 20 outputs a control signal to the injector 64 based on the calculated injection period TAU. Thus, the injector 64 injects fuel according to the injection period TAU outputted from the ECU 20 (S709).<br>
In the first embodiment of security, when the ECU 20 stops the fuel pump 30, and pressure of fuel discharged from the fuel pump 30 decreases, the injection period for injecting fuel from the injector 64 increases. Thus, even when pressure of the fuel discharged from the fuel pump 30 decreases, the total amount of the fuel injected from the injector 64 does not largely change. As a result, even when the ECU 20 stops the fuel pump 30 because the ECU 20 detects an abnormality in the fuel pump 30, predetermined amount of fuel is injected into the engine 60. Therefore, the operation of the engine 60 can be stably continued, and consequently safety can be ensured.<br>
In the first embodiment of security, an example of calculating the fuel-pressure correction coefficient FPF from the square root of the reference fuel pressure PF0 in step S706 was described. However, the fuel-pressure correction coefficient FPF may be stored in the ROM 22, for example, as a coefficient that changes depending on the load P of the engine 60. Moreover, the fuel-pressure correction coefficient FPF may be stored in the ROM 22 as a coefficient that changes depending on both the load P of the engine 60 and the rotation speed NE of the engine 60 in order to improve accuracy of the fuel-pressure correction coefficient FPF. Furthermore, the fuel-pressure correction coefficient FPF may be configured so as to be calculated based on the load P of the engine 60 detected in step S703 as a function of the load P of the engine 60. 2. Second embodiment of security<br>
As described in the first embodiment of security, when the ECU 20 detects an abnormality in the fuel pump 30 according to the procedure shown in<br><br>
FIG. 4, and the ECU 20 stops the fuel pump 30, pressure of fuel supplied from the fuel pump 30 into the engine 60 is reduced. Therefore, an injection rate of fuel injected from the injector 64 decreases, and therefore output torque of the engine 60 is reduced. Thus, in a second embodiment of security, when the ECU 20 detects an abnormality in the fuel pump 30 according to the procedure shown in FIG. 4, and the ECU 20 stops the fuel pump 30, ignition timing of the engine 60 is corrected to an advance side according to the procedure shown in FIG. 11 so that output torque of the engine 60 is stabilized. The second embodiment of security may be carried out together with the first embodiment of security, or may be carried out independently.<br>
The ECU 20 determines whether calculation timing of an ignition timing AESA has come irrespectively of presence of abnormality in the fuel pump 30 (S801). The ignition timing AESA is ignition timing of fuel in the engine 60. At ignition timing of the engine 60 in the basic procedure of engine control, the ECU 20 calculates the ignition timing.<br>
The ECU 20 calculates the rotation speed NE of the engine 60 to calculate the ignition timing AESA (S802). Moreover, the ECU 20 calculates a load P of the engine 60 (S803). Furthermore, the ECU 20 detects a condition of the engine 60 (S804). Here, since calculation of the rotation speed NE of the engine 60, calculation of the load P of the engine 60, and detection of the condition of the engine 60 are the same as in the first embodiment of security, they are omitted from the description.<br>
The ECU 20 calculates the rotation speed NE of the engine 60 and the load P of the engine 60, and detects the condition of the engine 60, so that the ECU 20 determines whether the pump abnormality flag FFPF is in a state of FFPF=1 (S805). When the ECU 20 detects an abnormality in the fuel pump 30 according to the procedure shown in FIG. 4, FFPF=1 is valid as above.<br><br>
When FFPF=1 is valid, the ECU 20 sets a correction value a, which is previously determined, assuming that fuel pressure correction advance APF is set to be APF=α (S806). The fuel pressure correction advance APF is a coefficient for correcting ignition timing to the advance side to decrease variation in output torque of the engine 60 when an injection rate of fuel decreases by stop of the fuel pump 30 accompanying the abnormality detection. By contrast, when FFPF=0 is valid, that is, the ECU 20 does not detect abnormality in the fuel pump 30, the ECU 20 sets the fuel pressure correction advance APF to be APF=0 (S807). That is, ignition timing is not corrected to the advance side.<br>
When the fuel pressure correction advance APF is set, the ECU 20 calculates the ignition timing AESA according to the following expression 2 (S808). The ECU 20 corrects reference ignition timing ABSE with the fuel pressure correction advance APF calculated in step S806 and various parameters. The reference ignition timing ABSE is obtained from the rotation speed NE of the engine 60 calculated in step S802 and the load P of the engine 60 calculated in step S803. The ECU 20 reads the reference ignition timing ABSE stored in the ROM 22 as a map or the like. Various parameters for correcting the reference ignition timing ABSE include the temperature THA of the suction air, temperature THW of the cooling water, and atmospheric pressure PA detected in step S804. The ECU 20 adds correction values depending on various parameters and the fuel pressure correction advance APF to the set reference ignition timing ABSE. Consequently, the ECU 20 calculates the ignition timing AESA according to the following expression 2.<br>
AESA=ABSE+f(THA, THW, PA, •••)+APF	expression 2<br>
The ECU 20 calculates the ignition timing AESA, so that the ECU 20 outputs a control signal to the ignition device 65 based on the calculated ignition<br><br>
timing AESA. Thus, in the ignition device 65, ignition timing is shifted to the advance side according to the reference ignition timing ABSE outputted from the ECU 20 (S809).<br>
In the second embodiment of security, when the fuel pump 30 stops, and pressure of fuel discharged from the fuel pump 30 decreases, ignition timing changes to the advance side. Thus, even when pressure of the fuel discharged from the fuel pump 30 decreases, and the amount of the fuel injected from the injector 64 decreases, reduction in output torque of the engine 60 can be reduced. Therefore, the operation of the engine 60 can be stably maintained, and consequently safety can be ensured.<br>
In the second embodiment of security, description was made on an example that the fuel pressure correction advance APF was used with being fixed to a certain value a in step S806. However, the fuel pressure correction advance APF may be a value gradually determined depending on the rotation speed NE of the engine 60, or may be obtained as a function being dependant on the rotation speed NE of the engine 60. 3. Third embodiment of security<br>
In a third embodiment of security, a method of calculating the injection period TAU is different from that in the first embodiment of security as shown in FIG. 10. Thus, a different point from the first embodiment of security as shown in FIG. 10 is described with reference to FIG. 12.<br>
The third embodiment of security is different in a process of steps S704 to S708 of the procedure shown in FIG. 10. Therefore, when the ECU 20 determines the calculation timing of the injection period TAU has come (S701), thereby calculating the rotation speed NE of the engine 60 (S702), and calculating the load P of the engine 60 (S703), subsequently, the ECU 20 detects the engine condition (S704).   Subsequently, the operation proceeds to<br><br>
step S901 shown in FIG. 12.<br>
The ECU 20 calculates the rotation speed NE of the engine 60 and the load P of the engine 60, and detects the condition of the engine 60, so that the ECU 20 determines whether the pump abnormality flag FFPF is in a state of FFPF=1 (S902). When the ECU 20 detects an abnormality in the fuel pump 30 according to the procedure shown in FIG. 4, FFPF=1 is valid.<br>
The ECU 20 determines whether the abnormality-mode coefficient counter CFPF is in a state of CFPF=0 (S903). When the operation is first shifted to the procedure shown in FIG. 12, the abnormality-mode coefficient counter CFPF is in a state of CFPF=0. Therefore, the ECU 20 sets the fuel-pressure correction coefficient FPF to be FPF=1.0 (S904).<br>
When the ECU 20 sets the fuel-pressure correction coefficient FPF to be FPF=1.0, the ECU 20 increments the abnormality-mode coefficient counter CFPF by one (S905). Then, the ECU 20 returns the operation to step S708 shown in FIG. 10, and sets the injection period TAU using the set fuel-pressure correction coefficient FPF. When the operation is first shifted to the procedure shown in FIG. 12, the fuel-pressure correction coefficient FPF is set to be FPF=1. Therefore, the ECU 20 sets the injection period TAU without correcting the reference injection pulse width TP with FPF.<br>
When the operation proceeds to the procedure shown in FIG. 12, and CFPF=0 is valid in step S903, the fuel pump 30 is in a state immediately after being stopped. Therefore, pressure of fuel discharged from the fuel pump 30 is sufficiently maintained. Thus, when CFPF=0 is valid, the ECU 20 sets the injection period TAU without correcting the reference injection pulse width TP with the fuel-pressure correction coefficient FPF. Consequently, fuel is injected depending on the reference injection pulse width TP<br>
In second time or later of the procedure shown in FIG. 12, CFPF=0 is<br><br>
not determined to be valid in step S903. Therefore, the ECU 20 compares the abnormality-mode coefficient counter CFPF to a predetermined constant a (S910). The constant or is a value indicating whether pressure of fuel, which is injected from the injector 64 after the fuel pump 30 stops, is maintained, and indicates the number of injections of fuel from the injector 64 performed after the fuel pump 30 stops. Therefore, when the abnormality-mode coefficient counter CFPF is a or greater, it is determined that sufficient number of fuel injections are performed after the fuel pump 30 stops, and pressure of fuel is approximately equal to the atmospheric pressure. By contrast, when the abnormality-mode coefficient counter CFPF is less than a, it is determined that the number of fuel injections is small after the fuel pump 30 stops, and fuel discharged from the fuel pump 30 has pressure greater than the atmospheric pressure.<br>
Therefore, when CFPF&gt;a is determined to be valid in step S910, the ECU 20 sets a square root of the reference fuel pressure PF0 for the fuel-pressure correction coefficient FPF (S911). Then, the ECU 20 increments the abnormality-mode coefficient counter CFPF by one (S905), and then returns the operation to step S708 (S906).<br>
By contrast, when CFPF«z is determined to be valid in step S910, the ECU 20 sets the fuel-pressure correction coefficient FPF in accordance with the following expression 3 (S912).<br>
FPF={PF0/(PF0-DPF*CFPF)}1'2	expression 3<br>
Here, DPF is fuel pressure reduced at each injection of fuel from the injector 64. The abnormality-mode coefficient counter CFPF corresponds to the number of injections of fuel. Therefore, the fuel-pressure correction coefficient FPF set by the expression 3 is gradually updated in consideration of fuel pressure reduced at each fuel injection after the fuel pump 30 stops.<br><br>
When the fuel-pressure correction coefficient FPF is set in step S912, the ECU 20 increments the abnormality-mode coefficient counter CFPF by one (S905), and then returns the operation to step S708 (S906).<br>
When it is determined that FFPF=1 is invalid, that is, the ECU 20 does not detect abnormality in the fuel pump 30 in step S902, the ECU 20 sets the abnormality-mode coefficient counter CFPF to be CFPF=0 (S921), and sets the fuel-pressure correction coefficient FPF to be FPF=1.0 (S922). Therefore, when abnormality does not occur in the fuel pump 30, the injector 64 injects a normal injection rate of fuel.<br>
As described hereinbefore, in the third embodiment of security, when the injector 64 injects fuel after the fuel pump 30 stops, the ECU 20 sets the fuel-pressure correction coefficient FPF in consideration of fuel pressure reduced at each fuel injection. Therefore, even when pressure of fuel supplied to the injector 64 changes after the fuel pump 30 stops, a predetermined injection rate of fuel is secured. Therefore, the operation of the engine 60 can be stably maintained, and consequently safety can be ensured.<br>
In the third embodiment of security, an example that the fuel-pressure correction coefficient FPF was calculated depending on the number of fuel injections in steps S903 to S905 was described. However, the fuel-pressure correction coefficient FPF may be predetermined depending on the number of fuel injections from the injector 64 after the fuel pump 30 stops, and then stored in the ROM 22. 4. Fourth embodiment of security<br>
In a fourth embodiment of security, a method of calculating the ignition timing AESA is different from that in the second embodiment of security as shown in FIG. 11. Thus, a different point from the second embodiment of security as shown in FIG. 11 is described with reference to FIG. 13.<br><br>
The fourth embodiment of security is different in a process of steps S804 to S808 of the procedure shown in FIG 11. Specifically, when the ECU 20 determines the calculation timing of the ignition timing AESA has come (S801), thereby calculating the rotation speed NE of the engine 60 (S802), and calculating the load P of the engine 60 (S803), subsequently, the ECU 20 terminates detection of the engine condition (S804) in accordance with the procedure shown in FIG. 11. In this condition, the operation proceeds to step S1001 shown in FIG. 13.<br>
The ECU 20 calculates the rotation speed NE of the engine 60 and the load P of the engine 60, and detects the condition of the engine 60, so that, the ECU 20 determines whether the pump abnormality flag FFPF is in a state of FFPF=1 (S1002). When the ECU 20 detects an abnormality in the fuel pump 30 according to the procedure shown in FIG. 4, FFPF=1 is valid.<br>
When FFPF=1 is valid, the ECU 20 determines whether the abnormality-mode coefficient counter CFPF is in a state of CFPF=0 (S1003). When the operation proceeds to the procedure shown in FIG 13, CFPF=0 is valid. Therefore, the ECU 20 sets the fuel pressure correction advance APF to beAPF=0(S1004).<br>
When the ECU 20 sets the fuel pressure correction advance APF to be APF=0, the ECU 20 increments the abnormality-mode coefficient counter CFPF by one (S1005). Then, the ECU 20 returns the operation to step S808 as shown in FIG. 11, and the ECU 20 sets the ignition timing AESA using the set APF. When the operation is first shifted to the procedure shown in FIG 13, the fuel pressure correction advance APF is set to be APF=0. Therefore, the ECU 20 sets the ignition timing AESA without correcting the reference ignition timing ABSE with the fuel pressure correction advance APF.<br>
When the operation oroceeds to the procedure shown in FIG 13, and<br><br>
CFPF=0 is valid, the fuel pump 30 is in a state immediately after the fuel pump 30 stops. Therefore, pressure of fuel discharged from the fuel pump 30 is sufficiently maintained. Thus, when CFPF=0 is valid, the ECU 20 sets the ignition timing AESA without correcting the reference ignition timing ABSE with the fuel pressure correction advance APR Consequently, ignition timing is set depending on the reference ignition timing ABSE.<br>
In second time or later of the procedure shown in FIG. 13, CFPF=0 is not determined to be valid in step S1003. Therefore, the ECU 20 compares the abnormality-mode coefficient counter CFPF to a predetermined constant p (S1010).     The constant  p   is a value defining the number of times of<br>
combustion performed in the engine 60 after the fuel pump 30 stops. Therefore, when the abnormality-mode coefficient counter CFPF is equal to p<br>
or greater, sufficient number of times of combustion is determined to be performed in the engine 60 after the fuel pump 30 stops. By contrast, when the abnormality-mode coefficient counter CFPF is less than β, the number of<br>
times of combustion is determined to be small in the engine 60 after the fuel pump 30 stops.<br>
Therefore, when CFPF&gt;β is determined to be valid in step S1010, the ECU 20 sets a predetermined correction value y to be the fuel pressure<br>
correction advance APR Then, the ECU 20 increments the abnormality-mode coefficient counter CFPF by one (S1005), and returns the operation to step<br>
S808(S1006).<br>
By contrast, when CFPF? is determined to be valid in step S1010, the ECU 20 sets a value as shown in the following expression 4 for the fuel pressure correction advance APF (S1012).<br>
APF=DA*CFPF	expression 4<br>
Here, the DA is an advance correction value set at each combustion<br><br>
in the engine 60. Moreover, the abnormality-mode coefficient counter CFPF corresponds to the number of times of combustion in the engine 60. Therefore, in the fuel pressure correction advance APF set by the expression 4, advance is set in consideration of fuel pressure reduced at each combustion in the engine 60 after the fuel pump 30 stops.<br>
When the fuel pressure correction advance APF is set in step S1012, the ECU 20 increments the abnormality-mode coefficient counter CFPF by one (S1005), and then returns the operation to step S808 (S1006).<br>
When it is determined in step S1002 that FFPF=1 is invalid, that is, the ECU 20 does not detect abnormality in the fuel pump 30, the ECU 20 sets the abnormality-mode coefficient counter CFPF to be CFPF=0 (S1021), and sets the fuel pressure correction advance APF to be APF=0 (S1022). Therefore, when abnormality does not occur in the fuel pump 30, injection timing is not advanced.<br>
As described hereinbefore, in the fourth embodiment of security, when combustion is performed in the engine 60 after the fuel pump 30 stops, the ECU 20 sets the fuel pressure correction advance APF in consideration of fuel pressure reduced at each combustion in the engine 60. Therefore, even when pressure of fuel changes after the fuel pump 30 stops, output torque of the engine 60 is secured by correcting ignition timing to the advance side. Therefore, the operation of the engine 60 can be stably continued, and consequently safety can be ensured.<br>
In the fourth embodiment of security, an example that the fuel pressure correction advance APF was calculated depending on the number of times of combustion in the engine 60 in steps S1003 to S1005 was described. However, for the fuel pressure correction advance APF, a value may be predetermined depending on the number of times of combustion in the engine<br><br>
60 after the pump is stopped, and then stored in the ROM 22. 5. Fifth embodiment of security<br>
In a fifth embodiment of security, a method of calculating the injection period TAU is different from that in the first embodiment of security shown in FIG. 10, similarly to the third embodiment of security. The fifth embodiment of security is described with reference to FIG. 14.<br>
The ECU 20 determines the calculation timing of the injection period TAU has come (S701), calculates the rotation speed NE of the engine 60 (S702), calculates the load P of the engine 60 (S703), and detects the engine condition (S704) through the procedure shown in FIG. 10. Subsequently, the ECU 20 shifts the operation to step S1101 shown in FIG. 14, and determines whether the pump abnormality flag FFPF is in a state of FFPF=1 (S1102). When the ECU 20 detects an abnormality in the fuel pump 30 according to the procedure shown in FIG. 4, FFPF=1 is valid.<br>
When FFPF=1 is valid, the ECU 20 determines whether the abnormality-mode coefficient counter CFPF is in a state of CFPF=0 (S1103). When the operation is first shifted to the procedure shown in FIG. 14, the abnormality-mode coefficient counter CFPF is in a state of CFPF=0. Therefore, the ECU 20 determines first fuel injection is being performed after the ECU 20 detects an abnormality in the fuel pump 30, and the ECU 20 stops the fuel pump 30. Thus, the ECU 20 sets an effective injection period integration SUMINJ to be SUMINJ=0 (S1104). The effective injection period integration SUMINJ is a value of time integration in a period while fuel is actually injected from the injector 64. In the first fuel injection after the ECU 20 stops the fuel pump 30, pressure of fuel discharged from the fuel pump 30 is maintained. Thus, the ECU 20 sets the fuel-pressure correction coefficient FPF to be FPF=1.0(S1105).<br><br>
When the ECU 20 sets the fuel-pressure correction coefficient FPF to be FPF=1, the ECU 20 increments the abnormality-mode coefficient counter CFPF by one (S1106). Then, the ECU 20 returns the operation to step S708 shown in FIG. 10 (S1107), and sets the injection period TAU using the set fuel-pressure correction coefficient FPF. When the operation is first shifted to the procedure shown in FIG. 14, the fuel-pressure correction coefficient FPF is set to be FPF=1. Therefore, the ECU 20 sets the injection period TAU without correcting the reference injection pulse width TP with FPF (S709).<br>
When the operation proceeds to the procedure shown in FIG 14, and CFPF=0 is valid, the first fuel injection is being performed after the fuel pump 30 stops. Therefore, pressure of fuel discharged from the fuel pump 30 is sufficiently maintained. Thus, when CFPF=0 is valid, the ECU 20 sets the injection period TAU without correcting the reference injection pulse width TP with the fuel-pressure correction coefficient FPF. Consequently, fuel is injected depending on the reference injection pulse width TP.<br>
In second time or later of the procedure shown in FIG. 14, CFPF=0 is not determined to be valid in step S1103. Therefore, the ECU 20 adds preceding effective fuel injection period INJ0 to the effective injection period integration SUMINJ (S1111). Here, the preceding effective fuel injection period INJ0 is a value obtained by dividing a value, which is obtained by subtracting invalid injection period TV0 in preceding injection from a final fuel injection period TAU0 set in the preceding injection, by a fuel-pressure correction coefficient FPF0 set in the preceding injection.<br>
When the ECU 20 calculates the effective injection period integration SUMINJ, the ECU 20 calculates fuel pressure PF corresponding to the calculated effective injection period integration SUMINJ (S1112). Arelationship between the effective injection period integration SUMINJ and the PF is stored<br><br>
in the ROM 22 of the ECU 20 as a map or the like. The ECU 20 calculates the fuel-pressure correction coefficient FPF using the calculated the fuel pressure PR The ECU 20 sets a value as shown in the following expression 5 for the fuel-pressure correction coefficient FPF (S1113).<br>
FPF=(PF0/PF)1/2	expression 5<br>
Here, the PFO is reference fuel pressure.<br>
When the fuel-pressure correction coefficient FPF is set in step S1113, the ECU 20 increments the abnormality-mode coefficient counter CFPF by one (S1006), and then returns the operation to step S708 (S1107).<br>
When it is determined in step S1102 that FFPF=1 is invalid, that is, abnormality in the fuel pump 30 is not detected, the ECU 20 sets the abnormality-mode coefficient counter CFPF to be CFPF=0 (S1121), and sets the fuel-pressure correction coefficient FPF to be FPF=1.0 (S1122). Therefore, when abnormality does not occur in the fuel pump 30, the injector 64 injects a normal injection rate of fuel.<br>
As described hereinbefore, in the fifth embodiment of security, the ECU 20 integrates the injection period of fuel from the injector 64 after the fuel pump 30 stops. When the injector 64 injects fuel after the fuel pump 30 stops, pressure of the fuel is reduced depending on the number of the injections. Thus, the injection period of fuel from the injector 64 is integrated, and the fuel-pressure correction coefficient FPF is set in consideration of the integrated injection period of fuel. Therefore, a predetermined injection rate of fuel is secured irrespectively of change in pressure of fuel after the fuel pump 30 stops. Therefore, the operation of the engine 60 can be stably continued, and consequently safety can be ensured. 6. Sixth embodiment of security<br>
When the ECU 20 detects an abnormality in the fuel pump 30<br><br>
according to the procedure shown in FIG. 4, the ECU 20 shifts the operation to the abnormality recovery procedure shown in FIG. 6 to recover the fuel pump 30 into a normal condition. At that time, the ECU 20 stops the fuel pump 30 for a certain period as shown in FIG. 6. Therefore, pressure of fuel supplied from the fuel pump 30 to the engine 60 is reduced. Thus, in a sixth embodiment of security, when the ECU 20 detects an abnormality in the fuel pump 30 according to the procedure shown in FIG. 4, and the ECU 20 stops the fuel pump 30, the ECU 20 forcibly increases an injection rate of fuel from the injector 64 according to the procedure shown in FIG 15. Thus, stable operation of the engine 60 can be secured.<br>
The ECU 20 determines whether calculation timing of the injection period TAU has come irrespectively of presence of abnormality in the fuel pump 30 (S1201). The ECU 20 shifts the operation to calculation of the injection period TAU at injection timing of fuel from the injector 64.<br>
The ECU 20 calculates the rotation speed NE of the engine 60 in order to calculate the injection period TAU (S1202). Moreover, the ECU 20 calculates the load P of the engine 60 (S1203). Calculation of the rotation speed NE of the engine 60 and calculation of the load P of the engine 60 are the same as in the first embodiment of security. Furthermore, the ECU 20 detects a condition of the engine 60 (S1204). The ECU 20 detects the condition of the engine 60 from the temperature THA of the suction air, temperature THW of cooling water, atmospheric pressure PA and the like as in the first embodiment of security.<br>
The ECU 20 calculates the rotation speed NE of the engine 60 and the load P of the engine 60, and detects the condition of the engine 60. Subsequently, the ECU 20 determines whether the pump abnormality flag FFPF is in a state of FFPF=1 (S1205).   When the ECU 20 detects an abnormality in<br><br>
the fuel pump 30 according to the procedure shown in FIG. 4, FFPF=1 is valid.<br>
When FFPF=1 is valid, the ECU 20 sets a square root of the reference fuel pressure PFO for a fuel-pressure correction coefficient FPF (S1206). The fuel-pressure correction coefficient FPF is a coefficient for correcting discharge pressure of fuel from the fuel pump 30, the pressure being reduced by stop of the fuel pump 30 accompanying abnormality detection. The reference fuel pressure PFO is pressure of fuel discharged from the fuel pump 30. Then, the ECU 20 sets a predetermined value 5 for a pump-abnormality correction coefficient FFPFS (S1207). The pump-abnormality correction coefficient FFPFS is a coefficient to increase or enrich an injection rate of fuel in consideration of reduction in pressure of fuel accompanying stop of the fuel pump 30. Even when pressure of fuel is reduced by stopping the fuel pump 30, the total amount of fuel injected from the injector 64 increases by using the pump-abnormality correction coefficient FFPFS.<br>
By contrast, when FFPF=0 is valid, that is, the ECU 20 does not detect abnormality in the fuel pump 30, the ECU 20 sets the fuel-pressure correction coefficient FPF to be FPF=1.0 (S1211). In addition, the ECU 20 sets the pump-abnormality correction coefficient FFPFS to be FFPFS=1.0 (S1212). That is, when the ECU 20 does not detect abnormality in the fuel pump 30, the correction coefficients FPF, FFPFS are not set.<br>
When the correction coefficients FPF, FFPFS are set, the ECU 20 calculates the injection period TAU according to the following expression 6 (S1208). The ECU 20 corrects the reference injection pulse width TP with the fuel-pressure correction coefficient FPF calculated in step S1206, the pump-abnormality correction coefficient FFPFS calculated in step S1207, and various parameters. The reference injection pulse width TP is obtained from the rotation speed NE of the engine 60 calculated in step S1202 and the load P of<br><br>
the engine calculated in step S703 as described in the first embodiment of security. The various parameters for correcting the reference injection pulse width TP includes the temperature THA of the suction air, temperature THW of the cooling water, and atmospheric pressure PA detected in step S1204. The ECU 20 corrects the set reference injection pulse width TP with the correction coefficients FPF, FFPFS, and the various parameters, and adds the invalid injection period TV of the injector 64 to the reference injection pulse width TP. Consequently, the ECU 20 calculates the injection period TAU according to the following expression 6.<br>
TAU=TP*f(THA, THW, PA, •••)*FPF*FFPFS+TV   expression 6<br>
The ECU 20 calculates the injection period TAU, and the ECU 20 outputs a control signal to the injector 64 based on the calculated TAU. Thus, the injector 64 injects fuel according to the control signal outputted from the ECU 20 (S1209).<br>
In the sixth embodiment of security, when the fuel pump 30 stops, pressure of fuel discharged from the fuel pump 30 is reduced. In this condition, the amount of fuel injected from the injector 64 increases. Thus, even when pressure of the fuel discharged from the fuel pump 30 decreases, the total amount of the fuel injected from the injector 64 does not largely change. As a result, even when the fuel pump 30 stops because the ECU 20 detects an abnormality in the fuel pump 30, a predetermined amount of fuel is injected into the engine 60. Therefore, the operation of the engine 60 can be stably continued, and consequently safety can be ensured.<br>
In the sixth embodiment of security, an example of setting the pump-abnormality correction coefficient FFPFS at the predetermined value 8 in step S1207 was described. However, the pump-abnormality correction coefficient FFPFS may be stored in the ROM 22 as a map of a coefficient that changes<br><br>
depending on the load P of the engine 60 and the like, and subjected to interpolating calculation. Moreover, the pump-abnormality correction coefficient FFPFS may be stored in the ROM 22 as a map of a coefficient that changes depending on both the load P of the engine 60 and the rotation speed NE of the engine 60, and subjected to interpolating calculation. Furthermore, the pump-abnormality correction coefficient FFPFS may be configured so as to be calculated based on the load P of the engine 60 detected in step S1203 as a function of the load P of the engine 60. 7. Seventh embodiment of security<br>
In a seventh embodiment of security, a method of calculating the injection period TAU is different from that in the sixth embodiment of security. The seventh embodiment of security is described with reference to FIG. 16.<br>
The ECU 20 determinates calculation timing of the injection period TAU has come (S1201), thereby calculating the rotation speed NE of the engine 60 (S1202), calculating the load P of the engine 60 (S1203), and detecting the engine condition (S1204) in the procedure shown through FIG. 15. Subsequently, the ECU 20 shifts the operation to step S1301 shown in FIG. 16, and determines whether the pump abnormality flag FFPF is in a state of FFPF=1 (S1302). When the ECU 20 detects an abnormality in the fuel pump 30 according to the procedure shown in FIG. 4, FFPF=1 is valid.<br>
When FFPF=1 is valid, the ECU 20 determines whether the abnormality-mode coefficient counter CFPF is in a state of CFPF=0 (S1303). When the operation is first shifted to the procedure shown in FIG. 16, the abnormality-mode coefficient counter CFPF is in a state of CFPF=0. Therefore, the ECU 20 determines first fuel injection is being performed after the ECU 20 detects an abnormality in the fuel pump 30, and the ECU 20 stops the fuel pump 30.   In the first fuel injection after the ECU 20 stops the fuel pump 30,<br><br>
pressure of fuel discharged from the fuel pump 30 is maintained. Thus, the ECU 20 sets the fuel-pressure correction coefficient FPF to be FPF=1.0 (S1304).<br>
When the ECU 20 sets the fuel-pressure correction coefficient FPF to be FPF=1.0, the ECU 20 in turn sets the pump-abnormality correction coefficient FFPFS to be FFPFS=1.0 (S1305). The pump-abnormality correction coefficient FFPFS is a coefficient to increase or enrich an injection rate of fuel in consideration of reduction in pressure of fuel accompanying stop of the fuel pump 30 as described in the sixth embodiment of security.<br>
When the ECU 20 sets the correction coefficients FPF and FFPFS, the ECU 20 increments the abnormality-mode coefficient counter CFPF by one (S1306). Then, the ECU 20 returns the operation to step S1208 as shown in FIG. 16, and sets the injection period TAU using the set the correction coefficients FPF and FFPFS. When the operation is first shifted to the procedure shown in FIG. 16, the correction coefficients FPF and FFPFS are set to be FPF=1 and FFPFS=1 respectively. Therefore, the ECU 20 sets the injection period TAU without correcting the reference injection pulse width TP with the correction coefficients FPF and FFPFS.<br>
In second time or later of the procedure shown in FIG. 16, CFPF=0 is not determined to be valid in step S1303. Therefore, the ECU 20 compares the abnormality-mode coefficient counter CFPF with a predetermined constant a (S1311). The constant a defines the number of injections of fuel from the injector 64 as described in the third embodiment of security. When the abnormality-mode coefficient counter CFPF is a or greater, pressure of fuel is determined to be approximately equal to the atmospheric pressure, and when the abnormality-mode coefficient counter CFPF is less than a, it is determined<br><br><br>
atmospheric pressure.<br>
Therefore, when CFPF&gt;α is determined to be valid in step S1311, the ECU 20 sets a square root of the reference fuel pressure PFO for the fuel-pressure correction coefficient FPF (S1312). Then, the ECU 20 sets the pump-abnormality correction coefficient FFPFS at a predetermined value ju (1313). Thus, when the abnormality-mode coefficient counter CFPF Is a or greater, pressure of fuel discharged from the fuel pump 30 is determined to be approximately equal to the atmospheric pressure, and the ECU 20 increases an injection rate of fuel in accordance with the predetermined value ju.   When the<br>
correction coefficients FPF and FFPFS are set, the ECU 20 increments the abnormality-mode coefficient counter CFPF by one (S1206), and then returns the operation to step S1208 (S1307).<br>
By contrast, when CFPF<a is determined to be valid in step s1311 the ecu sets a value as shown following expression for fuel-pressure correction coefficient fpf></a>
FPF={PF0/(PF0-DPF*CFPF)}1/2	expression 7<br>
Here, the DPF is fuel pressure reduced at each injection of fuel from the injector 64. Moreover, the CFPF corresponds to the number of injections of fuel. Therefore, the fuel-pressure correction coefficient FPF set by the expression 7 is gradually updated in consideration of fuel pressure reduced at each fuel injection after the fuel pump 30 stops.<br>
When the fuel-pressure correction coefficient FPF is set in step S1314, the ECU 20 sets the pump-abnormality correction coefficient FFPFS to be  FFPFS= y   (S1313),  then  increments the abnormality-mode coefficient<br>
counter CFPF by one (S1306), and then returns the operation to step S1208 (S1307).<br>
When it is determined in step S1302 that FFPF=1 is invalid, that is,<br><br>
the ECU 20 does not detect abnormality in the fuel pump 30, the ECU 20 sets the abnormality-mode coefficient counter CFPF to be CFPF=0 (S1321), sets the fuel-pressure correction coefficient FPF to be FPF=1.G (S1322), and sets the pump-abnormality correction coefficient FFPFS to be FFPFE=1.0 (S1323). Therefore, when abnormality does not occur in the fuel pump 30, the injector 64 injects a normal injection rate of fuel.<br>
As described hereinbefore, in the seventh embodiment of security, when the injector 64 injects fuel after the fuel pump 30 stops, the ECU 20 sets the fuel-pressure correction coefficient FPF in consideration of fuel pressure reduced at each fuel injection to correct the injection rate of fuel in conjunction with the abnormal pump correction coefficient FFPFS. Therefore, a predetermined injection rate of fuel is secured irrespectively of change in pressure of fuel after the fuel pump 30 stops. Therefore, the operation of the engine 60 can be stably continued, and consequently safety can be ensured.<br>
In the seventh embodiment of security, an example that the pump-abnormality correction coefficient FFPFS is set at the predetermined value //<br>
in steps S1305 and S1313 was described.   However, the pump-abnormality correction coefficient FFPFS may be calculated as a function or a map of the load P of the engine 60 or the rotative direction NE of the engine 60 as in the sixth embodiment of security. 8. Eighth embodiment of security<br>
In the eighth embodiment of security, a method of calculating the injection period TAU is different from that in the sixth embodiment of security. The eighth embodiment of security is described with reference to FIG. 17.<br>
The ECU 20 determines calculation timing of the injection period TAU has come (S1201), thereby calculating the rotation speed NE of the engine 60 (S1202), calculating the load P of the engine 60 (S1203), and detecting the<br><br>
engine condition (S1204) through the procedure shown in FIG. 15. Subsequently, the ECU 20 shifts the operation to step S1401 shown in FIG. 17, and determines whether the pump abnormality flag FFPF is in a state of FFPF=1 (S1402). When the ECU 20 detects an abnormality in the fuel pump 30 according to the procedure shown in FIG. 4, FFPF=1 is valid.<br>
When FFPF=1 is valid, the ECU 20 determines whether the abnormality-mode coefficient counter CFPF is in a state of CFPF=0 (S1403). When the operation is first shifted to the procedure shown in FIG. 17, the abnormality-mode coefficient counter CFPF is in a state of CFPF=0. Therefore, the ECU 20 determines first fuel injection is being performed after the ECU 20 detects an abnormality in the fuel pump 30, and the ECU 20 stops the fuel pump 30. In the first fuel injection after the ECU 20 stops the fuel pump 30, pressure of fuel discharged from the fuel pump 30 is maintained. Thus, the ECU 20 sets the fuel-pressure correction coefficient FPF to be FPF=1.0 (S1404).<br>
When the ECU 20 sets the fuel-pressure correction coefficient FPF to be FPF=1.0, the ECU 20 in turn sets the pump-abnormality correction coefficient FFPFS to be FFPFS=1.0 (S1405). The pump-abnormality correction coefficient FFPFS is a coefficient to increase or enrich an injection rate of fuel in consideration of reduction in pressure of fuel accompanying stop of the fuel pump 30 as described in the sixth embodiment of security.<br>
When the ECU 20 sets the correction coefficients FPF and FFPFS, the ECU 20 increments the abnormality-mode coefficient counter CFPF by one (S1406). Then, the ECU 20 returns the operation to step S1208 as shown in FIG. 15, and sets the injection period TAU using the set the correction coefficients FPF and FFPFS. When the operation is first shifted to the procedure shown in FIG. 17, the correction coefficients FPF and FFPFS are set<br><br>
to be FPF=1.0 and FFPFS=1.0 respectively. Therefore, the ECU 20 sets the injection period TAU without correcting the reference injection pulse width TP with the correction coefficients FPF and FFPFS.<br>
In second time or later of the procedure shown in FIG. 17, CFPF=0 is not determined to be valid in step S1403. Therefore, the ECU 20 compares the abnormality-mode coefficient counter CFPF with a predetermined constant a (S1411). The constant a defines the number of injections of fuel from the injector 64 as described in the third embodiment of security. Therefore, when the abnormality-mode coefficient counter CFPF is a or greater, pressure of fuel is determined to be approximately equal to the atmospheric pressure, and when the abnormality-mode coefficient counter CFPF is less than a, it is determined that fuel discharged from the fuel pump 30 has pressure greater than the atmospheric pressure.<br>
Therefore, when CFPF&gt;a is determined to be valid in step S1411, the ECU 20 sets a square root of the reference fuel pressure PFO for the fuel-pressure correction coefficient FPF (S1412). By contrast, when CFPF<a is determined to be valid in step s1411 the ecu sets a value as shown following expression for fuel-pressure correction coefficient fpf></a>
FPF={PF0/(PF0-DPF*CFPF)}1/2	expression 8<br>
Here, the DPF is fuel pressure reduced at each injection of fuel from the injector 64. Moreover, the CFPF corresponds to the number of injections of fuel. Therefore, the fuel-pressure correction coefficient FPF set by the expression 8 is gradually updated in consideration of fuel pressure reduced at each fuel injection after the fuel pump 30 stops.<br>
When the fuel-pressure correction coefficient FPF is set in steps S1412 and S1421, the ECU 20 determines whether the engine 60 is in a startup period (S1413).   Here, the start-up period of the engine 60 corresponds to,<br><br>
for example, a period in which the engine 60 is subjected to warming up immediately after the engine 60 is started. The start-up period of the engine 60 is, for example, a case where the temperature THW of cooling water does not reach to a predetermined temperature, or a period before a predetermined time passes after the engine 60 is started. Definition of the start-up period of the engine 60 can be optionally established.<br>
When the ECU 20 determines the engine 60 to be in the start-up period, the ECU 20 sets the pump-abnormality correction coefficient FFPFS to be FFPFS=/? (S1415).   Since the operation of the engine 60 is comparatively<br>
unstable in the start-up period of the engine 60, fuel injected from the injector 64 needs to be enriched.   Therefore, the p set in step S1415 is a value for<br>
correcting an injection rate of fuel to a rich side. The p as a value of FFPFS is, for example, stored in the ROM 22 as a numerical value that changes depending on the abnormality-mode coefficient counter CFPF as shown in FIG. 18.<br>
By contrast, when the ECU 20 determines the engine 60 to be not in the start-up period in step S1413, the ECU 20 determines whether the rotation speed NE of the engine 60 is not greater than a predetermined value K (S1431). When the rotation speed NE of the engine 60, which is detected in step S1202 as shown in FIG. 15, is not greater than the predetermined value K, the ECU 20 determines the engine 60 to be in a low rotation frequency region. When the rotation speed NE of the engine 60 is greater than the predetermined value K, the ECU 20 determines the engine 60 to be in a high rotation frequency region. When the ECU 20 determines the engine 60 to be in the low rotation frequency region, in which the rotation speed NE of the engine 60 is not greater than the predetermined value K, in step S1431, the ECU 20 sets the pump-abnormality correction coefficient FFPFS to be FFPFS=o- (S1432).   The a as a value of<br><br>
the pump-abnormality correction coefficient FFPFS is, for example, stored in the ROM 22 as a numerical value that changes depending on the abnormality-mode coefficient counter CFPF as shown in FIG. 19.<br>
On the contrary, when the ECU 20 determines the rotation speed NE of the engine 60 is greater than the predetermined value K in step S1431, the ECU 20 sets the pump-abnormality correction coefficient FFPFS to be FFPFS=A: (S1433). The A: as a value of the pump-abnormality correction coefficient FFPFS is, for example, stored in the ROM 22 as a numerical value that changes depending on the NE as shown in FIG. 20.<br>
In this way, the ECU 20 sets the pump-abnormality correction coefficient FFPFS depending on the start-up period and rotation frequency of the engine 60. Thus, the amount of fuel injected from the injector 64 can be changed depending on concentration of fuel as required.<br>
The pump-abnormality correction coefficient FFPFS is set to be the predetermined value p, σ, or K , subsequently, the ECU 20 increments the<br>
abnormality-mode coefficient counter CFPF by one (S1406), then returns the operation to step S1208 (S1407).<br>
When it is determined in step S1402 that FFPF=1 is invalid, that is, the ECU 20 does not detect abnormality in the fuel pump 30, the ECU 20 sets the abnormality-mode coefficient counter CFPF to be CFPF=0 (S1441), sets the fuel-pressure correction coefficient FPF to be FPF=1.0 (S1442), and sets the pump-abnormality correction coefficient FFPFS to be FFPFE=1.0 (S1443). Therefore, when abnormality does not occur in the fuel pump 30, the injector 64 injects a normal injection rate of fuel.<br>
As described hereinbefore, in the eighth embodiment of security, when the injector 64 injects fuel after the fuel pump 30 stops, the ECU 20 sets<br><br>
reduced at each fuel injection to correct the injection rate of fuel in conjunction with the pump-abnormality correction coefficient FFPFS. Moreover, the pump-abnormality correction coefficient FFPFS changes depending on the operating condition of the engine 60, that is, whether the engine 60 is in the start-up period, and rotation speed of the engine 60. Therefore, a predetermined injection rate of fuel is secured irrespectively of change in pressure of fuel after the fuel pump 30 stops, and the condition of the engine 60. Therefore, the engine 60 can be securely started, or the operation of the engine 60 can be stably continued, and consequently safety can be ensured. (Second embodiment of control apparatus for fuel pump)<br>
As shown in FIG. 21, a control apparatus for a fuel pump according to the second embodiment has a substantially equivalent componential regions as in the first embodiment shown in FIG. 1, and are marked with the same references, and omitted from the description.<br>
In the case of the second embodiment of the control apparatus for the fuel pump, a control apparatus 110 is provided for controlling a fuel pump 30 accommodated in a fuel tank 70. The control apparatus 110 has a fluid level sensor 71 as fuel remaining-quantity detection means for detecting remaining quantity of fuel stored within the fuel tank 70. The fluid level sensor 71 detects a fluid level of fuel that vertically moves within the fuel tank 70. The fluid level sensor 71 includes a sender gauge integrated with the fuel pump 30, a sensor provided in the fuel tank 70, and the like. A control unit 11 of the control apparatus 110 serves as abnormality determination means as in the first embodiment of the control apparatus for the fuel pump.<br>
Since other configurations are substantially the same as in the first embodiment of the control apparatus for the fuel pump shown in FIG. 1, they are omitted from the description.<br><br>
Next, description is made on a procedure of detecting abnormality in the fuel pump 30 by using the control apparatus 110 of the fuel pump with reference to FIG. 22.<br>
1. First embodiment of abnormality detection based on remaining quantity of fuel<br>
In a predetermined timing, the ECU 20 carries out the abnormality determination procedure on whether an abnormality occurs in the fuel pump 30. The abnormality determination procedure is, for example, included as one of procedures for monitoring the overall vehicle by the ECU 20, and periodically carried out after starting the engine 60. When the operation proceeds to the abnormality determination procedure, the ECU 20 first detects the battery voltage B (S1501). The ECU 20 obtains the battery voltage B from the voltage detecting portion 24. The ECU 20 stores the obtained battery voltage B to the RAM 23. The ECU 20 detects the battery voltage B, subsequently, the ECU 20 in turn detects rotation frequency NP of the brushless motor 32 of the fuel pump 30 (S1502). The ECU 20 obtains the rotation frequency NP of the brushless motor 32 from the rotation frequency detecting portion 13 of the control circuit portion 12. The ECU 20 stores the obtained rotation frequency NP of the brushless motor 32 to the RAM 23.<br>
The ECU 20 calculates the reference rotation frequency NP0 of the brushless motor 32 corresponding to the battery voltage B, which is obtained in step S1501 and stored to the RAM 23, from a map stored in the ROM 22 (S1503).<br>
The ECU 20 stores the calculated reference rotation frequency NP0 to the RAM 23. When the ECU 20 calculates the reference rotation frequency NP0, the ECU 20 in turn calculates the upper limit value NPO+or depending on the reference rotation frequency NP0.<br><br>
Furthermore, the ECU 20 detects remaining quantity QF of fuel stored in the fuel tank 70 (S1504). The ECU 20 obtains a fluid level of the fuel stored in the fuel tank 70, that is, the remaining quantity of the fuel from an output signal of the fluid level sensor 71. The ECU 20 stores the obtained remaining quantity QF of the fuel in the fuel tank 70 to the RAM 23.<br>
When the ECU 20 calculates the upper limit value NP0+a, the ECU 20 determines whether the rotation frequency NP of the brushless motor 32 obtained in step S1502 is greater than the upper limit value NP0+ar (S1505). As shown in FIG. 3, in the brushless motor 32 and the fuel pump 30 having the brushless motor 32, distribution is found in a rotation frequency to a certain voltage due to variation in production process. In addition, even when variation in products of the brushless motor 32 and the fuel pump 30 is eliminated, the rotation frequency NP of the brushless motor 32 to the battery voltage B varies depending on the remaining quantity QF of fuel. That is, as the remaining quantity QF of fuel in the fuel tank 70 decreases, a load of the brushless motor 32 is reduced. Therefore, even when the battery voltage B is constant, the rotation frequency NP of the brushless motor 32 increases.<br>
Thus, the ECU 20 determines whether the rotation frequency NP of the brushless motor 32 is greater than the upper limit value NPO+a in step S1505. When the rotation frequency NP of the brushless motor 32 is determined to be greater than the upper limit value NP0+a, the ECU 20 further determines whether the stored remaining quantity QF of fuel is greater than a predetermined remaining-quantity threshold value Q1 in step S1506. Here, when the rotation frequency NP of the brushless motor 32 is greater than the upper limit value NP0+α, and the remaining quantity QF of fuel is greater than the remaining-quantity threshold value Q1, the ECU 20 determines abnormality to occur in the brushless motor 32 of the fuel pump 30 (S1507).   By contrast,<br><br>
when the rotation frequency NP of the brushless motor 32 is greater than the upper limit value NPO+α, and the remaining quantity QF of fuel is less than the remaining-quantity threshold value Q1, the ECU 20 determines an out-of-gas condition to be occurring, and the remaining quantity of fuel is slight within the fuel tank 70 (S1508).<br>
In this way when the rotation frequency NP of the brushless motor 32 is greater than the upper limit value NPO+c*, the ECU 20 determines whether the remaining quantity QF of fuel in the fuel tank 70 is greater than the remaining-quantity threshold value Q1. When the remaining quantity QF of fuel in the fuel tank 70 is less than the remaining-quantity threshold value Q1, the fuel pump 30 is in an idle condition, and even when the battery voltage B is constant, the rotation frequency NP of the brushless motor 32 increases. Thus, the ECU 20 detects the remaining quantity QF of fuel in the fuel tank 70 in addition to the rotation frequency NP of the brushless motor 32, thereby discriminating whether an abnormality in the brushless motor 32 of the fuel pump 30 is due to abnormality in the brushless motor 32 or fuel pump 30 itself, or due to the out-of-gas condition. Thus, detection of abnormality in the fuel pump 30 is terminated.<br>
2. Second embodiment of abnormality detection based on remaining quantity of fuel<br>
A second embodiment of abnormality detection by using the control apparatus 110 having the above configuration is described with reference to FIG. 23. Substantially the same procedures as in the first embodiment of abnormality detection as shown in FIG. 22 are omitted from the detailed description.<br>
When the operation proceeds to the abnormality determination procedure, the ECU 20 detects the battery voltage B, and stores the detected<br><br>
battery voltage B to the RAM 23 (S1601). Moreover, the ECU 20 detects a rotation frequency NP of the brushless motor 32 of the fuel pump 30, and stores the detected rotation frequency NP of the brushless motor 32 to the RAM 23 (S1602). Furthermore, from the battery voltage B obtained in step S1601, the ECU 20 calculates the reference rotation frequency NPO of the brushless motor 32 corresponding to the battery voltage B. Then, the ECU 20 calculates the upper limit value NPO+a depending on the calculated reference rotation frequency NPO.<br>
When the ECU 20 calculates the upper limit value NP0+a, the ECU 20 sets a pump abnormality determination counter CNPJAN to be CNPJAN=CNPJAN+1 and thus increments the counter by one (S1603).<br>
When the pump abnormality determination counter CNPJAN is incremented by one, the ECU 20 compares the rotation frequency NP of the brushless motor 32 detected in step S1602 with the upper limit value NP0+a of the reference rotation frequency NPO (S1604). Here, when the ECU 20 determines the rotation frequency NP of the brushless motor 32 is less than the upper limit value NP0+α, the ECU 20 terminates abnormality detection, and shifts the operation to step S1612. By contrast, when the ECU 20 determines the rotation frequency NP of the brushless motor 32 is greater than the upper limit value NPO+or, the ECU 20 determines the ECU 20 detects an abnormality in the fuel pump 30, and sets the pump abnormality detection counter CNPAN to be CNPAN=CNPAN+1 and thus increments the counter by one (S1605).<br>
The ECU 20 increments the pump abnormality detection counter CNPAN by one, subsequently, the ECU 20 determines whether the pump abnormality determination counter CNPJAN that was subjected to counting in step S1603 is equal to or greater than a predetermined value C1 being predetermined   (S1606).      That  is,   the   ECU   20  determines  whether  a<br><br>
predetermined period corresponding to the predetermined value C1 has passed. Here, when the ECU 20 determines the pump abnormality determination counter CNPJAN is less than the predetermined value C1 in step S1606, the ECU 20 terminates the abnormality detection, and shifts the operation to step S1612. By contrast, when the ECU 20 determines the pump abnormality determination counter CNPJAN is equal to or greater than the predetermined value C1 in step S1606, the ECU 20 determines whether the pump abnormality detection counter CNPAN that was subjected to counting in step S1605 is equal to or greater than a predetermined value C2 (S1607). That is, the ECU 20 determines whether the pump abnormality detection counter CNPAN is subjected to counting by the number of the predetermined value C2 during the predetermined value C1 counted by the pump abnormality determination counter CNPJAN. Here, the predetermined value C1 and the predetermined value C2 have a relationship of C1&gt;C2.<br>
When the pump abnormality detection counter CNPAN is equal to or greater than the predetermined value C2, the ECU 20 determines abnormality to occur in the brushless motor 32 of the fuel pump 30 (S1608). When abnormality occurs in the brushless motor 32 of the fuel pump 30, for example, the abnormality continues until the fuel pump 30 is restarted or reversely rotated. Therefore, in the case that abnormality was detected in the brushless motor 32 of the fuel pump 30, the pump abnormality detection counter CNPAN approximates to the value C1 of the pump abnormality determination counter CNPJAN. In particular, when abnormality occurs in the brushless motor 32 of the fuel pump 30, the predetermined value C1 approximately corresponds to the predetermined value C2.<br>
On the contrary,  when the pump abnormality detection counter CNPAN is less than the predetermined value C2, the ECU 20 determines<br><br>
remaining quantity of fuel is small within the fuel tank 70, that is, an out-of-gas condition occurs (S1609). When the remaining quantity of fuel becomes small in the fuel tank 70, the fuel pump 30 intermittently discharges fuel due to change in fluid level of fuel within the fuel tank 70. Therefore, abnormality in the brushless motor 32 of the fuel pump 30 is intermittently detected. As a result, in the case that the ECU 20 detects an abnormality in the brushless motor 32 of the fuel pump 30, before the pump abnormality detection counter CNPAN reaches to the predetermined value C2, a value C1 of the pump abnormality determination counter CNPJAN increases.<br>
In this way, the ECU 20 determines whether an abnormality occurs in the brushless motor 32 of the fuel pump 30, or determines whether the remaining quantity of fuel decreases in the fuel tank 70, from the pump abnormality determination counter CNPJAN and the pump abnormality detection counter CNPAN. When the ECU 20 determines abnormality to occur in the brushless motor 32 of the fuel pump 30, or determines the remaining quantity of fuel decreases in the fuel tank 70, the ECU 20 resets the pump abnormality detection counter CNPAN to be CNPAN=0 (S1611).<br>
The ECU 20 repeats the above processing until the pump abnormality determination counter CNPJAN reaches to a predetermined value C3 (S1612). That is, when the operation proceeds from step S1604, S1606, or S1611 to step S1612, the ECU 20 determines whether the pump abnormality determination counter CNPJAN is equal to or greater than a predetermined value C3. The predetermined value C3 is greater than the predetermined value C1 and the predetermined value C2. When the ECU 20 determines the pump abnormality determination counter CNPJAN is equal to or greater than the predetermined value C3, the ECU 20 resets the pump abnormality determination counter CNPJAN to be CNPJAN=0 (S1613), and repeats the above processing again.<br><br>
By contrast, when the ECU 20 determines the pump abnormality determination counter CNPJAN is less than the predetermined value C3, the ECU 20 repeats the above processing until the pump abnormality determination counter CNPJAN reaches to the predetermined value C3.<br>
As above, in the embodiment, the ECU 20 is capable of discriminating whether an abnormality is due to the brushless motor 32 of the fuel pump 30, or due to the remaining quantity of fuel in the fuel tank 70 from frequency of abnormality detected in the brushless motor 32 of the fuel pump 30 within a predetermined period.<br>
3. Third embodiment of abnormality detection based on remaining quantity of fuel<br>
A third embodiment of abnormality detection by using the control apparatus 110 having the above configuration is described with reference to FIG. 24. Substantially the same procedures as in the first embodiment of abnormality detection as shown in FIG. 22 or the second embodiment of abnormality detection as shown in FIG. 23 are omitted from the detailed description.<br>
When the operation proceeds to the abnormality determination procedure, the ECU 20 detects the battery voltage B, and stores the detected battery voltage B to the RAM 23 (S1701). Moreover, the ECU 20 detects a rotation frequency NP of the brushless motor 32 of the fuel pump 30, and stores the detected rotation frequency NP of the brushless motor 32 to the RAM 23 (S1702). Furthermore, from the battery voltage B obtained in step S1701, the ECU 20 calculates the reference rotation frequency NP0 of the brushless motor 32 corresponding to the battery voltage B. Then, the ECU 20 calculates an upper limit value NP0+ α depending on the calculated reference rotation frequency NP0.<br><br>
When the ECU 20 calculates the upper limit value NP0+α, the ECU 20 compares the rotation frequency NP of the brushless motor 32 detected in step S1702 with the upper limit value NP0+ α of the reference rotation frequency NPO (S1703). When the ECU 20 determines the rotation frequency NP of the brushless motor 32 is greater than the upper limit value NPO+a, the ECU 20 determines abnormality to occur in the brushless motor 32 of the fuel pump 30. Therefore, the ECU 20 sets the pump abnormality detection counter CNPAN to be CNPAN=CNPAN+1 and thus increments the counter by one (S1704). By contrast, in step S1703 when the ECU 20 determines the rotation frequency NP of the brushless motor 32 is equal to or less than the upper limit value NP0+ α, the ECU 20 shifts the operation to step S1705 without incrementing the pump abnormality detection counter CNPAN.<br>
When step S1704 is completed, the ECU 20 determines whether the pump abnormality determination counter CNPJAN reaches to a predetermined value D1 (S1705). The pump abnormality determination counter CNPJAN is incremented by one at each operation of the abnormality determination procedure shown in FIG. 24. Therefore, in the case of timing immediately after the operation proceeds to the abnormality determination procedure, the pump abnormality determination counter CNPJAN is in a state of CNPJAN=0. That is, in step S1705, the ECU 20 determines whether the abnormality determination procedure was carried out by the number of times corresponding to the predetermined value D1. When the pump abnormality determination counter CNPJAN does not reach to the predetermined value D1, the ECU 20 terminates abnormality detection, and shifts the operation to step S1713.<br>
When the ECU 20 determines the pump abnormality determination counter CNPJAN reaches to the predetermined value D1 in step S1705, the ECU 20 determines whether the pump abnormality detection counter CNPAN,<br><br>
which was subjected to counting in step S1704, is less than a predetermined value D2 (S1706). Here, the predetermined value D2 is set to be less than the predetermined value D1. When the pump abnormality detection counter CNPAN is less than the predetermined value D2, the number of times of abnormality in the brushless motor 32 of the fuel pump 30, which is detected before the pump abnormality determination counter CNPJAN reaches to the predetermined value D1, is less than the predetermined value D2. Consequently, when the pump abnormality detection counter CNPAN is less than the predetermined value D2 in step S1706, the ECU 20 determines the brushless motor 32 of the fuel pump 30 is normal (S1707).<br>
By contrast, when the pump abnormality detection counter CNPAN is equal to or greater than the predetermined value D2 in step S1706, the ECU 20 further determines whether the pump abnormality detection counter CNPAN is less than a predetermined value D3 (S1708). A relationship between the predetermined values D3, D1 and D2 is set to be D1&gt;D3&gt;D2. Thus, when the pump abnormality detection counter CNPAN is equal to or greater than a predetermined value D3 in step S1708, it is determined that while the ECU 20 detects an abnormality in the brushless motor 32 of the fuel pump 30 before the pump abnormality determination counter CNPJAN reaches to the predetermined value D1, the abnormality occurs at a low frequency. When the remaining quantity of fuel decreases in the fuel tank 70, fuel is intermittently discharged from the fuel pump 30 depending on a fluid level of fuel within the fuel tank 70. As a result, abnormality in the brushless motor 32 of the fuel pump 30 is intermittently detected, so that the counter CNPAN is less than the predetermined value D3. Consequently, when the pump abnormality detection counter CNPAN lies between the predetermined value D2 and the predetermined value D3, the ECU 20 determines the so-called out-of-gas<br><br>
condition occurs (S1709).<br>
Furthermore, when the pump abnormality detection counter CNPAN is equal to or greater than the predetermined value D3 in step S1708, the ECU 20 determines abnormality to occur in the brushless motor 32 of the fuel pump 30 (S1710). That is, when the pump abnormality detection counter CNPAN is equal to or greater than the predetermined value D3, before the pump abnormality determination counter CNPJAN reaches to the predetermined value D1 in step S1705, the ECU 20 detects an abnormality at a high frequency in the brushless motor 32 of the fuel pump 30. Therefore, an abnormality is considered to continuously occur in the brushless motor 32 of the fuel pump 30. Consequently, when the pump abnormality detection counter CNPAN is equal to or greater than the predetermined value D3, the ECU 20 determines abnormality to occur in the brushless motor 32 of the fuel pump 30.<br>
When the ECU 20 determines whether an abnormality occurs in the brushless motor 32 of the fuel pump 30, or determines remaining quantity of fuel decreases in the fuel tank 70, the ECU 20 resets the pump abnormality detection counter CNPAN to be CNPAN=0 (S1711), and resets the pump abnormality determination counter CNPJAN to be CNPJAN=0 (S1712).<br>
When the above procedure is terminated, the ECU 20 increments the pump abnormality determination counter CNPJAN by one (S1713).<br>
As above, in the embodiment, the ECU 20 is capable of discriminating whether an abnormality is due to the brushless motor 32 of the fuel pump 30, or due to the remaining quantity of fuel in the fuel tank 70 from frequency of abnormality detected in the brushless motor 32 of the fuel pump 30 within a predetermined period. 4. Security in abnormality detection (1)<br>
As described above, in the first, second, or third embodiment of<br><br>
abnormality detection based on the remaining quantity of fuel, when out-of-gas in the fuel tank 70, or abnormality in the brushless motor 32 of the fuel pump 30 is detected, the ECU 20 can carry out processing for security. Hereinafter, security in abnormality detection (1) is described. Here, in the case of the security in abnormality detection (1), procedures before detection of out-of-gas in the fuel tank 70, or detection of abnormality in the brushless motor 32 of the fuel pump 30 are as described in FIG. 22, 23 or 24. Therefore, only changes from each embodiment described in FIG. 22, 23 or 24 are described, and other procedures are added with the same step numbers and omitted from the description.<br>
For example, in the first embodiment of abnormality detection based on the remaining quantity of fuel as shown in FIG. 22, the ECU 20 determines abnormality to occur in the brushless motor 32 of the fuel pump 30 in step S1507. At that time, as shown in FIG. 25, the ECU 20 produces warning of abnormality in the fuel pump 30 via warning means (S1511). By contrast, in the first embodiment of abnormality detection based on the remaining quantity of fuel as shown in FIG. 22, the ECU 20 determines out-of-gas of fuel occurs in the fuel tank 70 in step S1508. At that time, as shown in FIG. 25, the ECU 20 produces warning of decrease in remaining quantity of fuel in the fuel tank 70 via warning means (S1512).<br>
In this way, the processing shown in FIG. 25 is a modification of the first embodiment of abnormality detection based on the remaining quantity of fuel as shown in FIG. 22, and includes step S1511 of producing warning of abnormality in the fuel pump 30 following step S1507, and step S1512 of producing warning of out-of-gas following step S1508. Here, the ECU 20 produces warning of abnormality via visual, auditory, tactile means or the like. As visual warning means, flashing of a lamp on a dashboard and the like can be<br><br>
used, as auditory warning means, rumbling of a buzzer or horn and the like can be used, and as tactile means, vibration of a handle or shift knob and the like can be used. In this way, the warning means can be used in an optionally selective manner.<br>
In the second embodiment of abnormality detection based on the remaining quantity of fuel as shown in FIG. 23, the ECU 20 determines abnormality to occur in the brushless motor 32 of the fuel pump 30 in step S1608. At that time, as shown in FIG. 26, the ECU 20 may produce warning of abnormality in the fuel pump 30 via warning means (S1621). By contrast, in the second embodiment of abnormality detection based on the remaining quantity of fuel as shown in FIG. 23, the ECU 20 determines out-of-gas of fuel occurs in the fuel tank 70 in step S1609. At that time, as shown in FIG. 26, the ECU 20 may produce warning of decrease in remaining quantity of fuel in the fuel tank 70 via warning means (S1622).<br>
In this way, the processing shown in FIG. 26 is a modification of the second embodiment of abnormality detection based on the remaining quantity of fuel as shown in FIG. 23, and includes step S1621 of producing warning of abnormality in the fuel pump 30 following step S1608, and step S1622 of producing warning of out-of-gas following step S1609.<br>
Furthermore, in the third embodiment of abnormality detection based on the remaining quantity of fuel as shown in FIG. 24, the ECU 20 determines out-of-gas of fuel occurs in the fuel tank 70 in step S1709. At that time, as shown in FIG. 27, the ECU 20 may produce warning of decrease in remaining quantity of fuel in the fuel tank 70 via warning means (S1721). By contrast, in the third embodiment of abnormality detection based on the remaining quantity of fuel as shown in FIG. 24, the ECU 20 determines abnormality to occur in the brushless motor 32 of the fuel pump 30 in step S1710.   At that time, as shown<br><br>
in FIG. 27, the ECU 20 may produce warning of abnormality in the fuel pump 30 via warning means (S1722).<br>
In this way, the processing shown in FIG. 27 is a modification of the third embodiment of abnormality detection based on the remaining quantity of fuel as shown in FIG. 24, and includes step S1721 of producing warning of out-of-gas following step S1709, and step S1722 of producing warning of abnormality in the fuel pump 30 following step S1710.<br>
As described in the FIGS. 25 to 27, when the ECU 20 detects out-of-gas or abnormality in the fuel pump 30, the ECU 20 prompts an occupant in a vehicle to recognize abnormality via warning means.   Therefore, abnormality can be early detected, and a safety measure can be promptly taken. 5. Security in abnormality detection (2)<br>
As described above, in the first, second, or third embodiment of abnormality detection based on the remaining quantity of fuel, when the ECU 20 detects out-of-gas in the fuel tank 70, or abnormality in the brushless motor 32 of the fuel pump 30, the ECU 20 can carry out processing for security. Hereinafter, security in abnormality detection (2) is described as a modification of the first embodiment of abnormality detection based on the remaining quantity of fuel as shown in FIG. 22. In the case of the security in abnormality detection (2), procedures before detection of out-of-gas in the fuel tank 70, or detection of abnormality in the brushless motor 32 of the fuel pump 30 are as described in FIG. 22. Therefore, only changes from the embodiment described in FIG. 22 are described, and other procedures are added with the same step numbers and omitted from the description. The security in abnormality detection (2) can be similarly used for each of the embodiments described in FIGS. 23 and 24.<br>
For example, in the first embodiment of abnormality detection based<br><br>
on the remaining quantity of fuel as shown in FIG. 22, the ECU 20 determines abnormality to occur in the fuel pump or the brushless motor 32 in step S1507. At that time, as shown in FIG. 28, the ECU 20 produces warning of abnormality in the fuel pump 30 via warning means (S1511). By contrast, in the first embodiment of abnormality detection based on the remaining quantity of fuel as shown in FIG. 22, the ECU 20 determines out-of-gas of fuel occurs in the fuel tank 70 in step S1508. At that time, the ECU 20 allows transfer of fuel in the fuel tank 70 in step S1521 as shown in FIG 28.<br>
As shown in FIG 29, the fuel tank 70 has a main tank 72 and a reservoir tank 73. The main tank 72 and the reservoir tank 73 are partitioned by a division portion 74. The fuel pump 30 is accommodated in the main tank 72. The reservoir tank 73 is provided at an upper side of the main tank 72 in a vertical direction. When fuel is filled in the fuel tank 70, and a fluid level of fuel is higher than a top of the division portion 74, a fluid level of fuel in the main tank 72 is approximately the same as that in the reservoir tank 73. By contrast, since the fuel pump 30 is accommodated in the main tank 72, the fuel pump 30 draws fuel stored in the main tank 72 and discharges the fuel to the outside of the fuel tank 70. At that time, even when a fluid level of fuel stored in the main tank 72 is reduced accompanying discharge of fuel, the fluid level of fuel is maintained at a position corresponding to the height of the division portion 74 in the reservoir tank 73 partitioned by the division portion 74. That is, even when fuel in the main tank 72 decreases, predetermined amount of fuel is stored in the reservoir tank 73,<br>
A connection channel 75 is provided between the main tank 72 and the reservoir tank 73. The connection channel 75 connects a bottom wall of the reservoir tank 73 to a side wall near a bottom wall of the main tank 72. The connection channel 75 has an on-off valve portion 76 as on-off valve means.<br><br>
The on-off valve portion 76 opens and closes the connection channel 75 so that fuel intermittently flows between the reservoir tank 73 and the main tank 72. As the on-off valve portion 76, an optional valve can be used, such as a cock driven by an actuator according to an instruction from the ECU 20, or an electromagnetic valve being opened and closed according to an instruction from the ECU 20.<br>
In this way, when the ECU 20 determines an out-of-gas condition to be occurring in step S1508 shown in FIG. 28, the ECU 20 allows the connection channel 75 to open through the on-off valve portion 76 in step S1521 to transfer fuel from the reservoir tank 73 into the main tank 72. Thus, the main tank 72 is refilled with fuel stored in the reservoir tank 73, and the fuel pump 30 discharges fuel to the outside. Consequently, even when the amount of fuel in the fuel tank 70 decreases, the operation of a vehicle can be continued. (Another Embodiment)<br>
In the several embodiments as described hereinbefore, a case of using one kind of fuel such as gasoline was described as an example. Therefore, in the ROM 22 of the control apparatus 10 or 110, a relationship between the battery voltage B and the reference rotation frequency NP0 of the brushless motor 32, and the upper limit value HPO+a and the lower limit value NPO-a are stored in a manner of being suitable for any one kind of fuel. By contrast, an example of adding biological fuel to usual fuel such as gasoline, for example, ethanol-mixed gasoline, is recently increased. Fuel other than gasoline such as ethanol is different from gasoline in properties such as viscosity and density. Moreover, properties of mixed fuel are changed depending on content of ethanol or the like. When properties of mixed fuel are changed, even when the battery voltage B is constant, the reference rotation frequency NP0 of the brushless motor 32 changes depending on the properties<br><br>
of the mixed fuel. For example, when the content of ethanol having high viscosity compared with gasoline increases, a load of the brushless motor 32 increases, and consequently even when the battery voltage B is constant, the reference rotation frequency NPO of the brushless motor 32 is reduced. Thus, the ECU 20 may correct the relationship between the battery voltage B and the reference rotation frequency NPO of the brushless motor 32, the relationship being stored in the ROM 22 of the control apparatus 10 or 110, depending on the kind of fuel. That is, the ECU 20 serves as correction means for correcting the relationship between the battery voltage B and the reference rotation frequency NPO depending on the kind of fuel.<br>
In the case of correcting the relationship, the ECU 20 applies a specific voltage from the battery 14 to the brushless motor 32 before abnormality detection. Then, the ECU 20 estimates concentration of ethanol and the like contained in fuel from a relationship between the particular voltage and a rotation frequency of the brushless motor 32. As described above, as concentration of fuel having higher viscosity or density increases, when the battery voltage B is constant, the reference rotation frequency NPO of the brushless motor 32 decreases. The ECU 20 estimates the concentration of ethanol and the like contained in the fuel from such change in relationship. Then, the ECU 20 corrects the reference rotation frequency NPO stored in the ROM 22.<br>
As above, the relationship between the battery voltage B and the reference rotation frequency NPO of the brushless motor 32 is corrected depending on fuel, thereby abnormality in the brushless motor 32 and the fuel pump 30 can be early and securely detected irrespectively of a kind of fuel.<br>
In the second embodiment of the control apparatus for the fuel pump, description was made on a case that when abnormality was detected in the<br><br>
brushless motor 32 of the fuel pump 30, or out-of-gas was detected, warning by warning means or transfer of fuel in the fuel tank 70 was taken for security, as an example. However, when the ECU 20 detects an abnormality in the brushless motor 32 of the fuel pump 30 in the second embodiment of the control apparatus for the fuel pump, the following kinds of control can be performed as in the first embodiment of the control apparatus for the fuel pump. That is, restarting the fuel pump 30, repeating normal rotation and reverse rotation, or changing an injection rate or ignition timing of fuel in accordance with reduction in discharge pressure of fuel accompanying restart or the like may be performed.<br>
The above processings such as calculations and determinations are not limited being executed by the ECU 20. The control unit may have various structures including the ECU 20 shown as an example. The configurations of devices such as the ROM 22 and RAM 23 are examples. The data and information may be stored in any devices including or other than the ROM 22 and RAM 23, as appropriate. Combination and configuration of means are not limited to the above examples.<br>
The above structures of the embodiments can be combined as appropriate.<br>
It should be appreciated that while the processes of the embodiments of the present invention have been described herein as including a specific sequence of steps, further alternative embodiments including various other sequences of these steps and/or additional steps not disclosed herein are intended to be within the steps of the present invention.<br>
Various modifications and alternations may be diversely made to the above embodiments without departing from the spirit of the present invention.<br><br><br><br>
Claims:<br>
1.	A control apparatus for a fuel pump (30) to pump fuel from a fuel<br>
tank (70), the fuel pump (30) adapted to driven using a brushless motor (32)<br>
rotated at a rotation frequency corresponding to a voltage applied from a power<br>
supply (14), the control apparatus comprising:<br>
storage means (22) for storing a relationship between the voltage of the power supply (14) and the rotation frequency of the brushless motor (32);<br>
voltage detection means (24) for detecting the voltage of the power supply (14);<br>
rotation frequency detection means (13) for detecting the rotation frequency of the brushless motor (32); and<br>
abnormality determination means (11, 20) for determining whether the rotation frequency detected by the rotation frequency detection means (13) and the voltage detected by the voltage detection means (24) are within a predetermined range stored in the storage means (22),<br>
wherein the abnormality determination means (11, 20) determines the fuel pump (30) to be abnormal when the rotation frequency and the voltage are out of the predetermined range.<br>
2.	The control apparatus according to claim 1, further comprising:<br>
restart means (20) for temporarily stopping the brushless motor (32)<br>
and   then   restarting   the   brushless   motor   (32)   when   the   abnormality determination means (11, 20) determines the fuel pump (30) to be abnormal.<br>
3.	The control apparatus according to claim 2, further comprising:<br>
property adjusting means (20, 62, 63) for adjusting at least one of an<br>
injection rate of fuel and ignition timing in an internal combustion engine<br><br>
supplied with fuel from the fuel tank (70) when the fuel pump (30) stops.<br>
4.	A control apparatus for a fuel pump (30) to pump fuel from a fuel<br>
tank (70), the fuel pump (30) adapted to driven using a brushless motor (32)<br>
rotated at a rotation frequency corresponding to a voltage applied from a power<br>
supply (14), the control apparatus comprising:<br>
storage means (22) for storing a relationship between the voltage of the power supply (14) and the rotation frequency of the brushless motor (32);<br>
voltage detection means (24) for detecting the voltage of the power supply (14);<br>
rotation frequency detection means (13) for detecting the rotation frequency of the brushless motor (32);<br>
abnormality determination means (11, 20) for determining whether the rotation frequency detected by the rotation frequency detection means (13) and the voltage detected by the voltage detection means (24) are within a predetermined range stored in the storage means (22); and<br>
restart means (20) for temporarily stopping the brushless motor (32) and then restarting the brushless motor (32) when the abnormality determination means (11, 20) determines the fuel pump (30) to be abnormal in a condition where the rotation frequency and the voltage are out of the predetermined range.<br>
5.	A control apparatus for a fuel pump (30) to pump fuel from a fuel<br>
tank (70), the fuel pump (30) adapted to driven using a brushless motor (32)<br>
rotated at a rotation frequency corresponding to a voltage applied from a power<br>
supply (14), the control apparatus comprising:<br>
storage means (22) for storing a relationship between the voltage of<br><br>
the power supply (14) and the rotation frequency of the brushless motor (32);<br>
voltage detection means (24) for detecting the voltage of the power supply (14);<br>
rotation frequency detection means (13) for detecting the rotation frequency of the brushless motor (32);<br>
abnormality determination means (11, 20) for determining whether the rotation frequency detected by the rotation frequency detection means (13) and the voltage detected by the voltage detection means (24) are within a predetermined range stored in the storage means (22); and<br>
property adjusting means (20, 62, 63) for adjusting at least one of an injection rate of fuel and ignition timing in an internal combustion engine supplied with fuel from the fuel tank (70) when the abnormality determination means (11, 20) determines the fuel pump (30) to be abnormal in a condition where the rotation frequency and the voltage are out of the predetermined range.<br>
6. A control apparatus for a fuel pump (30) to pump fuel from a fuel tank (70), the fuel pump (30) adapted to driven using a brushless motor (32) rotated at a rotation frequency corresponding to a voltage applied from a power supply (14), the control apparatus comprising:<br>
storage means (22) for storing a relationship between the voltage of the power supply (14) and the rotation frequency of the brushless motor (32);<br>
voltage detection means (24) for detecting the voltage of the power supply (14);<br>
rotation frequency detection means (13) for detecting the rotation frequency of the brushless motor (32);<br>
abnormality determination means (11, 20) for determining whether the<br><br>
rotation frequency detected by the rotation frequency detection means (13) and the voltage detected by the voltage detection means (24) are within a predetermined range stored in the storage means (22);<br>
restart means (20) for temporarily stopping the brushless motor (32) and then restarting the brushless motor (32) when the abnormality determination means (11, 20) determines the fuel pump (30) to be abnormal in a condition where the rotation frequency and the voltage are out of the predetermined range; and<br>
property adjusting means (20, 62, 63) for adjusting at least one of an injection rate of fuel and ignition timing in an internal combustion engine supplied with fuel from the fuel tank (70) when the brushless motor (32) stops.<br>
7.	The control apparatus according to claim 3, 5 or 6, wherein the property adjusting means (20, 62, 63) increases an injection period of fuel injected into the internal combustion engine when the brushless motor (32) stops.<br>
8.	The control apparatus according to claim 7, wherein the property adjusting means (20, 62, 63) increases the injection period of fuel injected into the internal combustion engine, correspondingly to increase in a stop period of the brushless motor (32).<br>
9.	The control apparatus according to claim 3, 5 or 6, wherein the property adjusting means (20, 62, 63) increases the injection rate of fuel injected into the internal combustion engine when the brushless motor (32) stops.<br><br>
10.	The control apparatus according to claim 9, wherein the property adjusting means (20, 62, 63) increases the injection rate of fuel injected into the internal combustion engine, correspondingly to increase in a stop period of the brushless motor (32).<br>
11.	The control apparatus according to claim 3, 5 or 6, wherein the property adjusting means (20, 62, 63) corrects the ignition timing to an advance side in the internal combustion engine when the brushless motor (32) stops.<br>
12.	The control apparatus according to claim 11, wherein the<br>
property adjusting means (20, 62, 63) increases a correction rate of the ignition<br>
timing to the advance side, correspondingly to increase in a stop period of the<br>
brushless motor (32).<br>
13.	A control apparatus for a fuel pump (30) to pump fuel from a fuel<br>
tank (70), the fuel pump (30) adapted to driven using a brushless motor (32)<br>
rotated at a rotation frequency corresponding to a voltage applied from a power<br>
supply (14), the control apparatus comprising:<br>
storage means (22) for storing a relationship between the voltage of the power supply (14) and the rotation frequency of the brushless motor (32);<br>
voltage detection means (24) for detecting the voltage of the power supply (14),<br>
rotation frequency detection means (13) for detecting the rotation frequency of the brushless motor (32); and<br>
abnormality determination means (11, 20) for determining whether the rotation frequency detected by the rotation frequency detection means (13) and the voltage detected by the voltage detection  means  (24)  are within  a<br><br>
predetermined range stored in the storage means (22),<br>
wherein the abnormality determination means (11, 20) determines whether abnormality occurs in the fuel pump (30) based on a quantity of fuel remaining in the fuel tank (70) accommodating the fuel pump (30), when the rotation frequency and the voltage are out of the predetermined range.<br>
14.	The control apparatus according to claim 13, further comprising;<br>
fuel remaining-quantity detection means for detecting the quantity of<br>
fuel remaining in the fuel tank (70),<br>
wherein the abnormality determination means (11, 20) determines an out-of-gas condition to occur when the quantity of fuel remaining in the fuel tank (70) detected by the fuel remaining-quantity detection means is less than a predetermined value.<br>
15.	The control apparatus according to claim 13 or 14,<br>
wherein the abnormality determination means (11, 20) determines abnormality in the fuel pump (30) based on the number of conditions where the rotation frequency of the brushless motor (32) and the voltage of the power supply (14) are out of the predetermined range stored in the storage means (22) within a prestored period.<br>
16.	The control apparatus according to claim 15, wherein the<br>
abnormality determination means (11, 20) determines an out-of-gas condition to<br>
occur when the number of conditions is greater than a predetermined value.<br>
17.	The control apparatus according to claim 14, further comprising:<br>
warning   means   for   producing   warning   when   the   abnormality<br><br>
determination means (11, 20) determines the out-of-gas condition to occur.<br>
18.	The control apparatus according to claim 14,<br>
wherein the fuel tank (70) has a main tank (72), which accommodates the fuel pump (30), and a reservoir tank (73) partitioned from the main tank (72),<br>
the fuel tank (70) further includes on-off valve means (76) for opening and closing a connection channel (75) for connecting the reservoir tank (73) to the main tank (72), and<br>
the abnormality determination means (11, 20) opens the connection channel (75) using the on-off valve means (76) to supply fuel stored in the reservoir tank (73) into the main tank (72) when the abnormality determination means (11, 20) determines the out-of-gas condition to occur.<br>
19.	The control apparatus according to claim 13, further comprising:<br>
restart means (20) for temporarily stopping the brushless motor (32)<br>
and   then   restarting   the   brushless   motor   (32)   when   the   abnormality determination means (11, 20) determines the fuel pump (30) to be abnormal.<br>
20.	The control apparatus according to claim 19, further comprising:<br>
property adjusting means (20, 62, 63) for adjusting at least one of an<br>
injection rate of fuel and ignition timing in an internal combustion engine supplied with fuel from the fuel tank (70), when the fuel pump (30) stops.<br>
21.	The control apparatus according to any one of claims 1 to 6, 13,<br>
further comprising:<br>
correction means (20) for correcting the relationship between the voltage of the power supply (14) and the rotation frequency of the brushless<br><br>
motor (32), the relationship being stored in the storage means (22), depending on properties of fuel.<br>
22.	A method for determining an abnormality in a fuel pump (30),<br>
the method comprising:<br>
applying a voltage from a power supply (14) to a brushless motor (32) to rotate the brushless motor (32) at a rotation frequency corresponding to the voltage, thereby driving the fuel pump (30);<br>
detecting a voltage of the power supply (14);<br>
detecting a rotation frequency of the brushless motor (32); and<br>
determining the fuel pump (30) to be abnormal when the detected rotation frequency and the detected voltage are out of a predetermined range prestored in a relationship between the voltage of the power supply (14) and the rotation frequency of the brushless motor (32).<br>
23.	A method for controlling a fuel pump (30), the method<br>
comprising:<br>
applying a voltage from a power supply (14) to a brushless motor (32) to rotate the brushless motor (32) at a rotation frequency corresponding to the voltage, thereby driving the fuel pump (30);<br>
detecting a voltage of the power supply (14);<br>
detecting a rotation frequency of the brushless motor (32); and<br>
temporarily stopping the brushless motor (32) and then restarting the brushless motor (32) when the fuel pump (30) is determined to be abnormal in a condition where the detected rotation frequency and the detected voltage are out of a predetermined range prestored in a relationship between the voltage of the power supply (14) and the rotation frequency of the brushless motor (32).<br><br>
24.	A method for controlling a fuel pump (30), the method<br>
comprising:<br>
applying a voltage from a power supply (14) to a brushless motor (32) to rotate the brushless motor (32) at a rotation frequency corresponding to the voltage, thereby driving the fuel pump (30);<br>
detecting a voltage of the power supply (14);<br>
detecting a rotation frequency of the brushless motor (32); and<br>
adjusting at least one of an injection rate of fuel and ignition timing in an internal combustion engine supplied with fuel when the fuel pump (30) is determined to be abnormal in a condition where the detected rotation frequency and the detected voltage are out of a predetermined range prestored in a relationship between the voltage of the power supply (14) and the rotation frequency of the brushless motor (32).<br>
25.	A method for controlling a fuel pump (30), the method<br>
comprising:<br>
applying a voltage from a power supply (14) to a brushless motor (32) to rotate the brushless motor (32) at a rotation frequency corresponding to the voltage, thereby driving the fuel pump (30);<br>
detecting a voltage of the power supply (14);<br>
detecting a rotation frequency of the brushless motor (32);<br>
temporarily stopping the brushless motor (32) and then restarting the brushless motor (32) when the fuel pump (30) is determined to be abnormal in a condition where the detected rotation frequency and the detected voltage are out of a predetermined range prestored in a relationship between the voltage of the power supply (14) and the rotation frequency of the brushless motor (32);<br><br>
and<br>
adjusting at least one of an injection rate of fuel and ignition timing in an internal combustion engine supplied with fuel from the fuel tank (70) in the temporarily stopping of the brushless motor (32).<br>
26. A method for determining an abnormality in a fuel pump (30), the method comprising:<br>
applying a voltage from a power supply (14) to a brushless motor (32) to rotate the brushless motor (32) at a rotation frequency corresponding to the voltage, thereby driving the fuel pump (30);<br>
detecting a voltage of the power supply (14);<br>
detecting a rotation frequency of the brushless motor (32); and<br>
determining whether an abnormality occurs in the fuel pump (30) based on a quantity of fuel remaining in the fuel tank (70) accommodating the fuel pump (30), in a condition where:<br>
the detected rotation frequency and the detected voltage are out of a predetermined range prestored in a relationship between the voltage of the power supply (14) and the rotation frequency of the brushless motor (32).<br><br><br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTQ2Ni1DSEUtMjAwNyAgICBBTUVOREVEIENMQUlNUyAgIDEyLTA4LTIwMTEucGRm" target="_blank" style="word-wrap:break-word;">1466-CHE-2007    AMENDED CLAIMS   12-08-2011.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTQ2Ni1DSEUtMjAwNyAgICBFTkdMSVNIIFRSQU5TTEFUSU9OICAgMTItMDgtMjAxMS5wZGY=" target="_blank" style="word-wrap:break-word;">1466-CHE-2007    ENGLISH TRANSLATION   12-08-2011.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTQ2Ni1DSEUtMjAwNyAgICBFWEFNSU5BVElPTiBSRVBPUlQgUkVQTFkgUkVDRUlWRUQgIDEyLTA4LTIwMTEucGRm" target="_blank" style="word-wrap:break-word;">1466-CHE-2007    EXAMINATION REPORT REPLY RECEIVED  12-08-2011.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTQ2Ni1jaGUtMjAwNyAgICBmb3JtLTMgICAxMi0wOC0yMDExLnBkZg==" target="_blank" style="word-wrap:break-word;">1466-che-2007    form-3   12-08-2011.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTQ2Ni1DSEUtMjAwNyAgICBQT1dFUiBPRiBBVFRPUk5FWSAgIDEyLTA4LTIwMTEucGRm" target="_blank" style="word-wrap:break-word;">1466-CHE-2007    POWER OF ATTORNEY   12-08-2011.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTQ2Ni1DSEUtMjAwNyAgIENPUlJFU1BPTkRFTkNFIE9USEVSUyAgMTMtMDgtMjAxMi5wZGY=" target="_blank" style="word-wrap:break-word;">1466-CHE-2007   CORRESPONDENCE OTHERS  13-08-2012.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTQ2Ni1DSEUtMjAwNyAgQ09SUkVTUE9OREVOQ0UgT1RIRVJTICAxMy0wNi0yMDEyLnBkZg==" target="_blank" style="word-wrap:break-word;">1466-CHE-2007  CORRESPONDENCE OTHERS  13-06-2012.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTQ2Ni1jaGUtMjAwNy1hYnN0cmFjdC5wZGY=" target="_blank" style="word-wrap:break-word;">1466-che-2007-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTQ2Ni1jaGUtMjAwNy1jbGFpbXMucGRm" target="_blank" style="word-wrap:break-word;">1466-che-2007-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTQ2Ni1jaGUtMjAwNy1jb3JyZXNwb25kbmVjZS1vdGhlcnMucGRm" target="_blank" style="word-wrap:break-word;">1466-che-2007-correspondnece-others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTQ2Ni1jaGUtMjAwNy1kZXNjcmlwdGlvbihjb21wbGV0ZSkucGRm" target="_blank" style="word-wrap:break-word;">1466-che-2007-description(complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTQ2Ni1jaGUtMjAwNy1kcmF3aW5ncy5wZGY=" target="_blank" style="word-wrap:break-word;">1466-che-2007-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTQ2Ni1jaGUtMjAwNy1mb3JtIDEucGRm" target="_blank" style="word-wrap:break-word;">1466-che-2007-form 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTQ2Ni1jaGUtMjAwNy1mb3JtIDE4LnBkZg==" target="_blank" style="word-wrap:break-word;">1466-che-2007-form 18.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTQ2Ni1jaGUtMjAwNy1mb3JtIDMucGRm" target="_blank" style="word-wrap:break-word;">1466-che-2007-form 3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTQ2Ni1jaGUtMjAwNy1mb3JtIDUucGRm" target="_blank" style="word-wrap:break-word;">1466-che-2007-form 5.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="256733-a-method-for-providing-thermal-compensation-for-a-coriolis-flow-meter.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="256735-method-for-isolating-progenitor-cells-from-mammary-secretion.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>256734</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>1466/CHE/2007</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>30/2013</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>26-Jul-2013</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>23-Jul-2013</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>06-Jul-2007</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>DENSO CORPORATION</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>1-1, SHOWA-CHO KARIYA-CITY AICHI-PREF 448-8661</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>SHINODA, AKIRA</td>
											<td>C/O DENSO CORPORATION 1-1, SHOWA-CHO KARIYA-CITY AICHI-PREF 448-8661</td>
										</tr>
										<tr>
											<td>2</td>
											<td>KURODA, TAKAHIKO</td>
											<td>C/O DENSO CORPORATION 1-1, SHOWA-CHO KARIYA-CITY AICHI-PREF 448-8661</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H02P6/00</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>N/A</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td></td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>2006-188869</td>
									<td>2006-07-10</td>
								    <td>Japan</td>
								</tr>
								<tr>
									<td>2</td>
									<td>2007-124335</td>
									<td>2007-05-09</td>
								    <td>Japan</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/256734-control-apparatus-for-fuel-pump-method-for-determining-abnormality-and-controlling-the-fuel-pump by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 09:13:39 GMT -->
</html>
