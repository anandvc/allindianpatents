<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/268259-an-apparatus-for-performing-equalization by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 06:50:59 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 268259:&quot;AN APPARATUS FOR PERFORMING EQUALIZATION&quot;</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">&quot;AN APPARATUS FOR PERFORMING EQUALIZATION&quot;</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>Techniques for performing equalization at a receiver are described. In an aspect, equalization is performed by sub-sampling an over-sampled input signal to obtain multiple sub-sampled signals. An over-sampled channel impulse response estimate is derived and sub-sampled to obtain multiple sub-sampled channel impulse response estimates. At least one set of equalizer coefficients is derived based on at least one sub-sampled channel impulse response estimate. At least one sub-sampled signal is filtered with the at least one set of equalizer coefficients to obtain at least one output signal. One sub-sampled signal (e.g., with largest energy) may be selected and equalized based on a set of equalizer coefficients derived from an associated sub-sampled channel impulse response estimate. Alternatively, the multiple sub-sampled signals may be equalized based on multiple sets of equalizer coefficients, which may be derived separately or jointly. The equalizer coefficients may be derived in the time domain or frequency domain.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>EQUALIZER FOR A RECEIVER<br>
IN A WIRELESS COMMUNICATION SYSTEM<br>
[0001] The present application claims priority to provisional U.S. Application Serial No. 60/737,459, entitled "FFT Based Methods for Equalization of WCDMA Downlink Signals," filed November 15, 2005, assigned to the assignee hereof and incorporated herein by reference.<br>
BACKGROUND<br>
I.        Field<br>
[0002] ' The present disclosure relates generally to communication, and more specifically to techniques for receiving a signal in a wireless communication system.<br>
H.       Background<br>
[0003] Wireless communication systems are widely deployed to provide various communication services such as voice, packet data, video, broadcast, messaging, and so on. These systems may be multiple-access systems capable of supporting communication for multiple users by sharing the available system resources. Examples of such multiple-access systems include Code Division Multiple Access (CDMA) systems, Time Division Multiple Access (TDMA) systems, and Frequency Division Multiple Access (FDMA) systems.<br>
[0004] A wireless device (e.g., a cellular phone) in a CDMA system typically employs a rake receiver. The rake receiver includes one or more searcher elements and multiple demodulation elements, which are commonly referred to as searchers and fingers, respectively. Due to the relatively wide bandwidth of a CDMA signal, a wireless communication channel is assumed to he composed of a finite number of resolvable signal paths, or multipaths. Each multipath is characterized by a particular complex gain and a particular time delay. The searcher(s) search for strong multipaths in a received signal, and fingers are assigned to the strongest multipaths found by the searcher(s). Each finger processes its assigned multipath and provides symbol estimates for that multipath. The symbol estimates from all assigned fingers are then combined to<br>
obtain final symbol estimates. The rake receiver can provide acceptable performance for a.CDMA system operating at low signal-to-interference-and-noise ratios (SNRs). [0005] The rake receiver has a number of shortcomings. First, the rake receiver is not able to effectively handle multipaths with time delays separated by less than one chip period, which is often referred to as a "fat-path" scenario. Second, the rake receiver typically provides suboptimal performance at high geometry, which corresponds to high SNRs. Third, complicated circuitry and control functions are normally needed to search the received signal to find strong multipaths, to assign fingers to newly found multipaths, and to de-assign fingers from vanishing multipaths. [0006] There is therefore a need in the art for a receiver that can ameliorate the shortcomings of a rake receiver.<br>
SUMMARY<br>
[0007] Techniques for performing equalization at a receiver (e.g., a wireless device or a base station) in a wireless communication system are described herein. In one aspect, equalization is performed by sub-sampling an over-sampled input signal to obtain multiple sub-sampled signals. An over-sampled channel estimate (e.g., an over-sampled channel impulse response estimate) may be derived and sub-sampled to obtain multiple sub-sampled channel estimates. For example, the input signal and the channel estimate may be over-sampled at multiple times chip rate, and the sub-sampled signals and the sub-sampled channel estimates may be at chip rate and may correspond to different sampling time instants. At least one set of equalizer coefficients is derived based on at least one sub-sampled channel estimate. At least one sub-sampled signal is then filtered with the at least one set of equalizer coefficients to obtain at least one output signal. In one embodiment, one sub-sampled signal (e.g., with the largest energy) is selected for equalization and is filtered with a set of equalizer coefficients derived based on an associated, sub-sampled channel estimate. In other embodiments, the multiple sub-sampled signals are equalized based on multiple sets of equalizer coefficients, which may be derived separately or jointly based on the multiple sub-sampled channel estimates.<br>
[0008] In another aspect, equalization is performed on an over-sampled input signal based on equalizer coefficients derived in the frequency domain.   A channel impulse<br>
response estimate is derived and transformed to obtain a channel frequency response estimate. Time-domain covariance values for input samples may be determined and transformed to obtain frequency-domain covariance values. Frequency-domain equalizer coefficients are derived based on the channel frequency response estimate and the frequency-domain covariance values. The frequency-domain equalizer coefficients are transformed to obtain time-domain equalizer coefficients, which are used to filter the input samples.<br>
[0009] Various aspects and embodiments of the invention are described in further detail below.<br>
BRIEF DESCRIPTION OF THE DRAWINGS<br>
[0010]        The features and nature of the present invention will become more apparent<br>
from the detailed description set forth below when taken in conjunction with the<br>
drawings in which like reference characters identify correspondingly throughout.<br>
[0011]        FIG. 1 shows a transmission in a wireless, communication system.<br>
[0012]       FIG. 2 shows a block diagram of a base station and a wireless device.<br>
[0013]       FIG. 3 shows a block diagram of a CDMA modulator at the base station.<br>
[0014]        FIG. 4 shows a block diagram of an equalizer at the wireless device.<br>
[0015]        FIGS. 5A and 5B show a sub-sampler and sub-sampling, respectively.<br>
[0016]       FIG. 6 shows a computation unit for selective equalization.<br>
[0017]       FIG. 7 shows a process for performing selective equalization.<br>
[0018]       FIGS. 8A and 8B show computation units for separate equalization with<br>
equal and weighted combining, respectively.<br>
[0019]        FIG. 9 shows a process for performing separate equalization with combining.<br>
[0020]        FIG. 10 shows a computation unit for joint equalization.<br>
[0021]        FIG. 11 shows a process for performing joint equalization.<br>
[0022]        FIG. 12 shows a process for performing equalization with sub-sampling.<br>
[0023]        FIG.   13  shows  a process for performing  equalization with coefficients<br>
derived in the frequency domain<br>
[0024]        FIG. 14 shows a base station with multiple transmit antennas.<br>
[0025]        FIG. 15 shows a wireless device with multiple receive antennas.<br>
[0026]        FIG. 16 shows a base station using space-time transmit diversity (STTD).<br>
DETAILED DESCRIPTION<br>
[0027] The word "exemplary" is used herein to mean "serving as an example, instance, or illustration." Any embodiment or design described herein as "exemplary" is not necessarily to be construed as preferred or advantageous over other embodiments or designs.<br>
[002S] FIG. 1 shows an exemplary transmission in a wireless communication system. For simplicity, FIG. 1 shows only one base station 110 and one wireless device 120. A base station is generally a fixed station that communicates with the wireless devices and may also be called a Node B, an access point, or some other terminology. A wireless device may be fixed or mobile and may also be called a user equipment (UE), a mobile station, a user terminal, a subscriber unit, or some other terminology. A wireless device may be a cellular phone, a personal digital assistant (PDA), a wireless modem card, or some other device or apparatus.<br>
[0029] Base station 110 transmits a radio frequency (RF) signal to wireless device 120. This RF signal may reach wireless device 120 via one or more signal paths, which may include a direct path and/oT reflected paths. The reflected paths are created by reflections of radio waves due to obstructions (e.g., buildings, trees, vehicles, and other structures) in the wireless environment. Wireless device 120 may receive multiple instances or copies of the transmitted RF signal. Each received signal instance is obtained via a different signal path and has a particular complex gain and a particular time delay determined by that signal path. The received RF signal at wireless device 120 is a superposition of all received signal instances at the wireless device. Wireless device 120 may also receive interfering transmissions from other transmitting stations. The interfering transmissions are shown by dashed lines in FIG. 1. [0030] The equalization techniques described herein may be used for various communication systems such as CDMA, TDMA, FDMA, orthogonal frequency division multiple access (OFDMA), and single-carrier FDMA (SC-FDMA) systems. A CDMA system may implement one or more radio access technologies (RATs) such as cdma2000, Wideband-CDMA (W-CDMA), and so on. cdma2000 covers IS-2000, IS-856, and 1S-95 standards. A TDMA system may implement a RAT such as Global System for Mobile Communications (GSM).   These various RATs and standards are<br>
known in the art. W-CDMA and GSM are described in documents from a consortium named "3rd Generation Partnership Project" (3GPP). cdma2000 is described in documents from a consortium named "3rd Generation Partnership Project 2" (3GPP2). 3GPP and 3GPP2 documents are publicly available. An OFDMA system transmits modulation symbols in the frequency domain on orthogonal frequency subcarriers using OFDM. An SC-FDMA system transmits modulation symbols in the time domain on orthogonal frequency subcarriers.<br>
[0031] The equalization techniques described herein may also be used for a wireless device as well as a base station. For clarity, these techniques are described below for a wireless device in a CDMA system, which may be a W-CDMA system or a cdma2000 system. Certain portions of the description are for a W-CDMA system. [0032] FIG. 2 shows a block diagram of base station 110 and wireless device 120. At base station 110, a transmit (TX) data processor 210 receives traffic data for the wireless devices being served, processes (e.g., encodes, interleaves, and symbol maps) the traffic data to generate data symbols, and provides the data symbols to a CDMA modulator 220. As used herein, a data symbol is a modulation symbol for data, a pilot symbol is a modulation symbol for pilot, a modulation symbol is a complex value for a point in a signal constellation (e.g., for M-PSK, M-QAM, and so on), a symbol is generally a complex value, and pilot is data that is known a priori by both the base station and the wireless device. CDMA modulator 220 processes the data symbols and pilot symbols as described below and provides output chips to a transmitter (TMTR) 230. Transmitter 230 processes (e.g., converts to analog, amplifies, filters, and frequency upconverts) the output chips and generates an RF signal, which is transmitted from an antenna 232.<br>
[0033] At wireless device 120, an antenna 252 receives the transmitted RF signal via direct and/or reflected paths and provides a received RF signal to a receiver (RCVR) 254. Receiver 254 processes (e.g., filters, amplifies, frequency downconverts, and digitizes) the received RF signal to obtain received samples. Receiver 254 may also perform pre-processing on the received samples and provides input samples to an equalizer 260. The pre-processing may include, e.g., automatic gain control (AGC), frequency correction, digital filtering, sample rate conversion, and so on. Equalizer 260 performs equalization on the input samples as described below and provides output samples.    A CDMA demodulator (Demod) 270 processes the output samples in a<br>
manner complementary to the processing by CDMA modulator 220 and provides symbol estimates, which are estimates of the data symbols sent by base station 110 to wireless device 120. A receive (RX) data processor 280 processes (e.g., symbol demaps, deinterleaves, and decodes) the symbol estimates and provides decoded data. In general, the processing by CDMA demodulator 270 and RX data processor 280 is complementary to the processing by CDMA modulator 220 and TX data processor 210, respectively, at base station 110.<br>
[0034] Controllers/processors 240 and 290 direct operation of various processing units at base station 110 and wireless device 120, respectively. Memories 242 and 292 store data and program codes for base station 110 and wireless device 120, respectively. [00351 For CDMA, multiple orthogonal channels may be obtained with different orthogonal codes. For example, multiple orthogonal physical channels are obtained with different orthogonal variable spreading factor (OVSF) codes in W-CDMA, and multiple orthogonal traffic channels are obtained with different Walsh codes in cdma2000. The orthogonal channels may be used to send different types of data (e.g., traffic data, control data, broadcast data, pilot, and so on) and/or traffic data for different wireless devices.<br>
[0036]	FIG. 3 shows a block diagram of CDMA modulator 220 at base station 110.<br>
For clarity, the following description is for W-CDMA. CDMA modulator 220 includes a physical channel processor 310 for each physical channel used for traffic data and a pilot channel processor 320 for pilot. Within processor 310 for physical channel i used for wireless device 120, a spreader 312 spreads data symbols with an OVSF code o,-(«)<br>
for physical channel i and provides data chips. Spreader 312 repeats each data symbol multiple times to generate N replicated symbols, where N is the length of OVSF code o,(n) . Spreader 312 then multiplies the N replicated symbols with the N chips of OVSF code o,(n) to generate N data chips for the data symbol. A scrambler 314 multiplies the data chips with a scrambling sequence s (n) for base station 110.   A<br>
multiplier 316 scales the output of scrambler 314 and provides output chips x(n) for physical channel i.<br>
[0037] Within pilot channel processor 320, a spreader 322 spreads pilot symbols with an OVSF code op (n) for pilot, which is a sequence of all zeros, and provides pilot<br><br>
chips. A scrambler 324 multiplies the pilot chips with the scrambling sequence sp {n) .<br>
A multiplier 326 scales the output of scrambler 324 and provides output chips p(n) for the pilot channel. A summer 330 sums the output chips for all physical channels and provides output chips z(n) for base station 110. The chip rate is 3.84 mega-chips/second (Mcps) for W-CDMA and is 1.2288 Mcps for cdma2000. [0038] At wireless device 120, the time-domain input samples from receiver 254 may be expressed, as:<br>
Eq (1)(Equation Removed)<br>
where x(n) is the signal component of interest for wireless device 120,<br>
h(n) is an impulse response of the wireless channel between base station 110 and<br>
wireless device 120, w(n) is the total noise and interference observed by the desired signal x(n), y(n) is the input samples at wireless device 120, and ® denotes a convolution.<br>
In equation (1), w(«) includes signal components for the other physical channels from base station 110, noise from various sources, and interference from other transmitting stations. For simplicity, win) is assumed to be additive white Gaussian noise (AWGN) with zero mean and a variance of ex2. [0039]        Equation (1) may be expressed in the frequency domain as follo	Eq(2) (Equation Removed)<br>
where Y()), H(), X() and W() are frequency-domain representations of y(ri), h(n), x(n) and w(n), respectively. A frequency-domain representation may be obtained by taking a discrete Fourier transform (DFT) or a fast Fourier transform (FFT) of a time-domain representation. A time-domain representation may be obtained by taking an inverse discrete Fourier transform (TDFT) or an inverse fast Fourier transform (IFFT) of a frequency-domain representation. For simplicity, the desired signal X() is assumed to be white with unit power. The whiteness assumption is reasonable because of the scrambling with the pseudo-random scrambling sequence sp (n) at base station 110.<br>
[0040]       An estimate of the desired signal X(co) may be obtained based on a linear minimum mean square error (LMMSE) technique, as follows:<br>
Eq (3) (Equation Removed)<br>
where C(<z>) is an LMMSE filter response, X(a&gt;) is an estimate of X(), and " + "<br>
denotes a complex conjugate.     As shown in equation (3),  when er2 =0 for high geometry, the LMMSE filter response becomes C() =1/ H() , and the LMMSE filter<br>
inverts the channel. This results in elimination of multipaths. When a2 is large for low geometry, the LMMSE filter response becomes C() — H"() / cr2, and the LMMSE<br>
filter performs matched filtering and is equivalent to a rake receiver. [0041]        The LMMSE filtering in (3) may also be performed in the time domain by convolving the input samples with a finite impulse response (FIR) filter having a frequency response of C(), as follows:<br>
Eq (4) (Equation Removed)<br>
where c(n) and x(n) are time-domain representations of C(co) and X(a&gt;) , respectively, and. 2L is the length of the FIR filter.<br>
[0042] The received signal may be sampled at multiple (M) times the chip rate to obtain an over-sampled signal with M input samples for M sampling time instants in each chip period, where in general M &gt; 1. The M sampling time instants may be evenly spaced apart across a chip period and separated by Tc/M, where Tc is one chip period. The over-sampled signal may be demultiplexed or sub-sampled, to obtain M sub-sampled signals. Each sub-sampled signal contains input samples for one sampling time instant. The input samples for each sub-sampled signal are separated by one chip period. The quality of the sampled data is affected by the sampling time instant. Hence, the M sub-sampled signals may have different qualities and may be processed as described below to obtain an improved estimate of the transmitted, signal. [0043] The over-sampled signal is not stationary, but the M sub-sampled signals are stationary, which means that the statistics of the sub-sampled signals do not change if<br>
the origin or start of these signals is shifted. This stationary property of the sub-sampled signals may be exploited to derive equalizer coefficients that can provide a good estimate of the transmitted signal. The M sub-sampled signals may be viewed as M diversity branches, or simply, branches. Each branch corresponds to a different sampling time instant. The equalization techniques described herein may be used with any amount of oversampling. For clarity, the equalization techniques are specifically described below for the case in which the received, signal is over-sampled at twice the chip rate (or Chipx2) to obtain input samples at Chipx2. Equalization may be performed on the Chipx2 input samples as described below.<br>
[0044] FIG. 4 shows a block diagram of an embodiment of equalizer 260 in FIG. 2. For this embodiment, the Chipx2 input samples y(n) are provided to a channel estimator 410 and a sub-sampler 414. Channel estimator 410 derives a channel impulse response estimate h(n) for the wireless channel between base station 110 and wireless device 120. The channel impulse response estimate h(n) is over-sampled and contains 2L channel taps that are separated by half chip period. A sub-sampler 412 demultiplexes the over-sampled channel taps h(n) into on-time channel taps h1(n) and late channel taps h2(n) for two sampling time instants. Similarly, sub-sampler 414 demultiplexes the Chipx2 input samples y(n) into on-time samples y1(n) and late samples y2(n) for the two sampling time instants. A covariance estimator 416 determines the covariance of the on-time and late samples as described below and provides covariance values.<br>
[0045] A computation unit 420 receives the on-time and late channel taps from sub-sampler 412 and the covariance values from estimator 416. Computation unit 420 derives equalizer coefficients c1(n) and c2(n) for the two sampling time instants based on the channel taps and the covariance values, as described below. A FIR filter 430 filters the on-time and late samples yi(n) and y2(n) with the equalizer coefficients C1(n) and C2(n) and provides output samples x(n) at chip rate (or Chipxl). [0046] FIG. 5A shows a block diagram of an embodiment of sub-sampler 414 in FTG. 4. Within sub-sampler 414, the Chipx2 input samples y(n) are provided to a delay unit 510 and a down-sampler 514. Delay unit 510 provides a delay of half chip period. A down-sampler 512 provides every other sample from delay unit 510 as the on-time samples yi(n).    Down-sampler 514 provides every other input samples as the late<br>
samples y2(n).    The on-time samples y1(n) and the late samplesy2(n) are for two sampling time instants or branches and comprise all of the Chipx2 input samples y(n). [0047]        FIG. 5B shows the on-time samples y1(n) and late samples y2(n) from sub-sampler 414.   The on-time samples y1(n) are offset by half chip period from, the late samples y2(n).<br>
[0048] Referring back to FIG. 4, channel estimator 410 may derive a channel impulse response estimate based on the pilot transmitted by base station 110. In an embodiment, the channel impulse response estimate h(n) may be derived as follows:<br>
Eq (5) (Equation Removed)<br>
where K is an accumulation length, which is an integer multiple of the length of the orthogonal code used for the pilot. The OVSF code for the pilot in W-CDMA has a length of 256 chips, and the Walsh code for the pilot in cdma2000 has a length of 128 chips. For equation (5), the channel tap at index n is obtained by descrambling the input samples with the scrambling sequence sp(n), despreading the descrambled samples with the pilot OVSF code op(n), and accumulating over K chip periods. The channel impulse response estimate may also be derived in other manners known in the art. For simplicity, the following description assumes no channel estimation error,  so that<br>
h(n) = h(n).<br>
[0049]        Sub-sampler 412 demultiplexes the 2L channel taps of the channel impulse<br>
response estimate h(n) into L on-time channel taps h1(n) and L late channel taps h2{n).<br>
Sub-sampler 412 may be implemented in the same manner as sub-sampler 414 in FIG.<br>
5A.  The on-time channel taps h1(n) represent the channel impulse response estimate for<br>
the on-time samples h1(n).   The late channel taps h2(n) represent the channel impulse<br>
response estimate for the late samples yi(n).<br>
[0050]       A Chipx2 system may be considered as having a single-input multiple-output<br>
(SIMO) channel. The on-time and late samples may then be expressed as:<br>
Eq(6) (Equation Removed)<br>
where w1(n) and w2(n) are the total noise and interference for the on-time and late samples, respectively. In general, h1(n) and y1(n) are jointly wide-sense stationary, which means that (1) the statistics of each sub-sampled signal is iadependent of any shift in time and (2) the joint statistics of y1(n) and y1(n) are also independent of time. Equation set (6) may be expressed in the frequency domain as follows:<br><br>
Eq(7) (Equation Removed) <br>
[0051] Various equalization schemes may be used for the on-time and late samples shown in equation sets (6) and (7). Table 1 lists some equalization schemes and a short description for each scheme. Each equalization scheme is described in detail below.<br>
Table 1<br>
(Table Removed)<br>
 [0052] For the first two equalization schemes in Table 1, equalization may be performed for a given branch based on an LMMSE filter derived for that branch. The LMMSE filter for each branch m may be expressed as:<br><br>
Eq(8) (Equation Removed) <br>
where Hm() is a DFT/FFT of hm(n), and<br>
Rmm() is a DFT/FFT of Rmm (r) , which is an auto-correlation of y1(n).<br>
[0053]        Covariance estimator 416 in FIG. 4 may estimate the covariance y1(n) and y1(n), as follows:<br><br>
Eq (9) (Equation Removed)<br>
where Rtj(t) denotes the covariance between yi(n) and yj(n), which is a time-shifted version of y1(n).  As used herein, "covariance" covers both auto-correlation of<br>
a given sub-sampled signal ym(n) and cross-correlation between two sub-sampled signals y1(n) and y2(n).  ^(T) may be derived, for pertinent values of i and j and may<br>
also be derived for a range of time offsets, e.g., r = — L/2 + 1, ..., L/2 — 1. For autocorrelation, at^O) is symmetric so that Rmm{-t)= Rmm(-t) . Hence, Rmm(r) may be derived for r — 0, ..., L/2-1. The covariance may also be estimated in other manners known in the art.<br>
[0054] FIG. 6 shows a block diagram of an equalizer coefficient computation unit 420a for the selective equalization scheme. Computation unit 420a is an embodiment of computation unit 420 in FIG. 4.<br>
[0055] Within unit 420a, an energy computation unit 610 receives the on-time and late channel taps h1(n) and h2(n) and computes the energy Em of the channel taps for each branch m, as follows:<br>
Eq(10) (Equation Removed)<br>
[0056] Unit 610 determines the best branch r as the branch with the largest energy, as follows:<br>
Eq(ll) (Equation Removed)<br>
where re{l, 2} .<br>
[0057] A selector 612 receives the on-time channel taps hr(n) and the late channel taps h2(n) and provides the channel taps hr(n) for the best branch r. An FFT unit 614 transforms the L channel taps hr(n) to the frequency domain with an L-point FFT and provides L channel gains Hr(), for  — 1,..., L, for the best branch r. Similarly, a selector 616 receives the covariance values R11(r) for the on-time samples and the covariance values R22(r) for the late samples and provides the covariance values Rrr„{f) for the best branch r.    An FFT unit 618 performs an L-point FFT on the<br>
covariance   values,  which  may  be   arranged   as   { R11(0) ,   ...,  R11(L/2 —1) ,   0, R11 (L/ 2 -1) , ..., R11(1) }, where a zero is inserted to obtain L values for the FFT. FFT unit 618 provides L frequency-domain covariance values Rrr(), for  = 1,..., L . [0058]        A   computation   unit   620   then   computes   frequency-domain   equalizer coefficients Cr() for the best branch r, as follows:<br>
Eq(12) (Equation Removed)<br>
Since Rrr() is in the denominator, a small vaLue for Rrr() results in a large value for Cr(). Unit 620 may condition Rrr() prior to computing for Cr{(). For example, unit 620 may determine the largest value of Rrr()  as M = max (Rrr()} , identify all<br>
m<br>
frequency bins co having small values of Rrr{), e.g., Rrr() 0.01 x M. [0059] An IFFT unit 622 performs an L-point IFFT on the L frequency-domain equalizer coefficients Cr() and provides L time-domain equalizer coefficients cr(n) for the best branch r. A mapper 624 maps the equalizer coefficients cr(n) for the best branch r to either branch 1 or 2 and provides zeroed-out equalizer coefficients for the other branch, as follows:<br>
Eq (13) (Equation Removed)<br>
 [0060] Referring back to FIG. 4, FIR filter 430 may filter the on-time and late samples based on the equalizer coefficients, as follows:<br>
Eq(14) (Equation Removed)<br>
All of the quantities in equation (14) are at the chip rate. For the selective equalization scheme, only equalizer coefficients c\.(n) or c2(n) are non-zero, and only the on-time or late samples are filtered to generate the output samples x(n).<br>
[0061] FIG. 7 shows a process 700 for performing equalization selectively for the best branch. A channel impulse response estimate h{n) for a wireless channel is derived, e.g., based on a received pilot (block 712). Multiple (M) channel impulse response estimates h1(n) through hM(n) for M sampling time instants are derived based on (e.g., by sub-sampling) the channel impulse response estimate h(n) (block 714). M may be equal to two, as described above, or may be greater than two. The M sampling time instants correspond to M different branches. One sampling time instant is selected from among the M sampling time instants and denoted, as sampling time instant r (block 716). The selection of the best sampling time instant may be achieved by computing the energy of the channel taps for each sampling time instant and comparing the energies for the M sampling time instants to determine the sampling time instant with the largest energy.<br>
[0062] A channel frequency response estimate Hr{) for the selected sampling time instant is derived based on (e.g., by performing an FFT on) the channel impulse response estimate hr(n) for the selected sampling time instant (block 718). Time-domain covariance values Rrr(r) for input samples yr(n) for the selected sampling time instant are determined, e.g., as shown in equation (9) (block 720). Frequency-domain covariance values Rrr(G&gt;) are determined based on (e.g., by performing an FFT on) the time-domain covariance values Rrr.(r) (block 722). Frequency-domain equalizer coefficients Cr() for the selected sampling time instant are then derived based on the channel frequency response estimate Hr() and the frequency-domain covariance values Rrr() (block 724). The equalizer coefficients may be computed based on the LMMSE technique, as shown in equation (12), or based on some other equalization technique. Time-domain equalizer coefficients cy(n) for the selected sampling time instant are determined based on (e.g., by performing an IFFT on) the frequency-domain equalizer coefficients Cr() (block 726). The input samples yr(n) for the selected sampling time instant are filtered with the time-domain equalizer coefficients cr(n) (block 728). [0063] FIG. 8A shows a block diagram of an equalizer coefficient computation unit 420b for the separate equalization with combining scheme.   Computation unit 420b<br>
performs equal combining of the two branches and is another embodiment of computation unit 420 in FIG. 4.<br>
[0064] Within unit 420b, an FFT unit 810 transforms the on-time channel taps h1(n) with an L-point FFT and provides L channel gains H1() for branch 1. An FFT unit 812 transforms the late channel taps h2(n) with an L-point FFT and provides L channel gains H2() for branch 2. An FFT unit 814 performs an L-point FFT on time-domain covariance values R11(r) for branch 1, which may be arranged as { R11(0) , ..., R11(L/2-l) , 0, R11(L/2 —1) , ..., R11(1) }, and provides L frequency-domain covariance values Ru(), for  = 1,..., L. An FFT unit 816 performs an L-point FFT on time-domain covariance values R22 (r) for branch 2, which may be arranged as {R22(0), --., R22(L/2-l), 0, R22(L/2-l), ..., R22(1)}, and provides L covariance values R22(), for  = 1,..., L .<br>
[0065] A computation unit 820 computes frequency-domain equalizer coefficients C1() for branch 1 based on the channel gains H1() and the covariance values R11()) for branch 1, e.g., as shown in equation (12). Similarly, a computation unit 822 computes frequency-domain equalizer coefficients C2(o) for branch 2 based on the channel gains H2() and the covariance values R22() for branch 2. An IFFT unit 830 performs an L-point IFFT on the L frequency-dornain equalizer coefficients C1() and provides L time-domain equalizer coefficients c1(n) for branch 1. An IFFT unit 832 performs an L-point IFFT on the L frequency-domain equalizer coefficients C2() and provides L tirne-domain equalizer coefficients C2(n) for branch 2. The equalizer coefficients c1(n) and C2(n) are used to filter the on-time samples y1(n) and the late samples C2(n), as shown in equation (14).<br>
[0066] FIG. 8B shows a block diagram of an equalizer coefficient computation unit 420c for the separate equalization with combining scheme. Computation unit 420c performs weighted combining of the two branches and is yet another embodiment of computation unit 420 in FIG. 4. Computation unit 420c includes FFT units 810, 812, 814 and 816, coefficient computation units 820 and 822, and IFFT units 830 and 832 that operate as described above for FIG. 8A. Computation unit 420c further includes weight computation units 824 and 826 and multipliers 834 and 836.<br>
[0067] Unit 824 receives the on-time channel taps h1(n) and computes the weight for branch 1. Unit 826 receives the late channel taps h2(n) and computes the weight for branch 2. The weight qm for each branch m may be computed as follows:<br>
Eq(15) (Equation Removed)<br>
In equation (15), the scaring by L is omitted since both branches are affected by the same scaling.<br>
[0068] The coefficients for each branch are scaled by the weight for that branch. For the embodiment shown in FTG. 8B, the scaling is performed on the time-domain equalizer coefficients. Multiplier 834 is located after IFFT unit 830, scales each time-domain equalizer coefficient c1(n) from FFT unit 830 with the weight q1 for branch 1, and provides L output equalizer coefficients c1{n) for branch 1. Similarly, multiplier 836 is located after IFFT unit 832, scales each time-domain coefficient c'2(n) from FFT unit 832 with the weight q2 for branch 2, and provides L output equalizer coefficients C2(n) for branch 2. In another embodiment, which is not shown in FIG. 8B, the scaling is performed on the frequency-domain equalizer coefficients Cm(). For this embodiment, multipliers 834 and 836 would be located after computation units 820 and 822, respectively.<br>
[0069] FIG. 9 shows a process 900 for performing equalization separately for each branch and combining the results. A channel impulse response estimate h(n) for a wireless channel is derived, e.g., based on a received pilot (block 912). A first channel impulse response estimate h1(n) for a first sampling time instant and a second channel impulse response estimate h2(n) for a second sampling time instant are derived based on (e.g., by sub-sampling) the channel impulse response estimate h(n) (block 914). A first channel frequency response estimate H1() for the first sampling time instant is derived based on (e.g., by performing an FFT on) the first channel impulse response estimate h1{n) (block 916). A second channel frequency response estimate H2() for the second sampling time instant is derived based on the second channel impulse response estimate h2(n) (also block 916). Time-domain covariance values R11(r) for input samples y1(n) for the first sampling time instant and time-domain covariancc values R22(r) for input<br><br>
samples y2(n) for the second sampling time instant are determined (block 918). Frequency-domain covariance values R11() for the first sampling time instant are determined based on (e.g., by performing an FFT on) the time-domain covariance values R11(r) (block 920). Frequency-domain covariance values R22() for the second sampling time instant are determined based on the time-domain covariance values R22(r)(also block 920). Frequency-domain equalizer coefficients C1() for the first sampling time instant arc derived based on the channel frequency response estimate HI() and the frequency-domain covariance values R11() (block 922). Frequency-domain equalizer coefficients C2{) for the second sampling time instant are derived based on the channel frequency response estimate H2() and the frequency-domain covariance values R22() (also block 922). The equalizer coefficients may be computed based on the LMMSE technique, as shown in equation (12), or based on some other equalization technique.<br>
[0070] Time-domain equalizer coefficients c1(n) for the first sampling time instant are determined based on (e.g., by performing an TFFT on) the frequency-domain equalizer coefficients C1() (block 924). Time-domain equalizer coefficients c'2(n) for the second sampling time instant are determined based on the frequency-domain equalizer coefficients C2() (also block 924). The time-domain equalizer coefficients ) for the first sampling time instant are scaled by a first weight q\ to obtain output equalizer coefficient C1(n) (block 926). The time-domain equalizer coefficients c'2(n) for the second sampling time instant are scaled by a second weight q2 to obtain output equalizer coefficient C2(n) (also block 926). The first and second weights may be equal or may be derived based on the energies of h1(n) and h2(n), respectively. The input samples are filtered with the output equalizer coefficients c1{n) and C2(n) (block 928). [0071] FIG. 10 shows a block diagram of an equalizer coefficient computation unit 420d for the joint equalization scheme. Computation unit 420d is yet another embodiment of computation unit 420 in FIG. 4.<br>
[0072] Within unit 420d, an FFT unit 1010 transforms the on-time channel taps h1(n) and provides L channel gains H1() for branch 1. An FFT unit 1012 transforms the late channel taps h2(n) and provides L channel gains H2() for branch 2. An FFT unit 1014 performs an L-point FFT on time-domain covariance values i?n(r), which<br>
may he arranged as  {R11(0), ..., R11(L/2-l) , 0, R11(L/2-l), .... R11(1) }, and<br>
provides L frequency-domain covariance values R11(), for  = 1	L .   An FFT unit<br>
1016 performs an L-point FFT on time-domain, covariance values R22(r), which may be arranged as {R22(0), R22(L/2 — 1), 0, R22(L/2-l), ..., R22(l)}, and provides L covariance values R22(), for a&gt; = l,..., L . An FFT unit 1018 performs an L-point FFT on L time-domain covariance values R\z(r), which may be arranged as (R12(0), ..., R12(L/2—1) , 0, R22(—L/2 + 1) ,  ..., R22(—1) }, and provides L covariance values<br>
R12(), for  — 1,..., L .<br>
[0073] A computation unit 1020 jointly computes the frequency-domain equalizer coefficients C1() and C2() for branches 1 and 2, as described below. An IFFT unit 1030 transforms the frequency-domain equalizer coefficients C1() and provides time-domain equalizer coefficients ci(n) for branch 1. An IFFT unit 1032 transforms the frequency-domain equalizer coefficients C2() and provides time-domain equalizer coefficients ci(n) for branch 2.<br>
[0074] For the joint equalization scheme, the on-time and late samples y1(n) and y2(n) are equalized with two sets of equalizer coefficients c1(n) and that are derived jointly such that the output samples x(n) in equation (14) provide the best linear approximation of x(n) in the mean square error sense. The LMMSE solutions for the two sets of equalizer coefficients may be expressed in the frequency domain, as follows:<br>
Eq(16)<br>
(Equation Removed)<br>
Since i?21 (#&gt;) = i?*2(<z>), it is sufficient to estimate just ifn(-r), RT2(T) and R\z(z). [0075] In equation (16), L 2x2 matrices are formed for <z> = l,„.,L. Each 2x2 matrix may be inverted and used to derive the equalizer coefficients C\(<o and ci for one frequency bin a>. A given 2x2 matrix may be poorly conditioned, e.g., close to singular because of estimation errors. The inversion of a poorly conditioned matrix may produce a large entry that may excessively enhance noise. Several techniques may be used to deal with poorly conditioned matrices.<br>
[0076] In a first embodiment, the joint processing of the two branches is performed with "diagonal" conditioning. For this embodiment, the time-domain, covariance values for branches 1 and 2 are conditioned by setting R11(0) = ß-R11(0) and R22 (0) = ß • R22 (0) ' where ß &gt; 1.0 and may be selected as, e.g., ß - 1.05 . This scaling for a single tap of Rmm (T) introduces a small spectral component in each frequency bin of Rmm(co), which makes the frequency domain matrices "more invertible". FFTs are then performed on the conditioned R11(r) and R22(r) .<br>
[0077] Computation unit 1020 may then compute the frequency-domain equalizer coefficients C1() and C2() for branches 1 and 2, respectively, as follows:<br>
(Equation Removed)<br>
The scaling of R11(0) and R22(0) by ß results in a small amount of distortion that is<br>
negligible.<br>
[0078]       In a second embodiment, the joint processing of the two branches is<br>
performed with "pseudo-inverse" conditioning.    For this embodiment, the equalizer<br>
coefficients C1() and C2() for each frequency bin co may be computed in one of<br>
several manners depending on whether or not the 2x2 matrix for that frequency bin is<br>
poorly conditioned.<br>
[0079]        For each frequency bin co, the following condition is determined:<br>
(Equation Removed)<br>
Equation (18) checks if a "condition number" of the 2x2 matrix for frequency bin co is below a certain value. This condition may be used to determine whether or not the 2x2 matrix is poorly conditioned.<br>
[0080] For each frequency bin co in which the 2x2 matrix is not poorly conditioned, which is indicated by the condition in equation (18) holding, the frequency-domain equalizer coefficients C1() and C2() for that frequency bin may be computed as shown in equation (17).<br>
[0081] For each frequency bin  in which the 2x2 matrix is poorly conditioned, which is indicated by the condition in equation (18) not holding, the frequency-domain equalizer coefficients C1() and C2() for that frequency bin may be computed as follows. The following quantities are computed for frequency bin at:<br>
Eq (19)(Equation Removed) <br>
Eq (20)(Equation Removed) <br>
where () is the largest eigenvalue of the 2x2 matrix for frequency bin co, and o(co) is a component of an eigenvector [1   v() ] T of the 2x2 matrix.<br>
[0082]        The frequency-domain equalizer coefficients C1() and C2() for frequency bin  may then be computed as follows: <br>
Eq(21) (Equation Removed) <br>
Equation (21) essentially nulls out the smaller eigenvalue of the 2x2 matrix and takes<br>
the pseudo-inverse of the resultant matrix.<br>
[0083]        Equation (21) may be approximated as follows: <br>
Eq (22) (Equation Removed) <br>
[0084]        Equation (21) may also be approximated as follows:<br><br>
(Equation Removed)<br>
where   A(a&gt;) <br>
[0085]        FIG.  11 shows a process 1100 for performing equalization jointly for multiple branches.   A channel impulse response estimate h(ri) for a wireless channel is<br>
derived, e.g., based on a received pilot (block 1112). First and second channel impulse response estimates h1(n) and h2(n) for first and second sampling time instants, respectively, are derived based on (e.g., by sub-sampling) the channel impulse response estimate h(n) (block 1114). First and second channel frequency response estimates H1() and H2() for the first and second sampling time instants are derived based on the first and second channel impulse response estimates h1(n) and h2(n), respectively (block 1116). Time-domain covariance values R11(r), R22(r) and R12(r) for input samples Vi(n) and yi(ri) for the first and second sampling time instants are determined (block 1118). Frequency-domain covariance values Rn{a&gt;), i?22(
[0086] Frequency-domain equalizer coefficients Ci(to) and Cz^oS) for the first and second sampling time instants are derived jointly based on the first and second channel frequency response estimates Hi{aS) and Hz{co) and the frequency-domain covariance values i?ii(<z>), RxiioS) and i?n((S&gt;) (block 1122). The equalizer coefficients may be computed based on the LMMSE technique, as shown in equations (16) through (23), or based on some other equalization technique. Time-domain equalizer coefficients ci(ra) and C2(n) for the first and second sampling time instants are determined based on the frequency-domain equalizer coefficients C\(co) and CI(G$), respectively (block 1124). The input samples are then filtered with the time-domain equalizer coefficients C\(ri) and c2(«) (block 1126).<br>
[0087] FIG. 12 shows a process 1200 for performing equalization on an over-sampled input signal with sub-sampling. The over-sampled input signal is sub-sampled or demultiplexed to obtain multiple sub-sampled signals (block 1212). An over-sampled channel estimate is derived, e.g., based on a received pilot (block 1214). The over-sampled channel estimate may be a channel impulse response estimate that is over-sampled in time, a channel frequency response estimate that is over-sampled in frequency, and so on. The over-sampled channel estimate is sub-sampled to obtain multiple sub-sampled channel estimates (block 1216). Equalization is performed on the multiple sub-sampled signals with the multiple sub-sampled channel estimates to obtain at least one output signal. For the equalization, at least one set of equalizer coefficients may be derived based on at least one sub-sampled channel estimate using any of the<br><br>
equalization schemes described above (block 1218). The equalizer coefficients may be derived in the time domain or frequency domain. At least one sub-sampled signal is then filtered with the at least one set of equalizer coefficients to obtain the at least one output signal (block 1220).<br>
[0088] FIG. 13 shows a process 1300 for performing equalization on an over-sampled input signal with equalizer coefficients derived in the frequency domain. A channel impulse response estimate is derived, e.g., based on a received pilot (block 1312). A channel frequency response estimate is derived based on (e.g., by performing an FFT on) the channel impulse response estimate (block 1314). For an LMMSE filter, time-domain covariance values for the input samples may be determined (block 1316) and transformed to obtain frequency-domain covariance values (block 1318). Frequency-domain equalizer coefficients are derived for multiple frequency bins based on the channel frequency response estimate and the frequency-domain covariance values (block 1320). Time-domain equalizer coefficients are derived based on (e.g., by performing an 1FFT on) the frequency-domain equalizer coefficients (block 1322). The input samples are then filtered with the time-domain equalizer coefficients to obtain output samples (block 1324)<br>
[0089] For clarity, the equalization techniques have been described mostly for the case in which the input samples y(n) are at Chipx2 and there are two branches corresponding to two sampling time instants. In general, the equalization techniques may be used for input samples that are over-sampled at multiple (M) times the chip rate, -where M &gt; 2. M branches may be formed for M sampling time instants. M sequences of input samples y\(n) through J&gt;M(H) for M sampling time instants may be obtained by sub-sampling or demultiplexing the over-sampled input samples y(n). M channel impulse response estimates h\(n) through /ZM(«) for M sampling time instants may be obtained by sub-sampling or demultiplexing an over-sampled channel impulse response estimate h(ri) for the wireless channel.   Covariance values ^(r) , for i,j e {1,..., M} ,<br>
may be derived based on the input samples y(n), e.g., as shown in equation (9). [0090]        For the selective equalization scheme, the best branch may be selected, e.g., based on the energies of the channel impulse response estimates for the M branches. Equalizer coefficients for the best branch may be derived based on the channel impulse<br>
response estimate and the covariance values for that branch.  The input samples for the<br>
best branch are filtered with the equalizer coefficients for that branch.<br>
[0091]        For the separate equalization with combining scheme, a set of equalizer<br>
coefficients may be derived for each branch based on the channel impulse response<br>
estimate and the covariance values for that branch.  The M sets of equalizer coefficients<br>
for the M branches may be scaled with equal weights for all M branches or different<br>
weights determined based on the energies for the M branches.   The input samples are<br>
filtered with the M sets of equalizer coefficients for the M branches.<br>
[0092]        For the joint equalization scheme, M sets of equalizer coefficients for the M<br>
branches may be derived jointly based on the channel impulse response estimates and<br>
the covariance values for all M branches. The input samples are filtered with the M sets<br>
of equalizer coefficients for the M branches.<br>
[0093]        The channel impulse response estimate h(ri), the covariance values <s></s>
and the equalizer coefficients cm(n) may be updated at a sufficient rate to achieve good performance.   For example, h(n), ^&amp;-(r) and cm(n) may be updated whenever a new<br>
pilot symbol is received, whenever a predetermined number of pilot symbols is received, in each slot, in each frame, and so on. For W-CDMA, a pilot symbol is sent in 256 chips, each slot spans 2560 chips or 10 pilot symbols, and each frame includes 15 slots. For cdma2000, a pilot symbol is sent in 128 chips, each slot spans 768 chips or 6 pilot symbols, and each frame includes 16 slots.<br>
[0094] For clarity, the equalization techniques have been described for a transmitter with a single antenna and a receiver with a single antenna. These techniques may also be used for a transmitter with multiple antennas and for a receiver with multiple antennas, as described below.<br>
[0095] FIG. 14 shows a block diagram of a base station 112 with two transmit antennas 1432a and 1432b. Within base station 112, a TX data processor 1410 processes traffic data and generates data symbols. A CDMA modulator 1420 processes data and pilot symbols and generates output chips zx(n) and z2(n) for transmit antennas 1432a and 1432b, respectively.<br>
[0096] Within CDMA modulator 1420, a physical channel processor 1422 processes data symbols for physical channel i and generates output chips x(ii) for this physical channel. A pilot channel processor 1424 generates output chips pa(n) and p2Qi) for the<br>
pilot for transmit antennas 1432a and 1432b, respectively. Processors 1422 and 1424 may be implemented with processors 310 and 320, respectively, in FIG. 3. A multiplier 1426a scales the output chips xin) with a weight vi for transmit antenna 1432a and generates scaled output chips xl(n). A multiplier 1426b scales the output chips x(n) with a weight V2 for transmit antenna 1432b and generates scaled output chips x2(n). A summer 1428a sums the output chips for all physical channels for transmit antenna 1432a and provides output chips z\n). A summer 1428b sums the output chips for all physical channels for transmit antenna 1432b and provides output chips z?(n). A transmitter 1430a processes the output chips zl(n) and generates a first RF signal, which is transmitted from antenna 1432a. A transmitter 1430b processes the output chips z2(n) and generates a second RF signal, which is transmitted from antenna 1432b. A controller/processor 1440 directs operation at base station 112. A memory 1442 stores data and program codes for base station 112.<br>
[0097] For closed-loop transmit diversity (CLTD), the weights vi and V2 may be selected by wireless device 120 and sent back to base station 112. The weights vi and v% may be selected to maximize the received signal at wireless device 120. In general, the weights vi and vz may be derived by the wireless device and/or the base station in various manners. [0098]        At wireless device 120, the input samples y(n) may be expressed as:<br>
Eq(24) (Equation Removed)<br>
where hl(n) is an impulse response from antenna 1432a to wireless device 120,<br>
h~(ri) is an impulse response from antenna 1432b to wireless device 120, and heff(n)~ v\ -h\n~) + v2 -h2(n) is an effective impulse response for the wireless channel between base station 112 and wireless device 120.<br>
[0099] A channel impulse response estimate hl(n) for transmit antenna 1432a may be derived based on the pilot pl(ri) transmitted from this antenna. Similarly, a channel impulse response estimate h2(ri) for transmit antenna 1432b may be derived based on the pilot p2(ri) transmitted from this antenna. An effective channel impulse response estimate hej(n) may then be derived based on hl(n) and h2(n) and the known weights vi and V2. heff(n) may also be derived in other manners.<br>
[00100] The equalization techniques described above may be used -with the effective channel impulse response estimate heg(n) instead of h(n). In particular, h^n) may be sub-sampled to obtain effective channel impulse response estimates heff%\(n) through heffjjji) for M branches corresponding to M sampling time instants. Equalization may be performed for the best branch, separately for the M branches and combined, or jointly for all M branches, as described above.<br>
[00101] FIG. 15 shows a block diagram of a wireless device 122 with two receive antennas 1552a and 1552b. At wireless device 122, a receiver 1554a processes a first received RF signal from antenna 1552a and provides input samples yx(n) for this antenna. A receiver 1554b processes a second received RF signal from antenna 1552b and provides input samples y2(n) for this antenna. An equalizer 1560 performs equalization on the input samples y\ri) and y2(ri) as described below and provides output samples x(n). A CDMA demodulator 1570 processes the output samples and provides symbol estimates. An RX data processor 1580 processes the symbol estimates and provides decoded data. A controller/processor 1590 directs operation at wireless device 122. A memory 1592 stores data and program codes for wireless device 122. [00102] At wireless device 122, the input samples yl{n) from receiver 1554a and the input samples y2(n) from receiver 1554b may be expressed as:<br>
Eq (25) (Equation Removed)<br>
where hl{ri) is an impulse response from base station 110 to antenna 1552a,<br>
h2(ri) is an impulse response from base station 110 to antenna 1552b, and w1(«) and w2(n) are the total noise for antennas 1552a and 1552b, respectively.<br>
[00103] A channel impulse response estimate hl(n) for receive antenna 1552a may be derived based on the pilot received via this antenna. Similarly, a channel impulse response estimate h2(n) for receive antenna 1552b may be derived based on the pilot received via this antenna. The input samples y"(n) for each receive antenna a may be sub-sampled to obtain input samples y?(n) through y^(n) for M branches for that antenna. If M = 2 , then the input samples for two branches for each receive antenna may be expressed as:<br>
Eq (26) (Equation Removed)<br>
where  y[(ji) and j2(n) are obtained by sub-sampling y\ri) for antenna 1552a, ylQi) and y\{n) are obtained by sub-sampling y2(n) for antenna 1552b, /^(n) and /z^C") are obtained by sub-sampling/z^n) for antenna 1552a, and hi;{n) and /^(rc) are obtained by sub-sampling h\n) for antenna 1552b.<br>
[00104] The equalization techniques described above may be applied to the input samples y\{n) , y\(n) , yl(ri) and y\{n) for four branches formed by two sampling time instants and two receive antennas. For the selective equalization* scheme, the best branch having the largest energy among the four branches may be selected for equalization. For the separate equalization with combining scheme, equalization may be performed separately for four branches, for two best branches among the four branches, for the best branch for each receive antenna, and so on. The results for all selected branches may be combined to generate the output samples x(n) . For the joint equalization scheme, equalization may be performed jointly for four branches, for two best branches among the four branches, for two best branches for the two receive antennas, and so on.<br>
[00105] In an embodiment, the best branch is determined for each receive antenna, and equalization is performed for the two best branches for the two receive antennas. For this embodiment, the energy of each of the four branches may be determined, e.g., as shown in equation (10).   For each receive antenna a, where a e {1, 2}, the branch<br>
with more energy is selected and denoted as r(a). Input samples v*(1)(ra) and j^(2)(«) and channel impulse response estimates hlrm(n) and h^2)(n) may then be processed<br>
based on any of the equaHzation schemes described above to obtain the output samples x(n).<br><br>
 [001O6] FIG. 16 shows a block diagram of a base station 114 using space-time transmit diversity (STTD). Within base station 114, a TX data processor 1610 processes traffic data and generates data symbols s(l). A CDMA modulator 1620 processes data and pilot symbols and generates output chips zl(n) and ^(n) for two transmit antennas 1632a and 1632b.<br>
[O01O7] Within CDMA modulator 1620, an STTD encoder 1622 performs STTD<br>
encoding on data symbols s(J) and provides STTD encoded symbols sl(l) and s2(l) for<br>
transmit antennas 1632a and 1632b, respectively. Ifs(f) = si, S2, S3, sn, ..., where si is a<br>
data symbol for symbol period /, then sl(l) = si, s2, S3, s4, ..., and s2(P) = -s^, s*, -s±,<br>
S3	Physical channel processors 1624a and 1624b process STTD encoded symbols<br>
s\l) and s2(l), respectively, and provide output chips xl(n) and x2(ri), respectively. A pilot channel processor 1626 generates output chips pl(n) and p\n) for the pilot for transmit antennas 1632a and 1632b, respectively. Processors 1624 and 1626 may be implemented with processors 310 and 320, respectively, in FIG. 3. Summers 1628a and 1628b sum the output chips for all physical channels for transmit antennas 1632a and 1632b, respectively, and provide output chips zl(n) and z2(n), respectively. Transmitters 1630a and 1630b process the output chips zl(n) and ^(n), respectively, and generate two RF signals that are transmitted from antennas 1632a and 1632b, respectively. A controller/processor 1640 directs operation at base station 114. A memory 1642 stores data and program codes for base station 114. [00108]      At wireless device 120, the input samples y(n) may be expressed as:<br>
Eq (27) (Equation Removed)<br>
where hl(n) is an impulse response from antenna 1632a to wireless device 120, and h2(ri) is an impulse response from antenna 1632b to wireless device 120.<br>
[00109] A channel impulse response estimate hl(n) for transmit antenna 1632a may be derived based on the pilot px(n) received from this antenna. A channel impulse response estimate h2(n) for transmit antenna 1632b may be derived based on the pilot p2(ri) received from this antenna. If M = 2, then hl(n) may be sub-sampled to obtain /^(n) and h\{n), h2(n) may be sub-sampled to obtain ^(ra) and h^(n), and the input samples y(n) may be sub-sampled to obtain y1(n) and y2(n) for two branches. The desired signals xx(n) and x2(n) may be recovered in various manners. [00110] In one embodiment, the desired signals x1(n and x\n) are recovered by perfonning equalization for the best sampling time instant. For this embodiment, the energy E\ for the first samp ling time instant is computed as Ex = 11 hi (n) 112 +11 h? (n) 112, the energy E2 for the second sampling time instant is computed as -£■2 — II^K77)!!2 + ll^2(n)l!2&gt; an-d the sampling time instant r with the larger energy is selected. Equalizer coefficients c]r(n) may be computed for transmit antenna 1632a and sampling time instant r based on hlr{ii) and possibly covariance values. Similarly, equalizer coefficients c2(n) may be computed for transmit antenna 1632b and sampling time instant r based on h,(n) and possibly covariance values.<br>
[00111] Input samples yr{n) for sampling time instant r are then filtered, with the equalizer coefficients clr(n) to obtain output samples x\n), which are estimates of output chips xx(n). The input samples yr(n) are also filtered with the equalizer coefficients c2(n) to obtain output samples x2(n), which are estimates of output chips x2(ri). CDMA demodulation may then be performed on the output samples x\n) to obtain symbol estimates s\l) , which are estimates of the STTD encoded symbols s^tt) transmitted from antenna 1632a. CDMA demodulation may also be performed on the output samples x2(n) to obtain symbol estimates §2(l) , which are estimates of the STTD encoded symbols s2(I) transmitted from antenna 1632b. STTD decoding may then be performed on sl(l) and .?2(/) to obtain symbol estimates s(l) , which are estimates of data symbols s(l) for wireless device 120.<br>
[00112] Tn another embodiment, xl(ri) is recovered by treating x2(n) as noise, and x (n) is recovered by treating x («) as noise. For this embodiment, the equalization to recover xb(ri), for b e {1, 2} , may be performed using any of the equalization schemes described above.<br>
[00113] For clarity, the equalization techniques have been specifically described for an LMMSE filter and with the equalizer coefficients derived in the frequency domain. These techniques may also be used for other types of filters. The general, the equalizer coefficients may be derived in the time domain or frequency domain. Furthermore, the<br>
equalizer coefficients may be derived using various techniques such as LMMSE, least mean square (LMS), recursive least square (RLS), direct matrix inversion (DMI), zero-forcing, and other techniques. LMS, RLS, and DMI are described by Simon Haykin in a book entitled "Adaptive Filter Theory", 3rd edition, Prentice Hall, 1996. [00114] The equalization techniques described herein may be implemented by various means. For example, these techniques may be implemented in hardware, firmware, software, or a combination thereof. For- a hardware implementation, the processing units used to perform equalization may be implemented within one or more application specific integrated circuits (ASTCs), digital signal processors (DSPs), digital signal processing devices (DSPDs), programmable logic devices (PLDs), field programmable gate arrays (FPGAs), processors, controllers, micro-controllers, microprocessors, electronic devices, other electronic units designed to perform the functions described herein, or a combination thereof.<br>
[00115] For a firmware and/or software implementation, the equalization techniques may be implemented with modules (e.g., procedures, functions, and so on) that perform the functions described herein. The firmware and/or software codes may be stored in a memory (e.g., memory 292 in FIG. 2) and executed by a processor (e.g., processor 290). The memory may be implemented within the processor or external to the processor. [00116] The previous description of the disclosed embodiments is provided to enable any person skilled in the art to make or use the present invention. Various modifications to these embodiments will be readily apparent to those skilled in the art, and the generic principles defined herein may be applied to other embodiments without departing from the spirit or scope of the invention. Thus, the present invention is not intended to be limited to the embodiments shown herein but is to be accorded the widest scope consistent with the principles and novel features disclosed herein.<br><br><br><br><br><br><br><br><br><br>
CLAIMS<br>
1.	An apparatus comprising:<br>
at least one processor configured to select a sampling time instant from among multiple sampling time instants, to derive equalizer coefficients for the selected sampling time instant, and to filter input samples for the selected sampling time instant with the equalizer coefficients; and<br>
a memory coupled to the at least one processor.<br>
2.	The apparatus of claim 1, wherein the at least one processor is configured to determine energies of multiple channel impulse response estimates for the multiple sampling time instants, and to select the sampling time instant with a largest energy among the multiple sampling time instants.<br>
3.	The apparatus of claim 1, wherein the at least one processor is configured to derive a channel impulse response estimate for the selected sampling time instant, and to derive the equalizer coefficients based on the channel impulse response estimate.<br>
4.	The apparatus of claim 1, wherein the at least one processor is configured to derive a channel impulse response estimate for the selected sampling time instant, to determine covariance values for the input samples for the selected sampling time instant, and to derive the equalizer coefficients based on the channel impulse response estimate and the covariance values.<br>
5.	The apparatus of claim 1, wherein the at least one processor is configured to derive a channel impulse response estimate for the selected sampling time instant, to derive a channel frequency response estimate based on the channel impulse response estimate, to determine time-domain covariance values for the input samples for the selected sampling time instant, to determine frequency-domain covariance values based on the time-domain covariance values,  to derive frequency-domain equalizer<br>
coefficients based on the channel frequency response estimate and the frequency-domain covariance values, and to derive time-domain equalizer coefficients based on the frequency-domain equalizer coefficients.<br>
6.	The apparatus of claim 1, wherein the at least one processor is configured to derive an effective channel impulse response estimate between muLtiple transmit antennas and at least one receive antenna for the selected sampling time instant, and to derive the equalizer coefficients based on the effective channel impulse response estimate.<br>
7.	The apparatus of claim 1, wherein the at least one processor is configured to derive the equalizer coefficients based on a linear rrrirurnum mean square error (LMMSE) technique.<br>
8.	The apparatus of claim 1, wherein the at least one processor is configured to receive input samples at multiple times chip rate, to demultiplex the input samples into multiple sequences for the multiple sampling time instants, one sequence for each sampling time instant, and to filter the sequence of input samples for the selected sampling time instant with the equalizer coefficients.<br>
9.	The apparatus of claim 1, wherein the multiple sampling time instants comprise first and second sampling time instants, and wherein the at least one processor is configured to receive input samples at twice chip rate, to demultiplex the input samples into on-time samples for the first sampling time instant and late samples for the second sampling time instant, to select either the first or second sampling time instant, to filter the on-time samples with the equalizer coefficients if the first sampling time instant is selected, and to filter the late samples with the equaUzer coefficients if the second sampling time instant is selected.<br>
10.	A method comprising:<br>
selecting a sampling time instant from among multiple sampling time instants; deriving equalizer coefficients for the selected sampling time instant; and<br>
filtering input samples for the selected sampling time instant with the equalizer coefficients.<br>
11.	The method of claim 10, wherein the selecting the sampling time instant<br>
comprises<br>
determining energies of multiple channel impulse response estimates for the multiple sampling time instants, and<br>
selectmg the sampling time instant with a largest energy among the multiple sampling time instants.<br>
12.	The method of claim 10, wherein the filtering the input samples<br>
comprises<br>
receiving input samples at multiple times chip rate,<br>
demultiplexing the input samples into multiple sequences for the multiple sampling time instants, one sequence for each sampling time instant, and<br>
filtering the sequence of input samples for the selected sampling time instant with the equalizer coefficients.<br>
13.	An apparatus comprising:<br>
means for selecting a sampling time instant from among multiple sampling time instants;<br>
means for deriving equalizer coefficients for the selected sampling time instant; and<br>
means for filtering input samples for the selected sampling time instant with the equalizer coefficients.<br>
14.	The apparatus of claim 13, wherein the means for selecting the sampling<br>
time instant comprises<br>
means for determining energies of multiple channel impulse response estimates for the multiple sampling time instants, and<br>
means for selecting the sampling time instant with a largest energy among the multiple sampling time instants.<br>
15.	The apparatus of claim 13, wherein the means for filtering the input<br>
samples comprises<br>
means for receiving input samples at multiple times chip rate,<br>
means for demultiplexing the input samples into multiple sequences for the<br>
multiple sampling time instants, one sequence for each sampling time instant, and<br>
means for filtering the sequence of input samples for the selected sampling time<br>
instant with the equalizer coefficients.<br>
16.	An apparatus comprising:<br>
at least one processor configured to derive a first set of equalizer coefficients for a first sampling time instant, to derive a second set of equalizer coefficients for a second sampling time instant, and to filter input samples with the first and second sets of equalizer coefficients to obtain output samples; and<br>
a memory coupled to the at least one processor.<br>
17.	The apparatus of claim 16, wherein the at least one processor is configured to derive first and second channel impulse response estimates for the first and second sampling time instants, respectively, and to derive the first and second sets of equalizer coefficients based on the first and second channel impulse response estimates, respectively.<br>
18.	The apparatus of claim 17, wherein the at least one processor is configured to scale the first set of equalizer coefficients with a first gain determined based on energy of the first channel impulse response estimate, and to scale the second set of equalizer coefficients with a second gain determined based on energy of the second channel impulse response estimate.<br>
19.	The apparatus of claim 16, wherein the at least one processor is configured to derive first and second channel impulse response estimates for the first and second sampling time instants, respectively, to determine first and second sets of covariance values for input samples for the first and second sampling time instants, respectively, to derive the first set of equalizer coefficients based on the first channel impulse response estimate and the first set of covariance values, and to derive the<br>
second set of equalizer coefficients based on the second channel impulse response estimate and the second set of covariance values.<br>
20.	The apparatus of claim 16, wherein the at least one processor is configured, to derive first and second channel impulse response estimates for the first and second sampling time instants, respectively, to derive first and second channel frequency' response estimates based on the first and second channel impulse response estimates, respectively, to determine first and second sets of time-domain covariance values for input samples for the first and second sampling time instants, respectively, to derive first and second sets of frequency-domain covariance values based on the first and second sets of time-domain covariance values, respectively, to derive a first set of frequency-domain equalizer coefficients based on the first channel frequency response estimate and the first set of frequency-domain covariance values, to derive a second set of frequency-domain equalizer coefficients based on the second channel frequency response estimate and the second set of frequency-domain covariance values, and to derive first and second sets of time-domain equalizer coefficients based on the first and second sets of frequency-domain equalizer coefficients, respectively.<br>
21.	The apparatus of claim 1, wherein the at least one processor is configured to derive a first effective channel impulse response estimate between multiple transmit antennas and at least one receive antenna for the first sampling time instant, to derive a second effective channel impulse response estimate between the multiple transmit antennas and the at least one receive antenna for the second sampling time instant, and to derive the first and second sets of equalizer coefficients based on the first and second effective channel impulse response estimates.<br>
22.	The apparatus of claim 16, wherein the at least one processor is configured to derive first and second channel impulse response estimates for the first and second sampling time instants, respectively, and to jointly derive the first and second sets of equalizer coefficients based on the first and second channel impulse response estimates.<br>
23.	The apparatus of claim 22, wherein the at least one processor is configured to determine multiple sets of covariance values for the input samples for the first and second sampling time instants, and to jointly derive the first and second sets of equalizer coefficients based on the first and second channel impulse response estimates and the multiple sets of covariance values.<br>
24.	The apparatus of claim 22, wherein the at least one processor is configured to derive first and second channel frequency response estimates based on the first and second channel impulse response estimates, respectively, to determine first and second sets of time-domain covariance values for the input samples for the first and second sampling time instants, respectively, to determine a third set of time-domain covariance values for the input samples for the first and second sampling time instants, to derive first, second and third sets of frequency-domain covariance values based on the first, second and third sets of time-domain covariance values, respectively, to jointly derive first and second sets of frequency-domain equalizer coefficients based on the first and second channel frequency response estimates and the first, second and third sets of frequency-domain covariance values, and to derive first and second sets of time-domain equalizer coefficients based on the first and second sets of frequency-domain equalizer coefficients, respectively.<br>
25.	The apparatus of claim 24, wherein the at least one processor is configured, to scale at least one time-domain covariance value in each of the first and. second sets of time-domain covariance values for conditioning for matrix inversion.<br>
26.	The apparatus of claim 24, wherein for each of multiple frequency bins the at least one processor is configured to determine condition of a matrix for the frequency bin, to derive frequency-domain equalizer coefficients for the frequency bin based on a first equation if the matrix is poorly conditioned, and to derive the frequency-domain equalizer coefficients for the frequency bin based on a second equation if the matrix is not poorly conditioned.<br>
27.	The apparatus of claim 16, wherein the at least one processor is configured to derive the equalizer coefficients based on a linear minimum mean square error (LMMSE) technique.<br>
28.	The apparatus of claim 16, wherein the at least one processor is configured to receive input samples at multiple times chip rate, to demultiplex the input samples into on-time samples for the first sampling time instant and late samples for the second sampling time instant, to filter the on-time samples with the first set of equalizer coefficients, to filter the late samples with the second set of equalizer coefficients, and to combine the filtered on-time samples with the filtered late samples to obtain the output samples.<br>
29.	A method comprising:<br>
deriving a first set of equalizer coefficients for a first sampling time instant;<br>
deriving a second set of equalizer coefficients for a second sampling time instant; and<br>
filtering input samples with the first and second sets of equalizer coefficients to obtain output samples.<br>
30.	The method of claim 29, further comprising:<br>
deriving first and second channel impulse response estimates for the first and second sampling time instants, respectively, and wherein the first and second sets of equalizer coefficients are derived based on the first and second channel impulse response estimates, respectively.<br>
31.	The method of claim 29, further comprising:<br>
deriving first and second channel impulse response estimates for the first and second sampling time instants, respectively, and wherein the first and second sets of equalizer coefficients are derived jointly based on the first and second channel impulse response estimates.<br>
32.	The method of claim 29, wherein the first and second sets of equalizer coefficients are derived in frequency domain based on a linear minimum mean square error (LMMSE) technique.<br>
33.	The method of claim 29, wherein the filtering the input samples comprises<br>
receiving input samples at multiple times chip rate,<br>
demultiplexing the input samples into on-time samples for the first sampling<br>
time instant and late samples for the second sampling time instant,<br>
filtering the on-time samples with the first set of equalizer coefficients, filtering the late samples with the second set of equalizer coefficients, and combining the filtered on-time samples with the filtered late samples to obtain<br>
the output samples.<br>
34.	An apparatus comprising:<br>
means for deriving a first set of equalizer coefficients for a first sampling time instant;<br>
means for deriving a second set of equalizer coefficients for a second sampling time instant; and<br>
means for filtering input samples with the first and second sets of equalizer coefficients to obtain output samples.<br>
35.	The apparatus of claim 34, further comprising:<br>
means for deriving first and second channel impulse response estimates for the first and second sampling time instants, respectively, and wherein the first and second sets of equalizer coefficients are derived based on the first and second channel impulse response estimates, respectively.<br>
36.	The apparatus of claim 34, further comprising:<br>
means for deriving first and second channel impulse response estimates for the first and second sampling time instants, respectively, and wherein the first and second sets of equalizer coefficients are derived jointly based on the first and second channel impulse response estimates.<br>
37.	The apparatus of claim 34, wherein the first and second sets of equalizer coefficients are derived in frequency domain based on a linear minimum mean square error (LMMSE) technique.<br>
38.	The apparatus of claim 34, wherein the means for filtering the input samples comprises<br>
means for receiving input samples at multiple times chip rate,<br>
means for demultiplexing the input samples into on-time samples for the first sampling time instant and late samples for the second sampling time instant,<br>
means for filtering the on-time samples with the first set of equalizer coefficients,<br>
means for filtering the late samples with the second set of equalizer coefficients, and<br>
means for combining the filtered on-time samples with the filtered late samples to obtain the output samples,<br>
39.	An apparatus comprising:<br>
at least one processor configured to sub-sample an over-sampled input signal to obtain multiple sub-sampled signals, to sub-sample an over-sampled channel estimate to obtain multiple sub-sampled channel estimates, and to perform equalization on the multiple sub-sampled signals based on the multiple sub-sampled channel estimates to obtain at least one output signal; and<br>
a memory coupled to the at least one processor.<br>
40.	The apparatus of claim 39, wherein the at least one processor is configured to derive an over-sampled channel impulse response estimate based on the over-sampled input signal, and to use the over-sampled channel impulse response estimate as the over-sampled channel estimate.<br>
41.	The apparatus of claim 39, wherein the over-sampled channel estimate is for a wireless channel between at least one transmit antenna and at least one receive antenna.<br>
42.	The apparatus of claim 39, wherein the at least one processor is configured to derive at least one set of equalizer coefficients based on at least one of the multiple sub-sampled channel estimates, and to filter at least one of the multiple sub-sampled signals with the at least one set of equalizer coefficients to obtain the at least one output signal,<br>
43.	The apparatus of claim 39, wherein the over-sampled input signal is over-sampled at multiple times chip rate, and wherein each of the multiple sub-sampled signals and each of the multiple sub-sampled channel estimates is at chip rate.<br>
44.	A method comprising:<br>
sub-sampling an over-sampled input .signal to obtain multiple sub-sampled signals;<br>
sub-sampling an over-sampled channel estimate to obtain multiple sub-sampled channel estimates; and<br>
performing equalization on the multiple sub-sampled signals based on the multiple sub-sampled channel estimates to obtain at least one output signal.<br>
45.	The method of claim 44, further comprising:<br>
deriving at least one set of equalizer coefficients based on at least one of the multiple sub-sampled channel estimates, and wherein the performing equalization on the multiple sub-sampled signals comprises filtering at least one of the multiple sub-sampled signals with the at least one set of equalizer coefficients to obtain the at least one output signal.<br>
46.	An apparatus comprising:<br>
means for sub-sampling an over-sampled input signal to obtain multiple sub-sampled signals;<br>
means for sub-sampling an over-sampled channel estimate to obtain multiple sub-sampled channel estimates; and<br>
means for performing equalization on the multiple sub-sampled signals based on the multiple sub-sampled channel estimates to obtain at least one output signal.<br>
47.	The apparatus of claim 46, further comprising:<br>
means for deriving at least one set of equalizer coefficients based on a( least one of the multiple sub-sampled channel estimates, and wherein the means for performing equalization on the multiple sub-sampled signals comprises means for filtering at least one of the multiple sub-sampled signals with the at least one set of equalizer coefficients to obtain the at least one output signal.<br>
48.	An apparatus comprising:<br>
at least one processor configured to derive a channel impulse response estimate, to derive a channel frequency response estimate based on the channel impulse response estimate, to derive frequency-domain equalizer coefficients based on the channel frequency response estimate, to derive time-domain equalizer coefficients based on the frequency-domain equalizer coefficients, and to filter input samples with the time-domain equalizer coefficients; and<br>
a memory coupled to the at least one processor.<br>
49.	The apparatus of claim 48, wherein the ai least one processor is configured to determine timc'domain covariancc values for the input samples, to determine frequency-domain covariance values based on the lime-domain covariance values, and to derive the frequency-domain equalizer coefficients based on the channel frequency response estimate and the frequency-domain covariance values.<br>
50.	The apparatus of claim 48, wherein the at least one processor is configured to derive the frequency-domain equalizer coefficients based on a linear minimum mean square error (LMMSE) technique.<br>
51.	A method comprising:<br>
deriving a channel impulse response estimate;<br>
deriving a channel frequency response estimate based on the channel impulse response estimate;<br>
deriving frequency-domain equalizer coefficients based on the channel frequency response estimate;<br>
deriving time-domain equalizer coefficients based on the frequency-domain equalizer coefficients; and<br>
filtering input samples with the time-domain equalizer coefficients.<br>
52.	The method of claim 51, further comprising:<br>
deterrnining time-domain covariance values for the input samples; and determining frequency-domain covariance: values based on the time-domain covariance   values,   and   wherein   the   deriving   the    frequency-domain   equalizer coefficients comprises deriving the frequency-domain equalizer coefficients based on the channel frequency response estimate and the frequency-domain covariance values.<br>
53.	An apparatus comprising:<br>
means for deriving a channel impulse response estimate;<br>
means for deriving a channel frequency response estimate based on the channel impulse response estimate;<br>
means for deriving frequency-domain equalizer coefficients based on the channel frequency response estimate;<br>
means for deriving time-domain equalizer coefficients based on the frequency-domain equalizer coefficients; and<br>
means for filtering input samples with the time-domain equalizer coefficients.<br>
54.	The apparatus of claim 53, further comprising:<br>
means for deterrnining time-domain covariance values for the input samples; and means for determining frequency-domain covariance values based on the time-domain covariance values, and wherein the means for deriving the frequency-domain equalizer coefficients comprises means for deriving the frequency-domain equalizer coefficients based on the channel frequency response estimate and the frequency-domain covariance values.<br>
55.	An apparatus comprising:<br>
at least one processor configured to sub-sample a first input signal for a first receive antenna to obtain a first set of sub-sampled signals, to sub-sample a second input signal for a second receive antenna to obtain a second set of sub-sampled signals,<br>
to derive a first channel estimate for the first receive antenna, to derive a second channel estimate for the second receive antenna, and to perform equalization on the first and second sets of sub-sampled signals based on the first and second channel estimates; and a memory coupled to the at least one processor.<br>
56.	The apparatus of claim 55, wherein the at least one processor is configured to select a first sub-sampled signal in the first set of sub-sampled signals, to select a second sub-sampled signal in the second set of sub-sampled signals, to derive the first channel estimate for the first sub-sampled signal, to derive the second channel estimate for the second sub-sampled signal, to derive a first set of equalizer coefficients based on the first channel estimate, to derive a second set of equalizer coefficients based on the second channel estimate, to filter the first sub-sampled signal with the first set of equalizer coefficients to obtain a first output signal, to filter the second sub-sampled signal with the second set of equalizer coefficients to obtain a second output signal, and to combine the first and second output signals.<br>
57.	The apparatus of claim 55, wherein the at least one processor is configured, to select a first sub-sampled signal in the first set of sub-sampled signals, to select a second sub-sampled signal in the second set of sub-sampled signals, to determine covariance values for the first and second input signals, to jointly derive first and second sets of equalizer coefficients based on the first and second channel estimates and the covariance values, to filter the first sub-sampled, signal with the first set of equalizer coefficients to obtain a first output signal, to filter the second sub-sampled signal with the second set of equalizer coefficients to obtain a second output signal, and to combine the first and second output signals.<br>
58.	The apparatus of claim 56, wherein the at least one processor is configured to select a first sampling time instant from among multiple sampling time instants for the first receive antenna, wherein the first channel estimate and the first sub-sampled signal arc for the first sampling time instant, and to select a second sampling time instant from among the multiple sampling time instants for the second receive antenna, wherein the second channel estimate and the second sub-sampled signal are for the second sampling time instant.<br>
59.	The apparatus of claim 56, wherein the first or second set of equalizer coefficients is all zeros.<br>
60.	A method comprising:<br>
sub-sampling a first input signal for a first receive antenna to obtain a first set of sub-sampled signals;<br>
sub-sampling a second input signal for a second receive antenna to obtain a second set of sub-sampled signals;<br>
deriving a first channel estimate for the first receive antenna;<br>
deriving a second channel estimate for the second receive antenna; and<br>
performing equalization on the first and second sets of sub-sampled signals based on the first and second channel estimates.<br>
61.	The method of claim 60, wherein the performing equalization on the first<br>
and second sets of sub-sampled signals comprises<br>
selecting a first sub-sampled signal in the first set of sub-sampled signals, selecting a second sub-sampled signal in the second set of sub-sampled signals, deriving a first set of equalizer coefficients based on the first channel estimate, deriving a second set of equalizer coefficients based on the second channel<br>
estimate,<br>
filtering the first sub-sampled signal with the first set of equalizer coefficients to<br>
obtain a first output signal,<br>
filtering the  second  sub-sampled  signal  with the  second set of equalizer<br>
coefficients to obtain a second output signal, and<br>
combining the first and second output signals.<br>
62.	An apparatus comprising:<br>
means for sub-sampling a first input signal for a first receive antenna to obtain a first set of sub-sampled signals;<br>
means for sub-sampling a second input signal for a second receive antenna to obtain a second set of sub-sampled signals;<br>
means for deriving a first channel estimate for the first receive antenna;<br>
means for deriving a second channel estimate for the second receive antenna; and<br>
means for performing equalization on the first and second sets of sub-sampled signals based on the first and second channel estimates.<br>
63.	The apparatus of claim 62, wherein the means for performing<br>
equalization on the first and second sets of sub-sampled signals comprises<br>
means for selecting a first sub-sampled signal in the first set of sub-sampled signals,<br>
means for selecting a second sub-sampled signal in the second set of sub-sampled signals,<br>
means for deriving a first set of equalizer coefficients based on the first channel estimate,<br>
means for deriving a second set of equalizer coefficients based on the second channel estimate,<br>
means for filtering the first sub-sampled signal with the first set of equalizer coefficients to obtain a first output signal,<br>
means for filtering the second sub-sampled signal with the second set of equalizer coefficients to obtain a second output signal, and<br>
means for combining the first and second output signals.<br>
64.	An apparatus comprising:<br>
at least one processor configured to sub-sample an input signal to obtain a set of sub-sampled signals, to derive a first channel estimate for a first transmit antenna, to derive a second channel estimate for a second transmit antenna, and to perform equalization on the set of sub-sampled signals based on the first and second channel estimates; and<br>
a memory coupled to the at least one processor.<br>
65.	The apparatus of claim 64, wherein the at least one processor is<br>
configured to select first and second sub-sampled signals in the set of sub-sampled<br>
signals, to derive a first set of equalizer coefficients based on the first channel estimate,<br>
to derive a second set of equalizer coefficients based on the second channel estimate, to<br>
filter the first sub-sampled signal with the first set of equalizer coefficients to obtain a first output signal, and to filter the second sub-sampled signal with the second set of equalizer coefficients to obtain a second output signal.<br>
66.	The apparatus of claim 64, wherein the at least one processor is configured to select first and second sub-sampled signals in the set of sub-sampled signals, to determine covariance values for the first and second transmit antennas, to jointly derive first and second sets of equalizer coefficients based on the first and second channel estimates and the covariance values, to filter the first sub-sampled signal with the first set of equalizer coefficients to obtain a first output signal, and to filter the second sub-sampled signal with the second set of equalizer coefficients to obtain a second output signal.<br>
67.	The apparatus of claim 65, wherein the input signal is for a data transmission sent with space-time transmit diversity (STTD), and wherein the at least one processor is configured to perform STTD decoding on the first and second output signals.<br>
68.	The apparatus of claim 64, wherein the at least one processor is configured to select one of multiple sampling time instants, and to derive the first and second channel estimates for the selected sampling time instant.<br>
69.	The apparatus of claim 68, wherein the at least one processor is configured to determine energies for the multiple sampling time instants, and to select the sampling time instant with a largest energy among the multiple sampling time<br>
instants.<br>
70.	The apparatus of claim 64, wherein the at least one processor is configured to determine at least one weight to apply to at least one of the first and second transmit antennas, and to send the at least one weight to a transmitter.<br>
71.	A method comprising:<br>
sub-sampling an input signal to obtain a set of sub-sampled signals;<br>
deriving a first channel estimate for a first transmit antenna; deriving a second channel estimate for a second transmit antenna; and performing equalization on the set of sub-sampled signals based on the first and second channel estimates.<br>
72.	The method of claim 71, wherein the performing equalization on the set<br>
of sub-sampled signals comprises<br>
selecting first and second sub-sampled signals in the set of sub-sampled signals, deriving a first set of equalizer coefficients based on the first channel estimate, deriving a second set of equalizer coefficients based on the second channel<br>
estimate,<br>
filtering the first sub-sampled signal with the first set of equalizer coefficients to<br>
obtain a first output signal, and<br>
filtering the  second  sub-sampled  signal  with  the   second  set  of equalizer<br>
coefficients to obtain a second output signal.<br>
73.	An apparatus comprising:<br>
means for sub-sampling an input signal to obtain a set of sub-sampled signals; means for deriving a first channel estimate for a first transmit antenna; means for deriving a second channel estimate for a second transmit antenna; and means for performing equalization on the set of sub-sampled signals based on the first and second channel estimates.<br>
74.	The apparatus of claim 73, wherein the means for performing<br>
equalization on the set of sub-sampled signals comprises<br>
means for selecting first and second sub-sampled signals in the set of sub-sampled signals,<br>
means for deriving a first set of equalizer coefficients based on the first channel estimate,<br>
means for deriving a second set of equalizer coefficients based on the second channel estimate,<br>
means for filtering the first sub-sampled signal with the first set of equalizer coefficients to obtain a first output signal, and<br>
means for filtering the second sub-sampled signal with the second set of equalizer coefficients to obtain a second output signal.<br></z></o></z></z></z></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/viewdoc.aspx?id=qpEmTEvoF8PW9qk8aerHog==&amp;amp;loc=+mN2fYxnTC4l0fUd8W4CAA==" target="_blank" style="word-wrap:break-word;">http://ipindiaonline.gov.in/patentsearch/GrantedSearch/viewdoc.aspx?id=qpEmTEvoF8PW9qk8aerHog==&amp;amp;loc=+mN2fYxnTC4l0fUd8W4CAA==</a></p>
		<br>
		<div class="pull-left">
			<a href="268258-lift-and-pulley-arrangement-for-use-in-a-lift.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="268260-coated-article-comprising-metal-substrate-with-interpenetrating-polymer-network-as-coating.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>268259</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>4147/DELNP/2008</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>35/2015</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>28-Aug-2015</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>24-Aug-2015</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>15-May-2008</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>QUALCOMM INCORPORATED</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>5775 MOREHOUSE DRIVE, SAN DIEGO, CALIFORNIA 92121-1714, UNITED STATE OF AMERICA.</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>GOKHAN MERGEN</td>
											<td>2275 S BASCOM AVENUE, #208, CAMPBELL, CALIFORNIA 95008, USA.</td>
										</tr>
										<tr>
											<td>2</td>
											<td>PARVATHANATHAN SUBRAHMANYA</td>
											<td>468 MADERA AVENUE, #1, SUNNYVALE, CALIFORNIA 94086, USA.</td>
										</tr>
										<tr>
											<td>3</td>
											<td>NITIN KASTURI</td>
											<td>859 UNIVERSITY AVENUE, LOS GATOS, CALIFORNIA 95032, USA.</td>
										</tr>
										<tr>
											<td>4</td>
											<td>RAJESH SUNDARESAN</td>
											<td>CV006 IISC VIJNANAPURA CAMPUS, ISRO ROAD, RMV 2ND STAGE, BANGLORE 560094, INDIA.</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04L 25/03</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/US06/060947</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2006-11-15</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>60/737,459</td>
									<td>2005-11-15</td>
								    <td>U.S.A.</td>
								</tr>
								<tr>
									<td>2</td>
									<td>11/399,891</td>
									<td>2006-04-07</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/268259-an-apparatus-for-performing-equalization by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 06:51:00 GMT -->
</html>
