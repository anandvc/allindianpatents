<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/271149-dynamic-lna-switch-points-based-on-channel-conditions by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 02:27:53 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 271149:DYNAMIC LNA SWITCH POINTS BASED ON CHANNEL CONDITIONS</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">DYNAMIC LNA SWITCH POINTS BASED ON CHANNEL CONDITIONS</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>1. An apparatus comprising at least one processor configured to determine channel conditions observed by a receiver, to select switch points for multiple gain states of the receiver based on the channel conditions, and to select the multiple gain states in accordance with the switch points.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td> <br><br>
DYNAMIC LNA SWITCH POINTS BASED ON CHANNEL CONDITIONS<br>
[0001] The present application claims priority to provisional U.S. Application Serial No. 60/799,882, entitled "Dynamic LNA Switch Points for Optimally EV-DO Throughput," filed May 12, 2006, and to provisional U.S. Application Serial No. 60/813,500, entitled "Dynamic LNA Switch Points Based on Channel Conditions," filed June 13, 2006, both of which are assigned to the assignee hereof and incorporated herein by reference.<br>
BACKGROUND<br>
I.	Field<br>
[0002] The present disclosure relates generally to communication, and more specifically to techniques for operating a receiver in a communication system.<br>
II.	Background<br>
[0003] The design of a high performance receiver is made challenging by various design considerations. For many applications, high receiver performance is required in order to meet system specifications and/or to achieve good data performance. Receiver performance may be characterized by various parameters such as dynamic range, linearity, and noise performance. Dynamic range refers to the range of received signal level that the receiver is expected to handle. Linearity refers to the ability to amplify a signal without generating a large amount of distortion. Noise performance refers to the amount of noise generated by the receiver.<br>
[0004] A receiver is typically designed to meet all applicable system specifications. To support a wide dynamic range, which may be 90 decibels (dB) or more in a Code Division Multiple Access (CDMA) system, the receiver may have multiple discrete gain states, with each gain state providing a particular signal gain and linearity. A suitable gain state may be selected based on the received signal level and channel condition. The points at which to switch gain states may be defined such that the receiver can meet system specifications<br><br>
even with the worst-case operating conditions. The receiver may also be biased with a large amount of current in order to meet linearity requirements with the worst-case jammer conditions. Designing and operating the receiver for the worst-case jammer conditions may result in sub-optimal signal-to-noise ratio performance; and hence, lower data throughput, and higher power consumption in many operating environments.<br>
[0005] There is therefore a need in the art for a receiver that can achieve good linearity performance and good signal-to-noise ratio (SNR) performance for better data throughput.<br>
SUMMARY<br>
[0006] Techniques for operating a receiver to achieve good linearity performance and higher receive signal to noise ratio (SNR) (I don't think power consumption is the topic of this patent) are described herein. The receiver includes one or more circuit blocks, e.g., a low noise amplifier (LNA), having discrete gain states. The gain states are selected based on switch points, with each switch point indicating a specific received signal level at which to switch from one gain state to another gain state.<br>
[0007] In an embodiment, the switch points are dynamically selected based on channel conditions. In this embodiment, the channel conditions observed by the receiver are determined, and the switch points for multiple gain states are selected based on the channel conditions. The gain states are then selected in accordance with the svwtch points selected for use.<br>
[0008] In an embodiment, the channel conditions are characterized by the presence or absence of jammers. A first set of switch points may be selected when jammers are detected, and a second set of switch points may be selected when jammers are not detected. The switch points in the first set may be defined to meet linearity requirements when jammers are present. The switch points in the second set may be defined to achieve higher received signal quality (lower receiver noise figure) when jammers are not present. [0009] Various aspects and embodiments of the invention are described in further detail below.<br><br>
BRIEF DESCRIPTION OF THE DRAWINGS<br>
[0010]       Aspects and embodiments of the invention will become more apparent from the<br>
detailed description set forth below when taken in conjunction with the drawings in which<br>
like reference characters identify correspondingly throughout.<br>
[0011]       FIG. 1 shows a block diagram of a receiver in a wireless device.<br>
[0012]       FIGS. 2A and 2B show input and output RF signals for a two-tone test in IS-98D.<br>
[0013]       FIGS. 3 A and 3B show two embodiments of an LNA with discrete gain states.<br>
[0014]       FIG. 4 shows LNA gain for different switch points with and without jammers.<br>
[0015]       FIG. 5 shows a block diagram of a jammer detector and a digital processor.<br>
[0016]       FIG. 6 shows a process for operating the receiver.<br>
DETAILED DESCRIPTION<br>
[0017] The word "exemplary" is used herein to mean "serving as an example, instance, or illustration." Any embodiment or design described herein as "exemplary" is not necessarily to be construed as preferred or advantageous over other embodiments or designs.<br>
[0018] FIG. 1 shows a block diagram of a receiver 110 in a wireless device 100. Wireless device 100 may also be referred to as a mobile station, a user equipment, a user terminal, a subscriber unit, a handset, or some other terminology. Wireless device 100 may be a cellular phone, a personal digital assistant (PDA), a wireless modem, a handheld device, and so on.<br>
[0019] Within receiver 110, a low noise amplifier (LNA) 120 amplifies a received radio frequency (RF) signal with a discrete gain and provides an amplified RF signal. In an embodiment, LNA 120 has multiple (M) gain states, with each gain state corresponding to a different gain. One of the M gain states is selected as described below. A bandpass filter 122 filters the amplified RF signal and provides a conditioned RF signal. Bandpass filter 122 passes signal components in a frequency band of interest (e.g., cellular band or PCS band) and removes out-of-band noise and undesired signal components. Bandpass filter 122 may be a surface acoustic wave (SAW) filter or some other type of filter.<br><br>
[0020] In general, a receiver may be implemented with a super-heterodyne architecture or a direct-to-baseband architecture. In the super-heterodyne architecture, the received RF signal is frequency downconverted in multiple stages, e.g., from RF to an intermediate frequency (IF) in one stage, and then from IF to baseband in another stage. In the direct-to-baseband architecture, the received RF signal is frequency downconverted from RF directly to baseband in one stage. The super-heterodyne and direct-to-baseband architectures may use different circuit blocks and/or have different requirements. For clarity, the following description is for the direct-to-baseband architecture.<br>
[0021] Mixers 124a and 124b frequency downconvert the conditioned RF signal with inphase (I) and quadrature (Q) local oscillator (LO) signals, respectively, and provide I and Q baseband signals, respectively. An LO signal is a carrier signal at a desired frequency. The I and Q LO signals are 90° out of phase but have the same frequency. An LO generator 132 generates the I and Q LO signals based on a VCO signal from a voltage controlled oscillator (VCO) 134. The frequency of the VCO signal is selected such that the signal component in an RF channel of interest is downconverted to baseband or near baseband.<br>
[0022] Lowpass filters 126a and 126b filter the I and Q baseband signals, respectively, to pass the desired signal component in the RF channel of interest and to remove noise and undesired components that may have been generated by the downconversion process. Amplifiers (Amp) 128a and 128b amplify the I and Q filtered baseband signals from lowpass filters 126a and 126b, respectively. Analog-to-digital converters (ADCs) 130a and 130b digitize the I and Q analog signals from amplifiers 128a and 128b, respectively, and provide I and Q data samples to a digital processor 150. Digital processor 150 performs digital signal processing (e.g., demodulation, deinterleaving, decoding, and so on) on the data samples, as specified by the system.<br>
[0023] In the embodiment shown in FIG. 1, receiver 110 includes a separate frequency downconversion path for jammer detection. A jammer is an undesired signal component that may be much higher in amplitude than a desired signal component and may be located close in frequency to the desired signal component. A mixer 138 frequency downconverts the conditioned RF signal with the Q LO signal and provides a baseband signal. A jammer detector 140 receives the baseband signal and detects for presence of jammers. In another<br><br>
embodiment, jammer detection is performed based on signals in the I and/or Q receive paths, e.g., the baseband signals from mixer 124a and/or 124b. In yet another embodiment, jammer detection is performed based on the data samples provided to digital processor 150. For example, a Fourier transform may be performed on the data samples, and jammers may be detected by examining spectral components from the Fourier transform. Jammer detection may also be performed in other manners.<br>
[0024] A controller/processor 160 directs the operations of various processing units at wireless device 100. A memory 162 stores data and program codes for wireless device 100.<br>
[0025] FIG. 1 shows a specific embodiment of receiver 110. In general, a receiver may perform signal conditioning using one or more stages of amplifier, filter, mixer, and so on, which may be arranged differently from the embodiment shown in FIG. 1. Furthennore, a receiver may employ other circuit blocks not shown in FIG. 1.<br>
[0026] FIG. 2A shows an exemplary received RF signal at the input of LNA 120 in FIG. 1. The received RP signal includes a desired signal component 212 centered at a frequency of^ and two jammers 214a and 214b located at frequencies of/j and ^, respectively. For cdma2000, the desired CDMA signal has a bandwidth of 1.23 MHz. [0027] IS-98D specifies a two-tone test that is applicable to cdma2000 receivers. In this test, two tones are located at +/-900 KHz and +/-1700 KHz from the center frequency of the desired CDMA signal and are 58 dB higher in amplitude than the CDMA signal level. These two tones model strong interfering signals transmitted by a nearby base station in an Advanced Mobile Phone Service (AMPS) system. IS-98D specifies three test cases, which are given in Table 1.<br>
Table 1<br><br>
	Desired Signal Level	Jammer Level	<br>
Case 1	-101 dBm	-43 dBm	<br>
Case 2	-90 dBm	-32 dBm	<br>
Case 3	-79 dBm	-21 dBm	<br><br>
[0028]       An active device, such as LNA 120 or mixer 124, has the following transfer function:<br>
y(x) = o, • X + flj • x^ + flj • x^ + higher order terms ,	Eq (1)<br>
where x is an input signal for the active device,<br>
ai, 02 and aj are coefficients that define the linearity of the active device, and y(x) is an output signal from the active device.<br>
[0029]       For simplicity, higher order terms above third order may be ignored.   For the two-tone test shown in FIG. 2A, the input signal may be expressed as;<br>
X = r(t) +g,-cosilz f^-t) + g^-cos{271 f^-t) ,	Eq(2)<br>
where r(j() is the desired CDMA signal as a function of time /, and<br>
gi andg2 are the amplitude of the jammers at/i and^, respectively.<br>
[0030] For an ideal active device, coefficients oz and a^ are equal to 0.0, and the output signal is simply equal to the input signal scaled by ai. However, all active devices experience some amount of non-linearity, which is quantified by coefficients 02 and aj. Coefficient 02 defines the amount of second order non-linearity, and coefficient 03 defines the amount of third order non-linearity.<br>
[0031] FIG. 2B shows the amplified RF signal at the output of LNA 120. Non-linearity in LNA 120 may cause (1) second-order intermodulation (IM2) components at frequencies such as f^-fx, fi+fi, 2/1 and 2/2 and (2) third-order intermodulation (IM3) components at frequencies such as 2/ - /^ and 2/^ - /,. The IM2 components are caused by the x^ term in equation (1) and may be mitigated by careful design methodology. The IM3 components are caused by the x^ term in equation (1) and are more problematic. For the two-tone test, jammers at /, = +900 KHz and /, = +1700 KHz produce an 1M3 component 216a at 2/, -/, = +100 KHz and an IM3 component 216b at 2f^ -/, = +2500 KHz. The IM3 component at +2500 KHz may be filtered by lowpass filters 126a and 126b in FIG. 1. However, the IM3 component at +100 KHz falls inside the desired signal bandwidth and acts as additional noise that degrades the desired signal.<br><br>
[0032] The amplitudes of the IMS components are determined by coefficient 03 as well as the amplitudes gi and g2 of the jammers. A smaller 03 may typically be obtained by biasing the active device with more current. The amplitudes of the IMS components at 2/ -/2 and 2/j -/, are scaled by 03 as well as g^ -gl and g^ -g^, respectively. Hence, a 1 dB increase in the jammer amplitude results in a 3 dB increase in the IMS components. [0033] Mixers 124a and 124b also have non-linearity and generate IMS components. The amplitudes of the IMS components from mixers 124a and 124b are dependent on the gain of preceding LNA 120. In particular, an X dB increase in the gain of LNA 120 results in an X dB increase in the desired signal and the jammers at the output of LNA 120. This X dB increase in the jammers results in a 3X dB increase in the IMS components from mixers 124. Hence, when jammers are present, it is desirable to decrease the gain of LNA 120. For example, the same jammer level may be provided to mixers 124a and 124b for all three cases in Table 1 by decreasing the LNA gain by approximately 11 dB from case 1 to case 2, and by approximately another 11 dB from case 2 to case S.<br>
[0034] However, decreasing the gain of LNA 120 may degrade noise performance. An active device generates thermal noise that degrades signal quality. Since the amount of noise generated by the active device is approximately constant, signal quality degrades as the gain of the active device is lowered and the signal amplitude is decreased. The amount of noise degradation may be quantified by a noise figure (NF), which may be expressed as:<br>
NF,^SNR,„-SNR„,,,	Eq (3)<br>
where SNRi„ is the signal-to-noise ratio (SNR) of an input signal for the active device, SNRout is the SNR of an output signal from the active device, and NFd is the noise figure of the active device.<br>
SNRin, SNRout and NFd are given in units of dB.<br>
[0035]       If multiple active devices are coupled in cascade, then the noise figure from the<br>
first active device to the n-th active device may be expressed as:<br><br>
10<br>
iVF„=10 1og<br><br>
/^	lO'^^*'^"-!<br>
10^<br>
10"'"-""°+   ".o..,.o     h	Eq(4)<br><br>
where NFd„ is the noise figure of the «-th active device,<br>
G„.i is the accumulated gain of the first through («-l)-th active devices,<br>
NF„.\ is the cascaded noise figure of the first through («-l)-th active devices, and<br>
NF„ is the cascaded noise figure of the first through n-th active devices.<br>
[0036] As shown in equation (4), the gain of an active device affects the cascaded noise figure of a subsequent active device. LNA 120 is coupled in cascade with mixers 124. Thus, the gain of LNA 120 affects the cascaded noise figure of mixers 124. [0037] FIG. 3A shows a block diagram of an LNA 120a, which is one embodiment of LNA 120 in FIG. 1. In this embodiment, LNA 120a includes M LNA stages 310a through 310m that are coupled in cascade. The first LNA stage 310a receives the received RF signal, and the last LNA stage 310m provides the amplified RF signal. Each LNA stage 310 has a switch 312 coupled in parallel with the LNA stage. A gain control unit 330a generates controls for switches 312a through 312m. Each switch 312 may be closed or opened based on its control. A bias control unit 332a generates bias currents for LNA stages 310a through 310m. Gain control unit 330a and bias control unit 332a are an embodiment of LNA control unit 144 in FIG. 1.<br>
[0038] Each LNA stage 310 provides a particular gain. The M LNA stages 310a through 310m may provide the same or different gains. In an embodiment, M different gain states are obtained for LNA 120a by enabling different combinations of LNA stages. For example, the lowest gain state GM may be obtained by enabling LNA stage 310a and bypassing remaining LNA stages 310b through 310m, the second lowest gain state Gu-\ may be obtained by enabling LNA stages 310a and 310b and bypassing remaining LNA stages, and so on, and the highest gain state Gi may be obtained by enabling all M LNA stages 310a through 310m. An LNA stage may be enabled by providing bias current to that LNA stage and opening the switch coupled in parallel with the LNA stage. Conversely, an LNA stage may be bypassed by providing no bias current to the LNA stage and closing the switch coupled in parallel with the LNA stage. Discrete gain states may also be obtained by enabling and bypassing the LNA stages in other manners.<br>
[0039] FIG. 3B shows a block diagram of an LNA 120b, which is another embodiment of LNA 120 in FIG. 1. In this embodiment, LNA 120b includes a single LNA stage 320, K<br><br>
feedback circuits 322a through 322k, and L bypass paths 326a through 326^, where in general K &gt; 0 and L &gt; 0. LNA stage 320 receives the received RF signal and provides the amplified RF signal. Each feedback circuit 322 couples in series with a switch 324, and the combination is coupled across LNA stage 320. Each bypass path 326 couples in series with a switch 328, and the combination is coupled in parallel with LNA stage 320. A gain control unit 330b generates controls for switches 324a through 324k and switches 328a through 328^. Each switch may be closed or opened based on its control. A bias control unit 332b generates bias current for LNA stage 320. Gain control unit 320b and bias control unit 332b are another embodiment of LNA control unit 144 in FIG. 1. [0040] Each feedback circuit 322 provides a different gain for LNA stage 320. Each bypass path 326 provides a different amount of attenuation for the received RF signal. Different gain states may be obtained for LNA 120b by enabling different feedback circuits 322 or different bypass paths 326.<br>
[0041] FIGS. 3A and 3B shows two exemplary LNA designs. The techniques described herein may also be used with other LNAs having discrete gain states. [0042] In an embodiment, the LNA switch points are determined based on channel conditions. An LNA switch point is a point at which an LNA is switched from one gain state to another gain state. For an LNA with M gain states  there are M -1 switch points. Each switch point may be defined as a particular received signal level/strength, a particular received pilot power, a particular received signal quality, or some other quantity. The channel conditions may be characterized by the presence or absence of jammers, the magnitude of the jammers, the presence or absence of other interferers, and/or other factors. Different sets of LNA switch points may be defined for different channel conditions. One set of LNA switch points may be selected for use at any given moment based on the current channel conditions.<br>
[0043] In an embodiment, a first set of LNA switch points is used when jammers are detected, and a second set of LNA switch points is used when jammers are not detected. The LNA switch points in the first set may be defined to be lower than the LNA switch points in the second set. This results in the LNA gain being generally lower, for cases 2 or 3 from table 1, when jammers are detected, which improves linearity and allows the wireless device to meet linearity requirements.   This also results in the LNA gain being<br><br>
generally higher when jammers are not detected, which improves noise performance and allow the wireless device to achieve higher SNR. The higher SNR results in higher data throughput, lower packet error, and/or other benefits.<br>
[0044] Table 2 shows an embodiment of dynamic LNA switch points based on the presence or absence of jammers. For clarity, the embodiment in Table 2 is for an LNA with five gain states Gi through Gj, with Gi being the highest gain state and Gj being the lowest gain state. The embodiment in Table 2 utilizes hysteresis to avoid continually switching between gain states when the received signal level fluctuates near a switch point. When jammers are detected, the first set of switch points Si2j through S54J is used to select the gain of the LNA. When jammers are not detected, the second set of switch points Si2n through S54n is used to select the gain of the LNA. Switch point Sxyj is used to switch from gain state Gx to gain state Gy when jammers are detected, where subscript "j" denoted jammers. Switch point Sxyn is used to switch from gain state Gx to gain state Gy when jammers are not detected, where subscript "n" denoted no jammers.<br>
Table 2 - LNA switch points<br><br>
	LNA switch points with jammers detected	LNA switch points with no jammers detected<br>
LNA Gain State	Increasing signal level	Decreasing signal level	Increasing signal level	Decreasing signal level<br>
G,	<br><br><br><br><br><br>
	Sl2j	S21J	Sl2n	S21n<br>
G2	<br><br><br><br><br><br>
	S23J	S32J	S23n	S32n<br>
G3	<br><br><br><br><br><br>
	S34J	S43J	S34n	S43n<br>
G4	<br><br><br><br><br><br>
	S45J	S54J	S45n	S54n<br>
Gs	<br><br><br><br><br><br><br>
[0045] In general, the switch points in each set may be determined based on computer simulation, lab testing, empirical measurements, emd/or other means. In an embodiment, the first set of LNA switch points is defined to meet linearity requirements for the two-tone test in IS-98D and other applicable tests. The second set of LNA switch points may be defined to achieve improved SNR and data performance when jammers are not present.<br><br>
[0046] FIG. 4 shows plots of LNA gain versus received signal level for two cases -with and without jammers. Plot 410 shows LNA gain for increasing received signal level when jammers are detected. Starting from the highest gain state Gi, the next lower gain state G2 is selected if the received signal level exceeds switch point S^j, then the next lower gain state G3 is selected if the received signal level exceeds switch point S23J, then the next lower gain state G4 is selected if the received signal level exceeds switch point S34J, and then the lowest gain state G5 is selected if the received signal level exceeds switch point S45J, where S^j 
[0047] The LNA gain for decreasing received signal level is not shown in FIG. 4 but is indicated in Table 2. When at the lowest gain state G5, the next larger gain state G4 is selected if the received signal level falls below S54J, then the next larger gain state G3 is selected if the received signal level falls below S43J, then the next larger gain state G2 is selected if the received signal level falls below S32J, and then the largest gain state Gi is selected if the received signal level falls below S21J. The switch points may be defined such that Si2j &gt; S21J, S23J &gt; S32J, S34J &gt; S43J, and S45J &gt; S54J (these changes must be made to agree with paragraph 0059) to obtain hysteresis. For example, if Snj is higher than S21J, then after switching to gain state G2 when the received signal level exceeds Si2j, the received signal level would need to past Si2j and fall below the lower S21J in order to activate a switch back to gain state Gi. The difference between Snj and S21J is the amount of hysteresis. [0048] Plot 412 shows LNA gain for increasing received signal level when jammers are not detected. In general, the gain selection may be performed in the same manner for both cases with and without jammers. However, the switch point Sxyn for transitioning from gain state Gx to gain state Gy for the case without jammers is higher than the corresponding switch point Sxyj for the case with jammers, or (change to greater than)S,^ &gt; S^j.   This<br>
allows a higher gain state to be selected with a lower received signal level when jammers are not detected.<br>
[0049] In another embodiment, more than two sets of LNA switch points are defined for different jammer levels. For example, a first set may be defined for no jammers, a second set may be defined for medium jammers, and a third set may be defined for large jammers.  In general, any number of sets may be defined.  One set of LNA switch points<br><br>
may be selected for use from among the available sets based on the detected jammer amplitude.<br>
[0050] FIG. 5 shows a block diagram of an embodiment of jammer detector 140 and digital processor 150 in FIG. 1. Within jammer detector 140, a lowpass filter 510 receives and filters the baseband signal from mixer 138 with a lowpass filter response. Filter 510 may be a programmable pre-selector filter having a bandwidth determined by the band class (e.g., cellular or PCS) being received. Filter 510 may be used to attenuate leakage signals from a transmitter co-located with receiver 110 at wireless device 100. Filter 510 may also be omitted.<br>
[0051] A diode (don't have to use a diode, does this make it too specific?) 512 rectifies the signal from lowpass filter 510 and converts this signal from a sinusoidal signal (with positive and negative amplitude) to a single-ended signal (Avith only positive amplitude). A lowpass filter 514 formed with a resistor 516 and a capacitor 518 filters the rectified signal and provides a filtered signal. Filter 514 has a bandwidth selected to reduce the variance of the jammer detector output as desired. A comparator (Comp) 520 compares the filtered signal against a jammer threshold, Vtu, and provides a jammer indicator signal. The jammer threshold, Vth, may be programmed by the digital processor 150 to different levels based on the current gain state of the receiver, or channel conditions, or received signal strength. The jammer indicator signal may be (1) logic high '1' if the filtered signal amplitude is larger than the jammer threshold, indicating the presence of jammers in the received signal, or (2) logic low '0' otherwise. A jammer processing unit 522 processes the jammer interrupt signal and provides a jammer indicator that indicates whether or not jammers are detected. Unit 522 may filter the jammer signal to reduce chatter/toggling of the jammer indicator. Unit 522 may perform filtering with various types of filter, wdth counters, and so on. Unit 522 may also apply hysteresis in the detection of jammers. The jammer indicator may be a status signal, an interrupt, or some other type of signal. Information regarding the jammers may be sent in the jammer indicator and/or stored in unit 522. For example, if the jammer indicator is an interrupt, then digital processor 150 may retrieve pertinent information from unit 522 upon receiving the interrupt.<br>
[0052]       In the embodiment shown in FIG. 5, a single jammer detector 140 is used to detect for jammers.   In another embodiment, one jammer detector is used to detect for<br><br>
close-in jammers, and another jammer detector is used to detect for far-out jammers. A close-in jammer is a jammer that is close in frequency to the desired signal. A far-out jammer is a jammer that is further out in frequency from the desired signal. The jammer indicators from all jammer detectors may be used to select the switch points, gain, and/or bias of the LNA.<br>
[0053] Within digital processor 150, a data demodulator 530 receives and demodulates the I and Q data samples from ADCs 130 in accordance with the system being received. A signal detector 532 determines the received signal level based on an output (e.g., pilot symbols) from demodulator 530.<br>
[0054] An LNA switch point selector 536 receives the jammer indicator from jammer detector 140 and determines the LNA switch points to use based on the jammer indicator and possibly other information. A look-up table 534 stores different sets of LNA switch points for different channel conditions, e.g., one set of LNA switch points for the case when jammers are detected, and another set of LNA switch points for the case when jammers are not detected, e.g., as shown in Table 2. Selector 536 may retrieve the proper set of LNA switch points from look-up table 534 based on whether or not jammers are detected. A gain state selector 540 receives the LNA switch points from selector 536 and the received signal level from signal detector 532. Selector 540 compares the received signal level against the LNA switch points and selects a gain state for LNA 120 based on the comparison results. One set of LNA switch points may thus be selected based on the presence or absence of jammers, and a gain state may be selected based on this set of LNA switch points and the received signal level.<br>
[0055] A bias selector 542 receives the jammer indicator and/or the received signal level and generates a bias control for LNA 120. In an embodiment, the bias control is generated based solely on the jammer indicator. In another embodiment, the bias control is generated based on the jammer indicator and the received signal level. In any case, the bias control determines the amount of bias current to use for LNA 120. For example, more bias current may be used when jammers are detected, and less bias current may be used when jammers are not detected, (add a period)<br><br>
[0056] In an embodiment, the gain state and bias of LNA 120 are determined and applied at the same time. In another embodiment, the gain state and bias are independently determined and applied whenever pertinent information is available. [0057] FIG. 6 shows an embodiment of a process 600 for operating a receiver in a wireless device. Channel conditions observed by the receiver are determined (block 612). Switch points for multiple gain states of the receiver are selected based on the channel conditions (block 614). Each switch point is associated with two gain states and indicates a specific received signal level at which to switch from one gain state to another gain state. Multiple sets of switch points may be stored for different channel conditions, and one set of switch points may be selected based on the channel conditions. The multiple gain states are then selected in accordance with the switch points (block 616). For block 616, the received signal level of a received signal may be compared against the switch points, and one of the multiple gain states may be selected based on the comparison results. The multiple gain states may be for an LNA and/or other circuit blocks in the receiver. Bias current of the LNA and/or other circuit block may also be determined based on the channel conditions and/or the received signal level.<br>
[0058] In an embodiment, the channel conditions are characterized by the presence or absence of jammers. A first set of switch points may be selected when jammers are detected, and a second set of switch points may be selected when jammers are not detected. The switch points in the first set may be defined to meet linearity requirements when jammers are present. The switch points in the second set may be defined to achieve higher signal-to-noise ratio than the switch points in the first set when jammers are not present. The switch points in the first set are lower than the corresponding switch points in the second set.<br>
[0059] The selected set of switch points may include a first subset of switch points for decreasing received signal level and a second subset of switch points for increasing received signal level. The switch points in the first subset may be lower than the corresponding switch points in the second subset to provide hysteresis. [0060] The techniques described herein may be used to dynamically select switch points for an LNA, as described above.  The techniques may also be used to dynamically<br><br>
select switch points for other circuit blocks with discrete gain states, e.g., mixers, variable gain amplifiers (VGAs), and so on.<br>
[0061] The techniques described herein may be used for receivers in various wireless communication systems such as CDMA systems. Time Division Multiple Access (TDMA) systems. Frequency Division Multiple Access (FDMA) systems. Orthogonal FDMA (OFDMA) systems, Single-Camer FDMA (SC-FDMA) systems, and other systems. A CDMA system may implement one or more radio technologies such as cdma2000, Wideband-CDMA (W-CDMA), and so on. cdma2000 covers IS-95, IS-2000, and IS-866 standards. A TDMA system may implement a radio technology such as Global System for Mobile Communications (GSM). These radio technologies and systems are known in the art.<br>
[0062] The techniques described herein may be implemented by various means. For example, the techniques may be implemented in hardware, firmware, software, or a combination thereof For a hardware implementation, the processing units used to dynamically select switch points may be implemented within one or more application specific integrated circuits (ASICs), digital signal processors (DSPs), digital signal processing devices (DSPDs), programmable logic devices (PLDs), field programmable gate arrays (FPGAs), processors, controllers, micro-controllers, microprocessors, electronic devices, other electronic units designed to perform the fiinctions described herein, or a combination thereof<br>
[0063] For a firmware and/or software implementation, the techniques may be implemented with modules (e.g., procedures, functions, and so on) that perform the functions described herein. The firmware and/or software codes may be stored in a memory (e.g., memory 162 in FIG. 1) and executed by a processor (e.g., processor 160). The memory may be implemented within the processor or external to the processor. [0064] The previous description of the disclosed embodiments is provided to enable any person skilled in the art to make or use the present invention. Various modifications to these embodiments will be readily apparent to those skilled in the art, and the generic principles defined herein may be applied to other embodiments without departing from the spirit or scope of the invention. Thus, the present invention is not intended to be limited to<br><br>
the embodiments shown herein but is to be accorded the widest scope consistent with the principles and novel features disclosed herein.<br>
[0065]       WHAT IS CLAIMED IS:<br><br><br>
CLAIMS<br>
1. An apparatus comprising at least one processor configured to determine channel conditions observed by a receiver,<br>
to select switch points for multiple gain states of the receiver based on the channel conditions, and<br>
to select the multiple gain states in accordance with the switch points.<br>
2.	The apparatus of claim 1, further comprising:<br>
a memory configured to store multiple sets of switch points for different channel conditions, and<br>
wherein the at least one processor is configured to select the multiple sets of switch points based on the channel conditions.<br>
3.	The apparatus of claim 1  wherein the multiple gain states are for a low noise amplifier (LNA) in the receiver.<br>
4.	The apparatus of claim 1, wherein the channel conditions are characterized by presence or absence of jammers.<br>
5.	The apparatus of claim 4, further comprising:<br>
a jammer detector configured to detect for jammers in a received signal.<br>
6.	The apparatus of claim 5, wherein the jammer detector is configured to generate an interrupt for the at least one processor when jammers are detected.<br>
7.	The apparatus of claim 4, wherein the at least one processor is configured<br>
to select a first set of switch points when jammers are detected and to select a second set of switch points when jammers are not detected.<br><br>
8.	The apparatus of claim 7, wherein the switch points in the first set are lower than corresponding switch points in the second set.<br>
9.	The apparatus of claim 7, wherein the switch points in the first set are defined to meet linearity requirements for the receiver when jammers are present.<br>
10.	The apparatus of claim 7, wherein the switch points in the second set are defined to achieve higher received signal quality than the switch points in the first set when jammers are not present.<br>
11.	The apparatus of claim 1, wherein the switch points comprise a first subset of switch points for decreasing received signal level and a second subset of switch points for increasing received signal level, and wherein the switch points in the first subset are lower than corresponding switch points in the second subset.<br>
12.	The apparatus of claim 1, wherein each switch point is associated with two gain states and indicates a specific received signal level at which to switch from one of the two gain states to the other one of the two gain states.<br>
13.	The apparatus of claim 1, wherein the at least one processor is configured<br>
to determine received signal level of a received signal,<br>
to compare the received signal level against the switch points, and<br>
to select one of the multiple gain states based on results of the comparison.<br>
14.	The apparatus of claim 4, wherein the at least one processor is<br>
configured<br>
to determine bias current of a low noise amplifier (LNA) in the receiver based on presence or absence of jammers.<br>
15.	A method compri si ng:<br>
determining channel conditions observed by a receiver;<br><br>
selecting switch points for multiple gain states of the receiver based on the channel conditions; and<br>
selecting the multiple gain states in accordance with the switch points.<br>
16.	The method of claim 15, further comprising:<br>
storing multiple sets of switch points for different channel conditions; and providing one of the multiple sets of switch points based on the channel conditions.<br>
17.	The method of claim   15,  wherein the selecting the switch points<br>
comprises<br>
selecting a first set of switch points when jammers are detected, and selecting a second set of switch points when jammers are not detected.<br>
18.	The method of claim 15, wherein the selecting the multiple gain states<br>
comprises<br>
determining received signal level of a received signal, comparing the received signal level against the switch points, and selecting one of the multiple gain states based on results of the comparison.<br>
19.	An apparatus comprising:<br>
means for determining channel conditions observed by a receiver; means for selecting switch points for multiple gain states of the receiver based on the channel conditions; and<br>
means for selecting the multiple gain states in accordance with the switch points.<br>
20.	The apparatus of claim 19, further comprising:<br>
means for storing multiple sets of switch points for different channel conditions; and<br>
means for providing one of the multiple sets of switch points based on the channel conditions.<br><br>
21.	The apparatus of claim 19, wherein the means for selecting the switch<br>
points comprises<br>
means for selecting a first set of switch points when jammers are detected, and means for selecting a second set of switch points when jammers are not detected.<br>
22.	The apparatus of claim 19, wherein the means for selecting the multiple<br>
gain states comprises<br>
means for determining received signal level of a received signal, means for comparing the received signal level against the switch points, and means for selecting one of the multiple gain states based on results of the comparison.<br>
23.	A computer program product, comprising:<br>
computer-readable medium comprising:<br>
code for causing a computer to determine channel conditions observed by a receiver;<br>
code for causing a computer to select switch points for multiple gain states of the receiver based on the channel conditions; and<br>
code for causing a computer to select the multiple gain states in accordance with the switch points.<br>
24.	The computer program product of claim 23, further comprising: code for selecting a first set of switch points when jammers are detected, and code for selecting a second set of switch points when jammers are not detected.<br>
25.	A receiver in a wireless device, comprising<br>
a jammer detector configured to detect for jammers in a received signal; and a low noise amplifier (LNA) having multiple gain states selected based on<br>
switch points determined channel conditions characterized by presence or absence of<br>
jammers.<br><br>
26.	The receiver of claim 25, wherein a tirst set ot switch points is used tor the receiver when jammers are detected and a second set of switch points is used for the receiver when jammers are not detected.<br>
27.	The receiver of claim 25, wherein the LNA comprises multiple stages configurable to provide the multiple gain states.<br>
28.	The receiver of claim 25, wherein the LNA comprises a single LNA stage and multiple circuit paths configurable to provide the multiple gain states, wherein each circuit path changes gain of the LNA stage or provides a bypass path for the LNA stage.<br>
29.	The receiver of claim 25, wherein the jammer detector is configured<br>
to compare a baseband signal level against a threshold and<br>
to filter results of the comparison to detect for jammers in the received signal.<br>
y-N. I<br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/viewdoc.aspx?id=H6tYiqAhL6A/nsEQnz0+bQ==&amp;amp;loc=egcICQiyoj82NGgGrC5ChA==" target="_blank" style="word-wrap:break-word;">http://ipindiaonline.gov.in/patentsearch/GrantedSearch/viewdoc.aspx?id=H6tYiqAhL6A/nsEQnz0+bQ==&amp;amp;loc=egcICQiyoj82NGgGrC5ChA==</a></p>
		<br>
		<div class="pull-left">
			<a href="271148-method-for-preparing-a-superplasticizer.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="271150-a-dual-pump-assembly-for-delivering-fluid-to-a-transmission.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>271149</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>5827/CHENP/2008</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>06/2016</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>05-Feb-2016</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>04-Feb-2016</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>28-Oct-2008</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>QUALCOMM INCORPORATED,</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>5775 MOREHOUSE DRIVE, SAN DIEGO, CALIFORNIA 92121-1714,</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>STEVEN, C. CICCARELLI</td>
											<td>2704 LUELF STREET, RAMONA, CALIFORNIA 92065</td>
										</tr>
										<tr>
											<td>2</td>
											<td>BRIAN GEORGE</td>
											<td>9469 ALDABRA COURT, SAN DIEGO, CALIFORNIA 92121-1714</td>
										</tr>
										<tr>
											<td>3</td>
											<td>SOON-SENG LAU</td>
											<td>1013 TERRAZA FLORACION, SAN DIEGO, CALIFORNIA 92127</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04B1/10</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/US07/068714</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2007-05-10</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>60/799,882</td>
									<td>2006-05-12</td>
								    <td>U.S.A.</td>
								</tr>
								<tr>
									<td>2</td>
									<td>60/813,500</td>
									<td>2006-06-13</td>
								    <td>U.S.A.</td>
								</tr>
								<tr>
									<td>3</td>
									<td>11/560,790</td>
									<td>2006-11-16</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/271149-dynamic-lna-switch-points-based-on-channel-conditions by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 02:27:54 GMT -->
</html>
