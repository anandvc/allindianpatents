<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/219269-method-and-apparatus-for-optimizing-gps-based-position-location-in-presence-of-time-varying-frequency-error by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 12:02:04 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 219269:METHOD AND APPARATUS FOR OPTIMIZING GPS-BASED POSITION LOCATION IN PRESENCE OF TIME VARYING FREQUENCY ERROR</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">METHOD AND APPARATUS FOR OPTIMIZING GPS-BASED POSITION LOCATION IN PRESENCE OF TIME VARYING FREQUENCY ERROR</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>Position determination accuracy of a wireless communication device may be negatively affected by a large unaccounted GPS doppler bias,.which in turn may affect GPS doppler estimations and GPS doppler measurements conducted by the wireless communication device. The quality of GPS doppler measurements is very important for position location, because poor quality GPS doppler measurements may prevent the wireless communication device from acquiring satellites in the most sensitive modes with narrow frequency ranges, which results in reduced GPS pseudorange measurement yield. Large unaccounted GPS doppler bias also adversely affects position accuracy because of the adverse effect on the GPS code phase measurements time propagation to common time prior to their use in position location calculation. The same is true in the case of unaccounted CDMA code doppler, through the adverse effect on the AFLT code phase measurements time propagation to common time prior to their use in a position location engine. This effect is the biggest concern in the case of large search windows. Therefore, the present disclosure provides a method of optimizing GPS based position location in the presence of time-varying frequency error, including the steps of continuously measuring and/or calculating resulting GPS doppler bias and CDMA code doppler bias and then minimizing their adverse effects with regard to position location determination by re-centering GPS doppler search windows based on the GPS doppler bias value, as well as using GPS doppler bias and CDMA code doppler bias value to properly propagate GPS pseudorange and AFLT pilot phase measurements, respectively, to common time prior to their use in a position location engine.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td> <br><br><br><br>
METHOD AND APPARATUS FOR OPTIMIZING GPS-BASED POSITION LOCATION IN PRESENCE OF TIME VARYING<br>
FREQUENCY ERROR<br>
BACKGROUND OF THE INVENTION<br>
Related Applications<br>
[0001] This application claims priority from U.S. Provisional Application No. 60/420,583, filed on October 22, 2002, and U.S. Provisional Application No. 60/440,960, filed on January 16, 2003<br>
Field of the Disclosure<br>
[0002] The present disclosure relates to communication systems and, more specifically, the present disclosure relates to systems and techniques for locating the position of a wireless communication device in a Code Division Multiple Access<br>
system.<br>
DESCRIPTION OF THE RELATED ART<br>
[0003]  Mobile communications networks are in the process of offering increasingly<br>
sophisticated capabilities for locating the position of a mobile terminal of the network.<br>
The regulatory requirements of a jurisdiction may require a network operator to report<br>
the location of a mobile terminal when the mobile terminal places a call to an<br>
emergency service, such as a 911  call in the United States.    In a Code Division<br>
Multiple Access (CDMA) digital cellular network, the position location capability can<br>
be provided by Advanced Forward Link Trilateration (AFLT), a technique that<br>
computes the location of the mobile station (MS) from the mobile station's measured<br>
time of arrival of radio signals from the base stations (BSV    A more advanced<br>
technique is hybrid position location, where the mobile station employs a Global<br>
Positioning System (GPS) receiver and the position is computed based on both AFLT<br>
and GPS measurements.   A further application of the hybrid technique is when time<br>
obtained from a GPS-synchronous cellular network is used in obtaining the GPS<br>
measurements and computing the mobile station's position.<br><br>
[0004] Currently, GPS receivers are being incorporated into mobile terminals in order to increase the accuracy of mobile tenninal location determination. The GPS receivers can be autonomous and perform all GPS acquisition functions and position calculations (also know as standalone), or they can be non-autonomous (also known as wireless assisted) and rely on the cellular network for providing GPS acquisition data and possibly performing the position calculations. By receiving GPS aiding data from the network, a mobile terminal with GPS capability can obtain the time and position data from the GPS satellites in about 10 seconds or less, during a typical phone call. Many, if not most, CDMA wireless phones having GPS capability are expected to be wireless assisted GPS receivers having hybrid capability of providing both GPS and ART position information upon the request of a serving base station handling a call from the wireless phone. The position location session can be MS-assisted or MS-based, depending on where the position computation takes place. In the MS-assisted case, the mobile station sends back raw or pre-processed measurement data to the base station. A network entity then computes the location. In the MS-based case, the position computation is performed in the mobile station.<br>
[0005] Message protocols and formats for CDMA position location employing AFLT, GPS and hybrid receivers, applicable to both the MS-based and MS-assisted cases, have been published in TIA/EIA standard IS-801-1 2001, Position Determination Service Standard for Dual-Mode Spread Spectrum Systems.<br>
[0006] Another position location technique is where the measurements are made by a network entity, rather than the mobile station. An example of these network-based methods is the RTD measurement carried out by the serving base stations. Measurements made by the mobile station may be combined with network-based measurements to enhance the availability and accuracy of the computed positions.<br>
SUMMARY OF THE INVENTION<br>
[0007]	Position  determination   accuracy of a mobile  station,  or  wireless<br>
communication device, may be negatively affected by a large GPS doppler bias, which in turn may affect GPS doppler estimations and GPS doppler measurements conducted by the wireless communication device. The quality of GPS doppler measurements is very important for position location, because poor quality measurements may prevent<br><br>
\\ 0 2004/03X447	PCT/US2003/033662<br>
3<br>
the wireless communication device from acquiring satellites in the most sensitive<br>
modes that have a narrow frequency range, resulting in reduced GPS measurement<br>
yield. Large unaccounted doppler bias in GPS measurements also adversely affects<br>
position accuracy because of the adverse effect on the GPS code phase measurement<br>
time propagation to common time. This effect is of the biggest concern in the case of<br>
large search windows. In addition, poor doppler measurement quality will also directly<br>
impact velocity estimation of the wireless communication device.<br>
[0008]	Additionally,  handset designers may opt to use PLLs  that were<br>
deliberately designed to have static errors in its frequency output. Furthermore, these static frequency offsets may vary depending on the PLL output frequency. While these CDMA channel frequency dependent offsets may not impact CDMA performance, they will have the same effect on GPS performance as GPS doppler bias discussed above. In addition, they will further degrade position location accuracy through adverse effect on the AFLT code phase measurement propagation to common time prior to their use in the position location engine.<br>
[0009]	In view of these problems, a basic aspect of the present disclosure<br>
provides a method of determining a search window center for searching for a GPS satellite, including the steps of continuously measuring and/or calculating GPS doppler bias and then minimizing the GPS doppler bias adverse effects with regard to position location determination by centering or re-centering GPS doppler search windows based on the GPS doppler bias value.<br>
[0010]	In accordance with another aspect of the present disclosure, disclosed<br>
is a method of accounting for a GPS doppler bias value during the time propagation of GPS code phase measurements to common time prior to reporting the code phase measurements to the positioning determining entity (PDE) in a pseudo-range measurement (PRM) message, or prior to using GPS measurements in a position location calculation in a wireless device.<br>
[0011]	In accordance with another aspect of the present disclosure, disclosed<br>
is a method of accounting for residual CDMA code doppler during the time propagation of AFLT code phase measurements to common time prior to reporting the code phase measurements to the positioning determining entity (PDE) in a pilot phase<br><br>
measurement (PPM) message and/or prior to using AFLT measurements in a wireless device's own position location engine.<br>
[0012]	Acquisition of a satellite'in the most sensitive mode with a narrow<br>
frequency range is achieved by re-centering a GPS doppler search window based on the GPS doppler bias values. Improvement in position location accuracy is achieved by accounting for the appropriate doppler bias values during time propagation of both GPS and AFLT code phase measurements to common time. These improvements provide increased GPS pseudo-range measurement yield and position accuracy in the wireless communication position tracking and location system as disclosed herein.<br>
BRIEF DESCRIPTION OF THE DRAWINGS<br>
[0013]	The invention will now be described in greater detail with reference to<br>
the preferred embodiments illustrated in the accompanying drawings, in which like<br>
elements bear like reference numerals, and wherein:<br>
[0014]	Fig. 1 illustrates GPS code phase measurement time propagation over a<br>
single GPS visit;<br>
[0015]	Fig. 2a illustrates GPS code phase measurement time propagation<br>
backward in time over multiple GPS visits; and<br>
[0016] Fig. 2b illustrates GPS code phase measurement time propagation forward in<br>
time over multiple GPS visits.<br>
DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS<br>
[0017] A novel and improved method and apparatus for performing position location in a wireless communications system is described. The exemplary embodiment is described in the context of the digital cellular telephone system. While use within this context is advantageous, different embodiments of the invention may be incorporated in different environments or configurations.<br>
[0018] In general, the GPS constellation consists of 24 satellites: 21 space vehicles (SVs) used for navigation and 3 spares. Each SV contains a clock that is synchronized to GPS time by monitoring ground stations.  To determine a position in time, a GPS<br><br>
location  accuracy through adverse effect on the AFLT code phase measurement<br>
propagation to common time prior to their use in the position location engine.<br>
[0025] Namely, while in CDMA mode, these frequency errors will be tracked out by<br>
frequency tracking loops by applying the appropriate correction to TRK_LO_ADJ, and<br>
using time tracking loops to track the resulting CDMA code doppler for CDMA<br>
demodulation. AFLT searching however does not currently include time tracking,<br>
resulting in CDMA code doppler error in AFLT measurements in the presence of these<br>
deliberately introduced CDMA frequency dependent offsets.   Furthermore, in GPS<br>
mode, frequency tracking loops are open and TRK_LO_ADJ is frozen at its CDMA<br>
values, which is the opposite of this deliberately introduced CDMA frequency error.<br>
This error will therefore also translate into CDMA channel dependent GPS doppler<br>
bias in the GPS pseudorange measurements. Therefore, both the GPS pseudo-range<br>
and AFLT pilot phase measurements will exhibit their respective manifestations of<br>
CDMA channel dependent doppler bias that cannot be corrected with current wireless<br>
device configurations or the CDMA channel independent doppler bias correction<br>
scheme.<br>
[0026]  Therefore, this particular doppler bias is termed CDMA channel dependent doppler bias and this bias can be calculated by software that may be based on the UHF LO PLL frequency and divider ratio for that CDMA channel. The software calculated CDMA dependent doppler bias can then be used together with CDMA channel independent doppler bias as discussed above to re-center GPS doppler search windows and propagate both the GPS and AFLT code phase measurements as disclosed herein. [0027]   Therefore, according to the present disclosure, the GPS doppler measurement bias correction  scheme  consists  of  the  steps  of continuously  measuring  and/or calculating the CDMA channel independent and/or dependant doppler bias, -then re-centering GPS doppler search windows correspondingly, and properly accounting for this bias during GPS, and in the case of CDMA channel dependent doppler bias, also dunng AFLT code phase measurement time propagation to common time.   Also, the total GPS doppler bias gets subtracted from the measured GPS doppler prior to its being reported in the IS-S01.1 PRM message to the PDE for MS-assisted mode, or prior to being used in position location and/or the velocity engine in a wireless device for MS-based or standalone mode.<br><br>
[0028]   The measured CDMA channel independent GPS doppler bias is stored in the wireless     device's    non-volatile    (NV)    memory    as    an     NV     item    called NVJDOPPLERJ3IAS.    The calculated CDMA channel dependent doppler bias is normalized by the CDMA channel frequency and then stored in wireless device's volatile memory' as a variable called DMSSJDOPPLERJBIAS, which will be used together with the NV item NVJDOPPLERJ3IAS to re-center the GPS doppler search windows for all GPS search modes, as well as to correctly propagate GPS and AFLT code phase measurement to common time prior to their use in position location calculation.  This re-centering of the GPS doppler search windows and propagation of code phase measurement to common time by DMSS_DOPPLERJBIAS accounts for the CDMA channel dependent portion of GPS doppler bias, thus allowing the NV item to remain a CDMA channel independent portion of GPS doppler bias. [0029]   According  to  the  present  disclosure,  the  loops  in  the  CDMA  channel independent doppler bias correction scheme include an open loop and a closed loop correction. The open loop correction consists of calibrating GPS doppler bias value of a wireless device and storing it in the wireless device's non-volatile memory as NV item called the NV_DOPPLER_BlAS. The closed loop correction consists of using a * filtered version of CLOCK_DRIFT, if available, and if the wireless device is stationary {that is, in one embodiment defined as the velocity that does not exceed ten kilometers per  hour),   weighted  by  position   uncertainty, to   update  this  NV  item.     The CLOCK_DRIFT. position uncertainty and velocity information are provided to the wireless device via a position location response by the PDE in the MS-assisted call flows, or could be similarly calculated in the wireless device itself in MS-based and standalone cases.    The CLOCK_DRIFT is calculated based on at least four GPS measurements.   Another version of the closed loop correction is a filtered version of average doppler bias of all valid measurements reported, which could be weighted by measured C/Nos. This could also be used 10 update the NV item, if CLOCKJDRDFT is unavailable, and if more than a certain number of valid satellites are found and the wireless device is stationary, e.g. the estimated velocity does not exceed ten kilometers per hour.   According to the present disclosure, a GPS pseudo-range measurement's doppler bias is the difference between the measured Doppler, and the propagated doppler estimated for a particular satellite by either the PDE in MS-assisted call flows<br><br>
(communicated to the wireless device via the Acquisition Assistance message), or wireless device itself in M-S-based and standalone cases. The average is then taken across all valid measurements. The valid measurements are the best measurements that have passed false alarm, noise, jammer, cross-correlation or some other related test to filter out poor measurements.<br>
[0030] Filtering is done via an IIR filter of the following form, y(n)=(l-b)*y(n-l)-fa*x(n)f where a is programmable, y(n) is the new value, while y(n-l) is the old value of Doppler bias NV item, and x(n) is weighted CLOCK_DRIFT, in which case b=0. or Average Doppler bias of all measurements reported, as discussed above, in which case b=a. Note that there is a check implemented for instantaneous change in the x(n), namely if it becomes larger than some pre-determined value Xo, the NV item will be updated with Xo, where the value of Xo is optimized and is different for acquisition and tracking modes.<br>
[0031] The CDMA channel independent GPS doppler bias correction method, according to the present disclosure, has two distinct modes which include acquisition and tracking. The acquisition mode is used to help speed up disciplining a CDMA channel independent GPS doppler bias NV item to an individual wireless device's value during initial GPS usage of the wireless device. In this acquisition mode, a shorter acquisition time constant for IIR is used and the doppler search windows could he re-centered for the most sensitive modes with narrow frequency search space based on average measured doppler bias of valid satellites found in the shallower modes with wider frequency search space, weighted by measured C/Nos, provided more than X valid satellites are found and the wireless device is stationary. Valid satellites include the measured peaks that have passed false alarm, noise, jammer, cross-con-elation or other tests. • [0032] The tracking mode is used in normal operation to track out any deviations in average measured CDMA channel independent GPS doppler bias, and this mode uses a longer tracking lime constant for IIR.<br>
[0033] A counter in the wireless device NV memory keeps track of how many times the acquisition mode is executed. The acquisition mode is switched to the tracking mode after the counter reaches a pre-set value, which in one embodiment is roughly four IIR acquisition time constants.   According to the present disclosure, the doppler<br><br>
bias correction scheme for CDMA channel independent GPS doppler bias is different in factory test mode, which is limited to an open -oop mechanism only, since the NV* item update and the acquisition and tracking modes switching are not performed in the factor}' mode. In addition, a volatile memory variable, which is initialized with the NV item value, could be used for the closed loop situation where   this volatile memory variable would be updated with the I1R state based on average doppler of all valid measurements reported, and then used to re-center search windows for shallower modes with wider frequency search space. For the most sensitive modes with nan-ow frequency search space, the doppler window re-centering could be based on average measured doppler bias of valid satellites that are found in shallower modes with wider frequency search space, similarly to the re-centenng of the doppler search windows utilized in the acquisition mode. It should be noted that the factory test mode IIR time constant may be different from the normal mode, and X mav be set to zero. [0034]   In one embodiment, only a single measurement reference time would be used, even though the measurement may be taken at different times.   This requirement is driven by IS-SOl.l.  For each measurement, there exists a TME_MEAS provided by the digital signal processor (DSP), which represents a time at which the measurement was taken.   Both GPS and AFLT code phase measurements must be propagated to a common time prior to being reported in pseudorange and pilot phase measurements in the IS-SOl.l messages, respectively, or prior to being used in the position location engine, even when one or more visits are required to complete the search.   In this particular embodiment, a common time chosen is the C/No weighted average of all GPS measurement times, which are quantized to the closest GPS visit beginning time. [0035]   Errors in the propagation of the GPS and AFLT code phase measurements to common time TMEJREF contribute directly to errors in the wireless device position calculation. The doppler used in time propagation is measured doppler, rather than the predicted doppler and. therefore, an\ errors in measured doppler will directly affect the position accuracy. This result is especially pronounced in the large window scenarios where maximum session time of thirty second could, for example, for unaccounted CDMA channel independent GPS doppler error of 10Hz result in potentially up to 57 meters of position error (assuming a DOP of 2).<br><br>
[0036] The measured GPS code phase and measured GPS doppler for a particular satellite at a lime TME_MEAS are given by meas_code_phase GPS chips and dopP_meas in Hz. respectively. In order to estimate this code phase at some other instant of time, the wireless device measured doppler frequency, dopp_meas, measured in Hz at time TIME_MEAS, and the first order predicted doppler (DOPPUER1, measured in Hz per second) provided in the acquisition assistance message from the PDE (in MS-assisted case) or predicted by wireless device (in MS-based or standalone cases), must be used.<br>
[0037] To propagate GPS code phase of a measurement to common time, TIME_REF, in the absence of the GPS doppler bias, the following equation is used:<br><br>
[003S]   It can be seen that if the propagation time. Ar. ,s large and if there is also a<br>
large error component  in  doPP_meas due  to GPS  measurement doppler bias  as<br>
discussed above, these factors combine to result ir. a large error in the propagated GPS<br>
code phase. Note that propagation time. Ar. will be large when a GPS session exceeds<br>
the time aliocated to a single GPS visit, such as approximately two seconds, such that it ha; I0 be split out cvcr severa] GPS visi,s   ln b;.ween ,he Gps vis.^ md by d£s.^<br>
the wireless dev.ee must tune back to CDMA mode. The minimum CDMA tune back time determined to minimize drop call rate and impact on voice quality is approximately two seconds. The largest propagation time possible is the maximum total GPS session time allowed, and is equal to approximately thirty seconds.<br><br>
[0039]   In order to better understand this method of accruing GPS code phase error<br>
due to GPS measurement doppler bias, it showld be noted that measured GPS doppler<br>
will consist of true GPS doppler, which idealjy is very similar to predicted GPS<br>
doppler, and the undesired GPS doppler bias.   The true GPS doppler will exist both<br>
over the GPS visit and the CDMA tune back, since it.reflects satellite motion that is<br>
present through both the GPS and CDMA visits. As a result, the true GPS doppler is<br>
used in the propagation equation over the entire period Ar.   GPS doppler bias may<br>
consist of CDMA channel independent and/or dependent GPS doppler biases; CDMA<br>
channel dependent GPS doppler bias will also be present throughout both the GPS and<br>
CDMA visits, as the VCTCXO value will be offset by the amount of deliberately<br>
introduced frequency error throughout both CDMA and GPS modes. CDMA channel<br>
independent GPS doppler bias, on the other hand, exists only during GPS visits and not<br>
CDMA tune backs. This is because during CDMA tune backs, the frequency tracking<br>
loop is on, driving any residual CDMA channel independent doppler bias to 0Hz. As a<br>
" result, CDMA channel independent doppler bias should not be used over the entire<br>
propagation penod Ar. but rather only when propagating over GPS visits.<br>
Accounting for the possible presence of the GPS doppler bias doppjbias'm the<br>
measured GPS doppler at time TIME_MEAS, we can write:<br>
dopp_meas-doppjrae+dopp_bias<br>
=rfop/?_rn/^+NV_DOPPLER.BlAS+fL^:DMSS_DOPPLER_BIAS,<br>
where NYJDOPPLERJBIAS is the CDMA channel independent portion of GPS doppler bias<br>
:n Hz a: TIME_MEAS, and DMSS_DOPPLER_BlAS is the CDMA channel dependent<br>
portion of doppler bias at TIME_MEAS. normalized to CDMA channel frequency it is<br>
calculated at, and doppjmc is the true GPS doppler at TIME_MEAS.<br>
[0040]	Furthermore, let's define M CDMA successive tune-backs between<br>
TENE_REF and TIME_MEAS as CDMA tune-backs 1, 2,...? M, where CDMA tune-back 1 is the CDMA tune-back closest m time to TME_REF, CDMA tune-back 2 is the next closest in time to TIME_REF, and so forth, with CDMA tune-back M being<br><br>
the CDMA tune-back closest in time to TIMEJ.'EAS. Let's further denote t, ,....iM to be the successive time boundaries of these CDMA tune-backs<br>
[0041] It therefore follows that if the GPS cods phase measurements propagation happens backwards in time, i.e. from TIME_MEAS to some earlier TME_REF (i.e. TME_REF  TME_MEAS), as illustrated in Figure 2b, labeling of M successive CDMA tune-backs between the TMEJREF and TIME.MEAS is now contrary to their order in time. Namely, CDMA tune-back 1 is now the last, and CDMA tune-back M is the first CDMA tune-back in time, with 1;.:....:M now representing their finishing and beginning times.<br>
[0042] Figures 1 and 2a illustrate GPS code phase measurement propagation backward in time to an earlier TIME_REF, as will be described in more detail below.  Figure 2b illustrates propagation forward in time to a later TIME_REF, and is included to clarify the definitions used. For simplicity, all Figures assume DOPPLER1 is equal to 0. Using the above definitions, we can wnte the following:<br>
•a-<br><br><br><br><br>
visits, respectively. For simplicity, DOPPLER 1 is assumed zero for this example.  To allow for the largest propagation times, T1ME_R£F' is-chosen to be at the beginning, while TIME^MEAS is at the end of the GPS vis:; for a single GPS visit session case, as illustrated in Fig. 1, and in the beginning of the first and at the end of the last GPS visit for the multi-visit session case, respectively, as illustrated in Fig. 2a. [0044] Fig.  1 illustrates that both Equation 1 and Equation 2 provide the correct answer for propjzode_phase in a single GPS visit session case.   Nevertheless, in a multiple GPS visit session case, as illustrated in Fig. 2a, Equation 1 will underestimate propjcode_phase by the error amount given in Equation 3.   To quantify this error, assume NVJDOPPLERJBIAS equals 10Hz, and DMSSJ30PPLERJ3IAS = 0Hz. For 7 CDMA Tunebacks during this GPS session, A/CDMA =14 seconds, as shown in Fig. 2a, resulting in the code phase propagation error of 0.0909 GPS  chips, or equivalently 26.66 meters, assuming DOP = ], or 53.2? meters assuming a DOP of 2. if Equation 1 is utilized rather than Equation 2 for GPS code phase propagation. [0045]       .-      In addition, note that Equations 2 and 3, as well as all the Figures assume that the GPS doppler bias stays constant for the duration of the entire GPS session, that is to say, over multiple GPS visits for CDMA independent GPS doppler bias, and over both multiple GPS visits and CDMA Tunebacks for CDMA dependent GPS doppler bias.  Note that this may not necessarily be true for the CDMA channel dependant portion of GPS doppler bias, a-s *he wireless device may experience frequency handoff during any of the sessions CDMA Tunebacks.   Therefore, if we assume N CDMA frequency handoffs during the GPS session, CDMA channel dependent portion of GPS doppler bias could change N times.  Using consistent nomenclature,  we can   define  N successive  CDMA frequencv handoffs between TIMEJIEF and TME_MEAS, if any. as CDMA frequency handoffs 1, 2,..., N, where CDMA frequency handoff 1  is the  CDMA frequency handoff closest in time to TIME.REF, CDMA frequency handoff 2 i. :he next closest in time to TEME.REF, and  so forth,   with   CDMA  frequency   handoff N   being  the   closest   in   time   to<br>
TEM£_MEAS.   Further, tHOi.:	N denotes the times at "which the CDMA frequency<br>
handoffs 1; 2,..., N happen. Finally, the total GPS doppler bias and normalized CDMA dependent portion of GPS doppler bias between the successive CDMA frequency handoffs  i   and   (i+1)  are  denoted   as  doppjbias; and DMSSJX)PPLER_B1AS„<br><br>
respectively, such that total GPS doppler bias and CDMA channel dependent portion of GPS doppler bias between the TIME_REF and tH0], are labeled dopp_biasq and DMSSJDOPPLERJBIASo, between the tHoi and tH02 are labeled doppjbiasj and DMSS_DOPPLERJBIAS;, etc, and finally between tH0N and TIME_MEAS labeled as dopp_biasN and DMSS_DOPPLERJ3IAS,v, respectively.<br>
[0046] The chosen labeling utilized may not coincide with the actual time sequence. When propagating GPS and AFLT code phase measurements backwards in time, labeling of N successive CDMA frequency handoffs and their times of occurrence, and labeling of the associated GPS dopplers coincide with the their order in time, with CDMA frequency handoff 1, tHoi and doppJ?ias0 being the first, and the CDMA frequency handoff N, tHoN and doppjbiasj being the last in time. Alternatively, when propagating them forward in time, labeling of N successive CDMA frequency handoffs between the TIME_REF and TME_MEAS, their times and corresponding GPS dopplers become contrary to their order in time. Usins the above definitions, we can write the following:<br><br>
where NVJDOPPLERJ3IAS is CDMA channel independent portion of GPS doppler bias in Hz,   assumed   constant   over   all   GPS    visits   during   an   entire   GPS   session,   and DMSSJDOPPLER_BIAS/ is CDMA channel dependent portion of GPS doppler bias between ith and (i+l)th CDMA frequency handoff, normalized to CDMA frequency it is calculated at. Using the above definitions, equation la becomes:<br><br><br><br><br><br>
[0048] This signal-bearing medium may compri-e, for example, RAM (not shown) contained within the communications network. Alternatively, the instructions may be contained in another signal-bearing media, such as a magnetic data storage diskette or other digital medium, directly or indirectly accessible to the wireless device or system. Whether contained within the communications network or elsewhere, the instructions may be stored on a variety of machine-readable data storage media, such as a direct access storage device, magnetic tape, electronic read-only memory, an optical storage device, or other suitable signal-bearing storage media. In an illustrative embodiment of the invention, the machine-readable instructions may comprise lines of compiled C, or C++, or other suitable coding language commonly used by those skilled in the programming arts.<br>
[0049] Thus, a method and apparatus for performing position location in a wireless communication system has been described. The previous description of the preferred embodiments is provided to enable any persons skilled in the art to make or use the present disclosure. The various modifications to these embodiments will be readily apparent to those skilled in the art, and the generic principles defined herein may be applied to other embodiments without the use of the inventive faculty. Thus, the present disclosure is not intended to be limited to the embodiments shown herein, but is to be accorded the right of scope consistent with the principles and novel features disclosed herein.<br>
We Claim:<br><br><br>
 CLAIMS<br>
1.	A method of adjusting a search window center for searching for a<br>
global positioning system (GPS) satellite, comprising:<br>
determining a dopplerbias value ; and<br>
centering a doppler search window based on the doppler bias value.<br>
2.	The method of Claim  1, wherein the doppler search window is<br>
determined by continuously measuring the doppler bias value.<br>
3.	The method  of Claim   1,  wherein the doppler search  window  is<br>
determined by continuously calculating the doppler bias value.<br>
4.	The  method of Claim   ].  wherein the doppler  search   window  is determined by continuously measuring or calculating the doppler bias Value.<br>
5.	The  method  of Claim   1.   wherein the  doppler search  window   is determined by continuously measuring and calculating the doppler bias value.<br>
6.	A method of propagating GPS pseudorange measurements to common :ime. comprising:<br>
determining a dopplerbias value; and<br>
adjusting for the doppler bias value during time propagation of GPS code measurements to common time.<br><br>
7.	The method of Claim 6, wherein the doppler bias value is taken into<br>
account during time propagation of GPS code rnea:/j7tmenrs to common time prior to reporting the GPS code measurements to a position determining entity (PDE), or prior to using the GPS code measurements in a position location engine in a wireless device.<br>
S.	The method of Claim 7, where the propagation of GPS pseudorange<br>
measurements is determined by continuously measuring and/or calculating the doppler bias value.<br>
9.	A method of propagating AFLT pilot phase measurements to common<br>
time, comprising:<br>
determining a CDMA channel dependent CDMA code doppler bias; and accounting for the CDMA code doppler b:as during time propagation of AFLT<br>
pilot phase  measurements to common  time, prior to reporting the AFLT pilot phase<br>
measurements to a position determining entity (PDE), or prior to using the AFLT pilot phase<br>
measurements in a position location engine in a wireless device.<br>
10.	The method of Claim 9, wherein the propagation of AFLT pilot phase measurements is determined by continuously calculating the CDMA code doppler bias.<br>
11.	A method of optimizing GPS based position location in the presence of time-varving frequency error, comprising:<br>
determining a GPS doppler bias value;<br><br>
centering a GPS doppler search v-indov.- based on the GPS doppler bias value; and<br>
adjusting for the GPS doppler bias value during GPS code phase measurement lime propagation to common time.<br>
12.	The method of Claim 11, wherein the determining step further includes<br>
detemuning a CDMA code doppler bias value; and<br>
the method further includes a step for adjusting for the CDMA code doppler bias value during AFLT code phase measurement time propagation to common time.<br>
13.	The method of Claim 11, wherein the GPS doppler bias value is subtracted from a GPS measured doppler value prior to reporting the GPS measured doppler value to a position determining entity (PDE) or prior to using the GPS measured doppler value in a position location and/or a velocity engine in a wireless device.<br>
14.	The method of Claim 13. further comprising:<br>
storing a CDMA channel independent GPS doppler bias value in a cellular device memory;<br>
storing a calculated CDMA channel dependent GPS doppler and CDMA code doppler bias values: and<br>
utilizing the CDMA channe". inc-.-pendent GPS doppler bias value and the CDMA channel dependent GPS doppler :?:as \alue to re-center the GPS doppler search window for all search modes.<br><br>
15.	The method of Claim 14: wherein the CDMA channel independent GPS doppler bias value and the CDMA channel dependent GPS doppler bias value-are utilized to propagate GPS code phase measurement to common time.<br>
16.	The method of Claim 14, wherein the stored CDMA channel dependent CDMA code doppler bias value is used to propagate AFLT code phase measurements to common time.<br>
17.	A wireless communication device for optimizing GPS based position location in the presence of time-varying frequency error, comprising:<br>
a receiver for receiving signals from a base station, the signals including an indication of the timing of a GPS satellite:<br>
a GPS receiver; and<br>
a control processor coupled to the receiver and to the GPS receiver,<br>
and configured to use the received timing of the GPS satellite to determine a GPS search<br>
window center in doppler to search for the satellite;	'   *<br>
wherein the GPS doppler search window center is determined by determining a total GPS doppler bias value and by centenngthe GPS doppler search window based on the total GPS doppler bias value.<br>
18. The wireless communication device of Claim 17, wherein the GPS doppler search window is centered based on continuously measuring and/or calculating the GPS doppler bias value.<br><br>
19.	The wireless communication device of Claim 17, wherein the GPS doppler bias value is taken into account during time propagation of'GPS code phase measurements to common time prior to reporting the GPS code phase measurements to a position determining entity (PDE) or using the GPS code phase measurements in a wireless device position location engine.<br>
20.	The wireless communication device of Claim IS, wherein the continuously measured and/or calculated GPS doppler bias value is taken into account during the time propagation of GPS code measurements to common time prior to reporting the GPS code measurements to a position determining entitv (PDE) or usin° the GPS code measurements in a wireless devices position location eneme.<br>
21. The wireless communication device of Claim 17, wherein a CDMA channel dependent CDMA, code doppler bias value is calculated and accounted for during time propagation of AFLT code phase measurements to common time prior to reporting the APLT code phase measurements to a position determining entity (PDE) or using the APLT code phase measurements in a wireless device position location engine.<br>
22. A tangible data storage medium comprising executable data capable of causing a programmable device to perform the ste^s of:<br>
determining a GPS doppler search window center for searching for a global positioning system (GPS) satellite, includin- the steps of:<br>
determining a GPS doppler bias value: and<br>
centenng a GPS doppler search window based on the GPS doppler bias value.<br><br>
-   -	23.      The tangible data storage medium of Claim 22, wherein the GPS<br>
doppler search window is determined by continuously measuring and/or calculating the GPS dopplerbias value.<br>
24.	The tangible data storage medium of Claim 22, wherein the<br>
determining step further includes determining a CDMA code dopper bias value, and further<br>
including the step of accounting for GPS doppler and CDMA code doppler bias while<br>
propagating GPS pseudorange and AFLT pilot phase measurements, respectively, to common<br>
time.<br>
25.	The tangible data storage medium of Claim 24, further including the<br>
step of accounting for continuously measured and/or calculated GPS doppler bias and<br>
continuously calculated CDMA'code doppler bias while propagating GPS pseudorange and<br>
AFLT pilot phase measurements, respectively, to common time.<br><br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjgzLUNIRU5QLTIwMDUgIENPUlJFU1BPTkRFTkNFIE9USEVSUy5wZGY=" target="_blank" style="word-wrap:break-word;">683-CHENP-2005  CORRESPONDENCE OTHERS.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjgzLWNoZW5wLTIwMDUtYWJzdHJhY3QucGRm" target="_blank" style="word-wrap:break-word;">683-chenp-2005-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjgzLWNoZW5wLTIwMDUtYXNzaWduZW1lbnQucGRm" target="_blank" style="word-wrap:break-word;">683-chenp-2005-assignement.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjgzLWNoZW5wLTIwMDUtY2xhaW1zLnBkZg==" target="_blank" style="word-wrap:break-word;">683-chenp-2005-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjgzLWNoZW5wLTIwMDUtY29ycmVzcG9uZG5lY2Utb3RoZXJzLnBkZg==" target="_blank" style="word-wrap:break-word;">683-chenp-2005-correspondnece-others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjgzLWNoZW5wLTIwMDUtY29ycmVzcG9uZG5lY2UtcG8ucGRm" target="_blank" style="word-wrap:break-word;">683-chenp-2005-correspondnece-po.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjgzLWNoZW5wLTIwMDUtZGVzY3JpcHRpb24oY29tcGxldGUpLnBkZg==" target="_blank" style="word-wrap:break-word;">683-chenp-2005-description(complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjgzLWNoZW5wLTIwMDUtZHJhd2luZ3MucGRm" target="_blank" style="word-wrap:break-word;">683-chenp-2005-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjgzLWNoZW5wLTIwMDUtZm9ybSAxLnBkZg==" target="_blank" style="word-wrap:break-word;">683-chenp-2005-form 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjgzLWNoZW5wLTIwMDUtZm9ybSAxMy5wZGY=" target="_blank" style="word-wrap:break-word;">683-chenp-2005-form 13.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjgzLWNoZW5wLTIwMDUtZm9ybSAzLnBkZg==" target="_blank" style="word-wrap:break-word;">683-chenp-2005-form 3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjgzLWNoZW5wLTIwMDUtZm9ybSA1LnBkZg==" target="_blank" style="word-wrap:break-word;">683-chenp-2005-form 5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjgzLWNoZW5wLTIwMDUtcGN0LnBkZg==" target="_blank" style="word-wrap:break-word;">683-chenp-2005-pct.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="219268-a-system-for-reducing-restriction-of-flow-in-a-lumen-of-a-blood-vessel.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="219270-a-method-for-obtaining-cell-lines-in-protein-free-media-and-cell-line-obtained-by-the-method.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>219269</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>683/CHENP/2005</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>23/2008</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>06-Jun-2008</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>28-Apr-2008</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>20-Apr-2005</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>QUALCOMM INCORPORATED</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td></td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>SIMIC, Emilija</td>
											<td></td>
										</tr>
										<tr>
											<td>2</td>
											<td>PATRICK, Christopher</td>
											<td></td>
										</tr>
										<tr>
											<td>3</td>
											<td>ROWITCH, Douglas, Neal</td>
											<td></td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>G01S 1/02</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/US2003/033662</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2003-10-22</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>60/420,583</td>
									<td>2002-10-22</td>
								    <td>U.S.A.</td>
								</tr>
								<tr>
									<td>2</td>
									<td>60/440,960</td>
									<td>2003-01-16</td>
								    <td>U.S.A.</td>
								</tr>
								<tr>
									<td>3</td>
									<td>10/404,711</td>
									<td>2003-03-31</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/219269-method-and-apparatus-for-optimizing-gps-based-position-location-in-presence-of-time-varying-frequency-error by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 12:02:05 GMT -->
</html>
