<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/272139-method-and-device-for-processing-value-added-service-for-short-message-service by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2024 23:14:55 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 272139:METHOD AND DEVICE FOR PROCESSING VALUE-ADDED SERVICE FOR SHORT MESSAGE SERVICE</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">METHOD AND DEVICE FOR PROCESSING VALUE-ADDED SERVICE FOR SHORT MESSAGE SERVICE</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>The present invention discloses a value-added service for short message service processing method and a value-added service for short message service processing center to improve a control mechanism between the value-added service for short message service processing center and a short message service center, which include: the value-added service for short message service processing center receives an original short message forwarded from the short message service center, generates a value-added service short message associated with the original short message in accordance with data of value-added service for short message service subscribed by the calling and called parities of the original short message, submits the value-added service short message to the short message service center, and receives a delivery status report returned from the short message service center, and the value-added service for short message service processing center takes the delivery result of the value-added service short message as that of the associated original short message and sends a delivery result notification of the original short message to the short message service center.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>This application is a continuation of International Patent Application No. PCT/CN2008/070377, filed on February 29, 2008, which claims priority to Chinese Patent Application no. 200710080098.6, filed with the Chinese Patent Office on March 12, 2007, both of which are hereby incorporated by reference in their entireties.<br>
Field of the Invention<br>
The present invention relates to mobile communication services and in particular to method and device for processing value added service for short message service.<br>
Background of the Invention<br>
Short Message Service (SMS) are a currently common data service in a mobile communication network, which has become a predominant communication manner except voices for the majority of mobile subscribers along with increasingly popular mobile phones and flourishing short message services, and a number of value-added services for SMS also haye been developed, such as a Short Message Receipt service, a Short Message Filtering service, a Short Message Personal Signature service, etc.<br>
Currently, a Short Message Service Center (SMSC) has to be adapted to each addition of a Value-added Service for SMS (VAS-SMS) so as to support the new value-added service, which may aggravate the burden over the short message service center and bring inconvenience of developing and maintaining the value-added service.<br>
A solution has been currently proposed in which value-added services for SMS are processed centrally through an additional network entity such as a VAS-SMS processing center to lower a frequency of adapting the short message service center. The inventors have identified during making the invention that in such a solution or like, the additional network entiry executes partial processing of value-added services for SMS, thus adding the flexibility of developing a new value-added service for SMS, but no complete mechanism has been provided to ensure control of a short message processing flow by the additional network entity. Summary of the Invention<br>
Embodiments of the invention provide a VAS-SMS processing method and a VAS-SMS processing center which can improve a control mechanism between the VAS-SMS processing center and a short message service center.<br>
An embodiment of the invention provides a method for processing value-added service for short message service (VAS-SMS), including:<br><br>
receiving, by a VAS-SMS processing center, an original short message forwarded from a short message service center, which is submitted from a calling party to the short message service center;<br>
generating, by the VAS-SMS processing center, a value-added service short message associated with the original short message in accordance with data of VAS-SMS subscribed by the calling and called parities of the original short message;<br>
submitting, by the VAS-SMS processing center, the value-added short message to the short message service center, and receiving a delivery status report returned from the short message service center, which reports a delivery result about whether the value-added service short message is delivered with success; and<br>
taking, by the VAS-SMS processing center, the delivery result of the value-added service short message as that of the associated original short message, and sending a delivery result notification of the original short message to the short message service center.<br>
An embodiment of the invention provides a VAS-SMS processing center including:<br>
a first unit adapted to receive an original short message forwarded from a short message service center, which is submitted from a calling party to the short message service center;<br>
a second unit adapted to generate a value-added service short message associated with the original short message in accordance with data of VAS-SMS subscribed by the calling and called parties of the original short message;<br>
a third unit adapted to submit the value-added service short message to the short message service center and to receive a delivery status report returned from the short message service center, which reports a delivery result about whether the value-added service short message is delivered with success; and<br>
a fourth unit adapted to take the delivery result of the value-added service short message as that of the associated original short message and to send a delivery result notification of the original short message to the short message service center.<br>
A device for processing value-added service includes a value-added service processing center adapted to receive an original message forwarded from a message service center, to generate a value-added service message associated with the original message in accordance with message value-added service data subscribed by the calling and called parties of the original message, to submit the value-added service message to the message service center, to receive a delivery status report returned from the message service center, to take a delivery result of the value-added service message as that of the associated original<br><br>
message and to send a delivery result notification of the original message to the message service center.<br>
A message service center includes a means adapted to forward an original message submitted from a calling party to a value-added service processing center, to buffer the original message, to receive a value-added service message associated with the original message, which is sent from the value-added service processing center, to deliver the value-added service message, to return a delivery status report to the value-added service processing center, and to receive a delivery result notification of the original message, which is generated by the value-added service processing center in accordance with the delivery status report.<br>
The embodiments of the invention improve the control mechanism between the short message value-added service processing center and the short message service center. With the control mechanism, when no value-added service short message is to be generated, the flow for sending the original short message can be ensured to proceed, while in a specific value-added service for which a value-added service short message is to be generated, the transition between the flow for sending the value-added service short message and the flow for sending the original short message can be ensured, thereby improving the control flow for implementing the short message value-added service through the short message value-added service processing center.<br>
Brief Description of the Drawings<br>
Figure 1 is a schematic diagram of a system for implementing value-added service for SMS according to an embodiment of the invention;<br>
Figure 2 is a schematic flowchart of a method for processing value-added service for SMS according to an embodiment of the invention;<br>
Figure 3 is a schematic flowchart of a method for processing value-added service for SMS according to another embodiment of the invention;<br>
Figure 4 is a schematic flowchart of a method for processing value-added service for SMS according to another embodiment of the invention;<br>
Figure 5 is a schematic flowchart of a method for processing value-added service for SMS according to another embodiment of the invention; and<br>
Figure 6 is a schematic diagram of a VAS-SMS processing center according to an embodiment of the invention.<br>
Detailed Description of the Invention<br>
For numerous value-added services for SMS, a value-added service short message is<br><br>
regenerated according to the data of value-added service (VAS) subscribed by a subscriber, and a service flow for an original short message submitted from the subscriber is replaced with a flow for sending the value-added service short message. The embodiments of the invention offer a control mechanism between a VAS-SMS processing center and an SMSC to ensure the transition between the replacing flow and the original flow, and descriptions will be given by way of an example regarding how to implement the existing various value-added service for SMS by the control mechanism according to the embodiments of the invention. The above technical idea can be applied to other message service such as a multimedia message service by those skilled in the art without any inventive effort. The invention will be described in details below with reference to the drawings and the embodiments by way of an example of processing a value-added service for SMS.<br>
As illustrated in Figure 1, a system for processing value-added service for SMS according to an embodiment of the invention may include the following components.<br>
At least one SMSC includes, for example, an SMSC 11, SMSC 12, etc., as illustrated in Figure 1, which belong respectively to different areas.<br>
At least one VAS-SMS processing center, for example, a VAS-SMS processing center 21, a VAS-SMS processing center 22, etc., as illustrated in Figure 1.<br>
Particularly, each VAS-SMS processing center is at least connected with one SMSC, and the data of VAS-SMS subscribed by a short message subscriber belonging to the SMSC is stored on the connected VAS-SMS processing center. As illustrated in Figure 1, the data of VAS-SMS subscribed by a short message subscriber belonging to the SMSC 11 is stored on the VAS-SMS processing center 21.<br>
The VAS-SMS processing centers may be arranged in a hierarchy, for example, of two levels as illustrated in Figure 1, where a group VAS-SMS processing center 23 is arranged at a level 1 and each VAS-SMS processing center at level 2 may be connected with the group VAS-SMS processing center 23 through a VAS-SMS processing center gateway 30; and the group VAS-SMS processing center 23 is responsible for communication between the VAS-SMS processing centers at level 2 with use of stored routing information. In an embodiment, all the data of VAS-SMS subscribed by short message subscribers may alternatively be stored centrally on the group VAS-SMS processing center 23.<br>
A mobile station (MS) is connected with an SMSC to which it belongs through a communication network, for example, an MS 41, an MS 42 and an MS 43 as illustrated in Figure 1.<br>
In an embodiment of the invention, the VAS-SMS processing center stores the VAS-SMS data of a subscriber of respective value-added services for SMS and processing<br><br>
the respective value-added services for SMS in accordance with the VAS-SMS data of the subscriber. For example, when the calling MS 42 submits to the SMSC 11 an original short message intended for the called MS 43, both the calling MS 42 and the called MS 43 belong to the SMSC 11, and the VAS-SMS processing center 21 to which the SMSC 11 is connected stores the data of the VAS-SMS subscribed by a subscriber of the calling MS 42 and a subscriber of the called MS 43, and thus a flow for processing this short message is as follows.<br>
1.	The SMSC 11 sends the original short message submitted from the subscriber to the<br>
VAS-SMS processing center 21 upon receiving the original short massage.<br>
At this time, a flow for processing the original short message has not ended, and the SMSC II shall suspend processing of the original short message. A method to suspend processing of the original short message is to buffer all original short messages forwarded to the VAS-SMS processing center 21, and the buffered short messages wait for further processing.<br>
2.	The VAS-SMS processing center 21 obtains the VAS-SMS data of the calling MS<br>
42 and the called MS 43 respectively and in accordance with the data of VAS-SMS<br>
subscribed by the calling and called parties, returns a reception acknowledgment indication to<br>
the SMSC 11 and generates if necessary a value-added service short message associated with<br>
the original short message.<br>
Whether to generate the value-added service short message associated with the original short message is determined from the data of VAS-SMS subscribed by the calling and called parties. For example:<br>
If neither of the calling and called parties subscribes for any VAS-SMS, then it is neither necessary for the VAS-SMS processing center 21 to process the original short message nor necessary to generate any value-added service short message. At this time, the SMSC 11 may be instructed in the reception acknowledgement indication to continue with the original flow, thereby delivering the original short message to the called party.<br>
When the VAS-SMS data of the calling party shows that the calling party subscribes for a signature service, it is necessary to generate a value-added service short message associated with the original short message, where a signature set by the calling party is added in;ithe value-added service short message; and/or<br>
When the VAS-SMS data of the calling party shows that the calling party subscribes for a calling number hiding service, it is necessary to generate a value-added service short message associated with the original short message, where a calling number in the value-added service short message is set as being null or modified to be specific identification<br><br>
information; and/or<br>
When the VAS-SMS data of the called party shows that the called party subscribes for a short message forwarding service, it is necessary to generate a value-added service short message associated with the original short message, where a called number in the vaiue-added service short message is modified to be a forwarding-to number set by the called party.<br>
There are numerous similar value-added services, and if a value-added service short message is to be generated, then the SMSC 11 may be instructed in the reception acknowledgement indication to continue with buffering the original short message.<br>
3.	The VAS-SMS processing center 21 submits the value-added service short message to the SMSC 11.<br>
4.	The SMSC 11 delivers the value-added service short message and in accordance with a delivery result, returns to the VAS-SMS processing center 21 a delivery status report which reports whether the value-added service short message is delivered with success.<br>
5.	The VAS-SMS processing center 21 takes the delivery result of the value-added service short message as that of the associated original short message and sends a delivery result notification of the original short message to the SMSC 11.<br>
6.	The SMSC 11 determines that the flow for processing the original short message may be ended upon receiving the delivery result notification of the original short message and deletes the buffered original short message.<br>
To this end, the flow for delivering the value-added service short message has taken the place of the flow for processing original short message successfully.<br>
Furthermore, when the VAS-SMS data of the calling party shows that the calling party subscribes for a Short Message Receipt service, the VAS-SMS processing center 21 may further instruct in the delivery result notification the SMSC 11 to send the delivery status report of the original short message to the calling party.<br>
In the above step 2, if the VAS-SMS processing center 21 discovers from the VAS-SMS data of the called party that the calling party is set by the called party as a short message source to be filtered, the VAS-SMS processing center 21 firstly returns to the SMSC the reception acknowledgement indication of continuing with buffering and then sends directly to the SMSC the delivery result notification that the original short message is delivered with success.<br>
In the above step 2, when the VAS-SMS data of the calling party shows that the calling party subscribes for a short message storage service, the VAS-SMS processing center<br><br>
21 instructs the SMSC to store the original short message by categories for the calling party in accordance with the delivery result of the original short message. Further, when the VAS-SMS data of the called party shows that the called party subscribes for a short message storage service, the VAS-SMS processing center 21 instructs the SMSC to store the original short message by categories for the called party, in accordance with the delivery result of the original short message.<br>
Another method in which the SMSC suspends processing of the original short message may include setting an associated processing suspension flag for each received original short message in step 1 and deleting the associated processing suspension flag upon receiving the delivery result notification of the original short message in step 6. In this method, each time receiving an original short message, the VAS-SMS processing center 21 instructs in the returned reception acknowledgement indication the SMSC to continue with suspending processing of the original short message; and upon determining from the data of VAS-SMS subscribed by the calling and called parties of the original short message that no new value-added service short message need to be generated, the VAS-SMS processing center 21 may send the original short message as the associated value-added service short message to the SMSC, thereby also implementing conveniently control on the various value-added services for SMS.<br>
Each VAS-SMS processing center 21 is further connected with a Business and Operation Support System (BOSS) in the present area, being responsible for maintaining and updating the value-added service data of the subscriber stored on the VAS-SMS processing center 21. For example, a BOSS 51 and a BOSS 52 illustrated in Figure 1 send the received value-added service data of a new subscriber or value-added service data updated by an existing subscriber respectively to the VAS-SMS processing center 21 for storage and also send a subscription cancelling indication of a subscriber to the VAS-SMS processing center 21| when the subscriber cancels subscription, and the VAS-SMS processing center 21 deletes relevant data of that subscription cancelling subscriber.<br>
A preferably embodiment of the invention may be as follows.<br>
The VAS-SMS processing center instructs the SMSC to set the value-added service identifier for the new subscriber and to delete the value-added service identifier of the unsubscription subscriber.<br>
Before forwarding the original short message to the VAS-SMS processing center, the SMSC firstly determines whether the calling party (e.g., calling-party-belonging in a GSM system) or the called party (e.g., called-party-belonging in a CDMA system) is provided with the corresponding value-added service identifier, and if the calling party or the called party is provided with the corresponding value-added service identifier, the SMSC forwards the<br><br>
original short message to the VAS-SMS processing center for processing of the value-added service; and if the calling party or the called party is not provided with the corresponding value-added service identifier, the SMSC delivers the original short message to the called party.<br>
Still referring to Figure 1, if the calling and called parties of the short message belong to different SMSCs respectively, e.g., MS 41 and MS 42, the VAS-SMS processing center 21 or the VAS-SMS processing center 22 for processing the short message value-added service may obtain locally the value-added service data of one of the parties and then obtain the value-added service data of the other party from the VAS-SMS processing center to which the other party belongs through the group VAS-SMS processing center 23.<br>
Of course, if the short message is forwarded, the value-added service data of a forwarding-to party is also to be obtained from a VAS-SMS processing center to which the forwarding-to party belongs. In the case that the short message is forwarded between more than two subscribers, the set forwarding-to parties are to be searched gradually to determine a final forwarding-to party.<br>
The control mechanism according to an embodiment of the invention may further control a short message forwarding service for which a trigger condition is set. For example, when the called party sets a service condition of forwarding upon power-off, the forwarding service will not be triggered until the short message is delivered, and the VAS-SMS processing center may firstly instruct to deliver the original short message while needing to report a delivery status and an error code of the original short message. If the original short message is sent with failure due to power-off of the called party, a value-added service short message is generated according to a set forwarding-to party, thereby executing the short message forwarding service conditionally.<br>
As can be seen from the above, with the control mechanism according to the embodiments of the invention, the existing various value-added services for SMS for the calling and called parties, e.g., the value-added services such as short message short message forvyarding, filtering, signature, storage, etc., can be implemented by the separately arranged VAS-SMS processing center, and will not be described in details one by one. Those skilled in the art can take full advantage of the inventive solution in the various value-added services in various protocols.<br>
Detailed descriptions will be given in further embodiments.<br>
As illustrated in Figure 2, in a Global System for Mobile (GSM) communication mobile communication network, when calling and called parities of a short message belong to the same SMSC, a specific flow for implementing a value-added service for short message<br><br>
includes the following steps.<br>
In step S201, the calling MS submits to the SMSC to which the calling party belongs an.original short message intended for the called MS (MO).<br>
In step S202, the SMSC to which the calling party belongs sends back a response to the calling MS (MO_Ack).<br>
In step S203, the SMSC buffers and forwards the original short message to the local VA'S-SMS processing center, where the short message may be forwarded by being carried in a service query message (Deliver_sm).<br>
In a preferable flow, the SMSC to which the calling party belongs firstly determines whether a value-added service identifier is provided for the calling party, and if a value-added service identifier is provided for the calling party, then the SMSC forwards the original short message to the local VAS-SMS processing center; and if a value-added service identifier is not provided for the calling party, the SMSC delivers the original short message directly to the called party.<br>
In step 2041, the VAS-SMS processing center checks the original short message submitted from the calling party and obtains value-added service subscription data of the calling and called parties respectively.<br>
In step S2042, the VAS-SMS processing center sends a service query response message (Deliver_Res) to the SMSC to which the calling party belongs.<br>
Deliver_R.es contains a reception acknowledgement indication, for example:<br>
If neither of the calling and called parties subscribes for any short message value-added service, then the SMSC is instructed in the DeliverRes to process the original short message in a normal flow, and the SMSC delivers the buffered original short message to the.'called party and executes operations of charging, generating a bill, etc.<br>
If the called party subscribes for a junk short message filtering service and the calling party is set as an object to be filtered out but the calling party subscribes for a receipt service, then the SMSC is instructed in the DeIiver_Res to continue with buffering the original short message until the buffered original short message is deleted upon receiving a delivery status notification of the original short message in step S209 to end the flow of processing the original short message.<br>
In step S2051, for some value-added services for SMS, the local VAS-SMS processing center executes corresponding service processing on the short message.<br>
For example, if the called party subscribes for a short message forwarding service, the SMSC is instructed in the Deliver_Res to continue with buffering the original short message<br><br>
and to delete the buffered original short message after delivering a value-added service short message and receiving the delivery status notification of the original short message in the step S209.<br>
If the calling party subscribes for a calling number hiding service, a calling number of the jprocessed short message is set as being null or a specific identifier, etc.<br>
In step S2052, the local VAS-SMS processing center delivers the value-added service short message to the SMSC by carrying it in Submit_sm.<br>
In step S206, the SMSC delivers the value-added service short message to the called MS (MT).<br>
In step S207, the called MS returns a delivery message response (MT_Ack).<br>
In step S208, the SMSC returns a delivery status report to the VAS-SMS processing center in accordance with a delivery result of the value-added service short message, where the delivery status report is sent to the VAS-SMS processing center by being carried in a Submit_Res response message to report whether the value-added service short message is delivered with success.<br>
In accordance with the received delivery status report, if the value-added service short message is sent with failure, then in accordance with the control of the VAS-SMS processing center, steps S2052-S208 are attempted repeatedly to improve a delivery success ratio of the value-added service short message as much as possible. Of course, a first threshold number of times can be set as a total number of times for the attempt, so that if the value-added service short message is delivered with failure, the VAS-SMS processing center repeats the submission of the value-added service short message to the SMSC for delivery within the first threshold number of times. The following two modes can be adopted.<br>
Synchronous mode: The SMSC returns a delivery status report to the VAS-SMS processing center in accordance with a delivery result each time delivering the value-added service short message.<br>
Asynchronous mode: For each received value-added service short message, if the message is sent with failure, the SMSC repeats the sending of the value-added service short message within a second threshold number of times and returns a delivery status report to the VAS-SMS processing center in accordance with a final delivery result.<br>
In step S209, the VAS-SMS processing center takes the delivery result of the value-added service short message as that of the associated original short message and notifies by a Deliver_sm message the SMSC about the delivery result of the original short message.<br><br>
The Deliver_sm message may further carry a notification about charging by the SMSC for the original short message.<br>
If the calling party subscribes for a receipt service, the Deliver_sm message may further carry information to instruct the SMSC to send a delivery status report of the original short message to the calling party.<br>
In step S210, the SMSC deletes the buffered original short message upon receiving thei.delivery status notification of the original short message, thereby finishing processing of the original short message, and returns a message response DeliverRes to the VAS-SMS processing center.<br>
In step S211, if the calling party requires a status report, then the SMSC generates and sends a status report message to the calling MS (MT(SRR)).<br>
In step S212, the calling MS returns a message response (MT_ACK) upon receiving the status report message.<br>
As illustrated in Figure 3, a flow for processing a value-added service for SMS includes the following steps when calling and called parties do not belong to the same SMSC.<br>
In step S301, the calling party submits an original message to the SMSC to which the calljng party belongs.<br>
In step S302, the SMSC to which the calling party belongs sends back a response to the calling party.<br>
In step S303, the SMSC forwards the original short message to the local VAS-SMS processing center.<br>
The local VAS-SMS processing center checks the original message submitted from the calling party and obtains locally value-added service data subscribed by the calling party.<br>
In steps 304-S307, the local short message value-added service processing center obtains the data of value-added service subscribed by the called party from a foreign VAS-SMS processing center of the called party through the group VAS-SMS processing center by interaction with use of Search Service Info and Search Service_Ack messages.<br>
In step S308, the local VAS-SMS processing center sends a service query response message (Deliver_Res) to the SMSC to which the calling party belongs, Deliver_Res containing a reception acknowledgement indication.<br>
The subsequent steps S309-S316 are the similar as those in the flow illustrated in Figure 2 and descriptions; thereof will not be repeated here.<br>
As illustrated in Figure 4, steps S301-S314 are the similar as in the flow illustrated in<br><br>
Figure 3, and after step S314, if the calling party subscribes for a short message storage service, then the local VAS-SMS processing center stores for the calling party the short message sent from the calling party.<br>
If the called party also subscribes for the short message storage service, the local VAS-SMS processing center also forwards the short message with a Service Notify message to the foreign VAS-SMS processing center, and the foreign VAS-SMS processing center stores the received short message for the called party and then returns a Service Notify_Ack response to the local VAS-SMS processing center. The Service Notify message and the Service Notify_Ack are merely a message definition, but the embodiments of the invention will not be limited thereto.<br>
The short message storage service is also referred to as a data box service, and a short message subscriber may choose to store a sent and/or received short message and further choose to store a short message sent to and/or received from a specific object, and the VAS-SMS processing center can execute corresponding service control in accordance with subscription data of the subscriber.<br>
The value-added service data of a subscriber of VAS-SMS may be stored centrally in the group VAS-SMS processing center, and the processing flow is slightly different in a way that the local VAS-SMS processing center of the calling party obtains the value-added service data of the subscriber from the group VAS-SMS processing center, and the other steps are similar and will not be described again.<br>
With the above control mechanism, if no value-added service short message is to be generated, the flow for delivering the original short message can be ensured to proceed, while in a specific value-added service for which a value-added service short message is to be generated, the transition between the flow for sending the value-added service short message and the flow for delivering the original short message can be ensured, thereby improving the control flow for implementing the short message value-added service through the VAS-SMS processing center.<br>
In a Code Division Multiple Access (CDMA) system, the SMSC is in a called-party-belonging mode. There is a minor service implementation difference from the SMSC in a GSM system. As illustrated in Figure 5, processing of a value-added service for SMS will be executed at the VAS-SMS processing center of the called party.<br>
A general flow is described as follows.<br>
In step 1, the calling party submits an original message to the SMSC to which the calling party belongs.<br>
In step 2, the SMSC to which the calling party belongs sends back a response to the<br><br>
calling party.<br>
In step 3, the SMSC to which the calling party belongs determines that the called party is a foreign user and then forwards the original short message to the SMSC to which the called party belongs by carrying the original short message in an SMCDPP (invoke).<br>
In step 4, the SMSC to which the called party belongs returns a message response SMCDPP (response).<br>
In step 5, the SMSC to which the called party belongs buffers and forwards the original short message to the VAS-SMS processing center of the called party.<br>
In step 6, the VAS-SMS processing center of the called party checks the original short message.<br>
The value-added service data of the called party is obtained from locally stored data and the value-added service data of the calling party is obtained from the VAS-SMS processing center of the calling party.<br>
In step 7, the VAS-SMS processing center of the called party returns a response to the SMSC to which the called party belongs.<br>
If neither of the calling and called parties orders any value-added service for SMS, the SMSC is instructed to process the original message in a normal flow and the SMSC delivers the message and returns a status report.<br>
In step 8, if value-added service processing is to be executed on the original short message, the VAS-SMS processing center of the called party will also execute the step 6 and returns a processed value-added service short message to the SMSC to which the called party belongs.<br>
In the remaining steps 9-16, between the VAS-SMS processing center of the called party and the SMSC to which the called party belongs, the delivery of the value-added service short message is performed and the flow for delivering the original short message is ended with the control mechanism according to the embodiments of the invention, and a specific flow thereof are the same as those in the third and fourth embodiments and will not be repeated again.<br>
It shall be noted that those ordinarily skilled in the art can appreciate that all or part of the steps in the methods according to the embodiment can be implemented by a program instructing relevant hardware. The program may be stored in a computer readable storage medium, e.g., an ROM/RAM, a magnetic disk, an optical disk, etc.<br>
As illustrated in Figure 6, a short message value-added service processing center according to an embodiment of the invention includes the following units.<br><br>
A first unit 61 is adapted to receive an original short message forwarded from the SMSC, which is submitted from the calling party to the SMSC.<br>
A second unit 62 is adapted to generate a value-added service short message associated with the original short message in accordance with data of VAS-SMS subscribed by the calling and called parties of the original short message and to return a reception acknowledgement indication to the SMSC in accordance with the data of VAS-SMS subscribed by the calling and called parties of the original short message.<br>
A third unit 63 is adapted to submit the value-added service short message to the SMSC and to receive a delivery status report returned from the SMSC, which reports a delivery result about whether the value-added service short message is delivered with success.<br>
A fourth unit 64 is adapted to take the delivery result of the value-added service short message as that of the associated original short message and to send a delivery result notification of the original short message to the short message service center.<br>
Evidently, those skilled in the art can modify and vary the invention without departing from the spirit and scope of the invention. Accordingly, the invention is intended to encompass these modifications and variations of the invention provided that they come into the scope of the claims appended to the invention and their equivalents.<br><br>
WE CLAIM:<br>
1.	A method for processing value-added service for short message service, VAS-SMS,<br>
comprising:<br>
receiving, by a VAS-SMS processing center, an original short message forwarded from a short message service center, which is submitted from a calling party to the short message service center;<br>
generating, by the VAS-SMS processing center, a value-added service short message associated with the original short message in accordance with data of VAS-SMS subscribed by the calling party and a called party of the original short message;<br>
submitting, by the VAS-SMS processing center, the value-added service short message to the short message service center, and receiving a delivery status report returned from the short message service center, which reports a delivery result about whether the value-added service short message is delivered with success; and<br>
taking, by the VAS-SMS processing center, the delivery result of the value-added service short message as that of the associated original short message, and sending a delivery result notification of the original short message to the short message service center.<br>
2.	The method according to claim 1, further comprising:<br>
returning, by VAS-SMS processing center, a receipt acknowledgement indication to the short message service center, in accordance with the data of VAS-SMS subscribed by the calling and called parties of the original short message.<br>
3.	The method according to claim 1, wherein if the VAS-SMS processing center determines that the value-added service short message is delivered with failure in accordance with the delivery status report, the VAS-SMS processing center repeats the submission of the value-added service short message to the short message service center for delivery within a first threshold number of times.<br>
4.	The method according to claim 3, wherein the short message service center returns the delivery status report to the VAS-SMS processing center in accordance with the delivery result each time after delivering the value-added service short message.<br>
5.	The method according to claim 3, wherein if the short message service center sends the value-added service short message with failure, the short message service center repeats the submission of the value-added service short service message within a second threshold number of times, and returns the delivery status report to the VAS-SMS processing center in accordance with the final delivery result.<br><br>
6.	The method according to claim 2, further comprising: buffering, by the short message service center, each received original short message, and deleting the buffered original short message upon receiving the delivery result notification of the original short message, wherein the buffered short message is suspended from processing.<br>
7.	The method according to claim 6, wherein the VAS-SMS processing center determines whether to generate the value-added service short message associated with the original short message in accordance with the data of VAS-SMS subscribed by the calling and called parties of the original short message, and if the value-added service short message associated with the original short message is to be generated, the VAS-SMS processing center instructs in the receipt acknowledgement indication the short message service center to continue with buffering the original short message; and if the value-added service short message associated with the original short message is not to be generated, the VAS-SMS processing center instructs in the receipt acknowledgement indication the short message service center to deliver the original short message.<br>
8.	The method according to claim 2, further comprising: setting, by the short message service center, an associated processing suspension flag for each received original short message, and deleting the associated processing suspending flag upon receiving the delivery result notification of the original short message.<br>
9.	The method according to claim 8, wherein:<br>
the VAS-SMS processing center instructs in the receipt acknowledgement indication the short message service center to continue with suspending processing of the original short message; and the VAS-SMS processing center further determines whether to generate the value-added service short message associated with the original short message in accordance with the data of VAS-SMS subscribed by the calling and called parties of the original short message, and if the value-added service short message associated with the original short message is to be generated, the VAS-SMS processing center generates the value-added service short message; and if the value-added service short message associated with the original short message is not to be generated, the VAS-SMS processing center takes the original short message as the associated value-added service short message.<br>
10.	The method according to claim 7 or 9, wherein:<br>
when the data of VAS-SMS subscribed by the calling party shows that the calling party subscribes for a signature service, the value-added service short message associated with the original short message is to be generated, wherein a signature set by the calling party is added in the value-added service short message;<br>
when the data of VAS-SMS subscribed by the calling party shows that the calling<br><br>
party subscribes for a calling number hiding service, the value-added service short message associated with the original short message is to be generated, wherein a calling number in the value-added service short message is set as being null or modified as specific identification information;<br>
when the data of VAS-SMS subscribed by the called party shows that the called party subscribes for a short message forwarding service, the value-added service short message associated with the original short message is to be generated, where a called number in the value-added service short message is modified as a forwarding-to number set by the called party.<br>
11.	The method according to claim 2, wherein when data of VAS-SMS subscribed by<br>
the called party shows that the calling party is set by the called party as a short message<br>
source to be filtered, the VAS-SMS processing center sends directly to the short message<br>
service center the delivery result notification that the original short message is delivered with<br>
success, after returning the reception acknowledgement indication to the short message<br>
service center.<br>
12.	The method according to claim 2, wherein when the data of VAS-SMS subscribed by the calling party shows that the calling party subscribes for a receipt service, the short message value-added service processing center further instructs in the delivery result notification the short message service center to send the delivery status report of the original short message to the calling party.<br>
13.	The method according to claim 2, wherein when the data of VAS-SMS subscribed by the calling party shows that the calling party subscribes for a short message storage service, the VAS-SMS processing center further stores the original short message by categories for the calling party in accordance with the delivery result of the original short message.<br><br>
14.	The method according to claim 13, wherein when data of VAS-SMS subscribed by the called party shows that the called party subscribes for a short message storage service, the VAS-SMS processing center further stores the original short message by categories for the called party in accordance with the delivery result of the original short message.<br>
15.	A VAS-SMS processing center, comprising:<br>
a first unit adapted to receive an original short message forwarded from a short message service center, which is submitted from a calling party to the short message service center;<br>
a second unit adapted to generate a value-added service short message associated with the original short message in accordance with data of VAS-SMS subscribed by the<br><br>
calling and called parties of the original short message;<br>
a third unit adapted to submit the value-added service short message to the short message service center and to receive a delivery status report returned from the short message service center, which reports a delivery result about whether the value-added service short message is delivered with success; and<br>
a fourth unit adapted to take the delivery result of the value-added service short message as that of the associated original short message and to send a delivery result notification of the original short message to the short message service center.<br>
16.	The short message value-added service processing center according to claim 15,<br>
wherein:<br>
the second unit is further adapted to return a reception acknowledgement indication to the short message service center in accordance with the data of VAS-SMS subscribed by the calling and called parties of the original short message<br>
17.	A device for processing value-added service , comprising a value-added service processing center adapted to receive an original message forwarded from a message service center, to generate a value-added service message associated with the original message in accordance with message value-added service data subscribed by a calling party and a called party of the original message, to submit the value-added service message to the message service center, to receive a delivery status report returned from the message service center, to take a delivery result of the value-added service message as that of the associated original message and to send a delivery result notification of the original message to the message service center.<br>
18.	A message service center, comprising a means adapted to forward an original message submitted from a calling party to a value-added service processing center, to buffer the original message, to receive a value-added service message associated with the original message, which is sent from the value-added service processing center, to deliver the value-added service message, to return a delivery status report to the value-added service processing center, and to receive a delivery result notification of the original message, which is generated by the value-added service processing center in accordance with the delivery status report.<br><br>
The present invention discloses a value-added service for short message service processing method and a value-added service for short message service processing center to improve a control mechanism between the value-added service for short message service processing center and a short message service center, which include: the value-added service for short message service processing center receives an original short message forwarded from the short message service center, generates a value-added service short message associated with the original short message in accordance with data of value-added service for short message service subscribed by the calling and called parities of the original short message, submits the value-added service short message to the short message service center, and receives a delivery status report returned from the short message service center, and the value-added service for short message service processing center takes the delivery result of the value-added service short message as that of the associated original short message and sends a delivery result notification of the original short message to the short message service center.</td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/viewdoc.aspx?id=Ln2YqcHy/lb3nyC7FfXPGQ==&amp;amp;loc=wDBSZCsAt7zoiVrqcFJsRw==" target="_blank" style="word-wrap:break-word;">http://ipindiaonline.gov.in/patentsearch/GrantedSearch/viewdoc.aspx?id=Ln2YqcHy/lb3nyC7FfXPGQ==&amp;amp;loc=wDBSZCsAt7zoiVrqcFJsRw==</a></p>
		<br>
		<div class="pull-left">
			<a href="272138-amine-compounds-and-medical-uses-thereof.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="272140-gellan-seamless-breakable-capsule-and-process-for-manufacturing-thereof.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>272139</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>3312/KOLNP/2009</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>13/2016</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>25-Mar-2016</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>18-Mar-2016</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>17-Sep-2009</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>HUAWEI TECHNOLOGIES CO., LTD.</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>HUAWEI ADMINISTRATION BUILDING, BANTIAN, LONGGANG DISTRICT, SHENZHEN, GUANGDONG 518129, P. R. CHINA</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>HOU, XIAOLONG</td>
											<td>HUAWEI ADMINISTRATION BUILDING, BANTIAN, LONGGANG DISTRICT, SHENZHEN, GUANGDONG 518129, P. R. CHINA</td>
										</tr>
										<tr>
											<td>2</td>
											<td>CHEN, NING</td>
											<td>METHOD AND DEVICE FOR PROCESSING VALUE-ADDED SERVICE FOR SHORT MESSAGE SERVICE</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04Q 7/22</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/CN2008/070377</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2008-02-29</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>200710080098.6</td>
									<td>2007-03-12</td>
								    <td>China</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/272139-method-and-device-for-processing-value-added-service-for-short-message-service by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2024 23:14:56 GMT -->
</html>
