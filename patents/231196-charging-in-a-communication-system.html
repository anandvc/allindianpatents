<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/231196-charging-in-a-communication-system by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 12:03:05 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 231196:CHARGING IN A COMMUNICATION SYSTEM</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">CHARGING IN A COMMUNICATION SYSTEM</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>The present invention relates to a method, comprising initiating set-up of a communication session between a first party and a second party by sending from the flfst party to the second party a message inviting the second party to join the communication session and to pay for at least part of said communication session, the first party being served by a first charging entity and the second party being served by a second charging entity; receiving a response to the message, the response comprising address information of the second charging entity and indicating that the . second party will join the communication session and pay for at least part of said communication session; based on the response, providing the flfst charging entity with address information of the second charging entity; and establishing a communication interface between the first and second charging entities based on the, address information comprised in the response.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td> <br><br>
Charging in a communication system<br>
Field of the Invention<br>
The present invention relates to charging in a communication system, and in particular to charging of communication sessions.<br>
Background of the Invention<br>
A communication system can be seen as a facility that enables communication between two or more entities' such as user equipment and/or other nodes associated with the system. The communication may comprise, for example, communication of voice, data, multimedia and so on.<br>
In a basic communication system a simple communication network is provided for<br>
linking together two user equipment so that the users of the user equipment can<br>
communicate with each other during a communication session. The session may<br>
also be referred to by the term call. At least some set-up signalling is typically<br>
required in order to set-up a communication session. Communication between the<br>
user equipment and the entities of the communication network and the set-up<br>
signalling can be based on an appropriate communication protocol or protocols.	i<br>
Conventionally, a designated charging entity in the network uses a stored tariff to determine a charge for a call or other session based on the duration of the session. Each user typically has at least some sort of charging arrangement, for example, a charging account with the operator of the network. Such a user can be referenced to as the subscriber. The charge for a session may then be allocated to the charging account of the user that originated i.e. initiated the session.<br>
\    When a communication session is in progress the network may use the tariff to allocate charges due in respect of the session or use of other services, in post paid arrangement the charges for use of the communication services are typically<br><br>
charged afterwards for a specified period of time, such as monthly. In pre-paid accounts the charges are collected beforehand.<br>
The prepaid communication accounts are becoming increasingly popular. Under a pre-paid account scheme a user pays in advance for communication services. As the user makes use of services the charges for those services are deducted from the balance of the prepaid account until the balance has diminished to zero. Then the network blocks the usage of services by the user until the account has been topped up. Pre-paid services have an advantage in that the network operator does not need to trust the user to pay in arrears for services, as is the case with post paid accounts. Users may also prefer the prepaid accounts since they enable an easy way of controlling the costs of using the communication services. The prepaid account may also offer anonymity for the users.<br>
Various and ever increasing number of services is available for the users of communication systems. An example of the services that might be offered via a communication system is the so called multimedia services. An example of communication systems enabled to offer the multimedia services for the users are IP {Internet Protocol) Multimedia networks. IP Multimedia (IM) functionalities can be provided by means of an IP Multimedia Subsystem (IMS). The data to be communicated in the multimedia application may comprise various types of data. For example, voice, video or other image data, streaming data, text data and other content data may be communicated between the parties of the communication via a communication system.<br>
The large variety of services and types of communication introduced by various applications in the IMS may require improved flexibility from the charging functions. For example, use of prepaid charging may require online communication between different charging entities in cases where charging responsibility does not necessarily lie on the user originating the communications.<br><br>
However, in conventional IMS networks it is not possible for charging entities to communicate with each other. Therefore there is a need for a mechanism that enables communication between different charging entities.<br>
Furthermore, in some IMS applications it may be required that it is possible to use the so called 'collect call1 -type charging i.e. charging wherein the called party is charged for at least a part of the costs. This type of charging is also known as reversed charging.<br>
In typical reversed charging applications the called party is made aware of any requests for reversed charging. Thus information associated with the charging may need to be transferred between the parties, and not just within the network or networks handling the call. This means that an end-to-end charging mechanism may need to be provided. However, some communication facilities such as the Internet Multimedia Subsystem networks are not capable of handling such messaging required for the reverse charging.<br>
There is therefore a need to provide for enhanced and more flexible charging capability in communication networks.<br>
Summary of the Invention<br>
Embodiments of the present invention aim to address one or several of the above problems.<br>
According to one aspect of the present invention, there is provided a method for charging in a communication system, the method comprising the steps of:<br>
initiating set-up of a communication session between a first party and a second party by sending from the first party to the second party a message inviting the second party to join the communication session, the first party being served by a first charging entity and the second party being served by a second charging entity:<br><br>
sending a response to the message, the response including information regarding the second charging entity;<br>
based on the response, providing the first charging entity with information regarding the second charging entity; and<br>
establishing a communication interface between the first and second charging entities based on the information included in the response.<br>
According to another aspect of the present invention there is provided a communication system comprising:<br>
a first charging entity configured to charge a first user equipment for use of communication resources provided by the communication system;<br>
a second charging entity configured to charge a second user equipment for use of communication resources provided by the communication system;<br>
a first control entity configured to serve the first user equipment;<br>
a second control entity configured to serve the second user equipment;<br>
wherein at least one of the control entities is configured to provide the associated charging entity with information regarding the other charging entity, and, in response to receiving such information, to initiate set-up of a communication interface between the first and second charging entities.<br>
According to yet another aspect of the present invention there is provided a user equipment configured to include information regarding charging of a session in a message generated in response to an invitation to join the session.<br>
According to yet another aspect of the present invention there is provided a network entity configured to serve a first user equipment, to provide a first charging entity serving the first user equipment with information regarding a second charging entity serving a second user equipment in response to receiving such information from a controller serving the second user equipment.<br>
According to yet another aspect of the present invention there is provided a network entity configured to serve a user equipment and to include into a message<br><br>
from the user equipment to another network entity information regarding a charging entity serving the user equipment<br>
According to yet another aspect of the present invention there is provided a f     charging entity for a communication system, the charging entity being configured to serve a first user equipment and to communicate with another charging entity configured to serve a second user equipment, the communication being based on information regarding the second charging entity and received from a controller of the communication system.<br>
In more specific embodiments of the invention the second party is charged based on information communicated on the communication interface between the charging entities.<br>
Session initiation protocol (SIP) messaging may used for the exchange of information.<br>
Information regarding the second charging entity may be included at a controller entity serving the second party. At least a part of information required for the establishment of the communication interface between the first and second charging entities may be included into the response by the second party.<br>
Signalling may occur on at least two networks.<br>
A message inviting the second party to join a communication session may include an indication that the second party is requested to pay for at least a part of the charges for the session. At least one condition for the payment by the second party may also be included.<br>
The embodiments of the invention may provide a more flexible mechanism for charging in communication systems. For example, the embodiment may enable use of charging methods such as divided charging responsibility, reverse charging,<br><br>
sponsored charging and so on together with prepaid charging. An advantage is the provision of the possibility to establish reverse or divided charging with online negotiations. The need to use any B-number analysis or pre-definitions to enable this feature may be avoided. If prepaid charging is used, embodiments may provide a possibility for the calling i.e. A-party to use the normal telephone number of the called i.e. B-party even in instances where the B-party is paying at least a part of the costs.<br>
Brief Description of Drawings<br>
For better understanding of the present invention, reference will now be made by way of example to the accompanying drawings in which:<br>
Figure 1 shows an embodiment of the invention;<br>
Figure 2 is a flowchart in accordance with an embodiment of the invention;<br>
Figure 3 and 4 are signalling flowcharts exemplifying operation of some embodiments of the invention; and<br>
Figure 5 shows a multi-network communication system wherein the invention may be embodied.<br>
Description of Preferred Embodiments of the Invention<br>
The present invention will be described by way of example with reference to the architecture of a third generation (3G) mobile communications system. However, it will be understood that it can be applied to any other suitable form of network.<br>
Reference is made first to Figure 1 which shows a schematic presentation of some elements of a communication system 38 wherein the present invention may be embodied. The mobile communication system is arranged to serve a plurality of mobile user equipment A and B via a wireless interface between the user equipment and respective base stations 34 and 44 of the communication system 38. The communication system may comprise at least one mobile communication network.<br><br>
A mobile user equipment is configured for wireless communication with other stations, typically with the base stations of a mobile communication system for enabling mobility thereof. The basic operational principles of a mobile user equipment, that may also be referenced to as a mobile station, are known by the skilled person. A user may use the mobile user equipment for tasks such as for making and receiving phone calls, for receiving and sending data from and to the network and for experiencing, for example, multimedia content.<br>
A mobile user equipment may comprise an antenna element for wirelessly receiving and transmitting signals from and to the base stations of the mobile communication network. A mobile user equipment may also be provided with a display for displaying images and other graphical information for the user of the mobile user equipment Speaker means are also typically provided. The operation of the mobile user equipment may be controlled by means of an appropriate user interface such as control buttons, voice commands and so on. Furthermore, a mobile station typically provided with a processor entity and a memory means. Communication between the user equipment and the entities of the communication network can be based on any appropriate communication protocol. An example of the protocols is the session initiation protocol (SIP).<br>
Any appropriate mobile user equipment adapted for Internet Protocol (IP) communication may be used to connect to an Internet Multimedia Subsystem (IMS). For example, a user may access the IMS by means of a Personal Computer (PC), Personal Data Assistant (PDA)T mobile station (MS) and so on.<br>
It shall be appreciated that although a user equipment per base station is shown in Figure 1 for clarity, a number of user equipment may be in simultaneous communication with each base station.<br>
A mobile communication system, in turn, may logically be divided between a radio access network (RAN) and a core network (CN). In the simplified presentation of Figure 1 the base stations 34 and 44 belong to the respective radio access<br><br>
networks. It shall be appreciate that a plurality of user equipment may be served by a radio access network (RAN). It shall also be appreciated that although Figure 1 shows the base stations of two radio access networks for clarity reasons, a typical communication network system comprises a number of radio access networks.<br>
The 3G radio access network (RAN) is connected to appropriate core network<br>
entity or entities, such as to a serving general packet radio service support node<br>
(SGSN) and appropriate control entities such as call state control functions<br>
(CSCF). Figure 1 shows, for clarity reasons, only two core network controller	entities 36 and 46 serving user equipment A and B, respectively.<br>
The recent developments in communication systems include provision of various	:<br>
service control functions by network entities known as servers rather than<br>
conventional switches and exchanges. For example, in the current third generation<br>
(3G) wireless multimedia network architectures several different servers are used<br>
for handling different control functions. These include control functions such as the<br>
call state control fynctions (CSCFs).<br>
The call state control function entities may provide different functions such as a proxy cali state control function (P-CSCF), interrogating call state control function (I-CSCF), and/or serving call state control function (S-CSCF). It shall be appreciated that the CSCFs may be referenced to by other names, such as the call session control functions. The serving call state control function forms the entity the subscriber needs to be registered at in order to be able to request for a service from the communication system. In addition to the serving control entity, the user may need to be associated with one or more proxy and interrogating control entities.<br>
Figure 1 shows also two charging entities 30 and 40. The charging entity 30 is for the charging of the user equipment A and charging entity 40 is for the charging of the user equipment B. Each of the charging entities 30T 40 is shown to provide a database 31,41 for storing prepaid accounts for the users A and B, respectively.<br><br>
An interface 50 provided between the charging entities 30 and 40 by means of an embodiment is also shown.<br>
In the more detailed embodiments described below with reference to Figures 3 to 5 the controller entities 36 and 46 provide the serving call state control functions for the user equipment A and B, respectively.<br>
An embodiment is now described with reference to the flowchart of Figure 2 and signalling flowchart of Figure 3. This embodiment relates a situation wherein the user of the user equipment A, i.e. the A-party initiates set-up proceedings for a session with the user equipment B, i.e. the B-party by inviting the B-party to join the session at step 100. If A-party wishes that reverse charging is applied for the session, i.e. if the A-party wants the B-party to pay at least a part of the costs incurred during the session, the A-party may request for reverse charging in this initial request for the session.<br>
In Figure 3 the user equipment A and B are shown to be located in two different networks 35 and 45, respectively. Thus the charging entities responsible for the charging of users A and B are also located in different networks. In a pre-paid system it may be necessary to be able to stop a user from using services when the balance of his or hers prepaid account falls to zero. In the simplest form this can be achieved by accounting either an estimated charge or real charge for a session whilst it is in progress, comparing that charge with the remaining balance of the pre-paid account that is to be charged for the call and terminating the session if the charge exceeds the remaining balance. In more complex communication systems, for example communication systems according to the GSM (Global System for Mobile) or UMTS (universal mobile telecommunications system) standard or other standards for third generation (3G) communication systems the networks of more than one operator may be used for carrying a call. Operators of all of those networks may be able to levy charges independently for the services they provide in supporting the call. A system of this sort would need to be able to reliably apply to the correct account the charges<br><br>
made by a number of operators for a single session. Furthermore, if in a system comprising more than one network the network of the user who is to be charged for the session would have to be able to track the ongoing charge for a session as it was in progress even though the charges for the session derived from a number of operators. Otherwise, the session might be allowed to continue when its cost exceeded the user's pre-paid balance and/or not all charges from different networks might be charged from an appropriate prepaid account.<br>
An example how to provide the reversed charging by means of extension to the session initiation protocol (SIP) in a system comprising a plurality of networks is now described with reference to Figures 2 and 3. Figure 3 shows signalling flow during the initial signalling phase of the session initiation protocol (SIP). More particularly, Figure 3 shows signalling of messages 1, 2, 4 to 6, 8 to 10,12, and 13 between user equipment A and B connected to two different networks 35 and 45, respectively, during session set-up messaging signalling and before the actual voice call session is set up.<br>
The information about collect call may be inserted to SIP messages, for example, as a specific charging information element (CIE). The information may also be included in an extended mark-up language XML document body. The online accounting session(s) (A-party and/or B-party) may then be updated based on the information from the SIP messages.<br>
More particularly, when negotiating reverse charging by means of SIP signalling, a charging information element (CIE) may be provided with information interpretable by the networks entities, such as the call state control function servers. The request for reversed charging may be generated and inserted to a SIP INVITE1 message 1 by the A-party user equipment. An indication of the request may be included to the subject field of the INVITE message. Another possibility is to use an indication embedded in the message body.<br><br>
The request may then be transported to the B-party together with the SIP INVITE' message. The INVITE message may be forwarded in messages 2 and 4 to 6 to the B-party user equipment via appropriate network entities such as proxy and serving call state control functions 37, 56,36 and 46. The serving call state control function 36 may perform service control operations at control step 3.<br>
The message 6 is received at the B-party user equipment at step 101 of Figure 2, see also message 7 of Figure 3, At this stage the indication may be interpreted by the B-party user equipment as a request for reverse charging and an appropriate response may be generated.<br>
if at least a part of the cost of the requested session is to be paid by means of the prepaid account 41 of the B-party, information that enables such charging is preferably made available online already from the beginning of the connection. This may be required in order to be able to charge B-party correctly and in real time already from the beginning of the connection. It may also be advantageous be able to check if the prepaid account 41 of the B-party has enough funds for covering the cost, or indeed, if any valid account exists.<br>
The B-party user equipment may include an indication of its willingness to at least<br>
share the costs in the response message 8 of Figure 3. This information may then<br>
be transferred from the B-party user equipment to network entities associated with	'■<br>
the B-party. In Figure 2 this is done at step 102.<br>
One of network entities, for example the S-CSCF 46 of the B network 45 may then	;<br>
detect that the request for reversed charging has been accepted. In response to the detection the network entity may then include further information in the response message, see step 103 of Figure 2. In Figure 3 the CSCF 46 may include the further information in message 10 to CSCF 36.<br>
The further information preferably includes the address of the B-party charging entity 40. The address may be, for example, an IP address or SIP URl {Uniform<br><br>
Resource Identifier) of the charging entity 40. This information is typically available in a controller element that has been assigned to service a user equipment.<br>
The B-party may accept the request for reversed charging received with the SIP INVITE' message 6 for example by sending back a SIP '183' ("session in progress") message 8. Another possibility, if SIP signaling is used, is to send the required charging information in a SIP '200OK' message. The request may also be rejected by the B-party, for example by sending a SIP 'BYE/CANCEL' as a response.<br>
The network controller entity 36 serving the A-party receives at step 104 of Figure 2 the information regarding the charging entity of the B-party in message 10. This information may be forwarded at step 105 to the charging entity 30 of the A-party (see also the service control step 11 of Figure 3). For example, the receipt of the SIP '183* message 10 at the serving CSCF 36 may be used to trigger a message requesting for charging at control step 11 of Figure 3 to the charging entity 30 of subscriber A. This request message may be, for example, a INTERIM RECORD1 or 'UPDATE REQUEST message in accordance with the Diameter protocol. The request message may include 'collect call parameters' request and the address of the B-party charging entity.<br>
The A-party charging entity can then contact the charging entity of the B-party by using the received address information. By means of this mechanism it is possible to set up at step 106 the interface 50 of Figure 1 for transfer of charging information between the charging entities 30 and 40 of A and B parties. The B party may then be charged at step 107 at least partially for the session based on information transferred on the interface 50.<br>
The accounting sessions between the charging entity 30 and the network elements serving the A-party and the charging entity 40 and/or network elements serving the B-party may be set up in any appropriate manner. What is essential in this embodiment is that the charging entity 30 may start charging session with the<br><br>
charging entity 40 so that at least a part of the charging may be accomplished at the B-party charging entity 40. Transfer of address information between the A-party network element 36 and the B-party network element 46 as well as between the charging entities may be based on any appropriate protocol, such as the Session Initiation Protocol (SIP) or the Diameter protocol.<br>
The Diameter defines charging applications such as Accounting and Credit-control. Messages such as 'Accounting-Request1 (ACR), 'Accounting-Answer1 (ACA), 'START_RECORD\ 'INTER!M_RECORD\ *STOP_RECORD' and 'EVENT_RECORD' are also defined. These are typically used for post paid cases. The Credit-control applications may use messages such as 'Credit-Control-Request1 (CCR), 'Credit-Control-Answer* (CCA), '1NITIAL_REQUEST\ 'UPDATEJREQUEST, TERMINATION_REQUEST and 'EVENTJREQUEST may be used, especially for prepaid charging.<br>
Figure 4 shows another exemplifying signalling flow chart for the negotiation for setting up the charging for a session and for interaction between A-party and B-party network elements. As above, in response to the acceptance by the B-party to pay in message 8, the B-party serving controller 46 adds B-party charging entity address information to a SIP e183' message 11 that is transferred to the appropriate A-party network entity 36. Other information may also be transferred. For example, the B-party user equipment may add 'collect calP information in message 8.<br>
In this embodiment, a first accounting request message 2 may be sent to the charging entity 30 serving the A-party already when the call state control function 36 receives the SIP INVITE1 message 1. Message 2 may be, for example, a Diameter accounting request message ('START RECORD') or a Diameter credit control request message (MNITIAL REQUEST'). This message may be triggered by the SIP 'INVITE1 message 1. By means of this type of operation it is possible to start collecting charging data before the SIP 'INVITE1 message has been forwarded further in the system. Similarly, when the sen/ing call state control function 46 of<br><br>
the B-party receives the SIP INVITE1 message 4 from the A-party, it may send appropriate charging request message 5 to the B-party charging entity 40.<br>
In response to the SIP 'INVITE1 message 7 the B-party send a SIP '183' response 8. This message may include information regarding the acceptance and possible conditions for the acceptance.<br>
Figure 4 shows possible messages 5, 6, 9, and 10 between the serving controller 46 and the B-party charging entity 40. Messages 5 and 6 may relate to "normal" charging operations. Messages 9 and 10 may relate to an update informing the charging entity that B-party is to be charged for the call. This may be required, for example, for security reasons. The B-party charging entity 40 may be configured such that is does not start any charging based on request from other charging entities unless it has received a confirmation from the serving controller 46 that the session really exists and that the B-party has agreed to pay.<br>
When the A-party S-CSCF 36 receives message 11, it sends a new charging request message 12 to the A-party charging entity 30 for updating the charging information. The updated charging information includes the address of the B-party charging entity. This address may then be used by the A-party charging entity 30 for setting up a communications interface between the two charging entities, see messages 14 and 15. The A-party charging entity 30 may start new charging session with the B-party charging entity 40, for example, based on the Diameter protocol.<br>
In prepaid cases the collect call information is advantageously available from the beginning of the session. This can be achieved when the information is transferred already in session set-up signalling phase, as shown in Figures 3 and 4. As the SIP can be used in the Internet Multimedia Systems (IMS) for signalling end-to-end manner, this information may be carried in SIP messages.<br><br>
The collect call information may also be received from the B-party even in cases where this has not been requested by the A-party, From Figures 3 and 4 it can be seen that collect call information from B-party may be made available when the first SIP '183' message is received from the B-party. If a charging request (for example, 'START RECORD' or INITIAL REQUEST1) has already been sent to A-party charging entity based on the SIP INVITE' message from the A-party, the SIP l183' message may trigger an update of that request (e.g. INTERIM RECORD1 or 'UPDATE REQUEST1) with collect call parameters even in instances wherein the A-party has not requested for the reverse charging. This could be used, for example, for free phone type services.<br>
The B-party activates the service when the SIP 'INVITE1 message from the A-party is received. At that stage the B-party may include to the response message information regarding the conditions for the reversed payment. For example, the B-party may include information regarding how the charges are to be divided, charging layer specific condition information such as who pays for the access, the IMS part, and so on. For example, it can be defined that the B-party pays half of the cost, or that the party pays all charges and so on. This may be implemented by means of charging information elements such as 'Shared-Charging-lnformation', 'Shared-Percentage1, 'Sponsor-Identity1 (B-party identity) and so on. This information may then be used by the A-party S-CSCF for instructing the appropriate charging entity.<br>
The A-party S-CSCF may also inform the A-party that the session is free of charge. For example, a 'free of charge1 information may be included to the SIP '183' message to the A-party. This information may be included, for example, in the subject field of the message.<br>
An intelligent negotiation mechanism may also be used. The A-party may accept or reject the B-party's offer for paying or sharing the cost when a SIP '183' message is received. If A-party charging has been started from the first SIP INVITE' message, the SIP '200OK' or 'UPDATE' message could trigger a new accounting<br><br>
request. For example, an 'INTERIM RECORD1 or 'UPDATE REQUEST message could be sent to the charging entity with the required 'collect call1 parameters. The B-party may also include information regarding the terms of acceptance (for example, accepted partially) in the SIP response message which the A-party then, in turn, needs to accept.<br>
The B-party may also be provided with cost information from the A-party charging entity. This information may be included in the SIP messages to the B-party.<br>
Figure 5 shows an embodiment wherein entities of three networks 35,45 and 55 are involved in the provision of the session between parties A and B. The A-party is serviced by his home public land mobile network (HPLMN) 35, i.e. by the network the A-party subscribes to. In Figure 5 the signalling for the session set-up is shown by the dashed line. The actual session set-up based on the set-up signalling is shown by a solid line 52. As shown, the actual communication between the user equipment A and B occurs directly between the Gateway GPRS (General Packet Radio Service) support nodes 39 and 59 interfacing the networks 35 and 55.<br>
As is shown, the session step-up may be handled by a plurality of call state control function entities (CSCFs) 36, 37,42,46, and 56. The functions of the proxy CSCFs and the interrogating CSCFs are known in the art, and will thus not be described in more detail.<br>
The call state control function entity 36 is serving the A-party, i.e. the A-party has registered at least one identity at the entity 36. Communications to and from the A-party user equipment are handled by a serving general packet radio service support node 38.<br>
The B-party, in turn, has roamed from the home network 45 to a visited network 55. i     Communications to and from the B-party user equipment are handled by a serving general packet radio service support node 58 of the visited network, However, the serving call state control function 46 the B-party is registered at as well as the B-<br><br>
party charging entity 40 are located in the home network 45 of the B-party. As can be seen from Figure 5, the interface between the charging 30 and 40 is not dependent on the networks the parties are located. The collected charging data may be communicated to appropriate charging entity based on the address information provided by the parties. Therefore the embodiment enables establishment of a charging session 50 between the charging entities 30 and 40 even in the cases where at lest one of the parties has roamed into a visited network.<br>
The above described embodiments wherein the A-party charging entity was made aware of the details of the B-party charging entity. It is also possible to include information regarding the A-party charging entity 30 for example in the SIP INVITE' message, and then send this from the S-CSCF servicing the B-party to the B-party charging entity 40. This may be done after an approval message from the B user equipment. The interface between the charging entities 30 and 40 could then be set up by the B-party charging entity 40.<br>
The above described embodiments may enable online charging for divided or reversed charging. The embodiments may enable the A-party charging entity 30 and B-party charging entity 40 to communicate with each other. Divided charging or corresponding information and B-party charging entity address can be inserted to appropriate messages during the set-up signalling. The A-party charging entity can be seen as acting as a client of the B-party charging entity.<br>
The B-party user equipment may be configured to generate at least a part of the information content of a charging information element (CIE). The networks entities, such as the B-party serving call state control function entity 46 may be configured to include further required data in the response message.<br>
It shall be appreciated that arrangements where the required information is inserted already at the B-party user equipment are also possible. This may require that information enabling the set-up an interface between the charging entities 30 and<br><br>
40 is available for the B-party user equipment. This may be provided, for example, by storing information associated with the serving charging entity in the memory of the user equipment or by requesting such information from the network, such as from the serving controller 46.<br>
It is noted that the above disclosed solution is applicable both to postpaid charging<br>
and prepaid charging. The main difference between the postpaid and the prepaid<br>
charging would be that instead of monitoring and deducting a prepaid balance, in	;<br>
the postpaid charging the charges would accumulate in the charging records of the B-party based on communication on the interface between the A-party and B-party charging entities.<br>
It shall be appreciated that although the examples assume that charging is started from a SIP 'INVITE' message, this is not the only option. For example, charging can be started in response to a SIP '200OK1 message. In this case no updating between the different SIP messages is needed.<br>
It should be appreciated that whilst embodiments of the present invention have been described in relation to user equipment such as mobile stations, embodiments of the present invention are applicable to any other suitable type of user equipment.<br>
The embodiment of the present invention has been described in the context of a third generation system and Session Initiation Protocol. This invention is also applicable to any other communication systems and protocols where appropriate.<br>
The embodiment of the invention has discussed the interface between two charging entities. Embodiments of the present invention are applicable to other network elements where applicable. For example, the mechanism could be used for other control features, such as for negotiating appropriate Quality of Service (QoS) level for a session between two parties.<br><br>
It is also noted herein that while the above describes exemplifying embodiments of the invention, there are several variations and modifications which may be made to the disclosed solution without departing from the scope of the present invention as defined in the appended claims.<br><br>
Claims<br>
1.	A method for charging in a communication system, the method comprising<br>
the steps of:<br>
initiating set-up of a communication session between a first party and a second party by sending from the first party to the second party a message inviting the second party to join the communication session, the first party being served by a first charging entity and the second party being served by a second charging entity;<br>
sending a response to the message, the response including information regarding the second charging entity;<br>
based on the response, providing the first charging entity with information regarding the second charging entity; and<br>
establishing a communication interface between the first and second charging entities based on the information included in the response.<br>
2.	A method as claimed in claim 1, comprising the further step of charging the<br>
second party based on information communicated on the communication interface.<br>
3.	A method as claimed in claim 2, wherein the step of charging comprises<br>
decreasing a prepaid balance of the second party stored in the second charging<br>
entity.<br>
4.	A method as claimed in claim 2, wherein the step of charging comprises<br>
adding charges on an subscriber account of the second party maintained in the<br>
second charging entity.<br>
5.	A method as claimed in any preceding claims, comprising the steps of<br>
including information regarding the second charging entity in the response at a<br>
controller entity serving the second party.<br><br>
6.	A method as claimed in any preceding claim, comprising the step of<br>
including at least a part of information required for the establishment of the<br>
communication interface between the first and second charging entities into the<br>
response by the second party.<br>
7.	A method as claimed in any preceding claim, comprising signalling of the<br>
response on at least two networks.<br>
8.	A method as claimed in any preceding claim, comprising a step of including<br>
in the message inviting the second party to join a communication session an<br>
indication that the second party is requested to pay for at least a part of the<br>
charges for the session.<br>
9.	A method as claimed in claim 6, comprising the further step of including at<br>
least one condition for the payment by the second party.<br>
10.	A method as claimed in any preceding claim, wherein the parties<br>
communicate over an Internet Multimedia Subsystem.<br>
11.	A method as claimed in any preceding claim, wherein a call state control<br>
function serving the first party provides the first charging entity with information<br>
regarding the second charging entity.<br>
12.	A method as claimed in any preceding claim, wherein the information<br>
regarding the second charging entity comprises at least the address of the second<br>
charging entity.<br>
13.	A method as claimed in any preceding claims, comprising sending the<br>
response in a session initiation protocol message.	:<br><br>
14.	A communication system comprising:<br>
a first charging entity configured to charge a first user equipment for use of communication resources provided by the communication system;<br>
a second charging entity configured to charge a second user equipment for use of communication resources provided by the communication system; a first control entity configured to serve the first user equipment, a second control entity configured to serve the second user equipment, wherein at least one of the control entities is configured to provide the associated charging entity with information regarding the other charging entity, and, in response to receiving such information, to initiate set-up of a communication interface between the first and second charging entities.<br>
15.	A user equipment configured to include information regarding charging of a<br>
session in a message generated in response to an invitation to join the session.<br>
16.	A network entity configured to serve a first user equipment, to provide a first<br>
charging entity serving the first user equipment with information regarding a second<br>
charging entity serving a second user equipment in response to receiving such<br>
information from a controller serving the second user equipment.<br>
17.	A network entity configured to serve a user equipment and to include into a<br>
message from the user equipment to another network entity information regarding<br>
a charging entity serving the user equipment.<br>
18.	A charging entity for a communication system, the charging entity being<br>
configured to serve a first user equipment and to communicate with another<br>
charging entity configured to serve a second user equipment, the communication<br>
being based on information regarding the second charging entity and received from<br>
a controller of the communication system.<br><br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDU0NC1jaGVucC0yMDA1IGFic3RyYWN0LWR1cGxpY2F0ZS5wZGY=" target="_blank" style="word-wrap:break-word;">0544-chenp-2005 abstract-duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDU0NC1jaGVucC0yMDA1IGNsYWltcy1kdXBsaWNhdGUucGRm" target="_blank" style="word-wrap:break-word;">0544-chenp-2005 claims-duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDU0NC1jaGVucC0yMDA1IGRlc2NyaXB0aW9uIChjb21wbGV0ZSktZHVwbGljYXRlLnBkZg==" target="_blank" style="word-wrap:break-word;">0544-chenp-2005 description (complete)-duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTQ0LUNIRU5QLTIwMDUgQUJTVFJBQ1QucGRm" target="_blank" style="word-wrap:break-word;">544-CHENP-2005 ABSTRACT.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTQ0LUNIRU5QLTIwMDUgQ0xBSU1TIEdSQU5URUQucGRm" target="_blank" style="word-wrap:break-word;">544-CHENP-2005 CLAIMS GRANTED.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTQ0LUNIRU5QLTIwMDUgQ09SUkVTUE9OREVOQ0UgT1RIRVJTLnBkZg==" target="_blank" style="word-wrap:break-word;">544-CHENP-2005 CORRESPONDENCE OTHERS.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTQ0LUNIRU5QLTIwMDUgQ09SUkVTUE9OREVOQ0UgUE8ucGRm" target="_blank" style="word-wrap:break-word;">544-CHENP-2005 CORRESPONDENCE PO.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTQ0LWNoZW5wLTIwMDUtYWJzdHJhY3QucGRm" target="_blank" style="word-wrap:break-word;">544-chenp-2005-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTQ0LWNoZW5wLTIwMDUtY2xhaW1zLnBkZg==" target="_blank" style="word-wrap:break-word;">544-chenp-2005-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTQ0LWNoZW5wLTIwMDUtY29ycmVzcG9uZG5lY2Utb3RoZXJzLnBkZg==" target="_blank" style="word-wrap:break-word;">544-chenp-2005-correspondnece-others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTQ0LWNoZW5wLTIwMDUtZGVzY3JpcHRpb24oY29tcGxldGUpLnBkZg==" target="_blank" style="word-wrap:break-word;">544-chenp-2005-description(complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTQ0LWNoZW5wLTIwMDUtZHJhd2luZ3MucGRm" target="_blank" style="word-wrap:break-word;">544-chenp-2005-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTQ0LWNoZW5wLTIwMDUtZm9ybSAxLnBkZg==" target="_blank" style="word-wrap:break-word;">544-chenp-2005-form 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTQ0LWNoZW5wLTIwMDUtZm9ybSAyNi5wZGY=" target="_blank" style="word-wrap:break-word;">544-chenp-2005-form 26.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTQ0LWNoZW5wLTIwMDUtZm9ybSAzLnBkZg==" target="_blank" style="word-wrap:break-word;">544-chenp-2005-form 3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTQ0LWNoZW5wLTIwMDUtZm9ybSA1LnBkZg==" target="_blank" style="word-wrap:break-word;">544-chenp-2005-form 5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTQ0LWNoZW5wLTIwMDUtcGN0LnBkZg==" target="_blank" style="word-wrap:break-word;">544-chenp-2005-pct.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="231195-drawer-for-the-management-of-optical-fibers.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="231197-method-of-peer-to-peer-connecting-devices-in-dynamic-home-networking.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>231196</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>544/CHENP/2005</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>13/2009</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>27-Mar-2009</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>03-Mar-2009</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>04-Apr-2005</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>NOKIA CORPORATION</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>KEILALAHDENTIE 4, FIN-02150 ESPOO,</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>KOSKINEN, JUHA-PEKKA</td>
											<td>HEINAJOENKATU 13, FIN-13210 HAMEENLINNA,</td>
										</tr>
										<tr>
											<td>2</td>
											<td>VALLINEN, JUHA, R</td>
											<td>TARMONKATU 6 D 49, FIN-33900 TAMPERE,</td>
										</tr>
										<tr>
											<td>3</td>
											<td>NARHI, ANNE</td>
											<td>VALISALONKUJA 8 A 5, FIN-33400 TAMPERE,</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04M 17/00</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/IB04/02263</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2004-07-07</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>0317124.6</td>
									<td>2003-07-22</td>
								    <td>U.K.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/231196-charging-in-a-communication-system by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 12:03:06 GMT -->
</html>
