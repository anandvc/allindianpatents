<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/211548-a-reproduction-apparatus-for-reproducing-the-optical-disc by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2024 23:23:16 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 211548:A REPRODUCTION APPARATUS FOR REPRODUCING THE OPTICAL DISC</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">A REPRODUCTION APPARATUS FOR REPRODUCING THE OPTICAL DISC</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A multimedia optical disk comprising at least one information layer to which plural system streams and plural program chain information entries are recorded. The plural system streams is interleaved in group_of_pictures Gap units data containing at least moving pictures, and reproduction control information containing special reproduction mode information declaring the address of the next data to be reproduced according to the special reproduction mode used. The plural program chain information entries declare the system stream reproduction sequence of a program chain comprising more than one system stream. At least one system stream is shared by plural program chains. The address information of the first reproduction control information and the address information of the last reproduction control information in each system stream are recorded to the program chain information according to the system stream reproduction sequence.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>A METHOD AND AN APPARATUS FOR ENCODING A BITSTREAM WITH PLURAL POSSIBLE SEARCHING REPRODUCTION PATHS INFORMATION<br>
BACKGROUMD OF IBVEMTIOM<br>
1.	Field of the invention<br>
The present invention relates to a method and apparatus for system encoding bitstreams to connect seamlessly thereof and, more particularly, bitstreams for use in an ■•authoring system for variously processing a data bitstream comprising the video data, audio data, and sub-picture data constituting each of plural program titles containing related video data, audio data, and sub-picture data content to generate a bitstream from which a new title containing the content desired by the user can be reproduced, and efficiently recording and reproducing said generated bitstream using a particular recording medium.<br>
2.	Description of the prior art<br>
Authoring systems used to produce program titles comprising related video data, audio data, and sub-picture data by digitally processing, for example, multimedia data comprising video, audio, and sub-picture data recorded to laser disk or video CD formats are currently available.<br>
Systems using Video-CDs in particular are able to record video data to a CD format disk, which was originally designed with an approximately 600 MB recording capacity for storing digital audio data only, by using such high efficiency video compression techniques as MPEG. As a result of the increased effective recording capacity achieved using data<br><br>
compression techniques, karaoke titles and other conventional ■ laser disk applications are gradually being transferred to the video CD format.<br>
Users today expect both sophisticated title content and high reproduction quality. To meet these expectations, each title must be composed from bitstreams with an increasingly deep hierarchical structure. The data size of multimedia titles written with bitstreams having such deep hierarchical struc¬tures, however, is ten or more times greater than the data size of less complex titles. The need to edit small image (title) details also makes it necessary to process and control the bitstream using low order hierarchical data units.<br>
It is therefore necessary to develop and prove a bitstream structure and an advanced digital processing method including both recording and reproduction capabilities whereby a large volume, multiple level hierarchical digital bitstream can be efficiently controlled at each level of the hierarchy. Also needed are an apparatus for executing this digital processing method, and a recording media to which the bitstream digitally processed by said apparatus can be efficiently recorded for storage and from which said recorded information can be quickly reproduced.<br>
Means of increasing the storage capacity of conven¬tional optical disks have been widely researched to address the recording medium aspect of this problem. One way to increase the storage capacity of the optical disk is to reduce the spot diameter D of the optical (laser) beam.  If the wavelength of<br><br>
the laser beam is 1 and the aperture of the objective lens is NA, then the spot diameter D is proportional to 1/NA, and the storage capacity can be efficiently improved by decreasing 1 and increasing HA.<br>
As described, for example, in United States Patent 5,235,581, however, coma caused by a relative tilt between the disk surface and the optical axis of the laser beam (hereafter "tilt") increases when a large aperture (high NA) lens is used. To prevent tilt-induced coma, the transparent substrate must be made very thin. The problem is that the mechanical strength of the disk is low when the transparent substrate is very thin.<br>
MPEGl, the conventional method of recording and reproducing video, audio, and graphic signal data, has also been replaced by the more robust MPEG2 method, which can transfer large data volumes at a higher rate. It should be noted that the compression method and data format of the MPEG2 standard differ somewhat from those of MPEGl. The specific content of and differences between MPEGl and MPEG2 are described in detail in the ISO-11172 and ISO-13818 MPEG standards, and further description thereof is omitted below.<br>
Note, however, that while the structure of the encoded video stream is defined in the MPEG2 specification, the hierarchical structure of the system stream and the method of processing lower hierarchical levels are not defined.<br>
As described above, it is therefore not possible in a conventional authoring system to process a large data stream containing sufficient information to satisfy many different user<br><br>
requirements. Moreover, even if such a processing method were available, the processed data recorded thereto cannot be repeatedly used to reduce data redundancy because there is no large capacity recording medium currently available that can efficiently record and reproduce high volume bitstreams such as described above.<br>
More specifically, particular significant hardware and software requirements must be satisfied in order to process a bitstream using a data unit smaller than the title. These specific hardware requirements include significantly increasing the storage capacity of the recording medium and increasing the speed of digital processing; software requirements include inventing an advanced digital processing method including a sophisticated data structure.<br>
Therefore, the object of the present invention is to provide an effective authoring system for controlling a multimedia data bitstream with advanced hardware and software requirements using a data unit smaller than the title to better address advanced user requirements.<br>
To share data between plural titles and thereby efficiently utilize optical disk capacity, multi-scene control whereby scene data common to plural titles and the desired scenes on the same time-base from within multi-scene periods containing plural scenes unique to particular reproduction paths can be freely selected and reproduced is desirable.<br>
However, when plural scenes unique to a reproduction path within the multi-scene period are arranged on the same<br><br>
time-base, the scene data must be contiguous. Unselected multi-scene data is therefore unavoidably inserted between the selected common scene data and the selected multi-scene data.<br>
When the recording medium is a disk or other random-access capable medium, the bitstream can be discretely repro¬duced and high-speed special reproduction modes such as fast-forward and reverse play can be achieved by using the character¬istics of the recording medium to calculate the skip destination according to the playback speed, or by extracting the skip destination from information in the bitstream.<br>
However, while it is possible to calculate the skip destination from the bit rate for seamlessly arrayed branch data when branching, for example, from a common scene to one of plural scenes in a multi-scene period during execution of a special reproduction mode (such as fast-forward or reverse play) using a bitstream containing common scene data and multi-scene periods, it is not possible to calculate the skip destination for non-contiguously arrayed branch data (scenes).<br>
Furthermore, while branch destination address information may be recorded for one reproduction path, this does not make it possible to branch to other paths. Trying to record all possible path destinations is also an inefficient use of limited storage capacity. Each time common scene data is used, the GOP address information of the branch destination must also be recorded, further complicating the data generation process. This is, therefore, also not practical. It is thus difficult to follow the desired scene data in, for example, fast-forward<br><br>
modes seeking one of multiple scenes, it is also difficult to follow the desired scene data in reverse mode reproduction from a multi-scene period to a common scene.<br>
Therefore, the object of the present invention is to provide a multimedia optical disk whereby special reproduction modes can be accomplished even using scene data arrayed to multi-scene periods; a recording method and a reproduction method for recording and reproducing said multimedia optical disk; and a recording apparatus and a reproduction apparatus implementing said recording method and reproduction method, respectively.<br>
The present application is based upon Japanese Patent Application No. 7-276574, which was filed on September 29, 1995, the entire contents of which are expressly incorporated by reference herein. SUMMARY OF THE INVENTIOM<br>
The present invention has been developed with a view to substantially solving the above described disadvantages and has for its essential object to provide a multimedia optical disk comprising at least one information layer to which plural system streams and plural program chain information entries are recorded, said plural system streams interleaving in group of_pictures GOP units data containing at least moving pictures, and reproduction control information containing special reproduction mode information declaring the address of the next data to be reproduced according to the special reproduction mode used, and said plural program chain informa-<br><br>
tion entries declaring the system stream reproduction sequence of a program chain comprising more than one system stream, characterized by at least one system stream being shared by plural program chains, and the address information of the first reproduction control information and the address information of the last reproduction control information in each system stream being recorded to the program chain information according to the system stream reproduction sequence.<br>
Accordingly the present invention provides a reproduction apparatus for reproducing the optical disc comprising: a reading unit for reading the system streams and the program chain information entries from the optical disc; and a controller for receiving the program chain information entries and for, based on one of the program chain information entries, controlling the reading unit top contiguously read a sequence of systems defined by the one of the program chain information entries, wherein during a forward reproduction the controller controls the reading unit to read a next video object unit reference next position data in a navigation pack of a currently reproduced video object unit, when the next video object unit is in the same system stream as the currently reproduced video object unit; and controls the reading unit to read the first video object included in a next system stream which follows a system stream including the currently reproduced video object unit, referencing the first position data in the program chain information entries, when the next video object unit is not in the same system stream, and wherein during a backward reproduction the controller controls the reading unit to read a previous video object unit referencing the previous position data in the navigation pack of the currently reproduced video object unit, when the previous video object unit is in the same system stream as the currently reproduced video object unit; and controls Uie reading unit to read the last video object unit included in a previous system stream which is followed by the system stream including the currently reproduced video object unit, referencing the last position data in the program chain information entries, when the previous video object unit is not in the same system stream.<br><br>
BRIEF DESCRIPTION OF THE DRAWINGS<br>
These and other objects and features of the present invention will become clear from the following description taken in conjunction with the preferred embodiments thereof with reference to the accompanying drawings throughtout which like parts are designated by like reference numerals, and in which:<br>
Fig. 1 is a graph schematically showing a structure of multi media bit stream according to the present invention,<br>
Fig. 2 is a block diagram showing an authoring encoder according to the present invention,<br>
Fig. 3 is a block diagram showing an authoring decoder according to the present invention,<br>
Fig. 4 is a side view of an optical disk storing the multi media bit stream of Fig.l,<br>
Fig. 5 is an enlarged view showing a portion confmed by a circle of Fig. 4,<br>
Fig. 6 is an enlarged view showing a portion confmed by a circle of Fig-5,<br><br>
Fig. 7 is a side view showing a variation of the optical disk of Fig. 4,<br>
Fig. 8 is a side view showing another variation of the optical disk of Fig. 4,<br>
Fig. 9 is a plan view showing one example of track path formed on the recording surface of the optical disk of Fig. 4,<br>
Fig. 10 is a plan view showing another example of track path formed on the recording surface of the optical disk of Fig. 4,<br>
Fig. 11 is a diagonal view schematically showing one example of a track path pattern formed on the optical disk of Fig. 7,<br>
Fig. 12 is a plan view showing another example of track path formed on the recording surface of the optical disk of Fig. 7,<br>
Fig. 13 is a diagonal view schematically showing one example of a track path pattern formed on the optical disk of Fig. 8,<br>
Fig. 14 is a plan view showing another example of track path formed on the recording surface of the optical disk of Fig. 8,<br>
Fig. 15 is a graph in assistance of explaining a concept of parental control according to the present invention,<br>
Fig. 16 is a graph schematically showing the structure of multimedia bit stream for use in Digital Video Disk system according to the present invention,<br><br>
Fig. 17 is a graph schematically showing the encoded video stream according to the present invention,<br>
Fig. 18 is a graph schematically showing an internal structure of a video zone of Fig. 16.<br>
Fig. 19 is a graph schematically showing the stream management information according to the present invention.<br>
Fig. 20 is a graph schematically showing the structure the navigation pack NV of Fig. 11,<br>
Fig. 21 is a graph is assistance of explaining a concept of parental lock playback control according to the present invention,<br>
Fig. 22 is a graph schematically showing the data structure used in a digital video disk system according to the present invention,<br>
Fig. 23 is a graph in assistance of explaining a concept of Multi-angle scene control according to the present invention,<br>
Fig. 24 is a graph in assistance of explaining a concept of multi scene data connection.<br>
Fig. 25 is a block diagram showing a DVD encoder according to the present invention.<br>
Fig. 26 is a block diagram showing a DVD decoder according to the present invention,<br>
Fig. 27 is a graph schematically showing an encoding information table generated by the encoding system controller of Fig. 25,<br><br>
Fig. 28 is a graph schematically showing an encoding information tables,<br>
Fig. 2 9 is a graph schematically showing an encoding parameters used by the video encoder of Fig. 25,<br>
Fig. 30 is a graph schematically showing an example of the contents of the program chain information according to the present invention,<br>
Fig. 31 is a graph schematically showing another example of the contents of the program chain information according to the present invention,<br>
Fig. 32 is a graph showing the relative sector information used to rapidly move according to the reproduction speed to the sector of the VOBU containing the next GOP according to the present invention,<br>
Fig. 3 3 is a graph in assistance of explaining a concept of multi-angle scene control according to the present in invention,<br>
Fig. 34 is a flow chart, formed by Figs. 34A and 31B, showing an operation of the DVD encoder of Fig. 25,<br>
Fig. 35 is a flow chart showing detailed of the encode parameter production sub-routine of Fig. 34,<br>
Fig. 3 6 is a flow chart showing the detailed of the VOB data setting routine of Fig. 35,<br>
Fig, 37 is a flow chart showing the encode parameters generating operation for a seamless switching,<br>
Fig. 3 8 is a flow chart showing the encode parameters generating operation for a system stream,<br><br>
Fig. 39 is a flow chart showing the encode parameters generating operation for a system stream containing a single scene,<br>
Fig. 4 0 is a flow chart showing the operation of the DVD encoder of Fig. 26,<br>
Fig. 41 is a flow chart showing details of the multi-angle non-seamless switching control routine of Fig. 40,<br>
Fig. 42 is a flow chart showing details of the multi-angle seamless switching control routine of Fig. 40,<br>
Fig. 43 is a flow chart showing details of the parental lock sub-routine of Fig. 40,<br>
Fig. 44 is a flow chart showing details of the single scene subroutine of Fig. 40,<br>
Figs. 45 and 46 are graphs showing decoding informa¬tion table produced by the decoding system controller of Fig. 26,<br>
Fig. 47 is a flow chart showing the operation of the DVD decoder DCD of Fig. 2 6,  -<br>
Fig. 48 is a flow chart showing details of reproduc¬tion extracted PGC routing of Fig. 47,<br>
Fig. 49 is a flow chart showing details of decoding data process of Fig. 48, performed by the stream buffer, is shown,<br>
Fig. 50 is a flow chart showing details of the decoder synchronization process of Fig. 49,<br><br>
Fig. 51 is a graph in assistance of explaining a special reproduction modes such as fast forward and reverse using an MPEG bitstream,<br>
Fig. 52 is a flow chart showing an operation of the decoding system controller of Fig. 26 under a special reproduc¬tion mode such as fast forward or reverse play,<br>
Figs. 53, 54, and 55 are graphs in assistance of explaining an example of VOBU reproduction in each cell during special-mode reproduction from plural program chains comprising common scenes and scenes unique to specific reproduction paths,<br>
Fig. 56 is a flow chart showing an operation of the decoding system controller of Fig. 26,<br>
Fig. 57 is a graph schematically showing an actual arrangement of data blocks recorded to a data recording track on a recording medium according to the present invention,<br>
Fig. 58 is a graph schematically showing contiguous block regions and interleaved block regions array,<br>
Fig. 59 is a graph schematically showing a content of a VTS title VOBS according to the present invention, and<br>
Fig. 60 is a graph schematically showing an internal data structure of the interleaved block regions according to the present invention.<br>
DETAILED DESCRIPTIOM Of PREFERRED EMBODIMEMTS Data structure of the authoring system<br>
The logic structure of the multimedia data bitstream processed using the recording apparatus, recording medium, reproduction apparatus, and authoring system according to the<br><br>
present invention is described first below with reference to Fig. 1.<br>
In this structure, one title refers to the combination of video and audio data expressing program content recognized by a user for education, entertainment, or other purpose. Referenced to a motion picture (movie), one title may correspond to the content of an entire movie, or to just one scene within said movie.<br>
A video title set (VTS) comprises the bitstream data containing the information for a specific number of titles. More specifically, each VTS comprises the video, audio, and other reproduction data representing the content of each title in the set, and control data for controlling the content data.<br>
The video zone VZ is the video data unit processed by the authoring system, and comprises a specific number of video title sets. More specifically, each video zone is a linear sequence of K + 1 video title sets numbered VTS #0 - VTS #K where K is an integer value of zero or greater. One video title set, preferably the first video title set VTS #0, is used as the video manager describing the content information of the titles contained in each video title set.<br>
The multimedia bitstream MBS is the largest control unit of the multimedia data bitstream handled by the authoring system of the present invention, and comprises plural video zones VZ. Authoring encoder EC<br><br>
A preferred embodiment of the authoring encoder EC according to the present invention for generating a new multimedia bitstream MBS by re-encoding the original multimedia bitstream MBS according to the scenario desired by the user is shown in Fig. 2. Note that the original multimedia bitstream MBS comprises a video stream Stl containing the video informa¬tion, a sub-picture stream St3 containing caption text and other auxiliary video information, and the audio stream st5 containing the audio information.<br>
The video and audio streams are the bitstreams containing the video and audio information obtained from the source within a particular period of time. The sub-picture stream is a bitstream containing momentary video information relevant to a particular scene. The sub-picture data encoded to a single scene may be captured to video memory and displayed continuously from the video memory for plural scenes as may be necessary.<br>
When this multimedia source data Stl, St3, and St5 is obtained from a live broadcast, the video and audio signals are supplied in real-time from a video camera or other imaging source; when the multimedia source data is reproduced from a video tape or other recording medium, the audio and video signals are not real-time signals.<br>
While the multimedia source stream is shown in Fig. 2 as comprising these three source signals, this is for conve¬nience only, and it should be noted that the multimedia source stream may contain more than three types of source signals, and<br><br>
may contain source data for different titles. Multimedia source data with audio, video, and sub-picture data for plural titles are referred to below as multi-title streams.<br>
As shown in Fig. 2, the authoring encoder EC comprises a scenario editor 100, encoding system controller 200, video encoder 300, video stream buffer 400, sub-picture encoder 500, sub-picture stream buffer 600, audio encoder 700, audio stream buffer 800, system encoder 900, video zone formatter 1300, recorder 1200, and recording medium M.<br>
The video zone formatter 1300 comprises video object (VOB) buffer 1000, formatter 1100, and volume and file structure formatter 1400.<br>
The bitstream encoded by the authoring encoder EC of the present embodiment is recorded by way of example only to an optical disk.<br>
The scenario editor lOO of the authoring encoder EC outputs the scenario data, i.e., the user-defined editing instructions. The scenario data controls editing the corre¬sponding parts of the multimedia bitstream MBS according to the user"s manipulation of the video, sub-picture, and audio components of the original multimedia title. This scenario editor lOO preferably comprises a display, speaker(s), keyboard, CPU, and source stream buffer. The scenario editor 100 is connected to an external multimedia bitstream source from which the multimedia source data Stl, St3, and St5 are supplied.<br>
The user is thus able to reproduce the video and audio components of the multimedia source data using the display and<br><br>
speaker to confirm the content of the generated title. The user is then able to edit the title content according to the desired scenario using the keyboard, mouse, and other command input devices while confirming the content of the title on the display and speakers. The result of this multimedia data manipulation is the scenario data St7.<br>
The scenario data St7 is basically a set of instruc¬tions describing what source data is selected from all or a subset of the source data containing plural titles within a defined time period, and how the selected source data is reassembled to reproduce the scenario (sequence) intended by the user. Based on the instructions received through the keyboard or other control device, the CPU codes the position, length, and the relative time-based positions of the edited parts of the respective multimedia source data streams Stl, St3, and St5 to generate the scenario data St7.<br>
The source stream buffer has a specific capacity, and is used to delay the multimedia source data streams Stl, St3, and St5 a known time Td and then output streams Stl, St3, and St5.<br>
This delay is required for synchronization with the editor encoding process. More specifically, when data encoding and user generation of scenario data St7 are executed simulta¬neously, i.e., when encoding immediately follows editing, time Td is required to determine the content of the multimedia source data editing process based on the scenario data St7 as will be described further below. As a result, the multimedia source data must be delayed by time Td to synchronize the editing<br><br>
process during the actual encoding operation. Because this delay time Td is limited to the time required to synchronize the operation of the various system components in the case of sequential editing as described above, the source stream buffer is normally achieved by means of a high speed storage medium such as semiconductor memory.<br>
During batch editing in which all multimedia source data is encoded at once ("batch encoded") after scenario data St7 is generated for the complete title, delay time Td must be long enough to process the complete title or longer. In this case, the source stream buffer may be a low speed, high capacity storage medium such as video tape, magnetic disk, or optical disk.<br>
The structure (type) of media used for the source stream buffer may therefore be determined according to the delay time Td required and the allowable manufacturing cost.<br>
The encoding system controller 2 00 is connected to the scenario editor 100 and receives the scenario data st7 there¬from. Based on the time-base position and length information of the edit segment contained in the scenario data St7, the encoding system controller 200 generates the encoding parameter signals St9, Stll, and Stl3 for encoding the edit segment of the multimedia source data. The encoding signals St9, Stll, and Stl3 supply the parameters used for video, sub-picture, and audio encoding, including the encoding start and end timing. Note that multimedia source data Stl, St3, and St5 are output after delay time Td by the source stream buffer, and are<br><br>
therefore synchronized to encoding parameter signals St9, Stll and Stl3.<br>
More specifically, encoding parameter signal St9 is the video encoding signal specifying the encoding timing of video stream Stl to extract the encoding segment from the video stream Stl and generate the video encoding unit. Encoding parameter signal Stll is likewise the sub-picture stream encoding signal used to generate the sub-picture encoding unit by specifying the encoding timing for sub-picture stream St3. Encoding parameter signal Stl3 is the audio encoding signal used to generate the audio encoding unit by specifying the encoding timing for audio stream st5.<br>
Based on the time-base relationship between the encoding segments of streams Stl, St3, and St5 in the multimedia source data contained in scenario data St7, the encoding system controller 200 generates the timing signals st21, St23, and St25 arranging the encoded multimedia-encoded stream in the specified time-base relationship.<br>
The encoding system controller 200 also generates the reproduction time information IT defining the reproduction time of the title editing unit (video object, VOB), and the stream encoding data St33 defining the system encode parameters for multiplexing the encoded multimedia stream containing video, audio, and sub-picture data. Note that the reproduction time information IT and stream encoding data St33 are generated for the video object VOB of each title in one video zone V2.<br><br>
The encoding system controller 200 also generates the title sequence control signal St39, which declares the format¬ting parameters for formatting the title editing units VOB of each of the streams in a particular time-base relationship as a multimedia bitstream. More specifically, the title sequence control signal St39 is used to control the connections between the title editing units (VOB) of each title in the multimedia bitstream MBS, or to control the sequence of the interleaved title editing unit (VOBs) interleaving the title editing units VOB of plural reproduction paths.<br>
The video encoder 300 is connected to the source stream buffer of the scenario editor 100 and to the encoding system controller 200, and receives therefrom the video stream Stl and video encoding parameter signal St9, respectively. Encoding parameters supplied by the video encoding signal St9 include the encoding start and end timing, bit rate^ the encoding conditions for the encoding start and end, and the material type. Possible material types include NTSC or PAL video signal, and telecine converted material. Based on the video encoding parameter signal St9, the video encoder 300 encodes a specific part of the video stream Stl to generate the encoded video stream Stl5.<br>
The sub-picture encoder 500 is similarly connected to the source stream buffer of the scenario editor 100 and to the encoding system controller 200, and receives therefrom the sub-picture stream St3 and sub-picture encoding parameter signal Stii, respectively. Based on the sub-picture encoding parameter<br><br>
signal Stll, the sub-picture encoder 500 encodes a specific part of the sub-picture stream St3 to generate the encoded sub-picture stream Stl7.<br>
The audio encoder 700 is also connected to the source stream buffer of the scenario editor 100 and to the encoding system controller 200, and receives therefrom the audio stream St5 and audio encoding parameter signal stl3, which supplies the encoding start and end timing. Based on the audio encoding parameter signal Sti3, the audio encoder 700 encodes a specific part of the audio stream St5 to generate the encoded audio stream Stl9.<br>
The video stream buffer 400 is connected to the video encoder 3 00 and to the encoding system controller 2 00. The video stream buffer 400 stores the encoded video stream St15 input from the video encoder 300, and outputs the stored encoded video stream Stl5 as the time-delayed encoded video stream St27 based on the timing signal St21 supplied from the encoding system controller 200.<br>
The sub-picture stream buffer 600 is similarly connected to the sub-picture encoder 500 and to the encoding system controller 200. The sut&gt;-pict\ire stream buffer 600 stores the encoded sub-picture stream Sti7 output from the sub-picture encoder 500, and then outputs the stored encoded sub-picture stream Stl7 as time-delayed encoded sub-picture stream St29 based on the timing signal St23 supplied from the encoding system controller 200.<br><br>
The audio stream buffer 800 is similarly connected to the audio encoder 700 and to the encoding system controller 200. The audio stream buffer 800 stores the encoded audio stream Stl9 input from the audio encoder 700, and then outputs the encoded audio stream Stl9 as the time-delayed encoded audio stream St31 based on the timing signal st25 supplied from the encoding system controller 200.<br>
The system encoder 9 00 is connected to the video stream buffer 400, sub-picture stream buffer 600, audio stream buffer 800, and the encoding system controller 200, and is respectively supplied thereby with the time-delayed encoded video stream St27, time-delayed encoded sub-picture stream St29, time-delayed encoded audio stream St3l, and the stream encoding data St3 3- Note that the system encoder 9 00 is a multiplexer that multiplexes the time-delayed streams St27, St29, and St3l based on the stream encoding data St3 3 (timing signal) to generate title editing unit (VOB) St3 5. The stream encoding data St33 contains the system encoding parameters, including the encoding start and end timing.<br>
The video zone formatter 1300 is connected to the system encoder 900 and the encoding system controller 200 from which the title editing unit (VOB) St35 and title sequence control signal St39 (timing signal) are respectively supplied. The title sequence control signal St39 contains the formatting start and end timing, and the formatting parameters used to generate (format) a multimedia bitstream MBS^ The video zone formatter 1300 rearranges the title editing units (VOB) St35 in<br><br>
one video zone VZ in the scenario sequence defined by the user based on the title sequence control signal St39 to generate the edited multimedia stream data St43.<br>
The multimedia bitstream MBS st43 edited according to the user-defined scenario is then sent to the recorder 12 00. The recorder 1200 processes the edited multimedia stream data St43 to the data stream St45 format of the recording medium M, and thus records the formatted data stream St45 to the recording medium M. Note that the multimedia bitstream MBS recorded to the recording medium M contains the volume file structure VFS, which includes the physical address of the data on the recording medium generated by the video zone formatter 1300.<br>
Note that the encoded multimedia bitstream MBS St35 may be output directly to the decoder to immediately reproduce the edited title content. It will be obvious that the output multimedia bitstream MBS will not in this case contain the volume file structure VFS. Authoring decoder<br>
A preferred embodiment of the authoring decoder DC used to decode the multimedia bitstream MBS edited by the authoring encoder EC of the present invention, and thereby reproduce the content of each title unit according to the user-defined scenario, is described next below with reference to Fig. 3. Note that in the preferred embodiment described below the multimedia bitstream St4 5 encoded by the authoring encoder EC is recorded to the recording medium M.<br><br>
As shown in Fig. 3, the authoring decoder DC comprises a multimedia bitstream producer 2000, scenario selector 2100, decoding system controller 23 00, stream buffer 2400, system decoder 2500, video buffer 2600, sub-picture buffer 2700, audio buffer 2800, synchronizer 2900, video decoder 3800, sub-picture decoder 3100, audio decoder 3200, synthesizer 3500, video data output terminal 3600, and audio data output terminal 3700.<br>
The bitstream producer 2000 comprises a recording media drive unit 2004 for driving the recording medium M; a reading head 2006 for reading the information recorded to the recording medium M and producing the binary read signal St57; a signal processor 2008 for variously processing the read signal St57 to generate the reproduced bitstream St61; and a reproduc¬tion controller 2002.<br>
The reproduction controller 2002 is connected to the decoding system controller 23 00 from which the multimedia bitstream reproduction control signal St53 is supplied, and in turn generates the reproduction control signals St55 and St59 respectively controlling the recording media drive unit (motor) 2004 and signal processor 2008.<br>
So that the user-defined video, sub-picture, and audio portions of the multimedia title edited by the authoring encoder EC are reproduced, the authoring decoder DC comprises a scenario selector 2100 for selecting and reproducing the corresponding scenes (titles). The scenario selector 2100 then outputs the selected titles as scenario data to the authoring decoder DC.<br><br>
The scenario selector 2100 preferably comprises a keyboard, CPU, and monitor. Using the keyboard, the user then inputs the desired scenario based on the content of the scenario input by the authoring encoder EC. Based on the keyboard input, the CPU generates the scenario selection data St51 specifying the selected scenario. The scenario selector 2100 is connected by an infrared communications device, for example, to the decoding system controller 2300, to which it inputs the scenario selection data St51.<br>
Based on the scenario selection data St51, the decoding system controller 2300 then generates the bitstream reproduction control signal St53 controlling the operation of the bitstream producer 2000.<br>
The stream buffer 2400 has a specific buffer capacity used to temporarily store the reproduced bitstream St61 input from the bitstream producer 2000, extract the address informa¬tion and initial synchronization data SCR (system clock reference) for each stream, and generate bitstream control data St63. The stream buffer 2400 is also connected to the decoding system controller 23 00, to which it supplies the generated bitstream control data St63.<br>
The synchronizer 2900 is connected to the decoding system controller 2300 from which it receives the system clock reference SCR contained in the synchronization control data StSl to set the internal system clock STC and supply the reset system clock St79 to the decoding system controller 2300.<br><br>
Based on this system clock St79, the decoding system controller 2300 also generates the stream read signal St65 at a specific interval and outputs the read signal St55 to the stream buffer 2400.<br>
Based on the supplied read signal St65, the stream buffer 2400 outputs the reproduced bitstream St61 at a specific interval to the system decoder 2500 as bitstream st67.<br>
Based on the scenario selection data St51, the decoding system controller 2300 generates the decoding signal St69 defining the stream Ids for the video, sub-picture, and audio bitstrearas corresponding to the selected scenario, and outputs to the system decoder 2500.<br>
Based on the instructions contained in the decoding signal St69, the system decoder 2500 respectively outputs the video, sub-picture, and audio bitstreams input from the stream buffer 2400 to the video buffer 2600, sub-picture buffer 2700, and audio buffer 2800 as the encoded video stream St71, encoded sub-picture stream St73, and encoded audio stream st75.<br>
The system decoder 2500 detects the presentation time stamp PTS and decoding time stamp DTS of the smallest control unit in each bitstream St67 to generate the time information signal St77. This time information signal St77 is supplied to the synchronizer 2900 through the decoding system controller 2300 as the synchronization control data Stei.<br>
Based on this synchronization control data St81, the synchronizer 2900 determines the decoding start timing whereby each of the bitstreams will be arranged in the correct sequence<br><br>
after decoding, and then generates and inputs the video stream decoding start signal St89 to the video decoder 3800 based on this decoding timing. The synchronizer 2900 also generates and supplies the sub-picture decoding start signal St9l and audio stream decoding start signal st9 3 to the sub-picture decoder 3100 and audio decoder 3200, respectively.<br>
The video decoder 3800 generates the video output request signal St84 based on the video stream decoding start signal St89, and outputs to the video buffer 2600. In response to the video output request signal St84, the video buffer 2600 outputs the video stream St83 to the video decoder 3800. The video decoder 3800 thus detects the presentation time informa¬tion contained in the video stream St83, and disables the video output request signal St84 when the length of the received video stream StS3 is equivalent to the specified presentation time. A video stream equal in length to the specified presentation time is thus decoded by the video decoder 3800, which outputs the reproduced video signal Stl04 to the synthesizer 3500.<br>
The sub-picture decoder 3100 similarly generates the sub-picture output request signal St86 based on the sub-picture decoding start signal St91, and outputs to the sub-picture buffer 2700. In response to the sub-picture output request signal St86, the sub-picture buffer 2700 outputs the sub-picture stream St85 to the sub-picture decoder 3100. Based on the presentation time information contained in the sub-picture stream St85, the sub-picture decoder 3100 decodes a length of the sub-picture stream St85 corresponding to the specified<br><br>
presentation time to reproduce and supply to the synthesizer 3500 the sub-picture signal St99.<br>
The synthesizer 3500 superimposes the video signal Stl04 and sub-picture signal St99 to generate and output the muIti-picture video signal St105 to the video data output terminal 3600.<br>
The audio decoder 3200 generates and supplies to the audio buffer 2800 the audio output request signal St88 based on the audio stream decoding start signal St93. The audio buffer 2800 thus outputs the audio stream St87 to the audio decoder 3200. The audio decoder 3200 decodes a length of the audio stream St87 corresponding to the specified presentation time based on the presentation time information contained in the audio stream St87, and outputs the decoded audio stream StlOl to the audio data output terminal 3700.<br>
It is thus possible to reproduce a user-defined multimedia bitstream MBS in real-time according to a user-defin¬ed scenario. More specifically, each time the user selects a different scenario, the authoring decoder DC is able to reproduce the titls content desired by the user in the desired sequence by reproducing the multimedia bitstream MBS correspond¬ing to the selected scenario.<br>
It is therefore possible by means of the authoring system of the present invention to generate a multimedia bitstream according to plural user-defined scenarios by real-time or batch encoding multimedia source data in a manner whereby the substreams of the smallest editing units (scenes),<br><br>
which can be divided into plural substreams, expressing the basic title content are arranged in a specific time-base relationship.<br>
The multimedia bitstreara thus encoded can then be reproduced according to the one scenario selected from among plural possible scenarios. It is also possible to change scenarios while playback is in progress, i.e., to select a different scenario and dynamically generate a new multimedia bitstream according to the most recently selected scenario. It is also possible to dynamically select and reproduce any of plural scenes while reproducing the title content according to a desired scenario.<br>
It is therefore possible by means of the authoring system of the present invention to encode and not only reproduce but to repeatedly reproduce a multimedia bitstream MBS in real-time.<br>
A detail of the authoring system is disclosed Japanese Patent Application filed September 27, 1996, and entitled and assigned to the same assignee as the present application. Digital video disk fPVDl<br>
An example of a digital video disk (DVD) with only one recording surface (a single-sided DVD) is shown in Fig.  4.<br>
The DVD recording medium RCl in the preferred embodiment of the invention comprises a data recording surface RSI to and from which data is written and read by emitting laser beam LS, and a protective layer PLl covering the data recording surface RSI.  A backing layer BLl is also provided on the back<br><br>
of data recording surface RSl. The side of the disk on which protective layer PLl is provided is therefore referred to below as side SA (commonly "side A"), and the opposite side (on which the backing layer BLi is provided) is referred to as side SB ("side B") . Note that digital video disk recording media having a single data recording surface RSI on only one side such as this DVD recording medium RCl is commonly called a single-sided single layer disk.<br>
A detailed illustration of area CI in Fig. 4 is shown in Fig. 5. Note that the data recording surface RSI is formed by applying a metallic thin film or other reflective coating as a data layer 4109 on a first transparent layer 4108 having a particular thickness Tl. This first transparent layer -4108 also functions as the protective layer PLl. A second transparent substrate 4111 of a thickness T2 functions as the backing layer BLI, and is bonded to the first transparent layer 4108 by means of an adhesive layer 4110 disposed therebetween.<br>
A printing layer 4112 for printing a disk label may also be disposed on the second transparent substrate 4111 as necessary. The printing layer 4112 does not usually cover the entire surface area of the second transparent substrate 4111 (backing layer BLI) , but only the area needed to print the text and graphics of the disk label. The area of second transparent substrate 4111 to which the printing layer 4112 is not formed may be left exposed. Light reflected from the data layer 4109 (metallic thin film) forming the data recording surface RSl can therefore be directly observed where the label is not printed<br><br>
when the digital video disk is viewed from side SB. As a result, the background looks like a silver-white over which the printed text and graphics float when the metallic thin film is an aluminum thin film, for example.<br>
Note that it is only necessary to provide the printing layer 4112 where needed for printing, and it is not necessary to provide the printing layer 4112 over the entire surface of the backing layer BLl.<br>
A detailed illustration of area C2 in Fig. 5 is shown in Fig. 6. Pits and lands are molded to the common contact surface between the first transparent layer 4108 and the data layer 4109 on side SA from which data is read by emitting a laser beam LS, and data is recorded by varying the lengths of the pits and lands (i.e., the length of the intervals between the pits). More specifically, the pit and land configuration formed on the first transparent layer 4108 is transferred to the data layer 4109. The lengths of the pits and lands is shorter, and the pitch of the data tracks formed by the pit sequences is narrower, than with a conventional Compact Disc (CD). The surface recording density is therefore greatly improved.<br>
Side SA of the first transparent layer 4108 on which data pits are not formed is a flat surface. The second transparent substrate 4111 is for reinforcement, and is a transparent panel made from the same material as the first transparent layer 4108 with both sides flat. Thicknesses Tl and T2 are preferably equal and commonly approximately 0.6 mm, but the invention shall not be so limited.<br><br>
As with a CD, information is read by irradiating the surface with a laser beam LS and detecting the change in the reflectivity of the light spot. Because the objective lens aperture NA can be large and the wavelength 1 of the light beam small in a digital video disk system, the diameter of the light spot Ls used can be reduced to approximately 1/1.6 the light spot needed to read a CD. Note that this means the resolution of the laser beam LS in the DVD system is approximately 1.6 times the resolution of a conventional CD system.<br>
The optical system used to read data from the digital video disk uses a short 650 nm wavelength red semiconductor laser and an objective lens with a 0.6 mm aperture NA. By thus also reducing the thickness T of the transparent panels to 0.6 mm, more than 5 GB of data can be stored to one side of a 120 mm diameter optical disk.<br>
It is therefore possible to store motion picture (video) images having an extremely large per unit data size to a digital video disk system disk without losing image quality because the storage capacity of a single-sided, single-layer recording medium RCl with one data recording surface RSI as thus described is nearly ten times the storage capacity of a conventional CD. As a result, while the video presentation time of a conventional CD system is approximately 74 minutes if image quality is sacrificed, high quality video images with a video presentation time exceeding two hours can be recorded to a DVD.<br>
The digital video disk is therefore well-suited as a recording medium for video images.<br><br>
A digital video disk recording medium with plural recording surfaces RS as described above is shown in Figs. 7 and 8. The DVD recording medium RC2 shown in Fig. 7 comprises two recording surfaces, i.e., first recording surface RSI and semi-transparent second recording surface RS2, on the same side, i.e. side SA, of the disk. Data can be simultaneously recorded or reproduced from these two recording surfaces by using different laser beams LSI and LS2 for the first recording surface RSI and the second recording surface RS2. It is also possible to read/write both recording surfaces RSI and RS2 using only one of the laser beams LSI or LS2. Note that recording media thus comprised are called "single-side, dual-layer disks."<br>
It should also be noted that while two recording surfaces RSI and RS2 are provided in this example, it is also possible to produce digital video disk recording media having more than two recording surfaces RS. Disks thus comprised are known as "single-sided, multi-layer disks."<br>
Though comprising two recording surfaces similarly to the recording media shown in Fig. 7, the DVD recording medium RC3 shown in Fig. 8 has the recording surfaces on opposite sides of the disk, i. e., has the first data recording surface RSI on side SA and the second data recording surface RS2 on side SB. It will also be obvious that while only two recording surfaces are shown on one digital video disk in this example, more than two recording surfaces may also be formed on a double-sided digital video disk. As with the recording medium shown in Fig. 7, it is also possible to provide two separate laser beams LSI<br><br>
and LS2 for recording surfaces RSi and RS2, or to read/write both recording surfaces RSI and RS2 using a single laser beam. Note that this type of digital video disk is called a "double-sided, dual-layer disk." It will also be obvious that a double-sided digital video disk can be comprised with two or more recording surfaces per side. This type of disk is called a "double-sided, multi-layer disk."<br>
A plan view from the laser beam LS irradiation side of the recording surface RS of the DVD recording itisdium RC is shown in Fig. 9 and Fig. 10. Note that a continuous spiral data recording track TR is provided from the inside circumference to the outside circumference of the DVD. The data recording track TR is divided into plural sectors each having the same Known storage capacity. Note that for simplicity only the data recording track TR is shown in Fig. 9 with more than three sectors per revolution.<br>
As shown in Fig. 9, the data recording track TR is normally formed clockwise inside to outside (see arrow DrA) from the inside end point lA at the inside circumference of disk RCA to the outside end point OA at the outside circumference of the disk with the disk RCA rotating counterclockwise RdA. This type of disk RCA is called a clockwise disk, and the recording track formed thereon is called a clockwise track TRA.<br>
Depending upon the application, the recording track TRB may be formed clockwise from outside to inside circumference (see arrow DrB in Fig. 10) from the outside end point OB at the outside circumference of disk RCB to the inside end point IB at<br><br>
the inside circumference of the disk with the disk RCB rotating clockwise RdB. Because the recording track appears to wind counterclockwise when viewed from the inside circumference to the outside circumference on disks with the recording track forined in the direction of arrow DrB, these disks are referred to as counterclockwise disk RCB with counterclockwise track TRB to distinguish them from disk RCA in Fig. 9. Note that track directions DrA and DrB are the track paths along which the laser beam travels when scanning the tracks for recording and playback. Direction of disk rotation RdA in which disk RCA turns is thus opposite the direction of track path DrA, and direction of disk rotation RdB in which disk RCB turns is thus opposite the direction of track path DrB.<br>
An exploded view of the single-sided, dual-layer disk RC2 shown in Fig. 7 is shown as disk RC2o in Fig. 11. Note that the recording tracks formed on the two recording surfaces run in opposite directions. Specifically, a clockwise recording track TRA as shown in Fig. 9 is formed in clockwise direction DrA on the (lower) first data recording surface RSI, and a counter¬clockwise recording track TRB formed in counterclockwise direction DrB as shown in Fig. 10 is provided on the (upper) second data recording surface RS2. As a result, the outside end points OA and OB of the first and second (top and bottom) tracks are at the same radial position relative to the center axis of the disk RC2o. Note that track paths DrA and DrB of tracks TR are also the data read/write directions to disk RC. The first and second (top and bottom) recording tracks thus wind opposite<br><br>
each other with this disk RC, i.e., the track paths DrA and DrB of the top and bottom recording layers are opposite track paths.<br>
Opposite track path type, single-sided, dual-layer disks RC2o rotate in direction RdA corresponding to the first recording surface RSI with the laser beam LS traveling along track path DrA to trace the recording track on the first recording surface RSl. When the laser beam LS reaches the outside end point OA, the laser beam LS can be refocused to end point OB on the second recording surface RS2 to continue tracing the recording track from the first to the second recording surface uninterrupted. The physical distance between the recording tracks TRA and TRB on the first and second recording surfaces RSI and RS2 can thus be instantaneously eliminated by simply adjusting the focus of the laser beam LS.<br>
It is therefore possible with an opposite track path type, single-sided, dual-layer disk RC2o to easily process the recording tracks disposed to physically discrete top and bottom recording surfaces as a single continuous recording track. It is therefore also possible in an authoring system as described above with reference to Fig. 1 to continuously record the multimedia bitstream MBS that is the largest multimedia data management unit to two discrete recording surfaces RSl and RS2 on a single recording medium RC2o.<br>
It should be noted that the tracks on recording surfaces RSl and RS2 can be wound in the directions opposite those described above, i.e., the counterclockwise track TRB may be provided on the first recording surface RSl and the clockwise<br><br>
track TRA on the second recording surface RS2. In this case the direction of disk rotation is also changed to a clockwise rotation RdB, thereby enabling the two recording surfaces to be used as comprising a single continuous recording track as described above. For simplification, a further example of this type of disk is therefore neither shown nor described below.<br>
It is therefore possible by thus constructing the digital video disk to record the multimedia bitstream MBS for a feature-length title to a single opposite track path type, single-sided, dual-layer disk RC2o. Note that this type of digital video disk medium is called a single-sided dual-layer disk with opposite track paths.<br>
Another example of the single-sided, dual-layer DVD recording medium RC2 shown in Fig. 7 is shown as disk RC2p in Fig. 12. The recording tracks formed on both first and second recording surfaces RSI and RS2 are clockwise tracks TRA as shown in Fig. 9. In this case, the single-sided, dual-layer disk RC2p rotates counterclockwise in the direction of arrow RdA, and the direction of laser beam LS travel is the same as the direction of the track spiral, i.e., the track paths of the top and bottom recording surfaces are mutually parallel (parallel track paths). The outside end points OA of both top and bottom tracks are again preferably positioned at the same radial position relative to the center axis of the disk RC2p as described above. As also described above with disk RC2o shown in Fig. 11, the access point can be instantaneously shifted from outside end point OA of track TRA on the first recording surface RSI to the outside<br><br>
end point OA of track TRA on the second recording surface RS2 by appropriately adjusting the focus of the laser beam LS at outside end point OA.<br>
However, for the laser beam LS to continuously access the clockwise recording track TRA on the second recording surface RS2, the recording medium RC2p must be driven in the opposite direction " {clockwise, opposite direction RdA) . Depending on the radial position of the laser beam LS, however, it is inefficient to change the rotational direction of the recording medium. As shown by the diagonal arrow in Fig. 12, the laser beam LS is therefore moved from the outside end point OA of the track on the first recording surface RSI to the inside end point lA of the track on the second recording surface RS2 to use these physically discrete recording tracks as one logically continuous recording track.<br>
Rather than using the recording tracks on top and bottom recording surfaces as one continuous recording track, it is also possible to use the recording tracks to record the multimedia bitstreams MBS for different titles. This type of digital video disk recording medium is called a "single-sided, dual-layer disk with parallel track paths."<br>
Note that if the direction of the tracks formed on the recording surfaces RSI and RS2 is opposite that described above, i.e. , counterclockwise recording tracks TRB are formed, disk operation remains the same as that described above except for the direction of disk rotation, which is clockwise ^s shown by arrow RdB.<br><br>
Whether using clockwise or counterclockwise recording tracks, the single-sided, dual-layer disk RC2p with parallel track paths thus described is well-suited to storing on a single disk encyclopedia and similar multimedia bitstreams comprising multiple titles that are frequently and randomly accessed.<br>
An exploded view of the dual-sided single-layer DVD recording medium RC3 comprising one recording surface layer RSI and RS2 on each side as shown in Fig. 8 is shown as DVD recording medium RC3s in Fig. 13. Clockwise recording track TRA is provided on the one recording surface RSI, and a counterclockwise recording track TRB is provided on the other recording surface RS2. As in the preceding recording media, the outside end points OA and OB of the recording tracks on each recording surface are preferably positioned at the same radial position relative to the center axis of the DVD recording medium RC3S.<br>
Note that while the recording tracks on these recording surfaces RSI and RS2 rotate in opposite directions, the track paths are symmetrical. This type of recording medium is therefore known as a double-sided dual layer disk with symmetrical track paths. This double-sided dual layer disk with symmetrical track paths RC3s rotates in direction RdA when reading/writing the first recording surface RSI. As a result, the track path on the second recording surface RS2 on the opposite side is opposite the direction DrB in which the track winds, i.e., direction DrA. Accessing both recording surfaces RSI and RS2 using a single laser beam LS is therefore not<br><br>
realistic irrespective of whether access is continuous or non-continuous. In addition, a multimedia bitstream MBS is separately recorded to the recording surfaces on the first and second sides of the disk.<br>
A different example of the double-sided single layer disk RC3 shown in Fig. 8 is shown in Fig. 14 as disk RC3a. Note that this disk comprises clockwise recording tracks TRA as shown in Fig. 9 on both recording surfaces RSI and RS2. As with the preceding recording media, the outside end points OA and OA of the recording tracks on each recording surface are preferably positioned at the same radial position relative to the center axis of the DVD recording medium RC3a. Unlike the double-sided dual layer disk with symmetrical track paths RC3s described above, the tracks on these recording surfaces RSI and RS2 are asymmetrical. This type of disk is therefore known as a double-sided dual layer disk with asymmetrical track, paths. This double-sided dual layer disk with asymmetrical track paths RC3a rotates in direction RdA when reading/writing the first recording surface RSI. As a result, the track path on the second recording surface RS2 on the opposite side is opposite the direction DrA in which the track winds, i.e., direction DrB.<br>
This means that if a laser beam LS is driven continuously from the inside circumference to the outside circumference on the first recording surface RSI, and then from the outside circumference to the inside circumference on the second recording surface RS2, both sides of the recording medium<br><br>
RC3a can be read/written without turning the disk over and without providing different laser beams for the two sides.<br>
The track paths for recording surfaces HSl and RS2 are also the same with this double-sided dual layer disk with asymmetrical track paths RC3a. As a result, it is also possible to read/write both sides of the disk without providing separate laser beams for each side if the recording medium RC3a is turned over between sides, and the read/write apparatus can therefore be constructed economically.<br>
It should be noted that this recording medium remains functionally identical even if counterclockwise recording track TRB is provided in place of clockwise recording track TRA on both recording surfaces RSI and RS2.<br>
As described above, the true value of a DVD system whereby the storage capacity of the recording medium can be easily increased by using a multiple layer recording surface is realized in multimedia applications whereby plural video data units, plural audio data units, and plural graphics data units recorded to a single disk are reproduced through interactive operation by the user.<br>
It is therefore possible to achieve one long-standing desire of software (programming) providers, specifically, to provide programming content such as a commercial movie on a single recording medium in plural versions for different language and demographic groups while retaining the image quality of the original. Parental control<br><br>
Content providers of movie and video titles have conventionally had to produce, supply, and manage the inventory of individual titles in multiple languages, typically the language of each distribution, market, and multi-rated title packages conforming to the parental control (censorship) regulations of individual countries in Europe and North America. The time and resources required for this are significant. While high image quality is obviously important, the programming content must also be consistently reproducible.<br>
The digital video disk recording medium is close to solving these problems. Multiple angles<br>
One interactive operation widely sought in multimedia applications today is for the user to be able to change the position from which a scene is viewed during reproduction of that scene. This capability is achieved by means of the multiple angle function.<br>
This multiple angle function makes possible applications whereby, for example, a user can watch a baseball game from different angles (or virtual positions in the stadium), and can freely switch between the views while viewing is in progress. In this example of a baseball game, the available angles may include a position behind the backstop centered on the catcher, batter, and pitcher; one from behind the backstop centered on a fielder, the pitcher, and the catcher; and one from center field showing the view to the pitcher and catcher.<br><br>
To meet these requirements, the digital video disk system uses MPEG, the same basic standard format used with Video-Cds to record the video, audio, graphics, and other signal data. Because of the differences in storage capacity, transfer rates, and signal processing performance within the reproduction apparatus, DVD uses MPEG2, the compression method and data format of which differ slightly from the MPEGi format used with Video-Cds.<br>
It should be noted that the content of and differences between the MPEGI and MPEG2 standards have no direct relationship to the intent of the present invention, and further description is therefore omitted below (for more information, see MPEG specifications ISO-11172 and ISO-13818).<br>
The data structure of the DVD system according to the present invention is described in detail below with reference to Figs. 16, 17, 18, 19, 20, and 21. Multi-scene control<br>
A fully functional and practical parental lock playback function and multi-angle scene playback function must enable the user to modify the system output in minor, subtle ways while still presenting substantially the same video and audio output. If these functions are achieved by preparing and recording separate titles satisfying each of the many possible parental lock and multi-angle scene playback requests, titles that are substantially identical and differ in only minor ways must be recorded to the recording medium. This results in identical data being repeatedly recorded to the larger part of<br><br>
the recording mediuin, and significantly reduces the utilization efficiency of the available storage capacity. More particularly, it is virtually impossible to record discrete titles satisfying every possible request even using the massive capacity of the digital video disk medium. While it may be concluded that this problem can be easily solved by increasing the capacity of the recording medium, this is an obviously undesirable solution when the effective use of available system resources is considered.<br>
Using multi-scene control, the concept of which is described in another section below, in a DVD system, it is possible to dynamically construct titles for numerous variations of the same basic content using the smallest possible amount of data, and thereby effectively utilize the available system resources (recording medium)• More specifically, titles that can be played back with numerous variations are constructed from basic (common) scene periods containing data common to each title, and multi-scene periods comprising groups of different scenes corresponding to the various requests. During reproduction, the user is able to freely and at any time select particular scenes from the multi-scene periods to dynamically construct a title conforming to the desired content, e.g., a title omitting certain scenes using the parental lock control function.<br>
Note that multi-scene control enabling a parental lock playback control function and multi-angle scene playback is described in another section below with reference to Fig. 21.<br><br>
Data structure of the DVD system<br>
The data structure used in the authoring system of a digital video disk system according to the present invention is shown in Fig. 22. To record a multimedia bitstream MBS, this digital video disk system divides the recording medium into three major recording areas, the lead-in area LI, the volume space VS, and the lead-out area LO.<br>
The lead-in area LI is provided at the inside circumference area of the optical disk. In the disks described with reference to Figs. 9 and 10, the lead-in area LI is positioned at the inside end points lA and IB of each track. Data for stabilizing the operation of the reproducing apparatus when reading starts is written to the lead-in area LI.<br>
The lead-out area LO is correspondingly located at the outside circumference of the optical disk, i.e., at outside end points OA and OB of each track in the disks described with reference to Figs. 9 and 10. Data identifying the end of the volume space VS is recorded in this lead-out area LO.<br>
The volume space VS is located between the lead-in area LI and lead-out area LO, and is recorded as a one-dimensional array of n+1 (where n is an integer greater than or equal to zero) 204S-byte logic sectors LS. The logic sectors LS are sequentially number #0, #1, #2, ... #n. The volume space VS is also divided into a volume and file structure management area VFS and a file data structure area FDS.<br>
The volume and file structure management area VFS comprises ra+1 logic sectors LS#0 to LS#m (where m is an integer<br><br>
greater than or equal to zero and less than n. The file data structure FDS comprises n-m logic sectors LS #m+l to LS #n.<br>
Note that this file data structure area FDS corresponds to the multimedia bitstream MBS shown in Fig. 1 and described above.<br>
The volume file structure VFS is the file system for managing the data stored to the volume space VS as files, and is divided into logic sectors LS#0 - LS#m where m is the number of sectors required to store all data needed to manage the entire disk, and is a natural number less than n. Information for the files stored to the file data structure area FDS is written to the volume file structure VFS according to a known specification such as ISO-9660 or ISO-13346.<br>
The file data structure area FDS comprises n-m logic sectors LS#m - LS#n, each comprising a video manager VMG sized to an integer multiple of the logic sector (2048 x I, where I is a known integer), and k video title sets VTS #1 - VTS#k (where k is a natural number less than 100).<br>
The video manager VMG stores the title management information for the entire disk, and information for building a volume menu used to set and change reproduction control of the entire volume.<br>
Any video title set VTS #k is also called a "video file" representing a title comprising video, audio, and/or still image data.<br>
The internal structure of each video title set VTS shown in Fig. 22 is shown in Fig. 16.  Each video title set VTS<br><br>
comprises VTS information VTSi describing the management information for the entire disk, and the VTS title video objects VOB (VTSTT_VOBS), i.e., the system stream of the multimedia bitstream. The VTS information VTSI is described first below, followed by the VTS title VOBS.<br>
The VTS information primarily includes the VTSI management table VTSI__MAT and VTSPGC information table VTS_PGCIT.<br>
The VTSI management table VTSI_MAT stores such information as the internal structure of the video title set VTS, the number of selectable audio streams contained in the video title set VTS, the number of sub-pictures, and the video title set VTS location (storage address).<br>
The VTSPGC information table VTS_PGCIT records i (where i is a natural number) program chain (PGC) data blocks VTS_PGCI #1 - VTS_PGC1 #i for controlling the playback sequence. Each of the table entries VTS_PGCI #i is a data entry expressing the program chain, and comprises j (where j is a natural number) cell playback information blocks C_PBI #1 - C_PBI #j. Each cell playback information block C_PBI #j contains the playback sequence of the cell and playback control information.<br>
The program chain PGC is a conceptual structure describing the story of the title content, and therefore defines the structure of each title by describing the cell playback sequence.  Note that these cells are described in detail below.<br>
If, for example, the video title set information relates to the menus, the video title set information VTSI is<br><br>
stored to a buffer in the playback device when playback starts. If the user then presses a MENU button on a remote control device, for example, during playback, the playback device references the buffer to fetch the menu information and display the top menu #1. If the menus are hierarchical, the main menu stored as program chain information VTS_PGCI #1 may be displayed, for example, by pressing the MENU button, VTS_PGCI #2 - #9 may correspond to submenus accessed using the numeric keypad on the remote control, and VTS__PGCI #io and higher may correspond to additional submenus further down the hierarchy. Alternatively, VTS_PGCI #1 may be the top menu displayed by pressing the MENU button, while VTS_PGCI #2 and higher may be voice guidance reproduced by pressing the corresponding numeric key.<br>
The menus themselves are expressed by the plural program chains defined in this table. As a result, the menus may be freely constructed in various ways, and shall not be limited to hierarchical or non-hierarchical menus or menus containing voice guidance.<br>
In the case of a movie, for example, the video title set information VTSI is stored to a buffer in the playback device when playback starts, the playback device references the cell playback sequence described by the program chain PGC, and reproduces the system stream.<br>
The "cells" referenced here may be all or part of the system stream, and are used as access points during playback.<br><br>
Cells can therefore be used, for example, as the "chapters" into which a title may be divided.<br>
Note that each of the PGC information entries C_PBI #j contain both cell playback processing information and a cell information table. The cell playback processing information comprises the processing information needed to reproduce the cell, such as the presentation time and number of repetitions. More specifically, this information includes the cell block mode CBM, cell block type CBT, seamless playback flag SPF, interleaved allocation flag lAF, STC resetting flag STCDF, cell presentation time C_PBTM, seamless angle change flag SACF, first cell VOBU start address C_FVOBU_SA, and the last cell VOBU start address C_LVOBU_SA.<br>
Note that seamless playback refers to the reproduction in a digital video disk system of multimedia data including video, audio, and sub-picture data without intermittent breaks in the data or information. Seamless playback is described in detail in another section below with reference to Fig. 23 and Fig. 24.<br>
The cell block mode CBM indicates whether plural cells constitute one functional block. The cell playback information of each cell in a functional block is arranged consecutively in the PGC information. The cell block mode CBM of the first cell playback information in this sequence contains the value of the first cell in the block, and the cell block mode CBM of the last cell playback information in this sequence contains the value of the last cell in the block.  The cell block mode CBM of each<br><br>
cell arrayed between these first and last cells contains a value indicating that the cell is a cell between these first and last cells in that block.<br>
The cell block type CBT identifies the type of the block indicated by the cell block mode CBM. For example, when a multiple angle function is enabled, the cell information) corresponding to each of the reproducible angles is programmed as one of the functional blocks mentioned above, and the type of these functional blocks is defined by a value identifying "angle" in the cell block type CBT for each cell in that block.<br>
The seamless playback flag SPF simply indicates whether the corresponding cell is to be linked and played back seamlessly with the cell or cell block reproduced immediately therebefore. To seamlessly reproduce a given cell with the preceding cell or cell block, the seamless playback flag SPF is set to 1 in the cell playback information for that cell; otherwise SPF is set to 0.<br>
The interleaved allocation flag lAF stores a value identifying whether the cell exists in a contiguous or interleaved block. If the cell is part of an interleaved block, the flag lAF is set to 1; otherwise it is set to 0.<br>
The STC resetting flag STCDF identifies whether the system time clock STC used for synchronization must be reset when the cell is played back; when resetting the system time clock STC is necessary, the STC resetting flag STCDF is set to 1.<br><br>
The seamless angle change flag SACF stores a value indicating whether a cell in a multi-angle period should be connected seamlessly at an angle change. If the angle change is seamless, the seamless angle change flag SACF is set to 1; otherwise it is set to 0.<br>
The cell presentation time C_PBTM expresses the cell presentation time with video frame precision.<br>
The first cell VOBU start address C_FVOBU_SA is the VOBU start address of the first cell in a block, and is also expressed as the distance from the logic sector of the first cell in the VTS title VOBS (VTSTT_VOBS) as measured by the number of sectors.<br>
The last cell VOBU start address C_LVOBU_SA is the VOBU start address of the last cell in the block. The value of this address is expressed as the distance from the logic sector of the first cell in the VTS title VOBS (VTSTT_VOBS) as measured by the number of sectors.<br>
The VTS title VOBS (VTSTT_VOBS), i.e., the multimedia system stream data, is described next. The system stream data VTSTT VOBS comprises i (where i is a natural number) system streams SS, each of which is referred to as a "video object" (VOB) . Each video object VOB #1 - VOB #i comprises at least one video data block interleaved with up to a maximum eight audio data blocks and up to a maximum 32 sub-picture data blocks.<br>
Each video object VOB comprises q (where q is a natural number) cells C#l - C#q. Each cell C comprises r (where r is a natural number) video object units VOBU #1 - VOBU #r.<br><br>
Each video object unit VOBU comprises plural groups_of_pictures GOP, and the audio and sub-pictures corresponding to the playback of said plural groups_of__pictures GDP. Note that the group_of_pictures GOP corresponds to the video encoding refresh cycle. Each video object unit VOBU also starts with an NV pack, i.e., the control data for that VOBU. *<br>
The structure of the navigation packs NV is described with reference to Fig. 18.<br>
Before describing the navigation pack NV, the internal structure of the video zone V2 (see Fig. 22), i.e., the system stream St35 encoded by the authoring encoder EC described with reference to Fig. 25, is described with reference to Fig. 17. Note that the encoded video stream Sti5 shown in Fig. 17 is the compressed one-dimensional video data stream encoded by the video encoder 300. The encoded audio stream Stl9 is likewise the compressed one-dimensional audio data stream multiplexing the right and left stereo audio channels encoded by the audio encoder 700. Note that the audio signal shall not be limited to a stereo signal, and may also be a multichannel surround-sound signal.<br>
The system stream (title editing unit VOB) St35 is a one dimensional array of packs with a byte size corresponding to the logic sectors LS /n having a 2048-byte capacity as described using Fig. 21. A stream control pack is placed at the beginning of the title editing unit (VOB) St35, i.e., at the beginning of the video object unit VOBU.  This stream control pack is called<br><br>
the "navigation pack NV", and records the data arrangement in the system stream and other control information.<br>
The encoded video stream Sti5 and the encoded audio stream Stl9 are packetized in byte units corresponding to the system stream packs. These packets are shown in Fig. 17 as packets VI, V2, V3, V4... and Al, A2, A3.... As shown in Fig. 17, these packets are interleaved in the appropriate sequence as system stream St35, thus forming a packet stream, with consideration given to the decoder buffer size and the time required by the decoder to expand the video and audio data packets. In the example shown in Fig. 17, the packet stream is interleaved in the sequence VI, V2, Al, V3, V4, A2....<br>
Note that the sequence shown in Fig. 17 interleaves one video data unit with one audio data unit. Significantly increased recording/playback capacity, high speed recording/playback, and performance improvements in the signal processing LSI enable the DVD system to record plural audio data and plural sub-picture data (graphics data) to one video data unit in a single interleaved MPEG system stream, and thereby enable the user to select the specific audio data and sub-picture data to be reproduced during playback. The structure of the system stream used in this type of DVD system is shown in Fig. 18 and described below.<br>
As in Fig. 17, the packetized encoded video stream Stl5 is shown in Fig. 18 as Vi, V2, V3, V4, ... In this example, however, there is not just one encoded audio stream Sti9, but three encoded audio streams Stl9A, stl9B, and Stl9C input as the<br><br>
source data. There are also two encoded sub-picture streams Stl7A and Stl7B input as the source data sub-picture streams. These six compressed data streams, Stl5, StlSA, Stl9B, Stl9C, Stl7A and Stl7B, are interleaved to a single system stream St35.<br>
The video data is encoded according to the MPEG specification with the group__of_pictures GOP being the unit of compression. In general, each group_of_pictures GOP contains 15 frames in the case of an NTSC signal, but the specific number of frames compressed to one GOP is variable. The stream management pack, which describes the management data containing, for example, the relationship between interleaved data, is also interleaved at the GOP unit interval. Because the group_of_pictures GOP unit is based on the video data, changing the number of video frames per GOP unit changes the interval of the stream management packs. This interval is expressed in terms of the presentation time on the digital video disk within a range from 0.4 sec. to 1.0 sec. referenced to the GOP unit. If the presentation time of contiguous plural GOP units is less than 1 sec. , the management data packs for the video data of the plural GOP units is interleaved to a single stream.<br>
These management data packs are referred to as navigation packs NV in the digital video disk system. The data from one navigation pack NV to the packet immediately preceding the next navigation pack NV forms one video object unit VOBU. In general, one contiguous playback unit that can be defined as one scene is called a video object VOB, and each video object VOB contains plural video object units VOBU.   Data sets of<br><br>
plural video objects VOB form a VOB set (VOBS) . Note that these data units were first used in the digital video disk.<br>
When plural of these data streams are interleaved, the navigation packs NV defining the relationship between the interleaved packs must also be interleaved at a defined unit known as the pack number unit. Each group_of_pictures GOP is normally a unit containing approximately 0.5 sec. of video data, which is equivalent to the presentation time required for 12 - 15 frames, and one navigation pack NV is generally interleaved with the number of data packets required for this presentation time.<br>
The stream management information contained in the interleaved video, audio, and sub-picture data packets constituting the system stream is described below with reference to Fig. 19. As shown in Fig. 19, the data contained in the system stream is recorded in a format packed or packetized according to the MPEG2 standard. The packet structure is essentially the same for video, audio, and sub-picture data. One pack in the digital video disk system has a 2048 byte capacity as described above, and contains a pack header PKH and one packet PES; each packet PES contains a packet header PTH and data block.<br>
The pack header PKH records the time at which that pack is to be sent from stream buffer 24 00 to system decoder 2500 (see Fig. 26) , i.e. , the system clock reference SCR defining the reference time for synchronized audio-visual data playback.   The MPEG standard assumes that the system clock<br><br>
reference SCR is the reference clock for the entire decoder operation. With such disk media as the digital video disk, however, time management specific to individual disk players can be used, and a reference clock for the decoder system is therefore separately provided.<br>
The packet header PTH similarly contains a presentation time stamp PTS and a decoding time stamp DTS, both of which are placed in the packet before the access unit (the decoding unit). The presentation time stamp PTS defines the time at which the video data or audio data contained in the packet should be output as the playback output after being decoded, and the decoding time stamp DTS defines the time at which the video stream should be decoded. Note that the presentation time stamp PTS effectively defines the display start timing of the access unit, and the decoding time stamp DTS effectively defines the decoding start timing of the access unit.  If the PTS and DTS are the same time, the DTS is omitted.<br>
The packet header PTH also contains an 8-bit field called the stream ID identifying the packet type, i.e., whether the packet is a video packet containing a video data stream, a private packet, or an MPEG audio packet.<br>
Private packets under the MPEG2 standard are data packets of which the content can be freely defined. Private packet 1 in this embodiment of the invention is used to carry audio data other than the MPEG audio data, and sub-picture data; private packet 2 carries the PCI packet and DSI packet.<br><br>
Private packets 1 and 2 each comprise a packet header, private data area, and data area. The private data area contains an a-bit sub-stream ID indicating whether the recorded data is audio data or sub-picture data. The audio data defined by private packet 2 may be defined as any of eight types #o - #7 of linear PCM or AC-3 encoded data. Sub-picture data may be defined as one of up to 32 types #0 - #31.<br>
The data area is the field to which data compressed according to the MPEG2 specification is written if the stored data is video data; linear PCM, AC-3, or MPEG encoded data is written if audio data is stored; or graphics data compressed by runlength coding is written if sub-picture data is stored.<br>
MPEG2-compressed video data may be compressed by constant bit rate (CBR) or variable bit rate (VBR) coding. With constant bit rate coding, the video stream is input continuously to the video buffer at a constant rate. This contrasts with variable bit rate coding in which the video stream is input intermittently to the video buffer, thereby making it possible to suppress the generation of unnecessary code. Both constant bit rate and variable bit rate coding can be used in the digital video disk system.<br>
Because MPEG video data is compressed with variable length coding, the data quantity in each group_of_pictures GOP is not constant. The video and audio decoding times also differ, and the time-base relationship between the video and audio data read from an optical disk, and the time-base relationship between the video and audio data output from the<br><br>
decoder, do not match. The method of time-base synchronizing the video and audio data is therefore described in detail below with reference to Fig. 26, but is described briefly below based on constant bit rate coding.<br>
The navigation pack NV structure is shown in Fig. 20. Each navigation pack NV starts with a pack header PKH, and contains a PCI packet and DSI packet.<br>
As described above, the pack header PKH records the time at which that pack is to be sent from stream buffer 2400 to system decoder 2500 (see Fig. 26 ) , i.e. , the system clock reference SCR defining the reference time for synchronized audio-visual data playback.<br>
Each PCI packet contains PCI General Information (PCI_GI) and Angle Information for Non-seamless playback (NMSL_AGLI) .<br>
The PCI General Information (PCI_GI] declares the display time of the first video frame (the Start PTM of VOBU (VOBU__S_PTM)) , and the display time of the last video frame (End PTM of VOBU (VOBU_E_PTM)) , in the corresponding video object unit VOBU with system clock precision (90 Khz) .<br>
The Angle Information for Non-seamless playback (NMSL_AGLI) states the read start address of the corresponding video object unit VOBU when the angle is changed expressed as the number of sectors from the beginning of the video object VOB. Because there are nine or fewer angles in this example, there are nine angle address declaration cells: Destination Address  of  Angle  Cell  #1  for  Non-seamless  playback<br><br>
(NMSL_AGL_C1_DSTA) to Destination Address of Angle Cell #9 for Non-seamless playback (NMSL_AGL_C9_DSTA).<br>
Each DSI packet contains DSI General Information (DSI_GI), Seamless Playback Information (SML_PBI), and Angle Information for Seamless playback (SML_AGLI).<br>
The DSI General Information {DSI_GI) declares the address of the last pack in the video object unit VOBU, i, e., the End Address for VOB (VOBU_EA), expressed as the number of sectors from the beginning of the video object unit VOBU.<br>
While seamless playback is described in detail later, it should be noted that the continuously read data units must be interleaved (multiplexed) at the system stream level as an interleaved unit ILVU in order to seamlessly reproduce split or combined titles. Plural system streams interleaved with the interleaved unit ILVU as the smallest unit are defined as an interleaved block.<br>
The Seamless Playback Information (SML_PBI) is declared to seamlessly reproduce the stream interleaved with the interleaved unit ILVU as the smallest data unit, and contains an Interleaved Unit Flag (ILVU flag) identifying whether the corresponding video object unit VOBU is an interleaved block. The ILVU flag indicates whether the video object unit VOBU is in an interleaved block, and is set to 1 when it is. otherwise the ILVU flag is set to 0.<br>
When a video object unit VOBU is in an interleaved block, a Unit END flag is declared to indicate whether the video object unit VOBU is the last VOBU in the interleaved unit ILVU.<br><br>
Because the interleaved unit ILVU is the data unit for continuous reading, the Unit END flag is set to 1 if the VOBU currently being read is the last VOBU in the interleaved unit ILVU.  Otherwise the Unit END flag is set to 0.<br>
An Interleaved Unit End Address (ILVU_EA) identifying the address of the last pack in the ILVU to which the VOBU belongs, and the starting address of the next interleaved unit ILVU, Next Interleaved Unit Start Address (NT_ILVU_SA), are also declared when a video object unit VOBU is in an interleaved block. Both the Interleaved Unit End Address {ILVU_EA) and Next Interleaved Unit Start Address (NT_ILVU_SA) are expressed as the number of sectors from the navigation pack NV of that VOBU.<br>
When two system streams are seamlessly connected but the audio components of the two system streams are not contiguous, particularly immediately before and after the seam, it is necessary to pause the audio output to synchronize the audio and video components of the system stream following the seam. Note that non-contiguous audio may result from different audio signals being recording with the corresponding video blocks. With an NTSC signal, for example, the video frame cycle is approximately 33. 33 msec while the AC-3 audio frame cycle is 32 msec.<br>
To enable this resynchronization, audio reproduction stopping times l and 2, i.e., Audio Stop PTM 1 in VOB (V0B_A_STP_PTM1}, and Audio Stop PTM2 in VOB (V0B_A_STP_PTM2), indicating the time at which the audio is to be paused; and audio reproduction stopping periods 1 and 2, i.e., Audio Gap<br><br>
Length i in VOB (V0B_A_GAP_LEN1) and Audio Gap Length 2 in VOB (V0B_A_GAP_LEN2}, indicating for how long the audio is to be paused; are also declared in the DSI packet. Note that these times are specified at the system clock precision (90 Khz).<br>
The Angle Information for Seamless playback (SML_AGLI) declares the read start address when the angle is changed. Note that this field is valid when seamless, multi-angle control is enabled. This address is also expressed as the number of sectors from the navigation pack NV of that VOBU. Because there are nine or fewer angles, there are nine angle address declaration cells: Destination Address of Angle Cell #i for Seamless playback (SML_AGL_C1_DSTA) to Destination Address of Angle Cell #9 for Seamless playback (SML__AGL_C9_DSTA) .<br>
Note also that each title is edited in video object (VOB) units.   Interleaved video objects (interleaved title editing units) are referenced as "VOBS"; and the encoded range of the source data is the encoding unit. DVD encoder<br>
A preferred embodiment of a digital video disk system authoring encoder ECD in which the multimedia bitstream authoring system according to the present invention is applied to a digital video disk system is described below and shown in Fig. 25. It will be obvious that the authoring encoder ECD applied to the digital video disK system, referred to below as a DVD encoder, is substantially identical to the authoring encoder EC shown in Fig. 2. The basic difference between these encoders is the replacement in the DVD encoder ECD of the video<br><br>
zone formatter 1300 of the authoring encoder EC above with a VOB buffer 1000 and formatter 1100. It will also be obvious that the bitstream encoded by this DVD encoder ECD is recorded to a digital video disk medium M. The operation of this DVD encoder ECD is therefore described below in comparison with the authoring encoder EC described above.<br>
As in the above authoring encoder EC, the encoding system controller 200 generates control signals St9, Stll, Stl3, St21, St23, St25, St33, and St39 based on the scenario data St7 describing the user-defined editing instructions input from the scenario editor 100, and controls the video encoder 300, sub-picture encoder 500, and audio encoder 700 in the DVD encoder ECD. Note that the user-defined editing instructions in the DVD encoder ECD are a superset of the editing instructions of the authoring encoder EC described above.<br>
Specifically, the user-defined editing instructions (scenario data St?) in the DVD encoder ECD similarly describe what source data is selected from all or a subset of the source data containing plural titles within a defined time period, and how the selected source data is reassembled to reproduce the scenario (sequence) intended by the user. The scenario data St7 of the DVD encoder ECD, however, further contains such information as: the number of streams contained in the editing units, which are obtained by splitting a multi-title source stream into blocks at a constant time interval; the number of audio and sub-picture data cells contained in each stream, and the sub-picture display time and period; whether the title is a<br><br>
multi-rated title enabling parental lock control; whether the user content is selected from plural streams including, for example, multiple viewing angles; and the method of connecting scenes when the angle is switched among the multiple viewing angles.<br>
The scenario data St7 of the DVD encoder ECD also contains control information on a video object VOB unit basis. Ihis information is required to encode the media source stream, and specifically includes such information as whether there are multiple angles or parental control features. When multiple angle viewing is enabled, the scenario data St7 also contains the encoding bit rate of each stream considering data interleaving and the disk capacity, the start and end times of each control, and whether a seamless connection should be made between the preceding and following streams.<br>
The encoding system controller 200 extracts this information from the scenario data St7, and generates the encoding information table and encoding parameters required for encoding control. The encoding information table and encoding parameters are described with reference to Figs. 27, 28, and 29 below.<br>
The stream encoding data St3 3 contains the system stream encoding parameters and system encoding start and end timing values required by the DVD system to generate the VOBs. These system stream encoding parameters include the conditions for connecting one video object VOB with those before and after, the number of audio streams, the audio encoding information and<br><br>
audio Ids, the number of sub-pictures and the sub-picture Ids, the video playback starting time information VPTS, and the audio playback starting time information APTS.<br>
The title sequence control signal St39 supplies the multimedia bitstream MBS formatting start and end timing information and formatting parameters declaring the reproduction control information and interleave information.<br>
Based on the video encoding parameter and encoding start/end timing signal St9, the video encoder 300 encodes a specific part of the video stream Stl to generate an elementary stream conforming to the MPEG2 Video standard defined in ISO-13818, This elementary stream is output to the video stream buffer 400 as encoded video stream Stl5.<br>
Note that while the video encoder 300 generates an elementary stream conforming to the MPEG2 Video standard defined in ISO-13818, specific encoding parameters are input via the video encoding parameter signal St9, including the encoding start and end timing, bit rate, the encoding conditions for the encoding start and end, the material type, including whether the material is an NTSC or PAL video signal or telecine converted material, and whether the encoding mode is set for either open GOP or closed GOP encoding.<br>
The MPEG2 coding method is basically an interframe coding method using the correlation between frames for maximum signal compression, i.e., the frame being coded (the target frame) is coded by referencing frames before and/or after the target frame.  However, intra-coded frames, i. e. , frames that<br><br>
are coded based solely on the content of the target frame, are also inserted to avoid error propagation and enable accessibility from mid-stream (random access). The coding unit containing at least one intra-coded frame ("intra-frame") is called a group__of__pictures GOP.<br>
A group_of_pictures GOP in which coding is closed completely within that GOP is known as a "closed GOP." A group_of_pictures GOP containing a frame coded with reference to a frame in a preceding or following (ISO-13818 DOES NOT LIMIT P-and B-picture CODING to referencing PAST frames) group_of_pictures GOP is an "open GOP." It is therefore possible to playback a closed GOP using only that GOP. Reproducing an open GOP, however, also requires the presence of the referenced GOP, generally the GOP preceding the open GOP.<br>
The GOP is often used as the access unit. For example, the GOP may be used as the playback start point for reproducing a title from the middle, as a transition point in a movie, or for fast-forward play and other special reproduction modes. High speed reproduction can be achieved in such cases by reproducing only the intra-frame coded frames in a GOP or by reproducing only frames in GOP units.<br>
Based on the sub-picture stream encoding parameter signal Stll, the sub-picture encoder 500 encodes a specific part of the sub-picture stream St3 to generate a variable length coded bitstream of bitmapped data. This variable length coded bitstream data is output as the encoded sub-picture stream Stl7 to the sub-picture stream buffer 600.<br><br>
Based on the audio encoding parameter signal Sti3, the audio encoder 700 encodes a specific part of the audio stream St5 to generate the encoded audio data. This encoded audio data may be data based on the MPEGi audio standard defined in ISO-11172 and the MPEG2 audio standard defined in ISO-13818, AC-3 audio data, or PCM (LPCM) data. Note that the methods and means of encoding audio data according to these standards are known and commonly available.<br>
The video stream buffer 400 is connected to the video encoder 3 00 and to the encoding system controller 200. The video stream buffer 4 00 stores the encoded video stream Stl5 input from the video encoder 300, and outputs the stored encoded video stream Stl5 as the time-delayed encoded video stream St27 based on the timing signal St21 supplied from the encoding system controller 200.<br>
The sub-picture stream buffer 600 is similarly connected to the sub-picture encoder 500 and to the encoding system controller 200. The sub-picture stream buffer 600 stores the encoded sub-picture stream Stl7 input from the sub-picture encoder 500, and then outputs the stored encoded sub-picture stream Stl7 as time-delayed encoded sub-picture stream St29 based on the timing signal St23 supplied from the encoding system controller 200.<br>
The audio stream buffer 800 is similarly connected to the audio encoder 700 and to the encoding system controller 200. The audio stream buffer 800 stores the encoded audio stream Stl9 input from the audio encoder 700, and then outputs the encoded<br><br>
audio stream Stl9 as the time-delayed encoded audio stream st31 based on the timing signal st25 supplied from the encoding system controller 200.<br>
The system encoder 900 is connected to the video stream buffer 400, sub-picture stream buffer 600, audio stream buffer 800, and the encoding system controller 200, and is respectively supplied thereby with the time-delayed encoded video stream St27, time-delayed encoded sub-picture stream St29, time-delayed encoded audio stream St3l, and the system stream encoding parameter data st33. Note that the system encoder 900 is a multiplexer that multiplexes the time-delayed streams St27, St29, and St31 based on the stream encoding data st33 (timing signal) to generate title editing units (VOBs) St35.<br>
The VOB buffer 1000 temporarily stores the video objects VOBs produced by the system encoder 900. The formatter 1100 reads the delayed video objects VOB from the VOB buffer 1000 based on the title sequence control signal St39 to generate one video zone VZ, and adds the volume file structure VFS to generate the edited multimedia stream data St43.<br>
The multimedia bitstream MBS St4 3 edited according to the user-defined scenario is then sent to the recorder 1200. The recorder 1200 processes the edited multimedia stream data St43 to the data stream St45 format of the recording medium M, and thus records the formatted data stream St45 to the recording medium M. DVD decoder<br><br>
A preferred embodiment of a digital video disk system authoring decoder DCD in which the multimedia bitstream authoring system of the present invention is applied to a digital video disk system is described below and shown in Fig. 26. The authoring decoder DCD applied to the digital video disk system, referred to below as a DVD decoder DCD, decodes the multimedia bitstream MBS edited using the DVD encoder ECD of the present invention, and recreates the content of each title according to the user-defined scenario, it will also be obvious that the multimedia bitstream St45 encoded by this DVD encoder ECD is recorded to a digital video disk medium M.<br>
The basic configuration of the DVD decoder DCD according to this embodiment is the same as that of the authoring decoder DC shown in Fig. 3. The differences are that a different video decoder 38 01 (shown as 3 800 in Fig. 26) is used in place of the video decoder 3800, and a reordering buffer 3300 and selector 3400 are disposed between the video decoder 3801 and synthesizer 3500.<br>
Note that the selector 3400 is connected to the synchronizer 2900, and is controlled by a switching signal<br>
Sti03.<br>
The operation of this DVD decoder DCD is therefore described below in comparison with the authoring decoder DC<br>
described above.<br>
As shown in Fig. 26, the DVD decoder DCD comprises a multimedia bitstream producer 2000, scenario selector 2100, decoding system controller 2300, stream buffer 2400, system<br><br>
decoder 2500, video buffer 2600, sub-picture buffer 2700, audio buffer 2800, synchronizer 2900, video decoder 3801, reordering buffer 3300, sub-picture decoder 3100, audio decoder 3200, selector 34 00, synthesiser 3500, video data output terminal 3600, and audio data output terminal 370o.<br>
The bitstream producer 2000 comprises a recording media drive unit 2004 for driving the recording medium M; a reading head 2006 for reading the information recorded to the recording medium M and producing the binary read signal st57; a signal processor 2008 for variously processing the read signal St57 to generate the reproduced bitstream St61; and a reproduction controller 2002.<br>
The reproduction controller 2 002 is connected to the decoding system controller 23 00 from which the multimedia bitstream reproduction control signal St53 is supplied, and in turn generates the reproduction control signals st55 and st59 respectively controlling the recording media drive unit (motor) 2004 and signal processor 2008.<br>
So that the user-defined video, sub-picture, and audio portions of the multimedia title edited by the authoring encoder EC are reproduced, the authoring decoder DC comprises a scenario selector 2100 for selecting and reproducing the corresponding scenes (titles). The scenario selector 2100 then outputs the selected titles as scenario data to the DVD decoder DCD.<br>
The scenario selector 2100 preferably comprises a keyboard, CPU, and monitor. Using the keyboard, the user then inputs the desired scenario based on the content of the scenario<br><br>
input by the DVD encoder ECD. Based on the keyboard input, the CPU generates the scenario selection data St5l specifying the selected scenario. The scenario selector 2100 is connected to the decoding system controller 2300 by an infrared communications device, for example, and inputs the generated scenario selection data St51 to the decoding system controller 2300.<br>
The stream buffer 2400 has a specific buffer capacity used to temporarily store the reproduced bitstream St6l input from the bitstream producer 2000, extract the volume file structure VFS, the initial synchronization data SCR (system clock reference) in each pack, and the VOBU control information (DSI) in the navigation pack NV, to generate the bitstream control data St63. The stream buffer 2400 is also connected to the decoding system controller 2300, to which it supplies the generated bitstream control data St63.<br>
Based on the scenario selection data St51 supplied by the scenario selector 2100, the decoding system controller 2300 then generates the bitstream reproduction control signal St53 controlling the operation of the bitstream producer 2000. The decoding system controller 2300 also extracts the user-defined playback instruction data from the bitstream reproduction control signal St53, and generates, the decoding information table required for decoding control. This decoding information table is described further below with reference to Figs. 45 and 46. The decoding system controller 2300 also extracts the title information recorded to the optical disk M from the file data<br><br>
structure area FDS of the bitstream control data St 6 3 to generate the title information signal St200. Note that the extracted title information includes the video manager VMG, VTS information VTSI, the PGC information entries C_PBI #j, and the cell presentation time C_PBTM.<br>
Note that the bitstream control data St63 is generated in pack units as shown in Fig. 19, and is supplied from the stream buffer 2400 to the decoding system controller 2300, to which the stream buffer 2400 is connected.<br>
The synchroniEer 2900 is connected to the decoding system controller 2 3 00 from which it receives the system clock reference SCR contained in the synchronization control data StSl to set the internal system clock STC and supply the reset system clock St79 to the decoding system controller 2300.<br>
Based on this system clock St79, the decoding system controller 2300 also generates the stream read signal St65 at a specific interval and outputs the read signal St65 to the stream buffer 2400.  Note that the read unit in this case is the pack.<br>
The method of generating the stream read signal St65 is described next.<br>
The decoding systeni controller 2300 compares the system clock reference SCR contained in the stream control data extracted from the stream buffer 2400 with the system clock St79 supplied from the synchronizer 2900, and generates the read request signal St65 when the system clock St79 is greater than the system clo-^^ T-Qfoi-on(-f= scR of the bitstream control data<br><br>
St63.  Pack transfers are controlled by executing this control process on a pack unit.<br>
Based on the scenario selection data St51, the decoding system controller 2300 generates the decoding signal St69 defining the stream Ids for the video, sub-picture, and audio bitstreams corresponding to the selected scenario, and outputs to the system decoder 2500.<br>
When a title contains plural audio tracks, e.g., audio tracks in Japanese, English, French, and/or other languages, and plural sub-picture tracks for subtitles in Japanese, English, French, and/or other languages, for example, a discrete ID is assigned to each of the language tracks. As described above with reference to Fig. 19, a stream ID is assigned to the video data and MPEG audio data, and a substream ID is assigned to the sub-picture data, AC-3 audio data, linear PCM data, and navigation pack NV information. While the user need never be aware of these ID numbers, the user can select the language of the audio and/or subtitles using the scenario selector 2100. If English language audio is selected, for example, the ID corresponding to the English audio track is sent to the decoding system controller 2 300 as scenario selection data St51. The decoding system controller 2300 then adds this ID to the decoding signal St69 output to the system decoder 2500.<br>
Based on the instructions contained in the decoding signal St69, the system decoder 2500 respectively outputs the video, sub-picture, and audio bitstreams input from the stream buffer 2400 to the video buffer 2600, sub-picture buffer 2700,<br><br>
and audio buffer 2800 as the encoded video stream St71, encoded sub-picture stream St73, and encoded audio stream St75. Thus, when the stream ID input from the scenario selector 2100 and the pack ID input from the stream buffer 2400 match, the system decoder 2500 outputs the corresponding packs to the respective buffers (i.e., the video buffer 2600, sub-picture buffer 2700, and audio buffer 2800),<br>
The system decoder 2500 detects the presentation time stamp PTS and decoding time stamp DTS of the smallest control unit in each bitstream St67 to generate the time information signal St77. This time information signal St77 is supplied to the synchronizer 29 00 through the decoding system controller 2300 as the synchronization control data StSi.<br>
Based on this synchronization control data St81, the synchronizer 2900 determines the decoding start timing whereby each of the bitstreams will be arranged in the correct sequence after decoding, and then generates and inputs the video stream decoding start signal St89 to the video decoder 3801 based on this decoding timing. The synchronizer 2900 also generates and supplies the sub-picture decoding start signal St91 and audio stream decoding start signal St93 to the sub-picture decoder 3100 and audio decoder 3200, respectively.<br>
The video decoder 3801 generates the video output request signal St84 based on the video stream decoding start signal St89, and outputs to the video buffer 2600. In response to the video output request signal St84, the video buffer 2600 outputs the video stream St83 to the video decoder 3801.  The<br><br>
video decoder 3801 thus detects the presentation time information contained in the video stream st83, and disables the video output request signal St84 when the length of the received video stream St83 is equivalent to the specified presentation time. A video stream equal in length to the specified presentation time is thus decoded by the video decoder 3801, which outputs the reproduced video signal St95 to the reordering buffer 3300 and selector 3400.<br>
Because the encoded video stream is coded using the interframe correlations between pictures, the coded order and display order do not necessarily match on a frame unit basis. The video cannot, therefore, be displayed in the decoded order. The decoded frames are therefore temporarily stored to the reordering buffer 33 00. The synchronizer 2900 therefore controls the switching signal Stl03 so that the reproduced video signal St95 output from the video decoder 3800 and the reordering buffer output St97 are appropriately selected and output in the display order to the synthesizer 3500.<br>
The sub-picture decoder 3100 similarly generates the sub-picture output request signal St86 based on the sub-picture decoding start signal St91, and outputs to the sub-picture buffer 2700. In response to the sub-picture output request signal St86, the sub-picture buffer 2700 outputs the sub-picture stream St85 to the sub-picture decoder 3100. Based on the presentation time information contained in the sub-picture stream St85, the sub-picture decoder 3100 decodes a length of the sub-picture stream st85 corresponding to the specified<br><br>
presentation time to reproduce and supply to the synthesizer 3500 the sub-picture signal St99.<br>
The synthesizer 3500 superimposes the selector 3400 output with the sub-picture signal St99 to generate and output the video signal Stl05 to the video data output terminal 3600.<br>
The audio decoder 3200 generates and supplies to the audio buffer 2800 the audio output request signal St88 based on the audio stream decoding start signal St93. The audio buffer 2800 thus outputs the audio stream st87 to the audio decoder 3200. The audio decoder 3200 decodes a length of the audio stream St87 corresponding to the specified presentation time based on the presentation time information contained in the audio stream St87, and outputs the decoded audio stream StlOl to the audio data output terminal 3700.<br>
It is thus possible to reproduce a user-defined multimedia bitstream MBS in real-time according to a user-defined scenario. More specifically, each time the user selects a different scenario, the DVD decoder DCD is able to reproduce the title content desired by the user in the desired sequence by reproducing the multimedia bitstream MBS corresponding to the selected scenario.<br>
It should be noted that the decoding system controller 2300 may supply the title information signal St200 to the scenario selector 2100 by means of the infrared communications device mentioned above or another means. Interactive scenario selection controlled by the user can also be made possible by the scenario selector 2100 extracting the title information<br><br>
recorded to the optical disk M from the file data structure area FDS of the bitstream control data St53 contained in the title information signal st200, and displaying this title information on a display for user selection.<br>
Note, further, that the stream buffer 2400, video buffer 2600, sub-picture buffer 2700, audio buffer 2800, and reordering buffer 3300 are expressed above and in the figures as separate entities because they are functionally different. It will be obvious, however, that a single buffer memory can be controlled to provide the same discrete functionality by time-share controlled use of a buffer memory with an operating speed plural times faster than the read and write rates of these separate buffers. Multi-scene control<br>
The concept of multiple angle scene control according to the present invention is described below with reference to Fig. 21. As described above, titles that can be played back with numerous variations are constructed from basic scene periods containing data common to each title, and multi-scene periods comprising groups of different scenes corresponding to the various scenario requests. In Fig. 21, scenes 1, 5, and 8 are the common scenes of the basic scene periods. The multi-angle scenes (angles 1, 2, and 3) between scenes 1 and 5, and the parental locked scenes (scenes 6 and 7) between scenes 5 and 8, are the multi-scene periods.<br>
Scenes taken from different angles, i.e., angles 1, 2, and 3  in this example,  can be dynamically selected and<br><br>
reproduced during playback in the multi-angle scene period. In the parental locked scene period, however, only one of the available scenes, scenes 6 and 1, having different content can be selected, and must be selected statically before playback begins.<br>
Which of these scenes from the multi-scene periods is to be selected and reproduced is defined by the user operating the scenario selector 2100 and thereby generating the scenario selection data St5i. In scenario i in Fig. 21 the user can freely select any of the multi-angle scenes, and scene 6 has been preselected for output in the parental locked scene period. Similarly in scenario 2, the user can freely select any of the multi-angle scenes, and scene 7 has been preselected for output in the parental locked scene period.<br>
With reference to Figs. 3 0 and 31, furthermore, the contents of the program chain information VTS_PGCI is described. In Fig. 30, the case that a scenario requested by the user is shown with respect to a VTSI data construction. The scenario 1 and scenario 2 shown in Fig. 21 are described as program chain information VTS_PGC#1 and VTS_PGC#2. VTS_PGC#1 describing the scenario l consists of cell playback information C_PBI#1 corresponding to scene 1, C_PBI#2, C_PBI#3, and C_PBI#4 within a multi-angle cell block, C_PBI#5 corresponding to scene 5, C_PBI#6 corresponding to scene 6, and C_PBI#7 corresponding to scene 8.<br>
VTS_PGCI#2 describing the scenario 2 consists of cell playback information C_PBI#1 corresponding to scene 1, C_PBI#2,<br><br>
c_PBI#3, and C_PBI#4 within a multi-angle cell block corresponding to a multi-angle scene, C_PBI/5 corresponding to scene 5, C_PBI#6 corresponding to scene 7, and C_PBI#7 corresponding to scene 8. According to the digital video system data structure, a scene which is a control unit of a scenario is described as a cell which is a unit thereunder, thus a scenario requested by a user can be obtained.<br>
In Fig. 31, the case that a scenario requested by the user shown in Fig. 21 is shown with respect to a VOB data construction VTSTT__VOBS. As specifically shown in Fig. 31, the two scenarios i and 2 use the same VOB data in common. With respect to a single scene commonly owned by each scenario, V0B#1 corresponding to scene 1, V0B#5 corresponding to scene 5, and V0B#8 corresponding to scene 8 are arranged in non-interleaved block which is the contiguous block.<br>
With respect to the multi-angle data commonly owned by scenarios i and 2, one angle scene data is constructed by a single VOB. Specifically speaking, angle 1 is constructed by V0B#2, and angle 2 is constructed by V0B#3, angle 3 is constructed by V0B#4. Thus constructed multi-angle data is formed as the interleaved block for the sake of switching between each angle and seamless reproduction of each angle data. Scenes 6 and 7 peculiar to scenarios 1 and 2, respectively, are formed as the interleaved block, for the sake of seamless reproduction between common scenes before and behind thereof as well as seamless reproduction between each scene.<br><br><br><br>
"non-continuous information reproduction," or "non-seamless information reproduction." It is obvious that continuous information reproduction and non-continuous information reproduction are, respectively, seamless and non-seamless reproduction.<br>
Note that seamless reproduction can be further categorized as seamless data reproduction and seamless information reproduction. Seamless data reproduction is defined as preventing physical blanks or interruptions in the data playback (intermittent reproduction) as a result of a buffer underflow state, for example. Seamless information reproduction is defined as preventing apparent interruptions in the information when perceived by the user (intermittent presentation) when recognizing information from the playback data where there are no actual physical breaks in the data reproduction. The specific method enabling seamless reproduction as thus described is described later below with reference to Figs. 23 and 24. Interleaving<br>
The DVD data system streams described above are recorded using an appropriate authoring encoder EC as a movie or other multimedia title on a DVD recording medium. Note that the following description refers to a movie as the multimedia title being processed, but it will be obvious that the invention shall not be so limited.<br>
Supplying a single movie in a format enabling the movie to be used in plural different cultural regions or<br>
countries requires the script to be recorded in the various languages used in those regions or countries. It may even necessitate editing the content to conform to the mores and moral expectations of different cultures. Even using such a large-capacity storage system as the DVD system, however, it is necessary to reduce the bit rate, and therefore the image quality, if plural full-length titles edited from a single common source title are recorded to a single disk. This problem can be solved by recording the common parts of plural titles only once, and recording the segments different in each title for each different title only. This method makes it possible to record plural titles for different countries or cultures to a single optical disk without reducing the bit rate, and, therefore, retaining high image quality.<br>
As shown in Fig. 21, the titles recorded to a single optical disk contain basic scene periods of scenes common to all scenarios, and multi-scene periods containing scenes specific to certain scenarios, to provide parental lock control and multi-angle scene control functions.<br>
In the case of the parental lock control function, titles containing sex scenes, violent scenes, or other scenes deemed unsuitable for children, i.e., so-called "adult scenes," are recorded with a combination of common scenes, adult scenes, and children"s scenes. These title streams are achieved by arraying the adult and children"s scenes to multi-scene periods between the common basic scene periods.<br><br>
Multi-angle control can be achieved in a conventional single-angle title by recording plural multimedia scenes obtained by recording the subjects from the desired plural camera angles to the multi-scene periods arrayed between the common basic scene periods. Note, however, that while these plural scenes are described here as scenes recorded from different camera angles (positions), it will be obvious that the scenes may be recorded from the same camera angle but at different times, data generated by computer graphics, or other video data.<br>
When data is shared between different scenarios of a single title, it is obviously necessary to move the laser beam LS from the common scene data to the non-common scene data during reproduction, i.e., to move the optical pickup to a different position on the DVD recording medium RCl. The problem here is that the time required to move the optical pickup makes it difficult to continue reproduction without creating breaks in the audio or video, i.e., to sustain seamless reproduction. This problem can be theoretically solved by providing a track buffer (stream buffer 2400) to delay data output an amount equivalent to the worst access time. In general, data recorded to an optical disk is read by the optical pickup, appropriately processed, and temporarily stored to the track buffer. The stored data is subsequently decoded and reproduced as video or audio data. Definition of Interleaving<br><br>
To thus enable the user to selectively excise scenes and choose from among plural scenes, a state wherein non-selected scene data is recorded inserted between conLmon scene data and selective scene data necessarily occurs because the data units associated with individual scenes are contiguously recorded to the recording tracks of the recording medium. If data is then read in the recorded sequence, non-selected scene data must be accessed before accessing and decoding the selected scene data, and seamless connections with the selected scene is difficult. The excellent random access characteristics of the digital video disk system, however, make seamless connections with the selected scenes possible.<br>
In other words, by splitting scene-specific data into plural units of a specified data size, and interleaving plural split data units for different scenes in a predefined sequence that is recorded to disk within the jumping range whereby an data underflow state does not occur, it is possible to reproduce the selected scenes without data interruptions by intermittently accessing and decoding the data specific to the selected scenes using these split data units. Seamless data reproduction is thereby assured. Interleaved block and Interleave unit<br>
The interleaving method enabling seamless data reproduction according to the present invention is described below with reference to Fig. 24 and Fig. 57. Shown in Fig. 24 is a case from which three scenarios may be derived, i.e., branching from one video object VOB-A to one of plural video<br><br>
objects VOB-B, VOB-C, and VOB-D, and then merging back again to a single video object VOB-E. The actual arrangement of these blocks recorded to a data recording track TR on disk is shown in Fig. 57.<br>
Referring to Fig. 57, VOB-A and VOB-E are video objects with independent playback start and end times, and are in principle arrayed to contiguous block regions. As shown in Fig. 24, the playback start and end times of VOB-B, VOB-C, and VOB-D are aligned during interleaving. The interleaved data blocks are then recorded to disk to a contiguous interleaved block region. The contiguous block regions and interleaved block regions are then written to disk in the track path Dr direction in the playback sequence. Plural video objects VOB, i.e., interleaved video objects VOBS, arrayed to the data recording track TR are shown in Fig. 57.<br>
Referring to Fig. 57, data regions to which data is continuously arrayed are called "blocks," of which there are two types: "contiguous block regions" in which VOB with discrete starting and end points are contiguously arrayed, and "interleaved block regions" in which plural VOB with aligned starting and end points are interleaved. The respective blocks are arrayed as shown in Fig. 58 in the playback sequence, i.e., block 1, block 2, block 3, .  .  .  block 7.<br>
As shown in Fig. 58, the VTS title VOBS (VTSTT_VOBS) consist of blocks 1-7, inclusive. Block 1 contains VOB 1 alone.  Blocks 2, 3, 5, and 7 similarly discretely contain VOBS<br><br>
2, 3,    6, and 10.  Blocks 2, 3, 5, and 7 are thus contiguous block regions.<br>
Block 4, however, contains VOB 4 and VOB 5 interleaved together, while block 6 contains VOB 7, VOB 8, and VOB 9 interleaved together. Blocks 4 and 6 are thus interleaved block regions.<br>
The internal data structure of the contiguous block regions is shown in Fig. 59 with voB-i and VOB-j arrayed as the contiguous blocks in the VOBs. As described with reference to Pig, 16, VOB-i and VOB-j inside the contiguous block regions are further logically divided into cells as the playback unit. Both VOB-i and VOB-j in this figure are shown comprising three cells CELL #1, CELL #2, and CELL #3.<br>
Each cell comprises one or more video object unit VOBU with the video object unit VOBU defining the boundaries of the cell. Each cell also contains information identifying the position of the cell in the program chain PGC (the playback control information of the digital video disk system). More specifically, this position information is the address of the first and last VOBU in the cell. As also shown in Fig. 59, these VOB and the cells defined therein are also recorded to a contiguous block region so that contiguous blocks are contiguously reproduced. Reproducing these contiguous blocks is therefore no problem.<br>
The internal data structure of the interleaved block regions is shown in Fig. 60. In the interleaved block regions each video object VOB is divided into interleaved units ILVU,<br><br>
and the interleaved units ILVa associated with each VOB are alternately arrayed. Cell boundaries are defined independently of the interleaved units ILVU. For example, VOB-k is divided into four interleaved units ILVUkl, ILVUk2, ILVUk3, and ILVUk4, and are confined by a single cell CELL#k. VOB-k is likewise divided into four interleaved units ILVUml, ILVUm2, ILVUm3, and ILVUm4, and is confined by a sincle cell CELL#m. Note that instead of a single cell CELL#k or CELL#m, each of VOB-k and VOB-m can be divided into more than two cells. The interleaved units ILVU thus contains both audio and video data.<br>
In the example shown in Fig. 60, the interleaved units ILVUkl, ILVUk2, ILVUk3, and ILVUk4, and ILVUml, ILVUin2, ILVUm3^ and ILVUrn4, from two different video objects VOB-k and VOB-m are alternately arrayed within a single interleaved block. By interleaving the interleaved units ILVU of two video objects VOB in this sequence, it is possible to achieve seamless reproduction branching from one scene to one of plural scenes, and from one of plural scenes to one scene. Multi-scene control<br>
The multi-scene period is described together with the concept of multi-scene control according to the present invention using by way of example a title comprising scenes recorded from different angles.<br>
Each scene in multi-scene control is recorded from the same angle, but may be recorded at different times or may even be computer graphics data. The multi-angle scene periods may therefore also be called multi-scene periods.<br><br>
Parental control<br>
The concept of recording plural titles comprising alternative scenes for such functions as parental lock control and recording director"s cuts is described below using Fig. 15.<br>
An example of a multi-rated title stream providing for parental lock control is shown in Fig. 15. When so-called "adult scenes" containing sex, violence, or other scenes deemed unsuitable for children are contained in a title implementing parental lock control, the title stream is recorded with a combination of common system streams SSa, SSb, and Sse, an adult-oriented system stream SSc containing the adult scenes, and a child-oriented system stream SSd containing only the scenes suitable for children. Title streams such as this are recorded as a multi-scene system stream containing the adult-oriented system stream Ssc and the child-oriented system stream Ssd arrayed to the multi-scene period between common system streams Ssb and Sse.<br>
The relationship between each of the component titles and the system stream recorded to the program chain PGC of a title stream thus comprised is described below.<br>
The adult-oriented title program chain PGCl comprises in sequence the common system streams Ssa and Ssb, the adult-oriented system stream Ssc, and the common system stream Sse. The child-oriented title program chain PGC2 comprises in sequence the common system streams Ssa and Ssb, the child-oriented system stream Ssd, and the common system stream Sse.<br><br>
By thus arraying the adult-oriented system stream Ssc and child-oriented system stream Ssd to a multi-scene period, the decoding method previously described can reproduce the title containing adult-oriented content by reproducing the common system streams Ssa and Ssb, then selecting and reproducing the adult-oriented system stream Ssc, and then reproducing the common system stream Sse as instructed by the adult-oriented title program chain PGCl. By alternatively following the child-oriented title program chain PGC2 and selecting the child-oriented system stream Ssd in the multi-scene period^ a child-oriented title from which the adult-oriented scenes have been expurgated can be reproduced.<br>
This method of providing in the title stream a multi-scene period containing plural alternative scenes, selecting which of the scenes in the multi-scene period are to be reproduced before playback begins, and generating plural titles containing essentially the same title content but different scenes in part, is called parental lock control.<br>
Note that parental lock control is so named because of the perceived need to protect children from undesirable content. From the perspective of system stream processing, however, parental lock control is a technology for statically generating different title streams by means of the user pre-selecting specific scenes from a multi-scene period- Note, further, that this contrasts with multi-angle scene control, which is a technology for dynamically changing the content of a single<br><br>
title by means of the user selecting scenes from the multi-scene period freely and in real-time during title playback.<br>
This parental lock control technology can also be used to enable title stream editing such as when making the director"s cut. The director"s cut refers to the process of editing certain scenes from a movie to, for example, shorten the total presentation time. This may be necessary, for example, to edit a feature-length movie for viewing on an airplane where the presentation time is too long for viewing within the flight time or certain content may not be acceptable. The movie director thus determines which scenes may be cut to shorten the movie. The title can then be recorded with both a full-length, unedited system stream and an edited system stream in which the edited scenes are recorded to multi-scene periods. At the transition from one system stream to another system stream in such applications, parental lock control must be able to maintain smooth playback image output. More specifically, seamless data reproduction whereby a data underflow state does not occur in the audio, video, or other buffers, and seamless information reproduction whereby no unnatural interruptions are audibly or visibly perceived in the audio and video playback, are necessary. Multi-angle control<br>
The concept of multi-angle scene control in the present invention is described next with reference to Fig. 33. In general, multimedia titles are obtained by recording both the audio and video information (collectively "recording" below) of<br><br>
the subject over time T. The angled scene blocks /SCI, #SM1, #SM2, #SM3, and #SC3 represent the multimedia scenes obtained at recording unit times Tl, T2, and T3 by recording the subject at respective camera angles. Scenes #SM1, #SM2, and #SM3 are recorded at mutually different (first, second, and third) camera angles during recording unit time T2, and are referenced below as the first, second, and third angled scenes.<br>
Note that the multi-scene periods referenced herein are basically assumed to comprise scenes recorded from different angles. The scenes may, however, be recorded from the same angle but at different times, or they may be computer graphics ■data. The multi-angle scene periods are thus the multi-scene periods from which plural scenes can be selected for presentation in the same time period, whether or not the scenes are actually recorded at different camera angles.<br>
Scenes #SC1 and #SC3 are scenes recorded at the same common camera angle during recording unit times Tl and T3, i.e., before and after the multi-angle scenes. These scenes are therefore called "common angle scenes." Note that one of the multiple camera angles used in the multi-angle scenes is usually the same as the common camera angle.<br>
To understand the relationship between these various angled scenes, multi-angle scene control is described below using a live broadcast of a baseball game for example only.<br>
The common angle scenes #SC1 and #SC3 are recorded at the common camera angle, which is here defined as the view from<br><br>
center field on the QAJ-O i_iii.uuyii i_iifc; pxLuiiejr, oatter, and catcher.<br>
The first angled scene #SM1 is recorded at the first multi-camera angle, i.e., the camera angle from the backstop on the axis through the catcher, pitcher, and batter. The second angled scene #SM2 is recorded at the second multi-camera angle, i.e., the view from center field on the axis through the pitcher, batter, and catcher. Note that the second angled scene #SM2 is thus the same as the common camera angle in this example. It therefore follows that the second angled scene #SM2 is the same as the common angle scene #SC2 recorded during recording unit time T2. The third angled scene #SM3 is recorded at the third multi-camera angle, i.e., the camera angle from the backstop focusing on the infield.<br>
The presentation times of the multiple angle scenes #SM1, #SM2, and #SM3 overlap in recording unit time T2; this period is called the "multi-angle scene period." By freely selecting one of the multiple angle scenes #SM1, #SM2, and #SM3 in this multi-angle scene period, the viewer is able to change his or her virtual viewing position to enjoy a different view of the game as though the actual camera angle is changed. Note that while there appears to be a time gap between common angle scenes #SC1 and #SC3 and the multiple angle scenes #SM1, #SM2, and #SM3 in Fig. 33, this is simply to facilitate the use of arrows in the figure for easier description of the data reproduction paths reproduced by selecting different angled scenes.  There is no actual time gap during playback.<br><br>
Multi-angle scene control of the system stream based on the present invention is described next with reference to Fig. 23 from the perspective of connecting data blocks. The multimedia data corresponding to common angle scene #SC is referenced as common angle data BA, and the common angle data BA in recording unit times Tl and T3 are referenced as BAl and BA3, respectively. The multimedia data corresponding to the multiple angle scenes #SM1, #SM2, and #SM3 are referenced as first, second, and third angle scene data MAI, MA2, and MA3. As previously described with reference to Fig. 33, scenes from the desired angled can be viewed by selecting one of the multiple angle data units MAI, MA2, and MA3. There is also no time gap between the common angle data BAl and BA3 and the multiple angle data units MAI, MA2, and MA3.<br>
In the case of an MPEG system stream, however, intermittent breaks in the playback information can result between the reproduced common and multiple angle data units depending upon the content of the data at the connection between the selected multiple angle data unit MAI, MA2, and MA3 and the common angle data BA (either the first common angle data BAl before the angle selected in the multi-angle scene period or the common angle data BA3 following the angle selected in the multi-angle scene period). The result in this case is that the title stream is not naturally reproduced as a single contiguous title, i.e., seamless data reproduction is achieved but non-seamless information reproduction results.<br><br>
The multi-angle selection process whereby one of plural scenes is selectively reproduced from the multi-angle scene period with seamless information presentation to the scenes before and after is described below with application in a digital video disk system using Fig. 23.<br>
Changing the scene angle, i.e., selecting one of the multiple angle data units MAI, MA2, and MA3, must be completed before reproduction of the preceding common angle data BAl is completed. It is extremely difficult, for example, to change to a different angle data unit MA2 during reproduction of common angle data BAl. This is because the multimedia data has a variable length coded MPEG data structure, which makes it difficult to find the data break points (boundaries) in the selected data blocks. The video may also be disrupted when the angle is changed because inter-frame correlations are used in the coding process. The group_of_pictures GOP processing unit of the MPEG standard contains at least one refresh frame, and closed processing not referencing frames belonging to another GOP is possible within this GOP processing unit.<br>
In other words, if the desired angle data, e. g. , MA3, is selected before reproduction reaches the multi-angle scene period, and at the latest by the time reproduction of the preceding common angle data BAl is completed, the angle data selected from within the multi-angle scene period can be seamlessly reproduced. However, it is extremely difficult while reproducing one angle to select and seamlessly reproduce another angle within the same multi-angle scene period. It is therefore<br><br>
difficult when in a multi-angle scene period to dynamically select a different angle unit presenting, for example, a view from a different camera angle. Flow chart: encoder<br>
The encoding information table generated by the encoding system controller 200 from information extracted from the scenario data St7 is described below referring to Fig. 27.<br>
The encoding information table contains VOB set data streams containing plural VOB corresponding to the scene periods beginning and ending at the scene branching and connecting points, and VOB data streams corresponding to each scene. These VOB set data streams shown in Fig. 27 are the encoding information tables generated at step #100 in Fig, 34 by the encoding system controller 200 for creating the DVD multimedia stream based on the user-defined title content.<br>
The user-defined scenario contains branching points from common scenes to plural scenes, or connection points to other common scenes. The VOB corresponding to the scene period delimited by these branching and connecting points is a VOB set, and the data generated to encode a VOB set is the VOB set data stream. The title number specified by the VOB set data stream is the title number TITLE_NO of the VOB set data stream.<br>
The VOB Set data structure in Fig. 27 shows the data content for encoding one VOB set in the VOB set data stream, and comprises: the VOB set number VOBS_NO, the VOB number VOB_NO in the VOB set, the preceding VOB seamless connection flag VOB_Fsb, the  following  VOB  seamless  connection  flag VOB_Fsf,  the<br><br>
multi-scene flag VOB_Fp, the interleave flag VOB_Fi, the multi-angle flag VOB_Fm, the multi-angle seamless switching flag VOB_FsV, the maximum bit rate of the interleaved VOB ILV_BR, the number of interleaved VOB divisions ILV_DIV, and the minimum interleaved unit presentation time ILVU_MT.<br>
The VOB set number VOBS_NO is a sequential number identifying the VOB set and the position of the VOB set in the reproduction sequence of the title scenario.<br>
The VOB number VOB_NO is a sequential number identifying the VOB and the position of the VOB in the reproduction sequence of the title scenario.<br>
The preceding VOB seamless connection flag VOB_Fsb indicates whether a seamless connection with the preceding VOB is required for scenario reproduction.<br>
The following VOB seamless connection flag VOB_Fsf indicates whether there is a seamless connection with the following VOB during scenario reproduction.<br>
The multi-scene flag VOB_Fp identifies whether the VOB set comprises plural video objects VOB.<br>
The interleave flag VOB_Fi identifies whether the VOB in the VOB set are interleaved.<br>
The multi-angle flag VOB_Fm identifies whether the VOB set is a multi-angle set.<br>
The multi-angle seamless switching flag VOB_FsV identifies whether angle changes within the multi-angle scene period are seamless or not.<br><br>
The maximum bit rate of the interleaved VOB ILV_BR defines the maximum bit rate of the interleaved VOBs.<br>
The number of interleaved VOB divisions ILV_DIV identifies the number of interleave units in the interleaved VOB.<br>
The minimum interleave unit presentation time ILVU_MT defines the time that can be reproduced when the bit rate of the smallest interleave unit at which a track buffer data underflow state does not occur is the maximum bit rate of the interleaved VOB ILV_BR during interleaved block reproduction.<br>
The encoding information table for each VOB generated by the encoding system controller 200 based on the scenario data St7 is described below referring to Fig. 28. The VOB encoding parameters described below and supplied to the video encoder 300, audio encoder 7 00, and system encoder 900 for stream encoding are produced based on this encoding information table.<br>
The VOB data streams shown in Fig. 28 are the encoding information tables generated at step #100 in Fig- 34 by the encoding system controller 200 for creating the DVD multimedia stream based on the user-defined title content.<br>
The encoding unit is the video object VOB, and the data generated to encode each video object VOB is the VOB data stream. For example, a VOB set comprising three angle scenes comprises three video objects VOB. The data structure shown in Fig. 28 shows the content of the data for encoding one VOB in the VOB data stream.<br><br>
The VOB data structure contains the video material start time VOB_VST, the video material end time VOB_VEND, the video signal type VOB_V_KIND, the video encoding bit rate V_BR, the audio material start time VOB_AST, the audio material end time VOB_AEND, the audio coding method VOB_A_KIND, and the audio encoding bit rate A_BR.<br>
The video material start time VOB_VST is the video encoding start time corresponding to the time of the video signal.<br>
The video material end time VOB_VEND is the video encoding end time corresponding to the time of the video signal.<br>
The video material type VOB_V_KIND identifies whether the encoded material is in the NTSC or PAL format, for example, or is photographic material (a movie, for example) converted to a television broadcast format (so-called telecine conversion).<br>
The video encoding bit rate V_BR is the bit rate at which the video signal is encoded.<br>
The audio material start time VOB_AST is the audio encoding start time corresponding to the time of the audio signal.<br>
The audio material end time VOB_AEND is the audio encoding end time corresponding to the time of the audio signal.<br>
The audio coding method VOB_A_KIND identifies the audio encoding method as AC-3, MPEG, or linear PCM, for example.<br>
The audio encoding bit rate A_BR is the bit rate at which the audio signal is encoded.<br><br>
The encoding parameters used by the video encoder 300, sub-picture encoder 50 0, and audio encoder 700, and system encoder 900 for VOB encoding are shown in Fig. 29. The encoding parameters include: the VOB number VOB_NO, video encode start time V_STTM, video encode end time V_ENDTM, the video encode mode V_ENCMD, the video encode bit rate v_RATE, the maximum video encode bit rate V__MRATE, the GOP structure fixing flag GOP_Fxflag, the video encode GOP structure GOPST, the initial video encode data V_INTST, the last video encode data V_ENDST, the audio encode start time A_STTM, the audio encode end time A_ENDTM, the audio encode bit rate A_RATE, the audio encode method A_ENCMD, the audio start gap A_STGAP, the audio end gap A_ENDGAP, the preceding voB number B_VOB_NO, and the following VOB number F_VOB_NO.<br>
The VOB number VOB_NO is a sequential number identifying the VOB and the position of the VOB in the reproduction sequence of the title scenario.<br>
The video encode start time V_STTM is the start time of video material encoding.<br>
The video encode end time V_ENDTM is the end time of video material encoding.<br>
The video encode mode V_ENCMD is an encoding mode for declaring whether reverse telecine conversion shall be accomplished during video encoding to enable efficient coding when the video material is telecine converted material.<br>
The video encode bit rate V_RATE is the average bit rate of video encoding.<br><br>
The maximum video encode bit rate V_MRATE is the maximum bit rate of video encoding.<br>
The GOP structure fixing flag GOP_Fxflag specifies whether encoding is accomplished without changing the GOP structure in the middle of the video encoding process. This is a useful parameter for declaring whether seamless switch is enabled in a multi-angle scene period.<br>
The video encode GOP structure GOPST is the GOP structure data from encoding.<br>
The initial video encode data V_INTST sets the initial value of the VBV buffer (decoder buffer) at the start of video encoding, and is referenced during video decoding to initialize the decoding buffer. This is a useful parameter for declaring seamless reproduction with the preceding encoded video stream.<br>
The last video encode data V_ENDST sets the end value of the VBV buffer (decoder buffer) at the end of video encoding, and is referenced during video decoding to initialize the decoding buffer. This is a useful parameter for declaring seamless reproduction with the preceding encoded video stream.<br>
The audio encode start time A_STTM is the start time of audio material encoding.<br>
The audio encode end time A_ENDTM is the end time of audio material encoding.<br>
The audio encode bit rate A_RATE is the bit rate used for audio encoding.<br>
The audio encode method A_ENCMD identifies the audio encoding method as AC-3, MPEG, or linear PCM, for example.<br><br>
The audio start gap A_STGAP is the time offset between the start of the audio and video presentation at the beginning of a VOB. This is a useful parameter for declaring seamless reproduction with the preceding encoded system stream.<br>
The audio end gap A_ENDGAP is the time offset between the end of the audio and video presentation at the end of a VOB. This is a useful parameter for declaring seamless reproduction with the preceding encoded system stream.<br>
The preceding VOB number B_VOB_NO is the VOB_NO of the preceding VOB when there is a seamlessly connected preceding VOB.<br>
The following VOB number F_VOB_NO is the VOB_NO of the following VOB when there is a seamlessly connected following VOB.<br>
The operation of a DVD encoder ECD according to the present invention is described below with reference to the flow chart in Fig. 34. Note that the steps shown with a double line are subroutines. It should be obvious that while the operation described below relates specifically in this case to the DVD encoder ECD of the present invention, the operation described also applies to an authoring encoder EC.<br>
At step #100, the user inputs the editing commands according to the user-defined scenario while confirming the content of the multimedia source data streams Stl, St2, and St3.<br>
At step #200, the scenario editor lOO generates the scenario data St7 containing the above edit command information according to the user"s editing instructions.<br><br>
When generating the scenario data St7 in step #200, the user editing commands related to multi-angle and parental lock multi-scene periods in which interleaving is presumed must be input to satisfy the following conditions.<br>
First, the VOB maximum bit rate must be set to assure sufficient image quality, and the track buffer capacity, jump performance, jump time, and jump distance of the DVD decoder DCD used as the reproduction apparatus of the DVD encoded data must be determined. Based on these values, the reproduction time of the shortest interleaved unit is obtained from equations 3 and 4. Based on the reproduction time of each scene in the multi-scene period, it must then be determined whether equations 5 and 6 are satisfied. If equations 5 and 6 are not satisfied, the user must change the edit commands until equations 5 and 6 are satisfied by, for example, connecting part of the following scene to each scene in the multi-scene period.<br>
When multi-angle edit commands are used, equation 7 must be satisfied for seamless switching, and edit commands matching the audio reproduction time with the reproduction time of each scene in each angle must be entered. If non-seamless switching is used, the user must enter commands to satisfy equation 8.<br>
At step #300, the encoding system controller 200 first determines whether the target scene is to be seamlessly connected to the preceding scene based on the scenario data St7.<br>
Note that when the preceding scene period is a multi-scene period comprising plural scenes but the presently<br><br>
selected target scene is a common scene (not in a multi-scene period), a seamless connection refers to seamlessly connecting the target scene with any one of the scenes contained in the preceding multi-scene period. When the target scene is a multi-scene period, a seamless connection still refers to seamlessly connecting the target scene with any one of the scenes from the same multi-scene period.<br>
If step #300 returns NO, i.e., a non-seamless connection is valid, the procedure moves to step #400.<br>
At step #4 00, the encoding system controller 200 resets the preceding VOB seamless connection flag VOB_Fsb indicating whether there is a seamless connection between the target and preceding scenes. The procedure then moves to step #S00.<br>
On the other hand, if step #3 00 returns YES, i.e., there is a seamless connection to the preceding scene, the procedure moves to step #500.<br>
At step #500 the encoding system controller 200 sets the preceding VOB seamless connection flag VOB_Fsb. The procedure then moves to step #600.<br>
At step #600 the encoding system controller 200 determines whether there is a seamless connection between the target and following scenes based on scenario data St7. If step #600 returns NO, i.e., a non-seamless connection is valid, the procedure moves to step #700,<br>
At step #700, the encoding system controller 200 resets the following VOB seamless connection flag VOB Fsf<br><br>
indicating whether there is a seamless connection with the following scene.  The procedure then moves to step #900.<br>
However, if step #600 returns YES, i.e., there is a seamless connection to the following scene, the procedure moves to step #800.<br>
At step #800 the encoding system controller 200 sets the following V03 seamless connection flag VOB_Fsf. The procedure then moves to step #900.<br>
At step #900 the encoding system controller 200 determines whether there is more than connection target scene, i.e., whether a multi-scene period is selected, based on the scenario data St7- As previously described, there are two possible control methods in multi-scene periods: parental lock control whereby only one of plural possible reproduction paths that can be constructed from the scenes in the multi-scene period is reproduced, and multi-angle control whereby the reproduction path can be switched within the multi-scene period to present different viewing angles.<br>
If step #900 returns NO, i.e., there are not multiple scenes, the procedure moves to step #1000.<br>
At step #1000 the multi-scene flag VOB_Fp identifying whether the VOB set comprises plural video objects VOB (a multi-scene period is selected) is reset, and the procedure moves to step #1800 for encode parameter production. This encode parameter production subroutine is described below.<br>
However, if step #900 returns YES, there is a multi-scene connection, the procedure moves to step #1100.<br><br>
At step #1100, the multi-scene flag VOB_Fp is set, and the procedure moves to step #12 00 whereat it is judged whether a multi-angle connection is selected, or not.<br>
At step #1200 it is determined whether a change is made between plural scenes in the multi-scene period, i.e., whether a multi-angle scene period is selected. If step #1200 returns NO, i.e., no scene change is allowed in the multi-scene period as parental lock control reproducing only one reproduction path has been selected, the procedure moves to step #1300.<br>
At step #1300 the multi-angle flag VOB_Fin identifying whether the target connection scene is a multi-angle scene is reset, and the procedure moves to step #1302.<br>
At step #1302 it is determined whether either the preceding VOB seamless connection flag VOB_Fsb or following VOB seamless connection flag VOB_Fsf is set. If step #1302 returns YES, i.e., the target connection scene seamlessly connects to the preceding, the following, or both the preceding and following scenes, the procedure moves to step #1304-<br>
At step #1304 the interleave flag VOB_Fi identifying whether the VOB, the encoded data of the target scene, is interleaved is set.  The procedure then moves to step #1800.<br>
However, if step #1302 returns NO, i.e., the target connection scene does not seamlessly connect to the preceding or following scene, the procedure moves to step #1306.<br>
At step #1306 the interleave flag VOB_Fi is reset, and the procedure moves to step #1800.<br><br>
If step #1200 returns YES, however, i. e., there is a multi-angle connection, the procedure moves to step #1400.<br>
At step #14 00, the multi-angle flag VOB_Fm and interleave flag VOB_Fi are set, and the procedure moves to step #1500.<br>
At step #1500 the encoding system controller 200 determines whether the audio and video can be seamlessly switched in a multi-angle scene period, i.e., at a reproduction unit smaller than the VOB, based on the scenario data St7. If step #1500 returns NO, i.e., non-seamless switching occurs, the procedure moves to step #1600.<br>
At step #1600 the multi-angle seamless switching flag VOB_FsV indicating whether angle changes within the multi-angle scene period are seamless or not is reset, and the procedure moves to step #1800.<br>
However, if step #1500 returns YES, i.e., seamless switching occurs, the procedure moves to step #1700-<br>
At step #1700 the multi-angle seamless switching flag VOB_FsV is set, and the procedure moves to step #1800.<br>
Therefore, as shown by the flow chart in Fig. 34, encode parameter production (step #1800) is only begun after the editing information is detected from the above flag settings in the scenario data St7 reflecting the user-defined editing instructions.<br>
Based on the user-defined editing instructions detected from the above flag settings in the scenario data St7, information is added to the encoding information tables for the<br><br>
VOB Set units and voB units as shown in Figs. 27 and 28 to encode the source streams, and the encoding parameters of the VOB data units shown in Fig. 29 are produced, in step #1800. The procedure then moves to step #1900 for audio and video encoding.<br>
The encode parameter production steps (step #1800) are described in greater detail below referring to Figs. 35, 36, 37 and 38.<br>
Based on the encode parameters produced in step #1800, the video data and audio data are encoded in step #1900, and the procedure moves to step #2000.<br>
Note that the sub-picture data is normally inserted during video reproduction on an as-needed basis, and contiguity with the preceding and following scenes is therefore not usually necessary. Moreover, the sub-picture data is normally video information for one frame, and unlike audio and video data having an extended time-base, sub-picture data is usually static, and is not normally presented continuously. Because the present invention relates specifically to seamless and non-seamless contiguous reproduction as described above, description of sub-picture data encoding is omitted herein for simplicity.<br>
step #2000 is the last step in a loop comprising steps #300 to step #2000, and causes this loop to be repeated as many times as there are VOB Sets. This loop formats the program chain VTS_PGCiiii to contain the reproduction sequence and other reproduction information for each VOB in the title (Fig. 16) in<br><br>
the program chain data structure, interleaves the VOB in the multi-scene periods, and completes the VOB Set data stream and VOB data stream needed for system stream encoding. The procedure then moves to step #2100.<br>
At step #2100 the VOB Set data stream is completed as the encoding information table by adding the total number of VOB Sets VOBS_NUM obtained as a result of the loop through step #2000 to the VOB Set data stream, and setting the number of titles TITLE_NO defining the number of scenario reproduction paths in the scenario data St7. The procedure then moves to step #2200.<br>
System stream encoding producing the VOB {VOB#i) data in the VTS title VOBS (VTSTT__VOBS) (Fig. 16) is accomplished in step #2200 based on the encoded video stream and encoded audio stream output from step #1900, and the encode parameters in Fig. 29.  The procedure then moves to step #2300.<br>
At step #2300 the VTS information VTSI, VTSI management table VTSI_MAT, VTSPGC information table VTS_PGCIT, and the program chain information VTS_PGCI#i controlling the VOB data reproduction sequence shown in Fig. 16 are produced, and formatting to, for example, interleave the VOB contained in the multi-scene periods, is accomplished.<br>
The specific steps executed in this formatting operation are described below with reference to Figs. 40, 41, 42, 43, and 44.<br>
The encode parameter production subroutine shown as step #1800 in Fig. 34B is described next using Figs. 35, 36, and<br><br>
37 using by way of example the operation generating the encode parameters for multi-angle control.<br>
Starting from Fig. 35, the process for generating the encode parameters of a non-seamless switching stream with multi-angle control is described first. This stream is generated when step #1500 in Fig. 34 returns NO and the following flags are set as shown: VOB_Fsb = 1 or VOB_Fsf = 1, VOB_Fp = 1, VOB_Fi = 1, VOB_Fm = 1, and VOB_FsV = 0. The following operation produces the encoding information tables shown in Fig. 27 and Fig. 28, and the encode parameters shown in Fig. 29.<br>
At step #1812, the scenario reproduction sequence (path) contained in the scenario data St7 is extracted, the VOB Set number V0BS_NO is set, and the VOB number VOB_NO is set for one or more VOB in the VOB Set.<br>
At step #1814 the maximum bit rate ILV_BR of the interleaved VOB is extracted from the scenario data St7, and the maximum video encode bit rate V_MRATE from the encode parameters is set based on the interleave flag VOB_Fi setting (= 1).<br>
At step #1816, the minimum interleaved unit presentation time ILVU_MT is extracted from the scenario data St7.<br>
At step #1818, the video encode GOP structure GOPST values N = 15 and M = 3 are set, and the GOP structure fixing flag GOP__Fxflag is set (= 1} , based on the multi-scene flag VOB_Fp setting (= 1).<br><br>
step #1820 is the cominon VOB data setting routine, which is described below referring to the flow chart in Fig. 36. This cominon VOB data setting routine produces the encoding information tables shown in Figs. 27 and 28, and the encode parameters shown in Fig. 29.<br>
At step #1822 the video material start time VOB_VST and video material end time VOB_VEND are extracted for each VOB, and the video encode start time V_STTM and video encode end time V_ENDTM are used as video encoding parameters.<br>
At step #1824 the audio material start time VOB_AST of each VOB is extracted from the scenario data St7, and the audio encode start time A_STTM is set as an audio encoding parameter.<br>
At step #1826 the audio material end time VOB_AEND is extracted for each VOB from the scenario data St7, and at a time not exceeding the VOB_AEND time. This time extracted at an audio access unit (AAU) is set as the audio encode end time A_ENDTM which is an audio encoding parameter. Note that the audio access unit AAU is determined by the audio encoding method.<br>
At step #1828 the audio start gap A_STGAP obtained from the difference between the video encode start time V_STTM and the audio encode start time A_STTM is defined as a system encode parameter.<br>
At step #1830 the audio end gap A_ENDGAP o&amp;tained from the difference between the video encode end time V ENDTM and the<br><br>
audio encode end time A__ENDTM is defined as a system encode parameter.<br>
At step #18 3 2 the video encoding bit rate V_BR is extracted from the scenario data St7, and the video encode bit rate V__RATE, which is the average bit rate of video encoding, is set as a video encoding parameter.<br>
At step #1834 the audio encoding bit rate A_BR is extracted from the scenario data St7, and the audio encode bit rate A_RATE is set as an audio encoding parameter.<br>
At step #1836 the video material type VOB_V_KIND is extracted from the scenario data St7. If the material is a film type, i.e., a movie converted to television broadcast format (so-called telecine conversion), reverse telecine conversion is set for the video encode mode V_ENCMD, and defined as a video encoding parameter.<br>
At step #1838 the audio coding method VOB_A_KIND is extracted from the scenario data St7, and the encoding method is set as the audio encode method A_ENCMD and set as an audio encoding parameter.<br>
At step #184 0 the initial video encode data V_INTST sets the initial value of the VBV buffer to a value less than the VBV buffer end value set by the last video encode data V_ENDST, and defined as a video encoding parameter.<br>
At step #1842 the VOB number VOB_NO of the preceding connection is set to the preceding VOB number B_VOB_NO based on the setting (= 1) of the preceding VOB seamless connection flag VOB Fsb, and set as a system encode parameter.<br><br>
At step #1844 the VOB number VOB_NO of the following connection is set to the following VOB number F__VOB_HO based on the setting (= i) of the following VOB seamless connection flag VOB_Fsf, and set as a system encode parameter.<br>
The encoding information table and encode parameters are thus generated for a multi-angle VOB Set with non-seamless multi-angle switching control enabled.<br>
The process for generating the encode parameters of a seamless switching stream with multi-angle control is described below with reference to Fig. 37. This stream is generated when step #1500 in Fig, 34 returns YES and the following flags are set as shown: VOB^Fsb = 1 or VOB_Fsf = 1, VOB_Fp = 1, VOB__Fi = 1, VOB__Fm = 1, and V0B_FsV = 1. The following operation produces the encoding information tables shown in Fig. 27 and Fig. 28, and the encode parameters shown in Fig, 29.<br>
The following operation produces the encoding information tables shown in Fig. 27 and Fig. 28, and the encode parameters shown in Fig. 29.<br>
At step #1850, the scenario reproduction sequence (path) contained in the scenario data St7 is extracted, the VOB Set number V0BS_N0 is set, and the VOB number V0B_N0 is set for one or more VOB in the VOB Set.<br>
At step #1852 the maximum bit rate ILV_BR of the interleaved VOB is extracted from the scenario data St7, and the maximum video encode bit rate V_MRATE from the encode parameters is set based on the interleave flag VOB_Fi setting (= 1).<br><br>
At step #1854, the minimum interleaved unit presentation time ILVU__MT is extracted from the scenario data St7.<br>
At step #1856, the video encode GOP structure GOPST values N = 15 and M = 3 are set, and the GOP structure fixing flag GOP_Fxflag is set (= 1) , based on the multi-scene flag VOB_Fp setting (= 1).<br>
At step #1858, the video encode GOP GOPST is set to "closed GOP" based on the multi-angle seamless switching flag VOB_FsV setting (= 1) , and the video encoding parameters are thus defined.<br>
Step #18 60 is the common VOB data setting routine, which is as described referring to the flow chart in Fig. 35. Further description thereof is thus omitted here.<br>
The encode parameters of a seamless switching stream with multi-angle control are thus defined for a VOB Set with multi-angle control as described above.<br>
The process for generating the encode parameters for a system stream in which parental lock control is implemented is described below with reference to Fig. 38. This stream is generated when step #1200 in Fig. 34 returns NO and step #1304 returns YES, i.e., the following flags are set as shown: VOB_Fsb = 1 or VOB_Fsf = 1, VOB_Fp = 1, VOB_Fi = 1, VOB_Fm = 0. The following operation produces the encoding information tables shown in Fig. 27 and Fig. 28, and the encode parameters shown in Fig. 29.<br><br>
At step #1870, the scenario reproduction sequence (path) contained in the scenario data St7 is extracted, the VOB Set number VOBS_NO is set, and the VOB number VOB_NO is set for one or more VOB in the VOB Set.<br>
At step #1872 the maximum bit rate ILV_BR of the interleaved VOB is extracted from the scenario data St7, and the maximum video encode bit rate V_MRATE from the encode parameters is set based on the interleave flag VOB_Fi setting (= 1).<br>
At step #1872 the number of interleaved VOB divisions ILV_DIV is extracted from the scenario data St7.<br>
Step #1876 is the coraraon VOB data setting routine, which is as described referring to the flow chart in Fig. 35. Further description thereof is thus omitted here.<br>
The encode parameters of a system stream in which parental lock control is implemented are thus defined for a VOB Set with multi-scene selection control enabled as described above.<br>
The process for generating the encode parameters for a system stream containing a single scene is described below with reference to Fig. 39. This stream is generated when step #900 in Fig. 34 returns NO, i.e., when VOB_Fp=0. The following operation produces the encoding information tables shown in Fig. 27 and Fig. 28, and the encode parameters shown in Fig. 29.<br>
At step #1880, the scenario reproduction sequence (path) contained in the scenario data St7 is extracted, the VOB Set number VOBS_NO is set, and the VOB number VOB_N0 is set for one or more VOB in the VOB Set.<br><br>
At step #1882 the maximum bit rate ILV_BR of the interleaved VOB is extracted from the scenario data StV, and the maximum video encode bit rate V_MRATE from the encode parameters is set based on the interleave flag VOB_Fi setting (= 1).<br>
Step #1884 is the common VOB data setting routine, which is as described referring to the flow chart in Fig. 35, Further description thereof is thus omitted here.<br>
These  flow  charts  for  defining  the  encoding information table and encode parameters thus generate the parameters for DVD video, audio, and system stream encoding by the DVD formatter. Formatter flow charts<br>
The operation of the subroutine executed by the DVD formatter shown as step #2300 in Fig. 34B is described next with reference to Figs. 40, 41, 42, 43, and 44. This formatter subroutine generates the DVD multimedia bitstream.<br>
The operation of the DVD encoder ECD 1100 according to the present invention is described with reference to the flow chart in Fig. 40. Note that those steps shown in Fig. 40 with a double line are subroutines.<br>
At step #2310 the program chain information VTS_PGCI is set to the VTSI management table VTSI_MAT for the number of titles TITLE_NUM based on the number of titles TITLE_NUM in the VOB Set data stream.<br>
At step #2312 it is determined whether multi-scene selection control is enabled based on the multi-scene flag VOB Fp in the VOB Set data stream.  If step #2312 returns NO,<br><br>
i.e., multi-scene control is not enabled, the procedure moves to step #2114.<br>
At step #2314 the operation for coding a single scene (VOB) executed by the formatter 1100 of the authoring encoder EC shown in Fig. 25 is accomplishGd. This routine is described later.<br>
If step #2312 returns YES, i.e., multi-scene control is enabled, the procedure moves to step #2116.<br>
At step #2316 it is determined whether the information is to be interleaved or not based on the interleave flag VOB_Fi state in the VOB Set data stream. If step #2316 returns NO, i.e., the information is not to be interleaved, the procedure moves to step #2314. If step #2316 returns YES, i.e. , the information is to be interleaved, the procedure moves to step<br>
#2318.<br>
At step #2318 it is determined whether multi-angle control is to be implemented based on the multi-angle flag VOB_Fm in the VOB Set data stream. If step #2318 returns NO, the parental lock control routine in step #2320 is executed. If step #2318 returns YES, the procedure moves to step #2322.<br>
At step #2320 the operation for formatting the VOB Set for parental lock control is executed. This subroutine is shown in Fig. 43 and described below.<br>
At step #2322 it is determined whether multi-angle seamless switching is required based on the multi-angle seamless switching flag VOB_FsV. If muIti-angle switching is accomplished without seamless switching, i.e., with non-seamless<br><br>
switching and step #2322 returns NO, the procedure moves to step #2326.<br>
The multi-angle non-seamless switching control routine executed in step #2325 by the formatter 1100 of the authoring encoder EC in  Fig. 25 is described later with reference to Fig. 41.<br>
If multi-angle switching is accomplished with seamless switching control, i.e., step #2322 returns YES, the procedure moves to step #2324.<br>
The multi-angle seamless switching control routine executed in step #2324 by the formatter 1100 of the authoring encoder EC in Fig. 25 is described later with reference to Fig. 42.<br>
The cell playback information (PCG information entries C_PBI) of the VTS information VTSI set as previously described is then recorded.<br>
At step #2330 it is determined whether all VOB Sets declared by the VOB Set number VOBS_NUM have been processed by the formatter. If NO, control loops back to step #2312, and the process runs again. If YES, all sets have been formatted, the procedure terminates.<br>
Referring to Fig. 41, the multi-angle non-seamless switching control routine executed in step #2326 when step #2322, Fig. 40, returns NO is described. This routine defines the interleaved arrangement of the multimedia bitstream MBS, the content of the cell playback information (C_PBI#i) shown in Fig.<br><br>
16, and the information stored to the navigation pack NV shown in Fig. 20, in the generated DVD multimedia bitstream MBS.<br>
At step #2340 based on the multi-angle flag VOB_Fin setting (= 1) declaring whether multi-angle control is applied in the multi-scene period, the cell block mode CBM (Fig. 16) of the cell playback information blocks c_PBI #i containing the VOB control information for each scene is declared according to the position of the angle data. For example, the cell block mode CBN of the MAI cell (Fig. 23) is declared as 01b to indicate the beginning of the cell block, the CBM of MA2 is declared as lOb to indicate a cell between the first and last cells in the block, and the CBM of MA3 is declared as lib to indicate the end of the cell block.<br>
At step #2342 based on the multi-angle flag VOB_Fm setting (= 1) declaring whether multi-angle control is applied in the multi-scene period^ the cell block type CBT (Fig. 16) of the cell playback information blocks c_PBI #1 containing the VOB control information for each scene is declared as 01b to indicate an "angle."<br>
At step #2344 the seamless playback flag SPF (Fig. 16) is set to 1 in the cell playback information blocks C_PBI #i containing the VOB control information for each scene based on the preceding VOB seamless connection flag VOB_Fsb state, which is set to 1 to indicate a seamless connection.<br>
At step #2346 the STC resetting flag STCDF is set to 1 in the cell playback information blocks c_PBI #i containing the VOB control information for each scene based on the<br><br>
preceding VOB seamless connection flag VOB_Fsb state, which is set to 1 to indicate a seamless connection.<br>
At step #2348 the interleaved allocation flag lAF<br>
(Fig. 16} is set to 1 in the cell playback information blocks<br>
C_PBI #i containing the VOB control information for each scene<br>
based on the multi-angle seamless switching flag VOB_FsV state,<br>
which is set to 1 to indicate interleaving is required.<br>
At step #2 3 50 the location of the navigation pack NV (relative sector number from the VOB beginning) is detected from the title editing unit (VOB below) obtained from the system encoder 900 in Fig. 25, the navigation pack NV is detected based on the minimum interleaved unit presentation time ILVU_MT information (a formatter parameter obtained in step #1816, Fig. 34) , the location of the VOBU expressed as the number of sectors from the VOB beginning, for example, is thus obtained, and the title editing unit VOB is divided into interleave units using VOBU units.<br>
For example, if in this example the minimum interleaved unit presentation time ILVU_MT is 2 sec and the presentation time of one VOBU is 0.5 sec, then the VOB is divided into interleave units of 4 VOBU each. Note that this allocation operation is applied to the VOB constituting each multi-scene data unit.<br>
At step #2352 the interleave units of each VOB obtained from step #2350 are arranged in the cell block mode CBM sequence (cell block beginning, middle, and end cells) written as the VOB control information for each scene in step #2340 to<br><br>
form the interleaved blocks as shown in Fig. 57 or 58. The interleaved blocks are then added to the VTS title VOBS (VTSTT_VOBS) . Using the cell block mode CBM declarations above, for example, the angle data MAI, MA2, and MA3 (Fig. 23) are arranged in that sequence.<br>
At step #2354 the relative sector number from the VOBU start is written to the VOB end pack address VOBU_EA (Fig. 20) in the navigation pack NV of each voBU based on the VOBU position information obtained in step #2350.<br>
At step #2 356 the first cell VOBU start address C_FVOBU_SA and the last cell VOBU start address C_LVOBU_SA expressed as the number of sectors from the beginning of the VTS title VOBS (VTSTT_VOBS) are written as the addresses of the navigation packs NV of the first and last VOBU in each cell based on the VTS title VOBS (VTSTT_VOBS) data obtained in step #2352.<br>
The angle #i VOBU start address NSML_AGL_ca_DSTA -NSML_AGL_C9_DSTA of the non-seamless angle information NSML_AGLI (Fig. 20) in the navigation pack NV of each VOBU is written at step #2358. This address is expressed as the relative sector number inside the data of the interleaved blocks formed in step #2352, and declares the address information (Fig. 20) of the navigation pack NV contained in the VOBU of all angle scenes near the presentation start time of the VOBU being processed.<br>
At step #2360 "7FFFFFFFh" is written to the angle #i VOBU start address NSML_AGL_C1_DSTA - NSML_AGL_C9_DSTA of the non-seamless angle information NSML_AGLI  (Fig.  2 0)  in the<br><br>
navigation pack NV of each VOBU if the VOBU being processed is the last VOBU of each scene in the multi-scene period.<br>
This routine thus formats the interleaved blocks for multi-angle non-seamless switching control in the multi-scene period, and formats the cell control information as the reproduction control information for those multiple scenes.<br>
Referring to Fig. 42, the multi-angle seamless switching control routine executed in step #2324 when step #2322, Fig. 40, returns YES is described. This routine defines the interleaved arrangement of the multimedia bitstream MBS, the content of the cell playback information (C_PBI#i) shown in Fig. 16, and the information stored to the navigation pack NV shown in Fig. 20, in the generated DVD multimedia bitstream MBS.<br>
At step #2 370 based on the multi-angle flag VOB__Fm setting (= 1) declaring whether multi-angle control is applied in the multi-scene period, the cell block mode CBM (Fig. 16) of the cell playback information blocks C__PBI #i containing the VOB control information for each scene is declared according to the position of the angle data. For example, the cell block mode CBM of the MAI cell (Fig. 23) is declared as 01b to indicate the beginning of the cell block, the CBM of MA2 is declared as 10b to indicate a cell between the first and last cells in the block, and the CBM of MA3 is declared as lib to indicate the end of the cell block.<br>
At step #2 372 based on the multi-angle flag VOB_Fm setting (= i) declaring whether multi-angle control is applied in the multi-scene period, the cell block type CBT (Fig. 16) of<br><br>
the cell playback information blocks C^PBI #i containing the VOB control information for each scene is declared as Oib to indicate an "angle."<br>
At step #2374 the seamless playback flag SPF (Fig. 16) is set to 1 in the cell playback information blocks C_PBI #i containing the VOB control information for each scene based on the preceding VOB seamless connection flag VOB_Fsb state, which is set to 1 to indicate a seamless connection.<br>
At step #2376 the STC resetting flag STCDF is set to 1 in the cell playback information blocks C_PBI /i containing the VOB control information for each scene based on the preceding VOB seamless connection flag VOB_Fsb state, which is set to 1 to indicate a seamless connection.<br>
At step #2 378 the interleaved allocation flag lAF (Fig. 16) is set to 1 in the cell playback information blocks C_PBI #i containing the VOB control information for each scene based on the multi-angle seamless switching flag VOB_FsV state, which is set to 1 to indicate interleaving is required.<br>
At step #2380 the location of the navigation pack NV (relative sector number from the VOB beginning) is detected from the title editing unit (VOB below) obtained from the system encoder 900 in Fig. 25, the navigation pack NV is detected based on the minimum interleaved unit presentation time ILVU_MT information (a formatter parameter obtained in step #1854, Fig. 36) , the location of the VOBU expressed as the number of sectors from the VOB beginning, for example, is thus obtained, and the<br><br>
title editing unit VOB is divided into interleave units using VOBU units.<br>
For example, if in this example the minimum interleaved unit presentation time ILVU_MT is 2 sec and the presentation time of one VOBU is 0.5 sec., then the VOB is divided into interleave units of 4 VOBU each. Note that this .allocation operation is applied to the VOB constituting each multi-scene data unit.<br>
At step #2382 the interleave units of each VOB obtained from step #2380 are arranged in the cell block mode CBM sequence (cell block beginning, middle, and end cells) written as the VOB control information for each scene in step #2360 to form the interleaved blocks as shown in Fig. 57 or 58. The interleaved blocks are then added to the VTS title VOBS (VTSTT_VOBS). Using the cell block mode CBM declarations above, for example, the angle data MAI, KA2, and MA3 (Fig. 23) are arranged in that sequence.<br>
At step #2384 the relative sector number from the VOBU start is written to the VOB end pack address VOBU_EA (Fig. 20) in the navigation pack NV of each VOBU based on the VOBU position information obtained in step #2360,<br>
At step #2386 the first cell VOBU start address C_FVOBU_SA and the last cell VOBU start address C_LVOBU_SA expressed as the number of sectors from the beginning of the VTS title VOBS (VTSTT_VOBS) are written as the addresses of the navigation packs NV of the first and last VOBU in each cell<br><br>
based on the VTS title VOBS CVTSTT_VOBS) data obtained in step #2382.<br>
At step #2388 the relative sector number from the VOBU start is written to the VOB end pack address VOBU_EA (Fig. 20) in the navigation pack NV of each VOBU based on the interleave unit data obtained in step #2370.<br>
The angle #i VOBU start address SML_AGL_C1_DSTA -SML_AGL_C9_DSTA of the seamless angle information SML__AGLI (Fig. 20) in the navigation pack NV of each VOBU is written at step #2390. This address is expressed as the relative sector number inside the data of the interleaved blocks formed in step #2382, and declares the address information (Fig. 20) of the navigation pack NV contained in the voBU of all angle scenes with a start time contiguous to the reproduction end time of the VOBU being processed.<br>
At step #2392 "VFFFFFFFh" is written to the angle #i VOBU start address SML_AGL_C1_DSTA - SML_AGL_C9_DSTA of the seamless angle information SML_AGLI (Fig. 20) in the navigation pack NV of the VOBU contained in the interleaved unit if the interleave unit arranged in step #2382 is the last interleave unit of each scene in the multi-scene period.<br>
This routine thus formats the interleaved blocks for multi-angle seamless switching control in the multi-scene period, and formats the cell control information as the reproduction control information for those multiple scenes.<br>
The parental lock subroutine (step #23 20, Fig. 40) executed when step #2318 in Fig. 40 returns NO, i.e., when it is<br><br>
determined that parental lock control is implemented and not multi-angle control, is described next with reference to Fig. 43.<br>
The parental lock subroutine described below writes the interleave unit arrangement of the multimedia bitstream, the content of the PGC information entries C_PBI #i (cell playback information) shown in Fig. 16, and the navigation pack NV information shown in Fig. 20, to the generated DVD multimedia bitstream.<br>
At step #24 02 a value "00b" is written to the cell block mode CBM (Fig. 16) of the cell playback information blocks C_PBI #i containing the VOB control information for each scene based on the multi-angle flag VOB_Fm state, which is set to 0 to indicate that multi-angle control is not enabled in the multi-scene period.<br>
At step #2404 the seamless playback flag SPF (Fig. 16) is set to 1 in the cell playback information blocks C_PBI #i containing the VOB control information for each scene based on the preceding VOB seamless connection flag VOB_Fsb state, which is set to 1 to indicate a seamless connection.<br>
At step #2406 the STC resetting flag STCDF is set to 1 in the cell playback information blocks C_PBI #i containing the VOB control information for each scene based on the preceding VOB seamless connection flag VOB_Fsb state, which is set to 1 to indicate a seamless connection.<br>
At step #24 08 the interleaved allocation flag lAF (Fig. 16) is set to 1 in the cell playback information blocks C PBI #i containing the VOB control information for each scene<br><br>
based on the iriulti~-angle seamless switching flag VOB_FsV state, which is set to 1 to indicate interleaving is required.<br>
At step #2410 the navigation pack NV position information (the relative sector number from the VOB start) is detected from the title editing unit (VOB) obtained from the system encoder 900 (Fig. 25). The navigation pack NV is then detected based on the number of interleaved VOB divisions ILV_DIV, a formatter parameter obtained in step #1874 in Fig. 38, to obtain the VOBU position information (number of sectors from the VOB start) , and divide each VOB into the specified number of interleave units in VOBU units.<br>
At step #2412 the interleave units obtained in step #2410 are then interleaved. For example, the interleave units are arranged in ascending VOB number sequence to create the interleaved blocks as shown in Fig. 57 or 58, and the interleaved blocks are added to the VTS title VOBS (VTSTT__VOBS) .<br>
At step #2414 the relative sector number from the VOBU start is written to the VOB end pack address VOBU_EA (Fig. 20) in the navigation pack NV of each VOBU based on the VOBU position information obtained in step #2186.<br>
At step #2416 the first cell VOBU start address C_FVOBU_SA and the last cell VOBU start address C_LVOBU_SA expressed as the number of sectors from the beginning of the VTS title VOBS (VTSTT^VOBS) are written as the addresses of the navigation packs Nv of the first and last VOBU in each cell based on the VTS title VOBS (VTSTT_VOBS) data obtained in step #2412.<br><br>
At step #2418 the relative sector number to the last interleave unit pack is written to the ILVU end pack address ILVU_EA in the navigation pack NV of the VOBU forming the interleaved units based on the interleaved unit data obtained from step #2412.<br>
At step #24 20, the relative sector number in the interleaved block data formed in step #2412 is written to the next-ILVU start address NT_ILVU_SA as the position information of the next ILVU in the navigation packs NV of the VOBU contained in the interleaved unit ILVU.<br>
At step #2422 the interleaved unit flag ILVU flag is set to 1 in the navigation packs NV of the VOBU contained in the interleaved unit ILVU.<br>
At step #2424, the Unit END flag of the navigation pack NV in the last VOBU of the interleaved unit ILVU is set to 1.<br>
At step #2426 "FFFFFFFFh" is written to the next-ILVU start address NT_ILVU_SA of the navigation pack NV of the VOBU in the last interleaved unit ILVU of each VOB.<br>
The operation described above thus formats the interleaved blocks to enable parental lock control in the multi-scene periods, and formats the control information in the cells, i.e., the cell playback control information for the multi-scene periods.<br>
The single scene subroutine executed as step #2314 in Fig. 40 when steps #2312 or #2316 return NO, i.e. , when the<br><br>
scene is determined to be a single scene and not a multi-scene period, is described next using Fig. 44.<br>
The single scene subroutine described below writes the interleave unit arrangement of the multimedia bitstream, the content of the PGC information entries C_PBI #i (cell playback information) shown in Fig. 16, and the navigation pack NV information shown in Fig. 20, to the generated DVD multimedia bitstream.<br>
At step #24 3 0 a value "00b" indicating a "non-cell block", i.e., that there is only one cell in the functional block, is written to the cell block mode CBM (Fig. 16) of the cell playback information blocks C_PBI #i containing the VOB control information for each scene based on the multi-scene flag VOB_Fp state, which is set to o to indicate that the scene is a single scene and not part of a multi-scene period.<br>
At step #2432 the interleaved allocation flag lAF (Fig. 16) is set to 0 in the cell playback information blocks C_PBI #i containing the VOB control information for each scene based on the multi-angle seamless switching flag VOB_FsV state, which is set to 0 to indicate interleaving is not required.<br>
At step #243 4 the navigation pack NV position information (the relative sector number from the VOB start) is detected from the title editing unit (VOB) obtained from the system encoder 900 (Fig. 25), placed in the VOBU unit, and added to the VTS title VOBS (VTSTT_VOBS), the video and other stream data of the multimedia bitstreara.<br><br>
At step #2436 the relative sector number from the VOBU start is written to the VOB end pack address VOBU_EA. (Fig. 20) in the navigation pack NV of each VOBU based on the VOBU position information obtained in step #2434.<br>
At step #2 438 the first cell VOBU start address C_FVOBU_SA and the last cell VOBU start address C_LVOBU_SA expressed as the number of sectors from the beginning of and the end of, respectively, the VTS title VOBS (VTSTT_VOBS) of the value written as the addresses of the navigation packs NV of the first and last VOBU in cell based on the VTS title VOBS (VTSTT_VOBS) data obtained in step #2434.<br>
At step #244 0 the state determined as a result of step #300 or #600 in Fig. 34, i.e., whether preceding VOB seamless connection flag VOB_Fsb is set to i indicating a seamless connection to the preceding or following scenes, is evaluated. If step #2440 returns YES, the procedure moves to step #2442.<br>
At step #2442 the seamless playback flag SPF (Fig, 16) is set to 1 in the cell playback information blocks C_PBI #i containing the VOB control information for each scene based on the preceding VOB seamless connection flag VOB_Fsb state, which is set to 1 to indicate a seamless connection.<br>
At step #2444 the STC resetting flag STCDF is set to 1 in the cell playback information blocks C_PBI #i containing the VOB control information for each scene based on the preceding VOB seamless connection flag VOB_Fsb state, which is set to 1.<br><br>
If step #2440 returns NO, i.e., there is not a seamless connection to the preceding scene, the procedure moves to step #2446.<br>
At step #2446 the seamless playback flag SPF (Fig. 16) is set to 0 in the cell playback information blocks C_PBI #i containing the VOB control information for each scene based on the preceding VOB seamless connection flag VOB_Fsb state, which is set to 0 to indicate a non-seamless connection.<br>
At step #2448 the STC resetting flag STCDF is set to 0 in the cell playback information blocks C_PBI #i containing the VOB control information for each scene based on the preceding VOB seamless connection flag VOB_Fsb state, which is set to 0.<br>
The operation described above thus formats a multimedia bitstream for a single scene period, and records the control information in the cells, i.e., the cell playback control information (C_PBI #i. Fig. 16) , and the information in the navigation pack NV (Fig. 20) , to the produced DVD multimedia bitstream. Decoder flow charts A.   Disk-to-stream buffer transfer flow<br>
The decoding information table produced by the decoding system controller 2300 based on the scenario selection data St5l is described below referring to Figs. 45 and 46. The decoding information table comprises the decoding system table shown in Fig. 45, and the decoding table shown in Fig. 46.<br><br>
As shown in Fig. 45, the decoding system table comprises a scenario information register and a cell information register. The scenario information register records the title number and other scenario reproduction information selected by the user and extracted from the scenario selection data St51. The cell information register extracts and records the information required to reproduce the cells constituting the program chain PGC based on the user-defined scenario information extracted into the scenario information register.<br>
More specifically, the scenario information register contains plural sub-registers, i.e., the angle number ANGLE_NO__reg, VTS number VTS_NO_reg, PGC number VTS_PGCI_NO_reg, audio ID AUDIO_ID_reg, sub-picture ID SP_ID_reg, and the system clock reference SCR buffer SCR_buffer.<br>
The angle number ANGLE_NO_reg stores which angle is reproduced when there are multiple angles in the reproduction program chain PGC.<br>
The VTS number VTS_NO_reg records the number of the next VTS reproduced from among the plural VTS on the disk.<br>
The PGC number VTS_PGCI_NO_reg records which of the plural program chains PGC present in the video title set VTS is to be reproduced for parental lock control or other applications.<br>
The audio ID AUDIO_ID_reg records which of the plural audio streams in the VTS are to be reproduced.<br><br>
The sub-picture ID SP_ID_reg records which of the plural sub-picture streams is to be reproduced when there are plural sub-picture streams in the VTS.<br>
The system clock reference SCR buffer SCR_buffer is the buffer for temporarily storing the system clock reference SCR recorded to the pack header as shown in Fig. 19. As described using Fig. 26, this temporarily stored system clock reference SCR is output to the decoding system controller 2300 as the bitstream control data St63,<br>
The cell information register contains the following sub-registers: the cell block mode CBM_reg, cell block type CBT__reg, seamless reproduction flag SPF_reg, interleaved allocation flag IAF_reg, STC resetting flag STCDF, seamless angle change flag SACF_reg, first cell VOBU start address C_FVOBU_SA_reg, and last cell VOBU start address C_LVOBU_SA_reg.<br>
The cell block mode CBM_reg stores a value indicating whether plural cells constitute one functional block. If there are not plural cells in one functional block, CBM_reg stores N BLOCK. If plural cells constitute one functional block, the value F_CELL is stored as the CBM_reg value of the first cell in the block, L_CELL is stored as the CBM_reg value of the last cell in the block, and BLOCK is stored as the CBM_reg of value all cells between the first and last cells in the block.<br>
The cell block type CBT__reg stores a value defining the type of the block indicated by the cell block mode CBM_reg. If the cell block is a multi-angle block, A_BLOCK is stored; if not, N BLOCK is stored.<br><br>
The seamless reproduction flag SPF_reg stores a value defining whether that cell is seamless connected with the cell or cell block reproduced therebefore. If a seamless connection is specified, SML is stored; if a seamless connection is not specified, NSML is stored.<br>
The interleaved allocation flag IAF_r6g stores a value identifying whether the cell exists in a contiguous or interleaved block. If the cell is part of a an interleaved block, ILVB is stored; otherwise N_ILVB is stored.<br>
The STC resetting flag STCDF defines whether the system time clock STC used for synchronization must be reset when the cell is reproduced; when resetting the system time clock STC is necessary, STC_RESET is stored; if resetting is not necessary, STC^NRESET is stored.<br>
The seamless angle change flag SACF_reg stores a value indicating whether a cell in a multi-angle period should be connected seamlessly at an angle change. If the angle change is seamless, the seamless angle change flag SACF is set to SML; otherwise it is set to NSML.<br>
The first cell VOBU start address C_FVOBU_SA_reg stores the VOBU start address of the first cell in a block. The value of this address is expressed as the distance from the logic sector of the first cell in the VTS title VOBS (VTSTT_VOBS) as measured by and expressed (stored) as the number of sectors.<br>
The last cell VOBU start address C_LVOBU_SA_reg stores the VOBU start address of the last cell in the block.  The value<br><br>
of this address is also expressed as the distance from the logic sector of the first cell in the VTS title VOBS (VTSTT__VOBS) measured by and expressed (stored) as the number of sectors.<br>
The decoding table shown in Figs, 45 and 46 is described below. As shown in Figs. 45 and 4 6, the decoding table comprises the following registers: information registers for non-seamless multi-angle control, information registers for seamless multi-angle control, a VOBU information register, and information registers for seamless reproduction.<br>
The information registers for non-seamless multi-angle control   comprise   sub-registers   NSML_AGL_Cl_DSTA_reg NSML_AGL_C9_DSTA_reg.<br>
NSML_AGL___Cl_DSTA_reg - NSML_AGL_C9_DSTA_reg record the NMSL__AGL_C1_DSTA - NMSL_AGL_C9_DSTA values in the PCI packet shown in Fig. 20.<br>
The information registers for seamless multi-angle control   comprise   sub-registers   SML_AGL_Cl_DSTA_reg SML_AGL_C9_DSTA_reg.<br>
SML_AGL_Cl_DSTA_reg - SML_AGL_C9_DSTA_reg record the SML_AGL__C1_DSTA - SML_AGL_C9_DSTA values in the DSI packet shown in Fig. 20.<br>
The VOBU information register stores the end pack address VOBU_EA in the DSI packet shown in Fig. 20.<br>
The information registers for seamless reproduction comprise the following sub-registers: an interleaved unit flag ILVU_flag_reg, Unit END flag UNIT_END_flag_reg. Interleaved Unit End Address ILVU EA reg, Next Interleaved Unit Start Address<br><br>
NT_ILVU_SA_rGg, the presentation start time of the first video frame in the VOB (Initial Video Frame Presentation Start Tims) VOB_V_SPTM_reg, the presentation end time of the last video frame in the VOB (Final Video Frame Presentation Termination Time) V0B_v_EPTM_reg, audio reproduction stopping time i VOB_A_STP_PTMl_reg, audio reproduction stopping time 2 V0B_A_STP_PTM2_reg, audio reproduction stopping period 1 VOB_A_GAP_LENl_reg, and audio reproduction stopping period 2 V0B_A_GAP_LEN2_reg.<br>
The interleaved unit flag ILVU_flag_reg stores the value indicating whether the video object unit VOBU is in an interleaved block, and stores ILVU if it is, and N_ILVO if not.<br>
The Unit END flag UNIT_END_flag_reg stores the value indicating whether the video object unit VOBU is the last VOBU in the interleaved unit ILVU. Because the interleaved unit ILVU is the data unit for continuous reading, the UNIT_END_flag__reg stores END if the VOBU currently being read is the last VOBU in the interleaved unit ILVU, and otherwise stores N_END.<br>
The Interleaved Unit End Address ILVU_EA_reg stores the address of the last pack in the ILVU to which the VOBU belongs if the VOBU is in an interleaved block. This address is expressed as the number of sectors from the navigation pack NV of that VOBU.<br>
The Next Interleaved Unit Start Address NT_ILVU_SA_reg stores the start address of the next interleaved unit ILVU if the VOBU is in an interleaved block.  This address is also<br><br>
expressed as the number of sectors from the navigation pack NV of that VOBU.<br>
The Initial Video Frame Presentation Start Time register VOB_V_SPTM_reg stores the time at which presentation of the first video frame in the voB starts.<br>
The Final Video Frame Presentation Termination Time register VOB_V_EPTM_reg stores the time at which presentation of the last video frame in the VOB ends.<br>
The audio reproduction stopping time 1 VOB_A_STP_PTMl_reg stores the time at which the audio is to be paused to enable resynchronization, and the audio reproduction stopping period 1 VOB_A_GAP_LENl_reg stores the length of this pause period.<br>
The audio reproduction stopping time 2 V0B_A_STP_PTM2_reg and audio reproduction stopping period 2 V0B_A_GAP_LEN2_reg store the same values.<br>
The operation of the DVD decoder DCD according to the present invention as shown in Fig. 26 is described next below with reference to the flow chart in Fig. 47.<br>
At step #310202 it is first determined whether a disk has been inserted. If it has, the procedure moves to step #310204.<br>
At step #310204, the volume file structure VFS (Fig. 21) is read, and the procedure moves to step #310206.<br>
At step #310206, the video manager VMG (Fig. 21) is read and the video title set VTS to be reproduced is extracted. The procedure then moves to step #310208.<br><br>
At step #310208, the video title set menu address information VTSM_C_ADT is extracted from the VTS information VTSI, and the procedure moves to step #310210.<br>
At step #310210 the video title set menu VTSM_VOBS is read from the disk based on the video title set menu address information VTSM_C_ADT, and the title selection menu is presented.<br>
The user is thus able to select the desired title from this menu in step #310212. If the titles include both contiguous titles with no user-selectable content, and titles containing audio numbers, sub-picture numbers, or multi-angle scene content, the user must also enter the desired angle number. Once the user selection is completed, the procedure moves to step #310214.<br>
At step #310214, the VTS_PGCI #i program chain (PGC) data block corresponding to the title number selected by the user is extracted from the VTSPGC information table VTS_PGCIT, and the procedure moves to step #310216.<br>
Reproduction of the program chain PGC then begins at step #310216. When program chain PGC reproduction is finished, the decoding process ends. If a separate title is thereafter to be reproduced as determined by monitoring key entry to the scenario selector, the title menu is presented again (step #310210).<br>
Program chain reproduction in step #310216 above is described in further detail below referring to Fig. 48. The program chain PGC reproduction routine consists of steps #31030, #31032, #31034, and #31035 as shown.<br><br>
At step #31030 the decoding system table shown in Fig. 45 is defined. The angle number ANGLE_NO_reg, VTS number VTS_NO_reg, PGC number VTS_PGCI_NO_reg, audio ID AUDIO_ID__reg, and sub-picture ID SP_ID__reg are set according to the selections made by the user using the scenario selector 2100.<br>
Once the PGC to be reproduced is determined, the corresponding cell information (PGC information entries C_PBI #j) is extracted and the cell information register is defined. The sub-registers therein that are defined are the cell block mode CBM_reg, cell block type CBT_reg, seamless reproduction flag SPF_reg, interleaved allocation flag IAF_reg, STC resetting flag STCDF, seamless angle change flag SACF_reg, first cell VOBU start address C_FVOBU_SA_reg, and last cell VOBU start address C_LVOBU_SA_reg.<br>
Once the decoding system table is defined, the process transferring data to the stream buffer (step #3103 2) and the process decoding the data in the stream buffer (step #31034) are activated in parallel.<br>
The process transferring data to the stream buffer (step #31032} is the process of transferring data from the recording medium M to the stream buffer 2400. This is, therefore, the processing of reading the required data from the recording medium M and inputting the data to the stream buffer 2400 according to the user-selected title information and the playback control information (navigation packs NV) written in the stream.<br><br>
The routine shown as step #31034 is the process for decoding the data stored to the stream buffer 2400 (Fig. 26) , and outputting the decoded data to the video data output terminal 3600 and audio data output terminal 3700. Thus, is the process for decoding and reproducing the data stored to the stream buffer 2400.<br>
Note that step #31032 and step #31034 are executed in parallel.<br>
The processing unit of step #31032 is the cell, and as processing one cell is completed, it is determined in step #31035 whether the complete program chain PGC has been processed. If processing the complete program chain PGC is not completed, the decoding system table is defined for the next cell in step #31030. This loop from step #31030 through step #31035 is repeated until the entire program chain PGC is processed. B. Decoding process in the stream buffer<br>
The process for decoding data in the stream buffer 24 00 shown as step #31034 in Fig, 48 is described below referring to Fig. 49. This process (step #31034) comprises steps #31110, #31112, #31114, and #31116.<br>
At step #31110 data is transferred in pack units from the stream buffer 24 00 to the system decoder 2500 (Fig. 26). The procedure then moves to step #31112.<br>
At step #31112 the pack data is from the stream buffer 2400 to each of th© buffers, i.e. , the video buffer 2600, sub-picture buffer 2700, and audio buffer 2800.<br><br>
At step #31112 the Ids of the user-selected audio and sub-picture data, i.e., the audio ID AUDIO_ID_reg and the sub-picture ID SP_ID_reg stored to the scenario information register shown in Fig. 45, are compared with the stream ID and sub-stream ID read from the packet header (Fig. 19) , and the matching packets are output to the respective buffers. The procedure then moves to step #31114.<br>
The decode timing of the respective decoders (video, sub-picture, and audio decoders) is controlled in step #31114, i.e., the decoding operations of the decoders are synchronized, and the procedure moves to step #31116.<br>
Note that the decoder synchronization process of step #31114 is described below with reference to Fig. 50.<br>
The respective elementary strings are then decoded at step #31116. The video decoder 3801 thus reads and decodes the data from the video buffer, the sub-picture decoder 3100 reads and decodes the data from the sub-picture buffer, and the audio decoder 3200 reads and decodes the data from the audio buffer.<br>
This stream buffer data decoding process then terminates when these decoding processes are completed.<br>
The decoder synchronization process of step #31114, Fig. 49, is described below with reference to Fig. 50. This processes comprises steps #31120, #31122, and #31124.<br>
At step #31120 it is determined whether a seamless connection is specified between the current cell and the preceding cell. If a seamless connection, the procedure moves to step #31122, if not, the procedure moves to step #31124.<br><br>
A process synchronizing operation for producing seamless connections is executed in step #31122, and a process synchronizing operation for non-seamless connections is executed in step #31124.<br>
The use of special reproduction modes such as fast forward and reverse play from a multi-scene period as shown in Fig. 21 recorded to a recording medium M using an interleaved block bitstream arrangement as shown in Fig. 58 is considered below.<br>
The execution of special reproduction modes such as fast forward and reverse ("special-mode reproduction" below) using an MPEG bitstream is described with reference to Fig. 51. Each block labelled "V" in Fig. 51 corresponds to one group_of__pictures GOP. During fast forward reproduction the reproduction process does not reproduce every GOP in the bitstream, but skips GOP in the forward direction TRF to discretely select and reproduce GOP data at a regular interval starting from the reproduction start position of each selected GOP. This selection period siay be constant or may vary according to the GOP selected. A similar process is executed during reverse mode reproduction with the data being read in the reverse direction TRB.<br>
Two methods can be used to discretely select non¬contiguous GOP from a contiguous bitstream: pre-reading and storing into memory the address information of every GOP to be selected and reproduced, or sequentially dynamically reading the address information of the next GOP to be selected during the<br><br>
reproduction process. The former method is impractical because of its large system memory requirements. As a result, the present invention is an improvement of the latter sequential address determination method.<br>
The latter method can also be achieved in two ways: determining the location of the next GOP to be reproduced based on the bitstream rate or other constant factors, or recording the address of the next GOP according to the reproduction speed to the bitstream together with the audio and video data, and extracting this address information during reproduction.<br>
Furthermore, if all frames in each of the discretely selected GOPs is reproduced, a particular number of I-frames or P-frames in the GOP will be selected and reproduced. During such special reproduction modes only part of the data in the bitstream is usually decoded and displayed.<br>
However, if sharing plural system streams with a common system stream is permitted as shown in the multi-scene periods in Fig. 21, Fig. 30, and Fig. 31, special-mode reproduction cannot be easily accomplished.<br>
For example, when the address of the next GOP is sequentially determined when branching from the common scene to one of the plural system streams in the multi-scene period (one of the multiple angle scenes or parental lock control scenes), it is possible to calculate the address of the next GOP from the bit rate when the branch destination is contiguously arrayed. When the branch destination is not contiguously arrayed, however, this calculation is not possible. In addition, if the<br><br>
address of the next GOP is recorded as an address on only one of the plural possible reproduction paths, it is not possible to follow the other reproduction path branch, and this is not acceptable. Furthermore, the available disk capacity cannot be efficiently used if all possible branch destinations are recorded. As the number of common scenes increases, the number of branch destinations to be recorded also increases, data generation (coding) becomes more complex, and coding becomes impractical.<br>
As a result, it becomes difficult to follow the selected reproduction path during fast forward reproduction of only one multi-scene reproduction path. It is accordingly also difficult to follow the selected reproduction path during reverse reproduction of only one multi-scene reproduction path.<br>
When VOB-B, VOB-C, and VOB-D are interleaved as shown in Fig. 57 to enable seamless reproduction between common scenes and the selected reproduction path from a multi-scene period for parental lock control or multi-angle scene selection, it is even more difficult to dynamically calculate the addtess of the next GOP. As a result, achieving fast forward or reverse mode reproduction at system stream branches and connections is still difficult, just as when interleaving is not used.<br>
Therefore, the object of the present invention is to provide a multimedia optical disk whereby special reproduction modes can be accomplished even when the cells forming plural program chains share selected VOB or when the system streams are divided into plural VOB interleaved in interleaved units ILVU;<br><br>
a recording method and a reproduction method for recording and reproducing said multimedia optical disk; and a recording apparatus and a reproduction apparatus implementing said recording method and reproduction method, respectively.<br>
The present invention also provides a data structure whereby special reproduction modes such as fast forward and reverse play can be achieved, and the data can be easily produced, for a digital video disk system even when common VOB are used to form plural program chains.<br>
This data structure is characterized by recording both the cell start address and end address information to the cell reproduction information to enable reverse mode reproduction. To enable high speed special mode reproduction, the skip destination address records an address within the same cell or an address indicating an address outside the cell (e.g., an address value that is invalid as a DVD relative address), and each cell is therefore independent of every other cell. The data of each cell can therefore be easily generated even when cells are shared by plural program chains PGC.<br>
The first embodiment of the present invention is described below.<br>
To enable high speed special-mode reproduction in this first embodiment, information indicating an address beyond the cell border is recorded when the address of the skip destination is outside the cell.<br>
The relative sector information used to rapidly move according to the reproduction speed to the sector of the VOBU<br><br>
containing the next GOP during fast forward or reverse mode reproduction of bitstreara data according to the present invention is described below with reference to Fig. 32. This relative sector information is recorded in the present invention as the VOBU search information VOBU_SRI of the navigation pack KV. The data structure of this bitstream is as previously described with reference to Fig. 22 and Fig. 16, and the structure of the navigation pack NV is as described with reference to Fig. 2 0 and Fig. 32. Only the VOBU search information VOBU^SRI is therefore described below.<br>
The VOBU search information VOBU_SRI comprises search inforjnation (FWDIn, FWDI Next) used for reproduction in the normal direction, i.e., fast forward direction, and search information (BWDIn, BWDI Prev) used for reproduction in the reverse direction.<br>
The index n to the FWDI and BWDI addresses declares the relative reproduction time from the VOBU containing the navigation pack NV where the reproduction time corresponds to 0.5 sec. X n. For example, FWDI 120 declares the relative sector address of the VOBU reproduced 60 sec. later during normal reproduction. FWDI Next declares the relative sector address of the next VOBU, and BWDI Prev declares the relative sector address of the preceding VOBU.<br>
VOBU search information VOBU_SRI parameters FWDI 1 -240, FWDI Next, BWDI 1 - 240, and BWDI Prev do not record address information for any VOBU outside the cell containing that navigation pack NV. More specifically, if the data that<br><br>
would be accessed at the relative reproduction time from the VOBU of the cell for which the navigation pack NV is being written is outside that cell, the FWDI and BWDI record a value simply indicating that the destination address is outside the current cell, and do not record a valid address value. This value may be, for example, "3FFFFFFFh." An address enabling VOBU to be sampled and reproduced at a regular interval, i.e., an address enabling high speed reproduction, is thus recorded.<br>
Reproduction of a digital video disk and program chain PGC by means of the decoding system controller 2300 of the DVD decoder DCD according to the present invention is described next with reference to Fig. 47 and Fig. 52.<br>
The DVD reproduction process is shown in Fig. 47. When the digital video disk is inserted, the video title set VTS information to be reproduced is extracted, the VTS_PGCI #i program chain (PGC) data block corresponding to the title number selected by the user is extracted from the VTSPGC information table VTS__PGCIT, and the selected scenario is reproduced according to the VTS_PGCI #i program chain information. Fig. 47 has already been described above, and further description thereof is thus omitted below.<br>
The process of the decoding system controller 2300 when a special reproduction mode such as fast forward or reverse play is selected by the user during reproduction according to the program chain information is described below with reference to Fig. 52.<br><br>
At step #331202 the VOBU search information VOBU_SRI is read from the DSI packet data of the VOBU navigation pack NV from the stream buffer 2400 as the data currently being reproduced in the VTS title VOBS (VTSTT_VOBS) based on the VTS_PGCI #i program chain information.<br>
At step #331203 the decoding system controller 2300 sets the address Adsi to the VOBU search information VOBU__SRI of the navigation pack NV of the next VOBU to be reproduced based on the reproduction mode, i.e., whether normal or special-mode reproduction, and the reproduction speed of fast forward and reverse reproduction operations. As described with reference to Fig. 32, if the reproduction mode is normal reproduction, the address Adsi value is set to the FWDI Next parameter declaring the next DSI packet address (Fig. 32). If fast forward^ reverse, or other special reproduction mode is executing, the address Adsi is set to the other VOBU search information VOBU_SRI parameters (FWDI 1 - 240, BWDI 1 - 240) according to the reproduction speed.<br>
At step #331204 it is determined whether the next data to be reproduced is valid based on the address Adsi value obtained in step #331203. As a result, a value greater than the highest possible address value of the volume space VS of the recording medium M is used as the address Adsi value. Assuming that a single-side, single-layer disk is used by way of example only, the value 3FFFFFFFh is used. If YES is returned in this step it is determined that the data to be reproduced is not data within the same cell, i.e., not data within the cell range<br><br>
declared to C_PBI, and the procedure moves to step #331206. If NO is returned, data to be reproduced remains, and the procedure moves to step #331205.<br>
At step #331205 the navigation pac3c NV specified by the address Adsi is accessed, and the bitstream producer 2000 is controlled to read the VOBU following that navigation pack NV. The read data is also transferred to the stream buffer 2400. If fast forward, reverse, or other special reproduction mode is selected, data that is not displayed for the VOBU currently being reproduced and stored in the stream buffer 2400 is destroyed when data is transferred to the stream buffer 2400, and operation downstream from the system decoder 2500 is interrupted. As a result, only data for the frames to be displayed during high speed reproduction is supplied to the system decoder 2500, and smooth high speed reproduction can be achieved.<br>
At step #331206 it is determined whether the reproduction mode is forward or reverse. If forward, the procedure moves to step #3 312 07; if reverse, the procedure moves to step #331210,<br>
At step #3 31207 the j parameter indicating the reproduction cell sequence in the VTS_PGCI #i extracted at step #310214, Fig. 47, i.e., the PGC information C_PBI #j declaring the cell currently being accessed and reproduced, is incremented 1 (j + 1).<br>
At step #331208 it is determined whether the cell to be reproduced in the normal direction is valid based on the<br><br>
VTS_PGCI #i program chain information extracted at step #310214 and the reproduction cell sequence j obtained in step #331207.<br>
If the next cell reproduction information C_PBI is not in the VTS_PGCI #i program chain information based on C_PBI result obtained in step #331207, the process terminates. If the cell continues based on the C_PBI result obtained in step #331207, i.e., if PGC information C_PBI #j+l as specified by the reproduction cell sequence j parameter obtained in step #331207 exists, the procedure moves to step #331209.<br>
At step #3 312 09 the first cell VOBU start address C_FVOBU_SA at VOBU j from the cell reproduction information C_PBI of program chain information VTS_PGCI #i is read and assigned to address Adsi, and the procedure moves to step #331205.<br>
At Step #3 31210 the cell preceding the currently reproduced cell in normal reproduction is reproduced.<br>
At step #331211 it is determined whether the cell to be reproduced in the reverse direction is valid based on the program chain information VTS_PGCI #i extracted at step #310214. More specifically, if the cell reproduction information C_PBI #j defined by the j parameter decremented in step #331210 is recorded to the program chain information VTS_PGCI, it is known that the cell to be reproduced next in reverse sequence is valid, and the procedure moves to step #331211. If said cell reproduction information C_PBI #j is not recorded to the program chain information VTS  PGCI,    it is knot^^n that the cell to be<br><br>
reproduced next in reverse sequence is not valid, i.e., reverse reproduction is completed, and the process terminates.<br>
At step #3 31212 the last cell VOBU start address C_LVOBU_SA at VOBU j from the cell reproduction information c_PBI of program chain information VTS_PGCI #i is read and assigned to address Adsi, and the procedure moves to step #331205.<br>
By executing the steps of the above process, the decoding system controller 2300 reproduces one program chain.<br>
The above process also enables special-mode reproduction of each program chain when plural program chains share common scenes as shown in Fig. 30.<br>
An example of VOBU reproduction in each cell during special-mode reproduction from plural program chains comprising common scenes and scenes unique to specific reproduction paths according to the present invention is described below with reference to Fig. 53 and Pig. 54.<br>
In these figures the left group represents VOB #5 corresponding to the common cell, i.e., ceil reproduction information c_PBI #5, of program chains VTS_PGCI /I and VTS_PGCI #2 shown in Fig. 30 and Fig. 31.<br>
The top group represents VOB #6 corresponding to C_PBI #6 of program chain VTS_PGCI /I,<br>
The bottom group represents VOB #7 corresponding to C_PBI #6 of program chain VTS_PGCI #2.<br>
The right group represents VOB #8 corresponding to C PBI #7 common to program chains VTS_PGCI #1 and VTS_PGCI #2.<br><br>
Path A in Fig. 53 represents the reproduction path of C_PBI #5 - C_PBI #7 in program chain VTS_PGCI #1, and path B represents the reproduction path of C_PBI #5 - C_PBI #7 in program chain VTS_PGCI #2. Note that one cell corresponds to one VOB in this example.<br>
The DSI frames of each block indicate the navigation pack NV containing the DSI packet information, and thus contains the VOBU search information. This packet is referred to as the DSI packet in the description below.<br>
The video packets are labelled V in the figures, and each VOBU comprises plural video packets. In Fig, 53 and Fig, 54 one  VOBU contains two video packets.<br>
The audio packets are labelled A in the figures. The audio data of a reproduction time corresponding to one VOBU is divided into plural audio packets for recording. In Fig. 53, Fig. 54, and Fig. 55 one audio packet corresponds to one VOBU.<br>
The sub-picture data packets are labelled SP.<br>
Fig. 53 shows the operation in which alternating VOBU data units are reproduced during fast forward reproduction.<br>
The address of the next DSI packet is obtained from the VOBU search information in the first DSI packet C_PBI #5, i.e., the VOB #5 common to two program chains. After reproducing a particular amount of data from the first VOBU, the VOBU containing the next DSI packet (third DSI packet in C_PBI #5) is reproduced.<br>
When the address of the next DSI packet is read from the VOBU search information of this DSI packet, the value<br><br>
3FPFFFFFh is obtained. As a result, if VTS__PGCI #1 of path A is being reproduced, the address of the first DSI packet in C FBI #6 (VOB #6) of VTS_PGCI #1 is obtained from the program chain information, and the first DSI packet in C_PBI #6 (VOB #6) is read after reproducing a particular number of video packets from the VOBU containing the third DSI packet in C_PBI #5.<br>
It is thus possible to follow a particular program chain during special reproduction modes.<br>
How the video packets are reproduced, i.e.,. whether only the I-frames or P-frames from a GOP are reproduced, and from which VOBU reproduction begins when reproducing the first video data from an accessed cell, will vary according to the speed of the special reproduction mode.<br>
Fig. 54 is an example of reverse mode reproduction at normal speed starting from the end of C_PBI #7 containing the VOB #8 common to two program chains.<br>
The VOBU search information of the last DSI packet in C_PBI #7 (VOB #8) is first read, the address of the one DSI packet therebefore is obtained, a particular number of video packets is reproduced from the VOBU containing the last DSI packet, and the preceding DSI packet is read. The address of the DSI packet before that DSI packet is similarly obtained^ and the VOBU is reproduced.<br>
This is continued until the VOBU search information of the preceding DSI packet is read from the first DSI packet VOBU search information in C_PBI fl, In this case, the address value 3FFFFFFFh is obtained. Thus, if path C is being reproduced, the<br><br>
address of the navigation pack NV containing the last DSI packet in C_PBI #6 is obtained from program chain information VTS_PGCI #1. More specifically, this address is the last cell VOBU start address C_LVOBlJ__SA in cell reproduction information C_PBI. As a result, a particular number of video packets is reproduced from the VOBU containing the last DSI packet in C_PBI #6.<br>
It is thus possible to follow a particular program chain in reverse during special reproduction modes.<br>
The operation of special reproduction modes from plural program chains containing common scene information is described above.<br>
When cells are interleaved for seamless reproduction between cells, the interleaved blocks are VOBU units, and the VOBU search information V0BU_SRI can still be recorded to the navigation pack NV of each VOBU. The relative address information written to the VOBU search information can thus be used to enable special-mode reproduction in both forward and reverse directions of cells shared by plural program chains using the same method as for cells arrayed to a contiguous block. The difference is that a greater distance is moved between cells compared with contiguously arrayed cells.<br>
The method of producing the data structure of the present invention is described next. This data structure is basically generated by simply following the encoder flow chart shown in Fig. 34 to Fig. 44. The differences in the encoding operation are handled by a slight modification of the processes shown in Fig. 41, Fig. 42, Fig. 43, and Fig. 44. In addition to<br><br>
recording the end pack address VOBU_EA to the VOBU navigation pack NV, the VOBU search information shown in Fig. 32 is also recorded. The VOBU search information recording process is described below by describing the differences in these flow charts.<br>
At step #2356 of the multi-angle seamless switching formatting flow chart in Fig. 41, the VOBU navigation pack NV address corresponding to the VOBU search information VOBU_SRI shown in Fig. 32 is recorded together with the first cell VOBU start address C_FVoBU_SA and the last cell VOBU start address C_LVOBU_SA based on the VTS title VOBS (VTSTT__VOBS) data obtained in step #5352 and the VOBU information obtained in step #2350. If the VOBU search information VOBU_SRI points outside the cell, the FWDIn and BWDIn values record 3FFFFFFFh.<br>
The multi-angle seamless switching formatting flow chart in Fig. 4 2 is thus similar to the multi-angle seamless switching formatting flow chart in Fig. 41. At step #2386, Fig. 42, the VOBU navigation pack NV address corresponding to the VOBU search information VOBU_SRI shown in Fig. 32 is recorded together with the first cell VOBU start address C_FVOBU__SA and the last cell VOBU start address C_LVOBU_SA are written based on the VTS title VOBS {VTSTT_VOBS) data obtained in step #2382 and the VOBU information obtained in step #2380. If the VOBU search information VOBU_SRI points outside the cell, the FWDIn and BWDIn values record 3FFFFFFFh.<br>
The multi-scene formatting flow chart for parental lock control in Fig. 43 is also similar. At step #2416, Fig. 43,<br><br>
the VOBU navigation pack NV address corresponding to the VOBU search information VOBU_SRI shown in Fig. 32 is recorded together with the first cell VOBU start address C_FVOBU_SA and the last cell VOBU start address C_LVOBU_SA based on the VTS title VOBS (VTSTT_VOBS) data obtained in step #2412 and the VOBU information obtained in step #2410. If the VOBU search information VOBU_SRI points outside the cell, the FWDIn and BWDIn values record 3FFFFFFFh.<br>
The single scene formatting flow chart in Fig. 44 is also similar. At step #2438 the VOBU navigation pack NV address corresponding to the VOBU search information VOBU__SRI shown in Fig. 32 is recorded together with the first cell VOBU start address C_FVOBU_SA and the last cell VOBU start address C_LVOBU_SA based on the VOBU information obtained in step #24 34. If the VOBU search information VOBU_SRI points outside the cell, the FWDIn and BWDIn values record 3FFFFFFFh.<br>
The data structure according to the first embodiment of the present invention can thus be produced.<br>
A second embodiment is described below.<br>
In the first embodiment above the skip destination address enabling high speed special-mode reproduction records a value indicating an address outside the current cell when the skip destination is in another cell. In the second embodiment, however, the skip destination address enabling high speed special-mode reproduction is limited to an address within the current cell (not going outside the current cell).<br><br>
The second embodiment is thus substantially identical to the first embodiment above, and only the differences are described below.<br>
The logical structure of the optical disk in this second embodiment differs from that of the first embodiment in recording the VOBU search information VOBU_SRI declared in the DSI packet address information of the navigation pack NV. In the second embodiment the VOBU search information VOBU_SRI of the navigation pack NV does not record an address pointing to any cell other than that to which the navigation pack NV belongs; this is the same as in the first embodiment. What differs is that the VOBU search information VOBU_SRI of the navigation packs NV of the VOBu between the two end VOBU in the cell record the addresses of the navigation packs NV of said two end VOBU when the next VOBU to be reproduced during special-mode reproduction is outside the borders of the current cell.<br>
For example, when BWD Prev, BWD60, BWD20, BWD19, BWD2, and BWDl related to reverse reproduction exceed the cell borders, the address of the navigation pack NV in the first VOBU in the cell is recorded. Likewise, when FWD NT, FWD60, FWD20, FWD19, FWD2, and FWDl related to fast forward reproduction exceed the cell bonders, the address of the navigation pack NV in the last VOBU in the cell is recorded.<br>
In the navigation pack NV of the first VOBU in the cell, the BWD Prev, BWD50, BWD20, BWD19, BWD2, and BWDl fields related to reverse reproduction record an address value of 0. In the navigation pach NV of the last VOBU in the cell, the FWD NT^<br><br>
FWD60, FWD20, FWD19, FWD2, and FWDl related to fast forward reproduction likewise record an address value of 0.<br>
As a result, addresses pointing to different cells are not recorded to the VOBU search information V0BU_SRI in the navigation pack NV of any VOBU in the cell. As a result, it is not necessary to change the VOB data forming the cells when cells are used by another program chain, and data generation is simple.<br>
The reproduction apparatus of the second embodiment is the same as that of the first embodiment, and further description thereof is thus omitted below.<br>
A flow chart of the decoding system controller is shown in Fig. 56. Note that this process is substantially identical to that shown in Fig. 52. Only the differences are described below.<br>
Where it is determined at step #331204 in Fig. 52 whether the address is 3FFFFFFFh, it is determined whether the address is 0 in Fig. 56. All other processes are the same. Thus, the method of determining whether the cell border is exceeded checks whether the address Adsi of the next skip destination extracted from the VOBU search information is 3FFFFFFFh in the first embodiment, but determines whether the address Adsi is 0 in the second embodiment. In addition, the navigation pack NV of the last VOBU in the cell is always read during fast forward reproduction, and the navigation pack NV of the first VOBU is always read in reverse reproduction.<br><br>
The reproduction process of the program chain information VTS_PGCI #i does not differ because of this difference. However, because the data that is actually output differs, the program chain reproduction method during special reproduction modes is described below. Fig. 53 corresponds to the program chain reproduction method during special reproduction modes in the first embodiment, and Fig. 55 corresponds to the program chain reproduction method of the second embodiment.<br>
In Fig. 55 as in Fig. 53, the left group represents VOB #5 correspondihg to the common cell, i.e., cell reproduction information C_PBI #5, of program chains VTS_PGCI #1 and VTS_PGCI #2 shown in Fig. 3o and Fig. 31.<br>
The top group represents VOB #6 corresponding to C_PBI #6 of program chain VTS_PGCI #1.<br>
The bottom group represents VOB #7 corresponding to C_PBI #6 of program chain VTS_PGCI #2.<br>
The right group represents VOB #8 corresponding to C_PBI #7 common to program chains VTS_PGCI #1 and VTS_PGCI #2.<br>
Path A in Fig. 55 represents the reproduction path of C_PBI #5 - C_PBI #7 in program chain VTS_PGCI #1, and path B represents the reproduction path of C_PBI #5 - C_PBI #7 in program chain VTS_PGCI #2. Note that one cell corresponds to one VOB in this example.<br>
What differs in Fig. 55 and Fig. 53 is that the navigation pack NV of the end VOBUs in each cell are always read and reproduced during reproduction on both paths A and B.<br><br>
How the video packets are reproduced, and from which VOBU reproduction begins when reproducing the first video data from an accessed cell, will vary according to the speed of the special reproduction mode. This is the same as in the first embodiment above. The same is true during reverse reproduction in the second embodiment: even if the reverse reproduction speed changes, the navigation pack NV of the first VOBU in the cell is always extracted and reproduced during reproduction.<br>
The operation of special reproduction modes from plural program chains containing common scene information is described above.<br>
Also in the second embodiment as in the first embodiment, when cells are interleaved for seamless reproduction between cells, the interleaved blocks are VOBU units, and the VOBU search information VOBU_SRI can still be recorded to the navigation pack NV of each VOBU, The relative address information written to the VOBU search information can thus be used to enable special-mode reproduction in both forward and reverse directions of cells shared by plural program chains using the same method as for cells arrayed to a contiguous block. The difference is that a greater distance is moved between cells compared with contiguously arrayed cells.<br>
The method of producing the data structure of the present invention is described next. This data structure is basically generated by simply following the encoder flow chart shown in Fig. 34 to Fig. 44. The differences in the encoding operation are handled by a slight modification of the processes<br><br>
shown in Fig. 41, Pig. 42, Fig. 43, and Fig. 44. In addition to recording the end pack address VOBU_EA to the VOBU navigation pack NV, the VOBU search information shown in Fig. 32 is also recorded. The VOBU search information recording process is described below by describing the differences in these flow charts.<br>
At step #2356 of the multi-angle seamless switching formatting flow chart in Fig. 41, the VOBU navigation pack NV address corresponding to the VOBU search information VOBU_SRI shown in Fig. 32 is recorded together with the first cell VOBU start address C_FVOBU_SA and the last cell VOBU start address C_LVOBU__SA based on the VTS title VOBS {VTSTT_VOBS) data obtained in step #2352 and the VOBU information obtained in step #2350. If the VOBU search information VOBU_SRI points outside the cell, the FWDIn and BWDIn values of VOBU between the start and end VOBU recorcj the cell end VOBU addresses, and the FWDIn and BWDIn values of the cell end VOBU record 0.<br>
The multi-angle seamless switching formatting flow chart in Fig. 42 is thus similar to the multi-angle seamless switching formatting flow chart in Fig. 41. At step #2386, Fig. 42, the VOBU navigation pack NV address corresponding to the VOBU search information VOBU_SRI shown in Fig. 32 is recorded together with the first cell VOBU start address C_FVOBU_SA and the last cell VOBU start address C_LVOBU_SA are written based on the VTS title VOBS {VTSTT_VOBS) data obtained in step #2382 and the VOBU information obtained in step #2380. If the VOBU search information VOBU_SRi points outside the cell, the FWDIn and<br><br>
BWDIn values of VOBU between the start and end VOBU record the cell end VOBU addresses, and the FWDIn and BWDIn values of the cell end VOBU record 0.<br>
The multi-scene formatting flow chart for parental lock control in Fig. 43 is also similar. At step #2416, Fig. 43, the VOBU navigation pack NV address corresponding to the VOBU search information VOBU_SRI shown in Fig. 32 is recorded together with the.first cell VOBU start address C_FVOBU_SA and the last cell VOBU start address C_LVOBU_SA based on the VTS title VOBS (VTSTT_VOBS} data obtained in step #2412 and the VOBU information obtained in step #2410. If the VOBU search information V0BU_SRI points outside the cell, the FWDIn and BWDIn values of VOBU between the start and end VOBU record the cell end VOBU addresses, and the FWDIn and BWDIn values of the cell end VOBU record 0.<br>
The single scene formatting flow chart in Fig. 44 is also similar. At step #2438 the VOBU navigation pack NV address corresponding to the VOBU search information V0BU_SRI shown in Fig. 3 2 is recorded together with the first cell VOBU start address c_FVOBU_SA and the last cell VOBU start address C_LVOBU_SA based on the VOBU information obtained in step #2434. If the VOBU search information VOBU_SRI points outside the cell, the FWDIn and BWDIn values of VOBU between the start and end VOBU record the ceil end VOBU addresses, and the FWDIn and BWDIn values of the cell end VOBU record 0.<br>
The data structure according to the second embodiment of the present invention can thus be produced.<br><br>
By means of the present invention thus described, plural program chains can be adapted to provide a parental lock control feature whereby, for example, the first program chain VTS__PGCI #1 is an adult-oriented program chain, the other program chain VTS_PGCI #2 is a child-oriented program chain, and forward and reverse special reproduction modes can be achieved on both program chains.<br>
In a program chain comprising a multi-angle scene period, each angle is one cell in the digital video disk system, and special-mode reproduction is therefore possible within each angle. Furthermore, moving from a common cell to one of the multi-angle cells during special-mode reproduction can be achieved by moving to a default cell or to the cell corresponding to a user-defined angle number. Moving from one of the multi-angle cells to a common cell can also be achieved using the same control method used for parental lock control.<br>
While the data search information interleaved to the system stream is described above as being interleaved in GOP units, the data compression unit, the interleave unit for the data search information packet shall not be limited to the GOP unit.<br>
Furthermore, while the invention has been described with reference to a DVD read-only disk recording medium, rewritable media can be used to the same effect-<br>
Furthermore, the menus are primarily a means of eliciting user selections, and menu manipulation shall not be<br><br>
limited to the keypad of a remote control device. Manipulation by, for example, a mouse or voice commands is also possible.<br>
Furthermore, while the invention has been described with particular reference to the MPEG standard, future extension of the standard or introduction of new standards shall also be covered by the present invention insofar as plural data units are interleaved and reproduced according to a time-base.<br>
Furthermore, the invention has been described with particular reference to interleaving one compressed video data unit, but the invention shall not be so limited.<br>
Furthermore, the special reproduction mode information has been described as being written to the data search information and interleaved to the system stream, but it is only necessary to record the special reproduction mode information as information attached to the reproduced video data and audio data, and it is specifically not necessary to interleave this information to the system stream. For example, if all special reproduction mode information for the cell is recorded at the cell start, or to the same predefined location, the information can be accessed when required with no change in the effects described above.<br>
Likewise, it important that the program chain information be read separately from the data actually reproduced, and the location to which the program chain information is recorded shall not be limited to that described above.<br><br>
Furthermore, the above embodiments assume that the data at the cell start is the packet containing the data search information, but the data search information need not necessarily be recorded to the cell start. Insofar as the related video data, audio data, and sub-picture data can be identified, the data search information, video data, audio data, and sub-picture data can be recorded in any defined sequence.<br>
Furthermore, methods other than described above can be used for intra-cell reproduction and inter-cell reproduction during special reproduction modes. What is important to the invention is that program chain information be used for inter-cell reproduction, and address information recorded to the special reproduction mode information, specifically address values 3FFFFFFFh, 0, or other "outside cell" value, be used to detect the cell ends.<br>
Even when cells are shared by plural program chains, special reproduction modes such as fast forward and reverse play can also be achieved along any selected program chain.<br>
Although the present invention has been fully described in connection with the preferred embodiments thereof with reference to the accompanying drawings, it is to be noted that various changes and modifications are apparent to those skilled in the art. Such changes and modifications are to be understood as included within the scope of the present Invention as defined by the appended claims unless they depart therefrom.<br><br><br>
WE CLAIM<br>
1.   A reproduction apparatus for reproducing the optical  disc comprising:<br>
_ a reading unit for reading the system streams and the program chain information entries from the optical disc; and<br>
_5_ controller for receiving the program chain information entries and for, based on one of the program chain information entries, controlling the reading unit to contiguously read a sequence of system streams defined by the one of the program chain information entries,<br>
wherein during a forward reproduction the controller controls the reading unit to read a next video object unit referencing next position data in a navigation pack of a currently reproduced video object unit, when the next video object unit is in the same system stream as the currently reproduced video object unit; and controls the reading unit to read the first video object unit included in a next system stream which follows a system stream including the currently reproduced video object unit, referencing the first position data in the program chain information entries, when the next video object unit is not in the same system stream, and<br>
wherein during a backward reproduct ion the controller controls the reading unit to read a previous video object unit referencing the previous position data in the navigation pack of the currently reproduced video object unit, when the previous video object unit is in the same system stream as the currently reproduced video object unit; and controls the reading unit to read the last video object unit included in a previous system stream which is followed by the system stream including the currently reproduced video object unit, referencing the last position data in the program chain information entries, when the previous video object unit is not in the same system stream.<br><br>
2.	The reproduction apparatus as claimed in claim 1, wherein the next position data is<br>
a special code when the next video object unit is not in the corresponding system<br>
stream, and wherein the controller detects that the next video unit is not in the same<br>
system stream as the currently reproduced video object unit when the next position<br>
data in the navigation pack of the currently reproduced video object unit is the special<br>
code.<br>
3.	The reproduction apparatus as claimed in claim 1, wherein the previous position<br>
data is a special code when the previous video object unit is not in the corresponding<br>
system stream, and wherein the controller detects that the previous video unit is not in<br>
the same system stream as the currently reproduced video object unit when the<br>
previous video object unit is the special code.<br><br>
4.	A reproduction apparatus for reproducing the optical disc substantially as herein described with reference to the accompanying drawings.</td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA0OS1tYXMtMTk5OSBhYnN0cmFjdCBkdXBsaWNhdGUucGRm" target="_blank" style="word-wrap:break-word;">1049-mas-1999 abstract duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA0OS1tYXMtMTk5OSBhYnN0cmFjdC5wZGY=" target="_blank" style="word-wrap:break-word;">1049-mas-1999 abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA0OS1tYXMtMTk5OSBjbGFpbXMgZHVwbGljYXRlLnBkZg==" target="_blank" style="word-wrap:break-word;">1049-mas-1999 claims duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA0OS1tYXMtMTk5OSBjbGFpbXMucGRm" target="_blank" style="word-wrap:break-word;">1049-mas-1999 claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA0OS1tYXMtMTk5OSBjb3JyZXNwb25kZW5jZS1vdGhlcnMucGRm" target="_blank" style="word-wrap:break-word;">1049-mas-1999 correspondence-others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA0OS1tYXMtMTk5OSBjb3JyZXNwb25kZW5jZS1wby5wZGY=" target="_blank" style="word-wrap:break-word;">1049-mas-1999 correspondence-po.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA0OS1tYXMtMTk5OSBkZXNjcmlwdGlvbiAoY29tcGxldGUpIDEucGRm" target="_blank" style="word-wrap:break-word;">1049-mas-1999 description (complete) 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA0OS1tYXMtMTk5OSBkZXNjcmlwdGlvbiAoY29tcGxldGUpIGR1cGxpY2F0ZSAxLnBkZg==" target="_blank" style="word-wrap:break-word;">1049-mas-1999 description (complete) duplicate 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA0OS1tYXMtMTk5OSBkZXNjcmlwdGlvbiAoY29tcGxldGUpIGR1cGxpY2F0ZSAyLnBkZg==" target="_blank" style="word-wrap:break-word;">1049-mas-1999 description (complete) duplicate 2.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA0OS1tYXMtMTk5OSBkZXNjcmlwdGlvbiAoY29tcGxldGUpIGR1cGxpY2F0ZS5wZGY=" target="_blank" style="word-wrap:break-word;">1049-mas-1999 description (complete) duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA0OS1tYXMtMTk5OSBkZXNjcmlwdGlvbiAoY29tcGxldGUpLnBkZg==" target="_blank" style="word-wrap:break-word;">1049-mas-1999 description (complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA0OS1tYXMtMTk5OSBkcmF3aW5ncyBkdXBsaWNhdGUucGRm" target="_blank" style="word-wrap:break-word;">1049-mas-1999 drawings duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA0OS1tYXMtMTk5OSBkcmF3aW5ncy5wZGY=" target="_blank" style="word-wrap:break-word;">1049-mas-1999 drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA0OS1tYXMtMTk5OSBmb3JtLTEucGRm" target="_blank" style="word-wrap:break-word;">1049-mas-1999 form-1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA0OS1tYXMtMTk5OSBmb3JtLTE5LnBkZg==" target="_blank" style="word-wrap:break-word;">1049-mas-1999 form-19.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA0OS1tYXMtMTk5OSBmb3JtLTI2LnBkZg==" target="_blank" style="word-wrap:break-word;">1049-mas-1999 form-26.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA0OS1tYXMtMTk5OSBmb3JtLTMucGRm" target="_blank" style="word-wrap:break-word;">1049-mas-1999 form-3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA0OS1tYXMtMTk5OSBmb3JtLTUucGRm" target="_blank" style="word-wrap:break-word;">1049-mas-1999 form-5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA0OS1tYXMtMTk5OSBvdGhlcnMgMS5wZGY=" target="_blank" style="word-wrap:break-word;">1049-mas-1999 others 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA0OS1tYXMtMTk5OSBvdGhlcnMgMi5wZGY=" target="_blank" style="word-wrap:break-word;">1049-mas-1999 others 2.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA0OS1tYXMtMTk5OSBvdGhlcnMgMy5wZGY=" target="_blank" style="word-wrap:break-word;">1049-mas-1999 others 3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA0OS1tYXMtMTk5OSBvdGhlcnMucGRm" target="_blank" style="word-wrap:break-word;">1049-mas-1999 others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA0OS1tYXMtMTk5OSBwZXRpdGlvbi5wZGY=" target="_blank" style="word-wrap:break-word;">1049-mas-1999 petition.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="211547-a-system-for-providing-scrambled-content-and-for-descrambling-the-scrambled-content.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="211549-a-process-for-producing-actinol-from-levodione.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>211548</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>1049/MAS/1999</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>50/2007</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>14-Dec-2007</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>05-Nov-2007</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>29-Oct-1999</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>MATSUSHITA ELECTRIC INDUSTRIAL CO.LTD</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>1006, OAZA KADOMA, KADOMA-SHI, OSAKA 571,</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>YOSHIHIRO MORI</td>
											<td>15-14 HIGASHI KORIMOTOMACHI, HIRAKATA-SHI, OSAKA 5, 3,</td>
										</tr>
										<tr>
											<td>2</td>
											<td>KAZUHIRO TSUGA</td>
											<td>9-33 TSUTSUJIGAOKA, HANAYASHIKI, TAKARAZUKA-SHI, HYOGO 665,</td>
										</tr>
										<tr>
											<td>3</td>
											<td>TAKUMI HASEBE</td>
											<td>17-16 HASHIMOTO ISOKU, YAWATA-SHI, KYOTO 614,</td>
										</tr>
										<tr>
											<td>4</td>
											<td>KAZUHIKO NAKAMURA</td>
											<td>35-53, KURIGAOKA 11 CHOME, HIRAKATA-SHI, OSAKA,</td>
										</tr>
										<tr>
											<td>5</td>
											<td>YOSHIHISA FUKUSHIMA</td>
											<td>C-508 14 SEKIME 6 CHOME, JYOTO-KU, OSAKA-SHI, OSAKA 536,</td>
										</tr>
										<tr>
											<td>6</td>
											<td>MASAYUKI KOZUKA</td>
											<td>19-1-1207 ISHIZU MINAMIMACHI, NEYAGAWA-SHI, OSAKA 572,</td>
										</tr>
										<tr>
											<td>7</td>
											<td>CHIEKO MARSUDA</td>
											<td>2-29-15-216 OHKUBO-CHO, MORIGUCHI-SHI, OSAKA, 570,</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>G 11 B 033/02</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>N/A</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td></td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>7-276574</td>
									<td>1995-09-29</td>
								    <td>Japan</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/211548-a-reproduction-apparatus-for-reproducing-the-optical-disc by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2024 23:23:17 GMT -->
</html>
