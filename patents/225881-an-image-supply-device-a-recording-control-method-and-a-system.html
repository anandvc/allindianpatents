<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/225881-an-image-supply-device-a-recording-control-method-and-a-system by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 01:54:28 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 225881:AN IMAGE SUPPLY DEVICE, A RECORDING CONTROL METHOD AND A SYSTEM</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">AN IMAGE SUPPLY DEVICE, A RECORDING CONTROL METHOD AND A SYSTEM</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A digital camera has a storage medium which stores image data and a DPOF associated with a print process of the image data, acquires information associated with the function of a printer upon connection of that printer, sets a CDPS job command associated with the print process of the image data on the basis of the acquired information associated with the functions, sets a print condition for the printer on the basis of the DPOF and CDPS command, and sends a print instruction. The printer acquires image data stored in the storage medium in accordance with the designated print condition and prints the image data.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td> <br><br>
DESCRIPTION IMAGE SUPPLY DEVICE, RECORDING SYSTEM, AND RECORDING<br>
CONTROL METHOD<br>
TECHNICAL FIELD<br>
The present invention relates to a technique for recording an image in accordance with a recording instruction from an image supply device such as a digital camera or the like.<br>
BACKGROUND ART<br>
In recent years, digital cameras (image sensing devices) which can sense images and convert them into digital image data by simple operations have been prevalent. When an image sensed by such camera is printed and is used as a photo, it is a common practice to temporarily download the sensed digital image data from a digital camera to a PC (computer), to execute an image process by that PC, and to output the processed image data from the PC to a color printer, thus printing an image.<br>
By contrast, a color print system which allows a digital camera to directly transfer digital image data to a color printer without the intervention of any PC and can print it out, a color printer, i.e., a' so-called photo-direct (PD) printer which can receive a memory card, which is mounted on a digital camera and<br><br>
stores sensed images, and can print sensed images stored in the memory card, and the like have recently been developed.<br>
A print system that prints an image sensed by a digital camera designates an image to be printed, the number of copies to be printed, and the like using DPOF. That is, the digital camera saves select information of an image (images) to be printed, its procedure, and the like on a storage medium such as a memory card or the like that stores sensed image data, and the digital camera which mounts the storage medium is connected to a printer or the storage medium itself is mounted on the printer, thus allowing a print process under desired print conditions without the intervention of any PC.  The contents held on the storage medium include image information to be printed, print conditions such as the paper size, the number of copies, and the like, and so forth. However, since the digital camera normally generates a DPOF file in offline (without being connected to the printer), there is no guarantee that a print process according to the print conditions set by that DPOF is realized by the connected printer.  For this reason, the print process cannot often be made under the print conditions set by the DPOF.- -<br>
DISCLOSURE OF THE INVENTION<br><br>
The present invention has been made in consideration of the aforementioned prior arts, and has features to execute a recording process using a recording condition of image data stored in a storage medium, and another recording condition that uses the functions of a recording apparatus, which is connected to an image supply device and is used in the recording process.<br>
Other features and advantages of the present invention will be apparent from the following     ~ ' descriptions taken in conjunction with the accompanying drawings, in which like reference characters designate the same or similar parts throughout the figures thereof.<br>
BRIEF DESCRIPTION OF THE DRAWINGS The accompanying drawings, which are incorporated<br>
in and constitute a part of the specification,<br>
illustrate embodiments of the invention and, together<br>
with the descriptions, serve to explain the principle<br>
of the invention.<br>
Fig. 1 depicts a schematic perspective view of a<br>
PD printer according to an embodiment of the present<br>
invention;<br>
Fig. 2 depicts a schematic view of a control<br>
panel of the PD printer according to the embodiment of<br>
the present invention;<br><br>
Fig. 3 is a block diagram showing the arrangement of principal part associated with control of the PD printer according to the embodiment of the present invention;<br>
Fig. 4 is a block diagram showing the arrangement of an ASIC of the PD printer according to the embodiment of the present invention;<br>
Fig. 5 is a block diagram showing the arrangement of a digital camera according to the embodiment of the present invention;<br>
Fig. 6 depicts a chart for explaining an outline of a CDPS communication procedure according to the embodiment of the present invention;<br>
Fig. 7 depicts a schematic diagram for explaining the interfaces and software- configurations of the PD printer and digital camera, which incorporate the CDPS according to the embodiment of the present invention;<br>
Fig. 8 depicts a schematic diagram of service functions in the CDPS according to the embodiment of the present invention;<br>
Fig. 9 is a flow chart for explaining an outline of the processes up to a print process in the CDPS according to the embodiment of the present invention;<br>
Fig. 10 depicts a schematic diagram of service functions of the DSC and PD printer in "the CDPS according to the embodiment of the present invention;<br><br>
Fig. 11 is a flow chart for explaining an outline of the processes after the PD printer and DSC according to the embodiment of the present invention have been connected until the CDPS starts;<br>
Fig. 12 depicts a diagram showing an example of function assignment of the DSC and PD printer in the CDPS according to the embodiment of the present invention;<br>
Fig. 13 depicts a diagram showing another example of function assignment of the DSC and PD printer in the CDPS according to the embodiment of the present invention;<br>
Fig. 14 depicts a diagram showing still another example of function assignment of the DSC and PD printer in the CDPS according to the embodiment of the present invention, in which the DSC is handled as a mass storage;<br>
Figs. 15A and 15B depicts views for explaining function commands in the CDPS according to the embodiment of the present invention;<br>
Fig. 16 is a flow chart for explaining service functions and the flow of processes between the DSC and &gt;D printer in the CDPS according to the embodiment of :he present invention;<br>
Fig. 17 is a flow chart for explaining an example »f assignment of service functions and the flow of<br><br>
processes between the DSC and PD printer in the CDPS according to the embodiment of the present invention;<br>
Fig. 18 is a flow chart for explaining another example of assignment of service functions and the flow of processes between the DSC and PD printer in the CDPS according to the embodiment of the present invention;<br>
Fig. 19 is a chart for explaining an implementation example of CDPS service discovery (CDPS__ServiceDiscovery) using the PTP architecture;<br>
Fig, 20 is a chart for explaining an implementation example of a procedure that notifies procedures used by the camera in the CDPS (CDPS_ServiceDiscovery) using the PTP architecture;<br>
Fig. 21 is a chart for explaining an implementation example of notification (CDPS_Service) of printer functions in the CDPS using the PTP architecture;<br>
Fig. 22 is a chart for explaining an implementation example of a procedure of a function (CDPS_JobData) that allows the PD printer to acquire an image file in the CDPS using the PTP architecture;<br>
Fig. 23 is a chart for explaining an implementation example of a function (CDPS_PageStart) that allows the PD printer to instruct the camera to start a print process in the CDPS using the PTP architecture;<br><br>
Fig. 24 is a chart for explaining an implementation example of a function (CDPS_PageEnd) that allows the PD printer to send a print end command for one page to the camera in the CDPS using the PTP architecture;<br>
Fig. 25 is a chart for explaining an implementation example of a procedure that allows the PD printer to issue a print job end command (CDPS_JobEnd) to the camera in the CDPS using the PTP architecture;<br>
Fig. 26 is a chart for explaining an implementation example of a procedure of a function (CDPS_Error) that allows the PD printer to send error status to the camera in the CDPS using the PTP architecture;<br>
Fig. 27 is a chart for explaining an implementation example of a procedure that allows an operation controller to issue a print command to a print controller (CDPS_Job) in the CDPS using the PTP architecture;<br>
Fig. 28 is a chart for explaining an implementation example of a procedure that allows the operation controller to issue a print abort command to the print controller (CDPS_JobAbort) in the CDPS using the PTP architecture;<br>
Fig. 29 is a chart for explaining an implementation example of a procedure that allows the<br><br>
operation controller to issue a print restart command to the print controller (CDPS_JobContinue) in the CDPS using the PTP architecture;<br>
Fig. 30 is a chart for explaining an implementation example of a procedure that allows the print controller to issue a partial image acquisition command to a storage (CDPS_PrintJobData) in the CDPS using the PTP architecture;<br>
Fig. 31 is a flow chart for explaining a partial image acquisition process in the CDPS;<br>
Fig. 32 is a chart for explaining a communication protocol of a transition command to the CDPS in Bluetooth;<br>
Fig. 33 is a chart for explaining a communication protocol of a transition command to the CDPS in Bluetooth;<br>
Fig. 34 is a chart for explaining a communication protocol of a printer function notification process in Bluetooth;<br>
Fig. 35 is a chart for explaining a communication protocol of a process for acquiring image data from a storage in Bluetooth;<br>
Fig. 36 is a chart for explaining a communication protocol of print start notification in Bluetooth;<br>
Fig". 37 is a chart for explaining a communication protocol of print end notification in Bluetooth;<br><br>
Fig. 38 is a chart for explaining a communication protocol of print job end notification in Bluetooth;<br>
Fig. 39 is a chart for explaining a communication protocol of printer error notification in Bluetooth;<br>
Fig. 40 is a chart for explaining a communication protocol of a print command issuance process in Bluetooth;<br>
Fig. 41 is a chart for explaining a communication<br>
protocol of a print abort command issuance process in<br>
Bluetooth;	. .<br>
Fig. 42 is a chart for explaining a communication protocol of a print job restart command issuance process in Bluetooth;<br>
Fig. 43 is a chart for explaining a communication protocol of a partial image acquisition process in Bluetooth;<br>
Figs. 44A to 44C depict tables for explaining the support levels of the DSC and PD printer, which serve as criteria upon determining how to assign various control functions (operation controller, storage controller, and print controller);<br>
Fig. 4 5 depicts a view for explaining an example of a DPOF file;<br>
Fig. 46 is a flow chart for explaining a control process by the DSC according to the first embodiment of the present invention;<br><br>
Fig. 47 is a flow chart for explaining a control process by the DSC according to the second embodiment of the present invention;<br>
Fig. 48 is a flow chart for explaining a control process by the DSC according to the third embodiment of the present invention;<br>
Figs. 49A and 49B are functional block diagrams for explaining an outline of the first and second embodiments of the present invention; and<br>
Fig. 50 is a flow chart for explaining a print process by a printer according to the embodiment of the present invention.<br>
BEST MODE FOR CARRYING OUT THE INVENTION Preferred embodiments of the present invention will now be described in detail in accordance with the accompanying drawings.<br>
Fig. 1 depicts a schematic perspective view of a photo direct printer apparatus (to be referred to as a PD printer hereinafter) 1000 according to an embodiment of the present invention. This PD printer 1000 has a function of printing data received from a host computer (PC) as a normal PC printer, and a function of printing image data directly read from a storage medium such as a memory card or -the like, and printing image data received from a digital camera.<br><br>
Referring to Fig- 1, a main body which forms a housing of the PD printer 1000 according to this embodiment has a lower case 1001, upper case 1002, access cover 1003, and exhaust tray 1004 as exterior members. The lower case 1001 nearly forms the lower half portion of the PD printer 1000, and the upper case 1002 nearly forms the upper half portion of the main body. By combining these cases, a hollow structure which has a storage space that stores mechanisms to be described later is formed. Openings are respectively formed on the upper and front surfaces of the main body. One end portion of the exhaust tray 1004 is rotatably held by the lower case 1001, and rotation of the tray 1004 opens/closes the opening formed on the front surface of the lower case 1001. For this reason, upon making the printer execute a print operation, the exhaust tray 1004 is rotated toward the front surface side to open the opening. As a result, print sheets can be exhausted from the opening, and be stacked on the exhaust trays 1004 in turn. The exhaust tray 1004 stores two auxiliary trays 1004a and 1004b. When these auxiliary trays are pulled out as needed, the loading area of print sheets can be enlarged/reduced in three steps.<br>
One end portion of the access cover 1003 is rotatably held by the upper case 1002 to be able to open/close the opening formed on the upper surface of<br><br>
the main body. When the access cover 1003 is opened, a printhead cartridge (not shown), ink tanks (not shown), or the like housed in the main body can be exchanged. Although not shown, when the access cover 1003 is opened/closed, a projection formed on the rear surface of the cover 1003 rotates a cover open/close lever. By detecting the rotation position of that lever using a microswitch or the like, the open/close state of the access cover is detected.<br>
A power key 1PQ5 is arranged on the upper surface of the upper case 1002. A control panel 1010 which comprises a liquid crystal display 1006, various key switches, and the like is provided on the right side of the upper case 1002.  The structure of the control panel 1010 will be described in detail later with reference to Fig. 2. Reference numeral 1007 denotes an automatic feeder which automatically feeds a print sheet into the apparatus main body. Reference numeral 1008 denotes a paper gap select lever which is used to adjust the gap between the printhead and print sheet. Reference numeral 1009 denotes a card slot which receives an adapter that can receive a memory card. Via this adapter, image data stored in the memory card can be directly fetched and printed. As this memory card (PC), for example, a compact flash™ memory card, smart media card, memory stick, and the like are available. Reference numeral 1011 denotes a viewer<br><br>
(liquid crystal display unit) which is detachable from the main body of this PD printer 1000, and is used to display an image for one frame, index image, and the like, when the user wants to search images stored in the PC card for an image to print.  Reference numeral 1012 denotes a USB terminal used to connect a digital camera (to be described later). Also, another USB connector used to connect a personal computer (PC) is provided on the rear surface of this PD printer 1000.<br>
Fig. 2 depicts a schematic view of the control panel 1010 of the PD printer 1000 according to this embodiment.<br>
Referring to Fig. 2, the liquid crystal display unit 1006 displays menu items used to set data associated with item names printed on the right and left sides of the unit 1006. The items printed here include, e.g., the first photo number or designated frame number of the images to be printed (start frame designation/print frame designation), the last photo number of the images to be printed (end), the number of copies to be printed (copy count), the type of paper sheet (print sheet) used in a print process (paper type), the setup of the number of photos to be printed per print sheet (layout), designation of print quality (quality), designation as to whether or not to print a photographing date (date print), designation as to whether or not to print a photo after correction (image<br><br>
correction), display of the number of print sheets required for the print process (print sheet count), and the like. These items are selected or designated using cursor keys 2001. Reference numeral 2002 denotes a mode key. Every time this key is pressed, the type of print (index print, all-frame print, one-frame print, and the like) can be switched, and a corresponding one of LEDs 2003 is turned on in accordance with the selected type of print. Reference numeral 2004 denotes a maintenance key which is used to do maintenance of the printer (e.g., cleaning of the printhead, and the like). Reference numeral 2005 denotes a print start key which is pressed when the start of a print process is instructed or when the maintenance setup is settled. Reference numeral 2006 denotes a print cancel key which is pressed when a print process or maintenance process is canceled.<br>
The arrangement of principal part associated with the control of the PD printer 1000 according to this embodiment will be described below with reference to Fig. 3. Note that the same reference numerals in Fig. 3 denote parts common to those in the above drawings, and a description thereof will be omitted.<br>
Fig. 3 is a block diagram showing the arrangement of principal part associated with control of the PD printer according to the embodiment.<br><br>
Referring to Fig. 3, reference numeral 3000 denotes a controller (control board). Reference numeral 3001 denotes an ASIC (dedicated custom LSI). The arrangement of the ASIC 3001 will be described later with reference to the block diagram of Fig. 4. Reference numeral 3002 denotes a DSP (digital signal processor), which includes a CPU and executes various control processes to be described later, and image processes such as conversion from a luminance signal (RGB) into a density signal (CMYK), scaling, gamma conversion, error diffusion, and the like.  Reference numeral 3003 denotes a memory, which has a memory area that serves as a program memory 3003a for storing a control program to be executed by the CPU of the DSP 3002, a RAM area for storing a running program, and a work area for storing image data and the like. Reference numeral 3004 denotes a printer engine.  In this embodiment, the printer is equipped with a printer engine of an ink-jet printer which prints a color image using a plurality of color inks. Reference numeral 3005 denotes a USB connector as a port for connecting a digital camera (DSC) 3012. Reference numeral 3006 denotes a connector for connecting the viewer 1011. Reference numeral 3008 denotes a USB hub (USB HUB). When the. PD printer 1000 executes "a print process based on image data from a PC 3010, the USB hub 3008 allows data received from the PC 3010 to pass through it, and<br><br>
outputs the data to the printer engine 3004 via a USB 3021.  In this way, the PC 3010 connected to the printer can execute a print process by directly exchanging data, signals, and the like with the printer engine 3004 (the printer serves as a normal PC printer). Reference numeral 3009 denotes a power supply connector, which inputs a DC voltage converted from commercial AC power by a power supply 3019. The PC 3010 is a general personal computer. Reference numeral 3011 denotes a memory card (PC card) mentioned above; and 3012, a digital camera (to be also referred to as a DSC: Digital Still Camera).<br>
Note that signals are exchanged between this controller 3000 and printer engine 3004 via the USB 3021 or an IEEE1284 bus 3022.<br>
Fig. 4 is a block diagram showing the arrangement of the ASIC 3001.  In Fig. 4 as well, the same reference numerals denote parts common to those in the above drawings, and a description thereof will be omitted.<br>
Reference numeral 4001 denotes a PC card interface, which is used to read image data stored in the inserted PC card 3011, and to write data in the PC card 3011. Reference numeral 4002 denotes an IEEE1284 interface, which is used to exchange data with the printer engine 3004.  This IEEE1284 interface 4002 is a bus used when image data stored in the digital camera<br><br>
3012 or PC card 3011 is to be printed. Reference numeral 4003 denotes a USB interface, which exchanges data with the PC 3010. Reference numeral 4004 denotes a USB host interface, which exchanges data with the digital camera 3012. Reference numeral 4005 denotes a control panel interface, which receives various operation signals from the control panel 1010, and outputs display data to the display unit 1006. Reference numeral 4006 denotes a viewer interface, which controls display of image data-on the viewer 1011. Reference numeral 4007 denotes an interface, which controls interfaces with various switches, LEDs 4009, and the like. Reference numeral 4008 denotes a CPU interface, which exchanges data with the DSP 3002. Reference numeral 4010 denotes an internal bus (ASIC bus), which interconnects these interfaces.<br>
Fig. 5 is a block diagram showing an example of the typical arrangement of the digital camera (DSC) 3012. Note that some models of digital cameras which can be connected to the PD printer 1000 of this embodiment may not have a display unit 2700 (to be described later.<br>
Referring to Fig. 5, reference numeral 3100 denotes a CPU which controls the overall DSC 3012; and numeral 3101 denotes a ROM that stores the processing sequence of the CPU 3100- Reference numeral 3102 denotes a RAM which is used as a work area of the CPU<br><br>
3100; and numeral 3103 denotes a switch group used to make various operations- The switch group 3103 includes various switches, cursor keys, and the like. Reference numeral 2700 denotes a liquid crystal display, which is used to confirm a sensed image, and to display a menu upon making various setups. Reference numeral 3105 denotes an optical unit which mainly comprises a lens and its drive system. Reference numeral 3106 denotes a CCD element; and numeral 3107 denotes a driver which controls the optical unit 36 under the control of the CPU 3100. Reference numeral 3108 denotes a connector that connects a storage medium 3109 (compact flash™ memory card, smart media card, or the like); and numeral 3110 denotes a USB interface (USB slave side) used to connect the PC or PD printer 1000 of this embodiment.<br>
This embodiment will mainly exemplify a case wherein a print process is executed by connecting the aforementioned PD printer 1000 and DSC 3012.  This embodiment has as its object to provide a PD printer apparatus which allows an image output apparatus such as this PD printer 1000 to connect devices (DSPD: Digital Still Photography Devices) such as digital cameras, cellular phones (portable phones), memory devices, and the like of respective manufacturers, and can print based on image data acquired from such devices, and will describe communication specifications<br><br>
when a print process is executed by connecting the PD printer 1000 according to this embodiment and the DSC 3012 as an example of such DSPD. Note that this embodiment proposes a novel CDPS (Canon Direct Print Service) which makes communication control between the PD printer and DSC using a versatile file and versatile format, and does not depend on any interfaces.<br>
This embodiment uses the concept of a print service function so as to make arrangements with various communication architectures (e.g., PTP (Picture Transfer Protocol) of Still Image Class on USB, OBEX on Mass Storage Class or Bluetooth, UPnP, and the like) between the DSC and image output apparatus.  The print service function is an aggregate of execution functions in the application layer, and does not depend on various interfaces.<br>
Also, communication control between actual image data and devices does not depend on any interfaces since it is made using a versatile file and versatile format (e.g., described using an XML format).<br>
In such system that connects the DSC and image output apparatus, its operation is made using an operation unit (e.g., switches and liquid crystal display of the digital camera or the control panel of the printer) of either one of the DSC and image output apparatus. In the whole system, if two devices have similar functions, one of the devices, which is used to<br><br>
instruct the other device to execute that operation, must be determined. Hence, in the system according to this embodiment, a scheme for determining how to assign the operation unit and other functions between the two devices is adopted after a Discovery process (transition process; to be described later), thus widening the versatility. [Description of Outline of Communication]<br>
Fig. 6 is a chart for explaining an outline of a communication between the-digital camera (DSC) 3012 according to this embodiment, and the PD printer 1000 according to this embodiment as a typical example of the image output apparatus. Note that the DSC 3012 and PD printer 1000 are connected via USB, and a communication between them uses PTP.  In this USB connection, the PD printer 1000 serves as the host side, and the DSC 3012 serves as the slave side.<br>
This procedure will be described in turn below. Note that a case will be exemplified below wherein the DSC 3012 has the arrangement shown in Fig. 5 above, and is used to set auxiliary print conditions in a print process and issue a print start instruction.<br>
(1)	Initially, the DSC 3012 and PD printer 1000 are physically connected using a USB cable.<br>
(2)	A USB host controller (USB task) of the PD printer 1000 recognizes the DSC 3012, and establishes<br><br>
connection in Image Class/PTP. This state corresponds to "establish communication" 600 in Fig. 6.<br>
(3)	Next, a process (601) for shifting the control to the communication specifications (CDPS) defined by this embodiment starts. At this time, it is confirmed and determined whether or not the CDPS service can be implemented between the DSC 3012 and PD printer 1000, based on information exchanged between them.  If the service can be implemented, it is determined (610) whether the service is implemented in a "standard" or "extended" procedure. Also, in this process 601, it is determined which of the DSC 3012 and PD printer 1000 is used to determine a print image, to set print conditions, to issue a print start instruction, and so forth.<br>
(4)	When the service is implemented in a "standard" procedure 602 as a result of the process 601, the PD printer 1000 notifies the DSC 3012 of "services that the printer side can provide" (603). More specifically, paper sizes, paper types, print qualities, combinations that allow layouts, and the like are notified.<br>
(5)	The DSC 3012 generates a UI menu to be operated by the user in accordance with the service contents received in 603, and displays it on the display unit 2700. As a result, the user makes setups of a print image and selection of a photo (which will<br><br>
be generally referred to as a "job" hereinafter) via the UI menu (611) .<br>
(6)	Upon completion of "job" setups in this way, when the user issues a print start instruction at the DSC 3012, the DSC 3012 sends a "job" to the PD printer 1000 (604).<br>
(7)	The PD printer 1000 sets up itself in accordance with the contents of the "job" received in 604, and acquires a required image file from the DSC 3012 (605) to print a photo (613).<br>
(8)	If an error has occurred in the PD printer 1000 during execution of the "job", the PD printer 1000 notifies the DSC 3012 of the contents of the error that has occurred so as to demand the user to take an action (606) (to select "continue/abort print" in this embodiment). When the user determines an action to be taken using the UI of the DSC 3012 (612), the determined contents are sent to the PD printer 1000 to execute a corresponding error process 614.<br>
(9)	When the "job" is completed by repeating transfer of an image file and a print process (—» transmit/receive errors) in this way, the DSC 3012 is set in a "job" setting state again.<br>
(10)	When it is determined in 610 above that the<br>
service is to be implemented in the CDPS "extended<br>
procedure", a procedure and "extended" process (607)<br>
unique to each vendor are executed. Since the process<br><br>
in the "extended procedure" is specified by each vendor, a description thereof will be omitted. [Hierarchical Structure]<br>
Fig. 7 depicts the hierarchical structure of functions when the DSC 3012 and the PD printer 1000 as a typical image output apparatus are connected.<br>
Referring to Fig. 7, reference numerals 700 and 703 denote applications; and numerals 701 and 702 denote physical layers as an example of USB and Bluetooth.  The DSC 3012 and PD printer 1000 can build the CDPS system of this embodiment by respectively installing the applications 700 and 703. Note that this system is premised on installation of architectures such as PTP of the protocol layer, file systems on BIP and MSC (Mass Storage Class), and the like, as shown in the layers 701 and 702, Also, the substance of this print service function is present in the applications 700 and 703, and the print service function is executed in modules for converting from the CDPS into respective protocols.<br>
In this way, the direct print service can be implemented independently of any physical interfaces. [Function of Overall System]<br>
Fig. 8 depicts a diagram showing the functional arrangement when the connected DSC 3012 and PD printer 1000 are considered as an integrated system.<br><br>
After the aforementioned hierarchical structure specifies that the system does not depend on any interfaces, elements (objects) of higher levels are defined so as to realize independence from "functions" of DSPDs and the image output apparatus.  In this embodiment, various functions are not separated or exclusively assigned between the DSC 3012 and PD printer 1000, and the functional arrangement and objects required for the whole direct print system are defined. Functions and roles will be explained below.<br>
In this embodiment, the functions of the whole system are roughly classified into four functions (800 to 803). <cdps initialize process><br>
A CDPS initialize process 800 is launched first prior to other CDPS functions. This process checks transition (standard/extended) to a CDPS mode and the like, and sends the checking result to respective functions as "Service Discovery" 804. This process corresponds to 601 in Fig. 6 above. <br>
Management (Operation Controller) 801 of the UI that interacts with a user 812 is launched upon reception of "ServiceDiscovery" 804 from the CDPS initialize process 800. This operation controller 801 acquires services "Service" 807 that can be printed by a print device 810 (printer engine 3004) from print<br><br>
control (Print Controller) 803, and acquires an image information list "DataList" 805 held by a storage device 811 (e.g., the PC card 3011) from storage control (Storage Controller) 802, The operation controller 801 generates a UI menu based on the descriptions of these "Service" 807 and "DataList" 805. The operation controller 801 generates an output setting instruction "Job" 808 on the basis of user's instructions input via the UI menu generated in this way, and sends it to the print controller 80-3 •* <storage control controller><br>
The storage controller 802 manages a storage medium (e.g., the PC card 3011) that holds photo images. This storage controller 802 is launched upon reception of "ServiceDiscovery" 804 from the CDPS initialize process 800. The storage controller 802 generates the image information list "DataList" 805 held in the storage device 811 in accordance with a request from the operation controller 801, and sends it to the operation controller 801. Also, the storage controller<br>
802	outputs an image file "JobData" 806 saved in the<br>
storage device 811 to the print controller 803 in<br>
accordance with a request from the print controller 803.<br><print control controller><br>
The print controller 803 manages the print device 810 that prints a photo image. This print controller<br>
803	is launched upon reception of "ServiceDiscovery"<br><br>
804 from the CDPS initialize process 800, and sends services "Service" 807 that can be printed by the print device 810 to the operation controller 801.  Upon acquisition of an output setting instruction "Job" 808 from the operation controller 801, the print controller 803 requests the storage controller 802 of an image file "JobData" 806 saved in the storage device 811 on the basis of the description of that "Job" 808 using a description method described in the "DataList" 805, and acquires that image file. The print device 801 generates print data that can be processed, and outputs it to the print device 810, thus printing an image.<br>
Fig. 9 is a flow chart for explaining the flow of processes by the respective functions in Fig. 8.<br>
In step SI, the CDPS initialize process 800 checks if the system can transit to the CDPS mode, and sends "ServiceDiscovery" 804 to the respective functions based on the checking result, thus launching the respective functions. The flow then advances to step S2, and the print controller 803 print services "Service" 807 that the print device 810 can provide to the operation controller 801. The flow advances to step S3r and the operation controller 801 acquires an image information list "DataList" 805 held in the storage device 811 from the storage controller 802. The flow advances to step S4, and the operation controller 801 forms and displays a print setting UI on<br><br>
the basis of "Service" 807 and "DataList" 805. The operation controller 801 generates print setting instructions "Job" 808 that specify images to be printed, selection of their print modes, and the like on the basis of instructions of the user 812 input according to this UI, and sends the generated "Job" 808 to the print controller 803.  The flow advances to step S5r and the print controller 803 makes print setups of the print device 810 according to the description of "Job" 808. The print controller 803 requests the storage controller 802 of an image file "JobData" 806, which is held in the storage device 811 and is required for a print process, using a description method described in "DataList" 805, and acquires that image file. Then, the print controller 803 generates print data that can be processed by the print device 810. The flow advances to step S6, and the print controller 803 outputs the print data to the print device 810 to print an image. It is checked in step S7 if an end instruction of the print process is designated. If no end instruction is designated, the flow returns to step S4 to repeat the aforementioned processes.  If the end instruction of the print process is designated, this process ends.<br>
As described above, the aforementioned hierarchical structure, four functions 800 to 803, and five information groups 804 to 808 exchanged among the<br><br>
four functions form the CDPS basic configuration despite of the locations of the aforementioned functions (DSC 3012 or PD printer 1000). [CDPS Configuration by DSC and PD Printer]<br>
Fig. 10 shows an example of the CDPS configuration while the DSC 3012 and PD printer 1000 are connected. Fig. 10 shows a case wherein both the DSC 3012 and PD printer 1000 hold the aforementioned four functions 800 to 804.  In this case, the storage device 811 and print device 810 are logically located outside this CDPS system, and the side to which these devices are connected is not fixed.<br>
The CDPS of this embodiment is characterized in that after the DSC 3012 and PD printer 1000 are physically and logically connected, the CDPS initialize (CDPS Initialize) processes 800 of the DSC 3012 and PD printer 1000 interactively determine which of the DSC 3012 and PD printer 1000 handles and manages each of the three remaining functions 801 to 803, and the processing functions of the storage device 811 and 810.<br>
Fig. 11 is a flow chart for explaining the function assignment process in the CDPS of this embodiment.<br>
In step Sll, the DSC 3012 notifies the PD printer 1000 of the support levels of its functions 800 to 803. The flow advances to step S12, and the PD printer 1000 compares the support levels of the respective functions<br><br>
received from the DSC 3012 with those of the PD printer 1000 itself to detect in which of the DSC 3012 and PD printer 1000 functions with higher usability are installed and to determine the DSC 3012 or PD printer 1000 to which each of the functions is to be assigned. The flow advances to step S13, and the PD printer 1000 sends the determined handle information and management information of the respective functions to the DSC 3012. The flow advances to step S14, and the DSC 3012 and PD printer 1000 respectively launch functions determined to be handled by them.  In step S15, the CDPS is started.<br>
If the "extended procedure" is to be executed, it is executed after it is determined in step S12 that both the DSC 3012 and PD printer 1000 support the extended procedure. However, since the subsequent interactions are unique to each vendor, a description thereof will be omitted.<br>
The respective functions need not always be supported by both the DSC 3012 and PD printer 1000, but they must be supported by either the DSC 3012 or PD printer 1000. Especially, as for the CDPS initialize process 800, even if the DSC 3012 does not support the CDPS initialize process 800, the CDPS initialize process 800 of the PD printer 1000 allows this system to transit to the CDPS mode depending on the connection state of the interface.<br><br>
[CDPS Configuration Example-1]<br>
Fig. 12 depicts a configuration example 1 of the CDPS when the DSC 3012 and PD printer 1000 are connected via PTP (Picture Transfer Protocol) of Image Class on USB. The same reference numerals in Fig. 12 denote parts common to those in Figs. 8 and 10, and a description thereof will be omitted. Note that a case will be explained below wherein the DSC 3012 which comprises the liquid crystal display 2700 and the PD printer 1000 to which no liquid crystal viewer 1011 is attached are connected. That is, in this example, the DSC 3012 comprises the CDPS initialize process 800, operation controller 801, and storage controller 802, and the PD printer 1000 comprises the functional arrangement shown in Fig. 10.<br>
In this case, the CDPS initialize process 800 of the PD printer 1000 makes an attempt to exchange information about assignment and management of the respective functions with that of the DSC 3012.  In response to this, the DSC 3012 informs the PD printer 1000 that it supports the functions of the operation controller 801 and storage controller 802 (with the liquid crystal display 2700 and the like).  The CDPS initialize process 800 of the PD printer 1000 compares these support levels with those of the operation controller 801 and storage controller 802 (without the liquid crystal viewer and the like) of the PD printer<br><br>
1000, and determines the system configuration as follows. Then, "CDPS transition OK" is sent back to the CDPS initialize process 800 of the PD printer 1000, and the following determination contents are sent to the DSC 3012.<br>
(1)	The DSC 3012 handles and manages the operation controller 801 and storage controller 802.<br>
(2)	The PD printer 1000 handles and manages the print controller 803.<br>
(3)	The storage device 811 is mounted on the DSC 3012, and the storage controller 802 of the DSC 3012 manages this storage device 811.<br>
(4)	The print device 810 (printer engine 3004) is provided in the PD printer 1000, and the print controller 803 of the PD printer 1000 manages a print process. Note that the above process is similarly executed when the DSC and PD printer are connected via other interfaces such as TCP/IP of Wireless LAN and the like.<br>
[CDPS Configuration Example-2]<br>
Fig. 13 shows configuration example 2 of the CDPS when the DSC 3012 and PD printer 1000 are connected via PTP (Picture Transfer Protocol) of Image Class on USB. The same reference numerals in Fig. 13 denote parts common to those in Figs. 8 and 10, and a description thereof will be omitted.  Note that a case will be explained below wherein the DSC 3012 which does not<br><br>
comprise any liquid crystal display 2700 and the PD printer 1000 to which the liquid crystal viewer 1011 is attached are connected, or the DSC 3012 does not comprise any CDPS initialize process 800. Note that the PD printer 1000 comprises the functional arrangement shown in Fig. 10.<br>
Upon examining a case wherein the CDPS initialize process 800 of the PD printer 1000 makes an attempt to exchange information about assignment and management of the respective functions with that of the DSC 3012, the DSC 3012 cannot respond to this since it has no CDPS initialize process 800. Hence, a PTP Wrapper layer of the PD printer 1000 determines the system configuration as follows, and sends "CDPS transition OK" back to the CDPS initialize process 800 of the PD printer 1000.<br>
(1)	The PD printer 1000 handles and manages all of the operation controller 801, storage controller 802, and print controller 803.<br>
(2)	The storage device 811 is provided in the DSC 3012, and the storage controller 802 of the PD printer 1000 manages image accesses to this storage device 811 via standard PTP.<br>
(3)	The print device 810 is provided in the PD printer 1000, and the print controller 803 of the PD printer 1000 manages it.<br>
Note that the configuration shown in Fig. 13 is letermined not only when the DSC 3012 does not have any<br><br>
CDPS initialize process 800, but also when the CDPS initialize process 800 of the PD printer 1000 determines that the resolution and operability of the display 2700 of the DSC 3012 are inferior to those of the viewer 1011 of the PD printer 1000 or the UI that uses that viewer 1011 even when the DSC 3012 comprises the display 2700. [CDPS Configuration Example-3]<br>
Fig. 14 depicts a configuration example 3 of the CDPS upon connection via MSC (Mass Storage Class),* The same reference numerals in Fig. 14 denote parts common to those in Figs. 8 and 10, and a description thereof will be omitted. Note that a case will be explained below wherein the DSC 3012 which does not comprises any liquid crystal display 2700 is connected as MSC, to the PD printer 1000 to which the liquid crystal viewer 1011 is attached.<br>
In this case, the CDPS initialize process 800 of the PD printer 1000 makes an attempt to exchange information about assignment and management of the respective functions with that of the DSC 3012. However, it is difficult for standard bulk-only MSC to exchange information with the DSC 3012 in two ways. For this reason, a Mass Storage Class Wrapper layer 820 of the PD printer 1000 determines the system configuration as follows, and sends "CDPS transition<br><br>
OK" back to the CDPS initialize process 800 of the PD printer 1000.<br>
(1)	The PD printer 1000 handles and manages all of the operation controller 801, storage controller 802, and print controller 803.<br>
(2)	The storage device 811 is provided in the DSC 3012, and the storage controller 802 of the PD printer 1000 manages image accesses to this storage device 811 as standard MSC.<br>
(3)	The.print device 810 is provided in the PD printer 1000, and the print controller 803 of the PD printer 1000 manages it.<br>
[CDPS Output Procedure]<br>
The output procedure in the CDPS according to this embodiment has the following two procedures. <standard procedure><br>
In the CDPS according to this embodiment, a procedure according to the following functions and information is defined.<br>
•CDPS Initialize function<br>
•Operation Controller function<br>
•Storage Controller function<br>
•Print Controller function<br>
•Service Discover information<br>
•Service information<br>
•Job information<br>
•Job Data information<br><br><extended procedure><br>
Procedures that can cope with outputs in various formats based on specifications unique to respective vendors are defined for the following formats.<br>
•XHTML<br>
•SVG<br>
•Unique format [Description of CDPS Function]<br>
In the CDPS of this embodiment, print service functions shown in Figs. 15A and 15B are provided so as to allow the PTP upper layers of both the DSC 3012 and PD printer 1000 to arbitrarily handle applications, i.e., to model functions between the DSC 3012 and PD printer 1000 (for example, a print process requires exchange of various PTP protocols such as exchange of objects and the like). The aforementioned application layers 700 and 703 in Fig. 7 can basically implement direct print using the print service functions shown in Figs. 15A and 15B. Note that the print service functions include indispensable functions (Fig. 15A) and an optional function (Fig. 15B), and an apparatus which supports the CDPS must prepare for all the indispensable functions of them.<br>
Figs. 15A and 15B show a list of service - functions in the CDPS according to this embodiment. These functions will be explained in turn below. (a) CDPS_ServiceDiscovery (Initialization)<br><br>
This function makes transition to the CDPS. The return value of this function designates the "standard" or "extended" procedure of the CDPS using a script, and information indicating which procedure is selected is received. Note that only the CDPS__ServiceDiscovery function is used in the "extended" procedure.<br>
(b)	CDPS_Service (Printer -* Operation Controller)<br>
This function notifies a script that describes the functions of the PD printer as a parameter. The script that describes the functions of the PD printer is used as an argument, and its return value indicates a communication result, i.e., success/failure of a communication ("TRUE" or "FALSE").<br>
(c)	CDPS_PageStart (Printer -* Operation Controller)<br>
This function notifies print start (for each page).  Its parameter is a script that describes the print function, and its return value indicates a communication result, i.e., success/failure of a communication ("TRUE" or "FALSE").<br>
(d)	CDPS__PageEnd (Printer -» Operation Controller)<br>
This function notifies print end (upon discharging a sheet for each page). Its parameter is a script that describes the print function, and its return value indicates a communication result, i.e., success/failure of a communication ("TRUE" or "FALSE").<br>
(e)	CDPS_JobEnd (Printer -» Operation Controller)<br><br>
This function notifies end of a print job. Its parameter is a script that describes the print function, and its return value indicates a communication result, i.e., success/failure of a communication ("TRUE" or "FALSE").<br>
(f)	CDPSJError (Printer -* Operation Controller)<br>
This function notifies an error (Warning/Fatal). Its parameter is a script that describes the print function, and its return value indicates a communication result, i.e., success/failure of a communication ("TRUE" or "FALSE").<br>
(g)	CDPS__JobData (Printer -» Storage)<br>
This function acquires an image (e.g., JPEG data) from the storage. A script that describes a handle name of image data to be acquired is used as an argument, and its return values are the number of bytes of the acquired image data and the image data itself. (h) CDPS_DataList (Printer -&gt; Storage)<br>
This function acquires a list of image information (e.g., JPEG data) from the storage. A script that describes the function of the PD printer as an argument, and its return value is a script that describes an image data list, (i) CDPS_Job (Operation Controller -* Printer)<br>
This function notifies the printer of a print command. A script that describes a print command is used as an argument, and its return value indicates a<br><br>
communication result, i.e., success/failure of a<br>
communication ("TRUE" or "FALSE").<br>
(j)  CDPS_JobAbort (Operation Controller -* Printer)<br>
This function notifies the printer of a print abort command. A script that describes the printer function is used as an argument, and its return value indicates a communication result, i.e., success/failure of a communication ("TRUE" or "FALSE"). (k) CDPS_JobContinue (Operation Controller -» Printer)<br>
This function notifies the printer of a print restart command. A script that describes the printer function is used as an argument, and its return value indicates a communication result-, i.e., success/failure of a communication ("TRUE" or "FALSE").<br>
These functions are the indispensable functions in the CDPS.<br>
The CDPS of this embodiment further comprises a CDPS_PartialJobData function as an optional function, as shown in Fig. 15B.<br>
This CDPS_PartialJobData is a function of allowing the printer to acquire partial image data (e.g., JPEG data) from the storage. A script that describes a handle name of partial image data to be acquired is used as an argument, and its return values are the number of bytes of the acquired image data and the image data itself. Note that a DPOF designation command that designates to receive a DPOF file, to<br><br>
interpret that DPOF file, and to execute a print process designated by that DPOF is prepared in addition to the above function. [Description of Script Format]<br>
The contents of the script used in the aforementioned service discovery<br>
(CDPS_ServiceDiscovery) function and the formats of scripts used in other functions will be described below. <formats of various function commands><br>
(1)	Script Format of Service- Discovery<br>
(CDPS__ServiceDiscovery)<br>
This format describes the contents (described in Unicode) of the script used in the service discovery (CDPS_ServiceDiscovery) function, and is used upon transition to the CDPS mode- With this script, each othersf keywords are recognized.<br>
CanonDirectPrintService(UILevel=X) (device information, UI level information (X) = 0 to 4) CanonDirectPrintService(HostUI) (when the UI of the host (PD printer) is used) or<br>
CanonDirectPrintService(DeviceUI) (when the UI of the device (DSC) side is used)<br>
(2)	Script Format in CDPS_PageStart, CDPS_PageEnd,<br>
CDPS_JobEnd, CDPS_DataList, CDPS_JobAbort, and<br>
CDPS_JobContinue<br><?XML version="1.0" encoding=UTF-16"?><br><br><ielement command></ielement>
"CDPS_JobEnd" | "CDPS^JobAbort" | "CDPS_JobContinue")&gt;<br>
(3)  Script Format of CDPS_Service<br><?XML version="1.0" encoding=UTF-16"?><br><command><br><capability><br><br></capability><br>
( 4 )  Script Format of CDPS_Job<br><?XML version="1.0" encoding=UTF-16"?><br><br><job><br><capability><br><br></capability><br><printlist><br>
Handle, date, and the like--&gt;<br></printlist><br></job><br>
(5)  Script Format of CDPS_Error<br><?XML version="1.0" encoding=UTF-16"?><br><command><br><br>
"ink low" I "lever_error" I "load_error" I ...)&gt;<br><br>
Note that "status" describes whether or not this error is an error that allows recovery to the job. For example, "fatal" indicates a non-recoverable error, "warning indicates a recoverable error-  Also, "reason" describes the cause of that error, (6)  Script Format of CDPS_JobData and CDPS_PartialJobData<br><?XML version^"1.0" encoding=UTF-16"?><image><offset><size><br>
Note that "image" describes the handle name of a file, "offset" describes the number of bytes of an offset from the head, and "size" describes the number of bytes of image data to be acquired. However, in case of CDPS_JobData, these "offset" and "size" are disabled if partial acquisition as the optional function is not used. <format of capability><br>
The format of <capability> used in the CDPS_Service and CDPS_Job functions will be described below.<br><capability><br><br><br>
Note that "quality" represents th,e print quality, and designates one of "quick (draft)", "normal", and "fine".  "paper_size" represents the paper size (L, 2L, card, 4x6, A4, letter size, and the like), and "paper__type" represents the type of paper sheet and designates one of *"plain paper (plain)" and "photo dedicated paper (photo)".     <size_per_page><br><br>
Note that "image_type" represents the image formats which are supported,  "date" indicates ON/OFF of a date print function.  "file_name" indicates ON/OFF of a file name print function, and "image^optimize" indicates ON/OFF of image correction.  "size_per_page" represents the size of image data that can be read, and<br><br>
"layout" indicates layouts which are available for<br>
various paper types.<br><option>
<br>
"auto" trimming_x (#PCDATA) "0"<br>
trimming_y (#PCDATA) "0"<br>
trimming_w (#PCDATA) "0"<br>
trimming_h (#PCDATA) "0"<br>
. . .&gt;<br>
</option>
<br></size_per_page></capability><br>
Note that a field bounded by this "option" represents Printer Capability unique to each vendor, and describes the contents together with the vendor name. <job format><br>
The format of <job> used in the CDPS_Job function will be described below. <job><br><capability><br></capability><printlist><image><date><file_name><br><br></file_name></date></image></printlist><br>
Note that a field bounded by "capability" represents the print setups of images that follow this field. Also, a field bounded by "printlist" represents images, additional information (date, file name), and the like to be printed in this job. <practical example of job format><br>
Practical examples of this Job format will be<br>
explained below.	* •<br>
(A) Print image of Handlel on L-size photo paper together with date in borderless style <?XML version^"1.0" encoding=UTF-16"?><job><br><capability><br><papersize>: paper size (L size) <papertype>: photo paper <date>: date print = ON <layout>: borderless print </layout></date></papertype></papersize></capability><printlist><br><image>: image of Handlel <date date></date></image></printlist></job><br><br>
(B)	Print six images of Handlel to Handle6 on L-size<br>
photo paper in 2 x 2 layout<br><?XML versionsH1.0" encoding=UTF-16"?><br><command><br><job><br><capability><br><papersize>: paper size (L size)<br><papertype>: photo paper<br><date>: date print = OFF<br><layout>: layout 2x2<br></layout></date></papertype></papersize></capability><br><printlist><br><image><br><image><br><image><br><image><br><image><br><image>: designate images of Handlel to<br>
Handles<br></image></image></image></image></image></image></printlist><br></job><br>
(C)	Print based on image selection and paper<br>
size/layout setup based on DPOF file designated by<br>
Handlel<br><?XML version*"1.0" encoding=UTF-16"?><br><br><job><br><br><printlist><br><image>: Handlel = DPOF file<br></image></printlist><br></job><br>
(D) Print based on photo selection and setup based on<br>
DPOF file designated by Handlel on L-size photo paper<br>
in 2 x 2 layout<br><?XML version*"1.0" encoding=UTF-16"?><br><br><job><br><capability><br><papersize>: paper size (L size)<br><papertype>: photo paper<br><date>: date print = OFF<br><layout>: layout 2x2<br></layout></date></papertype></papersize></capability><br><printlist><br><image>: Handlel = DPOF file<br></image></printlist><br></job><br>
[Description of Flow of CDPS "Standard" Procedure]<br>
Fig. 16 is a diagram for explaining the flow of basic processes in the CDPS according to this embodiment.  In Fig. 16, CDPS functions exchanged among the aforementioned functions 800 to 803 are time-serially listed from top down.  In Fig. 16, positions "A", "B" , "C", and "D" on the broken lines<br><br>
indicate separation positions of function assignment, which seem typical. Also, the same reference numerals in Fig. 16 denote parts common to those in Fig. 8 above, and a description thereof will be omitted.<br>
When the aforementioned CDPS initialize process, 800 of the PD printer 1000 notifies the DSC 3012 of transition to the CDPS mode (804), the DSC 3012 informs the PD printer 1000 of levels ("standard", "extended", and supported functions) (821) supported by the DSC 3012 in response to that notification. Based on these levels, the PD printer 1000 determines which of the DSC 3012 and PD printer 1000 implements each of the aforementioned functions 800 to 803, and sends the determination result to the DSC 3012 (822).<br>
Reference numeral 823 denotes a request of a data list of image data stored in the storage device 811, which is sent from the operation controller 801 to the storage controller 802; and numeral 824 denotes data read out from the storage device 811 by the storage controller 802 in response to that request.  Then, the storage controller 802 sends the list data to the operation controller 801 (805). A print mode and an image to be printed are selected by the operation of the user 812 to generate a print job, which is sent to the operation controller 801 (825). The operation controller 801 generates an output setting instruction "CDPS_Job" based on instructions of the user 812 input<br><br>
via the generated UI menu, and sends it to the print controller 803 (808). The print controller 803 requests the storage controller 802 of that image data (826). As a result, image data is read out from the storage device 811 (827), and an image file "JobData" required for a print process is sent from the storage controller 802 to the print controller 803 (806). The print controller 803 executes an image process and the like to generate print data, and sends that print data to the print device 810 to execute the print process (828).<br>
If an error has occurred during the print process, error information is sent from the print controller 803 to the operation controller 801 (829).  If the user designates "print abort" or "print continue" with respect to this error (831), for example, a "print abort" command is sent from the operation controller 801 to the print controller 803 in correspondence with that designation (830) (this command is shown in Fig. 15A) . The print controller 803 notifies the operation controller 801 of the end of the print job (832).<br>
Fig. 17 is a diagram for explaining a case wherein the DSC 3012 handles the operation controller 801 and storage controller 802, and the PD printer 1000 handles the print controller 803.  In this case, the separation position of function assignment is "C" in Fig. 16 above. Note that PTP connection is exemplified<br><br>
in this case. However, the same applies to TCP/IP connection or the like if the operation controller 801 and storage controller 802 of the DSC 3012 are used.<br>
In this case, the PD printer 1000 informs that the DSC 3012 implements the operation controller 801 and storage controller 802 of the functions 800 to 803, and the PD printer 1000 implements the print controller 803 (822). As a result, the function assignment between the DSC 3012 and PD printer 1000 is determined, as shown in Fig. 17. In Fig. 17, the same reference numerals denote processes common to those in Fig. 16, and a description thereof will be omitted.<br>
Fig. 18 is a diagram for explaining a case wherein the storage device 811 of the DSC 3012 is used as Mass Storage", and the PD printer 1000 handles the operation controller 801, storage controller 802, and print controller 803.  In this case, the separation position of function assignment is "A" in Fig. 16 above. Note that PTP connection is exemplified in this case. However, the same applies to TCP/IP connection or the like if the operation controller 801 and storage controller 802 of the DSC 3012 are used.<br>
In this case, the PD printer 1000 informs that the printer 1000 implements all of the functions 800 to 803 (822). As a result, the function assignment between the DSC 3012 and PD printer 1000 is determined, as shown in Fig. 18.  In Fig. 18, the same reference<br><br>
numerals denote processes common to those in Fig. 16, and a description thereof will be omitted.<br>
Note that the same applies to other connections such as PTP and the like if the resources of the DSC 3012 are not used at all. Also, the same applies to the case wherein the DSC 3012 has no CDPS initialize function 800 (CDPS Initialize) (a model which is incompatible to the. CDPS).<br>
Implementation examples of the aforementioned service function commands in the CDPS will be explained below.<br>
[Implementation Example of Print Service Function by PTP]<br><cdps service discovery function><br>
Fig. 19 depicts a chart for explaining the procedure of the CDPS discovery procedure.<br>
When the PD printer 1000 and DSC 3012 are physically connected, and the system enters in the PTP, the PD printer 1000 transmits GetDeviceInfo to the DSC 3012 (1400) to request it to send information associated with objects held by the DSC.  In response to this command, the DSC 3012 transmits information associated with objects held by itself to the PD printer 1000 using DevicelnfoDataSet. The PD printer 1000 issues a start request of a procedure for assigning the DSC 3012 as a resource and to assign<br><br>
handles to data objects as needed, and for executing a special initialization process using OpenSession (1402). If the DSC 3012 returns an affirmative response (OK), a PTP communication starts. When the PD printer 1000 requests the DSC 3012 to send all handles in a script format (Storage ID: FFFFFF, Object Type: Script) (1403), the DSC 3012 returns all handle lists held by it (1404). The PD printer 1000 acquires information of the i-th object handle (1405, 1406).  If this object contains a keyword (e.g., "(Marco)") indicating identification of the DSC 3012, transmission of object information from the PD printer 1000 is designated (SendObjectlnfo) (1407). Upon reception of an affirmative response (OK) in response to this designation, the PD printer 1000 transmits object information to the DSC 3012 using SendObject. Note that this object contains, e.g., "(Polo)" as a response keyword to the aforementioned keyword.<br>
In this manner, the PD printer 1000 and DSC 3012 can recognize each other's connection partners and, after that, the CDPS procedure can start. The transport layer that can exchange files in this way can reliably exchange keywords. That is, keywords can be exchanged without adding unique commands or the like to the CDFS- of this embodiment. Note that the keywords are not limited to the aforementioned examples, and an identical keyword may be used.  In order to shorten the<br><br>
negotiation time using keywords, the time required to confirm each others1 devices can be shortened by setting the keyword in the first handle (i = 1) in the script format.<br>
Fig. 20 is a chart for explaining the subsequent part of the CDPS_„ServiceDiscovery procedure.<br>
The PD printer 1000 informs the DSC 3012 of the presence of object information to be sent to it using SendObjectlnfo (1501) so as to notify the procedures "standard procedure" and "extended procedure" that: the PD printer 1000 supports. Upon reception of an affirmative response (OK) from the DSC 3012 in response to this command, the PD printer sends a message indicating that it is ready to transmit an object to the DSC 3012 using SendObject (1502), and then transmits information ("standard"/"extended") associated with the procedures supported by the PD printer 1000 using ObjectData (1503). The DSC 3012 sends to the PD printer 1000 a message indicating that it wants to launch a GetObject operation (transit to the push mode) (1504).  In response to this message, when the PD printer 1000 sends a message indicating that it is ready to receive information associated with object information (GetObjectlnfo) (1505), the DSC 3012 sends the object information to the PD printer 1000 using ObjectlnfoDataset (1506). When object information itself is requested by designating that<br><br>
object information (1507), the DSC 3012 informs the PD printer 1000 of procedures ("standard", "extended", and the like) that the DSC 3012 uses by Object Dataset (1508). The return value in this case is "standard" or "extended".<br>
In this manner, the DSC 3012 can designate an image print mode of the PD printer 1000. <cdps_service><br>
Fig. 21 is a chart for explaining the printer function notification procedure in the CDPS according to this embodiment.<br>
In this procedure, the PD printer 1000 informs the DSC 3012 of the presence of object information to be sent to it (1600), and notifies the DSC 3012 of the printer functions using SendObject and ObjectData. As a result, the DSC acquires the printer functions (1601). <cdps__jobdata><br>
Fig. 22 is a chart for explaining an implementation example, using the PTP architecture, of the communication procedure when the PD printer 1000 acquires image data (JPEG image) held in the DSC 3012 (CDPS_JobData) in the CDPS according to this embodiment.<br>
When the PD printer 1000 requests the DSC 3012 of information associated with an object held by the DSC 3012 (or storage) (1800), the DSC 3"0i2 sends information (Object Dataset) associated with that object to the PD printer 1000 (1801). When the PD<br><br>
printer 1000 issues an acquisition request (GetObject) by designating that object (1802), the DSC 3012 transmits the requested image file (Object Dataset) to the PD printer 1000 (1803).  In this way, the PD printer 1000 can acquire a desired image file from the DSC 3012.  In this case, the return values in this case are "Data_Size" and "Image_Data". <cdps_pagestart><br>
Fig. 23 is a chart for explaining the procedure of the print start notification process in the CDPS according to this embodiment.<br>
In this procedure, the PD printer 1000 informs the DSC 3012 of the presence of object information (print start message) to be sent to it (1700), and notifies the DSC 3012 of print start using SendObject and ObjectData (1701), <cdps_pageend><br>
Fig. 24 is a chart for explaining an implementation example, using the PTP architecture, of the communication procedure that allows the PD printer 1000 to notify the DSC 3012 of a print process for one page in the CDPS according to this embodiment.<br>
In this procedure, the PD printer 1000 notifies the DSC 3012 of the presence of object information (print end message) to be sent to it (1910), and notifies the DSC 3012 of print end for one page using SendObject and ObjectData (1911).<br><br><cdps_jobend><br>
Fig. 25 is a chart for explaining an implementation example, using the PTP architecture, of the communication procedure that allows the PD printer 1000 to notify the DSC 3012 of the end of a print job in the CDPS according to this embodiment.<br>
The PD printer 1000 notifies the DSC 3012 of the<br>
end of a print process for one page (1920), and<br>
notifies the DSC 3012 of the end of a print job (1921).<br><cdps_error>	- .<br>
Fig. 26 is a chart for explaining an implementation example, using the PTP architecture, of the communication procedure that allows the PD printer 1000 to notify the DSC 3012 of error status and the like in the CDPS according to this embodiment.<br>
The PD printer 1000 notifies the DSC 3012 of the presence of object information (error information) to be sent to it using SendObjectlnfo (1930). Upon reception of an affirmative response (OK) from the DSC 3012, the PD printer 1000 transmits status information of an error or the like using SendObject and ObjectData (1931) . <cdps_job><br>
Fig. 27 is a chart for explaining an implementation example, using the PTP architecture, of the communication procedure that allows the DSC 3012 (operation controller) to notify the PD printer 1000 of<br><br>
the start of a print job in the CDPS according to this embodiment.<br>
The DSC 3012 sends RequestObjectTransfer to the PD printer 1000 to notify it that the DSC 3012 is to issue an instruction (2200). When the PD printer 1000 issues GetObjectInfo in response to this command (2201), the DSC 3012 transmits information associated with object information to be transmitted. When the PD printer 1000 requests object information (GetObject: 2203) in response to this information, the DSC 3012 transmits Object Dataset (print instruction) (2204) , thus issuing a print command from the DSC 3012 to the PD printer 1000. <cdps_jobabort><br>
Fig. 28 is a chart for explaining an implementation example, using the PTP architecture, of the communication procedure that allows the DSC 3012 (operation controller) to issue a print abort command (CDPS_JobAbort) to the PD printer 1000 (print controller) in the CDPS according to this embodiment. <cdps_jobcontinue><br>
Fig. 29 is a chart for explaining an implementation example, using the PTP architecture, of the communication procedure that allows the DSC 3012 (operation controller) to issue a print restart command (CDPS_JobContinue) to the PD printer 1000 (print controller) in the CDPS according to this embodiment.<br><br>
In Figs. 28 and 29, after the same procedure as in Fig. 27 is executed, the DSC 3012 issues Object Dataset (print abort instruction) to the PD printer 1000 (2301 in Fig. 28), and issues Object Dataset (print continue instruction) to the PD printer 1000 (2401 in Fig. 29). <cdps_partialjobdata><br>
Fig. 30 is a chart for explaining an implementation example, using the PTP architecture, of the partial image acquisition communication procedure (option) when the PD printer 1000 (print controller) acquires image data (JPEG image) held by the DSC 3012 (storage) in the CDPS according to this embodiment.<br>
When the PD printer 1000 requests the DSC 3012 of information associated with an object held by the DSC 3012 (2420), the DSC 3012 sends information associated with that object (Object Dataset) to the PD printer 1000 (2421).  The PD printer 1000 then issues an acquisition request (GetObject) by designating that object (2422). Since this partial image acquisition function designates the number of bytes from the head of desired image data (offset) and the number of bytes of image data to be acquired (size), as described above, the DSC 3012 transmits partial image data of that requested image file (Object Dataset) to the PD printer 1000 (2423).  In this way, the PD printer 1000 can acquire desired partial image data from the DSC 3012.<br><br>
Note that the return values in this case are "Data_Size" and ,,Image_pata'f.<br>
Fig. 31 is a flow chart showing the process in the DSC 3012 or storage upon reception of the partial image acquisition function that allows the PD printer 1000 (print controller) to acquire image data (JPEG image) held by the DSC 3012 (storage) in the CDPS according to this embodiment.<br>
In step S21, the handle name of an image file .contained in <image> is acquired.  The flow advances to step S22 to acquire the number of bytes of an offset from the head from "offset".  In step S23, the number of bytes of image data to be acquired is acquired from "size" . The flow then advances to step S24 to read out image data with the designated number of bytes from the designated offset position of the image file in the storage device 811. The flow advances to step S25 to output the readout partial image data to the PD printer 1000 or print controller as the request source.<br>
In the above description, the PTP architecture is used on USB of the physical layer. Examples using other architectures will be explained below. [MSC Architecture]<br>
An example using"* MSC (Mass Storage Class) will be described below.  In this example, the leftmost interfaces in Fig. 7 are used.  In this case, the UI of<br><br>
the PD printer 1000 is used in place of the UI of the DSC 3012. Hence, all of the aforementioned operation controller 801, storage controller 802, and print controller 803 are assigned to the PD printer 1000. Basically, using the file system of the PD printer 1000, the aforementioned commands GetJobData,<br>
GetPartialJobData, and GetDataList (by the file system) are executed using Open, Read, Close of an image file, directory manipulations (file manipulations), and the like. <cdps_servicediscovery><br>
In this case, the PD printer 1000 transmits CDPS_ServiceDiscovery to the DSC 3012.  Even when the DSC 3012 has no CDPS initialize function mentioned above, if no response to this command returns, the PD printer 1000 automatically determines that reception is established in "standard" and starts MSC "bulk only". Then, the PD printer 1000 determines that it manages the operation controller 801, storage controller 802, and print controller 803, and sets CDPS_GetPartialData to "supported". <cdps_jobdata><br>
The PD printer 1000 acquires image data designated by a print command.  In this case, the PD printer 1000 issues "Receive Command" to the DSC 3012, which transmits image data "Image Data" to the PD printer 1000 in response to that command.  In practice,<br><br>
image data in the storage device 811 is acquired using a SCSI command via the file system built on the PD printer 1000. Note that the return values at this time are "Data__Size" and "Image_DataM. <cdps_partialjobdata><br>
This procedure is basically the same as<br>
MCDPS_JobData" mentioned above, except that partial<br>
image data is to be acquired. Note that the return<br>
values in this case are also HData_Size" and<br>
"Image_Data".	. .<br>
[Bluetooth Architecture]<br>
An example using Bluetooth will be explained below. The rightmost interfaces in Fig. 7 are used. In this embodiment, agreements of upper application layers are described using Bluetooth Still Image Profile that can establish a session between two devices as upper communication layers of the physical layers so as to exchange objects.<br>
In case of this Bluetooth Still Image Profile, another connection in the direction of DSC (Host) -* PD printer (Slave) is formed in addition to the aforementioned connection, and information is transmitted by issuing a normal "Putlmage" command from the DSC.<br>
For the sake of simplicity, assume that connection 1: PD printer (host) -* DSC (slave) connection 2: PD printer (slave) -* DSC (host)<br><br>
The protocols of respective service functions in Bluetooth will be explained below. Since the service functions shown in Figs. 32 to 43 correspond to those shown in Figs. 19 to 30 above, they will be briefly explained. <cdps_servicediscovery><br>
Fig. 32 shows the protocol of the transition procedure to the CDPS in Bluetooth. As in Fig. 19, connection partners are recognized by keywords (Marco, Polo). The DSC 3012 notifies the support level of its UI in addition to this keyword (3200).  Based on this support level, the PD printer 1000 notifies the DSC 3012 of the UI to be used of one of the DSC and PD printer 1000 by appending this information to a keyword (3201). <cdps_servicediscovery><br>
Fig. 33 shows the subsequent part of the protocol of the transition procedure to the CDPS in Bluetooth, and a communication in the CDPS mode is established between the DSC 3012 and PD printer 1000. With this protocol, the PD printer notifies the DSC 3012 of the procedures ("standard", "extended") that the printer supports (3202), and the DSC 3012 notifies the PD printer 1000 of the procedure (e.g., "standard" that the DSC supports (3203). <cdps_service><br><br>
Fig. 34 is a chart for explaining the protocol of the notification procedure of the functions of the PD printer 1000 in Bluetooth. With this protocol, the PD printer 1000 notifies the DSC 3012 of the functions of the PD printer 1000 (3204). <cdps_jobdata><br>
Fig. 35 is a chart showing the protocol that allows the PD printer 1000 to acquire image data from the DSC 3012 based on a print command in Bluetooth. The printer 1000 requests the DSC 3012 to send image data by specifying an image file (3205).  The DSC 3012 transmits the requested image data to the printer 1000 (3206). The return values in this case are "Data Size" and "Image Data". <cdps_pagestart><br>
Fig. 36 shows the protocol that allows the PD printer 1000 to notify the DSC 3012 of print start in Bluetooth, and print start is notified using Image Object Data, <cdps_pageend><br>
Fig. 37 is a chart showing the protocol that allows the PD printer 1000 to notify the DSC 3012 of print end for one page in Bluetooth, and the printer notifies print end using Image Object Data. <cdps_jobend><br>
Fig. 38 is a chart showing the protocol that allows the PD printer 1000 to notify the DSC 3012 of<br><br>
the end of a print job in Bluetooth, and the printer notifies the end of a print job using Image Object Data. <cdps_error><br>
Fig. 39 is a chart showing the protocol that allows the PD printer 1000 to notify the DSC 3012 of a printer error in Bluetooth, and the printer 1000 notifies a printer error using Image Object Data. <cdps_job><br>
Fig. 40 is a chart showing the protocol that allows the DSC 30*12 to issue a print command to the PD printer 1000 in Bluetooth. With this protocol, the DSC 3012 informs the printer 1000 that it is ready to issue an instruction (3210). The DSC 3012 then issues a print instruction to the printer 1000 (3211). <cdps_jobabort><br>
Fig. 41 is a chart showing the protocol that allows the DSC 3012 to issue a print abort command to the PD printer 1000 in Bluetooth. With this protocol, the DSC 3012 informs the printer 1000 that it is ready to issue an instruction (3210). The DSC 3012 then issues a print abort instruction to the printer 1000 (3212). <cdps_jobcontinue><br>
Fig. 42 is a chart showing the protocol that allows the DSC 3012 to issue a print restart command to the PD printer 1000 in Bluetooth. With this protocol, the DSC 3012 informs the printer 1000 that it is ready<br><br>
to issue an instruction (3210). The DSC 3012 then issues a print continue instruction to the printer 1000 (3213). <cdps_partialjobdata><br>
Fig. 43 is a chart showing the protocol that allows the PD printer 1000 to acquire partial image data from the DSC 3012 based on a print command.  The return values in this case are "Data Size" and "Image Data". The printer 1000 requests the property of an image file of the i-th handle (3214), and requests a partial image of that image file (3215).  In response to this request, the DSC 3012 transmits the requested partial image data to the printer 1000 (3216).<br>
Figs. 44A to 44C depict tables for explaining the support levels of the DSC 3012 and PD printer 1000, which serve as criteria upon determining how to assign various control functions (operation controller 801, storage controller 802, and print controller 803) mentioned above. Fig. 44A shows the support levels of the operation controller 801, Fig. 44B shows those of the storage controller 802, and Fig. 44C shows those of the print controller 803. Note that the DSC 3012 can set support levels "0" to "4", and the PD printer 1000 can set support levels "1" to "3".  If the DSC 3012 and PD printer 1000 have the same support level, which of functions is to be preferentially used is left to the discretion of the decision side.<br><br>
For example, in the support levels of the operation controller 801 in Fig. 44A, level "4" claims use of the function of the DSC 3012, and level "3" indicates that the viewer and operation buttons are equipped.  Level "2" indicates that only operation buttons are equipped, level "1" indicates that only minimum required functions are provided, and level "0" indicates that this function is not supported.<br>
In the support levels of the storage controller 802 in Fig, 44B, level "4" claims use of the-function of the DSC 3012, and level "3" indicates that a handle function is equipped.  Level "2" indicates that an image file system is provided, level "1" indicates that only a function of accessing the storage device 811 is supported, and level "0" indicates that this function is not supported.<br>
Furthermore, in the support levels of the print controller 803 shown in Fig. 44C, level "4" claims use of the function of the DSC 3012, and level "3" indicates that a rendering function is equipped.  Level "2" indicates that only a halftoning process is supported, level "1" indicates that only a JPEG decoding function is supported, and level "0" indicates that this function is not supported.<br>
The functions of the PD printer 1000 and DSC 3012 presented in this way are compared, the most efficient one of the functions is determined for each function,<br><br>
and function assignments shown in Figs. 12 to 14, Fig. 17, and Fig. 18 above are implemented. [First Embodiment]<br>
A print system formed by the DSC 3012 and PD printer 1000 according to the first embodiment of the present invention will be exemplified below.  In the print system according to the first embodiment, a case will be explained below wherein the print process based on the CDPS according to this embodiment is executed using a. DPOF file stored in the DSC 3012. Note that this DPOF file may be generated using operation buttons and the switches 3103 on the basis of the contents displayed on the display unit 2700 of the DSC 3012, or it may be generated based on operations at the PC 3010 while the PC 3010 and DSC 3012 are connected.  In either case, this DPOF file is stored in the memory card 3019 together with image data.<br>
Fig. 45 shows a data example of the aforementioned DPOF file.<br>
In case of Fig. 45, images to be printed are described in two lines indicated by:<br>
../DCIM/105GANON/IMG_0572.JPG<br>
../DCIM/105GANON/IMG_0573.JPG<br>
This means that a directory "DCIM" includes a<br>
y<br>
subdirectory "105GANON", and image data with a file name " IMG_0 572 . JPG" or " IMG_0573 . JPG" in that subdirectory is designated as an image to be printed.<br><br>
Fig. 46 is a flow chart for explaining the process in the DSC 3012 when the DSC 3012 according to the first embodiment issues a print instruction to the PD printer 1000.<br>
In step S400, a DPOF file is generated, as described above. The flow advances to step S401, and the generated DPOF file is stored in the memory card. Note that this DPOF file is normally generated while the DSC 3012 is offline (it is connected to neither the PC nor the printer) .  It is checked in step S402 if the DSC 3012 is connected to the printer.  If YES in step S402, the flow advances to step S403 to check if the connected printer is compatible to the aforementioned CDPS.  If NO in step S403, the flow advances to step S407, the DPOF file stored in the memory card 3109 is transmitted to the printer so as to instruct it to execute a print process based on that DPOF file.<br>
On the other hand, if it is determined in step S403 that the printer is compatible to the CDPS (assume that the aforementioned PD printer 1000 is connected in this case), the flow advances to step S404 to execute the CDPS initialize process, thereby acquiring Capability from the printer. The flow advances to step S405 to designate a print method which is not designated in the DPOF file and is to be used by the operator with reference to the functions of the connected PD printer 1000.  This print method includes.<br><br>
for example, the paper type, print quality, layout print, and the like used in the print process. Upon completion of the designation inputs of the print method, if a print start instruction is issued using the operation button 3103, the flow advances to step S406 to send an image selected by the DPOF file stored in the memory card and the contents that instruct its print method to the PD printer 1000, thereby executing a print process.<br>
Note that a default print condition can be set in step S405 in addition to the functions of the printer.<br>
With this method, when the user takes photos using this DSC 3012 while, e.g., traveling, he or she sets photos to be output and their numbers of prints and stores them in the memory card 3109. After reaching home, the user can set the print method in correspondence with the functions of the connected printer, and can print photos.<br>
According to this method, since the DSC 3012 need only send images designated by the DPOF file from the stored image information, and a print method corresponding to the connected printer to that printer, the arrangement of the DSC 3012 can be simplified. [Modification of First Embodiment]<br>
In this embodiment, a print method setup process can be completed by transferring only the CDPS print designation since a DPOF file used in a print process<br><br>
is designated in CDPS_job as a print designation command of the CDPS.  In this way, the relationship between selection of an image and its print method can become more obvious than the above first embodiment.<br>
In this case, the process of the DSC can be executed in substantially the same manner as in the flow chart shown in Fig. 46, but the process in step S406 is slightly different. That is, in step S406 CDPS commands are generated based on the print instruction input in step S405, and a DPOF file to be printed is set in a handle used to designate an image.<br>
A practical example of such commands will be described below.<br>
An example of CDPS_job that prints on L-size paper in a 2 x 2 layout on the basis of a DPOF file designated by handle 1 will be described below.<br>
In the following description, a phrase on the right side of ":"   explains a command described in . <?XML version="1.0" encoding=UTF-16"?><job><br><capability><br><papersize>	: paper size (L size)<br><papertype>        : photo paper<br><date>     ' _       : date print = OFF<br><layout>	: layout 2x2<br></layout></date></papertype></papersize></capability><br><br><printlist><br><image>	: handlel = DPOF file<br></image></printlist><br></job><br>
In the aforementioned command sequence, <capability> designates the paper size, paper type, and date print except for layout, and the layout is generated by the DSC 3012 based on the capability of the PD printer 1000 and corresponds to a command of the CDPS. An image to be printed is designated by the DPOF file (<image>: handlel = DPOF file).<br>
In this manner, the CDPS according to this embodiment can be easily associated with the DPOF file. Note that the first embodiment is premised on that the PD printer 1000 have a decoding function of this DPOF file.<br>
A field of "DPOF file" may describe the file name of that DPOF file or directory information.<br>
The DPOF file itself is not an image file. When a reproduction apparatus such as a printer or the like recognizes that information sent as an image file is a DPOF file, it decodes the DPOF file, and recognizes a file name as image designation information described in that file.<br>
The printer requests the camera of a handle list, and recognizes a handle corresponding to the decoded file name.<br><br>
Thenr the printer requests the camera of image data using the recognized handle name corresponding to an image which is designated to be printed. [Second Embodiment]<br>
The second embodiment of the present invention will be described below.  In this embodiment, the DSC 3012 interprets a DPOF file, and sends a command sequence based on the aforementioned CDPS to the PD printer 1000.<br>
The process in this case will be described below with reference to the flow chart in Fig. 47.  Note that the same step numbers in Fig. 47 denote processes common to those in Fig. 46, and a description thereof will be omitted.  In Fig. 47, the processes in steps S400 to S405 and S407 are the same as- those in Fig. 46.<br>
If a print method which is compatible to the connected printer 1000 is input and designated in step S405, the flow advances to step S416, and a DPOF file stored in the memory card 3109 is read out and interpreted. Then, a CDPS job command formed by embedding image designation information which specifies an image selected by that DPOF file in a CDPS command sequence is generated. The flow then advances to step S418 to issue a print instruction to the PD printer on the basis of that CDPS job command.<br>
A practical example of such command will be described below.<br><br>
In the following description, a phrase on the right side of n:" explains a command described in .<br>
An example of CDPS_job that prints images (specified by the DPOF file) designated by handle 1 on L-size paper in a 2 x 2 layout will be described below. <?XML version="1.0" encoding=UTF-16"?><job><capability><br><br><papersize><br><br>
paper size (L size)<br><br><br><br><papertype><br><br>
photo paper<br><br><br><br><date><br><br>
date print = OFF<br><br><br><br><layout><br><br>
layout 2x2<br><br></layout></date></papertype></papersize></capability><printlist><br><br><br><br>
: handle of the first<br><br>
image designated in the DPOF file<br><br><image><br><br>
: handle of the second<br><br>
image designated in the DPOF file<br><br><image><br><br>
: handle of the N-th<br><br>
image designated in the DPOF file<br></image></image></printlist></job><br>
In this case, since the printer need only support CDPS commands, the arrangement of the printer can be<br>
simplified.<br><br>
If the print setups described in a DPOF file are different from those described in a CDPS script, whether the instructions of the DPOF file or CDPS are to be preferentially used may be designated.<br>
When the DPOF file is preferentially used, a print process that reflects the intention of the user who took photos and designated the print method can be realized. Conversely, when the setups based on the CDPS are preferentially used, a print process based on the functions of the. printer can be realized. [Third Embodiment]<br>
Fig. 48 is a flow chart for explaining the processes according to the third embodiment of the present invention, and shows processes after step S404 in the flow chart of Fig. 46 above.<br>
In this case, after the CDPS compatibility is confirmed, and the CDPS initialize process is executed in step S404, it is determined in step S480 which of an instruction based on the DPOF file or the print method set based on capability is used to make a print process. The CDPS or DPOF to be used may be set as a default, or may be designated on a menu window or the like of the display unit 2700 using the operation button 3103.<br>
On the other hand, DPOF is interpreted and it may be selected at step S480, either an instruction by DPOF or a printing method determined by CDPS based on capability, in accordance with the contents of the DPOF.<br><br>
In this case, if the number of images to be printed according to DPOF is larger than a predetermined number, then the process may advance to step S482, or if the number of images to be printed according to DPOF is less than the predetermined number, then the process may advance to step S481.  This is effective in a case where the number of images to be printed at once is limited in CDPS.<br>
Further, if DPOF includes print conditions which do not satisfy with the capacity of the printer described in the capability, then the process may advance to step S481, or if not, the process may advance to step S482. This is effective in a case where a conversion process is performed so as to match DPOF with CDPS.<br>
When the print process is implemented using the CDPS, the flow advances to step S482, and data required to designate a print method by the PD printer 1000 are input as in step S405 above.  It is checked if a CDPS script generated in this way is inconsistent with a DPOF file stored in the memory card 3109.  If no inconsistency is found, the flow advances to step S484 to generate a CDPS command formed by embedding the DPOF file in the CDPS (the aforementioned first or second<br>
V<br>
embodiment).  In step S485, a print instruction based on that command is issued to the printer.<br><br>
On the other hand, if it is determined in step S483 that some inconsistency is found, the flow advances to step S486 to display a warning message indicating that inconsistency on the display unit 2700. The control waits in step S487 until one of the contents designated by the CDPS and those designated by the DPOF file is selected. After the selection, the selected print instruction contents are set in step S488.<br>
If it is determined in step S480 that the print process is to be implemented using the DPOF file, the flow advances to step S481 to send that DPOF file to the PD printer 1000, thus executing the print process.<br>
As described above, an image against the user's intention can be prevented from being printed due to inconsistency between the print setup contents in the originally stored DPOF file and those based on items input by connecting the printer,<br>
In the above embodiment, when a print process is executed based on the DPOF file, a message indicating that the print process based on the DPOF is in progress may be displayed on the display unit 2700 of the DSC 3012. Conversely, when a print process based on the print condition of only the CDPS is in progress, a message indicating of executing based on the CDPS may be displayed on the display unit 2700. Also, when a print process based on the print conditions of both the<br><br>
DPOF and CDPS is in progress, a message indicating of executing based on both the DPOF and CDPS may be displayed.<br>
Such display may be switched every time one page is printed.  In this way, different print conditions for respective pages (or images) can be coped with.<br>
A display that allows the user to identify whether or not the contents of the DPOF are reflected on the print condition used in the current print process may be made on the display unit 2700.<br>
The functional arrangements in the above embodiments will be described below with reference to Figs. 49A and 49B.<br>
Fig. 49A shows the arrangement according to the first embodiment.  The DSC 3012 stores a DPOF file 490. After the DSC 3012 in this state is connected to the PD printer 1000 and it is determined that they are CDPS compatible devices, a CDPS job command 491 is generated based on a new print method instruction input by a user in accordance with the print functions of the PD printer 1000, A print instruction in a format that combines the DPOF file 490 and CDPS job command 491 is transmitted to the PD printer 1000.<br>
In the PD printer 1000, a CDPS interpreter 492 (which is normally equipped since"the printer is CDPS compatible) and DPOF interpreter 493 interpret the<br><br>
contents transmitted from the DSC 3012, and a print process based on the interpretation results is executed.<br>
Fig. 49B shows the arrangement according to the second embodiment. As in Fig. 49A, the DPOF file 490 is stored in the DSC 3012. After the DSC 3012 in this state is connected to the PD printer 1000 and it is determined that they are CDPS compatible devices, a CDPS command sequence 491 is generated based on a new print method instruction input by the user in accordance with the print functions of the PD printer 1000. Upon sending a print instruction to the PD printer 1000, since the PD printer 1000 has no DPOF interpreter 493, the DSC interprets the DPOF file 490 to generate a CDPS job command 491a formed by embedding a handle that indicates an image designated by the DPOF file 490 in the CDPS command sequence, and sends that CDPS job command 491a to the PD printer 1000.<br>
The PD printer 1000 does not comprise any DPOF interpreter 493, and the CDPS interpreter 492 (which is normally equipped since the printer is CDPS compatible) interprets the contents sent from the DSC 3012, thus executing the print process based on the interpretation result.<br>
Fig. 50 is a flow chart for explaining the print process in the PD printer 1000 of the first and second embodiments described above. Note that an initial<br><br>
communication establishment process upon connection of the DSC has already been done.<br>
In step S511, a DPOF file, a CDPS script containing DPOF, or a CDPS script is acquired from the &gt;  connected DSC 3012.  The flow advances to step S512 to interpret the file or script acquired in step S511, thus acquiring print conditions and the handle of an image to be printed.  In step S513, data (image data) indicated by that handle is requested (this process can be implemented by a GetObject command).  Image data sent in response to this request is received (step S514), and a print process is executed (step S515). The processes in step S512 and subsequent steps are repeated until it is determined that the aforementioned process are complete for all the requests.<br>
As a result of the aforementioned process, even in a situation in which the digital camera directly communicates with the printer, only images that the user wants can be printed.<br>
Note that the present invention may be applied to either a system constituted by a plurality of devices (e.g., a host computer, interface device, reader, printer, and the like), or an apparatus consisting of a single equipment (e.g., a copying machine, facsimile apparatus, or the like).<br>
The objects of the present invention are also achieved by supplying a storage medium (or recording<br><br>
medium), which records a program code of a software program that can implement the functions of the above-mentioned embodiments to the system or apparatus, and reading out and executing the program code stored in the storage medium by a computer (or a CPU or MPU) of the system or apparatus.  In this case, the program code itself read out from the storage medium implements the functions of the above-mentioned embodiments, and the storage medium which stores the program code constitutes the present invention. The functions of the above-mentioned embodiments may be implemented not only by executing the readout program code by the computer but also by some or all of actual processing operations executed by an operating system (OS) running on the computer on the basis of an instruction of the program code.<br>
Furthermore, the functions of the above-mentioned embodiments may be implemented by some or all of actual processing operations executed by a CPU or the like arranged in a function extension card or a function extension unit, which is inserted in or connected to the computer, after the program code read out from the storage medium is written in a memory of the extension card or unit. When the present invention is applied to the storage medium, that storage medium stores the program codes corresponding to the aforementioned flow charts.<br><br>
As described above, according to this embodiment, the PD printer is set as a USB host, and the DSC is set as a slave.  Prior to the print operation, functions required for a photo direct print process are allotted and assigned between the PD printer and DSC to determine an optimal print mode or a desired print mode on the DSC side so as to make a print process. Upon assigning the functions, when, for example, the DSC 3012 does not support the CDPS itself, it is impossible to notify the PD printer 1000 of the support levels of the functions 800 to 803 of the DSC 3012 in step Sll in Fig. 11, Even in such case, when the support levels of the functions 800 to 803 of the DSC 3012 are determined as zero, and all of these functions 800 to 803 are supported by the PD printer 1000 side, a direct print process can be done even with a CDPS incompatible DSC 3012 by essentially commonly using the CDPS resources. This process for "determining the support levels as zero" may be implemented in any of the layers in Fig. 7.<br>
In this manner, by commonly using the resources on the image supply side and image output side, a short developing period, low cost, a reduction of resources, high reliability, and the like can be expected upon implementing direct print processes with a compatible device and incompatible device.<br>
In this embodiment, the PD printer is set as a USB host, and the DSC is set as a slave. However, the<br><br>
present invention is not limited to such specific combination, and either device may serve as a host/slave as long as function assignment as the gist of the present invention can be suitably attained.<br>
Since Capability information and various, instructions are exchanged using scripts, easy export to other communication protocols can be assured, thus allowing easy standardization.<br>
The communication procedure between devices is implemented using a versatile file and format, and a communication procedure layer of the application according to this embodiment is specified in the upper layer, thus specifying the communication procedure independently of various interface specifications.<br>
In the recording system of this embodiment, since many unspecified devices are connected to each other, they have various interfaces. Under the circumstance, information must be changed using a specification which is normally supported by various interfaces. Hence, since function information which must be exchanged between these devices is implemented by "file transfer" or "object transfer", various interface specifications can be easily matched.<br>
As the image supply device, a PDA, portable phone, television, video device, image storage device, and the like may be used in addition to the digital camera.<br><br>
The versatile interface includes connection to the Internet or the like in addition to the aforementioned USB, IEEE1394, and the like.<br>
The present invention is not limited to the above embodiments and various changes and modifications can be made within the spirit and scope of the present invention. Therefore, to apprise the public of the scope of the present invention, the following claims are made.<br><br><br><br><br>
CLAIMS<br>
1. A recording system in which an image supply device and a recording apparatus are directly connected, and data is supplied from said image supply device to said recording apparatus to attain a recording process, characterized in that<br>
said image supply device comprises:<br>
a storage medium for storing image data and a first recording condition associated with a recording -process of the image data;<br>
acquisition means for acquiring information associated with a function of said recording apparatus upon connection of said recording apparatus;<br>
setting means for setting a second recording condition associated with the recording process of the image data on the basis of the information associated with the function, which is acquired by said acquisition means; and<br>
recording instruction means for issuing a recording instruction to said recording apparatus on the basis of the first and second recording conditions, and<br>
said recording apparatus comprises:<br>
recording control means for controlling to acquire image data stored in said storage medium in accordance with the recording conditions designated by<br><br>
said recording instruction means and to recording the image data.<br>
2.	The system according to claim 1, characterized in that said image supply device further comprises selection means for selecting one of the first and second recording conditions to be preferentially used to issue a recording instruction to said recording apparatus.<br>
3.	The system according to claim 1, characterized in that said image supply device further comprises:<br>
comparison means for comparing the first and second recording conditions; and<br>
recording condition selection means for, when it is determined as a result of comparison by said comparison means that the first and second recording conditions are different from each other, selecting one of the first and second recording conditions.<br>
4.	The system according to claim 1, characterized in<br>
that said image supply device further comprises:<br>
comparison means for comparing the first and second recording conditions; and<br>
warning display means for, when it is determined as a result of comparison by said comparison means that<br><br>
the first and second recording conditions are different from each other, displaying a warning.<br>
5.	The system according to claim 1, characterized in that the first recording condition is designated by a DPOF.<br>
6.	The system according to claim 5, characterized in that said image supply device comprises input means for inputting the first recording condition, and means for generating the DPOF on the basis of information input by said input means.<br>
7.	The system according to claim 1, characterized in that said recording instruction means generates a command sequence for the second recording condition, which includes image data selected by the first recording condition in the second recording condition.<br>
8.	The system according to claim 1, characterized in that the second recording condition is a recording condition based on a common protocol between said image supply device and said recording apparatus.<br>
-9". An image supply device characterized by comprising:<br><br>
a storage medium for storing image data and a first recording condition associated with a recording process of the image data;<br>
acquisition means for acquiring information associated with a function of a recording apparatus upon connection of the recording apparatus;<br>
setting means for setting a second recording condition associated with the recording process of the image data on the basis of the information associated with the function, which is acquired by said acquisition means; and<br>
recording instruction means for issuing a recording instruction to the recording apparatus on the basis of the first and second recording conditions.<br>
10.	The device according to claim 9, characterized by further comprising selection means for selecting one of the first and second recording conditions to be preferentially used to issue a recording instruction to said recording apparatus.<br>
11.	The device according to claim 9, characterized by further comprising comparison means for comparing the first and second recording conditions, and recording condition selection means for, when it is determined as a result of comparison by said comparison means that the first and second recording conditions are different<br><br>
from each other, selecting one of the first and second recording conditions.<br>
12.	The device according to claim 9, characterized by further comprising comparison means for comparing the first and second recording conditions, and warning display means for, when it is determined as a result of comparison by said comparison means that the first and second recording conditions are different from each other, displaying a warning.<br>
13.	The device according to claim 9, characterized in that the first recording condition is designated by a DPOF.<br>
14.	The device according to claim 13, characterized by further comprising input means for inputting the first recording condition, and means for generating the DPOF on the basis of information input by said input means.<br>
15.	The device according to claim 9, characterized in that said recording instruction means generates a command sequence for the second recording condition, which includes image data selected by the first recording condition in the"second recording condition.<br><br><br><br>
a recording control step of controlling to acquire image data stored in the storage medium in accordance with the recording conditions designated in the recording instruction step and to recording the image data.<br>
18.	The method according to claim 17, characterized by-further comprising a selection step of selecting one of the first and second recording conditions to be preferentially used to issue a recording instruction to the recording apparatus.<br>
19.	The method according to claim 17, characterized by further comprising a comparison step of comparing the first and second recording conditions; and a recording condition selection step of selecting, when it is determined as a result of comparison in the comparison step that the first and second recording conditions are different from each other, one of the first and second recording conditions.<br>
20.	The method according to claim 17, characterized by further comprising a comparison step of comparing the first and second recording conditions, and a warning display step of displaying, when it is determined as a result of comparison in the comparison step that the<br><br>
first and second recording conditions are different from each other, a warning.<br>
21.	The method according to claim 17, characterized in that the first recording condition is designated by a DPOF.<br>
22.	The method according to claim 21, characterized by-further comprising an input step of inputting the first recording condition, and a step of generating the DPOF on the basis of information input in the input step.<br>
23.	The method according to claim 17, characterized in<br>
that the recording instruction step includes a step of<br>
generating a command sequence for the second recording<br>
condition, which includes image data selected by the<br>
first recording condition in the second recording<br>
condition.<br>
24.	The method according to claim 17, characterized in<br>
that the second recording condition is a recording<br>
condition based on a common protocol between the image<br>
supply device and the recording apparatus.<br><br></image></capability></cdps_partialjobdata></cdps_jobcontinue></cdps_jobabort></cdps_job></cdps_error></cdps_jobend></cdps_pageend></cdps_pagestart></cdps_jobdata></cdps_service></cdps_servicediscovery></cdps_servicediscovery></cdps_partialjobdata></cdps_jobdata></cdps_servicediscovery></image></cdps_partialjobdata></cdps_jobcontinue></cdps_jobabort></cdps_job></cdps_error></cdps_jobend></cdps_pageend></cdps_pagestart></cdps__jobdata></cdps_service></cdps></command></practical></job></job></job></capability></format></size></offset></image></command></command></formats></extended></standard></print></storage></cdps></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTQyMC1jaGVucC0yMDA1ICBjbGFpbXMgZ3JhbnRlZC5wZGY=" target="_blank" style="word-wrap:break-word;">1420-chenp-2005  claims granted.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTQyMC1jaGVucC0yMDA1ICBkZXNjcmlwdGlvbiAoY29tcGxldGUpIGdyYW50ZWQucGRm" target="_blank" style="word-wrap:break-word;">1420-chenp-2005  description (complete) granted.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTQyMC1jaGVucC0yMDA1IGFic3RyYWN0IGdyYW50ZWQucGRm" target="_blank" style="word-wrap:break-word;">1420-chenp-2005 abstract granted.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTQyMC1jaGVucC0yMDA1IGRyYXdpbmdzIGdyYW50ZWQucGRm" target="_blank" style="word-wrap:break-word;">1420-chenp-2005 drawings granted.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTQyMC1jaGVucC0yMDA1LWFic3RyYWN0LnBkZg==" target="_blank" style="word-wrap:break-word;">1420-chenp-2005-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTQyMC1jaGVucC0yMDA1LWNsYWltcy5wZGY=" target="_blank" style="word-wrap:break-word;">1420-chenp-2005-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTQyMC1jaGVucC0yMDA1LWNvcnJlc3BvbmRuZWNlLW90aGVycy5wZGY=" target="_blank" style="word-wrap:break-word;">1420-chenp-2005-correspondnece-others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTQyMC1jaGVucC0yMDA1LWNvcnJlc3BvbmRuZWNlLXBvLnBkZg==" target="_blank" style="word-wrap:break-word;">1420-chenp-2005-correspondnece-po.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTQyMC1jaGVucC0yMDA1LWRlc2NyaXB0aW9uKGNvbXBsZXRlKS5wZGY=" target="_blank" style="word-wrap:break-word;">1420-chenp-2005-description(complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTQyMC1jaGVucC0yMDA1LWRyYXdpbmdzLnBkZg==" target="_blank" style="word-wrap:break-word;">1420-chenp-2005-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTQyMC1jaGVucC0yMDA1LWZvcm0gMS5wZGY=" target="_blank" style="word-wrap:break-word;">1420-chenp-2005-form 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTQyMC1jaGVucC0yMDA1LWZvcm0gMy5wZGY=" target="_blank" style="word-wrap:break-word;">1420-chenp-2005-form 3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTQyMC1jaGVucC0yMDA1LWZvcm0gNS5wZGY=" target="_blank" style="word-wrap:break-word;">1420-chenp-2005-form 5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTQyMC1jaGVucC0yMDA1LWZvcm0xOC5wZGY=" target="_blank" style="word-wrap:break-word;">1420-chenp-2005-form18.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTQyMC1jaGVucC0yMDA1LXBjdC5wZGY=" target="_blank" style="word-wrap:break-word;">1420-chenp-2005-pct.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="225880-adaptive-current-limiter-for-wireless-modem.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="225882-method-for-enabling-multiple-input-foci.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>225881</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>1420/CHENP/2005</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>02/2009</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>09-Jan-2009</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>01-Dec-2008</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>27-Jun-2005</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>CANON KABUSHIKI KAISHA</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>3-30-2, SHIMOMORUKO, OHTA-KU, TOKYO 146-8501,</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>AICHI, TAKAO</td>
											<td>C/O KABUSHIKI KAISHA, 3-30-2, SHIMOMORUKO, OHTA-KU, TOKYO,</td>
										</tr>
										<tr>
											<td>2</td>
											<td>SAKAMOTO, KAZUYA</td>
											<td>C/O KABUSHIKI KAISHA, 3-30-2, SHIMOMORUKO, OHTA-KU, TOKYO,</td>
										</tr>
										<tr>
											<td>3</td>
											<td>YANO, KENTARO</td>
											<td>C/O KABUSHIKI KAISHA, 3-30-2, SHIMOMORUKO, OHTA-KU, TOKYO,</td>
										</tr>
										<tr>
											<td>4</td>
											<td>GOTO, FUMIHIRO</td>
											<td>C/O KABUSHIKI KAISHA, 3-30-2, SHIMOMORUKO, OHTA-KU, TOKYO,</td>
										</tr>
										<tr>
											<td>5</td>
											<td>YAMADA, AKITOSHI</td>
											<td>C/O KABUSHIKI KAISHA, 3-30-2, SHIMOMORUKO, OHTA-KU, TOKYO,</td>
										</tr>
										<tr>
											<td>6</td>
											<td>MIKAMI, RURIKO</td>
											<td>C/O KABUSHIKI KAISHA, 3-30-2, SHIMOMORUKO, OHTA-KU, TOKYO,</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>B41J29/38</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/JP03/15094</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2003-11-26</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>2002-348783</td>
									<td>2002-11-29</td>
								    <td>Japan</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/225881-an-image-supply-device-a-recording-control-method-and-a-system by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 01:54:29 GMT -->
</html>
