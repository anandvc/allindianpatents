<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/219809-image-processing-system-and-medical-examination-apparatus-for-correlating-features-in-medical-images by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 11:26:32 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 219809:IMAGE PROCESSING SYSTEM AND MEDICAL EXAMINATION APPARATUS FOR CORRELATING FEATURES IN MEDICAL IMAGES</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">IMAGE PROCESSING SYSTEM AND MEDICAL EXAMINATION APPARATUS FOR CORRELATING FEATURES IN MEDICAL IMAGES</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>An image processing system, for correlating shapes in multi-dimensional images (m-D), comprising image datn processing means for estimating a similarity measure including computing means for: estimating two image signals (f(x), g(y)) representing shapes defined in respective windows (Wl, W2) in two multidimensional images; using a Herr/:ite Transform (HT) applied to both said image signals for performing an evaluation of two first sets of scalar valued Hermite coefficients (fl, gl, FI, GI), from which a combination yields a transformed set of scalar valued Hermite coefficients -|KIj; applying the inverse Hermite Transform (HT-1) to the transformed set of scalar valued Hermite coefficients {KI] to achieve the computation of a windowed correlation function (K(v)); and estimating the maximum of said windowed correlation function as the wanted similarity measure to correlate the shapes; and means for displaying the correlated shapes and/or processed images. This system has means for applying rotation, translation and scale chanse on the scalar valued Hermite coefficients of the image signals and the correlation function, instead of on the images. This system can correlate very complex shapes having parts that locally show different deformations from the global complex shapes. The invention also relates to an examination apparatus coupled to this image processing system.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td> <br><br>
"IMAGE PROCESSING SYSTEM AND MEDICAL EXAMINATION APPARATUS FOR<br>
CORRELATING FEATURES IN MEDICAL IMAGES"<br>
Description<br>
Field of the Invention<br>
The invention relates to an image processing system having data processing weans for correlating features in medical images and to a medical examination apparatus having such an image processing system. The present invention relates to an image processing method having data processing steps, to be used in the system and apparatus. The invention also relates to a computer program product having instructions for carrying out the method steps. The invention finds its application in the field of medical imaging and, more especially, in the field of ultrasound medical imaging.<br>
Matching one shape with respect to another is often needed in particular to compare medical images together. The amount of calculations needed is often problematic when dealing with 2D or 3D images or when a time sequence of such images has to be processed. The need for computationally efficient and accurate procedures is most acute when dealing with real-time applications.<br>
Background of the Invention<br>
An Image Registration Technique is already described by T. Netsch, P. Rosch, A. van Muiswinkel and J. Weese in the publication entitled "Towards real-time multi-modality 3-D medical image registration", Computer Vision, 2001. ICCV 2001, Proceedings of Eighth IEEE International Conference, vol.1, pp. 718 -725 (2001). This cited Reference compares Medical Image Registration based on "Mutual Information" and "Local Correlation. The "Local Correlation" based method produces better or superior results to those of "Mutual Information", and besides requires considerably fewer computations. The "Local Correlation" used in the method is a similarity measure of gray-levels within pairs of small regions, defined by "windows", in two images to be matched together. The registration then consists in loolcing for the transformation of one image that will result in the largest possible value of the sum of such "Local Correlations" over pairs of corresponding windows in the two images. Different strategies axe proposed in the cited publication to select the windows in each of the images being compared and to select which pairs of windows have to be compared. The choice of the strategy basically depends on the nature of transformation needed, called rigid or non-rigid transformations.<br>
'    Even though results obtained with the "Local Correlation" based technique are promising, computation times are still a problem when dealing with large image data, in<br><br>
particular in the case of image processing in real time and in 3-D. Furthermore, robustness has to be improved in particular when dealing with non-rigid registration. To avoid matching together local shapes, which are only partly similar, the windows to compare with each othci have to be large. In this case, each "Local Correlation" evaluation is computation intensive because it often involves image warping procedures requiring complex numerical algorithms.<br>
Summary of the Invention<br>
I*<br>
It is an object of the invention to propose an image processing system to quickly and accurately register one shape relative to another shape that are each defined within an image window. This system is applicable to march shapes observable in image signal or image data with any number of dimensions such as: ID signals, 2D, 3D, 2D+time, 3D+time images. The present system further allows of determining the image transformation that provides the best match between two shapes that are each defined within a window. It is a further object of the invention to provide a system that is especially appropriate to match two objects, having zomplex shapes. This system is applicable to set in correspondence one part of the complex ihape of a first image with one part of the complex shape of a second image in order to &gt;erform local correlation of said parts of the first and second complex shapes.<br>
The main means of this system are recited in Claim 1. Specific embodiments of the nvention are claimed in dependent Claims. An image processing method is proposed to be perated in this system.<br>
The medical image processing system can be implemented as a specially programmed eneral-purpose computer. The medical image processing system can be a workstation. The resent invention yet further provides a computer program product having a set of tstructions, when in use on a general-purpose computer, to cause the computer to perform Le steps of the method. The present invention still further provides a medical examination &gt;paratus incorporating medical image processing system putting into practice the method to ■ocess medical image data obtained by the imaging apparatus, and means for visualizing the lage data produced by the method. The visualization means typically consists of a monitor nnected to the data processing apparatus. Advantageously, the workstation and medical laging system of the present invention are interactive, allowing the user to influence clinical ta that are evaluated and/or the manner in which evaluated data is to be visualized.<br>
Brief Description of the Drawings. The invention and additional features, which may be optionally used to implement the mention to advantage, are described hereafter with reference to the schematic figures,<br>
iere:<br><br>
FIG.l is a functional block diagram of the correlation means of the imaging system of the invention;<br>
FIG.2A and FIG.2B illustrate the matching of two shapes using the correlation means;<br>
FIG.3 is a functional block diagram of a particular embodiment of the correlation means of the imaging system of the invention;<br>
FIG.4 is a functional block diagram of a medical examination apparatus using the imaging system of the invention.<br>
Description of Embodiments<br>
An image processing method is first described. This method has steps of correlating features, hereafter called shapes, in medical images. The invention further relates to a medical image processing system having means for carrying out this method and having viewing means to visualize images. The invention also relates to a medical examination apparatus having such an image processing system.<br>
The invention defines an image processing method to find a similarity measure between two shapes each defined within a Gaussian window. It provides the key components for quickly and accurately matching two objects having complex shapes in medical images. The processing method requires prior computation of "Hermite Transforms" of the shapes to match together within their respective windows. This operation allows of representing each of the shapes to be matched by a set of" scalar valued Hermite Transform coefficients". These scalar valued Hermite coefficients can be ordered in such a way that low-order coefficients code the coarse shape information whereas the high order coefficients code fine details. The new proposed processing method provides a way to compute the correlation between the shapes to match in a computationally simple manner by combining the scalar valued Hermite Transform coefficients related to the two shapes. This allows of computationally efficiently determining the best matching transformation. The computation burden is particularly small if coarse transformation estimates are required. It is particularly suited for a coarse to fine registration approach.<br>
In the new processing method, the class of transformations, which can be simultaneously dealt with, are:<br>
for any data dimension: translation, scale-change; and, in addition for data dimensions higher than ID: rotation, anisotropic scale change.<br>
This method is especially appropriate to match two objects having complex shapes. This method is applicable to set in correspondence one part of the complex shape of the first<br><br>
object with one part of the complex shape of the second object in order to perform a local correlation of said parts of the first and second complex shapes.<br>
The processing method is suited to match shapes in medical images, which either come from a single imaging modality, modalities, such as Ultrasound, X-ray, MRI or Nuclear Isotope Imaging, or to match together shapes observable in images of different modalities.<br>
The present invention preferably makes use of mathematical tools based on a polynomial functions such as the Hermite transform. Said Hermite Transform allows the analysis of a 1-dimensional image signal (1-D) or of a m-dimensional image signal (m-D) with m&gt;l within an isotropic Gaussian Window characterized by a size parameter a. This allows to represent the data by a set of" scalar valued Hermite Coefficients" which can be ordered in such a way that low order coefficients represent coarse, or low frequency, shape information within the Gaussian windows, whereas high order coefficients represent finer details, or high frequencies. Essentially, a Hermite Transform allows to reconstruct the original signal or image data within a Gaussian window with very small error near.the center of the Gaussian window, for example within a distance less than 2<r from the window center.></r>
The steps of the method of the invention are illustrated by the block-diagram of FIG.!. FIG.l is a block diagram for the computation of the windowed correlation function K(v) for image signals f(x) and g(v) respectively. Each of the two image signals is defined within a given Gaussian window Wl, W2 around center points 2^, and vc respectively. The sizes of the two windows Wl, W2 are defined by the scale parameters o\ and ai respectively. HT stands for taking the Hermite Transform to convert a scalar valued signal f(x) or g(x) into a set of scalar valued Hermite coefficients. This image processing method can apply to image signals depending on one independent variable corresponding to 1-dimensional (1-D) image or can apply to image signals having m independent variables corresponding to m- dimensional images (m-D images). The scalar valued Hermite coefficients depend on indices I, which are either simple non-negative integers in 1-D or multiple indices (vectors of m-integer indices). The boxes marked rotation Ri or R2 are applicable only for m&gt;L They convert the set of scalar valued Hermite coefficients into a new set corresponding to a rotated version of the corresponding image. The box marked HT"1 takes the scalar valued Hermite correlation coefficients Ki and produces the correlation function K(v) computed to a desired accuracy. Best matching occurs when the translation parameter v together with those defining relative scaling factors { Zk } as well as the rotations Ri and R2 of image signals f(x) and g(y) result in the highest value of K(v). The steps of this method are described hereafter in detail, comprising:<br><br>
In an image, definition of the image intensity fin function of the location of each image pixel or image voxel. So, the scalar value image intensity f is given as function of the real positional coordinates. In the present method of the invention, for correlating two shapes found in two images or in two parts of an image, two m-dimensional signals or image intensities f(x) and g(£), are respectively defined in steps referenced 11,21, with m&gt;l.<br>
Besides, a positive valued function is introduced to define a fuzzy observation window W in the image. Each signal or image intensity is defined within a respective window called first window Wl and second window W2. The windows Wl, W2 are respectively centered around points xc and vc. The windows are each defined by respective size parameters a\ and 02. A fuzzy Gaussian window function is associated with each of these windows, which is maximum near the window center and decays proportionally to exp(-(dq /aq)2) when moving away from the window center where dq is the distance from the respective window center, where subscript q is 1 for the first window and 2 for the second window.<br>
The present method has further steps to form a correlation algorithm as follows:<br>
Steps referenced 12, 22, for evaluation of the Hermite Transform, denoted by HT, applied to f(x) and g(y) each in its respective window Wl, W2. This operation results in two sets of scalar valued Hermite Transform coefficients { ft } and { gi } respectively, referenced 13,23, where each coefficient is labeled with an index I which is just a non-negative integer (i) for 1-D signals where m=l. or is a multiple index I=(»im) for multidimensional image data where m&gt;l.<br>
Steps referenced 14, 24 for operating rotations. For data dimension m larger than 1, the image signals f(x) and g(v) may be rotated around their respective window center xc&gt; yc using respectively (mxm) rotation matrices R1 and R2. According to the invention, these rotations are not operated on the original image signals f(x) and g(x). Instead, they are operated on the scalar valued Hermite Transformed Coefficients { fi } and { g 1} respectively making use of the fact their values convert under rotation like tensors.<br>
FIG.2 illustrates the principle to find rotation matrices R1 and R2 to apply to image f(x) and g(y) about their respective window center as part of the general processing method outlined in FIG.l. The case illustrated is for 2-D images (m=2) and when anisotropic scale change is required for matching the two shapes. Rotations R1 and R2 are those which align shape principal directions of respective image signals f(x) and g(y) with predefined coordinate axes.<br><br>
The optimum determination of the rotation matrices R\ and R.2 can be done in different ways according to the. application, in particular:<br>
If anisotropic scaling has to be introduced for matching the two shapes corresponding to the image signals f(x) to g(v), the principal directions of each shape within its window are determined and the images are rotated so that the principal directions coincide with the predefined axes of co-ordinates as schematically shown in FIG.2.<br>
If no anisotropic scaling needs to be performed, one of the two rotations may be set to the identity (no rotation) and the other is determined as part of the general optimization processing method described with respect to the following step referenced 31 below.<br>
Operations referenced 14, 24, which permit of estimating new converted scalar valued Hermite coefficients { F1} and { G1} referenced 15, 25 that are respectively linear combinations of the old coefficients {f1 } and { g1 }• The linear conversion from the set of scalar valued Hermite coefficients { f1 } to the set { F1 } is calculated by standard techniques using the first rotation matrix Ri. Likewise, the conversion from the set of scalar valued Hermite coefficients { g i} to { G1 } makes use of the second rotation matrix R2.<br>
In step referenced 31, for the situations where either anisotropic or isotropic scaling is needed, performing a computation of the combination of the scalar valued Hermite coefficients { F1 } and { G1 } using a combination function. This computation provides a new set of Hermite Transform Coefficients K1 that will further be used to compute the wanted correlation function K(v). The combination formula for computing the Hermite Transform Coefficients Ki can favorably be as follows:<br><br><br>
where the summation extends over all multi-indices defined by:<br>
where J and (I-J) are valid indices or multi-indices, for which all entries are non-negative integers, while<br>
(3)<br>
stands for a binomial coefficient, and:<br><br><br>
Hence, if anisotropic scaling is needed, the coefficients <xk pk permit of changing scale along all the different axes co-ordinates.></xk>
If isotropic scaling is needed, this is a special case for which all zk values are equal. If no scaling is needed, this is another special case for which all zk values are equal to<br>
1 resulting in that: ak= pk = 1/V2 .<br>
In step referenced 32, using Hermite Transform Coefficients { Ki}, the inverse Hermite Transform (HT"1) allows to estimate a further set of scalar coefficients of a function called correlation function K(v).<br>
In step referenced 33, the correlation function K(v) is computed, where v is a set of translation parameters.<br>
The finally wanted similarity measure and the corresponding optimum translation parameters v are given by the maximum value of the correlation function K(v) estimated among all calculated values.<br>
The number of Hermite coefficients Ki to use and the set of translation parameters v for which K(v) is computed can be determined according to the desired accuracy. For a coarse estimate, only low order indices (I) should be used and only few sampling points for v are needed.<br>
Particular add-on technique: In certain cases, a more accurate determination of the relative scale-factors zk, z\ is desired. The correlation measure K(v) may not be sufficiently sensitive to scale-change for yielding accurate scale-factors zk, z'k estimate. A particular addon technique to be applied to the above method and related processing system is proposed.<br>
Given a "warping law" defined by some combination of anisotropic scale change translation and rotation, the add-on technique consists in deducing the Hermite Transform of the warped pattern from the Hermite Transform of the pattern before warping. For comparing patterns, the proposed add-on technique consists in deducing a "difference measure" of patterns from the difference of their Hermite Transform coefficients. In this way, the warping parameters that result in the best match between the compared patterns can be determined as follows. In this add-on technique, all "warping parameters", including rotation and translation, are determined using the previously described procedure for determining the<br><br>
coefficients F1, G1. From the coefficients F1, G1, then a quadratic difference measure is defined based on said Hermite coefficients F1, G1. The choice of the scale-factors zk, z\ is the one that minimizes this quadratic difference measure, hereafter denoted by Pattern Disparity Measure D given by the formula:<br>
  (6)<br>
where F'I and G'I are derived from the Hermite coefficients F1 and G\ according to the technique illustrated by FIG.3.<br>
FIG.3 is a block diagram illustrating the add-on procedure needed when a reliable estimate of the best-match relative scales ({ zk },{ z'k } need to be evaluated. The add-on procedure requires only the Hermite coefficients F1j and G1 determined in steps 15,25.<br>
The effect of the relative scaling factors { Zk }and { z\ } and, if needed, of translation changes, (Axk },{ Ax'k } is to modify the Hermite coefficients through linear operations to yield F\ and G'i. The linear operations can be matrix operations.<br>
The unknown parameter values are computed as the combination of values, among the possible combinations of { zk }and {z\}, (Axk }, { Ax'k }, which minimizes the Pattern Disparity Measure D, given by (6), since D is a function of:<br><br>
The above combination of steps, from 12, 22 to 33 can be repeated several times if necessary to reach the best possible similarity measure by modifying the rotation matrices Rx, R2, the scaling factors { zk} and by increasing the number of indices I, J if more accuracy is needed. A standard strategy may be used for this optimization.<br>
Once this optimization is done, one may derive the best transformation that will provide the best match of one image to the other under the matrix equation form:<br><br><br>
where σ1,σ2,σk,βk, v are defined above.<br>
Even more economy in computation load can be achieved when one is interested in studying a restricted class of image transformations.<br>
In particular, if only translations in the direction defined by co-ordinate number a is involved, the above evaluations of {K1}s can be limited only to multi-indices I=() for which =0 for all co-ordinate numbers k#n. This allows to compute a one dimensional correlation function K(vn) depending on the one dimensional co-oidinate vn of the m-dimensional translation parameter v .Considerably less computations are then needed to find the optimum of K(vn) as compared to the calculations needed to find the optimum of K(v) which has an m-dimensional independent variable.<br>
The present invention further relares to a viewing system having processing means for carrying out the steps of the image processing method and technique of the invention and having display means to visualize the processed images.<br>
Hence, the image processing system of the invention has means for computing the correlation or degree of similarity of two image signals, each signal being defined within a respective isotropic Gaussian window. More specifically, the present system relates to processing means for:<br>
estimating in 11, 21, two image signals f(x), g(y)) representing shapes defined in respective windows Wl, W2 in two mutti-dimensional images (m-D);<br>
using a Hermite Transform HT in 12,22, applied to both said image signals f(x), g(y) for performing an evaluation of two first sets of scalar valued Hermite coefficients f1, g1, Fh G1 in 13, 15, 23, 25, from which a combination 31 yields a transformed set of scalar valued Hermite coefficients {Ki}, with scaling factors {zk};<br>
applying the inverse Hermite Transform HT"1 in 32 to said transformed set of scalar valued Hermite coefficients {Ki} to achieve the computation of said windowed correlation function K(V) in 33;<br>
means to estimate the wanted similarity measure as the maximum of the correlation function K(v); and<br>
means for displaying the correlated shapes and/or processed images.<br>
Compared with the state of the art techniques, this current method and system deal with the following issues:<br>
In addition to translation, which is handled by means 31 of computing the scalar valued Correlation Coefficients {Kr}, and/or in addition to rotation, which is handled by rotation matrices R1 and R2, respectively in 14 and 24, the system of the invention has means<br><br>
coefficients F1, Gi. From the coefficients Ft, G1, then a quadratic difference measure is defined based on said Hermite coefficients Fr, G[, The choice of the scale-factors Zk, z\ is the one that minimizes this quadratic difference measure, hereafter denoted by Pattern Disparity Measure D given by the formula:<br>
  (6)<br>
where F'I and G'I are derived from the Hermite coefficients F1 and G\ according to the technique illustrated by FIG. 3.<br>
FIG. 3 is a block diagram illustrating the add-on procedure needed when a reliable estimate of the best-match relative scales ({ zk },{ zk } need to be evaluated. The add-on procedure requires only the Hermite coefficients F r and Gi determined in steps 15, 25.<br>
The effect of the relative scaling factors { zk }and {z\ } and, if needed, of translation changes, (Axk },{ Ax'k } is to modify the Hermite coefficients through linear operations to yield F'i and G'i. The linear operations can be matrix operations.<br>
The unknown parameter values are computed as the combination of values, among the possible combinations of { Zk }and {z'k}, (Axk}, { Ax'k }, which minimizes the Pattern Disparity Measure D, given by (6), since D is a function of:<br><br>
where Zi and Z2 are both (mx m) diagonal matrices with:<br>
matrix Zi has diagonal element at row and column k, equal to <jzz and matrix z2 has diagonal element at row column k equal to></jzz>
and where A and B are also both (mx m) diagonal matrices with:<br>
matrix A has diagonal element at row and column k, equal to OZICL^ and -   -matrix B has diagonal element at row and column k equal to ai/(3k9<br><br>
where σ1,σ2,σk,βk,  v are defined above.<br>
Even more economy in computation load can be achieved when one is interested in studying a restricted class of image transformations.<br>
In particular, if only translations in the direction defined by co-ordinate number n is involved, the above evaluations of {K1}? can be limited only to multi-indices I=(ilv..,im) for which  for all co-ordinate numbers k#n This allows to compute a one dimensional correlation function K(Vn) depending on the one dimensional co-ordinate vn of the m-dimensional translation parameter v .Considerably less computations are then needed to find the optimum of K(vn) as compared to the calculations needed to find the optimum of K(v) which has an m-dimensional independent variable.<br>
The present invention further relates to a viewing system having processing means for carrying out the steps of the image processing method and technique of the invention and having display means to visualize the processed images.<br>
Hence, the image processing system of the invention has means for computing the correlation or degree of similarity of two image signals, each signal being defined within a respective isotropic Gaussian window. More specifically, the present system relates to processing means for:<br>
estimating in 11, 21, two image signals f(x), g(v) representing shapes defined in respective windows Wl, W2 in two multi-dimensional images (m-D);<br>
using a Hermite Transform HT in 12, 22, applied to both said image signals f(x), g&amp;) for perfonning an evaluation of two first sets of scalar valued Hermite coefficients fi, gi, Fi, Gi in 13, 15, 23, 25, from which a combination 31 yields a transformed set of scalar valued Hermite coefficients {Ki}, with scaling factors {zk};<br>
applying the inverse Hermite Transform HT*1 in 32 to said transformed set of scalar valued Hermite coefficients {Ki} to achieve the computation of said windowed correlation function K(v) in 33;<br>
means to estimate the wanted similarity measure as the maximum of the correlation function K(v); and<br>
means for displaying the correlated shapes and/or processed images.<br>
Compared with the state of the art techniques, this current method and system deal with the following issues:<br>
In addition to translation, which is handled by means 31 of computing the scalar valued Correlation Coefficients {Ki}, and/or in addition to rotation, which is handled by rotation matrices Ri and R2) respectively in 14 and 24, the system of the invention has means<br><br>
33 of computing the correlation function K(v), which handles change of scale. This means 33 allows of estimating the effect of altering scale (isotropically or not) in one image signal relative to the other, while, at the same time, taking into account the effect of translation and rotation. This is a unique feature, which is not present in other state of the art approaches to compute local correlation.<br>
Accurate registration is possible with fewer computations than for state of the art methods in particular when large correlation blocks need to be used.<br>
The amount of calculations required to obtain the correlation function is adaptable to the accuracy of match that is required. The number of Hermite coefficients Ki to use and the set of translation parameters v for which K(v) is computed are determined according to the desired accuracy. This method and system permit of calculating the correlation function K(v) to a desired accuracy in sub-sampling the set of possible translation parameters v for which the correlation is to be computed. For a coarse estimate, only low order indices (I) and only few sampling points for v are used. This leads to very few calculations if a coarse match is needed, which also minimizes calculations for a "coarse to fine approach11.<br>
When the correlation function K(v) is evaluated in multi-dimensional images, it may be calculated for a translation parameter v varying in a direction parallel to one coordinate axis at a.time with great saving in computations.<br>
The method and system present a possibility to remove the effect of the local mean intensities from the correlation for example by skipping multi-indices which have all zero entries in the Hermite Transforms of both images.<br>
An important issue that is dealt with by the method and system is a possibility of matching images with inverse contrast. This problem occurs when images coming from different sources such as x-rays and MRI are considered. This problem is solved by looking for both positive maxima AND negative minima of K(y) and using the absolute value | K(v) | instead of K(v). This aspect is important when matching such images coming from different modalities in which case the contrast of an anatomical feature in one image may be inverted with respect to that of the other.<br>
These method and system present a possibility of matching features which have different amplitudes in the two images by dividing K(v) or | K(v) I by the product of local l root mean square image amplitudes.<br>
Better robustness can be obtained against noise as compared to state of the art. The techniques of the state of the art need to warp one of the images relative to the other even for local correlation. This may produce artifacts and is computationally costly. This is totally<br>
V<br><br>
avoided in the method and system of the invention for local correlation. Such warping operations are replaced by much simpler manipulations of the Hermite coefficients of the images and of the correlation function.<br>
The above-described image viewing method, which is based on a windowed correlation technique, can be used as a key component of a freeform or elastic matching technique. One possible version of such technique is described hereafter as an example. As illustrated by FIG.2B, a complex shapt called SHAPE 1 must be matched to a complex shape called SHAPE 2 represented respectively in a first image and in a second image. For matching SHAPE 1 and SHAPE 2, it may be necessary to warp linearly or non-linearly one of the shapes. The disks shown in the two images of the shapes indicate local windows in each image, in which gray level intensities vary appreciably. Each of the images to match is paved with a number (preferably large) of such windows. To find the warping law, one can proceed in successive iterations as follows:<br>
a)	An initial guess of the warping law is provided (for example using a global alignment procedure known from the state of the art),<br>
b)	For each of the windows Wl, such as Wll, W12, W13, in one of the images, called first image, which window is centered around a point xC) the current guess of the warping law is used in order to find the corresponding location t in the other image, called second image, as well as an approximate anisotropic scale change and rotation within the window Wl introduced by the warping law using state of the art technique. The locations<br>
of all windows W2k are looked for in the second image, having their centers y    within a<br>
maximum distance from point t, which distance is determined by the algorithm user. If no such window exists in the second image, window Wl is discarded.<br>
c)	If the window Wl is not discarded: for each of the windows W2k in the second image, the method proposed in the invention is used together with the information obtained in above step b) to obtain the correlation between window W2k in the second image and window Wl in the first image. The maximum correlation Ck is determined together with the corresponding translation Atk needed to match W2k in order to the warped window Wl which mapped around point t.<br>
d)	The maximum correlation Q is stored as C together with the corresponding translation Atk as At.<br>
e)	The above two steps (c) and (d) are repeated for all non-discarded windows Wl in the first image. From all the translations Ot, modify the warping law to better describe<br><br>
matching of the two images using state of the art techniques. The goodness of fit rate G is calculated from the sum of local correlations C over all windows Wl divided by the number of non-discarded windows Wl.<br>
f)	Steps b) to e) above are repeated, up to a maximum number of user defined iterations or when the goodness of fit rate G is considered satisfactory (Le. above a level determined by the algorithm user).<br>
g)	The best warping obtained is considered as the one that maximizes the sum of local correlations.<br>
FIG.2B illustrates the scheme for registration using a given deformation law. Circles symbolize the windows Wl in the first image and the corresponding windows W2 in the second image. The arrows symbolize the correspondence between windows that maximizes the local correlation. For instance, windows W21, W22, W23 in the second image respectively correspond to windows Wll, W12, W13 in the first image.<br>
The above-described steps can be carried out by the viewing system of the invention. FIG.4 shows a diagram of a medical viewing system 150 according to the invention for carrying out all the steps of the above-described method. The system has means 151 for acquiring digital image data of a sequence of images, and is coupled to computer means 153 for processing these data according to the processing method cited above. The medical viewing system can be used in the intervention room or near the intervention room for processing real time images. Steps of the present method can be applied on stored medical images, for example for estimating medical parameters. The medical viewing system provides the image data by connection 157 to the system 153. The system provides processed image data to display means and/or storage means. The display means 154 may be a screen. The storage means may be a memory of the system 153. Said storage means may be alternately external storage means.<br>
The data processing means 153 is typically associated with a visualization device, such as a monitor 154, and an input device 155, such as a keyboard, pointing device, such as a mouse, etc. operative by the user so that he can interact with the system. Icones may be provided on the screen to be activated by mouse-clicks, or special pushbuttons may be provided on the system, to constitute control means 158 for the user to control the processing means of the system. The data processing device 153 is programmed to implement the method of processing medical image data according to invention. In particular, the data processing device 153 has computing means and memory means to perform the steps of the method. A computer program product having pre-programmed instructions to cany out the<br><br>
method may also be implemented. This image viewing system 153 may comprise a suitably programmed computer, or a special purpose processor having circuit means such as LUTs, Memories, Filters, Logic Operators, that are arranged to perform the functions of the method steps according to the invention.<br>
The basic components of an image viewing system in accordance to the present invention can be incorporated in a medical examination apparatus: As indicated schematically in Fig.4, the medical examination apparatus typically includes a bed 110 on which the patient lies or another element for localizing the patient relative to the imaging apparatus. The medical imaging apparatus may be a CT scanner 151. The image data produced by the CT seamier 151 is fed to data processing means 153, such as a general-purpose computer, that carries out the steps of the method. Or the medical imaging apparatus may be an Ultrasound apparatus whose images can be processed using the image processing system.<br>
The present invention is applicable regardless of the medical imaging technology that is used to generate the initial data. For example, when seeking to visualize the heart, magnetic resonance (MR) coronary angiography may be used to generate 3D medical image data in a non-invasive manner. Various modifications can be made to the order in which processing steps are performed in the above-described specific embodiment. The drawings and their description herein before illustrate rather than limit the invention. It will be evident that there are numerous alternatives that fall within the scope of the appended claims. Moreover, although the present invention has been described in terms of generating image data for display, the present invention is intended to cover substantially any form of visualization of the image data including, but not limited to, display on a display device, and printing. Any reference sign in a claim should not be construed as limiting the claim.<br><br><br>
CLAIMS:<br>
1.	■      An image processing system, for correlating shapes in multi-dimensional images (m<br>
D), comprising image data processing means for estimating a similarity measure including<br>
computing means for:<br>
estimating two image signals (f(x), g(v)) representing shapes defined in respective windows (Wl, W2) in two multi-dimensional images;<br>
using a Hermite Transform (I1T) applied to both said image signals for performing an evaluation of two first sets of scalar valued Hermite coefficients (ft, gb F1, G1), from which a combination yields a transformed set of scalar valued Hermite coefficients {K1};<br>
applying the inverse Hermite Transform (HT1) to the transformed set of scalar valued Hermite coefficients {Kt} to achieve the computation of a windowed correlation function (K(v)); and estimating the maximum of said windowed correlation function as the wanted similarity measure to correlate the shapes; and<br>
meansJbr displaying the correlated shapes and/or processed images.<br>
2.	The system of Claim 1, comprising data processing means for ordering the scalar valued Hermite coefficients (K1, ft, g1) in such a way that low-order coefficients code the coarse shape information whereas the high order coefficients code fine details.<br>
3.	The system of one of Claims 1 or 2, wherein the class of simultaneous transformations, which is dealt with for any data dimension m, comprises:<br>
translation, scale-change.<br>
4.	The system of one of Claims 1 to 3, wherein the class of simultaneous<br>
transformations, which is dealt with for data dimensions higher than 1-D, comprises:<br>
translation, scale-change, and, in addition rotation and anisotropic scale change.<br>
5.	The system of Claim 4, comprising, for a number of variables superior to one<br>
corresponding to data dimensions higher than 1-D, data processing means for:<br>
processing the first two sets of scalar valued Hermite coefficients (ft, g1) by applying at least one rotation matrix (Rl, R2) which converts at least one of said two sets of scalar valued Hermite coefficients (ft, g1) into a new set of ""scalar valued Hermite coefficients (F1, G1) corresponding to a rotated version of at least one of the shapes;<br><br>
estimating a transformed set of scalar valued Hermite coefficients {K1} from the new sets of scalar valued Hermite coefficients (F1, G1) corresponding to the rotated versions of the shapes.<br>
6.	The system of one of Claims 1 to 5, comprising data processing means for:<br>
setting the number of scalar valued Hennite correlation coefficients {K1} to use and<br>
the set of translation parameters (v) for which the correlation function (K(v)) is to be computed in order to provide a desired accuracy, according to which for a coarse estimate of only low order indices (I) and a limited number of sampling points for translation parameters (v) are used, while the maximum value of the correlation function (K(v)), among all calculated values, provides the correlation measure and the corresponding optimum translation parameter (v).<br>
7.	The system of Claim 6, comprising data processing means for:<br>
setting the number of scalar valued Hermite correlation coefficients {K1} to use, when only translations in the direction defined by a given co-ordinate number (n) is involved, comprising limiting said evaluations of scalar valued Hermite correlation coefficients {Ki} to multi-indices I=(iiv..,im) for which ik=0 for all co-ordinate numbers k#n, wherefrom computing a one dimensional correlation function (K(vn)) depending on the one dimensional co-ordinate (vn) of the m-dimensional translation parameters (v).,<br>
8.	The system of Claim 4, comprising computing means for estimating scaling factors<br>
from the estimation of the Hennite coefficients (F1, G1) by defining a quadratic difference<br>
measure (D) based on said Hennite coefficients (F[, G{) and choosing the scale-factors (zk,<br>
z'k) as the combination that minimizes this quadratic difference measure.<br>
9.	The system of one of Claims 1 to 8, comprising data processing means for:<br>
repeating the steps of determining the correlation function, as many times as<br>
necessary in order to reach the best possible correlation function by modifying the rotation matrices (R1, R2), the scaling factors ({zk }) and by increasing the number of indices (I) if more accuracy is needed.<br>
10.	The system of one of claims 1 to 9, comprising data processing means for perforating<br>
an evaluation of a warping law for correlating a first and a second complex shape in multi-<br><br>
dimensional images (m-D), including the determination of more than one window (Wl) for the first shape and the determination of corresponding candidate windows (W2k) for the second shape, and further comprising data processing means for performing the estimation of the Hermite Transform (Kr) for the evaluation of a windowed correlation function K(v), including steps of using a Hermite Transform (HT) of two image signals (f(x)&gt; g(y)) defined in respective windows (Wl, W2), wherefrom data processing means for performing an evaluation of the inverse Hermite Transform (HT"1) to achieve the computation of said windowed correlation function (K (v)), which is used to determine the best candidate windows, and comprising data processing means for performing the determination of the best warping law by iteration of these steps in order to match the first and second complex shapes.<br>
11.	An image processing method comprising an evaluation of a Hermite Transform (Ki)<br>
for the evaluation of a windowed correlation function K(v), including steps of using the<br>
Hermite Transform (HT) of two image signals (f(x), g(v)) representing shapes defined in<br>
respective windows (Wl, W2) in multi-dimensional images (m-D), wherefrom a step of<br>
evaluating the inverse Hermite Transform (HT"1) is performed to achieve the computation of<br>
said windowed correlation function (K(v)).and<br>
visualizing the correlated shapes and/or processed images.<br>
12.	A medical examination apparatus comprising acquisition means for acquiring medical<br>
image data, and an image processing system according to one of Claims 1 to 10.<br>
13.	A computer program product having a set of instructions, when in use on a general-<br>
purpose computer, to cause the computer to perform the steps of the method according to of<br>
Claim 11. <br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA0Ni1jaGVucC0yMDA1LWFic3RyYWN0LnBkZg==" target="_blank" style="word-wrap:break-word;">1046-chenp-2005-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA0Ni1jaGVucC0yMDA1LWNsYWltcy5wZGY=" target="_blank" style="word-wrap:break-word;">1046-chenp-2005-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA0Ni1jaGVucC0yMDA1LWNvcnJlc3BvbmRuZWNlLW90aGVycy5wZGY=" target="_blank" style="word-wrap:break-word;">1046-chenp-2005-correspondnece-others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA0Ni1jaGVucC0yMDA1LWNvcnJlc3BvbmRuZWNlLXBvLnBkZg==" target="_blank" style="word-wrap:break-word;">1046-chenp-2005-correspondnece-po.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA0Ni1jaGVucC0yMDA1LWRlc2NyaXB0aW9uKGNvbXBsZXRlKS5wZGY=" target="_blank" style="word-wrap:break-word;">1046-chenp-2005-description(complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA0Ni1jaGVucC0yMDA1LWRyYXdpbmdzLnBkZg==" target="_blank" style="word-wrap:break-word;">1046-chenp-2005-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA0Ni1jaGVucC0yMDA1LWZvcm0gMS5wZGY=" target="_blank" style="word-wrap:break-word;">1046-chenp-2005-form 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA0Ni1jaGVucC0yMDA1LWZvcm0gMTgucGRm" target="_blank" style="word-wrap:break-word;">1046-chenp-2005-form 18.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA0Ni1jaGVucC0yMDA1LWZvcm0gMjYucGRm" target="_blank" style="word-wrap:break-word;">1046-chenp-2005-form 26.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA0Ni1jaGVucC0yMDA1LWZvcm0gMy5wZGY=" target="_blank" style="word-wrap:break-word;">1046-chenp-2005-form 3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA0Ni1jaGVucC0yMDA1LWZvcm0gNS5wZGY=" target="_blank" style="word-wrap:break-word;">1046-chenp-2005-form 5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA0Ni1jaGVucC0yMDA1LXBjdC5wZGY=" target="_blank" style="word-wrap:break-word;">1046-chenp-2005-pct.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="219808-a-textured-composite-material.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="219810-content-based-segmentation-method-for-data-compression-in-storage-and-transmission-including-hierarchical-segment-representation.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>219809</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>1046/CHENP/2005</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>27/2008</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>04-Jul-2008</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>13-May-2008</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>26-May-2005</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>KONINKLIJKE PHILIPS ELECTRONICS N.V</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>Groenewoudseweg 1, NL-5621 BA Eindhoven,</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>MAKRAM-EBEID, Sherif</td>
											<td></td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>G06T 7/00</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/IB2003/005319</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2003-11-20</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>02292932.7</td>
									<td>2002-11-27</td>
								    <td>EUROPEAN UNION</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/219809-image-processing-system-and-medical-examination-apparatus-for-correlating-features-in-medical-images by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 11:26:33 GMT -->
</html>
