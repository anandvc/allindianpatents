<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/224961-method-apparatus-and-system-for-transmitting-udp-data-pakkets-over-a-wide-area-network by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2024 23:55:11 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 224961:METHOD, APPARATUS AND SYSTEM FOR TRANSMITTING UDP DATA PAKKETS OVER A WIDE AREA NETWORK.</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">METHOD, APPARATUS AND SYSTEM FOR TRANSMITTING UDP DATA PAKKETS OVER A WIDE AREA NETWORK.</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>Currently data transmission over the Internet between two client computers where both client computers are protected by firewalls is problematic, since firewalls block incoming packets. A method is provided for permitting packet based data transmission between a first client computer C1 protected by a first NAPT or NAT firewall and a second client computer C2 protected by a second NAPT or NAT firewall to traverse the first and the second firewalls. The method can also be applied to other devices, such as routers, using NAT or NAPT.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>METHOD AND APPARATUS TO PERMIT DATA TRANSMISSION TO TRAVERSE FIREWALLS<br>
Related application<br>
This application claims priority from previously filed United States<br>
provisional patent application serial number 60/269,357, filed February 20, 2001,<br>
entitled METHOD AND APPARATUS TO PERMIT REAL-TIME MEDIA<br>
DELIVERY TO TRAVERSE FIREWALLS ON A COMPUTER NETWORK.<br>
Technical Field<br>
The invention relates to the field of data transmission over a computer<br>
network, and more particularly to methods for permitting data transmissions using<br>
packet based transmission protocols to traverse firewalls.<br>
Background Art<br>
Computers connected to wide area networks like the Internet are<br>
commonly protected by firewalls. Firewalls are most commonly used to protect<br>
computers operating on local area networks, but they can also be used to protect<br>
individual computers, including servers, which access a wide area network. In<br>
this application, the term "client computer" will encompass any computer with<br>
access to a wide area network, and also a program operating on such a computer.<br>
Such a computer may, but need not, operate on a local area network, and may<br>
perform the functions of a server on the wide area network.<br>
Firewalls typically perform a number of functions. They protect internal<br>
computers from outside computers on the wide area network, while allowing<br>
internal computers to access the wide area network. Firewalls can also make local<br>
network administration more efficient, by permitting a large number of client<br>
computers to share a limited pool of Internet Protocol (IP) addresses on the wide<br>
area network, and by accommodating changes within the local network without<br>
having to re-configure access to the other computers on the wide area network.<br><br>
A firewall is typically a program or collection of related programs on a<br>
network gateway server which check each network packet to determine whether<br>
to forward it to its destination. To create a barrier between an internal computer<br>
and the outside wide area network, firewalls commonly use NAT (network<br>
address translation) or NAPT (network address and port translation). NAT is the<br>
translation of an internal IP address used by a client computer (and known within<br>
the internal network, if the client computer is operating on one), to a different IP<br>
address known within the outside wide area network. The firewall maps internal<br>
IP addresses to one or more global external IP addresses, and reverse maps the<br>
external IP addresses on incoming packets back into internal IP addresses. NAPT<br>
is the translation of both internal IP addresses and internal ports to different<br>
external IP addresses and external ports known within the outside network.<br>
Firewalls using NAPT commonly screen incoming packets to make sure thai they<br>
come from a previously identified IP address and port. That is, a request from a<br>
particular IP address and port traverses the firewall only if a request previously<br>
went out from the firewall to that IP address and port.<br>
Data transmission over the Internet has become an everyday occurrence.<br>
Many Internet data transmissions are used to transport audio and / or video data<br>
from a live or on-demand streaming server to streaming clients, to provide real-<br>
time interactive communication (such as "chat") between client computers, to<br>
transport the contents of web-pages from web-servers to web-clients, and for<br>
many other types of communication among networked programs. Different<br>
protocols are used to transmit different types of data. For example, text chat is<br>
generally transmitted using Transmission Control Protocol (TCP), while audio /<br>
video conferencing and live audio / video streaming are generally transmitted<br>
using UDP (User Datagram Protocol). Communications through a server<br>
connected directly to the Internet (that is, not behind a firewall) are not generally<br>
obstructed by client-side firewalls; the act of logging on to a server generally<br>
opens a return path from the server through the firewall. However, firewalls<br>
commonly block direct client-to-client, or "peer-to-peer" communication. One<br><br>
attempted solution is to open certain ports in the firewall, but this solution (i)<br>
requires modification of the firewall settings, which most network administrators<br>
are reluctant to do, and (ii) does not work with firewalls that perform any sort of<br>
port translation. The present invention provides a method for permitting packet<br>
based data transmission to traverse firewalls usingisither NAPT or NAT without<br>
altering firewall settings. The invention is disclosed in the context of a firewall<br>
using NAPT, as the more general case. However, the method provided in the<br>
invention is equally applicable to a firewall using NAT, and also to other types of<br>
devices, such as routers, using either NAPT or NAT<br>
Disclosure of Invention<br>
The invention therefore provides a method of transmitting a data packet<br>
from a first computer to a second computer over a wide area computer network, a<br>
data packet transmitted from the first computer having a first source address<br>
designating the first computer and a data packet transmitted from the second<br>
computer having a second source address designating the second computer,<br>
wherein the first computer is protected by a first firewall which translates the first<br>
source address to a first external address when transmitting a data packet from the<br>
first computer to the wide area network, and the second computer is protected by<br>
a second firewall which translates the second source address to a second external<br>
address when transmitting a data packet from the second computer to the wide<br>
area network, the first and second firewalls communicating over the wide area<br>
computer network, the method using a designated recipient computer in<br>
communication with the first and second computers via the wide area computer<br>
network, said method comprising: a) the first and second computers sending first<br>
and second data packets to the designated recipient computer; b) the designated<br>
recipient computer communicating the first external address from the first data<br>
packet to the second computer and communicating the second external address<br>
from the second data packet to said first computer; c) the second computer<br><br>
sending a data packet to the first external address; and d) the first computer<br>
sending a data packet to said second external address.<br>
The method further provides for two-way transmission of data by<br>
additionally having the second computer then send a data packet to the first<br>
external address. The method can be applied to a plurality of computers protected<br>
by firewalls communicating over a wide area network. The firewalls may be<br>
NAT or NAPT. In particular the method works if the IP address and port are<br>
translated at the firewall, or only the IP address. The designated recipient<br>
computer can be any type of computer, including without limitation a designated<br>
server, a peer computer involved in the data transmission, or a peer computer not<br>
involved in the data transmission.<br>
The present invention further provides a computer program product for<br>
carrying out the foregoing method, and a system for transmitting a data packet<br>
between two firewall-protected computers over a wide area network,<br>
Brief Description of Accompaning Drawings<br>
Figure 1 is a schematic diagram illustrating a preferred embodiment of the<br>
invention; and<br>
Figure 2 is a flowchart illustrating a preferred embodiment of the<br>
invention.<br>
Best Mode(s) for Carrying Out the Invention<br>
Fig. 1 schematically illustrates a client computer C1 (12) on local area<br>
network (14), protected by NAPT firewall FW1 (16), wishing to send a UDP data<br>
stream, such as a live video data stream, over Internet 10, to client computer C2<br>
(20) on local area network (22), protected by NAPT firewall FW2 (24). Within<br>
this schematic, Cl has internal IP address H1, and will use internal port h1 to<br><br>
transmit the UDP data stream. Firewall FW1 translates these into external IP<br>
address F1 and external port f1 (18). C2 has internal 1P address H2, and will use<br>
internal port h2 to receive the UDP data stream. Firewall FW2 will receive UDP<br>
packets destined for C2 at external IP address F2 and external port f2 (26). Both<br>
C1 and C2 log onto a server S1 (28), whose purpose is to establish a path to<br>
transmit the UDP data stream from C1 to C2. However, the UDP data stream is<br>
not transmitted through the server. It is sent client-to-client to take advantage of<br>
efficiencies and scalability that can be realized from peer-to-peer communication<br>
over the Internet.<br>
Peer-to-peer communications are prevented by almost all firewalls. NAP1<br>
firewalls FW1 and FW2 will only permit an incoming UDP packet to pass if (i) its<br>
source and destination addresses match the destination and source addresses,<br>
respectively, of a recent outgoing UDP packet, and (ii) its source and destination<br>
ports match the destination and source ports, respectively, of a recent outgoing<br>
UDP packet. If either Cl or C2 attempts to send a packet to the other, the<br>
receiver's firewall will block the incoming packet if it does not meet these criteria.<br>
The present invention permits Cl to send a UDP data stream to C2 by the<br>
following steps:<br>
(1) Cl sends a UDP packet U1 to server S1. Cl initiates the transmission<br>
from its internal IP address and UDP port (H1 :h1). Firewall FW1 translates the IP<br>
address and port to Fl :fl at the external interface of FW1.<br>
(2) When S1 receives packet U1 from F1: f1, S1 can identi fy F1 and fl as the<br>
external IP address and external port from which FW1 will send the UDP data<br>
stream originating with Cl.<br><br>
(3) C2 sends a UDP packet U2 to server S1. C2 initiates the transmission<br>
from its internal IP address and UDP port (H2:h2). Firewall FW2 translates the IP<br>
address and port to F2:f2 at the external interface of FW2.<br>
(4) When SI receives packet U2 from F2:f2, S1 can identify F2 and f2 as the<br>
external IP address and external port at which FW2 will receive the UDP data<br>
stream to be transmitted from C1 to C2.<br>
(5) S1 tells C2 that F1 :fl are the external IP address and port from which Cl<br>
will send the UDP data stream.<br>
(6) S1 tells C1 that F2:f2 are the external IP address and port to which the<br>
UDP data stream destined for C2 should be sent.<br>
(7) C2 sends a UDP packet U3 to Fl :fl, using its internal port h2. Firewall<br>
FW2 will send the packet from F2:f2. This packet will be blocked by firewall<br>
FW1. However, as described in step (8), it will prompt firewall FW2 to pass<br>
subsequent packets sent by C1 destined for C2.<br>
(8) When Cl subsequently sends a data stream consisting of UDP packets<br>
destined for C2 from its internal port h1, firewall FW1 will send them from Fl :fl<br>
to F2:f2. Because of the packet sent in step (7), firewall FW2 recognizes Fl:fl as<br>
an address and port to which it has recently sent a packet from F2:f2.<br>
Accordingly, it permits packets sent from F1 :f1 to F2:f2 to pass through the<br>
firewall, and forwards them to H2:h2, the internal IP address and port for C2.<br>
In this way, the invention creates a means by which UDP data streams<br>
originating with Cl pass through to C2. This can be used for streaming<br>
applications, in which Cl sends a live or on-demand data stream to C2. Steps<br>
similar to (1) to (8), carried out vice versa, will permit UDP data streams<br>
originating with C2 to pass through firewall F1, to C1. Thus, Cl and C2 can<br>
14<br><br>
utilize applications which depend on two-way transmission of UDP data streams,<br>
such as video conferencing. Similar steps carried out by a number of client<br>
compufers, C1,.. .,CN, will permit one-to-many, many-to-one, or many-to-many<br>
transmission of UDP data streams through NAPT firewalls.<br>
For the method to work with a firewall using NAPT, the packets sent in<br>
steps (1) and (3) will generally have to be of the same type (i.e. TCP, UDP, etc.)<br>
as the type used to transmit the data in step (8). The reason is that many computer<br>
applications or firewalls use different ports to transmit and receive different types<br>
of data. However, if that is not the case, the packets sent in steps (1) and (3) need<br>
not be of the same type as the type used in step (8). In addition, firewall FW1<br>
must use the same external IP address and port to send the initial packet in step<br>
(1) as it uses subsequently to commence sending the data to C2 in step (8)<br>
(although the method can be adapted to accommodate subsequent changes in the<br>
IP addresses and ports, as described more fully below). This generally happens in<br>
practice so long as the software at client computer Cl is written to send both<br>
transmissions from the same internal IP address and port, as most firewall<br>
programs using NAPT currently create one-to-one mappings between internal IP<br>
addresses and ports and external IP addresses and ports used to send the same type<br>
of packet. Similarly, firewall FW2 must use the same external IP address and port<br>
to send the packet in step (3) that it will use to commence receiving the data in<br>
step (8). This also will generally happen in practice, so long as the software at<br>
client computer C2 is written to send the packet in step (3) from, and to receive<br>
the data in step (8) at, the same internal IP address and port.<br>
As will be apparent to those skilled in the art, the method can be readily<br>
adapted to support two-way data transmission between C1 and C2, to support one-<br>
to-many data transmission from Cl to client computers C2,.. .,CN, to support<br>
many-to-one data transmission from client computers C2,.. .,CN to C1, or to<br>
support many-to-many data transmission among client computers C1,... ,CN. As<br>
well, the invention has been described with both C1 and C2 protected by<br><br>
firewalls, as that situation provides the clearest description of the invention.<br>
However, the method is readily adapted to the situation where only the receiving<br>
client computer is protected by a firewall.<br>
The designated recipient computer can be any type of computer, including<br>
without limitation a designated server, a peer computer involved in the data<br>
transmission, or a peer computer not involved in the data transmission.<br>
As will be apparent to those skilled in the art in light of the foregoing<br>
disclosure, many alterations and modifications are possible in the practice of this<br>
invention without departing from the spirit or scope thereof. For example, the<br>
possible alterations and modifications include, but are not limited to, the<br>
following:<br>
1. For robustness against packet loss or delay, C1 and /or C2 could send<br>
multiple packets to S1 in steps (1) and (3), instead of a single packet. Packets<br>
could be sent until confirmation is received that S1 has received one of the<br>
packets.<br>
2. Also for robustness against packet loss or delay, C2 could send multiple<br>
packets in step (7), instead of a single packet. Packets could be sent until<br>
confirmation is received that FW1 has received one of the packets.<br>
3. The method can also be used when either C1 or C2 uses separate ports for<br>
sending and receiving UDP data streams. For example, if Cl uses h1 for sending<br>
UDP data streams and h3 for receiving data streams, firewall FW1 will translate<br>
these into f1 and f3 respectively. C2 would have to send a UDP packet from its<br>
receiving port to fl, and Cl would have to send a UDP packet from f3 to the<br>
sending port for C2. These packets would open paths over which C1 could send<br>
to C2 (through fl), and over which C2 could send to C1 (through f3).<br><br>
4. In the case of two-way communication, and where firewalls FW1 and<br>
FW2 use the same external ports for both sending and receiving UDP data, the<br>
initial data packets in the data streams can be used as the packets required to open<br>
the paths (as in step (7)). The initial data packets may be blocked, until a data<br>
packet is sent in the other direction. However, applications using UDP<br>
transmissions are typically robust against packet loss, and the method will work<br>
so long as loss of the initial data packet or packets is not critical to the application<br>
in question.<br>
5. If firewall FW1 (or FW2) changes the external IP address or port which it<br>
uses to transmit UDP data for any reason (such as a long data transmission or<br>
period of silence), the method can be adapted to refresh the data identifying the<br>
external IP addresses and ports, to maintain open transmission paths. For<br>
example, if FW1 changes the external IP address or port used to transmit UDP<br>
data originating from Cl, new packets will be sent periodically to the<br>
intermediary server S1 as in step (1), above, to identify any new IP address or port<br>
being used by FW1. The remaining steps (2) through (8) can then be repeated<br>
using new data. All that the method requires is that the same external sending IP<br>
address and port be used by FW1 for a long enough period of time that the initial<br>
packet sent to S1 in step (1) come from the same IP address and port as the initial<br>
data packets in the UDP data stream.<br>
6. In the best mode described above, server S1 is used as intermediary to<br>
receive UDP packets originating from Cl and C2, and to use information<br>
contained in those packets to identify the external ports being used by FW1 and<br>
FW2. However, any other means for informing each terminal of the other's<br>
external ports will also work according to the invention. For example, Cl and C2<br>
could use different echo servers, S1 and S2, which return any UDP packet to its<br>
source. This will permit Cl and C2 to identify F1 :f1 and F2:f2, respectively. Cl<br>
and C2 could use any other means, such as off-line exchange of information by<br><br>
the users, or TCP transmissions either directly to the other or through a common<br>
server, to inform each other about F1 :fl and F2:f2.<br>
7. The method can be used where client computers communicate through a<br>
server computer, although the method is not usually needed in that case, as a<br>
client computer generally opens a return path from the server when it logs on to<br>
the server.<br>
8. The method can also be used where only the receiving client computer is behind<br>
a firewall, but there is no firewall protecting the sending client computer.<br>
9. Although the above method has been described in the context of real-time<br>
audio and video communications using UDP packets, it will be apparent to those<br>
skilled in the art that the method has application to other forms of packet based<br>
data transmission.<br>
10. The method can also be adapted to firewalls which do not create one-to-<br>
one mappings between internal and external IP addresses and ports, by deducing<br>
the mapping scheme from received packets, and then utilizing the deduced<br>
mapping schemes to send the required packets from the external receiving IP<br>
addresses and ports of each client computer to the external sending IP addresses<br>
and ports of each other client computer.<br>
11. While the invention has been disclosed in connection with a NAPT<br>
firewall, it would also operate in the same manner if firewalls FW1 and FW2 are<br>
NAT firewalls. In that case, NAT FW1 would translate H1 :h1 to F1 :h1, and NAT<br>
FW2 would translate H2:h2 to F2:h2. The method would otherwise be identical.<br><br>
WE CLAIM<br>
1. A method of transmitting a UDP data packet from a first computer (12) to<br>
a second computer (20) over a wide area computer network (10), said<br>
first computer having a first internal network address (H1) and a<br>
designated internal port (h1) from which it will transmit the UDP data<br>
packet and said second computer having a second internal network<br>
address (H2) and a designated internal port (h2) at which it will receive<br>
the UDP data packet, wherein said first computer is protected by a first<br>
firewall (16) which translates said first internal network address to a first<br>
external network address (F1) when communicating over said wide area<br>
computer network, and said second computer is protected by a second<br>
firewall (24) which translates said second internal network address to a<br>
second external network address (F2) when communicating over said<br>
wide area computer network said first and second firewalls<br>
communicating over said wide area computer network, characterized by<br>
said method with the aid of a designated recipient computer (28) in<br>
communication with said first and second computers via said wide area<br>
computer network said method comprising:<br><br>
a) said first computer sending a first UDP data packet (U1) to said<br>
designated recipient computer using its designated internal<br>
transmitting port, and said second computer sending a second<br>
UDP data packet (U2) to said designated recipient computer using<br>
its designated internal receiving port;<br>
b) said designated recipient computer communicating said first<br>
external network address and said designated internal transmitting<br>
port determined from said first UDP data packet to said second<br>
computer, and communicating said second external network<br>
address and said designated internal receiving port determined<br>
from said second UDP data packet to said first computer;<br>
c) said second computer sending a UDP data packet (U3) using its<br>
designated internal receiving port to said first external network<br>
address and the designated internal transmitting port of said first<br>
computer; and<br><br>
d) said first computer sending a UDP data packet using its designated<br>
internal transmitting port to said second external network address<br>
and the designated internal receiving port of said second<br>
computer.<br>
2. A method for permitting two-way transmission of UDP data packets'<br>
between a first computer (12) and a second computer (20) over a wide<br>
area computer network (10), each of said first and second computers<br>
having an internal network address, a designated internal port from which<br>
it will transmit the UDP data packets, and a designated internal port at<br>
which it will receive the UDP data packets, wherein said first computer is<br>
protected by a first firewall (16) which translates said internal network<br>
address (H1) of said first computer to a first external network address<br>
(F1) when communicating over said wide area computer networks and<br>
said second computer is protected by a second firewall (24) which<br>
translates said second internal network address (H2) to a second external<br>
network address (F2) when communicating over said wide area computer<br>
network (10), said first and second firewalls communicating over said<br>
wide area computer network, wherein said method using a designated<br><br>
recipient computer (28) in communication with said first and second<br>
computers via said wide area computer network said method comprising:<br>
a) said first computer sending two UDP data packets to said<br>
designated recipient computer, one sent using the designated<br>
internal transmitting port (h1) of said first computer and one sent<br>
using the designated internal receiving port of said first computer;<br>
and said second computer sending two UDP data packets to said<br>
designated recipient computer, one sent using the designated<br>
internal transmitting port of said second computer and one sent<br>
using the designated internal receiving port (h2) of said second<br>
computer;<br>
b) said designated recipient computer communicating said first<br>
external network address, designated internal transmitting port<br>
and designated internal receiving port of said first computer,<br>
determined from said data packets sent from said first computer,<br>
to said second computer, and communicating said second external<br>
network address, designated internal transmitting port, and<br>
designated internal receiving port of said second computer,<br><br>
determined from said data packets sent from said second<br>
computer, to said first computer;<br>
c) said second computer sending a UDP data packet using its<br>
designated internal receiving port to said first external network<br>
address and designated internal transmitting port of said first<br>
computer, and said first computer sending a UDP packet using its<br>
designated internal receiving port to said second external network<br>
address and designated internal transmitting port of said second<br>
computer;<br>
d) said first computer sending UDP data packets using its designated<br>
internal transmitting port to said second external network address<br>
and designated internal receiving port of said second computer,<br>
and said second computer sending UDP data packets using its<br>
designated internal transmitting port to said first network address<br>
and designated internal receiving port of said first computer.<br>
3. A method for permitting two-way transmission of UDP data packets<br>
between any two of a plurality of computers over a wide area computer<br>
network (10), each computer having an internal network address, a<br>
designated internal port from which it will transmit the UDP data packets,<br><br>
and a designated internal port at which it will receive the UDP data<br>
packets, wherein each computer is protected by a firewall which<br>
translates said internal network address of said computer to an external<br>
network address when communicating over said wide area computer<br>
network, said firewalls communicating over said wide area computer<br>
network wherein said method using a designated recipient computer (28)<br>
in communication with said plurality of computers via said wide area<br>
computer network, said method comprising:<br>
a) said plurality of computers sending respective UDP data packets to<br>
said designated recipient computer using their designated internal<br>
receiving ports, and sending respective UDP data packets to said<br>
designated recipient computer using their designated internal<br>
transmitting ports;<br>
b) said designated recipient computer communicating the respective<br>
external network addresses, designated internal transmitting ports,<br>
and designated internal receiving ports determined from said data<br>
packets to said plurality of computers;<br>
c) a first of said plurality of computers (12) having a first external<br>
network address (H1) sending a first UDP data packet using its<br><br>
designated internal receiving port to a second external network<br>
address (H2) and designated internal transmitting port associated<br>
with a second of said plurality of computers (20), and said second<br>
of said plurality of computers sending a UDP data packet using its<br>
designated internal receiving port to said first external network<br>
address (F1) and designated internal transmitting port associated<br>
with said fist of said plurality of computers; and<br>
d) said second computer sending UDP data packets using its<br>
designated internal transmitting port to said first external network<br>
address (Fl) and designated internal receiving port associated with<br>
said first computer, and said first computer sending UDP data<br>
packets using its designated internal transmitting report to said<br>
second external network address (F2) and internal receiving port<br>
associated with said second computer.<br>
4. The method as claimed in claim 1, wherein each of said firewalls<br>
protecting each of said computers further translates said designated<br>
internal transmitting and receiving ports of each of said computers to<br>
external transmitting and receiving ports, and:<br><br>
i) in step b) of claim 1, said designated recipient computer communicates<br>
said first external network address and an external transmitting port (f1)<br>
determined from said first UDP data packet to said second computer and<br>
communicates said second external network address and an external<br>
receiving port (f2) determined from said second UDP data packet to said<br>
first computer;<br>
ii) in step (c) of claim 1, the UDP data packet sent from said second computer<br>
is sent using the designated internal receiving port of said second computer<br>
to said first external network address and external transmitting port of said<br>
first computer; and<br>
iii) in step d) of claim 1, the UDP data packet sent from said first computer is<br>
sent using the designated internal transmitting port of said first computer to<br>
said second external network address and external receiving port of said<br>
second computer.<br>
5. The method as claimed in claim 2, wherein each of said firewalls<br>
protecting each of said computers further translates said designated<br>
internal transmitting and receiving ports of each of said computers to<br>
external transmitting and receiving ports, and:<br><br>
i) in step b) of claim 2 said designated recipient computer communicates<br>
said first external network address, external transmitting port (f1); and<br>
external receiving port of said first computer, determined from said data<br>
packets sent from said first computer, to said second computer, and<br>
communicates said second external network address, external<br>
transmitting port (f2), and external receiving port of said second<br>
computer, determined from said data packets sent from said second<br>
computer, to said first computer;<br>
ii) in step c) of claim 2, the UDP data packet sent from said second<br>
computer is sent using the designated internal receiving port of<br>
said second computer to said first external network address and<br>
external transmitting port of said first computer, and the UDP<br>
data packet sent from said first computer is sent using the<br>
designated internal receiving port of said first computer to said<br>
second external network address and external transmitting port<br>
of said second computer; and<br>
iii) in step d) of claim 2, the UDP data packets sent from said first<br>
computer arc sent using the designated internal transmitting<br><br>
port of said first computer to said second external network address<br>
and external receiving port of said second computer, and the UDP<br>
packets sent from said second computer arc sent using the designated<br>
internal transmitting port of said second computer to said first external<br>
network address and external receiving port of said first computer.<br>
6. The method as claimed in claim 3, wherein each of said firewalls<br>
protecting each of said computers further translates said designed internal<br>
transmitting and receiving ports of each of said computers to external<br>
transmitting and receiving ports, and:<br>
i) in step b) of claim 3, said designated recipient computer communicates<br>
the respective external network addresses, external transmitting ports,<br>
and external receiving ports determined from said data packets to said<br>
plurality of computers;<br>
ii) in step c) of claim 3, said first of said plurality of computers<br>
sends a first UDP packet using its designated internal receiving<br>
port to said second external network address and external<br>
transmitting port (f2) associated with said second of said<br>
plurality of computers, and said second of said plurality of<br><br>
computers sends a UDP data packet using its designated<br>
internal receiving port to said first external network address and<br>
external transmitting port (f1) associated with said first of said<br>
plurality of computers; and<br>
iii) in step d) of claim 3, said second computer sends UDP data<br>
packets using its designated internal transmitting port to said<br>
first external network address and external receiving port<br>
associated with said first computer, and said first computer<br>
sends UDP data packets using its designated internal<br>
transmitting report to said second external network address and<br>
external receiving port associated with said second computer.<br>
7. The method as claimed in claims 1 to 3, wherein said firewalls are NAT<br>
firewalls.<br>
8. The method as claimed in claims 4 to 6, wherein said firewalls are NAPT<br>
firewalls.<br>
9. The method as claimed in claims 1 to 6, wherein said data packets consist<br>
of live audio / video data streams.<br><br>
10. The method as claimed in claims 1 to 6, wherein said data packets consist<br>
of stored audio / video data.<br>
11. The method as claimed in claims 1 to 6, wherein said data packets<br>
consists of the contents of a stored computer file.<br>
12. The method as claimed in claims 1 to 6, wherein said data packets<br>
consists of data streams carrying audio / video conferencing<br>
communication.<br>
13. The method as claimed in claims 1 to 6, wherein in step a), multiple data<br>
packets are sent by each of said sending computers.<br>
14. The method as claimed in claims 1 to 6, wherein in step c), multiple data<br>
packets are sent by each of said sending computers.<br>
15. The method as claimed in claims 1 to 6, wherein, in step d), multiple data<br>
packets are sent by each of said sending computers.<br><br>
16. The method as claimed in claims 1 to 3, wherein each of said computers<br>
uses the same internal ports for sending and receiving said data packets<br>
and:<br>
i) the UDP data packets sent by each sending computer are sent using the<br>
common internal transmitting and receiving port of said computer, and<br>
ii) the UDP data packets sent to each receiving computer are sent to the<br>
common internal transmitting and receiving port of said computer.<br>
17. The method as claimed in claims 4 to 6, wherein each of said computer<br>
uses the same internal ports for transmitting and receiving said data<br>
packets, which internal ports get translated by said firewalls into the same<br>
external ports for sending and receiving said data packets and:<br>
i) the UDP data packets sent by each sending computer arc sent using the<br>
common internal transmitting and receiving port of said computer and<br>
ii) the UDP data packets sent to each receiving computer arc sent to the<br>
common external transmitting and receiving port of said computer.<br><br>
18. The method as claimed in claims 1 to 6, wherein the steps therein are<br>
repeated periodically to accommodate changes in the external ports being<br>
used by some or all of the firewalls.<br>
19. The method as claimed in claims 1 to 6, wherein said designated recipient<br>
computer is a common server.<br>
20. The method as claimed in claims 1 to 6, wherein said designated recipient<br>
computer is a peer computer involved in the data transmission.<br>
21. The method as claimed in claims 1 to 6, wherein said designated recipient<br>
computer is a peer computer not involved in the data transmission.<br>
22. The method as claimed in claims 1 to 6, wherein:<br>
i) said designated recipient computer is an echo server, and said echo<br>
server communicates said addresses and ports from each of said UDP<br>
data packets transmitted to said designated recipient computer to the<br>
computer which was the source of said UDP data packet, and<br><br>
ii) said source computers communicate their respective addresses and ports<br>
to the other computers over said wide area computer network.<br>
23. The method as claimed in claims 1 to 6, wherein said computers<br>
communicate through a wide area network by transmitting data through a<br>
server computer.<br>
24. A system for transmitting a UDP data packet between two firewall-<br>
protected computers over a wide area network (10), said system<br>
comprising:<br>
- first and second computers adapted to communicate over<br>
a wide area computer network, wherein said first computer<br>
(12) has a first internal network address (H1) and a<br>
designated internal port (h1) for transmitting said UDP<br><br>
data packet and said second computer (20) has a second<br>
internal network address (H2) and a designated internal port<br>
(h2) for receiving said UDP data packet, wherein said first<br>
computer is protected by a first firewall (16) which translates<br>
said first internal network address and designated internal<br>
transmitting port to a first external network address (F1) and<br>
external transmitting port (fl) when communicating over said<br>
wide area network, and said second computer is protected by<br>
a second firewall (24) which translates said second internal<br>
network address and designated internal receiving port to a<br>
second external network address (F2) and external receiving<br>
port (f2) when communicating over said wide area network<br>
said first and second firewalls communicating over said wide<br>
area computer network;<br>
- characterized by a designated recipient computer (28) in<br>
communication with said first and second computers via<br>
said wide area computer network;<br>
- wherein said first and second computers comprise means<br>
for sending first (U1) and second (U2) UDP data packets to<br>
said designated recipient computer;<br><br>
- said first computer is adapted to send said first UDP data<br>
packet (U1) using its designated internal transmitting port<br>
and said second computer is adapted to send said second<br>
UDP data packet using its designated internal receiving<br>
port;<br>
- said designated recipient computer comprises means for<br>
communicating said first external network address and<br>
external transmitting port determined from said first UDP<br>
data packet to said second computer and communicating<br>
said second external network address and external<br>
receiving port determined from said second UDP data<br>
packet to said first computer;<br>
- said second computer comprises means for sending a UDP<br>
data packet (U3) using its internal receiving port to said<br>
first external network address and the external<br>
transmitting port of said first computer; and<br><br>
said first computer comprising means for sending said UDP<br>
data packet using its internal transmitting report to said<br>
second external network address and the external<br>
receiving port of said second computer.<br>
Currently data transmission over the Internet between two client computers<br>
where both client computers are protected by firewalls is problematic, since<br>
firewalls block incoming packets. A method is provided for permitting packet<br>
based data transmission between a first client computer C1 protected by a first<br>
NAPT or NAT firewall and a second client computer C2 protected by a second<br>
NAPT or NAT firewall to traverse the first and the second firewalls. The method<br>
can also be applied to other devices, such as routers, using NAT or NAPT.</td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
		<br>
		<div class="pull-left">
			<a href="224960-method-of-treatment-of-a-patient-requiring-analgesia.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="224962-n-aminoacetyl-pyrrolidine-2-carbonitriles-and-their-use-as-ddp-iv-inhibitors.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>224961</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>01044/KOLNP/2003</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>44/2008</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>31-Oct-2008</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>29-Oct-2008</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>18-Aug-2003</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>EYEBALL NETWORKS INC.</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>500-100 PARK ROYAL, WEST VANCOUVER, BRITISH COLUMBIA V7T 1A2</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>PICHE CHRISTOPHER</td>
											<td>500-100 PARK ROYAL, WEST VANCOUVER, BRITISH COLUMBIA V7T 1A2</td>
										</tr>
										<tr>
											<td>2</td>
											<td>KHAN MD. SHAHADATULLAH</td>
											<td>1102-145 ST. GEORGES AVENUE, NORTH VANCOUVER, BRITISH COLUMBIA V7T 3G8</td>
										</tr>
										<tr>
											<td>3</td>
											<td>MARWOOD DAVID EVEREIT</td>
											<td>863 WESTVIEW CRESCENT, NORTH VACOUVER, BRITISH COLUMBIA V7N 3X9</td>
										</tr>
										<tr>
											<td>4</td>
											<td>CHUNG MICHAEL</td>
											<td>1495 JOHNSON ROAD, RR6, GIBSONS, BRITISH COLUMBIA V0N 1V6</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04L 29/06, 29/12</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/CA02/00214</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2002-02-19</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>60/269,357</td>
									<td>2001-02-20</td>
								    <td>Canada</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/224961-method-apparatus-and-system-for-transmitting-udp-data-pakkets-over-a-wide-area-network by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2024 23:55:12 GMT -->
</html>
