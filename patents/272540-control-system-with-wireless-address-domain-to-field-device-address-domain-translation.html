<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/272540-control-system-with-wireless-address-domain-to-field-device-address-domain-translation by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 00:00:13 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 272540:CONTROL SYSTEM WITH WIRELESS ADDRESS DOMAIN TO FIELD DEVICE ADDRESS DOMAIN TRANSLATION</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">CONTROL SYSTEM WITH WIRELESS ADDRESS DOMAIN TO FIELD DEVICE ADDRESS DOMAIN TRANSLATION</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A host computer communicates with field devices over a wireless network that includes a gateway and a plurality of wireless nodes. At least one of the field devices is associated with each wireless node, and each field device has a unique field device address. The host computer sends control messages to field devices using their field device addresses. The gateway translates the field device address of a control message to a wireless address of the wireless node with which the field device is associated. The gateway sends a wireless message over the network to the wireless node at the wireless address. The message contains the field device address so that, when the wireless message is received and opened, the control message from the host computer can be routed to the intended field device based upon the field device address.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>CONTROL SYSTEM WITH WIRELESS ADDRESS DOMAIN TO<br>
FIELD DEVICE ADDRESS DOMAIN TRANSLATION<br>
BACKGROUND OF THE INVENTION<br>
The present invention relates to wireless networks. In<br>
particular, the invention relates to a wireless mesh network in which process<br>
control messages are communicated between a host and field devices at<br>
nodes of the wireless mesh network.<br>
In many industrial settings, control systems are used to<br>
monitor and control inventories, processes, and the like. Often, such control<br>
systems have a centralized control room with a host computer mat<br>
communicates with field devices that are separated or geographically<br>
removed from the control room.<br>
Generally, each field device includes a transducer, which may<br>
generate an output signal based on a physical input or generate a physical<br>
output based on an input signal. Types of transducers used in field devices<br>
include various analytical equipment, pressure sensors, thermistors,<br>
thermocouples, strain gauges, flow sensors, positioners, actuators, solenoids,<br>
indicators, and the like. Traditionally, analog field devices have been<br>
connected to the process subsystem and the control room by two-wire<br>
twisted-pair current loops, with each device connected to the control room by<br>
a single two-wire twisted pair loop. Typically, a voltage differential is<br>
maintained between the two wires of approximately 20 to 25 volts, and a<br>
current between 4 and 20 milliamps (mA) runs through the loop. An analog<br>
field device transmits a signal to the control room by modulating the current<br>
running through the current loop to a current proportional to the sensed<br>
process variable. An analog field device that performs an action under the<br>
control of the control room is controlled by the magnitude of the current<br>
through the loop, which is modulated by the ports of the process subsystem<br>
under the control of the controller.<br>
While historically field devices were capable of performing<br>
only one function, more recently hybrid systems that superimpose digital<br>
data on the current loop have been used in distributed control systems. The<br>
Highway Addressable Remote Transducer (HART) superimposes a digital<br><br>
carrier signal on the current loop signal. The digital carrier signal can be<br>
used to send secondary and diagnostic information. Examples of information<br>
provided over the carrier signal include secondary process variables,<br>
diagnostic information (such as sensor diagnostics, device diagnostics,<br>
wiring diagnostics, process diagnostics, and the like), operating<br>
temperatures, sensor temperature, calibration data, device ID numbers,<br>
configuration information, and so on. Accordingly, a single field device may<br>
have a variety of input and output variables and may implement a variety of<br>
functions.<br>
Another approach uses a digital communication bus to<br>
connect multiple field devices to the host in the control room. Examples of<br>
digital communication protocols used with field devices connected to a<br>
digital bus include Foundation Fieldbus, Profibus, Modbus, and DeviceNet<br>
Two way digital communication of messages between a host computer and<br>
multiple field devices can be provided over the same two-wire path that<br>
supplies power to the field devices.<br>
Typically, remote applications have been added to a control<br>
system by running very long homerun cables from the control room to the<br>
remote application. If the remote application is, for example, a half of a mile<br>
away, the costs involved in running such a long cable can be high. If<br>
multiple homerun cables have to be run to the remote application, the costs<br>
become even higher. Wireless communication offers a desirable alternative,<br>
and wireless mesh networks have been proposed for use in industrial process<br>
control systems. However, to minimize costs, it is also desirable to maintain<br>
existing control systems and communication protocols, to reduce the costs<br>
associated with changing existing systems to accommodate the wireless<br>
communication.<br>
In wireless mesh network systems designed for low power<br>
sensor/actuator-based applications, many devices in the network must be<br>
powered by long-life batteries or by low power energy-scavenging power<br>
sources. Power outlets, such as 120VAC utilities, are typically not located<br>
nearby or may not be allowed into the hazardous areas where the<br>
instrumentation (sensors) and actuators must be located without incurring<br><br>
great installation expense. The need for low installation cost drives the need<br>
for battery-powered devices communicating as part of a wireless mesh<br>
network. Effective utilization of a limited power source, such as a primary<br>
cell battery which cannot be recharged, is vital for a well functioning<br>
wireless device. Batteries are expected to last more than 5 years and<br>
preferably as long as the life of the product.<br>
In a true wireless mesh network, each node must be capable<br>
of routing messages for itself as well as other nodes in the mesh network.<br>
The concept of messages hopping from node to node through the network is<br>
beneficial because lower power RF radios can be used; and yet the mesh<br>
network can span a significant physical area delivering messages from one<br>
end to the other. High power radios are not needed in a mesh network, in<br>
contrast a point-to-point system which employs remote nodes talking directly<br>
to a centralized base-station.<br>
A mesh network protocol allows for the formation of alternate<br>
paths for messaging between nodes and between nodes and a data collector,<br>
or a bridge or gateway to some higher level higher-speed data bus. Having<br>
alternate, redundant paths for wireless messages enhances data reliability by<br>
ensuring there is at least one alternate path for messages to flow even if<br>
another path gets blocked or degrades due to environmental influences or due<br>
to interference.<br>
Some mesh network protocols are deterministically routed<br>
such mat every node has an assigned parent and at least one alternate parent.<br>
In the hierarchy of the mesh network, much as in a human family, parents<br>
have children, children have grandchildren, and so on. Each node relays the<br>
messages for their descendants through the network to some final destination<br>
such as a gateway. The parenting nodes may be battery-powered or limited-<br>
energy powered devices. The more descendants a node has, the more traffic<br>
it must route, which in turn directly increases its own power consumption<br>
and diminishes its battery life.<br>
In order to save power, some protocols limit the amount of<br>
traffic any node can handle during any period of time by only turning on the<br>
radios of the nodes for limited amounts of time to listen for messages. Thus,<br><br>
to reduce average power, the protocol may allow duty-cycling of the radios<br>
between On and Off states. Some protocols use a global duty cycle to save<br>
power such that the entire network is On and Off at (he same time. Other<br>
protocols (e.g. TDMA-based) use a local duty cycle where only the<br>
communicating pair of nodes that are linked together are scheduled to turn<br>
On and Off in a synchronized fashion at predetermined times. Typically, the<br>
link is pre-determined by assigning the pair of nodes a specific time slot for<br>
communications, an RF frequency channel to be used by the radios, who is<br>
to be receiving (Rx), and who is to be transmitting (Tx) at that moment in<br>
time.<br>
Some protocols employ the concept of assigning links to<br>
nodes on a regular repetitive schedule and thereby enable regular delivery of<br>
updates and messages from devices in the network. Some advanced TMDA-<br>
based protocols may employ the concept of multiple active schedules, these<br>
multiple schedules running all at the same time or with certain schedules<br>
activated/deactivated by a global network controller as the need arises. For<br>
example, slow active schedules link nodes sending messages with longer<br>
periods of time Cong cycle time) between messages to achieve low power<br>
consumption. Fast active schedules link nodes sending messages more<br>
rapidly for better throughput and lower latency, but result in higher power<br>
consumption in the nodes. With protocols that allow multiple active<br>
schedules, some schedules could be optimized for upstream traffic, others for<br>
downstream traffic and yet others for network management functions such as<br>
device joining and configuration. Globally activating/deactivating various<br>
schedules throughout the entire network in order to meet different needs at<br>
different times provides a modicum of flexibility for achieving advantageous<br>
trade-offs between power consumption and low latency, but applies the same<br>
schedule to all nodes and thus does not provide local optimization.<br>
In a synchronized system, nodes will have to wait to transmit<br>
until their next predetermined On time before they can pass messages.<br>
Waiting increases latency, which can be very detrimental in many<br>
applications if not bounded and managed properly. Tf the pair of nodes that<br>
are linked together are not synchronized properly, they will not succeed in<br><br>
passing messages because the radios will be On at the wrong time or in the<br>
wrong mode (Rx or Tx) at the wrong time. If the only active schedule has a<br>
long cycle time, the time between scheduled links will be long and latency<br>
will suffer. If a fast schedule is activated, the time between scheduled links<br>
will be short but battery life will be measurably reduced over time.<br>
Some protocols allow running a slow schedule in the<br>
background and globally activating/deactivating an additional fast schedule.<br>
Since it takes time to globally activate a fast schedule throughout the entire<br>
network and get confirmation back from all nodes that they have heard the<br>
global command, the network or sub-network remains in the less responsive<br>
mode during the transition time. Furthermore, with a globally activated fast<br>
schedule, power is wasted in all the parenting nodes in the network, even<br>
those whose descendants will not benefit from the fast schedule. These<br>
unappreciative parent nodes must listen more often on the global fast active<br>
schedule (i.e. turn their radios On to Rx more often); even though their<br>
descendants have nothing extra to send that a regular active schedule would<br>
not suffice in that portion of the network.<br>
Some protocols may limit the number of descendants a node<br>
can have, thereby reducing the load the node must support. Other protocols<br>
may employ a combination of all of these measures to reduce average power<br>
consumption. All of these power-saving measures have the effect of<br>
reducing the availability of the nodes in the network to do the work of<br>
passing messages, thereby increasing the latency of messages delivered<br>
through the network. Duty-cycling the radio increases latency. Hopping<br>
messages from node to node increases latency. Increasing hop depth (hop<br>
count) by limiting the number of descendants increases latency. Running a<br>
slow active schedule (long cycle period) increases latency. Even globally<br>
activating a fast active schedule takes time. It is likely that the value of<br>
information diminishes with time, so the longer the latency, the less valuable<br>
the information may be.<br>
BRIEF SUMMARY OF THE INVENTION<br>
Communication between a host computer and a plurality of<br>
field devices is provided over a wireless network having a gateway and a<br><br>
plurality of wireless nodes. Each node has a unique wireless address in a<br>
wireless address domain and is associated with one or more of the field<br>
devices. Each field device has a unique field device address in a field device<br>
address domain.<br>
The host computer generates messages to be sent to the field<br>
devices using the field device domain address. The gateway translates the<br>
field device address to a corresponding wireless address of the wireless node<br>
associated with the field device being addressed. A wireless message, which<br>
includes both the wireless address and the field device address, is then sent<br>
wirelessly to the wireless domain address. The wireless node at that wireless<br>
address receives the wireless message, which includes the field device<br>
address, and directs the message to the intended field device.<br>
BRIEF DESCRIPTION OF THE DRAWINGS<br>
FIG. 1 is a diagram illustrating a control system in which a<br>
wireless mesh network routes wireless messages between a host and field<br>
devices.<br>
FIG. 2 is a block diagram of a portion of the control system of<br>
FIG. 1, including a host computer, a gateway node, and a wireless node with<br>
a field device.<br>
FIG. 3 is a diagram illustrating the format of wireless<br>
messages transmitted by the wireless network.<br>
FIG. 4 shows the format of a control message from a host to a<br>
field device based upon a control system protocol.<br>
FIG. 5 shows one embodiment of the control message as<br>
modified to form the payload of the wireless message shown in FIG. 3.<br>
FIG. 6 shows another embodiment of the control message as<br>
modified with a trailer to form the payload of the wireless message shown in<br>
FIG. 3.<br>
DETAILED DESCRIPTION<br>
FIG. 1 shows control system 10, which includes host<br>
computer 12, highspeed network 14, and wireless mesh network 16, which<br>
includes gateway 18 and wireless nodes 20, 22, 24, 26, 28, and 30. Gateway<br>
18 interfaces mesh network 16 with host computer 12 over highspeed .<br><br>
network 14. Messages may be transmitted from host computer 12 to<br>
gateway 18 over network 14, and are then transmitted to a selected node of<br>
mesh network 16 over one of several different paths. Similarly, messages<br>
from individual nodes of mesh network 16 are routed through mesh network<br>
16 from node-to-node over one of several paths until they arrive at gateway<br>
18 and are then transmitted to host 12 over highspeed network 14.<br>
Control system 10 can make use of field devices that have<br>
been designed for and used in wired distributed control systems, as well as<br>
field devices that are specially designed as wireless transmitters for use in<br>
wireless mesh networks. Nodes 20, 22,24, 26, 28, and 30 show examples of<br>
wireless nodes that include conventional field devices.<br>
Wireless node 20 includes radio 32, wireless device router<br>
(WDR) 34, and field devices FD1 and PD2. Node 20 is an example of a<br>
node having one unique wireless address and two unique field device<br>
addresses.<br>
Nodes 22, 24, 26, and 28 are each examples showing nodes<br>
having one unique wireless address and one unique field device address.<br>
Node 22 includes radio 36, WDR 38, and field device FD3. Similarly, field<br>
device 24 includes radio 40, WDR 42, and field device FD4; node 26<br>
includes radio 44, WDR 46, and field device FD5, and node 28 includes<br>
radio 48, WDR SO, and field device FD6.<br>
Node 30 has one unique wireless address and three unique<br>
field device addresses. It includes radio 52, WDR 54, and field devices FD7,<br>
FD8, and FD9.<br>
Wireless network 16 is preferably a low power network in<br>
which many of the nodes are powered by long life batteries or low power<br>
energy scavenging power sources. Communication over wireless network 16<br>
may be provided according to a mesh network configuration, in which<br>
messages are transmitted from node-to-node through network 16. This<br>
allows the use of lower power RF radios, while allowing the network 16 to<br>
span a significant physical area to deliver messages from one end of the<br>
network to the other.<br><br>
In a wired control system, interaction between the host<br>
computer and the field devices occurs using well known control messages<br>
according to a control message protocol such as HART, Foundation<br>
Fieldbus, Profibus, or the like. Field devices capable of use in wired control<br>
systems (such as field devices FD1-FD9 shown in FIG. 1) make use of<br>
control messages according to one of the known control message protocols.<br>
Wireless nodes 20-30, which are part of wireless network 16, cannot directly<br>
exchange these well known control messages with host computer 12 because<br>
the wireless communication over network 16 occurs according to a wireless<br>
protocol that is general purpose in nature.<br>
Rather than require host computer 12 and field devices FD1-<br>
FD9 to communicate using wireless protocol, a method can be provided to<br>
allow sending and receiving well known field device control messages<br>
between host computer 12 and field devices FD1-FD9 over wireless network<br>
16. The well known field device control messages are embedded into the<br>
general purpose wireless protocol so that the control messages can be<br>
exchanged between host computer 12 and field devices FD1-FD9 to achieve<br>
control of an interaction with field devices FD1-FD9. As a result, wireless<br>
network 16 and its wireless communication protocol is essentially<br>
transparent to host computer 12 and field devices FD1-FD9. In the<br>
following description, the HART protocol will be used as an example of a<br>
known control message protocol, although the invention is applicable to<br>
other control message protocols (e.g. Foundation Fieldbus, Profibus, etc.) as<br>
well.<br>
A similar issue relates to the addresses used by host computer<br>
12 to direct messages to field devices FD1-FD9. In wired systems, the host<br>
computer addresses each field device with a unique field device address.<br>
The address is defined as part of the particular communication protocol being<br>
used, and typically forms a part of control messages sent by the host<br>
computer to the field devices.<br>
When a wireless network, such as network 16 shown in FIO.l<br>
is used to route messages from the host computer to field devices, the field<br>
device addresses used by the host computer are not compatible with the<br><br>
wireless addresses used by the communication protocol of the wireless<br>
network. In addition, there can be multiple field devices associated with a<br>
single wireless node, as illustrated by wireless nodes 20 and 30 in FIG. 1.<br>
Wireless node 20 includes two field devices, FD1 and FD2, while wireless<br>
node 30 is associated with three fietd devices, FD7-FD9.<br>
One way to deal with addresses is to require host computer 12<br>
to use wireless addresses rather than field device addresses. This approach,<br>
however, requires host computer 12 to be programmed differently depending<br>
upon whether it is communicating over wired communication links with field<br>
devices, or whether it is communicating at least in part over a wireless<br>
network. In addition, there remains the issue of multiple field devices, which<br>
will typically have different purposes, and which need to be addressed<br>
individually.<br>
An alternative approach uses gateway 18 to translate field<br>
device addresses provided by host computer 16 into corresponding wireless<br>
addresses. A wireless message is sent to the wireless address, and also<br>
includes a field device address so that the node receiving the message can<br>
direct the message to the appropriate field device. By translating field device<br>
addressees to corresponding wireless addresses, host computer 12 can<br>
fonction in its native field address domain when interacting with field<br>
devices. The presence of wireless network 16 is transparent to host computer<br>
12 and field devices FD1-FD9.<br>
Still another issue caused by the use of wireless network 16 to<br>
communicate between host computer 12 and field devices FD1-FD9 is the<br>
unavailability of field devices because of power conservation. In a wired<br>
control system, the host computer interacts with field devices as if they were<br>
available on demand. The assumption is that the field devices are always<br>
powered up and available.<br>
In a low power wireless network, this is not the case. To<br>
conserve power, field devices in a low power wireless network are<br>
unavailable, or asleep, most of the time. Periodically, the wireless network<br>
goes into a non-sleep state during which messages can be communicated to<br><br>
and from the field devices. After a period of time, the wireless network<br>
again goes into a low power sleep state.<br>
If the host computer attempts to communicate during a period<br>
when the wireless network is in a sleep state, or when a particular field<br>
device is in a low power sleep state, the failure of the field device to respond<br>
immediately can be interpreted by the host computer as a communication<br>
failure. The host computer does not determine the particular route that<br>
messages take through the wireless network, and does not control the power<br>
up and power down cycles for wireless communication. As a result, the host<br>
computer can interpret a lack of response of field devices as a device failure,<br>
when the lack of response is an inherent result of the way that<br>
communication takes place within a low power wireless network.<br>
In order to make the presence of wireless network 16<br>
transparent to host computer 12, gateway 18 decouples transmission of field<br>
device messages between host computer 12 and wireless network 16.<br>
Gateway 18 determines the current state of wireless network 16 and tracks its<br>
power cycles. In addition, it maintains information on the response times<br>
required for a field device to be turned on and then be ready to provide a<br>
response message to a control message from host computer 12.<br>
When a message is provided by host computer 12 to gateway<br>
18, a determination of an expected response time is made based upon the<br>
field device address. That expected response time is provided to host<br>
computer 12, so mat host computer 12 will not treat the absence of a<br>
response message prior to the expected response time elapsing as a<br>
communication failure. As a result, host computer 12 is allowed to treat field<br>
devices FD1-FD9 as if they were available on demand, when in fact wireless<br>
network 16 and field devices FD1-FD9 are not available on demand.<br>
FIG. 2 shows a block diagram of a portion of the control<br>
system 10 shown in FIG. 1. FIG. 2, host computer 12, highspeed network<br>
14, gateway 18, and wireless node 22 are shown.<br>
hi FIG. 2, host computer 12 is a distributed control system<br>
host running application programs to facilitate sending messages to field<br>
devices FD1-FD9, and receiving and analyzing data contained in messages<br><br>
from field devices FD1-FD9. Host computer 12 may use, for example, AMS<br>
(tm) Device Manager as an application program to allow users to monitor<br>
and interact with field devices FD1-FD9.<br>
Host computer 12 communicates with gateway 18 using<br>
messages in extendable markup language (XMI) format. Control messages<br>
intended for field devices FD1-FD9 are presented according to the HART<br>
protocol, and are communicated to gateway 18 in XML format.<br>
In the embodiment shown in FIG. 2, gateway 18 includes<br>
gateway interface 60, mesh manager 62, and radio 64. Gateway interface 60<br>
receives the XML document from host computer 12, extracts the HART<br>
control message, and modifies the control message into a format to be<br>
embedded in a wireless message that will be transmitted over wireless<br>
network 16.<br>
Mesh manager 62 forms the wireless message with the HART<br>
control message embedded, and with the wireless address of the node<br>
corresponding to the field device to which the HART message is directed.<br>
Mesh manager 62 may be maintaining, for example, a lookup table that<br>
correlates each field device address with the wireless address of the node at<br>
which the field device corresponding to that field device address is located.<br>
In this example, the field device of interest is device FD3 located at wireless<br>
node 22. The wireless message according to the wireless protocol includes<br>
the wireless node address, which is used to route the wireless message<br>
through network 16. The field device address is contained in the HART<br>
message embedded within the wireless message, and is not used for routing<br>
the wireless message through network 16. Instead, the field device address is<br>
used once the wireless message has reached the intended node.<br>
Mesh manager 62 causes radio 64 to transmit the wireless<br>
message, so that it will be transmitted by one or multiple hops within<br>
network 16 to node 22. For example, the message to node 22 may be<br>
transmitted from gateway 18 to node 20 and then to node 22, or alternatively<br>
from gateway 18 to node 26 and then to node 22. Other routes are also<br>
possible in network 16.<br><br>
Gateway interface 60 and mesh manager 62 also interact with<br>
host computer 12 to manage the delivery of control messages to field devices<br>
as if wireless network 16 were powered on even though it may be powered<br>
off (i.e. sleep mode). Mesh manager 60 determines the correct powered state<br>
of wireless network 16. It also calculates the time of the power cycles in<br>
order to determine the future time when wireless network 16 will change<br>
state from power on to oS, or from power off to on. Response time can be<br>
affected if a message is sent while power is on to the wireless network, but-a<br>
response will not occur until the next power on cycle. Still another factor is<br>
the start-up time of the field device. Mesh manager 62 or gateway interface<br>
60 may maintain a data base with start-up times for the various field devices.<br>
By knowing field device address, an expected start-up time can be<br>
determined.<br>
Based upon the current power state of wireless network 16,<br>
the amount of time before wireless network will change state, the field<br>
device's start-up time, expected network message routing time, and the<br>
potential for a response to occur in the next power on cycle rather than the<br>
current cycle, estimated times required for the message to be delivered to the<br>
field device and for the response message to return to gateway 18 can be<br>
calculated. That information can then be provided to host computer 12.<br>
Since host computer 12 will not expect a response prior to the estimated<br>
response time, the failure to receive a message prior to that time will not be<br>
treated by host computer 12 as a communication failure or field device<br>
failure.<br>
Based upon the factors affecting response time, gateway 18<br>
may also determine the best strategy to attempt communication with the field<br>
device given the known power cycle of wireless network 16. For example, if<br>
a power cycle is about to change from on to off, a better strategy may be to<br>
wait until the beginning of the next power on cycle to begin routing the<br>
message through wireless network 16.<br>
As shown in FIG. 2, wireless node 22 includes radio 36,<br>
wireless device router (WDR) 38, and field device FD3. In this particular<br>
example, field device ED3 is a standard HART field device,  which<br><br>
communicates field data using the HART control message protocol. Field<br>
device FD3 is powered on and off by, and communicates directly with, WDR<br>
38.<br>
The wireless message transmitted over network 16 is received<br>
at radio 36 of wireless node 22. The wireless message is checked by WDR<br>
38 to see whether it is addressed to node 22. Since node 22 is the destination<br>
address, the wireless message is opened, and the embedded HART message<br>
is extracted. WDR 38 determines that the HART message is intended for<br>
field device FD3 based upon the field device address contained in the<br>
embedded HART message.<br>
For power saving reasons, WDR 38 may be maintaining field<br>
device FD3 in sleep mode until some action is required. Upon receiving the<br>
HART message contained within the wireless message, WDR 38 takes steps<br>
to start up field device FD3. This may be a matter of only a few seconds, or<br>
may be, for example, a delay on the order of 30 to 60 seconds. When field<br>
device FD3 is ready to receive the HART message and act upon it, WDR 38<br>
transmits the HART control message to field device FD3.<br>
The message received by field device FD3 may require,<br>
providing a message in response that includes measurement data or other<br>
status information. Field device FD3 takes the necessary action to gather the<br>
measurement data or generate the status information, generates a response<br>
message in the HART control format, and transmits the message to WDR 38.<br>
The HART response message is then modified and embedded into a wireless<br>
response message according to the wireless protocol, and addressed to<br>
gateway 18. WDR 38 provides the wireless response message to radio 36 for<br>
transmission onto wireless network 16. The wireless response message is<br>
then transmitted in one or multiple hops to gateway 18, where the HART<br>
response message is extracted from the wireless response message, is<br>
formatted in XML, and is transmitted over highspeed network 14 to host<br>
computer 12.<br>
FIG. 3 shows a diagram of a typical wireless message sent<br>
over the wireless network shown in FIGS. 1 and 2. Wireless message 70<br>
includes wireless protocol bits 72, payload 74, and wireless protocol bits 76.<br><br>
Protocol bits 72 and 76 are required for proper routing of wireless message<br>
70 through mesh network 16 to the desired destination. Payload 74<br>
represents the substance of the control message being transmitted. In the<br>
present invention, the control message (in the control message protocol used<br>
by both host computer 12 and field devices FD1-FD9) is embedded within<br>
wireless message 70 as payload 74.<br>
FIG. 4 shows the format of control message 80 as generated<br>
by host computer 12. In this particular example, control message 80 is<br>
configured using the HART protocol. Control message 80 includes<br>
preamble 82, delimiter 84, field device address 86, command 88, byte count<br>
90, data 92, and check byte 94. Control message 80 is modified at gateway<br>
interface 60 and then embedded into wireless message 70 as payload 74.<br>
FIG. 5 shows the format of payload 74 formed from control<br>
message 80. To produce payload 74, interface 60 removes physical layer<br>
overhead from control message 80 and adds sequence information.<br>
As shown by a comparison of FIGS. 4 and 5, the first<br>
difference between payload 74 and control message 80 is that preamble 82<br>
has been removed. Since the control message will be sent over the network<br>
using the wireless protocol, the use of a preamble is unnecessary. Removal<br>
of preamble 82 improves efficiency of network 16 by eliminating<br>
unnecessary information.<br>
The second difference between payload 74 and control<br>
message 80 is the addition of message ID 96, which is a two-byte number<br>
that follows data 92, and precedes check byte 94. The removal of preamble<br>
82 and the addition of message ID 96 also requires that check byte 94 be<br>
recalculated.<br>
The purpose of message ID 96 is for stale message rejection.<br>
This allows the receiver of a message to reject out of order messages.<br>
Wireless mesh network 16 is designed such that messages can take multiple<br>
paths to get to their destination. The message is passed from one node to<br>
another, and it is possible that the message may be delayed at a particular<br>
node. This could be caused by interference or poor signal quality. If a<br>
message is delayed long enough, host 12 may issue a retry and/or a new<br><br>
message. In that case, it is possible that one or more messages may arrive at<br>
the destination node before the delayed message is delivered. When the<br>
delayed control message is delivered, message ID 96 can be used to accept or<br>
reject the control message.<br>
FIG. 6 shows a second embodiment of the format of payload<br>
74, in which trailer junction code 98 and trailer payload (or message ID) 96<br>
form trailer frame 100, which is appended to the control message formed by<br>
delimiter 84, field device address 86, command 88, byte count 90, data 92<br>
and check byte 94. Trailer 100 is not included in check byte 94, and instead<br>
depends on the wireless network protocol layers for data integrity and<br>
reliability.<br>
Trailer 100 contains function code 9B and payload 96 (which<br>
includes the message ID, if any). Function code 98 is an unsigned byte<br>
which defines the content of trailer 100. Undefined payload bytes such as<br>
additional padding bytes will be ignored. Use of trailer 100 only applies to<br>
messages between gateway 18 and wireless field devices FD1-FD9. Table 1<br>
shows an example of function codes defined for trailer 100:<br><br>
Function codes 0-3 are used with reference to a message ID.<br>
Message IDs are used for stale message rejection on wireless mesh network<br>
16.  This allows the receiver of a message to reject out of order messages.<br>
Additionally, message IDs can be used by gateway 18 to determine whether<br>
published data has arrived out of order.<br>
Rules for generating the Message ID are as follows:<br>
The message ID enumerates a message sequence from a<br>
sender to a receiver.  It is a two byte unsigned value which must be unique<br>
and increasing by one with each new message ID.<br><br>
A new message ID should be generated for every<br>
request/response transaction. Retries of a request from a sender to a receiver<br>
may re-use a message ID provided that there is no more than one request<br>
outstanding from a sender to a receiver. After receiving a valid request<br>
message with a valid message ID, the field device must echo back the<br>
received message ID with the response.<br>
A new message ID should be generated for every publish<br>
message from a device. Publish message IDs are generated independently of<br>
request/response message IDs.<br>
Rules for validating the Message ID are as follows:<br>
The receiver must implement a window for validating<br>
message IDs so that the validity comparison survives a rollover of the<br>
message ID counter. As an example, any messages within a window of 256<br>
previous IDs could be ignored as out of order by the WDR/field device. But,<br>
if message ID is safely outside the window the receiver should accept the<br>
message. Any accepted message will cause the message ID to be cached as<br>
the last valid received message ID.<br>
After a restart, a receiver may accept the first message ID it<br>
receives or else it must initialize its validity-checking in whatever manner the<br>
device application sees fit. A guideline for this initialization would be for a<br>
device to always accept new stateless requests without requiring a device<br>
publish to first reach the gateway.<br>
The receiver of a published message with an invalid (out of<br>
order) ID may either use or reject the message, depending on the receiver's<br>
application.<br>
Rules for interpreting function codes are as follows:<br>
A sender can send a message without a message ID by either<br>
omitting trailer 100 or by specifying NO MESSAGE ID as the function code.<br>
If a response is generated and the WDR/field device supports trailers, the<br>
return function code should be set to "NO MESSAGE ID".<br>
If a message ID is provided, it must be accepted if the<br>
function code is set to FORCE ACCEPT or CLEAR FORCE ACCEPT<br><br>
WITH FORCE. A message with a function code of NORMAL ID will be<br>
subject to potential discard via the message ID validation rules.<br>
If gateway 18 has reset, it should make its first request using<br>
the FORCE ACCEPT function code. The will force the receiving field<br>
device to accept the request and the attached message ID. This relieves<br>
gateway 18 of needing to learn the value of the device's valid message ID<br>
counter. Gateway 18 should stop using FORCE ACCEPT once it has<br>
received a valid response message with the matching message ID.<br>
Gateway 18 should honor the CLEAR FORCE ACCEPT<br>
WITH FORCE function code as a valid message ID, but a WDR/field device<br>
should not send CLEAR FORCE ACCEPT WITH FORCE to gateway 18.<br>
If a WDR/field device in the system has reset, it should send<br>
publish messages with the command set to FORCE ACCEPT. This will<br>
force gateway 18 to accept the published data.<br>
If gateway 18 sees the FORCE ACCEPT function code, it<br>
may issue a CLEAR FORCE ACCEPT WITH FORCE in a subsequent<br>
message along with a valid message ID.<br>
On receipt of CLEAR FORCE ACCEPT WITH FORCE, the<br>
WDR/field device should clear the force accept condition and always accept<br>
the message ID provided.<br>
The use of embedded control messages (in a control message<br>
protocol) within wireless messages (in a wireless protocol) enables the host<br>
computer of a distributed control system to interact with field devices<br>
through a wireless communication network. Control messages can be<br>
exchanged between the host computer and the field devices using known<br>
control message rbrmats, such as HART, Fieldbus, or the like, without<br>
having to be modified by either the host computer or the field devices to<br>
accommodate transmission of the control messages over the wireless<br>
network. The control message is embedded within the wireless<br>
communication protocol such that the substance of the control message<br>
exchanged between the host computer and the field device is unmodified as a<br>
result of having passed through the wireless network.<br><br>
Control messages that are too large to be routed through the<br>
wireless communication protocol can be broken into ports and sent as<br>
multiple parts. Each part is embedded in a wireless message, and the<br>
multiple parts can be reassembled into the original control message as the<br>
multiple parts exit the wireless network. By use of a message ID in the<br>
embedded control message, the multiple parts can be reassembled in proper<br>
order, even though individual wireless messages having embedded parts of<br>
the original control message may take different paths through the wireless<br>
network.<br>
The translation of field device addresses to corresponding<br>
wireless addresses allows host 12 to function in its native field device<br>
address domain, while interacting with field devices within the wireless<br>
address domain. The use of wireless network 16 to route messages to and<br>
from the field devices is transparent to host 12. The address translation and<br>
inclusion of both the wireless address and the field device address in the<br>
wireless message allows multiple field devices associated with a single node<br>
(i.e. a single wireless address) to be addressed individually.<br>
Although embedding the field device address in the payload ...<br>
of the wireless message as part of the control message is simple and<br>
effective, the field device address could be contained separately in the<br>
payload or elsewhere in the wireless message, if desired.<br>
The presence of wireless network 16 is also made transparent<br>
to host computer 12 by decoupling the transmission of messages to field<br>
devices between host computer 12 and wireless network 16. Gateway IS<br>
monitors the state of wireless network 16, and factors that can affect the<br>
response time to a message. By providing an estimated response time to<br>
messages being sent by host computer 12, gateway 18 allows host computer<br>
12 to treat what field devices FD1-FD9 and wireless network 16 as if they<br>
were available on demand, even though network 16 and field devices FD1-<br>
FD9 are often in a low power sleep state.<br>
Although the present invention has been described with<br>
reference to preferred embodiments, workers skilled in the art will recognize<br>
that changes may be made in form and detail without departing from the<br><br>
spirit and scope of the invention. For example, control system 10 is<br>
illustrated with six nodes and nine field devices, but other configurations<br>
with fewer or greater numbers of nodes and field devices are equally<br>
applicable.<br><br>
CLAIMS:<br>
1.	A control system comprising:<br>
a plurality of field devices, each field device having a unique field<br>
device address;<br>
a host computer for sending messages to and receiving messages<br>
from the field devices, each message to one of the field<br>
devices including the unique field device address of that field<br>
device; and<br>
a wireless network including:<br>
a gateway that interfaces the wireless network with the host<br>
computer, the gateway translating the field device<br>
address to a wireless address and generating a wireless<br>
message containing that wireless address and the field<br>
device address; and<br>
a plurality of wireless nodes, each node having a unique<br>
wireless address and including a radio for transmitting<br>
and receiving wireless messages, and a wireless device<br>
router for routing a received wireless message to a<br>
field device based upon the field device address<br>
contained in the received wireless message.<br>
2.	The control system of claim 1, wherein the gateway translates the<br>
field device address to the wireless address of the wireless node at which the<br>
field device corresponding to the field address is located.<br>
3.	The control system of claim 2, wherein the gateway translates the<br>
field device address based upon a stored table that correlates field device<br>
addresses within a wireless address.<br>
4.	The control system of claim 1, wherein the field device address is<br>
embedded in the wireless message as part of a payload.<br>
5.	The control system of claim 1, wherein the field device address is<br>
embedded in the wireless message as part of the message from the host<br>
computer.<br>
6.	The control system of claim 1, wherein the gateway maintains a<br>
stored table that correlates a field device address with the wireless address of<br><br>
the wireless node at which the field device corresponding to that field device<br>
address is located.<br>
7.	A method of sending messages from a host to field devices over a<br>
wireless network having a plurality of nodes, the method comprising:<br>
sending a control message addressed to a field device address<br>
from the host to the wireless network;<br>
translating the field device address to a corresponding<br>
wireless.address;<br>
sending a wireless message containing content of the control<br>
message through the network to the node having the<br>
corresponding wireless address; and<br>
delivering the content of Hie control message to the field<br>
device corresponding to the field device address.<br>
8.	The method of claim 7, wherein the wireless message includes the<br>
field device address.<br>
9.	The method of claim 8, wherein the field device address is included<br>
within the content of the control message.<br>
10.	The method of claim 9 and further comprising:<br>
opening the wireless message;<br>
extracting the content of the control message from the<br>
wireless message; and<br>
determining the field device address for the content of the<br>
control message.<br>
11.	The method of claim 7 wherein translating comprises:<br>
selecting from a lookup table the wireless address of the node<br>
at which the field device corresponding to the field<br>
device address is located.<br>
12.	The method of claim 7 and further comprising:<br>
generating a response by the field device to the control<br>
message; and<br>
sending a wireless message containing the response through<br>
the network to the gateway.<br>
13.	The method of claim 12, and further comprising:<br><br>
delivering the response from the gateway to the host.<br>
14.	A method of sending messages between a host and a selected field<br>
device over a wireless network, the method comprising:<br>
generating at the host a control message to the selected field<br>
device, the control message including a field device<br>
address of the selected field device;<br>
sending the control message to the wireless network;<br>
sending a wireless message containing content of the control<br>
message through the wireless network to a node<br>
associated with the selected field device;<br>
receiving the wireless message at the node corresponding to<br>
the wireless address; and<br>
delivering the content of the control message to the selected<br>
field device.<br>
15.	The method of claim 14 wherein the wireless message includes the<br>
field device address.<br>
16.	The method of claim IS wherein the field device address is included<br>
within the content of the content of the control message.<br>
17.	The method of claim 14 and further comprising:<br>
opening the wireless message at the node;<br>
extracting the content of the control message from the<br>
wireless message; and<br>
determining the field device address from the content of the<br>
control message.<br>
18.	The method of claim 14 wherein generating the wireless message<br>
comprises:<br>
selecting from a lookup table the wireless address of the node<br>
at which the selected field device corresponding to the<br>
field device address is located.<br>
19.	The method of claim 14 and further comprising:<br>
generating a response by the selected field device to the<br>
control message; and<br><br>
sending the wireless message containing the response through<br>
the network.<br>
The method of claim 19 and further comprising:<br>
delivering the response from the network to the host.<br><br>
A host computer communicates with field devices over a wireless network that includes a gateway and a plurality of wireless nodes. At least one of the field devices is associated with each wireless node, and each field device has a unique field device address. The host computer sends control messages to field devices using their field device addresses. The gateway translates the field device address of a control message to a wireless address of the wireless node with which the field device is associated.<br>
The gateway sends a wireless message over the network to the wireless node at the wireless address. The message contains the field<br>
device address so that, when the wireless message is received and opened, the control message from the host computer can be routed<br>
to the intended field device based upon the field device address.</td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/viewdoc.aspx?id=qkNw3UMEe7wPxtSwTBQCrA==&amp;amp;loc=wDBSZCsAt7zoiVrqcFJsRw==" target="_blank" style="word-wrap:break-word;">http://ipindiaonline.gov.in/patentsearch/GrantedSearch/viewdoc.aspx?id=qkNw3UMEe7wPxtSwTBQCrA==&amp;amp;loc=wDBSZCsAt7zoiVrqcFJsRw==</a></p>
		<br>
		<div class="pull-left">
			<a href="272539-cover-coating-composition-for-glass-lining.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="272541-methods-and-apparatus-for-reducing-lookups-in-a-branch-target-address-cache.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>272540</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>3171/KOLNP/2008</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>15/2016</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>08-Apr-2016</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>07-Apr-2016</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>04-Aug-2008</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>FISHER-ROSEMOUNT SYSTEMS, INC.</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>12301 RESEARCH BOULEVARD-LAW DEPARTMENT, RESEARCH PARK PLAZA, BUILDING III AUSTIN, TEXAS</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>ORTH, KELLY, M.</td>
											<td>C/O FISHER-ROSEMOUNT SYSTEMS, INC., 12301 RESEARCH BOULEVARD-LAW DEPARTMENT, RESEARCH PARK PLAZA, BUILDING III, AUSTIN, TEXAS 78759-2369</td>
										</tr>
										<tr>
											<td>2</td>
											<td>DOBROWSKI, PATRICK, M.</td>
											<td>C/O FISHER-ROSEMOUNT SYSTEMS, INC., 12301 RESEARCH BOULEVARD-LAW DEPARTMENT, RESEARCH PARK PLAZA, BUILDING III, AUSTIN, TEXAS 78759-2369</td>
										</tr>
										<tr>
											<td>3</td>
											<td>STOTZ, KYLE, L.</td>
											<td>C/O FISHER-ROSEMOUNT SYSTEMS, INC., 12301 RESEARCH BOULEVARD-LAW DEPARTMENT, RESEARCH PARK PLAZA, BUILDING III, AUSTIN, TEXAS 78759-2369</td>
										</tr>
										<tr>
											<td>4</td>
											<td>LOVEGREN, ERIC, R.</td>
											<td>C/O FISHER-ROSEMOUNT SYSTEMS, INC., 12301 RESEARCH BOULEVARD-LAW DEPARTMENT, RESEARCH PARK PLAZA, BUILDING III, AUSTIN, TEXAS 78759-2369</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04L 12/56</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/US2007/000688</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2007-01-11</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>60/758,167</td>
									<td>2006-01-11</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/272540-control-system-with-wireless-address-domain-to-field-device-address-domain-translation by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 00:00:14 GMT -->
</html>
