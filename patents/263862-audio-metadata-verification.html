<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/263862-audio-metadata-verification by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2024 22:39:41 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 263862:AUDIO METADATA VERIFICATION</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">AUDIO METADATA VERIFICATION</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A process for generating a digital bitstream in response to audio is disclosed. The first step performed (step 801) is to determine whether AC-3 DIALNORM verification data exists in the AC-3 bitstream. As shown in step 801, when DIALNORM verification data exists (YES output of step 801), the next step, step 802, is to determine whether the verification data matches the AC-3 DIALNORM value. If the values match, then the normal DIALNORM value is correct and the AC-3 bitstream applied to the process (input of step 801) may be decoded using its existing DIALNORM and related dynamic range metadata as indicated in step 814, thus providing a decoded AC-3 audio bitstream. When the DIALNORM verification data is extracted from the AC-3 bitstream and does not match the normal AC-3 DIALNORM metadata (NO output of step 802), then the DIALNORM metadata is updated with the verification DIALNORM value (803).</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td> <br><br>
Description<br>
Technical Field<br>
The present invention is related to audio signal processing,<br>
particularly to the verification and correction of metadata employed in<br>
such systems. The invention is particularly useful in audio coding<br>
systems known as Dolby Digital (AC-3), Dolby Digital Plus, and Dolby<br>
E. Dolby, Dolby Digital, Dolby Digital Plus and Dolby E are trademarks<br>
of Dolby Laboratories Licensing Corporation. Aspects of the invention<br>
may also be usable with other types of audio coding, such as MPEG-4<br>
AAC.<br>
Background Art<br>
Details of Dolby Digital coding are set forth in the following<br>
references:<br>
ATSC Standard A52/A: Digital Audio Compression Standard (AC-<br>
3), Revision A, Advanced Television Systems Committee, 20 Aug. 2001.<br>
The A/52A document is available on the World Wide Web at<br>
http://www.atsc.org/standards.html.<br>
Flexible Perceptual Coding for Audio Transmission and Storage,"<br>
by Craig C. Todd, et al, 96th Convention of the Audio Engineering<br>
Society, February 26, 1994, Preprint 3796;<br>
"Design and Implementation of AC-3 Coders," by Steve Vernon,<br>
IEEE Trans. Consumer Electronics, Vol. 41, No. 3, August 1995.<br>
"The AC-3 Multichannel Coder" by Mark Davis, Audio<br>
Engineering Society Preprint 3774, 95th AES Convention, October, 1993.<br>
"High Quality, Low-Rate Audio Transform Coding for<br>
Transmission and Multimedia Applications," by Bosi et al, Audio<br>
Engineering Society Preprint 3365, 93rd AES Convention, October,<br>
1992.<br><br>
 United States Patents 5,583,962; 5,632,005; 5,633,981; 5,727,119; and<br>
6,021,386.<br>
Details of Dolby Digital Plus coding are set forth in "Introduction to<br>
Dolby Digital Plus, an Enhancement to the Dolby Digital Coding System,"<br>
AES Convention Paper 6196, 117th AES Convention, October 28, 2004.<br>
Details of Dolby E coding are set forth in "Efficient Bit Allocation,<br>
Quantization, and Coding in an Audio Distribution System", AES Preprint<br>
5068, 107th AES Conference, August 1999 and "Professional Audio Coder<br>
Optimized for Use with Video", AES Preprint 5033, 107th AES Conference<br>
August 1999.<br>
Details of MPEG-2 AAC coding are set forth in ISO/IEC 13818-<br>
7:1997(E) "Information technology - Generic coding of moving pictures and<br>
associated audio information -, Part 7: Advanced Audio Coding (AAC),"<br>
International Standards Organization (April 1997); "MP3 and AAC<br>
Explained" by Karlheinz Brandenburg, AES 17th International Conference<br>
on High Quality Audio Coding, August 1999; and "ISO/IEC MPEG-2<br>
Advanced Audio Coding" by Bosi, et. al., AES preprint 4382, 101st AES<br>
Convention, October 1996.<br>
An overview of various perceptual coders, including Dolby encoders,<br>
MPEG encoders, and others is set forth in "Overview of MPEG Audio:<br>
Current and Future Standards for Low-Bit-Rate Audio Coding," by<br>
Karlheinz Brandenburg and Marina Bosi, J. Audio Eng. Soc, Vol. 45, No.<br>
1/2, January/February 1997.<br>
All of the above-cited references are hereby incorporated by reference,<br>
each in its entirety<br>
Although the invention is not limited to use in AC-3, for convenience<br>
it will be described in the environment of the AC-3 system. AC-3 is a digital<br>
audio data compression system used for the delivery of audio in applications<br>
including digital television, DVD video, and DVD audio. An AC-3<br><br>
bitstream consists of two key components: audio content and metadata. The<br>
audio content of one to six channels is data compressed using perceptual<br>
audio coding. Among the various types of metadata in AC-3 are several<br>
audio metadata parameters that are specifically intended to change the sound<br>
of the program delivered to a listening environment. These are described<br>
below.<br>
The AC-3 system delivers a bitstream comprised of data compressed<br>
audio in frames of binary information. Each frame contains audio content<br>
and metadata for 1536 samples of digital audio. For a sampling rate of 48<br>
kHz, this represents 32 milliseconds of digital audio or a rate of 31.25 frames<br>
per second of audio. The number of bits contained in each frame depends on<br>
the number of channels being delivered and the amount of data compression<br>
that is applied to the channels. For example, DVD videodiscs typically<br>
deliver six channels of audio at a data rate of 448,000 bits per second or a<br>
frame size of 1792 bytes (a byte being 8 bits).<br>
Each AC-3 frame is divided into sections. These include: (1)<br>
Synchronization Information (SI), which contains a synchronization word<br>
(SW), and the first of two error correction words (CRC1); (2) Bitstream<br>
Information (BSI), which contains most of the metadata; (3) six Audio<br>
Blocks (ABO to AB5), which contain the data compressed audio content; (4)<br>
waste bits (W), which contain any unused bits left over after the audio<br>
content is compressed; (5) Auxiliary (AUX) information, which contains<br>
more metadata; and (6) the second of two error correction words (CRC2).<br>
These are shown in FIG. 9, which is described further below. The AC-3<br>
frame, including the perceptual audio data compression and the<br>
accompanying metadata, are described in detail in the AC-3 references cited<br>
above, and below in the description of FIG. 9.<br>
As mentioned above, in AC-3 there are several audio metadata<br>
parameters that are specifically intended to change the sound of the program<br><br>
delivered to a listening environment. Three of these metadata parameters<br>
relate to playback signal level and dynamic range: DIALNORM, COMPR<br>
and DYNRNG. The DIALNORM parameter affects the audio playback<br>
signal level, while the related COMPR and DYNRNG parameters,<br>
sometimes referred to hereinafter as the "dynamic range compression"<br>
parameters) -affect dynamic range of the audio playback signal. One or<br>
neither, but not both, of the COMPR and DYNRNG parameters is used in<br>
decoding, depending on a decoding mode. DIALNORM typically is set by a<br>
user - it is not generated automatically, although there is a default<br>
DIALNORM value if no value is set by the user. For example, a user, or<br>
"content creator," may make loudness measurements with a process or<br>
device external to the AC-3 encoder and then transfer the result into the<br>
encoder. Thus, there is a reliance on the user to set the DIALNORM<br>
parameter value correctly. The COMPR and DYNRNG parameters,<br>
although related to the DIALNORM parameter, typically are calculated<br>
automatically during encoding in response to the user-set DIALNORM<br>
parameter value and one of a number of dynamic range compression profiles<br>
(or no profile, which results in application of DIALNORM but allows<br>
reproduction of the full dynamic range). Each such profile contains standard<br>
audio dynamic range compression parameter information including attack<br>
and release time constants, and compression ratios. Other metadata<br>
parameters affecting the sound in a listening environment include the various<br>
"downmixing" parameters: CLEV, CMIXLEV, SLEV, SURMIXLEV,<br>
MLXLEVEL and MDCLEVEL2. Such downmixing metadata provides<br>
instructions to a decoder for downmixing an original 5.1 channels to a fewer<br>
number of reproduction channels, one or two channels, for example.<br>
The DIALNORM parameter allows for uniform reproduction of<br>
spoken dialogue when decoding any AC-3 bitstream. The subjective level of<br>
normal spoken dialogue is used as a reference. Thus, the reproduction<br><br>
system gain becomes a function of both the listener's desired reproduction<br>
sound pressure level for dialogue, and the DIALNORM value. Although, in<br>
principle, the DIALNORM value may be applied in the time domain<br>
subsequent to decoding (either in the digital domain or the analog domain) to<br>
adjust the playback gain, AC-3 decoders typically employ the DIALNORM<br>
value in the digital domain within the decoder to scale gain, which results in<br>
adjustment of the playback gain.<br>
While there are useful tools to conveniently and easily measure the<br>
level of dialog in audio content (e.g., the Dolby LM100 loudness meter) and<br>
AC-3 provides metadata to convey the level of dialog (using the<br>
DIALNORM parameter), there is no way to verify that the DIALNORM<br>
value in an AC-3 bitstream has been set correctly and matches the true<br>
dialog loudness value of the audio without fully decoding the compressed<br>
audio to PCM and performing a loudness measurement with an approved<br>
metering technology. Such a full-decoding approach is described in United<br>
States Patent Application S.N. 10/884,177, filed luly 1, 2004 of Smithers et.<br>
al., entitled "Method for Correcting the Playback Loudness and Dynamic<br>
Range of AC-3 (Dolby Digital) Compressed Audio Information." Said<br>
application is hereby incorporated by reference in its entirety.<br>
There are several different reasons why the DIALNORM parameter in<br>
an AC-3 bitstream may be incorrect. First, as mentioned above, each AC-3<br>
encoder has a default DIALNORM value that is used during the generation<br>
of the bitstream if a DIALNORM value is not set by the content creator.<br>
This default value, commonly chosen as -27dB, may be substantially<br>
different than the actual dialog loudness level of the audio. Second, even if a<br>
content creator measures loudness and sets the DIALNORM value<br>
accordingly, a loudness measurement algorithm or meter may have been<br>
used that does not conform to the recommended AC-3 loudness<br>
measurement method, resulting in an incorrect DIALNORM value. Third,<br><br>
even if an AC-3 bitstream has been created with the DIALNORM value<br>
measured and set correctly by the content creator, it may have been<br>
changed to an incorrect value during transmission and/or storage of the<br>
bitstream. For example, it is not uncommon in television broadcast<br>
applications for AC-3 bitstreams to be decoded, modified and then re-<br>
encoded using incorrect DIALNORM metadata information. Therefore,<br>
while a DIALNORM value is always contained in an AC-3 bitstream, it<br>
may be incorrect or inaccurate and therefore may have a negative impact<br>
on the quality of the listening experience.<br>
Thus, there is a need for a way to verify that the DIALNORM value<br>
in an AC-3 bitstream has been set correctly by a content creator and has<br>
not been changed during distribution and transmission. Preferably, such<br>
verification should not alter the standard syntax of the AC-3 bitstream so<br>
that the bitstream remains compatible with existing AC-3 decoders (i.e.,<br>
backward compatibility is preserved).<br>
Description of the Accompanying Drawings<br>
FIG. 1 is a functional schematic block diagram of an arrangement<br>
for generating a bitstream according to aspects of the present invention.<br>
FIG. 2 is an abstract representation of an example of a format for<br>
metadata verification data in a bitstream.<br>
FIG. 3 is in the nature of a decisional flowchart showing details of a<br>
decision step in the flowchart of FIG. 4<br>
FIG. 4 is in the nature of a decisional flowchart useful in<br>
understanding aspects of the invention relating to assuring that a bitstream<br>
has correct metadata and matching metadata verification data.<br>
FIG. 5 is a functional schematic block diagram of an arrangement<br>
for practicing various subsets of steps 404 through 413 of FIG. 4.<br>
FIG. 6a is a functional schematic block diagram showing an<br>
arrangement for practicing the subset of steps 408 through 410 of FIG. 4.<br><br>
FIG. 6b is a functional schematic block diagram showing an<br>
arrangement for practicing the subset of steps 408 and 411 through 413 of<br>
FIG. 4.<br>
FIG. 7 is a functional schematic block diagram showing an<br>
arrangement for practicing the Repack Bitstream function or device of FIG.<br>
6a.<br>
FIG. 8 is in the nature of a decisional flowchart useful in<br>
understanding aspects of the invention relating to verification-data-aware<br>
decoding.<br>
FIG. 9a is a schematic diagram illustrating a frame of an AC-3 serial<br>
coded bitstream. It is not to scale.<br>
FIG. 9b is a schematic diagram illustrating in greater detail the SI<br>
portion of an AC-3 serial coded bitstream. It is not to scale.<br>
FIG. 9c is a schematic diagram illustrating in greater detail the<br>
bitstream header information (BSI) portion of an AC-3 serial coded<br>
bitstream. It is not to scale.<br>
FIG. 9d is a schematic diagram illustrating in greater detail an audio<br>
block portion of an AC-3 serial coded bitstream. It is not to scale.<br>
FIG. 9e is a functional schematic block diagram of an AC-3 encoder<br>
or encoding function.<br>
FIG. 10a is a hypothetical graph showing the DIALNORM level and<br>
dynamic range of three exemplary audio items.<br>
FIG. 10b is a hypothetical graph showing the DIALNORM level and<br>
dynamic range of three exemplary audio items during playback.<br>
FIG. 1 la is a hypothetical graph showing the effect of dynamic range<br>
control parameters on three exemplary audio items.<br>
FIG. 1 lb is a hypothetical graph showing the effect of DIALNORM<br>
and dynamic range control parameters on three exemplary audio items<br>
during playback.<br><br>
Disclosure of the Invention<br>
The invention may be viewed as having at a number of aspects, all of<br>
which involve audio metadata verification information. Ones of those<br>
aspects include the following: .<br>
(1)	an encoded audio bitstream having correct metadata<br>
and information that verifies the correctness of at least a part of<br>
the metadata<br>
(2)	a process or device that generates an encoded audio<br>
bitstream having correct metadata and information that verifies<br>
the correctness of at least a part of the metadata;<br>
(3)	a process or device that assures that an encoded audio<br>
bitstream has correct metadata and also contains information<br>
that verifies the correctness of at least part of the correct<br>
metadata; and<br>
(4)	a process or device that decodes an encoded audio<br>
bitstream whether or not all of its metadata is correct, generates<br>
and substitutes corrected metadata, and takes into account, if<br>
present, information that verifies the correctness of at least part<br>
of the metadata.<br>
Other aspects of the invention are set forth in the claims and in the<br>
written description and drawings.<br>
It should be noted that the audio metadata verification information<br>
does not serve the function of providing bit error detection and/or correction.<br>
Bitstreams in which the verification information is carried typically have .<br>
some sort of bit error detection and/or correction, for example the CRC code<br>
words in an AC-3 bitstream. In aspects of the present invention, the<br>
metadata may be incorrect because, for example, it initially was not set<br>
correctly or, even if initially set correctly, it has changed during transmission<br>
or storage as a result of human intervention or otherwise, not because of bit<br><br>
errors in transmission or storage. Indeed, the audio metadata verification<br>
information would not serve the purpose of bit error detection or correction<br>
because it serves the purpose of changing metadata, if it is not correct, to a<br>
correct value. Bit error correction would merely correct bit errors in the<br>
metadata, leaving it incorrect, albeit without bit errors. In other words, the<br>
audio metadata verification information relates to the correctness of<br>
information underlying bits representing metadata, not to the correctness of<br>
the bits themselves.<br>
Although in examples of aspects of the invention described herein, the<br>
encoded audio bitstream is a Dolby Digital (AC-3) encoded bitstream, the<br>
sets of metadata are the DIALNORM and related dynamic range control<br>
metadata, and the verification information corresponds to correct<br>
DIALNORM metadata, aspects of the invention are applicable to other audio<br>
coding systems and to other metadata in bitstreams of such coding systems.<br>
Other audio coding systems in which aspects of the invention may be useful<br>
include, for example, the Dolby E system and the MPEG-4 AAC system.<br>
With respect to Dolby Digital, the metadata may be the downmixing<br>
metadata in addition to or instead of the DIALNORM and related dynamic<br>
range control metadata (in which case the verification information also<br>
relates to or relates instead to the downmixing metadata).<br>
The verification information may be carried in the encoded audio<br>
bitstream in such a way that the bitstream is backwards compatible with<br>
existing or legacy processes and devices. In examples of aspects of the<br>
invention described herein, the verification information is carried in the AC-<br>
3 waste bits, mentioned above, that otherwise may carry no useful<br>
information and usually are ignored by standard AC-3 decoders. Other<br>
audio coding systems may have "waste" bits or similar bits that may be<br>
available (sometimes referred to as "null" bits, "fill" bits or the like) and that<br>
usually are ignored by standard decoders - for example, the additional data<br><br>
fields such as the Data Stream Element in MPEG-4 AAC, a user defined data<br>
section. However, such bits in some coding systems may not be destroyed<br>
by an encode/decode operation, which is a useful feature of aspects of the<br>
present invention when embodied in an AC-3 coding system. Techniques<br>
for carrying data in "waste" or similar bits in encoded bitstreams are<br>
disclosed in U.S. Patent 6,807,528 Bl, "Adding Data to a Compressed Data<br>
Frame," by Truman, et al, which patent is hereby incorporated by reference<br>
herein, in its entirety.<br>
The verification information may also be carried in the encoded audio<br>
bitstream in such a way that it is "hidden." For example, the verification<br>
information carried in waste bits may be encrypted. Hiding the verification<br>
data has the advantage that someone who purposely changes a DIALNORM<br>
value in an encoded bitstream will have difficulty in changing, or will not be<br>
able to change, the verification information.<br>
Although not every AC-3 frame may have sufficient unused data bits<br>
to convey additional information, this is not a problem when the<br>
DIALNORM value is constant over an entire program - it is sufficient that at<br>
least some AC-3 frames have sufficient unused data bits to use for the<br>
verification data.<br>
Alternatively, instead of carrying the verification information in waste<br>
bits that may be encoded, it may be steganographically encoded into the<br>
bitstream using techniques such as those described in United States Patent<br>
Application S.N. 10/344,388, filed (PCT) August 15, 2001, entitled<br>
"Modulating One or More Parameters of an Audio or Video Perceptual<br>
Coding System in Response to Supplemental Information," by Watson et al.,<br>
published February 5, 2004 as US 2004/0024588 Al. Said application is<br>
hereby incorporated by reference in its entirety. Steganographic encoding<br>
has the advantage that it preserves backward compatibility and also hides the<br>
data. However, decoding and re-encoding the bitstream may not erase or<br><br>
"clear" the verification information (as discussed further below), which is a<br>
disadvantage.<br>
The verification data, in its simplest form, may be a copy of the<br>
correct DIALNORM value (along with appropriate framing or<br>
synchronization and identification data). Because the unused bits in an AC-3<br>
bitstream are typically set to null or random values, the likelihood of the<br>
unused data bits in an AC-3 bitstream matching the DIALNORM<br>
verification data format is highly unlikely. Also, when only one constant<br>
DIALNORM value is used per encoded AC-3 program, as is typical, the<br>
DIALNORM verification information contained in the unused data bits is<br>
also a constant, fixed value. In that case, checking for multiple instances of<br>
DIALNORM verification data in a series of AC-3 frames decreases the<br>
likelihood that unused data bits are mistaken for verification data bits.<br>
If the DIALNORM measurement, metadata generation, and<br>
verification data insertion is performed in real-time, continuously, on an AC-<br>
3 bitstream, a constant DIALNORM value across the entire program may not<br>
occur. In that case, verification may be performed by analyzing a series of<br>
AC-3 frames (that may contain various DIALNORM metadata values) and<br>
checking that the DIALNORM verification fields placed in the unused data<br>
bits, when they are available, match the DIALNORM values. A minimum<br>
number of matching DIALNORM and DIALNORM verification data fields<br>
may be required in order to reduce the probability that random data in the<br>
unused data fields match the DIALNORM parameter values.<br>
A further aspect of this invention is preferably to allow only approved<br>
processes or devices to write the DIALNORM verification data into an AC-3<br>
bitstream. Doing so assures the validity of the verification data. Thus,<br>
although the correctness of the DIALNORM metadata parameter value is not<br>
guaranteed to be correct for reasons such as those mentioned above, the<br>
DIANORM verification data can be used with confidence in its accuracy.<br><br>
Furthermore, the problem of a correct DIALNORM parameter becoming<br>
corrupted is overcome because the DIALNORM verification data is placed<br>
in otherwise unused data bits of an AC-3 bitstream. If an AC-3 bitstream<br>
containing valid verification data is decoded and fe-encoded, then it is highly<br>
unlikely that the resulting unused data bits that replace DIALNORM<br>
verification data as a result of the re-encoding will, remain correct, even if the<br>
same AC-3 DIALNORM metadata values are used. This insures that any<br>
additional processing of a verified AC-3 bitstream "clears" the verification<br>
data (unless an approved AC-3 encoder with loudness measurement and<br>
verification capabilities is used for the reprocessing, as explained below).<br>
These and other aspects of the invention will be better understood as<br>
the following modes for carrying out the invention are read and understood.<br>
Best Mode for Carrying out the Invention<br>
Generating an AC-3 bitstream that has correct DIALNORM and<br>
matching verification data<br>
This aspect of the invention relates to creating an AC-3 bitstream that<br>
has a correct DIALNORM parameter value and that has matching<br>
DIALNORM verification data.<br>
FIG. 1 shows an arrangement 100 comprising two elements - a<br>
modified AC-3 encoding function or a modified AC-3 encoder ("Modified<br>
AC-3 Encode") 102 and a dialogue level measuring function or dialogue<br>
level measurer ("Measure Level of Dialogue") 104. PCM audio 101 is<br>
applied to both the Modified AC-3 Encode 102 and the Measure Level of<br>
Dialogue 104. The Modified AC-3 Encode may be the same as a standard<br>
AC-3 encoder or encoding function except that it is also capable of accepting<br>
DIALNORM verification data and inserting it in the AC-3 bitstream in some<br>
suitable way, as discussed above. The Modified AC-3 Encode provides a<br>
backwards-compatible AC-3 bitstream output that includes DIALNORM<br>
verification data. The Measure Level of Dialogue 104 analyzes the input<br><br>
PCM, computes the correct DIALNORM value, and sends it (via 103) to the<br>
Modified AC-3 Encode 102.<br>
In normal AC-3 encoding, the number of available unused bits is<br>
directly related to the complexity of the audio (i.e., how difficult the audio is<br>
to encode at a desired bitrate). Because the number of bits available per AC-<br>
3 audio frameis fixed, the more difficult the audio is to code, the more bits<br>
that are used to achieve a level of quality and therefore the fewer bits that are<br>
unused in the coding process and available for carrying DIALNORM<br>
verification data. Audio signals that are simpler to code will therefore have<br>
more unused data bits available for storing the DIALNORM verification<br>
data. Therefore, an optional, but useful, modification to the Modified AC-3<br>
encoder is the capability to specify a minimum number of data bits that the<br>
encoding process will not use during encoding. Given the small number of<br>
bits required to convey the DIALNORM verification data (as described<br>
below), purposely retaining some unused data bits may have little or no<br>
impact on the quality of the coded audio signal.<br>
Measure Level Of Dialogue 104<br>
A measure of the loudness level of the dialogue may be performed by<br>
first isolating segments of the audio content that predominantly contain<br>
speech. Such a method is described in United States Patent Application S.N.<br>
10/233,073, of Vinton, et. al., entitled "Controlling Loudness of Speech in<br>
Signals That Contain Speech and Other Types of Audio Information,"<br>
published March 4, as US2004/0044525 Al, which application is hereby<br>
incorporated by reference in its entirety. However, other methods may be<br>
used. The audio segments that predominantly are speech are then passed to a<br>
loudness measurement algorithm. In AC-3, this algorithm is a standard A-<br>
weighted power measure. Other loudness measures may also be used<br>
including standard B- or C-weighted power measures, or those based on<br><br>
psychoacoustic models of loudness. The power measure is calculated<br>
relative to an audio digital full-scale sine wave (0 dB FS).<br>
The isolation of speech segments is not essential; however, it<br>
improves the accuracy of the measure and provides more satisfactory results<br>
from a listener's perspective. Because not all audio content contains speech,<br>
the loudness measure of the whole audio content may provide a sufficient<br>
approximation of the dialogue level of the audio, had speech been present.<br>
If the method is operating on a continuous bitstream, rather than a<br>
finite length bitstream, this measurement may be continuously updated and<br>
may represent the level of the dialogue, for example, for only the last few<br>
seconds. If the method is operating on a pre-stored, finite length bitstream<br>
(such as an audio file stored on a hard disk), then the entire program may be<br>
analyzed and a single DIALNORM value computed.<br>
Modified AC-3 Encode 102<br>
The input audio PCM is encoded using modified AC-3 encoding that<br>
uses the computed DIALNORM value(s) to set the bitstream DIALNORM<br>
and related dynamic range compression metadata parameters. The Modified<br>
AC-3 encoding may be the same as normal AC-3 encoding except that an<br>
additional loudness measurement function or device 104, as described above,<br>
explicitly and correctly measures the DIALNORM parameter value and<br>
provides it to the encoder for inclusion into the bitstream. The modified<br>
encoder also creates and inserts DIALNORM verification data in the<br>
otherwise unused data bits of the AC-3 because, in this example, an<br>
approved DIALNORM measurement process has provided an objective<br>
measurement. The AC-3 bitstream produced by Modified AC-3 Encode 102<br>
preferably conforms to the standards of an AC-3 bitstream defined in the<br>
above-cited A/52A document, making it backwards compatible with existing<br>
AC-3 decoders.<br><br>
If the Modified AC-3 Encode also has the capability to specify a<br>
minimum number of unused data bits, this can be implemented by changing<br>
the value of the total number of bits per AC-3 frame available for audio<br>
coding. For example, if the number of bits available to the AC-3 encoding<br>
process is normally N_TOTAL_ENCODE_BITS and it is desired to have at<br>
least N_TOTAL_VERIFICATION_BITS, then the new total number of<br>
available encoding bits will be (N_TOTAL_ENCODE_BITS -<br>
N_TOTAL_VERIFICATION_BITS) and the audio coding process proceeds<br>
as usual.<br>
Format ofDIALNORM verification data<br>
In order for the DIALNORM verification data to be identified easily<br>
and read from an AC-3 bitstream without decoding, it is useful for the data<br>
to have a pre-defined format. FIG. 2 outlines a suitable format for storing<br>
the DIALNORM verification data in a byte-aligned way that simplifies<br>
locating and reading the data from an undecoded AC-3 bitstream (either in a<br>
real-time AC-3 bitstream or an AC-3 bitstream that is stored as a digital file).<br>
The format is not critical and other formats may be usable. As shown in<br>
FIG. 2, the example format for DIALNORM verification data consists of<br>
several consecutive bytes. The first byte is a predefined DIALNORM<br>
verification header byte. This header byte may take any value, however a<br>
non-zero value (similar, but not the same as the AC-3 SYNCWORD) is<br>
preferred because the unused data bits may have been initialized to zero<br>
values in other AC-3 bitstreams. Following the DIALNORM verification<br>
header in this example, data bytes are used to convey DIALNORM<br>
verification and additional optional data. Because the standard AC-3<br>
DIALNORM value is comprised of five bits, one data byte provides three<br>
additional data bits and two data bytes provides 11 additional data bits. The<br>
use of two DIALNORM verification data bytes is shown in the example of<br>
FIG. 2. These bytes may be used to store information such as the type or<br><br>
version of loudness algorithm used or other information. The final byte<br>
shown in FIG. 2 is a Cycle Redundancy Check (CRC) data byte that is<br>
computed using the DIALNORM verification header and data bytes. This<br>
byte is useful in that it greatly reduces the probability of the unused data bits<br>
in an AC-3 bitstream (containing a sequence of bytes that have a valid<br>
DIALNORM verification header byte, two intermediate data bytes and a<br>
CRC byte) passing a CRC check for all four bytes.<br>
As discussed previously, if a modified AC-3 encoder reserves<br>
sufficient unused data bits to contain the DIALNORM verification data,<br>
given the structure outlined in FIG. 2, this requires only four bytes or 32 bits<br>
for each 1792 byte AC-3 data frame, which corresponds to only 0.2% of the<br>
total data.<br>
Assuring that an AC-3 bitstream has correct DIALNORM and<br>
matching verification data<br>
Another aspect of the invention is assuring that the DIALNORM value<br>
in an AC-3 bitstream is correct and that the bitstream has matching<br>
DIALNORM verification information. This aspect of the invention is set<br>
forth in the exemplary flowchart of FIG. 4. As explained below, either all of<br>
the FIG. 4 process or subsets of the FIG. 4 process may be employed. Such<br>
processes or devices employing steps of the processes may be useful, for<br>
example, in the transmission or storage of a bitstream, subsequent to the<br>
creation of a bitstream by a content creator and prior to a final decoding of<br>
the bitstream for a listener. It will be understood that the steps of FIG. 4 or<br>
subsets thereof may represent portions of one or more processes or may be<br>
functions performed in one or more devices.<br>
The steps of FIG. 4 may be performed on a bitstream that represents<br>
the audio of a finite length audio item. For example, an audio item<br>
consisting of a television program or advertisements that is stored in digital<br>
form on a file server or otherwise. As used herein, an "audio item" is a<br><br>
continuous piece of audio information; for example, a 30 second television<br>
advertisement or an entire movie (motion picture). However, the steps of<br>
FIG. 4 may also be used to measure and update a continuous, real-time<br>
bitstream of AC-3 frames, for example a continuous AC-3 bitstream<br>
representing the audio of a television station or channel.<br>
Test for Existence ofDIALNORM Verification Data (Step 401 of FIG. 4 and<br>
FIG.3)<br>
As shown in FIG. 4, the first step performed (step 401)1s to determine<br>
whether AC-3 DIALNORM verification data exists in an encoded AC-3<br>
bitstream. FIG. 3 shows an exemplary flowchart for performing such a -<br>
check. As shown in FIG. 3, the input is an AC-3 audio bitstream, which can<br>
be processed on a frame-by-frame basis. Because the location of unused<br>
data bits within an AC-3 frame is known, it is not necessary to perform an<br>
exhaustive search of an entire frame or bitstream - the search may begin at<br>
the start of the unused bits section or sections. Although the DIALNORM<br>
verification data consists of consecutive bytes of data, this data may or may<br>
not be byte aligned with other AC-3 frame data. Therefore, the first step<br>
(step 301) in the process in FIG. 3, "READ DATA FROM BITSTREAM,"<br>
may require reading the data bit-by-bit and constructing consecutive bytes of<br>
data from each bit read.<br>
In step 303 of the example of FIG. 3, each byte of data read from the<br>
AC-3 frame is compared to the pre-defined DIALNORM verification header<br>
byte. If a byte does not match, more data is read and another byte<br>
comparison is performed. If the byte value matches the header value, then<br>
the consecutive bytes of data following the matching byte are read. If the<br>
byte matching the verification header byte is near the end of the AC-3 frame,<br>
as determined in step 302, and three bytes of following data are not<br>
available, the search for data is aborted. The four bytes (including the<br>
matching verification header byte as outlined in FIG. 2) are used to compute<br><br>
a CRC check in step 304. If the CRC check passes (step 305), then the<br>
DIALNORM verification data exists and the DIALNORM verification<br>
information may be retrieved from the data bytes as described further below.<br>
Test Whether DIALNORM Verification Data Matches AC-3 Dialnorm Data<br>
(402)<br>
As shown in step 401 of FIG. 4, when DIALNORM verification data<br>
exists (YES output of step 401), the next step, step 402, is to determine<br>
whether the verification data matches the AC-3 DIALNORM value. As<br>
shown in FIG. 9, as discussed further below, the location and format of the<br>
normal DIALNORM data is known and can be read easily from the AC-3<br>
bitstream. The test to determine whether the normal DIALNORM and<br>
verification DIALNORM values match is a simple numeric comparison. If<br>
the values match, then the normal DIALNORM value is correct and no<br>
further analysis or processing is required. The values may be considered to<br>
"match" sufficiently if the absolute value of a difference between the two<br>
values is less than a threshold. If desired, this threshold may be set equal to<br>
zero, but in preferred implementations a threshold is chosen to balance a<br>
tradeoff between the accuracy of the metadata parameters, the cost of the<br>
computational resources needed to implement the present invention, and the<br>
possibility that the difference between the DIALNORM value and the<br>
verification value would degrade the quality of the audio information during<br>
playback. A threshold value of three (3 dB) may be suitable for many<br>
applications. The AC-3 bitstream output may be stored, transmitted or<br>
decoded.<br>
Correcting Normal A C-3 DIALNORM Data<br>
with DIALNORM Verification Data (Step 403)<br>
When the DIALNORM verification data is extracted from the AC-3<br>
bitstream and does not match the normal AC-3 DIALNORM metadata (NO<br>
output of step 402), then the DIALNORM metadata is updated with (i.e., it is<br><br>
set to or made the same as) the verification DIALNORM value (403).<br>
Because the normal DIALNORM value has been determined to be incorrect<br>
and should be updated, it is possible that the related AC-3 dynamic range<br>
compression metadata is also incorrect. Therefore, the dynamic range<br>
compression information should be analyzed and if it is correct, only the<br>
DIALNORM metadata parameter is updated. If the dynamic range<br>
compression information is incorrect, then it should also be updated. The<br>
details of such an analysis and updating are explained further below in<br>
connection with steps 409 through 413 of FIG. 4, FIGS. 6a, 6b and 9c).<br>
Verification Data Not in the AC-3 Bitstream<br>
DIALNORM Metadata Correct (Steps 404-407)<br>
As shown in the example of FIG. 4, if the DIALNORM verification<br>
data is not contained within the AC-3 bitstream (step 401 NO output), then .<br>
the AC-3 bitstream is decoded to PCM without applying the DIALNORM<br>
parameter and the related dynamic range control parameters (because those<br>
metadata parameters may be incorrect) so that the decoded audio content is<br>
at the same level as that input to the encoder that was used to create the<br>
bitstream) (step 404). The loudness of the dialogue is then measured to<br>
determine the correct DIALNORM level (step 405). This measurement may<br>
be accomplished by the device or function of the Measure Level of Dialogue<br>
104 described above. Following measurement of the level of dialogue in<br>
step 405, the measured value is compared to the AC-3 DIALNORM<br>
metadata in step 406 (details of such a comparison are given below). As<br>
shown following the YES output of step 406, if the normal DIALNORM<br>
metadata is correct, then the only action required is to format and store the<br>
DIALNORM verification data in the AC-3 bitstream (step 407).<br>
As discussed above; the number of available unused data bits is<br>
dependent upon the complexity of the audio and some AC-3 frames may not<br>
have sufficient unused data bits to store the DIALNORM verification data in<br><br>
every frame. Two options are possible: store the verification data only in<br>
AC-3 frames with sufficient unused data bits (in which case the<br>
DIALNORM verification data may be inserted in the original input AC-3<br>
bitstream rather than in an AC-3 bitstream resulting from a re-encoding of<br>
the step 404 decoded AC-3 bitstream) or re-encode the audio resulting from<br>
the AC-3 decoding of step 404, reserving a sufficient number of unused data<br>
bits to insure that verification data fits in each frame.<br>
An alternative to the step 404 AC-3 decoding and the step 405<br>
loudness measuring is to obtain an approximation of the loudness by a<br>
technique that does not require a complete decoding of the AC-3 bitstream.<br>
Such a technique, which partially decodes a bitstream such as an AC-3<br>
bitstream in order to obtain a coarse estimate of the coded audio spectrum<br>
based on the magnitude of subband exponents, is disclosed in a United States<br>
Provisional Patent Application of Brett Graham Crockett, Michael John<br>
Smithers, Alan Jeffrey Seefeldt, Attorneys' Docket DOL157, filed the same<br>
day as the present application. Said Crockett et al DOL157 application is<br>
hereby incorporated by reference in its entirety.<br>
FIG. 5 shows an example of an arrangement 500 for practicing various<br>
subsets of steps 404 through 413 of FIG. 4. As shown in FIG. 5, AC-3<br>
frames 501 are decoded by a modified AC-3 decoding function or decoder<br>
("AC-3 Decoder") 502 into digital audio 503. During the decoding of the<br>
AC-3 frames by AC-3 Decode 502, the DIALNORM parameter and<br>
dynamic range compression information, although recovered for potential<br>
other use, as described below, are ignored for the purposes of the audio<br>
decoding so that the decoded audio 503is at the same level and has the same<br>
dynamic range as the input to the encoder that was used to create the<br>
bitstream. A dialogue level measuring function or dialogue level measurer<br>
("Measure Level Of Dialogue") 504 receives the decoded audio 503 and<br>
calculates the level of the dialogue 505. The Measure of Dialogue 504 may<br><br>
be the same function or device as the Measure of Dialogue 104, described<br>
above in connection with FIG. 1. AC-3 Decoder 502 may perform step 404,<br>
as described above, and Measure Level of Dialogue 504 may perform step<br>
405, as described above. A bitstream updating function or updater ("Update<br>
Bitstream") 506 compares the level of the dialogue with the DIALNORM<br>
parameter present in each frame. Further details of the comparison are given<br>
below. In addition, depending on the decisions of step 406 and 408, it also<br>
performs either step 407, steps 408-410 (see FIG. 6a and its description<br>
below), or steps 408 and 411-413 (see FIG. 6b and its description below).<br>
When performing step 407, it inserts DIALNORM verification information<br>
into the input AC-3 bitstream, leaving the original DIALNORM and related<br>
dynamic range control information. In performing step 407, Update<br>
Bitstream 506 also searches the AC-3 frames for unused data bits. AC-3<br>
frames with a sufficient number of unused data bits are modified such that<br>
the unused bits are updated to contain the DIALNORM verification data.<br>
Alternatively, the decoded audio produced by AC-3 Decode 502 may be re-<br>
encdded, reserving a sufficient number of unused data bits to insure that<br>
verification data fits in each frame (in which case the Update Bitstream 506<br>
includes a modified AC-3 encoder such as Modified AC-3 Encode 102 of<br>
FIG. 1).<br>
More specifically, in performing step 406, the Update Bitstream 506<br>
compares the measured level of the dialog with the level of the dialogue as<br>
indicated by the DIALNORM parameter. The DIALNORM parameter has a<br>
range of -31 dB to -1 dB inclusive, in 1 dB increments. If the measured level<br>
of the dialogue is within that range and is different from the value of<br>
DIALNORM from the bitstream, the DIALNORM parameter is<br>
conditionally updated with (it is "conditional" upon determining if sufficient<br>
unused bits are available to carry the verification information) the measured<br>
level, rounded, for example, to the nearest 1 dB. The measured level of the<br><br>
dialogue may be considered to be different from the value of DIALNORM in<br>
the bitstream if the absolute value of a difference between the two values is<br>
less than a threshold. If desired, this threshold may be set equal to zero, but<br>
in preferred implementations a threshold is chosen to balance a tradeoff<br>
between the accuracy of the metadata parameters, the cost of the<br>
computational resources needed to implement the present invention, and the<br>
possibility that the difference between the DIALNORM value and the<br>
measured dialogue level would degrade the quality of the audio information<br>
during playback. A threshold value of three (3 dB) may be suitable for many<br>
applications. In addition to updating the bitstream to contain the correct<br>
DIALNORM parameter, Update Bitstream 506 also searches for unused data<br>
bits in each AC-3 frame. If a frame contains a sufficient number of unused<br>
data bits, they are replaced with the DIALNORM verification data,<br>
indicating that an accurate and approved loudness measurement process has<br>
taken place and that the DIALNORM value embedded in the AC-3 bitstream<br>
is correct.<br>
Verification Data Not in the AC-3 Bitstream<br>
DIALNORM Metadata Incorrect<br>
Loudness Within DIALNORM Parameter Range (Steps 408-410)<br>
As shown in the example of FIG. 4, if verification information does<br>
not exist (NO output of step 401) and the existing AC-3 DIALNORM value<br>
is incorrect (NO output of step 406), then it should be determined whether<br>
the measured loudness level is within the valid range of the DIALNORM<br>
parameter (step 408). The DIALNORM parameter does not have sufficient<br>
range to convey the level when the measured level of the dialogue 505 is<br>
outside the valid range of the DIALNORM parameter as allowed in the AC-<br>
3 bitstream. That is, the measured level is less than -31 dB or greater than -1<br>
dB. If the DIALNORM parameter has sufficient range to convey the level<br><br>
(YES output of step 408), then steps 409 and 410 are performed as follows,<br>
further details of which are shown in connection with FIGS. 6a, and 7.<br>
FIG. 6a shows how new dynamic range compression information is<br>
determined (step 409) and how the bitstream is updated and repacked (step<br>
410) when the value of DIALNORM is changed and the DIALNORM<br>
verification data inserted. As noted above, the example of FIG. 6a is a<br>
variation of the Update Bitstream 507 of FIG. 5 that is useful for performing<br>
steps 408-410. The elements of FIG. 6a may be described as follows.<br>
Extract DIALNORM 602<br>
The value of the DIALNORM parameter is extracted from the AC-3<br>
bitstream, as indicated by FIGS. 5 and 6a - the undecoded bitstream 501 is<br>
applied to the DIALNORM-extracting device or function 602 ("Extract<br>
DIALNORM" 602).<br>
Determine Dynamic Range Compression Profile 604<br>
As shown in FIG. 6a, a dynamic-range-compression profile-<br>
determining device or function ("Determine Dynamic Range Comp. Profile"<br>
604) receives the DIALNORM parameter value extracted from the<br>
undecoded bitstream and the output of the AC-3 Decode (502 of FIG. 5) and<br>
determines a dynamic-range-compression profile. The dynamic-range-<br>
compression metadata in an AC-3 frame represents gain changes that can be<br>
applied to the audio content during decoding. That metadata exists as two<br>
different parameters. The COMPR parameter in the Bitstream Information<br>
(BSI) has a range of -48.14 dB to +47.88 dB and is a scaling that is applied<br>
to a whole frame of audio. The DYNRNG parameter, one in each Audio<br>
Block (AB), has a range of -24.06 dB to +23.94 dB and provides a means for<br>
independently scaling each block. One or neither, but not both, of these<br>
parameters is used in the decoder, depending on the decoding mode.<br>
As mentioned above, the COMPR and DYNRNG parameters are<br>
calculated during encoding using the DIALNORM parameter and none or<br><br>
one of a number of dynamic range compression profiles. Each profile<br>
contains standard audio dynamic range compression parameter information<br>
including attack and release time constants, and compression ratios.<br>
Because the DIALNORM parameter is changed, the values of<br>
COMPR and D YNRNG in the bitstream may no longer be correct. The<br>
COMPR and DYNRNG parameters may be left unaltered in the bitstream<br>
but the audio at playback may exhibit severe and annoying gain fluctuations<br>
and/or lead to decoder overload (or digital clipping). A better approach is to<br>
update the COMPR and DYNRNG parameters. This is best accomplished<br>
with knowledge of the dynamic range compression profile used to calculate<br>
their original values. Because information about the profile is not present in<br>
the bitstream, an arbitrary profile may be chosen (including disabling<br>
dynamic range compression all together), or the profile may be inferred from<br>
the original COMPR and DYNRNG values in the bitstream. Inferring the<br>
profile may more closely match the content creator's original intent with<br>
regard to dynamic range compression.<br>
In Determine Dynamic Range Compression Profile 604, the decoded<br>
audio 503 and the original DIALNORM value 603 are used together to<br>
calculate multiple sets of COMPR and DYNRNG values - one set for each<br>
profile that is known to exist in AC-3 encoders. The index number of the<br>
profile whose set of COMPR and DYNRNG values most closely match the<br>
COMPR and DYNRNG values in the original bitstream is output as 606.<br>
If this method is operating on a continuous stream of frames, the<br>
profile index may be continuously updated. For example, it may represent<br>
the most likely profile for several previous seconds of frames.<br>
It is possible that the estimated dynamic range compression profile is<br>
not the same as the profile originally used. Therefore it may be desirable to<br>
update the DIALNORM and dynamic range compression information only if<br><br>
the absolute difference between the measured level of the dialogue and the<br>
DIALNORM value is greater than a threshold, as mentioned above.<br>
Calculate New Dynamic Range Information 607<br>
A function or device ("Calculate New Dynamic Range Information")<br>
607 calculates new dynamic range information. The measure of the true<br>
level of the dialogue 505 (FIG. 5) is rounded and becomes the new<br>
DIALNORM value. A rounding to the nearest 1 dB has been found usable,<br>
although this is not critical. Using the profile index 606, the decoded audio<br>
503 (without the old DIALNORM and dynamic range compression applied<br>
to it), and the new DIALNORM value (rounded 505), a new set of COMPR<br>
and DYNRNG values 608 are calculated.<br>
Repack Bitstream 609<br>
A bitstream repacker or repacking function ("Repack Bitstream") 609<br>
receives the undecoded AC-3 bitstream 501, the COMPR and DYNRNG<br>
values 608 and the measured dialog level 505. As above, the measure of the<br>
true level of the dialogue 505 is rounded, for example to the nearest 1 dB,<br>
although this is not critical, and becomes the new DIALNORM value. The<br>
new DIALNORM value and the new COMPR and DYNRNG values are<br>
updated in the undecoded AC-3 bitstream 501. Additionally, if sufficient<br>
unused data bits exist, as determined in the Repack Bitstream 609, then the<br>
DIALNORM verification data is used to replace some or all of the unused<br>
data bits. The new updated AC-3 bitstream is output as a new bitstream 610.<br>
Details of Repack Bitstream 609 are set forth in the example of FIG.<br>
7, which may be described as follows.<br>
Determine Available Space 701<br>
A function or device ("Determine Available Space") 701 identifies all<br>
unused data bits that can be used for updating the COMPR and DYNRNG<br>
values and for including the new DIALNORM verification data. Both the<br>
COMPR and DYNRNG parameters each require 8 bits in the AC-3<br><br>
bitstream. Each occurrence of these parameters has a conditional "exists"<br>
flag. The COMPR parameter has a COMPRE flag that, if set to 1, indicates<br>
that a COMPR parameter follows in the bitstream. Similarly, each<br>
DYNRNG parameter has a DYNRNGE flag that, if set to 1, indicates that a<br>
DYNRNG parameter follows in the bitstream. If the DYNRNGE flag in the<br>
first block of a frame is set to 0, then the decoder assumes an initial<br>
DYNRNG value of 0 dB. If the DYNRNGE flag in any of blocks 1 to 5 in a<br>
frame is set to 0, then the decoder reuses the DYNRNG value from the<br>
previous block. This conditional presence of COMPR and DYNRNG<br>
parameters in each frame means that the total number of bits used by<br>
COMPR' and DYNRNG may vary.<br>
Because the total number of bits required for the new COMPR and<br>
DYNRNG values may be greater than the total number of bits used by the<br>
old COMPR and DYNRNG values (because the existence and values of<br>
COMPR and DYNRNG are dependent upon the value of DIALNORM), it is<br>
necessary to determine if there are any unused bits in the frame. These<br>
unused bits can be used for the new DIALNORM verification data as well as<br>
to move information within the AC-3 frame to make room for the additional<br>
bits required by the new COMPR and DYNRG values.<br>
Reduce Dynamic Range Compression Information 703<br>
A function or device ("Reduce D.R.C. Information") 703 receives the<br>
identification of unused data bits 702 and calculates new dynamic range<br>
information 608 in order to reduce the number of bits required by new<br>
COMPR and DYNRNG values if the total number of bits for these values is<br>
more that the sum of the unused bits plus the total number of bits used by the<br>
old COMPR and DYNRNG value. The output of function or device 703 is<br>
the new COMPR and DYNRNG values, as may have been adjusted in view<br>
of such bit requirements.<br><br>
There is a constraint that exists for each AC-3 frame. FIG. 9a shows<br>
two frame boundaries, the 5/8*'s frame boundary and the boundary between<br>
Audio Block 1 and Audio Block 2 (AB1-AB2). The constraint is that when<br>
a frame is encoded, the AB1-AB2 boundary cannot be further into the<br>
bitstream than the 5/8*'s frame boundary. If the number of bits required for<br>
the new DYNRNG values in Audio Blocks 0 and 1 is greater than the sum of<br>
the unused Skip Data bits in Audio Blocks 0 and 1 plus the number of bits<br>
used by the old DYNRNG values in Audio Blocks 0 and 1, then it follows<br>
that making room for the additional bits may push the AB 1-AB2 boundary<br>
beyond the 5/8**5 frame boundary. If this occurs, then the number of bits<br>
required by the new DYNRNG values in blocks 0 and 1 should be reduced.<br>
This can be performed.in a variety of ways.<br>
A suitable method is first to analyze the new DYNRNG values and<br>
DYNRNGE flags for Audio Blocks 0 and 1. If only the new DYNRNGE<br>
flag in block 0 is set to 1, then this flag is set to 0 and the new DYNRNG<br>
value of block 0 and block 1 are set equal to zero. If only the new<br>
DYNRNGE flag in block 1 is set to 1, then the flag is set to 0 and the new<br>
DYNRNG value of block 1 is set equal to that of block 0. If the new<br>
DYNRNGE flags in blocks 0 and 1 are set to 1, then two comparisons are<br>
performed. If. the absolute difference between the new value of DYNRNG<br>
for block 0 and 0 dB is less than the absolute difference between the new<br>
values of DYNRNG for blocks 0 and 1, then the new DYNRNGE flag for<br>
block 0 is set to 0 and the new value of DYNRNG for block 0 is set to 0.<br>
Otherwise, the new DYNRNGE flag for block 1 is set to 0 and the new<br>
DYNRNG values for blocks 0 and 1 are set to the minimum value of<br>
DYNRNG from block 0 and 1. This reduces the number of bits required for<br>
the new DYNRNG words by 8 bits. If one of the block 0 or 1 DYNRNGE<br>
flags is set to 1 and further bit reduction is required, then the process above<br>
is repeated. After any bit reduction is completed, the new DYNRNG value<br><br>
for block 1 is compared to the new DYNRNG value for block 2. If these<br>
values are equal, the new DYNRNGE flag for block 2 is set to 0. If the new<br>
DYNRNG values are not equal, the new DYNRNGE flag for block 2 is set<br>
tol.<br>
Looking at the whole frame of six blocks; if the total number of bits<br>
required for the new COMPR and DYNRNG values is more that the sum of<br>
the unused bits plus the total number of bits used by the old COMPR and<br>
DYNRNG values, then it is necessary to reduce the number of bits required<br>
by the new parameters. This can be performed in a variety of ways.<br>
A suitable method is to look at the new DYNRNG values and<br>
DYNRNGE flags across the six Audio Blocks in a frame and group the<br>
blocks into regions where each region represents a block with a DYNRNGE<br>
flag set to 1, or the first block if the block 0 DYNRNGE flag is set to 0, plus<br>
any following blocks with DYNRNGE flags set to 0. It follows that the<br>
number of regions could be as low as 1, where either all blocks have no<br>
DYNRNGE flag set to 1 or the first block only has an exists flag set to 1, or<br>
the number of regions could be as high as high as six, where every block has<br>
a DYNRNGE flag set to 1. The value of DYNRNG for each region is<br>
compared with the value of DYNRNG in each adjacent region. The adjacent<br>
pair of regions with the closest values of DYNRNG are then combined into<br>
one region by firstly setting the DYNRNG values in both regions to the<br>
minimum value of either region and secondly setting the DYNRNGE flag of<br>
the second region to 0. This reduces the total number of bits required by the<br>
new COMPR and DYNRNG information by 8 bits. This process is repeated<br>
until the total number of bits required for the new COMPR and DYNRNG<br>
values is less than or equal to the sum of the unused bits plus the total<br>
number of bits required by the old COMPR and DYNRNG values.<br>
As indicated above, it is possible for all of the unused data bits in an<br>
AC-3 frame to be used for the updated DYNRNG and COMPR parameters,<br><br>
thereby leaving no unused bits for the DIALNORM verification data. As<br>
discussed previously, this is expected and does not reduce that usefulness of<br>
inserting the DIALNORM verification data in those frames where sufficient<br>
unused data bits exist.<br>
Update DIALNORM, Dynamic Range Compression<br>
and DIALNORM Verification Information 705<br>
A device or function ("Update DIALNORM, D.R.C. and<br>
DIALNORM Verification Information") 705 receives the undecoded AC-3<br>
bitstream 501, the new COMPR and DYNRNG values 704, as may have<br>
been adjusted in view of bit requirements, and the measured dialog level<br>
505, and updates the bitstream's DIALNORM parameter, dynamic range<br>
parameters, and inserts DIALNORM verification information in the<br>
bitstream.<br>
Because a frame always has a DIALNORM parameter, the new<br>
DIALNORM value can be written into its predetermined location in the BSI.<br>
However, updating the COMPR and DYNRNG parameters involves<br>
possibly moving parts of the AC-3 frame around to make room for the new<br>
values. If the total number of bits required for the new COMPR and<br>
DYNRNG values is greater than the total number of bits used by the old<br>
values, the lengths of some of the SKIPD fields and possibly the waste bits<br>
(W) needs to be reduced. However, if the total number of new bits required<br>
is less, then the length of the waste bits (W) is increased. If a sufficient<br>
number of unused data bits exist following these parameter updates, then the<br>
DIALNORM verification data is placed in the unused data bit locations.<br>
To update the COMPR parameter, if the old COMPRE flag is set to 1,<br>
the old COMPR value can be overwritten with the new COMPR value.<br>
However, if the old COMPRE flag is set to 0 and the newly computed<br>
COMPRE value is set to 1, all the binary data following the COMPRE<br>
parameter should be shifted by 8 bits to make room for the new COMPR<br><br>
value. The COMPRE flag in the frame is then set to 1 and the new COMPR<br>
value is written into the newly created 8 bits of space. If the old COMPRE<br>
flag is set to 1 and the new COMPRE flag is set to 0, then the COMPRE in<br>
the frame is set to 0 and all the binary data following the COMPR parameter<br>
should be shifted by 8 bits, because the COMPR parameter no longer exists<br>
in the frame.<br>
To update the DYNRNG parameters in each Audio Block, if the old<br>
DYNRNGE flag is set to 1, the old DYNRNG value can be overwritten with<br>
the new DYNRNG value. However, if the old DYNRNGE flag is set to 0<br>
and the new DYNRNGE flag is set to 1, all the binary data following the<br>
DYNRNGE parameter should be shifted to make room for the new<br>
DYNRNG value. The DYNRNGE flag in the frame is then set to 1 and the<br>
. new DYNRNG value can be written into the newly-created 8 bits of space.<br>
If the old DYNRNGE flag is set to 1 and the new DYNRNGE flag is set to<br>
0, the DYNRNGE flag in the frame is set to 0 and all the binary data<br>
following the DYNRNG parameter should be shifted by 8 bits, because the<br>
DYNRNG parameter no longer exists in the bitstream.<br>
The SKTPL parameter indicates the length of the SKIPD field in bytes.<br>
To reduce the length of the SKIPD field, the binary data to the right of the<br>
SKIPD field should be shifted by a multiple of 8 bits. The SKTPL parameter<br>
is then updated to reflect the new length of the SKIPD field. Occasionally, a<br>
SKIPD field may contain optional information that is not officially defined<br>
in the AC3 standard (see, for example, the A52/A document, cited above). If<br>
the first bit in the SKIPD field is equal to 1, then information bearing data<br>
follows in the SKIPD field, otherwise the bits in the SKIPD field are all set<br>
to 0. If information is present and the SKIPD field needs to be shortened,<br>
then it can only be shorted up to this information. This allows the<br>
information to be maintained within in the AC-3 frame.<br><br>
Following the modification and updating of the unused data bits, the<br>
DIALNORM verification data can be inserted into the unused bits. As<br>
discussed previously, this data can take several forms, including a<br>
duplication of the frames DIALNORM parameter with sufficient<br>
synchronization and identification data information. This allows a<br>
DIALNORM verification decoder process to search the unused data bits,<br>
identify whether DIALNORM verification data exists and compare it to the<br>
standard DIALNORM parameter embedded in the AC-3 bitstream.<br>
Update CRC's 707<br>
The updated AG-3 bitstream, which includes DIALNORM<br>
verification information, is applied to an error correction word generating<br>
device or function ("Update CRC's") 707. When the data in an AC-3 frame<br>
has changed, the two error detection words CRC1 and CRC2 should be<br>
recalculated. If only data up to the 5/8* frame boundary has been changed,<br>
then only CRC1 need be recalculated. Likewise if only data from the 5/8* .<br>
frame boundary to the end of the frame has been changed, then only CRC2<br>
need be recalculated.<br>
Verification Data Not in the AC-3 Bitstream<br>
DIALNORM Metadata Incorrect DIALNORM Range Insufficient for<br>
Conveying Level<br>
As shown in the example of FIG. 4, if verification information does<br>
not exist (NO output of step 401) and the existing AC-3 DIALNORM value<br>
is incorrect (NO output of step 406), then it should be determined whether<br>
the measured loudness level is within the valid range of the DIALNORM<br>
(step 408). As mentioned above, the DIALNORM parameter does not have<br>
sufficient range to convey the level when the measured level of the dialogue<br>
505 is outside the valid range of the DIALNORM parameter as allowed in<br>
the AC-3 bitstream. That is, the measured level is less than -31 dB or greater<br>
than -1 dB. In this case the output of step 408 is NO. One way to correct<br><br>
this situation is to update the DIALNORM parameter in the frame with the<br>
closest valid value, as described above. However, this may leave some error<br>
between the DIALNORM value and the measured level of the dialogue. A<br>
suitable alternative that minimizes such error is to perform steps 411,412<br>
and 413 of FIG. 4, as described as follows with reference to the example of<br>
FIG. 6b. As noted above, FIG. 6b is a variation of the Update Bitstream 507<br>
of FIG. 5 that is useful for performing steps 411, 412 and 413. The elements<br>
of FIG. 6b that differ from those of FIG. 6a may be described as follows.<br>
Elements common to FIGS. 6a and 6b retain the same respective reference<br>
numeral.<br>
Adjust Gain 611<br>
Decoded audio 503 is applied to adjustable gain changer or gain<br>
changing function ("Adjust Gain") 611. A suitable gain change may be<br>
applied to the audio to reduce error between the measured dialogue level and<br>
the DIALNORM value (step 411). For example, if the measured dialogue<br>
level is -36 dB, the DIALNORM may be set to the closest valid value, -31<br>
dB, thus boosting the audio by 5 dB, from -36 dB to -31 dB.<br>
Modified ACS Encode 629<br>
The gain-adjusted audio is then re-encoded using modified AC-3<br>
audio encoding applying it, along with the new DIALNORM and dynamic<br>
range compression information 608 (step 412), to a modified AC-3 encoder<br>
or encoding function ("Modified AC-3 Encode") 629. Modified AC-3<br>
Encode is characterized as "modified" because it is aware of the application<br>
of the DIALNORM verification data capabilities and it inserts such data into<br>
the unused data bits following the encoding process and prior to final<br>
bitstream packing. This re-encoding maintains all of the original BSI<br>
(except for DIALNORM, dynamic range compression information, and<br>
DIALNORM verification) and AUX metadata from the original bitstream<br>
501 frame, and includes calculating new error detection words.<br><br>
Other functions and devices of FIG. 6b may be the same as the<br>
corresponding functions and devices of FIG. 6a as mentioned above.<br>
Practicing steps 411,412 and 413 may lead to some loss of sound<br>
quality due to.the decoding and re-encoding of the audio content. It<br>
therefore may be desirable only to re-encode the content if the absolute error<br>
between the measured dialogue level and the closest DIALNORM value is<br>
greater than a threshold. A threshold value of three (3 dB) may be suitable<br>
for many applications.<br>
Subsets of FIG. 4<br>
As mentioned above, either all of the FIG. 4 process or subsets of the<br>
FIG. 4 process or devices employing steps of the processes may be<br>
employed.<br>
One useful and inexpensive subset of the FIG. 4 process is to employ<br>
steps 401 through 403. If verification information exists in the bitstream<br>
(401 is YES), steps 402 and 403 operate as described above either to leave<br>
the AC-3 bitstream unchanged or to set the DIALNORM value to the<br>
verification value. If no verification information exists in the bitstream (the<br>
output 401 is NO), DIALNORM may be left unchanged or set to a default<br>
value.<br>
Another useful subset of the FIG. 4 process is to employ steps 401 and<br>
404 through 407. This is useful when there is no verification information<br>
and it is desired to add verification information when the existing<br>
DIALNORM is correct. If verification information exists in the bitstream<br>
(401 is YES), the bitstream may be left unchanged. If verification<br>
information does not exist (the output of 401 is NO), steps 404, 405 and 406<br>
determine if the existing DIALNORM is correct (the output of 406 is YES)<br>
or not (the output of 406 is NO). If the existing DIALNORM is correct,<br>
verification information may be added to the bitstream. If the existing<br>
DIALNORM is not correct, DIALNORM may be set to a default value.<br><br>
Another useful, but somewhat more expensive, subset of the FIG. 4<br>
process or devices is to employ steps 401 through 406. Operation is as just<br>
described when the verification information exists (the output of 401 is<br>
YES), but when the verification information does not exist (the output of 401<br>
is NO), steps 404, 405 and 406 determine if the existing DIALNORM is<br>
correct (the output of 406 is YES) or not (the output of 406 is NO). If the<br>
existing DIALNORM is correct, the bitstream may be left unchanged. If the<br>
existing DIALNORM is not correct, DIALNORM may be set to a default<br>
value.<br>
Verification-Data-Aware Decoding<br>
Another aspect of the present invention is properly decoding an AC-3<br>
bitstream whether or not it has correct DIALNORM and matching '<br>
verification data, but utilizing such verification data when it is present. This<br>
may be referred to as "verification-data-aware" decoding. This aspect of the<br>
invention is set forth in the exemplary flowchart of FIG. 8. As explained<br>
below, either all of the FIG. 8 process or subsets of the FIG. 8 process may<br>
be employed. Such a processes or devices employing steps of the processes<br>
may be useful, for example, in the decoding of a bitstream. Steps in FIG.8<br>
that generally correspond to steps in FIG. 4 employ corresponding reference<br>
numerals (e.g., "801" and "401"). It will be understood that the steps of<br>
FIG. 8 or subsets thereof may represent portions of one or more processes or<br>
may be functions performed in one or more devices<br>
Test for Existence of DIALNORM Verification Data (Step 801)<br>
As shown in FIG. 8, the first step performed (step 801) is to determine<br>
whether AC-3 DIALNORM verification data exists in the AC-3 bitstream.<br>
This step may be performed in the same manner as step 401 of FIG. 4,<br>
described above (including the details thereof shown in FIG. 3).<br>
Test Whether DIALNORM Verification Data Matches AC-3 DIALNORM<br>
Data (802)<br><br>
As shown in step 801 of FIG. 8, when DIALNORM verification data<br>
exists (YES output of step 801), the next step, step 802, is to determine<br>
whether the verification data matches the AC-3 DIALNORM value. This<br>
step may be performed in the same manner as step 402 of FIG. 4, described<br>
above. If the values match, then the normal DIALNORM value is correct<br>
and the AC-3 bitstream applied to the process (input of step 801) may be<br>
decoded using its existing DIALNORM and related dynamic range metadata<br>
as indicated in step 814, thus providing a decoded AC-3 audio bitstream.<br>
Whether or not the values "match" may be determined by whether they are<br>
within a threshold, as explained above in connection with the description of<br>
step 402.<br>
Correcting Normal AC-3 DIALNORM Data<br>
withDIALNORM Verification Data (803)<br>
When the DIALNORM verification data is extracted from the AC-3<br>
bitstream and does not match the normal AC-3 DIALNORM metadata (NO<br>
output of step 802), then the DIALNORM metadata is updated with the<br>
verification DIALNORM value (803). Because the normal DIALNORM<br>
value has been determined to be incorrect and should be updated, it is<br>
possible that the related AC-3 dynamic range compression metadata is also<br>
incorrect. Therefore, the dynamic range compression information should be<br>
analyzed and if it is correct, only the DIALNORM metadata parameter is<br>
updated. If the dynamic range compression information is incorrect, then it<br>
should also be updated. The details of such analysis and updating are<br>
explained herein in connection with steps 409 through 413 of FIGS. 4 and<br>
6b).	'<br>
Verification Data Not in the AC-3 Bitstream<br>
DIALNORM Metadata Correct<br>
As shown in the example of FIG. 8, if the DIALNORM verification<br>
data is not contained within the AC-3 bitstream (step 801 NO output), then<br><br>
the AC-3 bitstream may be decoded to audio (e.g., PCM coded audio) (step<br>
804) without applying the DIALNORM parameter and the related dynamic<br>
range control parameters to the audio (because those metadata parameters<br>
may be incorrect) so that the decoded audio content is at the same level as<br>
the input to the encoder that was used to create the bitstream. Next, the<br>
DIALNORM level of the decoded audio is measured (step 805). Such<br>
measurement of DIALNORM may be the same as performed by the Measure<br>
Level of Dialogue 104 described above. Following measurement of the level<br>
of dialogue in step 805, the measured value is compared, in step 806, to the<br>
AC-3 DIALNORM metadata value of the input AC-3 bitstream. As shown<br>
following the YES output of step 806, if that DIALNORM value is correct<br>
(YES output of step 806), the original DIALNORM value and the related<br>
original dynamic range compression information of the input AC-3 bitstream<br>
are applied to the decoded audio produced by the AC-3 Decode of step 804<br>
to provide a decoded AC-3 audio bitstream to which the correct<br>
DIALNORM and dynamic range compression parameter values have been<br>
applied.<br>
Verification Data Not in the AC-3 Bitstream<br>
DIALNORM Metadata Incorrect<br>
When the existing DIALNORM metadata is incorrect (NO output<br>
from step 806), it is necessary to set the DIALNORM value to the measured<br>
DIALNORM value of step 805 and determine new dynamic range<br>
compression information from that measured DIALNORM parameter value.<br>
This may be accomplished in step 815, which step may be the same as step<br>
412. The measured DIALNORM value and the dynamic range compression<br>
information determined by step 815 may then be applied, in step 816, to the<br>
decoded digital or analog audio provided by step 804.<br><br>
Subsets of FIG. 8<br>
As mentioned above, either all of the FIG. 8 process or subsets of the<br>
FIG. 8 process or devices employing steps of the processes may be<br>
employed.<br>
One useful and inexpensive subset of the FIG. 8 process is to employ<br>
steps 801 through 803 and 814. If verification information exists in the<br>
bitstream (801 is YES), steps 802, 803 and 814 operate as described above to<br>
decode the AC-3 bitstream. If no verification information exists in the<br>
bitstream (the output 801 is NO), the bitstream may be decoded using its<br>
existing DIALNORM value and related dynamic range compression<br>
parameter values or by using a default DIALNORM value and related<br>
dynamic range compression parameter values.<br>
Another useful, but somewhat more expensive, subset of the FIG. 8<br>
process is to employ all but step 815. This avoids the computation required<br>
in determining the dynamic range compression information related to the<br>
measured DIALNORM. Operation is as just described in connection with<br>
FIG. 8, except that when step 806 determines that the existing DIALNORM<br>
is not correct, the input AC-3 bitstream may be decoded by setting<br>
DIALNORM and related dynamic range parameter values to a default value.<br>
Additional Background<br>
AC-3 Bit Allocation and Unused Data Bits<br>
A simplified AC-3 encoder block diagram is shown in FIG. 9e. PCM<br>
audio samples are input to the frequency domain transform function 902. A<br>
512-point modified discrete cosine transform (MDCT) with 50% overlap is<br>
used to window the input data to avoid block processing, edge artifacts. In<br>
the event of transient signals, improved temporal performance (reduced<br>
transient pre-noise) is achieved by using a block-switching technique in<br>
which two 256-point transforms are computed in place of the 512-point<br>
transform. The transform coefficients from function 902 are applied to a<br><br>
block floating point process 904 that segments each transform coefficient<br>
into exponent and mantissa pairs. The transform coefficient mantissas are<br>
quantized in the mantissa quantization function 906 with a variable number<br>
of bits assigned by the bit allocation function 908 that operates on a<br>
parametric bit allocation model in response to the block floating point<br>
exponents.<br>
The AC-3 bit allocation model uses principles of psychoacoustic<br>
masking to select the number of bits allocated to each mantissa in a given<br>
frequency band. Depending on the extent of masking, some mantissas may<br>
receive very few bits or even no bits at all. This reduces the number of bits<br>
required to represent the source audio, at the expense of added (though<br>
inaudible) noise.<br>
Unlike some other coding systems, AC-3 does not pass the bit<br>
allocation results to the decoder in the compressed audio bitstream. Instead,<br>
a parametric approach is taken in which the audio encoder constructs its<br>
masking model based on the transform coefficient exponents and a few key<br>
signal-dependent parameters. These parameters are passed from the bit<br>
allocation function 908 to the bitstream packing function 910 for passing to<br>
the decoder via the bitstream, requiring far fewer bits than would be<br>
necessary to transmit the raw bit allocation values. The bitstream packing<br>
function 910 that generates the encoded audio bitstream also receives the<br>
exponents and the quantized mantissas for inclusion in the bitstream. At the<br>
decoder, the bit allocation is reconstructed based on the received exponents<br>
and bit allocation parameters. This arrangement constitutes a hybrid<br>
backward/forward adaptive bit allocation.<br>
The coding efficiency of AC-3 improves as the number of source<br>
channels increases due to two principle features: a global bit pool and high<br>
frequency coupling. The global bit pool technique allows the bit allocator to<br>
distribute available bits among the audio channels on an as-needed basis. If<br><br>
one or more channels are inactive at a specific time instant, the remaining<br>
channels receive more bits than they otherwise would.<br>
In the AC-3 audio compression system, the bit allocation process<br>
employs a finite search. In each iteration of the search, the signal to noise<br>
(SNR) parameter is varied to control the allocation of bits. This also affects<br>
the values of other parameters. At the end of the search, if the number of<br>
used bits exceeds the number of allocated bits, the last legal allocation is<br>
used. Often, this allocation is not able to use all of the available bits, thereby<br>
leaving unused or wasted bits.<br>
As discussed previously, an AC-3 serial coded audio bitstream is<br>
made up of a sequence of frames constructed as shown generally in FIG. 9a.<br>
Each AC-3 frame represents a constant time interval of 1536 PCM samples<br>
across all coded channels and contains six coded audio blocks (ABO through<br>
AB5), each representing 256 new audio samples. Each AC-3 frame has a<br>
fixed size (one of several sizes in numbers of bits in the range of 64 to 1920<br>
bits) that depends on the PCM sample rate (32 kHz, 44.1 kHz or 48 kHz) and<br>
the coded audio bitrate (discrete values in the range of 32 kbps to 640 kbps).<br>
The synchronization information (SI) header at the beginning of each frame<br>
contains information needed to acquire and maintain synchronization. The<br>
bitstream information (BSI) header follows the SI field, and contains<br>
parameters describing the coded audio service. The SI and BSI fields<br>
describe the bitstream configuration, including sample rate, data rate,<br>
number of coded audio channels, and several other systems-level elements.<br>
Following the coded audio blocks (ABO through AB5) is an auxiliary data<br>
(AUX) field. At the end of each frame is an error check field that includes a<br>
CRC word (cyclic redundancy correction code word) for error detection.<br>
Additionally another CRC word is located in the SI header.<br>
Although the width of the bitstream elements in FIG. 9a generally<br>
suggests a typical number of bits in each element, the figure is not to scale.<br><br>
The number of bits allocated and used in the audio blocks and in the AUX<br>
field is variable. Block ABO is shown wider than the other blocks because<br>
each frame is essentially independent of other frames and blocks AB1<br>
through AB5 may share information carried by block ABO without repeating<br>
the information, allowing blocks AB1 through AB5 to carry fewer bits than<br>
block ABO. Aside from possible sharing, audio blocks also have variable<br>
length because of the variable number of bits that can be assigned to the<br>
quantized mantissa data in each block.<br>
As explained in the above-cited U.S. Patent 6,807,528, unused bits<br>
exist in a frame whenever the bit allocation function in the encoder does not<br>
utilize all available bits for encoding the audio signal. This occurs if the<br>
final bit allocation falls short of using all available bits or if the input audio<br>
does not require all available bits. Because these unused bits should be<br>
placed somewhere in the frame in order for the frame to have a mandatory<br>
fixed size, the encoder inserts dummy or null bits in the bitstream in order to<br>
fill out the length of the frame. Such null bits are inserted in a "skip field" in<br>
one or more of the audio blocks (as shown in FIG. 9d) as well as in the AUX<br>
field. Each skip field accepts null bits in 8-bit bytes, while the aux field<br>
accepts up to seven null bits to provide "fine tuning" of the frame length and<br>
to assure that the final CRC word occurs in the last 16 bits of the frame. In<br>
practice, the null bits are random bits. Such null bits are wasted bits that<br>
carry no useful information. It is an aspect of the present invention to use<br>
the values of some or all of such null bits to carry information-bearing bits<br>
related to some of the AC-3 parameters contained within the bit-stream<br>
(particularly the DIALNORM parameter shown in FIG. 9c).<br>
Null bits in skip fields and in the AUX field are skipped or ignored by<br>
the decoder. Although an AC-3 decoder is able to identify null bits and<br>
ignore them, the number of null bits and their location in the bitstream is not<br>
known a priori (their number and location varies from frame to frame, i.e.,<br><br>
the skip fields are of variable size and their starting positions in blocks AB1<br>
through AB5 vary and, similarly, the AUX field is of variable size and its<br>
starting position varies) nor is it possible to discern their number and<br>
location by mere inspection of the AC-3 bitstream (null bits are random and<br>
are indistinguishable from other data in the bitstream).<br>
Each audio block (ABO through AB5) begins with "fixed data" made<br>
up of bitstream elements whose word sizes (bit lengths) are known a priori<br>
{i.e., these fixed data elements have a pre-assigned number of bits and are<br>
not assigned bits by bit allocation). Fixed data is a collection of parameters<br>
and flags including block switch flags, coupling information, exponents and<br>
bit allocation parameters. Following the fixed data is "skip field" data<br>
having a minimum size of 1 bit, if the skip field contains no null bits, and a<br>
maximum size of 522 bits, if it does contain null bits. A one-bit word, the<br>
minimum contents of a skip field, indicates if the skip field includes null<br>
bits. If it does, next, a 9-bit word indicates the number of bytes of null bits.<br>
This is followed by the null bytes. Following the skip is the mantissa data.<br>
The size of the mantissa data is variable and is determined by bit allocation.<br>
Whether a particular audio block contains a skip field having null bits<br>
is determined by the following rules: 1) the combined size of the<br>
SYNCINFO fields (namely, the SYNCWORD, the first CRC word, the<br>
sampling frequency code word and the frame size code word), the BSI fields,<br>
audio block 0 (ABO) and audio block 1 (AB1) never exceeds 5/8 of the<br>
frame, and 2) the combined size of the audio block 5 (AB5) mantissa data,<br>
the AUX data field, and the error check field never exceeds the final 3/8 of<br>
the frame. The 5/8 and 3/8 configuration is used to reduce latency (the first<br>
CRC word applies to the first 5/8 of the frame, permitting faster decoding).<br>
In principle, were it not for the 5/8 and 3/8 configuration, all null bits could<br>
be inserted in the AUX field without a need for one or more skip fields.<br><br>
The AUX data field has two functions. One function of the AUX data<br>
field, mentioned above, is to provide a fine tuning of the frame length and to<br>
assure that the last 16 bits of the frame is used for the second CRC word. Up<br>
to seven null bits are inserted in the AUX field. A second function of the<br>
AUX field, which is optional and is independent of the first function, is to<br>
carry additional information ("auxdata") at the expense of using bits that<br>
could otherwise be assigned to mantissas in the audio blocks. The last bit of<br>
the AUX data field indicates whether any optional auxdata exists. If the bit<br>
indicates that it does exist, the preceding 14-bit word indicates the length of<br>
the auxdata and the next preceding bits are the auxdata. Null bits, if any, in<br>
turn precede the auxdata in the AUX field. If the auxfield has no auxdata,<br>
the null bits, if any, precede the single bit at the end of the AUX data field<br>
that indicates if auxdata exists. Thus, whether or not there is auxdata, there<br>
may or may not be null bits it the AUX field. There are no null bits in the<br>
AUX field if there are no unused bits (it is possible for no unused bits to<br>
exist in a given frame but the probability of this occurring in many<br>
consecutive frames is extremely low) or if the number of null bits is divisible<br>
by eight and, thus, all of the null bits are carried in one or more skip fields.<br>
In the standard AC-3 coding arrangement, null bits in the AUX field<br>
and/or the AUX field and one or more skip fields, are unused or wasted bits<br>
(i.e., they carry no useful information). In accordance with aspects of the<br>
present invention, as discussed above, some or all of such unused bits are<br>
replaced with information-carrying, metadata verification bits while<br>
preserving full compatibility with existing AC-3 encoders and decoders and<br>
avoiding any degradation of the encoded audio signals.<br>
The new information-carrying bits preferably conform to a known or<br>
predetermined format or syntax so that they can be recovered by a metadata<br>
parameter (for example DIALNORM) verification decoder process. The<br>
replacement of wasted bits with metadata (DIALNORM) verification bits<br><br>
can be accomplished after any valid AC-3 encoder creates an AC-3<br>
bitstream. For example, a conventional, unmodified AC-3 encoder may be<br>
employed to generate the standard AC-3 bitstream. The resulting bitstream<br>
is analyzed to identify the locations of some or all of the unused bits in each<br>
frame. Some or all of the identified unused bits are then replaced with<br>
information-carrying bits (DIALNORM verification data bits) that are<br>
embedded in locations formerly occupied by unused bits. Because some of<br>
the data is changed (some or all of the null bits are changed), the checksum<br>
for the entire frame is recalculated and the second CRC word, which applies<br>
to the entire frame, is replaced with a new CRC word, and, if data in the first<br>
3/8 of the frame is changed, the checksum for that portion of the frame is<br>
recalculated and the first CRC word, which applies to the first 3/8 of the<br>
frame, is also replaced with a new CRC word.<br>
Alternatively, instead of replacing some or all unused bits in an AC-3<br>
bitstream with information-carrying bits following standard encoding, a<br>
modified AC-3 encoder that includes additional analysis and metadata<br>
verification capabilities may insert information-carrying bits in some or all<br>
of the unused bit positions of a frame instead of random null bits during the<br>
encoding process.<br>
Whether the AC-3 bitstream is modified before or after the encoding<br>
process, the resulting modified bitstream appears the same to a conventional<br>
AC-3 decoder. An unmodified AC-3 decoder receiving the modified<br>
bitstream ignores the information-carrying bits in the same way it ignores or<br>
skips over null bits in the same bit locations. The information-carrying bits<br>
that replace unused bits can be recovered either in a modified AC-3 decoder<br>
or in a special AC-3 metadata analysis process that identifies the locations of<br>
unused bits in a frame, detects the data in the unused bit locations and<br>
reports the results of the metadata verification analysis performed on the<br>
AC-3 bitstream. In either case, recovery and analysis of the verification data<br><br>
replacing unused bits in AC-3 bitstream does hot disturb the remainder of the<br>
bitstream. Thus, aspects of the present invention may preserve audio quality<br>
in two ways: it does not use bits that would otherwise be used for audio and<br>
it can avoid the need for decoding and re-encoding the bitstream (although<br>
this may be necessary and useful as described above).<br>
AC-3 Dialogue Level and Compression Metadata Parameters<br>
As mentioned above, included in the AC-3 frame metadata is a<br>
parameter that indicates the loudness level of the speech or dialogue<br>
contained in the compressed audio. This parameter is called DIALNORM<br>
and the intent of this parameter is that before an audio item is encoded or<br>
data compressed, the predominant level of the dialogue or speech in the item<br>
is measured. This measurement is then used to set the DIALNORM<br>
parameter in each frame of the bitstream containing the compressed audio<br>
item. During playback of the bitstream, the AC-3 decoder uses the<br>
DIALNORM parameter to modify the playback level or loudness of the<br>
item, such that the perceived loudness of the dialogue is at a consistent level.<br>
FIG. 10a shows an example containing three different audio items.<br>
The Digital Level is the level of the data compressed audio content relative<br>
to a digital full-scale sine wave (0 dB FS). The maximum and minimum<br>
level for each item is shown, along with the predominant level of the<br>
dialogue. The DIALNORM parameter for each item is the level of the<br>
dialogue, rounded to units of 1 dB. FIG. 10b shows how, during playback,<br>
the decoder scales the level of each item such that the level or loudness of<br>
the dialogue for each item is the same, or very similar. For the AC-3 system<br>
the reference level to which the dialogue of each item is scaled is -31 dB FS.<br>
This reference digital level can then be calibrated in a playback system to a<br>
desired sound pressure level.<br>
The use of the DIALNORM parameter in AC-3 provides listeners with<br>
a more consistent and predictable listening experience by reducing dramatic<br><br>
loudness differences that exist between different audio items that are created<br>
by different people in different listening environments and for different<br>
purposes. However, the DIALNORM parameter may be incorrect for the<br>
reasons discussed above.<br>
Dynamic Range Compression<br>
Also included in the AC-3 frame metadata are parameters that, if<br>
applied to the audio during playback, serve to reduce the dynamic range of<br>
the audio content. That is, make the louder parts of the audio quieter and the<br>
quiet parts of the audio louder. These dynamic range compression<br>
parameters are called COMPR and DYNRNG and are automatically<br>
calculated during the encoding of an AC-3 bitstream. See FIG. 9.<br>
The ability to reduce the dynamic range of audio is useful in a variety<br>
of situations. For example, when watching a movie late at night, it is often<br>
necessary to listen at a reduced playback volume so as not to disturb sleeping<br>
family members or occupants in adjacent dwellings. Because movies tend to<br>
have a very large dynamic range, the reduced playback volume results in<br>
much of the movie being too quiet to be audible. The use of dynamic range<br>
compression helps to increase the quiet portions, making them audible, and<br>
reduce the loudest portions, making them less annoying.<br>
The dynamic range compression parameters are calculated in<br>
reference to the level of the dialogue, as indicated by the DIALNORM<br>
parameter. This ensures that the average level of the dialogue is unaltered<br>
and that only the louder or softer portions of the audio item are altered.<br>
FIG. 12 shows an example containing three different audio items.<br>
FIG. 12a shows the average dialog level and the dynamic range of the<br>
unprocessed audio items. FIG. 12b shows how during playback, the<br>
application of the dynamic range compression and the DIALNORM<br>
parameter result in a consistent average dialog level, and a reduced dynamic<br>
range output signal across all three items.<br><br>
Because the dynamic range compression parameters are calculated in<br>
relationship to the dialogue level, their use relies on content creators<br>
measuring and setting the DIALNORM parameter correctly. If there is an<br>
error between the level of the dialogue as indicated by the DIALNORM<br>
parameter and the true level of the dialogue in the audio content, then it is<br>
likely that the dialogue will exhibit undesired and audible dynamic gain<br>
changes/due to the compression.<br>
DIALNORM2, COMPR2 and DYNRNG2<br>
Under most circumstances, the AC-3 system uses a single dialogue<br>
level and a single set of dynamic range information parameters for all<br>
channels. However, AC-3 includes an operating mode that allows for two<br>
channels to operate independently; that is each channel has independent<br>
dialogue level and dynamic range information. In this mode, the second of<br>
the two channels uses the DIALNORM2, COMPR2 and DYNRNG2<br>
parameters. (See FIG. 9.) Because DIALNORM2, COMPR2 and<br>
DYNRNG2 are interpreted and used in exactly the same way as<br>
DIALNORM, COMPR, and DYNRNG, only the operation of the latter is<br>
described in this document.<br>
Implementation<br>
The invention may be implemented in hardware or software, or a<br>
combination of both (e.g., programmable logic arrays). Unless otherwise<br>
specified, the algorithms or processes included as part of the invention are<br>
not inherently related to any particular computer or other apparatus. In<br>
particular, various general-purpose machines may be used with programs<br>
written in accordance with the teachings herein, or it may be more<br>
convenient to construct more specialized apparatus (e.g., integrated circuits)<br>
to perform the required method steps. Thus, the invention may be<br>
implemented in one or more computer programs executing on one or more<br>
programmable computer systems each comprising at least one processor, at<br><br>
least one data storage system (including volatile and non-volatile memory<br>
and/or storage elements), at least one input device or port, and at least one<br>
output device or port. Program code is applied to input data to perform the<br>
functions described herein and generate output information. The output<br>
information is applied to one Or more output devices, in known fashion.<br>
Each such program may be implemented in any desired computer<br>
language (including machine, assembly, or high level procedural, logical, or<br>
object oriented programming languages) to communicate with a computer<br>
system. In any case, the language may be a compiled or interpreted<br>
language.<br>
It will be appreciated that some steps or functions shown in the<br>
exemplary figures perform multiple substeps and may also be shown as<br>
multiple steps or functions rather than one step or function. It will also be<br>
appreciated that various devices, functions, steps, and processes shown and<br>
described in various examples herein may be shown combined or separated '<br>
in ways other, than as shown in the various figures. For example, when<br>
implemented by computer software instruction sequences, various functions<br>
and steps of the exemplary figures may be implemented by multithreaded<br>
software instruction sequences running in suitable digital signal processing<br>
hardware, in which case the various devices and functions in the examples<br>
shown in the figures may correspond to portions of the software instructions.<br>
Each such computer program is preferably stored on or downloaded to<br>
a storage media or device (e.g., solid state memory or media, or magnetic or<br>
optical media) readable by a general or special purpose programmable<br>
computer, for configuring and operating the computer when the storage<br>
media or device is read by the computer system to perform the procedures<br>
described herein. The inventive system may also be considered to be<br>
implemented as a computer-readable storage medium, configured with a<br>
computer program, where the storage medium so configured causes a<br><br>
computer system to operate in a specific and predefined manner to perform<br>
the functions described herein.<br>
A number of embodiments of the invention have been described.<br>
Nevertheless, it will be understood that various modifications may be made<br>
without departing from the spirit and scope of the invention. For example,<br>
some of the steps described herein may be order independent, and thus can<br>
be performed in an order different from that described.<br><br>
WE CLAIM:<br>
1.	A process for generating a digital bitstream in response to audio, the process<br>
comprising:<br>
generating metadata for the audio,<br>
generating metadata verification information, said metadata verification<br>
information including a copy, or a data-compressed copy, of said metadata, the<br>
metadata verification information being usable to detect whether or not the<br>
metadata and the copy thereof are within a threshold difference of each other, and<br>
if they are not, to replace the metadata with the copy, and<br>
assembling a digital bitstream that includes data bits representing the audio,<br>
the metadata and the metadata verification information.<br>
2.	A process as claimed in claim 1 wherein said generating metadata generates<br>
metadata based on a measure of the audio.<br>
3.	A process as claimed in claim 2 wherein said measure of the audio is a<br>
measure of the loudness of the audio.<br>
4.	A process as claimed in any one of claims 1 to 3, wherein the metadata<br>
verification information usable to detect and change metadata includes a copy, or a<br>
data-compressed copy, of a correct version of such metadata.<br>
5.	A process as claimed in any one of claims 1 to 4 wherein the verification<br>
information is encrypted.<br>
6.	A process as claimed in any one of claims 1 to 5 wherein bits representing<br>
the metadata verification information replace all or some of a plurality of bits in<br>
the bitstream that ordinarily carry no information.<br><br>
7.	A process as claimed in any one of claims 1 to 5 wherein the verification<br>
information is steganographically encoded in the bitstream.<br>
8.	A process for treating a digital audio bitstream as claimed in claim 1 that<br>
includes data bits representing audio, audio metadata, and audio metadata<br>
verification information, said audio metadata verification information including a<br>
copy, or a data-compressed copy, of said audio metadata, said verification<br>
information being usable to detect whether or not the metadata and such a copy<br>
thereof are within a threshold difference of each other, and if they are not, to replace<br>
the metadata with the copy, comprising:<br>
changing the metadata, and<br>
changing the verification information so that the metadata and the copy, or<br>
data-compressed copy, of the metadata are within said threshold difference of each<br>
other.<br><br><br><br>
Abstract<br><br><br>
Audio Metadata Verification<br>
A process for generating a digital bitstream in response to audio is<br>
disclosed. The first step performed (step 801) is to determine whether AC-3<br>
DIALNORM verification data exists in the AC-3 bitstream. As shown in step 801,<br>
when DIALNORM verification data exists (YES output of step 801), the next step,<br>
step 802, is to determine whether the verification data matches the AC-3<br>
DIALNORM value. If the values match, then the normal DIALNORM value is<br>
correct and the AC-3 bitstream applied to the process (input of step 801) may be<br>
decoded using its existing DIALNORM and related dynamic range metadata as<br>
indicated in step 814, thus providing a decoded AC-3 audio bitstream. When the<br>
DIALNORM verification data is extracted from the AC-3 bitstream and does not<br>
match the normal AC-3 DIALNORM metadata (NO output of step 802), then the<br>
DIALNORM metadata is updated with the verification DIALNORM value (803).</td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDM1NTEta29sbnAtMjAwNy1hYnN0cmFjdC5wZGY=" target="_blank" style="word-wrap:break-word;">03551-kolnp-2007-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDM1NTEta29sbnAtMjAwNy1jbGFpbXMucGRm" target="_blank" style="word-wrap:break-word;">03551-kolnp-2007-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDM1NTEta29sbnAtMjAwNy1jb3JyZXNwb25kZW5jZSBvdGhlcnMucGRm" target="_blank" style="word-wrap:break-word;">03551-kolnp-2007-correspondence others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDM1NTEta29sbnAtMjAwNy1kZXNjcmlwdGlvbiBjb21wbGV0ZS5wZGY=" target="_blank" style="word-wrap:break-word;">03551-kolnp-2007-description complete.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDM1NTEta29sbnAtMjAwNy1kcmF3aW5ncy5wZGY=" target="_blank" style="word-wrap:break-word;">03551-kolnp-2007-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDM1NTEta29sbnAtMjAwNy1mb3JtIDEucGRm" target="_blank" style="word-wrap:break-word;">03551-kolnp-2007-form 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDM1NTEta29sbnAtMjAwNy1mb3JtIDMucGRm" target="_blank" style="word-wrap:break-word;">03551-kolnp-2007-form 3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDM1NTEta29sbnAtMjAwNy1mb3JtIDUucGRm" target="_blank" style="word-wrap:break-word;">03551-kolnp-2007-form 5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDM1NTEta29sbnAtMjAwNy1pbnRlcm5hdGlvbmFsIHB1YmxpY2F0aW9uLnBkZg==" target="_blank" style="word-wrap:break-word;">03551-kolnp-2007-international publication.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDM1NTEta29sbnAtMjAwNy1pbnRlcm5hdGlvbmFsIHNlYXJjaCByZXBvcnQucGRm" target="_blank" style="word-wrap:break-word;">03551-kolnp-2007-international search report.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDM1NTEta29sbnAtMjAwNy1wY3QgcHJpb3JpdHkgZG9jdW1lbnQgbm90aWZpY2F0aW9uLnBkZg==" target="_blank" style="word-wrap:break-word;">03551-kolnp-2007-pct priority document notification.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDM1NTEta29sbnAtMjAwNy1wY3QgcmVxdWVzdCBmb3JtLnBkZg==" target="_blank" style="word-wrap:break-word;">03551-kolnp-2007-pct request form.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LSgwNi0wMi0yMDE0KS1DT1JSRVNQT05ERU5DRS5wZGY=" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-(06-02-2014)-CORRESPONDENCE.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LSgwNi0wMi0yMDE0KS1PVEhFUlMucGRm" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-(06-02-2014)-OTHERS.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LSgwOC0wNS0yMDE0KS1BQlNUUkFDVC5wZGY=" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-(08-05-2014)-ABSTRACT.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LSgwOC0wNS0yMDE0KS1BTk5FWFVSRSBUTyBGT1JNIDMucGRm" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-(08-05-2014)-ANNEXURE TO FORM 3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LSgwOC0wNS0yMDE0KS1DTEFJTVMucGRm" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-(08-05-2014)-CLAIMS.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LSgwOC0wNS0yMDE0KS1DT1JSRVNQT05ERU5DRS5wZGY=" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-(08-05-2014)-CORRESPONDENCE.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LSgwOC0wNS0yMDE0KS1ERVNDUklQVElPTiAoQ09NUExFVEUpLnBkZg==" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-(08-05-2014)-DESCRIPTION (COMPLETE).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LSgwOC0wNS0yMDE0KS1EUkFXSU5HUy5wZGY=" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-(08-05-2014)-DRAWINGS.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LSgwOC0wNS0yMDE0KS1GT1JNLTIucGRm" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-(08-05-2014)-FORM-2.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LSgwOC0wNS0yMDE0KS1PVEhFUlMucGRm" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-(08-05-2014)-OTHERS.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LSgwOC0wNS0yMDE0KS1QQS5wZGY=" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-(08-05-2014)-PA.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LSgwOC0wNS0yMDE0KS1QRVRJVElPTiBVTkRFUiBSVUxFIDEzNy5wZGY=" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-(08-05-2014)-PETITION UNDER RULE 137.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LSgwOS0wNy0yMDE0KS1DT1JSRVNQT05ERU5DRS5wZGY=" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-(09-07-2014)-CORRESPONDENCE.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LSgxNS0wOS0yMDE0KS1BTUFOREVEIFBBR0VTIE9GIFNQRUNJRklDQVRJT04ucGRm" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-(15-09-2014)-AMANDED PAGES OF SPECIFICATION.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LSgxNS0wOS0yMDE0KS1DT1JSRVNQT05ERU5DRS5wZGY=" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-(15-09-2014)-CORRESPONDENCE.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LUFTU0lHTk1FTlQtMS4xLnBkZg==" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-ASSIGNMENT-1.1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LUFTU0lHTk1FTlQucGRm" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-ASSIGNMENT.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LUNBTkNFTExFRCBQQUdFUy5wZGY=" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-CANCELLED PAGES.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LUNMQUlNUy0xLjEucGRm" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-CLAIMS-1.1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LUNPUlJFU1BPTkRFTkNFIE9USEVSUyAxLjEucGRm" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-CORRESPONDENCE OTHERS 1.1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LUNPUlJFU1BPTkRFTkNFLnBkZg==" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-CORRESPONDENCE.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LUVYQU1JTkFUSU9OIFJFUE9SVC5wZGY=" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-EXAMINATION REPORT.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LUZPUk0gMTMtMS4xLnBkZg==" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-FORM 13-1.1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LUZPUk0gMTMucGRm" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-FORM 13.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LUZPUk0gMTgtMS4xLnBkZg==" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-FORM 18-1.1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1rb2xucC0yMDA3LWZvcm0gMTgucGRm" target="_blank" style="word-wrap:break-word;">3551-kolnp-2007-form 18.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LUZPUk0gMy0xLjEucGRm" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-FORM 3-1.1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LUdQQS5wZGY=" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-GPA.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LUdSQU5URUQtQUJTVFJBQ1QucGRm" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-GRANTED-ABSTRACT.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LUdSQU5URUQtQ0xBSU1TLnBkZg==" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-GRANTED-CLAIMS.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LUdSQU5URUQtREVTQ1JJUFRJT04gKENPTVBMRVRFKS5wZGY=" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-GRANTED-DESCRIPTION (COMPLETE).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LUdSQU5URUQtRFJBV0lOR1MucGRm" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-GRANTED-DRAWINGS.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LUdSQU5URUQtRk9STSAxLnBkZg==" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-GRANTED-FORM 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LUdSQU5URUQtRk9STSAyLnBkZg==" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-GRANTED-FORM 2.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LUdSQU5URUQtRk9STSAzLnBkZg==" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-GRANTED-FORM 3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LUdSQU5URUQtRk9STSA1LnBkZg==" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-GRANTED-FORM 5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LUdSQU5URUQtU1BFQ0lGSUNBVElPTi1DT01QTEVURS5wZGY=" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-GRANTED-SPECIFICATION-COMPLETE.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LUlOVEVSTkFUSU9OQUwgUFVCTElDQVRJT04ucGRm" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-INTERNATIONAL PUBLICATION.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LVBFVElUSU9OIFVOREVSIFJVTEUgMTM3LnBkZg==" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-PETITION UNDER RULE 137.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LVJFUExZIFRPIEVYQU1JTkFUSU9OIFJFUE9SVC0xLjEucGRm" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-REPLY TO EXAMINATION REPORT-1.1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzU1MS1LT0xOUC0yMDA3LVJFUExZIFRPIEVYQU1JTkFUSU9OIFJFUE9SVC5wZGY=" target="_blank" style="word-wrap:break-word;">3551-KOLNP-2007-REPLY TO EXAMINATION REPORT.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=YWJzdHJhY3QtMDM1NTEta29sbnAtMjAwNy5qcGc=" target="_blank" style="word-wrap:break-word;">abstract-03551-kolnp-2007.jpg</a></p>
		<br>
		<div class="pull-left">
			<a href="263861-novel-1-2-3-4-tetrahydroquinoxaline-derivative-having-glucocorticoid-receptor-binding-activity.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="263863-semiconductor-devices-with-layers-having-extended-perimeters-for-improved-cooling-and-methods-for-cooling-semiconductor-devices.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>263862</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>3551/KOLNP/2007</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>48/2014</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>28-Nov-2014</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>25-Nov-2014</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>20-Sep-2007</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>DOLBY LABORATORIES LICENSING CORPORATION</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>100 PORTRERO AVENUE SAN FRANCISCO, CALIFORNIA</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>CROCKETT BRETT GRAHAM</td>
											<td>C/O DOLBY LABORATORIES LICENSING CORPORATION, 100 PORTRERO AVENUE, SAN FRANCISCO, CALIFORNIA 94103</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>G10L 11/00,H03G 7/00</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/US2006/011202</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2006-03-23</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>60/671361</td>
									<td>2005-04-13</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/263862-audio-metadata-verification by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2024 22:39:42 GMT -->
</html>
