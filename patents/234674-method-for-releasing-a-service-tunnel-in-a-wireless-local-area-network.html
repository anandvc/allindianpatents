<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/234674-method-for-releasing-a-service-tunnel-in-a-wireless-local-area-network by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 14:22:45 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 234674:METHOD FOR RELEASING A SERVICE TUNNEL IN A WIRELESS LOCAL AREA NETWORK</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">METHOD FOR RELEASING A SERVICE TUNNEL IN A WIRELESS LOCAL AREA NETWORK</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>The present invention discloses a method for releasing a service tunnel in WLAN, see Figure 3, Figure 4 and Figure 5. This method comprises: an originating end point that desires to release a service tunnel in a WLAN sending a release tunnel request to a corresponding end point of the service tunnel; the corresponding end point returning a release acknowledgement to the originating end point, and releasing resources of the service tunnel, a Packet Data Gateway (PDG) sends a tunnel disconnection report to a service authentication and authorization unit, and upon receiving the tunnel disconnection report, the service authentication and authorization unit updates self-stored information related to the released service tunnel. The method in accordance with the present invention makes it possible to implement the release of a designated service tunnel and release or update the related resources and information in time. (Figure )</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td> <br><br>
Method for Releasing a Service Tunnel in a Wireless Local<br>
Area Network<br>
Field of the invention<br>
The present invention relates to service tunneling techniques, and particularly, to a method for releasing a service tunnel in a wireless local area network (WLAN).<br>
Background of the invention<br>
Due to users' demand for an increasingly high rate of wireless access, there emerges the WLAN, which is able to provide high-rate wireless data access in a relatively small area. Various techniques have been used in WLAN, among which a technical standard with more applications is IEEE 802.11b. This standard involves the frequency band of 2.4GHz with a data transmission rate up to 11 Mbps. Other technical standards involving the same frequency band include IEEE 802.11 g and the Bluetooth, where the data transmission rate of IEEE 802.1 Ig is up to 54Mbps. There are other new standards such as IEEE 802.1 la and ETSI BRAN Hiperlan2 which use the frequency band of 5GHz with the transmission rate up to 54 Mbps as well.<br>
Although there are various techniques for wireless access, most WLJiNs are utilized to transfer IP data packets. The specific WLAN access technique adopted by a wireless IP network is usually transparent to the upper level IP. Such a network is usually configured with Access Points for implementing wireless access of a user terminal and implementing IP transmission with network controlling and connecting devices.<br>
Along with the rising and developing of WLAN, the focus of research is shifting to the inter-working of WLAN among various wireless mobile communications networks, such as GSM, CDMA, WCDMA, TD-SCDMA, and CDMA2000. In accordance with the 3GPP standards, a user terminal is able to cormect to Internet and Intranet via the WLAN access network and also cormect to the home network and visited network of a 3GPP system via the WLAN access network. To be specific, when accessing locally, a WLAN user terminal, like WLAN user equipment (UE), will get connected to the 3GPP home network via the WLAN access network, as shown in Figure 2; when roaming, it will get<br><br>
connected to the 3GPP visited network via the WLAN access network. Some entities of the 3GPP visited network are connected with corresponding entities of the 3GPP home network, for instance, the 3GPP Authentication, Authorization, Accounting (AAA) proxy in the visited network is connected with the 3GPP AAA server in the home network, the WLAN Access Gateway (WAG) in the visited network is connected with the Packet Data Gateway (PDG) in the home network, as shown in Figure 1. Figure 1 and Figure 2 are the schematic diagrams illustrating networking architectures of a WLAN inter-working with a 3GPP system with and without roaming, respectively.<br>
As shown in Figure 1 and Figure 2, a 3GPP system primarily comprises Home Subscriber Server (HSS)/ Home Location Register (HLR), 3GPP AAA Server, 3GPP AAA Proxy, WAG, PDG, Offline Charging System and Online Charging System (OCS). WLAN user terminals, WLAN access network, and all the entities of the 3GPP system togedier constitute a 3GPP-WLAN inter-working network, which can be used as a WLAN service system. In this service system, 3GPP AAA Server is in charge of the authentication, authorization, and accounting of a subscriber, collecting the charging information sent from the WLAN access network and transferring the information to the charging system; PDG is in charge of the transmission of the user's data from the WLAN access network to the 3GPP network or other packet networks; and the charging system receives and records the users' charging information transferred from the network. OCS instructs the network to transmit the online charging information periodically in accordance with the expense state of the online charged users and makes statistics and conducts control.<br>
Under the non-roaming condition, when a WLAN user terminal desi'-es to access directly to the Internet/Intranet, the WLAN user terminal can get access to hitemet/hitranet via WLAN access network after it passes authentication and authorization of AAA server (AS) via WLAN access network. Should the WLAN user terminal desire to get access to the service of 3GPP packet switching (PS) domain as well, it may further request the service of Scenario 3 from the 3GPP home network. That is, the WLAN user terminal initiates an authorization request for the service of Scenario 3 to the AS of the 3GPP home network, which will carry out service authentication and<br><br>
authorization for that request; if it succeeds, AS will send an access-accepted message to the WLAN user terminal and assign a corresponding PDG for the WLAN user terminal. When a tunnel is established between the WLAN user terminal and the assigned PDG, the WLAN user terminal will be able to get access to the service of the 3GPP PS domain. Meanwhile, the CGW/CCF and the offline charging system (OCS) records the charging information in accordance with the WLAN user terminal's using state of the network.<br>
Under the roaming condition, when a WLAN user terminal desires to get access directly to the Intemet/Litranet, it may make a request to the 3GPP home network by way of the 3GPP visited network for access to the hitemet/Intranet. Should the WLAN user terminal also desire to request the service of Scenario 3 to get access to the service of the 3GPP PS domain, the WLAN user terminal needs to initiate via the 3GPP visited network a service authorization procedure at the 3GPP home network. The authorization is carried out likewise between the WLAN user terminal and AS of the 3GPP home network. After the authorization succeeds, AS assigns the corresponding home PDG for the WLAN user terminal, then the WLAN user terminal will be able to get access to the service of 3GPP PS domain of the home network after it establishes a tunnel with the assigned PDG via the WAG of the 3GPP visited network.<br>
At present, however, the international specifications define for a WLAN operating network only the procedure of establishing a service tuimel between a user and a PDG while needed. Although WO 02/069596 relates to a service tunnel for private IP services over a coimectionless network, and discloses a method for tearing down a tunnel in the private IP network, there has been so far no specific solution put forward to release a service tuimel and terminate the service in the WLAN when the use of the tunnel is over or when the tunnel has to be released due to certain special reasons.<br>
Summary of the invention<br>
The present invention provides a method for releasing a service tunnti in WLAN such that the releasing of a designated tunnel can be implemented in WLAN.<br>
The technical solution in accordance with the present invention is as follows:<br><br>
A method for releasing a service tunnel in a WLAN comprises: an originating end point which desires to release a service tunnel between a User Equipment, UE, and a Packet Data Gateway, PDG, in the WLAN sending a release tunnel request to a corresponding end point of the service tunnel to be released;<br>
the corresponding end point returning a release acknowledgement to the originating end point and releasing resources of the service tunnel.<br>
The method comprises:<br>
the originating end point releasing the resources of the service tunnel due to receiving the release acknowledgement from the corresponding end point or timeout of service tunnel coimection.<br>
Or, the method comprises:<br>
the originating end point detecting whether having received the release acknowledgement from the corresponding end point; if the release acknowledgement has been received, releasing the resources of the service tunnel; if the release acknowledgement has not been received until timeout of service tunnel connection, resending the release tunnel request to the corresponding end point.<br>
Wherein, the method fiirther comprises: the originating end point detecting whether the release tunnel request has been sent for a preset number of times before resending the release tunnel request to the corresponding end point, if the request has been sent for the preset number of times, releasing the resources of the service tunnel; otherwise, resending the release tunnel request to the corresponding end point.<br>
In the above solution, during process of releasing the resources of the service tunnel, the PDG removes all stored authorization information related to the UE therefrom when the PDG detects that the service tunnel to be released is the last service tunnel between itself and a corresponding UE.<br>
In the above solution, the method further comprises: the PDG sending a tunnel discormection report to a service authentication and authorization unit; upon receiving the<br><br>
tunnel disconnection report, the service authentication and authorization unit updating self-stored related service information and/or status of the subscriber.<br>
Wherein, the tunnel disconnection report is carried in an existing service terminating signaling and sent to the service authentication and authorization unit. Said PDG sending a tunnel disconnection report to a service authentication and authorization unit comprises one of: the PDG releasing the tunnel resources related to the service tunnel kept by its own and then sending the tunnel disconnection report to the service authentication and authorization unit; the PDG sending the tunnel disconnection report to the service authentication and authorization unit and then releasing the tunnel resources related to the service tunnel kept by its own upon receiving an acknowledgement from the service authentication and authorization unit; the PDG releasing tunnel resources kept by its own other than resources for sending information to the service authorization and authentication unit, and then releasing the resources for sending information to the service authentication and authorization unit upon confirming that the tunnel disconnection report has been successfully sent to the service authentication and authorization unit.<br>
In the above solution, the originating end point is a UE, the corresponding end point is a PDG; the PDG sending the tunnel disconnection report to the service authentication and authorization unit and sending the release acknowledgement to the UE.<br>
The originating end point is a PDG, the corresponding end point is a UE; the PDG sending the tunnel disconnection report to the service authentication and authorization unit upon receiving the release acknowledgement from the UE.<br>
During process of releasing the resources of the service tunnel, the PDG removes all stored authorization information related to the UE therefrom when the PDG detects that the service tunnel to be released is the last service tunnel between itself and a corresponding UE.<br>
In the above solution, the originating end point comprises UE or PDG, correspondingly, the corresponding end point comprises PDG or UE. The resources<br><br>
related to the service tunnel comprise at least one of: a tunnel ID of the service tunnel, an encryption key used by the service tunnel in communications, and physical resources. The method further comprises: releasing associated control information when releasing the resources related to the service tunnel; the associated control information comprise at least one of: subscriber service authorization information related to the service tunnel, and related information for maintaining the status of the service tunnel. The service authentication and authorization unit is a 3GPP Authentication Authorization and Accounting (AAA) Server (3GPP AAA Server).<br>
hi accordance with the method for releasing a service tuimel in WLAN provided by the present invention, an end point desiring to release a service tunnel initiates a tunnel releasing procedure, and the originating end point, an end point receiving the release tuimel request, and a service authentication and authorization unit release the resources of the service tunnel and self-stored associated control information of the service tunnel upon receiving the acknowledgement, the release tunnel request, the tunnel disconnection report or the clearing instruction, respectively. By this method, not only the release of a designated service tunnel can be realized in a WLAN, but also the resources and information related to the service tuimel can be cleared or updated after the service tunnel is released, thereby avoiding the resource occupation by redundant information in various devices.<br>
Brief description of the drawings<br>
Figure 1 is a schematic diagram illustrating network architecture of inter-working WLAN system and 3GPP system in the roaming case.<br>
Figure 2 is a schematic diagram illustrating network architecture of inter-working WLAN system and 3GPP system under in the non-roaming case.<br>
Figure 3 is a flowchart of a UE initiating a tunnel releasing procedure.<br>
Figure 4 is a flowchart of a PDG initiating a tunnel releasing procedu'-e.<br><br>
Figure 5 is a flowchart of a tunnel releasing procedure triggered by termination of a service.<br>
Detailed description of preferred embodiments<br>
In order to make the object, solution, and merits of this invention more clear, this invention is hereinafter described in detail with reference to the accompanying drawings and specific embodiments.<br>
According to preferred embodiments of the present invention, when a service tunnel needs to be released, an originating end point desiring to release the service tunnel sends a release tunnel request to an corresponding end point of the service tunnel; the end point receiving the release tunnel request returns a release acknowledgement and releases the resources of the service turmel kept by its own. Furthermore, the end poir^ receiving the release acknowledgement releases the resources of the service tunnel; and the PDG may send a tunnel disconnection report to a service authentication and authorization unit, e.g. an AAA server, before, while, or after the resources of the service tunnel are released such that the service authentication and authorization unit may update self-stored information related to the service timnel. The resources of the service tunnel comprise at least one of: a tunnel ID of the service tunnel, an encryption key used by the service tunnel in communications, and physical resources, e.g. ports, memories. When the resources of the service tunnel are released, the associated control information may be also released. The associated control information of the service tunnel comprises at least one of: subscriber service authorization information related to the service tunnel, and information for maintaining the status of the service tunnel.<br>
According to the preferred embodiments of the present invention, there may be a number of reasons for initiating tunnel releasing procedure: termination of a service, timeout for a service tunnel, requests for releasing a service tunnel by other network nodes, such as an AAA server and an OCS, or intervention of the network management. However, even if such network node as an AAA server or an OCS, or the network management requests to release a service turmel, a PDG will be involved to initiate a tunnel releasing. Therefore, the initiating operation for releasing each service tunnel will<br><br>
only involve two end points of a service tunnel, i.e., UE or PDG, and either UE or PDG may initiate a service tunnel releasing procedure.<br>
In accordance with preferred embodiments of the present invention, the initiating procedure of releasing a service tunnel comprises the steps of:<br>
(1)	When a service tunnel in a WLAN needs to be released, the origiuating end point of the service tunnel sends a release tunnel request to the corresponding end point of the service tunnel.<br>
(2)	The corresponding end point receiving the release tunnel request returns a release acknowledgement to the originating end point, and releases the resources of the released service tunnel.<br>
hi step (2), the corresponding end point receiving the release tunnel request may return a release acknowledgement before releasing the resources; or release the resources before returning a release acknowledgement to originating end point. Here, the resources still comprise at least one of: a tunnel ID of the service tunnel, an encryption key used by the service tunnel in communications, and physical resources, e.g. ports, memories. When the resources of the service turmel are released, the associated control information may be also released. The associated control information of the service tunnel comprises at least one of: subscriber service authorization information related to the service tunnel, and information for maintaining the status of the service tunnel.<br>
If the originating end point of releasing the service tunnel receives the release acknowledgement from the corresponding end point within a preset time period of waiting for an acknowledgement, the originating end point releases the resources of the service tunnel; if receiving no acknowledgement from the corresponding end point within the preset time period of waiting for an acknowledgement, the originating end point won't release the resources of the service tunnel until the preset time period of waiting for an acknowledgment is expired, or releases the resources of the service tunnel if receiving no acknowledgement from the corresponding end point after sending the release tunnel request for a preset number of times. Generally, the former solution of<br><br>
releasing tunnel is selected if the originating end point is a PDG, i.e., releases the resources of the service tunnel if receiving no acknowledgement within the preset time period, while the latter solution of tunnel releasing is selected if the originating end point is a UE, i.e., tries again if receiving no acknowledgement within the preset time period and does not release the resources of the service tunnel until receiving an acknowledgement or within a preset number of trials.<br>
In practical terms, a timer may be set. If the originating end point receives a release acknowledgement at any time before the timer expires, the originating end point will release the resources of the service tunnel, and the timer is cancelled. If the release acknowledgement has not been received before the timer expires, the originating end point will wait before the timer expires and make appropriate processing, e.g., releasing the resources of the service tunnel, or sending a release tunnel request again when the timer expires.<br>
(3) The PDG will send a tunnel disconnection report to the service authentication and authorization unit, e.g., an AAA server, in the process of releasing the resources of the service tunnel or after releasing the resources such that the service authentication and authorization unit, e.g., an AAA server, could update self-stored related service information and/or status of the subscriber. The tunnel discoimection report may be contained in an individual message, or attached to an existing service terminating signaling.<br>
In the above procedure, when the last service tunnel between a UE and a PDG is released, the PDG should clear all the self-stored authorization information of the UE.<br>
The service authentication and authorization unit, e.g., an AAA server, should return an acknowledgement, ACK, to the PDG upon receiving the tunnel disconnection report. If the PDG has not received the ACK within a preset time period, the PDG should try again to send a tunnel disconnection report to the service authentication and authorization unit. Likewise, a total number of times for sending the tunnel disconnection report may be defined in advance.<br><br>
A service tunnel releasing procedure may be part of a normal service terminating procedure, or be a specific releasing procedure due to timeout of a service tunnel, or a PDG-initiating releasing procedure requested by other network devices. The main reasons for releasing a service tunnel may be: (1) releasing a service tunnel due to a service terminating request sent by a UE, which comprises initiating the release via a tunnel control signaling and clearing IP bearer information related to the service; (2) service termination caused by operator's intervention; (3) interruption of subscriber cormection because radio signals have vanished.<br>
Embodiment 1: a turmel releasing procedure initiated by a UE.<br>
hi this embodiment, the originating end point of releasing a service tunnel is a UE, the service authentication and authorization unit is a 3GPP AAA Server and the reason for releasing the turmel is that the service is terminated.<br>
As shown in Figure 3, a tunnel releasing procedure initiated by a UE comprises:<br>
Steps 301-302: When a subscriber service is terminated, the UE decides to initiate a tunnel releasing procedure to release the service turmel used by the service to be terminated. Thus, the UE sends to the PDG a release turmel request (Release tunnel req).<br>
Step 303: Upon receiving the Release tunnel req from the UE, the PDG sends a release acknowledgment (Release ACK) to the UE that initiates the tunnel releasing procedure. Then the PDG starts releasing the resources and associated control information of the service tunnel to be released, and sends a tunnel disconnection report to the 3GPP AAA Server, indicating that the service tunnel serving the si'hscriber has been released.<br>
hi this step, the PDG may release the resources of the service turmel before sending a tunnel disconnection report to the 3GPP AAA Server. Or the PDG may send to the 3GPP AAA Server a turmel discoimection report and wait for an acknowledgement from the 3GPP AAA Server before releasing die resources of the service tunnel. Or, the PDG may release part of the timnel resources, keep the information that needs to be sent to the 3GPP AAA Server, and then release the remaining information after confirming that the<br><br>
tunnel disconnection report has been successfully sent to the 3GPP AAA Server. The tunnel resource information comprises at least one of: a tunnel DD, an encryption key related to the tunnel, and physical resources, e.g. ports, memories. The associated control information of the service tunnel comprises at least one of: subscriber service authorization information related to the service tunnel, and information for maintaining the status of the service timnel.<br>
Li this step, if the PDG finds the current tunnel to be released is the last service tunnel between itself and the UE, the PDG will clear all the stored authorization information corresponding to the UE while releasing associated control information of the service tuimel.<br>
Step 304: Upon receiving the Release ACK, the UE releases self-stored associated control information and resources of the service tuimel. If receiving no ACK within the preset time period, the UE may initiate a tuimel releasing procedure again.<br>
Step 305: Upon receiving the tunnel discomiection report, the 3GPP AAA Server updates self-stored related service information and/or status of the subscriber. The related service information includes (but not limited to) the service/tunnel conne^don activation information, the allocated IP address, the status of the service tunnel, the tunnel ID and the tunnel security information.<br>
It is necessary for the 3GPP AAA Server to return an ACK to the PDG when receiving the tunnel disconnection report. If the PDG has not received the ACK within the preset time period, the PDG should try to send a tunnel disconnection report to the service authentication and authorization unit again.<br>
Embodiment 2: a tunnel releasing procedure initiated by a PDG.<br>
In this embodiment, the originating end point of releasing a service tunnel is a PDG, the sei-vice authentication and authorization unit is a 3GPP AAA Server, and the reason for releasing the service tunnel is intervention by the operation and maintenance persoimel, or timeout of the service tunnel, or requests sent by other network devices. Specifically, the reason may be:<br><br>
(1)	When the operation and maintenance personnel intervene via a maintenance platform to release the service tunnel of a UE, the PDG initiates a service tunnel releasing procedure.<br>
(2)	When deciding according to the relevant rules that the service tunnel is time out and needs to be released, the PDG initiates a service tunnel releasing procedure.<br>
(3)	When the 3GPP AAA Server receives an instruction from an OCS of limiting the service tunnel of the subscriber or receives changed subscriber subscription information from the HSS which will limit the service authorization, the 3GPP AAA Server will decide whether to request the corresponding PDG to release the related service tunnel If the 3GPP AAA Server notifies the corresponding PDG, the PDG will initiate a service tunnel releasing procedure.<br>
As shown in Figure 4, a tunnel releasing procedure initiated by a PDG in this embodiment comprises the steps of:<br>
Steps 401-402: When the PDG receives an instruction of releasing a service tunnel or decides by itself that a service tunnel is to be released, the PDG sends a Release tunnel req to the UE.<br>
Step 403: Upon receiving the Release tunnel req, the UE returns a Release ACK to the PDG; and releases resources and associated control information of the service tunnel. The UE may return the Release ACK before releasing the tunnel resourcts of the service tunnel, or may release the resources of the service tunnel before returning the Release ACK.<br>
Step 404: Upon receiving the ACK within a preset waiting time, the PDG starts to release the resources of the service tunnel and self-stored control information of the service tunnel, and sends to a 3GPP AAA Server a Tunnel disconnection report, indicating that the designated service turmel has been released.<br><br>
If the PDG has not received a Release ACK sent from the UE within the preset time period, the PDG may release the resources of the service tunnel immediately; or release the resources of the service tunnel after the preset time period is expired.<br>
The PDG may release the resources of the service tunnel before sending a tunnel disconnection report to the 3GPP AAA Server. Or, the PDG may send a tunnel disconnection report and wait for an ACK from the 3GPP AAA Server before releasing the resources of the service tunnel. Or, the PDG may release part of the resources of the service tunnel, keep information to be sent to the 3GPP AAA Server, and release the remained information after confirming that the information has been successfully sent to the 3GPP AAA Server.<br>
If the PDG finds that the current service tunnel to be released is the last service tunnel between the corresponding UE and the PDG, the PDG will clear all the stored authorization information corresponding to the UE while releasing information related to the service tunnel.<br>
Step 405: Upon receiving the tunnel discoimection report, the 3GPP AAA Server updates resources and self-stored related service information and/or status of subscriber. The related service information includes (but not limited to) the service/tunnel connection activation information, the allocated IP address, the status of the service tunnel, the tunnel ID and the tunnel security information.<br>
Embodiment 3: a turmel releasing procedure triggered by termination of a service.<br>
In this embodiment, the originating end point of releasing a service tunnel is a UE, the service authentication and authorization unit is a 3GPP AAA Server and the reason for releasing the tunnel is that the service is terminated.<br>
As shown in Figure 5, a tuimel releasing procedure triggered by termination of a service comprises the steps of:<br>
Steps 501-502: When deciding to terminate a service, the UE initiates the information interaction of releasing a service-layer cormection.<br><br>
Steps 503-507 are completely the same as steps 301-304 in Embodiment 1.<br>
The major difference between this embodiment and Embodiment 1 is in Step 502. As in the procedure of releasing the service-layer connection initiated by the subscriber the relevant parameter or status in the 3GPP AAA server may have been cleared the relevant parameter or status in the 3GPP AAA Server in Step 502, e.g., the activation status of the service and the authorized APN (Access Point Name) corresponding to the service. Therefore, the difference between step 508 and step 305 is that the 3GPP AAA Server needs only to update the tunnel ID of the service tunnel, e.g., the 3GPP A \A Server needs only to update such information as the recorded service tunnel ID, the IP address, and the PDG address corresponding to the tunnel and the service.<br>
Obviously, upon receiving the turmel releasing signaling of the service layer and completing the tunnel releasing in the service layer, the 3GPP AAA Server may as well keep relevant service information, and update all relevant service information upon receiving a turmel discormection report from the PDG within a present time period. Alternatively, the 3GPP AAA server may update all relevant service information after the preset time period of sending a tuimel disconnection report is expired. After that, the processing of step 508 is completely the same as the processing of step 305 in Embodiment 1.<br>
In addition to the cases described in the above embodiments, there may be a special situation in practical applications, i.e., the connection is lost between the two end points of the service tunnel to be released such that no signaling could be exchanged to maintain normal processing for releasing the tunnel. In this case, if the originating end point sends a request to the corresponding end point, the subsequent processing of the originating end point is basically the same as the process of the case that no acknowledgement can be received due to timeout, while the difference is that the originating device may skip the procedure of sending request and waiting for acknowledgement if the originating end point has determined that no signal could be sent to the corresponding end point, e.g., it could not receive any signal from the corresponding end point before the service tunnel is released.<br><br>
In said special case, the tunnel releasing procedure initiated by a PDG is as follows: the network device that has detected the disconnection of the UE, for exa'nple, the AP or AC in a WLAN or a WAG in a 3GPP network notifies the PDG that the connection of the UE is lost. Obviously, the PDG itself may detect the disconnection of the UE. If the state of disconnection continues for a period of time, the PDG will initiate by itself the process of releasing the relevant service tunnel. The PDG will release the resources of the service tunnel and send a report to the 3GPP AAA Server, instead of sending a release tunnel request to the UE and waiting for an acknowledgement.<br>
In said special case, if the UE detecting that the PDG is inaccessible through wireless coimection or the bottom physical cormectiou and no information can be sent to the PDG for a preset period of time, the UE may directly release the resources of the service tunnel and self-stored control information of the service tuimel.<br>
The foregoing description is only the preferred embodiments of the present invention and should not be construed as limiting the protection scope thereof.<br><br><br>
1.	A method for releasing a service tunnel in a WLAN, comprising:<br>
an originating end point which desires to release a service tunnel between a User Equipment, UE and a Packet Data Gateway, PDG, in the WLAN senaing a release tunnel request to a corresponding end point of the service tunnel to be released; and<br>
the corresponding end point returning a release acknowledgement to the originating end point and releasing resources of the service tunnel.<br>
2.	The method as claimed in claim 1, comprising:<br>
the originating end point releasing the resources of the service tunnel due to receiving the release acknowledgement from the corresponding end point or timeout of service tunnel connection.<br>
3.	The method as claimed in claim 1, comprising:<br>
the originating end point detecting whether having received the release acknowledgement from the corresponding end point;<br>
if the release acknowledgement has been received, releasing the resources of the service tunnel;<br>
if the release acknowledgement has not been received until timeout of service tunnel connection, resending the release tunnel request to the corresponding end point.<br>
4.	The method as claimed in claim 3, comprising:<br>
the originating end point detecting whether the release tunnel request has been sent for a preset number of times before resending the release tunnel request to the corresponding end point, if the request has been sent for the preset number of times, releasing the resources of the service turmel; otherwise, resending the r'^lease tunnel request to the corresponding end point.<br>
5.	The method as claimed in any one of claims I to 4, wherein:<br>
the originating end point is a UE, the corresponding end point is a PDG; or the originating end point is a PDG, the corresponding end point is a UE;<br><br>
during process of releasing the resources of the service tunnel, the PDG removes all stored authorization information related to the UE therefrom when the PDG detects that the service tunnel to be released is the last service tunnel between itself and a corresponding UE.<br>
6.	The method as claimed in any one of claims 1 to 4, wherein the originating end point is a UE, the corresponding end point is a PDG; or the originating end point is a PDG, the corresponding end point is a UE.<br>
7.	The method as claimed in any one of claims 1 to 4, wherein said releasing said resources of the service tunnel comprises:<br>
releasing at least one of: a tunnel ID of the service tunnel, an encryption key used by the service tunnel in communications, and physical resources of the service tunnel.<br>
8.	The method as claimed in any one of claims 1 to 4, comprising: when<br>
releasing the resources of the service turmel, releasing associated control information<br>
of the service tunnel;<br>
wherein the associated control information of the service tunnel comprise at least one of: subscriber service authorization information related to the service tunnel and information for maintaining status of the service tunnel.<br>
9.	The method as claimed in any one of claims 1 to 4, wherein:<br>
the originating end point is a UE, the corresponding end point is a PDG;<br>
the method comprises:<br>
the PDG sending a tunnel disconnection report to a service authentication and authorization unit;<br>
upon receiving the tunnel disconnection report, the service authentication and authorization unit updating self-stored related service information and/or status of the subscriber.<br>
10.	The method as claimed in any one of claims 1 to 4, wherein:<br>
the originating end point is a PDG, the corresponding end point is a UE; the method comprises:<br>
1 O<br><br>
the PDG sending a tunnel disconnection report to a service authentication and authorization unit;<br>
upon receiving the tunnel disconnection report, the service authe-'tication and authorization unit updating self-stored related service information and/or status of the subscriber.<br>
11.	The method as claimed in claim 9 or 10, wherein the tunnel disconnection report is carried in an existing service terminating signaling and sent to the service authentication and authorization unit.<br>
12.	The method as claimed in claim 9 or 10, wherein said PDG sending a tunnel discormection report to a service authentication and authorization unit comprises one of:<br>
the PDG releasing the resources of the service tunnel and sending the tunnel discormection report to the service authentication and authorization unit;<br>
the PDG sending the tuimel discormection report to the service authentication and authorization unit and releasing the resources of the service turmel upon receiving an acknowledgement from the service authentication and authorization unit;<br>
the PDG releasing the resources of the service turmel except those for sending information to the service authorization and authentication unit, and releasing the remained resources for sending information to the service authentication and authorization unit upon confirming that the tunnel disconnection report has been successfully sent to the service authentication and authorization unit.<br>
13.	The method as claimed in claim 9, wherein the step of a PDG sending a tunnel<br>
disconnection report to a service authentication and authorization unit comprises:<br>
the PDG sending the turmel discormection report to the service authentication and authorization unit when sending the release acknowledgement to the UE.<br>
14.	The method as claimed in claim 10, wherein the step of a PDG sending a<br>
turmel disconnection report to a service authentication and authorization unit<br>
comprises:<br>
the PDG sending the tunnel disconnection report to the service authentication and authorization unit upon receiving the release acknowledgement from the UE.<br><br>
15.	The method as claimed in claim 9 or 10, wherein during process of releasing<br>
the resources of the service tunnel, the PDG removes all stored authorization<br>
information related to the UE therefrom when the PDG detects that the service tunnel<br>
to be released is the last service tunnel between itself and a corresponding UE.<br>
16.	The method as claimed in claim 9 or 10, wherein the related service<br>
information comprises at least one of: service/tunnel connection activation<br>
information, allocated IP address, status of the service tunnel, tunnel lo and tunnel<br>
security information.<br>
17.	The method as claimed in claim 9 or 10, wherein the service authentication<br>
and authorization unit is a 3GPP Authentication, Authorization and Accounting,<br>
AAA, Server.<br><br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Mjg3MC1jaGVucC0yMDA2ICBjb21wbGV0ZSBzcGVjaWZpY2F0aW9uIGFzIGdyYW50ZWQucGRm" target="_blank" style="word-wrap:break-word;">2870-chenp-2006  complete specification as granted.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Mjg3MC1jaGVucC0yMDA2ICBkcmF3aW5ncy5wZGY=" target="_blank" style="word-wrap:break-word;">2870-chenp-2006  drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Mjg3MC1DSEVOUC0yMDA2IENPUlJFU1BPTkRFTkNFIE9USEVSUy5wZGY=" target="_blank" style="word-wrap:break-word;">2870-CHENP-2006 CORRESPONDENCE OTHERS.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Mjg3MC1DSEVOUC0yMDA2IENPUlJFU1BPTkRFTkNFIFBPLnBkZg==" target="_blank" style="word-wrap:break-word;">2870-CHENP-2006 CORRESPONDENCE PO.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Mjg3MC1DSEVOUC0yMDA2IEZPUk0gMTgucGRm" target="_blank" style="word-wrap:break-word;">2870-CHENP-2006 FORM 18.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Mjg3MC1DSEVOUC0yMDA2IEZPUk0gMy5wZGY=" target="_blank" style="word-wrap:break-word;">2870-CHENP-2006 FORM 3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Mjg3MC1DSEVOUC0yMDA2IFBFVElUSU9OUy5wZGY=" target="_blank" style="word-wrap:break-word;">2870-CHENP-2006 PETITIONS.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Mjg3MC1DSEVOUC0yMDA2IFBPV0VSIE9GIEFUVE9STkVZLnBkZg==" target="_blank" style="word-wrap:break-word;">2870-CHENP-2006 POWER OF ATTORNEY.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Mjg3MC1jaGVucC0yMDA2LWFic3RyYWN0LnBkZg==" target="_blank" style="word-wrap:break-word;">2870-chenp-2006-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Mjg3MC1jaGVucC0yMDA2LWNsYWltcy5wZGY=" target="_blank" style="word-wrap:break-word;">2870-chenp-2006-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Mjg3MC1jaGVucC0yMDA2LWNvcnJlc3BvbmRuZWNlLW90aGVycy5wZGY=" target="_blank" style="word-wrap:break-word;">2870-chenp-2006-correspondnece-others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Mjg3MC1jaGVucC0yMDA2LWRlc2NyaXB0aW9uKGNvbXBsZXRlKS5wZGY=" target="_blank" style="word-wrap:break-word;">2870-chenp-2006-description(complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Mjg3MC1jaGVucC0yMDA2LWRyYXdpbmdzLnBkZg==" target="_blank" style="word-wrap:break-word;">2870-chenp-2006-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Mjg3MC1jaGVucC0yMDA2LWZvcm0gMS5wZGY=" target="_blank" style="word-wrap:break-word;">2870-chenp-2006-form 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Mjg3MC1jaGVucC0yMDA2LWZvcm0gMTgucGRm" target="_blank" style="word-wrap:break-word;">2870-chenp-2006-form 18.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Mjg3MC1jaGVucC0yMDA2LWZvcm0gMy5wZGY=" target="_blank" style="word-wrap:break-word;">2870-chenp-2006-form 3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Mjg3MC1jaGVucC0yMDA2LWZvcm0gNS5wZGY=" target="_blank" style="word-wrap:break-word;">2870-chenp-2006-form 5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Mjg3MC1jaGVucC0yMDA2LXBjdC5wZGY=" target="_blank" style="word-wrap:break-word;">2870-chenp-2006-pct.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="234673-a-data-visulation-apparatus-and-method-for-visualizing-data-on-a-mobile-terminal.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="234675-method-for-controlling-user-equipment-to-select-a-cell-in-radio-communication-system.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>234674</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>2870/CHENP/2006</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>29/2009</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>17-Jul-2009</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>11-Jun-2009</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>04-Aug-2006</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>HUAWEI TECHNOLOGIES CO., LTD.</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>Huawei Administration Building, Bantian, Longgang District, Shenzhen, Guangdong 518129</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>ZHANG, Wenlin</td>
											<td>Huawei Administration Building, Bantian, Longgang District, Shenzhen, Guangdong 518129</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04L12/28</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/CN2005/00020</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2005-01-06</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>200410000334.5</td>
									<td>2004-01-07</td>
								    <td>China</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/234674-method-for-releasing-a-service-tunnel-in-a-wireless-local-area-network by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 14:22:46 GMT -->
</html>
