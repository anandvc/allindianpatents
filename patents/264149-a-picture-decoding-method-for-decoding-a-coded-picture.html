<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/264149-a-picture-decoding-method-for-decoding-a-coded-picture by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2024 23:57:11 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 264149:A PICTURE DECODING METHOD FOR DECODING A CODED PICTURE</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">A PICTURE DECODING METHOD FOR DECODING A CODED PICTURE</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A coding control unit (110) and a mode selection unit (109) are included. The coding control unit (110) determines the coding order for a plurality of consecutive B pictures located between I-pictures and P-pictures so that the B-picture whose temporal distance from two previously coded pictures is farthest in display order is coded by priority, so as to reorder the B pictures in coding order. When a current block is coded in direct mode, the mode selection unit 109 scales a forward motion vector of a block which is included m a backward reference picture of a current picture and co-located with the current block so as to generate motion vectors of the current block, if the forward motion vector has been used for coding the co-located block. FIGURE 3</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td> <br><br>
DESCRIPTION<br>
MOVING    PICTURE    CODING    METHOD    AND    MOVING    PICTURE DECODING METHOD<br>
Technical Field<br>
The present invention relates to moving picture coding methods and moving picture decoding methods, and particularly to methods for performing inter picture prediction coding and inter picture prediction decoding of a current picture using previously processed pictures as reference pictures.<br>
Background Art<br>
In moving picture coding, data amount is   generally compressed by utilizing the spatial and temporal redundancies that exist within a moving picture. Generally speaking, frequency transformation is used as a method utilizing the spatial redundancies, and inter picture prediction coding is used as a method utilizing the temporal redundancies. In the inter picture prediction coding, for coding a current picture, previously coded pictures earlier or later than the current picture in display order are used as reference pictures. The amount of motion of the current picture from the reference picture is estimated, and the difference between the picture data obtained by motion compensation based on that amount of motion and the picture data of the current picture is calculated, so that the temporal redundancies are eliminated. The spatial redundancies are further eliminated from this differentia! value so as to compress the data amount of the current picture.<br>
In the moving picture coding method called H.264 which has been developed for standardization, a picture which is coded not using inter picture prediction but using intra picture coding is referred  to as an I-picture,  a  picture which  is coded  using  inter<br><br>
picture prediction with reference to one previously processed picture which is earlier or later than a current picture in display order is referred to as a P-picture, and a picture which is coded using Inter picture prediction with reference to two previously processed pictures which are earlier or later than a current picture in display order is referred to as a B-picture (See ISO/IEC 14496-2 "Information technology - Coding of audio-visual objects - Part2: Visual" pp.218-219).<br>
Fig. lA is a diagram showing relationship between respective pictures and the corresponding reference pictures in the above-mentioned moving picture coding method, and Fig. IB is a diagram showing the sequence of the pictures in the bit stream generated by coding.<br>
A picture U is an 1-picture, pictures P5, P9 and Pl3 are P-pictures, and pictures B2, B3, B4, 86, 87, B8, BIO, BIl and B12 are B-pictures. As shown by the arrows, the P-pictures P5, P9 and P13 are coded using inter picture prediction from the I-picture II and P-pictures P5 and P9 respectively as reference pictures.<br>
As shown by the arrows, the B-pictures B2, B3 and B4 are coded using inter picture prediction from the I-picture II and P-picture P5 respectively as reference pictures. In the same manner, the B-pictures B6, B7 and B8 are coded using the P-pictures P5 and P9 respectively as reference pictures, and the B-pictures BIO, Bll and B12 are coded using the P-pictures P9 and P13 respectively as reference pictures.<br>
In the above-mentioned coding, the reference pictures are coded prior to the pictures which refer to the reference pictures. Therefore, the bit stream is generated by the above coding in the sequence as shown in Fig. IB.<br>
By the way, in the H.264 moving picture coding method, a coding mode called direct mode can be selected. An inter picture prediction method in direct mode will be explained with reference to<br><br>
Fig. 2. Fig. 2 is an illustration showing motion vectors in direct mode, and particularly showing the case of coding a block a in the picture B5 in direct mode. In this case, a motion vector c used for coding a block b in the picture P9 is utilized. The block b is co-located with the block a and the picture P9 is a backward reference picture of the picture B6. The motion vector c is a vector used for coding the block b and refers to the picture P5. The block a is coded using bi-prediction based on the reference blocks obtained from the forward reference picture P5 and the backward reference picture P9 using vectors parallel to the motion vector c. In other words, the motion vectors used for coding the block a are the motion vector d for the picture P5 and the motion vector e for the picture P9.<br>
However, when B-pictures are coded using inter picture prediction with reference to I and P-pictures, the temporal distance between the current B-picture and the reference picture may be long, which causes reduction of coding efficiency. Particularly when a lot of B-pictures are located between adjacent I-picture and p-picture or two P-pictures  to each other, coding efficiency is significantly reduced.<br>
The present invention has been conceived in order to solve the above-mentioned problem, and it is an object of the present invention to provide a moving picture coding method and a moving picture decoding method for avoiding efficiency reduction of coding B-pictures if a lot of B-pictures are located between an I-picture and a P-picture or between two P-pictures. In addition, it is another object to provide a moving picture coding method and a moving picture decoding method for improving coding efficiency in direct mode.<br>
Disclosure of Invention<br>
In  order to  achieve  above-mentioned  object,  the  moving<br><br>
picture coding method of the present invention is a moving picture coding method for coding picture data corresponding to pictures that form a moving picture and generating a bit stream, the moving picture coding method comprising: a coding step for coding a current picture as one of an I-picture, a P-picture and a B-picture, the I-picture having only bloc(<s which are intra picture coded the p-picture having a block is inter prediction with unit-predictive reference using previously as first and b-picture bi-predictive pictures second wherein coding step includes control for determining order different from display consecutive b-pictures located between i-pictures p-pictures.></s>
Therefore, since B-pictures can be coded using pictures which are temporally closer in display order as reference pictures, prediction efficiency for motion compensation is improved and thus coding efficiency can be increased.<br>
Also, the moving picture coding method according to the present invention is a moving picture coding method for coding picture data corresponding to pictures that form a moving picture and generating a bit stream, the moving picture coding method comprising; a coding step for coding a current picture as a B-picture having a block which is inter picture prediction coded with bi-predictive reference using previously coded pictures as a first reference picture and a second reference picture, wherein in the coding step, when a current block A in a current B-picture is coded in direct mode by which motion compensation of the current block A is performed using motion vectors of the current block A obtained from a motion vector of a previously coded block, the motion vectors for performing the motion compensation of the current block A are obtained by scaling a first motion vector, based on a first reference<br><br>
picture, of a co-located block B in the second reference picture of the current block A, using a difference specified by information indicating display order of pictures.<br>
Therefore, when the direct mode is selected, since a first motion vector of a second reference picture is scaled, there is no need to add motion vector information to a bit stream, and prediction efficiency can also be improved.<br>
Likewise, when a current block A in a current B-picture is coded in direct mode, the motion vectors for performing the motion compensation of the current block A may be obtained by scaling a second motion vector, based on a second reference picture, of a co-located block B in the second reference picture of the current block A, using a difference specified by information indicating display order of pictures.<br>
Therefore, when the direct mode is selected, since a second motion vector of a second reference picture is scaled, there is no need to add motion vector information to a bit stream, and prediction efficiency can also be improved.<br>
Furthermore, when a current block A in a current B-picture is coded in direct mode, if a co-located block B in the second reference picture of the current block A is previously coded in direct rnode, the motion vectors for performing the motion compensation of the current block A may be obtained by scaling a first motion vector, based on a first reference picture of the block B, substantially used for coding the block B in the second reference picture, using a difference specified by information indicating display order of pictures.<br>
Therefore, when the dfrect mode is selected, since a first motion vector of a second reference picture which has been substantially used for coding the second reference picture is scaled, there is no need to add motion vector information to a bit stream, and prediction efficiency can also be improved.<br><br>
Also, when a current block A in a current B-picture is coded in direct mode, the motion vectors for performing the motion compensation of the current bloc[
Therefore, when the direct mode is selected, since a first motion vector of a temporally later P-picture is scaled, there is no need to add motion vector information to a bit stream, and prediction efficiency can also be improved.<br>
Furthremore, when a current block A in a current B-picture is coded in direct mode, the motion vectors for performing the motion compensation of the current block A may be obtained by scaling a first motion vector if a co-located block B in the second reference picture of the current block A is coded using at least the first motion vector based on a first reference picture of the block B, and scaling a second motion vector if the block B is coded using only the second motion vector based on a second reference picture of the block B, using a difference specified by information indicating display order of pictures.<br>
Therefore, when the direct mode is selected, if a second reference picture has a first motion vector, this first motion vector is scaled, and if the second reference picture does not have a first motion vector but only a second motion vector, this second motion vector is scaled. So, there is no need to add motion vector information to a bit stream, and prediction efficiency can be improved.<br>
In addftion, the moving picture decoding method according to the present invention is a moving picture decoding method for decoding a bit stream which is generated by coding picture data corresponding to pictures that form a moving picture, the moving picture decoding method comprising: a decoding step for decoding a<br><br>
current picture by inter picture prediction using a previously decoded picture as a reference picture, wherein in the decoding step, when the current picture is decoded by the inter picture prediction with bi-predictive reference using the previously decoded pictures as a first reference picture and a second reference picture, a bit stream including at least a picture which is temporally closest to the current picture in display order, as the first reference picture or the second reference picture, is decoded.<br>
Therefore, a bit stream, which is generated by coding a picture by inter picture prediction with bi-predictive reference using pictures which are temporally close in display order as a first reference picture and a second reference picture, can be properly decoded.<br>
Also, the moving picture decoding method according to the present invention is a moving picture decoding method for decoding a bit stream which is generated by coding picture data corresponding to pictures that form a moving picture, the moving picture decoding method comprising: a decoding step for decoding a current picture by inter picture prediction using a previously decoded picture as a reference picture, wherein In the decoding step, when the current picture is a picture having a block which is decoded by inter picture prediction with bi-predictive reference using previously decoded pictures as a first reference picture and a second reference picture, and a current block A is decoded in direct mode by which motion compensation of the current block A is performed using motion vectors of the current block A obtained from a motion vector of a previously decoded block, the motion vectors for performing the motion compensation of the current block A are obtained by scaling a first motion vector, based on a first reference picture, of a co-located block B in the second reference picture of the current block A, using a difference specified by information indicating display order of pictures.<br><br>
Therefore, when the direct mode is selected, since a first motion vector of a second reference picture is scaled, proper decoding can be achieved.<br>
Likewise, when a current picture is a picture having a block which is decoded by inter picture prediction with bi-predictJve reference and a current block A is decoded in direct mode, the motion vectors for performing the motion compensation of the current block A may be obtained by scaling a second motion vector, based on a second reference picture, of a co-iocated block B in the second reference picture of the current block A, using a difference specified by information indicating display order of pictures.<br>
Therefore, when the direct mode is selected, since a second motion vector of a second reference picture is scaled, proper decoding can be achieved.<br>
Furthermore, when a current picture is a picture having a block which is decoded by inter picture prediction with bi-predictive reference and a current block A Is decoded in direct mode, if a co-located block B in the second reference picture of the current block A is previously decoded in direct mode, the motion vectors for performing the motion compensation of the current block A may be obtained by scaling a first motion vector, based on a first reference picture of the block B, substantially used for decoding the block B in the second reference picture, using a difference specified by information indicating display order of pictures.<br>
Therefore, when the direct mode is selected, since a first motion vector of a second reference picture which has been substantially used for decoding the second reference picture is scaled, proper decoding can be achieved.<br>
Also, when a current picture is a picture having a block which is decoded by inter picture prediction with bi-predictive reference and a current block A is decoded in direct mode, the motion vectors for performing the motion compensation of the current block A may<br><br>
be obtained by scaling a first motion vector, based on a first reference picture, of a co-iocated block B in a temporally later picture, using a difference specified by information indicating display order of pictures, the later picture being inter picture prediction decoded with uni-predictive reference using a previously decoded picture as a first reference picture.<br>
Therefore, when the direct mode is selected, since a first motion vector of a picture which is decoded by inter picture prediction with uni-predictive reference is scaled, proper decoding can be achieved.<br>
The present invention can be realized as such a moving picture coding method and a moving picture decoding method as mentioned above, but also as a moving picture coding apparatus and a moving picture-decoding apparatus including characteristic steps of these moving picture coding method and moving picture decoding method. In addition, the present invention can be realized as a bit stream obtained by coding by the moving picture coding method so as to distribute it via a recording nnedium such as a CD-ROM or a transmission medium such as the Internet.<br>
Brief Description of Drawings<br>
Fig. 1 is a schematic diagram showing prediction relations between pictures and their sequence in the conventional moving picture coding method, and lA shows the relations between respective pictures and the corresponding reference pictures, and Fig. IB shows the sequence of the pictures in a bit stream generated by coding.<br>
Fig. 2 is a schematic diagram showing motion vectors in direct mode in the conventional moving picture coding method.<br>
Fig. 3 is a block diagram showing the structure of a first embodiment of a moving picture coding apparatus using a moving picture coding method according to the present invention.<br><br>
Fig. 4 is an illustration of picture numbers and relative indices in the embodiments of the present invention.<br>
Fig. 5 is a conceptual illustration of a moving picture coded data format in the moving picture coding apparatus in the embodiments of the present invention.<br>
Fig. 5 is an illustration showing the picture sequence in a reordering memory in the embodiments of the present invention, and Fig, 6A shows the sequence in input order, and Fig. 6B shows the reordered sequence.<br>
Fig. 7 is a schematic diagram showing motion vectors in direct mode in the embodiments of the present invention, and Fig. 7A shows a case where a current block a is a picture B7, Fig. 7B shows first and second examples in a case where a current block a is a picture B6, Fig. 7C shows a third example in a case where a current block a is a picture B6, and Fig. 7D shows a fourth example in a case where a current block a is a picture B5.<br>
Fig. 8 is a schematic diagram showing motion vectors in direct mode in the embodiments of the present invention, and Fig. 8A shows a fifth example in a case where a current block a is a picture B6, Fig. SB shows a sixth example in a case where a current block a is a picture B6, Fig. 8C shows a seventh example in a case where a current block a is a picture B6, and Fig. 8D shows a case where a current block a is a picture B8.<br>
Fig. 9 is a schematic diagram showing prediction relations between respective pictures and their sequence in the embodiments of the present invention, and Fig. 9A shows the prediction relations between respective pictures indicated in display order, and Fig. 9B shows the sequence of the pictures reordered in coding order (in a bit stream).<br>
Fig. 10 is a schematic diagram showing prediction relations between respective pictures and their sequence in the embodiments of the present invention, and Fig. lOA shows the prediction relations<br><br>
between respective pictures indicated in display order, and Fig. lOB shows the sequence of the pictures reordered in coding order (in a bit stream).<br>
Fig. 11 is a schematic diagram showing prediction relations between respective pictures and their sequence in the embodiments of the present invention, and Fig. ItiA shows the prediction relations between respective pictures indicated in display order, and Fig. llB shows the sequence of the pictures reordered in coding order (in a bit stream).<br>
Fig. 12 is a schematic diagram showing hierarchically the picture prediction structure as shown in Fig. 6 in the embodiments of the present invention.<br>
Fig. 13 is a schematic diagram showing hierarchically the picture prediction structure as shown in Fig. 9 in the embodiments of the present invention.<br>
Fig. 14 is a schematic diagram showing hierarchically the picture prediction structure as shown in Fig. 10 in the embodiments of the present invention.<br>
Fig. 15 is a schematic diagram showing hierarchically the picture prediction structure as shown in Fig. 11 in the embodiments of the present Invention.<br>
Fig. 16 is a block diagram showing the structure of an embodiment of a moving picture decoding apparatus using a moving picture decoding method according to the present invention.<br>
Fig., 17 is an illustration of a recording medium for storing a program for realizing the moving picture coding method and the moving picture decoding method in the first and second embodiments by a computer system, and Fig. 17A shows an example of a physical format of a flexible disk as a body of recording medium. Fig. 17B shows a cross-sectional view and a front view of the appearance of the flexible disk and the flexible disk itself, Fig. 17C shows a structure for recording and reproducing the program on<br><br>
the flexible disk FD.<br>
Fig. 18 a block diagram showing the overall configuration of a content supply system for realizing content distribution service.<br>
Fig. 19 is a sketch showing an example of a mobile phone.<br>
Fig. 20 is a block diagram showing the internal structure of the mobile phone.<br>
Fig. 21 is a block diagram showing the overall configuration of a digital broadcast system.<br>
Best Mode for Carrying Out the Invention<br>
The embodiments of the present invention will be explained below with reference to the figures.<br>
(First Embodiment)<br>
Fig. 3 is a block diagram showing the structure of an embodiment of the moving picture coding apparatus using the moving picture coding method according to the present invention.<br>
As shown in Fig. 3, the moving picture coding apparatus includes a reordering memory 101, a difference calculation unit 102, a residual error coding unit 103, a bit stream generation unit 104, a residual error decoding unit 105, an addition unit 106, a reference picture memory 107, a motion vector estimation unit 108, a mode selection unit 109, a coding control unit 110, switches 111^115 and a motion vector storage unit 116.<br>
The reordering memory 101 stores moving pictures inputted on a picture-to-picture basis in display order. The coding control unit 110 reorders the pictures stored in the reordering memory 101 in coding order. The coding control unit 110 also controls the operation of the motion vector storage unit 116 for storing motion vectors.<br>
Using the previously coded and decoded picture data as a reference picture, the motion vector estimation unit 108 estimates a<br><br>
motion vector indicating a position which is predicted optimum In the search area in the reference picture. The mode selection unit 109 determines a mode for coding macroblocks using the motion vector estimated by the motion vector estimation unit 108, and generates predictive image data based on the coding mode. The difference calculation unit 102 calculates the difference between the image data read out from the reordering memory 101 and the predictive image data inputted by the mode selection unit 109, and generates residual error image data.<br>
The residual error coding unit 103 performs coding processing such as frequency transform and quantization on the inputted residual error image data for generating the coded data. The bit stream generation unit 104 performs variable length coding or the like on the inputted coded data, and further adds the motion vector information, the coding mode information and other relevant information inputted by the mode selection unit 109 to the coded data so as to generate a bit stream.<br>
The residual error decoding unit 105 performs decoding processing such as inverse quantization and inverse frequency transform on the inputted coded data for generating decoded differential image data. The addition unit 106 adds the decoded differential image data inputted by the residual error decoding unit 105 and the predictive image data inputted by the mode selection unit 109 for generating decoded image data. The reference picture memory 107 stores the generated decoded Image data.<br>
Fig. 4 is an illustration of pictures and relative indices. The relative indices are used for identifying uniquely reference pictures stored in the reference picture memory 107, and they are associated to respective pictures as shown in Fig. 4. The relative indices are also used for indicating the reference pictures which are to be used for coding blocks using inter picture prediction.<br>
Fig, 5 is a conceptual illustration of moving picture coded data<br><br>
format used by the moving picture coding apparatus. Coded data "Picture" for one picture includes header coded data '"Header" included in the head of the picture, block coded data "Biockl" for direct mode, block coded data "Block2" for the inter picture prediction other than the direct mode, and the like. The block coded data "Block2" for the inter picture prediction other than direct mode has a first relative index "RIdxl" and a second relative index "RIdx2" for indicating two reference pictures used for inter picture prediction, a first motion vector "MVl" and a second motion vector "MV2" in this order. On the other hand, the block coded data "Btockl" for direct mode does not have the ffrst and second relative indices "RIdxl" and "RIdx2" and the first and second motion vectors "MVl" and "MV2". The index which is to be used, the first relative index "RIdxl" or the second relative index "RIdx2", can be determined by the prediction type "PredType". Also, the first relative index "RIdxl" indicates a first reference picture, and the second relative index "RIdx2" indicates a second reference picture. In other words, whether a picture is a first reference picture or a second reference picture is determined based on where they are located in the bit stream.<br>
Note that a P-picture is coded by inter picture prediction with uni-predictive reference using a previously coded picture which is located earlier or later in display order as a first reference picture, and a B-picture is coded by inter picture prediction with bi-predictive reference using previously coded pictures which are located earlier or later In display order as a first reference picture and a second reference picture. In the first embodiment, the first reference picture is explained as a forward reference picture, and the second reference picture is explained as a backward reference picture. Furthermore, the first and second motion vectors for the first and second reference pictures are explained as a forward motion vector and a backward motion vector respectively.<br><br>
Next, how to assign the first and second relative indices will be explained with reference to Fig. 4A.<br>
As the first relative indices, in the information indicating display order, the values incremented by 1 from 0 are first assigned to the reference pictures earlier than the current picture from the picture closer to the current picture. After the values incremented by 1 from 0 are assigned to all the reference pictures earlier than the current picture, then the subsequent values are assigned to the reference pictures later than the current picture from the picture closer to the current picture.<br>
As the second relative indices, in the information indicating display order, the values incremented by 1 from 0 are assigned to the reference pictures later than the current picture from the picture closer to the current picture. After the values incremented by 1 from 0 are assigned to all the reference pictures later than the current picture, then the subsequent values are assigned to the reference pictures earlier than the current picture from the picture closer to the current picture.<br>
For example, in Fig. 4A, when the first relative index "RIdxl" is 0 and the second relative index "RIdx2" is 1, the forward reference picture is the B-picture No. 6 and the backward reference picture is the P-picture No. 9. Here, these picture numbers 6 and 9 indicate the display order.<br>
Relative indices in a block are represented by variable length code words, and the codes with shorter lengths are assigned to the indices of the smaller values. Since the picture which is closest to the current picture is usually selected as a reference picture for inter picture prediction, coding efficiency is improved by assigning the relative index values in order of closeness to the current picture.<br>
Assignment of reference pictures to relative indices can be changed arbitrarily if it is explicitly indicated using buffer control signal in coded data (RPSL in  Header as shown in Fig.  5).    This<br><br>
enables to change the reference picture with the second relative index "0" to an arbitrary reference picture in the reference picture memory 107. As shown in Fig. 4B, assignment of reference indices to pictures can be changed, for example.<br>
Next, the operation of the moving picture coding apparatus structured as above will be explained below.<br>
Fig. 6 Is an iliustration showing the picture sequence in the reordering memory 101, and Fig. 6A shows the sequence in input order and Fig. 6B shows the reordered sequence. Here, vertical lines show pictures, and the numbers indicated at the lower right of the pictures show the picture types (I, P and B) with the first alphabetical letters and the picture numbers indicating display order with the following numbers.<br>
As shown in Fig. 6A, a moving picture is inputted to the reordering memory 101 on a picture-to-picture basis in display order, for example. When the pictures are inputted to the reordering memory 101, the coding control unit 110 reorders the pictures inputted to the reordering memory 101 in coding order. The pictures are reordered based on the reference relations in inter picture prediction coding, and more specifically, the pictures are reordered so that the pictures used as reference pictures are coded earlier than the pictures which use the reference pictures.<br>
Here, it is assumed that a P-picture refers to one neighboring previously processed I or P-picture which is located earlier or later than the current P-picture in display order, and a B-picture refers to two neighboring previously processed pictures which are located earlier or later than the current B-picture in display order.<br>
The pictures are coded in the following order. First, a B-picture at the center of B-pictures (3 B-pictures in Fig. 5A, for instance) located between two P-pictures is coded, and then another B-picture closer to the earlier P-picture is coded. For example, the pictures B6, B7, 88 and P9 are coded in the order of P9, 87, 86 and<br><br>
B8.<br>
In this case, in Fig. 6A, the picture pointed by the arrow refers to the picture at the origin of the arrow. Specifically, B-picture B7 refers to P-pictures P5 and P9, B6 refers to P5 and S7, and 88 refers to B7 and P9, respectively. The coding control unit 110 reorders the pictures in coding order, as shown in Fig. 6B.<br>
Next, the pictures reordered in the reordering memory 101 are read out in a unit for every motion compensation. Here, the unit of motion compensation is referred to as a macroblock which is 16 (horizontal) x 16 (vertical) pixels in size. Coding of the pictures P9, 87 B6 and 88 shown in Fig. 6A will be explained below in this order.<br>
(Coding of Picture P9)<br>
The P-picture P9 is coded using inter picture prediction with reference to one previously processed picture located earlier or later than P9 in display order. In coding P9, the picture P5 is the reference picture, as mentioned above. P5 has already been coded and the decoded picture thereof is stored in the reference picture memory 107. In coding P-pictures, the coding control unit 110 controls switches 113, 114 and 115 so as to be ON. The macrobiocks in the picture P9 read out from the reordering memory 101 are thus inputted to the motion vector estimation unit 108, the mode selection unit 109 and the difference calculation unit 102 in this order.<br>
The motion vector estimation unit 108 estimates a motion vector of a macroblock in the picture P9, using the decoded picture data of the picture P5 stored in the reference picture memory 107 as a reference picture, and outputs the estimated motion vector to the mode selection unit 109.<br>
The mode selection unit 109 determines the mode for coding the macroblock in the picture P9 using the motion vector estimated by the motion vector estimation unit 108.    Here, the coding mode<br><br>
indicates the method of coding macroblocks. As for P-pictures, it determines any of the coding methods, intra picture coding, inter picture prediction coding using a motion vector and inter picture prediction coding without using a motion vector (where motion is handled as "0"). For determining a coding mode, a niethod is selected so that a coding error is reduced with a smali amount of bits.<br>
The mode selection unit 109 outputs the determined coding mode to the bit stream generation unit 104. If the coding mode determined by the mode selection unit 109 Is inter picture prediction coding, the motion vector which is to be used for the inter picture prediction coding is outputted to the bit stream generation unit 104 and further stored in the motion vector storage.unit 115.<br>
The mode selection unit 109 generates predictive image data based on the determined coding mode for generating to the difference calculation unit 102 and the addition unit 106. However, when selecting intra picture coding, the mode selection unit 109 does not output predictive image data. In addition, when selecting intra picture coding, the mode selection unit 109 controls the switches 111 and 112 to connect to "a" side and "c" side respectively, and when selecting Inter picture prediction coding, it controls them to connect to "b" side and "d" side respectively. The case will be explained below where the mode selection unit 109 selects inter picture prediction coding.<br>
The difference calculation unit 102 receives the image data of the macroblock in the picture P9 read out from the reordering memory 101 and the predictive image data outputted from the mode selection unit 109. The difference calculation unit 102 calculates the difference between the image data of the macroblock in the picture P9 and the predictive Image data, and generates the residual error image data for outputting to the residual error coding unit 103.<br>
The residual error coding unit 103 performs coding processing<br><br>
such as frequency transform and quantization on the inputted residual error image data and thus generates the coded data for outputting to the bit stream generation unit 104 and the residual error decoding unit 105. Here, the coding processing such as frequency transform and quantization is performed in every 8 (horizontal) x 8 (vertical) pixels or4 (horizontal) x 4 (vertical) pixels, for example.<br>
The bit stream generation unit 104 performs variable length coding or the lii<e on the inputted coded data and further adds information such as motion vectors a coding mode header so to for generatin outputting bit stream.></e>
On the other hand, the residual error decoding unit 105 performs decoding processing such as inverse quantization and inverse frequency transform on the inputted coded data and generates the decoded differential image data for outputting to the addition unit 106. The addition unit 106 adds the decoded differential image data and the predictive image data inputted by the mode selection unit 109 for generating the decoded image data, and stores it in the reference picture memory 107.<br>
That is the completion of coding one macroblock in the picture P9. According to the same processing, the remaining macrobiocks of the picture P9 are coded. And after all the macrobiocks of the picture P9 are coded, the picture B7 is coded.<br>
(Coding of Picture B7)<br>
The picture B7 refers to the picture P5 as a forward reference picture and the picture P9 as a backward reference picture. Since the picture B7 is used as a reference picture for coding other pictures, the coding control unit 110 controls the switches 113, 114 and 115 so as to be ON, which causes the macrobiocks in the picture B7 read out from the reordering memory 101 to be inputted to the motion vector estimation unit 108, the mode selection unit 109 and<br><br>
the difference calculation unit 102.<br>
Using the decoded picture data of the picture P5 and the decoded picture data of the picture P9 which are stored in the reference picture memory 107 as a forward reference picture and a backward reference picture respectively, the motion vector estimation unit 108 estimates a forward motion vector and a backward motion vector of the macroblock in the picture B7. And the motion vector estimation unit 108 outputs the estimated motion vectors to the mode selection unit 109.<br>
The mode selection unit 109 determines the coding mode for the macroblock in the picture B7 using the motion vectors estimated by the motion vector estimation unit 108. Here, it is assumed that a- coding mode for B-pictures can be selected from among intra picture coding, inter picture prediction coding using a forward motion vector, inter picture prediction coding using a backward motion vector, inter picture prediction coding using bi-predictive motion vectors and direct mode.<br>
Operation of direct mode coding will be explained with reference to Fig. 7A. Fig. 7A is an illustration showing motion vectors in direct mode, and specificaliy shows the case where the block a in the picture B7 is coded in direct mode. In this case, a motion vector c, which has been used for coding the block b in the picture P9, is utilized. The block b is co-located with the block a, and the picture P9 is a backward reference picture of the picture B7. The motion vector c is stored in the motion vector storage unit 116. The block a is bi-predicted from the forward reference picture P5 and the backward reference picture P9 using vectors obtained utilizing the motion vector c. For example, as a method of utilizing the motion vector c, there is a method of generating motion vectors parallel to the motion vector c. In this case, the motion vector d and the motion vector e are used for the picture P5 and the picture P9 respectively for coding the block a.<br><br>
In this case where the forward motion vector d is MVF, the backward motion vector e is I^IVB, the motion vector c is I^V, the temporal distance between the backward reference picture P9 for the current picture B7 and the picture P5 which the block In the backward reference picture P9 refers to is TRD, and the temporal distance between the current picture B7 and the forward reference picture P5 is TRF respectively, the motion vector d MVF and the motion vector e MVB are respectively calculated by Equation 1 and Equation 2. Note that the temporal distance between the pictures can be determined based on the information Indicating the display order (position) given to the respective pictures or the difference specified by the information.<br>
MVF = MV   X  TRF / TRD -	 Equation 1<br>
MVB = (TRF - TRD)   x   MV / TRD 	 Equation 2<br>
where MVF and MVB respectively represent horizontal components and vertical components of the motion vectors, and the plus and minus signs indicate directions of the motion vectors.<br>
By the way, as for selection of a coding mode, a method for reducing coding error with a smaller amount of bits Is generally selected. The mode selection unit 109 outputs the determined coding mode to the bit stream generation unit 104. If the coding mode determined by the mode selection unit 109 Is inter picture prediction coding, the motion vectors used for the Inter picture prediction coding Is outputted to the bit stream generation unit 104 and further stored In the motion vector storage unit 116. When the direct mode is selected, the motion vectors which are calculated according to Equation 1 and Equation 2 and used for direct mode are stored in the motion vector storage unit 115.<br>
The mode selection unit 109 also generates predictive Image data based on the determined coding mode for outputting to the difference calculation unit 102 and the addition unit 106, although it does not output the predictive  Image data  If It selects the intra<br><br>
picture coding. In addition, when selecting the intra picture coding, the mode selection unit 109 controis the switches 111 and 112 to connect to "a" side and "c" side respectively, and when selecting the inter picture prediction coding or direct mode, it controls the switches 111 and 112 to connect to "b" side and "d" side respectively. The case will be explained beiow where the mode selection unit 109 selects the inter picture prediction coding or the direct mode.<br>
The difference calculation unit 102 receives the image data of the macroblock of the picture B7 read out from the reordering memory 101 and the predictive image data outputted from the mode selection unit 109. The difference calculation unit 102 calculates the difference between the image data of the macroblock of the picture B7 and the predictive image data, and generates the residual error image data for outputting to the residual error coding unit 103.<br>
The residual error coding unit 103 performs coding processing such as frequency transform and quantization on the inputted residua! error image data and thus generates the coded data for outputting to the bit stream generation unit 104 and the residual error decoding unit 105.<br>
The bit stream generation unit 104 performs variable length coding or the like on the inputted coded data, and further adds information such as motion vectors and a coding mode and so on to that data for generating and outputting a bit stream.<br>
On the other hand, the residual error decoding unit 105 performs decoding processing such as inverse quantization and inverse frequency transform on the inputted coded data and generates the decoded differential image data for outputting to the addition unit 106. The addition unit 106 adds the decoded differential image data and the predictive image data inputted by the mode selection unit 109 for generating the decoded image data, and stores it in the reference picture memory 107.<br>
That is the completion of coding one macroblock in the picture<br><br>
B7. According to tine same processing, the remaining macroblocks in the picture B7 are coded. And after all the macroblocks of the picture B7 are coded, the picture B6 is coded.<br>
(Coding of Picture B6)<br>
Since the picture 86 is a B-picture, B6 is coded using inter picture prediction with reference to two previously processed pictures located earlier or later than B6 in display order. The B-picture B6 refers to the picture P5 as a forward reference picture and the picture B7 as a backward reference picture, as described above. Since the picture B6 is not used as a reference picture for coding other pictures, the coding control unit HO controls the switch 113 to be ON and the switches 114 and 115 to be OFF, which causes the macroblock of the picture B6 read out from the reordering memory 101 to be inputted to the motion vector estimation unit 108, the mode selection unit 109 and the difference calculation unit 102.<br>
Using the decoded picture data of the picture P5 and the decoded picture data of the picture B7 which are stored in the reference picture memory 107 as a forward reference picture and a backward reference picture respectively, the motion vector estimation unit 108 estimates the forward motion vector and the backward motion vector for the macroblock in the picture B6. And the motion vector estimation unit 108 outputs the estimated motion vectors to the mode selection unit 109.<br>
The mode selection unit 109 determines the coding mode for the macroblock in the picture B5 using the motion vectors estimated by the motion vector estimation unit 108.<br>
Here, the first example of direct mode coding operation for the macroblock in the picture B6 will be explained with reference to Fig. 7B. Fig. 78 is an illustration showing motion vectors in direct mode, and specifically showing the case where the block a in the picture B6 is coded in direct mode.    In this case, a motion vector c,<br><br>
which has been used for coding a block b in the picture B7 is utilized. The block b is co-located with the block a, and the picture B7 is a backward reference picture of the picture B6. Here, it is assumed that the block b is coded by forward reference only or bi-predictive reference and the forward motion vector of the block b is the motion vector c. It is also assumed that the motion vector c is stored in the motion vector storage unit 116. The block a is bi-predicted from the forward reference picture P5 and the backward reference picture B7 using motion vectors generated utilizing the motion vector c. For example, if a method of generating motion vectors parallel to the motion vector c is used, as is the case of the above-mentioned picture B7, the motion vector d and the motion vector e are used for the picture P5 and the picture B7 respectively for coding the block a.<br>
In this case where the forward motion vector d is MVF, the backward motion vector e is MVB, the motion vector c is MV, the temporal distance between the backward reference picture B7 for the current picture B6 and the picture P5 which the block b in the backward reference picture B7 refers to is TRD, and the temporal distance between the current picture B5 and the forward reference picture P5 is TRF respectively, the motion vector d MVF and the motion vector e MVB are respectively calculated by above-mentioned Equation 1 and Equation 2. Note that the temporal distance between the pictures can be determined based on the information indicating display order of the pictures or the difference specified by the information, for instance.<br>
As described above, in direct mode, by scaling the forward motion vector of a backward reference B-picture, there is no need to transmit motion vector information, and motion prediction efficiency can be improved. Accordingly, coding efficiency can be improved. In addition, by using reference pictures temporally closest available in display order as a forward reference picture and a backward reference picture, coding efficiency can be increased.<br><br>
Next, the second example of the direct mode will be explained with reference to Fig. 7B. In this case, the motion vector, which has been used for coding the block b in the picture B7, is utilized. The block b is co-located with the block a, and the picture B7 is a backward reference picture for the picture B6. Here, it is assumed that the block b has been coded in direct mode and the forward motion vector which has been substantially used for coding the block b is the motion vector c. Specifically, the motion vector c is obtained by scaling the motion vector used for coding a block i, co-located with the block b, in the picture P9 that is the backward reference picture for the picture B7. The motion vector c stored in the motion vector storage unit 116 is used, or the motion vector c is obtained by reading out from the motion vector storage unit 116 the motion vector of the block i in the picture P9 which has been used for coding the block b in direct mode and calculating based on that motion vector. When the motion vector which is obtained by scaling for coding the block b in the picture B7 in direct mode is stored In the motion vector storage unit 116, only the forward motion vector needs to be stored. The block a is bi-predicted from the forward reference picture P5 and the backward reference picture B7 using the motion vectors generated utilizing the motion vector c. For example, if a method of generating motion vectors parallel to the motion vector c is used, as is the case of the above-mentioned first example, motion vectors used for coding the block a are the motion vector d and the motion vector e for the picture P5 and the picture B7 respectively.<br>
In this case, the forward motion vector d MVF and the backward motion vector e MVB of the block a are respectively calculated by above-mentioned Equation 1 and Equation 2, as in the case of the first example.<br>
As described above, in direct mode, since the forward motion vector    of   a    backward    reference    B-picture    which    has    been<br><br>
substantially used for coding the B-picture in direct mode is scaled, there is no need to transmit the motion vector information, and motion prediction efficiency can be improved even if the co-located block in the backward reference picture has been coded in direct mode. Accordingly, coding efficiency can be improved. In addition, by using reference pictures which are temporally closest available in display order as a forward reference picture and a backward reference picture, coding efficiency can be increased.<br>
Next, the third example of direct mode will be explained with reference to Fig. 7C. Fig. 7C is an illustration showing motion vectors in direct mode, and specifically showing the case where the block a in the picture B5 is coded in direct mode. In this case, the motion vector which has been used for coding the block b in the picture B7 is utilized. The picture B7 is a backward reference picture for the picture B6, and the block b in the picture B7 is co-located with the block a in the picture B6. Here, it is assumed that the block b has been coded using a backward motion vector only and the backward motion vector used for coding the block b is a motion vector f. Specifically, the motion vector f is assumed to be stored in the motion vector storage unit 115. The block a is bi-predicted from the forward reference picture P5 and the backward reference picture B7 using motion vectors generated utilizing the motion vector f. For example, if a method of generating motion vectors parallel to the motion vector f is used, as Is the case of the above-mentioned first example, motion vectors used for coding the block a are the motion vector g and the motion vector h for the picture P5 and the picture B7 respectively.<br>
In this case, where the forward motion vector g is MVF, the backward motion vector h is MVB, the motion vector f is MV, the temporal distance between the backward reference picture B7 for the current picture B6 and the picture P9 which the block in the backward   reference   picture   B7   is  TRD,   the   temporal   distance<br><br>
between the current picture B5 and the forward reference picture P5 is TRF, and the temporal distance between the current picture B6 and the backward reference picture B7 is TRB respectively, the motion vector g MVF and the motion vector h MVB are respectively calculated by Equation 3 and Equation 4.<br>
MVF = - TRF   X   MV / TRD 	 Equation 3<br>
MVB = TRB  &gt;c   MV / TRD 	 Equation 4<br>
As described above, in direct mode, since the backward motion vector of a co-located block in a backward reference B-picture which has been used for coding the block is scaled, there is no need to transmit motion vector information, and motion prediction efficiency can be improved even if the co-located block in the backward reference picture has only the backward motion vector. Accordingly, the coding efficiency can be improved. In addition, by using reference pictures which are temporally closest available in display order as a forward reference picture and a backward reference picture, coding efficiency can be increased.<br>
[Siext, the fourth example of direct mode will be explained with reference to Fig. 7D. Fig. 7D is an illustration showing motion vectors in direct mode, and specifically showing the case where the block a in the picture B6 is coded in direct mode. In this case, the motion vector which has been used for coding the block b in the picture B7 is utilized. The picture B7 is the backward reference picture for the picture B6, and the block b is co-located with the block a in the picture B6. Here, it is assumed that the block b has been coded using the backward motion vector only, as is the case of the third example, and the .backward motion vector used for coding the block b is the motion vector f. Specifically, the motion vector f is assumed to be stored in the motion vector storage unit 116. The block a is bi-predicted from the reference picture P9 which is referred to by the motion vector f and the backward reference picture  B7   using  motion  vectors  generated   utilizing  the  motion<br><br>
vector f. For example if a method of generating motion vectors parallel to the motion vector f is used, as is the case of the above-mentioned first example, motion vectors used for coding the biock a are the motion vector g and the motion vector h for the picture P9 and the picture B7 respectively.<br>
In this case, where the forward motion vector g is MVP, the backward motion vector h is MVB, the motion vector f is MV, the temporal distance between the backward reference picture B7 for the current picture B6 and the picture P9 which the block in the backward reference picture B7 refers to is TRD, and the temporal distance between the current picture B6 and the picture P9 which the block b in the backward reference picture B7 refers to is TRF respectively, the motion vector g MVP and the motion vector h MVB are respectively calculated by Equation 1 and Equation 2.<br>
As described above, in direct mode, by scaling the backward motion vector of a co-located block in a backward reference B-picture which has been used for coding the block, there is no need to transmit motion vector information, and motion prediction efficiency can be improved even if the co-located block in the backward reference picture has only the backward motion vector. Accordingly, coding efficiency can be improved. In addition, by using a picture referred to by the backward motion vector as a forward reference picture, and a reference picture which is temporally closest available in display order as a backward reference picture, codmg efficiency can be increased.<br>
Next, the fifth example of the direct mode will be explained with reference to Pig. 8A. Pig. 8A is an illustration showing motion vectors in direct mode, and specifically showing the case where the block a of the picture B6 is coded in direct mode. In this case, on the assumption that the value of the motion vectors is "0", bl-predictive reference is performed for motion compensation, using the picture P5 as a forward reference picture and the picture B7 as<br><br>
a backward reference picture.<br>
As mentioned above, by forcing the motion vector "0" in direct mode, when the direct mode is selected, there is no need to transmit the motion vector information nor to scale the motion vector, and thus the processing volume can be reduced.<br>
Next, the sixth example of the direct mode wil! be explained with reference to Fig. 8B. Fig. 8B is an illustration showing motion vectors in direct mode, and specifically showing the case where the block a in the picture B6 is coded in direct mode. In this case, the motion vector g which has been used for coding the block f in the picture P9 is utilized. The picture P9 is located later than the picture B6, and the block f is co-located with the block a in the picture B6. The motion vector g is stored in the motion vector storage unit 116. The block a is bi-predicted from the forward reference picture P5 and the backward reference picture 87 using motion vectors generated utilizing the motion vector g. For example, if a method of generating motion vectors parallel to the motion vector g is used, as is the case of the above-mentioned first example, motion vectors used for coding the block a are the motion vector h and the motion vector i for the picture P5 and the picture B7 respectively for coding the block a.<br>
In this case, where the forward motion vector h is MVF, the backward motion vector i is MVB, the motion vector g is MV, the temporal distance between the picture P9 which is located later in display order than the current picture 86 and the picture P5 which the block f in the picture P9 refers to is TRD, the temporal distance between the current picture B6 and the forward reference picture P5 is TRF, and the temporal distance between the current picture 86 and the backward reference picture B7 is TRB respectively, the motion vector h MVF and the motion vector i MVB are respectively calculated by Equation 1 and Equation 5.<br>
MVB = - TRB   X   MV / TRD 	 Equation 5<br><br>
As described above, in direct mode, by scaling the motion vector of the P-picture which is located later in display order, there is no need to store the motion vector of a B-picture if the B-picture is the backward reference picture, and there is also no need to transmit the motion vector information. In addition, by using reference pictures which are temporally closest in display order as a forward reference picture and a backward reference picture, coding efficiency can be increased.<br>
Next, the seventh example of the direct mode will be explained with reference to Fig. 8C. Fig. 8C is an illustration showing motion vectors in direct mode, and specifically showing the case where the block a in the picture B6 is coded in direct mode. This example shows the case where the above-mentioned assignment of relative indices to the picture numbers is changed (remapped) and the picture P9 is a backward reference picture. In this case, the motion vector g which has been used for coding the block f in the picture P9 is utilized. The picture P9 Is the backward reference picture for the picture B7, and the block f is co-located with the block a in the picture B5. The motion vector g is stored in the motion vector storage unit 116. The block a is bi-predicted from the forward reference picture P5 and the backward reference picture P9 using motion vectors generated utilizing the motion vector g. For example, if a method of generating motion vectors parallel to the motion vector g, as is the case of the above-mentioned first example, motion vectors used for coding the block a are the motion vector h and the motion vector i for the picture P5 and the picture P9 respectively.<br>
In this case, where the forward motion vector h is MVF, the backward motion vector i is MVB, the motion vector g is MV, the temporal distance between the backward reference picture P9 for the current picture B6 and the picture P5 which the block f in the picture P9 refers to is TRD, and the temporal distance between the<br><br>
current picture B6 and the forward reference picture P5 is TRF respectively, the motion vector h MVF and the motion vector i i^VB are respectively calculated by Equation 1 and Equation 2.<br>
As described above, in direct mode, the motion vector of the previously coded picture can be scaled even if the relative indices to the picture numbers are remapped, and when the direct mode is selected, there is no need to transmit the motion vector information. When the block a in the picture B6 is coded in direct mode, the block in the backward reference picture for the picture B6 which is co-located with the block a is coded by the forward reference only, bi-predictive reference, or direct mode. And when a forward motion vector has been used for this coding, this forward motion vector is scaled, and the block a is coded in direct mode, as is the case of the above-mentioned first, second or seventh example. On the other hand, when the block co-located with the block a has been coded by backward reference only using a backward motion vector, this backward motion vector is scaled, and the block a is coded in direct mode, as is the case of the above-mentioned third or fourth example.<br>
Above-mentioned direct mode is applicable not only to the case where a time interval between pictures is fixed but also to the case where it is variable.<br>
The mode selection unit 109 outputs the determined coding mode to the bit stream generation unit 104. Also, the mode selection unit 109 generates predictive image data based on the determined coding mode and outputs it to the difference calculation jnit 102. However, if selecting intra picture coding, the mode selection unit 109 does not output predictive image data. The node selection unit 109 controls the switches 111 and 112 so as to oe connected to "a" side and "c" side respectively if selecting intra Dicture coding, and controls the switches 111 and 112 so as to be ronnected to "b"side and "d" side if selecting inter picture prediction<br><br>
coding or a direct mode. If the determined coding mode is inter picture prediction coding, the mode selection unit 109 outputs the motion vectors used for the inter picture prediction coding to the bit stream generation unit 104. Since the picture B6 is not used as a reference picture for coding other pictures, there is no need to store the motion vectors used for the inter picture prediction coding in the motion vector storage unit 115. The case will be explained below where the mode selection unit 109 selects the inter picture prediction coding or the direct mode.<br>
The difference calculation unit 102 receives the image data of the macrobiock in the picture B5 read out from the reordering memory 101 and the predictive image data outputted from the mode selection unit 109. The difference calculation unit 102 calculates the difference between the image data of the macrobiock in the picture B6 and the predictive image data and generates the residual error image data for outputting to the residual error coding unit 103. The residual error coding unit 103 performs coding processing such as frequency transform and quantization on the inputted residual error image data, and thus generates the coded data for outputting to the bit stream generation unit 104.<br>
The bit stream generation unit 104 performs variable length coding or the like on the inputted coded data, further adds information such as motion vectors and a coding mode and so on to the data, and generates the bit stream for outputting.<br>
That is the completion of coding one macrobiock in the picture B6. According to the same processing, the remaining macroblocks in the picture B6 are coded. And after all the macroblocks in the picture B6 are coded, the picture 88 is coded.<br>
(Coding of Picture B8)<br>
Since a picture SB is a B-picture, inter picture prediction coding is performed for the picture B8 with reference to two previously processed  pictures located  earlier or later than  B6 in<br><br>
display order. The B-picture B8 refers to the picture B7 as a forward reference picture and the picture P9 as a backward reference picture, as described above. Since the picture B8 is not used as a reference picture for coding other pictures, the coding control unit 110 controls the switch 113 to be ON and the switches 114 an'd 115 to be OFF, which causes the macrobiocks in the picture B8 read out from the reordering memory 101 to be inputted to the motion vector estimation unit 108, the mode selection unit 109 and the difference calculation unit 102,<br>
Using the decoded picture data of the picture 87 and the decoded picture data of the picture P9 which are stored in the reference picture memory 107 as a forward reference picture and a backward reference picture respectively, the motion vector estimation unit 108 estimates the forward motion vector and the backward motion vector for the macrobiock in the picture B8. And the motion vector estimation unit 108 outputs the estimated motion vectors to the mode selection unit 109.<br>
The mode selection unit 109 determines the coding mode for the macrobiock In the picture BS using the motion vectors estimated by the motion vector estimation unit 108.<br>
Here, the case where the macrobiock in the picture B8 is coded using the direct mode will be explained with reference to Fig. 8D. Fig. 8D is an illustration showing motion vectors in direct mode, and specifically showing the case where a block a in the picture B8 is coded in direct mode. In this case, a motion vector c which has been used for coding a block b in the backward picture P9 is utilized. The reference picture P9 is located later than the picture B8, and the block b in the picture P9 is co-located with the block a. Here, it is assumed that the block b has been coded by forward reference and the forward motion vector for the block b is the motion vector c. The motion vector c is stored in the motion vector storage unit 116. The block a is bi-predicted from the forward reference picture B7<br><br>
and the backward reference picture P9 using motion vectors generated utilizing the motion vector c. For example, if a method of generating motion vectors parallel to the motion vector c Is used, as is the case of the above-mentioned picture B7, the motion vector d and the motion vector e are used for the picture B7 and the picture P9 respectively for coding the block a.<br>
In this case where the forward motion vector d is MVF, the backward motion vector e is MVB, the motion vector c is MV, the temporal distance between the backward reference picture P9 for the current picture B8 and the picture P5 which the block b in the backward reference picture P9 refers to is TRD, the temporal distance between the current picture B8 and the forward reference picture B7 is TRF, and the temporal distance between the current picture B8 and the backward reference picture P9 disturb respectively, the motion vector d MVF and the motion vector e MVB are respectively calculated by Equation 1 and Equation 5.<br>
As described above, in direct mode, by scaling the forward motion vector of the backward reference picture, when the direct mode IS selected, there is no need to transmit the motion vector information and the motion prediction efficiency can be improved. Accordingly, coding efficiency can be improved. In addition, by using reference pictures which are temporally closest available in display order as forward and backward reference pictures, coding efficiency can be increased.<br>
Above-mentioned direct mode is applicable not only to the case where a time interval between pictures is fixed but also to the case where it is variable.<br>
The mode selection unit 109 outputs the determined coding mode to the bit stream generation unit 104. Also, the mode selection unit 109 generates predictive image data based on the determined coding mode and outputs it to the difference calculation unit  102.     However,  if selecting  intra   picture coding,  the  mode<br><br>
selection unit 109 does not output predictive image data. The mode selection unit 109 controls the switches 111 and 112 so as to be connected to "a" side and "c" side respectively if selecting intra picture coding, and controls the switches 111 and 112 so as to be connected to "b"side and "d"side if selecting inter picture prediction coding or direct mode. If the determined coding mode is inter picture prediction coding, the mode selection unit 109 outputs the motion vectors used for the inter picture prediction coding to the bit stream generation unit 1Q4. Since the picture B8 is not be used as a reference picture for coding other pictures, there is no need to store the motion vectors used for the inter picture prediction coding in the motion vector storage unit 116. The case will be explained below where the mode selection unit 109 selects the inter picture prediction coding or direct mode.<br>
The difference calculation unit 102 receives the image data of the macroblock in the picture B8 read out from the reordering memory 101 and the predictive image data outputted from the mode selection unit 109. The difference calculation unit 102 calculates the difference between the image data of the macroblock in the picture B8 and the predictive image data and generates the residual error image data for outputting to the residua! error coding unit 103. The residual error coding unit 103 performs coding processing such as frequency transform and quantization on the inputted residual error image data and thus generates the coded data for outputting to the bit stream generation unit 104.<br>
The bit stream generation unit 104 performs variable length coding or the like on the inputted coded data, further adds information such as motion vectors and a coding mode and so on to the data, and generates the bit stream for outputting.<br>
That is the completion of coding one macroblock in the picture B8. According to the same processing, the remaining macroblocks in the picture B8 are coded.<br><br>
According to the above-mentioned respective coding procedures for the pictures P9, B7, B6 and B8, other pictures are coded depending on their picture types and temporal locations in display order.<br>
In the above-mentioned embodiment, the moving picture coding method according to the present invention has been explained taking the case where the picture prediction structure as shown in Fig. 6A is used as an example. Fig. 12 is an illustration showing this picture prediction structure hierarchically. In Fig. 12, arrows indicate prediction relations, in which the pictures pointed by the arrows refer to the pictures located at the origins of the arrows. In the picture prediction structure as shown in Fig. 6A  the coding order is determined by giving a top priority to the pictures which are farthest from the previously processed pictures in display order, as shown in Fig. 12. For example, the picture farthest from an I-picture or a P-picture is that located in the center of the consecutive B-pictures. Therefore, if the picture P5 and P9 have been coded, the picture B7 is to be coded next. And if the pictures P5, B7 and P9 have been coded, the pictures B6 and B8 are to be coded next.<br>
In addition, the moving picture coding method according to the present invention can be used for other picture prediction structures than those as shown in Fig. 6 and Fig. 12, so as to produce the effects of the present invention. Figs. 9'-ll show the examples of other picture prediction structures.<br>
Fig. 9 shows the case where 3 B-pictures are located between I-pictures and P-pictures and the B-picture closest from the previously processed picture is selected for coding first. Fig. 9A is a diagram showing prediction relations between respective pictures arranged in display order, and Fig. 9B is a diagram showing the sequence of pictures reordered in coding order (a bit stream). Fig. 13  is  a  hierarchical  diagram  of the  picture  prediction  structure<br><br>
corresponding to Fig. 9A. In the picture prediction structure as shown in Fig. 9A, the pictures ciosest in display order from the previously processed pictures are coded first, as shown in Fig. 13. For example, if the pictures P5 and P9 have been coded, the pictures B6 and B8 are to be coded next. If the pictures P5, B6, B8 and P9 have been coded, the picture B7 Is to be coded next.<br>
Fig. 10 shows the case where 5 B-pictures are located between I-pictures and P-pictures and the B-picture which is farthest from the previously processed picture is selected for coding first. Fig. lOA is a diagram showing prediction relations between respective pictures arranged in display order, and Fig. lOB is a diagram showing the sequence of pictures reordered in coding order (a bit stream). Fig. 14 is a hierarchical diagram of the picture prediction structure corresponding to Fig. lOA. In the picture prediction structure as shown in Fig. lOA, the coding order is determined by giving a top priority to the pictures farthest in display order from the previously processed pictures, as shown in Fig. 14. For example, the picture farthest from an I-picture or a P-picture is the B-picture in the center of the consecutive B-pictures. Therefore, if the pictures P7 and P13 have been coded, the picture BIO is to be coded next. If the pictures P7, BIO and P13 have been coded, the pictures B8, B9, Bll and B12 are to be coded next.<br>
Fig. 11 shows the case where 5 B-pictures are located between I-pictures and P-pictures and the B-picture which is closest from the previously processed picture is selected for coding first. Fig. 11A is a diagram showing prediction relations between respective pictures arranged in display order, and Fig. IIB is a diagram showing the sequence of pictures reordered in coding order (a bit stream). Fig. 15 is a hierarchical diagram of the picture prediction structure corresponding to Fig. IIA. In the picture prediction structure as shown in Fig. IIA, the pictures closest in display order from the previously processed pictures are coded first,<br><br>
as shown in Fig. 15. For example, if the pictures P5 and P9 have been coded, the pictures B8 and B12 are to be coded next. If the pictures P5, B8, B12 and P9 have been coded, the pictures B9 and Bil are to be coded next. Furthermore, if the pictures P5, B8, B9, Bll, B12 and P9 have been coded, the picture BIO is to be coded next.<br>
As described above, according to the moving picture coding method of the present invention, when inter picture prediction coding is performed on a plurality of B-pictures located between I-pictures and P-pictures using bi-predictive reference, they are coded in another order than display order. For that purpose, the pictures located as close to the current picture as possibte in display order are used as forward and backward pictures. As a reference picture, a B-picture is also used if it is available. When a plurality of B-pictures located between I-pictures and P-pictures are coded in different order from display order, the picture farthest from the previously processed picture is to be coded first. Or, when a plurality of B-pictures located between I-pictures and P-pictures are coded in different order from display order, the picture closest from the previously processed picture is to be coded first.<br>
According to the moving picture coding method of the present invention, above-mentioned operation enables to use a picture closer to a current B-picture in display order as a reference picture for coding it. Prediction efficiency is thus increased for motion compensation and coding efficiency is increased.<br>
In addition, according to the moving picture coding method of the present invention, for coding a block in a B-picture in direct mode with reference to a B-picture previously coded as a backward reference picture, if the co-located block in the backward reference B-picture has been coded by forward reference or bi-predictive reference, a motion vector obtained by scaling the forward motion vector of the backward  reference  B-picture is  used  as a  motion<br><br>
vector in direct mode.<br>
As mentioned above, in direct mode, by scaling a forward motion vector of a backward reference B-picture, there is no need to transmit motion vector information, and prediction efficiency can be increased. In addition, by using a reference picture temporally closest in display order as a forward reference picture, coding efficiency can be increased.<br>
Or, if a co-located block in a backward reference B-picture is coded in direct mode, a motion vector obtained by scaling the forward motion vector substantially used in direct mode is used as a motion vector in direct mode.<br>
As mentioned above, in direct mode, by scaling a forward motion vector of a backward reference B-picture which has been substantially used for the direct mode coding, there is no need to transmit motion vector information, and prediction efficiency can be increased even if the co-located block in the backward reference picture is coded in direct mode. In addition, coding efficiency can be improved by using a temporally closest reference picture as a forward reference picture.<br>
Or, if a co-located block in a backward reference B-picture is coded by backward reference, motion vectors obtained by scaling the backward motion vector of the block is used as motion vectors in direct nnode.<br>
As mentioned above, in direct mode, by scaling a backward motion vector which has been used for coding a co-iocated block in the backward reference B-picture, there is no need to transmit motion vector information, and prediction efficiency can be increased even if the co-located block in the backward reference picture has only a backward motion vector. In addition, by using a temporally closest reference picture as a forward reference picture, coding efficiency can be improved.<br>
Or, if a co-located block in a backward reference B-picture is<br><br>
coded by backward reference, motion vectors obtained by scaling the backward motion vector used for that coding, with reference to the picture referred to by this backward motion vector and the backward reference picture, are used as motion vectors in direct mode.<br>
As mentioned above, in direct mode, by scaling a backward motion vector which has been used for coding a co-located block in the backward reference B-picture, there is no need to transmit motion vector information, and prediction efficiency can be increased even if the co-located block in the backward reference picture has only a backward motion vector. Accordingly, coding efficiency can be improved. In addition, by using a picture referred to by the backward motion vector as a forward reference picture and a reference picture temporally closest available in display order as a backward reference picture, coding efficiency can be Increased.<br>
Or, in direct mode, a motion vector which is forced to be set to "0" is used.<br>
By forcing a motion vector to be set to "0" In direct mode, when the direct mode is selected, there is no need to transmit the motion vector information nor to scale the motion vector, and therefore the processing volume can be reduced.<br>
In addition, according to the moving picture coding method of the present invention, for coding a block in a B-picture in direct mode with reference to a B-picture which has been previously coded as a backward reference picture, a motion vector obtained by scaling the forward motion vector which has been used for coding the co-located block in the later P-picture is used as a motion vector in direct mode.<br>
As mentioned above, in direct mode, by scaling a motion vector of a later P-picture, if the backward reference picture is a B-picture, there is no need to store the motion vectors of the B-picture  and  there   is   no   need  to  transmit  the   motion   vector<br><br>
information, and tiius prediction efficiency can be increased. In addition, by using a temporally closest reference picture as a forward reference picture, coding efficiency can be improved.<br>
When assignment of relative indices to picture numbers is changed and a co-iocated block in a backward reference picture has been coded by forward reference, motion vectors obtained by scaling that forward motion vector are used as motion vectors in direct mode.<br>
As mentioned above, in direct mode, a motion vector of a previously coded picture can be scaled even if assignment of relative indices to picture numbers is changed, and there is no need to transmit motion vector information.<br>
In the  present embodiment,  the case  has  been explained where motion compensation is made in every 16 (horizontal) x 16 (vertical) pixels and residual error image data is coded in every 8 (horizontal) x 8 (vertical) pixels or 4 (horizontal) x 4 (vertical) pixels, but other size (number of pixels included) may be applied.<br>
Also, in the present embodiment, the case has been explained where consecutive 3 or 5 5-pictures are located, but other number of pictures may be located.<br>
Further, in the present embodiment, the case has been explained where one of intra picture coding, inter picture prediction coding using motion vectors and inter picture prediction coding without using motion vectors is selected as a coding mode for P-pictures, and one of intra picture coding, inter picture prediction coding using a forward motion vector, inter picture prediction coding using a backward motion vector, inter picture prediction coding using a bi-predictive motion vectors and direct mode is selected for B-pictures, but other coding mode may be used.<br>
Also, in the present embodiment, seven examples of direct mode have been explained, but a method which is uniquely determined in every macroblock or block may be used, or any of a<br><br>
plurality of methods m every macrobiock or biock may be selected. If a plurality of methods are used, information indicating which type of direct mode has been used is described in a bit stream.<br>
In addition, in the present embodiment, the case has been explained where a P-picture Is coded with reference to one previously coded I or P-picture which is located temporally earlier or later in display order than the current P-picture, and a B-picture is coded with reference to two previously processed neighboring pictures which are located earlier or later in display order than the current B-picture, respectively. However, in the case of a P-picture, the P-picture may be coded with reference to at most one picture for each block from among a plurality of previously coded I or P pictures as candidate reference pictures, and in the case of a B-picture, the B-picture may be coded with reference to at most two pictures for each biock from among a plurality of previously coded neighboring pictures which are located temporally earlier or later in display order as candidate reference pictures.<br>
In addition, when storing motion vectors in the motion vector storage unit 116, the mode selection unit 109 may store both forward and backward motion vectors or only a forward motion vector, if a current block is coded by bi-predictive reference or in direct mode. If it stores only the forward motion vector, the volume stored in the motion vector storage unit 116 can be reduced.<br>
(Second Embodiment)<br>
Fig. 16 is a block diagram showing a structure of a moving picture decoding apparatus using a moving picture decoding method according to an embodiment of the present invention.<br>
As shown in Fig. 16, the moving picture decoding apparatus includes a bit stream analysis unit 1401, a residual error decoding unit 1402, a mode decoding unit 1403, a frame memory control unit 1404, a motion compensation decoding unit 1405, a motion vector<br><br>
storage unit 1406, a frame memory 1407, an addition unit 1408 and switches 1409 and 1410.<br>
The bit stream analysis unit 1401 extracts various types of data such as coding mode information and motion vector information from the inputted bit stream. The residual error decoding unit 1402 decodes the residual error coded data inputted from the bit stream analysis unit 1401 and generates residual error image data. The mode decoding unit 1403 controls the switches 1409 and 1410 with reference to the coding mode information extracted from the bit stream.<br>
The frame memory control unit 1404 outputs the decoded, picture data stored in the frame memory 1407 as output pictures based on the information indicating the display order of the pictures inputted from the bit stream analysis unit 1401.<br>
The motion compensation decoding unit 1405 decodes the information of the reference picture numbers and the motion vectors, and obtains motion compensation image data from the frame memory 1407 based on the decoded reference picture numbers and motion vectors. The motion vector storage unit 1405 stores motion vectors.<br>
The addition unit 1408 adds the residual error coded data inputted from the residual error decoding unit 1402 and the motion compensation image data inputted from the motion compensation decoding unit 1405 for generating the decoded image data. The frame memory 1407 stores the generated decoded image data.<br>
Next, the operation of the moving picture decoding apparatus as structured as above will be explained. Here, it is assumed that the bit stream generated by the moving picture coding apparatus is Inputted to the moving picture decoding apparatus. Specifically, it is assumed that a P-picture refers to one previously processed neighboring I or P-picture which is located earlier or later than the current P-picture in display order,  and a  B-picture refers to two<br><br>
Dreviousiy coded neighboring pictures which are located earlier or later than the current B-picture in display order.<br>
In this case, the pictures in the bit stream are arranged in the order as shown in Fig. 6B. Decoding processing of pictures P9, B7, B6 and B8 will be explained below in this order.<br>
{Decoding of Picture P9)<br>
The bit stream of the picture P9 Is inputted to the bit stream analysis unit 1401. The bit stream analysis unit 1401 extracts various types of data from the inputted bit stream. Here, various types of data mean mode selection information, motion vector information and others. The extracted mode selection information is outputted to the mode decoding unit 1403. The extracted motion vector information is outputted to the motion compensation decoding, unit 1405. And the residual error coded data is outputted to the residual error decoding unit 1402.<br>
The mode decoding unit 1403 controls the switches 1409 and 1410 with reference to the coding mode selection information extracted from the bit stream. If intra picture coding is selected as a coding mode, the mode decoding unit 1403 controls the switches 1409 and 1410 so as to be connected to "a" side and "c" side respectively. If inter picture prediction coding is selected as a coding mode, the mode decoding unit 1403 controls the switches 1409 and 1410 so as to be connected to "b" side and "d" side respectively.<br>
The mode decoding unit 1403 also outputs the coding mode selection information to the motion compensation decoding unit 1405. The case where the inter picture prediction coding Is selected as a coding mode will be explained below. The residual error decoding unit 1402 decodes the inputted residua) error coded data to generate residual error image data. The residual error decoding unit 1402 outputs the generated residual error image data to the switch 1409.    Since the switch 1409 is connected to "b" side.<br><br>
the residual error image data Is outputted to the addition unit 1408.<br>
The motion compensation decoding unit 1405 obtains motion compensation image data from the frame memory 1407 based on the inputted motion vector information and the like. The picture P9 has been coded with reference to the picture P5, and the picture PS has been already decoded and stored in the frame memory 1407. So, the motion compensation decoding unit 1405 obtains the motion compensation image data from the picture data of the picture P5 stored in the frame memory 1407, based on the motion vector information. The motion compensation image data generated in this manner is outpUtted to the addition unit 1408.<br>
When decoding P-pictures, the motion compensation decoding unit 1405 stores the motion vector information in the motion vector storage unit 1405.<br>
The addition unit 1408 adds the inputted residual error image data and motion compensation image data to generate decoded image data. The generated decoded image data is outputted to the frame memory 1407 via the switch 1410.<br>
That is the completion of decoding one macroblock in the picture P9. According to the same processing, the remaining macroblocks in the picture P9 are decoded in sequence. And after all the macroblocks in the picture P9 are decoded, the picture B7 is decoded.<br>
(Decoding of Picture B7)<br>
Since the operations of the bit stream analysis unit 1401, the mode decoding unit 1403 and the residual error decoding unit 1402 until generation of residual error image data are same as those for decoding the picture P9, the explanation thereof will be omitted.<br>
The motion compensation decoding unit 1405 generates motion compensation image data based on the inputted motion vector information and the like. The picture B7 is coded with reference to the picture P5 as a forward reference picture and the<br><br>
picture P9 as a baci<ward reference picture and these pictures p5 p9 have already been decoded stored in the frame memory></ward>
If inter picture bi-prediction coding is selected as a coding mode, the motion compensation decoding unit 1405 obtains the forward reference picture data from the frame memory 1407 based on the forward motion vector information. It also obtains the backward reference picture data from the frame memory 1407 based on the backward motion vector information. Then, the motion compensation decoding unit 1405 averages the forward and backward reference picture data to generate motion compensation image data.<br>
When direct mode is selected as a coding mode, the motion compensation decoding unit 1405 obtains the motion vector of the picture P9 stored in the motion vector storage unit 1406. Using this motion vector, the motion compensation decoding unit 1405 obtains the forward and backward reference picture data from the frame memory 1407. Then, the motion compensation decoding unit 1405 averages the forward and backward reference picture data to generate motion compensation image data.<br>
The case where the direct mode is selected as a coding mode will be explained with reference to Fig. 7A again. Here, it is assumed that the block a in the picture B7 is to be decoded and the block b in the picture P9 is co-located with the block a. The motion vector of the block b is the motion vector c, which refers to the picture P5. In this case, the motion vector d which is obtained utilizing the motion vector c and refers to the picture P5 is used as a forward motion vector, and the motion vector e which is obtained utilizing the motion vector c and refers to the picture P9 is used as a backward motion vector. For example, as a method of utilizing the motion vector c, there is a method of generating motion vectors parallel to the motion vector c.    The motion compensation image<br><br>
data is obtained by averaging the forward and backward reference data obtained based on these motion vectors.<br>
In this case where the forward motion vector d is MVF, the backward motion vector e is MVB, the motion vector c is MV, the temporal distance between the backward reference picture P9 for the current picture B7 and the picture P5 which the block b in the backward reference picture P9 refers to is TRD, and the temporal distance between the current picture B7 and the forward reference picture P5 is TRF respectively, the motion vector d MVF and the motion vector e MVB are respectively calculated by Equation 1 and Equation 1, where MVF and MVB represent horizontal and vertical components of the motion vectors respectively. Note that the temporal distance between the pictures can be determined based on the information indicating the display order (position) given to respective pictures or the difference specified by the information.<br>
The motion compensation image data generated in this manner is outputted to the addition unit 1408. The motion compensation decoding unit 1405 stores the motion vector information in the motion vector storage unit 1406.<br>
The addition unit 1408 adds the inputted residual error image data and the motion compensation image data to generate decoded image data. The generated decoded image data is outputted to the frame memory 1407 via the switch 1410.<br>
That is the completion of decoding one macroblock in the picture B7. According to the same processing, the remaining macroblocks in the picture B7 are decoded in sequence. And after all the macroblocks of the picture 87 are decoded, the picture B6 is decoded.<br>
(Decoding of Picture B6)<br>
Since the operations of the bit stream analysis unit 1401, the mode decoding unit 1403 and the residual error decoding unit 1402 until generation of residual error image data are same as those for<br><br>
decoding the picture P9, the explanation thereof will be omitted.<br>
The motion compensation decoding unit 1405 generates motion compensation image data based on the inputted motion vector information and the like. The picture B6 has been coded with reference to the picture P5 as a forward reference picture and the picture B7 as a backward reference picture, and these pictures P5 and B7 have been a]ready decoded and stored in the frame memory 1407.<br>
If inter picture bi-prediction coding is selected as a coding mode, the motion compensation decoding unit 1405 obtains the forward reference picture data from the frame memory 1407 based on the forward motion vector information. It also obtains the backward reference picture data from the frame memory 1407 based on the backward motion vector information. Then, the motion compensation decoding unit 1405 averages the forward and backward reference picture data to generate motion compensation image data.<br>
When the direct mode Is selected as a coding mode, the motion compensation decoding unit 1405 obtains the motion vector of the picture B7 stored in the motion vector storage unit 1406. Using this motion vector, the motion compensation decoding unit 1405 obtains the forward and backward reference picture data from the frame memory 1407. Then, the motion compensation decoding unit 1405 averages the forward and backward reference picture data to generate motion compensation image data.<br>
The first example of the case where the direct mode Is selected as a coding mode will be explained with reference to Fig. 7B again. Here, It is assumed that the block a In the picture B6 Is to be decoded and the block b In the picture B7 Is co-located with the block a. The block b has been coded by forward reference inter picture prediction or bi-predlctive reference inter picture prediction, and the forward motion vector of the block b is the motion vector c,<br><br>
which refers to the picture P5. In this case, the motion vector d which is obtained utilizing the motion vector c and refers to the picture P5 is used as a forward motion vector, and the motion vector e which is obtained utilizing the motion vector c and refers to the picture B7 is used as a backward motion vector. For example, as a method of utilizing the motion vector c, there is a method of generating motion vectors parallel to the motion vector c. The motion compensation image data is obtained by averaging the forward and backward reference picture data obtained based on these motion vectors d and e.<br>
In this case where the forward motion vector d is MVF, the backward motion vector e is MVB, the motion vector c is MV, the temporal distance between the backward reference picture .B7 for the current picture B5 and the picture P5 which the block b in the backward reference picture B7 refers to is TRD, and the temporal distance between the current picture B5 and the forward reference picture P5 is TRF respectively, the motion vector d MVF and the motion vector e MVB are respectively calculated by Equation 1 and Equation 2. Note that the temporal distance between pictures may be determined based on the information indicating the display order (position) of the pictures or the difference specified by the information. Or, as the values of TRD and TRF, predetermined values for respective pictures may be used. These predetermined values may be described in the bit stream as header information.<br>
The second example of the case where the direct mode is selected as a coding mode will be explained with reference to Fig. 7B again.<br>
In this example, the motion vector which has been used for decoding the block b in the picture B7 is utilized. The picture B7 is the backward reference picture for the current picture B6, and the block b is co-located with the block a in the picture B6. Here, it is assumed that the block b has been coded in direct mode and the<br><br>
motion vector c has been substantially used as a forward motion vector for that coding. The motion vector c stored in the motion vector storage unit 1405 may be used, or it is calculated by reading out from the motion vector storage unit 1406 the motion vector of the picture P9 which has been used for coding the block b in direct mode, and then scaling that motion vector. Note that when storing motion vectors in the motion vector storage unit 1406, the motion compensation decoding unit 1405 needs to store only the forward motion vector out of the two motion vectors obtained by scaling for decoding the block b in the picture B7 in direct mode.<br>
In this case, for the block a, the motion vector d which is generated utilizing the motion vector c and refers to the picture P5 is used as a forward motion vector, and the motion vector e which is generated utilizing the motion vector c and refers to the picture B7 is used as a backward motion vector. For example, as a method of utilizing the motion vector c, there is a method of generating motion vectors parallel to the motion vector c. The motion compensation image data is obtained by averaging the forward and backward reference picture data obtained based on these motion vectors d and e.<br>
In this case, the motion vector d MVF and the motion vector e MVB are respectively calculated by Equation 1 and Equation 2, as is the case of the first example of the direct mode.<br>
Next, the third example of the case where the direct mode is selected as a coding mode will be explained with reference to Fig. 7C again.<br>
In this example, it is assumed that the block a in the picture B6 is to be decoded, and the block b in the picture B7 is co-located with the block a. The block b has been coded by backward reference prediction, and the backward motion vector of the block b is a motion vector f, which refers to the picture P9. In this case, for the  block a, the motion vector g which  is obtained  utilizing the<br><br>
motion vector f and refers to the picture P5 is used as a forward motion vector, and the motion vector h which is obtained utilizing the motion vector f and refers to the picture B7 is used as a backward motion vector. For example, as a method of utilizing the motion vector f, there is a method of generating motion vectors parallel to the motion vector f. The motion compensation image data is obtained by averaging the forward and backward reference picture data obtained based on these motion vectors g and h.<br>
In this case where the forward motion vector g is MVF, the backward motion vector h is MVB, the motion vector f is MV, the temporal distance between the backward reference picture B7 for the current picture B6 and the picture P9 which the block b in the backward reference picture B7 refers to is TRD, the temporal distance between the current picture B5 and the forward reference picture P5 is TRF, and the temporal distance between the current picture B6 and the backward reference picture B7 is TRB respectively, the motion vector g MVF and the motion vector h MVB are respectively calculated by Equation 3 and Equation 4.<br>
Next, the fourth example of the case where the direct mode is selected as a coding mode will be explained with reference to Fig. 7D again.<br>
In this example, it is assumed that the block a in the picture B6 is to be decoded, and the block b in the picture 87 is co-iocated with the block a. The block b has been coded by backward reference prediction as Is the case of the third example, and the backward motion vector of the block b is a motion vector f, which refers to the picture P9. In this case, the motion vector g which is obtained utilizing the motion vector f and refers to the picture P9 is used as a forward motion vector, and the motion vector h which is obtained utilizing the motion vector f and refers to the picture B7 is used as a backward motion vector. For example, as a method of utilizing the motion vector f, there is a method of generating motion<br><br>
vectors paraiiei to the motion vector f. The motion compensation image data is obtained by averaging the forward and backward reference picture data obtained based on these motion vectors g and h.<br>
In this case where the forward motion vector g is MVF, the backward motion vector h is MVB, the motion vector f is MV, the temporal distance between the backward reference picture 87 for the current picture B5 and the picture P9 which the block b in the backward reference picture B7 refers to is TRD, and the temporal distance between the current picture 86 and the reference picture P9 which the block b in the backward reference picture B7 refers to is TRF respectively, the motion vector g MVF and the motion vector h MVB are respectively calculated by Equation 1 and Equation 2.<br>
Furthermore, the fifth example of the case where the direct mode is selected as a coding mode will be explained with reference to Fig. 8A again. Here, it is assumed that a block a in the picture B6 is to be decoded in direct mode. In this example, the motion vector is set to zero "0", and motion compensation is performed by bi-predictive reference using the picture P5 as a forward reference picture and the picture B7 as a backward reference picture.<br>
Next, the sixth example of the case where the direct mode is selected as a coding mode will be explained with reference to Fig. 83 again. Here, it is assumed that a block a in the picture B5 is to be decoded in direct mode. In this example, the motion vector g which has been used for decoding the block f in the P-picture P9 is utilized. The picture P9 is located later than the current picture B6, and the block f is co-located with the block a. The motion vector g is stored in the motion vector storage unit 1406. The block a is bi-predicted from the forward reference picture P5 and the backward reference picture B7 using the motion vectors which are obtained utilizing the motion vector g. For example, if a method of generating motion vectors parallel to the motion vector g is used, as is the case of the<br><br>
above-mentioned first example, the motion vector h and the motion vector i are used for the picture P5 and the picture B7 respectively for obtaining the motion compensation image data of the block a.<br>
In this case where the forward motion vector h is MVF, the backward motion vector i is MVB, the motion vector g is MV, the temporal distance between the picture P9 located later than the current picture B5 and the picture P5 which the block f in the picture P9 refers to is TRD, the temporal distance between the current picture B6 and the forward reference picture P5 is TRF, and the temporal distance between the current picture B6 and the backward reference picture B7 is TRB respectively, the motion vector h MVF and the motion vector i MVB are respectively calculated by Equation 1 and Equation 5.<br>
Next, the seventh example of the case where the direct mode is selected as a coding mode will be explained with reference to Fig. 8C again. Here, it is assumed that a block a in the picture B6 is decoded in direct mode. In this example, the assignment of relative indices to the above-mentioned picture numbers is changed (remapped) and the picture P9 is the backward reference picture. In this case, the motion vector g which has been used for coding the block f in the picture P9 is utilized. The picture P9 is the backward reference picture for the picture B6, and the block f is co-located with the block a in the picture B6. The motion vector g is stored in the motion vector storage unit 1406. The block a is bi-predicted from the forward reference picture P5 and the backward reference picture P9 using motion vectors generated utilizing the motion vector g. For example, if a method of generating motion vectors parallel to the motion vector g is used, as is the case of the above-mentioned first example, the motion vector h and the motion vector i are used for the picture P5 and the picture P9 respectively for obtaining the motion compensation image data of the block a.<br>
In this case, where the forward motion vector h is MVF, the<br><br>
backward motion vector i is MVB, the motion vector g is MV, the temporal distance between the backward reference picture P9 for the current picture B6 and the picture P5 which the block f in the picture P9 refers to is TRD, and the temporal distance between the current picture B6 and the forward reference picture P5 is TRF respectively, the motion vector h MVP and the motion vector i MVB are respectively calculated by Equation 1 and Equation 2.<br>
The motion compensation image data generated as above is outputted to the addition unit 1408. The addition unit 1408 adds the inputted residual error image data and the motion compensation image data to generate decoded image data. The generated decoded Image data is outputted to the frame memory 14Q7 via the switch 1410.<br>
That is the completion of decoding one macroblock in the picture B6. According to the same processing, the remaining macrobiocks in the picture B6 are decoded in sequence. And after all the macrobiocks in the picture B6 are decoded, the picture B8 is decoded.<br>
(Decoding of Picture B8)<br>
Since the operations of the bit stream analysis unit 1401, the mode decoding unit 1403 and the residual error decoding unit 1402 until generation of residual error image data are same as those for decoding the picture P9, the explanation thereof will be omitted.<br>
The motion compensation decoding unit 1405 generates motion compensation image data based on the inputted motion vector information and the like. The picture B8 has been coded with reference to the picture 67 as a forward reference picture and the picture P9 as a backward reference picture, and these pictures B7 and P9 have been already decoded and stored in the frame memory 1407.<br>
If inter picture bi-prediction coding is selected as a coding mode, the  motion compensation  decoding  unit  1405 obtains the<br><br>
forward reference image data from the frame memory 1407 based on the forward motion vector information. It also obtains the backward reference image data from the frame memory 1407 based on the backward motion vector information. Then, the motion compensation decoding unit 1405 averages the forward and backward reference image data to generate motion compensation image data.<br>
When direct mode is selected as a coding mode, the motion compensation decoding unit 1405 obtains the motion vector of the picture P9 stored in the motion vector storage unit 1405. Using this motion vector, the motion compensation decoding unit 1405 obtains the forward and backward reference image data from the frame memory 1407. Then, the motion compensation decoding unit 1405 averages the forward and backward reference picture data to generate motion compensation image data.<br>
The case where the direct mode is selected as a coding mode will be explained with reference to Fig. 8D again. Here, it is assumed that a block a in the picture B8 is to be decoded and a block b in the backward reference picture P9 is co-iocated with the block a. The forward motion vector of the block b is the motion vector c, which refers to the picture P5. In this case, the motion vector d which is generated utilizing the motion vector c and refers to the picture B7 is used as a forward motion vector, and the motion vector e which is generated utilizing the motion vector c and refers to the picture P9 is used as a backward motion vector. For example, as a method of utilizing the motion vector c, there is a method of generating motion vectors parallel to the motion vector c. The motion compensation image data is obtained by averaging the forward and backward reference image data obtained based on these motion vectors d and e.<br>
In this case where the forward motion vector d is MVF, the backward motion vector e is MVB, the motion vector c is MV, the<br><br>
temporal distance between the backward reference picture P9 for the current picture B8 and the picture P5 which the block b in the backward reference picture P9 refers to is TRD, the temporal distance between the current picture B8 and the forward reference picture B7 is TRF, and the temporal distance between the current picture B8 and the backward reference picture P9 is TRB respectively, the motion vector d MVP and the motion vector e MVB are respectively calculated by Equation 1 and Equation 5.<br>
The motion compensation image data generated in this manner is outputted to the addition unit 1408. The addition unit 1408 adds the inputted residual error image data and the motion compensation image data to generate decoded image data. The generated decoded image data is outputted to the frame memory 1407 via the switch 1410.<br>
That is the completion of decoding one macrobiock in the picture B8. According to the same processing, the remaining macrobiocks in the picture 88 are decoded in sequence. The other pictures are decoded depending on their picture types according to the above-mentioned decoding procedures.<br>
Next, the frame memory control unit 1404 reorders the picture data of the pictures stored in the frame memory 1407 in time order as shown in Fig, 5A for outputting as output pictures.<br>
As described above, according to the moving picture decoding method of the present invention, a B-picture which has been coded by inter picture bi-prediction is decoded using previously decoded pictures which are located close in display order as forward and backward reference pictures.<br>
When the direct mode is selected as a coding mode, reference image data is obtained from previously decoded image data to obtain motion compensation image data, with reference to a motion vector of a previously decoded backward reference picture stored in the motion vector storage unit 1406.<br><br>
According to this operation, when a B-picture has been coded by inter picture bi-prediction using pictures which are located close in display order as forward and backward reference pictures, the bit stream generated as a result of such coding can be properly decoded.<br>
In the present embodiment, seven examples of the direct mode have been explained. However, one method, which is uniquely determined for every macroblock or block based on the decoding method of a co-located block in a backward reference picture, may be used, or a plurality of different methods may be used for every macroblock or block by switching them. When a plurality of methods are used, the macroblock or the block is decoded using information described in a bit stream, indicating which type of direct mode has been used. For that purpose, the operation of the motion compensation decoding unit 1405 depends upon the information. For example, when this information is added for every block of motion compensation, the mode decoding unit 1403 determines which type of direct mode is used for coding and delivers it to the motion compensation decoding unit 1405. The motion compensation decoding unit 1405 performs decoding processing using the decoding method as explained in the present embodiment depending upon the delivered type of direct mode.<br>
Also, In the present embodiment, the picture structure where three B-pictures are located between I-pictures and P-pictures has been explained, but any other number, four or five, for instance, of B-pictures may be located.<br>
In addition, in the present embodiment, the explanation has been made on the assumption that a P-picture is coded with reference to one previously coded I or P-picture which is located earlier or later than the current P-picture in display order, a B-picture is coded with reference to two previously coded neighboring  pictures which  are  located  earlier or later than  the<br><br>
zurrent B-picture in display order, and the bit stream generated as a -esult of this coding is decoded. However, in the case of a P-picture, ■he P-picture may be coded with reference to at most one picture for each b!ocl
Furthermore, when storing motion vectors in the motion vector storage unit 1406, the motion compensation decoding unit 1405 may store both forward and backward motion vectors, or store only the forward motion vector, if a current block is coded by bi-predictive reference or in direct mode. Jf only the forward motion vector is stored, the memory volume of the motion vector storage unit 1406 can be reduced.<br>
(Third Embodiment)<br>
If a program for realizing the structures of the moving picture coding method or the moving picture decoding method as shown in the above embodiments is recorded on a memory medium such as a flexible disk, it becomes possible to perform the processing as shown in these embodiments easily in an independent computer system.<br>
Fig. 17 is an illustration showing the case where the processing is performed in a computer system using a flexible disk which stores the moving picture coding method or the moving picture decoding method of the above embodiments.<br>
Fig. 178 shows a front view and a cross-sectional view of an appearance of a flexible disk, and the flexible disk itself, and Fig. 17A shows an example of a physical format of a flexible disk as a<br><br>
recording medium body. The flexible disk FD Is contained in a case F, and a plurality of tracks Tr are formed concentrically on the surface of the disk in the radius direction from the periphery and each track is divided into 16 sectors Se in the angular direction. Therefore, as for the flexible disk storing the above-mentioned program, the moving picture coding method as the program is recorded in an area allocated for it on the flexible disk FD.<br>
Fig. 17C shows the structure for recording and reproducing the program on and from the flexible disk FD. When the program is recorded on the flexible disk FD, the moving picture coding method or the moving picture decoding method as a program is written in the flexible disk from the computer system Cs via a flexible disk drive. When the moving picture coding method is constructed in the computer system by the program on the flexible disk, the program is read out from the flexible disk drive and transferred to the computer system.<br>
The above explanation is made on the assumption that a recording medium is a flexible disk, but the same processing can also be performed using an optical disk. In addition, the recording medium is not limited to a flexible disk and an optical disk, but any other medium such as an IC card and a ROM cassette capable of recording a program can be used.<br>
Following is the explanation of the applications of the moving picture coding method and the moving picture decoding method as shown in the above embodiments, and the system using them.<br>
Fig. 18 is a block diagram showing the overall configuration of a content supply system exlOO for realizing content distribution service. The area for providing communication service is divided into cells of desired size, and base stations exl07'-exll0 which are fixed wireless stations are placed in respective cells.<br>
In this content supply system exlOD, devices such as a computer exlll, a PDA (personal digital assistant) exll2, a camera<br><br>
exiiJ, a moDiie pnone exii4 ana a camera-equippea moDiie pnone exllS are connected to the Internet ex 101 via an Internet service provider exl02, a telephone network exl04 and base stations exl07 -exllO.<br>
However, the content supply system exlOO is not limited to the configuration as shown in Fig. 18, and a combination of any of them may be connected. Also, each device may be connected directly to the telephone network exl04, not through the base stations exl07~-exll0.<br>
The camera exll3 is a device such as a digital video camera capable of shooting moving pictures. The mobile phone may be a mobile phone of a PDC (Personal Digital Communications) system, a CDMA (Code Division Multiple Access) system, a W-CDMA (Wideband-Code Division Multiple Access) system or a GSM (Global System for Mobile Communications) system, a PHS (Personal Handyphone system) or the like.<br>
A streaming server exl03 is connected to the camera exll3 via the base station exl09 and the telephone network exl04, which enables live distribution or the like using the camera exllS based on the coded data transmitted from a user. Either the camera exllB or the server for transmitting the data may code the data. Also, the moving picture data shot by a camera exll5 may be transmitted.to the streaming server exl03 via the computer exlll. The camera exll6 is a device such as a digital camera capable of shooting still and moving pictures. Either the camera exllS or the computer exlll may code the moving picture data. An LSI exll7 included in the computer exlll or the camera exll6 actually performs coding processing. Software for coding and decoding moving pictures may be integrated Into any type of storage medium (such as a CD-ROM, a flexible disk and a hard disk) that Is a recording medium which is readable by the computer exlll or the like.' Furthermore, a camera-equipped  mobile  phone exllS  may transmit the  moving<br><br>
picture data.    This moving picture data is the data coded by the LSI included in the mobile phone exllS.<br>
The content supply system exlOO codes contents (such as a music live video) shot by users using the camera exll3, the camera exll6 or the like in the same manner as the above embodiment and transmits them to the streaming server exl03, while the streaming server exl03 makes stream distribution of the content data to the clients at their request. The clients include the computer exlll, the PDA exll2, the camera exll3, the mobile phone exll4 and so on capable of decoding the above-mentioned coded data. In the content supply system exlOO, the clients can thus receive and reproduce the coded data, and further can receive, decode and reproduce the data in real time so as to realize personal broadcasting.<br>
When each device in this system performs coding or decoding, the moving picture coding apparatus or the moving picture decoding apparatus, as shown in the above-mentioned embodiment, can be used.<br>
A mobile phone will be explained as an example of the device.<br>
Fig. 19 is a diagram showing the mobile phone exllS using the moving picture coding method and the moving picture decoding method explained in the above embodiments. The mobile phone exll5 has an antenna ex201 for sending and receiving radio waves to and from the base station exllO, a camera unit ex203 such as a CCD camera capable of shooting video and still pictures, a display unit 6x202 such as a liquid crystal display for displaying the data obtained by decoding video and the like shot by the camera unit ex203 and received by the antenna ex201, a body unit including a set of operation keys ex204, a voice output unit ex208 such as a speaker for outputting. voices, a voice input unit 205 such as a microphone for inputting voices, a storage medium ex207 for storing  coded  or decoded  data  such  as  data  of  moving  or  still<br><br>
pictures shot by the camera, text data and data of moving or stiil pictures of received e-mails, and a slot unit ex206 for attaching the storage medium ex207 to the mobile phone exllS. The storage medium ex207 includes a flash memory element, a kind of EEPROM (Electrically Erasable and Programmable Read Only Memory) that is an electrically erasable and rewritable nonvolatile memory, in a plastic case such as a SD card.<br>
The mobile phone exll5 will be further explained with reference to Fig. 20. In the mobile phone exllS, a main control unit ex311 for overall controlling the display unit ex202 and the body unit including operation keys ex204 is connected to a power supply circuit unit ex310, an operation input control unit ex304, a picture coding unit ex312, a camera interface unit ex303, an LCD (Liquid Crystal Display) control unit ex302, a picture decoding unit ex309, a multiplex/demultiplex unit ex308, a record/reproduce unit ex307, a modem circuit unit ex305 and a voice processing unit ex305 to each other via a synchronous bus ex313.<br>
When a call-end key or a power key is turned ON by a user's operation, the power supply circuit unit ex310 supplies respective units with power from a battery pack so as to activate the camera-equipped digital moDile phone exllS for making it into a ready state.<br>
In the mobile phone exll5, the voice processing unit ex305 converts the voice signals received by the voice input unit ex205 in conversation mode into digital voice data under the control of the main control unit ex311 including a CPU, ROM and RAM, the modem circuit unit ex306 performs spread spectrum processing of the digital voice data, and the send/receive circuit unit ex301 performs digital-to-analog conversion and frequency transform of the data, so as to transmit it via the antenna ex201. Also, in the mobile phone exllS, after the data received by the antenna ex201 in conversation mode   is   amplified   and   performed   of  frequency   transform   and<br><br>
analog-to-digitai conversion, the modem circuit unit ex306 performs inverse spread spectrum processing of the data, and the voice processing unit ex305 converts it into analog voice data, so as to output it via the voice output unit 208.<br>
Furthermore, when transmitting e-mail in data communication mode, the text data of the e-mail inputted by operating the operation keys ex204 on the body unit is sent out to the main control unit ex311 via the operation input control unit ex304. In the main control unit ex311, after the modem circuit unit ex306 performs spread spectrum processing of the text data and the send/receive circuit unit ex301 performs digital-to-analog conversion and frequency transform for it, the data is transmitted to the base station exllO via the antenna ex201.<br>
When picture data is transmitted in data communication mode, the picture data shot by the camera unit ex203 is supplied to the picture coding unit ex3i2 via the camera interface unit ex303. When it is not transmitted, it is also possible to display the picture data shot by the camera unit ex203 directly on the display unit 202 via the camera interface unit ex303 and the LCD control! unit ex302.<br>
The picture coding unit ex312, which includes the moving picture coding apparatus as explained in the present invention, compresses and codes the picture data supplied from the camera unit ex203 by the coding method used for the moving picture coding apparatus as shown in the above embodiment so as to transform it into coded picture data, and sends it out to the multiplex/demultiplex unit ex308. At this time, the mobile phone exll5 sends out the voices received by the voice input unit ex205 during shooting by the camera unit ex203 to the multiplex/demultiplex unit ex308 as digital voice data via the voice processing unit ex305.<br>
The multiplex/demultiplex unit ex308 multiplexes the coded picture data supplied from the picture coding unit ex312 and the<br><br>
voice data supplied from the voice processing unit ex305 by a predetermined method, the modem circuit unit ex306 performs spread spectrum processing of the multiplexed data obtained as a result of the multiplexing, and the send/receive circuit unit ex301 performs digital-to-analog conversion and frequency transform of the data for transmitting via the antenna ex201.<br>
As for receiving data of a moving picture file   is linked to a Web page or the like in data communication mode, the modem circuit unit ex306 performs inverse spread spectrum processing of the data received from the base station exllO via the antenna exZOl, and sends out the multiplexed data obtained as a result of the processing to the multiplex/demultiplex unit ex308.<br>
In order to decode the multiplexed data received via the antenna ex201, the multiplex/demultiplex unit ex308 separates the multiplexed data into a bit stream of picture data and a bit stream of voice data, and supplies the coded picture data to the picture decoding unit ex309 and the voice data to the voice processing unit ex305 respectively via the synchronous bus ex313.<br>
Next, the picture decoding unit ex309, which includes the moving picture decoding apparatus as explained in the present invention, decodes the bit stream of picture data by the decoding method corresponding to the coding method as shovyn in the above-mentioned embodiment to generate reproduced moving picture data, and supplies this data to the display unit ex202 via the LCD control unit ex302, and thus moving picture data Included in a moving picture file linked to a Web page, for instance, is displayed. At the same time, the voice processing unit ex305 converts the voice data into analog voice data, and supplies this data to the voice output unit ex208, and thus voice data included in a moving picture file linked to a Web page, for instance, is reproduced.<br>
The present invention is not limited to the above-mentioned system, and at least either the moving picture coding apparatus or<br><br>
the moving picture decoding apparatus in the above-mentioned embodiment can be incorporated into a digital broadcasting system as shown in Fig. 21. Such ground-based or satellite digital broadcasting has been In the news lately. More specifically, a bit stream of video information is transmitted from a broadcast station ex409 to or communicated with a broadcast satellite ex410 via radio waves. Upon receipt of it, the broadcast satellite ex410 transmits radio waves for broadcasting, a home-use antenna ex406 with a satellite broadcast reception function receives the radio waves, and a television (receiver) ex401 or a set top box (STB) ex407 decodes the bit stream for reproduction. The moving picture decoding apparatus as shown in the above-mentioned embodiment can be implemented in the reproduction device ex403 for reading off and decoding the bit stream recorded on a storage medium ex402 that is a recording medium such as a CD and DVD. In this case, the reproduced video signals are displayed on a monitor ex404. It is also conceived to implement the moving picture decoding apparatus in the set top box ex407 connected to a cable ex405 for a cable television or the antenna ex406 for satellite and/or ground-based broadcasting so as to reproduce them on a monitor ex408 of the television ex401. The moving picture decoding apparatus may be incorporated into the television, not in the set top box. Or, a car ex412 having an antenna ex411 can receive signals from the satellite ex410 or the base station exl07 for reproducing moving pictures on a display device such as a car navigation system ex4l3. Furthermore, the moving picture coding apparatus as shown in the above-mentioned embodiment can code picture signals for recording on a recording medium. As a concrete example, there is a recorder ex420 such as a DVD recorder for recording picture signals on a DVD disc ex421 and a disk recorder for recording them on a hard disk. They can be recorded on an SD card ex422. If the recorder ex420 includes the moving picture decoding apparatus as<br><br>
shown in the above-mentioned embodiment, the picture signals recorded on the DVD disc ex421 or the SD card ex422 can be reproduced for display on the monitor ex408.<br>
As the structure of the car navigation system ex413, the structure without the camera unit ex203, the camera interface unit ex303 and the picture coding unit ex312, out of the units shown in Fig. 20, is conceivable. The same goes for the computer exlll, the television (receiver) ex401 and others.<br>
In addition, three types of implementations can be conceived for a terminal such as the above-mentioned mobile phone exll4; a sending/receiving terminal including both an encoder and a decoder, a sending terminal including an encoder only, and a receiving terminal including a decoder only.<br>
As described above, it is possible to use the moving picture coding method or the moving picture decoding method in the above-mentioned embodiments in any of the above-mentioned apparatus and system, and using this method, the effects described in the above embodiments can be obtained.<br>
Furthermore, the present invention is not limited to the above embodiments, but may be varied or modified in many ways without any departure from the scope of the present invention.<br>
As described above, according to the moving picture coding<br>
method of the present invention, B-pictures can be coded using<br>
pictures which are temporally close in display order as reference<br>
pictures.	Accordingly,      prediction     efficiency     for     motion<br>
compensation is improved and thus coding efficiency is Improved.<br>
In direct mode, by scaling a first motion vector of a second reference picture, there is no need to transmit motion vector information and thus prediction efficiency can be improved.<br>
Similarly, in direct mode, by scaling a first motion vector substantially used for the direct mode coding of the second reference   picture,   there   is   no   need   to  transmit   motion   vector<br><br>
information, and prediction efficiency can be Improved even if a co-located block in the second reference picture is coded in direct mode.<br>
Also, in direct mode, by scaling a second motion vector which has been used for coding a co-located block in a second reference picture, there is no need to transmit motion vector information, and prediction efficiency can be improved even if the co-located block in the second reference picture has only a second motion vector.<br>
Furthermore, in direct mode, by setting forcedly a motion vector in direct mode to be "0", when the direct mode is selected, there is no need to transmit motion vector information nor to scale the motion vector, and thus processing volume can be reduced.<br>
Also, in direct mode, by scaling a motion vector of a later P-picture, there is no need to store a motion vector of a second reference picture when the second reference picture is a B-picture. And, there is no need to transmit the motion vector information, and prediction efficiency can be improved.<br>
Furthermore, in direct mode, since a first motion vector is scaled if a second reference picture has the first motion vector, and a second motion vector is scaled if the second reference picture does not have the first motion vector but only the second motion vector, there is nc need to add motion vector information to a bit stream and prediction efficiency can be improved.<br>
In addition, according to the moving picture decoding method of the present invention, a bit stream, which is generated as a result of inter picture bi-prediction coding using pictures which are located temporally close in display order as first and second reference pictures, can be properly decoded.<br>
Industrial Applicability<br>
As described above, the moving picture coding method and the   moving   picture  decoding   method   according   to  the   present<br><br>
invention are useful as a method for coding picture data corresponding to pictures that form a moving picture to generate a bit stream, and a method for decoding the generated bit stream, using a mobile phone, a DVD apparatus and a personal computer, for instance.<br><br><br>
WE CLAIM <br>
1.	A decoding method for decoding a bit stream which is generated by coding<br>
picture, said decoding method comprising<br>
a decoding step f determining a motion vector for a current block to be docoded, based on a motion vector of a co-located block which is a block included within a previously decoded picture and co-located with the current block, and decoding the current block by performing motion compensation on the current block in direct mode sum the motion vector for the current block and a reference picture which corresponds to the motion vector for the current block.<br>
2.	The decoding method according to claim 1,<br>
wherein said decoding step includes:<br>
in the case where the co-located block has been decoded using a motion vector and a backward reference picture which corresponds to the motion vector,<br>
generating two motion vectors to be used for decoding the current block by performing motion compensation on the current block in direct mode, by seating, using a difference between information indicating display order of pictures, the motion vector used for decoding the co-located block; and<br>
decoding the current block by performing motion compensation on the current block in direct mode using the generated two motion vectors for the current block and two reference pictures which respectively correspond to the generated two motion vectors.<br>
3.	The decoding method according to claim 2,<br>
wherein the two reference pictures which respectively correspond to the two motion vectors for the current block are a first reference picture and a second reference picture.<br><br>
the first reference picture is the previously decoded picture including the co-located block, and<br>
the second reference picture is the backward reference picture used for decoding the co-located block and corresponds to the motion vector scaled for generating the two motion vectors for the current block.<br>
4.	The decoding method according to Claim 3,<br>
wherein the information indicating display order of pictures are: first information indicating a position in the display order of the picture including the current block; second information indicating a position in the display order of the second reference picture for the current block; and third information indicating a position in the display order of the first reference picture for the current block that is also the picture including the co-located block, and<br>
the difference between the information are a difference between the first information and the second information, a difference between the first information and the third information, and a difference between the second information and the third information,<br>
5.	A decoding apparatus that decodes a bit stream which is generated by coding<br>
pictures, said decoding apparatus comprising<br>
a decoding unit operable to determine a motion vector for a current block to be decoded, based on a motion vector of a co-located block which is a block included within a previously decoded picture and co-located with the current block, and to decode the current block by performing motion compensation on the current block in direct mode using the motion compensation on the current block and a reference picture which corresponds to the motion vector for the current block.<br><br>
wherein in the case where the co-located block has been decoded using a motion vector and a backward reference picture which corresponds to the motion vector,<br>
said decoding unit is operable to generate two motion vectors to be used for decoding the current block by performing motion compensation on the current block in direct mode, by scaling, using a difference between information indicating display order of pictures, the motion vector used for decoding the co-located block, and to decode the current block by performing motion compensation on the current block in direct mode using the generated two motion vectors for the current block and two reference pictures which respectively correspond to the generated two motion vectors.<br>
6. A data storage medium on which a program for decoding a bit stream corresponding to pictures is stored, said program causing a computer to execute the decoding by the decamp method according to any of Claims 1 to 4.<br><br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1jaGVibnAtMjAwOCBhYnN0cmFjdC5qcGc=" target="_blank" style="word-wrap:break-word;">5005-chebnp-2008 abstract.jpg</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1jaGVibnAtMjAwOCBhYnN0cmFjdC5wZGY=" target="_blank" style="word-wrap:break-word;">5005-chebnp-2008 abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1jaGVibnAtMjAwOCBjbGFpbXMucGRm" target="_blank" style="word-wrap:break-word;">5005-chebnp-2008 claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1jaGVibnAtMjAwOCBjb3JyZXNwb25kZW5jZSBvdGhlcnMucGRm" target="_blank" style="word-wrap:break-word;">5005-chebnp-2008 correspondence others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1jaGVibnAtMjAwOCBkZXNjcmlwdGlvbiAoY29tcGxldGUpLTEucGRm" target="_blank" style="word-wrap:break-word;">5005-chebnp-2008 description (complete)-1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1jaGVibnAtMjAwOCBkZXNjcmlwdGlvbiAoY29tcGxldGUpLnBkZg==" target="_blank" style="word-wrap:break-word;">5005-chebnp-2008 description (complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1jaGVibnAtMjAwOCBkcmF3aW5ncy5wZGY=" target="_blank" style="word-wrap:break-word;">5005-chebnp-2008 drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1jaGVibnAtMjAwOCBmb3JtLTEucGRm" target="_blank" style="word-wrap:break-word;">5005-chebnp-2008 form-1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1jaGVibnAtMjAwOCBmb3JtLTMucGRm" target="_blank" style="word-wrap:break-word;">5005-chebnp-2008 form-3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1jaGVibnAtMjAwOCBmb3JtLTUucGRm" target="_blank" style="word-wrap:break-word;">5005-chebnp-2008 form-5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1DSEVOUC0yMDA4ICAgIEFNRU5ERUQgQ0xBSU1TICAgMjgtMTAtMjAxNC5wZGY=" target="_blank" style="word-wrap:break-word;">5005-CHENP-2008    AMENDED CLAIMS   28-10-2014.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1DSEVOUC0yMDA4ICAgIEVYQU1JTkFUSU9OIFJFUE9SVCBSRVBMWSBSRUNJRVZFRCAgICAyOC0xMC0yMDE0LnBkZg==" target="_blank" style="word-wrap:break-word;">5005-CHENP-2008    EXAMINATION REPORT REPLY RECIEVED    28-10-2014.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1DSEVOUC0yMDA4ICAgIEZPUk0tMSAgMjgtMTAtMjAxNC5wZGY=" target="_blank" style="word-wrap:break-word;">5005-CHENP-2008    FORM-1  28-10-2014.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1DSEVOUC0yMDA4ICAgIEZPUk0tMyAgMjgtMTAtMjAxNC5wZGY=" target="_blank" style="word-wrap:break-word;">5005-CHENP-2008    FORM-3  28-10-2014.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1DSEVOUC0yMDA4ICAgQU1FTkRFRCBQQUdFUyBPRiBTUEVDSUZJQ0FUSU9OICAgMjgtMTAtMjAxNC5wZGY=" target="_blank" style="word-wrap:break-word;">5005-CHENP-2008   AMENDED PAGES OF SPECIFICATION   28-10-2014.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1DSEVOUC0yMDA4ICAgQVNTSUdOTUVOVCAgMjItMDgtMjAxNC5wZGY=" target="_blank" style="word-wrap:break-word;">5005-CHENP-2008   ASSIGNMENT  22-08-2014.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1DSEVOUC0yMDA4ICAgQ09SUkVTUE9OREVOQ0UgT1RIRVJTICAyMi0wOC0yMDE0LnBkZg==" target="_blank" style="word-wrap:break-word;">5005-CHENP-2008   CORRESPONDENCE OTHERS  22-08-2014.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1DSEVOUC0yMDA4ICAgQ09SUkVTUE9OREVOQ0UgT1RIRVJTIDI0LTEyLTIwMTMucGRm" target="_blank" style="word-wrap:break-word;">5005-CHENP-2008   CORRESPONDENCE OTHERS 24-12-2013.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1DSEVOUC0yMDA4ICAgRk9STS02ICAyMi0wOC0yMDE0LnBkZg==" target="_blank" style="word-wrap:break-word;">5005-CHENP-2008   FORM-6  22-08-2014.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1DSEVOUC0yMDA4ICBBTUVOREVEIENMQUlNUyAgMDEtMDUtMjAxNC5wZGY=" target="_blank" style="word-wrap:break-word;">5005-CHENP-2008  AMENDED CLAIMS  01-05-2014.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1DSEVOUC0yMDA4ICBBTUVOREVEIFBBR0VTIE9GIFNQRUNJRklDQVRJT04gIDAxLTA1LTIwMTQucGRm" target="_blank" style="word-wrap:break-word;">5005-CHENP-2008  AMENDED PAGES OF SPECIFICATION  01-05-2014.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1DSEVOUC0yMDA4ICBFWEFNSU5BVElPTiBSRVBPUlQgUkVQTFkgUkVDRUlWRUQgIDAxLTA1LTIwMTQucGRm" target="_blank" style="word-wrap:break-word;">5005-CHENP-2008  EXAMINATION REPORT REPLY RECEIVED  01-05-2014.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1DSEVOUC0yMDA4ICBGT1JNLTEgIDAxLTA1LTIwMTQucGRm" target="_blank" style="word-wrap:break-word;">5005-CHENP-2008  FORM-1  01-05-2014.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1DSEVOUC0yMDA4ICBGT1JNLTEzICAwMS0wNS0yMDE0LnBkZg==" target="_blank" style="word-wrap:break-word;">5005-CHENP-2008  FORM-13  01-05-2014.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1DSEVOUC0yMDA4ICBGT1JNLTEzICAyMy0xMS0yMDA5LnBkZg==" target="_blank" style="word-wrap:break-word;">5005-CHENP-2008  FORM-13  23-11-2009.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1DSEVOUC0yMDA4ICBGT1JNLTEzLTEgIDAxLTA1LTIwMTQucGRm" target="_blank" style="word-wrap:break-word;">5005-CHENP-2008  FORM-13-1  01-05-2014.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1DSEVOUC0yMDA4ICBGT1JNLTEzLTIgIDAxLTA1LTIwMTQucGRm" target="_blank" style="word-wrap:break-word;">5005-CHENP-2008  FORM-13-2  01-05-2014.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1DSEVOUC0yMDA4ICBGT1JNLTEzLTMgIDAxLTA1LTIwMTQucGRm" target="_blank" style="word-wrap:break-word;">5005-CHENP-2008  FORM-13-3  01-05-2014.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1DSEVOUC0yMDA4ICBGT1JNLTMgIDAxLTA1LTIwMTQucGRm" target="_blank" style="word-wrap:break-word;">5005-CHENP-2008  FORM-3  01-05-2014.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1DSEVOUC0yMDA4ICBPVEhFUiBQQVRFTlQgRE9DVU1FTlQgIDMwLTA0LTIwMTQucGRm" target="_blank" style="word-wrap:break-word;">5005-CHENP-2008  OTHER PATENT DOCUMENT  30-04-2014.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1DSEVOUC0yMDA4ICBPVEhFUiBQQVRFTlQgRE9DVU1FTlQgMSAgMzAtMDQtMjAxNC5wZGY=" target="_blank" style="word-wrap:break-word;">5005-CHENP-2008  OTHER PATENT DOCUMENT 1  30-04-2014.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1DSEVOUC0yMDA4ICBPVEhFUiBQQVRFTlQgRE9DVU1FTlQgMiAgMzAtMDQtMjAxNC5wZGY=" target="_blank" style="word-wrap:break-word;">5005-CHENP-2008  OTHER PATENT DOCUMENT 2  30-04-2014.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1DSEVOUC0yMDA4ICBQT1dFUiBPRiBBVFRPUk5FWSAgMDEtMDUtMjAxNC5wZGY=" target="_blank" style="word-wrap:break-word;">5005-CHENP-2008  POWER OF ATTORNEY  01-05-2014.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1DSEVOUC0yMDA4ICBQT1dFUiBPRiBBVFRPUk5FWSAgMjItMDgtMjAxNC5wZGY=" target="_blank" style="word-wrap:break-word;">5005-CHENP-2008  POWER OF ATTORNEY  22-08-2014.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1DSEVOUC0yMDA4LVBldGl0aW9uIGZvciBBbm5leHVyZSAxMigxKS5wZGY=" target="_blank" style="word-wrap:break-word;">5005-CHENP-2008-Petition for Annexure 12(1).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1DSEVOUC0yMDA4LVBldGl0aW9uIGZvciBQT1IucGRm" target="_blank" style="word-wrap:break-word;">5005-CHENP-2008-Petition for POR.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTAwNS1DSEVOUC0yMDA4X1BldGl0aW9uIGZvciBBbm5leHVyZS0xMigyKS5wZGY=" target="_blank" style="word-wrap:break-word;">5005-CHENP-2008_Petition for Annexure-12(2).pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="264148-a-method-and-apparatus-for-wirelessly-communicating-digital-data-at-a-high-rate-between-a-host-entity-and-a-remote-user-interface-client-device.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="264150-a-method-for-producing-a-label-switching-path-lsp-database-for-network-based-vpns.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>264149</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>5005/CHENP/2008</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>50/2014</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>12-Dec-2014</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>09-Dec-2014</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>19-Sep-2008</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>PANASONIC INTELLECTUAL PROPERTY CORPORATION OF AMERICA</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>1006, OAKA KADOMA, KADOMA-SHI, OSAKA, OSAKA 571-8501,</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>KADONO, SHINYA</td>
											<td>c/o Panasonic Corporation, 1006, Oaza Kadoma, Kadoma-shi, Osaka 571-8501</td>
										</tr>
										<tr>
											<td>2</td>
											<td>ABE, KIYOFUMI,</td>
											<td>c/o Panasonic Corporation, 1006, Oaza Kadoma, Kadoma-shi, Osaka 571-8501</td>
										</tr>
										<tr>
											<td>3</td>
											<td>HAGAI, MAKOTO</td>
											<td>c/o Panasonic Corporation, 1006, Oaza Kadoma, Kadoma-shi, Osaka 571-8501</td>
										</tr>
										<tr>
											<td>4</td>
											<td>KONDO, SATOSHI,</td>
											<td>c/o Panasonic Corporation, 1006, Oaza Kadoma, Kadoma-shi, Osaka 571-8501</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>G06T9/00</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/JP03/02099</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2003-02-26</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>2002-118598</td>
									<td>2002-04-19</td>
								    <td>Japan</td>
								</tr>
								<tr>
									<td>2</td>
									<td>200-056919</td>
									<td>2002-03-04</td>
								    <td>Japan</td>
								</tr>
								<tr>
									<td>3</td>
									<td>2002-193027</td>
									<td>2008-07-02</td>
								    <td>Japan</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/264149-a-picture-decoding-method-for-decoding-a-coded-picture by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2024 23:57:12 GMT -->
</html>
