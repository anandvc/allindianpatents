<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/259881-an-image-matching-method-for-performing-a-matching-images-to-linear-components-in-a-first-image-and-a-second-image-and-apparatus-thereof by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2024 23:52:07 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 259881:&quot;AN IMAGE MATCHING METHOD FOR PERFORMING A MATCHING IMAGES TO LINEAR COMPONENTS IN A FIRST IMAGE AND A SECOND IMAGE,AND APPARATUS THEREOF&quot;</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">&quot;AN IMAGE MATCHING METHOD FOR PERFORMING A MATCHING IMAGES TO LINEAR COMPONENTS IN A FIRST IMAGE AND A SECOND IMAGE,AND APPARATUS THEREOF&quot;</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>An image matching method for performing a matching images to linear components in a first image and a second image, the method comprising: a first step of performing an image processing for performing points in each image of the first image and the second image to a curved pattern and the linear components in each image to a plurality of overlapped curved-patterns, based on a distance from a reference position to a shortest point in a straight line passing through a point in the image and an angle between a straight line passing though the reference position and the shortest point and a reference axis including the reference position, and generating a first transformed image and a second transformed image; a second step of performing a matching of the first image and the second image based on a degree of an overlap of the patterns in the first transformed image and the second transformed image generated in the first step and a matching or mismatching of the patterns in the first and second transformed images; the first step comprises a third step of extracting regions each of which indicates a degree of the overlap of the curved patterns in the transformed image equal to or greater than a threshold set in advance, from the first transformed image and the second transformed image, and wherein, in the second step, the matching of the first image and the second image are carried out based on the matching or mismatching of the patterns in the regions extracted from the first transformed image and the second transformed image respectively in the third step. Wherein in the third step, the threshold is determined based on the size of the extracted image. Fig. 2</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>The present invention relates to an image matching method for performing a matching images to linear components in a first image and a second image and apparatus thereof.<br>
TECHNICAL FIELD<br>
[0001]      The present invention relates to an image matching method and an image matching apparatus for matching two images such as blood vessel images, fingerprint images, still images or moving images, based on linear components within the images, and a program for the same.<br>
BACKGROUND ART<br>
[0002]     Conventionally, there is known various image matching apparatuses as an apparatus for performing a matching images to an image information. For example, there is known an image matching apparatus in which a registered image and an image to be matched are compared based on a predetermined positional relationship, correlation values thereof are calculated, and the matching of the registered image and the image to be matched are carried out based on the correlation values. Otherwise, in the case where the correlation values are generated, there is also known an image matching apparatus in which the correlation values are generated<br><br>
by an operation in every pixel unit. DISCLOSURE OF THE INVENTION PROBLEM TO BE SOLVED BY THE INVENTION <br>
[0003]     However, in the above image matching apparatus, if, there are pattern-grades such as many linear components in the images even if a correlation of the two images is small, and then there are many crossed points of the linear components in the registered image and the image to be matched, the crossed points greatly contribute to the correlation value to increase the correlation values, and, as a result, a sufficient matching accuracy may not be obtain. So there is demanded to improve the apparatus.<br>
[0004]     The present invention was made in consideration of the above discussions, and, an object of the present invention is to provide an image matching method, an image matching apparatus, and a program for achieving an image matching at a high accuracy.<br>
MEANS FOR SOLVING THE PROGRAM<br>
[0005]     To achieve the above object, according to a first aspect of the present invention, there is provided an image matching method for performing a matching images to linear components in a first image and a second image, the method having: a first step of performing an image processing for transforming points in each image of the<br>
first image and the second image to a curved pattern and transforming the linear component in the image to a plurality of overlapped curved-patterns, based on a distance from a reference position to a shortest point in a straight line passing through a point in the image and an angle between a straight line passing though the reference position and the shortest point and a reference axis including the reference position, and generating a first transformed image and a second transformed image, and a second step of performing a matching of the first image and the second image based on a degree of an overlap of the patterns in the first transformed image and the second transformed image generated in the first step and a matching or mismatching of the patterns in the first and second transformed images. <br>
[0006]     Further, to achieve the above object, according to a second aspect of the present invention, there is provided an image matching method for performing a matching images to linear components in a first image and a second image, the method having: a first step of performing a Hough transform processing to the first image and the second image to generate a first transform image and a second transform image, and a second step of performing a matching of the first image and the second image based on a degree of an overlap of patterns in the<br>
first transformed image and the second transformed image generated in the first step and a matching or mismatching of the patterns in the first and second transformed images.<br>
[0007]     Further, to achieve the above object, according to a third aspect of the present invention, there is provided an image matching apparatus performing a matching images to linear components in a first image and a second image, the apparatus having: a transform means for performing an image processing to the first image and the second image, by which points in each image are transformed to a curved pattern and the linear components in each image are transformed to a plurality of overlapped curved-patterns based on a distance from a reference position to a shortest point in a straight line passing through a point in the image and an angle between a straight line passing though the reference position and the shortest point and a reference axis including the reference position, and generating a first transformed image and a second transformed image, and a matching means for performing a matching of the first image and the second image based on a degree of an overlap of the patterns in the first transformed image and the second transformed image generated by the transform means and a matching or mismatching of the patterns in the first and<br>
second transformed images.<br>
[0008]     Further, to achieve the above object, according to a fourth aspect of the present invention, there is provided an image matching apparatus performing a matching images to linear components in a first image and a second image, the apparatus having: a transform means for performing a Hough transform processing to the first image and the second image to generate a first transformed image and a second transformed image, and a matching means for performing a matching of the first image and the second image based on a degree of an overlap of patterns in the first transformed image and the second transformed image generated by the transform means and a matching or mismatching of the patterns in the first and second transformed images. <br>
[0009]     Further, to achieve the above object, according to a fifth aspect of the present invention, there is provided a program that causes an information processing device to perform a matching images to linear components in a first image and a second image, the program having: a first routine for performing an image processing to the first image and the second image, by which points in each image are transformed to a curved pattern and linear components in each image are transformed to a plurality of overlapped curved-patterns<br>
based on a distance from a reference position to a shortest point through a point in the image toward a straight line and an angle between a straight line passing though the reference position and the shortest point and a reference axis including the reference position, and generating a first transformed image and a second transformed image, and a second routine for performing a matching of the first image and the second image based on a degree of an overlap of the patterns in the first transformed image and the second transformed image generated in the first routine and a matching or mismatching of the patterns in the same. <br>
[0010]     Further, to achieve the above object, according to a sixth aspect of the present invention, there is provided a program that causes an information processing device to perform a matching images to linear components in a first image and a second image, the program having: a first routine for performing a Hough transform processing to the first image and the second image to generate a first transformed image and a second transformed image, and a second routine for performing a matching of the first image and the second image based on a degree of an overlap of patterns in the first transformed image and the second transformed image generated in the first routine and a matching or<br>
mismatching of the patterns in the first and second transformed images.<br>
[0011]     According to the present invention, in the first step and in the first routine, a step transform means performs an image processing for transforming points in each image of the first image and the second image to a curved pattern and transforming linear components in each image to a plurality of overlapped curved-patterns, based on a distance from a reference position to a shortest point in a straight line passing through a position in the image and an angle between a straight line through the reference position and the shortest position and a reference axis including the reference.position, and generating the first transformed image and the second transformed image.<br>
In the second step and in the second routine, the matching means matches the first image and the second image, based on the degree of the overlap of the patterns in the first transformed image and the second transformed image generated by the transform means and a matching or mismatching of the patterns in the first and second transformed images.<br>
EFFECT OF THE INVENTION<br>
[0012]     According of the present invention, there is provided an image matching method, an image matching<br>
apparatus, and a program, enabling the image matching at a high accuracy.<br>
BRIEF DESCRIPTION OF THE DRAWINGS<br>
[0013]      [FIG. 1] FIG. 1 is a functional block diagram illustrated in a form of hardware of an image matching apparatus of a first embodiment according to the present invention.<br>
[FIG. 2] FIG. 2 is a functional block diagram illustrated in a form of software of the image matching apparatus shown in FIG. 1.<br>
[FIG. 3] FIGs. 3A and 3B are views for explaining an operation of a Hough transform unit shown in FIG. 2.<br>
[FIG. 4] FIGs. 4A to 4F are views for explaining the operation of the Hough transform unit shown in FIG. 2.<br>
[FIG. 5] FIGs. 5A to 5C are views for explaining an operation of a similarity generation unit shown in FIG. 2.<br>
[FIG. 6] FIG. 6 is a flow chart for explaining an operation of the image matching apparatus according to the present embodiment shown in FIG. 1.<br>
[FIG. 7] FIG. 7 is a view showing a position correction unit of an image matching apparatus of a second embodiment according to the present invention.<br>
[FIG. 8] FIG. 8 is a view for explaining an operation of a Fourier and Mellin transform unit 211 shown in FIG. 7.<br>
[FIG. 9] FIGs. 9A to 9F are views for explaining different points between a self-correlation method and a phase-only correlation method.<br>
[FIG. 10] FIGs. 10A to IOC are views for explaining correlation intensity distributions in the phase-only correlation method in the case where a parallel movement shift exists between two images.<br>
[FIG. 11] FIGs. 11A to 11C are views for explaining correlation intensity distributions in the phase-only method in the case where a rotation shift exists between two images.<br>
[FIG. 12] FIGs. 12A to 12C are views for explaining correlation image data output by a phase-only correlation unit 23.<br>
[FIG. 13] FIG. 13 is a view for explaining the correlation image data shown in FIG. 12C.<br>
[FIG. 14] FIG. 14 is a flow chart for explaining an operation of the image matching apparatus 1 shown in FIG. 1.<br>
[FIG. 15] FIG. 15 is a functional block diagram of an image matching apparatus of a third embodiment according to the present invention.<br>
[FIG. 16] FIGs. 16A and 16B are views for explaining an operation of a position correction unit shown in FIG. 15.<br>
 [FIG. 17] FIG. 17 is a flow chart for explaining an operation of the image matching apparatus of the third embodiment according to the present invention.<br>
[FIG. 18] FIG. 18 is a functional block diagram of an image matching apparatus of a fourth embodiment according to the present invention.<br>
[FIG. 19] FIGs. 19A to 19F are views for explaining an operation of the image matching apparatus Ic shown in FIG. 17; FIG. 19A is a view showing a specific example of an image IM11; FIG. 19B is a view showing an image in which a region equal to or greater than a first threshold is extracted from the image IM11 shown in FIG. 19A; FIG. 19C is a view showing an image in which a region equal to or greater than a second threshold larger than the first threshold is extracted from the image IM11 shown in FIG. 19A; FIG. 19D is a view showing a specific example of an image IM12; FIG. 19E is a view showing an image in which a region equal to or greater than a first threshold is extracted from the image IM12 shown in FIG. 19D; and FIG. 19F is a view showing an image in which a region equal to or greater than a second threshold, larger than the first threshold, is extracted from the image IM11 shown in FIG. 19D.<br>
[FIG. 20] FIG. 20 is a flow chart for explaining an operation of the image matching apparatus according to<br>
the present embodiment.<br>
[FIG. 21] FIG. 21 is a flow chart for explaining an operation of an image matching apparatus of a fifth embodiment according to the present invention.<br>
[FIG. 22] FIG. 22 is a flow chart for explaining an operation of an image matching apparatus according to a sixth embodiment according to the present invention.<br>
BEST MODE FOR CARRYING OUT THE INVENTION [0015]     FIG. 1 is a functional block diagram illustrated in a form of hardware of an image matching apparatus of a first embodiment according to the present invention.<br>
An image matching apparatus 1 according to the present embodiment, as shown in FIG. 1, has an image input unit 11, a memory 12, a FFT processing unit 13, a coordinates transform unit 14, a Hough transform unit 15, a CPU 16, and an operation processing unit 17.<br>
For example, the image input unit 11 is connected to the memory 12. The memory 12, the FFT processing unit 13, the coordinates transform unit 14, the Hough transform unit 15, and the CPU 16 are connected by bus BS. The operation processing unit 17 is connected to the CPU 16.<br>
[0016]     The image input unit 11 functions as an input unit for inputting an image from the outside. For example<br>
a registered image AIM and an image to be compared with the registered image AIM (referred to an image to be matched RIM, also) are input to the image input unit 11.<br>
The memory 12, for example, stores an image input from the image input unit 11. The memory 12 stores the registered image AIM, the image to be matched RIM, and a program PRG as shown in FIG. 1.<br>
The program PRG is executed, for example, by the CPU 16, and includes routines for realizing functions concerning a transform processing, a correlation processing, and a matching processing, according to the present invention.<br>
[0017]     The FFT processing unit 13, for example under control of the CPU 16, performs a two-dimensional Fourier transform processing to an image stored in the memory 12, for example, and outputs the processed result to the coordinates transform unit 14 and the CPU 16. [0018]      The coordinates transform unit 14, for example under control of the CPU 16, performs a logarithm-polar coordinates transform processing to the result of the two-dimensional Fourier transform processing performed by the FFT processing unit 13, and outputs the coordinates transformed result to the CPU 16.<br>
The operation processing unit 17 performs a predetermined processing such as a release of an<br>
electric-key in the case where the registered image AIM and the image to be matched RIM are matched, for example, based on the processed result by the CPU 16 as mentioned later.<br>
[0019]      The Hough transform unit 15 performs a Hough transform processing as mentioned later under control of the CPU 16, and outputs the processed result to the CPU 16. The Hough transform unit 15 is preferably used with an exclusive circuit formed by a hardware in order to perform, for example, the Hough transform processing at a high speed.<br>
[0020]     The CPU 16 performs a matching processing to the registered image AIM and the image to be matched RIM stored in the memory 12, for example, based on the program PRG according to the present embodiment of the present invention. The CPU 16 controls, for example, the image input unit 11, the memory 12, the FFT processing unit 13, the coordinates transform unit 14, the Hough transform unit 15, and the operation processing unit 17, to realize the operation according to the present embodiment.<br>
[0021]     FIG. 2 is a functional block diagram illustrated in a form of a software of the image matching apparatus shown in FIG. 1.<br>
For example, the CPU 16 executes the program PRG<br>
stored in the memory 12 to realize functions of a position correction unit 161, a Hough transform unit 162, an extraction unit 163, and a judgment unit 164 as shown in FIG. 2.<br>
The position correction unit 161 corresponds to a position correction means according to the present invention, the Hough transform unit 162 corresponds to a transform means according to the present invention, the extraction unit 163 corresponds to an extraction means according to the present invention, and the judgment unit 164 corresponds to a matching means according to the present invention.<br>
[0022]    The position correction unit 161, for example, corrects a positional shift to an image pattern in the registered image AIM and the image to be matched RIM stored in the memory 12 in a right and left direction and an up and down direction, an enlargement ratio, and a rotation angle shift of the two images, and outputs the corrected image to the Hough transform unit 162.<br>
In detail, for example, the positional correction unit 161 performs a position correction processing to the registered image AIM and the image to be matched RIM and outputs the result as signals S1611 and S1612 to the Hough transform unit 162. <br>
[0023]     The Hough transform unit 162, for example,<br>
executes the Hough transform processing in the Hough transform unit 15 performing the exclusive Hough transform processing in hardware.<br>
In detail, for example, the Hough transform unit 162 performs the Hough transform processing to the signal SI611 which is the registered image AIM to which the position correction processing was performed, and outputs the processing result as the signal S1621.<br>
The Hough transform unit 162 performs the Hough transform processing to the signal SI612 which is the image to be matched RIM to which the position correction processing was performed, and outputs the result as a signal SI622.<br>
[0024]     FIGs. 3A and 3B are views for explaining an operation of the Hough transform unit shown in FIG. 2.<br>
The Hough transform unit 162 performs an image processing, for example, to the first image and the second image respectively, by which the points in each image are transformed to curved patterns and by which linear components in each image are transformed to a plurality of overlapped curved patterns, based on a distance pO from a reference position O to a shortest point PO in a straight line LO passing through a point in the image and an angle 6 between a straight line nO passing though the reference position 0 and the shortest<br>
point PO and a reference axis including the reference position O, to thereby generate a first transformed image and a second transformed image.<br>
[0025]     For simplifying explanations, for example, as shown in FIG. 3A, it is assumed that, in an x-y plane, there is the straight line LO, and a position P (xl, yl), a position P2 (x2, y2), and a position P3 (x3, y3) on the straight line LO.<br>
It is assumed that a straight line through the origin O and perpendicular to the straight line LO is the line nO, so the straight line nO and the x-axis as the<br>
reference axis are crossed at an angle 60 and that the origin O and the straight line LO are separated with a<br>
distance |pO|, for example. Here, |pO| indicates the absolute value of pO. The straight line LO can be expressed by parameters (pO, 00).<br>
The Hough transform processing performed to coordinates (x, y) in the x-y plane, is defined by formula (1), for example. <br>
[0026] [Formula 1]<br>
 [0027]     For example, when the Hough transform processing expressed by the formula (1) is performed to the positions PI, P2, and P3, the positions PI, P2, and<br><br>
P3 are transformed to curved lines in a p-0 space as shown in FIG. 3B. In detail, by the Hough transform processing, the point Pl(xl, yl) is transformed to a curved line PLl (xl-cos0 + yl-sin9) , the point P2 (x2, y2) is transformed to a curved line PL2 (x2-cos0 + y2-sin6) , and the point P3(x3, y3) is transformed to a curved line PL3 (x3-cos0 + y3-sin0) .<br>
Patterns of the curved lines (curved patterns) PLl, PL2, and PL3 are crossed at a crossed point CP(pO, 00) in the p-0 space. The crossed point P(pO, 00) in the p-0 space corresponds to the linear component LO in the x-y space.<br>
Conversely, as shown in FIG. 3A, the linear component LO on the x-y plane corresponds to the crossed point CP of the curved patterns PLl, PL2, and PL3 on the<br>
p-0 space.<br>
[0028]     As described above, the Hough transform processing is performed to a two-binary image, it may judge which linear components dominates in the x-y plane before the transform processing, based on the degree of the overlap of the curved patterns in the above resultant p-0 space.<br>
[0029]     FIGs. 4A to 4F are views for explaining an operation of the Hough transform unit shown in FIG. 2. The Hough transform unit 162 performs the Hough<br><br>
transform processing to the registered image AIM to which the position correction processing was performed, shown in FIG. 4A for example, to generate the image SI621 shown in FIG. 4C, and performs the Hough transform processing to the image to be matched RIM to which the position correction processing was performed, shown in FIG. 4B, to generate the image SI622.<br>
In the respective pixels included in the images S1621 and S1622, a value corresponding to the degree of the overlap of the curved patterns is set. In the present embodiment, in the images to be displayed based on a predetermined gradation, a pixel(s) in which the degree of the overlap of the curved patterns is large, is displayed in white.<br>
As mentioned later, the matching unit 1642 performs a matching processing based on the degree of the overlap of the curved patterns, so it performs the matching processing based on the linear component in the original x-y space.<br>
[0030]      The extraction unit 163, from the respective first transformed image and the second transformed image, extracts regions each of which indicates the degree of the overlap of the curved patterns in the transformed image equal to or greater than a threshold set in advance.<br>
In detail, the extraction unit 163, for example,<br><br>
extracts the region of which the degree of the overlap of the curved patterns in the transformed image is equal to or greater than the threshold set in advance, from the signal S1621 as the first transformed image shown in FIG. 4C, generates an image S1631 shown in FIG. 4E, and outputs the same to the matching unit 1642.<br>
Also, the extraction unit 163, for example, extracts the region of which the degree of the overlap of the curved patterns in the transformed image is equal to or greater than the threshold set in advance, from the signal' 81622 as the second transformed image shown in FIG. 4D, generates an image SI632 shown in FIG. 4F, and outputs the same to the matching unit 1642.<br>
By performing the extraction processing, for example, noise components different from the linear components in the registered image AIM and the image to be matched RIM, in the x-y space, for example, point components, are deleted.<br>
[0031]      The judgment unit 164 performs the matching of the first image and the second image based on the degree of the overlap of the patterns in the first transformed image and the second transformed image and a matching or mismatching of the patterns in the two images.<br>
In detail, the judgment unit 164 performs the matching, for example, to the signal S1631 and the signal<br><br>
S1632, and outputs the matched result as a signal S164. <br>
[0032]     The judgment unit 164, for example, as shown in FIG. 2, has a similarity generation unit 1641 and a matching unit 1642.<br>
The similarity generation unit 1641, for example, performs a comparison processing to a plurality of different positional relationships in the first transformed image and the second transformed image, and generates a similarity as the correlation value based on the compared result.<br>
In detail, the similarity generation unit 1641, for example, performs the comparison processing to a plurality of different positional relationships in the two images of the signal S1631 and the signal S1632, and generates the similarity as the correlation value based on the compared result.<br>
[0033]     For example, the similarity generation unit 1641, assuming the two images as f1(m, n) and f2(m, n), calculates a similarity Sim by applying the following formula (2) and outputs the result as S1641. <br>
[0034] <br>
(Formula Removed)<br>
 [0035]      FIGs. 5A to 5C are views for explaining an operation of the similarity generation unit shown in FIG. 2.<br>
The similarity generation unit 1641, for example, in the case where the similarity of two images including linear components (also, referred to linear shapes) shown in FIGs. 5A and 5B is generated, generates the similarity corresponding to a number of the crossed points CP of the two images as shown in FIG. 5C. Here, for simplifying explanations, the linear components are indicated by black pixels of a bit value xl' and others are indicated by white pixels of a bit value X0'.<br>
[0036]      The matching unit 1642 performs the matching of the image to be matched RIM and the registered image AIM based on the signal S1641 indicating the similarity generated by the similarity generation unit 1641.<br>
For example, the matching unit 1642 judges that the registered image AIM and the image to be matched RIM are matched in the case where the similarity is larger than a predetermined value.<br>
 [0037]      FIG. 6 is a flow chart for explaining an operation of the image matching apparatus according to the present embodiment shown in FIG. 1. While referring to FIG. 6, the operation of the image matching apparatus, mainly an operation of the CPU, will be described.<br>
[0038]      For example, the registered image AIM and the image to be matched RIM are input from the image input unit 11, and the memory 12 stores the respective input data.<br>
At step ST101, for example as shown in FIG. 2, the position correction unit 161 performs the position correction processing based on the image patterns in the registered image AIM and the image to be matched RIM stored in the memory 12, in detail, corrects a positional shift in a right and left direction and an up and down direction, a magnification ratio, and the rotation angle shift in the two images, and outputs the corrected images as the signals S1611 and S1612 to the Hough transform unit 162.<br>
[0039]     At step ST102, the Hough transform unit 162, for example, performs the image processing to the signal S1611 being the registered image AIM to which the position correction processing was performed shown in FIG. 4A, the image processing transforming the positions in each image to the curved pattern PL and the linear<br>
components L in each image to a plurality of the overlapped curved patterns PL as shown in FIG. 3A, based on the distance pO from the reference position O to the shortest point PO in the straight line LO passing through<br>
the point in the image and the angle 0 between the straight line nO passing through the reference position O and the shortest point PO and the x-axis as the reference axis including the reference position O, to generate the<br>
signal SI62 as the transformed image in the p-0 space as shown in FIG. 4C.<br>
The Hough transform unit 162 performs the Hough transform processing, in the same way, to the signal SI612 being the image to be matched RIM to which the position correction processing was performed as shown in FIG. 4B, to generate the signal S1622 as the transformed image in the p-9 space as shown in FIG. 4D, for example. [0040]     At step ST103, the extraction unit 163 extracts the regions each of which indicates the degree of the overlap of the curved patterns in the transformed image equal to or greater than the threshold set in advance, from the transformed image S1621 and the transformed image S1622 respectively.<br>
In detail, as described above, the value<br>
corresponding to the degree of the overlap of the curved patterns is set in the respective pixels in the images<br>
S1621 and S1622, and in the image to be displayed based on a predetermined gradation, portions of which the degree of the overlap of the curved patterns are high, are displayed in white.<br>
The extraction unit 163, for example, extracts the region of which the degree of the overlap of the curved patterns in the transformed image SI621 shown in FIG. 4C is equal to or greater than the threshold set in advance, generates the image SI631 shown in FIG. 4E for example, and outputs the same to the matching unit 1642.<br>
The extraction unit 163, for example, extracts the region of which the degree of the overlap of the curved patterns in the transformed image Si622 shown in FIG. 4D is equal to or greater than the threshold set in advance, generates the image SI632 shown in FIG. 4F for example, and outputs the same to the matching unit 1642. [0041]      The matching unit 1642 performs the matching of the image to be matched RIM and the registered image AIM based on the degree of the overlap of the patterns in the transformed images S1631 and S1632 and the matching or mismatching of the patterns in the transformed images S1631 and S1632.<br>
[0042]      In detail, at step S1104, the similarity generation unit 1641 performs the comparison processing to a plurality of the different positional relationships<br>
   in the transformed images S1631 and S1632, generates the<br><br>
similarity Sim as the correlation value based on the compared result, for example, as expressed by the formula<br>
(2) , and outputs the same as the signal S1641.<br>
[0043]     At step ST105, the matching unit 1642 performs the matching of the image to be matched RIM and the registered image AIM based on the similarity Sim functioning as the correlation value generated by the similarity generation unit 1641. In detail, the matching, unit 1642 judges that the registered image AIM and the image to be matched RIM are matched in the case where the similarity Sim is greater than the threshold set in advance, otherwise judges that they are mismatched in the case where the similarity Sim is equal to or less than the threshold.<br>
For example, the operation processing unit 17 performs a predetermined processing such as release of an electric-key in the case where the image matching apparatus according to the present embodiment is applied to a vein pattern matching apparatus in a security field. [0044]     As described above, the matching apparatus is provided with: the Hough transform unit 15 performing the Hough transform processing to the registered image AIM and the image to be matched RIM respectively, in detail, performing the image processing to the registered image<br>
AIM and the image to be matched RIM, by which the points in each image are transformed to the curved pattern PL and the linear components in each image are transformed to a plurality of the overlapped curved-patterns PL based<br>
on the distance p from the reference position O to the shortest point PO in the straight line L passing through the point in the image and the angle 0 between the straight line nO passing through the reference position O and the shortest point PO and the x-axis as the reference axis including the reference position O, and generating the transformed image SI621 and the transformed image S1622; and the judgment unit 164 performing the matching of the image to be matched RIM and the registered image AIM based on the degree of the overlap of the patterns in the transformed image SI621 and the transformed image SI622 generated by the Hough transform unit 15 and the matching or mismatching of the patterns in the transformed image S1621 and the transformed image S1622. So, the matching images including the featured linear components can be performed at a high accuracy. <br>
[0045]     Namely, the Hough transform unit 15 generates the transformed images under consideration of the linear components (also, referred to a linear shapes) in the registered image AIM and the image to be matched RIM by performing the Hough transform processing, and the<br>
judgment unit 164 performs the matching of the transformed images based on the degree of the overlap of the curved patterns. So, the matching images including the featured linear components can be performed at a high accuracy.<br>
[0046]     Further, if the extraction unit 163 is provided at a subsequent stage of the Hough transform unit 162, the extraction unit 163 extracts the region of which the degree of the overlap of the curved patterns PL in either the transformed image S1621 or the transformed image SI622 is equal to or greater than the threshold set in advance, namely, deletes point components functioning as noise components on the registered image AIM and the image to be matched RIM and extracts only the linear components, and generates the images S1631 and S1632, and the judgment unit 164 performs the matching of the image to be matched RIM and the registered image AIM based on the matching or mismatching of the patterns in the extracted region. Consequently, the matching processing further improved and at a higher accuracy can be performed.<br>
[0047]     And, the judgment unit 164 is provided with: the similarity generation unit 1641 performing the comparison processing to a plurality of the different positional relationships in the transformed images, and<br>
generating the similarity as the correlation value based on the compared result; and the matching unit 1642 performing the matching of the image to be matched RIM and the registered image AIM based on the generated similarity Sim. Then, the judgment unit 164 generates the similarity as the correlation value by applying a simple calculation and performs the matching processing based on the similarity. Consequently, the matching processing can be performed at a high speed.<br>
[0048]      In the present embodiment, though the position correction processing is performed at step ST101, but, it is not limited thereto. For example, in the case where the position correction processing is unnecessary, the Hough transform unit 15 may perform the Hough transform processing to the registered image AIM and the image to be matched RIM respectively. Therefore, a processing load is reduced and the matching processing can be performed at a high speed.<br>
[0049]      In the present embodiment, though, at step ST103, the extraction unit 163 extracts the region of which the degree of the overlap of the curved patterns PL is equal to or greater than the threshold set in advance, but, it is not limited thereto.<br>
For example, the extraction unit 163 dose not perform the extraction processing, and the judgment unit<br>
164 may perform the matching of the image to be matched RIM and the registered image AIM based on the degree of the overlap of the patterns in the image SI621 and the image SI622 and the matching or mismatching of the patterns therein. Therefore, the processing load is reduced and the matching processing can be performed at a high speed.<br>
[0050]      FIG. 7 is a block diagram showing a position correction unit of the image matching apparatus of a second embodiment according to the present invention.<br>
The image matching apparatus la according to the present embodiment, in a functional block diagram illustrated as a hardware, has approximately the same configuration as the image matching apparatus 1 according to the first embodiment, and, for example, has the image input unit 11, the memory 12, the FFT processing unit 13, the coordinates transform unit 14, the Hough transform unit 15, the CPU 16 and the operation processing unit 17 as shown in FIG. 1.<br>
In the functional block illustrated as a software, the image matching apparatus la has approximately the same configuration as the image matching apparatus 1 according to the first embodiment, and the CPU 16 executes the program PRG to realize the function of the position correction unit 161, the Hough transform unit<br>
162, the extraction unit 163, and the judgment unit 164.<br>
Components the same as those of the above embodiment are assigned the same notations (references) and explanations thereof are omitted. And only different points will be described.<br>
[0051]     The different points are the followings: the position correction unit 161, as a position correction processing, generating the correlation value based on phase components which are results of the rotation angle correction processing of the registered image AIM and the image to be matched RIM or the enlargement ratio correction processing thereof, and the Fourier transform processing thereof, and performing the position correction processing to the registered image AIM and the image to be matched RIM based on the generated correlation value.<br>
In detail, the position correction unit 161 according to the present embodiment, as shown in FIG. 7, realizes functions of the magnification information and rotation information unit 21, the correction unit 22, the phase-only correlation unit 23, the shift information generation unit 24, and the correction unit 25 by the CPU 16 executing the program PRG and controlling the FFT processing unit 13 and the coordinates transform unit 14, for example.<br>
 [0052]      The magnification information ana rotation information unit 21 and the correction unit 22 perform a rotation angle correction processing or an enlargement ratio correction processing thereof to the registered image AIM and the image to be matched RIM.<br>
The magnification information and rotation information unit 21 generates a magnification information and/or a rotation information based on the registered image AIM and the image to be matched RIM, and outputs the same as a signal S21 to the correction unit 22.<br>
The magnification information includes an information indicating an enlargement and/or reduction ratio of the registered image AIM and the image to be matched RIM. The rotation information includes an information indicating a rotation angle of the registered image AIM and the image to be matched RIM. <br>
[0053]      In detail, for example, the magnification information and rotation information unit 21 has a Fourier and Mellin transform unit 211, a phase-only correlation unit 212, and a magnification information and rotation information generation unit 213.<br>
The Fourier and Mellin transform unit 211 performs a Fourier and Mellin transform as mentioned later to the respective image information and outputs signals SA211 and SR211 indicating the respective transformed results<br>
to the phase-only correlation unit 212.<br>
[0054]     In detail, the Fourier and Mellin transform unit 211 has Fourier transform units 21111 and 21112, logarithmic transform units 21121 and 21122, and logarithm-polar coordinates transform units 21131 and 21132.<br>
[0055]     The Fourier transform unit 21111 performs Fourier transform as expressed by the following formula (3) to generate a Fourier image data Fl(u, v) when the registered image AIM is assumed as f1(m, n) in the case where the registered image AIM is N x N pixel image, for example, and outputs the same to the logarithmic transform unit 21121. The Fourier transform unit 21112 performs Fourier transform as expressed by the following formula (4) to generate a Fourier image data F2(u, v) when the image to be matched RIM is assumed as f2(m, n) in the case where the image to be matched RIM is N x N pixel image, for example, and outputs the same to the logarithmic transform unit 21122. <br>
[0056]      The Fourier image data Fl(u, v) is formed by<br>
an amplitude spectrum A(u, v) and a phase spectrum ®(u, v) as expressed by the following formula (3). The Fourier image data F2(u, v) is formed by an amplitude spectrum<br>
B(u, v) and a phase spectrum1u, v) as expressed by the following formula (4).<br>
(Formula Removed)<br><br>
[0059]     The logarithmic transform units 21121 and 21122 perform logarithmic processings to amplitude components of the Fourier image data Fl(u, v) and F2(u, v) generated by the Fourier transform units 21111 and 21112. The logarithmic processing to the amplitude components is carried out to emphasize a high frequency component including a detail featured information of the image data.<br>
[0060]     In detail, the logarithmic transform unit 21121 performs the logarithmic processing to the amplitude components A(u, v) as expressed by the following formula (5) to generate A'(u, v), and outputs the same to logarithm-polar coordinates transform unit 21131. The logarithmic transform unit 21122 performs the logarithmic processing to the amplitude components B(u,<br><br>
v) as expressed by the following formula (6) to generate B'(u, v), and outputs the same to logarithm-polar coordinate transform unit 21132. [0061] [Formula 5]<br>
(Formula Removed)<br><br>
 [0063]     The logarithm-polar coordinates transform units 21131 and 21132 transform the signals output from the logarithmic transform units 21121 and 21122 to signals of a logarithm-polar coordinates system (for example, (log(r), 0).<br>
Generally, for example, when a position (x, y) is<br>
defined such as the following formulas (7) and (8) , (j, is equal to log(r) when R is equal to e^, so there is unanimously (log(r), 0) corresponding to any point (x, y). The logarithm-polar coordinates transform units 21131 and 21132 perform a coordinate transform processing based <br>
0065] on the above nature. <br>
[0064] [Formula 7] <br><br>
 [0066]      In detail, the logarithm-polar coordinates<br>
transform units 21131 and 21132 define a set (r±, 0j) expressed by the following formula (9) and a function<br>
f(ri, 63) expressed by the following formula (10).<br>
[0067]<br>
(Formula Removed)<br>
[0068]<br>
(Formula Removed)<br>
 [0069]     The logarithm-polar coordinates transform units 21131 and 21132 perform the logarithm-polar coordinates transform to the image data A' (u, v) and B' (u, v) as expressed by the following formulas (11) and (12) by applying the set (r±, 0j) and the function f (ri, 6j) defined by the formulas (9) and (10) to generate <br>
6j) and pB(ri, 0-j) , and output the same as the signal SA211 and the signal SR211 to the phase-only correlation unit 212. [0070] [formula 11]<br>
 [0072]      FIG. 8 is a view for explaining an operation of the Fourier and Mellin transform unit 211 shown in FIG. 7.<br>
The image f 1 (m, n) and the image f2 (m, n) , for example, include rectangle regions Wl and W2 having different predetermined angles with respect to x-axis and y-axis .<br>
In the Fourier and Mellin transform unit 211, for example as shown in FIG. 8, the Fourier transform processing is performed to the image f 1 (m, n) by the Fourier transform units 21111 to thereby generate a Fourier image data Fl(u, v) , and the image data pA(r, 0) is generated by the logarithmic transform unit 21121 and the logarithm-polar coordinates transform unit 21131.<br>
 [0073]     In the same way, the Fourier transform processing is performed to the image f2(m, n) by the Fourier transform units 21112 to thereby generate a Fourier image data F2(u, v), and the image data pB(r, 6) is generated by the logarithmic transform unit 21122 and the logarithm-polar coordinates transform unit 21132.<br>
[0074]     As described above, the images f 1 (m, n) and f2(m, n) are transformed from Cartesian coordinates to the logarithm-polar coordinates system (also, referred to a Fourier and Mellin space) by the Fourier transform and the logarithm-polar coordinates transform.<br>
In the Fourier and Mellin space, there is a nature that the component is moved along a log-r axis based on a<br>
scaling of an image and moved along a 6-axis based on a rotation angle of the image.<br>
By applying the above nature, the scaling (magnification information) and a rotation angle of the images fl(m, n) and f2(m, n) may be obtained based on an amount of the shift along the log-r axis in the Fourier and Mellin space and an amount of the shift along the 6-axis.<br>
[0075]     The phase-only correlation unit 212, for example, applies a phase only correlation method used in a phase-only filter (symmetric phase-only matched filter: SPOMF) to the signal SA211 and the signal SR211<br>
respectively indicating a pattern data output from the Fourier and Mellin transfer 211 and obtains the amount of the parallel movement thereof.<br>
The phase-only correlation unit 212, as shown in FIG. 7, has Fourier transform units 2120 and 2121, a combination (synthesizing) unit 2122, a phase extraction unit 2123, and an inverse-Fourier transform unit 2124. <br>
[0076]      The Fourier transform units 2120 and 2121 perform Fourier transform to the signals SA211 (pA(m, n)) and SR211 (pB(m, n)) output from the logarithm-polar coordinates transform units 21131 and 21132 by applying the following formulas (13) and (14). Here, X(u, v) and Y(u, v) indicate Fourier coefficients. The Fourier coefficient X(u, v) is formed by an amplitude spectrum<br>
C(u, v) and a phase spectrum 9(u, v) as expressed by the following formula (13). The Fourier coefficient Y(u, v) is formed by an amplitude spectrum D(u, v) and a phase spectrum (j)(u, v) as expressed by the following formula (14) . [0077] [0078]<br>
(Formula Removed)<br>
 [0079]      The combination unit 2122 combines X(u, v) and Y(u, v) generated by the Fourier transform units 2120 and 2121, and obtains the correlation. For example, the combination unit 2122 generates X(u, v)-Y*(u, v) and outputs the same to the phase extraction unit 2123. Here, 5f*(u, v) is defined as a complex conjugate of Y(u, v) . [0080]     The phase extraction unit 2123 deletes an amplitude component based on a combined signal output from the combination unit 2122 and extracts a phase information.<br>
For example, the phase extraction unit 2123 extracts the phase component which is Z(u, v) = e3(8(u/ v)~ »<u based on the x v .></u>
[0081]     The extraction of the phase information is not limited to the above. For example, based on the output from the Fourier transform units 2120 and 2121 and the following formulas (15) and (16), the phase information is extracted and only the phase components are combined as expressed by the following formula (17) to generate Z(u, v). [0082]<br>
(Formula Removed)<br><br>
 [0085]     The inverse-Fourier transform unit 2124 performs the inverse-Fourier transform processing to the signal Z(u, v) including the only phase information and output from the phase extraction unit 2123 to generate a correlation intensity image.<br>
In detail, the inverse-Fourier transform unit 2124 performs the inverse-Fourier transform processing on the signal Z(u, v) as expressed by the following formula (18) to generate a correlation intensity image G(p, q). [0086] [formula 18]<br>
(Formula Removed)<br>
 [0087]     The magnification information and rotation information generation unit 213 generates a correction information S21 including a data indicating a magnification information (enlargement and/or reduction ratio) and a rotation angle information of the image to be matched RIM to the registered image AIM by detecting the amount of shift between an image center and a peak position in the correlation intensity image G(p, q) generated by the inverse-Fourier transform unit 2124. The amount of the shift is equal to the amount of the parallel shift between the registered image AIM and a pattern data obtained by performing the Fourier-Mellin transform to the image to be matched RIM. [0088]     The correction unit 22 corrects the image to be matched RIM based on the correction information S21 output from the magnification information and rotation information generation unit 213 in the magnification information and rotation information unit 21. In detail, the correction unit 22 performs an enlargement and/or reduction processing and a rotation processing to the image to be matched RIM based on a magnification information and the rotation angle information included in the correction information S21, and outputs the result to the phase-only correlation unit 23. By the correction<br>
processing of the correction unit 22, a scaling difference and a rotation component difference between the registered image AIM and the image to be matched RIM are deleted.<br>
Therefore, only a parallel movement component remains as the difference between the registered image AIM and the image to be matched RIM to which the correction processing was performed.<br>
[0089]      The phase-only correlation unit 23 detects the parallel movement component between the registered image AIM and the image to be matched RIM to which the correction processing was performed, and also detects the correlation value thereof. The detection processing, for example, is performed by applying the phase-only correlation method used in the phase-only filter described above.<br>
In detail, the phase-only correlation unit 23 has Fourier transform units 2311 and 2312, a combination unit 232, a phase extraction unit 233, and an inverse-Fourier transform unit 234.<br>
[0090]     The Fourier transform units 2311 and 2312, the combination unit 232, the phase extraction unit 233, and the inverse-Fourier transform unit 234 have respectively the same functions as the Fourier transform units 2120 and 2121, the combination unit 2122, the phase<br>
extraction unit 2133, and the inverse-Fourier transform unit 2124 of the phase-only correlation unit 212 and explanations will be simplified.<br>
[0091]      The Fourier transform unit 2311 performs the Fourier transform processing to the registered image AIM, and outputs the result to the combination unit 232. In the above case, the registered image AIM to which the Fourier transform processing was performed by the Fourier transform unit 21111 may be stored in the memory 12, and output to the combination unit 232. Consequently, the Fourier transform is not performed two times, so the processing is reduced.<br>
The Fourier transform units 2312 performs the Fourier transform processing to the image S22 corrected by the correction unit 22, and outputs the result of a Fourier image to the combination unit 232. <br>
[0092]      The combination unit 232 combines the Fourier images S2311 and S2312 output from the Fourier transform units 2311 and 2312, and outputs the combined image S232 to the phase extraction unit 233.<br>
The phase extraction unit 233 extracts the phase information based on the combined image S232 as described above, and outputs a signal S233 to the inverse-Fourier transform unit 234.<br>
The inverse-Fourier transform unit 234 performs the<br>
inverse-Fourier transform processing to the signal S233 to thereby generate a correlation intensity image (correlation image data), and outputs the same as a signal S23 to the shift information generation unit 24. [0093]     A processing for detecting the amount of the parallel movement in the above phase-only correlation method will be described in detail.<br>
For example, the Fourier transform processing is performed to the original image f1(m, n), the original image f2(m, n), and an image f3(m, n) = f2(m+a/ n+P) in which the image f2(m, n) is moved in parallel, to thereby generate Fourier coefficients Fl(u, v), F2(u, v) , and F3(u, v) as expressed by the following formulas (19) to (21). <br>
[0094] [formula 19]<br>
(Formula Removed)<br><br>
 [0097]     Based on the Fourier coefficients Fl(u, v) to F3(u, v) , phase images F'l(u, v) to F'3(u, v) including only the phase information are generated as expressed by the following formulas (22) to (24).<br>
 [0098] <br>
(Formula Removed)<br>
[0101]     A phase image correlation Z12(u, v) as the correlation between the phase image F'l(u, v) and the phase image F'2(u, v) is calculated as expressed by the following formula (25). A phase image correlation Z13(u, v) as the correlation between the phase image F'l(u, v)<br>
and the phase image F'3(u, v) is calculated as expressed by the following formula (26). <br>
[0102]<br>
 [formula 25]<br>
(Formula Removed)<br><br>
 [0104]     A correlation intensity image G12(r, s) of the correlation Z12(u, v) and a correlation intensity image G13(r, s) of the correlation Z13(u, v) are calculated as expressed by the following formulas (27) and (28). <br>
[0105] <br>
[formula 27]<br>
(Formula Removed)<br><br>
0107]     As expressed by the above formulas (27) and (28), in the case where the image f3(m, n) is shifted to<br>
(+a, +P) in comparison with the image 2(m, n), a correlation intensity peak is generated at a position<br>
shifted to (-a, -0) in the correlation intensity image in the phase-only correlation method. The amount of the parallel movement between the two images can be obtained based on the position of the correlation intensity position.<br>
Further, by applying the phase-only correlation method in the Fourier and Mellin space, the amount of the parallel movement in the Fourier and Mellin space can be detected. The amount of the parallel movement, as described above, corresponds to the magnification information and the rotation angle information in a real space.<br>
[0108]     FIGs. 9A to 9F are views for explaining different points between the self correlation method and the phase-only correlation method<br>
In the self correlation method, as shown in FIGs. 9A and 9B, the Fourier transform is performed to an image IM1 and an image IM2 the same as the image IM1 to thereby generate a self correlation function SGI. As shown in FIG, 9C, correlation intensity distributions including a high correlation intensity peak and a low correlation intensity peak around it, are obtained. In FIG. 9C, an ordinate (z-axis) indicates the correlation intensity, and an x-axis and a y-axis indicate the amount of the shift.<br>
[0109]     Otherwise, in the phase-only correlation method described above, as shown in FIGs. 9D and 9E, the Fourier transform is performed to the image IM1 and the image IM2 the same as the image IM1, and only the phase information is correlated, as a result, correlation distributions including only a high and sharp correlation intensity peak are obtained as shown in FIG. 9F. In this way, the performance of the phase-only method can obtain a precise information concerning the correlation in comparison with the self correlation method. In FIG. 9F, an ordinate (z-axis) indicates the correlation intensity, and an x-axis and a y-axis indicate the amounts of the shifts.<br>
[0110]      FIGs. 10A to IOC are views, for explaining the correlation intensity distributions in the case where the<br>
parallel movement shift exists between two images, in the phase-only correlation method.<br>
For example, in the correlation intensity distributions by applying the phase-only method to the image IM1 and an image IMS in which a plurality of pixels are moved in parallel from the image IM1, shown in FIGs. IDA and 10B, a high and sharp correlation intensity peak is distributed at a position shifted from a peak position with a distance depending on the amount of the parallel movement in a correlation image data as shown in FIG. 9F. However, the peak intensity shown in FIG. IOC is smaller than that shown in FIG. 9F. This is because pixel regions where the images IM1 and IM3 are matched are smaller than that of the images IM1 and IM2.<br>
[0111]     FIGs. 11A to 11C are views for explaining the correlation intensity distributions in the case where the rotation shift exists between two images, in the phase-only correlation method.<br>
In the correlation intensity distributions by applying the phase-only method to the image IM1 and an image IM4 rotating several degrees from the image IM1, shown in FIG. 11A and 11B, for example, a weak correlation intensity distribution is obtained as shown in FIG. 11C. In the case where the phase-only correlation method is simply applied, it is difficult to detect the<br>
correlation due to the rotation shift.<br>
[0112]      Therefore, in the image matching apparatus la according to the present embodiment, the Fourier and Mellin transform is performed to the registered image AIM and the image to be matched RIM, the amount of the parallel movement is detected in the Fourier and Mellin space by applying the phase-only correlation method, and the magnification information and the rotation angle information of the registered image AIM and the image to :   be matched RIM are detected. The magnification and the rotation angle of the image to be matched are corrected based on the above information.<br>
The parallel movement shift between the corrected image to be matched RIM and the registered image AIM is<br>
	detected by applying the phase-only correlation method,<br>
and simultaneously, the matching of the images are<br>
performed based on the correlation peak.<br>
[0113]      FIGs. 12A to 12C are views for explaining a correlation image data output by the phase-only<br>
correlation unit 23. FIG. 12A shows an example of the<br>
registered image AIM, FIG. 12B shows an example of the<br>
image to be matched RIM, and FIG. 12C shows a specific<br>
example of the correlation image data. FIG. 13 is a view<br>
for explaining the correlation image data shown in <br><br>
 [0114]     In the case where a binary pattern and a linear shaped pattern of a hand-written character or a blood vessel pattern are included in the registered image AIM and the image to be matched RIM, for example, in the case of the registered image AIM and the image to be matched RIM shown in FIGs. 12A and 12B, the phase-only correlation unit 23 outputs a correlation image data shown in FIG. 12C as the signal S23.<br>
[0115]     In FIG. 12C, a z-axis direction indicates a correlation peak intensity in the correlation image data, and the correlation peak intensity corresponds to the degree of the correlation between the registered image AIM and the image to be matched RIM. As shown in FIG, 12C and FIG. 13, in a correlation peak position PP in a x-axis direction and a y-axis direction, for example, the amount of the shift from a image center corresponds to the amount of the parallel movement between the registered image AIM and the image to be matched RIM. [0116]      The shift information generation unit 24 generates the amount of the shift from the image center as a shift information based on the signal S23 output from the phase-only correlation unit 23, and outputs a signal S24 to the correction unit 25.<br>
[0117]     The correction unit 25 performs a position correction processing to the image to be matched RIM<br>
based on the image to be matched RIM and the signal S24 as the shift information output from the shift information generation unit 24, and outputs the resultant as a signal S1612.<br>
[0118]     FIG. 14 is a flow chart for explaining an operation of the image matching apparatus 1 shown in FIG. 1. The operation of the image matching apparatus la having the configuration described above will be described with reference to FIG. 14 in terms of a different point from the first embodiment. [0119]    example, the registered image AIM and the image to be matched RIM are input from the image input unit 11, and the respective image data are stored in the memory (S11).<br>
Here, in order to obtain the magnifications (enlargement and/or reduction ratio) and the rotation angle information of the image to be matched RIM to the registered image AIM, the registered image AIM is read out from the memory 12 (ST2) , and applied with the Fourier transform processing in the Fourier transform unit 21111 in the magnification information and rotation information unit 21 (ST3), and a generated Fourier image data S21111 is stored or recorded in the memory 12 (S14).<br>
An amplitude component in the Fourier image data S21111 is applied with the logarithmic processing by the<br>
logarithmic transform unit 21121, and transformed to a logarithm-polar coordinates system by the logarithm-polar coordinates transform unit 21131 (S15).<br>
[0120]      The image to be matched RIM is read out from the memory 12 (S16), and applied with the Fourier transform by the Fourier transform unit 21112 in the same way (ST7). The amplitude component in the Fourier image data S21112 is applied with the logarithmic processing by the logarithmic transform unit 21122, and transformed to a logarithm-polar coordinates system by the logarithm-polar coordinates transform unit 21132 (ST8). <br>
[0121]     Image signals (also, referred to pattern data) SA211 and SR211, obtained by performing the Fourier and Mellin transform to the above registered image AIM and the image to be matched RIM, are respectively applied with the Fourier transform processing by the Fourier transform units 2120 and 2121 of the phase-only correlation unit 212 (S13), and combined by the combination unit 2122 (S110). The amplitude component is deleted from the combined signal by the phase extraction unit 2123 (ST11), the residual phase component is applied with the inverse-Fourier transform processing by the inverse-Fourier transform unit 2124 (S112), and a correlation information including the magnification information and the rotation information is generated<br>
 (detected) by the magnification information and rotation information generation unit 213, based on the amount of the shift between the image center and the peak position of the obtained correlation image data (ST13). <br>
[0122]     The correction unit 22 performs the correction processing for enlargement and/or reduction and the rotation processing to the image to be matched based on the correction information to thereby delete the scaling component and the rotation component between the images (ST14). The residual difference is only the parallel movement component, which is detected by applying the phase-only correlation method. [0123]     The image to be matched RIM to which the correction processing was performed, is applied with the Fourier transform by the Fourier transform unit 2312 of the phase-only correlation unit 23 (ST15) to thereby generate a Fourier image data S2312, the registered image AIM stored in the memory 12 and applied with the Fourier transform processing, is read out (ST16), and a combined data S232 is generated by the combination unit 232 (S117). <br>
[0124]      In the above case, the registered image AIM may be applied with the Fourier transform processing in the Fourier transform unit 2311 to thereby generate the Fourier image data S2311, and output the same to the combination unit 232.<br>
The amplitude information in the combined data S232 is deleted by the phase extraction unit 233 (S118), the residual phase information is input to the inverse-Fourier transform unit 234, and a signal S23 is output as the correlation image data (S19).<br>
Based on the signal 23, the amount of the shift of the peak position is detected by the shift information generation unit 24, and the signal S24 is output as the shift information (ST20).<br>
In the correction unit 25, the position correction processing is performed to the registered image AIM and the image to be matched RIM based on the signal S24 as the shift information and the image to be matched RIM, then a signal S1612 is output. Also, the registered image AIM is output as a signal S1611 (S121). <br>
[0125]     The following operations are the substantially same as the first embodiment, the Hough transform unit 162 performs the Hough transform processing (S122), the extraction unit 163 performs the extraction processing (S123), and the similarity generation unit 1641 generates the similarity Sim (S124).<br>
At step ST25, the matching unit 1642 judges whether or not the similarity Sim is larger than (or exceeds) the threshold set in advance. If it is larger than the threshold, it is judged that the registered image AIM and<br>
the image to be matched RIM are matched (S126), otherwise, if it is smaller than the threshold, it is judged that they are mismatched (S127).<br>
As described above, in the present embodiment, the position correction unit 161, as the position correction processing, generates the correlation value based on the phase components which are results of the rotation angle correction processing or the magnification ratio correction processing and the Fourier transform processing to the registered image AIM and the image to be matched RIM, and performs the position correction processing to the registered image AIM and the image to be matched RIM based on the generated correlation value, consequently, the position correction processing can be performed at a high accuracy, as a result, the matching processing can be performed at a high accuracy. [0127]     FIG. 15 is a functional block diagram of an image matching apparatus of a third embodiment according to the present invention.<br>
An image matching apparatus Ib according to the present embodiment, in the functional block diagram illustrated as a hardware, has the approximately same configuration as the image matching apparatus 1 according to the first embodiment, and, for example, has the image input unit 11, the memory 12, the FFT processing unit 13,<br>
the coordinate transform unit 14, the Hough transform unit 15, the CPU 16, and the operation processing unit 17 as shown in FIG. 1.<br>
The image matching apparatus Ib, in the functional block diagram illustrated as a software, has the approximately same configuration as the image matching apparatus 1 according to the second embodiment, and the CPU 16 executes the program PRG to realize functions of a position correction unit 161b, the Hough transform unit 162, the extraction unit 163, and a judgment unit 164b. In FIG, 15, components the same as those of the above embodiments are assigned the same notations and explanations thereof are omitted. And only different points will be described.<br>
[0128]     A large different point is the following: the position correction unit 161b and the judgment unit 164b being different.<br>
In the present embodiment, the position correction unit 161b performs the correlation processing to the registered image AIM and the image to be matched RIM to generate a plurality of the correlation value indicating the correction position, and performs a plurality of the position correction processing to the registered image AIM and the image to be matched RIM based on the generated correlation value.<br>
 [0129]     FIGs. 16A and 16B are views for explaining an Dperation of the position correction unit shown in FIG. 15. Numerical values indicate the correlation peak intensities of the correlation image data in the x-y plane.<br>
For example, in the case where the registered image AIM and the image to be matched RIM include the binary linear component (linear shape) pattern, the correlation peak intensity (also, referred to a correlation intensity) is small value as shown in FIGs. 16A and 16B even if the correlation of the images is large.<br>
For example, based on the signal S23, the shift information generation unit 24 of the position correction unit 161b specifies N number of the correlation intensities successively from the top as shown in FIG. 16A, for example, 8 of the correlation value and the correlation peak positions in the present embodiment, as an object of a positional relationship between the registered image AIM and the image to be matched RIM on a two-dimension.<br>
The position correction unit 161b performs the plurality of the position correction processing if necessary, to a plurality of the correlation values and the position of the correlation peaks corresponding to the above values.<br>
 [0130]     The Hough transform unit 162 performs the Hough transform processing to the registered image AIM and the image to be matched RIM which are results of the plurality of the position correction processing to thereby generate the transformed images S1621 and S1622.<br>
The judgment unit 164b generates the correlation value based on patterns in the two transformed images, and performs the matching processing to the registered image AIM and the image to be matched RIM based on the generated correlation value and the threshold set in advance. The judgment unit 164b performs the matching processing to the result of the plurality of the position correction processing based on the total amount of the correlation value corresponding to different positions and the threshold set in advance.<br>
[0131]     In detail, the judgment unit 164b has the similarity generation unit 1641, a matching unit 1642b, and the accumulation unit 1643.<br>
The similarity generation unit 1641, for example, generates the similarity Sim by applying the above formula (2) based on the signals S1631 and S1632 as described above, and outputs the same as a signal S1641 to the accumulation unit 1643 and the matching unit 1642b. [0132]     The accumulation unit 1643 accumulates the similarity Sim based on the signal S1641, and outputs the<br>
accumulated result as a signal S1643 to the matching unit 1642b.<br>
The matching unit 1642b performs the matching of the image to be matched RIM and the registered image AIM based on the signal S1641 and the signal S1643.<br>
The different point from the matching unit 1642 according to the first embodiment is the followings: the matching unit 1642b judging that the registered image AIM and the image to be matched RIM are matched when the signal SI643 as the accumulation value of the similarity Sim generated by the accumulation unit is larger than the predetermined threshold.<br>
[0133]      FIG. 17 is a flow chart for explaining an operation of the image matching apparatus of the third embodiment according to the present embodiment. While referring to the FIG. 14 and FIG. 17, the operation of the image matching apparatus, mainly the operation of the CPU 16, will be described in terms of the different points from the first embodiment and the second embodiment.<br>
[0134]     Steps ST1 to ST19 are the same operations as the second embodiment shown in FIG. 14 and explanations will be omitted.<br>
Based on the correlation image data S23 output from the phase-only correlation unit 23 at step ST19, N number<br>
of objects PI (P0, PI, Pa, are extracted successively from the upper side of the correlation peak intensity in the correlation image data S23 by the shift information generation unit 24 (ST28). [0135]     At step ST29, the accumulation unit 1643 initializes variables for accumulation. For example, the variable i^ is initialized to 0 and the accumulation value S is initialized to 0.<br>
The correction unit 25 performs the position correction processing to the registered image AIM and the image to be matched RIM based on the respective objects (coordinates) PI and the amount of the shift corresponding to the object from the center position and the correlation image data (S130).<br>
[0136]     As described above, the Hough transform processing is performed to the registered image AIM and the image to be matched RIM by the Hough transform unit 162 (ST31)f the extraction processing is performed by the extraction unit 163 (ST32), and the similarity Sim(i) is calculated by the similarity generation unit 1641 and output to the accumulation unit 1643 and the matching unit 1642b (ST33).<br>
[0137]      The matching unit 1642b compares the similarity Sim(i) with a first threshold thl set in advance. In the case where the similarity Sim(i) is<br>
smaller than the first threshold <st34 the accumulation unit accumulates similarity sim in detail same by formula s="S" and outputs result to matching></st34>
At step ST35, the matching unit 1642b compares the accumulation value S with a second threshold th2 set in advance (S136), the variable i and a value N-l are compared in the case where the accumulation value S is smaller than the second threshold th2 (ST27), the variable i is added with one in the case where the variable i dose not matched N-l (ST28) , and the routine returns to step ST30. At step ST27, in the case where the variable i^ matches N-l, the images are mismatched (ST39) . [0138]     On the other hand, in the comparison processing at step ST34, the matching unit 1642b judges that the images are matched in the case where the similarity Sim(i) is equal to or larger than the first threshold. In the comparison processing at step ST36, the matching unit 1642b judges that the images are matched in the case where the accumulated value £[ is equal to or larger than the second threshold th2 (ST40). For example, in the case where the image matching apparatus according to the present embodiment is applied to a vein pattern matching apparatus in a security field, the operation processing unit 17 performs a processing such that the<br>
electric key is released.[0139]    As described above, in the present embodiment, the position correction unit 161 generates a plurality of the correlation value indicating the positions to be corrected, performs the plurality of the position correction processing to the registered image AIM and the image to be matched RIM based on the generated correlation value. The Hough transform unit 162 performs the Hough transform processing as an image processing to the registered image AIM and the image to be matched RIM which are results of the plurality of the position correction processings. And the matching unit 1642b performs the matching processing to the accumulation value of the similarity as the correlation value corresponding to the pattern in each of the transformed images. Consequently, for example even if the correlation between the two image data to be compared is small, the similarity calculated in the respective positional relationships in the objects are accumulated, so the matching can be performed at a high accuracy in comparison with the case where the matching is performed by applying only the similarity.<br>
[0140] When the similarity Sim is larger than the first threshold the matching unit judges that the two images are matched, so the matching processing can be<br>
performed at high speed.<br>
[0141]     FIG. 18 is a functional block diagram of an image matching apparatus of a fourth embodiment according to the present invention.<br>
An image matching apparatus Ic according to the present embodiment, in the functional block diagram illustrated in a hardware, has the approximately same configuration as the image matching apparatus 1 according to the above embodiment, and, for example, has the image input unit 11, the memory 12, the FFT processing unit 13, the coordinate transform unit 14, the Hough transform unit 15, the CPU 16, and the operation processing unit 17 as shown in FIG. 1.<br>
The image matching apparatus Ic, in the functional block diagram illustrated in a software, has the approximately same configuration as the image matching apparatus according to the above described embodiments, and the CPU 16 executes the program PRG to realize functions of the position correction unit 161, the Hough transform unit 162, an extraction unit 163c, and the judgment unit 164. In FIG, 18, components the same as those of the above embodiments are assigned the same notations and explanations thereof are omitted. And only different point will be described. [0142]     A large different point is the following: the<br>
extraction unit 163c being different.<br>
In the present embodiment, the extraction unit 163c extracts regions where the degree of the overlap of the curved patterns in the transformed image is equal to or greater than the threshold set in advance, from the first transformed image and the second transformed image, and determines the threshold based on a size of the extracted region such that the size of the extracted region is larger than the set value.<br>
The extraction unit 163c determines the threshold based on the size of the extracted region such that the size of the extracted region is within the set range. [0043]     FIGs. 19A to 19F are views for explaining an operation of the image matching apparatus Ic shown in FIG. 17.<br>
FIG. 19A is a view showing a specific example of an image IMll. FIG. 19B is a view showing an image in which a region equal to or greater than the first threshold is extracted from the image IMll shown in FIG. 19A. FIG. 19C is a view showing an image in which a region equal to or greater than a second threshold larger than the first threshold is extracted from the image IMll shown in FIG. 19A.<br>
FIG. 19D is a view showing a specific example of an image IM12. FIG. 19E is a view showing an image in which<br>
a region equal to or greater than the first threshold is extracted from the image IM12 shown in FIG. 19D. FIG. 19F is a view showing an image in which a region equal to or greater than a second threshold larger than the first threshold is extracted from the image IM12 shown in FIG. 19D.<br>
[0144]     For example, in the above described embodiments, when performing the Hough transform processing to the registered image and the image to be matched prior to extracting the amount of features (parameter) from the transformed image, since the threshold is fixed, the sufficient amount of features may not be extracted or the redundant amount of the features may be extracted depending on the images. [0145]     In detail, when performing the Hough transform processing to the image IM11 shown in FIG. 19A before extracting the region larger than the first threshold from the transform image, an image IM111 shown in FIG. 19B is generated, otherwise, when extracting the region larger than the second threshold, an image IM112 shown in FIG. 19C is generated.<br>
[0146]     When performing the Hough transform processing to the image IM12 shown in FIG. 19D prior to extracting the region larger than the first threshold from the transform image, an image IM121 shown in FIG.<br>
19E is generated, otherwise, when extracting the region larger than the second threshold, an image IM122 shown in FIG. 19F is generated.<br>
[0147]     For example, the images IM112 and IM121 are specific examples including the amount of the data (features) appropriate to the matching processing.<br>
The image IM111 is a specific example including the amount of the data (features) redundant to the matching processing.<br>
The image IM122 is a specific example extracted with the amount of data (features) insufficiently to the matching processing.<br>
[0148]     In the case of where the threshold is fixed, for example, the comparison and matching processing is performed to the image IM111 and the image IM121 or the image IM112 and the image IM122, so judgment accuracy may sometimes be insufficient.<br>
For example, while changing the threshold, the comparison and matching processing are performed to the image IM112 and the image IM121 including the amount of data (features) sufficiently to the matching processing, so the judgment accuracy is improved.<br>
[0149]      Therefore, the extraction unit 163c according to the present embodiment, in the case where the amount of features extracted by applying a certain threshold is<br>
the out of the suitable range for the matching when extracting the amount of features to the transformed image to which the Hough transformed processing was performed, changes the threshold and extracts the amount of the features again, and determines the amount of feature so as to be within the suitable range. [0150]      FIG. 20 is a flow chart for explaining an operation of the image matching apparatus according to the present embodiment. While referring to FIG. 20, the operation of the image matching apparatus, mainly a different point from the embodiment shown in FIG. 14, will be described.<br>
[0151]     The operations of steps ST1 to ST22 are the same and explanations will be omitted.<br>
At step ST231, the extraction unit 163c extracts a parameter portion exceeding the threshold set in advance from the respective transformed images SI612 and SI622 generated by the Hough transform unit 162, as the amount of features.<br>
[0152]      The extraction unit 163c determines the threshold based on the size of the extracted region such that the size of the extracted region is within the set range.<br>
In detail, the extraction unit 163c determines the threshold such that the size of the extracted region is<br>
larger than the minimum value min based on the size of<br>
the extracted region, also determines the same such that<br>
the size of the extracted region is smaller than the maximum value max larger than the minimum value min.<br>
[0153]     For example, at step S1232, the extraction unit 163c judges whether or not the size of the region extracted as the amount of features is larger than the minimum value min, and reduces the threshold at a predetermined amount if it judges it is not larger<br>
(ST233), the routine retunes to step ST321.<br>
Otherwise, at step ST232, the extraction unit 163c judges that the size of the region extracted as the amount of features is larger than the minimum value min, the routine proceeds to step ST234.<br>
[0154]     At step ST234, the extraction unit 163c judges whether or not the size of the region extracted as the amount of the features is smaller than the maximum value max, and increases the threshold at the predetermined amount if it judges it is not smaller<br>
(ST233), the routine returns to step ST231.<br>
Otherwise, at step ST234, the extraction unit 163c judges that the size of the region extracted as the amount of the features is smaller than the maximum value max, the routine proceeds to step ST24. [0155]      The following steps of step S124 are the same<br>
70<br>
as the processing shown in FIG. 14 and explanations will be omitted.<br>
[0156]     As described above, the extraction unit 163c determines the threshold such that the size of the extracted region is within the set range based on the size of the extracted region, so data redundant to the matching processing can be reduced and data suitable for the matching processing can be extracted.<br>
The image appropriate for the matching processing can be obtained, so the matching unit 164 can perform the matching processing at a high accuracy.<br>
In the case where an imaging system increasingly changes and the amount of data of the input image sharply changes, the comparison and matching processing can be performed without any change.<br>
[0157]      FIG. 21 is a flow chart for explaining an operation of an image matching apparatus of a fifth embodiment according to the present invention.<br>
The image matching apparatus according to the present embodiment, in the functional block diagram illustrated in a hardware, has the approximately same configuration as the image matching apparatus according to the above embodiments, and, for example, has the image input unit 11, the memory 12, the FFT processing unit 13, the coordinate transform unit 14, the Hough transform<br>
unit 15, the CPU 16, and the operation processing unit 17 as shown in FIG. 1.<br>
[0158]     For example, in the case where the amount of features of the registered image and the image to be matched is remarkably few, the amount of the features insufficient to the comparison and matching processing may be obtained, so an insufficient judgment accuracy may be obtained.<br>
The image matching apparatus according to the present embodiment extracts the region where the degree of the overlap of the curved patterns in the transformed image is equal to or greater than the threshold set in advance, the image is deleted in the case where the size of the extracted region is smaller than the set value. [0159]     While referring to FIG. 21, mainly a different point from the above embodiments in the case where a certain image data is stored as the registered image for matching will be described, for example, in an application of a personal matching apparatus applied with a blood vessel pattern.<br>
[0160]     At step ST101, the CPU 16 causes the image input unit 11 to capture an image data to be stored as the registered image AIM, and stores the image data in the memory 12. The CPU 16 causes the Hough transform unit 15 to perform the Hough transform processing to the<br>
captured image data (S1102).<br>
[0161] At step ST103, the CPU 16 extracts a region exceeding the threshold set in advance as the amount of the features (ST103).<br>
At step ST104, the CPU 16 judges whether or not the size of the extracted region is larger than the minimum value min which is minimum necessary for the matching processing, decides that the amount of the information sufficiently to the registered image AIM is included if it is judged to be larger, and stores the image data in the memory 12 (S1105) .<br>
[0162]     Otherwise, at step ST104, if it is judged not to be larger than the minimum value min, the input image is deleted (ST106), and a re-input of the image data is requested, for example, by displaying a notice that the amount of the information as the registered image AIM is insufficiency (ST107). Then, the above described matching processing is performed.<br>
[0163]     In the present embodiment as described above, in registering an image, the region where the degree of the overlap of the curved patterns in the transformed image to be registered is equal to or greater than the threshold set in advance is extracted, then the image is deleted in the case where the size of the extracted region is less than the set value (the minimum value min),<br>
so the image to be registered having relatively large amount of the features concerning the matching apparatus can be obtained steadily. And the matching processing can be performed at a high accuracy.<br>
[0164]     FIG. 22 is a flow chart for explaining an operation of an image matching apparatus of a sixth embodiment according to the present embodiment.<br>
The case where the image to be matched RIM input from an external is matched with the registered image AIM stored in the memory 12 in advance/ will be described with reference to FIG. 22.<br>
[0165]     At step ST201, the CPU 16 causes the image input unit 11 to capture the image data as the image to be matched RIM, and stores the image data in the memory 12. The CPU 16 causes the Hough transform unit 15 to perform the Hough transform processing to the captured image to be matched (S1202).<br>
[0166]     At step S1203, the CPU 16 extracts the region exceeding the threshold set in advance as the amount of the features (ST203) .<br>
At step ST204; the CPU 16 judges whether or not the size of the extracted region is larger than the minimum value min which is minimum necessary for the matching processing, decides that the amount of the information is no sufficient to the image to be matched RIM if it is<br>
judged not to be larger, deletes the image (S120S), requests the re-input of the image data, for example, by displaying a notice that the amount of the information is not sufficient (ST206), and terminates the matching processing.<br>
[0167]     Otherwise, in the judgment at step ST204, if it is judged to be larger than the minimum value min, the CPU 16 judges that the amount of information is sufficient to the image to be matched RIM, the routine proceeds to the following matching processing of steps ST2 to ST27.<br>
[0168]     The following operations of steps ST2 to ST27 are the same as the operation shown in FIG. 14 and explanations will be omitted.<br>
[0169]    As described above, in the present embodiment, in matching images, the region where the degree of the overlap of the curved patterns in the transformed image to be matched is equal to or greater than the threshold set in advance, is extracted, and the image is deleted in the case where the size of the extracted region is less than the set value (the minimum value min), so the image to be matched including relatively large amount of the features applied to the matching apparatus can be obtained steadily. And the matching processing can be performed at a high accuracy.<br>
 [0170]     Note that, the present invention is not<br>
limited to the present embodiments and it can be modified<br>
in various ways.<br>
For example, in the present embodiment, though the similarity generation unit calculates the similarity by applying the formula (2), it is not limited thereto. For example, the similarity generation unit may perform a processing in which the similarity suitable to the correlation of the linear components (linear shaped patterns) is calculated.<br>
[0171]     In the present embodiment, though the Fourier transform processing, the logarithmic transform processing, and a logarithm-polar coordinates transform processing are performed and the amount of parallel movement on the Fourier and Mellin space is calculated to thereby generate the magnification information and the rotation angle information, it is not limited thereto. For example, the coordinates transform processing may be performed on a space detectable to the magnification information and the rotation angle information. [0172]     Though the first threshold thl and the second threshold th2 are fixed value, it is not limited thereto. For example, the respective thresholds are variable depending on an image pattern, so the matching processing can be performed at a higher accuracy.<br><br><br><br><br><br><br>
We claim:<br>
1.       An image matching method for performing a matching images to linear components in a first image and a second image, the method comprising:<br>
a first step of performing an image processing for performing points in each image of the first image and the second image to a curved pattern and the linear components in each image to a plurality of overlapped curved-patterns, based on a distance from a reference position to a shortest point in a straight line passing through a point in the image and an angle between a straight line passing though the reference position and the shortest point and a reference axis including the reference position, and generating a first transformed image and a second transformed image;<br>
a second step of performing a matching of the first image and the second image based on a degree of an overlap of the patterns in the first transformed image and the second transformed image generated in the first step and a matching or mismatching of the patterns in the first and second transformed images;<br>
the first step comprising a third step of extracting regions each of which indicates a degree of the overlap of the curved patterns in the transformed image equal to or greater than a threshold set in advance, from the first transformed image and the second transformed image; and<br>
wherein, in the second step, the matching of the first image and the second image are carried out based on the matching or mismatching of the patterns in the regions extracted from the first transformed image and the second transformed image respectively<br><br>
in the third step and the threshold is determined based on the size of the extracted image in the third step.<br>
2.	An image matching method as claimed in claim   1 wherein, in the third<br>
step, the threshold is determined based on a size of the extracted region<br>
such that the size of the extracted region is larger than the set value.<br>
3.	An image matching method as claimed in claim   1, wherein, in the third<br>
step, the threshold is determined based on the size of the extracted<br>
region such that the size of the extracted region is within the set value.<br>
4.	An image matching method as claimed in claim   1, wherein, in the third<br>
step, the image is deleted when the size of the extracted region is less<br>
than the set value.<br>
5.	An image matching method as claimed in claim 1, wherein, in the first<br>
step, a Hough transform processing is performed to the first image and<br>
the second image to generate the first transformed image and the second<br>
transformed image.<br>
6.	An image matching method as claimed in claim 1, wherein, in the second<br>
step, a comparison processing is performed to a plurality of different<br>
positional relationships in the first transformed image and the second<br>
transformed   image   generated   in   the   first   step,   a   similarity   as   a<br>
correlation value is generated  based  on  a result of the  comparison<br>
processing, and the matching of the first image and the second image are<br>
carried out based on the generated similarity.<br>
7.	An image matching method as claimed in claim 1, before the first step,<br>
further  comprising a tenth  step  of performing a position  correction<br>
processing to the first image and the second image,<br><br>
Wherein, in the first step, the image processing is performed to the first image and the second image which are results of the position correction processing in the tenth step to generate the first transformed image and the second transformed image.<br>
8.	An image matching method as claimed in claim 7, wherein, in the tenth<br>
step,   as   the   position   correction   processing,   a  correlation  value   is<br>
generated based on a phase component which is a result of a rotation<br>
angle correction processing or an enlargement ratio correction processing<br>
and the Fourier transform processing to the first image and the second<br>
image, and the position correction processing is performed to the first<br>
image and the second image based on the generated correlation value.<br>
9.	An image matching method as claimed in claim 7, wherein, in the tenth<br>
step, a plurality of the correlation value indicating a corrected position is<br>
generated by a correlation processing to the first image and the second<br>
image, and a plurality of the position correction processing is performed<br>
to  the   first  image   and   the   second   image   based   on   the  generated<br>
correlation value,<br>
in the first step, the image processing is performed to the results of the plurality of the position correction processing of the first image and the second image in the tenth step to generate the first transformed image and the second transformed image, and<br>
in the second step, the correlation value is generated based on the patterns in the first transformed image and the second transformed image generated in the first step, and the matching of the first image and the second image are carried out based on the generated correlation value and the threshold set in advance.<br><br>
10.	An image matching method as claimed in claim    9, wherein, in the<br>
second step, the matching of the first image and the second image are<br>
carried  out to  the  result  of the plurality of the  position  correction<br>
processing generated in the first step based on the total amount of the<br>
correlation value corresponding to different positions and the threshold<br>
set in advance.<br>
11.	An image matching method for performing a matching images to linear<br>
components in a first image and a second image, the method comprising:<br>
a first step of performing a Hough transform processing to the first image and the second image to generate a first transform image and a second transform image, and<br>
a second step of performing a matching of the first image and the second image based on a degree of an overlap of patterns in the first transformed image and the second transformed image generated in the first step and a matching or mismatching of the patterns in the same.<br>
12.	An   image   matching   apparatus   performing   a   matching   to   linear<br>
components   in   a   first   image   and   a   second   image,   the   apparatus<br>
comprising:<br>
a transform means for performing an image processing to the first image and the second image, the image processing by which points in each image are transformed to a curved pattern and linear components in each image are transformed to a plurality of overlapped curved-patterns based on a distance from a reference position to a shortest point in a straight line passing through a point in the image and an angle between a straight line passing though the reference position and the shortest point and a<br><br>
reference axis including the reference position, and generating a first transformed image and a second transformed image;<br>
a matching means for performing a matching of the first image and the second image based on a degree of an overlap of the patterns in the first transformed image and the second transformed image generated by the transform means and a matching or mismatching of the patterns in the first and second transformed images;<br>
a extraction means for extracting a region where the degree of the overlap of the curved patterns in the transformed image is equal to or greater than a threshold set in advance, from the first transformed image and the second transformed image; and<br>
wherein, the matching means performs the matching of the first image and the second image based on the matching or mismatching of the patterns in the regions extracted by the extraction means from the first transformed image and the second transformed image respectively and the extraction means determines the threshold based on the size of the extracted image.<br>
13.	An image matching apparatus as claimed in claim  12, wherein the<br>
extraction  means  determines  the  threshold  based  on  a  size  of the<br>
extracted region so as to be larger than the set value.<br>
14.	An image matching apparatus  as claimed in  claim   12,  wherein  the<br>
extraction means determines the threshold based on the size of the<br>
extracted region so as to be within the set value.<br>
15.	An  image  matching  apparatus  as  claimed  in  claim   12,  wherein  the<br>
extraction means deletes the image when the size of the extracted region<br>
is equal to or less than the set value.<br><br>
16.	An image matching apparatus as claimed in claim   12,  wherein the<br>
transform means performs a Hough transform processing to the first<br>
image and the second image to generate the first transformed image and<br>
the second transformed image.<br>
17.	An image matching apparatus as claimed in claim   12,  wherein the<br>
matching means performs a comparison processing to a plurality of<br>
different positional relationships in the first transformed image and the<br>
second transformed image generated by the transform means, generates<br>
a similarity as a correlation value based on a result of the comparison<br>
processing, and performs the matching of the first image and the second<br>
image based on the generated similarity.<br>
18.	An image matching apparatus as claimed in claim 12, further comprising<br>
a   position   correction   means   for   performing   a   position   correction<br>
processing to the first image and the second image, before an operation<br>
of the transform means,<br>
wherein the transform means performs the image processing to results of the position correction processing of the first image and the second image performed by the position correction means to generate the first transformed image and the second transformed image.<br>
19.	An image matching apparatus as claimed in claim  18,  wherein the<br>
position correction means generates a correlation value based on a phase<br>
component which is a result of a rotation angle correction processing or<br>
an enlargement ratio correction processing and the Fourier transform<br>
processing to the first image and the second image, and performs the<br>
position correction processing to the first image and the second image<br>
based on the generated correlation value.<br><br>
20.	An image matching apparatus as claimed in claim   18, wherein the<br>
position correction means generates a plurality of the correlation values<br>
each indicating a corrected position by a correlation processing based on<br>
the first image and the second image, and performs a plurality of the<br>
position correction processing to the first image and the second image<br>
based on the generated correlation value,<br>
the transform means performs the image processing to the results of the plurality of the position correction processing of the first image and the second image by the position correction means to generate the first transformed image and the second transformed image, and<br>
the matching means generates the correlation value based on the patterns in the first transformed image and the second transformed image generated by the transform means, and performs the matching of the first image and the second image based on the generated correlation value and the threshold set in advance.<br>
21.	An image matching apparatus as claimed in claim 20,  wherein  the<br>
matching means performs the matching of the first image and the second<br>
image to the result of the plurality of the position correction processing<br>
generated by the transform means based on the total amount of the<br>
correlation value corresponding to different positions and the threshold<br>
set in advance.<br>
22.	An   image   matching   apparatus   performing   a   matching   to   linear<br>
components   in   a   first   image   and   a   second   image,   the   apparatus<br>
comprising:<br>
a transform means for performing a Hough transform processing to the first image and the second image to generate a first transform image and a second transform image, and<br><br>
a matching means for performing a matching of the first image and the second image based on a degree of an overlap of patterns in the first transformed image and the second transformed image generated by the transform means and a matching or mismatching of the patterns in the first and second transformed images.<br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDU5LURFTC0yMDA2LUNvcnJlc3BvbmRlbmNlLU90aGVycy0oMjctMDgtMjAwOSkucGRm" target="_blank" style="word-wrap:break-word;">459-DEL-2006-Correspondence-Others-(27-08-2009).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDU5LURFTC0yMDA2LUZvcm0tMy0oMjctMDgtMjAwOSkucGRm" target="_blank" style="word-wrap:break-word;">459-DEL-2006-Form-3-(27-08-2009).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDU5LURFTE5QLTIwMDYtQWJzdHJhY3QtKDE5LTExLTIwMDgpLnBkZg==" target="_blank" style="word-wrap:break-word;">459-DELNP-2006-Abstract-(19-11-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDU5LWRlbG5wLTIwMDYtYWJzdHJhY3QucGRm" target="_blank" style="word-wrap:break-word;">459-delnp-2006-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDU5LURFTE5QLTIwMDYtQ2xhaW1zLSgxOS0xMS0yMDA4KS5wZGY=" target="_blank" style="word-wrap:break-word;">459-DELNP-2006-Claims-(19-11-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDU5LWRlbG5wLTIwMDYtY2xhaW1zLnBkZg==" target="_blank" style="word-wrap:break-word;">459-delnp-2006-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDU5LURFTE5QLTIwMDYtQ29ycmVzcG9uZGVuY2UtT3RoZXJzLSgxOS0xMS0yMDA4KS5wZGY=" target="_blank" style="word-wrap:break-word;">459-DELNP-2006-Correspondence-Others-(19-11-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDU5LURFTE5QLTIwMDYtQ29ycmVzcG9uZGVuY2UtT3RoZXJzLSgyNC0wNy0yMDA5KS5wZGY=" target="_blank" style="word-wrap:break-word;">459-DELNP-2006-Correspondence-Others-(24-07-2009).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDU5LURFTE5QLTIwMDYtQ29ycmVzcG9uZGVuY2UtT3RoZXJzLnBkZg==" target="_blank" style="word-wrap:break-word;">459-DELNP-2006-Correspondence-Others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDU5LURFTE5QLTIwMDYtRGVzY3JpcHRpb24gKENvbXBsZXRlKS0oMTktMTEtMjAwOCkucGRm" target="_blank" style="word-wrap:break-word;">459-DELNP-2006-Description (Complete)-(19-11-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDU5LWRlbG5wLTIwMDYtZGVzY3JpcHRpb24gKGNvbXBsZXRlKS5wZGY=" target="_blank" style="word-wrap:break-word;">459-delnp-2006-description (complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDU5LURFTE5QLTIwMDYtRHJhd2luZ3MtKDE5LTExLTIwMDgpLnBkZg==" target="_blank" style="word-wrap:break-word;">459-DELNP-2006-Drawings-(19-11-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDU5LWRlbG5wLTIwMDYtZHJhd2luZ3MucGRm" target="_blank" style="word-wrap:break-word;">459-delnp-2006-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDU5LURFTE5QLTIwMDYtRm9ybS0xLSgxOS0xMS0yMDA4KS5wZGY=" target="_blank" style="word-wrap:break-word;">459-DELNP-2006-Form-1-(19-11-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDU5LWRlbG5wLTIwMDYtZm9ybS0xLnBkZg==" target="_blank" style="word-wrap:break-word;">459-delnp-2006-form-1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDU5LWRlbG5wLTIwMDYtZm9ybS0xOC5wZGY=" target="_blank" style="word-wrap:break-word;">459-delnp-2006-form-18.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDU5LURFTE5QLTIwMDYtRm9ybS0yLSgxOS0xMS0yMDA4KS5wZGY=" target="_blank" style="word-wrap:break-word;">459-DELNP-2006-Form-2-(19-11-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDU5LWRlbG5wLTIwMDYtZm9ybS0yLnBkZg==" target="_blank" style="word-wrap:break-word;">459-delnp-2006-form-2.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDU5LURFTE5QLTIwMDYtRm9ybS0zLSgyNC0wNy0yMDA5KS5wZGY=" target="_blank" style="word-wrap:break-word;">459-DELNP-2006-Form-3-(24-07-2009).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDU5LWRlbG5wLTIwMDYtZm9ybS0zLnBkZg==" target="_blank" style="word-wrap:break-word;">459-delnp-2006-form-3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDU5LWRlbG5wLTIwMDYtZm9ybS01LnBkZg==" target="_blank" style="word-wrap:break-word;">459-delnp-2006-form-5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDU5LURFTE5QLTIwMDYtR1BBLSgxOS0xMS0yMDA4KS5wZGY=" target="_blank" style="word-wrap:break-word;">459-DELNP-2006-GPA-(19-11-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDU5LWRlbG5wLTIwMDYtZ3BhLnBkZg==" target="_blank" style="word-wrap:break-word;">459-delnp-2006-gpa.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDU5LWRlbG5wLTIwMDYtcGN0LTIxMC5wZGY=" target="_blank" style="word-wrap:break-word;">459-delnp-2006-pct-210.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDU5LWRlbG5wLTIwMDYtcGN0LTMwMS5wZGY=" target="_blank" style="word-wrap:break-word;">459-delnp-2006-pct-301.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDU5LWRlbG5wLTIwMDYtcGN0LTMwNC5wZGY=" target="_blank" style="word-wrap:break-word;">459-delnp-2006-pct-304.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDU5LURFTE5QLTIwMDYtUGV0aXRpb24tMTM3LSgyNC0wNy0yMDA5KS5wZGY=" target="_blank" style="word-wrap:break-word;">459-DELNP-2006-Petition-137-(24-07-2009).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDU5LURFTE5QLTIwMDYtUGV0aXRpb24tMTM4LSgyNC0wNy0yMDA5KS5wZGY=" target="_blank" style="word-wrap:break-word;">459-DELNP-2006-Petition-138-(24-07-2009).pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="259880-inhibition-reduction-in-discoloration-of-diorganopolysiloxane-compositions.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="259882-a-communication-system-a-server-a-communication-terminal-and-methods-for-operation-of-the-system-server-and-the-terminal.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>259881</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>459/DELNP/2006</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>14/2014</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>04-Apr-2014</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>28-Mar-2014</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>27-Jan-2006</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>SONY CORPORATION</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>7-35, KITASHINAGAWA 6-CHOME, SHINAGAWA-KU, TOKYO, JAPAN</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>KEN IIZUKA</td>
											<td>C/O SONY CORPORATION, 7-35, KITASHINAGAWA 6-CHOME, SHINAGAWA-KU, TOKYO, JAPAN.</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>G06T 7/60</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/JP2005/010926</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2005-06-15</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>P2004-180832</td>
									<td>2004-06-18</td>
								    <td>Japan</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/259881-an-image-matching-method-for-performing-a-matching-images-to-linear-components-in-a-first-image-and-a-second-image-and-apparatus-thereof by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2024 23:52:08 GMT -->
</html>
