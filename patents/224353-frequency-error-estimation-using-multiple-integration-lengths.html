<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/224353-frequency-error-estimation-using-multiple-integration-lengths by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 02:40:30 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 224353:FREQUENCY ERROR ESTIMATION USING MULTIPLE INTEGRATION LENGTHS</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">FREQUENCY ERROR ESTIMATION USING MULTIPLE INTEGRATION LENGTHS</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A wireless communication device (WCD) estimates frequency error by averaging frequency error estimates over multiple integration lengths to generate short-term and long-term averages. The WCD compares the short-term and long-term averages with short-term and long-term thresholds. The long-term thresholds are lower than the short-term threshold. If the average for any integration length exceeds its respective threshold, a frequency offset is determined and an oscillator frequency is adjusted based on that frequency offset. The use of both short-term and long-term thresholds facilitates responding quickly to relatively large changes in the frequency error, while ignoring smaller changes that may be indicative of noise in the system rather than actual changes in the frequency error.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>FORM2<br>
THE PATENTS ACT, 1970<br>
(39 of 1970)<br>
&amp;<br>
THE PATENTS RULES, 2003<br>
COMPLETE SPECIFICATION<br>
(Se section 10, rule 13)<br>
'FREQUENCY ERROR ESTIMATION USING MULTIPLE INTEGRATION<br>
LENGTHS"<br><br>
We, QUALCOMM INCORPORATED, of 5775 Morehouse Drive, San Diego, California 92121-1714, United States of America;<br>
The following specification particularly describes and ascertains the invention and the manner in which it is to be performed.<br><br>
-SL-<br><br>
WO 2005/036845<br><br>
PCT/US2004/033114<br><br>
FREQUENCY ERROR ESTIMATION USING MULTIPLE INTEGRATION<br>
LENGTHS<br>
TECHNICAL FIELD<br>
[0001]	The present disclosure relates generally to wireless communications.<br>
More particularly, the present disclosure relates automatic frequency control (AFC) for use in wireless communication devices.<br>
BACKGROUND<br>
[0002]	In    wireless    communication    systems,    a    plurality    of   wireless<br>
communication devices (WCDs) communicate with one or more base stations within areas known as cells. A wireless communication system can include a variety of types of WCDs, including, for example, wireless telephones and devices having wireless communication capabilities, such as personal digital assistants (PDAs) and modems for use with laptop computers. Wireless communication functions can also be incorporated into other types of devices, such as automobiles. With wireless capabilities incorporated into an automobile design, a driver can obtain real-time, location-based traffic, weather, and navigation information, as well as roadside assistance and vehicle condition alerts.<br>
[0003]	Within each cell, several WCDs may communicate with a base station<br>
simultaneously using a single frequency band. Sharing of the frequency band can be accomplished using any of a variety of multiple access techniques. One technology that has enjoyed rapid growth is code division multiple access (CDMA). In CDMA systems, speech or data is converted to a digital form, which is then transmitted as a radio signal. Each call is distinguished by a unique code. In particular, each WCD uses a unique spreading code to modulate the signals it transmits and to demodulate the signals it receives. This code is added to the information data, e.g., the voice data, and modulated onto the carrier. An identical code is used in the receiver that is used to correlate the code with the carrier. The correlation process passes only data that matches the code. Thus, non-vaHd signals, e.g., signals from other users, are not decoded and appear as noise. As a result, minimal interference between WCDs is achieved. Accordingly, several WCDs can share a single frequency band. Further information regarding CDMA systems is set forth in the well-known IS-95 standard.<br><br>
WO 2005/036845	PC 17US2004/033114<br>
[0004]	Some other wireless communication systems use other multiple access<br>
technologies, including, for example, frequency division multiple access (FDMA),<br>
amplitude companded single sideband (ACSSB) and other amplitude modulation (AM)<br>
schemes.   Another technology that has come into widespread use is time division<br>
multiple access (TDMA), in which WCDs communicate during allocated time slots.<br>
[0005]	One multiple access technology related to TDMA is known as Global<br>
System for Mobile (GSM), which uses TDMA in combination with encryption techniques. GSM communications are structured using a number of channels, including, for example, a traffic channel (TCH) for transferring information. In addition, the GSM standard uses a common control channel (CCCH) for transferring control information, such as WCD registration, paging, and call origination and terrnination. The CCCH itself includes several channels associated with specific types of control information. These channels include the random access control channel (RACH), the paging and access grant channel (PAGCH), the broadcast control channel (BCCH), the synchronization channel (SCH), and the frequency correction channel (FCCH). The FCCH and SCH, for example, are used in mamtaining synchronization between WCDs and respective base stations.<br>
[0006]	GSM channels are communicated using any of a number of frequencies<br>
within an allocated band of frequencies, for example, 880-960 MHz. In addition, DCS<br>
channels can be communicated using a different band of frequencies, including, but not<br>
limited to, the 1710-1880 MHz band. The WCD generates these frequencies using a<br>
clock arrangement. The clock arrangement may incorporate an oscillator, such as a<br>
voltage-controlled crystal oscillator (VCXO) or a voltage-controlled, temperature-<br>
compensated crystal oscillator (VCTCXO). In some implementations, the oscillator is<br>
controlled by a pulse density modulator (PDM). Among other operational aspects, the<br>
PDM controls the frequency generated by the oscillator. In order for the WCD to<br>
communicate with its associated base station, it is desirable that the oscillator generate a<br>
frequency that matches the frequency on which the base station is communicating.<br>
[0007]	To ensure that the WCD and base station frequencies match, the clock<br>
arrangement in the WCD may use automatic frequency control (AFC) techniques to track the frequency used by the base station and match that frequency. AFC techniques generally involve estimating a frequency error between the WCD and base station frequencies, i.e., the difference between the WCD frequency and the base station<br><br>
WO 2005/036845<br><br>
H<br><br>
PC17US2004/033114<br><br>
frequency. The estimated frequency error is used to determine a frequency offset to be applied to the oscillator to compensate for the estimated frequency error. The PDM then applies the frequency offset to the oscillator, for example, by applying an input voltage to the oscillator, which alters the oscillator frequency in response to the applied voltage.<br>
[0008]	The WCD can implement AFC using any of a number of techniques.<br>
One conventional AFC technique involves the use of an infinite impulse response (ER)<br>
filter to estimate the frequency error. The KR compares a long-term frequency error<br>
estimate with an instantaneous frequency error estimate for an individual sample to<br>
determine the difference between the long-term and instantaneous frequency error<br>
estimates. The HR. adjusts the long-term frequency error estimate as a function of this<br>
difference, typically by multiplying the difference by a scale factor and using the<br>
resulting product to adjust the long-term frequency error estimate. Using a large scale<br>
factor enables the IIR to respond relatively quickly to changes in the frequency error,<br>
but also renders the WCD susceptible to noise, e.g., variations in the instantaneous<br>
frequency error estimate from one sample to the next. Such variations may or may not<br>
be caused by a change in the actual frequency error. Alternatively, the IIR can use a<br>
small scale factor to reduce susceptibility to noise. Using a small scale factor, however,<br>
increases the response time of the HR to changes in the actual frequency error.<br>
[0009]	Another conventional AFC technique involves averaging frequency error<br>
estimates over a predetermined number of samples, or integration length, to determine an average frequency error estimate. If the mtegration length is small, the WCD can respond quickly to changes in the frequency error. With a small integration length, however, the AFC technique is susceptible to noise. Using a large integration length reduces the susceptibility of the AFC technique to noise. As a result, the steady state response to a change in the frequency error is more stable relative to smaller integration lengths. However, the WCD responds to changes in the frequency error more slowly relative to smaller integration lengths.<br>
SUMMARY<br>
[0010]	According to various embodiments, a wireless communication device<br>
(WCD) estimates frequency error by deterrnining an average frequency error estimate over multiple integration lengths. Averages of frequency error estimates are calculated<br><br>
WO 2005/036845	^	PCT/US2004/033114<br>
over at least two integration lengths. These averages are compared with multiple thresholds. If the average for any integration length exceeds its respective threshold, a frequency offset is determined.<br>
[0011]	One embodiment is directed to a method to determine a frequency offset<br>
to be applied in a wireless communication device. Short-term and long-term average<br>
values are determined by averaging first and second sets, respectively, of frequency<br>
error estimates, the second set comprising a superset of the first set of frequency error<br>
estimates. The frequency offset is determined as a function of the short-term average<br>
value when the short-term average value exceeds a short-term threshold value and is<br>
determined as a function of the long-term average value when the long-term average<br>
value exceeds a long-term threshold value lower than the short-term threshold value.<br>
[0012]	In another embodiment, an oscillator is configured for use in connection<br>
with a wireless communication device by reading a frequency offset value from a memory associated with the oscillator. Short-term and long-term average values are determined by averaging first and second sets, respectively, of frequency error estimates, the second set comprising a superset of the first set of frequency error estimates. An oscillator frequency is adjusted as a function of the short-term average value when the short-term average value exceeds a short-term threshold value and is adjusted as a function of the long-term average value when the long-term average value exceeds a long-term threshold value lower than the short-term threshold value. Either of these methods can be implemented using processor-executable instructions contained in a processor-readable medium.<br>
[0013]	In still another embodiment, an integrated circuit (IC) includes an<br>
oscillator and a processor arrangement operatively coupled to the oscillator. The processor arrangement is configured to average a first set of frequency error estimates to determine a short-term average value and a second set of frequency .error estimates to detennine a long-term average value. The second set is a superset of the first set of frequency error estimates. The processor arrangement adjusts a frequency of the oscillator as a function of the short-term average value when the short-term average value exceeds a short-term threshold value. The processor arrangement adjusts the frequency of the oscillator as a function of the long-term average value when the long-term average value exceeds a long-term threshold value, which is lower than the short-term threshold value.<br><br>
WO 21*05/036845<br><br><br><br>
PCT/US2004/033I14<br><br>
[0014]	In yet another embodiment, a wireless communication device (WCD)<br>
includes an antenna arranged to receive an RF signal. A receive arrangement is operatively coupled to the antenna and generates a plurality of samples as a function of the RF signal. An oscillator is operatively coupled to the receive arrangement and configured to generate a frequency. A processor arrangement is coupled to receive the plurality of samples from the receive arrangement. The processor arrangement is configured to calculate a plurality of frequency error estimates as a function of the samples. The processor arrangement averages a first subset of the frequency error estimates to determine a short-term average value and a second subset of the frequency error estimates to determine a long-term average value. The second subset is a superset of the first subset of frequency error estimates. The processor arrangement adjusts the frequency generated by the oscillator as a function of the short-term average value when the short-term average value exceeds a short-term threshold value. The processor arrangement adjusts the frequency generated by the oscillator as a function of the long-term average value when the long-term average value exceeds a long-term threshold value lower than the short-term threshold value.<br>
BRIEF DESCRIPTION OF THE DRAWINGS<br>
[0015]	The present invention will now be described, by way of example, with<br>
reference to the accompanying drawings, in which:<br>
[0016]	FIG.   1   is   a   system   diagram   illustrating   an   example  wireless<br>
communication system according to an embodiment;<br>
[0017]	FIG.   2   is   a   block   diagram   illustrating   an   example   wireless<br>
communication device according to another embodiment;<br>
[0018]	FIG. 3 is a flow diagram illustrating an example automatic frequency<br>
control (AFC) technique;<br>
[0019]	FIGS. 4-6 are graphs depicting simulated performance comparisons<br>
between the AFC technique of FIG. 3 and conventional AFC techniques using an infinite impulse response (IIR) filter.<br>
[0020]	FIG. 7 is a graph depicting a simulated performance comparison between<br>
the AFC technique of FIG. 3 and a conventional AFC technique using a quantized IIR filter.<br><br>
WO 2005/036845		PO7US2004/033114<br><br>
[0021]	FIGS. 8-10 are graphs depicting simulated performance comparisons<br>
between the AFC technique of FIG. 3 and conventional AFC techniques using a single integration length.<br>
DESCRIPTION<br>
[0022]	According to various embodiments, a wireless communication device<br>
(WCD) estimates frequency error by averaging frequency error estimates over multiple integration lengths to generate multiple average values, such as a short-term average value and a long-term average value. The WCD compares the short-term and long-term average values with short-term and long-term thresholds. The long-term threshold is lower than the short-term threshold because smaller changes m the frequency error are significant when they appear over a larger set of samples. In some embodiments, the WCD may use a greater number of average values, each associated with a corresponding threshold. If the average for any integration length exceeds its respective threshold, a frequency offset is determined and an oscillator frequency is adjusted based on that frequency offset. In some embodiments, any change in the frequency error may be significant if it appears over a still larger set of samples, and the WCD adjusts the oscillator frequency by a frequency offset determined relative to this still larger set of samples.<br>
[0023]	Calculating short-term average values and comparing them with a short-<br>
term threshold allows the WCD to respond quickly to relatively large changes in the frequency error, while ignoring smaller changes that may be indicative of noise in the system rather than actual changes in the frequency error. In addition, calculating long-term average values and comparing them with a long-term threshold lower than the short-term threshold facilitates responding to smaller changes in the frequency error. Requiring smaller changes to persist over a larger set of samples provides some protection against noise in the system,  i.e., variations in the instantaneous frequency error estimate between successive samples that may not be representative of actual changes in the frequency error.<br>
[0024]	FIG.   1   is   a   system   diagram   illustrating   an   example  wireless<br>
communication system 100 according to an embodiment, hi particular, the wireless communication system 100 is depicted as a wireless telephone network. However, it will be appreciated by those skilled in the art that the principles disclosed herein are<br><br>
WO 2W5/03WM5<br><br><br><br>
PCT/US2WW/033114<br><br>
equally applicable to wireless communication systems in which one or more devices<br>
within the system use automatic frequency control (AFC) to track a frequency of<br>
another component of the system, such as a base station. The wireless telephone<br>
network shown in FIG. 1 may be configured for use in GSM communications, for<br>
example, in the frequency band of 880-960 MHz. In addition, the wireless telephone<br>
network may be configured for use in DCS communications in the frequency band of<br>
1710-1880 MHz or other frequency bands. The wireless communication system 100<br>
may also be configured for use in GPRS communications and/or CDMA<br>
communications according to any of a number of standards, including, for example, the<br>
IS-95 standard, the CDMA2000 standard, and the WCDMA standard.<br>
[0025]	During operation, wireless communication devices (WCDs) 102A-D<br>
conduct wireless communication by establishing one or more RF interfaces with one or more base stations 104A-D using modulated RF signals. WCDs 102A-D are depicted in FIG. 1 as wireless telephones communicating using the GSM standard. Those skilled in the art will understand that any or all of WCDs 102A-D may be implemented as wireless telephones that use other protocols, such as CDMA protocols. Further, any or all of WCDs 102A-D may be implemented as other types of WCDs, including, for example, personal digital assistants (PDAs) with wireless capabilities and wireless modems for use with laptop computers. Wireless communication functions can also be incorporated into other types of devices, such as automobiles.<br>
[0026]	Each RF interface between a base station 104 and a WCD 102 includes a<br>
forward link 106, or downlink, from the base station 104 to the WCD 102 and a reverse<br>
link 108, or uplink, from the WCD 102 to the base station 104. Using these RF<br>
interfaces, a call with another user may be conducted via a mobile telephone switching<br>
office (MTSO) 110 and a public switch telephone network (PSTN) 112. The links<br>
between the base stations 104, the MTSO 110, and the PSTN 112 may be formed via<br>
either wired connections or wireless connections, such as microwave links.<br>
[0027]	As described above, each WCD 102 receives an RF signal from one or<br>
more base stations 104 via a forward link 106. This RF signal is relatively low in power. Accordingly, an LNA forming part of the WCD 102 amplifies the received RF signal so that the WCD 102 can downconvert the received RF signal to baseband signals, e.g., in-phase (I) and quadrature (Q) baseband signals.  The baseband signals<br><br>
/	PCT7US2004/033114<br>
WO 2005/036845<br>
are then demodulated by a modem to extract the voice or data signal carried by the RF signal.<br>
[0028]	Each base station 104 typically broadcasts a signal to its associated<br>
WCDs 102 on the frequency correction channel (FCCH). The WCD 102 uses the FCCH to tune to an appropriate frequency for communicating with the base station 104. More particularly, a receive subsystem in the WCD 102 configures a frequency tuner to tune an oscillator, such as a voltage-controlled crystal oscillator (VCXO) or a voltage-controlled, temperature-compensated crystal oscillator (VCTCXO) according to coarse frequency estimation based on the FCCH.<br>
[0029]	Upon activation of the WCD 102, the initial frequency of the oscillator<br>
may exhibit error, e.g., discrepancy with respect to the base station frequency as<br>
reflected by the pilot signal. This frequency error can be attributable to any of a variety<br>
of causes, including, for example, frequency drift caused by temperature, aging, and<br>
other factors. Accordingly, to maintain reliable communication with the base station<br>
104, the WCD 102 uses an automatic frequency control (AFC) technique to adjust the<br>
frequency of the oscillator to match substantially the frequency of the base station 104.<br>
[0030]	In various implementations, the AFC technique involves obtaining<br>
instantaneous estimates of the frequency error between the oscillator in the WCD 102 and the base station over several samples. These instantaneous estimates may be obtained using any of a variety of techniques that are well known to those of ordinary skill in the art. The instantaneous frequency error estimates are averaged over multiple integration lengths to obtain short-term and long-term average values of the estimated frequency error. The WCD 102 compares the short-term and long-term average values with short-term and long-term thresholds. The long-term threshold is lower than the short-term threshold because smaller changes in the frequency error are significant when they appear over a larger set of samples. If the average for any integration length exceeds its respective threshold, a frequency offset is determined and an oscillator frequency is adjusted based on that frequency offset In addition, any change in the frequency error estimate may be significant if it appears over a still larger set of samples, and the WCD 102 may adjust the oscillator frequency by a frequency offset determined relative to this still larger set of samples.<br>
[0031]	By calculating both short-term and long-term average values and<br>
comparing them with short-term and long-term thresholds, the WCD 102 can respond<br><br><br>
WO 2M5/036845<br><br>
PCT/US200-I/033114<br>
quickly to relatively large changes in the frequency error. The WCD 102 can also disregard smaller changes that may be attributable to noise in the system rather than actual changes in the frequency error. Calculating long-term average values and comparing them with a long-term threshold lower than the short-term threshold facilitates responding to smaller changes in the frequency error. Requiring smaller changes to persist over a larger set of samples provides some protection against noise in the system, i.e., variations in the instantaneous frequency error estimate between successive samples that may not be representative of actual changes in the frequency error.<br>
[0032]	FIG.   2   is   a   block   diagram   illustrating   an   example   wireless<br>
communication device (WCD) 102. While the WCD 102 is described as a wireless<br>
telephone communicating using the GSM protocol, it will be understood by those<br>
skilled in the art that the WCD 102 can be configured to communicate using any of a<br>
variety of wireless communication protocols, including, but not limited to, IS-95,<br>
CDMA2000, and WCDMA. It will be understood that one or more of the components<br>
depicted in FIG. 2 may be implemented as microprocessor-based circuits or formed as<br>
integrated circuits (ICs), such as application-specific integrated circuits (ASICs).<br>
[0033]	The WCD 102 transmits and receives signals via an antenna 104<br>
operatively coupled to a duplexer 106. The duplexer 106 is operatively coupled to an input of a receive chain 1 OS and to an output of a transmit chain 110. Forming part of a receive signal path, the receive chain 108 may include a surface acoustic wave (SAW) filter and a low noise amplifier (LNA). Because the RF signal received by the duplexer 106 is of relatively low power compared to the baseband signals, the LNA amplifies the RF signal. A receive processor 112 then performs RF-to-baseband signal processing to produce baseband quadrature signals to be demodulated by the modem 114. m particular, the receive processor 112 downconverts the RF signal to in-phase (T) and quadrature (Q) baseband signals. The receive processor 112 may first downconvert the RF signal to an intermediate frequency (IF) before downconverting the RF signal to the baseband frequency. Alternatively, the receive processor 112 may downconvert the RF signal directly to the baseband frequency without first downconverting the RF signal to the intermediate frequency. In either case, the receive processor 112 provides the baseband signals to a modem 114, which demodulates the baseband signals to produce<br><br>
PCT/US20O4/033114<br>
WO 2005/036845<br>
A<br>
an output signal that is decoded by a decoder (not shown) and provided to an output<br>
device, e.g., a speaker or a display screen, conceptually represented by an output 116.<br>
[0034]	In a transmit signal path, a user of the WCD 102 provides input to the<br>
WCD 102 via an input device, such as a microphone or a keypad, conceptually represented by an input 118. An encoder (not shown) encodes the input and provides an encoded signal to the modem 114. The modem 114 uses quadrature phase shift keying (QPSK) to modulate the user input, for example, according to the GSM wireless communication protocol. In alternative embodiments, the modem 114 may modulate the user input according to a different wireless communication protocol, such as a CDMA protocol. As a result of the modulation process, the modem 114 generates in-phase (T) and quadrature (Q) baseband signals. A transmit processor 120 performs baseband-to-RF signal processing to produce an RF signal to be transmitted by the WCD 102. In particular, the transmit processor 120 upconverts the baseband quadrature signals to an RF signal in, for example, the GSM frequency band and amplifies the baseband quadrature signals to provide signal drive capability to the transmit chain 110. Additionally, the transmit processor 120 may upconvert the baseband quadrature signals to the DCS frequency band or any other band supporting GSM communications. The transmit processor 120 may first upconvert the baseband quadrature signals to an intermediate frequency (IF) before upconverting the signals to the RF frequency band. Alternatively, the transmit processor 120 may upconvert the baseband quadrature signals directly to the RF frequency band without first upconverting the baseband quadrature signals to the intermediate frequency. In either case, the transmit processor 120 provides die upconverted signals to the transmit chain 110. The transmit chain 110 incorporates a power amplifier to amplify the RF signal and may further incorporate one or more filtering elements. The transmit chain 110 provides the amplified signal to the duplexer 106. The duplexer 106 then provides the RF signal to the antenna 104, which transmits the RF signal.<br>
[0035]	A local oscillator generator 122 is coupled to the receive processor 112<br>
and to the transmit processor 120. The local oscillator generator 122 is also coupled to an oscillator 124. The oscillator 124 can be implemented, for example, as a voltage-controlled crystal oscillator (VCXO) or a voltage-controlled, temperature-compensated crystal oscillator (VCTCXO). The local oscillator generator 122 and the oscillator 124 collectively facilitate accurate demodulation of received RF signals and modulation of<br><br><br>
WO 2IW5/M6845<br>
PCT/US2004/0331I4<br>
RF signals to be transmitted. Typically, a base station broadcasts a signal on the frequency correction channel (FCCH) that is detectable by the receive chain 108. The receive processor 112 uses the FCCH in coarse frequency estimation to facilitate tuning of the oscillator 124 to an appropriate frequency via a frequency tuner 126. Similarly, the local oscillator generator 122 and the oscillator 124 collectively facilitate baseband-to-RF conversion by the transmit processor 120 via a reference frequency output from the local oscillator generator 122 and one or more frequency upconverters and mixers (not shown).<br>
[0036]	When the user activates the WCD 102, the initial frequency of the<br>
oscillator 124 may vary from the base station frequency. The amount by which the<br>
frequency of the oscillator 124 differs from that of the base station is known as the<br>
frequency error. This frequency error can be attributable to any of a variety of causes,<br>
including, for example, frequency drift caused by temperature, aging, and other factors.<br>
Accordingly, to maintain reliable communication with the base station, the frequency<br>
tuner 126 uses an automatic frequency control (AFC) technique to adjust the frequency<br>
of the oscillator to match substantially the frequency of the base station.<br>
[0037]	Frequency error is difficult to measure in real time due at least in part to<br>
potentially large variations in the frequency error estimate between even consecutive samples. Accordingly, the frequency tuner 126 estimates the frequency error and applies a frequency offset based on the estimated frequency error to the oscillator 124. As described more fully below in connection with FIG. 3, the frequency tuner estimates the frequency error as a function of averages of individual estimates of the frequency error over several samples. These individual estimates may be obtained using any of a variety of techniques that are well known to those of ordinary skill in the art, including, for example, estimating the frequency error as a function of a frequency error measurement for a previous sample.<br>
[0038]	When the WCD 102 is initially powered up, the frequency tuner 126<br>
reads an initial frequency setting for the oscillator 124 from a memory 128. The memory 128 may be implemented, for example, as a nonvolatile memory. The frequency tuner 126 obtains individual frequency error estimates and averages them over multiple integration lengths to obtain short-term and long-term average values of the estimated frequency error. The frequency tuner 126 compares the short-term and long-term average values with short-term and long-term thresholds.   The long-term<br><br>
13<br>
WO 2005/036845	PCT/U S2004/033114<br>
threshold is lower than the short-term threshold because smaller changes in the frequency error are significant when they appear over a larger set of samples. If the average for any integration length exceeds its respective threshold, the frequency tuner 126 determines a frequency offset and adjusts an oscillator frequency based on that frequency offset. In addition, any change in the frequency error estimate may be significant if it appears over a still larger set of samples, and the frequency tuner 126 may adjust the oscillator frequency by a frequency offset determined relative to this still larger set of samples. During this process, the frequency tuner 126 may store the average estimated frequency error in a memory 130, such as a pulse density modulator (PDM) register. In some embodiments, the memory 130 and the memory 128 may be implemented using a single memory device.<br>
[0039]	By calculating both short-term and long-term average values and<br>
comparing them with short-term and long-term thresholds, the frequency tuner can respond quickly to relatively large changes in the frequency error. The frequency tuner 126 can also disregard smaller changes that may be attributable to noise in the system rather than actual changes in the frequency error. Calculating long-term average values and comparing them with a long-term threshold lower than the short-term threshold facilitates responding to smaller changes in the frequency error. Requiring smaller changes to persist over a larger set of samples provides some protection against noise in the system.<br>
[0040]	FIG. 3 is a flow diagram illustrating an example automatic frequency<br>
control (AFC) technique as implemented by the frequency tuner 126. This technique may be implemented via processor-executable instructions contained in a processor-readable medium, such as a memory device. When the WCD 102 is initially powered up, the frequency tuner 126 reads initial settings (150) for the oscillator 124 from the memory 128. These initial settings may include, for example, an initial frequency setting and a slope of the oscillator 124 in ppm/lsb, which can be factory-programmed. The initial frequency setting can also be factory-programmed, but is preferably periodically updated during operation. The frequency tuner 126 writes the initial frequency setting (152) to the memory 130 and converts the slope as expressed in ppm/lsb to an lsb/Hz value (154). This conversion can be calculated for the middle of the GSM band and the middle of the DCS band rather than for each absolute radio frequency channel number (ARFCN).<br><br><br>
WO 2005/036845<br>
PCT/liS2WM/0331l-l<br>
[0041 ]	Throughout the AFC technique implemented by the frequency tuner 126,<br>
the frequency tuner 126 generates estimates of the frequency error and updates the memory 130. The AFC technique can be applied in any of a variety of modes, including, for example, detecting a frequency control channel (FCCH) and a synchronization channel (SCH), detecting a standalone dedicated control channel (SDCCH) or other control channel, and detecting a traffic channel (TCH). In all modes other man FCCH/SCH detection, the basic structure of the AFC technique is the same. More particularly, the frequency tuner 126 accumulates the estimate of the frequency error for a number of samples, periodically computes the average frequency error for those samples, determines a frequency offset based on the average frequency error, and applies any updates as necessary. If the frequency error is large, it is desirable to update the value stored in the memory 130 quickly. If the frequency error is small, on the other hand, longer averaging intervals or integration lengths are preferable to achieve accuracy.<br>
[0042]	After the initial frequency settings are read from the memory 128 and<br>
stored in the memory 130, the frequency tuner 126 receives a sample (156) from the receive processor 112 and calculates a signal-to-noise ratio (SNR) for the sample (158). If the SNR is below a minimum SNR threshold, the sample is ignored and the frequency tuner 126 receives another sample (156) from the receive processor 112. Alternatively, in some situations, the frequency tuner 126 may use all samples regardless of the SNR for synchronization purposes.<br>
[0043]	After the frequency tuner 126 has received a sample with an adequate<br>
SNR, the frequency tuner 126 estimates the frequency error for that sample and accumulates the estimated frequency error (160). Unless operating in the FCCH/SCH detection mode, the frequency tuner 126 preferably quantizes the frequency error estimates such that the frequency tuner 126 reports a value selected from a set of discrete values, for example, -200 Hz, -100 Hz, 0 Hz, 100 Hz, or 200 Hz. The frequency tuner 126 continues to receive and accumulate estimated frequency error values for a number of values specified by an integration length N, for example, four samples.<br>
[0044]	When the frequency tuner 126 has accumulated estimated frequency<br>
error values for N samples, the frequency tuner 126 calculates short-term and long-term averages of the estimated frequency error values (162). The short-term average is the<br><br><br>
WO 2005/036845	PCT/US2004/033114<br>
average estimated frequency error calculated over the integration length of N samples.<br>
The long-term average is the average estimated frequency error calculated over a larger<br>
number of samples, for example, all samples received after a previous reset operation.<br>
[0045]	If the short-term average value exceeds a short-term threshold value, e.g.,<br>
175 Hz, the frequency tuner 126 updates the memory 130 by the short-term average value (164). Even if the short-term average value does not exceed the threshold value, the frequency tuner 126 may update the memory 130 under other circumstances. For instance, if the long-term average value exceeds a long-term threshold value that is lower than the short-term threshold value, e.g., 50 Hz, over a greater number of samples, e.g., twelve samples, the frequency tuner 126 updates the memory 130 by the long-term average value (166). In addition, the frequency tuner 126 may update the memory 130 by the long-term average value (168) over a still greater number of samples, e.g., 96 samples, regardless of the size of the long-term average value, ue., with a long-term threshold value of zero. Any frequency error over this number of samples may be significant. Whenever the frequency tuner 126 updates the memory 130, the long-term average value is reset (170).<br>
[0046]	FIG. 3 illustrates comparing the short-term average value to a short-term<br>
threshold and comparing the long-term average value to a long-term threshold. It will be appreciated by those of ordinary skill in the art that the frequency tuner 126 may compare the long-term average value to multiple long-term thresholds over multiple integration lengths.<br>
[0047]	As described above, the AFC technique depicted in FIG. 3 can be applied<br>
in a variety of modes, including, but not limited to, detecting a standalone dedicated<br>
control channel (SDCCH) or other control channel during a broadcast control channel<br>
(BCCH) detection mode, an idle mode or a random access mode.<br>
[0048]	The AFC technique can also be applied to detect a dedicated traffic<br>
channel (TCH). In this mode, the frequency tuner 126 optionally considers only<br>
samples received on a standalone control channel (SACCH). By disregarding other<br>
samples, processor resources are conserved while ensuring adequate performance. If<br>
the frequency tuner 126 only considers SACCH samples, the AFC technique is enabled<br>
before every SACCH burst and disabled after every SACCH burst.<br>
[0049]	With some adaptation, the AFC technique can also be used in an<br>
FCCH/SCH detection mode. During FCCH/SCH detection, the modem 114 has direct<br><br>
WO 2005/036845 <br><br><br><br>
PCT/US2004/033114<br><br>
control over frequency tracking.   Accordingly, in this mode, the frequency tuner 126<br>
communicates the initial frequency and slope settings to the modem 114.  In addition,<br>
rather than quantizing the frequency error estimates as described above, the modem 114<br>
computes the frequency error estimate as a relatively non-quantized value.<br>
[0050]	During FCCH/SCH detection, the modem compares the short-term or<br>
long-term average value with an FCCH frequency error threshold. If the average value exceeds the FCCH frequency error threshold, the modem 114 updates the memory 130 by the full amount of the average value. Otherwise, the modem 114 updates the memory 130 by half of the average value. Further, if the average value is less than an SCH frequency error threshold, the modem 114 attempts to decode the SCH channel. Otherwise, the modem 114 continues to scan for the FCCH channel and no frequency estimation or memory updates are performed based on SCH samples. When the SCH detection is successful, the modem 114 begins to decode the broadcast control channel (BCCH) and assumes control of AFC using the most recent frequency offset value as a starting point. This frequency offset value is then initialized to a default value stored, for example, in the memory 130.<br>
[0051]	FIGS. 4-6 are graphs depicting simulated performance comparisons<br>
between the AFC technique illustrated in and described in connection with FIG. 3 and conventional AFC techniques using an infinite impulse response (IIR) filter. In FIGS. 4-6, dots indicate individual frequency error estimates calculated over 250 samples. A solid line 200 indicates a simulated frequency error of 300 Hz introduced at the 50th sample. A dashed line 202 indicates the result of applying the AFC technique of FIG. 3. Dotted lines 204, 206, and 208 indicate the result of applying a conventional AFC technique using an HR filter with varying scale factors.<br>
[0052]	The dotted line 204 on FIG. 4 indicates the result of applying a<br>
conventional AFC technique using an HR filter with a scale factor of 0.01. As shown in FIG. 4, the frequency error estimate responds slowly to the simulated frequency error. Increasing the scale factor to 0.03 produces the result shown by the dotted line 206 of FIG. 5. The WCD 102 responds more quickly to the simulated frequency error. However, the response is more susceptible to wide fluctuations between individual frequency error estimates, which represent noise in the system rather than the simulated frequency error. The dotted line 208 of FIG. 6 illustrates the effect of further increasing the scale factor to 0.10.  In particular, as the scale factor is increased, the WCD 102<br><br>
WO 2005/036845<br><br>
PCT/IJS20O4/O33114<br>
responds more quickly to the simulated frequency error, but the response is more susceptible to noise.<br>
[0053]	FIG. 7 is a graph depicting a simulated performance comparison between<br>
the AFC technique illustrated and described in FIG. 3 and a conventional AFC<br>
technique using a quantized IIR filter with a scale factor of 0.03. By comparison to the<br>
dotted line 206 of FIG. 5, a dotted line 210 illustrates reduced noise susceptibility, but<br>
slower response time to the simulated frequency error. It can be seen that the quantized<br>
HR filter fails to converge on the 300 Hz simulated frequency error within 250 samples.<br>
[0054]	FIGS. 8-10 are graphs depicting simulated performance comparisons<br>
between the AFC technique illustrated in and described in connection with FIG. 3 and conventional AFC techniques using a single integration length. In FIGS. 8-10, dots indicate individual frequency error estimates calculated over 250 samples. A solid line 200 indicates a simulated frequency error of 300 Hz introduced at the 50th sample. A dashed line 202 indicates the result of applying the AFC technique of FIG. 3. Dotted lines 212, 214, and 216 indicate the result of applying a conventional AFC technique using a single integration length.<br>
[0055]	The dotted line 212 of FIG. 8 indicates the result of applying a<br>
conventional AFC technique using single integration length of four samples. As shown in FIG. 8, the WCD 102 responds quickly to the simulated frequency error, but is highly susceptible to noise. Increasing the integration length to twelve samples produces the result indicated by the dotted line 214 of FIG. 9. As shown in FIG. 9, the response is less susceptible to noise. However, the WCD 102 responds more slowly to the simulated frequency error. Further increasing the integration length to 96 samples produces the result indicated by the dotted line 216 of FIG. 10. The response is substantially unaffected by noise, but only converges on the simulated frequency error after nearly 200 samples.<br>
[0056]	By contrast, as shown by the dashed line 202 of FIGS. 4-10, the WCD<br>
102 combines the advantages of using a small integration length and of using a large integration length by using multiple integration lengths. By generating both short-term and long-term average frequency error estimates, the WCD 102 can respond quickly to relatively large changes in the frequency error, while ignoring smaller changes mat may be indicative of noise in the system rather than actual changes in the frequency error. In addition, calculating long-term average values and comparing them with a long-term<br><br>
WO 2005/036845	'7	PCT/11S2OO4/033114<br>
threshold lower than the short-term threshold facilitates responding to smaller changes in the frequency error. Requiring smaller changes to persist over a larger set of samples provides some protection against noise in the system, i.e., variations in the instantaneous frequency error estimate between successive samples that may not be representative of actual changes in the frequency error.<br>
[0057]	The foregoing description of various embodiments is provided to enable<br>
any person skilled in the art to practice the present invention. Various modifications to these embodiments will be readily apparent to those skilled in the art, and the general principles described herein may be applied to other embodiments without the use of the inventive faculty. Accordingly, the present invention is not intended to be limited to the embodiments expressly described herein, but is to be accorded the widest scope consistent with the principles and novel features disclosed herein.<br><br><br>
WO 2005/036845	PCT/U S2OO4/033114<br><br>
WE CLAIMS<br>
1.	A method to determine a frequency offset to be applied in a wireless<br>
communication device, the method comprising:<br>
averaging a first set of frequency error estimates to determine a short-term average value;<br>
averaging a second set of frequency error estimates to determine a long-term average value, the second set comprising a superset of the first set of frequency error estimates;<br>
determining the frequency offset as a function of the short-term average value when the short-term average value exceeds a short-term threshold value; and<br>
determining the frequency offset as a function of the long-term average value when the long-term average value exceeds a long-term threshold value lower than the short-term threshold value.<br>
2.	The method of claim 1, further comprising:<br>
determining an average value of a third set of frequency error estimates, the third set comprising a superset of the second set of frequency error estimates; and<br>
determining the frequency offset as a function of the average value of the third set of frequency error estimates.<br>
3.	The method of claim 1, further comprising adjusting an oscillator frequency as a function of the frequency offset.<br>
4.	The method of claim 3, wherein adjusting the oscillator frequency comprises writing the frequency offset to a memory associated with an oscillator.<br>
5.	The method of claim 1, wherein:<br>
the wireless communication device is configured to detect a frequency control channel (FCCH); and<br>
deterniining the frequency offset comprises<br><br>
WO 2M&gt;5/036845	<js>	PCT/US2004/033IM<br>
using one of the short-term average value and the long-term average value as the frequency offset when the one of the short-term average value and the long-term average value exceeds an FCCH error threshold, and<br>
using a value equal to half of the one of the short-term average value and the long-term average value as the frequency offset when the one of the short-term average value and the long-term average value does not exceed the FCCH error threshold.<br>
6.	The method of claim 5, further comprising decoding a synchronization channel (SCH) when the one of the short-term average value and the long-term average value is less than an SCH error threshold.<br>
7.	The method of claim 1, further comprising decoding at least one of a control channel and a traffic channel.<br>
8.	A method to configure an oscillator for use in connection with a wireless communication device, the method comprising:<br>
reading a frequency offset value from a memory associated with the oscillator;<br>
averaging a first set of frequency error estimates to determine a short-term average value;<br>
averaging a second set of frequency error estimates to determine a long-term average value, the second set comprising a superset of the first set of frequency error estimates;<br>
adjusting an oscillator frequency as a function of the short-term average value when the short-term average value exceeds a short-term threshold value; and<br>
adjusting the oscillator frequency as a function of the long-term average value when the long-term average value exceeds a long-term threshold value lower than the short-term threshold value.<br>
9.	The method of claim 8, further comprising:<br>
determining an average value of a third set of frequency error estimates, the third set comprising a superset of the second set of frequency error estimates; and<br><br>
WO 2005/036K45	3M	PCT/US2004/033114<br>
adjusting the oscillator frequency as a function of the average value of the third set of frequency error estimates.<br>
10.	The method of claim 8, wherein adjusting the oscillator frequency<br>
comprises writing the frequency offset to a memory associated with an oscillator.<br>
11.	An integrated circuit (IC) comprising:<br>
an oscillator; and<br>
a processor arrangement operatively coupled to the oscillator and configured to<br>
average a first set of frequency error estimates to determine a short-term average value,<br>
average a second set of frequency error estimates to determine a long-term average value, the second set comprising a superset of the first set of frequency error estimates,<br>
adjust a frequency of the oscillator as a function of the short-term average value when the short-term average value exceeds a short-term threshold value, and<br>
adjust a frequency of the oscillator as a function of the long-term average value when the long-term average value exceeds a long-term threshold value lower than the short-term threshold value.<br>
12.	The IC of claim 11, wherein the processor arrangement is further<br>
configured to:<br>
determine an average value of a third set of frequency error estimates, the third set comprising a superset of the second set of frequency error estimates; and<br>
adjust the frequency of the oscillator as a function of the average value of the third set of frequency error estimates.<br>
13.	The IC of claim 11, further comprising a memory operatively coupled to<br>
the processor arrangement and configured to store a frequency offset to adjust the<br>
frequency of the oscillator.<br><br>
WO 2005/036845		PCT/US2004/033114<br>
14.	The IC of claim 13, wherein the memory comprises a nonvolatile<br>
memory.<br>
15.	The IC of claim 11, wherein the processor arrangement is configured to:<br>
detect a frequency control channel (FCCH);<br>
adjust the frequency of the oscillator by one of the short-term average value and the long-term average value when the one of the short-term average value and the long-term average value exceeds an FCCH error threshold; and<br>
adjust the frequency of the oscillator by half of the one of the short-term average value and the long-term average value when the one of the short-term average value and the long-term average value does not exceed the FCCH error threshold.<br>
16.	The IC of claim 15, wherein the processor arrangement is configured to decode a synchronization channel (SCH) when the one of the short-term average value and the long-term average value is less than an SCH error threshold.<br>
17.	The IC of claim 11, wherein the processor arrangement is configured to decode at least one of a control channel and a traffic channel.<br>
18.	A wireless communication device (WCD) comprising:<br>
an antenna arranged to receive an RF signal;<br>
a receive arrangement, operatively coupled to the antenna, to generate a plurality of samples as a function of the RF signal;<br>
an oscillator, operatively coupled to the receive arrangement and configured to generate a frequency; and<br>
a processor arrangement, coupled to receive the plurality of samples from the receive arrangement and configured to<br>
calculate a plurality of frequency error estimates as a function of the samples;<br>
average a first subset of the frequency error estimates to determine a short-term average value,<br><br>
-   - WO 2005/036845		PCT/US2004/033I14<br><br>
average a second subset of the frequency error estimates to determine a long-term average value, the second subset comprising a superset of the first subset of frequency error estimates,<br>
adjust the frequency generated by the oscillator as a function of the short-term average value when the short-term average value exceeds a short-term threshold value, and<br>
adjust the frequency generated by the oscillator as a function of the long-term average value when the long-term average value exceeds a long-term threshold value lower than the short-term threshold value.<br>
19.	The WCD of claim 18, wherein the processor arrangement is further<br>
configured to:<br>
determine an average value of a third set of frequency error estimates, the third set comprising a superset of the second set of frequency error estimates; and<br>
adjust the frequency generated by the oscillator as a function of the average value of the third set of frequency error estimates.<br>
20.	The WCD of claim 18, further comprising a memory operatively coupled to the processor arrangement and configured to store a frequency offset to adjust the frequency of the oscillator.<br>
21.	The WCD of claim 20, wherein the memory comprises a nonvolatile memory.<br>
22.	The WCD of claim 18, wherein the processor arrangement is configured to:<br>
detect a frequency control channel (FCCH);<br>
adjust the frequency of the oscillator by one of the short-term average value and the long-term average value when the one of the short-term average value and the long-term average value exceeds an FCCH error threshold; and<br>
adjust the frequency of the oscillator by half of the one of the short-term average value and the long-term average value when the one of the short-term average value and the long-term average value does not exceed the FCCH error threshold.<br><br>
	PCT/US2004/033I14<br>
_  -   WO 21)05/036845<br>
23.	The WCD of claim 22, wherein the processor arrangement is configured to decode a synchronization channel (SCH) when the one of the short-term average value and the long-term average value is less than an SCH error threshold.<br>
24.	The WCD of claim 18, wherein the processor arrangement is configured to decode at least one of a control channel and a traffic channel.<br>
25.	A processor arrangement comprising:<br>
means for averaging a first set of frequency error estimates to determine a short-term average value;<br>
means for averaging a second set of frequency error estimates to determine a long-term average value, the second set comprising a superset of the first set of frequency error estimates;<br>
means for adjusting a frequency of the oscillator as a function of the short-term average value when the short-term average value exceeds a short-term threshold value; and<br>
means for adjusting a frequency of the oscillator as a function of the long-term average value when the long-term average value exceeds a long-term threshold value lower than the short-term threshold value.<br>
26.	A processor-readable medium containing processor-executable<br>
instructions for:<br>
averaging a first set of frequency error estimates to determine a short-term average value;<br>
averaging a second set of frequency error estimates to determine a long-term average value, the second set comprising a superset of the first set of frequency error estimates;<br>
determining a frequency offset as a function of the short-term average value when the short-term average value exceeds a short-term threshold value; and<br>
determining a frequency offset as a function of the long-term average value when the long-term average value exceeds a long-term threshold value lower than the short-term threshold value.<br><br>
WO 2005/036845		PCT71LS2004/033114<br>
27.	The processor-readable medium of claim 26, containing further<br>
processor-executable instructions for:<br>
determining an average value of a third set of frequency error estimates, the third set comprising a superset of the second set of frequency error estimates; and<br>
determining the frequency offset as a function of the average value of the third set of frequency error estimates.<br>
28.	The processor-readable medium of claim 26, containing further processor-executable instructions for adjusting an oscillator frequency as a function of the frequency offset.<br>
29.	The processor-readable medium of claim 28, containing further processor-executable instructions for writing the frequency offset to a memory associated with an oscillator.<br>
30.	The processor-readable medium of claim 26, containing further processor-executable instructions for<br>
detecting a frequency control channel (FCCH);<br>
using one of the short-term average value and the long-term average value as the frequency offset when the one of the short-term average value and the long-term average value exceeds an FCCH error threshold; and<br>
using a value equal to half of the one of the short-term average value and the long-term average value as the frequency offset when the one of the short-term average value and the long-term average value does not exceed the FCCH error threshold.<br>
31.	The processor-readable medium of claim 30, containing further<br>
processor-executable instructions for decoding a synchronization channel (SCH) when<br>
the one of the short-term average value and the long-term average value is less than an	<br>
SCH error threshold.<br><br>
VVO 2005/036845<br>
	PCT/US2004/033J14<br><br>
32.	The processor-readable medium of claim 26, containing further processor-executable instructions for decoding at least one of a control channel and a traffic channel.<br>
33.	A processor-readable medium containing processor-executable instructions for:<br>
reading a frequency offset value from a memory associated with an oscillator;<br>
averaging a first set of frequency error estimates to determine a short-term average value;<br>
averaging a second set of frequency error estimates to determine a long-term average value, the second set comprising a superset of the first set of frequency error estimates;<br>
adjusting an oscillator frequency as a function of the short-term average value when the short-term average value exceeds a short-term threshold value; and<br>
adjusting the oscillator frequency as a function of the long-term average value when the long-term average value exceeds a long-term threshold value lower than the short-term threshold value.<br>
34.	The processor-readable medium of claim 33, containing further<br>
processor-executable instructions for<br>
determining an average value of a third set of frequency error estimates, the third set comprising a superset of the second set of frequency error estimates; and<br>
adjusting the oscillator frequency as a function of the average value of the third set of frequency error estimates.<br>
35.	The processor-readable medium of claim 33, containing further<br>
processor-executable instructions for writing the frequency offset to a memory<br>
associated with an oscillator.<br><br><br>
36. A wireless communication device and a method to determine a frequency offset to be applied in a wireless communication device, substantially as herein described with reference to the accompanying drawings.<br>
37.	A method to configure an oscillator for use in connection with a wireless communication device, substantially as herein described with reference to the accompanying drawings.<br>
38.	An integrated circuit substantially as herein described with reference to the accompanying drawings.<br>
Dated this       12th     Day of April, 2006<br>
G. Deepak Sriniwas<br>
OfK&amp;S Partners<br>
Agent for the Applicants.<br><br><br><br>
Abstract:<br>
A wireless communication device (WCD) estimates frequency error by averaging frequency error estimates over multiple integration lengths to generate short-term and long-term averages. The WCD compares the short-term and long-term averages with short-term and long-term thresholds. The long-term thresholds are lower than the short-term threshold. If the average for any integration length exceeds its respective threshold, a frequency offset is determined and an oscillator frequency is adjusted based on that frequency offset. The use of both short-term and long-term thresholds facilitates responding quickly to relatively large changes in the frequency error, while ignoring smaller changes that may be indicative of noise in the system rather than actual changes in the frequency error.<br></js></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDQ0LW11bW5wLTIwMDYtYWJzdHJhY3QoMS0xMC0yMDA4KS5kb2M=" target="_blank" style="word-wrap:break-word;">444-mumnp-2006-abstract(1-10-2008).doc</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDQ0LW11bW5wLTIwMDYtYWJzdHJhY3QoMS0xMC0yMDA4KS5wZGY=" target="_blank" style="word-wrap:break-word;">444-mumnp-2006-abstract(1-10-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDQ0LW11bW5wLTIwMDYtYWJzdHJhY3QuZG9j" target="_blank" style="word-wrap:break-word;">444-mumnp-2006-abstract.doc</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDQ0LW11bW5wLTIwMDYtYWJzdHJhY3QucGRm" target="_blank" style="word-wrap:break-word;">444-mumnp-2006-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDQ0LW11bW5wLTIwMDYtYWJzdHJhY3QxLmpwZw==" target="_blank" style="word-wrap:break-word;">444-mumnp-2006-abstract1.jpg</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDQ0LW11bW5wLTIwMDYtY2FuY2VsbGVkIHBhZ2VzKDEtMTAtMjAwOCkucGRm" target="_blank" style="word-wrap:break-word;">444-mumnp-2006-cancelled pages(1-10-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDQ0LW11bW5wLTIwMDYtY2xhaW1zKGdyYW50ZWQpLSgxLTEwLTIwMDgpLmRvYw==" target="_blank" style="word-wrap:break-word;">444-mumnp-2006-claims(granted)-(1-10-2008).doc</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDQ0LW11bW5wLTIwMDYtY2xhaW1zKGdyYW50ZWQpLSgxLTEwLTIwMDgpLnBkZg==" target="_blank" style="word-wrap:break-word;">444-mumnp-2006-claims(granted)-(1-10-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDQ0LW11bW5wLTIwMDYtY2xhaW1zLnBkZg==" target="_blank" style="word-wrap:break-word;">444-mumnp-2006-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDQ0LW11bW5wLTIwMDYtY29ycmVzcG9uZGFuY2UtcmVjZWl2ZWQucGRm" target="_blank" style="word-wrap:break-word;">444-mumnp-2006-correspondance-received.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDQ0LW11bW5wLTIwMDYtY29ycmVzcG9uZGVuY2UoMS0xMC0yMDA4KS5wZGY=" target="_blank" style="word-wrap:break-word;">444-mumnp-2006-correspondence(1-10-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDQ0LW11bW5wLTIwMDYtY29ycmVzcG9uZGVuY2UoaXBvKS0oMTUtMTAtMjAwOCkucGRm" target="_blank" style="word-wrap:break-word;">444-mumnp-2006-correspondence(ipo)-(15-10-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDQ0LW11bW5wLTIwMDYtZGVzY3JpcHRpb24gKGNvbXBsZXRlKS5wZGY=" target="_blank" style="word-wrap:break-word;">444-mumnp-2006-description (complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDQ0LW11bW5wLTIwMDYtZHJhd2luZygxLTEwLTIwMDgpLnBkZg==" target="_blank" style="word-wrap:break-word;">444-mumnp-2006-drawing(1-10-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDQ0LW11bW5wLTIwMDYtZm9ybSAxKDE4LTQtMjAwNikucGRm" target="_blank" style="word-wrap:break-word;">444-mumnp-2006-form 1(18-4-2006).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDQ0LW11bW5wLTIwMDYtZm9ybSAxKDItNi0yMDA2KS5wZGY=" target="_blank" style="word-wrap:break-word;">444-mumnp-2006-form 1(2-6-2006).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDQ0LU1VTU5QLTIwMDYtRk9STSAxNigyNC05LTIwMTApLnBkZg==" target="_blank" style="word-wrap:break-word;">444-MUMNP-2006-FORM 16(24-9-2010).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDQ0LW11bW5wLTIwMDYtZm9ybSAxOCgyLTYtMjAwNikucGRm" target="_blank" style="word-wrap:break-word;">444-mumnp-2006-form 18(2-6-2006).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDQ0LW11bW5wLTIwMDYtZm9ybSAyKGdyYW50ZWQpLSgxLTEwLTIwMDgpLmRvYw==" target="_blank" style="word-wrap:break-word;">444-mumnp-2006-form 2(granted)-(1-10-2008).doc</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDQ0LW11bW5wLTIwMDYtZm9ybSAyKGdyYW50ZWQpLSgxLTEwLTIwMDgpLnBkZg==" target="_blank" style="word-wrap:break-word;">444-mumnp-2006-form 2(granted)-(1-10-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDQ0LW11bW5wLTIwMDYtZm9ybSAyNig2LTItMjAwNikucGRm" target="_blank" style="word-wrap:break-word;">444-mumnp-2006-form 26(6-2-2006).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDQ0LW11bW5wLTIwMDYtZm9ybSAyNig2LTMtMjAwNikucGRm" target="_blank" style="word-wrap:break-word;">444-mumnp-2006-form 26(6-3-2006).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDQ0LW11bW5wLTIwMDYtZm9ybSAzKDEyLTQtMjAwNikucGRm" target="_blank" style="word-wrap:break-word;">444-mumnp-2006-form 3(12-4-2006).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDQ0LW11bW5wLTIwMDYtZm9ybSAzKDktMTAtMjAwNikucGRm" target="_blank" style="word-wrap:break-word;">444-mumnp-2006-form 3(9-10-2006).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDQ0LW11bW5wLTIwMDYtZm9ybSA1KDEyLTQtMjAwNikucGRm" target="_blank" style="word-wrap:break-word;">444-mumnp-2006-form 5(12-4-2006).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDQ0LW11bW5wLTIwMDYtZm9ybS0xLnBkZg==" target="_blank" style="word-wrap:break-word;">444-mumnp-2006-form-1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDQ0LW11bW5wLTIwMDYtZm9ybS0yLmRvYw==" target="_blank" style="word-wrap:break-word;">444-mumnp-2006-form-2.doc</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDQ0LW11bW5wLTIwMDYtZm9ybS0yLnBkZg==" target="_blank" style="word-wrap:break-word;">444-mumnp-2006-form-2.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDQ0LW11bW5wLTIwMDYtZm9ybS0zLnBkZg==" target="_blank" style="word-wrap:break-word;">444-mumnp-2006-form-3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDQ0LW11bW5wLTIwMDYtZm9ybS01LnBkZg==" target="_blank" style="word-wrap:break-word;">444-mumnp-2006-form-5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=YWJzdHJhY3QxLmpwZw==" target="_blank" style="word-wrap:break-word;">abstract1.jpg</a></p>
		<br>
		<div class="pull-left">
			<a href="224352-assembly-for-holding-a-plurality.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="224354-amino-cyclobutylamide-modulators-of-chemokine-receptor-activity.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>224353</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>444/MUMNP/2006</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>02/2009</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>09-Jan-2009</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>10-Oct-2008</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>18-Apr-2006</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>QUALCOMM INCORPORATED</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>5775 Morehouse Drive, San Diego, California 92121-1714,</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>RICK, Roland, R</td>
											<td>11456 Northwick Way, San Diego, California 92131,</td>
										</tr>
										<tr>
											<td>2</td>
											<td>CHAUDHURI, Arunava</td>
											<td>9505 Easter Way, #6, San Diego, California 92121,</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04L27/00</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/US2004/033114</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2004-10-07</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>10/682,260</td>
									<td>2003-10-08</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/224353-frequency-error-estimation-using-multiple-integration-lengths by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 02:40:31 GMT -->
</html>
