<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/263948-method-for-alignment-of-analog-and-digital-audio-in-a-hybrid-radio-waveform by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2024 22:54:19 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 263948:METHOD FOR ALIGNMENT OF ANALOG AND DIGITAL AUDIO IN A HYBRID RADIO WAVEFORM</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">METHOD FOR ALIGNMENT OF ANALOG AND DIGITAL AUDIO IN A HYBRID RADIO WAVEFORM</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>This invention provides a method of detecting time alignment of an analog audio signal and a digital audio signal in a hybrid radio system. The method comprises the steps of filtering the analog audio signal to produce a filtered analog audio signal, filtering the digital audio signal to produce a filtered digital audio signal, and using the filtered analog audio signal and the filtered digital audio signal to calculate a plurality of correlation coefficients, wherein the correlation coefficients are representative of time alignment between the analog audio signal and the digital audio signal. An apparatus for performing the method is also provided.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>WO 2006/110229	PCT/US2006/007236<br>
- 1 -<br>
METHOD FOR ALIGNMENT OF ANALOG AND DIGITAL AUDIO IN A HYBRID RADIO WAVEFORM<br>
FIELD OF THE INVENTION<br>
[0001] This invention relates to signal processing, and more particularly to methods and apparatus for detecting and controlling alignment of digital and analog audio signals in an in-band on-channel broadcasting system.<br>
BACKGROUND OF THE INVENTION<br>
[0002] The iBiquity Digital Corporation HD Radio™ system is designed to permit a smooth evolution from current analog amplitude modulation (AM) and frequency modulation (FM) radio to a fully digital in-band on-channel (DBOC) system. This system delivers digital audio and data services to mobile, portable, and fixed receivers from terrestrial transmitters in the existing medium frequency (MF) and very high frequency (VHF) radio bands. Broadcasters may continue to transmit analog AM and FM signal simultaneously with the new, higher-quality and more robust digital signals, allowing themselves and their listeners to convert from analog to digital radio while maintaining their current frequency allocations.<br>
[0003] The system provides a flexible means of transitioning to a digital broadcast system by providing three waveform types: Hybrid, Extended Hybrid, and All Digital. The Hybrid and Extended Hybrid types retain the analog FM signal, while the All Digital type does not. All three waveform types conform to the currently allocated spectral emissions mask. Details on the Hybrid, Extended Hybrid, and All Digital waveforms are shown in United States Patent Application Publication No. 2004/0076188, which is hereby incorporated by reference.<br>
[0004] The digital signal is modulated using Orthogonal Frequency Division Multiplexing (OFDM). OFDM is a parallel modulation scheme in which the data stream modulates a large number of orthogonal subcarriers, which are transmitted simultaneously. OFDM is inherently flexible, readily allowing the mapping of logical channels to different groups of subcarriers.<br>
[0005] During the transition from analog to digital broadcasting, it is envisioned that the predominant transmit modes for the HD Radio™ system will be the Hybrid modes. The Hybrid signal includes the conventional analog signal (for compatibility with existing radios) as well as digital signal subcarriers carrying the same analog audio content, but in higher-quality digital format. The digital signal is delayed with respect to its analog counterpart such<br><br>
WO 2006/110229	PCT/US2006/007236<br>
-2-<br>
that this time diversity can be used to mitigate the effects of short signal outages. In these modes, hybrid-compatible digital radios will incorporate a feature called "blend" which attempts to smoothly transition from outputting digital audio to analog audio during initial tuning, or whenever the digital waveform quality falls below an acceptable level. The blend function is described in United States Patents No. 6,590,944 and 6,735,257, which are hereby incorporated by reference.<br>
[0006] Blending will typically occur at the edge of digital coverage and at other locations within the coverage contour where the digital waveform is corrupted. When a short outage does occur, such as traveling under a bridge, the loss of digital audio is replaced by an analog signal. When blending occurs, it is important that the content on the analog audio and digital audio channels are aligned in both time and level to ensure that the transition is barely noticed by the listener. Optimally, the listener will notice little other than possible inherent quality differences in analog and digital audio at these blend points. However, if the broadcast station does not have the analog and digital audio signals aligned, then the result could be a harsh sounding transition between digital and analog audio. The misalignment may occur because of audio processing differences between the analog audio and digital audio paths at the broadcast facility. Furthermore the analog and digital signals are typically generated with two separate signal generation paths before combining for output. The use of different analog processing techniques and different signal generation methods makes the alignment of these two signals nontrivial. The blending must be smooth and continuous, which can happen only if the analog and digital audio is both time and level aligned.<br>
[0007] The alignment or calibration of an HD Radio™ broadcast station's digital and analog signals is presently done manually with test equipment located at the transmitter site. This calibration requires the use of a test signal and special measurement equipment used to measure the time and level differences of the analog and digital signals. It also accounts for the intentional diversity delay imposed on the analog signal path. Furthermore the relative delays may change occasionally if the audio processing is changed, which may occur if or when the broadcast changes from music to news, for example. It is presently impractical, or cumbersome, to manually realign the signals when these modifications occur. Therefore it would be a significant benefit and convenience if the ability to automatically detect and correct alignment errors were available.<br><br>
WO 2006/110229	PCT/US2006/007236<br>
-3-<br>
SUMMARY OF THE INVENTION<br>
[0008] This invention provides a method of detecting time alignment of an analog audio signal and a digital audio signal in a hybrid radio system. The method comprises the steps of filtering the analog audio signal to produce a filtered analog audio signal, filtering the digital audio signal to produce a filtered digital audio signal, and using the filtered analog audio signal and the filtered digital audio signal to calculate a plurality of correlation coefficients, wherein the correlation coefficients are representative of time alignment between the analog audio signal and the digital audio signal.<br>
[0009] The invention also encompasses an apparatus for detecting time alignment of an analog audio signal and a digital audio signal in a radio system. The apparatus comprises a first filter for filtering the analog audio signal to produce a filtered analog audio signal, a second filter for filtering the digital audio signal to produce a filtered digital audio signal, and a processor for using the filtered analog audio signal and the filtered digital audio signal to calculate a plurality of correlation coefficients, wherein the correlation coefficients are representative of alignment between the analog audio signal and the digital audio signal.<br>
[0010] In another aspect, the invention provides a method of detecting level alignment of an analog audio signal and a digital audio signal in a hybrid radio system. The method comprises the steps of filtering the analog audio signal to produce a filtered analog audio signal, filtering the digital audio signal to produce a filtered digital audio signal, computing the signal power of the analog audio signal and the signal power of the digital audio signal for an audio segment, and using a ratio of the signal power of the analog audio signal and the signal power of the digital audio signal to produce a signal representative of the level alignment of the analog audio signal and the digital audio signal.<br>
[0011] The invention further encompasses an apparatus for detecting level alignment of an analog audio signal and a digital audio signal in a hybrid radio system. The apparatus comprises a first filter for filtering the analog audio signal to produce a filtered analog audio signal, a second filter for filtering the digital audio signal to produce a filtered digital audio signal, and a processor for computing the signal power of the analog audio signal and the signal power of the digital audio signal for an audio segment, and for using a ratio of the signal power of the analog audio signal and the signal power of the digital audio signal to produce a signal representative of the level alignment of the analog audio signal and the digital audio signal.<br><br>
WO 2006/110229	PCT/US2006/007236<br>
-4-<br>
BRIEF DESCRIPTION OF THE DRAWINGS<br>
[0012] FIG. 1 is a block diagram of an in-band on-channel broadcast system with a time/level monitor and feedback.<br>
[0013] FIG. 2 is a block diagram that illustrates a time alignment measurement method.<br>
[0014] FIG. 3 is a graph of a correlation vector of correlation coefficients.<br>
[0015] FIG. 4 is a block diagram that illustrates the level alignment algorithm.<br>
[0016] FIG. 5 is a block diagram of an HD Radio™ monitor.<br>
[0017] FIG. 6 is a block diagram of the analog/digital audio alignment monitor.<br>
[0018] FIGs. 7, 8 and 9 are graphs illustrating the results of alignment measurements that can be displayed on a user interface.<br>
DETAILED DESCRIPTION OF THE INVENTION<br>
[0019] Time and level alignment between the analog audio and digital audio of a HD Radio™ waveform is critical to assure a smooth blend from digital to analog in the HD Radio™ system. This invention provides a method and apparatus for verifying proper station analog/digital alignment (in both time and level). In addition, the invention can be used in a feedback design to automatically correct the misalignment of the analog audio and digital audio at the broadcast facility.<br>
[0020] FIG. 1 is a block diagram of an in-band on-channel broadcast system 10 including means for monitoring the analog and digital signals, and a feedback path. An audio source 12 provides an audio signal to an analog audio processor 14 and a digital audio processor 16. The analog processor produces an analog audio signal on line 18 that is passed to an exciter/transmitter 20. The digital processor produces a digital audio signal on line 22 that is passed to the exciter/transmitter 20. The exciter/transmitter combines the analog and digital audio signals, which are then amplified by a high power amplifier 24 and transmitted in a hybrid waveform to a receiver 26. The hybrid waveform includes a carrier signal modulated by an analog audio signal and a plurality of subcarriers modulated by a digital audio signal, as illustrated in United States Patent No. 6,735,257. While the subcarriers can also be modulated by other digital signals, only the digital audio signal is relevant to this description.<br>
[0021] The receiver separates the analog and digital audio signals. The analog audio signal is sampled at the same rate as the digital audio signal. A monitor 28 receives the analog and digital audio signals from the receiver, determines the time and level alignment between the analog and digital audio signals, and produces an adjustment signal on line 30, that can be<br><br>
WO 2006/110229	PCT/US2006/007236<br>
-5-<br>
fed back to the broadcasting station and used to adjust the relative timing and level of the analog audio and digital audio signals. In the example illustrated in FIG. 1, the adjustment signal is delivered to the analog audio signal processor and used to adjust the delay and level of the analog audio signal. However, the adjustment signal could similarly be fed to the digital audio processor and used to adjust the timing and level of the digital audio signal.<br>
[0022] This invention provides a method for detecting the relative alignment of the analog audio and digital audio in both time and level. This method does not require a test waveform to be transmitted. This method can be incorporated into a system that monitors a broadcast station's hybrid waveform. In addition, with specific knowledge of the blend algorithm used in the receivers, the measured alignment information can be used to develop a feedback path to the broadcasting station so that, as audio processing changes between analog and digital paths in a station, a signal representative of the relative alignment can be fed back to the station to keep the analog and digital audio content aligned, thus persevering the receiver's ability to smoothly blend between the analog and digital audio.<br>
[0023] Although a dedicated measurement device could be implemented to measure time and level alignment, it is more convenient to utilize an existing HD Radio™ receiver, which possesses most of the functionality required for the alignment measurements. One operating mode of the HD Radio™ receiver, which is important to the development of a system for monitoring signal alignment, is termed the split operating mode. A radio that is operating in the split mode outputs left, right or mono analog audio on one channel while it outputs left, right or mono digital audio on the other channel. The monophonic split mode is preferred over stereo for the measurements of interest in this invention, since the stereo images in the analog and digital audio signals may differ. Stereo image and stereo separation fidelity may be compromised in some digital audio encoders operating at high compression ratios. In the split mode, a standard audio card in a personal computer can be used as a measurement device to process information from the HD Radio™ receiver output to determine the relative alignment of the analog and digital audio.<br>
[0024] The invention uses analog and digital audio signals that contain the same audio information. For example, each signal represents either left, right or mono audio information, although the mono mode is most useful for this measurement/calibration. It is assumed here that the analog and digital audio streams are sampled simultaneously and input into the measurement device. The metric for estimating time alignment for the analog and digital audio signals is the correlation coefficient function implemented as a normalized cross-<br><br>
WO 2006/110229	PCT/US2006/007236<br>
-6-<br>
correlation function, assuming the do components of the analog and digital audio signals are removed. The correlation coefficient function has the property that it approaches 1 when the two signals are time aligned and identical, except for possibly an arbitrary scalar factor difference. The coefficient becomes statistically smaller as the time alignment error increases.<br>
[0025] Since the HD Radio™ system imposed an intentional diversity delay (e.g., 4.5 seconds) on the analog signal path at the transmitter, the receiver must match this delay on the path of the digital audio. Then the analog/digital audio delays are matched at the receiver output for subsequent alignment processing. If the alignment measurement indicates a time error (due to the transmitter misalignment, assuming the pre-calibrated receiver is correct), then this error can be passed back to the transmitter component to readjust the diversity delay.<br>
[0026] FIG. 2 illustrates one embodiment of a process sequence for the time alignment measurement method. An analog audio signal input on line 50 is filtered using an infinite impulse response filter 52 to produce a filtered analog signal on line 54. A digital audio signal input on line 56 is filtered using an infinite impulse response filter 58 to produce a filtered digital signal on line 60. The filtered analog signal and the filtered digital signal are processed in processor 62 to produce a correlation coefficient signal on line 64. The processor includes various inputs 66,68 and 70 for setting the number of samples per output correlation coefficient computation, the number of output correlation points, and the number of samples to be used for the average. The correlation coefficient signal on line 64 is filtered by a peak search IIR. filter 72 using a moving average to produce an output signal on line 74 that is representative of the number of samples that are misaligned. The peak search filter includes inputs 76 and 78 for setting the number of samples for averaging and the correlation value lower limit.<br>
[0027] The algorithm presumes that identically-sampled (e.g. using a 44,100 Hz sample rate) analog and digital audio signals are processed through identical digital infinite impulse response (IIR) filters. For example the IIR filters for analog and digital audio streams can be identical 10 pole elliptical filters with passbands between about 600 Hz and about 1600 Hz. The filters serve to reduce the bandwidth of the audio signals. This reduces the measurement alignment ambiguities that may occur in parts of the audio spectrum where audio processing differences are more likely to occur. For example, the analog signal will likely have a lower bandwidth than the digital signal, and filtering on the high and low frequency extremes may result in group delay differences. A filter bandwidth of roughly between 600 to 1600 Hz has been determined to be most useful for the alignment bandwidth.<br><br>
WO 2006/110229	PCT/US2006/007236<br>
-7-<br>
[0028] The correlation coefficient px,y between analog and digital signals represented by x and y, respectively, can be defined using statistical expectations as<br><br><br><br>
where  is the mean, and o is the standard deviation of process x or y. The above equation is an analog generalization; however, in practice both the analog audio (e.g., x) and digital audio (e.g., y) must be identically sampled (e.g., at 44100 Hz for monophonic signals only) for the computations that follow. The mean and standard deviation of analog audio (x) and digital audio (y) over the time segment are used in this computation. The mean is the average (i.e. dc component) and standard deviation is fee square root of the variance of the samples over the time segment.<br>
[0029] The bandpass filter rejects any dc component, as well as high frequencies out of the band of interest in this computation. The mean (average) is zero since the dc is rejected here. Since the means of the analog and digital audio signals are zero after bandpass filtering and prior to the computation of the correlation coefficient, the expression can be simplified. For the discrete N-sample, zero-mean sequences x and y, the expression for the correlation coefficient p with lag k becomes<br><br>
where k is the number of samples of lag between the two sequences. The lag is the relative time offset between the x and y signals. This lag allows adjustment of the relative timing so we can determine where the correlation peak occurs at a specific lag. This peak lag is then the timing offset we are trying to find/measure.<br>
[0030] The range of k is determined by the maximum possible value of time alignment error. This maximum value of lag represents the size of the search window. Clearly we have some time/memory limits in the computations and can assume that the lag range is limited by the implementation to some practical value. The number of samples N should be sufficiently large to avoid possible group delay anomalies over short segments. Furthermore, it is preferable to use a larger value of N than to average more values of the correlation coefficient function. One way to use a large N is to compute the numerator and<br><br>
WO 2006/110229	PCT/US2006/007236<br>
-8-<br>
denominators separately over smaller time segments, then average the times epochs together before a computation of the correlation coefficient function. The epochs are time segments where the measurement occurs. Multiple epochs can then be averaged to improve the measurement accuracy/reliability over any one single epoch. Specifically, let<br><br>
where zj(k) is defined to be the cross-correlation of x and y over the Jth epoch of time. The<br>
epochs of time where the measurements are taken can be disconnected from other epochs of time. Let<br><br>
where or is a value &gt; 0 (for infinite averaging) and 
[0032] Now we can calculate to be<br><br>
WO 2006/110229	PCT/US2006/007236<br>
-9-<br><br>
[0033] The coirelation coefficient function computation follows the IIR filtering and typically is processed over as little as 50 milliseconds to as much as 3 seconds of data. Typically 100 to 300 milliseconds of data are sufficient to compute the correlation coefficient function. Couple this with an  of 0.1, and we obtain reasonable estimates. The correlation coefficient is computed for each lag value over its range. The number of lags computed will depend on the actual alignment per station. For example, we can choose 1000 (or whatever the maximum search range) discrete lag values over the search range, computing the correlation for each value to search, for the lag with maximum correlation.<br>
[0034] The post processing on the alignment vector performs a peak search over all correlation coefficients followed by a lower limiter on the correlation coefficient. The alignment vector is the vector (set) of lag values over the search range. If the peak correlation for any one epoch does not exceed a good threshold, then we eliminate this for the subsequent averaging over the multiple epochs. This "limiting" prevents anomalous values from being averaged. Typically 0.92 to 0.95 can be used as a lower limit to assure that the average to follow is building up on more reliable correlations. If there is a bad section of audio that does not correlate well between the analog and digital signals, then the correlation coefficient will typically be below 0.5 and this value will not be used in determining the average. Another single pole integrator can be used to accumulate the samples that pass the limiter criteria. This estimator will usually produce a very good estimate or no estimate. A no estimate condition is likely caused by the analog digital lag (±) being out of range (misaligned by too many samples). In this case the range of the correlations should be increased (number of lags increased) and the correlation run again. The limiter and the post detection averaging are required because there could be different processing applied to the analog audio and the digital audio at the broadcast facility. These different processes will lead to different group delays for different audio bands. Thus, there will be times where the correlation will be rather bad. If these segments are examined, they typically have either channel effects on the analog audio or large processing group delay differences between the digital and analog audio streams. Thus, using a limiter and single pole filter greatly stabilizes the estimate of misalignment<br><br>
WO 2006/110229	PCT/US2006/007236<br>
-10-<br>
[0035] FIG. 3 is a graph of a correlation vector of correlation coefficients, showing a 152 sample misalignment. FIG. 3 shows a plot of 1639 output correlation coefficients for a particular segment of music. Each point represents the correlation of 16384 samples of analog audio and digital audio. For the maximum peak at 152 samples off center, the correlation coefficient is .9953, which indicates a high degree of confidence that the analog audio and digital audio are misaligned by 152 audio samples.<br>
[0036] The audio gain level alignment algorithm simply uses the same IIR filtering of the split mode inputs and compares the computed sums of the squared values of the filtered analog to the filtered digital audio signals. FIG. 4 is a block diagram that illustrates the level alignment algorithm. An analog audio signal input on line 90 is filtered using an infinite impulse response filter 92 to produce a filtered analog signal on line 94. An digital audio signal input on line 96 is filtered using an infinite impulse response filter 98 to produce a filtered digital signal on line 100. The filtered analog signal and the filtered digital signal are processed in processor 102 to produce a signal on line 104 representative of the signal power of the analog and digital signals. The processor includes an input 106 for setting the number of samples to average. The ratio of the signal powers is calculated as shown in block 108 to produce a signal on line 110 that is representative of the misalignment.<br>
[0037] Computing the signal powers over several seconds and computing the ratio, optionally in dB, leads to a stable estimate of the level misalignment. A ratio of 1, or 0 dB, would imply that the analog and digital signals are level aligned, while any magnitude, positive or negative would imply a level misalignment. The ratio in dB is<br><br>
[0038] The computation of the sums of squares must be done using lag value k where the analog and digital audio signals are time aligned. Specifically the signal powers must be estimated over the same audio signal segments. For efficiency, it is beneficial to accumulate the squared samples over the ranges of N samples already computed in the correlation coefficient processing that are time aligned and have a high correlation coefficient value.<br>
[0039] FIGs. 5 and 6 show additional details of a specific implementation which demonstrates the time and level alignment algorithms previously discussed. FIG. 5 is a block diagram of the system 120 that implements the time and level alignment algorithms. The<br><br>
WO 2006/110229	PCT/US2006/007236<br>
-11-<br>
platform is a PC with an HD Radio™ development board 122 and tuner 124. The IDM 350 HD Radio™ development board is controlled by way of a USB interface 126 in the PC. The split mode audio is output from the IDM 350 development board and input into the audio card 128 of a PC. A Java application illustrated by block 130, and running on the PC, also outputs the split mode audio to the audio card for monitoring. In addition, the audio can be displayed on the screen 132 along with a plot of the correlation function across a selectable number of lags. The magnitude of the Fast Fourier Transform (FFT) of the analog and digital streams can be displayed to verify proper band selection. In addition to these outputs, there are a variety of selectable parameters 134 that can control the processing that are part of a control graphic interface. A network interface 136 can be provided to allow the exchange of information with a network. Alignment info is made available to user interface.<br>
[0040] FIG. 6 is a block diagram of an HD Radio™ monitor. An audio card 138 receives that analog and digital audio signals, as illustrated by arrows 140, and provides the analog audio signal on line 142 and the digital audio signal on line 144. Arrow 145 illustrates a connection for optional audio monitoring. These signals are passed to a display 146. IIR filters 148 and 150 filter the analog audio and digital audio signals to produce filtered analog audio signals and filtered digital audio signals on lines 152 and 154. The timing and level alignment algorithms are applied to these filtered signals as illustrated by block 156. The calculated correlation coefficients are displayed as illustrated by block 158. A Fast Fourier Transform (FFT) 160 of the correlation coefficients is used to produce a spectral display 162. A graphical user interface 164 is provided to permit user control of the processes and files as illustrated by block 166.<br>
[0041] FIGs. 7, 8 and 9 illustrate typical correlations over the range of lags.<br>
[0042] The various functions described above can be implemented using known filtering and processing hardware.<br>
[0043] While the invention has been described in terms of several embodiments, it will be apparent to those skilled in the art that various changes can be made to the described embodiments without departing from the scope of the invention as set forth in the following claims.<br><br>
WO 2006/110229	PCT/US2006/007236<br>
-12-<br>
What is claimed is:<br>
1.	A method of detecting time alignment of an analog audio signal and a<br>
digital audio signal in a hybrid radio system comprising the steps of:<br>
filtering the analog audio signal to produce a filtered analog audio signal; filtering the digital audio signal to produce a filtered digital audio signal; and using the filtered analog audio signal and the filtered digital audio signal to calculate a plurality of correlation coefficients, wherein the correlation coefficients are representative of time alignment between the analog audio signal and the digital audio signal.<br>
2.	The method of claim I, further comprising the step of:<br>
adjusting timing of the analog audio signal and/or the digital audio signal in response to the correlation coefficients.<br>
3.	The method of claim 1, the analog audio signal and the digital audio<br>
signal are sampled at the same sampling rate.<br>
4.	The method of claim 1, wherein:<br>
the correlation coefficients are determined using a normalized cross-correlation function.<br>
5.	The method of claim 1, wherein:<br>
dc components of the analog and digital audio signals are removed prior to determination of the correlation coefficients.<br>
6.	The method of claim 1, wherein:<br>
the correlation coefficients approach 1 when the analog and digital audio signals are time aligned and the correlation coefficients become smaller as the time alignment error increases.<br>
7.	The method of claim 1, further comprising the step of:<br>
performing a peak search over the correlation coefficients followed by a lower<br>
limiter on the correlation coefficients.<br>
8.	The method of claim 1, wherein:<br>
the filtering steps use filters with passbands between about 600 Hz and about 1600 Hz.<br>
9.	The method of claim 1, further comprising the step of:<br>
filtering the correlation coefficients using a moving average to produce an output signal that is representative of the number of samples that are misaligned.<br><br>
WO 2006/110229	PCT/US2006/007236<br>
-13-<br>
10.	A method of detecting level alignment of an analog audio signal and a<br>
digital audio signal in a hybrid radio system comprising the steps of:<br>
filtering the analog audio signal to produce a filtered analog audio signal;<br>
filtering the digital audio signal to produce a filtered digital audio signal;<br>
computing the signal power of the analog audio signal and the signal power of the digital audio signal for an audio segment; and<br>
using a ratio of the signal power of the analog audio signal and the signal power of the digital audio signal to produce a signal representative of a level alignment of the analog audio signal and the digital audio signal.<br>
11.	The method of claim 10, further comprising the step of:<br>
adjusting a level of the analog audio signal and/or the digital audio signal in response to the signal representative of a level alignment.<br>
12.	An apparatus for detecting time alignment of an analog audio signal<br>
and a digital audio signal in a radio system comprising:<br>
a first filter for filtering the analog audio signal to produce a filtered analog audio signal;<br>
a second filter for filtering the digital audio signal to produce a filtered digital audio signal; and<br>
a processor for using the filtered analog audio signal and the filtered digital audio signal to calculate a plurality of correlation coefficients, wherein the correlation coefficients are representative of time alignment between the analog audio signal and the digital audio signal.<br>
13.	The apparatus of claim 12, further comprising:<br>
a processor for adjusting timing of the analog audio signal and/or the digital audio signal in response to the correlation coefficients.<br>
14.	The apparatus of claim 12, further comprising:<br>
a peak detector for detecting peaks in the correlation coefficients.<br>
15.	The apparatus of claim 12, wherein:<br>
the first and second filters have passbands between about 600 Hz and about 1600 Hz.<br>
16.	The apparatus of claim 12, further comprising:<br>
a third filter for filtering the correlation coefficients using a moving average to produce an output signal that is representative of the number of samples that are misaligned.<br><br>
WO 2006/110229	PCT/US2006/007236<br>
-14-<br>
17. An apparatus for detecting level alignment of an analog audio signal and a digital audio signal in a hybrid radio system comprising:<br>
a first filter for filtering the analog audio signal to produce a filtered analog audio signal;<br>
a second filter for filtering the digital audio signal to produce a filtered digital audio signal; and<br>
a processor for computing the signal power of the analog audio signal and the signal power of the digital audio signal for an audio segment, and for using a ratio of the signal power of the analog audio signal and the signal power of the digital audio signal to produce a signal representative of a level alignment of the analog audio signal and the digital audio signal.<br>
18.	The apparatus of claim 17, further comprising:<br>
a processor for adjusting a level of the analog audio signal and/or the digital audio signal in response to the signal representative of a level alignment.<br>
19.	The apparatus of claim 17, wherein:<br>
the first and second filters have passbands between about 600 Hz and about 1600 Hz.<br><br>
This invention provides a method of detecting time alignment of an analog audio signal and a digital audio signal in a hybrid radio system. The method comprises the steps of filtering the analog audio signal to produce a filtered analog audio signal, filtering the digital audio signal to produce a filtered digital audio signal, and using the filtered analog audio signal and the filtered digital audio signal to calculate a plurality of correlation coefficients, wherein the correlation coefficients are representative of time alignment between the analog audio signal and the digital audio signal. An apparatus for performing the method is also provided.</td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDM3MTkta29sbnAtMjAwNy1hYnN0cmFjdC5wZGY=" target="_blank" style="word-wrap:break-word;">03719-kolnp-2007-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDM3MTkta29sbnAtMjAwNy1jbGFpbXMucGRm" target="_blank" style="word-wrap:break-word;">03719-kolnp-2007-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDM3MTkta29sbnAtMjAwNy1jb3JyZXNwb25kZW5jZSBvdGhlcnMgMS4xLnBkZg==" target="_blank" style="word-wrap:break-word;">03719-kolnp-2007-correspondence others 1.1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDM3MTkta29sbnAtMjAwNy1jb3JyZXNwb25kZW5jZSBvdGhlcnMgMS4yLnBkZg==" target="_blank" style="word-wrap:break-word;">03719-kolnp-2007-correspondence others 1.2.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDM3MTkta29sbnAtMjAwNy1jb3JyZXNwb25kZW5jZSBvdGhlcnMucGRm" target="_blank" style="word-wrap:break-word;">03719-kolnp-2007-correspondence others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDM3MTkta29sbnAtMjAwNy1kZXNjcmlwdGlvbiBjb21wbGV0ZS5wZGY=" target="_blank" style="word-wrap:break-word;">03719-kolnp-2007-description complete.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDM3MTkta29sbnAtMjAwNy1kcmF3aW5ncy5wZGY=" target="_blank" style="word-wrap:break-word;">03719-kolnp-2007-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDM3MTkta29sbnAtMjAwNy1mb3JtIDEgMS4xLnBkZg==" target="_blank" style="word-wrap:break-word;">03719-kolnp-2007-form 1 1.1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDM3MTkta29sbnAtMjAwNy1mb3JtIDEucGRm" target="_blank" style="word-wrap:break-word;">03719-kolnp-2007-form 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDM3MTkta29sbnAtMjAwNy1mb3JtIDIucGRm" target="_blank" style="word-wrap:break-word;">03719-kolnp-2007-form 2.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDM3MTkta29sbnAtMjAwNy1mb3JtIDMucGRm" target="_blank" style="word-wrap:break-word;">03719-kolnp-2007-form 3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDM3MTkta29sbnAtMjAwNy1mb3JtIDUucGRm" target="_blank" style="word-wrap:break-word;">03719-kolnp-2007-form 5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDM3MTkta29sbnAtMjAwNy1ncGEucGRm" target="_blank" style="word-wrap:break-word;">03719-kolnp-2007-gpa.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDM3MTkta29sbnAtMjAwNy1pbnRlcm5hdGlvbmFsIHB1YmxpY2F0aW9uLnBkZg==" target="_blank" style="word-wrap:break-word;">03719-kolnp-2007-international publication.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDM3MTkta29sbnAtMjAwNy1pbnRlcm5hdGlvbmFsIHNlYXJjaCByZXBvcnQucGRm" target="_blank" style="word-wrap:break-word;">03719-kolnp-2007-international search report.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDM3MTkta29sbnAtMjAwNy1wY3QgcmVxdWVzdCBmb3JtLnBkZg==" target="_blank" style="word-wrap:break-word;">03719-kolnp-2007-pct request form.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzcxOS1LT0xOUC0yMDA3LSgwMy0wNC0yMDEzKS1DT1JSRVNQT05ERU5DRS5wZGY=" target="_blank" style="word-wrap:break-word;">3719-KOLNP-2007-(03-04-2013)-CORRESPONDENCE.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzcxOS1LT0xOUC0yMDA3LSgyOC0wNy0yMDE0KS1BQlNUUkFDVC5wZGY=" target="_blank" style="word-wrap:break-word;">3719-KOLNP-2007-(28-07-2014)-ABSTRACT.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzcxOS1LT0xOUC0yMDA3LSgyOC0wNy0yMDE0KS1DTEFJTVMucGRm" target="_blank" style="word-wrap:break-word;">3719-KOLNP-2007-(28-07-2014)-CLAIMS.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzcxOS1LT0xOUC0yMDA3LSgyOC0wNy0yMDE0KS1DT1JSRVNQT05ERU5DRS5wZGY=" target="_blank" style="word-wrap:break-word;">3719-KOLNP-2007-(28-07-2014)-CORRESPONDENCE.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzcxOS1LT0xOUC0yMDA3LSgyOC0wNy0yMDE0KS1EUkFXSU5HUy5wZGY=" target="_blank" style="word-wrap:break-word;">3719-KOLNP-2007-(28-07-2014)-DRAWINGS.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzcxOS1LT0xOUC0yMDA3LSgyOC0wNy0yMDE0KS1GT1JNLTEucGRm" target="_blank" style="word-wrap:break-word;">3719-KOLNP-2007-(28-07-2014)-FORM-1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzcxOS1LT0xOUC0yMDA3LSgyOC0wNy0yMDE0KS1GT1JNLTIucGRm" target="_blank" style="word-wrap:break-word;">3719-KOLNP-2007-(28-07-2014)-FORM-2.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzcxOS1LT0xOUC0yMDA3LSgyOC0wNy0yMDE0KS1GT1JNLTMucGRm" target="_blank" style="word-wrap:break-word;">3719-KOLNP-2007-(28-07-2014)-FORM-3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzcxOS1LT0xOUC0yMDA3LSgyOC0wNy0yMDE0KS1GT1JNLTUucGRm" target="_blank" style="word-wrap:break-word;">3719-KOLNP-2007-(28-07-2014)-FORM-5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzcxOS1LT0xOUC0yMDA3LSgyOC0wNy0yMDE0KS1PVEhFUlMucGRm" target="_blank" style="word-wrap:break-word;">3719-KOLNP-2007-(28-07-2014)-OTHERS.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzcxOS1LT0xOUC0yMDA3LSgyOC0wNy0yMDE0KS1QRVRJVElPTiBVTkRFUiBSVUxFIDEzNy5wZGY=" target="_blank" style="word-wrap:break-word;">3719-KOLNP-2007-(28-07-2014)-PETITION UNDER RULE 137.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzcxOS1LT0xOUC0yMDA3LUNPUlJFU1BPTkRFTkNFIE9USEVSUyAxLjMucGRm" target="_blank" style="word-wrap:break-word;">3719-KOLNP-2007-CORRESPONDENCE OTHERS 1.3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzcxOS1LT0xOUC0yMDA3LUNPUlJFU1BPTkRFTkNFIE9USEVSUyAxLjQucGRm" target="_blank" style="word-wrap:break-word;">3719-KOLNP-2007-CORRESPONDENCE OTHERS 1.4.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzcxOS1rb2xucC0yMDA3LWZvcm0gMTMucGRm" target="_blank" style="word-wrap:break-word;">3719-kolnp-2007-form 13.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzcxOS1rb2xucC0yMDA3LWZvcm0gMTgucGRm" target="_blank" style="word-wrap:break-word;">3719-kolnp-2007-form 18.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzcxOS1LT0xOUC0yMDA3LUZPUk0gMy0xLjEucGRm" target="_blank" style="word-wrap:break-word;">3719-KOLNP-2007-FORM 3-1.1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzcxOS1LT0xOUC0yMDA3LUdSQU5URUQtU1BFQ0lGSUNBVElPTi1DT01QTEVURS5wZGY=" target="_blank" style="word-wrap:break-word;">3719-KOLNP-2007-GRANTED-SPECIFICATION-COMPLETE.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=YWJzdHJhY3QtMDM3MTkta29sbnAtMjAwNy5qcGc=" target="_blank" style="word-wrap:break-word;">abstract-03719-kolnp-2007.jpg</a></p>
		<br>
		<div class="pull-left">
			<a href="263947-improved-vaccine-against-feline-calicivirus.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="263949-process-for-conversion-of-biomass-to-fuel.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>263948</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>3719/KOLNP/2007</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>49/2014</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>05-Dec-2014</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>27-Nov-2014</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>03-Oct-2007</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>IBIQUITY DIGITAL CORPORATION</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>6711 COLUMBIA GATEWAY DRIVE, SUITE 500, COLUMBIA, MARYLAND 21046 US.</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>IANNUZZELLI, RUSSELL</td>
											<td>7904 SLEAFORD PLACE, BETHESDA, MD 20814</td>
										</tr>
										<tr>
											<td>2</td>
											<td>CHALMERS, HARVEY</td>
											<td>4869 SWEETBIRCH DRIVE, ROCKVILLE, MD 20853</td>
										</tr>
										<tr>
											<td>3</td>
											<td>KROEGER, BRIAN, WILLIAM</td>
											<td>12813 AMBERWOODS WAY SKYESVILLE, MD 21784</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04H 1/00</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/US2006/007236</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2006-03-01</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>11/101,795</td>
									<td>2005-04-08</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/263948-method-for-alignment-of-analog-and-digital-audio-in-a-hybrid-radio-waveform by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2024 22:54:20 GMT -->
</html>
