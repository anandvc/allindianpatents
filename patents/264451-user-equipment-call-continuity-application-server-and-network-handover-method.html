<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/264451-user-equipment-call-continuity-application-server-and-network-handover-method by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 01:27:35 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 264451:USER EQUIPMENT, CALL CONTINUITY APPLICATION SERVER, AND NETWORK HANDOVER METHOD</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">USER EQUIPMENT, CALL CONTINUITY APPLICATION SERVER, AND NETWORK HANDOVER METHOD</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A network handover method applicable to network handover in ringing/ring back tone (RBT) or call hold is provided. According to this method, in ringing/RBT, one party performs a session negotiation with an Other End Point (OEP) via a call continuity application server, and then sends an off-hook signal to the OEP via the call continuity application server after the negotiation succeeds. Further, a call continuity application server and a user equipment (UE) are provided. According to the present invention, in ringing/RBT or call hold, even if the network coverage is not good, the UE may also be handed over to another network through call continuity, so as to effectively prevent the UE from dropping a call in ringing/RBT or call hold and thus improve the conversation quality of the user.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>The application claims priority to China Patent Applications No. 200610122010.8 and<br>
No. 200610139133.2, respectively filed on September 8, 2006, and on October 12, 2006,<br>
and both entitled "USER EQUIPMENT, VOICE CALL CONTINUITY APPLICATION<br>
SERVER, AND NETWORK HANDOVER METHOD", the contents of which are<br>
incorporated herein by reference in their entireties.<br>
BACKGROUND OF THE INVENTION<br>
Field of the Invention<br>
The present invention relates to a technical field of IP multimedia subsystem (IMS), and<br>
more particularly to a method for implementing a voice call continuity (VCC) network<br>
handover in ringing/ring back tone (RBT) or call hold, a related VCC application server<br>
(VCC AS), and a user equipment (UE).<br>
Description of the Related Art<br>
An IP multimedia subsystem (IMS) is a subsystem proposed by the 3rd Generation<br>
Partnership Project (3GPP) in Release 5 (R5) for supporting IP multimedia services, and is<br>
characterized in that session initiation protocol (SIP) is adopted and that the IMS is<br>
irrelevant to the access manners. The IMS provides a universal service platform for future<br>
multimedia applications and is an important step in the evolution to all-IP network service<br>
providing systems.<br>
R5 and R6 for IMS standards were derived in a 3GPP standard system. After R6<br>
became basically stable in March, 2005, R7 was proposed by the 3GPP. R7 not only<br>
enhances the existing system functions, but also adds some completely new functions.<br>
As IMS voice services and circuit-switched (CS) voice services may exist concurrently<br><br>
in a period of time, the handover between voice services is a problem in urgent need of<br>
solutions. A voice call continuity (VCC) function is a new function proposed in R7 for<br>
solving the problem.<br>
As defined according to the above standards, VCC refers to voice call continuity, that is,<br>
the continuity of a call is maintained when the user switches between various access<br>
technologies. For example, when the user moves from a conventional 2G network (e.g., a<br>
global system for mobile communications or code division multiple access network) to a<br>
3G network (e.g., a universal mobile telecommunications system or high-rate packet data<br>
network), the call continues, and meanwhile other 3G services such as high speed internet<br>
access services can be initiated.<br>
Referring to FIG 1, in order to support the VCC, when a user initiates or receives a call<br>
via a circuit switched (CS) network (i.e., a 2G network), all signaling has to enter an IMS<br>
network. A network element VCC application server (VCC AS) in the IMS network is<br>
configured to control a VCC handover. Further, a network element that enables the user to<br>
access the CS network via the IMS network is a media gateway control function (MGCF).<br>
The MGCF also controls a media gateway (MGW) to route bearer traffic.<br>
Currently, the VCC handover is assumed to be performed with an ongoing call, and<br>
VCC handovers in ringing/ring back tone (RBT) (i.e., calling/called situation) and call hold<br>
are not taken into consideration. As a result, problems may occur. For example, when a<br>
user equipment (UE) leaves the coverage of an IMS hot spot and is in ringing/RBT or call<br>
hold, as the UE cannot perform a VCC network handover, a call drop may occur and affect<br>
the conversation quality of the users.<br>
SUMMARY OF THE INVENTION<br>
Accordingly, the present invention is directed to method of a user equipment (UE) to<br>
perform network handover, a call continuity application server, and a UE, so as to support<br>
the UE to perform a call continuity network handover in ringing/ring back tone (RBT) or<br><br>
call hold, and to prevent the UE from dropping a call, thereby improving the conversation<br>
quality of the users.<br>
In order to solve the above problem, a method for enabling a UE to perform network<br>
handover is provided. The method mainly includes the steps of:<br>
performing, by the UE that initiates a handover, a session negotiation on call continuity<br>
handover in a call-hold state with an Other End Ppoint (OEP) via a target network; and<br>
handing over a call to the target network after the session negotiation succeeds.<br>
A method for a UE to perform network handover is further provided. The method<br>
includes the steps of:<br>
receiving a network handover request carrying session description information of the UE<br>
from the UE that initiates a handover; and<br>
if it is detected that a call is in a call-hold state, updating the session description<br>
information and sending session description information carrying call-hold information of<br>
the UE that initiates the handover to an OEP, and handing over the corresponding call to a<br>
target network according to the network handover request after a session negotiation of the<br>
UE with the OEP by using the session description information succeeds.<br>
Accordingly, a UE is provided. The UE includes:<br>
a session negotiation processing unit, adapted to perform a session negotiation on call<br>
continuity handover in a call-hold state with an OEP via a target network; and<br>
a call-hold call continuity handover unit, adapted to hand over a call to the target network<br>
after the session negotiation succeeds.<br>
A call continuity application server is also provided. The server includes:<br>
a call-hold call continuity session negotiation processing unit, adapted to perform a<br><br>
session negotiation for a handover to a target network in a call-hold state; and<br>
a call-hold call continuity handover control unit, adapted to control a call continuity<br>
network handover in a call-hold state after the session negotiation succeeds.<br>
A method for a UE to perform network handover is further provided. The method<br>
includes the steps of:<br>
performing, by a called UE, a session negotiation on call continuity handover in a ringing<br>
state with a calling UE at an OEP via a target network;<br>
handing over a call to the target network after the session negotiation succeeds; and<br>
sending, by the called UE, an off-hook signal to the calling UE at the OEP.<br>
Accordingly, a method for a UE to perform network handover is provided, in which a<br>
network to be handed over is an IP multimedia subsystem (IMS) network and a target<br>
network is a circuit switched (CS) network. The method includes the steps of:<br>
performing, by a calling UE, a session negotiation on call continuity handover in an RBT<br>
state with a called UE at an OEP via the target network;<br>
handing over a call to the target network after the session negotiation succeeds; and<br>
receiving, by the calling UE, an off-hook signal sent by the called UE at the OEP.<br>
A UE is also provided. The UE includes:<br>
a session negotiation processing unit, adapted to perform a session negotiation on call<br>
continuity handover in a ringing state with a calling UE at an OEP via a target network;<br>
a ringing call continuity handover unit, adapted to perform a call continuity network<br>
handover in a ringing state after the session negotiation succeeds; and<br>
an off-hook signal sending unit, adapted to send an off-hook signal to the calling UE at<br><br>
the OEP according to a handover result of the ringing call continuity handover unit.<br>
A UE is further provided. The UE includes:<br>
a session negotiation processing unit, adapted to perform a session negotiation on call<br>
continuity handover in an RBT state with a called UE at an OEP via a target network;<br>
an RBT call continuity handover unit, adapted to perform a call continuity network<br>
handover in an RBT state after the session negotiation succeeds; and<br>
a receiving unit, adapted to receive an off-hook signal sent by the called UE at the OEP<br>
after the network handover is completed.<br>
Accordingly, a call continuity application server is provided. The server includes:<br>
a ringing/RBT call continuity session negotiation control unit, adapted to control a<br>
session negotiation on call continuity network handover in a ringing/RBT state; and<br>
an off-hook signal identification and transmission unit, adapted to identify an off-hook<br>
signal of a called UE and transmit the off-hook signal to a calling UE.<br>
Compared with the prior art, the present invention has the following beneficial effects.<br>
According to the present invention, in ringing/RBT, one party performs a session<br>
negotiation with an OEP via a call continuity application server, and then sends an off-hook<br>
signal to the OEP via the call continuity application server after the negotiation succeeds,<br>
thereby achieving a call continuity network handover in ringing/RBT. Further, in call hold,<br>
a UE that initiates a handover performs a call-hold session negotiation with an OEP via a<br>
call continuity application server in a target network, and is then handed over to the target<br>
network after the session negotiation succeeds, thereby achieving a call continuity handover<br>
in call hold. Therefore, in ringing/RBT or call hold, even if the network coverage is not<br>
good, the UE may also be handed over to another network via a call continuity application<br>
server, so as to effectively prevent the UE from dropping a call in ringing/RBT or call hold<br><br>
and thus improve the conversation quality of the users.<br>
BRIEF DESCRIPTION OF THE DRAWINGS<br>
The present invention will become better understood from the detailed description given<br>
herein below for illustration only, and thus are not limitative of the present invention.<br>
FIG. 1 is a reference model of a voice call continuity (VCC) structure in the prior art;<br>
FIG. 2 is a flow chart of a method for a called user equipment (UE) to perform network<br>
handover in ringing according to an embodiment of the present invention;<br>
FIG. 3 is a flow chart of a method for a calling UE to perform network handover in RBT<br>
according to an embodiment of the present invention;<br>
FIG. 4 is a flow chart of a method for a called UE to perform handover from a circuit<br>
switched (CS) network to an IP multimedia subsystem (IMS) network in ringing according<br>
to an embodiment of the present invention;<br>
FIG 5 is a flow chart of a method for a called UE to perform handover from an IMS<br>
network to a CS network in ringing according to an embodiment of the present invention;<br>
FIG. 6 is a flow chart of a method for a calling UE to perform handover from an IMS<br>
network to a CS network in RBT according to an embodiment of the present invention;<br>
FIG. 7 is a flow chart of a method for a UE to perform handover from a CS network to<br>
an IMS network in call hold according to a first embodiment of the present invention;<br>
FIG 8 is a flow chart of a method for a UE to perform handover from a CS network to<br>
an IMS network in call hold according to a second embodiment of the present invention;<br>
FIG. 9 is a flow chart of a method for a UE to perform handover from a CS network to<br>
an IMS network in call hold according to a third embodiment of the present invention;<br><br>
FIG. 10 is a flow chart of a method for a UE to perform handover from an IMS network<br>
to a CS network in call hold according to a first embodiment of the present invention;<br>
FIG. 11 is a flow chart of a method for a UE to perform handover from an IMS network<br>
to a CS network in call hold according to a second embodiment of the present invention;<br>
FIG. 12 is a schematic structural view of a UE for performing a ringing VCC network<br>
handover according to an embodiment of the present invention;<br>
FIG 13 is a schematic structural view of a UE for performing an RBT VCC network<br>
handover according to an embodiment of the present invention;<br>
FIG. 14 is a schematic structural view of a VCC AS for performing a ringing/RBT VCC<br>
network handover control according to an embodiment of the present invention;<br>
FIG 15 is a schematic structural view of a UE for performing a call-hold VCC network<br>
handover according to an embodiment of the present invention; and<br>
FIG. 16 is a schematic structural view of a VCC AS for performing a call-hold VCC<br>
network handover control according to an embodiment of the present invention.<br>
DETAILED DESCRIPTION OF THE EMBODIMENTS<br>
In the embodiments of the present invention, in ringing/RBT, one party performs a<br>
session negotiation with an Other End Point (OEP) via a call continuity application server<br>
(the call continuity application server includes voice, video, and/or audio-video call<br>
continuity application servers, and is illustrated hereinafter by taking a voice call continuity<br>
application server (VCC AS) as an example), and then the VCC AS sends an off-hook<br>
signal to the OEP after the negotiation succeeds, thereby achieving a VCC network<br>
handover in ringing/RBT. Further, in call hold, a user equipment (UE) that initiates a<br>
handover performs a call-hold session negotiation with an OEP via a VCC AS in a target<br>
network, and is then handed over to the target network after the session negotiation<br>
succeeds. Therefore, the problem that when a UE is in ringing/RBT or call hold and the<br><br>
network coverage is not good, the UE cannot perform a VCC handover, thus resulting in a<br>
poor call quality of the user, is solved. Operation flows of a ringing network handover, an<br>
RBT network handover, and a call-hold network handover are described below,<br>
respectively.<br>
In an embodiment of the present invention, a method for a UE to perform network<br>
handover is provided. The method includes the steps of: performing, by the UE that<br>
initiates a handover, a session negotiation on call continuity handover in a call-hold state<br>
with an OEP via a target network; and handing over a call to the target network after the<br>
session negotiation succeeds. In this embodiment, the UE performs the call-hold session<br>
negotiation with the OEP via a call continuity application server in the target network. In<br>
this embodiment, the method further includes: sending, by the UE, a network handover<br>
request carrying session description information of the UE to the call continuity application<br>
server. The performing the session negotiation further includes: performing a session<br>
negotiation according to the session description information. The handing over the call to<br>
the target network after the session negotiation succeeds further includes handing over a call<br>
corresponding to the network handover request to the target network after the session<br>
negotiation according to the session description information succeeds.<br>
In this embodiment, the session description information carries call-hold information of<br>
the UE that initiates the handover.<br>
When a network to be handed over by the UE that initiates the handover is a circuit<br>
switched (CS) network and the target network is an IP multimedia subsystem (IMS)<br>
network, the performing, by the UE that initiates the handover, the call-hold session<br>
negotiation with the OEP via the call continuity application server in the target network<br>
includes: sending, by the UE that initiates the handover, a network handover request<br>
carrying session description information of the UE to a call continuity application server via<br>
the IMS network.<br>
When the network to be handed over is an IMS network and the target network is a CS<br><br>
network, the performing, by the UE that initiates the handover, the call-hold session<br>
negotiation with the OEP via the call continuity application server in the target network<br>
includes: sending, by the UE that initiates the handover, an INVITE message to a call<br>
continuity application server via the CS network, a mobile switching center (MSC), and a<br>
media gateway control function (MGCF). The INVITE message contains session<br>
description information of the MGCF.<br>
In another embodiment of the present invention, a method for a UE to perform network<br>
handover is provided, which includes the steps of: receiving a network handover request<br>
carrying session description information of the UE from the UE that initiates a handover; if<br>
it is detected that a call is in a call-hold state, updating the session description information<br>
and sending session description information carrying call-hold information of the UE that<br>
initiates the handover to an OEP; and handing over the corresponding call to a target<br>
network according to the network handover request after a session negotiation of the UE<br>
with the OEP by using the session description information succeeds.<br>
The method further includes: receiving session description information carrying<br>
call-hold information of the OEP fed back from the OEP; and sending the session<br>
description information carrying the call-hold information of the OEP to the UE that<br>
initiates the handover.<br>
Moreover, when the detected call-hold state is a call hold actively initiated by the UE<br>
that initiates the handover, the session description information carrying the call-hold<br>
information of the UE that initiates the handover is send-only (sendonly) session description<br>
information, and the session description information carrying the call-hold information of<br>
the OEP is receive-only (recvonly) session description information.<br>
In addition, when the call-hold state detected by a call continuity application server is a<br>
call hold initiated by the OEP, the session description information carrying the call-hold<br>
information of the UE that initiates the handover is recvonly session description<br>
information, and the session description information carrying the call-hold information of<br><br>
the OEP is sendonly session description information.<br>
The recvonly session description information is added by the UE that initiates the<br>
handover or the call continuity application server.<br>
In this embodiment, the method further includes: releasing a call leg of a network to be<br>
handed over.<br>
When the network to be handed over is an IMS network and the target network is a CS<br>
network, an INVITE message sent by the UE that initiates the handover via the CS network<br>
and an MSC is received from an MGCF, and the INVITE message contains session<br>
description information of the MGCF. The updating the session description information<br>
and sending the session description information carrying the call-hold information of the<br>
UE that initiates the handover to the OEP further includes: generating an UPDATE message<br>
of the session description information according to the INVITE message, and sending an<br>
INVITE or UPDATE message that contains session description information carrying<br>
call-hold information of the MGCF to an OEP.<br>
When the detected call-hold state is a call hold actively initiated by the UE that initiates<br>
the handover, the session description information carrying the call-hold information of the<br>
MGCF is sendonly session description information, and the session description information<br>
carrying the call-hold information of the OEP is recvonly session description information.<br>
After the session negotiation succeeds, the method further includes: synchronizing call-hold<br>
states of the UE that initiates the handover and the MSC.<br>
Further, when the detected call-hold state is a call hold initiated by the OEP, the session<br>
description information carrying the call-hold information of the MGCF is recvonly session<br>
description information, and the session description information carrying the call-hold<br>
information of the OEP is sendonly session description information. After the session<br>
negotiation succeeds, the method further includes: synchronizing call-hold states of the call<br>
continuity application server and the CS network.<br><br>
In an embodiment of the present invention, a method for a UE to perform network<br>
handover is provided. The method includes the steps of: performing, by a called UE, a<br>
session negotiation on call continuity handover in a ringing state with a calling UE at an<br>
OEP via a target network; and handing over a call to the target network after the session<br>
negotiation succeeds, and sending, by the called UE, an off-hook signal to the calling UE at<br>
the OEP. The called UE performs the ringing session negotiation on call continuity<br>
handover with the calling UE at the OEP via a call continuity application server in the target<br>
network. The handing over the call to the target network after the session negotiation<br>
succeeds, and sending, by the called UE, the off-hook signal to the calling UE at the OEP<br>
includes: sending, by the called UE, an off-hook signal to the call continuity application<br>
server after the call is handed over; and detecting, by the call continuity application server,<br>
that the called UE is off-hook, and then sending, by the call continuity application server,<br>
the off-hook signal to the calling UE at the OEP.<br>
The sending, by the called UE, the off-hook signal to the call continuity application<br>
server includes: sending, by the called UE, signaling of an off-hook signal to the call<br>
continuity application server via a network to be handed over where the called UE is<br>
located.<br>
The sending, by the called UE, the off-hook signal to the call continuity application<br>
server includes: sending an off-hook signal to the call continuity application server through<br>
a session initiation protocol (SlP)-based notification message, an unstructured<br>
supplementary service data (USSD) service, or a short message service (SMS).<br>
After the detecting, by the call continuity application server, that the called UE is<br>
off-hook, the method further includes: releasing, by the call continuity application server, a<br>
call leg of the network to be handed over.<br>
When the network to be handed over is a CS network and the target network is an IMS<br>
network, the performing, by the called UE, the ringing session negotiation on call continuity<br>
handover with the calling UE at the OEP via the call continuity application server in the<br><br>
target network includes: sending, by the called UE, a session INVITE message carrying to<br>
session description information of the called UE to a call continuity application server via<br>
the IMS network; detecting, by the call continuity application server, that the call is in a<br>
non-conversation state, generating, by the call continuity application server, an UPDATE<br>
message according to the session INVITE message, and sending, by the call continuity<br>
application server, the UPDATE message to the calling UE at the OEP; feeding back, by the<br>
calling UE at the OEP, an update response message carrying session description information<br>
of the calling UE at the OEP to the call continuity application server; and generating, by the<br>
call continuity application server, a temporary response message according to the update<br>
response message, and sending, by the call continuity application server, the temporary<br>
response message carrying the session description information of the calling UE to the<br>
called UE.<br>
When the network to be handed over is an IMS network and the target network is a CS<br>
network, the performing, by the called UE, the ringing session negotiation on call continuity<br>
handover with the calling UE at the OEP via the call continuity application server includes:<br>
initiating, by the called UE, a call origination message to an MSC via the CS network;<br>
generating, by the MSC, an initial address message (IAM) according to the call origination<br>
message, and sending, by the MSC, the IAM to an MGCF; resolving, by the MGCF, the<br>
IAM to obtain numbers of the called UE and a call continuity application server, feeding<br>
back, by the MGCF, an address complete message (ACM) to the MSC, and sending, by the<br>
MGCF, a session INVITE message carrying session description information of the MGCF<br>
to the call continuity application server, in which the session INVITE message contains the<br>
numbers of the called UE and the call continuity application server; detecting, by the call<br>
continuity application server, that the call is in a non-conversation state, generating, by the<br>
call continuity application server, an UPDATE message of the session description<br>
information according to the session INVITE message, and sending, by the call continuity<br>
application server, the UPDATE message to the calling UE at the OEP; feeding back, by the<br>
calling UE at the OEP, an update response message carrying session description information<br>
of the calling UE at the OEP to the call continuity application server; and generating, by the<br><br>
call continuity application server, a temporary response message carrying the session<br>
description information of the calling UE at the OEP according to the update response<br>
message, and sending, by the call continuity application server, the temporary response<br>
message to the MGCF.<br>
In another embodiment of the present invention, a method for a UE to perform network<br>
handover is provided, in which a network to be handed over is an IMS network and a target<br>
network is a CS network. The method includes the steps of: performing, by a calling UE, a<br>
session negotiation on call continuity handover in an RBT state with a called UE at an OEP<br>
via the target network; and handing over a call to the target network after the session<br>
negotiation succeeds, and receiving, by the calling UE, an off-hook signal sent by the called<br>
UE at the OEP.<br>
The calling UE performs the RBT session negotiation on call continuity handover with<br>
the called UE at the OEP via a call continuity application server in the target network.<br>
After the handing over the call to the target network after the session negotiation<br>
succeeds, the method further includes: sending, by the called UE at the OEP, an off-hook<br>
signal to the call continuity application server at the OEP after the session negotiation<br>
succeeds; and sending, by the call continuity application server, the received off-hook signal<br>
to the calling UE.<br>
The performing, by the calling UE, the RBT session negotiation on call continuity<br>
handover with the called UE at the OEP includes: initiating, by the calling UE, a call<br>
origination message to an MSC via the CS network; generating, by the MSC, an IAM<br>
according to the call origination message, and sending, by the MSC, the IAM to an MGCF;<br>
resolving, by the MGCF, the IAM to obtain numbers of the calling UE and a call continuity<br>
application server, feeding back, by the MGCF, an ACM to the MSC, and sending, by the<br>
MGCF, a session INVITE message carrying session description information of the MGCF<br>
to the call continuity application server, in which the session INVITE message contains the<br>
numbers of the calling UE and the call continuity application server; detecting, by the call<br><br>
continuity application server, that the call is in a non-conversation state, generating, by the<br>
call continuity application server, an UPDATE message of the session description<br>
information according to the session INVITE message, and sending, by the call continuity<br>
application server, the UPDATE message to the called UE at the OEP; feeding back, by the<br>
called UE at the OEP, an update response message carrying session description information<br>
of the called UE at the OEP to the call continuity application server; and generating, by the<br>
call continuity application server, a temporary response message carrying the session<br>
description information of the called UE at the OEP according to the update response<br>
message, and sending, by the call continuity application server, the temporary response<br>
message to the MGCF.<br>
In another embodiment of the present invention, a method for a UE to perform network<br>
handover is further provided, which includes the steps of: performing, by the UE that<br>
initiates a handover, a session negotiation on call continuity handover in a call-hold state<br>
with an OEP via a target network; and handing over a call to the target network after the<br>
session negotiation succeeds.<br>
The UE performs the call-hold session negotiation with the OEP via a call continuity<br>
application server in the target network.<br>
After the performing the session negotiation, the method further includes: releasing, by<br>
the call continuity application server, a call leg of a network to be handed over.<br>
When the network to be handed over is a CS network and the target network is an IMS<br>
network, the performing, by the UE that initiates the handover, the call-hold session<br>
negotiation with the OEP via the call continuity application server in the target network<br>
includes: sending, by the UE that initiates the handover, a network handover request<br>
carrying session description information of the UE to a call continuity application server via<br>
the IMS network; if the call continuity application server detects that a call is in a call-hold<br>
state, updating the session description information and sending session description<br>
information carrying call-hold information of the UE that initiates the handover to an OEP;<br><br>
feeding back, by the OEP, session description information carrying call-hold information of<br>
the OEP to the call continuity application server; and sending, by the call continuity<br>
application server, the session description information carrying the call-hold information of<br>
the OEP to the UE that initiates the handover.<br>
When the call-hold state detected by the call continuity application server is a call hold<br>
actively initiated by the UE that initiates the handover, the session description information<br>
carrying the call-hold information of the UE that initiates the handover is sendonly session<br>
description information, and the session description information carrying the call-hold<br>
information of the OEP is recvonly session description information.<br>
When the call-hold state detected by the call continuity application server is a call hold<br>
initiated by the OEP, the session description information carrying the call-hold information<br>
of the UE that initiates the handover is recvonly session description information, and the<br>
session description information carrying the call-hold information of the OEP is sendonly<br>
session description information.<br>
The recvonly session description information is added by the UE that initiates the<br>
handover or the call continuity application server.<br>
When the network to be handed over is an IMS network and the target network is a CS<br>
network, the performing, by the UE that initiates the handover, the call-hold session<br>
negotiation with the OEP via the call continuity application server in the target network<br>
includes: initiating, by the UE that initiates the handover, a call origination message to an<br>
MSC via the CS network; generating, by the MSC, an IAM according to the call origination<br>
message, and sending, by the MSC, the IAM to an MGCF; sending, by the MGCF, an<br>
INVITE message containing session description information of the MGCF to a call<br>
continuity application server; detecting, by the call continuity application server, that the<br>
call is in a call-hold state, generating, by the call continuity application server, an UPDATE<br>
message of the session description information according to the INVITE message, and<br>
sending, by the call continuity application server, an INVITE or UPDATE message that<br><br>
contains session description information carrying call-hold information of the MGCF to the<br>
OEP; feeding back, by the OEP, session description information carrying call-hold<br>
information of the OEP to the call continuity application server; and sending, by the call<br>
continuity application server, the session description information carrying the call-hold<br>
information of the OEP to the MGCF.<br>
When the call-hold state detected by the call continuity application server is a call hold<br>
actively initiated by the UE that initiates the handover, the session description information<br>
carrying the call-hold information of the MGCF is sendonly session description information,<br>
and the session description information carrying the call-hold information of the OEP is<br>
recvonly session description information.<br>
After the session negotiation succeeds, the method further includes: synchronizing<br>
call-hold states of the UE that initiates the handover and the MSC.<br>
When the call-hold state detected by the call continuity application server is a call hold<br>
initiated by the OEP, the session description information carrying the call-hold information<br>
of the MGCF is recvonly session description information, and the session description<br>
information carrying the call-hold information of the OEP is sendonly session description<br>
information.<br>
After the session negotiation succeeds, the method further includes: synchronizing<br>
call-hold states of the call continuity application server and the CS network.<br>
FIG 2 is a flow chart of a method for a called UE to perform network handover in<br>
ringing according to an embodiment of the present invention. Referring to FIG 2, the<br>
method includes the following steps.<br>
In Step s11, a called UE performs a ringing session negotiation on call continuity<br>
handover with a calling UE at an OEP via a target network.<br>
Preferably, the called UE performs the ringing session negotiation on call continuity<br><br>
handover with the calling UE at the OEP via a VCC AS in the target network. In practice,<br>
the specific processing flow of the session negotiation varies with different target networks<br>
to which a call is to be handed over.<br>
In Step s12, a call is handed over to the target network after the session negotiation<br>
succeeds, and the called UE sends an off-hook signal to the calling UE at the OEP.<br>
That is to say, the called UE is handed over to the target network after the session<br>
negotiation succeeds and then sends an off-hook signal to the calling UE at the OEP via the<br>
VCC AS, i.e., the called UE sends an off-hook signal to the VCC AS, and the VCC AS<br>
sends the off-hook signal to the calling UE at the OEP when detecting that the called UE is<br>
off-hook.<br>
It should be noted that, in the present invention, after the VCC AS detects that the called<br>
UE is off-hook, the method further includes: releasing, by the VCC AS, a call leg of the<br>
network to be handed over. In practice, the call leg of the network to be handed over may<br>
also be removed in other manners, and the details are not given herein again.<br>
FIG 3 is a flow chart of a method for a calling UE to perform network handover in RBT<br>
according to an embodiment of the present invention, in which a network to be handed over<br>
is, for example, an IMS network, and a target network is, for example, a CS network.<br>
Referring to FIG 3, the method includes the following steps.<br>
In Step s21, a calling UE performs an RBT VCC handover session negotiation with a<br>
called UE at an OEP via the target network.<br>
Preferably, the calling UE performs the RBT VCC handover session negotiation with<br>
the called UE at the OEP via a VCC AS in the CS network.<br>
In Step s22, a call is handed over to the target network after the session negotiation<br>
succeeds, and the calling UE receives an off-hook signal sent by the called UE at the OEP.<br>
That is to say, the called UE at the OEP sends an off-hook signal, and the VCC AS<br><br>
detects the off-hook signal and then sends the off-hook signal to the calling UE, thereby<br>
completing the handover.<br>
The network handover method of the present invention is described in detail below<br>
through a specific message processing flow.<br>
FIG. 4 is a flow chart of a method for a called UE to perform handover from a CS<br>
network to an IMS network in ringing according to an embodiment of the present invention.<br>
In this embodiment, messages are based on an SIP protocol, and a specific processing flow<br>
is described as follows.<br>
In Step s101, an OEP (including a calling terminal and a related network) sends a<br>
session INVITE message to an interrogating-call session control function (I-CSCF) of an<br>
IMS network where a UE 1 is located. The I-CSCF selects a service-call session control<br>
function (S-CSCF) and forwards the INVITE message to the S-CSCF. The INVITE<br>
message contains uniform resource identifier (URI) information of the called UE 1 (e.g. ,<br>
<a href="../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="b0f2dfd2f0d8c5d1c7d5d99ed3dfdd">[email&#160;protected]</a>), and session description protocol (SDP) information of the OEP<br>
(including media type, coding scheme, and media-transmission/reception IP address and<br>
port to be established).<br>
Based on a filtering policy, the S-CSCF sends the INVITE message to a VCC AS, and<br>
the VCC AS establishes an SIP call dialog 1 with the OEP as an SIP back-to-back user agent<br>
(B2BUA).<br>
In Step s102 to Step s105, the VCC AS determines that the call needs to be distributed<br>
via a CS network, and then obtains a temporary local directory number (TLDN) from a<br>
home location register (HLR) via a mobile application protocol (MAP). In this<br>
embodiment, an MAP message may be adopted, and other corresponding protocols may<br>
also be adopted. The MAP message contains a localizer request (LOCREQ) message and a<br>
router request (ROUTREQ) message.<br>
In Step s106, the VCC AS modifies the previously received INVITE message to modify<br><br>
a Request URI into an E. 164 number (for example, a TLDN in a code division multiple<br>
access (CDMA) network, or a mobile subscriber routing number (MSRN) in a global<br>
system for mobile communications (GSM)/universal mobile telecommunications system<br>
(UMTS) network) that can be routed to the CS network, and then sends the E.164 number<br>
to an MGCF via the S-CSCF, so that an SIP call dialog 2 is established between the VCC<br>
AS and the MGCF through the INVITE message.<br>
In Step sl07 to Step sl08, the MGCF converts the INVITE message into an IAM, and<br>
sends the IAM to an MSC/VLR. The IAM contains trunk (TRK) information allocated<br>
between an MGW and the MSC. The MSC/VLR returns an ACM.<br>
In Step s109, the UE 1 and the MSC/VLR complete a call set-up, and a local ringing<br>
tone is generated.<br>
In Step s110 to Step s1ll, the MGCF sends a 180 ringing message to the VCC AS via<br>
the S-CSCF. The 180 ringing message contains MGW SDP, allocated TRK information<br>
(for connecting the OEP) of the MGW. The VCC AS then forwards the 180 ringing<br>
message to the OEP. That is to say, the VCC AS forwards the 180 ringing message to the<br>
I-CSCF via the S-CSCF, and the I-CSCF then forwards the 180 ringing message to the OEP.<br>
Step s101 to Step s111 are a flow of distributing a call via a CS network. In the present<br>
invention, after the call is distributed, the UE may also initiate a VCC network handover<br>
when determining that the call needs to be handed over to an IMS network according to<br>
some predefined policies (for example, changes in wireless conditions, and the call<br>
distributed via the CS network has been set up and is waiting for a user to answer), and the<br>
following steps are performed.<br>
In Step s112, the UE 1 sends an INVITE message to the VCC AS via the S-CSCF. The<br>
INVITE message contains a Request URI (which is an E.164 number of the VCC AS), and<br>
may also contain SDP information of the UE 1.<br>
In Step s113 to Step s114, the VCC AS detects that the call is in a non-conversation sate,<br><br>
generates an UPDATE message (in which the Request URI is modified into an address of<br>
the OEP) according to the received INVITE message, and sends the UPDATE message to<br>
the OEP. The OEP returns a 200 OK response message. The 200 OK response message<br>
contains SDP information returned by the OEP.<br>
In Step s115, the VCC AS generates a temporary response message (which is a 183<br>
message in this embodiment) according to the received 200 OK response message. The<br>
temporary response message (i.e., the 183 message) contains the SDP information returned<br>
by the OEP. The VCC AS sends the temporary response message to the UE 1 and waits for<br>
a user to off-hook, and then Step s116 is performed. Alternatively, if the UE determines<br>
that no signal from the CS network is available, Step s119 is performed.<br>
In Step s116 to Step s118, the UE 1 detects that the user is off-hook, and sends an<br>
off-hook signal to the MSC/VLR through the call setup via the CS network (for example,<br>
through a CONNECT signaling message). After detecting the off-hook signal, the<br>
MSC/VLR sends an ANM message to the MGCR The MGCF converts the ANM message<br>
into a 200 OK response message (a final response to Step s106) and then sends the 200 OK<br>
response message to the VCC AS.<br>
In Step s119, the UE 1 sends a MESSAGE message to the VCC AS via an IP access<br>
network. The text of the MESSAGE message indicates that the user is off-hook. The<br>
VCC AS resolves the MESSAGE message correctly and then returns a 200 OK response<br>
message in response to the MESSAGE message.<br>
In Step sl20 (including Step sl20a to Step sl20e), the VCC AS releases a call leg<br>
(including the SIP call dialog 2) on the CS network side.<br>
It should be noted that, in this embodiment, directed to Step s116 to Step s118, the VCC<br>
AS sends a BYE message to the MGCF; while directed to Step s119, the VCC AS may send<br>
a CANCEL message instead, and the MGCF returns a 200 OK message. The MGCF sends<br>
a release (RLS) message to the MSC to release the call on the MSC side, the MSC sends an<br><br>
RLS to the UE 1 to release a wireless connection, the UE returns a release complete (RLC)<br>
message, and the MSC returns an RLC message to the MGCF.<br>
In Step sl21 to Step sl22, the VCC AS generates a 200 OK message (an off-hook signal,<br>
a final response to Step s101) and sends the 200 OK message to the OEP. The OEP returns<br>
an acknowledgement (ACK) message.<br>
In Step s123 to Step s124, the VCC AS generates a 200 OK message (a final response to<br>
Step s112) and sends the 200 OK message to the UE 1. The UE 1 returns an ACK<br>
message.<br>
FIG. 5 is a flow chart of a method for a called UE to perform handover from an IMS<br>
network to a CS network in ringing according to an embodiment of the present invention.<br>
In this embodiment, messages are based on an SIP protocol, and a specific processing flow<br>
is described as follows.<br>
In Step s201, an OEP (including a calling terminal and a related network) sends a<br>
session INVITE message to an I-CSCF of an IMS network where a UE 1 is located. The<br>
I-CSCF selects an S-CSCF and forwards the INVITE message to the S-CSCF. The<br>
INVITE message contains URI information of the called UE 1 (for example,<br>
<a href="../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="296b464b69415c485e4c40074a4644">[email&#160;protected]</a>), and SDP information of the OEP (including media type, coding scheme,<br>
and media-transmission/reception IP address and port to be established).<br>
Based on a filtering policy, the S-CSCF sends the INVITE message to a VCC AS, and<br>
the VCC AS establishes an SIP call dialog 1 with the OEP as an SIP B2BUA.<br>
In Step s202, the VCC AS determines that the call needs to be distributed via the IMS<br>
network and then returns the INVITE message to the S-CSCF, and the S-CSCF sends the<br>
INVITE message to the UE 1, so that an SIP call dialog 2 is established between the UE 1<br>
and the VCC AS.<br>
In Step s203, the UE 1 returns a 180 ringing message carrying SDP information<br><br>
(accepted media type, coding scheme, and media-transmission/reception IP address and port)<br>
thereof to the S-CSCF, and the S-CSCF forwards the 180 ringing message to the VCC AS.<br>
In Step s204, the VCC AS returns the 180 ringing message to the I-CSCF via the<br>
S-CSCF, and at last, the I-CSCF sends the 180 ringing message to the OEP.<br>
The UE 1 generates a local ringing tone, and then waits for a user of the UE 1 to<br>
off-hook. In the present invention, the UE 1 initiates a VCC network handover when<br>
determining that the call needs to be handed over to a CS network according to some<br>
predefined policies (for example, changes in wireless conditions, and a media negotiation of<br>
the call has been completed), and the following steps are performed.<br>
In Step s205, the UE 1 initiates a call via the CS network, and sends a call origination<br>
message to an MSC/VLR. The call origination message contains a called party number<br>
(CdPN) (i.e., a service code + an E.164 number of the VCC AS) and a calling party number<br>
(CgPN) (i.e., a mobile directory number (MDN) of the UE 1, for example 133XXXX5678).<br>
If required, an authentication and registration process of the CS network is performed.<br>
In Step s206, the MSC/VLR generates an IAM and sends the IAM to an MGCF. The<br>
E.164 number of the VCC AS is used as the CdPN, the MDN of UE 1 is used as the CgPN,<br>
and the MSC/VLR discards the value of the service code.<br>
In Step s207, the MSC/VLR sends a traffic channel assignment message to the UE 1,<br>
that is, the CS network assigns a traffic channel to the UE 1, and the UE 1 captures the<br>
traffic channel.<br>
In Step s208, the MGCF sends an ACM to the MSC/VLR.<br>
In Step s209, the MGCF generates an INVITE message (including TRK information<br>
allocated to the call, i.e., MGW SDP, containing IP address and bandwidth). A Request<br>
URI in the INVITE message is the E.164 number of the VCC AS. The message is sent to<br>
the VCC AS via the I-CSCF.<br><br>
In Step s210 to Step s211, the VCC AS detects that the call is in a non-conversation sate,<br>
generates an UPDATE message (in which the Request URI is modified into an address of<br>
the OEP) according to the received INVITE message, and sends the UPDATE message to<br>
the OEP. The OEP returns a 200 OK response message. The 200 OK response message<br>
contains SDP information returned by the OEP.<br>
In Step s212, the VCC AS generates a 183 message according to the received 200 OK<br>
response message, sends the 183 message to the UE 1, and then waits for the user of the UE<br>
1 to off-hook.<br>
In Step s213, the UE 1 detects that the user is off-hook (at any time after Step s215), and<br>
sends an off-hook signal to the VCC AS through the 200 OK response message. The VCC<br>
AS identifies that the user is off-hook.<br>
Alternatively, if the UE 1 detects that the user is off-hook, but an IP access network is<br>
no longer available, Step s214 is performed, in which an off-hook message (for example, a<br>
packaged 200 OK message) is sent to the VCC AS through a bearer service such as an<br>
unstructured supplementary service data (USSD) service and a short message service (SMS)<br>
of the CS network.<br>
In Step s215 to Step s216, the VCC AS releases the SIP call dialog 2.<br>
It should be noted that, in this embodiment, directed to Step s213, the VCC AS sends a<br>
BYE message to release the SIP call dialog 2; while directed to Step s214, the VCC AS may<br>
send a CANCEL message to release the SIP call dialog 2 instead.<br>
In Step s217 to Step s218, the VCC AS sends a 200 OK response message (a final<br>
response to Step s201) to the OEP, and the OEP returns an ACK message for<br>
acknowledgement.<br>
In Step s219 to Step s220, the VCC AS generates a 200 OK response message (a final<br>
response to Step s209) and sends the 200 OK response message to the MGCF. The MGCF<br><br>
may either return an ACK message or send a CON/ACM to the MSC to indicate that a<br>
conversation can be carried out.<br>
FIG. 6 is a flow chart of a method for a calling UE to perform handover from an IMS<br>
network to a CS network in RBT according to an embodiment of the present invention. In<br>
this embodiment, messages are based on an SIP protocol, and a specific processing flow is<br>
described as follows.<br>
In Step s301, a UE 1 initiates a call via an IMS network, and sends a session INVITE<br>
message to an S-CSCF of the IMS network where the UE 1 is located. The INVITE<br>
message contains an address of a called UE at an OEP (e.g., <a href="../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="55173a37153d203422303c7b363a38">[email&#160;protected]</a>), and SDP<br>
information of the UE 1 (including media type, coding scheme, and<br>
media-transmission/reception IP address and port to be established).<br>
Based on a filtering policy, the S-CSCF sends the INVITE message to a VCC AS, and<br>
the VCC AS establishes an SIP call dialog 1 with the UE 1 as an SIP B2BUA.<br>
In Step s302, the VCC AS returns the INVITE message to the S-CSCF, and the S-CSCF<br>
sends the INVITE message to the OEP, so that an SIP call dialog 2 is established between<br>
the VCC AS and the OEP.<br>
In Step s303, the OEP returns a 180 ringing message (indicating that the OEP is in a<br>
ringing state and waiting for a user to answer) carrying SDP information (accepted media<br>
type, coding scheme, and media-transmission/reception IP address and port) thereof to the<br>
S-CSCF, and the S-CSCF forwards the 180 ringing message to the VCC AS.<br>
In Step s304, the VCC AS returns the 180 ringing message to the S-CSCF, and the<br>
S-CSCF sends the 180 ringing message to the UE 1. The UE 1 may generate a local<br>
ringing tone, and then wait for a user of the UE 1 to off-hook. In the present invention, the<br>
UE 1 initiates a VCC network handover when determining that the call needs to be handed<br>
over to a CS network according to some predefined policies (for example, changes in<br>
wireless conditions, and a media negotiation of the call has been completed), and the<br><br>
following steps are performed.<br>
In Step s305, the UE 1 initiates a call via the CS network, and sends a call origination<br>
message to an MSC. The call origination message contains a CdPN (i.e., a service code +<br>
an E.164 number of the VCC AS) and a CgPN (i.e., an MDN of the UE 1).<br>
If required, an authentication and registration process of the CS network is performed.<br>
In Step s306, the MSC generates an integrated services digital network-user part (ISUP)<br>
IAM and sends the ISUP IAM to an MGCF. The E.164 number of the VCC AS is used as<br>
the CdPN, the MDN of UE 1 is used as the CgPN, and the MSC/VLR discards the value of<br>
the service code.<br>
In Step s307, the MSC/VLR sends a traffic channel assignment message to the UE 1,<br>
that is, the CS network assigns a traffic channel to the UE 1, and the UE 1 captures the<br>
traffic channel.<br>
In Step s308, the MGCF sends an ACM to the MSC/VLR.<br>
In Step s309, the MGCF generates an INVITE message (including TRK information<br>
allocated to the call, i.e., MGW SDP, containing IP address and bandwidth). A Request<br>
URI in the INVITE message is the E.164 number of the VCC AS. The message is sent to<br>
the VCC AS via an I-CSCF.<br>
In Step s310 to Step s311, the VCC AS detects that the call is in a non-conversation sate,<br>
generates an UPDATE message (in which the Request URI is modified into an address of<br>
the OEP) according to the received INVITE message, and sends the UPDATE message to<br>
the OEP. The OEP returns a 200 OK response message. The 200 OK response message<br>
contains SDP information returned by the OEP.<br>
In Step s312, the VCC AS generates a 183 message containing the returned SDP<br>
information according to the received 200 OK response message (in response to Step s309),<br>
sends the 183 message to the UE 1, and then waits for the user of the UE 1 to off-hook.<br><br>
In Step s313, the OEP detects that the user is off-hook, and then sends a 200 OK<br>
response message (a final response to Step s302) to the S-CSCF, and the S-CSCF forwards<br>
the 200 OK response message to the VCC AS.<br>
In Step s314, the VCC AS sends the 200 OK response message to the MGCF via the<br>
I-CSCF, and the MGCF converts the 200 OK response message into a CON/ACM and then<br>
sends the CON/ACM to the MSC to indicate that a conversation can be carried out.<br>
In Step s315 to Step s316, the MGCF sends an ACK message in response to the<br>
received 200 OK response message. The ACK message is forwarded to the S-CSCF by the<br>
VCC AS, and finally arrives at the OEP.<br>
In Step s317, the VCC AS releases the SIP call dialog 1: by using a 4XX/5XX/6XX<br>
error response message.<br>
In addition, a method for a UE to perform network handover is further provided. The<br>
method includes the steps of: performing, by the UE that initiates a handover, a session<br>
negotiation on call continuity handover in a call-hold state with an OEP via a target network;<br>
and handing over a call to the target network after the session negotiation succeeds.<br>
A specific implementation process of the method is described in FIGs. 7 to 11.<br>
FIG 7 is a flow chart of a method for a UE to perform handover from a CS network to<br>
an IMS network in call hold according to a first embodiment of the present invention. In<br>
this embodiment, the method is achieved based on an SIP protocol. A call hold is actively<br>
initiated by a UE 1. The UE 1 sets up a call and carries out a conversation with an OEP via<br>
a CS network, and determines that the call needs to be handed over to an IMS network<br>
according to some policies (for example, changes in wireless conditions). A specific<br>
handover process mainly includes the following steps.<br>
In Step s401, if the UE 1 is not already IMS registered, the UE 1 performs an IMS<br>
registration.<br><br>
In Step s402, the UE 1 sends an INVITE message to a VCC AS via an S-CSCF (as a<br>
handover request), and starts to establish an SIP call dialog 3. The INVITE message<br>
includes a Request URI, i.e., an identity of the VCC AS (e.g., a Tel URI or an SIPURI), and<br>
also includes SDP information of the UE 1. In addition, it should be noted that, the SDP<br>
information of the UE 1 herein indicates that a media stream attribute of the UE 1 is<br>
sendonly.<br>
In Step s403 to Step s404, the VCC AS detects that the call is in a call-hold state,<br>
generates a Re-INVITE message (in which, for example, the Request URI is modified into<br>
an address of the OEP, and Contact is modified into the identity of the VCC AS) according<br>
to the received INVITE message, and sends the Re-INVITE message to the OEP for<br>
performing a session negotiation (for example, media type, coding scheme, and<br>
media-transmission/reception IP address and port). The SDP information indicates that the<br>
media stream attribute of the UE 1 is sendonly.<br>
In Step s405, the OEP returns a 200 OK message. The 200 OK message contains SDP<br>
information returned by the OEP. It should be noted that, the SDP information returned by<br>
the OEP herein indicates that a media stream attribute of the OEP is recvonly. The VCC<br>
AS sends the 200 OK message (corresponding to Step s401) to the UE 1.<br>
In Step s406, functioning as an SIP three-way handshake mechanism, the UE 1 returns<br>
an ACK message, which finally arrives at the OEP.<br>
In Step s407, the VCC AS sends a BYE message to an MGCF to release the call on the<br>
CS side.<br>
In Step s408 to Step s411, the call on the CS side is released.<br>
In Step s412, after receiving an RLC message, the MGCF generates a 200 OK message<br>
in response to the BYE message received in Step s407.<br>
At this time, the UE 1 carries out a conversation with the OEP via the IMS network.<br><br>
FIG 8 is a flow chart of a method for a UE to perform handover from a CS network to<br>
an IMS network in call hold according to a second embodiment of the present invention.<br>
In this embodiment, the method is achieved based on an SIP protocol. A call hold is<br>
actively initiated by an OEP, and a UE 1 knows the call-hold state. The UE 1 sets up a call<br>
and carries out a conversation with the OEP via a CS network, and determines that the call<br>
needs to be handed over to an IMS network according to some policies (for example,<br>
changes in wireless conditions). The method includes the following steps.<br>
In Step s501, if the UE 1 is not already IMS registered, the UE 1 performs an IMS<br>
registration.<br>
In Step s502, the UE 1 sends an INVITE message to a VCC AS via an S-CSCF (as a<br>
handover request), and starts to establish an SIP call dialog 3. The INVITE message<br>
includes a Request URI, that is, an E.164 number of VCC AS, and also includes SDP<br>
information of the UE 1. In addition, it should be noted that, the SDP information of the<br>
UE 1 herein indicates that a media stream attribute of the UE 1 is recvonly.<br>
In Step s503 to Step s504, the VCC AS detects that the call is in a call-hold state,<br>
generates a Re-INVITE message (in which the Request URI is modified into an address of<br>
the OEP) according to the received INVITE message, and sends the Re-INVITE message to<br>
the OEP for performing a session negotiation (e.g., media type, coding scheme, and<br>
media-transmission/reception IP address and port). SDP information indicates that the<br>
media stream attribute of the UE 1 is recvonly.<br>
In Step s505, the OEP returns a 200 OK message. The 200 OK message contains SDP<br>
information returned by the OEP. It should be noted that, the SDP information returned by<br>
the OEP herein indicates that a media stream attribute of the OEP is sendonly. The VCC<br>
AS sends the 200 OK message (corresponding to Step s501) to the UE 1.<br>
In Step s506, functioning as an SIP three-way handshake mechanism, the UE 1 returns<br>
an ACK message, which finally arrives at the OEP.<br><br>
In Step s507, the VCC AS sends a BYE message to an MGCF to release the call on the<br>
CS side.<br>
In Step s508 to Step s511, the call on the CS side is released.<br>
In Step s512, after receiving an RLC message, the MGCF generates a 200 OK message<br>
in response to the BYE message received in Step s507.<br>
At this time, the UE 1 carries out a conversation with the OEP via the IMS network.<br>
FIG 9 is a flow chart of a method for a UE to perform handover from a CS network to<br>
an IMS network in call hold according to a third embodiment of the present invention. In<br>
this embodiment, the method is achieved based on an SIP protocol. A call hold is actively<br>
initiated by an OEP, and a UE 1 does not know the call-hold state. The UE 1 sets up a call<br>
and carries out a conversation with the OEP via a CS network, and determines that the call<br>
needs to be handed over to an IMS network according to some policies (for example,<br>
changes in wireless conditions). The method includes the following steps.<br>
In Step s601, if the UE 1 is not already IMS registered, the UE 1 performs an IMS<br>
registration.<br>
In Step s602, the UE 1 sends an INVITE message to a VCC AS via an S-CSCF (as a<br>
handover request), and starts to establish an SIP call dialog 3. The INVITE message<br>
includes a Request URI that is an E.164 number of VCC AS, and also includes SDP<br>
information of the UE 1. The SDP information indicates that a media stream attribute of<br>
the UE 1 is both Send and Receive.<br>
In Step s603 to Step s604, the VCC AS detects that the call is in a call-hold state,<br>
generates a Re-INVITE message (in which the Request URI is modified into an address of<br>
the OEP) according to the received INVITE message, and sends the Re-INVITE message to<br>
the OEP for performing a session negotiation (for example, media type, coding scheme, and<br>
media-transmission/reception IP address and port). The SDP information set by the UE 1<br><br>
in the INVITE message added by the VCC AS indicates that the media stream attribute of<br>
the UE 1 is recvonly.<br>
In Step s605, the OEP returns a 200 OK message that contains SDP information<br>
returned by the OEP. It should be noted that, the SDP information returned by the OEP is<br>
sendonly. The VCC AS sends the 200 OK message (corresponding to Step s501) to the UE<br>
1.<br>
In Step s606, functioning as an SIP three-way handshake mechanism, the UE 1 returns<br>
an ACK message, which finally arrives at the OEP.<br>
In Step s607, the VCC AS sends a BYE message to an MGCF to release the call on the<br>
CS side.<br>
In Step s608 to Step s611, the call on the CS side is released.<br>
In Step s612, after receiving an RLC message, the MGCF generates a 200 OK message<br>
in response to the BYE message received in Step s607.<br>
At this time, the UE 1 can carry out a conversation with the OEP via the IMS network.<br>
FIG. 10 is a flow chart of a method for a UE to perform handover from an IMS network<br>
to a CS network in call hold according to a first embodiment of the present invention. In<br>
this embodiment, the method is achieved based on an SIP protocol. A call hold is actively<br>
initiated by a UE 1. The UE 1 sets up a call and carries out a conversation with an OEP via<br>
an IMS network, and determines that the call needs to be handed over to a CS network<br>
according to some policies (for example, changes in wireless conditions). A specific<br>
handover process mainly includes the following steps.<br>
In Step s701, the UE 1 initiates a call via the CS network. A CdPN is a service code +<br>
an E. 164 number of the VCC AS, and a CgPN is an MDN of the UE 1 (for example,<br>
133xxxx5678).<br><br>
In Step s702 to Step s705, if required, an authentication and registration process of the<br>
CS network is performed.<br>
In Step s706, an MSC generates an ISUP IAM and sends the ISUP IAM to an MGCF.<br>
The E.164 number of the VCC AS is used as the CdPN, the MDN of UE 1 is used as the<br>
CgPN, and the MSC discards the value of the service code.<br>
In Step s707, the MSC/VLR sends a traffic channel assignment message to the UE 1,<br>
that is, the CS network assigns a traffic channel to the UE 1.<br>
In Step s708, the MGCF sends an ACM to the MSC/VLR.<br>
In Step s709, the MGCF generates an INVITE message (including TRK information<br>
allocated to the call, i.e., MGW SDP, containing IP address and bandwidth, and SDP<br>
information indicating that a media stream attribute of an MGW is both send and receive).<br>
A Request URI in the INVITE message is the E.164 number of the VCC AS. The message<br>
is sent to the VCC AS via an I-CSCF.<br>
In Step s710 to Step s711, the VCC AS generates a Re-INVITE message (in which the<br>
Request URI is modified into an address of the OEP) according to the received INVITE<br>
message, and sends the Re-INVITE message to the OEP via an S-CSCF. It should be noted<br>
that, the SDP information herein indicates that the media stream attribute of the MGW is<br>
sendonly.<br>
In Step s712 to Step s713, the OEP returns a 200 OK message that contains SDP<br>
information returned by the OEP to the VCC AS via the S-CSCF. It should be noted that,<br>
the SDP information returned by the OEP indicates that a media stream attribute of the OEP<br>
is recvonly.<br>
In Step s714, the VCC AS sends the 200 OK message to the MGCF via the I-CSCF. It<br>
should be noted that, herein, the SDP information of the OEP carried in the 200 OK<br>
message indicates that the media stream attribute of the OEP is both Send and Receive.<br><br>
In Step s715, correspondingly, the MGCF generates an ANM and sends the ANM to the<br>
MSC.<br>
In Step s716, functioning as an SIP three-way handshake mechanism, the MGCF<br>
generates an ACK message and sends the ACK message to the VCC AS.<br>
In Step s717 to Step s7l8, the VCC AS sends the ACK message to the OEP via the<br>
S-CSCF.<br>
In Step s719, in any step after Step s709, the UE 1 and the CS network completes a<br>
traffic channel acquisition.<br>
In Step s720 to Step s721, after sending the ACK message to the OEP, the VCC AS<br>
immediately sends a BYE message to the UE 1 to release a call leg on the IMS side, and the<br>
UE 1 returns a 200 OK response message.<br>
In addition, as the MSC does not know the call-hold state of the UE 1, the UE 1 also<br>
needs to synchronize a call-hold state of the MSC, that is, in Step s722, the UE 1 sends a<br>
call-hold request (for example, a flash with information/hold request message) to the MSC.<br>
After receiving the call-hold request, the MSC sends a call-hold request (e.g., a call<br>
progress (CPG)) message to the MGCF. The CPG message contains a call hold indication<br>
of the OEP. The MGCF converts the CPG message into a Re-INVITE/UPDATE message<br>
and sends the Re-INVITE/UPDATE message to the VCC AS (Step s723 to Step s726).<br>
The SDP content includes an attribute line "a=sendonly". It should be noted that, if the<br>
MGCF adopts an UPDATE message, the MGCF does not need to send an ACK message to<br>
the VCC AS.<br>
FIG. 11 is a flow chart of a method for a UE to perform handover from an IMS network<br>
to a CS network in call hold according to a second embodiment of the present invention.<br>
In this embodiment, the method is achieved based on an SIP protocol. A call hold is<br>
actively initiated by an OEP. A UE 1 sets up a call and carries out a conversation with the<br><br>
OEP via an IMS network, and determines that the call needs to be handed over to a CS<br>
network according to some policies (for example, changes in wireless conditions). A<br>
specific handover process mainly includes the following steps.<br>
In Step s801, the UE 1 initiates a call via the CS network. A CdPN is a service code +<br>
an E.164 number of the VCC AS, and a CgPN is an MDN of the UE 1 (e.g., 133xxxx5678).<br>
In Step s802 to Step s805, if required, an authentication and registration process of the<br>
CS network is performed.<br>
In Step s806, an MSC generates an ISUP IAM and sends the ISUP IAM to an MGCF.<br>
The E.164 number of the VCC AS is used as the CdPN, the MDN of UE 1 is used as the<br>
CgPN, and the MSC discards the value of the service code.<br>
In Step 807, the MSC/VLR sends a traffic channel assignment message to the UE 1, that<br>
is, the CS network assigns a traffic channel to the UE 1.<br>
In Step s808, the MGCF sends an ACM to the MSC.<br>
In Step s809, the MGCF generates an INVITE message (including TRK information<br>
allocated to the call, i.e., MGW SDP, containing IP address and bandwidth, and SDP<br>
information indicating that a media stream attribute of an MGW is both send and receive).<br>
A Request URI in the INVITE message is the E. 164 number of the VCC AS. The message<br>
is sent to the VCC AS via an I-CSCF.<br>
In Step s810 to Step s811, the VCC AS generates a Re-INVITE message (in which the<br>
Request URI is modified into an address of the OEP) according to the received INVITE<br>
message, and sends the Re-INVITE message to the OEP via an S-CSCF. It should be noted<br>
that, SDP information of the MGCF herein indicates that the media stream attribute of the<br>
MGW is recvonly.<br>
In Step s812 to Step s813, the OEP returns a 200 OK message that contains SDP<br>
information returned by the OEP to the VCC AS via the S-CSCF. It should be noted that,<br><br>
the SDP information returned by the OEP indicates that a media stream attribute of the OEP<br>
is sendonly.<br>
In Step s814, the VCC AS sends the 200 OK message to the MGCF via the I-CSCF. It<br>
should be noted that, herein, the SDP information of the OEP carried in the 200 OK<br>
message indicates that the media stream attribute of the OEP is both Send and Receive.<br>
In Step s815, correspondingly, the MGCF generates an ANM and sends the ANM to the<br>
MSC.<br>
In Step s816, functioning as an SIP three-way handshake mechanism, the MGCF<br>
generates an ACK message and sends the ACK message to the VCC AS.<br>
In Step s817 to Step s818, the VCC AS sends the ACK message to the OEP via the<br>
S-CSCF.<br>
In Step s819, in any step after Step s809, the UE 1 and the CS network completes a<br>
traffic channel acquisition.<br>
In Step s820 to Step s821, after sending the ACK message to the OEP, the VCC AS may<br>
immediately send a BYE message to the UE 1 to release a call leg on the IMS side, and the<br>
UE 1 returns a 200 OK response message.<br>
In addition, as the MSC does not know the call-hold state, in this embodiment, the VCC<br>
AS also needs to synchronize a call-hold state of the CS network where the UE 1 is located,<br>
that is, the VCC AS sends a Re-INVITE/UPDATE message to the MGCF to hold the call<br>
(Step s822 to Step s826, in which the SDP content includes an attribute line "a=sendonly")<br>
after the handover. The MGCF converts the Re-INVITE/UPDATE message into a CPG<br>
message containing a remote hold indication, and then sends the CPG message to the<br>
MSC/VLR. The MSC/VLR may send a call-on-hold message (e.g., a Facility<br>
(Invoke=NotifySS (HOLD, CallOnHold-Indicator) in a GSM/UMTS network) to the UE 1.<br>
If the VCC AS uses an UPDATE message, the VCC AS does not need to send an ACK<br><br>
message to the MGCF.<br>
FIG 12 is a schematic structural view of a UE for performing a ringing VCC network<br>
handover according to an embodiment of the present invention. Referring to FIG. 12, the<br>
UE includes a call processing unit. In the present invention, the call processing unit is<br>
improved. That is, in the present invention, the call processing unit is configured with a<br>
ringing VCC handover unit 11 adapted to perform a ringing VCC network handover.<br>
Divided according to logical functions to be achieved, the ringing VCC handover unit<br>
11 in this embodiment includes three logical functional units, namely, a ringing VCC<br>
handover unit 111, a session negotiation processing unit 112, and an off-hook signal<br>
sending unit 113.<br>
The session negotiation processing unit 112 is adapted to perform a ringing session<br>
negotiation on call continuity handover with a calling UE at an OEP via a target network,<br>
i.e., mainly adapted to perform a ringing VCC handover session negotiation. In the present<br>
invention, the session negotiation processing unit 112 is mainly adapted to initiate a call to a<br>
VCC AS for performing a session negotiation with the OEP. For a specific process,<br>
reference can be made to the description of the foregoing operation flow.<br>
The ringing VCC handover unit 111 is adapted to perform a ringing call continuity<br>
network handover after the session negotiation succeeds.<br>
The off-hook signal sending unit 113 is adapted to send an off-hook signal to the calling<br>
UE at the OEP according to a handover result of the ringing VCC handover unit 111, i.e.,<br>
send an off-hook signal to the VCC AS after the network handover succeeds.<br>
FIG. 13 is a schematic structural view of a UE for performing an RBT VCC network<br>
handover according to an embodiment of the present invention. Referring to FIG 13, the<br>
UE includes a call processing unit. In the present invention, the call processing unit is<br>
improved. That is, in the present invention, the call processing unit is configured with an<br>
RBT VCC handover processing unit 12 adapted to perform an RBT VCC network<br><br>
handover.<br><br><br><br>
present invention, the VCC AS is improved. That is, in the present invention, the VCC AS<br>
is configured with a ringing/RBT VCC handover control unit 13 adapted to control a VCC<br>
network handover in ringing/RBT.<br>
Divided according to logical functions to be achieved, in the present invention, the<br>
ringing/RBT VCC handover control unit mainly includes two functional units, namely, a<br>
ringing/RBT VCC session negotiation control unit 131 and an off-hook signal identification<br>
and transmission unit 132.<br>
The ringing/RBT VCC session negotiation control unit 131 is adapted to control a<br>
session negotiation on call continuity network handover in ringing/RBT. For a specific<br>
process, reference can be made to the description of the foregoing operation flow, and the<br>
details thereof are not given herein again.<br>
The off-hook signal identification and transmission unit 132 is mainly adapted to<br>
identify an off-hook signal of a called UE and transmit the off-hook signal to a calling UE,<br>
thereby completing the handover.<br>
Preferably, the VCC AS may further include: a releasing unit 133, mainly adapted to<br>
release a call leg in a network to be handed over after the session negotiation succeeds.<br>
FIG. 15 is a schematic structural view of a UE for performing a call-hold VCC network<br>
handover according to an embodiment of the present invention. Referring to FIG 15, the<br>
UE includes a call processing unit. In the present invention, the call processing unit is<br>
improved. That is, in the present invention, the call processing unit is configured with a<br>
call-hold VCC handover processing unit 14 mainly adapted to perform a VCC network<br>
handover in call hold.<br>
As divided according to logical functions to be achieved, the call-hold VCC handover<br>
processing unit in the present invention includes two logical functional units, namely, a<br>
session negotiation processing unit 142 and a call-hold VCC handover unit 141.<br><br>
The session negotiation processing unit 142 is adapted to perform a session negotiation<br>
on call continuity handover in a call-hold state with an OEP via a target network, i.e., to<br>
perform a session negotiation for a VCC handover to the target network in call hold.<br>
The call-hold VCC handover unit 141 is adapted to hand over the UE to the target<br>
network after the session negotiation succeeds.<br>
Moreover, as divided according to logical functions to be achieved, the call-hold VCC<br>
handover processing unit in the present invention includes two logical functional units,<br>
namely, a call-hold VCC handover initiation unit and a session negotiation processing unit.<br>
The call-hold VCC handover initiation unit is mainly adapted to identify and initiate a<br>
call-hold VCC handover according to a predefined policy. The session negotiation<br>
processing unit is mainly adapted to perform a session negotiation for a handover to a target<br>
network in call hold.<br>
FIG. 16 is a schematic structural view of a VCC AS for performing a call-hold VCC<br>
network handover control according to an embodiment of the present invention. In the<br>
present invention, the VCC AS is improved. That is, in the present invention, the VCC AS<br>
is configured with a call-hold VCC handover control unit 15 mainly adapted to control a<br>
VCC network handover in call hold.<br>
As divided according to logical functions to be achieved, the call-hold VCC handover<br>
control unit 15 in the present invention mainly includes two functional units, namely, a<br>
session negotiation processing unit 152 and a call-hold VCC handover unit 151.<br>
The session negotiation processing unit 152 is mainly adapted to perform a session<br>
negotiation for a handover to a target network in a call-hold state, i.e., to perform a session<br>
negotiation for a VCC handover to the target network in call hold.<br>
The call-hold VCC handover unit 151 is adapted to control a call continuity network<br>
handover in call hold after the session negotiation succeeds.<br><br>
Preferably, in this embodiment, the VCC AS may further include: a releasing unit 154,<br>
mainly adapted to release a call leg in a network to be handed over after the session<br>
negotiation succeeds.<br>
Moreover, as divided according to logical functions to be achieved, the call-hold VCC<br>
handover control unit 15 in the present invention mainly includes two functional units,<br>
namely, a call-hold VCC handover initiation unit 151 and a session negotiation processing<br>
unit 152. The call-hold VCC handover initiation unit 151 is mainly adapted to identify and<br>
initiate a call-hold VCC handover according to a predefined policy. The session<br>
negotiation processing unit 152 is mainly adapted to perform a session negotiation for a<br>
handover to a target network in call hold.<br>
Similar to the foregoing, in this embodiment, the VCC AS may further include: a<br>
releasing unit 153, mainly adapted to release a call leg in a network to be handed over after<br>
the session negotiation succeeds.<br>
It will be apparent to those skilled in the art that various modifications and variations<br>
can be made to the present invention without departing from the scope or spirit of the<br>
invention. In view of the foregoing, it is intended that the present invention cover<br>
modifications and variations of this invention provided that they fall within the scope of the<br>
following claims and their equivalents.<br><br>
WE CLAIM:<br>
1.	A method for a user equipment (UE) to perform network handover, comprising:<br>
performing, by the UE that initiates a handover, a session negotiation on call continuity<br>
handover in a call-hold state with an Other End Point (OEP) via a target network; and<br>
handing over a call to the target network after the session negotiation succeeds.<br>
2.	The method according to claim 1, wherein the UE performs the call-hold session<br>
negotiation with the OEP via a call continuity application server in the target network.<br>
3.	The method according to claim 2, further comprising: sending, by the UE, a<br>
network handover request carrying session description information of the UE to the call<br>
continuity application server; wherein the performing the session negotiation further<br>
comprises performing a session negotiation according to the session description information,<br>
and the handing over the call to the target network after the session negotiation succeeds<br>
further comprises handing over a call corresponding to the network handover request to the<br>
target network after the session negotiation according to the session description information<br>
succeeds.<br>
4.	The method according to claim 3, wherein the session description information<br>
carries call-hold information of the UE that initiates the handover.<br>
5.	The method according to claim 3 or 4, wherein a network to be handed over by the<br>
UE that initiates the handover is a circuit switched (CS) network, the target network is an IP<br>
multimedia subsystem (IMS) network, and the performing, by the UE that initiates the<br>
handover, the call-hold session negotiation with the OEP via the call continuity application<br>
server in the target network further comprises:<br>
sending, by the UE that initiates the handover, a network handover request carrying<br><br>
session description information of the UE to the call continuity application server via the<br>
IMS network.<br>
6.	The method according to claim 3 or 4, wherein a network to be handed over is an<br>
IMS network, and the target network is a CS network; and<br>
the performing, by the UE that initiates the handover, the call-hold session negotiation<br>
with the OEP via the call continuity application server in the target network further<br>
comprises: sending, by the UE that initiates the handover, an INVITE message to the call<br>
continuity application server via the CS network, a mobile switching center (MSC), and a<br>
media gateway control function (MGCF), and the INVITE message contains session<br>
description information of the MGCF.<br>
7.	A network handover method of a user equipment (UE), comprising:<br>
receiving a network handover request carrying session description information of the UE<br>
from the UE that initiates a handover;<br>
if it is detected that a call is in a call-hold state, updating the session description<br>
information and sending the session description information carrying call-hold information<br>
of the UE that initiates the handover to an Other End Point (OEP); and<br>
handing over a corresponding call to a target network according to the network handover<br>
request after a session negotiation of the UE with the OEP by using the session description<br>
information succeeds.<br>
8.	The method according to claim 7, further comprising: receiving session<br>
description information carrying call-hold information of the OEP fed back from the OEP,<br>
and sending the session description information carrying the call-hold information of the<br>
OEP to the UE that initiates the handover.<br>
9.	The method according to claim 7, wherein the detected call-hold state is a call<br>
hold actively initiated by the UE that initiates the handover; and<br><br>
the session description information carrying the call-hold information of the UE that<br>
initiates the handover is send-only (sendonly) session description information, and the<br>
session description information carrying the call-hold information of the OEP is<br>
receive-only (recvonly) session description information.<br>
10.	The method according to claim 7, wherein the call-hold state detected by a call<br>
continuity application server is a call hold initiated by the OEP; and<br>
the session description information carrying the call-hold information of the UE that<br>
initiates the handover is recvonly session description information, and the session<br>
description information carrying the call-hold information of the OEP is sendonly session<br>
description information.<br>
11.	The method according to claim 9 or 10, wherein the recvonly session description<br>
information is added by the UE that initiates the handover or the call continuity application<br>
server.<br>
12.	The method according to any one of claims 7 to 11, further comprising: releasing a<br>
call leg of a network to be handed over.<br>
13.	The method according to any one of claims 7 to 10, wherein the network to be<br>
handed over is an IP multimedia subsystem (IMS) network, and the target network is a<br>
circuit switched (CS) network;<br>
an INVITE message sent by the UE that initiates the handover via the CS network and a<br>
mobile switching center (MSC) is received from a media gateway control function (MGCF),<br>
and the INVITE message contains session description information of the MGCF; and<br>
the updating the session description information and sending the session description<br>
information carrying the call-hold information of the UE that initiates the handover to the<br>
OEP further comprises:<br>
generating an UPDATE message of the session description information according to the<br><br>
INVITE message, and sending an INVITE or UPDATE message that contains session<br>
description information carrying call-hold information of the MGCF to an OEP.<br>
14.	The method according to claim 13, wherein the detected call-hold state is a call<br>
hold actively initiated by the UE that initiates the handover;<br>
the session description information carrying the call-hold information of the MGCF is<br>
sendonly session description information;<br>
the session description information carrying the call-hold information of the OEP is<br>
recvonly session description information; and<br>
after the session negotiation succeeds, the method further comprises: synchronizing<br>
call-hold states of the UE that initiates the handover and the MSC.<br>
15.	The method according to claim 13, wherein the detected call-hold state is a call<br>
hold initiated by the OEP;<br>
the session description information carrying the call-hold information of the MGCF is<br>
recvonly session description information;<br>
the session description information carrying the call-hold information of the OEP is<br>
sendonly session description information; and<br>
after the session negotiation succeeds, the method further comprises: synchronizing<br>
call-hold states of the call continuity application server and the CS network.<br>
16.	A user equipment (UE), comprising:<br>
a session negotiation processing unit, adapted to perform a session negotiation on call<br>
continuity handover in a call-hold state with an Other End Point (OEP) via a target network;<br>
and<br>
a call-hold call continuity handover unit, adapted to hand over a call to the target network<br><br>
after the session negotiation succeeds.<br>
17.	A call continuity application server, comprising:<br>
a call-hold call continuity session negotiation processing unit, adapted to perform a session<br>
negotiation for a handover to a target network in a call-hold state; and<br>
a call-hold call continuity handover control unit, adapted to control a call continuity<br>
network handover in a call-hold state after the session negotiation succeeds.<br>
18.	The call continuity application server according to claim 17, further comprising:<br>
a releasing unit, adapted to release a call leg in a network to be handed over after the<br>
session negotiation succeeds.<br><br>
A network handover method applicable to network handover in ringing/ring back tone<br>
(RBT) or call hold is provided. According to this method, in ringing/RBT, one party<br>
performs a session negotiation with an Other End Point (OEP) via a call continuity<br>
application server, and then sends an off-hook signal to the OEP via the call continuity<br>
application server after the negotiation succeeds. Further, a call continuity application<br>
server and a user equipment (UE) are provided. According to the present invention, in<br>
ringing/RBT or call hold, even if the network coverage is not good, the UE may also be<br>
handed over to another network through call continuity, so as to effectively prevent the UE<br>
from dropping a call in ringing/RBT or call hold and thus improve the conversation quality<br>
of the user.</td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LUtPTE5QLTIwMDktKDA4LTA5LTIwMTQpLUNPUlJFU1BPTkRFTkNFLnBkZg==" target="_blank" style="word-wrap:break-word;">327-KOLNP-2009-(08-09-2014)-CORRESPONDENCE.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LUtPTE5QLTIwMDktKDIxLTEwLTIwMTQpLUNPUlJFU1BPTkRFTkNFLnBkZg==" target="_blank" style="word-wrap:break-word;">327-KOLNP-2009-(21-10-2014)-CORRESPONDENCE.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LUtPTE5QLTIwMDktKDIyLTA0LTIwMTQpLUFCU1RSQUNULnBkZg==" target="_blank" style="word-wrap:break-word;">327-KOLNP-2009-(22-04-2014)-ABSTRACT.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LUtPTE5QLTIwMDktKDIyLTA0LTIwMTQpLUFOTkVYVVJFIFRPIEZPUk0gMy5wZGY=" target="_blank" style="word-wrap:break-word;">327-KOLNP-2009-(22-04-2014)-ANNEXURE TO FORM 3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LUtPTE5QLTIwMDktKDIyLTA0LTIwMTQpLUNMQUlNUy5wZGY=" target="_blank" style="word-wrap:break-word;">327-KOLNP-2009-(22-04-2014)-CLAIMS.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LUtPTE5QLTIwMDktKDIyLTA0LTIwMTQpLUNPUlJFU1BPTkRFTkNFLnBkZg==" target="_blank" style="word-wrap:break-word;">327-KOLNP-2009-(22-04-2014)-CORRESPONDENCE.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LUtPTE5QLTIwMDktKDIyLTA0LTIwMTQpLURFU0NSSVBUSU9OIChDT01QTEVURSkucGRm" target="_blank" style="word-wrap:break-word;">327-KOLNP-2009-(22-04-2014)-DESCRIPTION (COMPLETE).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LUtPTE5QLTIwMDktKDIyLTA0LTIwMTQpLURSQVdJTkdTLnBkZg==" target="_blank" style="word-wrap:break-word;">327-KOLNP-2009-(22-04-2014)-DRAWINGS.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LUtPTE5QLTIwMDktKDIyLTA0LTIwMTQpLUZPUk0tMS5wZGY=" target="_blank" style="word-wrap:break-word;">327-KOLNP-2009-(22-04-2014)-FORM-1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LUtPTE5QLTIwMDktKDIyLTA0LTIwMTQpLUZPUk0tMi5wZGY=" target="_blank" style="word-wrap:break-word;">327-KOLNP-2009-(22-04-2014)-FORM-2.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LUtPTE5QLTIwMDktKDIyLTA0LTIwMTQpLUZPUk0tMy5wZGY=" target="_blank" style="word-wrap:break-word;">327-KOLNP-2009-(22-04-2014)-FORM-3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LUtPTE5QLTIwMDktKDIyLTA0LTIwMTQpLUZPUk0tNS5wZGY=" target="_blank" style="word-wrap:break-word;">327-KOLNP-2009-(22-04-2014)-FORM-5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LUtPTE5QLTIwMDktKDIyLTA0LTIwMTQpLU9USEVSUy5wZGY=" target="_blank" style="word-wrap:break-word;">327-KOLNP-2009-(22-04-2014)-OTHERS.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LWtvbG5wLTIwMDktYWJzdHJhY3QucGRm" target="_blank" style="word-wrap:break-word;">327-kolnp-2009-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LWtvbG5wLTIwMDktY2xhaW1zLnBkZg==" target="_blank" style="word-wrap:break-word;">327-kolnp-2009-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LUtPTE5QLTIwMDktQ09SUkVTUE9OREVOQ0UgMS4zLnBkZg==" target="_blank" style="word-wrap:break-word;">327-KOLNP-2009-CORRESPONDENCE 1.3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LUtPTE5QLTIwMDktQ09SUkVTUE9OREVOQ0UgMS41LnBkZg==" target="_blank" style="word-wrap:break-word;">327-KOLNP-2009-CORRESPONDENCE 1.5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LUtPTE5QLTIwMDktQ09SUkVTUE9OREVOQ0UtMS4xLnBkZg==" target="_blank" style="word-wrap:break-word;">327-KOLNP-2009-CORRESPONDENCE-1.1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LUtPTE5QLTIwMDktQ09SUkVTUE9OREVOQ0UtMS4yLnBkZg==" target="_blank" style="word-wrap:break-word;">327-KOLNP-2009-CORRESPONDENCE-1.2.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LUtPTE5QLTIwMDktQ09SUkVTUE9OREVOQ0UtMS40LnBkZg==" target="_blank" style="word-wrap:break-word;">327-KOLNP-2009-CORRESPONDENCE-1.4.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LWtvbG5wLTIwMDktY29ycmVzcG9uZGVuY2UucGRm" target="_blank" style="word-wrap:break-word;">327-kolnp-2009-correspondence.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LWtvbG5wLTIwMDktZGVzY3JpcHRpb24gKGNvbXBsZXRlKS5wZGY=" target="_blank" style="word-wrap:break-word;">327-kolnp-2009-description (complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LWtvbG5wLTIwMDktZHJhd2luZ3MucGRm" target="_blank" style="word-wrap:break-word;">327-kolnp-2009-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LWtvbG5wLTIwMDktZm9ybSAxLnBkZg==" target="_blank" style="word-wrap:break-word;">327-kolnp-2009-form 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LWtvbG5wLTIwMDktZm9ybSAxOC5wZGY=" target="_blank" style="word-wrap:break-word;">327-kolnp-2009-form 18.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LWtvbG5wLTIwMDktZm9ybSAyLnBkZg==" target="_blank" style="word-wrap:break-word;">327-kolnp-2009-form 2.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LUtPTE5QLTIwMDktRk9STSAzLTEuMS5wZGY=" target="_blank" style="word-wrap:break-word;">327-KOLNP-2009-FORM 3-1.1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LWtvbG5wLTIwMDktZm9ybSAzLnBkZg==" target="_blank" style="word-wrap:break-word;">327-kolnp-2009-form 3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LWtvbG5wLTIwMDktZm9ybSA1LnBkZg==" target="_blank" style="word-wrap:break-word;">327-kolnp-2009-form 5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LWtvbG5wLTIwMDktZ3BhLnBkZg==" target="_blank" style="word-wrap:break-word;">327-kolnp-2009-gpa.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LWtvbG5wLTIwMDktaW50ZXJuYXRpb25hbCBwdWJsaWNhdGlvbi5wZGY=" target="_blank" style="word-wrap:break-word;">327-kolnp-2009-international publication.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LWtvbG5wLTIwMDktaW50ZXJuYXRpb25hbCBzZWFyY2ggcmVwb3J0LnBkZg==" target="_blank" style="word-wrap:break-word;">327-kolnp-2009-international search report.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LWtvbG5wLTIwMDktb3RoZXJzIHBjdCBmb3JtLnBkZg==" target="_blank" style="word-wrap:break-word;">327-kolnp-2009-others pct form.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LUtPTE5QLTIwMDktT1RIRVJTLnBkZg==" target="_blank" style="word-wrap:break-word;">327-KOLNP-2009-OTHERS.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LWtvbG5wLTIwMDktcGN0IHByaW9yaXR5IGRvY3VtZW50IG5vdGlmaWNhdGlvbi5wZGY=" target="_blank" style="word-wrap:break-word;">327-kolnp-2009-pct priority document notification.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LWtvbG5wLTIwMDktc3BlY2lmaWNhdGlvbi5wZGY=" target="_blank" style="word-wrap:break-word;">327-kolnp-2009-specification.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzI3LWtvbG5wLTIwMDktdHJhbnNsYXRlZCBjb3B5IG9mIHByaW9yaXR5IGRvY3VtZW50LnBkZg==" target="_blank" style="word-wrap:break-word;">327-kolnp-2009-translated copy of priority document.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=YWJzdHJhY3QtMzI3LWtvbG5wLTIwMDkuanBn" target="_blank" style="word-wrap:break-word;">abstract-327-kolnp-2009.jpg</a></p>
		<br>
		<div class="pull-left">
			<a href="264450-a-process-for-preparing-dichloropropanol.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="264452-method-and-apparatus-for-making-crystalline-polymeric-pellets-and-granules.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>264451</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>327/KOLNP/2009</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>01/2015</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>02-Jan-2015</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>30-Dec-2014</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>23-Jan-2009</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>HUAWEI TECHNOLOGIES CO., LTD.</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>HUAWEI ADMINISTRATION BUILDING, BANTIAN, LONGGANG DISTRICT, SHENZHEN, GUANGDONG</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>XU, JIE</td>
											<td>HUAWEI ADMINISTRATION BUILDING, BANTIAN, LONGGANG DISTRICT, SHENZHEN, GUANGDONG</td>
										</tr>
										<tr>
											<td>2</td>
											<td>LONG, SHUIPING</td>
											<td>HUAWEI ADMINISTRATION BUILDING, BANTIAN, LONGGANG DISTRICT, SHENZHEN, GUANGDONG</td>
										</tr>
										<tr>
											<td>3</td>
											<td>ZHANG, YI</td>
											<td>HUAWEI ADMINISTRATION BUILDING, BANTIAN, LONGGANG DISTRICT, SHENZHEN, GUANGDONG</td>
										</tr>
										<tr>
											<td>4</td>
											<td>YOU, FANG</td>
											<td>HUAWEI ADMINISTRATION BUILDING, BANTIAN, LONGGANG DISTRICT, SHENZHEN, GUANGDONG</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04L 29/06</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/CN 2007/070666</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2007-09-10</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>200610139133.2</td>
									<td>2006-10-12</td>
								    <td>China</td>
								</tr>
								<tr>
									<td>2</td>
									<td>200610122010.8</td>
									<td>2006-09-08</td>
								    <td>China</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script data-cfasync="false" src="../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/264451-user-equipment-call-continuity-application-server-and-network-handover-method by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 01:27:36 GMT -->
</html>
