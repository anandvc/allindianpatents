<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/225115-virtual-real-time-clock-based-on-time-information-from-multiple-communication-systems by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2024 23:06:31 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 225115:VIRTUAL REAL-TIME CLOCK BASED ON TIME INFORMATION FROM MULTIPLE COMMUNICATION SYSTEMS</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">VIRTUAL REAL-TIME CLOCK BASED ON TIME INFORMATION FROM MULTIPLE COMMUNICATION SYSTEMS</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>Method and apparatus to implement a &quot;virtual&quot; real-time clock at a terminal based on time information from multiple communication systems. At least one system (e.g., GPS) provides &quot;absolute&quot; time information for the virtual real-time clock, and at least one other system (e.g., a cellular system) provides &quot;relative&quot; time information. The virtual real-time clock is &quot;time-stamped&quot; with absolute time as it becomes available from the first system. Relative time (which may be received from multiple asynchronous transmitters) is mapped to the timeline of the virtual real-time clock as it is received from the second system. Absolute time at any arbitrary time instant on the timeline may then be estimated based on the absolute time from the first system and the relative time from the second system. Absolute times from the first system for two or more time instants may also be used to calibrate the relative time from the second system.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td> <br><br>
VIRTUAL REAL-TIME CLOCK BASED ON TIME INFORMATION FROM MULTIPLE COMMUNICATION<br>
SYSTEMS<br>
BACKGROUND<br>
Field<br>
[1001] The present invention relates generally to communication, and more specifically to a method and apparatus for implementing a virtual real-time clock based on time information from multiple communication systems*<br>
Background<br>
[1002] It is often desirable, and sometimes necessary, for a wireless terminal to know accurate time. One specific application that requires accurate time is position determination based on the well-known Global Positioning System (GPS), which is a constellation of 24 well-spaced satellites that orbit the earth. Each GPS satellite transmits a signal encoded with information that allows GPS receivers on earth to measure the time of arrival of the received signal relative to an arbitrary point in time. This relative time-of-arrival measurement may then be converted to a "pseudo-range". The position of a GPS receiver may be accurately estimated based on pseudo-range measurements for a sufficient number of satellites and their locations. [1003] The time-of-arrival of a signal from a GPS satellite may be determined by processing the GPS signal itself to obtain the necessary time information. For GPS, the complete time information may be partitioned into three different time components: bit of week (BOW), epoch (in bit), and sub-code frame (all of which are described in detail below). Each time component covers a different time range and has 4 different time resolution. Each time component may be obtained from the GPS signal based on different signal processing by the receiver. The processing to obtain these time components is typically performed in sequential order, in increasing coarse time resolution, such that sub-code frame (fine) timing is obtained first, epoch (in bit) timing is obtained next, and BOW (coarse) time information is obtained last. The processing time to obtain a given time component from the GPS signal is thus cumulative (i.e., equal to the processing time for that time component plus the processing time for all<br><br>
finer time components). If the GPS receiver has a priori knowledge of any of these time components, then it can skip the corresponding processing to obtain the component This would then reduce the amount of time needed to obtain the pseudo-range measurement and, ultimately, a position fix for the terminal. [1004] A terminal can obtain GPS time as one of die results of a position fix. The GPS time can be viewed as "true" or absolute time, and includes all three time components described above. This GPS time may be used to "time stamp" the internal timing of the terminal, so that it knows true or absolute time at a specific time instant Between position fixes, the terminal may be operated in an idle mode whereby as much circuitry as possible is powered down to conserve battery power. While in the idle mode, the terminal typically maintains a counter that is operated based on an internal clock. The counter is effectively a timer used to provide time information for the terminal while it is idle and not receiving signals from any transmitters. [1005] The terminal may be commanded to perform a new position fix at an arbitrary time instant The counter may then be used as a real-time clock to estimate the amount of time that has elapsed, as measured by the terminal's internal clock, since the time instant for which the last GPS time was obtained. The absolute time at this arbitrary time instant may be estimated by adding the elapsed time estimate to the last GPS time. The accuracy of this absolute time estimate is dependent on the accuracy of the elapsed time estimate. If the elapsed time can be estimated with a relatively high degree of accuracy, then die absolute time estimate is reasonably accurate. In this case, it may not be necessary to recover BOW and epoch in bit timing for the new position fix. Consequently, the new position fix may be obtained in a much shorter amount of time, which is highly desirable.<br>
[1006] Unfortunately, the terminal's internal clock may not be sufficiently accurate. For example, the internal clock used to implement the terminal's real-time clock may have an error as large as 100 parts per million (ppm). The elapsed time estimate would then be in error by the same ppm amount, with the magnitude of the error being larger for longer elapsed time. For example, a 100 ppm error on an elapse time of 50 seconds is 5 msec, and the same 100 ppm error on an elapsed time of S00 seconds is 50 msec. A large error in the elapsed time estimate may then necessitate the need to recover epoch in bit and (possibly) BOW timing for a new position fix, which is highly undesirable.<br><br>
[1007] Theie is therefore a need in the art for a method and apparatus to implement a real-time clock having higher accuracy and which may be used for various applications such as position determination.<br>
SUMMARY<br>
[1008] A method and apparatus is provided herein to implement a "virtual" realtime clock at a terminal based on time information from multiple communication systems. At least one system (e.g., GPS) provides "absolute" time information for the virtual real-time clock, and at least one other system (e.g., a cellular system) provides "relative" time information. The virtual real-time clock may be "time-stamped" with absolute time as it becomes available from the first system. Relative time (which may be received from multiple asynchronous transmitters in the second system) may be mapped to the timeline of the virtual real-time clock as it is received from the second system. Absolute time at any arbitrary time instant on the timeline may then be estimated based on the absolute time from the first system and the relative time from the second system. Absolute times from the first system for two or more time instants may also be used to calibrate the relative time from the second system. [1009] A specific embodiment of a method described herein can provide an estimate of absolute time based on time information from a number of communication systems. Initially, absolute time is obtained from a first system (e.g., GPS) for a first time instant. A first signaling message (e.g., a synchronization burst) is received from a first transmitter in a second system (e.g., a GSM or W-CDMA system) at a second time instant A first time offset between the first and second time instants is then determined. A second signaling message may also be received from a second transmitter in the second system at a third time instant (e.g., in handoff situation). The first and second transmitters may be asynchronous with respect to each other, in which case a second time offset between the first and third time instants may be determined. A third signaling message may thereafter be received from either the first or second transmitter at a fourth time instant An estimate of absolute time at a designated time instant may then be determined based on (1) the absolute time for the first time instant, (2) the first [or second] time offset, (3) an elapsed time between the second [or third] time instant and the fourth time instant, and (4) the time difference between the fourth time instant<br><br>
and the designated time instant (the term within the bracket is applicable if the relative time of the second transmitter is used to estimate the absolute time at the designated time instant),<br>
[1010] Various aspects and embodiments of the method and apparatus are described in further detail below.<br>
BRIEF DESCRIPTION OF THE DRAWINGS<br>
[1011]      The features, nature, and advantages of the present invention will become<br>
more apparent from the detailed description set forth below when taken in conjunction<br>
with the drawings in which like reference characters identify correspondingly<br>
throughout and wherein:<br>
[1012]      FIG. 1 is diagram showing a wireless terminal capable of receiving signals<br>
from multiple communication systems;<br>
[1013]      FIG. 2 is a diagram that illustrates an implementation of a virtual real-time<br>
clock based on time information from GPS and a cellular system;<br>
[1014]      FIG. 3 is a diagram that illustrates an implementation of the virtual real-time<br>
clock based on time information from the GPS and two asynchronous base stations in<br>
the cellular system;<br>
[1015]      FIG. 4 is a diagram illustrating the frame structure for a GSM system;<br>
[1016]      FIGS. 5 and 6 are flows diagram of two embodiments of a process for<br>
providing an estimate of absolute time based on time information from multiple<br>
communication systems;<br>
[1017]      FIG. 7 is a diagram illustrating the data transmission format for a GPS<br>
signal;<br>
[1018]      FIG. 8 is a flow diagram of an embodiment of a process for determining the<br>
position of a receiver unit based on an accurate absolute time estimate from the virtual<br>
real-time clock; and<br>
[1019]      FIG. 9 is a block diagram of an embodiment of a receiver unit, which may be<br>
a component of the wireless terminal.<br><br>
DETAILED DESCRIPTION [1020] FIG- 1 is diagram showing a wireless terminal 110 capable of receiving signals from multiple communication systems- One such communication system is the well-known Global Positioning System (GPS). Another such communication system is a wireless (e.g., cellular) communication system, which may be a Code Division Multiple Access (CDMA), Time Division Multiple Access (TDMA), Frequency Division Multiple Access (FDMA), or some other multiple-access communication system. The CDMA system may implement one or more standards such as IS-95, IS-2000, W-CDMA, and so on. The TDMA system may implement one or more standards such as GSM, GPRS, and so on. These various standards are known in the art and incorporated herein by reference. In general, terminal 110 may receive signals from any number of communication systems that may be of any type (e.g., a Bluetooth, WI-FI, or any other system capable of providing time information). In a specific embodiment that is described in detail below, terminal 110 is capable of receiving signals from the GPS and GSM system.<br>
[1021] Terminal 110 may receive signals from a number of GPS satellites 130, and may process these GPS signals to derive an estimate of its current position. The terminal may obtain GPS time as one of the results of a position fix (or may be operated to process the GPS signals to obtain only GPS time). This GPS time is an accurate indication of actual time, since the clocks maintained by the GPS satellites are very accurate and are further adjusted as necessary to track an extremely accurate atomic clock on earth. The GPS time may thus be viewed as 'true" or absolute time. The terminal can calibrate its own timing whenever it is provided with GPS time. However, since the terminal may perform position fixes at sporadic time instants (e.g., whenever directed by the user and/or the cellular system), GPS time may be available only at these sporadic time instants.<br>
[1022] Terminal 110 may also receive signals from one or more base stations 120 in the cellular system, and may process these terrestrial signals to receive information or to communicate with the cellular system. As part of a synchronization and acquisition process, the terminal may be required to determine the timing of each base station with which it receives data or communicates. For the GSM system, a synchronization burst is periodically transmitted by each base station to provide frame-level synchronization<br><br>
data to the terminals. The timing of each base station may be determined by processing the synchronization bursts transmitted by the base station.<br>
[1023] Some cellular systems (e.g., IS-95 and cdma2000 systems) are operated synchronously such that the timing of all base stations is aligned. Moreover, the timing of the base stations in these cellular systems may further be synchronized with (i.e., locked to) GPS time. In this case, the terminal may be able to continually update its internal timing with GPS time, which may be obtained based on signals from the GPS satellites and/or base stations.<br>
[1024] However, some cellular systems (e.g., GSM and W-CDMA systems) may be operated asynchronously. For W-CDMA, the base stations may be operated such that they are all synchronized to one another or are all asynchronous to each other. The base stations may also be operated such that some base stations are synchronized while some others are not The choice of synchronous or asynchronous operation is dependent on the manner in which the system is operated by a network operator. For GSM, the base stations are asynchronous with respect to each other.<br>
[1025] For an asynchronous cellular system (e.g., GSM or W-CDMA system), the timing of the base stations is not aligned and may drift over time. The long-term average value of this drift may be zero or may be some non-zero value (i.e., the time difference between the base stations may continually increase or decrease). Because of the asynchronous timing, the frames for these base stations are not likely to start at the same time instant (unless by coincidence). Moreover, the timing of the base stations in the asynchronous cellular system is typically not synchronous with GPS time. For these reasons, the terminal would not be able to update its internal timing, based on time information from these asynchronous base stations, in the same manner as for a synchronous system.<br>
[1026] A method and apparatus is provided herein to implement a "virtual" realtime clock at a terminal based on time information from multiple communication systems, one of which may be an asynchronous system (e.g., a GSM or W-CDMA system). The inventor has recognized that, although the base stations in a cellular system may be operated asynchronously, the timing of each base station is derived based on a clock that is typically more accurate than the internal clock of the terminal. For example, while the internal clock of the terminal may have accuracy on the order of<br><br>
10 ppm or worse, the clock of a base station may have accuracy on the order of ±0.05 ppm or possibly 0.01 ppm (i.e., 100 to 1000 times more accurate). An accurate virtual real-time clock may then be implemented by the terminal based on GPS time from the GPS (whenever available) and the accurate timing of the base stations in the cellular system.<br>
[1027] FIG. 2 is a diagram that illustrates an implementation of the virtual real-time clock at a terminal based on time information from the GPS and cellular system. FIG. 2 shows three different timelines for the terminal, a base station in the cellular system, and the GPS. These three different timelines result from the use of three different clocks (which are not locked) for the terminal, the base station, and the GPS. [1028] As shown in FIG. 2, the GPS is associated with its own timeline, which is effectively determined based on the extremely accurate atomic clock on earth. The GPS satellite clocks are controlled and corrected to allow the relationship between absolute GPS time and the individual satellite clocks to be very well known at any given moment<br>
[1029] For an asynchronous cellular system, the timing of each base station may be different from that of other base stations in the cellular system. The timing of each base station is determined based on its own clock, which may or may not be locked to some other time reference (e.g., GPS). Nevertheless, the base station's clock frequency is typically much more accurate than the terminal's internal clock frequency. Each base station transmits data in frames of a particular duration defined by the standard being implemented by the cellular system. For simplicity, the timing of only one base station is shown in FIG. 2. The frame period of this base station is denoted as Tframe, and the start of each frame is shown in FIG. 2.<br>
[1030] The terminal typically maintains a counter or a timer that is used to provide "system time" for all processing elements within the terminal. For simplicity, the following description assumes that a counter is maintained to provide system time. This counter is operated based on the terminal's internal clock, which is typically the most inaccurate of all clocks in the three entities (i.e., the terminal, base station, and GPS). The internal clock "free-wheels" unless it is locked to another clock (e.g., the base station clock). The accuracy of the system time at the terminal is directly linked to this internal clock.<br><br>
[1031] Initially, at power up, the counter may be reset (e.g., at some arbitrary time instant) and thereafter increments based on the internal clock. For clarity, the counter is shown as a wrap-around counter having an output that linearly increments with each clock cycle until the maximum counter value is reached, at which time it resets back to the minimum counter value. The counter output may thus be plotted as a saw-tooth waveform. The maximum and minimum counter values may be selected such that each period of the saw-tooth waveform is approximately equal to one frame from the base station. In a typical implementation, additional bits in this counter or another counter may be used to cover a longer time span. For example, another counter may be maintained to count the number of times the first counter wraps around (i.e., the number of frames).<br>
[1032] The counter provides system time for the terminal as well as defines the timeline of the terminal. In particular, any given time instant on the terminal timeline is associated with a particular counter value, which is used as the system time for the terminal at that time instant With no other external time information, the counter is able to provide "relative" time (i.e., the amount of time that has elapsed between two time instants) but is not able to provide "absolute" time (i.e., "true" or actual time at a given time instant).<br>
[1033] The virtual real-time clock may be implemented at the terminal as follows. Initially, at time instant Ti on the terminal timeline, the terminal is provided with absolute time tabsi for that time instant This absolute time tabsi may be the GPS time obtained by processing signals from a number of GPS satellites (e.g., to obtain a position fix), or may be obtained by some other means. The terminal then associates a counter value of Q for time instant Ti with the absolute time tabsi- This then establishes a relationship between the terminal timing and GPS timing.  <br>
[1034] The terminal also (continually or periodically) processes the signal from the base station to receive messages and/or to communicate with the cellular system. As part of the signal processing, the terminal may detect certain signaling messages (e.g., synchronization bursts) transmitted by the base station to provide synchronization for the terminal. As shown in FIG. 2, the terminal detects the start of frame k as occurring at time instant T2. The terminal further processes the signaling message on frame k to extract the frame number of this frame. The terminal then associates a counter value of<br><br>
C2 for time instant T2 with the start of frame k and further associates the frame number of frame k with tune instant T2. This then establishes a relationship between the terminal timing and base station timing.<br>
[1035] The terminal may then establish a relationship between the GPS timing and base station timing. In particular, the terminal may determine a time offset ATBs between the time instant Ti for which the absolute time Wi was received and the time instant T2 for the start of frame k. This time offset may be expressed as:<br><br>
Since the counter values are used to denote time for the terminal timeline, the time offset ATBS may be determined as ATBS =(C2-Cl)/Fnom, where Fnom is the nominal<br>
clock frequency and C2 is adjusted to accounted for any wrap-around in the counter since time instant Ti-<br>
[1036] Thereafter, the terminal may be idle for a length of time. At an arbitrary time instant T4 on the terminal timeline, absolute time may be needed (e.g., for a new<br>
position fix). An absolute time estimate t^ at time instant T4 may then be determined in the following manner. First, the start of a frame prior to (or near) time instant T4 (e.g., frame k + n) is detected as occurring at time instant T3. The time difference AT between the start of frame k + n and the time instant T4 where the absolute time estimate is needed may then be determined as:<br><br>
Again, the time difference AT may be determined as AT = (C4-C3)/Fnom, where C3<br>
and C4 are the counter values at time instants T3 and T4, respectively. [1037] The number of whole frames between time instants T2 and T3 is also determined. This may be obtained based on the frame numbers extracted from the signaling messages transmitted in frames k and k + n, or based on another counter maintained by the terminal to count the number of frames. The absolute time tabs2 at time instant T4 may then be estimated as:<br><br><br>
where n is the number of whole frames between time instants T2 and T3.<br>
[1038]      As shown in equation (3), the absolute time estimate, table, is derived based<br>
on four terns. The term tabs1 is very accurate and considered as having no errors. For example, GPS time may be provided with accuracy on the order of 100 nsec. The term nTframe is based on the timing of the base station, in which case Tfame may be accurate to<br>
0.1 ppm or 0.01 ppm. The term nTf^ typically covers a large portion of the elapsed<br>
time between time instants Ti and T4. The terms ATBS and AT are based on the timing of the terminal, which typically has the worse accuracy of all three entities. However, the time period covered by the terms ATBS and AT is typically short relative to the<br>
elapsed time between time instants Ti and T4. The absolute time estimate, tabs2, is thus<br>
an accurate estimate of the absolute time tabs2 at time instant T4 since (1) most of the elapsed time between time instants Ti and T4 (i.e., nTfraroe) is estimated based on the<br>
accurate base station timing and (2) only a relatively small portion of the elapsed time (i.e., ATBS + AT) may have been estimated based on the less accurate terminal timing.<br>
[1039] As illustrated in FIG. 2, the virtual real-time clock is effectively implemented based on time information from multiple communication systems (e.g., GPS and cellular system). The time information from one communication system (e.g., GPS) may be provided in the form of accurate absolute time (e.g., tabsi) at a particular time instant The time information from the other communication system (e.g., a cellular system) may be provided in the form of accurate relative time (e.g., nTfmQXi,<br>
which is based on accurate frame-level timing). The virtual real-time clock may then provide an accurate estimate of the absolute time at any arbitrary time instant based on the absolute time from one communication system and the relative time from the other communication system. A less accurate clock (e.g., the internal clock within the terminal) may be used for any time period not covered by the relative time from the other communication system, as described above.<br>
[1040] The timing of the base station may further be calibrated (or compensated) based on accurate absolute time obtained for multiple time instants. For example, if accurate absolute time tabs2 is available from the GPS at time instant T4 (instead of having to be estimated as described above), then the time period covered by each frame from the base station may be derived as:<br><br><br>
As shown in equation (4), the frame period, Tframe, is derived based on four terms. The terms Wi and tabs are very accurate and considered as having no errors. The terms ATBS and AT are based on the timing of the terminal. The effect of the terminal timing error on the derivation of the frame period, Tfaune, reduces if (tabs2-tabsl) is large<br>
relative to (ATBS + AT). The frame period, Tframe derived from equation (4) may be<br>
stored and thereafter used as the frame period for this base station whenever absolute time needs to be estimated The frame period, T^ura niay also be updated as new accurate absolute time become available. The timing calibration described above is equivalent to calculating the frequency offset of the base station. [1041] Hie virtual real-time clock may also be implemented for an asynchronous communication system (e.g., a GSM or W-CDMA system). As noted above, the timing for the base stations in such an asynchronous communication system may not be aligned but is nevertheless accurate. While idle or during communication with the cellular system, the terminal may be handed off (or "reselected") from one base station to another as it moves in and out of the coverage areas of these base stations. The timing of each base station may be used to implement the virtual real-time clock as it becomes available.<br>
[1042] FIG. 3 is a diagram that illustrates an implementation of the virtual real-time clock based on time information from the GPS and two asynchronous base stations in a cellular system. FIG. 3 shows three different timelines for the terminal and the two base stations. These three different timelines result from the use of three different clocks (which are not locked) for the terminal and the two base stations. The timeline for the GPS is not shown for simplicity.<br>
[1043] Initially, at time instant Ti on the terminal timeline, the terminal is provided with absolute time value t^u which may be the GPS time, for that time instant The terminal then associates a counter value of Q for time instant Ti with the absolute time tosi, which then establishes a relationship between the terminal timing and GPS timing. [1044] Thereafter, the terminal detects the start of frame k from base station 1 occurring at time instant T2. The terminal then associates a counter value of C2 for time instant T2 with the start of frame k from base station 1.   This then establishes a<br><br>
relationship between the terminal timing and base station 1 timing. The terminal may establish a relationship between the GPS timing and base station 1 timing by determining the time offset ATBSI between the time instant T1 when the absolute time tabs was received and the time instant T2 for the start of frame k from base station 1, as shown above in equation (1)*<br>
[1045] The terminal also receives a transmission from base station 2. To establish a timing relationship between base station 2 and GPS, the terminal first detects the start of frame 1 from base station 2 as occurring at time instant T3- The terminal then associates a counter value of C3 for time instant T3 with the start of frame i from base station 2. The time difference ATBSI2 between the start of frames k and i for base stations 1 and 2, respectively, may then be determined as:<br><br>
[1046] The terminal may then establish a relationship between the GPS timing and base station 2 timing by determining the time offset ATBS2 between the time instant Tj for which the absolute time t$&amp;\ was received and the time instant T3 for the start of frame i from base station 2, as follows:<br><br>
[1047] At an arbitrary time instant Te on the terminal timeline, absolute time may be needed (e.g., for a new position fix). The absolute time !&amp;&amp; at time instant T$ may then be estimated based on the timing of base station 1 and/or 2, which may be dependent on the base station(s) from which the terminal can still receive frames near time instant T6. The process to estimate the absolute time tabs2 at time instant T6 based on the timing of base station 1 may be achieved as described above for FIG. 2.<br>
[1048] The process to estimate the absolute time tabs at time instant T6 based on the timing of base station 2 may be achieved as follows. First, the start of frame i + n near time instant Tg is detected as occurring at time instant T5. The time difference AT2 between the start of frame i + n and the time instant T6 where the absolute time estimate is needed may then be determined as:<br><br><br>
The number of whole frames between time instants T3 and T5 is also determined (e.g., based on the frame numbers extracted from the signaling messages transmitted in frames i and i + n, or based on another counter maintained by the terminal to count the number of frames). The absolute time Wa at time instant T6 may then be estimated as:<br><br>
where n is the number of whole frames between time instants T3 and T5.<br>
[1049]      As shown in equation (8), the absolute time estimate, tableis  derived based<br>
on four terms. The term Wi is very accurate and the term nT^^ is based on the timing<br>
of base station 2, which is also accurate. The terms ATBS2 and AT2 for base station 2 are derived based on the timing of the terminal, and.has approximately the same amount of error as the terms ATBSI and ATi derived for base station 1. Thus, the virtual real-time clock may be accurately maintained even as the terminal is handed off from one base station to another in an asynchronous cellular system.<br>
[1050] For simplicity, FIG, 3 shows the derivation of the time offsets ATBSI and ATBS2 based on two frames k and i that are received within one frame period of time instant Tj. In general, frames transmitted at any time instants by the asynchronous base stations may be used to obtain the relative time information. The phases (i.e., bit-level timing) and numbers of these frames may be determined (e.g., from the signaling messages transmitted in these frames) and used to derive the time offsets ATBSI and ATBS2-   Each time offset may be less than one frame period (i.e., ATBS <tfrmne or></tfrmne>
greater than one frame period (i.e., ATBS &gt; Tframe).<br>
[1051] The handoff between base stations may also occur at any time and may be accounted for (e.g., such that the time offset for each base station covers only the time period for which relative time is not available). Moreover, the virtual real-time clock may use the relative time information from any number of asynchronous base stations. In general, the relative time information from each base station may be used for any applicable time period for which frames are received from that base station. The elapsed time between any two time instants may then be estimated by piece-meal combination of relative time from a number of base stations, as follows:<br><br>
where n1 is the number of frames covered by the relative time from base station i, Tframe; is the frame period for base station f, and NB is the number of base stations used to estimate the elapsed time.<br>
[1052] The relative time information may be obtained by processing signaling messages transmitted by the base stations in the cellular system. Each standard defines the specific signaling message to be used, the frequency of its transmission, and so on. For clarity, the signaling message for GSM used to obtain relative time information is described below.<br>
[1053] FIG. 4 is a diagram illustrating the frame structure for a GSM system. A hyperframe is defined to include 2048 superframes and covers a time period of 3 hours, 28 minutes, S3 seconds, and 760 msec. Each superframe includes 1326 TDMA frames and may be partitioned into a number of 51-frame multiframes or 26-frame multiframes. Each TDMA frame includes 8 time slots and covers 4.615 msec. Each time slot includes 156.25 bits and covers 0.577 msec, and each bit has a duration of 3.69 |isec. [1054] Each base station periodically transmits synchronization bursts, which may be used by the terminals for synchronization to the base station and to derive timing. Five synchronization bursts are transmitted every 51 frames, which corresponds to a rate of approximately 21.2 Hz. As shown in FIG. 4, a synchronization burst comprising 148 bits may be transmitted on the first time slot of a TDMA frame. Each synchronization burst includes 78 encrypted bits that may be decrypted to obtain a 19-bit reduced TDMA frame number (RFN) and a 6-bit base transceiver system identification code (BSIC). The 19-bit reduced TDMA frame number identifies a specific TDMA frame, in which the synchronization burst is transmitted, within the hyperframe. The BSIC identifies a specific base station from which the synchronization burst was transmitted, and may be used to uniquely identify each base station. The start of each received synchronization burst may be determined and used as the frame start shown in FIGS. 2 and 3. The 19-bit reduced TDMA frame number may be used to determine the number of frames that have been transmitted between any two synchronization bursts. Since each bit has a duration of 3.69 jxsec, relative time may be obtained to within 3.69 jxsec resolution from the synchronization bursts.<br><br>
[1055] FIG. 5 is a flow diagram of an embodiment of a process 500 for providing an estimate of absolute time based on time information from multiple communication systems. Absolute time information is received from a first communication system (e.g., GPS) (step 512). The absolute time information may be in the form of absolute time for a specific time instant Relative time information is also received from a first transmitter in a second communication system (e.g., a cellular system) (step 514). The relative time information may be in the form of signaling messages (e.g., synchronization bursts) periodically transmitted by the first transmitter. Relative time information may also be received from a second transmitter in the second communication system (step 516, which is optional and shown as a dashed box). The first and second transmitters may be operated asynchronously. An estimate of absolute time at a designated time instant is provided based on the absolute time information from the first communication system and the relative time information from the first and (possibly) second transmitters in the second communication system (step 518). [1056] FIG. 6 is a flow diagram of an embodiment of a process 600 for providing an estimate of absolute time based on time information from a number of communication systems. Initially, absolute time is obtained from a first communication system (e.g.t GPS) for a first time instant (step 612). A first signaling message is received from a first transmitter in a second (e.g., cellular) communication system at a second time instant (step 614). A first time offset between the first and second time instants is then determined (step 616). A second signaling message may also be received from a second transmitter in the second communication system at a third time instant (step 618, which is optional and shown as a dashed box). A second time offset between the first and third time instants may then be determined (step 620, which is also optional). A third signaling message may thereafter be received from either the first or second transmitter at a fourth time instant (step 622).<br>
[1057] If the third signaling message is from the first transmitter, then an estimate of absolute time at a designated time instant may be determined based on (1) the absolute time for the first time instant (e.g., tabsi in FIG. 3), (2) the first time offset (e.g., ATBSI), (3) an elapsed time between the second and fourth time instants (e.g., /iT&amp;amei)* and (4) the time difference between the fourth and designated time instants (e.g., ATi) (step 624). Alternatively, if the third signaling message is from the second transmitter, then<br><br>
the absolute time estimate for the designated time instant may be determined based on (1) the absolute time for the first time instant, (2) the second time offset (e.g., ATBS2)&gt; (3) an elapsed time between the third and fourth time instants (e.g., nTframe2) and (4) the time difference between the fourth and designated time instants (e.g., AT2). [1058] In general, the virtual real-time clock may be implemented based on time information received from multiple communication systems. In one embodiment, at least one communication system (e.g., GPS) provides absolute time for the virtual realtime clock, and at least one other communication system (e.g., a cellular system) provides relative time for the virtual real-time clock.<br>
[1059] In another embodiment, the communication system that provides relative time information may also provide absolute time information (e.g., in messages) at designated time instants. For example, a base station in the cellular system may (periodically or when requested) transmit a message with the absolute time at the time of the message transmission (e.g., the start of the frame with the message). Techniques for receiving time from information from a cellular network are described in U.S. Patent No. 5,945,944, entitled "Method and Apparatus for Determining Time for GPS Receivers," issued August 31,1999, which is incorporated herein by reference. [1060] The virtual real-time clock may be time-stamped with absolute time as it becomes available. Absolute times for two or more time instants may also be used to calibrate the relative time from the other communication system. [1061] The relative time information may be provided by various means. One common means is via the transmission of signaling messages at selected time instants such that the time difference between any two signaling messages can be ascertained. As examples, the signaling messages may be (1) the synchronization bursts transmitted by each base station in the GSM system, as described in FIG. 4, (2) the system frame number (SFN) transmitted by each base station in the W-CDMA system, (3) paging indicators transmitted at known time intervals, and so on. Various types of signaling message may be used, and this is within the scope of the invention. [1062] The relative time information from the cellular system is typically readily available to a terminal. While in active communication with at least one base station, the terminal continually determines frame-level timing and can use this information to update the virtual real-time clock. Even while idle, the terminal periodically wakes up<br><br>
to check for page messages on a paging channel alerting it of incoming calls. As part of the processing of the paging channel for page messages, the terminal determines frame-level timing and can use this information to update the virtual real-time clock. [1063] The virtual real-time clock may be used to provide an accurate estimate of absolute time at any designated time instant This accurate time estimate may be advantageously used for various applications, one of which is position determination. In particular, the accurate time estimate may be used to (1) provide a position fix in a shorter period of time and/or (2) provide higher sensitivity in the processing of the signals used for the position fix. The benefits attainable with the accurate time estimate for position fixes based on GPS signals are described below.<br>
[1064] The position of a terminal may be determined based on (1) distances to a sufficient number of transmitters, which are used as reference points, and (2) the locations of these transmitters. For GPS, the terminal can estimate the distance to each GPS satellite by measuring the time required for a signal to travel from the satellite to the terminal. If the time the signal is transmitted from the GPS satellite is known (e.g., stamped or encoded in the signal), then the travel time of the signal can be determined by observing the time the signal is received at the terminal (based on the terminal's internal clock). Typically however, the amount of time between transmission and reception cannot be exactly determined because of offsets between the clocks at the terminal and GPS satellite. Thus, a "pseudo-range" is typically derived based on the difference between a reference time and the time that the signal is received. The pseudo-range thus represents the relative distance between the terminal and the GPS satellite from which the signal was received,<br>
[1065] FIG. 7 is a diagram illustrating the data transmission format for a GPS signal. Each GPS satellite transmits navigation data, which includes various types of information such as satellite Ephemeris, GPS system time (e.g., bit of week (BOW) information), correction data, and so on. The navigation data is provided at a rate of 50 bits per second (bps), and each data bit covers a 20 msec time period. A XI period is defined as covering 75 data bits, which is 1.5 sec.<br>
[1066] The 50 bps navigation data is spectrally spread over a 1.023 MHz bandwidth by spreading (or scrambling) die data with a continuous pseudo-random number (PN) sequence generated by repeating a 1023-bit Gold code sequence.   In particular, each<br><br>
data bit is composed of 20 code frames, and each code frame is composed of one 1023-bit Gold code sequence. The Gold code sequence has a chip rate of 1.023 Mcps, and each FN or Gold code bit covers a 0.977 jisec chip period.<br>
[1067] For GPS, absolute time may be partitioned into three different time components: bit of week (BOW), epoch (in bit), and sub-code frame. (These three time components may be viewed as being analogous to hour, minute, and second used for denoting time of the day.) Each time component covers a different time range and has a different time resolution. In particular, sub-code frame timing covers a range of 0 to 1 msec and has chip-level resolution, epoch in bit timing covers a range of 1 msec to 20 msec and has code frame (or 1 msec) resolution, and BOW time information covers a range of 20 msec and beyond and has data bit (or 20 msec) resolution. Absolute time may be represented by the combination of these three time components. [1068] Each of the three time components may be obtained from the GPS signal based on different signal processing by the GPS receiver. In particular, sub-code frame timing may be obtained by performing match filtering of the received GPS signal. This can be achieved by correlating the received GPS signal with a locally generated PN sequence at a particular phase corresponding to a hypothesis being evaluated. The correlation results in a high output value if the locally generated PN sequence is time-aligned with the PN sequence used to spread the navigation data in the received GPS signal, and a low output value otherwise. The correlation can thus provide chip-level timing.<br>
[1069] Epoch (in bit) timing may be obtained by performing edge detection of the navigation data bits. Each data bit is transmitted over a 20 msec time period covering 20 code frames. The 20 code frames for each data bit has a polarity determined by that data bit Once the chip-level timing has been determined by the match filtering, the 1023 chips of each code frame may be coherently accumulated to provide a corresponding code frame value. If 20 code frame values for a single data bit are further accumulated, then a high bit value is obtained. However, if 20 code frame values for two data bits with opposite polarity are accumulated, then a lower bit value is obtained, with the exact value being determined by the number of code frames associated with each of the two data bits. Thus, by accumulating over different sets of 20 code frames,<br><br>
the edge detection is able to determine the start of each data bit, which may then be used to determine code-frame (or 1 msec) level timing.<br>
[1070] BOW time information may be obtained by demodulating the received data bits and extracting the various types of information included in the navigation data. BOW time information may also be obtained using a pattern matching technique that compares received data bits with predicted data bits. The pattern matching technique is described in U.S. Patent Nos. 5,812,087, 6,052,081 and 6,239,742, which are incorporated herein by reference. the data format for the navigation data is described in detail in a document entitled "Global Position System Standard Positioning Service Signal Specification," 2nd Edition, June 2,1995, which is readily available in the art and incorporated herein by reference.<br>
[1071] Table 1 lists the three time components, the time range and resolution associated with each time component, the processing technique used to recover each time component, and an approximate amount of time needed to recover each time component (which assumes that the time components with finer resolution, if any, have already been recovered).<br><br>
[1072] The processing to obtain the three time components is typically performed in sequential order, in increasing coarse time resolution, such that sub-code frame (chip-level) timing is obtained first, epoch in bit (code-frame level) timing is obtained next, and BOW time information is obtained last. The processing time to obtain each time component from the GPS signal is thus cumulative (i.e., equal to the processing time for that time component plus the processing time for all finer time components). As can be<br><br>
seen from Table 1, the processing to recover BOW time information may be relatively<br>
long.<br>
[1073]      Referring back to FIG. 2, the terminal may be idle for a period of time and<br>
may then be commanded to perform a position fix at time instant T4. To compute the<br>
position fix, the receiver can skip the processing for any time component that it has a<br>
priori knowledge of. In particular, if the absolute time estimate tabs2 for time instant T4<br>
has an uncertainty of less than ± 0.5 msec, then the GPS receiver only needs to determine sub-code frame (chip-level) timing to compute the position fix. Otherwise, if this absolute time estimate t^ has an uncertainty of less than or equal to ± 10 msec,<br>
then the GPS receiver would need to determine both sub-code frame and epoch in bit timing to compute the position fix.   And if the absolute time estimate t^ has an<br>
uncertainty of greater than ±10 msec, then the GPS receiver would need to determine sub-code frame, epoch in bit, and BOW timing to compute the position fix. [1074] The virtual real-time clock can be used to provide accurate absolute time estimates. In particular, for position determination, the virtual real-time clock may be used to provide accurate absolute time estimates such that epoch in bit and BOW timing need not be recovered. This would then reduce the amount of time needed to obtain a position fix since only the sub-code frame (chip-level) timing needs to be determined (which has the shortest processing of all three time components). [1075] The accurate absolute time estimates provided by the virtual real-time clock may also provide higher sensitivity in processing a GPS signal. In many instances, the GPS signal may be received with a low or poor signal quality because of (1) signal attenuation by the long propagation path between the GPS satellite and the receiver, (2) obstructions in the propagation path, and so on. If the epoch in bit and BOW timing is known a priori, then the received GPS signal may be processed in a manner to improve the recovery of the chip-level timing.<br>
[1076] Referring back to FIG. 7, if the epoch in bit timing is known, then the start of each data bit can be determined. In that case, coherent accumulation (i.e., the correlation) may be performed over an entire data bit (i.e., bit synchronous integration) instead of over each code frame (which is only 1/20-th the duration of a data bit). The longer coherent accumulation interval allows for improved detection of chip-level timing in a degraded received GPS signal. This then allows the GPS receiver to provide<br><br>
a position fix based on received GPS signals with lower signal-to-noise ratio (SNR). The sensitivity of the GPS receiver can thus be enhanced with knowledge of epoch in bit timing, which then allows the receiver to provide position fixes in more harsh environments.<br>
[1077] Accurate time is also needed to provide accurate estimates of the location of the GPS satellites used for a position fix. Each satellite transmits "Ephemeris" information, which includes a high accuracy modeled prediction of its own orbit, as tracked and reported by tracking stations on earth. The Ephemeris is provided in a form of a function with time as an input variable. Since each GPS satellite moves at a rate of approximately 3600 m/sec, an accurate estimate of absolute time (e.g., to within a few jisec) is needed to derive an accurate estimate of the satellite location. The absolute time estimate from the virtual real-time clock may be provided as the time input to the function to obtain an initial position estimate for a satellite. A pseudo-range from the terminal to the initial satellite position estimate can then be computed. The terminal can search for the signal transmitted by the satellite under the assumption that the computed pseudo-range is correct Once the code phase is obtained, the other two time components can be resolved. The use of an initial time estimate for processing GPS signal is described in U.S. Patent No. 5,945,944, 6,150,980, and 6,215,442, which are incorporated herein by reference.<br>
[1078] FIG. 8 is a flow diagram of an embodiment of a process 800 for determining the position of a receiver unit based on an accurate absolute time estimate from a virtual real-time clock. The receiver unit may be located within a wireless terminal in a wireless communication system. Initially, absolute time is obtained from the first communication system (e.g., GPS) for a first time instant (step 812). This absolute time may be obtained as one of the results of a position fix performed for the first time instant Thereafter, the receiver unit may go to sleep for a time period that may be determined based on the stability of the timing/frequency of a second communication system used to provide relative time information for the virtual real-time clock (step 814, which is optional). While the receiver unit is asleep, relative time information is received from the second communication system (step 816). Absolute time at a second time instant may then be estimated based on the absolute time for the first time instant and the relative time information from the second communication system (step 818). A<br><br>
position fix is then performed by the receiver unit based on the absolute time estimate for the second time instant (step 820).<br>
[1079] The virtual real-time clock may also be used to provide accurate absolute time estimates for other applications, and this is within the scope of the invention. For example, the absolute time estimates may be used for communication (e.g., transfer between synchronous and asynchronous systems), astronomy, photography, cryptography (e.g., security systems), and so on.<br>
[1080] In FIG. 1, terminal 110 may be any device capable of receiving and processing signals from multiple communication systems to obtain time information. In one embodiment, terminal 110 is a cellular telephone capable of receiving signals from a number of transmitters, hi other embodiments, terminal 110 may be an electronics unit (e.g., a computer terminal, a personal digital assistant (FDA), and so on) having a wireless modem, a receiver unit capable of receiving signals from satellites and/or base stations, or any other type of receiver.<br>
[1081] FIG. 9 is a block diagram of an embodiment of a receiver unit 900, which may be a component of wireless terminal 110. Receiver unit 900 may be designed with the capability to process signals from multiple communication systems such as the GPS and cellular system. In the embodiment shown in FIG. 9, receiver device 900 includes an antenna 910, a GPS receiver 912a, a terrestrial receiver 912b, a processing unit 914, a clock/counter (or timer) unit 916, a memory unit 918, and a controller 920. [1082] Antenna 910 receives signals from a number of transmitters, which may be any combination of-GPS satellites and/or base stations, and provides the received signal to GPS and terrestrial receivers 912a and 912b. GPS receiver 912a includes front-end circuitry (e.g., RF circuitry and/or other processing circuitry) that processes signals transmitted from GPS satellites to derive information which may be used for position determination. The processing by GPS receiver 912a to extract die pertinent information from the GPS signals is known in the art and not described in detail herein. GPS receiver 912a provides to processing unit 914 various types of information such as, for example, time information (e.g., absolute time), the identities and locations of the transmitters whose signals are received, and so on. Terrestrial receiver 912b includes front-end circuitry that processes the signals transmitted from base stations and may provide relative time information derived from these signals.  For example, terrestrial<br><br>
receiver 912b may determine the frame-level timing of a received frame. The absolute time information from GPS receiver 912a and the relative time information from terrestrial receiver 912b may be used to implement the virtual real-time clock. [1083] Processing unit 914 may be designed to perform various functions. For example, processing unit may (e.g., when directed) perform a position fix for receiver unit 900 based on the GPS and/or cellular system. Processing unit 914 may further implement the virtual real-time clock based on the absolute time information obtained from the GPS and the relative time information obtained from the cellular system. When requested, processing unit 914 can estimate absolute time at a designated time instant and provide this absolute time estimate to a requesting unit (e.g., GPS receiver 912a).<br>
[1084] Clock/counter unit 916 is a timer unit that provides the clock needed by various elements within receiver unit 900. Clock/counter unit 916 may further implement a counter or a timer that is operated based on the clock. The timeline for receiver unit 900 is then effectively determined by the counter output. [1085] Memory unit 918 stores various data used by processing unit 914 and/or controller 920. For example, memory unit 918 may store the timing related information (e.g., absolute times for various time instants, computed time offsets-, and so on). Memory unit 918 may also store program codes and data for processing unit 914 and/or controller 920.<br>
[1086] Controller 920 may direct the operation of processing unit 914. For example, controller 920 may select the particular types of operation to be performed by processing unit 914.<br>
[1087] The method and apparatus described herein for implementing a virtual realtime clock and using it for various applications may be implemented by various means, such as in hardware, software, or a combination thereof. For a hardware implementation, the virtual real-time clock may be implemented within one or more application specific integrated circuits (ASICs), digital signal processors (DSPs), digital signal processing devices (DSPDs), programmable logic devices (PLDs), field programmable gate arrays (FPGAs), processors, controllers, micro-controllers, microprocessors, other electronic units designed to perform the functions described herein, or a combination thereof.<br><br>
[1088] For a software implementation, the virtual real-time clock may be implemented with modules (e.g., procedures, functions, and so on) that perform the functions described herein. The software codes may be stored in a memory unit (e.g., memory 918 in FIG. 9) and executed by a processor (e.g., processing unit 914 or controller 920). The memory unit may be implemented within the processor or external to the processor, in which case it can be communicatively coupled to the processor via various means as is known in the art<br>
[1089] The method and apparatus described herein for implementing a virtual realtime clock may be used in various wireless communication systems and networks. For example, the method and apparatus may be used for CDMA, TDMA, FDMA, and other wireless communication systems. These systems may implement one or more applicable standards. For example, the CDMA systems may implement IS-95, cdma2000, IS-856, W-CDMA, and so on. The TDMA systems may implement GSM and so on. These various standards are known in the art and incorporated herein by reference.<br>
[1090] The previous description of the disclosed embodiments is provided to enable any person skilled in the art to make or use the present invention. Various modifications to these embodiments will be readily apparent to those skilled in the art, and the generic principles defined herein may be applied to other embodiments without departing from the spirit or scope of the invention. Thus, the present invention is not intended to be limited to the embodiments shown herein but is to be accorded the widest scope consistent with the principles and novel features disclosed herein.<br>
[1091]      WHAT IS CLAIMED IS:<br><br><br><br>
CLAIMS<br>
1.	A method for implementing a virtual real-time clock based on time<br>
information from a plurality of communication systems, comprising:<br>
receiving absolute time information from a first communication system; receiving relative time information from a second communication system; and providing an estimate of absolute time at a designated time instant based on the<br>
absolute time information from the first communication system and the relative time<br>
information from the second communication system.<br>
2.	The method of claim 1, wherein the first communication system is the Global Positioning System (GPS) and the absolute time information comprises GPS time for at least one time instant<br>
3.	The method of claim 1, wherein the second communication system is a cellular communication system.<br>
4.	The method of claim 3, wherein the relative time information comprises frame-level timing.<br>
5.	The method of claim 3, wherein the relative time information is received via a plurality of signaling messages, and wherein time difference between any two signaling messages is ascertainable.<br>
6.	The method of claim 1, wherein the absolute time information comprises absolute time for a first time instant and the relative time information comprises first and second signaling messages received at second and third time instants, respectively, and wherein the absolute time estimate for the designated time instant is based at least in part on the absolute time for the first time instant and a determined time difference between the second and third time instants.<br><br>
7.	The method of claim 1, further comprising:<br>
calibrating the relative time information from the second communication system based on the absolute time information from the first communication system.<br>
8.	A method for providing an estimate of absolute time based on time<br>
information from a plurality of communication systems, comprising:<br>
obtaining absolute time from a first communication system for a first time instant;<br>
receiving a first signaling message from a second communication system at a second time instant;<br>
determining a time offset between the first and second time instants;<br>
receiving a second signaling message from the second communication system at a third time instant;<br>
determining an elapsed time between the second and third time instants;<br>
determining a time difference between the third time instant and a fourth time instant; and<br>
providing an estimate of absolute time at the fourth time instant based on the absolute time for the first time instant, the time offset, the elapsed time, and the time difference.<br>
9.	The method of claim 8, wherein the time offset and time difference are each determined based on a local clock.<br>
10.	The method of claim 8, further comprising:<br>
obtaining absolute time from the first communication system for a fifth time instant; and<br>
determining a difference in absolute time between the first and fifth time instants, and wherein the elapsed time is determined based at least in part on the difference in absolute time.<br>
11.	The method of claim 10, further comprising:<br><br>
determining a frame period for the second communication system based at least in part on the difference in absolute time, and wherein the elapsed time is determined based on the frame period.<br>
12.	The method of claim 8, wherein the first and second signaling messages are transmitted at known locations in two frames.<br>
13.	The method of claim 8, wherein the first communication system is the Global Positioning System.<br>
14.	The method of claim 8, wherein the second communication system is a cellular communication system.<br>
15.	The method of claim 14, wherein the relative time information comprises frame-level timing.<br>
16.	The method of claim 14, wherein the cellular communication system is operated asynchronously.<br>
17.	The method of claim 14, wherein the cellular communication system is a GSM system.<br>
18.	The method of claim 17, wherein the first and second signaling messages are synchronization bursts transmitted on a synchronization channel in the GSM system.<br>
19.	The method of claim 14, wherein the cellular communication system is a W-CDMA system.<br>
20.	A method for providing an estimate of absolute time based on time information from a plurality of communication systems, comprising:<br>
receiving absolute time information from a first communication system;<br><br>
receiving relative time information from a first transmitter in a second communication system;<br>
receiving relative time information from a second transmitter in the second communication system; and<br>
providing an estimate of absolute time at a designated time instant based on the absolute time information from the first communication system and the relative time information from the first and second transmitters in the second communication system.<br>
21.	The method of claim 20, further comprising:<br>
determining a difference between timing of the first and second transmitters, and wherein the absolute time estimate for the designated time instant is further based on the determined difference between the timing of the first and second transmitters.<br>
22.	The method of claim 20, wherein the first and second transmitters are asynchronous.<br>
23.	A method for providing an estimate of absolute time based on time information from a plurality of communication systems, comprising:<br>
obtaining absolute time from a first communication system for a first time instant;<br>
receiving a first signaling message from a first transmitter in a second communication system at a second time instant;<br>
determining a first time offset between the first and second time instants;<br>
receiving a second signaling message from a second transmitter in the second communication system at a third time instant;<br>
determining a second time offset between the first and third time instants; and<br>
providing an estimate of absolute time at a designated time instant based at least in part on the absolute time for the first time instant and the second time offset<br>
24.	The method of claim 23, further comprising:<br>
receiving a third signaling message from the second transmitter at a fourth time instant; and<br><br>
determining a time difference between the fourth and designated time instants, and wherein the absolute time estimate for the designated time instant is further based on the time difference.<br>
25.	The method of claim 23, wherein the first and second transmitters are asynchronous.<br>
26.	A method for detennining a position of a receiver unit in a wireless communication system, comprising:<br>
obtaining absolute time from a first communication system for a first time instant;<br>
receiving relative time information from a second communication system;<br>
estimating absolute time at a second time instant based on the absolute time for the first time instant and the relative time information from the second communication system; and<br>
detennining the position of the receiver unit based at least in part on the absolute time estimate for the second time instant<br>
27.	The method of claim 26, wherein the absolute time for the first time instant is obtained from a position fix determined for the first time instant.<br>
28.	The method of claim 26, further comprising:<br>
going to sleep for a duration of time between the first and second time instants determined based on an estimated stability of time for the second communication<br>
system.<br>
29.	A memory communicatively coupled to a digital signal processing<br>
device (DSPD) capable of interpreting digital information to:<br>
receive absolute time information from a first communication system; receive relative time information from a second communication system; and<br><br>
provide an estimate of absolute time at a designated time instant based on the absolute time information from the first communication system and the relative time information from the second communication system.<br>
30.	A computer program product for providing an estimate of absolute time<br>
based on time information from a plurality of communication systems, comprising:<br>
code for receiving absolute time from a first communication system for a first time instant;<br>
code for receiving relative time information from a second communication system;<br>
code for providing an estimate of absolute time at a designated time instant based on the absolute time for the first time instant and the relative time information from the second communication system; and<br>
a computer-usable medium for storing the codes.<br>
31.	An apparatus for implementing a virtual real-time clock based on time<br>
information from a plurality of communication systems, comprising:<br>
means for receiving a representation of a timeline;<br>
means for receiving absolute time information from a first communication system;<br>
means for associating the absolute time information with the timeline;<br>
means for receiving relative time information from a second communication system;<br>
means for mapping the relative time information to the timeline; and<br>
means for providing an estimate of absolute time at a designated time instant on the timeline based on the associated absolute time information and the mapped relative time information.<br>
32.	The apparatus of claim 31, wherein the timeline representation is provided by a counter.<br>
33.	A receiver unit in a wireless communication system, comprising:<br><br>
a first receiver operative to process signals from a first communication system to provide absolute time information;<br>
a second receiver operative to process signals from a second communication system to provide relative time information; and<br>
a processing unit operative to provide an estimate of absolute time at a designated time instant based on the absolute time information from the first communication system and the relative time information from the second communication system.<br>
34.	The receiver unit of claim 33, further comprising:<br>
a timer unit operative to provide a representation of a timeline to which the absolute time information and relative time information are mapped.<br>
35.	The receiver unit of claim 33, wherein the first receiver is operative to process signals from GPS satellites.<br>
36.	The receiver unit of claim 33, wherein the second receiver is operative to process signals from one or more base stations in a cellular communication system.<br>
37.	The receiver unit of claim 33, wherein the processing unit is operative to<br>
receive an absolute time for a first time instant from the first receiver and to determine a<br>
time offset between the first time instant and timing of each base station received by the<br>
second receiver.<br>
38.	A receiver apparatus in a wireless communication system, comprising:<br>
means for processing signals from a first communication system to provide<br>
absolute time information;<br>
means for processing signals from a second communication system to provide relative time information; and<br>
means for providing an estimate of absolute time at a designated time instant based on the absolute time information from the first communication system and the relative time information from the second communication system.<br><br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQxMi1jaGVucC0yMDA1IGFic3RyYWN0IGdyYW50ZWQucGRm" target="_blank" style="word-wrap:break-word;">2412-chenp-2005 abstract granted.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQxMi1jaGVucC0yMDA1IGNsYWltcyBncmFudGVkLnBkZg==" target="_blank" style="word-wrap:break-word;">2412-chenp-2005 claims granted.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQxMi1jaGVucC0yMDA1IGRlc2NyaXB0aW9uKGNvbXBsZXRlKSBncmFudGVkLnBkZg==" target="_blank" style="word-wrap:break-word;">2412-chenp-2005 description(complete) granted.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQxMi1jaGVucC0yMDA1IGRyYXdpbmdzIGdyYW50ZWQucGRm" target="_blank" style="word-wrap:break-word;">2412-chenp-2005 drawings granted.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQxMi1jaGVucC0yMDA1LWFic3RyYWN0LnBkZg==" target="_blank" style="word-wrap:break-word;">2412-chenp-2005-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQxMi1jaGVucC0yMDA1LWFzc2lnbmVtZW50LnBkZg==" target="_blank" style="word-wrap:break-word;">2412-chenp-2005-assignement.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQxMi1jaGVucC0yMDA1LWNsYWltcy5wZGY=" target="_blank" style="word-wrap:break-word;">2412-chenp-2005-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQxMi1jaGVucC0yMDA1LWNvcnJlc3BvbmRuZWNlLW90aGVycy5wZGY=" target="_blank" style="word-wrap:break-word;">2412-chenp-2005-correspondnece-others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQxMi1jaGVucC0yMDA1LWNvcnJlc3BvbmRuZWNlLXBvLnBkZg==" target="_blank" style="word-wrap:break-word;">2412-chenp-2005-correspondnece-po.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQxMi1jaGVucC0yMDA1LWRlc2NyaXB0aW9uKGNvbXBsZXRlKS5wZGY=" target="_blank" style="word-wrap:break-word;">2412-chenp-2005-description(complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQxMi1jaGVucC0yMDA1LWRyYXdpbmdzLnBkZg==" target="_blank" style="word-wrap:break-word;">2412-chenp-2005-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQxMi1jaGVucC0yMDA1LWZvcm0gMS5wZGY=" target="_blank" style="word-wrap:break-word;">2412-chenp-2005-form 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQxMi1jaGVucC0yMDA1LWZvcm0gMy5wZGY=" target="_blank" style="word-wrap:break-word;">2412-chenp-2005-form 3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQxMi1jaGVucC0yMDA1LWZvcm0gNS5wZGY=" target="_blank" style="word-wrap:break-word;">2412-chenp-2005-form 5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQxMi1jaGVucC0yMDA1LWZvcm0xOC5wZGY=" target="_blank" style="word-wrap:break-word;">2412-chenp-2005-form18.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQxMi1jaGVucC0yMDA1LXBjdC5wZGY=" target="_blank" style="word-wrap:break-word;">2412-chenp-2005-pct.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="225114-high-speed-silicon-based-electro-optic-modulator.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="225116-a-method-for-establishing-a-point-to-point-session-and-a-system-for-supporting-authentication.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>225115</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>2412/CHENP/2005</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>52/2008</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>26-Dec-2008</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>30-Oct-2008</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>26-Sep-2005</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>QUALCOMM INCORPORATED</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>5775 MOREHOUSE DRIVE, SAN DIEGO, CALIFORNIA 92121,</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>FARMER, DOMINIC</td>
											<td>21111 GIST ROAD, LOS GATOS, CALIFORNIA 95033,</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04B7/26</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/US04/09306</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2004-03-26</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>10/401,816</td>
									<td>2003-03-27</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/225115-virtual-real-time-clock-based-on-time-information-from-multiple-communication-systems by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2024 23:06:32 GMT -->
</html>
