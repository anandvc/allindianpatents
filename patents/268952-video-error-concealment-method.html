<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/268952-video-error-concealment-method by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 08:34:15 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 268952:VIDEO ERROR CONCEALMENT METHOD.</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">VIDEO ERROR CONCEALMENT METHOD.</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>Disclosed herein is a system and method for reconstruction video information lost as a result of transmission errors. The system and method have four aspects, including: (1) changing the bit and/or packet rate; (2) inserting redundant information into the video bitstream; (3) providing automatic refresh of certain regions of the video on a periodic basis; and (4) interleaving coded macroblocks into diversity groups for transmission to spatially spread the effect of lost packets. The image reconstruction may then take advantage of these three aspects to provide an enhanced result in the presence of transmission losses.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>VIDEO ERROR CONCEALMENT METHOD<br>
BACKGROUND OF THE INVENTION<br>
.<br>
1.	Field of the Invention<br>
[001] The present invention relates generally to video communication and more particularly to a method of detecting and concealing errors in a video bitstream. The invention is described in the context of, and has particular applicability to, videoconferencing, although the concepts herein are generally applicable to any digitally encoded video stream.<br>
2.	Description of Related Art<br>
[002] Digitization of video images has become increasingly important. In<br>
addition to their use in global communication (e.g.,<br>
videoconferencing), digitization of video images for digital video recording has also become increasingly common. In each of these applications, video information is transmitted across telecommunication links such as telephone lines, ISDN, DSL, and radio frequencies, or stored on various media devices such as DVDs and SVCDs. In many cases, the transmission and/or storage is susceptible to introducing errors into the video bitstream.<br>
[003] Efficient transmission, reception, and/jor storage of video data typically requires encoding and compressing the video data. Several approaches and standards to encoding and compressing source video signals exist. Some standards are designed for a particular application, such as ITU-T Recommendations H.261, H.263; and.H.264, which are used extensively in video conferencing applications. Additionally, standards promulgated by the Motion Picture Experts' Group (MPEG-1, MPEG-2, and MPEG-4) have found widespread application in consumer<br>
electronics and other applications, Each of these standards is<br>
incorporated by reference in its entirety.<br>
[004] In any case, a digital image is comprised of a rectangular array of individual pixels. Typically, the whole image is not processed at one<br>
1A<br><br>
time, but is divided into blocks that are individually processed. Each block comprises a rectangular grid of a predetermined number of luminance or luma pixels (which generally specify the brightness of a pixel) and a predetermined number of chrominance or chroma pixels (which generally specify the color of a pixel). A predetermined number of blocks are combined into a macroblock, which forms the basic unit of processing in most compression methods. Although some aspects of this hierarchy of processing units are discussed below, methods and techniques for block-based processing of images for processing are generally known to those skilled in the art, and thus are not repeated here in detail.<br>
[005] The macroblocks of image data may be encoded in a variation of one of two basic techniques. For example, "intra" coding may be used, in which the original macroblock is encoded without reference to historical data, such as a corresponding macroblock from a previous frame. Alternatively, "inter" coding may be used, in which the macroblock of image data is encoded in terms of the differences between the macroblock and a reference macroblock of data, such as a corresponding macroblock from a previous frame. Many variations on these two basic schemes are known to those skilled in the art, and thus are not discussed here in detail. It is generally desirable to select the encoding technique which requires the fewest number of bits to describe the macroblock of data. Intra coding typically requires many more bits to represent the block, and therefore inter coding is generally preferred.<br>
[006] Videoconferencing "calls" are typically placed using one of two technologies. Traditionally circuit switched networks {e.g., ISDN telephone lines) have been used. Typically these calls are placed according to International Telecommunications Union (ITU) Recommendation H.320, "Narrow-Band Visual Telephone Systems And Terminal Equipment." More recently, packet switched networks<br>
2<br><br>
such as the Internet have become more widely used for videoconferencing. A variety of packet switched multimedia communication protocols exist, one example of which is ITU Recommendation H.323, "Packet-based Multimedia Communications Systems." Each of these recommendations is hereby incorporated by reference in its entirety. Although the description herein is in the context of one of these two protocols, it is noted that the invention is not limited to only these protocols.<br>
[007] Frequently a video bitstream is transported across both network technologies in tandem. For instance, H.320/H.323 gateways can be used to allow video calls to span two local area networks. Another common example is a multipoint call, where some connections to the MCU might use H.323, while others use H.320. A video transcoder is optionally deployed in the H.323/H.320 protocol conversion. However, video transcoders are expensive, and add delay to the call. So it is advantageous to convert the protocol without such transcoding.<br>
[008] Video calls transmitted using either technology are in many cases subject to errors in transmission. When packet switched networks are used for transmission, a transmission error results in one or more lost packets. Packet switched network protocols (such as RTP) allow the receiver to detect that one or more packets have been lost. When circuit switched networks such as ISDN are used for transmission of H.320, a transmission error results in one or more error bits in the bitstream. BCH codes are used to provide some error correction, however error bursts frequently have too many errors to be corrected.<br>
[009] Frequently the transmission error causes the decoder to lose synchronization. When this occurs, bits immediately following the error (though received correctly) must be discarded until synchronization is re-established. For instance, if a packet is lost with an H.263 video bitstream packetized using RFC 2429, subsequent received packets are discarded until a GOB (group of blocks) header or<br>
3<br><br>
a PSC (picture start code) is found. Similarly, when an H.263 video is transmitted on an H.320 (circuit switched) connection, bits received after the transmission error and before the next GOB header or PSC are discarded.<br>
[0010] Traditionally, when the decoder detects bit stream errors, it has two options. The first option is to freeze the display and request a fast update from the transmitter. The transmitter sends an intra frame upon such a request. The receiver's display remains frozen until the intra frame is received (or until a timeout period expires). These seconds of frozen video compromise the User experience. The second option is to request a fast update but continue displaying the frames that had errors. Until the requested intra frame arrives, there are artifacts like bright color blocks, black blocks, or scrambled images, etc. Such artifacts are typically more disruptive to the user experience than a frozen display, so common practice in the videoconferencing arts has been to hide the errors by choosing option one, i.e., freezing the display.<br>
[0011] However, neither of the two options recited above is desirable. Therefore, what is needed in the art is an alternative technique of concealing errors in a video transmission that is less disruptive of the user experience. A preferred technique would be for the decoder to reconstruct the data that is missing or corrupted by the transmission losses (e.g., packet loss). To facilitate this, it is helpful if certain information either be redundantly transmitted or that the blocks be arranged so that missing data can be reconstructed by interpolation. The present invention is directed to such a system. Although described in terms of videoconferencing systems, the concepts described herein are equally adaptable to any video coding and decoding application.<br>
SUMMARY OF THE INVENTION<br>
[0012] Disclosed herein is a system and method for reconstruction video information lost as a result of transmission errors. The system and method have four aspects, including: (1) changing the bit and/or packet<br>
4<br><br>
rate; (2) inserting redundant information into the video bitstream; (3) providing automatic refresh of certain regions of the video on a periodic basis; and (4) interleaving coded macroblocks into diversity groups for transmission to spatially spread the effect of lost packets. The image reconstruction may then take advantage of these three aspects to provide an enhanced result in the presence of transmission losses.<br>
BRIEF DESCRIPTION OF THE DRAWINGS<br>
[0013] FIG. 1A-C depict a technique estimating motion vectors of a lost macroblock by reference to surrounding macroblocks.<br>
[0014] Fig. 2A-B depict the contents of packets containing non-overlapped inter maps (Fig. 2A) and overlapped inter maps (Fig. 2B).<br>
[0015] Fig. 3A-3B depict a motion wake and a motion wake identification algorithm.<br>
5<br><br>
DETAILED DESCRIPTION OF THE INVENTION<br>
[0016] As noted above, it is desirable to provide a way of reconstructing information lost from a video bitstream. In one aspect, the present invention relates to error correction techniques that include one or more of the following elements:<br>
•	Changing the bit rate and/or the packet rate.<br>
•	Inserting supplementary (redundant) information into the video bitstream.<br>
•	Providing an automatic refresh mechanism and wake detection in the video<br>
encoder.<br>
•	Interleaving the coded macroblocks into diversity groups prior to<br>
transmission.<br>
These four elements may be combined in various ways to facilitate effective error concealment and recovery. Additionally, these elements are typically implemented in video encoder(s) and decoder(s) that may take various forms including various combinations of dedicated or shared general-purpose hardware, software, and firmware. Furthermore, various elements may be implemented, modified, or otherwise interact with video server devices such as gateways, multipoint control units (MCUs) and the like, which may be constructed from various combinations of general purpose and dedicated hardware, software, and firmware.<br>
[0017] In a preferred embodiment, the receiver monitors the network quality and requests the sender to provide a specific combination of elements. The sender may take other factors into account (for instance, requests from other devices that are receiving the same stream, or (in the case of an intermediate gateway or MCU) the capabilities of the actual sender in its response. As is well known in the art, other methods can be used. For instance, a sender may be provided a priori or out-of-band information on the appropriate concealment mode. Or a sender may receive network quality statistics (for instance from RTCP), which it uses to select an appropriate mode.<br>
6<br><br>
[0018] Another aspect of the present invention relates to the minimization of the extent of the error. As described above, bits transmitted between the transmission error and the following synchronization header (e.g., the GOB header or PSC) must be discarded, even though they were received correctly. In a preferred embodiment, each transmitted packet begins with a synchronization header. This eliminates the need to discard correctly received packets due to resynchronization. Likewise, when converting from the H.320 protocol to the H.323 protocol, the gateway or MCU aligns each packet to start with a received synchronization header. Ideally each packet does not include other embedded synchronization headers (beyond the initial one at the packet start). Aligning the packets with the synchronization headers minimizes the extent of the error propagation, and can be implemented in protocol conversion devices without the need for video transcoding.<br>
Changing the Bit Rate and/or the Packet Rate<br>
[0019] A first approach to dealing with transmission errors, particularly those caused by lost packets or lost bits is to reduce the bit rate and/or the packet rate. In some cases, the lost packets may be due in part to sending packets faster than a given network element can receive them. In others, the packet overhead might be exacerbating network congestion. In either of these cases, reducing the packet rate might reduce the error rate. Note that the output packet rate partly depends on frame rate, particularly at lower bit rates.<br>
[0020] Additionally, a variety of other error concealment techniques increase the bit rate and/or packet rate, so if errors are developing as a result of network congestion, employing the other error concealment techniques discussed herein may actually cause more errors than are concealed or corrected. Thus it is preferred to decrease the bit rate and/or packet rate by an amount that approximately offsets the increased bit rate and/or packet rate caused by the additional error concealment techniques.<br>
7<br><br>
Inserting Supplementary (Redundant) Information in the Video Bitstream [0021] One element of the error correction technique described herein is the insertion of redundant information into the video bitstream. This redundant information ensures that a receiver (either an endpoint or a gateway or MCU) will be able to reconstruct an image even if some information is lost as a result of packet loss between the transmitter and receiver. The redundant information inserted in the bitstream includes a "map" of how each macroblock in the video frame was coded (i.e., whether inter or intra) and the motion vector field (i.e., the motion vectors for each inter coded block). This information may generally be encoded in the video bitstream in, a variety of ways apparent to one skilled in the art. This redundant information, however encoded, is sufficient for the receiver to reconstruct missing data as a result of packet loss according to the following procedures.<br>
[0022] hi one embodiment, the redundant information can be inserted or removed by a gateway or an MCU without requiring full video encoding or decoding. The information is placed near the synchronization headers so that removal can be accomplished by decoding only some of the bitstream symbols. The information is byte-aligned, to simplify its removal. To insert the redundant information, most of the symbols in the bitstream do need to be decoded to extract the redundant information. However, the pixels in the images do not need to decoded, which saves considerable computational resources and reduces delay.<br>
[0023] By facilitating removal/insertion of the redundant information into the bitstream, the techniques disclosed herein allow an MCU (or gateway) to add redundant information selectively, e.g., for instance, to add this information only on network links where errors are occurring. , In this mode of operation, the MCU uses the redundant information to reconstruct lost information in the bitstream. For instance, redundant motion vectors can be used to re-insert lost inter-coded blocks into the<br>
8<br><br>
standards-compliant portion of the bitstream. As noted above, this repair can be accomplished without transcoding.<br>
[0024] Also, endpoints that are only capable of receiving a standard bitstream (such as H.263), can be included in a conference that employs one or more of the various error concealment techniques described herein. Although the link between the MCU and such endpoints cannot carry this redundant information, all other endpoints benefit from the invention because the MCU is repairing bitstream errors received from the endpoints that do transmit the redundant supplementary information.<br>
[0025] If the inter macroblock map indicates that a lost macroblock was not intra coded, (i.e., was inter coded), then the decoder (i.e., receiver, either an endpoint, gateway, or MCU) reconstructs the lost macroblock as a motion compensated inter block with no coded coefficients. Both the rendered picture and the decoder reference frame are updated using this reconstructed block. If an extended inter map (i.e., one that includes motion vectors) is received, then the redundant motion vector data from the map is used for the reconstructed block. Alternatively, if the inter map was lost, or if it does not include the redundant motion vector information, then an estimate of its motion .vectors for the reconstructed block is computed by examining the motion vectors of neighboring blocks.<br>
[0026] In one embodiment, the estimated motion vectors may be computed as the median of the motion vectors of 3 neighboring macroblocks (denoted a, b, and c). Specifically, the motion vector for lost macroblock m is computed to be (x,y) where x = median(a, bx, cx) and ax, bx, cx are the x components of the motion vectors of macroblocks a, b, c. Similarly, y = median(ay, by, cy) where ay, by, cy are the y components of the motion vectors of macroblocks a, b, and c. Various arrangements of the reconstructed macroblock and the neighboring macroblocks used to compute motion vectors for the reconstructed<br>
9<br><br>
macroblocks are illustrated in Fig. 1A-1C. For example, for most macroblocks, the arrangement of Fig. 1A will be suitable. If a block is on the top picture edge, a reflection of Fig. 1A is used, as illustrated in Fig. IB. If a reconstructed block is in the corner of the image, the only three adjacent blocks are used, as illustrated in Fig. 1C. Additionally, the following boundary conditions apply for reconstructing motion vectors at the picture edges:<br>
(a)	at the left edge of the picture<br>
if(x
(b)	at the right edge of the picture<br>
if ( x &gt; 0), then x = 0;<br>
(c)	at the top edge of the picture<br>
if(y&gt;0),then y = 0;<br>
(d)	at the bottom edge of the picture<br>
if(y
[0027] If the lost macroblock is an intra coded macroblock, it is reconstructed only if interleaving (discussed below) is turned on. However, it should be noted that if a lost intra macroblock is at the edge of the picture, it is not reconstructed, whether interleaving is on or not. If interleaving is not turned on, the missing macroblock is treated as though it were not coded according to whatever video encoding algorithm is in use. If a block is reconstructed, both the rendered picture and the decoder reference frame are updated using this reconstructed block.<br>
[0028] If an intra macroblock is to be reconstructed, an estimate of the lost intra macroblock's contents is generated from a spatial interpolation of the adjacent macroblocks. The preferred interpolation method is bilinear interpolation, although a variety of interpolations could be used.<br>
[0029] Specifically, for the 8x8 luminance block in the upper left-hand corner of the macroblock, 8 pixels from the last row of pixels of the macroblock immediately above and 8 pixels from the right-most column of the macroblock to the left are 2 dimensionally bi-linearly interpolated to create the pixel values associated with the lost macroblock. Similarly, for the 8x8 block in the upper right-hand<br>
10<br><br>
comer, 8 pixels from the last row of pixels of the macroblock immediately above and 8 pixels from the left-most column of the macroblock to the right are 2 dimensionally bi-linearly interpolated. The remaining blocks are processed in a similar fashion. For each chroma block, 8 pixels from the last row of the macroblock immediately above and 8 pixels from the right-most column of the macroblock to the left are 2 dimensionally bi-linearly interpolated.<br>
[0030] Even at modest packet loss rates, it is possible that both the primary video and redundant map/motion vector information for the same packet will be lost. For example, if the packet loss rate is 1/6, the odds of losing both sources of picture information are 1/36. In a 30 frame per second video call, this will occur approximately once per second. Overlapping the redundant data can substantially reduce these odds.<br>
[0031] When overlap is not in use, the first packet in each frame holds no inter map or motion vector information. Each subsequent packet in the frame holds the inter map and motion vector information for the previous packet. Following the final video packet, a map termination packet is sent, which holds the map information from the final video packet. For example, consider a CIF frame with a diversity number of 6. Each frame will have at least 7 packets, with the map elements as shown in Fig 2A.<br>
[0032] When overlapping is in use, the redundant information is sent more than once. Specifically, each map entry is sent multiple times. For an overlap of n, each packet holds the map information for the previous n+1 packets. If fewer than n+1 packets have been sent, the entire map (starting from macroblock 0) is sent. After the final video packet is sent, multiple map termination entries are transmitted to achieve the desired redundancy for all packets in the frame. If the overlap is set to 3, each frame will require 10 packets to transmit, with the map elements as shown in Fig. 2B.<br>
11<br><br>
[0033] As an example, if the overlap is set to 2, the motion vectors are sent three times for each macroblock (in addition to the macroblock itself). These transmissions are in distinct packets. Thus the motion vectors for a macroblock will be sent in each of the next three packets following the packet containing the macroblock. In the above example, with a packet loss rate of 1/6 and a frame rate of 30 frames per second, the odds of losing both the map and the macroblock are reduced to 1/1296, or approximately every 40 seconds. However, because sending the motion vectors multiple times adds considerably to the bit rate overhead, overlap is most advantageous at higher bit rates. If the interleave (described below) is being used, the overlap cannot exceed the number of diversity groups. If interleave is not being used, the overlap cannot exceed the number of GOBs in the image.<br>
Automatic Refresh Mechanism and Wake Detection<br>
[0034] A second key element of the error concealment techniques described herein is a refresh mechanism and/or wake detection algorithm. A refresh mechanism should be used to clean up residual encoder/decoder reference frame mismatches that result from packet loss. The refresh mechanism intra-codes macroblocks in the image in a deterministic pattern. This limits the propagation of errors, especially in moving areas. Any refresh pattern can be used, as long as it systematically refreshes each macroblock in the image at the specified rate. One suitable refresh mechanism is a walk around refresh, which operates as follows. A walk-around interval w specifies the spacing between intra-coded blocks. Thus, every w'h macroblock is coded as intra (starting from a starting block s). The starting block s is reset for the next picture as (/ + w) mod b, where l is the last block refreshed in this picture, and b is the number of blocks in the picture. ("Mod" is, of course, the modulo or modulus function.)<br>
12<br><br>
[0035] Care must be taken in choosing w, so that no block in the picture is skipped. It is also suggested that w should not be a multiple of the diversity number (discussed below), so as to spread the intra-coded blocks in a frame evenly across the diversity groups. A simple method of ensuring that w meets these constraints is to make w a prime number that is not a factor of the diversity number.<br>
[0036] A wake detection algorithm may also be included. When coding video, there often exists a region in a video frame where a moving object m has revealed or uncovered a part of the background. This background region w is called the motion wake or more simply the wake, and is depicted in Fig. 3 A. When performing error concealment, motion prediction errors that occur in the motion wake tend to be persistent, causing distracting visual artifacts. Encoding the macroblocks in the motion wake as intra reduces these artifacts. It is also desirable to reduce the coding threshold and quantization parameter in the wake, to keep the background sharp around the moving areas of the picture.<br>
[0037] One technique for detecting the motion wake is as follows: For a given macroblock showing no motion, the motion vectors of adjacent macroblocks are checked. Four tests are performed, each checking for one of left, right, up, or down motion. If any of these tests are true, the macroblock is identified as being in the motion wake, and should be intra coded. Figure 3B illustrates the test for left (the tests for other directions are similar, and thus are not described in detail). If the three left neighbors of macroblock m (labeled "a" in Fig. 3B) show motion to the left and the macroblock "m" has little or no associated motion then macroblock m is said to be in the motion wake. More specifically, the condition specifying little of no motion may be written, |MVx| 
Interleave/Diversity Groups<br>
13<br><br>
[0038] A third element of the error correction techniques described herein is the use of interleaved macroblocks, aka diversity groups. Normally, in H.263 the macroblocks are sent in raster-scan order. For instance, in a CIF picture, there are 396 macroblocks with a transmission index that ranges from 0 (upper left) to 395 (lower right). The macroblocks are organized into Groups of Blocks (GOBs), which are spatially adjacent in the picture. However, an additional technique that can be used for error recovery is macrobloek interleaving. If macroblock interleaving is in use, the macroblock transmission number is altered as follows: First each macroblock is assigned to a diversity group, by taking the transmission index mod diversity number. (The diversity number is the number of diversity groups.) A diversity group is essentially a GOB that comprises non-spatially adjacent blocks. This spatially spreads the error from lost packets, allowing use of various interpolative methods for error concealment. Note that when the H.264 baseline profile is used for encoding, FMO (flexible macroblock ordering) can be used to created diversity groups.<br>
[0039] Because diversity groups are a special kind of GOB, the bitstream can include GOB headers, using the diversity group index as the GOB number. After being assigned to a diversity group, the macroblocks are (re-)ordered by diversity group (with group 0 first). Within a diversity group, macroblocks are sent such that their addresses increase monotonically. When the far end has requested macroblock interleaving, it specifies the diversity number. The diversity number:<br>
(a)	need not be a divisor of the number of macroblocks in the image;<br>
(b)	shall not be a divisor of the macroblocks per row (otherwise the<br>
reconstruction techniques described above will not operate correctly);<br>
(c)	shall be in the range 2-30; and (d) shall not exceed the number of<br>
GOBs in the image.<br>
[0040] For example, consider a QCIF resolution image (9 rows of 11 macroblocks) with a diversity number of 3. Normally, the 99<br>
14<br><br>
macroblocks would be sent sequentially (0-98). The macroblocks are organized into 9 GOBs (numbered 0-8) of 11 macroblocks each. However, with interleaving on, the macroblocks are grouped into three diversity groups (DGO, DG1, and DG2), and the macroblocks are sent in the following order:<br>
DGO:	0, 3, 6, 9,12,15,18,21,24,27,30,33,36,39,42,45,<br>
4 8,51,54,57,60,63,66,69,72,75,78,81,84,87,90,93, 96<br>
DG1:	1, 4,<br>
7,10,13,16,19,22,25,28,31,33,37,40,43,4 6,<br>
4 9,52,55,58,61,64,67,70,7 3,7 6,7 9,82,85,88,91,94, 97<br>
DG2:	2,5,<br>
8,11,14,17,20,23,2 6,2 9,32,35,38,41,44,47,<br>
50,53,56,59,62,65,68,71,7 4,77,80,83,8 6,8 9,92,95, 98<br>
It should be noted that each of the three diversity groups must be sent as separate packets.<br>
[0041] Each of the elements of an error correction algorithm described herein may be implemented individually or together to accomplish a desired level of error correction within a given computational capacity or other capability framework. Additionally, the techniques may be implemented in various combinations of hardware, software, and firmware and may be implemented in video encoders, decoders, gateways, MCUs, etc., as appropriate. For example, although certain elements of the system described herein require a particular action by an encoder, a decoder capable of receiving such a stream may request that the encoder transmit the bitstream using one or more of these features in response to the loss of one or more video packets. Various details necessary for implementation of such systems, for example, particular bitstream modifications required to carry the supplemental information or construction of computation algorithms to determine items described herein, would be apparent to one skilled in the art having the benefit of this disclosure, and thus are not reproduced here.<br>
15<br><br>
[0042] Although the techniques described herein are primarily designed to deal with packet loss, they are also compatible with telephony network protocols such as H.320. This provides error concealment and recovery for multipoint conferences and gateway calls that include endpoints on both packet networks and telephony networks.<br>
[0043] The invention has been explained with reference to exemplary embodiments. It will be evident to those skilled in the art that various modifications may be made thereto without departing from the broader spirit and scope of the invention. Further, although the invention has been described in the context of its implementation in particular environments and for particular applications, those skilled in the art will recognize that the present invention's usefulness is not limited thereto and that the invention can be beneficially utilized in any number of environments and implementations. The foregoing description and drawings are, accordingly, to be regarded in an illustrative rather than a restrictive sense.<br>
16<br><br>
WHAT IS CLAIMED IS:<br>
1.	A method of digitally encoding a video bitstream to facilitate the<br>
concealment of errors caused by loss of some portion of the video<br>
bitstream, the method comprising:<br>
inserting redundant information in the video bitstream, wherein the redundant information comprises at least one of: (a) a map specifying whether each block was coded using intra or inter coding and (b) redundant motion vectors for each inter coded block.<br>
2.	The method of claim 1 wherein the redundant information is inserted into<br>
the bitstream at the request of a receiver.<br>
3.	The method of claim 1 further comprising periodically coding each block<br>
of the video bitstream as an intra coded block using a deterministic pattern.<br>
4.	The method of claim 3 wherein the deterministic pattern is a walk-around<br>
refresh.<br>
5.	The method of claim 1 further comprising coding each block of the video<br>
bitstream determined to be in a motion wake as an intra coded block.<br>
6.	The method of claim 1 further comprising interleaving coded macroblocks<br>
into a plurality of diversity groups for transmission, wherein spatially<br>
adjacent macroblocks are assigned to different diversity groups.<br>
7.	The method of claim 1 further comprising overlapping the redundant<br>
information over a plurality of packets such that each packet contains<br>
redundant information corresponding to one or more previous packets.<br>
8.	The method of claim 1 further comprising assigning each of a plurality of<br>
macroblocks to a one of a plurality of diversity groups such that each<br>
diversity group contains non-spatially adjacent macroblocks, wherein the<br>
diversity groups are transmitted in separate packets.<br>
17<br><br>
9.	A method of decoding a video bitstream, the method comprising:<br>
receiving a video bitstream wherein at least some portions of the video<br>
bitstream are lost;<br>
identifying at least one lost macroblock; referring to an inter macroblock map embedded in the video stream to<br>
determine how to reconstruct the lost macroblock.<br>
10.	The method of claim 16 wherein if the inter macroblock map indicates that<br>
the lost macroblock was inter coded, the lost macroblock is reconstructed<br>
using redundant motion vectors embedded in the video bitstream.<br>
11.	The method of claim 16 wherein if the inter macroblock map indicates that<br>
the lost macroblock was inter coded, the lost macroblock is reconstructed<br>
by estimating motion vectors from one or more surrounding macroblocks.<br>
12.	The method of claim 18 wherein estimating motion vectors from one or<br>
more surrounding macroblocks (comprises computing the median of<br>
motion vectors of a plurality of neighboring macroblocks.<br>
13.	The method of claim 16 wherein if the inter macroblock map indicates that<br>
the lost macroblock was intra coded, the lost macroblock is reconstructed<br>
as an uncoded macroblock.<br>
14.	The method of claim 16 wherein if the inter macroblock map indicates that<br>
the lost macroblock was intra coded and the macroblock is at an edge of a<br>
picture, the macroblock is not reconstructed.<br>
15.	The method of claim 16 wherein if the inter macroblock map indicates that<br>
the lost macroblock was intra coded, the lost macroblock is reconstructed<br>
by spatial interpolation of adjacent macroblocks.<br>
16.	A method of decoding a video bitstream, the method comprising:<br>
receiving a video bitstream wherein at least some portions of the video bitstream are lost; and<br>
requesting that a transmitter send one or more error correction elements, wherein the error correction elements are selected from the group consisting of: reducing the bit rate and/or packet rate, inserting<br>
18<br><br>
redundant information into the video bitstream, providing an automatic refresh mechanism, providing motion wake detection, and interleaving the coded macroblocks into diversity groups prior to transmission.<br>
17.	The method of claim 23 further comprising:<br>
identifying at least one lost macroblock;<br>
referring to an inter macroblock map embedded in the video stream to determine how to reconstruct the lost macroblock.<br>
18.	The method of claim 24 wherein if the inter macroblock map indicates that<br>
the lost macroblock was inter coded, the lost macroblock is reconstructed<br>
using redundant motion vectors embedded in the video bitstream.<br>
19.	The method of claim 24 wherein if the inter macroblock map indicates that<br>
the lost macroblock was inter coded, the lost macroblock is reconstructed<br>
by estimating motion vectors from one or more surrounding macroblocks.<br>
20.	The method of claim 26 wherein estimating motion vectors from one or<br>
more surrounding macroblocks comprises computing the median of<br>
motion vectors of a plurality of neighboring macroblocks.<br>
21.	The method of claim 24 wherein if the inter macroblock map indicates that<br>
the lost macroblock was intra coded, the lost macroblock is reconstructed<br>
as an uncoded macroblock.<br>
22.	The method of claim 24 wherein if the inter macroblock map indicates that<br>
the lost macroblock was intra coded and the macroblock is at an edge of a<br>
picture, the macroblock is not reconstructed.<br>
23.	The method of claim 24 wherein if the inter macroblock map indicates that<br>
the lost macroblock was intra coded, the lost macroblock is reconstructed<br>
by spatial interpolation of adjacent macroblocks.<br>
24.	A method of packetizing a video bitstream for transmission to facilitate the<br>
concealment of errors caused by loss of some portion of the video<br>
bitstream, the method comprising inserting a single synchronization header<br>
19<br><br>
in each packet, wherein the single synchronization header is aligned with a start of the corresponding packet.<br>
25.	A method of conducting a multipoint video conference wherein a<br>
multipoint control unit facilitates the concealment of errors one at least one<br>
link caused by loss of some portion of the video bitstream along that link<br>
by:<br>
inserting redundant information in the video bitstream, wherein the redundant information comprises at least one of: (a) a map specifying whether each block was coded using intra or inter coding and (b) redundant motion vectors for each inter coded block.<br>
26.	A method of conducting a multipoint video conference wherein a<br>
multipoint control unit facilitates the concealment of errors caused by loss<br>
of some portion of the video bitstream, the method comprising:<br>
deleting redundant information from a video stream being transmitted to an endpoint that does not support such redundant information, wherein the redundant information was placed in the video bitstream by a device other than the endpoint or the multipoint control unit, wherein the redundant information comprises at least one of: (a) a map specifying whether each block was coded using intra or inter coding and (b) redundant motion vectors for each inter coded block.<br>
Dated this 10th day of July 2006<br><br>
20<br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/viewdoc.aspx?id=/8hjLqIJAX4zVR4G1tvHxQ==&amp;amp;loc=wDBSZCsAt7zoiVrqcFJsRw==" target="_blank" style="word-wrap:break-word;">http://ipindiaonline.gov.in/patentsearch/GrantedSearch/viewdoc.aspx?id=/8hjLqIJAX4zVR4G1tvHxQ==&amp;amp;loc=wDBSZCsAt7zoiVrqcFJsRw==</a></p>
		<br>
		<div class="pull-left">
			<a href="268951-apparatus-on-a-spinning-preparation-machine-especially-a-flat-card-roller-card-or-similar-for-monitoring-and-or-adjusting-clearances-at-components.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="268953-distributed-diagnostics-architecture.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>268952</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>687/KOL/2006</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>40/2015</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>02-Oct-2015</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>24-Sep-2015</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>10-Jul-2006</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>POLYCOM , INC.</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>4750 WILLOW ROAD PLEASANTON CALIFORNIA 94588</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>YONA ILAN</td>
											<td>16 LORD BYRON STREET TEL AVIV ISRAEL 53411</td>
										</tr>
										<tr>
											<td>2</td>
											<td>BOTZKO STEPHEN</td>
											<td>150 WOBURN STREET READING MASSACHUSETTS 01867</td>
										</tr>
										<tr>
											<td>3</td>
											<td>ELBAZ MOSHE</td>
											<td>19 KEREN HAYESOD STREET KIRIAT BIALIK ISRAEL 27000</td>
										</tr>
										<tr>
											<td>4</td>
											<td>HOROWITZ MICHAEL</td>
											<td>4310 AVENUE F AUSTIN TEXAS 78751</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>G09B 5/02</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>N/A</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td></td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>11/180,899</td>
									<td>2005-07-13</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/268952-video-error-concealment-method by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 08:34:16 GMT -->
</html>
