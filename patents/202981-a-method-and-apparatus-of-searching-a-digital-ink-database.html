<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/202981-a-method-and-apparatus-of-searching-a-digital-ink-database by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 02:32:55 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 202981:A METHOD AND APPARATUS OF SEARCHING A DIGITAL INK DATABASE</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">A METHOD AND APPARATUS OF SEARCHING A DIGITAL INK DATABASE</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A system and method for ink database searching using handwriting feature synthesis is disclosed which allows a digital ink database to be searched using a text-based query. Using a writer-specific handwriting model derived from a handwriting recognition system or suitable training procedure, a text query is converted into feature vectors that are similar to the feature vectors that would have been extracted had the author of the digital ink database written the text query by hand. The feature vectors are then used to search the database. This allows the searching of a digital ink database when the only input mechanism available is text entry, and can allow a person other than the author of the digital ink database to search the digital ink database.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>Digital Ink Database Searching Using Handwriting Feature<br>
Synthesis<br>
Technical Field<br>
The present invention broadly relates to digital processor implemented handwriting searching or recognition systems, and in particular, to a method of and apparatus for searching of a digital ink database using handwriting feature synthesis from a search query in text form.<br>
Background Art<br>
"Digital ink database" as used herein refers to a database which stores handwritten characters, for example a string of handwritten characters forming a handwritten letter.<br>
Overview<br>
Pen-based computing systems provide a convenient and flexible means of human-computer interaction. Most people are very familiar with using pen and paper. This familiarity is exploited by known systems which use a pen-like device as a data entry and recording mechanism for text, drawings or calculations which are quite naturally supported by this medium. Additionally, written ink is a more expressive format than digital text, and ink-based systems can be language-independent.<br>
The increasing use of pen computing and the emergence of paper-based interfaces to networked computing resources (for example see: P. Lapstun, Netpage System Overview, Silverbrook Research Pty Ltd, 6th June, 2000; and, Anoto, "Anoto, Ericsson, and Time Manager Take Pen and Paper into the Digital Age with the Anoto Technology", Press Release, 6th April, 2000), has highlighted the need for techniques which are able to store, index, and search (raw) digital ink. Pen-based computing allows users to store data in the form of notes and annotations, and subsequently search this data based on hand-drawn queries. However, searching<br><br>
handwritten text is more difficult than traditional text (e.g. ASCII text) searching due to inconsistencies in the production of handwriting and the stylistic variations between writers.<br>
Digital Ink Database Searching<br>
The traditional method of searching handwritten data in a digital ink database is to first convert the digital ink database and corresponding search query to standard text using pattern recognition techniques, and then to match the query text with the converted standard text in the database. Fuzzy text searching methods have been described, see P. Hall and G. Dowling, "Approximate String Matching", Computing Surveys, 12(4), pp. 381-402,1980, that perform text matching in the presence of character errors, similar to those produced by handwriting recognition systems.<br>
However, handwriting recognition accuracy remains low, and the number of errors introduced by handwriting recognition (both for the database entries and for the handwritten query) means that this technique does not work well. The process of converting handwritten information into text results in the loss of a significant amount of information regarding the general shape and dynamic properties of the handwriting. For example, some letters (e.g. 'u' and 'v', V and 'r' ,  'f' and 't' etc.) are handwritten with a great deal of similarity in shape. Additionally, in many handwriting styles (particularly cursive writing), the identification of individual characters is highly ambiguous.<br>
Various techniques for directly searching and indexing a digital ink database are known in the prior art, see for example: A. Poon, K. Weber, and T.Cass, "Scribbler: A Tool for Searching Digital Ink", Proceedings of the ACM Computer-Human Interaction, pp.58-64, 1994; I. Kamel, "Fast Retrieval of Cursive Handwriting", Proceedings of the 5l International Conference on Information and Knowledge Management, Rockville, MD USA, November 12-16, 1996; W. Aref, D. Barbera, P. Vallabhaneni, "The Handwritten Trie: Indexing Electronic Ink", The 1995 ACM SIGMOD International Conference on Management of Data, San Jose,<br><br>
California, May 1995; W, Aref, D. Barbera, D. Lopresti, and A. Tomkins, "Ink as a First-Class Datatype in Multimedia Databases", Database System - Issues and Research Direction, pp. 113-163, 1996; and, R. Manmatha, C. Han, E. Riseman, and W. Croft, "Indexing Handwriting Using Word Matching", Proceedings of the First ACM International Conference on Digital Libraries, pp. 151-159, 1996.<br>
These systems use a similarity measure to compare a feature vector derived from a set of query pen strokes with a database of feature vectors derived from the digital ink database. The entries in the database that exhibit the greatest degree of similarity with the query are returned as matches. Additionally, some approaches create an index or use a partitioning scheme to avoid a sequential search of all entries in the database. See for example: D. Barbara, W. Aref, I. Kamel, and P. Vallabhaneni, "Method and Apparatus for Indexing a Plurality of Handwritten Objects", US Patent 5,649,023; D. Barbara and I. Kamel, "Method and Apparatus for Similarity Matching of Handwritten Data Objects", US Patent 5,710,916; D. Barbara and H. Korth, "Method and Apparatus for Storage and Retrieval of Handwritten Information", US Patent 5,524,240; D. Barbara and W. Aref, "Method for Indexing and Searching Handwritten Documents in a Database", US Patent 5,553,284; R. Hull. D. Reynolds, and D. Gupter, "Scribble Matching". US Patent 6,018,591; A. Poon, K.Weber, and T. Cass, "Searching and Matching Unrecognized Handwriting", US Patent 5,687,254; and, W. Aref and D. Barbara, "Trie Structure Based Method and Apparatus for Indexing and Searching Handwritten Databases with Dynamic Search Sequencing", US Patent 5,768,423.<br>
Other studies, J. Hollerbach, "An Oscillation Theory of Handwriting", Biological Cybernetics, pp. 139-156, 1981, and, Y. Singer and N. Tishby, "Dynamical Encoding of Cursive Handwriting", IEEE Conference on Computer Vision and Pattern Recognition, 1993, describe efforts to model the physical properties of handwriting for handwriting synthesis.<br>
Disclosure Of Invention<br><br>
The digital ink database searching techniques previously described are dependent on an ink query that is generated by the writer who authored the digital ink database. However, it would be beneficial if a digital ink database was searchable using other input mechanisms, for example, using a text query entered with a computer keyboard, or spoken and recognized by a voice recognition system. Alternatively, a third party may wish to search the digital ink database, either using his or her own handwriting, or using a text-based query.<br>
Ink database searching using handwriting feature synthesis allows a digital ink database to be searched using a text-based query. Using a writer-specific handwriting model derived from a handwriting recognition system or suitable training procedure, a text query is converted into feature vectors that are similar to the feature vectors that would have been extracted had the author of the digital ink database written the text query by hand. The feature vectors are then used to search the database, for example by using traditional techniques. This allows the searching of a digital ink database when the only input mechanism available is text entry, and can allow a person other than the author of the digital ink database to search the digital ink database.<br>
According to a broad form of the present invention, there is provided a method of searching a digital ink database using a text query, the method including:<br>
performing a search of a lexicon consisting of a table of letter sequences and associated feature vectors, and determining a sequence of lexicon entries which contain letter sequences that can be combined to produce the text query;<br>
obtaining a set of feature vectors corresponding to the sequence of lexicon entries; and,<br>
using the set of feature vectors to search the digital ink database.<br>
According to a particular embodiment of the present invention, the lexicon is part of a handwriting model obtained from the author of the digital ink database using handwriting recognition results.<br><br>
In an embodiment of the present invention the handwriting model stores a mapping of letter sequences to feature vectors. Preferably, the lexicon includes multiple feature vectors for each letter sequence. Also preferably, if more than one sequence of lexicon entries is determined, then the sequence of lexicon entries having the least number of entries is used.<br>
In further embodiments, the text query is obtained by converting handwritten input into text using a handwriting recognition system, and/or, by converting voice input into text using a voice recognition system.<br>
In a specific form of the present invention, the handwriting recognition results are obtained by:<br>
sampling the handwriting;<br>
smoothing the handwriting using a filter;<br>
performing slant correction;<br>
using a zone estimation algorithm to perform height normalization;<br>
using feature extraction to perform segmentation into sub-strokes and generation of feature vectors;<br>
using feature reduction of the set of feature vectors;<br>
performing vector quantization to cluster the feature vectors and generate code word vectors; and,<br>
searching a dictionary for the most likely word from the generated text<br>
letters.<br>
According to a further broad form of the present invention, there is provided apparatus for searching a digital ink database using a query, the apparatus including:<br>
an input device for a user to input the query;<br>
a processor able to receive the query and communicate with the digital ink<br>
database;<br>
means to convert the query to a text query, if the query is not already a text<br>
query;<br><br>
means for performing a search of a lexicon and determining a sequence of lexicon entries which contain letter sequences that can be combined to produce the text query;<br>
means for obtaining a set of feature vectors corresponding to the sequence of lexicon entries;<br>
means for searching the digital ink database using the set of feature vectors; and<br>
an output device to display the results of the search to the user.<br>
According to another aspect of an embodiment of the present invention, the text query is generated from handwriting using a different handwriting model than the handwriting model used to generate the feature vectors for searching.<br>
According to still a further broad form of the present invention, there is provided apparatus for searching a digital ink database using a query, the apparatus including:<br>
a store for storing the digital ink database; a processor, the processor being adapted to:<br>
perform a search of a lexicon and determine a sequence of lexicon entries which contain letter sequences that can be combined to produce the text query;<br>
obtain a set of feature vectors corresponding to the sequence of lexicon entries;<br>
use the set of feature vectors to search the digital ink database; wherein, the lexicon is part of a handwriting model obtained from the author of the digital ink database using handwriting recognition results.<br>
Brief Description Of Figures<br>
The present invention should become apparent from the following description, which   is   given   by   way   of example   only,   of  a   preferred   but   non-limiting<br><br>
embodiment thereof, described in connection with the accompanying figures, wherein:<br>
Figure 1 illustrates a processing system.<br>
Figure 2 illustrates an overview of the handwriting recognition method.<br>
Figure 3 illustrates the digital ink database searching method using feature synthesis.<br>
Figure 4 illustrates a third party ink database searching method.<br>
Figure 5 illustrates training and recognition / search phases.<br>
Figure 6 illustrates a method for handwriting recognition.<br>
Figure 7 illustrates an example for text recognition.<br>
Modes For Carrying Out The Invention<br>
The following modes are described as applied to the written description and appended claims in order to provide a more precise understanding of the subject matter of the present invention.<br>
I.	Preferred embodiment<br>
The present invention provides a method and apparatus for searching a digital ink database using a text query. In the figures, incorporated to illustrate the features of the present invention, like reference numerals are used to identify like parts throughout the figures.<br>
Embodiments of the present invention can be realized using a processing system an example of which is shown in figure 1. In particular, the processing system 10 generally includes at least a processor 20, a memory 21, and an input device 22, such as a graphics tablet and/or keyboard, an output device 23, such as a display, coupled together via a bus 24 as shown. An external interface is also provided as shown at 25, for coupling the processing system to a digital ink database 11.<br><br>
In use, the processing system 10 is adapted to allow data to be stored in and/or retrieved from the digital ink database 11. The processor 20 receives handwriting data, a text query, etc., via the input 22. From this, it will be appreciated that the processing system 10 may be any form of processing system or terminal such as a computer, a laptop, server, specialized hardware, or the like.<br>
Modeling Handwriting<br>
The writer-specific handwriting model describes the handwriting style of a particular user. Most user-adaptive handwriting recognition systems generate some kind of model to account for the stylistic variations between individual users. Generally, the purpose of these handwriting models is to map the feature vectors extracted from a set of input pen strokes into a set of letters that represent the recognized text.<br>
However, the feature synthesis approach to digital ink searching uses a writer-specific handwriting model to perform the inverse mapping. That is, the model is used to convert query text into a set of feature vectors that approximate the features that would have been extracted had the writer written the query text by hand. Figure 2 details the general steps in a handwritten text recognition system. The handwriting is sampled 26 and raw ink 27 is passed to a normalization step 28. The normalized ink 29 undergoes a segmentation step 30 and the resulting strokes 31 are passed to a feature extraction step 32 which extracts the feature vectors 33. Classification step 34 is then performed using the handwriting model 35, which produces the primitives 36. Text recognition step 37 receives the primitives 36 and uses the language model 38 and/or handwriting model 35 to generate text 39 corresponding to raw ink 27.<br>
To use feature synthesis for ink database searching, an additional step is required. The writer-specific handwriting model 35 is required to be modified to store information that allows text to be mapped to ink features. To perform this mapping, a table (called a lexicon) translating individual letters and groups of letters (i.e. sequences of letters) into features is included in the handwriting model.<br><br>
After recognition has been performed, letters in the output text and the corresponding feature vectors used for recognition can be added to the lexicon.<br>
Groups of commonly co-occurring letters and their corresponding feature vectors are concatenated and added to the lexicon. This is desirable since handwriting exhibits co-articulation effects (where the writing of a letter is influenced by the shape of surrounding letters) and commonly written letters (e.g. "qu", "ed", and "ing") are likely to exhibit co-articulation. By storing the feature vectors of letter groups, a more accurate rendering of the query ink can be produced that considers the contextual effects of the stroke sequence.<br>
The lexicon should be able to store multiple feature vectors for each letter sequence. Since the same letters can be recognized many times, the lexicon should be able to select the feature vectors that best represents the letters. This can be done by storing all feature vector sequences output by the recognizer for each letter sequence, together with a count of the number of times that feature vector sequence has been seen for that letter sequence. The feature vector sequence with the highest count (i.e. the most frequently seen and thus most probable) for a letter sequence is then used during feature synthesis.<br>
The choice of which letter groups should be stored can be based on character transition statistics (for example, as derived from a text corpus) where character sequences with a high probability of occurrence are stored (e.g. the probability of "ing" is much greater than the probability of "inx"). Alternatively, all possible letter groupings can be stored after recognition, with some kind of culling procedure executed when the table becomes too large (for example, least-recently used).<br>
Further improvements can be achieved by explicitly modeling word endings in the lexicon. Many writing styles exhibit poorly written characters at the end of words. This is particularly apparent in handwritten word suffixes such as "ing", "er", and "ed". To model this behavior, an end of word character is appended to the letter<br><br>
sequence (e.g. "ing#") to indicate that this letter sequence models a word ending. During feature synthesis, these entries can only be used to complete a query word.<br>
Feature Synthesis<br>
To search a digital ink database, the text query is converted to a set of feature vectors by the feature synthesis procedure that uses the writer-specific handwriting model. These feature vectors are then used as the query term for searching the digital ink database. The ink database search can be performed using traditional ink matching techniques. Figure 3 describes this procedure. At step 40 text is input and the text 41 provided to feature synthesis step 42 which uses the handwriting model 35 to generate features 43. The features 43 are used in an ink searching step 44 of the digital ink database 11. This produces ink matches 45.<br>
To perform feature synthesis, a search of the lexicon is performed to locate a sequence of lexicon entries that contain letter sequences that can be combined to produce the query text. The stored feature vectors are concatenated to produce the query feature vector. However, there may be a number of different combinations of lexicon entries that can be used to create the query text. It is assumed that using the minimum number of entries possible to produce the text will most accurately model the contextual effects. For example, assume the following entries exists in the lexicon;<br><br>
The word "borrowed" can then be created as (bo)(rr)(ow)(ed), (borr)(ow)(ed), or (bor)(rowed), with the final construction being most the desirable since it is composed from the fewest elements.<br>
A* Lexicon Search<br><br>
For accurate results, the lexicon is expected to be very large, and the number of potential lexicon entry combinations for a word would be exponential. For queries containing long words, a complete enumeration of all permutations may not be practical. A modified A* search algorithm, see S. Russell and P. Norvig, Artificial Intelligence - A Modern Approach, Prentice Hall, 1995, can be used to search for a letter sequence s, where the path cost function g(s) is the number of lexicon entries used so far to create the text, and the estimated cost to the goal is:<br><br>
This heuristic states that at least one additional lexicon entry is required to complete the letter sequence if the sequence has fewer letters than the query word. Nodes in the search tree are sorted by g(s) + h(s) (with lower scores being superior) and nodes with the same score are ordered by the number of letters in the sequence (with higher being superior).<br>
Note that h(s) is a monotonic and admissible heuristic (i.e. it never overestimates the cost of reaching the goal) so the search is guaranteed to find the optimal solution and is optimally efficient (i.e. expands the fewest nodes possible to find the optimal solution). Proof of this result is given in R. Dechter and J. Pearl, "Generalized Best-First Search Strategies and the Optimality of A*", Journal of the Association for Computing Machinery, 32(3), pp. 505-536, 1985.<br>
As an example of the above procedure, the search for the word "borrowed" is given below. Each row in the table represents a search node, with higher scoring nodes located at the top of the table:<br><br><br>
The most promising node at the top of the table is expanded, resulting in:<br><br>
Again, the most promising node is expanded:<br><br>
The top node is now a completed sequence, and no other node in the search can produce a better score, so this node is selected as the search result.<br>
II.        Various embodiments<br>
HA.     Feature Synthesis Without Handwriting Recognition<br>
Ink searching using feature synthesis can be performed without using a handwriting recognition system. The technique only requires the ability to build a lexicon of letter sequences and associated feature vectors to model the handwriting of the writer who authored the digital ink database.<br>
If handwriting recognition results are not available for modeling, a training procedure can be used to generate the writer-specific lexicon. To do this, a user provides a sample of their handwriting by copying a specified training text, which is then used to build the lexicon. The training procedure is not required to perform<br><br>
full handwriting recognition since the text represented by the handwriting is already known; rather, it simply needs to segment the input into characters and strokes, convert the strokes into features, and store the appropriate letter groups and associated feature vectors in the lexicon.<br>
The training text used to build the lexicon should be optimized to provide a balanced example set of individual letters and letter groups. That is, it should maximize the coverage of likely character unigrams, bigrams, and trigrams, see J. Pitrelli, J. Subrahmonia, M. Perrone, and K. Nathan, "Optimization of Training Texts for Writer-Dependent Handwriting Recognition", Advances in Handwriting Recognition, World Scientific Publishing, 1999, with an emphasis on letters and letter sequences that are most likely to be encountered.<br>
I1B,     Different Features for Recognition and Ink Matching<br>
It is desirable that both the handwriting recognition system and the ink-matching algorithm use the same feature representations, since the features used to search the digital ink database are derived from the results of the handwriting recognition.<br>
However, it is possible to use different feature sets for the recognition and search provided the recognition features can be transformed into the search features. Some feature sets can allow a transformation from recognition features to search features to be learned from a set of training data.<br>
Alternatively, many feature sets can allow the regeneration of an approximation of the digital ink from the recognition features, from which the second feature set can be extracted. That is, the text query is converted to a set of feature vectors using feature synthesis, and the inverse transformation of the feature-extraction process is applied to the features to convert them into digital ink from which the search features are extracted. Care must be taken to ensure that this procedure does not introduce artifacts in the digital ink that may affect the search feature extraction (e.g. discontinuities in the generated ink may cause problems for some feature extraction techniques).<br><br>
IIC.     Third-Party Ink Searching<br>
A person can search the digital ink database of another writer by using handwriting recognition to convert their ink input into text, and using feature synthesis to convert the recognized text into features for ink searching.<br>
Figure 4 depicts this situation, with writer B searching the digital ink database authored by writer A. At step 46 ink is received from writer B and the strokes 47 are passed to feature extraction step 48. The features 49 are extracted and recognition step 50 uses a language model 51 and writer B model 52 to generate corresponding text 53. This is used to build a lexicon for writer B at lexicon builder step 54. Letter groups and features are sent back to writer B model 52 to improve/update the model. The text 53 then undergoes feature synthesis step 42 and a similar process as that described with reference to figure 3 is then followed to retrieve ink matches 45 that have been authored by writer A.<br>
III.      Further example<br>
The following example provides a more detailed outline of one embodiment of the present invention. This example is intended to be merely illustrative and not limiting of the scope of the present invention.<br>
This section describes in detail an implementation of ink database searching using feature synthesis. It is assumed that a number of preprocessing steps have been performed, including word and character segmentation, and baseline orientation normalization. Note that this is just one possible way to implement the technique; there are alternate methods available for each stage of the process. For example, there are many different segmentation schemes, feature sets, handwriting models, and recognition procedures that could also be used.<br>
The procedure for handwriting recognition and ink searching using feature synthesis requires a training phase and a recognition or searching phase. During<br><br>
the training phase, a set of training data is converted to stroke features that are clustered into stroke primitives and used to create a model of the handwriting. For recognition and ink searching, this model is used to decode input ink or synthesize features for ink searching. This process is depicted in figure 5. Note that the same preprocessing, normalization, segmentation, and feature extraction procedure is used for training, recognition and searching.<br>
The handwriting recognition system maps input ink into a set of stroke code words that are used to search a dictionary for matching words. Figure 6 provides an overview of this process, with the individual steps described below in more detail.<br>
Smoothing<br>
The ink is sampled at a constant rate of 100 Hz. Research has shown that handwriting has a peak spectral density at around 5 Hz that declines to noise level at about 10 Hz, see H. Teulings and F. Maarse, "Digital Recording and Processing of Handwriting Movements', Human Movement Science, 3, pp. 193-217, 1984. Thus, a low-pass filter with a cutoff at 10 Hz will remove the high-frequency noise without affecting the relevant spectral components of the handwriting signal.<br>
A low-pass filter conforming to the above specifications can be produced by circularizing the point coordinates, performing an FFT to remove the high frequency components, and recreating the signal using an inverse-FFT. However, a simple weighted averaging filter works as effectively. To smooth a sequences of<br><br>
The filter width k and a smoothing coefficients are determined empirically. Slant Correction<br><br>
Many handwriting styles do not have a vertical principal axis of the drawn letters (i.e. the letters are drawn at a consistent slant). Removing handwriting slant is a normalization that can improve the recognition of handwritten letters. In handwriting, down-strokes are considered the most stable and consistent strokes, and thus are useful for detecting handwritten slant.<br>
To detect handwritten slant, a weighted-average direction of the down strokes in points {ρ1...ρn} is estimated:<br><br>
where<br><br>
Angles α1 and α2 define which stroke segments are considered as parts of a down stroke and are empirically set at 40° and 140° respectively (with 90° representing a vertical line). If the estimated slant deviates more than a certain threshold from the vertical, slant is removed using a shear transformation:<br><br>
where ymin and ymax represents the top and bottom of the bounding rectangle of the ink.<br>
Zone Estimation<br>
Zone estimation is used to normalize the height of the input ink. English letters exhibit three zones - the middle zone (corresponding to the height of letters such as V, V, V, etc.), and the upper and lower zones that contain the ascenders and<br><br>
descenders in letters such as 'b', 'd', 'g' and 'j'<br>
Zone estimation is performed using a horizontal histogram of ink density. That is, the number of ink crossings is determined for an equally spaced series of horizontal lines passing through the bounding rectangle of the ink. The central peak of the histogram is found, as are the two points on either side of the histogram where the ink density drops below a certain fraction of the central peak height. These two points are selected as the upper and lower bounds of the middle zone. The upper and lower zones are defined as the space between the middle zone and the vertical extremum of the bounding rectangle.<br>
Feature Extraction<br>
The ink is segmented into sub-strokes at extrema in the vertical direction (i.e. at local maxima and minima of the Y coordinates). For segmentation to occur, the lengths of the two sub-strokes produced by splitting the stroke at the selected segmentation point must exceed a pre-calculated minimum distance (set at half the height of the estimated middle zone).<br>
The segmented sub-strokes are then re-sampled to contain a constant n number of points located equidistantly along the stroke trajectory. A feature vector is then created for the sub-stroke by normalizing the coordinates:<br><br>
where<br>
Xmin     = X minimum of sub-stroke bounding rectangle<br>
ymiddle = Y coordinate of the top of the middle zone<br>
h	= the height of the middle zone (i.e. ybase-y middle)<br>
The  feature   vector  is  then  created  from  the  normalized  coordinates  as  f1 =<br><br><br>
Feature Reduction<br>
The resulting vectors describe the sub-strokes using a large number of highly correlated features (clearly, the coordinates of point p1 are dependent on point ρi-1 and so on). To lower the dimensionality of the vectors to m (where m 
To do this, the covariance (autocorrelation) matrix for the set of all training feature vectors X={fi,...,fn} is calculated using:<br><br>
The eigenvectors and eigen values for this matrix are found (using the tridiagonal QL implicit algorithm, see W. Press, B. Flannery, S. Teukolsky, and W. Vetterling, W. T., Numerical Recipes in C, Cambridge: Cambridge University Press, 1988), and the eigenvectors corresponding to the largest n eigenvalues are used to form the PCA matrix Z. The feature vectors are then multiplied by this matrix to transform the features into a new feature space with an orthogonal uncorrelated axis:<br><br>
Vector Quantization<br>
The transformed feature vectors are then clustered using a Kohonen Self-Organizing Feature Map (SOFM), see T. Kohonen, "Self-Organized Formation of Topologically Correct Feature Maps", Biological Cybernetics, 43, pp. 59-69, 1982. This technique uses an unsupervised learning procedure to cluster the input vectors such that distance and proximity relationships between the vectors is maintained as far as possible.  The SOFM  used has a 2-dimensional structure,  with visually<br><br>
similar code words (i.e. clusters) located near each other. As a result, the distance between two code words can be easily calculated using some distance measure (e.g. Euclidean distance) between the code word values.<br>
SOFM training is performed iteratively using a simple two-layer neural network that is initialized with random weights. The best matching output neuron for a normalized input training vector x is found using minimum Euclidean distance:<br><br>
where wi represents the weight vector of output node /'. The weights of the node with the highest activation value and those nodes surrounding it (as determined by a neighborhood function A) are updated using:<br><br>
where η is a learning rate function and η and Λ are typically varied over time t. Training continues until there is no noticeable change to the neuron weights during an iteration of the training set.<br>
To convert a sequence of sub-strokes to a code word vector, each sub-stroke feature vector is quantized using the trained SOFM and appended to the code word vector. A feature vector is quantized into a code word by selecting the largest activation value for the output neurons of the SOFM codebook:<br><br>
Handwriting Model<br>
The handwriting model stores a mapping of stroke code word vectors to letters (for text recognition) and the reverse mapping of letter groups to code word vectors (for feature synthesis). To build the handwriting model, each letter in the training data is converted to a code word vector that is stored in a table, along with the corresponding letter.<br><br>
Note that a specific code word sequence may map to a number of letters (e.g. poorly-drawn 'u' may map to the same feature vectors as a 'v') and individual letters may be mapped to by a number of code word vectors. By maintaining a count of the number of times the code word vector represented a specific letter, the probability that the vector represents the letter xi can be calculated given n lexicon entries for letter xi:<br><br>
where c, is the count of the number of times the code word vector has been encountered representing the letter x,. The following is an example entry from the table that represents the hypothetical code word vector {3,4}:<br><br>
This table indicates that if the code word sequence {3,4} is encountered in the input, there is a probability of .54 that it represents the letter 'u', a probability 41 that it represents an V, and a probability of .05 that it represents an 'r'.<br>
The reverse mapping table is produced in a similar way, storing code word vectors associated with letters and groups of letters.<br>
Recognition<br>
To perform handwriting recognition, the input ink is processed as described above, and the resulting code word vectors are used to search the handwriting model to produce letter hypotheses. A best-first search strategy is used to search a dictionary for the most likely word given the derived letter probabilities. The process is depicted below in Figure 7.<br><br>
Ink Searching<br>
Ink searching is performed by using the handwriting model generated during handwriting recognition to map the input query text into a sequence of code words. This code word vector is used to search the digital ink database using an elastic matching technique. A full description of a similar ink-matching technique is given in D. Lopresti and A.Tomkins, "Temporal-Domain Matching of Hand-Drawn Pictorial Queries', Handwriting and Drawing Research: Basic and Applied Issues, IOS Press, pp. 387-401, 1996. The resulting queries are then ordered by similarity and presented to the user.<br>
Thus, there has been provided in accordance with the present invention, a method and apparatus for searching a digital ink database using a text query which satisfies the advantages set forth above.<br>
The invention may also be said broadly to consist in the parts, elements and features referred to or indicated in the specification of the application, individually or collectively, in any or all combinations of two or more of said parts, elements or features, and where specific integers are mentioned herein which have known equivalents in the art to which the invention relates, such known equivalents are deemed to be incorporated herein as if individually set forth.<br>
Although the preferred embodiment has been described in detail, it should be understood that various changes, substitutions, and alterations can be made herein by one of ordinary skill in the art without departing from the scope of the present invention as hereinbefore described and as hereinafter claimed.<br><br><br><br><br><br>
CLAIMS<br>
1.	A method of searching a digital ink database using a text query, the method<br>
including:<br>
performing a search of a lexicon consisting of a table of letter sequences and associated feature vectors, and determining a sequence of lexicon entries which contain letter sequences that can be combined to produce the text query;<br>
obtaining a set of feature vectors corresponding to the sequence of lexicon entries; and,<br>
using the set of feature vectors to search the digital ink database.<br>
2.	The method as claimed in claim 1, wherein the lexicon is part of a handwriting model obtained from the author of the digital ink database using handwriting recognition results.<br>
3.	The method as claimed in either claim 1 or claim 2, wherein the handwriting model stores a mapping of letter sequences to feature vectors.<br>
4.	The method as claimed in any one of the claims 1 to 3, wherein the lexicon includes multiple feature vectors for each letter sequence.<br>
5.	The method as claimed in any one of the claims 1 to 4, wherein the lexicon includes an end of word character to indicate word endings.<br>
6.	The method as claimed in any one of the claims 1 to 5, wherein the handwriting recognition results used to generate the lexicon are derived from a training text.<br>
7.	The method as claimed in any one of the claims 1 to 6, wherein if more than one sequence of lexicon entries is determined, then the sequence of lexicon entries having the least number of entries is used.<br>
NPW001PCT<br><br>
8.	The method as claimed in any one of the claims 1 to 7, wherein a search algorithm is used to search for a letter sequence s.<br>
9.	The method as claimed in any one of the claims 1 to 8, wherein the text query is obtained by converting handwritten input into text using a handwriting recognition system.<br>
10.	The method as claimed in any one of the claims 1 to 8, wherein the text query is obtained by converting voice input into text using a voice recognition system.<br>
11.	The method as claimed in any one of the claims 1 to 10, wherein the handwriting recognition results are obtained by:<br>
sampling the handwriting;<br>
smoothing the handwriting using a filter;<br>
performing slant correction;<br>
using a zone estimation algorithm to perform height normalization;<br>
using feature extraction to perform segmentation into sub-strokes and generation of feature vectors;<br>
using feature reduction of the set of feature vectors;<br>
performing vector quantization to cluster the feature vectors and generate code word vectors; and,<br>
searching a dictionary for the most likely word from the generated text letters.<br>
12.	Apparatus for searching a digital ink database using a query, the apparatus<br>
including:<br>
an input device for a user to input the query;<br>
a processor able to receive the query and communicate with the digital ink database;<br>
NPW001PCT<br><br>
means to convert the query to a text query, if the query is not already a text query;<br>
means for performing a search of a lexicon and determining a sequence of lexicon entries which contain letter sequences that can be combined to produce the text query;<br>
means for obtaining a set of feature vectors corresponding to the sequence of lexicon entries;<br>
means for searching the digital ink database using the set of feature vectors; and<br>
an output device to display the results of the search to the user.<br>
13.	The apparatus as claimed in claim 12, wherein the lexicon is part of a handwriting model obtained from the author of the digital ink database using handwriting recognition results.<br>
14.	The apparatus as claimed in either claim 12 or claim 13, wherein the text query is generated from handwriting using a different handwriting model than the handwriting model used to generate the feature vectors for searching.<br>
15.	The apparatus as claimed in any one of the claims 12 to 14, wherein the lexicon is produced using a training text.<br>
16.	The apparatus as claimed in any one of the claims 12 to 15, wherein the text query is generated from a voice query by a voice recognition system.<br>
17.	Apparatus for searching a digital ink database using a query, the apparatus including:<br>
a store for storing the digital ink database; a processor, the processor being adapted to:<br>
perform a search of a lexicon and determine a sequence of lexicon entries which contain letter sequences that can be combined to produce the text query:<br><br>
18.	A method of searching a digital ink database using a text query substantially as hereinabove described with reference to the accompanying drawings.<br>
19.	Apparatus for searching a digital ink database using a query substantially as hereinabove described with reference to the accompanying drawings.<br><br><br>
obtain  a  set of feature  vectors  corresponding to the  sequence of lexicon entries;<br>
use the set of feature vectors to search the digital ink database; wherein, the lexicon is part of a handwriting model obtained from the author of the 5      digital ink database using handwriting recognition results.<br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDc3OC1jaGVucC0yMDA0LWFic3RyYWN0LnBkZg==" target="_blank" style="word-wrap:break-word;">0778-chenp-2004-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDc3OC1jaGVucC0yMDA0LWNsYWltcy5wZGY=" target="_blank" style="word-wrap:break-word;">0778-chenp-2004-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDc3OC1jaGVucC0yMDA0LWNvcnJlc3BvbmRuZWNlLW90aGVycy5wZGY=" target="_blank" style="word-wrap:break-word;">0778-chenp-2004-correspondnece-others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDc3OC1jaGVucC0yMDA0LWNvcnJlc3BvbmRuZWNlLXBvLnBkZg==" target="_blank" style="word-wrap:break-word;">0778-chenp-2004-correspondnece-po.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDc3OC1jaGVucC0yMDA0LWRlc2NyaXB0aW9uKGNvbXBsZXRlKS5wZGY=" target="_blank" style="word-wrap:break-word;">0778-chenp-2004-description(complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDc3OC1jaGVucC0yMDA0LWRyYXdpbmdzLnBkZg==" target="_blank" style="word-wrap:break-word;">0778-chenp-2004-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDc3OC1jaGVucC0yMDA0LWZvcm0gMS5wZGY=" target="_blank" style="word-wrap:break-word;">0778-chenp-2004-form 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDc3OC1jaGVucC0yMDA0LWZvcm0gMjYucGRm" target="_blank" style="word-wrap:break-word;">0778-chenp-2004-form 26.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDc3OC1jaGVucC0yMDA0LWZvcm0gMy5wZGY=" target="_blank" style="word-wrap:break-word;">0778-chenp-2004-form 3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDc3OC1jaGVucC0yMDA0LWZvcm0gNS5wZGY=" target="_blank" style="word-wrap:break-word;">0778-chenp-2004-form 5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDc3OC1jaGVucC0yMDA0LWZvcm0xOS5wZGY=" target="_blank" style="word-wrap:break-word;">0778-chenp-2004-form19.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDc3OC1jaGVucC0yMDA0LXBjdC5wZGY=" target="_blank" style="word-wrap:break-word;">0778-chenp-2004-pct.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Nzc4LWNoZW5wLTIwMDQgYWJzdHJhY3QgZHVwbGljYXRlLnBkZg==" target="_blank" style="word-wrap:break-word;">778-chenp-2004 abstract duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Nzc4LWNoZW5wLTIwMDQgYWJzdHJhY3QgZ3JhbnRlZC5wZGY=" target="_blank" style="word-wrap:break-word;">778-chenp-2004 abstract granted.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Nzc4LWNoZW5wLTIwMDQgY2xhaW1zIGR1cGxpY2F0ZS5wZGY=" target="_blank" style="word-wrap:break-word;">778-chenp-2004 claims duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Nzc4LWNoZW5wLTIwMDQgY2xhaW1zIGdyYW50ZWQucGRm" target="_blank" style="word-wrap:break-word;">778-chenp-2004 claims granted.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Nzc4LWNoZW5wLTIwMDQgZGVzY3JpcHRpb24gKGNvbXBsZXRlKSBkdXBsaWNhdGUucGRm" target="_blank" style="word-wrap:break-word;">778-chenp-2004 description (complete) duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Nzc4LWNoZW5wLTIwMDQgZGVzY3JpcHRpb24gKGNvbXBsZXRlKSBncmFudGVkLnBkZg==" target="_blank" style="word-wrap:break-word;">778-chenp-2004 description (complete) granted.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Nzc4LWNoZW5wLTIwMDQgZHJhd2luZ3MgZHVwbGljYXRlLnBkZg==" target="_blank" style="word-wrap:break-word;">778-chenp-2004 drawings duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=Nzc4LWNoZW5wLTIwMDQgZHJhd2luZ3MgZ3JhbnRlZC5wZGY=" target="_blank" style="word-wrap:break-word;">778-chenp-2004 drawings granted.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="202980-remotely-configurable-media-and-advertisement-player-and-methods-of-manufacture-and-operation-therof.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="202982-an-apparatus-and-method-of-cryogenic-cooling-for-high-engry-cutting-operations.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>202981</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>778/CHENP/2004</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>05/2007</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>02-Feb-2007</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>01-Nov-2006</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>15-Apr-2004</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>SILVERBROOK RESEARCH PTY LTD</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>393 DARLING STREETBALMAIN NEW SOUTH WALES 2041 AUSTRALIA</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>NAPPER, JONATHAN, LEIGH</td>
											<td>SILVERBROOK RESEARCH PTY LTD 393 DARLING STREET NEW SOUTH WALES 2041 AUSTRALIA</td>
										</tr>
										<tr>
											<td>2</td>
											<td>LAPSTUN, PAUL</td>
											<td>SILVERBROOK RESEARCH PTY LTD 393 DARLING STREET BALMAIN NEW SOUTH WALES 2041 AUSTRALIA</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>G06F17/30</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/AU02/01395</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2002-10-15</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>PR 8243</td>
									<td>2001-10-15</td>
								    <td>Australia</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/202981-a-method-and-apparatus-of-searching-a-digital-ink-database by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 02:32:56 GMT -->
</html>
