<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/256790-a-communication-device by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 09:09:58 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 256790:A COMMUNICATION DEVICE</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">A COMMUNICATION DEVICE</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>The present invention relates to a communication device (41), comprising a non- volatile memory storage means (407); a data storage module interface (404) adapted to communicate with any one of a plurality of data storage modules (50), each of said plurality of data storage modules (50) storing access qualification information as identification information unique to any one of the plurality of data storage modules; communication means (401) adapted to receive content from a communication network; characterized by storing means (420) adapted to store, when content is received from the communication network, in association with the received content, access qualification information which specifies said any one of said plurality of data storage modules (50) connecting to said communication device at the time of receiving the content, in said non-volatile memory storage means (420); and determination means (405) adapted to determine, when access to the stored content by said storing means (420) is requested, whether to permit access to the stored content on the basis of said access qualification information stored in association with said received content.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>The present invention relates to a communication device (41), comprising a non-<br>
volatile memory storage means (407); a data storage module interface (404) adapted<br>
to communicate with any one of a plurality of data storage modules (50), each of said<br>
plurality of data storage modules (50) storing access qualification information as<br>
identification information unique to any one of the plurality of data storage modules;<br>
communication means (401) adapted to receive content from a communication<br>
network; characterized by storing means (420) adapted to store, when content is<br>
received from the communication network, in association with the received content,<br>
access qualification information which specifies said any one of said plurality of data<br><br><br><br>
Related Application<br>
This application is divided out of Indian Patent Application No. 666/<br>
CAL/2002 (hereinafter referred to as the "parent" application).<br>
Technical Fjeld<br>
The present invention relates to a communication device and method used<br>
for restricting access to and storage of content, the communication device<br>
comprising a data storage module interface for communicating with a data storage<br>
module.<br>
Background Art<br>
A well-known portable phone having a packet communications function is<br>
capable of downloading content such as image data, music data, movie data,<br>
programs (e.g. Javaâ„¢ application programs), and the like from a content provider<br>
in a network.<br>
A new type of a portable phone has been developed recently, as disclosed<br>
in JP 2002-135407, such a phone being equipped with a data storage module<br>
(hereinafter referred to as a UIM (User Identity Module)), and subscriber<br>
information being stored in the UIM instead of in the memory of the phone itself.<br>
In a UIM, personal information of a user such as the user's credit card number,<br>
bank account number, telephone directory, and the like are stored in addition to<br>
the subscriber information. A user can remove a UIM from his/her own portable<br>
phone and insert the UIM into a portable phone owned by a third person, to<br>
thereby use the portable phone owned by the third person as if it were his/her own<br>
phone. Thus, a user is able to engage in voice and/or packet communication<br>
using a third person's portable phone by inserting his/her own UIM into the third<br>
person's phone, since information unique to each user (subscriber information and<br>
personal information described above ) is stored in a UIM owned by respective<br>
users and transferred to any connected portable phone to effect voice and/or<br>
packet communication. In this case, communication charges incurred by voice<br><br><br>
and/or packet communication are billed to a user identified according to<br>
subscriber information stored in a UIM, not to the owner of a portable phone.<br>
In a case that a user of a UIM downloads content from a content<br>
provider, access to the downloaded content is usually restricted to the user<br>
because s/he is the only person authorized by the content provider on the basis<br>
of satisfying certain conditions, for example, paying monthly charges for using<br>
application software. Ideally, a UIM would be used to store in addition to<br>
user ID and the like a substantial amount of downloaded content. However,<br>
the physical limitations of a UIM card prevent such storage, and it is feasible<br>
to store only a small amount of such information in a memory of the UIM.<br>
Thus, it is necessary to store most downloaded content in a memory storage<br>
space available in a portable phone into which a UIM is inserted.<br>
However, a problem may arise in such a situation that if a user A<br>
inserts his/her own UIM into a user B's portable phone, and is able to use that<br>
phone without restriction, content downloaded by the user B can be accessed<br>
and read by the user A; or user A may write and store his/her downloaded<br>
content into user B's phone. Such usage of a third party's phone to access<br>
and/or store downloaded content may lead to a situation in which content<br>
originating at a content server, i.e., a content provider, and that is intended for<br>
and restricted to use by an authorized user is accessed and used by another,<br>
unauthorized, user.<br>
Summary of the Invention<br>
It is thus an object of the present invention to restrict access to and<br>
storage of content that is downloaded from a content provider and stored in a<br>
nonvolatile memory of a communication device such as a portable phone, the<br>
device having a data storage module interface for communicating with a data<br>
storage module.<br>
To achieve the stated object, the present invention provides a<br><br><br>
communication device comprising: a nonvolatile memory storage means; a<br>
data storage module interface for communicating with any one of a plurality<br>
of data storage modules; registering means for registering, in the nonvolatile<br>
memory storage means, qualification verification information; communication<br>
means for receiving content from a network; and first determination means for<br>
determining, when content is received from a network, on the basis of the<br>
qualification verification information registered in the nonvolatile memory<br>
storage means, to permit storing of the received content in the nonvolatile<br>
memory storage means in a case that any one of the plurality of data storage<br>
modules connecting to the communication device is a data storage module<br>
which a valid user of the communication device is authorized to use.<br>
Preferably, the data storage module is a user identity module (UIM) for storing<br>
information for enabling the communication device to access a node in a<br>
network.<br>
According to a preferred embodiment of the present invention, the<br>
communication device is further provided with second determination means<br>
for determining, when access to the stored content in the nonvolatile memory<br>
storage means is requested, on the basis of the qualification verification<br>
information registered in the nonvolatile memory storage means, that access to<br>
the stored content in the nonvolatile memory storage means is permitted in a<br>
case that any one of the plurality of data storage modules connecting to the<br>
communication device when access to the stored content is requested is a data<br>
storage module which a valid user of the communication device is authorized<br>
to use.<br>
In another preferred embodiment according to the present invention,<br>
there is provided a communication device comprising: a nonvolatile memory<br>
storage means; a data storage module interface for communicating with any<br>
one of a plurality of data storage modules, each of the plurality of data storage<br>
modules storing access qualification information; communication means for<br><br><br>
receiving content from a network; storing means for storing, when content is<br>
received from a network, in association with the received content, access<br>
qualification information which specifies the data storage module connecting<br>
to the communication device at the time of receiving the content, in the<br>
nonvolatile memory storage means; and determination means for determining,<br>
when access to the stored content by the storing means is requested, whether<br>
to permit access to the stored content on the basis of the access qualification<br>
information stored in association with the received content.<br>
Preferably, the determination means determines, from among one or a<br>
plurality of content sets stored in the nonvolatile memory storage means, one<br>
or more content sets corresponding to access qualification information of any<br>
one of the plurality of data storage modules connecting to the communication<br>
device at the time of determination, as access-permitted content. In this case<br>
the communication device is further provided with presenting means for<br>
presenting the access-permitted content to a user of the any one of the plurality<br>
of data storage modules connecting to the communication device at the time of<br>
determination.<br>
Further, the present invention provides a method for restricting content<br>
access and storage, comprising steps of performing a process by using means<br>
provided in one of the above communication devices in various embodiments.<br>
Still further, the present invention may be implemented not only in an<br>
embodiment of producing and selling a communication device for restricting<br>
content access and storage but also in an embodiment of distributing to users<br>
through a telecommunication line a program for causing a network-connected<br>
computer to function as a device for restricting content access and storage, and<br>
also in an embodiment of distributing such a program recorded in a<br>
computer-readable recording medium.<br>
According to the present invention, it becomes possible to restrict<br>
access to a nonvolatile memory in a communication device to the owner of the<br><br><br>
communication device only, thereby preventing an unauthorized user from writing<br>
or reading data into or from the nonvolatile memory of the communication device.<br>
Furthermore, access to content stored in a nonvolatile memory of a communication<br>
device can be restricted to a user who has been given permission by a content<br>
provider to download and use the content.<br>
Brief Description of the Accompanying Drawings<br>
Fig. 1 is a block diagram illustrating a configuration of a communication<br>
system 1 according to a first embodiment of the present invention.<br>
Fig. 2 is a block diagram illustrating a hardware configuration of a portable<br>
phone 40 according to the first embodiment.<br>
Fig. 3 is a block diagram illustrating a hardware configuration of a UIM 50<br>
according to the first embodiment.<br>
Fig. 4 is a flow chart showing a registration process performed by CPU 405<br>
of portable phone 40 according to the first embodiment.<br>
Fig. 5 is a sequence chart showing operations of a content server 10,<br>
portable phone 40, and UIM 50 when portable phone 40 downloads content from<br>
content server 10 and stores the content in a nonvolatile memory 410 according to<br>
the first embodiment.<br>
Fig. 6 is a sequence chart showing operations of portable phone 40 and<br>
UIM 50 when portable phone 40 reads content stored in nonvolatile memory 410<br>
according to the first embodiment.<br>
Fig. 7 is a sequence chart showing operations of portable phone 40 and<br>
UIM 50 according to a modification of the first embodiment.<br>
Fig. 8 is a block diagram showing a hardware configuration of a portable<br>
phone 41 according to a second embodiment of the present invention.<br>
Fig. 9 is a diagram illustrating a data configuration of a content storage<br><br><br>
area 410c in a nonvolatile memory 420 according to the second embodiment.<br>
Fig. 10 is a diagram for describing a runtime environment of Java<br>
applications in portable phone 41 according to the second embodiment.<br>
Fig. 11 is a block diagram illustrating a hardware configuration of a<br>
UIM 51 according to the second embodiment.<br>
Fig. 12 is a diagram illustrating a data configuration of a content list in<br>
content list storage area 504e in EEPROM 504 according to the second<br>
embodiment.<br>
Fig. 13 is a sequence chart showing operations of a content server 10,<br>
portable phone 41, and UIM 51 when portable phone 41 downloads a Java<br>
application from content server 10 according to the second embodiment.<br>
Fig. 14 is a flow chart showing a Java execution process performed by<br>
CPU 405 of portable phone 41 according to the second embodiment.<br>
Fig. 15 is a flow chart showing a Java execution process performed by<br>
CPU 405 of portable phone 41 according to a modification of the second<br>
embodiment.<br>
Fig. 16 is a diagram showing a data configuration of a content storage<br>
area 410c in a nonvolatile memory 420 according to a third embodiment of the<br>
present invention.<br>
Fig. 17 is a sequence chart showing operations of a content server 10, a<br>
portable phone 41, and a UIM 51 when portable phone 41 downloads content<br>
from content server 10 and stores the content in nonvolatile memory 420<br>
according to the third embodiment.<br>
Fig. 18 is a sequence chart showing operations of portable phone 41<br>
and UIM 51 when portable phone 41 reads content stored in nonvolatile<br>
memory 420 according to the third embodiment.<br>
Fig. 19 is a sequence chart showing operations of portable phone 41<br>
and UIM 51 according to a modification of the third embodiment.<br>
Fig. 20 is a diagram illustrating a data configuration of an ADF<br><br><br>
(Application Descriptor File) according to a fourth embodiment of the present<br>
invention.<br>
Fig. 21 is a flow chart showing a Java application execution process<br>
performed by CPU 405 of a portable phone 41 according to the fourth<br>
embodiment.<br>
Fig. 22 is a diagram showing a selection screen display process using<br>
UIMID, the process being performed by CPU 405 of portable phone 41<br>
according to a fifth embodiment of the present invention.<br>
Fig. 23 is a diagram showing an example of a selection screen<br>
displayed when the selection screen display process of Fig. 11 is performed<br>
according to the fifth embodiment.<br>
Fig. 24 is a flow chart showing a selection screen display process using<br>
a content list, the process being performed by CPU 405 of portable phone 41<br>
according to the fifth embodiment.<br>
Fig. 25 is a flow chart showing a UIM exchange process performed by<br>
CPU 405 of portable phone 41 according to a sixth embodiment of the present<br>
invention.<br>
Fig. 26 is a diagram illustrating a data configuration of a UIMID<br>
storage area 504c in EEPROM 504 according to a seventh embodiment of the<br>
present invention.<br>
Fig. 27 is a diagram for explaining a possible Java runtime<br>
environment to be provided in a portable phone 40, 41 according to a sixth<br>
modification of the present invention.<br>
Fig. 28 is a block diagram illustrating a hardware configuration of a<br>
portable phone 42 according to a ninth modification of the present invention.<br>
Fig. 29 is a sequence chart showing operations of a content server 10<br>
and portable phone 42 according to the ninth modification.<br>
Fig. 30 is a flow chart showing a content access restriction process<br>
performed by CPU 405 of portable phone 42 according to the ninth<br><br><br>
modification.<br>
Preferred Embodiments of the Invention<br>
Preferred embodiments of the present invention will now be described<br>
with reference to the attached drawings. It is to be noted that like<br>
components are assigned the same reference numerals in the respective<br>
drawings.<br>
A. First Embodiment<br>
Configuration of First Embodiment<br>
Fig. 1 is a block diagram illustrating a configuration of a<br>
communication system 1 according to a first embodiment of the present<br>
invention. As shown, communication system 1 comprises a content server<br>
10, the Internet 20, a mobile packet communication network 30, a portable<br>
phone 40, and a UIM 50. It is to be noted that there are shown in Fig. 1 one<br>
portable phone 40 and one UIM 50 for the sake of simplicity. In practice,<br>
communication system 1 serves a number of portable phones 40. Also, UIM<br>
50 is operable, being inserted in portable phone 40, and replaceable with<br>
another UIM 50. Similarly, there are shown only one of each content server<br>
10, gateway server 31, and base station 32 in Fig. 1.<br>
Content server 10 has a function of performing packet communications<br>
with portable phone 40 through the Internet 20 and mobile packet<br>
communication network 30. Content server 10 stores in its memory various<br>
types of content including programs, image data, music data and the like.<br>
Content stored in content server 10 also include Java application programs<br>
(hereinafter referred to as Java AP) that can be executed in portable phone 40.<br>
Java APs include Java applets and Java applications and are application<br>
programs described in the Java programming language.<br>
Mobile packet communication network 30 comprises gateway server<br><br><br>
31 and base station 32 and provides a packet communication service to<br>
portable phones 40 served by network 30. Communication system 1 has, in<br>
addition to mobile packet communication network 30, a mobile telephone<br>
network (not shown). The mobile telephone network provides, with portable<br>
phones 40, a voice communication service for general mobile phones.<br>
Gateway server 31 converts data between a communication protocol<br>
for mobile packet communication network 30 and another protocol for the<br>
Internet 20, and vice versa, and relays data exchanges between mobile packet<br>
communication network 30 and the Internet 20. Base station 32 performs<br>
wireless communications with portable phone(s) 40 located in a radio cell<br>
covered by the station 32.<br>
Portable phone 40 performs wireless communication with base station<br>
32, thereby receiving a packet communication service and voice<br>
communication service. Portable phone 40 performs packet communications<br>
with content server 10 through mobile packet communication network 30 and<br>
the Internet 20 to download a desired content from content server 10. Further,<br>
UIM 50 can be inserted into portable phone 40.<br>
UIM 50 is a data storage module which can be inserted in or removed<br>
from portable phone 40, examples of which module include Java card and<br>
SIM (Subscriber Identity Module). UIM 50 executes programs with a<br>
microprocessor provided therein and is capable of performing various control<br>
operations. Further, UIM 50 stores, as subscriber information, a telephone<br>
number assigned to the same UIM 50 by a communication carrier operating<br>
mobile packet communication network 30. A telephone number is<br>
identification information for receiving a communication service provided by<br>
mobile packet communication network 30. UIM 50 stores personal<br>
information such as a credit card number, bank account number, and/or a<br>
phone directory, which information is unique to the owner of the UIM 50.<br>
Also stored in UIM 50 is a serial number (hereinafter referred to as UIMID)<br><br><br>
unique to each UIM 50.<br>
It is to be noted that portable phone 40, if it is a type of phone 40 used<br>
with UIM 50, is not capable of performing communications through mobile<br>
packet communication network without having a UIM 50 inserted therein. In<br>
other words, in performing communication with content server 10 or another<br>
portable phone 40 through mobile packet communication network 30, portable<br>
phone 40 transmits to network 30 subscriber information (i.e. a telephone<br>
number) obtained from UIM 50 which is inserted in the phone 40, and<br>
network 30 in turn determines whether to relay communication in response to<br>
a connection request from phone 40, on the basis of authentication result with<br>
respect to subscriber information received from phone 40.<br>
Fig. 2 is a block diagram illustrating a hardware configuration of<br>
portable phone 40 shown in Fig. 1. As shown in Fig. 2, portable phone 40<br>
comprises a wireless communication unit 401, an operation input unit 402, a<br>
voice communication processing unit 403, a UIM interface 404, CPU (Central<br>
Processing Unit) 405, a liquid crystal display unit 406, and a storage unit 407,<br>
which are connected with one another by a bus 411.<br>
Wireless communication unit 401 has an antenna 401a and controls<br>
wireless communication with radio station 32. Wireless communication unit<br>
401, under the control of CPU 405, generates a transmission signal by<br>
superimposing data for packet communication or data relating to voice<br>
communication on a carrier wave to forward the signal to base station 32.<br>
Wireless communication unit 401 also receives through antenna 401a a radio<br>
signal transmitted from base station 32 and demodulate the received signal to<br>
restore data for packet communication or data relating to voice<br>
communication.<br>
Operation input unit 402 has a plurality of keys used for inputting<br>
numerals, characters, operation instructions, and the like, and outputs to CPU<br>
405 an operation signal associated with a key operation. Voice<br><br><br>
communication processing unit 403 has, for example, a microphone, a speaker,<br>
a voice processing unit, and the like, and performs voice communication<br>
processing including connecting/disconnecting a call, under the control of<br>
CPU 405. UIM interface 404 controls communication with UIM 50 which is<br>
inserted in phone 40.<br>
CPU 405 implements various programs stored in storage unit 407 and<br>
controls each component of phone 40 which is connected to one another<br>
thorough bus 411. Liquid crystal display unit 406 comprises a liquid crystal<br>
display panel and a driving circuit for controlling the display.<br>
Storage unit 407 comprises a ROM 408, a RAM 409, and a nonvolatile<br>
memory 410 such as a SRAM (Static-RAM) and an EEPROM (Electrically<br>
Erasable Programmable -ROM). Stored in ROM 408 are, for example, an<br>
operating system (hereinafter referred to as OS) for portable phone 40, a web<br>
browser, and a software for building a Java runtime environment. RAM 409<br>
is used for a work area of CPU 405.<br>
Nonvolatile memory 410 stores various programs and data to be used<br>
in portable phone 40, including content downloaded from content server 10.<br>
Nonvolatile memory 410 comprises a UIMID storage area 410a and an owner<br>
information registration area 410b.<br>
UIMID storage area 410a stores a UIMID of a UIM 50 which is<br>
presently inserted in portable phone 40. When UIM 50 is inserted into<br>
portable phone 40, UIMID is transmitted from UIM 50 to UIM interface 404<br>
and stored in UIMID storage area 410a by CPU 405. When UIM 50 is<br>
removed from portable phone 40, UIMID stored in UIMID storage area 410a<br>
is deleted.<br>
Owner information registration area 410b stores a UIMID of a UIM 50<br>
which the owner of the portable phone 40 is authorized to use. It is to be<br>
noted here that, in the following description, the "owner of portable phone 40"<br>
includes a regular, valid user of portable phone 40 who is different from a<br><br><br>
registered owner of the phone. For example, in a case that a company<br>
employee is a regular user of portable phone 40 which belongs to the company,<br>
such a user falls in the meaning of an "owner of portable phone 40" in the<br>
description.<br>
Fig. 3 is a block diagram illustrating a hardware configuration of UIM<br>
50 shown in Fig. 1. As shown in Fig. 3, UIM 50 comprises an external<br>
interface 504, a ROM 502, a RAM 503, an EEPROM 504, and a CPU 505,<br>
each component being connected to one another through a bus 506.<br>
External interface 501 controls, under the control of CPU 505,<br>
communication with portable phone 40. ROM 502 stores programs and data<br>
for controlling UIM 50. RAM 503 is used as a work area of CPU 505 and<br>
temporally stores programs and various data executed by CPU 505.<br>
EEPROM 504 comprises a subscriber information storage area 504a, a<br>
mobile station ID storage area 504b, a UIMID storage area 504c, and an<br>
authentication information storage area 504d.<br>
Subscriber information storage area 504a stores a telephone number<br>
assigned to UIM 50, and personal information of the owner of UIM 50 such as<br>
a credit card number, bank account number, telephone directory, and the like.<br>
In addition, a user ID assigned to the owner of the UIM 50 may be stored as<br>
identification information for identifying a valid user of UIM 50. It should<br>
be noted that the same user ID may be stored in another UIM 50 owned by the<br>
same user in a case that the user owns more than one UIMs 50.<br>
As described above with respect to the meaning of "owner of portable<br>
phone 40," it is to be noted that an "owner of UIM 50" includes a regular,<br>
valid user of UIM 50 even when the regular user does not correspond to a<br>
registered owner of UIM 50.<br>
Mobile station ID storage area 504b stores a mobile station ID of<br>
portable phone 40 in which UIM 50 is presently inserted. In UIMID storage<br>
area 504c, a UIMID unique to UIM 50 is stored. UIM 50 is, for example,<br><br><br>
shipped from a factory with a unique UIMID having been written into UIMID<br>
storage area 504c. Alternatively, a UIMID may be assigned and written into<br>
UIMID storage area 504c at the time of entering a communication service<br>
contract.<br>
In authentication information storage area 504c, there is stored<br>
authentication information such as a password registered by the owner of UIM<br>
50, the authentication information being used for authenticating the owner of<br>
UIM 50. Alternatively, in a case that portable phone 40 has a biometrics<br>
function of measuring and analyzing human body characteristics such as<br>
fingerprints, voiceprints, and the like, of the user of phone 40, biometrics<br>
information, instead of a password, may be stored as authentication<br>
information.<br>
CPU 505 executes various programs stored in ROM 502 and<br>
EEPROM 504 to control each unit of portable phone 40. In the case that<br>
UIM 50 is inserted in portable phone 40, CPU 505 displays an input screen on<br>
a liquid crystal display screen of phone 40 to prompt the user to input a<br>
password. Then, CPU 505 compares the password just input by the user to<br>
the password registered in authentication information storage area 504d, and<br>
when the identify of the owner is verified, the user is allowed to access various<br>
information stored in each storage area 504a to 504d in EEPROM 504. Thus,<br>
it is possible to determine whether a user of portable phone 40 is a valid user<br>
of UIM 50.<br>
Operation of First Embodiment<br>
First, with reference to a flowchart shown in Fig. 4, an explanation will<br>
be made of a process of registering a UIMID of UIM 50 in owner information<br>
registration area 410b of portable phone 40, the owner of which UIM 50 is the<br>
same as the owner of portable phone 40.<br>
Portable phone 40 is provided with a UIMID registration mode for<br><br><br>
registering UIMID of UIM 50 owned by the owner of phone 40. When the<br>
owner of phone 40 inserts his/her own UIM 50 into phone 40, and operates<br>
phone 40 to give instruction to carry out the UIM registration mode, CPU 405<br>
performs the registration operation shown in Fig. 4.<br>
In the UIMID registration mode, CPU 405 first authenticates that a<br>
user presently operating portable phone 40 is the owner of phone 40 and also<br>
is the owner of UIM 50 (Step S101). The authentication process in Step<br>
S101 includes, for example, comparing a registered password of phone 40 or<br>
UIM 50 to a password inputted by the user. The biometrics information of a<br>
user may also be used in place of a password.<br>
When the result of the authentication operation shows that the user<br>
currently using portable phone 40 is not the owner of phone 40 or not the<br>
owner of UIM 50 which is inserted in phone 40 (Step S102: No), CPU 405<br>
displays a message showing that the authentication is unsuccessful (Step<br>
S103), and the routine ends.<br>
On the other hand, when the result shows that the user currently using<br>
portable phone 40 is the owner of phone 40 and also the owner of UIM 50<br>
which is inserted in phone 40 (Step S102: Yes), CPU 405 obtains from UIM<br>
50 inserted in phone 40 a UIMID of the UIM 50 (Step S104). In more details,<br>
CPU 405 first transmits to UIM 50 an ID transmission request for requesting<br>
the UIM 50 to transmit its own UIMID to phone 40. Upon receiving the<br>
request, CPU 505 of the UIM 50 reads UIMID from UIMID storage area 504c<br>
for transmission to phone 40.<br>
CPU 405 of portable phone 40 then stores the transmitted UIMID in<br>
owner information registration area 410b as information for identifying UIM<br>
50 owned by the owner of phone 40 (Step S105), and the routine is finished.<br>
It should be noted that at the time when UIM 50 is inserted in portable<br>
phone 40, UIMID of the UIM 50 is written in UIMID storage area 410a of<br>
phone 40. Therefore, instead of requesting UIM 50 to transmit its own<br><br><br>
UIMID in Step S104, CPU 405 of portable phone 40 may read the UIMID<br>
stored in UIMID storage area 410a (Step S104) to store the read UIMID in<br>
owner information registration area 410b (Step S104).<br>
It is also to be noted that UIMID registered in owner information<br>
registration area 410b is not limited to one UIMID. More than one UIMIDs<br>
may be registered in owner information registration area 410b in the case that<br>
the owner of portable phone 40 owns a plurality of UIMs 50.<br>
Fig. 5 is a sequence chart illustrating operations performed by content<br>
server 10, portable phone 40, and UIM 50, when phone 40 downloads content<br>
from content server 10 and writes the downloaded content into nonvolatile<br>
memory 410.<br>
A user of portable phone 40 first inserts his/her own UIM 50 into<br>
portable phone 40, and operates phone 40 to activate a web browser. As a<br>
result, phone 40 is enabled to display web pages provided from content server<br>
10, on the display screen of phone 40. Then, when the user instructs<br>
downloading of content by an operation input while viewing a web page<br>
provided from server 10, CPU 405 of phone 40 transmits a downloading<br>
request to content server 10 (Step S201). Included in the downloading<br>
request are a command for instructing the downloading and data specifying<br>
content to be downloaded.<br>
Content server 10, upon receiving the downloading request from<br>
portable phone 40, reads from its memory the content specified in the<br>
downloading request (Step S202) and transmits the content to phone 40 (Step<br>
S203).<br>
CPU 405 of portable phone 40 stores the content received from content<br>
server 10 in RAM 409. Subsequently, CPU 405 transmits an ID transmission<br>
request to UIM 50 inserted in phone 40 (Step S204). CPU 505 of UIM 50,<br>
upon receiving the request, reads from UIMID storage area 504c its own<br>
UIMID and transmits the UIMID to phone 40 (Step S205).<br><br>
CPU 405 of portable phone 40, upon receiving the UIMID from UIM<br>
50, compares the received UIMID to the UIMID stored in owner information<br>
registration area 410b (Step S206) to determine whether UIM 50 presently<br>
inserted in phone 40 is one owned by the owner of phone 40.<br>
In the case that the received UIMID and the UIMID stored in owner<br>
information registration area 410b do not agree with each other (Step S207:<br>
No), i.e., in the case that UIM 50 inserted in portable phone 40 is not UIM 50<br>
owned by the owner of phone 40, CPU 405 displays a message on the display<br>
screen of the phone, which informs the user that the downloaded content<br>
cannot be stored in nonvolatile memory 410 (Step S208).<br>
In the case that the received UIMIP and the UIMID stored in owner<br>
information registration area 410b agree with each other (Step S207: Yes), i.e.,<br>
in the case that UIM 50 inserted in portable phone 40 is UIM 50 owned by the<br>
owner of phone 40, CPU 405 permits storing of the downloaded content in<br>
nonvolatile memory 410 (Step S209), and when it is instructed by the user by<br>
an operation input to write the content into nonvolatile memory 410 (Step<br>
S210: Yes), writes the content into nonvolatile memory 410 (Step S211).<br>
When downloaded content is stored in nonvolatile memory 410 in Step<br>
S211, an identifier is assigned to each content set to indicate that such content<br>
has been obtained through a network, and thereby distinguish such content<br>
from program or other data stored in advance in nonvolatile memory 410.<br>
In the case that the downloaded content is a Java AP, a storage space in<br>
the JAR (Java Archive) storage and scratch pad is assigned by JAM (Java<br>
Application Manager) for this particular Java AP.<br>
According to the operation shown in the sequence chart of Fig. 5,<br>
portable phone 40 stores content downloaded through a network in nonvolatile<br>
memory 410 only in a case that UIM 50 inserted in phone 40 is owned by the<br>
owner of phone 40, i.e., in a case that a user using phone 40 is the owner of<br>
the phone.<br><br><br>
On the other hand, in the case that UIM 50 inserted in phone 40 is not<br>
owned by the owner of phone 40, i.e., in the case that a user using phone 40 is<br>
not the owner of the phone, the storing of downloaded content in nonvolatile<br>
memory 410 is not permitted. A user using phone 40 nevertheless can use<br>
downloaded content if the usage does not require storing of the content in<br>
nonvolatile memory 410. For example, in the case that downloaded content<br>
comprises image data or movie data, it is possible to display the content on a<br>
display screen of phone 40. It is to be noted that downloaded content may<br>
also be stored in UIM 50 which is inserted in phone 40 although the memory<br>
capacity of UIM 50 is limited.<br>
It should be especially noted that in the present embodiment, after the<br>
downloaded content is stored in the RAM, the determination as to whether to<br>
permit storing of the downloaded content in nonvolatile memory 410 (Steps<br>
S204-S209) is independently performed without waiting for a writing request<br>
from the user. Thus, the determination is performed when the content is<br>
received in portable phone 40, and the downloaded content is written into<br>
nonvolatile memory 410 if there is a writing request from the user after it is<br>
determined that UIM 50 inserted in portable phone 40 at the time of receiving<br>
the content is a UIM which a valid user of portable phone 40 is authorized to<br>
use.<br>
Fig. 6 is a sequence chart illustrating operations performed by portable<br>
phone 40 and UIM 50 when reading content stored in nonvolatile memory 410<br>
of phone 40.<br>
A user operates portable phone 40 in which his/her own UIM 50 is<br>
being inserted, to display on a display screen of phone 40 a list of data or<br>
programs stored in nonvolatile memory 410, which data and programs include<br>
content downloaded and stored in memory 410 according to the described<br>
writing operation (refer to Fig. 5). The user then selects, by an operation<br>
input, data or a program to access, from among such content listed on the<br><br><br>
display screen. CPU 405 of phone 40, having received the operation input<br>
for requesting for reading a selected program or data from nonvolatile memory<br>
410, first determines whether the selected data or program is that which was<br>
obtained through a network.<br>
The determination is performed on the basis of whether the selected<br>
data is assigned the identifier which shows that the content is<br>
network-obtained. When it is determined that the selected data or program<br>
was obtained through a network, a reading control operation shown in the<br>
sequence chart of Fig. 6 is started. In the case that the selected data or<br>
program was not obtained through the network, for example, a browser, the<br>
operation in Fig. 6 need not be performed because any user of phone 40 may<br>
use such data or program.<br>
It should be noted that, in the description of the present invention, the<br>
following three modes are envisioned as modes of access to content stored in<br>
nonvolatile memory 410:<br>
(1)	reading content from nonvolatile memory 410, for example, for storing<br>
a selected content into UIM 50;<br>
(2)	reading content from nonvolatile memory 410 for use in portable<br>
phone 40, for example, for displaying a selected content (image data)<br>
on a display screen of phone 40, or for executing a selected content (a<br>
program) in phone 40; and<br>
(3)	referring to content stored in nonvolatile memory 410, for example,<br>
confirming whether a selected content is stored in nonvolatile memory<br>
410 by searching memory 410.<br>
In the following description, the second mode among the above three<br>
modes is shown for an example operation.<br>
It is also to be noted that a trigger for requesting access to content<br>
stored in nonvolatile memory 410 is not limited to an operation input by a user.<br>
Instead, a running program may request the reading of content.<br><br><br>
As shown in Fig, 6, CPU 405 first transmits to UIM 50 inserted in<br>
portable phone 40, an ID transmission request (Step S301). CPU 505 of<br>
UIM 50, upon receiving the ID transmission request, reads a UIMID from<br>
UIMID storage area 504c for transmission to phone 40 (step S302).<br>
CPU 405 of portable phone 40, upon receiving a UIMID from UIM 50,<br>
compares the received UIMID to the UJMID registered in owner information<br>
registration area 410b (Step S303) to determine whether the UIM 50 presently<br>
inserted in phone 40 is one owned by the owner of phone 40.<br>
In the case that UIMID transmitted from UIM 50 presently inserted in<br>
phone 40 does not agree with the UIMID stored in owner information<br>
registration area 410b (Step S304: No), i.e., in the case that it is determined<br>
that the UIM 50 presently inserted in phone 40 is not one owned by the owner<br>
of phone 40, CPU 405 of phone 40 displays on its display screen a message<br>
informing a user that s/he is not permitted to access to the content stored in<br>
nonvolatile memory 410 because s/he is not the owner of phone 40 (Step<br>
S305). In the meantime, CPU cancels the execution of a reading operation<br>
because the access to the selected content according to the reading request is<br>
not permitted.<br>
In a case that the two UIMIDs compared in Step S303 agree with each<br>
other (Step S304: Yes), i.e., in a case that it is determined that the UIM 50<br>
presently inserted in phone 40 is a UIM 50 owned by the owner of phone 40,<br>
CPU 405 of phone 40 permits access to the content in question (Step S306),<br>
and reads the content from nonvolatile memory 410 (Step S307). If the read<br>
content is image data or movie data, CPU 405 displays the content on its<br>
display screen. If the content is music data, CPU 405 executes the replaying<br>
operation of the content. In a case that the content is a program, CPU 405<br>
starts a process based on the program.<br>
As described, according to the operation shown in the sequence chart<br>
of Fig. 6, the access to content stored in nonvolatile memory 410 is permitted<br><br><br>
by portable phone 40 only when UIM 50 inserted in phone 40 is one owned by<br>
the owner of phone 40, i.e., a user using phone 40 is the owner of phone 40.<br>
It is to be noted that when a UIM 50 is inserted into portable phone 40,<br>
UIMID of the UIM 50 is stored in UIMID storage area 410a of phone 40.<br>
Therefore, the stored UIMID, not the UIMID transmitted from UIM 50 in the<br>
process of Steps S204 and S205 of Fig. 5, or Steps S301 and S.302 of Fig. 6,<br>
may be compared to UIMID registered in owner information registration area<br>
410b after reading the stored UIMID from UIMID storage area 410a.<br>
Modification of First Embodiment<br>
First Modification:<br>
The process from Steps S204 to S207 of the writing operation (refer to<br>
Fig. 5) may be replaced with the process from Steps S401 to S405 shown in<br>
Fig. 7.<br>
In the modification, we assume that authentication information storage<br>
area 504d stores a private key (secret key) and a public key corresponding to<br>
the private key which is the secret half of a key pair. The public/private key<br>
pair is authentication information used for enabling the owner of UIM 50 to<br>
engage in communications with a higher security using portable phone 40. It<br>
is also assumed here that, as a precondition for performing the process shown<br>
in Fig. 7, owner information registration area 410b of phone 40 stores a public<br>
key for the owner of UIM 50, which public key is obtained from UIM 50<br>
owned by the owner of phone 40.<br>
It is noted that, in Fig. 7, 400s step numbers are assigned for steps<br>
different from the sequence chart shown in Fig. 5. Also, an explanation will<br>
be omitted for the steps which are the same as those included in the sequence<br>
chart shown in Fig. 5.<br>
When a user operates portable phone 40 in which his/her own UIM 50<br>
is inserted, to instruct the downloading of content, CPU 405 of phone 40<br><br><br>
transmits to content server 10 a downloading request (Step S201). Content<br>
server 10 reads from its memory content specified in the downloading request<br>
(Step S202) to transmit the content to phone 40 (Step S203).<br>
CPU 405 of portable phone 40 stores the content received from content<br>
server 10 in RAM 409. CPU 405 transmits a message (plain text) to be<br>
encrypted and an encryption instruction instructing the encryption of the<br>
message using a private key for the owner of UIM 50 (Step S401).<br>
CPU 505 of UIM 50, upon receiving the message and the encryption<br>
instruction, reads a private key for the owner of UIM 50 from authentication<br>
information storage area 504d and uses the private key to encrypt the message<br>
(Step S402). CPU 505 then transmits the encrypted message to portable<br>
phone 40 (Step S403).<br>
CPU 405 of portable phone 40, upon receiving the encrypted message,<br>
decrypts the encrypted message using the public key registered in owner<br>
information registration area 410b (Step S404) to determine whether the<br>
message has been decrypted correctly (Step S405). The determination is<br>
performed to determine whether UIM 50 presently inserted in portable phone<br>
40 is owned by the owner of phone 40.<br>
In the case that the message has not been decrypted correctly (Step<br>
S405: No), i.e., UIM 50 presently inserted in portable phone 40 is not the UIM<br>
50 owned by the owner of phone 40, CPU 405 of phone 40 displays a message<br>
informing that downloaded content cannot be stored in nonvolatile memory<br>
410 (Step S208).<br>
In the case that the message has been decrypted correctly, i.e., UIM<br>
presently inserted in portable phone 40 is the UIM 50 owned by the owner of<br>
phone 40 (Step S405: Yes), CPU 405 permits the storing of the downloaded<br>
content in nonvolatile memory 410 (Step S209) and when it is instructed, for<br>
example, by an operation input, to write the content into nonvolatile memory<br>
410 (Step S210: Yes), writes the content into nonvolatile memory 410 (Step<br><br><br>
S211).<br>
As has been described, the writing process of Steps S204 to S207<br>
(refer to Fig. 5) may be replaced with the process from Steps S401 to S405 in<br>
the sequence chart shown in Fig. 7. Similarly, in the reading operation<br>
described in the first embodiment, the process from Steps S301 to S304 (refer<br>
to Fig. 6) may be replaced with the process from Steps S401 to S405 of Fig. 7.<br>
The same effects as the above first embodiment are attainable in the<br>
modification.<br>
Second Modification:<br>
In the above first embodiment, UIMID is used to determine whether<br>
UIM 50 presently inserted in UIM 50 is one which is owned by the owner of<br>
portable phone 40. A telephone number (identification information for<br>
receiving a communication service) stored in UIM 50, instead of UIMID, may<br>
be used to determine whether UIM 50 presently inserted in UIM 50 is one<br>
which is owned by the owner of portable phone 40. Alternatively, a user ID<br>
stored in subscriber information storage area 504a may be used for the<br>
determination. Still alternatively, authentication information such as a<br>
password, public key, private key and the like may be used instead of UIMID,<br>
the authentication information being stored in UIM 50 and used for user<br>
authentication. Thus, identification information used in the determination<br>
includes any type of information stored in UIM 50 if the information is unique<br>
to UIM 50 or a valid user of UIM 50.<br>
Third Modification:<br>
In the above first embodiment, UIMID is used to determine whether<br>
UIM 50 presently inserted in UIM 50 is one which is owned by the owner of<br>
portable phone 40. A determination using a private/public key pair for the<br>
owner of UIM 50 may be performed in addition to the determination using<br><br><br>
UIMID. In this case, owner information registration area 410b stores, in<br>
addition to UIMID of UIM 50 owned by the owner of portable phone 40, a<br>
public key of the owner of UIM 50. Alternatively, in addition to the<br>
determination using UIMID, a determination using authentication information<br>
(for example, a password, a private key, etc.) for the owner of UIM 50 may be<br>
performed.<br>
B. Second Embodiment<br>
Next, a description will be given on a second embodiment of the<br>
present invention. In the figures, like components are assigned the same<br>
reference numerals as used in the first embodiment. Also, an explanation<br>
will be omitted for like portions. The configuration of communication<br>
system 1 according to the second embodiment is the same as that of the first<br>
embodiment as shown in Fig. 1, except that a portable phone is now assigned<br>
the reference number 41 and a UIM the reference number 51.<br>
The second embodiment differs from the above first embodiment in<br>
that the registering operation of UIMID of UIM 50 owned by the owner of<br>
portable phone 40 is not performed in the second embodiment. Instead, a<br>
UIMID of a UIM 51 which is inserted in a portable phone. 41 at the time of<br>
downloading content is stored in association with the downloaded content.<br>
Fig. 8 is a block diagram illustrating a hardware configuration of<br>
portable phone 41 according to the second embodiment. Portable phone 41<br>
shown in Fig. 8 differs from portable phone 40 in the first embodiment in that<br>
a content storage area 410c is provided instead of owner information<br>
registration area 410b. When content is downloaded from content server 10,<br>
data of the content is stored in content storage area 410c in association with a<br>
UIMID of a UIM 51 which is inserted in portable phone 41 at the time of<br>
downloading the content, in such a way as shown in Fig. 9. It is to be noted<br>
that Fig. 9 is a conceptual diagram showing an exemplary table of content and<br><br>
UIMIDs stored in association with each other. Instead of linking data of each<br>
content set to an associate4 UIMID, identification information of each content<br>
set may be stored in association with an associated UIMID in a separate<br>
content list in nonvolatile memory 420.<br>
Among content stored in content storage area 410c, Java AP comprises<br>
JAR files as well as ADF (Application Descriptor File) which describes<br>
various control information for controlling installment and activation of the<br>
JAR files and network access operations.<br>
CPU 405 implements various programs stored in storage unit 406,<br>
thereby controlling each of the units connected to CPU via bus 411.<br>
According to the second embodiment, when content is downloaded from<br>
content server 10, CPU 405 stores downloaded content in content storage area<br>
410c in association with a UIMID of a UIM 51 which is inserted in portable<br>
phone 41 at the time of downloading content. It is to be noted that a UIMID<br>
of the present UIM 51 is stored in UIMID storage area 410a when the UIM 51<br>
is inserted in portable phone 41.<br>
Further, in a case that access to a downloaded content (e.g. execution<br>
of a Java AP, displaying of image data, etc) is instructed by a present user of<br>
portable phone 41, CPU 405 compares the UIMID stored in UIMID storage<br>
area 409a to a UIMID which is stored in association with the content to be<br>
used, thereby determining whether to permit access to the content by the user.<br>
In other words, when access to content stored in content storage area 410c is<br>
requested by a user, portable phone 41 gives permission to the requesting user<br>
if s/he is the owner of UIM 51 inserted in portable phone 41 at the time of<br>
downloading content from content server 10. This is because content server<br>
10 has agreed to provide content only to the owner of UIM 51 which has<br>
downloaded content, not to the owner of portable phone 41, and therefore,<br>
access to the content is to be allowed only to the owner of the downloading<br>
UIM 51 unless otherwise specified.<br><br><br>
Fig. 10 is a diagram for describing a Java AP runtime environment<br>
provided in portable phone 41. Portable phone 41 is provided with KVM (K<br>
Virtual Machine) as a software for building a runtime environment for Java<br>
APs, and CLDC (Connected Limited Device Configuration), CLDC is Java<br>
runtime environment foundation targeting compact, resource-constraint<br>
devices such as mobile stations, and is supported by KVM. In addition,<br>
portable phone 41 is also provided with J2ME (Java 2 Micro Edition)<br>
comprising an original Java extension profile which is created by a<br>
communication carrier. . It should be especially noted that providing a Java<br>
runtime environment in portable phone 41 is not required in the present<br>
invention but is only optional.<br>
As shown in Fig, 10, native applications include software programs<br>
providing such functions as a telephone directory, web browsing, and network<br>
communication, which software programs being executed under the control of<br>
OS. Used as KVM is JVM (Java Virtual Machine) which is especially<br>
designed for compact electronic devices. JVM converts byte codes in the file<br>
format of implementing Java APs into instruction codes that can be<br>
interpreted/executed by CPU 405 by aid of OS.<br>
An original Java extension library is a class library for providing<br>
functions exclusive to portable phones, having CLDC as its foundation.<br>
Included in the original Java extension library is, for example, a user interface<br>
API (Application Program Interface), a networking API, and a scratch pad API.<br>
In addition to a CLDC class library and the original Java extension library,<br>
portable phone 41 is provided with a manufacturer's original extension library<br>
in which original functions are provided by a manufacturer of portable phones<br>
41.<br>
JAM (Java Application Manager) has a function of managing Java APs<br>
installed in portable phone 41, under the control of OS. JAM provides such<br>
functions as displaying a list of Java APs stored in portable phone 41,<br><br><br>
managing implementation (activation, forced termination, etc.) of Java APs,<br>
installing or updating Java APs, and deleting Java APs stored in portable<br>
phone 41. It is to be noted that JAM is a native component independent from<br>
KVM, and therefore cannot be controlled from Java APs.<br>
A JAR (Java Archive) storage and a scratch pad are storage areas<br>
provided in content storage area 410c of nonvolatile memory 420. The JAR<br>
storage stores, for each Java AP installed in portable phone 41, JAR files for<br>
respective Java APs. A JAR file includes Java AP program itself, and image<br>
files, voice files, and the like used when the program is executed. Similarly,<br>
the scratch pad stores data for respective Java APs. Data stored in the scratch<br>
pad are retained permanently. Further, a Java AP is controlled by JAM so as<br>
to access only data of its own among data sets for respective Java APs. A<br>
storage area for each Java AP in the JAR storage and the scratch pad is<br>
assigned by JAM when a Java AP is installed.<br>
Fig. 11 is a block diagram illustrating a hardware configuration of a<br>
UIM 51 according to the second embodiment. UIM 51 is different from<br>
UIM 50 of the first embodiment in that UIM 51 further comprises a content<br>
list storage area 504e which stores a list of content downloaded by inserting<br>
UIM 51 into any portable phone 41. The content name, for example, a file<br>
name of a downloaded content is stored in the content list as shown in Fig. 12.<br>
As described above, data of the downloaded content is stored in content<br>
storage area 410c of portable phone 41. When the content is deleted from<br>
content storage area 410c by the owner of UIM 51, the content name of the<br>
corresponding content is deleted from the content list of content list storage<br>
area 504e of UIM 51.<br>
Operation of Second Embodiment<br>
In the following, an explanation will be given on a case where a Java<br>
AP is downloaded using portable phone 41 in which UIM 51 is inserted, and<br><br><br>
the downloaded Java AP is executed by a request from a user. It is to be<br>
noted that Java AP is only an example of content that is downloaded and that<br>
downloaded content may include image data, music data, programs other than<br>
Java APs, and the like.<br>
Fig. 13 is a sequence chart showing operations of content server 10,<br>
portable phone 41, and UIM 51 in a case that portable phone 41 downloads a<br>
Java AP from content server 10. First, a user inserts his/her UIM 51 into<br>
portable phone 41, and requests for activation of a web browser by operating<br>
operation input unit 402 of portable phone 41. As a result, portable phone 41<br>
is enabled to display on its display screen web pages provided from content<br>
server 10. Then, the user requests for downloading of a Java AP by an<br>
operation input while viewing a web page, and the downloading operation as<br>
shown in Fig. 13 is started.<br>
CPU 405 of portable phone 41 transmits a downloading request to<br>
content server 10 through wireless communication unit 401 (Step S501).<br>
The downloading request includes a command instructing the downloading<br>
and information specifying a Java AP. The downloading request is<br>
transmitted to content server 10 via mobile packet communication network 30<br>
and the Internet 20. Content server 10, upon receiving the downloading<br>
request, reads from its memory the Java AP specified in the request (Step<br>
S502), and transmits the Java AP to portable phone 41 (Step S503).<br>
Before transmitting the downloading request, portable phone 41<br>
transmits a request to content server 10 for the transmission of an ADF<br>
(Application Descriptor File) of a Java AP to be downloaded. After<br>
receiving the ADF from content server 10, CPU 405 of phone 41 determines<br>
whether the Java AP can be downloaded on the basis of information included<br>
in the ADF. For example, in a case that the size of the JAR file of the Java<br>
AP is larger than the size allowed in phone 41, CPU 405 determines that the<br>
Java AP cannot be downloaded. In the case that it is determined that the Java<br><br><br>
AP can be downloaded, CPU 405 of portable phone 41 transmits to content<br>
server 10 a request for the downloading of an applicable JAR file on the basis<br>
of the ADF (Step S501). It is noted that the JAR file is stored in a server<br>
whose location is designated in the ADF, specifically in "PackageURL" (refer<br>
to Fig. 20), and the server storing the JAR file may be different from content<br>
server 10 which has transmitted the ADF. In this case, CPU 405 of portable<br>
phone 41 transmits the request for downloading the JAR file to content server<br>
10 designated by the PackageURL, not to content server 10 which has<br>
transmitted the ADR Thus, more than one content items (i.e., the ADF and<br>
JAR file) may be downloaded from more than one content servers 10, in such<br>
a case where receiving a complete application program requires the receiving<br>
of more than one content items.<br>
After receiving the Java AP transmitted from content server 10, CPU<br>
405 of portable phone 41 obtains a UIMID from UIMID storage area 410a<br>
(Step S504). The obtained UIMID is that of UIM 51 which is presently<br>
inserted in portable phone 41 because when UIM 51 is inserted into phone 41,<br>
UIMID of the inserted phone 41 is stored in UIMID storage area 410a.<br>
Subsequently, CPU 405 stores the UIMID obtained in Step S504 in content<br>
storage area 410c in association with the downloaded Java AP (Step S505).<br>
Specifically, in Step S505, CPU 405 assigns, by the aid of JAM, a<br>
storage area in each of the JAR storage and the scratch pad of content storage<br>
area 410c. Subsequently, CPU 405 installs the downloaded JAR file in the<br>
assigned JAR storage, and at the same time stores the JAR file in association<br>
with the ADF of the Java AP and the UIMID in content storage area 410c.<br>
In Step S506, CPU 405 of portable phone 41 obtains the name of the<br>
downloaded content, for example, the file name of the JAR file, and transmits<br>
the obtained content name to UIM 51 through UIM interface 404. CPU 505<br>
of UIM 51 receives the name of the downloaded content through external<br>
interface 501, and adds the content name to the content list in content list<br><br><br>
storage area 504e, thereby updating the content list (Step S507). CPU 505<br>
then transmits to portable phone 41 a notification that the updating of the<br>
content list is completed (Step S108).<br>
Next, a process of executing a Java AP will be explained with<br>
reference to the flow chart shown in Fig. 14. The process is performed by<br>
CPU 405 of portable phone 41, by the aid of JAM, when an operation<br>
instruction for instructing the execution of the Java AP is input.<br>
CPU 410 first obtains, from content storage area 410c, a UIMID<br>
corresponding to the Java AP to be executed (Step S601). It is to be noted<br>
that the UIMID obtained in Step S601 is that of a UIM 51 inserted in portable<br>
phone 41 at the time of downloading the Java AP. Subsequently, CPU 405<br>
obtains a UIMID stored in UIMID storage area 410a, which UIMID is that of<br>
a UIM which is presently inserted in portable phone 41 (Step S602).<br>
CPU 405 then compares the UIMID obtained in Step S601 with the<br>
UIMID obtained in Step S602 to determine whether the two UIMIDs agree<br>
with each other (Step S603, S604). In other words, CPU 405 compares a<br>
UIMID of a UIM 51 inserted in portable phone 41 at the time of downloading<br>
a Java AP to be executed, with a UIMID of a UIM 51 which is presently<br>
inserted in phone 41, thereby to determine whether a user requesting the<br>
execution of a Java AP is the one who has downloaded the Java AP from<br>
content server 10.<br>
In the case that the two UIMIDs do not agree with each other (Step<br>
S604: No), CPU 405 cancels the execution of the Java AP (Step S605), and<br>
displays on its display screen a message informing the user that the execution<br>
of the Java AP has been cancelled (Step S606). The message may also<br>
inform the user that, if s/he wishes to use the Java AP, it has to be downloaded<br>
from content server 10 using his/her own UIM 51. Further, the message may<br>
include information on how to download the Java AP as guidance information.<br>
Then, the operation of executing a Java AP is ended.<br><br><br>
In the case that the two UIMIDs agree with each other (Step S604:<br>
Yes), CPU 405 permits the execution of the Java AP (Step S607) because the<br>
user requesting the execution of the Java AP is the one who has downloaded<br>
the Java AP from content server 10, and who has been given permission by<br>
content server 10 to access the Java AP, CPU 405 then activates the Java AP<br>
(Step S608), and starts the process according to the program.<br>
As has been described, the present embodiment enables portable phone<br>
41 to restrict access to a Java AP downloaded from content server 10 only to<br>
the owner of a UIM 51 inserted in portable phone 41 at the time of<br>
downloading the Java AP.<br>
Modification of Second Embodiment:<br>
In the Java AP execution operation (refer to Fig. 14), UIMID is used to<br>
determine whether to allow access to a Java AP. However, a content list<br>
stored in content list storage area 504e may be used instead of UIMID.<br>
Fig. 15 is a flow chart showing an operation of portable phone 41 in<br>
determining whether to allow access to a Java AP using a content list stored in<br>
content list storage area 504e. The operation shown in the figure is executed<br>
through JAM by CPU 405 of phone 41 when an operation instruction is input<br>
to instruct the execution of the Java AP. It is to be noted that, for the like<br>
steps, the same step numbers as Fig. 14 have been assigned.<br>
CPU 405 first obtains, from content storage area 410c, the content<br>
name (e.g. the file name of a JAR file) of a Java AP to be executed (Step<br>
S601a). Next, CPU 405 performs communication with UIM 51 through UIM<br>
interface 404 to obtain a content list from content list storage area 504e of<br>
UIM51(Step S602a).<br>
CPU 405 then determines in Step S603a whether the content name of<br>
the Java AP obtained in Step S601a agrees with any one of content name(s)<br>
included in the content list obtained in Step S602a, thereby determining<br><br><br>
whether a present user of portable phone 41 instructing the execution of the<br>
Java AP is the one who has downloaded the Java AP from content server 10.<br>
In the case that the content name of the Java AP to be executed does<br>
not agree with any of the content name(s) listed in the content list (Step 604:<br>
No), the execution of the Java AP is cancelled (Step S605). A message of<br>
canceling the execution of the Java AP is displayed on a display screen of<br>
portable phone 41 (Step S606), before ending the operation.<br>
In the case that the content name of the Java AP to be executed agrees<br>
with any of the content name(s) listed in the content list (Step 604: Yes), it is<br>
determined that the user requesting the execution of the Java AP is the one<br>
who has downloaded the Java AP from content server 10 and is also a user<br>
who is officially permitted by content server 10 for the provision of and the<br>
access to the Java AP, CPU 405 thus allowing the execution of the Java AP<br>
(Step S607). The Java is thus activated (Step S608), and the process<br>
according to the program is started.<br>
Thus, a content list stored in content list storage area 504e may be used,<br>
instead of UIMID, to determine whether to allow access to a Java AP.<br>
Further, the content list may be used in addition to UIMID.<br>
C. Third Embodiment<br>
Next, a description will be given on a third embodiment of the present<br>
invention. The configuration of the third embodiment is the same as the<br>
second embodiment, so an explanation thereof will be omitted here. In other<br>
words, communication system 1 in Fig. 1, portable phone 41 in Fig. 8, and<br>
UIM 51 as shown in Fig. 11 will be referred to in the third embodiment.<br>
In the third embodiment, we assume a private/public key pair is<br>
generated for the owner of UIM 51 and stored in authentication information<br>
storage area 504d of the UIM 51 (refer to Fig. 11). Also, content<br>
downloaded from content server 10 is stored in content storage area 410c of<br><br><br>
nonvolatile memory 420 (refer to Figs. 8 and 16) in association with a public<br>
key for the owner of a UIM 51 which is inserted in portable phone 41 at the<br>
time of downloading the content, while, in the second embodiment,<br>
downloaded content is stored in association with a UIMID of the downloading<br>
UIM 51. The public key stored in association with the downloaded content<br>
is obtained from the UIM 51.<br>
Instead of associating a public key with the content itself, a public key<br>
may be associated with content identification information which is assigned to<br>
each content stored in nonvolatile memory 420. In this case, a separate<br>
content list may be stored in nonvolatile memory 420.<br>
Fig. 17 is a sequence chart showing operations of content server 10,<br>
portable phone 41, and UIM 51 for downloading content from content server<br>
10 and storing the content in nonvolatile memory 420.<br>
When a user requests the downloading of content by operating portable<br>
phone 41 in which his/her own UIM 51 is inserted, CPU 405 of phone 41<br>
transmits a downloading request to content server 10 (Step S701). Content<br>
server 10 reads from its memory content designated in the request (Step S702)<br>
to transmit the content to phone 41 (Step S703).<br>
CPU 405 of portable phone 41 stores the content received from content<br>
server 10 in RAM 409, and then transmits a public key transmission request to<br>
the UIM 51 which is inserted in portable phone 41 (Step S704). CPU 505 of<br>
UIM 51, upon receiving the request, reads a public key for the owner of UIM<br>
51 from authentication information storage area 504d to transmit the public<br>
key to portable phone 41 (Step S705).<br>
CPU 405 of portable phone 41, when it is requested by the user, for<br>
example, by an operation input, to store the content in nonvolatile memory<br>
420 (Step S706: Yes), stores the public key, in nonvolatile memory 420, in<br>
association with the downloaded content. Alternatively, a public key of the<br>
owner of UIM 51 may be transmitted from UIM 51 to portable phone 41 for<br><br><br>
storage into nonvolatile memory 420 at the time when UIM 50 is inserted into<br>
phone 41, and instead of requesting UIM 51 to transmit a public key in Steps<br>
S704 and S705, CPU 405 may read the public key stored in nonvolatile<br>
memory 420 and store the public key in association with the downloaded<br>
content in nonvolatile memory 420.<br>
Fig. 18 is a sequence chart illustrating operations of portable phone 41<br>
and UIM 51 when reading content stored in nonvolatile memory 420 in<br>
portable phone 41.<br>
A user operates portable phone 41 in which his/her own UIM 51 is<br>
inserted to display on a display screen of phone 41a list of data and programs<br>
stored in nonvolatile memory 420. The user then selects, from among the<br>
listed data or programs on the screen, data or a program to use, for example by<br>
an operation input. When a reading operation of the selected data from<br>
nonvolatile memory 420 is requested, CPU 405 of portable phone 41<br>
determines whether the selected data or program is obtained through a<br>
network. When it is determined that the selected data or program has been<br>
obtained through a network, the operation shown in Fig. 18 is started.<br>
As shown in the figure, CPU 405 transmits to UIM 51 inserted in<br>
portable phone 41 a message to be encrypted and an encryption request for<br>
encrypting the message using a private key for the owner of UIM 51 (Step<br>
801). CPU 505 of UIM 51, upon receiving the message and the encryption<br>
request, reads a private key for the owner of the UIM 51 and encrypts the<br>
message using the private key (step S802). Then, CPU 405 transmits to<br>
portable phone 41 the encrypted message (Step S803).<br>
CPU 405 of portable phone 41, upon receiving the encrypted message,<br>
decrypts the message using a public key stored in nonvolatile memory 420 in<br>
association with the content selected by the user (Step S804) to determine<br>
whether the message is decrypted correctly (Step S805).<br>
According to the determination in Step S805, it is possible to<br><br><br>
determine whether UIM 50 presently inserted in portable phone 41 is the UIM<br>
51 inserted in portable phone 41 at the time of downloading the content which<br>
the present user of phone 41 wishes to use; in other words, it is possible to<br>
determine whether the user trying to use the content using portable phone 41 is<br>
the one who has downloaded the content and also who has been given a<br>
permission to use the content from content server 10.<br>
In the case that the message is not decrypted correctly (Step S805: No),<br>
i.e., in the case that UIM 51 presently inserted in portable phone 41 is not the<br>
one inserted in phone 41 at the time of downloading the content, it is<br>
determined that the user does not have a permission to use the content. Thus,<br>
CPU 405 of phone 41 displays on its display screen a message informing the<br>
user that the content cannot be used (Step S806). Accordingly, CPU 405<br>
cancels the execution of the reading operation.<br>
On the other hand, in the case that the message is decrypted correctly<br>
(Step S805: Yes), i.e., in the case that UIM 51 presently inserted in portable<br>
phone 41 is the one which was inserted in phone 41 at the time of<br>
downloading the content, CPU permits access to the content (Step S807) and<br>
reads the content from nonvolatile memory 420 (Step S808). Subsequently,<br>
CPU 405 displays the content on a display screen when the content read from<br>
nonvolatile memory 420 is image data or movie data. In the case that the<br>
content is music data, CPU 405 performs a replaying operation of the music<br>
data. In the case that the content is a program, CPU 405 starts a process<br>
according to the program.<br>
As shown in the foregoing description, according to the third<br>
embodiment, portable phone 41 is enabled to restrict access to content stored<br>
in nonvolatile memory 420 to those who has downloaded the content using<br>
portable phone 41 and has been given a permission to use the content.<br>
Furthermore, according to the third embodiment, portable phone 41<br>
stores the downloaded content in nonvolatile memory 420 in association with<br><br><br>
a public key for the owner of a presently inserted UIM 51, the public key<br>
having been obtained from the UIM 51. Also, when a request is made for<br>
access to content stored in nonvolatile memory 420, portable phone 41 does<br>
not obtain a public key or a private key themselves from a UIM 51 presently<br>
inserted in phone 40 but requests the UIM 51 to encrypt a message using a<br>
private key to verify UIM 51 using a public key which is stored in association<br>
with the content to which access is requested.<br>
Thus, a private key used for authenticating the owner of UIM 51 is<br>
never output to an external device, and therefore, users are provided with a<br>
communication environment with high security. Especially in the case that<br>
UIM 51 is a type of a module which exchanges data with portable phone 41<br>
through wireless communication, authentication information such as a private<br>
key, password, and the like could be fraudulently stolen by a third party if<br>
such authentication information itself is transmitted from phone 41 to UIM 50.<br>
However, a method in the third embodiment prevents such a problem before it<br>
happens.<br>
Modification of Third Embodiment<br>
In portable phone 41, downloading and storing of content in<br>
nonvolatile memory 420 usually requires only one time operation unless a<br>
writing error happens or stored content is mistakenly deleted from nonvolatile<br>
memory 420. To the contrary, a reading operation for reading content stored<br>
in nonvolatile memory 420 could be performed many times since the number<br>
of reading operation corresponds to a frequency at which content is used.<br>
Thus, the following reading control operation may be performed to<br>
reduce, as much as possible, the number of times authentication information<br>
itself of the owner of UIM 51 is output to an external device so as to ensure<br>
secure communication using portable phone 41 and UIM 51.<br>
We assume in the modification that authentication storage area 504d of<br><br><br>
UIM 51 stores authentication information such as a password, a private key,<br>
and the like for authenticating the owner of the UIM 51. It is to be noted that<br>
the downloading and storing operation of content performed in portable phone<br>
41 is the same as the writing control operation (refer to Fig. 17) described in<br>
the above second embodiment except that authentication information (for<br>
example, a password, private key, etc.) obtained from UIM 51 is used instead<br>
of a public key.<br>
Fig. 19 shows an operation in reading content stored in nonvolatile<br>
memory 420. It is to be noted that in a sequence chart shown in Fig. 19,<br>
those steps different from the sequence chart of Fig. 18 are assigned 900s step<br>
numbers. Also, for steps in which the same operations as the sequence chart<br>
of Fig. 18 are performed, an explanation thereof will be simplified.<br>
A user first operates a portable phone 41 in which his/her own UIM 51<br>
is inserted, to display a list of data or programs stored in nonvolatile memory<br>
420. The user then selects, from among the listed data or programs on the<br>
screen, data or a program to use, for example by an operation input. When a<br>
reading operation of the selected data or program from nonvolatile memory<br>
420 is requested, CPU 405 of portable phone 41 determines whether the<br>
selected data or program was obtained through a network. When it is<br>
determined that the selected data or program is obtained through a network,<br>
the operation shown in Fig. 19 is started.<br>
As shown in the figure, CPU 405 transmits to UIM 51, a computing<br>
request for requesting UIM 51 to perform a predetermined computation using<br>
authentication information of the owner of UIM 51 (Step S901). In<br>
EEPROM 504 of UIM 51, an algorithm is stored in advance, according to<br>
which algorithm a computation is performed by assigning authentication<br>
information to a variable of the algorithm. CPU 505 of UIM 51, upon<br>
receiving the computing request, reads from EEPROM 504 the algorithm and<br>
performs a computation by substituting authentication information into the<br><br><br>
algorithm, the authentication information having been read from<br>
authentication information storage area 504d (step S902). CPU 505 then<br>
transmits a computation result to portable phone 41 (Step S903).<br>
It is to be noted that an algorithm does not have to be stored in advance<br>
in EEPROM 504 of UIM 51 but may sent from portable phone 41 together<br>
with the computing request. Also, it is possible to store a plurality of<br>
algorithms, and to include, in the computing request transmitted from portable<br>
phone 41, information specifying which algorithm to be used from among the<br>
above plurality of algorithms.<br>
CPU 405 of portable phone 41, upon receiving the computation result<br>
from UIM 51, determines whether UIM 51 presently inserted in phone 41 is<br>
the one inserted in phone 41 at the time of downloading the content which the<br>
present user of phone 41 desires to use, on the basis of the computation result,<br>
authentication information stored in nonvolatile memory 420 in association<br>
with the desired content, and the algorithm used by UIM 51 (Step S904). In<br>
other words, it is verified whether the user trying to access content using<br>
portable phone 41 is the user who has downloaded the content and also is the<br>
user who has been given a permission to use the content.<br>
In more detail, in Step S904, the determination is made, for example,<br>
by obtaining authentication information by using the computation result<br>
transmitted from UIM 51 and the algorithm used by UIM 51. CPU 405 then<br>
compares the obtained authentication information to authentication<br>
information associated with the desired content to see if they agree with each<br>
other. Alternatively, CPU 405 substitutes the authentication information in<br>
association with the desired content into the algorithm used by the user, to see<br>
whether the computation result received from UIM 51 and the computation<br>
result performed by CPU 405 agree with each other.<br>
In the case that the above two sets of authentication information or<br>
computation results do not agree with each other and it is determined that UIM<br><br><br>
51 presently inserted in portable phone 41 is not the one inserted in phone 41<br>
at the time of downloading the desired content (Step S905: No), CPU 405<br>
determines that the present user of phone 41 does not have a permission to use<br>
the content and displays on a display screen of phone 41 a message informing<br>
the user that the content cannot be used (Step S806). Accordingly, CPU 405<br>
cancels the execution of the reading request.<br>
In the case that the above two sets of authentication information or<br>
computation results agree with each other and it is determined that UIM 51<br>
presently inserted in portable phone 41 is the one which was inserted in phone<br>
41 at the time of downloading the desired content (Step S905: Yes), CPU 405<br>
permits access to the content (Step S807) and reads the content from<br>
nonvolatile memory 420 (Step S808).<br>
According to the modification, authentication information itself such<br>
as a password, private key and the like is not transmitted from UIM 51 to<br>
portable phone 41 when a request is made for the access to a highly used<br>
content although the authentication information is transmitted when storing a<br>
downloaded content in nonvolatile memory 420. Specifically, a computing<br>
request is transmitted to UIM 51 using authentication information, and a result<br>
of the computation, after being returned from UIM 51 to portable phone 41, is<br>
compared to authentication information stored in association with the desired<br>
content. As a result, security in performing communication using portable<br>
phone 41 and UIM 51 is enhanced because the method described in the<br>
modification enables the minimization of the frequency of outputting to an<br>
external device authentication information itself of the owner of UIM 51.<br>
Further, in the present embodiment, a private/public key pair of the<br>
owner of UIM 51 is used to determine whether UIM 51 presently inserted in<br>
portable phone 41 is the one which was inserted in phone 41 at the time of<br>
downloading the content. In making the determination, a UIMID may also<br>
be used in addition to a private/public key pair. In this case, portable phone<br><br><br>
41 stores a downloaded content in nonvolatile memory 420 in association with<br>
a UIMID of UIM 51 presently inserted in phone 41 and a public key. When<br>
a request is made for reading of the content from nonvolatile memory 420,<br>
verification using a public key is performed; and in addition, it is determined<br>
whether a UIMID of UIM 51 presently inserted in phone 41 agrees with a<br>
UIMID which is associated with the requested content.<br>
D. Fourth Embodiment<br>
Next, a description will be given on a fourth embodiment of the<br>
present invention with reference to Figs. 1, 8, 11, and also Figs. 20 and 21.<br>
In the present embodiment, the configurations of communication network 1,<br>
portable phone 41, and UIM 51 are the same as those of the second<br>
embodiment, so an explanation on the same portions as the second<br>
embodiment will be omitted.<br>
In the present embodiment, content server 10 is enabled to specify<br>
whether to restrict access to a particular content only to the owner of a<br>
downloading UIM 51. According to access restriction information provided<br>
by content server 10, it is first determined in portable phone 41 whether<br>
content access is restricted, and for content to which access is restricted to the<br>
owner of a downloading UIM 51, the reading control operation as shown in<br>
the second or third embodiment is performed. In the following description, it<br>
is assumed that access restriction by content server 10 is performed with<br>
respect to Java APs.<br>
Fig. 20 is a diagram illustrating a data configuration of ADF<br>
(Application Descriptor File) of a Java AP according to the present<br>
embodiment. As described before, ADF is a text file in which there are<br>
described various control information for controlling installment or activation<br>
of JAR files, network access, and the like. As shown in the figure, the<br>
column under "Item Name" includes names for different types of control<br><br><br>
information, and the column under "Mandatory/Optional" shows whether a<br>
corresponding control information is mandatory to be included in ADF or is<br>
only optional.<br>
To give a brief description on different types of control information,<br>
"AppName" is the name of a Java AP; "AppVer" is a version of a Java AP;<br>
"PackageURL" is a URL (Universal Resource Locator) showing the origin of<br>
a JAR file; "AppSize" is the data size of a JAR file; and "Spsize" is the size of<br>
a scratch pad used by a Java AP.<br>
"AppUser" is control information which designates whether to restrict<br>
access to a Java AP only to the owner of UIM 51 inserted in portable phone 41<br>
at the time of downloading the Java AP. In the present embodiment,<br>
"AppUser" includes a value "1" or "0," the value "1" designating that the<br>
access to a Java AP is restricted only to the owner of UIM 51 inserted in<br>
portable phone 41 at the time of downloading the Java AP. On the other hand,<br>
the value "0" designates that any user is permitted to use a Java AP.<br>
The value of AppUser is set by content server 10 which is the provider<br>
of a Java AP. In other words, content server 10 is enabled to set in AppUser<br>
of ADF whether to restrict access to a providing content to particular users or<br>
not. For example, in the case that content server 10 wishes to have many<br>
users to use a Java AP for free of charge, AppUser of the ADF of the content<br>
can be set to "0." On the other hand, for a Java AP for which content server<br>
10 wishes to collect usage charges, AppUser of the ADF of the Java AP can be<br>
set to "l."<br>
Fig. 21 is a flow chart showing a process of controlling the execution<br>
of a Java AP according to the present embodiment. The operation shown in<br>
the figure is performed through JAM by CPU 405 when an operation<br>
instruction for instructing the execution of a Java AP is inputted to portable<br>
phone 41.<br>
As shown in the figure, CPU 405 reads from content storage area 410c<br><br><br>
an ADF of the Java AP to be executed, and obtains the value of AppUser (Step<br>
S1001). Subsequently, CPU 405 determines whether the obtained value is<br>
"1," i.e., whether the access to the Java AP is to be restricted to the owner of a<br>
UIM 51 which was inserted in portable phone 41 at the time of downloading<br>
the Java AP(Step S1002).<br>
In the case that the value of AppUser is "1" (Step S1002: Yes), the<br>
process from Steps S1003 to S1010 are performed, which are the same as<br>
Steps S601 to S608 of Fig. 14.<br>
In summary, CPU 405 compares a UIMID stored in content storage<br>
area 410c in association with the Java AP to be executed, to a UIMID stored in<br>
UIMID storage area 410a, thereby determining whether a present user of<br>
portable phone 41 who is instructing the execution of the Java AP is the one<br>
who has downloaded the Java AP from content server 10. The Java AP is<br>
executed when the compared UIMIDs agree with each other.<br>
In the case that the value of AppUser is "0" (Step S1002: No), the<br>
content may be used by any user, and therefore, the routine proceeds to Step<br>
SI009 in which CPU 405 permits the execution of the Java AP. Accordingly,<br>
the Java AP is activated (Step S1010), and the operation according to the<br>
program is started.<br>
It is to be noted that as shown in Fig. 20 AppUser is optional<br>
information in an ADF. There may a case where in obtaining the value of<br>
AppUser in Step S1001 of Fig. 21, AppUser may not be included in the ADP.<br>
In the case of detecting that AppUser is not included in an ADF, CPU405<br>
performs the process on and after Step S1003 assuming that the value of<br>
AppUser is "1" for protecting a right relating to access permission of a Java<br>
AP. In other words, in the case that AppUser is not included in an ADF of a<br>
Java AP, the access to the Java AP is restricted to the owner of a UIM 51<br>
inserted in portable phone 41 at the time of downloading the Java.<br>
As described above, according to the present embodiment, portable<br><br><br>
phone 41 is enabled to decide on the basis of AppUser included in an ADF<br>
whether to restrict the access to a Java AP downloaded from content server 10<br>
to the owner of a UIM 51 inserted in phone 41 at the time of downloading the<br>
Java AP. Thus, a content server is enabled to readily set an access restriction<br>
of a Java AP provided by the same content server.<br>
E. Fifth Embodiment<br>
Next, a fifth embodiment will be described with reference to Figs. 1, 8,<br>
11, and also Figs. 22 to 24. In the above first to fourth embodiments, a user<br>
using portable phone 40, 41 with his/her UIM 50, 51 inserted in phone 40, 41<br>
is able to know which content s/he is allowed to access only after instructing<br>
the execution of a desired content by an operation input. In the present<br>
embodiment, description will be given on a method to effect portable phone<br>
41 to recognize content that can be accessed by a user before the user instructs<br>
the execution of the content(s). The hardware configurations of a portable<br>
phone 41, a UIM 51 with respect to the present embodiment are the same as<br>
those of the second embodiment, and therefore, an explanation thereof will be<br>
omitted.<br>
In the case that a user wishes to use a Java AP which has been<br>
downloaded and stored in portable phone 41, the user, by an operation input,<br>
instructs the display of a selection screen (such as shown in Fig. 23) of a Java<br>
APs on the display screen of phone 41. In response to the operation input,<br>
CPU 405 of portable phone 41 performs the process shown in a flow chart of<br>
Fig. 22. It is to be noted that content listed on the selection screen is not<br>
limited to Java APs but may include other content such as an application<br>
program, image data, movie data, music data and the like if downloaded from<br>
content server 10.<br>
As shown in the flow chart, CPU 405 of portable phone 41 first<br>
identifies a Java AP(s) stored in content storage area 410c (Step S1101), and<br><br><br>
obtains the name(s) of content such as the file name of a JAR (Java Archive)<br>
file(s) with respect to the identified Java AP(s). Subsequently, CPU 405<br>
obtains a UIMID stored in UIMID storage area 410a i.e., a UIMID of UIM 51<br>
presently inserted in portable phone 41 (Step S1102).<br>
CPU 405 then compares, for each Java AP identified in the above Step<br>
S1101, a UIMID stored in content storage area 410c in association with<br>
respective Java AP(s), to the UIMID obtained in Step S1102 (Step S1103).<br>
Thus, CPU 405 determines, for each Java AP, whether a user presently using<br>
portable phone 41 is the user who has downloaded respective Java AP(s).<br>
Subsequently, CPU 405 obtains for each Java AP the value of AppUser<br>
in an ADF of respective Java APs (Step S1104). As described in the fourth<br>
embodiment, CPU 405 determines on the basis of the value of AppUser<br>
whether the access to a Java AP should be restricted to the owner of UIM 51<br>
inserted in portable phone 41 at the time of downloading respective Java<br>
AP(s).<br>
In Step S1105, CPU 405 determines whether the user presently using<br>
portable phone 41 is allowed to access to each Java AP on the basis of the<br>
result of the determination in Step S1103 and the value of AppUser obtained in<br>
Step S1104 (Step S1105). Specifically, in a case that the UIMID obtained in<br>
Step S1102 agrees with the UIMID stored in association with a Java AP, or in<br>
a case that the value of AppUser obtained for the Java AP is "0," CPU 405<br>
determines to allow access to the Java AP; and in other cases, CPU 405 doses<br>
not allow the access to the Java AP. The determination is performed for each<br>
of the Java AP(s) identified in Step S1101. It is to be noted that, for non-Java<br>
content, the determination on the basis of AppUser is not performed, and<br>
whether to allow access to content is determined only on the basis of UIMID;<br>
in this case, Step S1104 of the process will be omitted.<br>
Thus, CPU 405 sorts a Java AP(s) stored in content storage area 410c<br>
into "access-permitted" and "access-prohibited." The content name(s) of<br><br>
sorted Java AP(s) are displayed on a display screen of portable phone 41 as a<br>
selection screen in such a way as shown in Fig- 23 (Step S1106).<br>
In the selection screen shown in Fig. 23, the content names of<br>
access-permitted programs are shown in bold characters and those of<br>
access-prohibited programs are grayed out (disabled). Preferably, characters<br>
and/or background of different colors may be used for respective<br>
access-permitted and access-prohibited content names. Alternatively,<br>
access-permitted content name(s) may be marked a symbol designating access<br>
permission. Still alternatively, the content names of only access-permitted<br>
programs may be displayed or may be notified to the user by means of a voice<br>
message.<br>
After the selection screen shown in Fig. 23 is displayed on a display<br>
screen of portable phone 41, in the case that one of the listed access-permitted<br>
programs is selected by a user by an operation input, CPU 405 starts a process<br>
according to the selected program. On the other hand, in the case that the<br>
user selects one of the access-prohibited programs by an operation input, CPU<br>
405 does not execute the selected program and displays a message informing<br>
the user that the access to the selected program is not permitted and that the<br>
user has to officially download the program from content server 10 if s/he<br>
wishes to use the program. It is to be noted that the owner of portable phone<br>
41 is allowed to delete (i.e., uninstall) a Java AP from content storage area<br>
410c, while the same owner cannot use the same Java AP if s/he is not a<br>
permitted user of the Java AP.<br>
As in the foregoing description, in the present embodiment, portable<br>
phone 41 used with a removable UIM 51 displays on its display screen a list of<br>
programs determined to be access-permitted, from among programs<br>
downloaded and stored in phone 41, thereby enabling a user to know programs<br>
that are allowed for his/her access before the user instructs the execution of<br>
respective programs.<br><br><br>
In the process of displaying a selection screen as shown in the flow<br>
chart of Fig. 22, UIMID and AppUser are used as the basis of the<br>
determination as to whether a Java AP is access-permitted. However, a<br>
content list stored in content list storage area 504e of UIM 51 may be used<br>
instead of UIMID. In the following, a description will be given, with<br>
reference to Fig. 24, on a process of determining whether to permit access to a<br>
Java AP using the content list. It is to be noted that like steps are assigned<br>
the same reference numerals as Fig. 22, and an explanation thereof will be<br>
simplified.<br>
After identifying a Java AP(s) stored in content storage area 410c in<br>
Step S1101 and obtaining the content name of each identified Java AP, CPU<br>
405 of portable phone 41 performs communication with UIM 51 through UIM<br>
interface 404 and obtains a content list stored in content list storage area 504e<br>
of UIM 51 (Step S1102a). As described in the second embodiment, the<br>
content list is a list of content downloaded by the owner of UIM 51 using a<br>
portable phone 41 in which his/her UIM 51 is inserted.<br>
Subsequently, CPU 405 compares the content names of the identified<br>
Java AP(s) to the content list obtained in Step S1102a (Step S1103a).<br>
According to the comparison, CPU 405 is able to determine, for each Java AP,<br>
whether a user presently using portable phone 41 is the one who has<br>
downloaded respective Java APs.<br>
CPU 405 then, for each Java AP identified in Step S1101, obtains the<br>
value of AppUser in an ADF of respective Java APs (Step S1104). CPU 405<br>
determines whether the user presently using portable phone 41 is allowed to<br>
use each Java AP on the basis of the result of the determination in Step S1103a<br>
and the value of AppUser obtained in Step S1104 (Step S1105a). Specifically,<br>
CPU 405 determines to allow access to a Java AP in the case that the content<br>
name of the Java AP is found in the content list obtained from UIM 51, and or<br>
in the case that the value of AppUser obtained for the Java AP is "0,"; and in<br><br><br>
other cases, CPU 405 dose not allow the access to the Java AP. The<br>
determination is performed for each of the Java AP(s) identified in Step S1101.<br>
It is noted also in the process of Fig. 24, that, for non-Java content, the<br>
determination on the basis of AppUser is not performed as in the process of<br>
Fig. 22.<br>
Thus, CPU 405 sorts a Java AP(s) stored in content storage area 410c<br>
into "access-permitted" and "access-prohibited." The content name(s) of the<br>
sorted Java AP(s) are displayed on a display screen of portable phone 41 as a<br>
selection screen in such a way as shown in Fig. 23 (Step S1106). Thus, the<br>
content list stored in content list storage area 504e of UIM 51 may be used in<br>
determining whether to allow the present user of phone 41 to use content<br>
stored in phone 41.<br>
F. Sixth Embodiment<br>
A sixth embodiment of the present invention, will be described with<br>
reference to Figs. 1, 8, 11, and 25. The configurations of communication<br>
system 1, portable phone 41 and UIM 51 of the present embodiment are the<br>
same as those of the second embodiment, and therefore, an explanation thereof<br>
will be omitted.<br>
In the present embodiment, it is assumed that a user changes a UIM 51<br>
to a new one for a reason such as an imperfect operation (technical<br>
malfunctioning) of the device, a replacement to a new device, or the like.<br>
When such a situation arises, a communication device (portable phone 40, 41)<br>
used in the preceding embodiments does not properly restrict access to a<br>
downloaded content because UIMID of UIM 51 was used to determine<br>
whether to permit access to content to a present user of phone 40, 41. To<br>
solve this problem, portable phone 41 according to the present embodiment is<br>
enabled to properly restrict the access to a downloaded content even when a<br>
UIM 51 is replaced with a new UIM 51.<br><br><br>
When a user of UIM 51 changes the UIM 51 to a new UIM 51, the<br>
user first visits a service shop to request for the replacement of UIM 51. A<br>
shop attendant concludes a replacement agreement with the user and prepares<br>
a replacement UIM 51. The user hands his/her own portable phone 41 and<br>
UIM 51 to the shop attendant. In the following description, UIM 51 to be<br>
replaced will be referred to as "former UIM 51" and the replacement UIM 51<br>
will be as "new UIM 51" for the sake of simplicity.<br>
The shop attendant, after collecting portable phone 41 and former UIM<br>
51, inserts former UIM 51 into portable phone 41. The attendant then<br>
operates portable phone 41 to change phone 41 to a maintenance mode, under<br>
which the attendant instructs the execution of an operation of exchanging UIM<br>
51.<br>
Fig. 25 is a flow chart illustrating a process performed by CPU 405 of<br>
portable phone 41 for exchanging UIM 51. As shown in the flow chart, CPU<br>
405 first obtains a UIMID stored in UIMIP storage area 410a, the UIMID<br>
being that of former UIM 51 which is presently inserted in portable phone 41,<br>
and stores the obtained UIMID in nonvolatile memory 420 (Step S1201). In<br>
addition, CPU 405 obtains from former UIM 51a content list stored in content<br>
list storage area 504e and subscriber information stored in subscriber<br>
information area 504a for storage into nonvolatile memory 420 (Step S1202).<br>
Subsequently, CPU 405 displays a message on its display screen to<br>
prompt the shop attendant to turn off portable phone 41, and turn it on after<br>
replacing former UIM 51 with new UIM 51 (Step S1203). When the shop<br>
attendant, according to the instruction in the message, turns off portable phone<br>
41 and turns it on after replacing former UIM 51 with new UIM 51, CPU 405<br>
obtains a UIMID stored in UIMID storage area 410a (Step S1204). It is<br>
noted that, when new UIM 51 is inserted into portable phone 41, UIMID of<br>
new UIM 51 is transmitted from UIM 51 to phone 41 to be stored in UIMID<br>
storage area 410a. Thus, the UIMID obtained in Step S1204 is the UIMID of<br><br><br>
new UIM 51.<br>
Next, CPU 405 reads the UIMID of former UIM 51 stored in<br>
nonvolatile memory 420 in Step 1201, and rewrites the UIMID of former UIM<br>
51 to the UIMID of new UIM 51 with respect to respective UIMIDs stored in<br>
content storage area 410c in association with content (Step S1206).<br>
Further, CPU 405 reads the content list and subscriber information of<br>
former UIM51 stored in nonvolatile memory in Step S1202, for transmission<br>
to new UIM 51 through UIM interface 404 (Step S1207). CPU 505 of new<br>
UIM 51, upon receiving data of the content list and subscriber information of<br>
former UIM 51, stores the received data in EEPROM 504 and transmits a<br>
storage completion notification to portable phone 41. The operation of<br>
exchanging UIM51 is thus completed, and the shop attendant returns portable<br>
phone 41 and new UIM 51 to the user.<br>
As described above, according to the present embodiment, when<br>
former UIM 51 is replaced with new UIM 51, portable phone 41 updates<br>
respective UIMIDs in association with content downloaded from content<br>
server 50 from UIMID of former UIM 51 to that of new UIM 51. Thus, a<br>
user is enabled to continue to use content downloaded using former UIM 51<br>
after former UIM 51 is replaced with new UIM 51.<br>
It is to be noted that in the present embodiment, only a shop attendant<br>
may perform the operation of exchanging UIM 51. This is to prevent the<br>
content list and subscriber information stored in UIM 51 from being<br>
fraudulently copied to the third person's UIM 51. However, a user may<br>
perform the exchanging operation for him/herself, if an identity verification<br>
function is incorporated in portable phone 41.<br>
Further, the UIM exchanging operation may be activated in such a way<br>
as is described in the following. After the shop attendant collects former<br>
UIM 51 and portable phone 41 from the user, the attendant transmits, to a<br>
service management center (not shown) of a communication carrier managing<br><br><br>
mobile packet communication network 30, data of a replacement agreement<br>
including the UIMIDs of former UIM 51 and new UIM 51, through a<br>
communication terminal installed in the service shop. The shop attendant<br>
also inserts former UIM 51 into portable phone 41.<br>
The service management center confirms the details of the agreement<br>
transmitted from the service shop, and transmits an activation command<br>
instructing the activation of the UIM exchanging operation to portable phone<br>
41 in which former UIM 51 is inserted. CPU 405 of portable phone 41, upon<br>
receiving the activation command through radio communication unit 401,<br>
activates the UIM exchanging operation according to the activation command.<br>
Thus, the UIM exchanging operation is not activated unless portable phone 41<br>
receives the activation command from the service management center, thereby<br>
minimizing the occurrence of an undesired UIM exchanging operation being<br>
fraudulently performed by a third person.<br>
G. Seventh Embodiment<br>
In the present embodiment, description will be given also on a case<br>
where UIM 51 is exchanged as in the sixth embodiment.<br>
In UIM 51 according to the present embodiment, UIMID storage area<br>
504c provided in EEPROM 504 has, as shown in Fig. 26, an area 504cl for<br>
storing a UIMID assigned to the UIM 51 itself and an area 504c2 for storing a<br>
plurality of UIMIDs of one or a plurality of former UIM(s) 51.<br>
Stored in area 504c1 is a UIMID of UIM 51 which is written into UIM<br>
51 at the time of shipment from a factory or at the time when a service<br>
agreement of a communication service is entered by a user. Stored in area<br>
504c2 is a UIMID stored in UIMID storage area 504c of former UIM 51<br>
which is written into new UIM 51 during the UIM exchange operation (refer<br>
to Fig. 25) of the above sixth embodiment when a content list and subscriber<br>
information stored in former UIM 51 are written into new UIM 51. In a case<br><br><br>
where a user has renewed more than one UIM 51, data stored in area 504c2<br>
should include UIMIDs of a plurality of former UIMs 51 that used to be<br>
owned by the user.<br>
Data stored in UIMID storage area 504c1 and 504c2 is written into<br>
UIMID storage area 410a of portable phone 41 when UIM 51 is inserted in<br>
phone 41. In the case of downloading content from content server 10 as<br>
described in the second embodiment (refer to Fig. 13), CPU 405 of portable<br>
phone 41 stores the downloaded content in content storage area 410c in<br>
association with the UIMID stored in area 504c1.<br>
In the case of executing a Java AP as described in Fig. 14 of the second<br>
embodiment, CPU 405 of portable phone 41 compares a UIMID stored in<br>
content storage area 410c in association with content to be executed, to one or<br>
a plurality of UIMID(s) of UIM 51 presently inserted in phone 41, which one<br>
or a plurality of UIMID(s) is stored in UIMID storage area 410c. In the case<br>
that any of the one or plurality of UIMID(s) agrees with the UIMID which is<br>
in association with the content to be executed, access to the Java AP is<br>
permitted.<br>
In the case of displaying a list of access-permitted content as described<br>
in the above fifth embodiment (refer to Fig. 22), CPU 405 of portable phone<br>
41 determines whether, for each Java AP stored in content storage area 410c, a<br>
UIMID in association with respective Java APs agrees with any of one or<br>
plurality of UIMID(s) stored in UIMID storage area 504c. The value of<br>
AppUser in an ADF of respective Java APs is also referred to in addition to the<br>
determination on the basis of UIMID, thereby determining whether to allow<br>
access to respective Java APs.<br>
Thus, as in the above sixth embodiment, according to the present<br>
embodiment, it is possible, even in a case that a user replaces his/her UIM 51<br>
with a new UIM 51, for the user to access, using the new UIM, content<br>
downloaded using a former UIM and stored in portable phone 41.<br><br><br>
H. Modification<br>
It should be understood that the present invention is not limited to the<br>
above embodiments but may be implemented in various other modes without<br>
departing from the essential characteristics of the present invention. The<br>
above described embodiments are mere examples of the present invention and<br>
not restrictive, the scope of the present invention being indicated by the<br>
appended claims, and all changes which come within the meaning and the<br>
range of equivalency of the claims are therefore intended to be embraced<br>
therein. The following are example of such modifications.<br>
First Modification:<br>
In the above embodiments, UIMID is used in restricting access to a<br>
downloaded content. The present invention is not limited so, but subscriber<br>
identification (ID) stored in subscriber information storage area 504a may be<br>
used instead of UIMID. In this case, the UIMID exchange operation as<br>
described in the sixth and seventh embodiments becomes unnecessary because<br>
subscriber ID used in a former UIM 51 is transferred to and used in a new<br>
UIM51.<br>
However, it is not desirable in terms of protecting private information<br>
of a user, if subscriber ID such as a telephone number is stored in a memory of<br>
another person's portable phone 41. Therefore, it is preferable to use, as<br>
subscriber ID used in place of UIMID, an identification unique to a subscriber<br>
other than a telephone number, which identification is assigned by a<br>
communication carrier of mobile packet communication network 30 to a<br>
subscriber of a communication service using UIM 51.<br>
Second Modification:<br>
We assume in the second modification that a user owns two UIMs 50a<br><br><br>
and 50b in the first embodiment, or UIM 51a and 51b in the second to seventh<br>
embodiments. In the case that the user using UIM 50b, 51b attempts to use<br>
content downloaded by UIM50a, 51b, access to the content is prohibited even<br>
when the user of the two UJMs 50a and 50b, 51a and 51b is the same person,<br>
since UIMID and subscriber ID are not information identifying a user, but<br>
identification information for identifying a communication service contract<br>
using UIM 50, 51. Thus, it is necessary for CPU 405 of portable phone 40,<br>
41 to control phone 40, 41 to restrict access and storage of content on a<br>
user-to-user basis in the case that a single user owns more than one UIMs.<br>
One way of such a user-based control is to store, in UIMID storage<br>
area 504c2 (refer to Fig. 26) in one of a plurality of UIMs 50, 51 owned by the<br>
same user, a UIMID(s) of the other(s) of the plurality of UIMs 50, 51. In<br>
other words, in UIMID storage area 504c of a UIM 50, 51, all of the UIMIDs<br>
of UIMs 50, 51 owned by the same user are stored. Then, the content access<br>
control as described in the seventh embodiment is performed using data of the<br>
plurality of UIMIDs stored in UIMID storage area 504c. Alternatively, a<br>
user ID may be used for controlling access to content by storing the same user<br>
ID in each of a plurality of UIMs 50,51 owned by the same user.<br>
Third Modification:<br>
In the above embodiments, when a UIM 50, 51 is inserted in portable<br>
phone 40,41, a UIMID of the inserted UIM 50,51 is transferred from UIM 50,<br>
51 to phone 40, 41, and stored in UIMID storage area 410a of phone 40, 41.<br>
Instead, portable phone 40, 41 may obtain a UIMID of the inserted UIM 50,<br>
51 every time when the UIMID is needed, by accessing UIM 50, 51 through<br>
UIM interface 404.<br>
Fourth Modification:<br>
In some of the above embodiments, Java AP is shown as an example of<br><br><br>
content received by portable phone 40, 41, but the present invention is not<br>
limited thereto. Content according to the present invention includes not only<br>
Java application programs but also non-Java application programs, image data,<br>
music data, movie data, and the like. Thus, it is especially to be noted that<br>
the above second, fourth to seventh embodiments described taking a Java AP<br>
as an example of content may also be applied to other types of content. In<br>
the fifth embodiment, AppUser in an ADF is used for content server 10 to<br>
designate whether to restrict access to a Java AP. For non-Java content<br>
which does not have an ADF, any type of designator may be assigned by<br>
content server 10 as far as a communication device, i.e., UIM 50, 51 is<br>
informed in advance what is meant by the designator. Similarly, the first and<br>
third embodiments may be applied to a Java AP.<br>
Further, the present invention is not limited to content downloaded<br>
from content server 10 in response to a request from a user but also includes<br>
content push-delivered from content server 10. Also, a program, not a user<br>
of portable phone 40, 41, may request content server 10 to transmit content.<br>
Thus, "receiving content from a network" as in the appended claims includes<br>
not only downloading content to a communication device in response to a<br>
downloading request made by a user of the communication device but also<br>
receiving at the communication device content which is push-delivered from a<br>
content server in the network or which is transmitted in response to a request<br>
from a program running in the communication device.<br>
Further, a plurality of content items may be downloaded from a<br>
plurality of nodes in a network in such a case where receiving one complete<br>
application program requires receiving a plurality of content items stored in<br>
different content servers. Such an example has been given in the second<br>
embodiment to describe a case where an ADF and a JAR file of a Java AP are<br>
downloaded from different servers. It is to be noted that, also in the other<br>
embodiments, a plurality of content items may be downloaded from a plurality<br><br><br>
of content servers in a network.<br>
Fifth Modification:<br>
In each of the above embodiments, content server 10 is connected to<br>
the Internet 20. The present invention is not so limited but content server 10<br>
may be connected through an exclusive line to gateway server 31 of mobile<br>
packet communication network 30. Further, gateway server 31 itself may<br>
have a function of content server 10. Still further, content server 10 may be<br>
provided in mobile packet communication network 30.<br>
Sixth Modification:<br>
Fig. 27 is a diagram showing a possible architecture of a Java runtime<br>
environment provided in a Java-compatible communication device. In some<br>
of the above embodiments, KVM and J2ME are used in a Java runtime<br>
environment provided in portable phone 41 of the present invention, KVM<br>
being a software for the Java runtime environment and J2ME comprising<br>
CLDC as a configuration and the original Java Extension Profile as a profile<br>
(refer to the hatched portions of Fig. 27). However, the present invention is<br>
not limited to a Java runtime environment with a combination of KVM and<br>
J2ME.<br>
As shown in Fig. 27, MIDP (Mobile Information Device Profile) may<br>
be used as a profile of J2ME instead of the original Java Extension Profile.<br>
MIDP is a profile for portable phones developed by JCP (Java Community<br>
Process). Also, JVM may be used instead of KVM; and CDC (Connected<br>
Device Configuration) may be used instead of CLDC as a configuration of<br>
J2ME. Further, the Java runtime environment may comprise a profile for<br>
LCD(Liquid Crystal Display)-equipped telephones, a profile for televisions, a<br>
profile for car-navigation devices. Still further, HotSpot and J2SE (Java 2<br>
Standard Edition) or J2EE (Java 2 Enterprise Edition) may be provided in the<br><br><br>
Java runtime environment.<br>
Seventh Modification:<br>
In the above embodiments, portable phone 40, 41 has been used as an<br>
example of a communication device. However, a "communication device" as<br>
in the appended claims also includes a personal computer, PDA (Personal<br>
Digital Assistant), PHSâ„¢ (Personal Handyphone System), and a car-navigation<br>
device, and the like.<br>
Eighth Modification:<br>
In the above embodiments, portable phone 40, 41 performs an access<br>
control or storing control operation of content according to a program stored<br>
in ROM 408 or in nonvolatile memory 410, 420, but a program for<br>
implementing an operation according to the present embodiment may be<br>
provided to portable phone 40, 41 by communication. Further, such a<br>
program may be provided to portable phone 40, 41, using a recording medium<br>
such as an optical recording medium, magnetic recording medium,<br>
semiconductor memory, and the like. It is noted that in this case a recording<br>
medium driver need to be provided with portable phone 40,41.<br>
Ninth Modification:<br>
In the above embodiments, UIM 50, 51 may be a contactless IC card<br>
which performs data exchanges with portable phone 40, 41 by wireless<br>
communication. In other words, a data storage module does not have to be<br>
inserted in portable phone 40, 41, but is acceptable if data stored therein can<br>
be accessed by a communication device (portable phone 40,41) via a wireless<br>
communication (including an infrared ray communication and optical<br>
communication). Also, a data storage module and a communication device<br>
may be connected via a communication cable. Thus, a "data storage module<br><br><br>
connecting to the communication device" as recited in the appended claims<br>
includes not only a type of data storage module inserted in the communication<br>
device but also a different type of data storage module which is wirelessly<br>
connected to the communication device or which is connected to the<br>
communication device via a cable.<br>
Further, a data storage module according to the present invention is not<br>
limited to one which stores data required for portable phone 40,41 to perform<br>
communication, such as UIM 50, 51. For example, a data storage module<br>
may be a memory card, an optical disk, a magnetic disk, and the like, if it is a<br>
recording medium removable from portable phone 40,41.<br>
In the case of using a recording medium instead of UIM 50, 51, there<br>
may be a case where data stored in the recording medium is fraudulently<br>
copied by a third person. To prevent such a case, a serial number unique to a<br>
recording medium may be stored in respective recording media, the serial<br>
number being stored in association with the downloaded content in content<br>
storage area 410c of portable phone 40,41.<br>
Alternatively, a control operation such as described below may be<br>
performed. Fig. 28 is a block diagram illustrating a hardware configuration<br>
of a portable phone 42 according to the present modification. As shown in<br>
the figure, portable phone 42 differs from portable phone 40, 41 in that a<br>
memory card interface 421 is provided instead of UIM interface 404. Further,<br>
a card ID storage area 410d is provided in nonvolatile memory 430 instead of<br>
UIMID storage area 410a.<br>
Memory card interface 421 controls writing and reading of data into a<br>
memory card 60 inserted in memory card interface 421. In memory card 60,<br>
a card ID (for example, a manufacturer's serial number) unique to respective<br>
memory cards is stored in advance. Also stored in memory card 60 is a<br>
content list including a list of content downloaded by portable phone 42 from<br>
content server 10 when the memory card 60 is inserted in phone 42. In card<br><br><br>
ID 410d of nonvolatile memory 430 of phone 42, a card ID of a memory card<br>
60 presently inserted in phone 42 is stored.<br>
Fig. 29 is a sequence chart illustrating operations of content server 10,<br>
portable phone 42, and memory card 60 when portable phone 42 with memory<br>
card 60 inserted therein downloads content from content server 10. First,<br>
CPU 405 of portable phone 42 transmits a downloading request to content<br>
server 10 through wireless communication unit 401 (Step S1301). Included<br>
in the downloading request is a command for instructing a downloading and<br>
information specifying content to be downloaded. Content server 10, upon<br>
receiving the downloading request, reads the content specified in the<br>
downloading request from a memory (Step S1302), and transmits the read<br>
content to portable phone 42 (Step S1303).<br>
Subsequently, CPU 405 of portable phone 42 obtains a card ID stored<br>
in card ID storage area 410d, i.e., a card ID of memory card 60 presently<br>
inserted in phone 42 (Step S1304). CPU 405 then stores the obtained card ID<br>
in association with the downloaded content (Step S1305).<br>
After storing the card ID and the downloaded content in association<br>
with each other, CPU 405 of portable phone 42 obtains identification<br>
information of a downloaded content, for example, a file name (content name)<br>
of the content. CPU 405 then encrypts the obtained content name using the<br>
card ID stored in card ID storage area 410d as a key (Step S1306), and has the<br>
encrypted content name stored in memory card 60 through memory card<br>
interface 421 (Step S1307). Thus, the content name encrypted by the card ID<br>
is added to the content list stored in memory card 60.<br>
Fig. 30 is a flow chart illustrating a process of content access control<br>
performed by CPU 405 of portable phone 42. The process in the figure is<br>
initiated when an operation input is made to specify content stored in content<br>
storage area 410c to access the content.<br>
CPU 405 first obtains a name of content (e.g. a file name) of content to<br><br><br>
be executed from content storage area 41Qc (Step S1401). Subsequently,<br>
CPU 405 obtains from memory card 60 the encrypted content list (Step<br>
S1402) as well as obtaining a card ID stored in card ID storage area 410c<br>
(Step S1403). CPU 405 then decrypts, using the card ID as a key, each of the<br>
content names included in the content list (Step S1404), and stores the<br>
decrypted content list in RAM 409.<br>
Subsequently, CPU 405 compares the content name obtained in Step<br>
S1501 to each content name included in the content list stored in RAM 409<br>
(Step S1405) to determine whether the content name of the content to be<br>
executed agrees with any of the content names included in the content list<br>
(Step S1406). Thus, it is possible to determine whether a user instructing<br>
access to content using portable phone 42 is the one who has downloaded the<br>
content.<br>
In the case that it is determined that the content name of the content to<br>
be executed does not agree with any of the content names included in the<br>
content list (Step S1406: No), CPU 405 prohibits access to the content (Step<br>
S1407) and displays on a display screen a message informing the user that the<br>
content cannot be used (Step S1408). Then, the process of restricting the<br>
content access is ended.<br>
In the case that it is determined that the content name of the content to<br>
be executed agrees with any of the content names included in the content list<br>
(Step S1406: Yes), CPU 405 determines that a user instructing the access to<br>
the content is the one who has downloaded the content from content server 10<br>
and who has been given permission to access the content, thereby permitting<br>
the access to the content (Step S1409). In the case that the content is a<br>
program, CPU 405 activates the program to start an operation according to the<br>
program. In the case that the content is image data, CPU 405 displays image<br>
based on the image data on a display screen.<br>
In the present modification, identification information of content to be<br><br><br>
stored in memory card 60 is encrypted using a card ID number of memory<br>
card 60; encrypted identification information of content is decrypted using a<br>
card ID of presently inserted memory card 60 as a key, which encrypted<br>
identification information is read from memory card 60. Thus, access control<br>
can be performed even when a memory card is used as a data storage module,<br>
the memory card, unlike UIM 50, 51, having no internal microprocessor<br>
provided therein and having no capacity to perform access control. It should<br>
be readily understood that memory card 60 may be a recording medium such<br>
as smart card, a floppy disc, CD-ROM (Compact Disc-Rom), DVD (Digital<br>
Versatile Disc), and the like.<br><br>
WE CLAIM:<br>
1.	A communication device (41), comprising:<br>
a non-volatile memory storage means (407);<br>
a data storage module interface (404) adapted to communicate with any one of a<br>
plurality of data storage modules (50), each of said plurality of data storage modules (50)<br>
storing access qualification information as identification information unique to any one of<br>
the plurality of data storage modules;<br>
communication means (401) adapted to receive content from a communication<br>
network;<br>
characterized by<br>
storing means (420) adapted to store, when content is received from the<br>
communication network, in association with the received content, access qualification<br>
information which specifies said any one of said plurality of data storage modules (50)<br>
connecting to said communication device at the time of receiving the content, in said non-<br>
volatile memory storage means (420); and<br>
determination means (405) adapted to determine, when access to the stored content<br>
by said storing means (420) is requested, whether to permit access to the stored content on<br>
the basis of said access qualification information stored in association with said received<br>
content.<br>
2.	A communication device as claimed in claim 1, wherein said plurality of data<br>
storage modules (50) are user identify modules (UIM) adapted to store information for<br>
enabling said communication device to access a network.<br>
3.	A communication device as claimed in claim 1, wherein said plurality of data<br>
storage modules (50) are able to be interchangeably inserted in and removed from said<br>
communication device.<br><br>
4.	A communication device as claimed in claim 1, wherein said determination means<br>
(405) is adapted to compare said access qualification information stored in association with<br>
the received content, to access information of said any one of said plurality of data storage<br>
modules (50) connecting to said communication device when access to the content is<br>
requested, to determine that access to the received content is permitted in a case that said<br>
access qualification information of said any one of said plurality of data storage modules<br>
(50) connecting to said communication device at the time of receiving the content and said<br>
access qualification information of said any one of said plurality of data storage modules<br>
(50) connecting to said communication device when access to the content is requested<br>
agree with each other.<br>
5.	A communication device as claimed in claim 1,<br>
wherein content is provided with access restriction information designating<br>
whether access to the content is restricted;<br>
wherein said storing means (420) is adapted to store, in association with the<br>
received content, said access restriction information provided with the received content;<br>
and<br>
wherein said determination means (405) is adapted to perform the determination<br>
on the basis of said access restriction information and said access qualification information.<br>
6.	A communication device as claimed in claim 5, wherein said determination means<br>
(405) is adapted to not perform the determination as to whether to permit access to the<br>
received content, when it is designated, as claimed in said access restriction information<br>
stored in association with the received content, that access to the received content is not<br>
restricted.<br>
7.	A communication device as claimed in claim 5, wherein said determination means<br>
(405) is adapted to perform he determination as to whether to permit access to the received<br><br>
content, when it is designated, as claimed in said access restriction information stored in<br>
association with the received content, that access to the received content is restricted.<br>
8.	A communication device as claimed in claim 5, wherein said access restriction<br>
information is provided by a content provider (10) which provides content to said<br>
communication device.<br>
9.	A communication device as claimed in claim 1, wherein said storing means (420)<br>
is adapted to store, in a case that content is provided with access restriction information<br>
designating whether access to the content is restricted, in association with the received<br>
content, said access restriction information provided with the received content; and<br>
wherein said determination means (405) is adapted to detect whether access<br>
restriction information is stored in association with the requested content, and to perform,<br>
in a case that a result of the detection shows that access restriction information is not stored<br>
in association with the requested content, the determination on the basis of said access<br>
qualification information, while to perform, in a case that a result of the detection shows<br>
that access restriction information is stored in association with the requested content, the<br>
determination on the basis of said access restriction information and said access<br>
qualification information.<br>
10.	A communication device as claimed in claim 1, wherein said determination means<br>
(405) is adapted to instruct said any one of said plurality of data storage modules (50)<br>
connecting to said communication device when access to the stored content in said non-<br>
volatile memory storage means (420) is requested, to perform a predetermined operation<br>
using said access qualification information stored in said any one of said plurality of data<br>
storage modules (50), to check upon receiving a result of said predetermined operation<br>
from said any one of said plurality of data storage modules (50), a validity of the result<br>
using access qualification information stored in association with the stored content by said<br><br>
storing means (420), to determine that access to the stored content is permitted in a case<br>
that said any one of said plurality of data storage modules (50) connecting to said<br>
communication device when access to the stored content is requested agrees with said any<br>
one of said plurality of data modules connecting to said communication device at the time<br>
of receiving the content.<br>
11.	A communication device as claimed in claim 10, wherein said access qualification<br>
information comprises authentication information for authenticating a valid user of<br>
respective data storage modules (50).<br>
12.	A communication device as claimed in claim 11,<br>
wherein each of said plurality of data storage modules (50) is adapted to store<br>
identification information for identifying respective data storage modules (50) or for<br>
identifying a valid user of respective data storage modules (50);<br>
wherein said storing means (420) is adapted to store, in association with the<br>
received content, authentication information and identification information specifying said<br>
any one of said plurality of data storage modules (50) connecting to said communication<br>
device at the time of receiving the content; and<br>
wherein said determination means (405) is adapted to check a validity of the result<br>
of said predetermined operation, using authentication information stored in association with<br>
the stored content by said storing means (420), and to compare identification information of<br>
said any one of said plurality of data storage modules (50) connecting to said<br>
communication device when access to the stored content is requested, to said identification<br>
information stored in association with the requested content, to determine that access to the<br>
stored content is permitted in a case that said any one of said plurality of data storage<br>
modules (50) connecting to said communication device when access to the stored content is<br>
requested agrees with said any one of said plurality of data storage modules (50) connecting<br>
to said communication device at the time of receiving the content.<br><br>
13.	A communication device as claimed in claim 10,<br>
wherein said access qualification information stored in said each of said plurality<br>
of data storage modules (50) comprises a private/public key pair of a valid user of<br>
respective data storage modules (50);<br>
wherein said storing means (420) is adapted to store, in association with the<br>
received content, a public key specifying said any one of said plurality of data storage<br>
modules (50) connecting to said communication device at the time of receiving the content;<br>
and<br>
wherein said determination means (405) is adapted to instruct said any one of said<br>
plurality of data storage modules (50) connecting to said communication device when<br>
access to the stored content is requested, to perform a predetermined operation using a<br>
private key stored in said any one of said plurality of data storage modules (50), and to<br>
check a validity of the result of said predetermined operation, using a public key stored in<br>
association with the stored content by said storing means (420).<br>
14.	A communication device as claimed in claim 13,<br>
wherein each of said plurality of data storage modules (50) is adapted to store<br>
identification information for identifying respective data storage modules (50) or for<br>
identifying a valid user of respective data storage modules (50);<br>
wherein said storing means (420) is adapted to store, in association with the<br>
received content, a public key and identification information specifying said any one of said<br>
plurality of data storage modules (50) connecting to said communication device at the time<br>
of receiving the content; and<br>
wherein said determination means (405) is adapted to check a validity of the result<br>
of said predetermined operation, using a public key stored in association with the stored<br>
content, and to compare identification information of said any one of said plurality of data<br>
storage modules (50) connecting to said communication device when access to the stored<br>
content is requested, to said identification information stored in association with the<br><br>
requested content, to determine that access to the stored content is permitted in a case that<br>
said any one of said plurality of data storage modules (50) connecting to said<br>
communication device when access to the stored content is requested agrees with said any<br>
one of said plurality of data storage modules connecting to said communication device at<br>
the time of receiving the content.<br>
15.	A communication device as claimed in claim 1, comprising:<br>
encryption means (405) adapted to encrypt content identification information for<br>
identifying the content received by said communication means, using access qualification<br>
information obtained from said any one of said plurality of data storage modules (50)<br>
connecting to said communication device at the time of receiving the content;<br>
storing means (405, 404) adapted to store, in said any one of said plurality of data<br>
storage modules (50) connecting to said communication device at the time of receiving the<br>
content, said content identification information encrypted by said encryption means; and<br>
decryption means (405) adapted to decrypt one or a plurality of the encrypted<br>
content identification information obtained from any one of said plurality of data storage<br>
modules (50) connecting to said communication device when access to the stored content is<br>
requested, using access qualification information of said any one of said plurality of data<br>
storage modules (50); and<br>
wherein said determination means (405) is adapted to determine that access to the<br>
received content is permitted in a case that content identification information of the stored<br>
content agrees with any one of said one or a plurality of the encrypted content identification<br>
information decrypted by said decryption means.<br>
16.	A communication device as claimed in claim 1, comprising: updating means (405)<br>
adapted to update, in a case that a user replaces a first data storage module with a second<br>
data storage module, access qualification information of said first storage module stored, in<br>
association with received content, in said non-volatile memory storage means (420), to<br><br>
access qualification information of said second data storage module.<br>
17.	A communication device as claimed in claim 16, comprising: permission means<br>
(405) adapted to permit updating of said access qualification information by said updating<br>
means (405) in a case of receiving a signal which permits updating of said access<br>
qualification information from a service management device for managing a<br>
communication service provided to said communication device.<br>
18.	A communication device as claimed in claim 1,<br>
wherein, in a case that a user replaces a first data storage module with a second<br>
data storage module, said second data storage module is adapted to store access<br>
qualification information of said first data storage module in addition to access qualification<br>
information of said second data storage module; and<br>
wherein said determination means (405) is adapted to compare said access<br>
qualification information stored in association with the received content, to access<br>
qualification information of each of said first and second data storage modules obtained<br>
from said any one of said plurality of data storage modules (50) connecting to said<br>
communication device when access to the stored content is requested, and to determine that<br>
access to the stored content is permitted in a case that said access qualification information<br>
stored in association with the received content agrees with access qualification information<br>
of either one of said first or second data storage module.<br>
19.	A communication device as claimed in claim 1,<br>
wherein in a case that a user is an authorized user of a plurality of data storage<br>
modules (50, 51), one of said plurality of data storage modules said user is authorized to<br>
use stores access qualification information of one or more of others of said plurality of data<br>
storage modules said user is authorized to use, in addition to access qualification<br>
information of said one of said plurality of data storage modules; and<br><br>
wherein said determination means (405) is adapted to compare said access<br>
qualification information stored in association with the received content, to a plurality of<br>
access qualification information corresponding to said plurality of data storage modules<br>
(50, 51) said user is authorized to use, said plurality of access qualification information<br>
being obtained from said any one of said plurality of data storage modules (50) connecting<br>
to said communication device when access to the stored content is requested, and to<br>
determine that access to the stored content is permitted in a case that said access<br>
qualification information stored in association with the received content agrees with any of<br>
said plurality of access qualification information.<br>
20.	A communication device as claimed in claim 1,<br>
wherein said storing means (420) is adapted to store content identification<br>
information for identifying the received content in said any one of said plurality of data<br>
storage modules (50) connecting to said communication device at the time of receiving the<br>
content; and<br>
wherein said determination means (405) is adapted to determine that access to the<br>
stored content is permitted in a case that content identification information of the received<br>
content agrees with any one of a plurality of content identification information obtained<br>
from said any one of said plurality of data storage modules (50) connecting to said<br>
communication device when access to the stored content is requested.<br>
21.	A communication device as claimed in claim 1, wherein said access qualification<br>
information comprises identification information for receiving a communication service<br>
through the communication network.<br>
22.	A communication device as claimed in claim 1, wherein said access qualification<br>
information comprises identification information for identifying respective data storage<br>
modules (50).<br><br>
23.	A communication device as claimed in claim 1, wherein said access qualification<br>
information comprises authorization information for authenticating a valid user of<br>
respective data modules (50).<br>
24.	A communication device as claimed in claim 1,<br>
wherein said access qualification information stored in said each of said plurality<br>
of data storage modules (50) comprises a private/public key pair of a valid user of<br>
respective data storage modules (50);<br>
wherein said storing means (420) is adapted to store, in association with the<br>
received content, a public key specifying said any one of said plurality of data storage<br>
modules (50) connecting to said communication device at the time of receiving the content;<br>
and<br>
wherein said determination means (405) is adapted to determine whether to permit<br>
access to the stored content on the basis of said public key stored in said non-volatile<br>
memory in association with the content.<br>
25.	A communication device as claimed in claim 1, wherein each one of said plurality<br>
of data storage modules (50) comprises:<br>
authentication means (505) adapted to authenticate, when each data storage<br>
module (50) connects to said communication device, whether a user of said communication<br>
device is a valid user of respective data storage modules (50); and<br>
determination means (505) adapted to determine, on the basis of a result of<br>
authentication by said authentication means, whether to permit said communication device<br>
to access data stored in respective data storage modules.<br>
26.	A communication device as claimed in claim 1, wherein said data storage module<br>
(50) is an IC card.<br><br>
27.	A communication device as claimed in claim 1, wherein said data storage module<br>
(50) is a recording medium.<br>
28.	A communication device as claimed in claim 1,<br>
wherein said determination means (505) is adapted to determine, from among one<br>
or a plurality of content sets stored in said non-volatile memory storage means (420), one or<br>
more content sets corresponding to access qualification information of any one of said<br>
plurality of data storage modules (50) connecting to said communication device at the time<br>
of determination, as access-permitted content;<br>
the device comprising: presenting means (406) adapted to present said access-<br>
permitted content to a user of said any one of said plurality of data storage modules (50)<br>
connecting to said communication device at the time of determination.<br>
29.	A communication device as claimed in claim 28, wherein said presenting means<br>
(406) is adapted to display information with respect to content to which access by said user<br>
is permitted.<br>
30.	A communication device as claimed in claim 28, wherein said presenting means<br>
(406) is adapted to display said access-permitted content and access-prohibited content in<br>
different means of presentations.<br>
31.	A communication device as claimed in claim 28,<br>
wherein content is provided with access restriction information designating<br>
whether to restrict access to said content;<br>
wherein said storing means (420) is adapted to store, in association with the<br>
received content, access restriction information provided with the received content; and<br>
wherein said presentation means (406) is adapted to present as access-permitted<br>
content, from among one or a plurality of content sets stored in said non-volatile memory<br><br>
storage means (420), those content sets to which access is permitted as claimed in said<br>
access restriction information stored in association with the received content.<br>
32.	A communication device as claimed in claim 28, comprising:<br>
encryption means (405) adapted to encrypt content identification information for<br>
identifying the content received by said communication means (401), using access<br>
qualification information obtained from said any one of said plurality of data storage<br>
modules (50) connecting to said communication device at the time of receiving the content;<br>
storing means (420) adapted to store, in said any one of said plurality of data<br>
storage modules (50) connecting to said communication device at the time of receiving the<br>
content, said content identification information encrypted by said encryption means (405);<br>
and<br>
decryption means (405) adapted to decrypt one or a plurality of the encrypted<br>
content identification information obtained from any one of said plurality of data storage<br>
modules (50) connecting to said communication device when access to the stored content is<br>
requested, using access qualification information of said any one of said plurality of data<br>
storage modules (50) connecting to said communication device;<br>
wherein said determination means (405) is adapted to determine as access-<br>
permitted content, from among one or a plurality of content sets stored in said non-volatile<br>
memory storage means (420), one or more content sets whose content identification<br>
information of the stored content agrees with any one of said one or a plurality of the<br>
encrypted content identification information decrypted by said decryption means (405); and<br>
wherein said presenting means (406) is adapted to present, to said user, said one or<br>
more content sets determined as access-permitted content by said determination means.<br>
33.	A communication device as claimed in claim 28,<br>
wherein, in a case that a user replaces a first data storage module with a second<br>
data storage module, said second data storage module is adapted to store access<br><br>
qualification information of said first data storage module in addition to access qualification<br>
information of said second data storage module;<br>
wherein said determination means (405) is adapted to determine, from among one<br>
or a plurality of content sets stored in said non-volatile memory storage means (420) by<br>
said storing means (420), one or more content sets corresponding to access qualification<br>
information of either one of said first or second data storage module obtained from any one<br>
of said plurality of data storage modules (50) connecting to said communication device at<br>
the time of determination, as access-permitted content; and<br>
wherein said presenting means (406) is adapted to present, to said user, said one or<br>
more content sets determined as access-permitted content by said determination means<br>
(405).<br>
34. A communication device as claimed in claim 28,<br>
wherein, in a case that a user is authorized to use a plurality of data storage<br>
modules (50), one of said plurality of data storage modules (50) said user is authorized to<br>
use stores access qualification information of one or more of others of said plurality of data<br>
storage modules said user is authorized to use in addition to access qualification<br>
information of said one of said plurality of data storage modules said user is authorized to<br>
use;<br>
wherein said determination means (405) is adapted to determine, from among one<br>
or a plurality of content sets stored in said non-volatile memory storage means by said<br>
storing means (420), one or more content sets corresponding to a plurality of access<br>
qualification information corresponding to said plurality of data storage modules (50) said<br>
user is authorized to use, said plurality of access qualification information being obtained<br>
from any one of said plurality of data storage modules (50) connecting to said<br>
communication device at the time of determination, as access-permitted content; and<br>
wherein said presenting means (406) is adapted to present, to said user, said one or<br>
more content sets determined as access-permitted content by said determination means<br><br>
(405).<br>
35.	A communication device as claimed in claim 28,<br>
wherein said storing means (420) is adapted to store content identification<br>
information for identifying the received content in said any one of said data storage<br>
modules (50) connecting to said communication device at the time of receiving the content;<br>
wherein said determination means (405) is adapted to determine, from among one<br>
or a plurality of content sets stored in said non-volatile memory storage means (420), one or<br>
more content sets corresponding to any of a plurality of content identification information<br>
obtained from any one of said plurality of data storage modules (50) connecting to said<br>
communication device at the time of determination, as access-permitted content; and<br>
wherein said presenting means (406) is adapted to present, to said user, said one or<br>
more content sets determined as access-permitted content by said determination means<br>
(405).<br>
36.	A communication device as claimed in claim 1, wherein said communication<br>
device is a portable phone able to perform packet communication.<br>
37.	A communication device as claimed in claim 1, wherein said content is an<br>
application program.<br>
38.	A method for restricting content access, for use in a communication device (41);<br>
wherein access qualification information is identification information unique to<br>
any one of a plurality of data storage modules (50) connecting to the mobile device (41)<br>
and is stored in each of a plurality of data storage modules (50);<br>
the method comprising:<br>
receiving, at said communication device (41), content from a communication<br>
network;<br><br>
storing, when content is received from the communication network, in association<br>
with the content received in said receiving step, access qualification information specifying<br>
said any one of said plurality of data storage modules (50) connecting to said<br>
communication device at the time of receiving the content, in a non-volatile memory<br>
storage means (420) of said communication device; and<br>
determining in said communication device, when access to the stored content in<br>
said storing step is requested, whether to permit access to the stored content on the basis of<br>
said access qualification information stored in association with said received content.<br>
39. The method as claimed in claim 38, wherein said determining step includes<br>
determining, from among one or a plurality of content sets stored in said nonvolatile<br>
memory storage means (420) by said storing means (420), one or more content sets<br>
corresponding to access qualification information of any one of said plurality of data<br>
storage modules (50) connecting to said communication device at the time of<br>
determination, as access-_permitted content;<br>
the method comprising: presenting said access-permitted content to a user of said<br>
any one of said plurality of data storage modules (50) connecting to said communication<br>
device at the time of determination.</td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjItS09MLTIwMDUtKDEzLTEyLTIwMTIpLUNPUlJFU1BPTkRFTkNFLnBkZg==" target="_blank" style="word-wrap:break-word;">62-KOL-2005-(13-12-2012)-CORRESPONDENCE.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjItS09MLTIwMDUtQUJTVFJBQ1QtMS4xLnBkZg==" target="_blank" style="word-wrap:break-word;">62-KOL-2005-ABSTRACT-1.1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjIta29sLTIwMDUtYWJzdHJhY3QucGRm" target="_blank" style="word-wrap:break-word;">62-kol-2005-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjItS09MLTIwMDUtQU1FTkRFRCBDTEFJTVMucGRm" target="_blank" style="word-wrap:break-word;">62-KOL-2005-AMENDED CLAIMS.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjIta29sLTIwMDUtYXNzaWdubWVudC5wZGY=" target="_blank" style="word-wrap:break-word;">62-kol-2005-assignment.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjItS09MLTIwMDUtQ0FOQ0VMTEVEIFBBR0VTLnBkZg==" target="_blank" style="word-wrap:break-word;">62-KOL-2005-CANCELLED PAGES.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjIta29sLTIwMDUtY2xhaW1zLnBkZg==" target="_blank" style="word-wrap:break-word;">62-kol-2005-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjIta29sLTIwMDUtY29ycmVzcG9uZGVuY2UucGRm" target="_blank" style="word-wrap:break-word;">62-kol-2005-correspondence.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjIta29sLTIwMDUtY29ycmVzcG9uZGVuY2UxLjEucGRm" target="_blank" style="word-wrap:break-word;">62-kol-2005-correspondence1.1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjItS09MLTIwMDUtREVTQ1JJUFRJT04gKENPTVBMRVRFKS0xLjEucGRm" target="_blank" style="word-wrap:break-word;">62-KOL-2005-DESCRIPTION (COMPLETE)-1.1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjIta29sLTIwMDUtZGVzY3JpcHRpb24gKGNvbXBsZXRlKS5wZGY=" target="_blank" style="word-wrap:break-word;">62-kol-2005-description (complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjItS09MLTIwMDUtRFJBV0lOR1MtMS4xLnBkZg==" target="_blank" style="word-wrap:break-word;">62-KOL-2005-DRAWINGS-1.1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjIta29sLTIwMDUtZHJhd2luZ3MucGRm" target="_blank" style="word-wrap:break-word;">62-kol-2005-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjIta29sLTIwMDUtZXhhbWluYXRpb24gcmVwb3J0LnBkZg==" target="_blank" style="word-wrap:break-word;">62-kol-2005-examination report.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjIta29sLTIwMDUtZXhhbWluYXRpb24gcmVwb3J0MS4xLnBkZg==" target="_blank" style="word-wrap:break-word;">62-kol-2005-examination report1.1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjIta29sLTIwMDUtZm9ybSAxLnBkZg==" target="_blank" style="word-wrap:break-word;">62-kol-2005-form 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjIta29sLTIwMDUtZm9ybSAxMy4xLnBkZg==" target="_blank" style="word-wrap:break-word;">62-kol-2005-form 13.1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjItS09MLTIwMDUtRk9STSAxMy5wZGY=" target="_blank" style="word-wrap:break-word;">62-KOL-2005-FORM 13.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjIta29sLTIwMDUtZm9ybSAxOC5wZGY=" target="_blank" style="word-wrap:break-word;">62-kol-2005-form 18.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjItS09MLTIwMDUtRk9STSAyLTEuMS5wZGY=" target="_blank" style="word-wrap:break-word;">62-KOL-2005-FORM 2-1.1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjIta29sLTIwMDUtZm9ybSAyLnBkZg==" target="_blank" style="word-wrap:break-word;">62-kol-2005-form 2.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjIta29sLTIwMDUtZm9ybSAzLnBkZg==" target="_blank" style="word-wrap:break-word;">62-kol-2005-form 3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjIta29sLTIwMDUtZm9ybSA1LjEucGRm" target="_blank" style="word-wrap:break-word;">62-kol-2005-form 5.1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjIta29sLTIwMDUtZm9ybSA1LnBkZg==" target="_blank" style="word-wrap:break-word;">62-kol-2005-form 5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjIta29sLTIwMDUtZ3BhLnBkZg==" target="_blank" style="word-wrap:break-word;">62-kol-2005-gpa.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjIta29sLTIwMDUtZ3BhMS4xLnBkZg==" target="_blank" style="word-wrap:break-word;">62-kol-2005-gpa1.1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjIta29sLTIwMDUtZ3JhbnRlZC1hYnN0cmFjdC5wZGY=" target="_blank" style="word-wrap:break-word;">62-kol-2005-granted-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjIta29sLTIwMDUtZ3JhbnRlZC1jbGFpbXMucGRm" target="_blank" style="word-wrap:break-word;">62-kol-2005-granted-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjIta29sLTIwMDUtZ3JhbnRlZC1kZXNjcmlwdGlvbiAoY29tcGxldGUpLnBkZg==" target="_blank" style="word-wrap:break-word;">62-kol-2005-granted-description (complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjIta29sLTIwMDUtZ3JhbnRlZC1kcmF3aW5ncy5wZGY=" target="_blank" style="word-wrap:break-word;">62-kol-2005-granted-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjIta29sLTIwMDUtZ3JhbnRlZC1mb3JtIDEucGRm" target="_blank" style="word-wrap:break-word;">62-kol-2005-granted-form 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjIta29sLTIwMDUtZ3JhbnRlZC1mb3JtIDIucGRm" target="_blank" style="word-wrap:break-word;">62-kol-2005-granted-form 2.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjIta29sLTIwMDUtZ3JhbnRlZC1zcGVjaWZpY2F0aW9uLnBkZg==" target="_blank" style="word-wrap:break-word;">62-kol-2005-granted-specification.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjItS09MLTIwMDUtT1RIRVJTLnBkZg==" target="_blank" style="word-wrap:break-word;">62-KOL-2005-OTHERS.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjIta29sLTIwMDUtb3RoZXJzMS4xLnBkZg==" target="_blank" style="word-wrap:break-word;">62-kol-2005-others1.1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjItS09MLTIwMDUtUEEucGRm" target="_blank" style="word-wrap:break-word;">62-KOL-2005-PA.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjItS09MLTIwMDUtUEVUSVRJT04gVU5ERVIgUlVMRSAxMzcucGRm" target="_blank" style="word-wrap:break-word;">62-KOL-2005-PETITION UNDER RULE 137.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjItS09MLTIwMDUtUkVQTFkgVE8gRVhBTUlOQVRJT04gUkVQT1JULnBkZg==" target="_blank" style="word-wrap:break-word;">62-KOL-2005-REPLY TO EXAMINATION REPORT.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjIta29sLTIwMDUtcmVwbHkgdG8gZXhhbWluYXRpb24gcmVwb3J0MS4xLnBkZg==" target="_blank" style="word-wrap:break-word;">62-kol-2005-reply to examination report1.1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NjIta29sLTIwMDUtc3BlY2lmaWNhdGlvbi5wZGY=" target="_blank" style="word-wrap:break-word;">62-kol-2005-specification.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="256789-sterilizer-casette-handling-system-with-data-link.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="256791-filter-containing-a-metal-phthalocyanine-and-a-polycationic-polymer.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>256790</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>62/KOL/2005</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>31/2013</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>02-Aug-2013</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>29-Jul-2013</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>01-Feb-2005</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>NTT DOCOMO INC.</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>11-1, NAGATACHO 2-CHOME, CHIYODA-KU, TOKYO 100-6150</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>TATSUAKI WAKABAYASHI</td>
											<td>C/O INTELLECTUAL PROPERTY DEPARTMENT, NTT DOCOMO, INC., 11-1, NAGATACHO, 2-CHOME, CHIYODA-KU, TOKYO 100-6150</td>
										</tr>
										<tr>
											<td>2</td>
											<td>KAZUHIRO YAMADA</td>
											<td>C/O INTELLECTUAL PROPERTY DEPARTMENT, NTT DOCOMO, INC., 11-1, NAGATACHO, 2-CHOME, CHIYODA-KU, TOKYO 100-6150</td>
										</tr>
										<tr>
											<td>3</td>
											<td>HISATOSHI EGUCHI</td>
											<td>C/O INTELLECTUAL PROPERTY DEPARTMENT, NTT DOCOMO, INC., 11-1, NAGATACHO, 2-CHOME, CHIYODA-KU, TOKYO 100-6150</td>
										</tr>
										<tr>
											<td>4</td>
											<td>FUMIAKI MIURA</td>
											<td>C/O INTELLECTUAL PROPERTY DEPARTMENT, NTT DOCOMO, INC., 11-1, NAGATACHO, 2-CHOME, CHIYODA-KU, TOKYO 100-6150</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>G06F 12/14</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>N/A</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td></td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>2001-392068</td>
									<td>2001-12-25</td>
								    <td>Japan</td>
								</tr>
								<tr>
									<td>2</td>
									<td>2002-230150</td>
									<td>2002-08-07</td>
								    <td>Japan</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/256790-a-communication-device by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 09:09:59 GMT -->
</html>
