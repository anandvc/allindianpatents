<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/272663-method-to-improve-voip-media-flow-quality-by-adapting-speech-encoder-and-lqc-based-on-edge-mcs by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 00:36:41 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 272663:METHOD TO IMPROVE VOIP MEDIA FLOW QUALITY BY ADAPTING SPEECH ENCODER AND LQC BASED ON EDGE MCS</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">METHOD TO IMPROVE VOIP MEDIA FLOW QUALITY BY ADAPTING SPEECH ENCODER AND LQC BASED ON EDGE MCS</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A voice-over-IP (VoIP) connection is established over a radio interface with a mobile radio station. A current radio condition for the VoIP connection is determined, and from that, a modulation and coding scheme (MCS) for a portion of the VoIP connection. A VoIP voice encoding mode for a portion of the VoIP connection is selected based on the determined modulation coding scheme. VoIP voice is then encoded into a number of VoIP encoded frames using the selected VoIP voice encoding mode which has an associated bit rate. An optimal number of VoIP encoded frames is included in a VoIP packet for transport over the VoIP connection given the selected voice encoding mode and the selected MCS. Other adjustments may be made to ensure robustness of the VoIP connection and/or to maximize capacity.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>TECHNICAL FIELD<br>
The present invention pertains to telecommunications and finds advantageous<br>
example application to Voice over Internet Protocol (VoIP) communications.<br>
BACKGROUND<br>
VoIP is the transport of voice traffic using the Internet Protocol (IP). In the mobile<br>
world, VoIP means using a packet-switched (PS) service for transport of Internet Protocol<br>
(IP) packets which contain, e.g., Adaptive Multi-Rate (AMR) codec speech frames for voice<br>
mobile phone calls. A packet-switched connection is often simply referred to as a data<br>
connection.<br>
Circuit-switched networks use circuit switching for carrying voice traffic where the<br>
network resources are statically allocated from the sender to receiver before the start of the<br>
message transfer, thus creating a "circuit." The resources remain dedicated to the circuit<br>
during the entire message transfer and the entire message follows the same path. While this<br>
arrangement works quite well to transfer voice, IP is an attractive choice for voice transport<br>
for many reasons including lower equipment costs, integration of voice and data applications<br>
including multi-media like email, instant messaging, video, the world wide web, etc., lower<br>
bandwidth requirements, and the widespread availability of IP.<br>
In packet-switched networks, the message is broken into packets, each of which can<br>
take a different route to the destination where the packets are recompiled into the original<br>
message. The packet switched (PS) service utilized for VoIP can be, for example, GPRS<br>
(General Packet Radio Service), EDGE (Enhanced Data Rates for Global Evolution), or<br>
WCDMA (Wideband Code Division Multiple Access). Each of these example services<br>
happen to be built upon the Global System for Mobile communications (GSM), a second<br>
generation ("2G") digital radio access technology originally developed for Europe. GSM was<br>
enhanced in 2.5G to include technologies such as GPRS. The third generation (3G)<br>
comprises mobile telephone technologies covered by the International Telecommunications<br>
Union (ITU) IMT-2000 family. The Third Generation Partnership Project (3GPP) is a group<br>
of international standards bodies, operators, and vendors working toward standardizing<br>
WCDMA-based members of the IMT-2000.<br>
EDGE (sometimes referred to as Enhanced GPRS (EGPRS)) is a 3G technology that<br>
delivers broadband-like data speeds to mobile devices. EDGE allows consumers to connect<br>
2<br>
 <br>
to the Internet and send and receive data, including digital images, web pages and<br>
photographs, three times faster than possible with an ordinary GSM/GPRS network. EDGE<br>
enables GSM operators to offer higher-speed mobile-data access, serve more mobile-data<br>
customers, and free up GSM network capacity to accommodate additional voice traffic.<br>
EDGE uses the same TDMA (Time Division Multiple Access) frame structure, logical<br>
channels, and 200kHz carrier bandwidth as GSM networks, which allows existing cell plans<br>
to remain intact.<br>
In EDGE technology, a base transceiver station (BTS) communicates with a mobile<br>
station (e.g., a cell phone, mobile terminal or the like, including computers such as laptops<br>
with mobile termination). The base transceiver station (BTS) typically has plural transceivers<br>
(TRX). A time division multiple access (TDMA) radio communication system like GSM,<br>
GPRS, and EDGE divides the time space into time slots on a particular radio frequency.<br>
Time slots are grouped into frames, with users being assigned one or more time slots. In<br>
packet-switched TDMA, even though one user might be assigned one or more time slots,<br>
other users may use the same time slot(s). So a time slot scheduler is needed to ensure that<br>
the time slots are allocated properly and efficiently.<br>
EDGE offers nine different Modulation and Coding Schemes (MSCs): MCS1<br>
through MCS9. Lower coding schemes (e.g., MCS1-MCS2) deliver a more reliable but<br>
slower bit rate and are suitable for less optimal radio conditions. Higher coding schemes<br>
(e.g., MCS8-MCS9) deliver a much higher bit rate, but require better radio conditions. Link<br>
Quality Control (LQC) selects which MCS to use in each particular situation based on the<br>
current radio conditions.<br>
In EDGE, the LQC selects a MCS for radio link control (RLC) data blocks for each<br>
temporary block flow (TBF). A TBF is a logical connection between a mobile station (MS)<br>
and a packet control unit (PCU). The PCU is usually (but not necessarily) located the radio<br>
access network, e.g., in the base station controller (BSC). A TBF is used for either uplink or<br>
downlink transfer of GPRS packet data. The actual packet transfer is made on physical data<br>
radio channels (PDCHs). The bit rate for a TBF is thus effectively selected by selecting a<br>
MCS, and changing the MCS for a TBF changes its bit rate.<br>
Advanced Multi-rate (AMR) speech frames contain speech, typically 20 milliseconds<br>
of speech, encoded by an AMR codec. Voice encoder, vocoder, and codec are used<br>
interchangeably and refer to encoding speech/voice into a compressed digital format. An<br>
AMR codec supports unequal bit-error detection and protection (UED/UEP). The UEP/UED<br>
mechanisms allow more efficient transmission of speech over a lossy network by sorting the<br>
3<br>
 <br>
bits into perceptually more and less sensitive classes. A frame is only declared damaged and<br>
not delivered if there are one or more bit errors found in the most sensitive bits. On the other<br>
hand, speech quality is still deemed acceptable if the speech frame is delivered with one or<br>
more bit errors in the less sensitive bits, based on human aural perception. An important<br>
characteristic for a high bit error rate (BER) environment like EDGE is the robustness for<br>
packet loss provided by an AMR codec through redundancy and bit errors and sensitivity<br>
sorting.<br>
Another benefit of AMR is adaptive rate adaptation for switching smoothly between<br>
codec modes on-the-fly. A large number of AMR codec modes may be used with varying bit<br>
rates and resulting voice quality. An AMR codec may include multiple narrowband codec<br>
modes: 12.2, 10.2, 7.95, 7.4, 6.7, 5.9, 5.5 and 4.75 kbit/s. Even a wideband (WB) mode<br>
AMR WB at 12.65 kbit/s is available.<br>
Typically, for a VoIP connection, the end points of the VoIP communication, e.g., a<br>
calling mobile station A and a called mobile station B, negotiate which AMR codec mode<br>
will be used for the VoIP connection. If mobile A indicates it can use AMR codec modes 1,<br>
2, and 3 with a default mode to AMR codec mode 2, and if B indicates it can use AMR codec<br>
modes 2, 3, and 4 with the default to AMR codec mode 2, then AMR codec mode 2 will<br>
likely be selected. The initial selection of AMR codec mode then is typically made at the<br>
application protocol layer based on a desired bit rate for the communication. As a result, the<br>
codec mode selection for VoIP calls is made at the application layer without any knowledge<br>
of current radio channel conditions or selected MCS. The determination of current radio<br>
channel conditions and the selection of MCS for the transmission of a next radio block of<br>
data are both performed at lower radio access protocol layers, i.e., at the RLC/MAC layers.<br>
Because EDGE varies the bit rate for a TBF by selecting a MCS depending on the<br>
radio conditions at each specific radio block period, the bit rate changes very quickly. As a<br>
result, a static selection of a VoIP AMR encoder or codec mode often leads to less than<br>
optimum performance, e.g., a lower voice quality than necessary. For example, if a<br>
maximum bit rate, high voice quality encoder or codec mode is selected, it might sometimes<br>
generate data at a bit rate higher than the current over-the-air transfer rate permits, leading to<br>
VoIP packets arriving too late after the playout time has passed at the receiving end. Another<br>
problem with static selection of a VoIP AMR encoder or codec mode is that if a selected<br>
VoIP encoder or codec mode is a low bit rate, low voice quality encoder when the current<br>
radio conditions are quite good, much less data is sent in the radio block than could have been<br>
sent. In other words, the party at the receiving end could have received much better voice<br>
quality at no extra bandwidth expense, but did not because of poor resource utilization.<br>
4<br>
 <br>
A related problem is inefficient hardware and bandwidth utilization. In order to reach<br>
the higher bit rates offered with EDGE, each radio block for the particular MCS encoder<br>
should be as packed full as possible. For example, an MCS-8 radio block can hold 1088 bits.<br>
If the encoder has only 500 bits to send, then less than 50% of the possible EDGE throughput<br>
is utilized, which translates into lower bit rates.<br>
One approach to these problems might be to change the mode of the voice encoder or<br>
codec mode depending on a measured overall data throughput over the radio interface. But<br>
this approach is not well suited for "bearers", like EDGE TBFs, that change every radio block<br>
with changed radio conditions. In other words, even if a user negotiates a particular bit rate<br>
when the TBF is established, the actual bit rate over that TBF varies depending on the<br>
quickly changing current radio conditions. Thus, by the time that the measured overall<br>
throughput is received at the network entity that can change the mode of the voice encoder,<br>
quickly changing radio conditions will have outdated that throughput value.<br>
SUMMARY<br>
The inventors conceived of a better approach that solves these problems and improves<br>
voice-over-IP (VoIP) quality and capacity. A VoIP connection is established over a radio<br>
interface with a mobile radio station. A current radio condition for the VoIP connection is<br>
determined, and from that, a modulation and coding scheme (MCS) for a portion of the VoIP<br>
connection is selected. A VoIP voice encoding or codec mode for a portion of the VoIP<br>
connection is determined based on the selected modulation coding scheme. VoIP voice is<br>
then encoded into a number of VoIP encoded frames using the selected VoIP voice encoding<br>
mode, which has an associated bit rate. An optimal number of VoIP encoded frames is<br>
included in a VoIP packet for transport over the VoIP connection given the selected voice<br>
encoding mode and the selected MCS. The number of VoIP encoded frames is variable and<br>
may be varied with changing MCS.<br>
Other adjustments may be made to ensure robustness and/or better performance of the<br>
VoIP connection or to increase the overall capacity of the communications system supporting<br>
the VoIP connection as well as other connections. For improved robustness, a VoIP voice<br>
encoding mode may be selected at a lower data rate than what the determined MCS can<br>
support, and/or an MCS may be selected that is lower than the MCS determined current<br>
radio condition. If the radio communications system is a time division multiple access<br>
(TDMA) type of system, like GPRS and EDGE, one more time slot that the determined<br>
5<br>
 <br>
number of time slots needed to transmit the VoIP packet may also be used to improve<br>
robustness.<br>
Other adjustments may be made to increase the capacity of the VoIP connection. For<br>
example, the created VoIP packet is used to form one or more radio blocks for transmission<br>
over the radio interface. The number of VoIP encoded frames included in the VoIP packet is<br>
intentionally selected to "fill-in" the radio transmission block given the selected voice<br>
encoding mode and the selected MCS.<br>
The approach is dynamic rather than static. By providing the VoIP voice coder at the<br>
application layer with information about the amount of actual voice bits that can be carried<br>
per radio block given the current radio conditions and selected MCS, the voice coder can<br>
make more intelligent decisions about the voice coding parameters to be used. Changes in<br>
radio conditions for the VoIP connection are detected, and one or more changes may be made<br>
in response thereto. When radio conditions have deteriorated, one or more the following may<br>
be performed: lower the MCS, lower the rate of the VoIP voice coder, increase the number<br>
of time slots, and/or adjust the number of VoIP voice coder frames per IP packet to fill in the<br>
radio block for the selected MCS and the selected VoIP voice coder rate. On the other hand,<br>
when radio conditions improve, one or more the following may be performed: increase the<br>
MCS, increase the rate of the VoIP voice coder, decrease the number of time slots, and/or<br>
adjust the number of VoIP voice coder frames per IP packet to fill in the radio block for the<br>
selected MCS and the selected VoIP voice coder rate.<br>
BRIEF DESCRIPTION OF THE DRAWINGS<br>
Fig. 1 is a simplified function block diagram of an example mobile radio<br>
communications system;<br>
Fig. 2 is a communications protocol diagram of an EDGE (Enhanced Data Rates for<br>
Global Evolution) system;<br>
Fig. 2 is a flowchart showing example non-limiting steps or actions performed by a<br>
radio resource assignment controller to assign radio resources based on whether the requested<br>
data connection is determined to be symmetric or asymmetric;<br>
6<br>
 <br>
Fig. 3 is a simplified function block diagram of mobile station showing the interaction<br>
between protocol layers and VoIP functions performed at different protocol layers in<br>
accordance with one non-limiting example uplink implementation;<br>
Fig. 4 is a simplified function block diagram showing the interaction between VoIP<br>
functions performed at different nodes including an IMS node, a BSC node, and a BTS node<br>
in accordance with one non-limiting example downlink implementation;<br>
Fig. 5 is a block diagram illustrating an example implementation details in a Packet<br>
Control Unit (PCU);<br>
Fig. 6 is a block diagram illustrating an example implementation details in a BTS;<br>
Fig. 7 is a block diagram illustrating an example implementation details in an IMS<br>
node; and<br>
Fig. 8 is a block diagram illustrating an example implementation details in a mobile<br>
station;<br>
Figure 9 is a graph illustrating a number of timeslots to transmit VoIP data at different<br>
C/I for an AMR 4.75 NB codec at 2 AMR frames per IP packet; and<br>
Figure 10 is a graph illustrating a number of timeslots to transmit VoIP data at<br>
different C/I for an AMR 12.65 WB codec at 2 AMR frames per IP packet.<br>
DETAILED DESCRIPTION<br>
In the following description, for purposes of explanation and not limitation, specific<br>
details are set forth such as particular architectures, interfaces, techniques, etc. in order to<br>
provide a thorough understanding of the present invention. However, it will be apparent to<br>
those skilled in the art that the present invention may be practiced in other embodiments that<br>
depart from these specific details. That is, those skilled in the art will be able to devise<br>
various arrangements which, although not explicitly described or shown herein, embody the<br>
principles of the invention and are included within its spirit and scope. In some instances,<br>
detailed descriptions of well-known devices, circuits, and methods are omitted so as not to<br>
obscure the description of the present invention with unnecessary detail. All statements<br>
herein reciting principles, aspects, and embodiments of the invention, as well as specific<br>
7<br>
 <br>
examples thereof, are intended to encompass both structural and functional equivalents<br>
thereof. Additionally, it is intended that such equivalents include both currently known<br>
equivalents as well as equivalents developed in the future, i.e., any elements developed that<br>
perform the same function, regardless of structure.<br>
Thus, for example, it will be appreciated by those skilled in the art that block<br>
diagrams herein can represent conceptual views of illustrative circuitry embodying the<br>
principles of the technology. Similarly, it will be appreciated that any flow charts, state<br>
transition diagrams, pseudocode, and the like represent various processes which may be<br>
substantially represented in computer readable medium and so executed by a computer or<br>
processor, whether or not such computer or processor is explicitly shown.<br>
The functions of the various elements including functional blocks labeled as<br>
"processors" or "controllers" may be provided through the use of dedicated hardware as well<br>
as hardware capable of executing software in association with appropriate software. When<br>
provided by a processor, the functions may be provided by a single dedicated processor, by a<br>
single shared processor, or by a plurality of individual processors, some of which may be<br>
shared or distributed. Moreover, explicit use of the term "processor" or "controller" should<br>
not be construed to refer exclusively to hardware capable of executing software, and may<br>
include, without limitation, digital signal processor (DSP) hardware, read only memory<br>
(ROM) for storing software, random access memory (RAM), and non-volatile storage.<br>
Fig. 1 shows an example mobile radio communications system 10 that couples to one<br>
or more circuit-switched networks 12 like the Public Switched Telephone Network (PSTN)<br>
and/or the Integrated Services Digital Network (ISDN), etc. via a mobile switching center<br>
(MSC) 16 core network node and to one or more packet-switched networks 14 like the<br>
Internet via a serving GPRS support node (SGSN) 20 and a gateway GPRS support node<br>
(GGSN) 22. The PSTN 12 and ISDN 14 are circuit switched core networks and the MSC<br>
core network node 16 supports circuit-switched services. The Internet is a packet-switched<br>
core network, and the SGSN 20 and GGSN 22 are packet-switched core network nodes. In<br>
addition to these core networks and associated core network nodes is an Internet Protocol<br>
Multimedia Subsystem (IMS) 13 which provides IP-based services, like VoIP, and<br>
multimedia services. The IMS 13 may include a media resource function (MRF) 15 to<br>
deliver media based services. The IMS is coupled to the core networks, to the GGSN 22, and<br>
the SGSN 20. The MSC 16, the IMS 13, and the SGSN 20 are coupled to a mobile<br>
subscriber database like a home subscriber server (HSS) 18 and to a radio access network.<br>
8<br>
 <br>
In this non-limiting example, the radio access network is GSM-based and is referred<br>
to as a base station system (BSS) 24. The technology described here in this type of GSM-<br>
based/EDGE system made be applied to other type radio access networks. The BSS 24<br>
includes one or more base station controllers (BSCs) 26 (only one is illustrated) coupled to<br>
plural base transceiver stations (BTSs) 28. The base station controller 26 controls radio<br>
resources and radio connectivity for the cells served by the BTSs 28 under its control. The<br>
BTSs 28 communicate with mobile radio stations (MSs) 30 using radio communication over<br>
an air interface. Each base transceiver station (BTS) 28 serves one or more cells. For each<br>
served cell, the base transceiver station 28 provides a pool of radio transmission resources<br>
(typically managed and allocated by the BSC) for communicating with mobile stations in<br>
that cell. Each base station (BTS) 28 includes a controller as well as radio transceivers and<br>
baseband processing circuitry to handle the radio transmission and reception within each<br>
served cell.<br>
Each mobile station (MS) 30 includes a radio transceiver and data processing and<br>
control entities/functionalities for providing Voice over Internet Protocol (VoIP) capability.<br>
The person skilled in the art will recognize that the mobile station 30 and its data processing<br>
and control typically include numerous other functionalities and applications. The mobile<br>
station 30 also includes input/output devices such as a display screen, a keypad, a speaker, a<br>
microphone, and the like.<br>
In EDGE, EGPRS, or GPRS, a first link layer protocol context, called a temporary<br>
block flow (TBF), is set up uplink from the mobile to the radio network, and a second TBF is<br>
set up downlink from the radio network to the mobile radio. A TBF can be viewed as a<br>
logical connection between a mobile station (MS) and a packet control unit (PCU) in the<br>
network. While the PCU may be located in a BSC 26, the PCU may also be located in a BTS<br>
28, in an SGSN 20, etc. Fig. 2 is a communications protocol diagram of an EDGE system<br>
familiar to those skilled in the art. The TBF is shown as a temporary connection between the<br>
radio link control (RLC) protocol layer entities in the BSC and the MS. Once an uplink TBF<br>
and a downlink TBF have been established for a data connection, then radio resources (time<br>
slots in EDGE type systems) can be assigned to support the connection over the radio/air<br>
interface. Base station controller (BSC) 26 relays the LLC frames (depicted as "Relay" on<br>
BSS in Fig. 2) between the mobile station (MS) 30 and the core network. The media access<br>
control (MAC) layer manages the multiplexing of data blocks arising from various TBFs<br>
which are active the available physical radio channel, arbitrating among the various mobile<br>
users via a time slot scheduling mechanism orchestrated in the BSC where a TBF is selected<br>
for each time slot.<br>
9<br>
 <br>
In general, the PCU performs LQC and can be located in the BSC, BTS, SGSN, etc.<br>
For ease of description only and not limitation, the PCU is assumed to be in the BSC. The<br>
BSC 26 in this non-limiting example selects a modulation and coding scheme MCS for the<br>
VoIP transmission for every 20 millisecond radio transmission block. Better radio conditions<br>
for the VoIP transmission mean that more VoIP encoded bits can be included in each 20 msec<br>
radio block; hence, a higher modulation and coding scheme (MCS) is selected. The<br>
following table illustrates for EDGE the VoIP encoded bits per 20 msec radio block for each<br>
modulation and coding scheme (MCS).<br>
 <br>
Table 1<br>
Vocoding or codec mode typically is determined based on a desired voice quality<br>
assuming available bandwidth and does not take into account current radio conditions for the<br>
VoIP connection. The inventors recognized that better VoIP communications may be<br>
achieved by providing the selected MCS, not only to the channel encoder and modulator used<br>
to channel encode and modulate a radio block before radio transmission, but also to the VoIP<br>
application layer where the voice is vocoded, framed, and packetized.<br>
In that regard, Figure 3 illustrates a simplified function block diagram of a mobile<br>
station (MS) 30 in which the MCS selected for a VoIP communication involving the MS 30<br>
is provided, at reference numeral (1), both to the EGPRS lower protocol level for traditional<br>
channel encoding and modulation of the radio block and also to the VoIP application at the<br>
higher application protocol level. With that information at reference numeral (2), the VoIP<br>
application chooses a voice coder/decoder (codec) mode for the VoIP communication that is<br>
appropriate for the current radio conditions. In EGPRS, the codec is an AMR codec. The<br>
MCS is selected, for example by a link quality controller (LQC) 32 shown in Figure 5, based<br>
on the current detected radio conditions. A higher codec mode corresponds to a higher bit<br>
rate codec output, and a lower codec mode corresponds to a lower bit rate codec output.<br>
The mobile's codec chooses a number of AMR frames for an IP packet at reference<br>
numeral (3). The number of AMR frames is optimized given the selected AMR codec mode<br>
10<br>
 <br>
to fill out the radio block size that will be used for the selected MCS at the EGRPS level. For<br>
example, 20 msec of speech may be encoded into one AMR frame which coincides with<br>
20 msec radio blocks. The AMR frames are packetized (packed into an IP packet) and then<br>
the IP packet is transferred within the mobile station 30 at reference numeral (4) to the<br>
EGPRS layer(s) corresponding to the SNDCP/LLC and RLC/MAC layers as shown in<br>
Figure 2. The EGPRS layer(s) form radio transmission blocks to carry the packet data and<br>
select a number of time slots to carry each radio transmission block at reference numeral (5)<br>
by comparing the amount of data needed to be sent with the amount of data that fits into each<br>
timeslot. For example, if only 1 timeslot is needed and 1 timeslot is allocated to the MS by<br>
the PCU, then the MS sends the data. If only 1 timeslot is needed and 2 timeslots are<br>
allocated to the MS by the PCU, then the MS sends the data and requests release of the TBF.<br>
If 2 timeslots are needed and only 1 timeslot is allocated to the MS by the PCU, then the MS<br>
starts to send the data and requests the PCU for an upgrade to 2 timeslots. If 2 timeslots are<br>
needed and 2 timeslots are allocated to the MS by the PCU, then the MS sends the data. The<br>
radio transmission blocks are channel encoded and modulated in accordance with the selected<br>
MCS for this portion of the VoIP transmission (one or more packets) and transmitted over the<br>
radio interface as indicated at reference numeral (6).<br>
Similar procedures are performed in the downlink for the VoIP connection but the<br>
functions are preferably implemented by different entities or nodes. In that regard, Figure 4<br>
illustrates a simplified function block diagram of an IMS node 14 in which the MCS selected<br>
for the VoIP communication is provided, at reference numeral (1), to the VoIP application<br>
executed in the IMS node. With that information at reference numeral (2), the VoIP<br>
application chooses an AMR codec mode for the VoIP communication that is suited for the<br>
current radio conditions. The selected AMR codec mode chooses a number of AMR frames<br>
for an IP packet at reference numeral (3). The number of AMR frames is optimized given the<br>
selected AMR codec mode to fill out the radio block size that will be used for the selected<br>
MCS at the EGRPS level. The AMR frames are packetized, and then the IP packets are<br>
transferred at reference numeral (4) to the EGPRS layers implemented using a packet control<br>
unit 31 shown in Figure 5. In this example, the CPU is located in the BSC 26. The packet<br>
control unit 31 forms radio transmission blocks to carry the packet data and a time slot<br>
scheduler 40 associated with the packet control unit 31 selects a number of time slots to carry<br>
each radio transmission block at reference numeral (5) in a manner that may be similar, for<br>
example, to what was described above for the mobile station. The radio transmission blocks<br>
are provided to one or more base stations 28 that implement physical layer operations<br>
including channel encoding and modulating the radio transmission blocks in accordance with<br>
the selected MCS for this portion of the VoIP transmission (one or more packets) and<br>
11<br>
 <br>
transmitting the modulated information in the during the selected time slots over the radio<br>
interface as indicated at reference numeral (6).<br>
Figure 5 illustrates in simplified block format the link quality controller (LQC) 32<br>
which is included in this example in the packet control unit (PCU) 31. Again, the PCU 31<br>
could be located in the BSC, a base station, or in a core network node like an SGSN. The<br>
LQC 32 includes an MCS selector 34 which includes MCS selection lookup tables 36. The<br>
input to the selection tables 36 may be one or more detected radio conditions associated with<br>
the VoIP connection, such as RSSI, SIR, CIR, BER, BLER, etc. A better radio condition<br>
results in a higher number (higher throughput but less robust) MCS being selected, and less<br>
favorable radio conditions result in a lower number (lower throughput but more robust) MCS<br>
being selected. The selected MCS is provided to a timeslot scheduler 40 which also receives<br>
VoIP packets from the IMS node 14. The timeslot scheduler 40 transforms the VoIP packets<br>
into radio transmission blocks that are sized based on the selected MCS. The timeslot<br>
scheduler 40 determines a number of time slots needed to carry the radio block at the selected<br>
MCS using, for example, the procedures explained for step (5) in Figure 3. The radio blocks<br>
formed in the PCU 31 and the selected time slots are forwarded to the appropriate base<br>
station(s) 28 for transmission over the air interface to the mobile station 30.<br>
Figure 6 shows a simplified block diagram of an example base station 28. A TBF<br>
data queue 70 buffers radio transmission blocks for downlink transmission to the mobile<br>
station 30. Radio blocks popped off the queue 70 are channel encoded in the channel encoder<br>
72 and modulated in the modulator 74 using the selected MCS for this TBF. The modulated<br>
output is then transmitted over the air in the RF transmitter 76. The RF transmitter 76<br>
receives information from the time slot scheduler 40 regarding the time slots during which to<br>
transmit the modulated radio block data. The base station also forwards the uplink radio<br>
blocks received from the mobile station 30 to the BSC 26, but RF receiving, demodulating,<br>
and channel decoding blocks for the uplink communication are not shown. The base station<br>
28 detects the signal quality of uplink communications received from the mobile station 30<br>
and provides the LQC 32 with detected radio condition information for determining/adjusting<br>
the selected MCS. In one example embodiment, the radio condition information is updated<br>
for each 20 msec radio block.<br>
Figure 7 illustrates an example, simplified block diagram of an IMS node that could<br>
be implemented using an MRF entity 15. The selected MCS is received or otherwise<br>
determined from information provided by the MCS selector 34 in the BSC. Based on the<br>
selected MCS, a codec mode selector 80 selects an associated codec mode which has an<br>
associated bit rate for the vocoded speech. The selected codec mode is provided to an AMR<br>
12<br>
 <br>
codec 82 which vocodes the VoIP speech according to the selected codec mode. A codec<br>
framer 84 receives the vocoded speech data and frames that data in accordance with the<br>
selected AMR codec, which itself was selected based on the current MCS selection. The<br>
codec framer 84 generates a number of frames to be included in a VoIP packet by VoIP<br>
packetizer 86. That number is determined based on the selected codec mode in order to<br>
optimally fill out the radio transmission block that will be used in the EGPRS layers based on<br>
the selected MCS. In order words, the codec framer 84 can choose the correct number of<br>
AMR codec frames to fill the radio block size governed by the selected MCS because the<br>
selected AMR codec mode provided to the codec framer 84 is also governed by the selected<br>
MCS. The VoIP packets are provided to the base station via the BSC.<br>
Referring to Figure 8, the mobile station 30 performs similar functions for the uplink<br>
because the uplink and downlink can have different MCS's. The mobile includes an AMR<br>
codec mode selector 50 that receives a selected uplink MCS for this TBF. The uplink MCS is<br>
determined by the MCS selector 34 in the BSC and is sent to the MS as indicated generally at<br>
block 51. The selected codec mode is provided to an AMR codec 52 which vocodes received<br>
VoIP speech. The output bit stream is framed in an AMR codec framer 54 according to the<br>
selected codec mode as explained above for the downlink. The AMR codec frames are<br>
formed into VoIP packets which are then stored in a TBF data queue 58. The packets are<br>
channel encoded and modulated according to the selected MCS. The modulated data is<br>
formed into radio transmission blocks which are transmitted over the time slots identified by<br>
the time slot scheduler 40.<br>
Consider an example where the VoIP application in the mobile station or the IMS<br>
node selects a VoIP codec mode to encode 20 msec of VoIP voice into VoIP vocoded bits. A<br>
higher codec mode means better voice quality because more bits carry the 20 msec of VoIP<br>
voice. The following Table 2 includes an EDGE example of different AMR codec modes or<br>
rates.<br>
<br>
AMR Codec Mode/Rate	4.75	7.95	12.65 WB	12.65 WB (2 AMR frames<br>
per IP packet)<br>
Bits per AMR speech frame (20<br>
ms) with header overhead	224	288	376	640<br>
Table 2<br>
13<br>
 <br>
The following Table 3 shows the lowest MCS that can be used and still fit an IP<br>
packet with two voice encoded speech frames for different numbers of time slots (e.g., 0.5, 1,<br>
1.5, or 2) used to transmit the 20 msec radio blocks associated with that packet. If a lower<br>
number of time slots are used, then a higher MCS having a higher bit rate must be used to<br>
adequately transmit that much data. By adding more time slots, a lower bit rate, more robust<br>
MCS can be used. So Table 2 shows how many timeslots are needed for a given MCS mode.<br>
For MCS1 and AMR 4.75, one timeslot is sufficient, so there is no need to use 1.5 or<br>
2 timeslots as all the data for the 20 msec period fits into a single timeslot sent during that<br>
20 msec radio block period. More timeslots may be needed for AMR WB 12.65.<br>
Consequently, if the radio conditions deteriorate requiring a lower MCS, the time slot<br>
scheduler may increase the number of time slots used in order to maintain the bit rate<br>
delivered by the chosen codec mode. Otherwise, when radio conditions deteriorate, the codec<br>
rate would need to be reduced in order to successfully transmit the VoIP data.<br>
 <br>
The following Table 4 shows the average packet size for two different AMR codec<br>
modes—AMR 4.75 (narrowband (NB)) and AMR 12.65 (wideband (WB)). With more<br>
frames included in the IP packet by the codec, the packet size increases but at a cost of<br>
reduced bit rate. The number of frames per IP packet is selected up to a maximum<br>
configurable limit based on the maximum number of AMR frames per IP packet that the<br>
MCS block size can hold. This is then a trade-off between the time to buffer speech on<br>
sending side and the capacity utilization of the radio network.<br>
 <br>
14<br>
 <br>
 <br>
Absent the coordination between the lower protocol layer(s) that handle the MCS<br>
selection for each radio block transmission and the VoIP codec mode selection made at the<br>
higher application protocol layer, the VoIP connection is adversely impacted—either because<br>
of inefficient speech delivery or low quality speech delivery. For example, assume a VoIP<br>
encoder selects a low quality/low bit rate codec mode based on historical events: 224 bits are<br>
generated for 20 msec of speech. Assume the MCS selector selects for this 20 msec a high<br>
MCS-7 based on current radio conditions so that 897 bits are available for use. If the VoIP<br>
application is not aware of this higher capacity, only 25% of the 897 bits available are used.<br>
The listening party could have experienced a much better voice quality at no extra bandwidth<br>
expense.<br>
To achieve a better result, one of several configurable alternatives may be used. For<br>
example, the VoIP encoder is notified of the availability of MCS-7 transmission and thus<br>
changes from AMR 4.75 to AMR 12.65WB. In that case, 376 bits are generated for the 20ms<br>
speech period instead of 224 bits. These speech bits are sent immediately on one timeslot<br>
with 1 AMR frame per IP packet. As a result, the receiver receives better voice quality at no<br>
extra "cost" to the system. Alternatively, the VoIP encoder may be notified of the availability<br>
of MCS-7 transmission and thus changes from ARM 4.75 to AMR 12.65WB. In this case,<br>
376 bits are generated for the 20ms voice period. The AMR codec also changes to pack 2<br>
AMR frames into each IP packet. As a result, 640 bits are generated during a 40ms voice<br>
period. That 40ms of speech is then sent over one radio block (e.g., one 20ms 1 timeslot).<br>
As compared to the first scenario, the system capacity is doubled because speech is only sent<br>
on every second radio block period on that timeslot (at the small expense of 20ms of extra<br>
buffering time).<br>
Consider another problematic situation where the VoIP encoder selects a high bit rate<br>
codec, 12.65 WB, based on historical events corresponding to 376 bits per 20 msec of speech.<br>
On the other hand, the MCS selector selects a minimum MCS-1 based on the current bad<br>
radio conditions which can deliver only 176 bits. But since the voice encoder in the VoIP<br>
application is not aware of that MCS limitation, the IP packet arrives to the packet control<br>
unit with 376 bits. Even if the packet control unit can adapt and allot two time slots for the<br>
connection, that only provides a capacity of 352 bit which is still less than the 376 needed.<br>
15<br>
 <br>
As a result, the transfer lags behind the speed at which the data is generated resulting in<br>
buffer under-run and lower quality speech for the listening party.<br>
This problematic situation is handled better by applying the technological approaches<br>
described here. For example, the AMR codec is notified of the MCS-1 selection, changes to<br>
AMR 4.75, packs 2 AMR frames per IP packet, and thus generates 320 bits every 40ms.<br>
Those 40ms of speech can then be sent over two radio block periods each carrying 176 bits,<br>
i.e., 2x176 = 352 &gt; 320. As a result, speech continues to flow without interruption from the<br>
speaking party's mobile station.<br>
So there is an important interaction between the current MCS and the voice codec<br>
mode. Since the codec is provided with the selected MCS, it can make appropriate mode/rate<br>
adaptations. The number of VoIP encoded frames included in the VoIP packet is<br>
intentionally selected to fill-in the radio transmission block given the selected voice encoding<br>
mode and the selected MCS.<br>
Other adjustments may also be made to ensure robustness and/or better performance<br>
of the VoIP connection or to increase the overall capacity of the communications system<br>
supporting the VoIP connection as well as other connections. For improved robustness, a<br>
VoIP voice encoding mode may be selected at a lower data rate than what the determined<br>
MCS can support, and/or an MCS may be selected that is lower than the MCS determined<br>
current radio condition. If the radio communications system is a time division multiple<br>
access (TDMA) type of system, like GPRS and EDGE, one more time slot that the<br>
determined number of time slots needed to transmit the VoIP packet may also be used to<br>
improve robustness.<br>
Figures 9 and 10 show two different examples that illustrate the interrelationship<br>
between radio condition (C/I in dBs), MCS, and number of time slots used. Figure 9 is for an<br>
AMR mode of 4.75 at 2 AMR frames per packet, and Figure 10 is for an AMR mode of 12.65<br>
at 2 AMR frames per packet. The dotted line shows the MCS that can be selected at each<br>
C/I. The solid line shows how many timeslots are needed for that particular MCS mode for<br>
the codec and number of AMR frames per IP packet. This speech is sent immediately on one<br>
timeslot. As a result, the receiver gets better voice quality at no additional cost to the system.<br>
So multiple adjustments may be made to increase the capacity and/or the reliability of<br>
the VoIP connection. When radio conditions have deteriorated, one or more the following<br>
may be performed: lower the MCS, lower the rate of the VoIP voice coder, increase the<br>
number of time slots, and/or adjust the number of VoIP voice coder frames per IP packet to<br>
16<br>
 <br>
fill in the radio block for the selected MCS and the selected VoIP voice coder rate. On the<br>
other hand, when radio conditions improve, one or more the following may be performed:<br>
increase the MCS, increase the rate of the VoIP voice coder, decrease the number of time<br>
slots, and/or adjust the number of VoIP voice coder frames per IP packet to fill in the radio<br>
block for the selected MCS and the selected VoIP voice coder rate. Other adjustments may<br>
be used.<br>
Although various embodiments have been shown and described in detail, the claims<br>
are not limited to any particular embodiment or example. For example, any codec may be<br>
used. Examples of alternative codecs include: G.729, G.729a, G.723.1 using an MPC-MLQ<br>
algorithm, G.723.1 using an ACELP algorithm, G.711, iLBC, RCU enhanced iLBC, G.729,<br>
or G.723.1, enhanced G.711, iPCM-wb, iSAC, etc. None of the above description should be<br>
read as implying that any particular element, step, range, or function is essential such that it<br>
must be included in the claims scope. The scope of patented subject matter is defined only by<br>
the claims. The extent of legal protection is defined by the words recited in the allowed<br>
claims and their equivalents. It is to be understood that the invention is not to be limited to<br>
the disclosed embodiment, but on the contrary, is intended to cover various modifications and<br>
equivalent arrangements.<br>
17<br>
 <br>
WE CLAIM:<br>
1.	A method for use with a voice-over-IP (VoIP) connection established over a radio<br>
interface with a mobile radio station (3), comprising determining a current radio<br>
condition associated with the VoIP connection, characterized by:<br>
determining a modulation and coding scheme (MCS) for a portion of VoIP<br>
information to be communicated over the VoIP connection based on the determined<br>
current radio condition;<br>
selecting a VoIP voice encoding mode for a portion of the VoIP connection based at<br>
least in part on the determined modulation coding scheme, the VoIP voice encoding<br>
mode having an associated bit rate;<br>
encoding VoIP voice into a variable number of VoIP encoded frames using the<br>
selected VoIP voice encoding mode, wherein the variable number of VoIP encoded<br>
frames depends on the determined MCS;<br>
including the number of VoIP encoded frames in a VoIP packet for transport over the<br>
VoIP connection;<br>
using a GPRS or EDGE type system, radio channel resources for supporting<br>
connections which include time slots;<br>
encoding the VoIP voice by an adaptive multi-rate (AMR) coder/decoder (codec)<br>
(82);<br>
determining a number of timeslots to use in transmitting the VoIP packet; and<br>
using one more time slot that the determined number to transmit the VoIP packet.<br>
2.	The method in claim 1, wherein the variable number of VoIP encoded frames is an<br>
optimal number to maximize the amount of VoIP bits included in a radio block<br>
transmitted over the radio interface.<br>
3.	The method in claim 1, further comprising:<br>
varying the variable number of VoIP encoded frames when a different MCS is<br>
determined for the VoIP connection.<br>
4.	The method in claim 1, further comprising:<br>
selecting a VoIP voice encoding mode at a lower data rate than what the determined<br>
MCS can support.<br>
5.	The method in claim 1, further comprising:<br>
selecting an MCS lower than the determined MCS for the current radio condition.<br>
18<br>
 <br>
6.	The method in claim 1, further comprising:<br>
forming a radio transmission block using the VoIP packet;<br>
channel encoding and modulating the radio transmission block using the determined<br>
MCS; and<br>
transmitting the channel encoded and modulated radio transmission block over the<br>
radio interface using the determined number of time slots.<br>
7.	The method in claim 6, wherein the radio transmission block is a fixed size, the<br>
method further comprising:<br>
adjusting the number of VoIP encoded frames included in the VoIP packet to fill in<br>
the radio transmission block.<br>
8.	The method in claim 6, further comprising:<br>
selecting one or more of the following to increase robustness of the VoIP connection:<br>
lower the MCS, lower the rate of the VoIP voice coder, increase the number of time<br>
slots, or adjust the number of VoIP voice coder frames per IP packet to fill in the<br>
radio block for the selected MCS and the selected VoIP voice encoding mode.<br>
9.	The method in claim 6, further comprising:<br>
detecting a change in radio conditions for the VoIP connection; and<br>
selecting one or more of the following if the change is an improved radio condition:<br>
increase the MCS, increase the rate of the VoIP voice encoding, decrease the number<br>
of time slots, or adjust the number of VoIP voice coder frames per IP packet to fill in<br>
the radio block for the selected MCS and the selected VoIP voice encoding mode.<br>
10.	The method in claim 1 implemented in the mobile station or in an Internet Protocol<br>
Multimedia Subsystem (IMS) node (15).<br>
11.	Apparatus for use in a mobile node (30) for supporting a voice-over-IP (VoIP)<br>
connection established over a radio interface via a radio access network (24), the<br>
apparatus being configured for use in a GPRS type system where radio channel<br>
resources for supporting the VoIP connection include time slots and the VoIP voice<br>
encoder is an adaptive multi-rate (AMR) coder/decoder (codec), the apparatus<br>
characterized by comprising:<br>
a modulation and coding scheme (MCS) selector (51) for selecting a channel<br>
encoding<br>
19<br>
 <br>
scheme and the modulation scheme use for a portion of VoIP voice information to be<br>
transmitted over the VoIP connection based on a determined current radio condition<br>
associated with the VoIP connection, characterized by:<br>
a VoIP voice encoder (52) configured to (1) select a voice encoding mode for the<br>
portion of VoIP voice information based at least in part on the selected MCS, the<br>
VoIP voice encoding mode having an associated bit rate, and (2) encode the VoIP<br>
voice information into a variable number of VoIP encoded frames using the selected<br>
VoIP voice encoding mode, wherein the variable number of VoIP encoded frames<br>
depends on the selected MCS;<br>
a VoIP packetizer (56) for including the number of VoIP encoded frames in a VoIP<br>
packet for transport over the VoIP connection.<br>
circuitry (54) configured to form a radio transmission block using the VoIP packet;<br>
a channel encoder (60) for channel encoding information based on the selected<br>
channel encoding scheme;<br>
a modulator (62) for modulating channel encoded information from the channel<br>
encoder based on the selected modulation scheme; and<br>
radio transceiving circuitry (64) configured to determining a number of timeslots to<br>
use in transmitting the VoIP packet and to transmit the modulated information over<br>
the radio interface using one more time slot than the determined number of time slots.<br>
12.	The apparatus in claim 11, wherein the variable number of VoIP encoded frames is an<br>
optimal number to maximize an amount of VoIP bits included in a radio block<br>
transmitted over the radio interface by the mobile node.<br>
13.	The apparatus in claim 11, wherein the VoIP voice encoder is further configured to<br>
vary the variable number of VoIP encoded frames when a different MCS is<br>
determined for the VoIP connection.<br>
14.	The apparatus in claim 11, wherein the VoIP voice encoder is further configured to<br>
select a VoIP voice encoding mode having a lower bit rate than what the determined<br>
MCS can support.<br>
15.	The apparatus in claim 11, wherein the MCS selector is configured to select an MCS<br>
lower than the MCS determined for the current radio condition.<br>
16.	The apparatus in claim 11, wherein the radio transmission block is a fixed size, and<br>
wherein the VoIP voice encoder is configured to adjust the number of VoIP encoded<br>
frames included in the VoIP packet to fill in the radio transmission block.<br>
20<br>
 <br>
17.	The apparatus in claim 11, further comprising:<br>
control circuitry (51) configured to select one or more of the following to increase<br>
robustness of the VoIP connection: lower the MCS, lower the rate of the VoIP voice<br>
coder, increase the number of time slots, or adjust the number of VoIP voice coder<br>
frames per IP packet to fill in the radio block for the selected MCS and the selected<br>
VoIP voice encoder rate.<br>
18.	The apparatus in claim 11, further comprising:<br>
control circuitry (51) configured to select one or more of the following when the<br>
current radio condition improves: increase the MCS, increase the rate of the VoIP<br>
voice coder, decrease the number of time slots, or adjust the number of VoIP voice<br>
coder frames per IP packet to fill in the radio block for the selected MCS and the<br>
selected VoIP voice encoder rate.<br>
19.	A network node (15) for supporting a voice-over-IP (VoIP) connection established<br>
over a radio interface via a radio access network (24), the network node being<br>
configured for use with a GPRS type network where radio channel resources for<br>
supporting the VoIP connection include time slots and the codec is an adaptive multi-<br>
rate (AMR) codec (82), the network node (15) characterized by comprising:<br>
a codec mode selector (80) configured to select a vocoding mode for a portion of<br>
VoIP voice information to be communicated over the VoIP connection based at least<br>
in part on a selected modulation and coding scheme (MCS) for use in transmitting the<br>
portion of VoIP voice information over the VoIP connection, the selected MCS being<br>
based on a determined current radio condition associated with the VoIP connection;<br>
a VoIP codec (82) configured to encode the VoIP voice information into encoded<br>
VoIP data in accordance with the selected vocoding mode, the selected VoIP<br>
vocoding mode having an associated bit rate;<br>
a codec framer (84) configured to frame the encoded VoIP data to produce a variable<br>
number of VoIP encoded frames using the selected VoIP voice encoding mode,<br>
wherein the variable number of VoIP encoded frames depends on the selected MCS;<br>
a VoIP packetizer (86) for including the number of VoIP encoded frames in a VoIP<br>
packet for transport over the VoIP connection; and<br>
a timeslot scheduler (40) configured to determine a smallest number of time slots<br>
needed to transmit each radio block and scheduling one more time slot than the<br>
determined number for use in transmitting each radio block.<br>
21<br>
 <br>
20.	The network node in claim 19, wherein the network node is an Internet Protocol<br>
Multimedia Subsystem (IMS) node (13) , a Base Station Controller (BSC), a Base<br>
Station (BS) or a Serving GPRS Support Node (SGSN).<br>
21.	The network node in claim 19, wherein the selected MCS is determined from<br>
information received from the radio access network and may vary as radio conditions<br>
for the VoIP connection change.<br>
22.	The network node in claim 19, wherein the variable number of VoIP encoded frames<br>
is an optimal number to maximize an amount of VoIP bits included in a radio block<br>
transmitted over the radio interface by the mobile node.<br>
23.	The network node in claim 19, wherein the codec framer is further configured to vary<br>
the variable number of VoIP encoded frames when a different MCS is determined for<br>
the VoIP connection.<br>
24.	The network node in claim 19, wherein the codec mode selector is further configured<br>
to select a VoIP voice encoding mode having a lower bit rate than what the<br>
determined modulation scheme and the determined coding scheme can support.<br>
25.	The network node in claim 19, wherein the codec mode selector is configured to: (1)<br>
select one or more of the following to increase robustness of the VoIP connection:<br>
lower the rate of the VoIP voice coder or adjust the number of VoIP voice coder<br>
frames per IP packet to fill in the radio block for the selected MCS and the selected<br>
VoIP voice encoder rate and (2) select one or more of the following when the current<br>
radio condition improves: increase the rate of the VoIP voice coder or adjust the<br>
number of VoIP voice coder frames per IP packet to fill in the radio block for the<br>
selected MCS and the selected VoIP voice encoder rate.<br>
26.	The network node in claim 19, wherein the network node further comprises a link<br>
quality controller (32) for determining the current radio condition associated with the<br>
VoIP connection.<br>
27.	The network node in claim 19, wherein the timeslot scheduler (40) is used for<br>
receiving VoIP packets from the VoIP packetizer and forming radio blocks for<br>
transmission over the radio interface, and<br>
wherein the codec framer (84) is configured to adjust the number of VoIP encoded<br>
frames included in the VoIP packet to fill in each radio transmission block.<br>
22<br>
 <br>
28. The network node in claim 27, further comprising:<br>
23<br>
control circuitry (31) configured to: (1) select one or more of the following to<br>
increase robustness of the VoIP connection: lower the MCS or increase the number<br>
of time slots and (2) to select one or more of the following when the current radio<br>
condition improves: increase the MCS or adjust the number of VoIP voice coder<br>
frames per IP packet to fill in the radio block for the selected MCS and the selected<br>
VoIP voice coder rate.<br>
 <br>
<br>
A voice-over-IP (VoIP) connection is established over a radio interface with a mobile radio station. A current radio condition for the VoIP connection is determined, and from that,<br>
a modulation and coding scheme (MCS) for a portion of the VoIP connection. A VoIP voice<br>
encoding mode for a portion of the VoIP connection is selected based on the determined<br>
modulation coding scheme. VoIP voice is then encoded into a number of VoIP encoded<br>
frames using the selected VoIP voice encoding mode which has an associated bit rate. An<br>
optimal number of VoIP encoded frames is included in a VoIP packet for transport over the<br>
VoIP connection given the selected voice encoding mode and the selected MCS. Other<br>
adjustments may be made to ensure robustness of the VoIP connection and/or to maximize<br>
capacity.</td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/viewdoc.aspx?id=9w3y6AY+f5UubHOdDCoz6g==&amp;amp;loc=wDBSZCsAt7zoiVrqcFJsRw==" target="_blank" style="word-wrap:break-word;">http://ipindiaonline.gov.in/patentsearch/GrantedSearch/viewdoc.aspx?id=9w3y6AY+f5UubHOdDCoz6g==&amp;amp;loc=wDBSZCsAt7zoiVrqcFJsRw==</a></p>
		<br>
		<div class="pull-left">
			<a href="272662-a-process-for-producing-a-dicarboxylic-acid.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="272664-method-of-controlling-descrambling-of-a-plurality-of-program-transport-streams-receiver-system-and-portable-secure-device.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>272663</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>4886/KOLNP/2007</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>17/2016</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>22-Apr-2016</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>18-Apr-2016</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>17-Dec-2007</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>TELEFONAKTIEBOLAGET LM ERICSSON (PUBL)</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>S-164 83 STOCKHOLM</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>BÄCKSTRÖM, MARTIN</td>
											<td>KASSMANS VÄG 6, S-185 38 DANDERYD</td>
										</tr>
										<tr>
											<td>2</td>
											<td>LARSSON, ANDERS</td>
											<td>TJÄRHOVSGATAN 10, 4TR, S-116 21 STOCKHOLM</td>
										</tr>
										<tr>
											<td>3</td>
											<td>BLADSJÖ, DAVID</td>
											<td>HÖGALIDSGATAN 13B, S-117 30 STOCKHOLM</td>
										</tr>
										<tr>
											<td>4</td>
											<td>CERWALL, PATRIK</td>
											<td>GRANÄNGSRINGEN 44, S-135 44 TYRESÖ</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04L 1/00, H04M 7/00</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/SE2006/050144</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2006-05-22</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>11/346,565</td>
									<td>2006-02-03</td>
								    <td>U.S.A.</td>
								</tr>
								<tr>
									<td>2</td>
									<td>60/684,232</td>
									<td>2005-05-25</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/272663-method-to-improve-voip-media-flow-quality-by-adapting-speech-encoder-and-lqc-based-on-edge-mcs by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 00:36:42 GMT -->
</html>
