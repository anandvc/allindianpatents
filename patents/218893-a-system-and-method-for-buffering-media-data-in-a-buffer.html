<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/218893-a-system-and-method-for-buffering-media-data-in-a-buffer by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 12:26:58 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 218893:A SYSTEM AND METHOD FOR BUFFERING MEDIA DATA IN A BUFFER</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">A SYSTEM AND METHOD FOR BUFFERING MEDIA DATA IN A BUFFER</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>The invention relates to a method for buffering multimedia information, wherein a parameter is defined indicative of the maximum amount of transmission units comprising multimedia data that precede any transmission unit comprising multimedia data in the packet stream in transmission unit transmission order and follow the transmission unit comprising multimedia data in decoding order. The invention also relates to a system, a transmitting device, a receiving device, a computer program product, a signal and a module.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td> <br><br>
Picture coding method Field of the Invention<br>
The present invention relates to a method for buffering multimedia information. The invention also relates to a method for decoding encoded picture stream in a decoder, in which the encoded picture stream is received as transmission units comprising multimedia data. The invention further relates to a system, a transmitting device, receiving device, a computer program product for buffering encoded pictures, a computer program product for decoding encoded picture stream, a signal, aed-a module, a processor for processing media data in a transmitting device, processor for processing media data in a receiving device, an encoder, and a decoder-Background of the Invention<br>
Published video coding standards include ITU-T H.261, ITU-T H.263, ISO/IEC MPEG-1, ISO/IEC MPEG-2, and ISO/IEC MPEG-4 Part 2. These standards are herein referred to as conventional video coding standards.<br>
Video communication systems<br>
Video communication systems can be divided into conversational and non-conversational systems. Conversational systems include video conferencing and video telephony. Examples of such systems include ITU-T Recommendations H.320, H.323, and H.324 that specify a video conferencing/telephony system operating in ISDN, IP, and PSTN networks respectively. Conversational systems are characterized by the intent to minimize the end-to-end delay (from audio-video capture to the far-end audio-video presentation) in order to improve the user experience.<br>
Non-conversational systems include playback of stored content, such as Digital Versatile Disks (DVDs) or video files stored in a mass memory of a playback device, digital TV, and streaming. A short review<br><br>
of the most important standards in these technology areas is given below.<br><br>
J<br><br>
A dominant standard in digital video consumer electronics today is MPEG-2, which includes specifications for video compression, audio compression, storage, and transport. The storage and transport of coded video is based on the concept of an elementary stream. An elementary stream consists of coded data from a single source (e.g. video) plus ancillary data needed for synchronization, identification and characterization of the source information. An elementary stream is packetized into either constant-length or variable-length packets to form a Packetized Elementary Stream (PES). Each PES packet consists of a header followed by stream data called the payload. PES packets from various elementary streams are combined to form either a Program Stream (PS) or a Transport Stream (TS). PS is aimed at applications having negligible transmission errors, such as store-and-play type of applications. TS is aimed at applications that are susceptible of transmission errors. However, TS assumes that the network throughput is guaranteed to be constant.<br>
The Joint Video Team (JVT) of ITU-T and ISO/IEC has released a standard draft which includes the same standard text as ITU-T Recommendation H.264 and ISO/IEC International Standard 14496-10 (MPEG-4 Part 10). The draft standard is referred to as the JVT coding standard in this paper, and the codec according to the draft standard is referred to as the JVT codec.<br>
The codec specification itself distinguishes conceptually between a video coding layer (VCL), and a network abstraction layer (NAL). The VCL contains the signal processing functionality of the codec, things such as transform, quantization, motion search/compensation, and the loop filter. It follows the general concept of most of today's video codecs, a macroblock-based coder that utilizes inter picture prediction with motion compensation, and transform coding of the residual signal. The output of the VCL are slices: a bit string that contains the macroblock data of an integer number of macroblocks, and the information of the slice header (containing the spatial address of the first macroblock in the slice, the initial quantization parameter, and similar). Macroblocks in slices are ordered in scan order unless a different macroblock allocation is specified, using the so-called Flexible<br><br>
Macroblock Ordering syntax. In-picture prediction is used only within a slice.<br>
The NAL encapsulates the slice output of the VCL into Network Abstraction Layer Units (NALUs), which are suitable for the transmission over packet networks or the use in packet oriented multiplex environments. JVT's Annex B defines an encapsulation process to transmit such NALUs over byte-stream oriented networks.<br>
The optional reference picture selection mode of H.263 and the NEWPRED coding tool of MPEG-4 Part 2 enable selection of the reference frame for motion compensation per each picture segment, e.g., per each slice in H.263. Furthermore, the optional Enhanced Reference Picture Selection mode of H.263 and the JVT coding standard enable selection of the reference frame for each macroblock separately.<br>
Reference picture selection enables many types of temporal scalability schemes. Figure 1 shows an example of a temporal scalability scheme, which is herein referred to as recursive temporal scalability. The example scheme can be decoded with three constant frame rates. Figure 2 depicts a scheme referred to as Video Redundancy Coding, where a sequence of pictures is divided into two or more independently coded threads in an interleaved manner. The arrows in these and all the subsequent figures indicate the direction of motion compensation and the values under the frames correspond to the relative capturing and displaying times of the frames.<br>
Transmission order<br>
In conventional video coding standards, the decoding order of pictures is the same as the display order except for B pictures. A block in a conventional B picture can be bi-directionally temporally predicted from two reference pictures, where one reference picture is temporally preceding and the other reference picture is temporally succeeding in display order. Only the latest reference picture in decoding order can succeed the B picture in display order (exception: interlaced coding in<br><br>
H.263 where both field pictures of a temporally subsequent reference frame can precede a B picture in decoding order). A conventional B picture cannot be used as a reference picture for temporal prediction, and therefore a conventional B picture can be disposed without affecting the decoding of any other pictures.<br>
The JVT coding  standard  includes the following  novel technical<br>
features compared to earlier standards:<br>
The decoding order of pictures is decoupled from the display<br>
order. The picture number indicates decoding order and the<br>
picture order count indicates the display order.<br>
Reference pictures for a block in a B picture can either be before<br>
or after the B picture in display order. Consequently, a B picture<br>
stands for a bi-predictive picture instead of a bi-directional<br>
picture.<br>
Pictures that are not used as reference pictures are marked<br>
explicitly. A picture of any type (intra, inter, B, etc.) can either be<br>
a reference picture or a non-reference picture. (Thus, a B picture<br>
can be used as a reference picture for temporal prediction of<br>
other pictures.)<br>
A picture can contain slices that are coded with a different<br>
coding type. In other words, a coded picture may consist of an<br>
intra-coded slice and a B-coded slice, for example.<br>
Decoupling of display order from decoding order can be beneficial from compression efficiency and error resiliency point of view.<br>
An example of a prediction structure potentially improving compression efficiency is presented in Figure 3. Boxes indicate pictures, capital letters within boxes indicate coding types, numbers within boxes are picture numbers according to the JVT coding standard, and arrows indicate prediction dependencies. Note that picture B17 is a reference picture for pictures B18. Compression efficiency is potentially improved compared to conventional coding, because the reference pictures for pictures B18 are temporally closer compared to conventional coding with PBBP or PBBBP coded picture patterns. Compression efficiency is potentially improved compared to conventional PBP coded picture<br><br>
pattern, because part of reference pictures are bi-directionally predicted.<br>
Figure 4 presents an example of the intra picture postponement method that can be used to improve error resiliency. Conventionally, an intra picture is coded immediately after a scene cut or as a response to an expired intra picture refresh period, for example. In the intra picture postponement method, an intra picture is not coded immediately after a need to code an intra picture arises, but rather a temporally subsequent picture is selected as an intra picture. Each picture between the coded intra picture and the conventional location of an intra picture is predicted from the next temporally subsequent picture. As Figure 4 shows, the intra picture postponement method generates two independent inter picture prediction chains, whereas conventional coding algorithms produce a single inter picture chain. It is intuitively clear that the two-chain approach is more robust against erasure errors than the one-chain conventional approach. If one chain suffers from a packet loss, the other chain may still be correctly received. In conventional coding, a packet loss always causes error propagation to the rest of the inter picture prediction chain.<br>
Two types of ordering and timing information have been conventionally associated with digital video: decoding and presentation order. A closer look at the related technology is taken below.<br>
A decoding timestamp (DTS) indicates the time relative to a reference clock that a coded data unit is supposed to be decoded. If DTS is coded and transmitted, it serves for two purposes: First, if the decoding order of pictures differs from their output order, DTS indicates the decoding order explicitly. Second, DTS guarantees a certain pre-decoder buffering behavior provided that the reception rate is close to the transmission rate at any moment. In networks where the end-to-end latency varies, the second use of DTS plays no or little role. Instead, received data is decoded as fast as possible provided that there is room in the post-decoder buffer for uncompressed pictures.<br><br>
Carriage of DTS depends on the communication system and video coding standard in use. In MPEG-2 Systems, DTS can optionally be transmitted as one item in the header of a PES packet. In the JVT coding standard, DTS can optionally be carried as a part of Supplemental Enhancement Information (SEI), and it is used in the operation of an optional Hypothetical Reference Decoder. In ISO Base Media File Format, DTS is dedicated its own box type, Decoding Time to Sample Box. In many systems, such as RTP-based streaming systems, DTS is not carried at all, because decoding order is assumed to be the same as transmission order and exact decoding time does not play an important role.<br>
H.263 optional Annex U and Annex W.6.12 specify a picture number that is incremented by 1 relative to the previous reference picture in decoding order. In the JVT coding standard, the frame number coding element is specified similarly to the picture number of H.263. The JVT coding standard specifies a particular type of an intra picture, called an instantaneous decoder refresh (IDR) picture. No subsequent picture can refer to pictures that are earlier than the IDR picture in decoding order. An IDR picture is often coded as a response to a scene change. In the JVT coding standard, frame number is reset to 0 at an IDR picture in order to improve error resilience in case of a loss of the IDR picture as is presented in Figs. 5a and 5b. However, it should be noted that the scene information SEI message of the JVT coding standard can also be used for detecting scene changes.<br>
H.263 picture number can be used to recover the decoding order of reference pictures. Similarly, the JVT frame number can be used to recover the decoding order of frames between an IDR picture (inclusive) and the next IDR picture (exclusive) in decoding order. However, because the complementary reference field pairs (consecutive pictures coded as fields that are of different parity) share the same frame number, their decoding order cannot be reconstructed from the frame numbers.<br>
The H.263 picture number or JVT frame number of a non-reference picture is specified to be equal to the picture or frame number of the<br><br>
previous reference picture in decoding order plus 1. If several non-reference pictures are consecutive in decoding order, they share the same picture or frame number. The picture or frame number of a non-reference picture is also the same as the picture or frame number of the following reference picture in decoding order. The decoding order of consecutive non-reference pictures can be recovered using the Temporal Reference (TR) coding element in H.263 or the Picture Order Count (POC) concept of the JVT coding standard.<br>
A presentation timestamp (PTS) indicates the time relative to a reference clock when a picture is supposed to be displayed. A presentation timestamp is also called a display timestamp, output timestamp, and composition timestamp.<br>
Carriage of PTS depends on the communication system and video coding standard in use. In MPEG-2 Systems, PTS can optionally be transmitted as one item in the header of a PES packet. In the JVT coding standard, PTS can optionally be carried as a part of Supplemental Enhancement Information (SEI). In ISO Base Media File Format, PTS is dedicated its own box type, Composition Time to Sample Box where the presentation timestamp is coded relative to the corresponding decoding timestamp. In RTP, the RTP timestamp in the RTP packet header corresponds to PTS.<br>
Conventional video coding standards feature the Temporal Reference (TR) coding element that is similar to PTS in many aspects. In some of the conventional coding standards, such as MPEG-2 video, TR is reset to zero at the beginning of a Group of Pictures (GOP). In the JVT coding standard, there is no concept of time in the video coding layer. The Picture Order Count (POC) is specified for each frame and field and it is used similarly to TR in direct temporal prediction of B slices, for example. POC is reset to 0 at an IDR picture.<br>
Buffering<br>
Streaming clients typically have a receiver buffer that is capable of storing a relatively large amount of data. Initially, when a streaming<br><br>
session is established, a client does not start playing the stream back immediately, but rather it typically buffers the incoming data for a few seconds. This buffering helps to maintain continuous playback, because, in case of occasional increased transmission delays or network throughput drops, the client can decode and play buffered data. Otherwise, without initial buffering, the client has to freeze the display, stop decoding, and wait for incoming data. The buffering is also necessary for either automatic or selective retransmission in any protocol level. If any part of a picture is lost, a retransmission mechanism may be used to resend the lost data. If the retransmitted data is received before its scheduled decoding or playback time, the loss is perfectly recovered.<br>
Coded pictures can be ranked according to their importance in the subjective quality of the decoded sequence. For example, non-reference pictures, such as conventional B pictures, are subjectively least important, because their absence does not affect decoding of any other pictures. Subjective ranking can also be made on data partition or slice group basis. Coded slices and data partitions that are subjectively the most important can be sent earlier than their decoding order indicates, whereas coded slices and data partitions that are subjectively the least important can be sent later than their natural coding order indicates. Consequently, any retransmitted parts of the most important slice and data partitions are more likely to be received before their scheduled decoding or playback time compared to the least important slices and data partitions.<br>
Pre-Decoder Buffering<br>
Pre-decoder buffering refers to buffering of coded data before it is decoded. Initial buffering refers to pre-decoder buffering at the beginning of a streaming session. Initial buffering is conventionally done for two reasons explained below.<br>
In conversational packet-switched multimedia systems, e.g., in IP-based video conferencing systems, different types of media are normally carried in separate packets. Moreover, packets are typically<br><br>
carried on top of a best-effort network that cannot guarantee a constant transmission delay, but rather the delay may vary from packet to packet. Consequently, packets having the same presentation (playback) time-stamp may not be received at the same time, and the reception interval of two packets may not be the same as their presentation interval (in terms of time). Thus, in order to maintain playback synchronization between different media types and to maintain the correct playback rate, a multimedia terminal typically buffers received data for a short period (e.g. less than half a second) in order to smooth out delay variation. Herein, this type of a buffer component is referred as a delay jitter buffer. Buffering can take place before and/or after media data decoding.<br>
Delay jitter buffering is also applied in streaming systems. Due to the fact that streaming is a non-conversational application, the delay jitter buffer required may be considerably larger than in conversational applications. When a streaming player has established a connection to a server and requested a multimedia stream to be downloaded, the server begins to transmit the desired stream. The player does not start playing the stream back immediately, but rather it typically buffers the incoming data for a certain period, typically a few seconds. Herein, this buffering is referred to as initial buffering. Initial buffering provides the ability to smooth out transmission delay variations in a manner similar to that provided by delay jitter buffering in conversational applications. In addition, it may enable the use of link, transport, and / or application layer retransmissions of lost protocol data units (PDUs). The player can decode and play buffered data while retransmitted PDUs may be received in time to be decoded and played back at the scheduled moment.<br>
Initial buffering in streaming clients provides yet another advantage that cannot be achieved in conversational systems: it allows the data rate of the media transmitted from the server to vary. In other words, media packets can be temporarily transmitted faster or slower than their playback rate as long as the receiver buffer does not overflow or underflow. The fluctuation in the data rate may originate from two sources.<br><br>
First, the compression efficiency achievable in some media types, such as video, depends on the contents of the source data. Consequently, if a stable quality is desired, the bit-rate of the resulting compressed bit-stream varies. Typically, a stable audio-visual quality is subjectively more pleasing than a varying quality. Thus, initial buffering enables a more pleasing audio-visual quality to be achieved compared with a system without initial buffering, such as a video conferencing system.<br>
Second, it is commonly known that packet losses in fixed IP networks occur in bursts. In order to avoid bursty errors and high peak bit- and packet-rates, well-designed streaming servers schedule the transmission of packets carefully. Packets may not be sent precisely at the rate they are played back at the receiving end, but rather the servers may try to achieve a steady interval between transmitted packets. A server may also adjust the rate of packet transmission in accordance with prevailing network conditions, reducing the packet transmission rate when the network becomes congested and increasing it if network conditions allow, for example.<br>
Transmission of multimedia streams<br>
A multimedia streaming system consists of a streaming server and a number of players, which access the server via a network. The network is typically packet-oriented and provides little or no means to guaranteed quality of service. The players fetch either pre-stored or live multimedia content from the server and play it back in real-time while the content is being downloaded. The type of communication can be either point-to-point or multicast. In point-to-point streaming, the server provides a separate connection for each player. In multicast streaming, the server transmits a single data stream to a number of players, and network elements duplicate the stream only if it is necessary.<br>
When a player has established a connection to a server and requested for a multimedia stream, the server begins to transmit the desired stream. The player does not start playing the stream back immediately, but rather it typically buffers the incoming data for a few seconds.<br><br>
Herein, this buffering is referred to as initial buffering. Initial buffering helps to maintain pauseless playback, because, in case of occasional increased transmission delays or network throughput drops, the player can decode and play buffered data.<br>
In order to avoid unlimited transmission delay, it is uncommon to favor reliable transport protocols in streaming systems. Instead, the systems prefer unreliable transport protocols, such as UDP, which, on one hand, inherit a more stable transmission delay, but, on the other hand, also suffer from data corruption or loss.<br>
RTP and RTCP protocols can be used on top of UDP to control realtime communications. RTP provides means to detect losses of transmission packets, to reassemble the correct order of packets in the receiving end, and to associate a sampling time-stamp with each packet. RTCP conveys information about how large a portion of packets were correctly received, and, therefore, it can be used for flow control purposes.<br>
In conventional video coding standards, the decoding order is coupled with the output order. In other words, the decoding order of I and P pictures is the same as their output order, and the decoding order of a B picture immediately follows the decoding order of the latter reference picture of the B picture in output order. Consequently, it is possible to recover the decoding order based on known output order. The output order is typically conveyed in the elementary video bitstream in the Temporal Reference (TR) field and also in the system multiplex layer, such as in the RTP header.<br>
Some RTP payload specifications allow transmission of coded data out of decoding order. The amount of disorder is typically characterized by one value that is defined similarly in many relevant specifications. For example, in the draft RTP Payload Format for Transport of MPEG-4 Elementary Streams, the maxDisplacement parameter is specified as follows:<br><br>
The maximum displacement in time of an access unit (AU, corresponding to a coded picture) is the maximum difference between the time stamp of an AU in the pattern and the time stamp of the earliest AU that is not yet present. In other words, when considering a sequence of interleaved AUs, then:<br>
Maximum displacement = max{TS(i) - TS(j)}, for any i and any j&gt;i,<br>
where i and j indicate the index of the AU in the interleaving pattern and TS denotes the time stamp of the AU<br>
It has been noticed in the present invention that in this method there are some problems and it gives too large value for the buffer.<br>
Summary of the Invention<br>
An example of a scheme where the definition of the maximum displacement fails totally in specifying the buffering requirements (in terms of buffer space and initial buffering duration) follows. The sequence is spliced into pieces of 15 AUs, and the last AU in decoding and output order in such piece of 15 AU is transmitted first and all other AUs are transmitted in decoding and output order. Thus, the transmitted sequence of AUs is:<br>
14 0 1 234 56 78 9 10 11 12 13 29 15 16 17 18 19...<br>
The maximum displacement for this sequence is 14 for AU(14 + k * 15) (for all non-negative integer values of k).<br>
However, the sequence requires buffer space and initial buffering for one AU only.<br>
In the draft RTP payload format for H.264 (draft-ietf-avt-rtp-h264-01.txt), parameter num-reorder-VCL-NAL-units is specified as follows: This parameter may be used to signal the properties of a NAL unit stream or the capabilities of a transmitter or receiver implementation. The parameter specifies the maximum amount of VCL NAL units that precede any VCL NAL unit in the NAL unit stream in NAL unit decoding<br><br>
order and follow the VCL NAL unit in RTP sequence number order or in the composition order of the aggregation packet containing the VCL NAL unit. If the parameter is not present, num-reorder-VCL-NAL-units equal to 0 must be implied. The value of num-reorder-VCL-NAL-units must be an integer in the range from 0 to 32767, inclusive.<br>
According to the H.264 standard VCL NAL units are specified as those NAL units having nal_unit_type equal to 1 to 5, inclusive. In the standard the following NAL unit types 1 to 5 are defined:<br>
1	Coded slice of a non-IDR picture<br>
2	Coded slice data partition A<br>
3	Coded slice data partition B<br>
4	Coded slice data partition C<br>
5	Coded slice of an IDR picture<br>
The num-reorder-VCL-NAL-units parameter causes a similar problem to the problem presented for the maximum displacement parameter above. That is, it is impossible to conclude buffering space and initial buffering time requirements based on the parameter.<br>
The invention enables signalling the size of the receiving buffer to the decoder.<br>
In the following, an independent GOP consists of pictures from an IDR picture (inclusive) to the next IDR picture (exclusive) in decoding order.<br>
In the present invention a parameter signalling the maximum amount of required buffering is defined more accurately than in prior art systems. In the following description the invention is described by using encoder-decoder based system, but it is obvious that the invention can also be implemented in systems in which the video signals are stored. The stored video signals can either be uncoded signals stored before encoding, as encoded signals stored after encoding, or as decoded signals stored after encoding and decoding process. For example, an encoder produces bitstreams in transmission order. A file system receives audio and/or video bitstreams which are encapsulated e.g. in decoding order and stored as a file. The file can be stored into a<br><br>
database from which a streaming server can read the NAL units and encapsulate them into RTP packets.<br>
Furthermore, in the following description the invention is described by using encoder-decoder based system, but it is obvious that the invention can also be implemented in systems where the encoder outputs and transmits coded data to another component, such as a streaming server, in a first order, where the other component reorders the coded data from the first order to another order, defines the required buffer size for the another order and forwards the coded data in its reordered form to the decoder.<br>
According to a first aspect of the present invention there is provided a method for buffering media data in a buffer, the media data being included in data transmission units, the data transmission units having been ordered in a transmission order which is at least partly different from a decoding order of the media data in the data transmission units, characterised in that wherein a parameter is defined indicative of the maximum number of data transmission units that precede any transmission unit in a packet stream in transmission order and follow the transmission unit in the decoding order.<br>
According to a second aspect of the present invention there is provided a method for decoding encoded picture stream in a decoder, in which the encoded picture stream is received as data transmission units comprising media data, the data transmission units having been ordered in a transmission order which is at least partly different from a decoding order of the media data in the data transmission units, buffering of data transmission units is performed, characterised in that wherein the buffering requirements are indicated to the decoding process as a parameter indicative of the maximum number of data transmission units that precede any data transmission unit in the packet stream in transmission order and follow the data transmission unit in the decoding order.<br>
According to a third aspect of the present invention there is provided a system comprising an encoder for encoding pictures and a buffer for<br><br>
buffering media data, the media data being included in data transmission units, the data transmission units having been ordered in a transmission order which is at least partly different from a decoding order of the media data in the data transmission units, characterised in that the system comprises a definer adapted to define whoroin a parameter is arranged to bo defined indicative of the maximum number of data transmission units that precede any data transmission unit in the packet stream in transmission order and follow the data transmission unit in the decoding order.<br>
According to a fourth aspect of the present invention there is provided a transmitting device for transmitting media data being included in data transmission units, the data transmission units having been ordered in a transmission order which is at least partly different from a decoding order of the media data in the data transmission units, characterised in that the transmitting device comprises a definer adapted to define wherein a parameter is arranged to be defined indicative of the maximum number of data transmission units that precede any data transmission unit in the packet stream in transmission order and follow the data transmission unit in the decoding order.<br>
According to a fifth aspect of the present invention there is provided a receiving device for receiving encoded picture stream as data transmission units comprising media data, the data transmission units having been ordered in a transmission order which is at least partly different from a decoding order of the media data in the data transmission units, characterised in that the receiving device comprises means for determining buffering requirements by using wherein a parameter is arranged to be usod indicative of the maximum number of data transmission units that precede any data transmission unit in the packet stream in transmission order and follow the data transmission unit in the decoding order.<br>
According to a sixth aspect of the present invention there is provided a computer program product comprising machine executable steps for buffering encoded pictures in a buffer, the mÂ« jia data being included in data transmission units, the data transmi sion units having been<br><br>
ordered in a transmission order which is at least partly different from a decoding order of the media data in the data transmission units, characterised in that wherein the computer program product further comprises machine executable steps for defining a parameter indicative of the maximum number of data transmission units that precede any data transmission unit in the packet stream in transmission order and follow the data transmission unit in the decoding order.<br>
According to a seventh aspect of the present invention there is provided a computer program product comprising machine executable steps for decoding encoded picture stream in a decoder, in which the encoded picture stream is received as transmission units comprising multimedia data, and machine executable steps for buffering transmission units, characterised in that the computer program product comprises machine executable steps for determining buffering reguirements to the decoding process by using a parameter indicative of the maximum amount of transmission units comprising multimedia data that precede any transmission unit comprising multimedia data in the packet stream in transmission unit transmission order and follow the transmission unit comprising multimedia data in decoding order.<br>
According to an eighthsovonth aspect of the present invention there is provided a signal carrying media data included in data transmission units, the data transmission units having been ordered in a transmission order which is at least partly different from a decoding order of the media data in the data transmission units, characterised in that whoroin the signal includes a parameter indicative of the maximum number of data transmission units that precede any data transmission unit in the packet stream in transmission order and follow the data transmission unit in the decoding order.<br>
According to an ninth eighth-aspect of the present invention there is provided a module for receiving encoded picture stream as data transmission units comprising media data, the data transmission units having been ordered in a transmission order which is at least partly different from a decoding order of the media data  in the data<br><br>
transmission units, characterised in that the module comprises means for determining buffering requirements bv using whoroin a parameter Is arranged to be usod indicative of the maximum number of data transmission units that precede any data transmission unit in the packet stream in transmission order and follow the data transmission unit in the decoding order.<br>
According to a tenth aspect of the present invention there is provided a processor for processing media data in a transmitting device, characterised in that the processor comprises a definer adapted to define a parameter indicative of the maximum amount of transmission units comprising multimedia data that precede any transmission unit comprising multimedia data in the packet stream in transmission unit transmission order and follow the transmission unit comprising multimedia data in decoding order-According to an eleventh aspect of the present invention there is provided a processor for processing media data in a receiving device for receiving encoded picture stream as transmission units comprising slice data, characterised in that the processor comprises means for determining buffering reguirements bv using a parameter indicative of the maximum amount of transmission units comprising multimedia data that precede any transmission unit comprising multimedia data in the packet stream in transmission unit transmission order and follow the transmission unit comprising multimedia data in decoding order-According to a twelfth aspect of the present invention there is provided an encoder for encoding media data being included in data transmission units, the data transmission units having been ordered in a transmission order which is at least partly different from a decoding order of the media data in the data transmission units, characterised in that the encoder comprises a definer adapted to define a parameter indicative of the maximum number of data transmission units that precede any data transmission unit in the packet stream in transmission order and follow the data transmission unit in the decoding order.<br><br>
According to a thirteenth aspect of the present invention mere is provided a decoder for decoding encoded picture stream included in data transmission units comprising media data, the data transmission units having been ordered in a transmission order which is at least partly different from a decoding order of the media data in the data transmission units, characterised in that the decoder comprises means for determining buffering reguirements by using a parameter indicative of the maximum number of transmission units that precede any data transmission unit in the packet stream in transmission order and follow the data transmission unit in the decoding order.<br>
In an example embodiment of the present invention the transmission unit comprising multimedia data is a VCL NAL unit.<br>
The present invention improves the buffering efficiency of the coding systems. By using the present invention it is possible to use a suitable amount of buffering actually required. Therefore, there is no need to allocate more memory than necessary for the encoding buffer in the encoding device and the pre-decoding buffer in the decoding device. Also, pre-decoding buffer overflow can be avoided.<br>
Description of the Drawings<br>
Fig. 1	shows an example of a recursive temporal scalability<br>
scheme,<br>
Fig. 2 depicts a scheme referred to as Video Redundancy Coding, where a sequence of pictures is divided into two or more independently coded threads in an interleaved manner,<br>
Fig. 3 presents an example of a prediction structure potentially improving compression efficiency,<br>
Fig. 4 presents an example of the intra picture postponement method that can be used to improve error resiliency,<br><br>
16c Fig. 5        depicts  an   advantageous   embodiment  of  the  system according to the present invention,<br><br>
Fig. 6        depicts  an  advantageous  embodiment of the  encoder according to the present invention,<br>
Fig. 7        depicts an advantageous embodiment of the decoder according to the present invention,<br>
Detailed Description of the Invention<br>
In the following the invention will be described in more detail with reference to the system of Fig. 5, the encoder 1 of Fig. 6 and decoder 2 of Fig. 7. The pictures to be encoded can be, for example, pictures of a video stream from a video source 3, e.g. a camera, a video recorder, etc. The pictures (frames) of the video stream can be divided into smaller portions such as slices. The slices can further be divided into blocks. In the encoder 1 the video stream is encoded to reduce the information to be transmitted via a transmission channel 4, or to a storage media (not shown). Pictures of the video stream are input to the encoder 1. The encoder has an encoding buffer 1.1 (Fig. 6) for temporarily storing some of the pictures to be encoded. The encoder 1 also includes a memory 1.3 and a processor 1.2 in which the encoding tasks according to the invention can be applied. The memory 1.3 and the processor 1.2 can be common with the transmitting device 6 or the transmitting device 6 can have another processor and/or memory (not shown) for other functions of the transmitting device 6. The encoder 1 performs motion estimation and/or some other tasks to compress the video stream. In motion estimation similarities between the picture to be encoded (the current picture) and a previous and/or latter picture are searched. If similarities are found the compared picture or part of it can be used as a reference picture for the picture to be encoded. In JVT the display order and the decoding order of the pictures are not necessarily the same, wherein the reference picture has to be stored in a buffer (e.g. in the encoding buffer 1.1) as long as it is used as a reference picture. The encoder 1 also inserts information on display order of the pictures into the transmission stream.<br>
From the encoding process the encoded pictures are moved to an encoded picture buffer 5.2, if necessary. The encoded pictures are<br><br>
transmitted from the encoder 1 to the decoder 2 via the transmission channel 4. In the decoder 2 the encoded pictures are decoded to form uncompressed pictures corresponding as much as possible to the encoded pictures.<br>
The decoder 1 also includes a memory 2.3 and a processor 2.2 in which the decoding tasks according to the invention can be applied. The memory 2.3 and the processor 2.2 can be common with the receiving device 8 or the receiving device 8 can have another processor and/or memory (not shown) for other functions of the receiving device 8.<br>
Encoding<br>
Let us now consider the encoding-decoding process in more detail. Pictures from the video source 3 are entered to the encoder 1 and advantageously stored in the encoding buffer 1.1. The encoding process is not necessarily started immediately after the first picture is entered to the encoder, but after a certain amount of pictures are available in the encoding buffer 1.1. Then the encoder 1 tries to find suitable candidates from the pictures to be used as the reference frames. The encoder 1 then performs the encoding to form encoded pictures. The encoded pictures can be, for example, predicted pictures (P), bi-predictive pictures (B), and/or intra-coded pictures (I). The intra-coded pictures can be decoded without using any other pictures, but other type of pictures need at least one reference picture before they can be decoded. Pictures of any of the above mentioned picture types can be used as a reference picture.<br>
The encoder advantageously attaches two time stamps to the pictures: a decoding time stamp (DTS) and output time stamp (OTS). The decoder can use the time stamps to determine the correct decoding time and time to output (display) the pictures. However, those time stamps are not necessarily transmitted to the decoder or it does not use them.<br><br>
The NAL units can be delivered in different kind of packets. In this advantageous embodiment the different packet formats include simple packets and aggregation packets. The aggregation packets can further be divided into single-time aggregation packets and multi-time aggregation packets.<br>
The payload format of RTP packets is defined as a number of different payload structures depending on need. However, which structure a received RTP packet contains is evident from the first byte of the payload. This byte will always be structured as a NAL unit header. The NAL unit type field indicates which structure is present. The possible structures are: Single NAL Unit Packet, Aggregation packet and Fragmentation unit. The Single NAL Unit Packet contains only a single NAL unit in the payload. The NAL header type field will be equal to the original NAL unit type, i.e., in the range of 1 to 23, inclusive. The Aggregation packet type is used to aggregate multiple NAL units into a single RTP payload. This packet exists in four versions, the Single-Time Aggregation Packet type A (STAP-A), the Single-Time Aggregation Packet type B (STAP-B), Multi-Time Aggregation Packet (MTAP) with 16 bit offset (MTAP16), and Multi-Time Aggregation Packet (MTAP) with 24 bit offset (MTAP24). The NAL unit type numbers assigned for STAP-A, STAP-B, MTAP16, and MTAP24 are 24, 25, 26, and 27 respectively. The Fragmentation unit is used to fragment a single NAL unit over multiple RTP packets. It exists with two versions identified with the NAL unit type numbers 28 and 29.<br>
There are three cases of packetization modes defined for RTP packet transmission:<br>
-	Single NAL unit mode,<br>
-	Non-interleaved mode, and<br>
-	Interleaved mode.<br>
The single NAL unit mode is targeted for conversational systems that comply with ITU-T Recommendation H.241. The non-interleaved mode is targeted for conversational systems that may not comply with ITU-T Recommendation H.241. In the non-interleaved mode NAL units are transmitted in NAL unit decoding order. The interleaved mode is<br><br>
targeted for systems that do not require very low end-to-end latency. The interleaved mode allows transmission of NAL units out of NAL unit decoding order.<br>
The packetization mode in use may be signaled by the value of the optional packetization-mode MIME parameter or by external means. The used packetization mode governs which NAL unit types are allowed in RTP payloads.<br>
In the interleaved packetization mode, the transmission order of NAL units is allowed to differ from the decoding order of the NAL units. Decoding order number (DON) is a field in the payload structure or a derived variable that indicates the NAL unit decoding order.<br>
The coupling of transmission and decoding order is controlled by the optional interleaving-depth MIME parameter as follows. When the value of the optional interleaving-depth MIME parameter is equal to 0 and transmission of NAL units out of their decoding order is disallowed by external means, the transmission order of NAL units conforms to the NAL unit decoding order. When the value of the optional interleaving-depth MIME parameter is greater than 0 or transmission of NAL units out of their decoding order is allowed by external means,<br>
-	the order of NAL units in an Multi-Time Aggregation Packet 16 (MTAP16) and an Multi-Time Aggregation Packet 24 (MTAP24) is not required to be the NAL unit decoding order, and<br>
-	the order of NAL units composed by decapsulating Single-Time Aggregation Packets B (STAP-B), MTAPs, and Fragmentation Units (FU) in two consecutive packets is not required to be the NAL unit decoding order.<br>
The RTP payload structures for a single NAL unit packet, an STAP-A, and an FU-A do not include DON. STAP-B and FU-B structures include DON, and the structure of MTAPs enables derivation of DON.<br>
If a transmitter wants to encapsulate one NAL unit per packet and transmit packets out of their decoding order, STAP-B packet type can be used.<br><br>
In the single NAL unit packetization mode, the transmission order of NAL units is the same as their NAL unit decoding order. In the non-interleaved packetization mode, the transmission order of NAL units in single NAL unit packets and STAP-As, and FU-As is the same as their NAL unit decoding order. The NAL units within a STAP appear in the NAL unit decoding order.<br>
Due to the fact that H.264 allows the decoding order to be different from the display order, values of RTP timestamps may not be monotonically non-decreasing as a function of RTP sequence numbers.<br>
The DON value of the first NAL unit in transmission order may be set to any value. Values of DON are in the range of 0 to 65535, inclusive. After reaching the maximum value, the value of DON wraps around to 0.<br>
A video sequence according to this specification can be any part of NALU stream that can be decoded independently from other parts of the NALU stream.<br>
An example of robust packet scheduling follows.<br>
In the following example figures, time runs from left to right, I denotes an IDR picture, R denotes a reference picture, N denotes a non-reference picture, and the number indicates a relative output time proportional to the previous IDR picture in decoding order. Values below the sequence of pictures indicate scaled system clock timestamps, and they are initialized arbitrarily in this example. Each I, R, and N picture is mapped into the same timeline compared to the previous processing step, if any, assuming that encoding, transmission, and decoding take no time,<br>
A subset of pictures in multiple video sequences is depicted below in output order.<br><br><br>
Decoding order number (DON) for a picture is equal to the value of DON for the previous picture in decoding order plus one.<br>
For the sake of simplicity, let us assume that:<br>
the frame rate of the sequence is constant,<br>
each picture consists on only one slice,<br>
each slice is encapsulated in a single NAL unit packet,<br>
pictures are transmitted in decoding order, and<br>
pictures are transmitted at constant intervals (that is equal to 1 /<br>
frame rate).<br>
Thus, pictures are received in decoding order:<br><br>
The num-reorder-VCL-NAL-units parameter is set to 0, because no buffering is needed to recover the correct decoding order from transmission (or reception order).<br>
The decoder has to buffer for one picture interval initially in its decoded picture buffer to organize pictures from decoding order to output order as depicted below:<br><br><br><br>
The amount of required initial buffering in the decoded picture buffer can be signalled in the buffering period SEI message or in the value of the num_reorder_frames syntax element of H.264 video usability information. num_reorderJrames indicates the maximum number of frames, complementary field pairs, or non-paired fields that precede any frame, complementary field pair, or non-paired field in the sequence in decoding order and follow it in output order.<br>
For the sake of simplicity, it is assumed that num_reorderJrames is used to indicate the initial buffer in the decoded picture buffer. In this example, num_reorderJrames is equal to 1.<br>
It can be observed that if the IDR picture I00 is lost during transmission, and a retransmission request is issued when the value of the system clock is 62, there is one picture interval of time (until the system clock reaches timestamp 63) to receive the retransmitted IDR picture I00.<br>
Let us then assume that IDR pictures are transmitted two frame intervals earlier than their decoding position, i.e., the pictures are transmitted in the following order:<br><br>
Let variable id1 be specified according to prior art (as disclosed in draft-ietf-avt-rtp-h264-01.txt), i.e., it specifies the maximum amount of VCL NAL units that precede any VCL NAL unit in the NAL unit stream in NAL unit decoding order and follow the VCL NAL unit in RTP sequence number order or in the composition order of the aggregation packet containing the VCL NAL unit. Let variable id2 be specified according to the present invention, i.e., it specifies the maximum amount of VCL NAL units that precede any VCL NAL unit in the NAL<br><br>
unit stream in transmission order and follow the VCL NAL unit in decoding order.<br>
In the example, the value of id1 is equal to 2 and the value of id2 is equal to 1. As already shown in section 2, the value of id1 is not proportional to the time or buffering space required for initial buffering to reorder packets from reception order to decoding order. In this example, an initial buffering time equal to one picture interval is required to recover the decoding order as illustrated below (the figure presents the output of the receiver buffering process). This example also demonstrates that the value of initial buffering time and buffering space can be concluded according to the invention.<br><br>
It can be observed that the maximum delay that IDR pictures can undergo during transmission, including possible application, transport, or link layer retransmission, is equal to num_reorder_frames + id2. Thus, the loss resiliency of IDR pictures is improved in systems supporting retransmission.<br>
The receiver is able to organize pictures in decoding order based on the value of DON associated with each picture.<br>
Transmission<br><br>
The transmission and/or storing of the encoded pictures (and the optional virtual decoding) can be started immediately after the first encoded picture is ready. This picture is not necessarily the first one in decoder output order because the decoding order and the output order may not be the same.<br>
When the first picture of the video stream is encoded the transmission can be started. The encoded pictures are optionally stored to the encoded picture buffer 1.2. The transmission can also start at a later stage, for example, after a certain part of the video stream is encoded.<br>
The decoder 2 should also output the decoded pictures in correct order, for example by using the ordering of the picture order counts.<br>
De-packetizinq<br>
The de-packetization process is implementation dependent. Hence, the following description is a non-restrictive example of a suitable implementation. Other schemes may be used as well. Optimizations relative to the described algorithms are likely possible.<br>
The general concept behind these de-packetization rules is to reorder NAL units from transmission order to the NAL unit delivery order.<br>
Decoding<br>
Next, the operation of the receiver 8 will be described. The receiver 8 collects all packets belonging to a picture, bringing them into a reasonable order. The strictness of the order depends on the profile employed. The received packets are stored into the receiving buffer 9.1 (pre-decoding buffer). The receiver 8 discards anything that is unusable, and passes the rest to the decoder 2. Aggregation packets are handled by unloading their payload into individual RTP packets carrying NALUs. Those NALUs are processed as if they were received in separate RTP packets, in the order they were arranged in the Aggregation Packet.<br><br>
Hereinafter, let N be the value of the optional num-reorder-VCL-NAL-units parameter (interleaving-depth parameter) which specifies the maximum amount of VCL NAL units that precede any VCL NAL unit in the packet stream in NAL unit transmission order and follow the VCL NAL unit in decoding order. If the parameter is not present, a 0 value number could be implied.<br>
When the video stream transfer session is initialized, the receiver 8 allocates memory for the receiving buffer 9.1 for storing at least N pieces of VCL NAL units. The receiver then starts to receive the video stream and stores the received VCL NAL units into the receiving buffer. The initial buffering lasts<br>
-	until at least N pieces of VCL NAL units are stored into the receiving buffer 9.1, or<br>
-	if max-don-diff MIME parameter is present, until the value of a function don_diff(m,n) is greater than the value of max-don-diff, in which n corresponds to the NAL unit having the greatest value of AbsDON among the received NAL units and m corresponds to the NAL unit having the smallest value of AbsDON among the received NAL units, or<br>
-	until initial buffering has lasted for the duration equal to or greater than the value of the optional init-buf-time MIME parameter.<br>
The function don_diff(m,n) is specified as follows: If DON(m) == DON(n), don_diff(m,n) = 0<br>
If (DON(m) 
If (DON(m) &gt; DON(n) and DON(m) - DON(n) &gt;= 32768), don_diff(m,n) = 65536 - DON(m) + DON(n)<br>
If (DON(m) = 32768), don_diff(m,n) = - (DON(m) + 65536 - DON(n))<br>
If (DON(m) &gt; DON(n) and DON(m) - DON(n) 
 <br>
where DON(i) is the decoding order number of the NAL unit having index i in the transmission order.<br>
A positive value of don_diff(m,n) indicates that the NAL unit having transmission order index n follows, in decoding order, the NAL unit having transmission order index m.<br>
AbsDON denotes such decoding order number of the NAL unit that does not wrap around to 0 after 65535. In other words, AbsDON is calculated as follows:<br>
Let m and n are consecutive NAL units in transmission order. For the very first NAL unit in transmission order (whose index is 0), AbsDON(O) = DON(O). For other NAL units, AbsDON is calculated as follows:<br>
If DON(m) == DON(n), AbsDON(n) = AbsDON(m)<br>
If (DON(m) 
If (DON(m) &gt; DON(n) and DON(m) - DON(n) &gt;= 32768), AbsDON(n) = AbsDON(m) + 65536 - DON(m) + DON(n)<br>
If (DON(m) = 32768), AbsDON(n) = AbsDON(m) - (DON(m) + 65536 - DON(n))<br>
If (DON(m) &gt; DON(n) and DON(m) - DON(n) 
where DON(i) is the decoding order number of the NAL unit having index i in the transmission order.<br>
When the receiver buffer 9.1 contains at least N VCL NAL units, NAL units are removed from the receiver buffer 9.1 one by one and passed to the decoder 2. The NAL units are not necessarily removed from the receiver buffer 9.1 in the same order in which they were stored, but<br><br>
according to the DON of the NAL units, as described below. The delivery of the packets to the decoder 2 is continued until the buffer contains less than N VCL NAL units, i.e. N-1 VCL NAL units.<br>
The NAL units to be removed from the receiver buffer are determined as follows:<br>
-	If the receiver buffer contains at least N VCL NAL units, NAL units are removed from the receiver buffer and passed to the decoder in the order specified below until the buffer contains N-1 VCL NAL units.<br>
-	If max-don-diff is present, all NAL units m for which don_diff(m,n) is greater than max-don-diff are removed from the receiver buffer and passed to the decoder in the order specified below. Herein, n corresponds to the NAL unit having the greatest value of AbsDON among the received NAL units.<br>
-	A variable ts is set to the value of a system timer that was initialized to 0 when the first packet of the NAL unit stream was received. If the receiver buffer contains a NAL unit whose reception time tr fulfills the condition that ts - tr &gt; init-buf-time, NAL units are passed to the decoder (and removed from the receiver buffer) in the order specified below until the receiver buffer contains no NAL unit whose reception time tr fulfills the specified condition.<br>
The order that NAL units are passed to the decoder is specified as follows.<br>
Let PDON be a variable that is initialized to 0 at the beginning of the an RTP session. For each NAL unit associated with a value of DON, a DON distance is calculated as follows. If the value of DON of the NAL unit is larger than the value of PDON, the DON distance is equal to DON - PDON. Otherwise, the DON distance is equal to 65535 - PDON + DON + 1.<br>
NAL units are delivered to the decoder in ascending order of DON distance. If several NAL units share the same value of DON distance, they can be passed to the decoder in any order. When a desired number of NAL units have been passed to the decoder, the value of<br><br>
PDON is set to the value of DON for the last NAL unit passed to the decoder.<br>
The DPB 2.1 contains memory places for storing a number of pictures. Those places are also called as frame stores in the description. The decoder 2 decodes the received pictures in correct order.<br>
The present invention can be applied in many kind of systems and devices. The transmitting device 6 including the encoder 1 advantageously include also a transmitter 7 to transmit the encoded pictures to the transmission channel 4. The receiving device 8 include the receiver 9 to receive the encoded pictures, the decoder 2, and a display 10 on which the decoded pictures can be displayed. The transmission channel can be, for example, a landline communication channel and/or a wireless communication channel. The transmitting device and the receiving device include also one or more processors 1.2, 2.2 which can perform the necessary steps for controlling the encoding/decoding process of video stream according to the invention. Therefore, the method according to the present invention can mainly be implemented as machine executable steps of the processors. The buffering of the pictures can be implemented in the memory 1.3, 2.3 of the devices. The program code 1.4 of the encoder can be stored into the memory 1.3. Respectively, the program code 2.4 of the decoder can be stored into the memory 2.3.<br><br><br>
Claims:<br>
1.	A method for buffering media data in a buffer, the media data being included in data transmission units, the data transmission units having been ordered in a transmission order which is at least partly different from a decoding order of the media data in the data transmission units, whereincharacterised in that a parameter is defined indicative of the maximum number of data transmission units that precede any data transmission unit in a packet stream in the transmission order and follow the data transmission unit in the decoding order.<br>
2.	The method according to claim 1, whereincharacterised in that said media data comprises at least one of the following:<br><br>
-	video data,<br>
-	audio data.<br><br>
3.	The method according to claim 1 or 2, whereincharacterised in that said media data comprises a slice of an encoded picture.<br>
4.	The method according to claim 1, 2 or 3, whoroincharacterised in that said transmission unit comprising media data is a VCL NAL unit.<br>
5.	A method for decoding encoded picture stream in a decoder, in which the encoded picture stream is received as data transmission units comprising media data, the data transmission units having been ordered in a transmission order which is at least partly different from a decoding order of the media data in the data transmission units, buffering of data transmission units is performed, whereincharacterised in that the buffering requirements are indicated to the decoding process as a parameter indicative of the maximum number of data transmission units that precede any data transmission unit in the packet stream in transmission order and follow the data transmission unit in the decoding order.<br>
6.	The method according to claim 5, characterised in that said parameter is examined, and memory places are reserved for buffering according to said parameter.<br><br>
7. The receiving device according to claim 6, characterised in thai pictures are decoded from the received encoded picture stream, and encoded pictures are buffered using the reserved memory places.<br>
68. A system comprising an encoder for encoding pictures, a buffer for buffering media data, the media data being included in data transmission units, the data transmission units having been ordered in a transmission order which is at least partly different from a decoding order of the media data in the data transmission units, whereincharacterised in that the system comprises a definer adapted to define a parameter is arranged to bo defined indicative of the maximum number of data transmission units that precede any data transmission unit in the packet stream in transmission order and follow the data transmission unit in the decoding order<br>
79. The system according to claim 66, whereincharacterised in that it comprises a decoder for decoding encoded pictures, and a memory for buffering decoded pictures, wherein said parameter is arranged to be used for determining required amount of memory places to be reserved from the memory for buffering decoded pictures.<br>
810. The system according to claim 68, whereincharacterised in that said multimedia data comprises a slice of an encoded picture.<br>
911. The system according to claim 68, whoroincharacterised in that said data transmission unit is a VCL NAL unit.<br>
4012. A transmitting device for transmitting media data being included in data transmission units, the data transmission units having been ordered in a transmission order which is at least partly different from a decoding order of the media data in the data transmission units, whereincharacterised in that the transmitting device comprises a definer adapted to define a parameter is arranged to be defined indicative of the maximum number of data transmission units that precede   any   data   transmission   unit   in   the   packet   stream   in<br><br>
transmission order and follow the data transmission unit in the decoding order.<br>
13.	The transmitting device according to claim 12. characterised in that said multimedia data comprises a slice of an encoded picture.<br>
14.	The transmitting device according to claim 12, characterised in that said transmission unit comprising multimedia data is a VCL NAL unit.<br>
4415. A receiving device for receiving encoded picture stream as data transmission units comprising media data, the data transmission units having been ordered in a transmission order which is at least partly different from a decoding order of the media data in the data transmission units, wheroincharacterised in that the receiving device comprises means for determining buffering reguirements by using a parameter is arranged to bo usod indicative of the maximum number of transmission units that precede any data transmission unit in the packet stream in transmission order and follow the data transmission unit in the decoding order.<br>
4216. The receiving device according to claim 4415, wheroincharacterised in that it comprises a memory, and said means for using a parameter comprise a definer for examining said parameter and for reserving memory places for buffering from said memory according to said parameter.<br>
4S17- The receiving device according to claim 421J3, wheroincharacterised in that it comprises a decoder for decoding pictures from the received encoded picture stream, and means for using the reserved memory places for buffering the encoded pictures.<br>
4418. A computer program product comprising machine executable steps for buffering encoded pictures in a buffer, the media data being included in data transmission units, the data transmission units having been ordered in a transmission order which is at least partly different from a decoding order of the media data in the data transmission units,<br><br>
whoroincharacterised in that the computer program product further comprises machine executable steps for defining a parameter indicative of the maximum number of data transmission units that precede any data transmission unit in the packet stream in transmission order and follow the data transmission unit in the decoding order.<br>
19. A computer program product comprising machine executable steps for decoding encoded picture stream, in which the encoded picture stream is received as transmission units comprising multimedia data, and machine executable steps for buffering transmission units, characterised in that the computer program product comprises machine executable steps for determining buffering requirements to the decoding process by using a parameter indicative of the maximum amount of transmission units comprising multimedia data that precede any transmission unit comprising multimedia data in the packet stream in transmission unit transmission order and follow the transmission unit comprising multimedia data in decoding order<br>
4420. A signal carrying media data included in data transmission units, the data transmission units having been ordered in a transmission order which is at least partly different from a decoding order of the media data in the data transmission units, whoreincharacterised in that the signal includes a parameter indicative of the maximum number of data transmission units that precede any data transmission unit in the packet stream in transmission order and follow the data transmission unit in the decoding order.<br>
4521. A module for receiving encoded picture stream as data transmission units comprising media data, the data transmission units having been ordered in a transmission order which is at least partly different from a decoding order of the media data in the data transmission units, whereincharacterised in that the module comprises means for determining buffering reguirements by using a parameter is arranged to be used indicative of the maximum number of data transmission units that precede any data transmission unit in the<br><br>
packet stream in transmission order and follow the data transmission unit in the decoding order.<br>
22.	A processor for processing media data in a transmitting device,<br>
characterised in that the processor comprises a definer adapted to<br>
' define a parameter indicative of the maximum amount of transmission units comprising multimedia data that precede any transmission unit comprising multimedia data in the packet stream in transmission unit transmission order and follow the transmission unit comprising multimedia data in decoding order.<br>
23.	The processor according to claim 22t characterised in that said multimedia data comprises a slice of an encoded picture.<br>
24.	The processor according to claim 22, characterised in that said transmission unit comprising multimedia data is a VCL NAL unit.<br>
25.	A processor for processing media data in a receiving device for receiving encoded picture stream as transmission units comprising slice data, characterised in that the processor comprises means for determining buffering reguirements by using a parameter indicative of the maximum amount of transmission units comprising multimedia data that precede any transmission unit comprising multimedia data in the packet stream in transmission unit transmission order and follow the transmission unit comprising multimedia data in decoding order.<br>
26.	The processor according to claim 25, characterised in that it comprises a memory, and said means for using a parameter comprise a definer for examining said parameter and for reserving memory places for buffering from said memory according to said parameter.<br>
27.	The processor according to claim 25, characterised in that it comprises a decoder for decoding pictures from the received encoded picture stream, and means for using the reserved memory places for buffering the encoded pictures.<br><br>
28.	An encoder for encoding media data being included in data<br>
transmission units, the data transmission units having been ordered in<br>
a transmission order which is at least partly different from a decoding<br>
order of the media data in the data transmission units, characterised<br>
in that the encoder comprises a definer adapted to define a parameter<br>
indicative of the maximum number of data transmission units that<br>
precede any data transmission unit in the packet stream in<br>
transmission order and follow the data transmission unit in the<br>
decoding order.<br>
29.	The encoder according to claim 28, characterised in that said<br>
multimedia data comprises a slice of an encoded picture.<br>
30.	The encoder according to claim 28, characterised in that said<br>
transmission unit comprising multimedia data is a VCL NAL unit-<br>
Si. A decoder for decoding encoded picture stream included in data<br>
transmission units comprising media data, the data transmission units<br>
having been ordered in a transmission order which is at least partly<br>
different from a decoding order of the media data in the data<br>
transmission units, characterised in that the decoder comprises<br>
means for determining buffering reguirements by using a parameter<br>
indicative of the maximum number of transmission units that precede<br>
any data transmission unit in the packet stream in transmission order<br>
and follow the data transmission unit in the decoding order.<br>
32.	The decoder according to claim 31. characterised in that it<br>
comprises a memory, and said means for using a parameter comprise<br>
a definer for examining said parameter and for reserving memory<br>
places for buffering from said memory according to said parameter.<br>
33.	The decoder according to claim 32, characterised in that it<br>
comprises means for using the reserved memory places for buffering<br>
the encoded pictures.<br><br><br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTkzNy1jaGVucC0yMDA1IGFic3RyYWN0IGR1cGxpY2F0ZS5wZGY=" target="_blank" style="word-wrap:break-word;">1937-chenp-2005 abstract duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTkzNy1jaGVucC0yMDA1IGNsYWltcyBkdXBsaWNhdGUucGRm" target="_blank" style="word-wrap:break-word;">1937-chenp-2005 claims duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTkzNy1jaGVucC0yMDA1IGRlc2NyaXB0aW9uIChjb21wbGV0ZSkgZHVwbGljYXRlLnBkZg==" target="_blank" style="word-wrap:break-word;">1937-chenp-2005 description (complete) duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTkzNy1jaGVucC0yMDA1LWFic3RyYWN0LnBkZg==" target="_blank" style="word-wrap:break-word;">1937-chenp-2005-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTkzNy1jaGVucC0yMDA1LWNsYWltcy5wZGY=" target="_blank" style="word-wrap:break-word;">1937-chenp-2005-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTkzNy1jaGVucC0yMDA1LWNvcnJlc3BvbmRuZWNlLW90aGVycy5wZGY=" target="_blank" style="word-wrap:break-word;">1937-chenp-2005-correspondnece-others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTkzNy1jaGVucC0yMDA1LWNvcnJlc3BvbmRuZWNlLXBvLnBkZg==" target="_blank" style="word-wrap:break-word;">1937-chenp-2005-correspondnece-po.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTkzNy1jaGVucC0yMDA1LWRlc2NyaXB0aW9uKGNvbXBsZXRlKS5wZGY=" target="_blank" style="word-wrap:break-word;">1937-chenp-2005-description(complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTkzNy1jaGVucC0yMDA1LWRyYXdpbmdzLnBkZg==" target="_blank" style="word-wrap:break-word;">1937-chenp-2005-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTkzNy1jaGVucC0yMDA1LWZvcm0gMS5wZGY=" target="_blank" style="word-wrap:break-word;">1937-chenp-2005-form 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTkzNy1jaGVucC0yMDA1LWZvcm0gMTgucGRm" target="_blank" style="word-wrap:break-word;">1937-chenp-2005-form 18.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTkzNy1jaGVucC0yMDA1LWZvcm0gMjYucGRm" target="_blank" style="word-wrap:break-word;">1937-chenp-2005-form 26.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTkzNy1jaGVucC0yMDA1LWZvcm0gMy5wZGY=" target="_blank" style="word-wrap:break-word;">1937-chenp-2005-form 3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTkzNy1jaGVucC0yMDA1LWZvcm0gNS5wZGY=" target="_blank" style="word-wrap:break-word;">1937-chenp-2005-form 5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTkzNy1jaGVucC0yMDA1LXBjdC5wZGY=" target="_blank" style="word-wrap:break-word;">1937-chenp-2005-pct.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="218892-a-method-of-disintegrating-biofilm.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="218894-a-dual-centrifugal-clutch-system.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>218893</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>1937/CHENP/2005</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>23/2008</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>06-Jun-2008</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>16-Apr-2008</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>16-Aug-2005</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>NOKIA CORPORATION</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td></td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>HANNUKSELA, MISKA</td>
											<td></td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04N7/24</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/FI2004/050016</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2004-02-17</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>60/448,693</td>
									<td>2003-02-18</td>
								    <td>U.S.A.</td>
								</tr>
								<tr>
									<td>2</td>
									<td>60/483,159</td>
									<td>2003-06-27</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/218893-a-system-and-method-for-buffering-media-data-in-a-buffer by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 12:26:59 GMT -->
</html>
