<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/270081-system-and-method-for-implementing-network-reservation-storage-and-reservation-server by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 05:38:10 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 270081:&quot;SYSTEM AND METHOD FOR IMPLEMENTING NETWORK RESERVATION STORAGE AND RESERVATION SERVER&quot;</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">&quot;SYSTEM AND METHOD FOR IMPLEMENTING NETWORK RESERVATION STORAGE AND RESERVATION SERVER&quot;</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>Embodiments of the present invention provide a system and method for implementing network reservation storage. The system of the present invention includes a management server, a reservation server and a storage server. The management server is configured to send sharing user information obtained from the network to the reservation server; the reservation server is configured to receive a reservation event from a download user, and send the obtained sharing user information corresponding to data resources to the storage server when the data resources corresponding to the reservation event are downloadable; and the storage server is configured to establish a connection with a sharing user according to the sharing user information and download the data resources.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>System and Method for Implementing Network Reservation Storage and Reservation Server<br>
Field of the Invention<br>
The present invention relates to the computer technology, and more particularly, to a system and method for implementing network reservation storage and a reservation server.<br>
Background of the Invention<br>
Along with the development of computer network technology, it becomes more rapid and convenient to share resources in the network. At present, a Peer-to-Peer (P2P) technology is the most frequently used resource sharing mode. The P2P technology is different from a sharing technology adopting a Client/Server mode, but has some in common with the sharing technology, and thus can be used as a complementary technology of the Client/Server technology.<br>
In the Internet adopting the P2P technology, a user can share resources which are possessed by all computers with P2P software in the network through the P2P software installed in his/her own computer. The resources include processing resources, storage resources, network connection resources, etc. These resources can be directly visited by other computers in the network without needing intermediate entities. In the process of sharing, the computer in the netv^'ork may be a resource provider, i.e. a server, or a resource receiver, i.e. a client. Thus, from the viewpoint of the sharing, computers with the P2P software are peer to peer, data can be directly transmitted among these computers, and storage resources to be shared are no longer needed to be transferred by a server, which can reduce the load of the server in the network.<br>
Since the computers of a large number of users in the network adopt the P2P technology, the file sharing among the users is very easy and occupies most bandwidth of the network. According to the statistic result made by the Cache Logic Company, in January of 2006, the network traffics generated by using the sharing download software adopting the P2P technology, such as Bit Torrent (BT), eDonkey, etc., occupies 71% of bandwidth of the whole Internet. With the software adopting the P2P technology, the user<br><br>
can easily obtain a sharing file distributed on computers of the world. Especially, a popular file can be rapidly diffused in the Internet through the P2P technology.<br>
When the P2P technology is adopted, the logic structure of the network mainly includes a centralized/semi-distributed structure and a full-distributed structure. In the Internet adopting the P2P technology, the centralized/semi-distributed structure is widely used. A management server or a super-node is set as a centralized management node in the network adopting the centralized/semi-distributed structure and is used for managing sharing resources in the network, e.g. managing or maintaining a sharing file, specifically, managing file index information, file network link locating information, user online state information, etc. Refer to Figure 1, the process of file resource sharing is explained by taking the management server in the prior art as an example. In Figure 1, a user A is a downloading user of the file resources, and a user B is a provider of the file resources.<br>
Step S101: The user A sends an inquiry request to the management server.<br>
The user A inquires the needed file resources with his/her own computer through the management server.<br>
Step S102: The management server sends information of the user B to the user A.<br>
After receiving the inquiry request from the user A and inquiring the management server itself, the management server finds that the user B possesses the file resources needed by the user A, and sends the information of the user B to the user A.<br>
Step SI 03: Data transmission is performed between the user A and the user B.<br>
After receiving the information of the user B, the user A establishes a P2P connection with the user B, and receives the needed file resources from the user B.<br>
In the network adopting the P2P technology, that the computer of each user in the network joins or leaves the network has a lot of dynamic features. Thus, when the user B leaves the network, or the user A leaves the network due to its own problems and does not have enough time to obtain all file resources of the user B, the user A can only obtain partial file resources of the user B. The residual file resources can not be obtained until both the user A and the user B simultaneously access the network for the next time.<br><br>
However, whether the computers of the users A and B can simultaneously access the network is uncertain, which may result in that when the computer of the user B accesses the network, the user A requesting for downloading has left the network, and thus, the user A can not share the file resources of the user B.<br>
Thus, although the file resources in the network are abundant, there is a problem that a user who has a downloading request can not obtain the needed resources.<br>
Summary of the Invention<br>
Embodiments of the present invention provide a system and method for implementing network reservation storage and a reservation server, by which a problem that a user who has a downloading request can not obtain the needed resources can be solved.<br>
An embodiment of the present invention provides a system for implementing the network reservation storage, Including:<br>
a management server is configured to send sharing user information obtained from the network to a reservation server;<br>
the reservation server is configured to receive a reservation event from a downloading user, and send the obtained sharing user information corresponding to data resources to a storage server when the data resources corresponding to the reservation event are downloadable; and<br>
the storage server is configured to establish a connection with a sharing user according to the sharing user information and download the data resources.<br>
Another embodiment of the present invention provides a method for implementing the network reservation storage, including:<br>
receiving a reservation event from a downloading user;<br>
obtaining sharing user information corresponding to data resources after determining that the data resources corresponding to the reservation event are downloadable; and<br>
establishing, by a storage server, a connection with a sharing user according to the sharing user information, downloading and saving the data resources.<br>
Another embodiment of the present invention provides a reservation  server.<br><br>
connected with a storage server: the storage server is configured to establish a connection with a sharing user according to sharing user information provided by the reservation server, and download data resources;<br>
the reservation server comprises:<br>
a receiving unit is configured to receive a reservation event from a downloading user;<br>
a determining unit is configured to notify a sending unit when determining that the data resources corresponding to the reservation event are downloadable; and<br>
the sending unit is configured to send the obtained sharing user information corresponding to the data resources to the storage server.<br>
In the embodiments of the present invention, after the downloading user leaves the network, the server obtains the data resources from the sharing user according to the reservation event and saves the data resources. After obtaining all the data resources, the server notifies the downloading user, and the downloading user obtains the needed data resources from the server. The embodiments of the present invention solve the problem that the downloading user can not obtain the data resources from the sharing user when the sharing user is in the network and the downloading user is not in the network, which greatly improves the transfer efficiency of the data resources among users in the network, and is convenient for downloading the data resources by the users in the network. Especially, in the process that the downloading user obtains the data resources, if the connection between the downloading user and the sharing user is disconnected, the server obtains the data resources that have not been obtained by the downloading user before the disconnection for the downloading user, and informs the downloading user to obtain the data resources after completing the downloading, which is convenient for the downloading user in the network to obtain the data resources.<br>
Brief Description of the Drawings<br>
Figure 1 is a flow chart illustrating the file resource sharing in the prior art.<br>
Figure 2 is a schematic diagram illustrating the structure of a system according to a first embodiment of the present invention.<br>
Figure 3 is a flow chart illustrating a second embodiment of the present invention.<br><br>
Figure 4 is a flow chart illustrating a third embodiment of the present invention.<br>
Figure 5 is a flow chart illustrating a fourth embodiment of the present invention.<br>
Figure 6 is a flow chart illustrating a fifth embodiment of the present invention.<br>
Figure 7 is a schematic diagram illustrating the structure of a sixth embodiment of the present invention.<br>
Detailed Description of the Invention<br>
In order to explain how the embodiments of the present invention solve the problem in the prior art, the embodiments of the present invention are described in detail hereinafter with reference to the accompanying drawings.<br>
Refer to Figure 2, a system is illustrated according to the first embodiment of the present invention. In this embodiment, the system includes a management server, a reservation server and a storage server.<br>
The management server is configured to send sharing user information obtained from the network to the reservation server.<br>
The reservation server is configured to receive a reservation event from a downloading user, and send the obtained sharing user information corresponding to data resources to the storage server when the data resources corresponding to the reservation event are downloadable.<br>
The storage server is configured to establish a connection with a sharing user according to the sharing user information, and download the data resources.<br>
In the structure of die system shown in Figure 2, a connection relationship between the storage server and the sharing user is not directly shown. A skilled person in the art can understand that the storage server may establish, via a variety of connection modes, the connection with the sharing user according to the sharing user information so as to download the data resources.<br>
The downloading user refers to a user who needs to download the data resources<br><br>
from the network. The sharing user refers to a user who possesses the data resources corresponding to the reservation event in the network. The sharing user information refers to address linking information of the sharing user, such as an IP address and a port. The data resources are files of various formats.<br>
In this embodiment, if the user A is the downloading user, the user A may send reservation information to the reservation server. The reservation server parses the received reservation information and obtains the reservation event in the reservation information. The reservation event includes a plurality of description attributes. The description attributes include the keyword of a filename, the type of a file, the valid period of the reservation event, size limitation of the file, the upper limit of the quantity of files to be downloaded, and the Hash value of file contents, etc.<br>
After obtaining the reservation event by parsing the reservation information, the reservation server may firstly inquire, according to the description attributes in the reservation event, whether the storage server has saved the data resources corresponding to the obtained reservation event. The storage server establishes the connection with the user A if the storage server has saved the data resources for the downloading of other previous users, and the user A obtains the needed data resources.<br>
Certainly, when sending a reservation message to the reservation server, the user A may send the same reservation message to the management server. The management server parses the reservation message, and searches for sharing users in the network according to the obtained reservation event. If there are the sharing users in the network, and the sharing users are users B and C, the management server sends information of the sharing users B and C to the user A, and the user A establishes connections with the users B and C, and obtains the data resources. If the user A has established the connection with the storage server, the user A can simultaneously obtain the data resources from the user B, the user C and the storage server, so that the needed data resources can be obtained with the least time.<br>
If the storage server has not saved the data resources needed by the user A, the management server may send the user information of the users B and C to the user A and the reservation server. The user A may directly establish the connections with the users B<br><br>
and C according to the user information and obtain the data resources. The user A may also send a command to the reservation server, the reservation server informs the storage server to establish the connections with the users B and C, and obtain the data resources needed by the user A. After obtaining and saving all the data resources needed by the user A, the storage server informs the user A to download the data resources via a mail, a short message or an instant messaging message in other forms.<br>
It is impossible that the users B and C as the providers of the data resources stay in the network in real time. If the users B and C are not in the network, the management server can not search out the user information of the users B and C, and can not provide sharing user information to the reservation server and the user A. Even if the user A does not have the sharing user information, the user A will leave the network. The management server sends a notification that there is no sharing user information to the reservation server, and the reservation server saves the obtained reservation event into a reservation database after receiving the notification. After finding that the users B and C join the network, the management server sends the user information of the users B and C to the reservation server. After receiving the user information of the users B and C, the reservation server determines whether the reservation database has saved the reservation event corresponding to the user information. If the reservation database has saved the reservation event of the user A, the reservation server triggers the storage server to execute operations. The storage server establishes a connection according to the user information of the users B and C, and obtains the data resources needed by the user A. After obtaining and saving all the data resources needed by the user A, the storage server informs the user A to download the data resources via a mail, a short message or an instant messaging message in other forms.<br>
In the above embodiment, when the sharing user is not in the network, the downloading user may request the storage server in the network to perform the operation of obtaining the data resources. When the sharing user is in the network, the downloading user may leave the network and request the server in the network to perform the operation of obtaining the data resources, and may also directly obtain the data resources from the sharing user. As described above, the user A receives the user information of the users B and C sent from the management server, establishes the connections with the users B and C according to the user information, and obtains the needed data resources.<br><br>
In the process that the user A obtains the data resources from the users B and C, the management server sends progress information of the user A obtaining the data resources to the reservation server in real time. The reservation server saves the progress information into the reservation database. If the transmission process of the data resources between the user A and users B and C breaks off, e.g., the user A leaves the network, the reservation server may discover this situation by noticing that the progress information is not changed, and informs the storage server to obtain the residual data resources that have not been obtained by the user A. The storage server establishes the connections with the users B and C according to the user information which is saved in the reservation server and sent from the management server, obtains the residual data resources that have not been obtained by the user A according to the progress information in the reservation database. After obtaining and saving all the data resources needed by the user A, the storage server informs the user A to download the data resources via a mail, a short message or an instant messaging message in other forms.<br>
The reservation server in the system of the above embodiment may adopt a static storage mode or a dynamic loading mode when running the reservation database. Relatively, the dynamic loading mode has faster accessing and searching speed, but requires that the reservation server has more system memory. If the reservation event has been finished, the reservation event can be saved in the static storage mode to reduce the occupation of the system memory. If the reservation scope is relatively small, the reservation server may be embedded into a management server; otherwise, a network device should be set separately. It should be noted that if the reservation server runs as an independent device, in order to avoid affecting normal network operations of the management server, the reservation server and the management server should be connected in the same network segment, i.e. connected in the same network switch and adopt a parallel mechanism similar to a network intrusion detection system, and the reservation server by-pass intercepts user data of the management server on a port of the network switch.<br>
The storage server in the system of the above embodiment may allocate storage space with the different capacities according to a service grade of each user and sets a threshold value, and the size of a file that the user reserves to download can not excess the threshold value. The storage server may also make indexes for files saved by itself, so as<br><br>
to rapidly search. When reservation events of two users are the same, i.e. reserved contents are overlapped, the storage server may directly copy files in the storage space of a user, or establish object indexes for repeatedly required files, so that the data resources needed by the user are sent to the user in time. The storage server may be a single or cluster storage device, and may also adopt a distributed storage policy. For the distributed storage, the system supports that multiple storage servers download different segments of a file fi-om a file provider at the same time, so that rapid uploading and downloading can be implemented via the multi-source file transmission protocol (MFTP).<br>
The relationship between the servers and the function of each server in the system are described in detail in the above embodiment. Hereinafter, an embodiment illustrating the flow of reservation storage is described in detail. Refer to Figure 3, the second embodiment is described.<br>
Step S301: A downloading user sends a reservation message.<br>
In order to be convenient for transmitting, the downloading user sends a reservation event to a reservation server and a management server in the form of the reservation message.<br>
Step S302; The reservation server parses the reservation message.<br>
The reservation server obtains the reservation event by parsing the reservation message and saves the reservation event in a reservation database. User information of all downloading users and downloading record information of data resources reserved by the downloading user are recorded in the reservation database. For example, the downloading record information may include whether all the data resources have been downloaded onto a storage server, progress information of downloaded data resources, etc.<br>
Step S303: The reservation server determines whether the storage server has saved the corresponding data resources.<br>
The reservation server determines whether other downloading users have reserved the same data resources and whether all the data resources have been downloaded by the storage server and have not been taken away. If yes, Step S304 is performed; otherwise, the flow terminates.<br><br>
Step S304: The reservation server notifies the storage server, and the storage server sends the data resources to the downloading user.<br>
Since the storage server saves the data resources reserved by other downloading users and the data resources have not been taken away, the storage server receives a notification from the reservation server, obtains the user information of the downloading user and directly sends the corresponding data resources to the downloading user after copying the data resources.<br>
Step S305: The management server parses the reservation message.<br>
The management server parses the reservation message and obtains the reservation event.<br>
Step S306: The management server determines whether there is sharing user information.<br>
The management server determines whether there is the sharing user information of the data resources corresponding to the reservation event in the network. If yes. Step S3 07 is performed; otherwise. Step S308 is performed.<br>
Step S308: The management server notifies the downloading user.<br>
The management server notifies that there is no sharing user in the network.<br>
Step S307: The management server determines whether the downloading user needs to perform downloading.<br>
If there is sharing user information in the network and the downloading user needs to establish a connection for downloading with the sharing user, Step S309 is performed; if the downloading user does not establish the connection, Step S310 is performed.<br>
Step S309: The downloading user establishes the connection.<br>
The downloading user obtains the sharing user information from the management server, establishes a P2P connection with the sharing user, and downloads the needed data resources.<br><br>
Step S310: The storage server performs the downloading.<br>
If the downloading user does not establish the connection with the sharing user, it is indicated that the downloading user may leave the network; at this time, the management server sends a notification containing the sharing user information to the reservation server. After receiving the sharing user information, the reservation server triggers the storage server to establish the P2P connection with the sharing user according to the sharing user information, and obtain the data resources needed by the downloading user.<br>
After Steps S304, S309 and S310 is performed, i.e. after the downloading user obtains all the data resources, Step S311 is performed.<br>
Step S311: The reservation database is updated.<br>
The reservation database is updated, i.e. the reservation event in the reservation database is deleted, and a corresponding log is recorded.<br>
After obtaining and saving all the data resources needed by the downloading user, the storage server notifies the downloading user via a mail, a short message or an instant messaging message in other forms. After receiving the notification, the downloading user obtains the data resources from the storage server.<br>
In the first embodiment, after the downloading user submits the reservation event to the reservation server, the storage server may directly download the data resources. After downloading all the data resources, the storage server notifies the downloading user. Steps S304 and S309 may be performed at the same time, which can increase downloading speed of the downloading user and save time for obtaining all the data resources by the downloading user. In Step S309, when the downloading user performs the downloading, if the downloading user leaves the network without obtaining all the data resources, the downloading user can only obtain partial segments of the data resources. A scheme for solving the problem is described in the second embodiment, refer to Figure 4.<br>
Step S401: A downloading user sends a reservation message.<br>
Step S402: A reservation server parses the reservation message.<br><br>
I<br>
Step S403: The reservation serv'er sends a reservation event to a management server.<br>
The reservation server determines that a storage server does not have data resources needed by the downloading user, and sends the reservation event to the management server.<br>
Step S404: The management server determines that there is sharing user information.<br>
Step S405: The management server determines that the downloading user performs downloading by himself/herself.<br>
Step S406: The downloading user establishes a connection and obtains the data resources.<br>
The downloading user establishes the connection with a sharing user, and obtains the data resources.<br>
Step S407: The management server determines whether the downloading user has left.<br>
In the process that the downloading user obtains the data resources, the management server keeps on determining whether the downloading user is in the network. If yes, the determining is continued; otherwise. Step S408 is performed.<br>
Step S408: The management server notifies the reservation server.<br>
The downloading user is likely to disconnect with the network due to a variety of reasons. At this time, the management server will notify the reservation server that the downloading user is off-line, i.e. the downloading user has disconnected with the network, and notifies the reservation server of the corresponding sharing user information, progress information, etc.<br>
Step S409: The reservation server triggers the storage server to perform downloading.<br>
Since all the P2P systems support file downloading tracing and record the progress information, the reservation server triggers the storage server to refer to the progress<br><br>
information, establish the connection with the sharing user according to the sharing user information and download residual segments of the data resources from the sharing user that have not been obtained by the downloading user because the downloading user leaves.<br>
Step S410: The reservation database is updated.<br>
The storage server obtains and saves the residual segments of the data resources that have not been obtained by the downloading user because the downloading user leaves, and notifies the downloading user via a mail, a short message, or an instant messaging message in other forms. The downloading user obtains the residual segments of the data resources from the storage server after receiving the notification.<br>
Both the above embodiments describes how the network downloads and saves the data resources for the downloading user when the sharing user is in the network and the downloading user leaves the network or disconnects with the network in the process of downloading. Since that the sharing user and the downloading user frequently join and leave the network has a lot of dynamic features, it is likely that the sharing user is not in the network but signs in the network later after the downloading user signs in the network and submits the reservation event, as described in Steps S306 and S308 of the first embodiment. In this case, the downloading user may have left the network or is still in the network. A scheme for solving this problem is described via the third embodiment, refer to Figure 5.<br>
Step S501: A management server determines whether a sharing user joins the network.<br>
The management server keeps on determining whether a sharing user joins the network, and sends sharing user information to a reservation server after determining that a sharing user joins the network.<br>
Step S502: The reservation server searches a reservation database.<br>
After receiving the sharing user information, the reservation server searches the reservation database according to data resources possessed by the sharing user. Since the reservation server has saved a reservation event into the reservation database and there is<br><br>
a corresponding relationship between the reservation event and the data resources, the reservation server can determine whether the reservation database has saved the corresponding reservation event according to the data resources.<br>
Step S503: It is determined whether there is the reservation event.<br>
The reservation server searches out whether there is the reservation event in the reservation database according to the data resources. If yes, Step S504 is performed; otherwise, the flow terminates.<br>
Step S504: It is determined whether the downloading user is on-line.<br>
The reservation database saves the corresponding reservation event, which indicates that there is a downloading user who needs to obtain the corresponding data resources from the sharing user. At this moment, it is needed to firstly determine whether the downloading user is in the network, i.e. whether the downloading user is on-line. The reservation server sends downloading user information to the management server, and the management server determines whether the downloading user is on-line. If the downloading user is on-line. Step S505 is performed; otherwise, Step S507 is performed.<br>
Step S505: The management server determines whether the downloading user has establishes a connection.<br>
If the downloading user has establishes a connection, Step S506 is performed; otherwise, Step S507 is performed.<br>
Step S506: The downloading user establishes the connection.<br>
When needing to perform the downloading by himself/herself, the downloading user may obtain the sharing user information from the reservation server or the management server, establish a P2P connection with the sharing user, and obtain the needed data resources.<br>
Step S507: A storage server performs the downloading.<br>
If the downloading user is off-line or can not establish the connection with the sharing user due to other reasons, the management server notifies the reservation server,<br><br><br>
and the reservation server triggers the storage server to establish the connection with the sharing user according to the sharing user information in the reservation server and obtain all the data resources needed by the downloading user.<br>
Step S508: The reservation database is updated.<br>
After the termination of the downloading, the reservation database is updated, i.e. the reservation event in the reservation database is deleted and relevant logs are recorded.<br>
After obtaining and saving all the data resources needed by the downloading user, the storage server notifies the downloading user via a mail, a short message or an instant messaging message in other forms. After receiving the notification, the downloading user obtains the data resources from the storage server.<br>
In the third embodiment, the downloading user chooses to perform the downloading by himself/herself, i.e. Step S506 is performed. In the process that the downloading user obtains the data resources from the sharing user, if the downloading user disconnects with the network, this situation can be solved by adopting Steps S407 to 8410 in the second embodiment. Certainly, there may be another situation, i.e. after establishing the connection with the sharing user, the downloading user obtains partial data resources because the sharing user leaves the network, and also leaves the network later, and then the sharing user joins the network again. For this situation, refer to Figure 6, a scheme for solving this problem is described through the fourth embodiment.<br>
Step S601: A management server notifies a reservation server.<br>
Since the sharing user has left the network, the connection between the downloading user and the sharing user is broken off, the management server notifies the reservation server that the sharing user is off-line, i.e. the sharing user has disconnected with the network, and notifies the reservation server of progress information before the disconnection.<br>
Step S602: The reservation server records the received information.<br>
The reservation server records the received information into a reservation database, together with a corresponding reservation event.<br><br>
Step S603: The management server determines whether a sharing user joins the network.<br>
The management server keeps on determining whether a sharing user joins the network. If a sharing user joins the network, the management server sends sharing user information to the reservation server. The newly joined sharing user may be the sharing user before the disconnection, or a sharing user different from the sharing user before the disconnection, as long as the newly joined sharing user has the data resources needed by the downloading user.<br>
Step S604: The reservation server searches the reservation database.<br>
After receiving the sharing user information, the reservation server searches the reservation database according to the data resources possessed by the sharing user. Since the reservation server has saved the reservation event into the reservation database and there is a corresponding relationship between the reservation event and the data resources, the reservation server can determine whether the reservation database has saved the corresponding reservation event via the data resources.<br>
Step S605: It is determined whether there is the reservation event.<br>
The reservation server determines whether there is the reservation event in the reservation database via the data resources. If there is the reservation event in the reservation database, it is indicated that the downloading user needs to obtain the corresponding data resources from the sharing user, and Step S606 is performed; otherwise, the flow terminates.<br>
Step S606: It is determined whether the downloading user is on-line.<br>
It is firstly determined whether the downloading user is in the network, i.e. whether the downloading user is on-line. The reservation server sends the downloading user information to the management server, and the management server determines whether the downloading user is on-line. If the downloading user is on-line. Step S607 is performed; otherwise. Step S609 is performed.<br>
Step S607: The management server determines whether the downloading user has<br><br><br>
I<br>
established the connection.<br>
If the downloading user has established the connection, Step S608 is performed; otherwise, Step S609 is performed.<br>
Step S608: The downloading user establishes the connection.<br>
When needing to perform the downloading by himself/herself, the downloading user obtains the sharing user information from the reservation server or the management server, establishes the P2P connection with the sharing user, and obtains residual segments of the data resources that have not been obtained due to the disconnection of last time.<br>
Step S609: The storage server performs the downloading.<br>
If the downloading user is off-line or can not establish the connection with the sharing user due to other reasons, the management server notifies,the reservation server, and the reservation server searches the reservation database, and after finding the progress information of the downloading user recorded in the corresponding reservation event, triggers the storage server. The storage server establishes the connection with the sharing user according to the sharing user information in the reservation server, and obtains, according to the progress information, the residual segments of the data resources that have not been obtained because the downloading user disconnects with the sharing user last time.<br>
Step S610: The reservation database is updated.<br>
After the termination of the downloading, the reservation database is updated, i.e. the reservation event in the reservation database is deleted, and relevant logs are recorded.<br>
After obtaining and saving the residual segments of the data resources that have not been obtained because the downloading user is off-line, the storage server notifies the downloading user via a mail, a short message, or an instant messaging message in other forms. After receiving the notification, the downloading user obtains the residual segments of the data resources from the storage server.<br>
In the working process of the system, the reservation server may frequently receive<br><br>
messages of the sharing user after the sharing user joins the network. In order to reduce the burden of the reservation server, multiple reservation servers may be used to implement load equilibrium. The multiple reservation servers may be configured in a cluster or distributed structure. A time period or a threshold value of receiving sharing user information may be used as a working condition of triggering the reservation server.<br>
In each of the above embodiments, the reservation server plays a key role in implementing the reservation storage function. Refer to Figure 7, the constitution of the reservation server is explained via the sixth embodiment of the present invention.<br>
A reservation server 701 includes a receiving unit 702, a determining unit 703, and a sending unit 704.<br>
The receiving unit 702 is configured to receive a reservation event from a downloading user.<br>
The determining unit 703 is configured to notify the sending unit 704 when learning that data resources corresponding to the reservation event are downloadable.<br>
The sending unit 704 is configured to send the obtained sharing user information corresponding to the data resources.<br>
In each of the above embodiments, the connection which is established between each server, the downloading user and the sharing user when the data transmission is performed may be a P2P connection, but is not limited to this connection mode. The data transmission may be performed via other connection modes, such as direct connection or connections in other modes. The storage server may be implemented via network hardware.<br>
For the system and method described in each embodiment of the present invention, any modification, equivalent replacement or improvement to the present invention according to the sprit and scope of the present invention as defined by the appended claims, is included within the protection scope of the present invention.<br><br><br>
Claims<br>
What is claimed is:<br>
1.	A system for implementing network reservation storage, comprising:<br>
a management server is configured to send sharing user information obtained from the network to a reservation server;<br>
the reservation server is configured to receive a reservation event from a downloading user, and send the obtained sharing user information corresponding to data resources to a storage server when the data resources corresponding to the reservation event are downloadable; and<br>
the storage server is configured to establish a connection with a sharing user according to the sharing user information and download the data resources.<br>
2.	The system of claim 1, wherein the reservation server comprises:<br>
a receiving unit is configured to receive the reservation event from the downloading user;<br>
a determining unit is configured to notify a sending unit when determining that the data resources corresponding to the reservation event are downloadable; and<br>
the sending unit is configured to send the obtained sharing user information corresponding to the data resources to the storage server.<br>
3.	The system of claim 1, wherein<br>
the reservation server is configured to receive a reservation message from the downloading user, and send the reservation event in the reservation message to the management server; and<br>
the management server is configured to send the sharing user information of the sharing user who possesses the data resources corresponding to the, reservation event in the network to the reservation server.<br>
4.	The system of claim 1, wherein the reservation server is configured to receive a<br>
reservation message from the downloading user, save the reservation event in the<br>
reservation message into a reservation database, determine whether the data resources<br>
possessed by a sharing user correspond to the reservation event in the reservation<br><br>
database according to the sharing user information after receiving the sharing user information from the management server, and send the sharing user information to the storage server if the data resources possessed by the sharing user correspond to the reservation event.<br>
5.	The system of claim 1, wherein the reservation server is further configured to determine whether the storage server saves the data resources corresponding to the reservation event in a reservation message after receiving the reservation message from the downloading user, and sends the data resources to the downloading user if the storage server saves the data resources.<br>
6.	The system of claim 1, wherein<br>
the management server is further configured to record downloading progress information of the downloading user after disconnection if the downloading user disconnects when downloading the data resources from the sharing user;<br>
the management server is further configured to send the downloading progress information when obtaining the sharing user information and sending the sharing user information to the reservation server;<br>
the reservation server is further configured to send the downloading progress information when sending the obtained sharing user information to the storage server; and<br>
the storage server is further configured to download residual segments of the data resources according to the downloading progress information after establishing the connection with the sharing user according to the sharing user information.<br>
7.	A method for implementing network reservation storage, comprising:<br>
receiving a reservation event from a downloading user;<br>
obtaining sharing user information corresponding to data resources after determining that the data resources corresponding to the reservation event are downloadable; and<br>
establishing, by a storage server, a connection with a sharing user according to the sharing user information, downloading and saving the data resources.<br>
8.	The method of claim 7, wherein determining that the data resources corresponding<br>
to the reservation event are downloadable comprises:<br>
determining whether there is a sharing user who possesses the data resources in the<br><br>
network; if there is a sharing user who possesses the data resources in the network, determining that the data resources are downloadable; otherwise, determining that the data resources are not downloadable.<br>
9.	The method of claim 7, wherein determining that the data resources corresponding<br>
to the reservation event are downloadable comprises:<br>
determining whether the data resources possessed by the sharing user correspond to the received reservation event according to the sharing user information of the sharing user; if the data resources correspond to the received reservation event, determining that the data resources are downloadable.<br>
10.	The method of claim 8 or 9, further comprising:<br>
downloading, by the downloading user who sends the reservation event, the data resources from the storage server.<br>
11.	The method of claim 7, further comprising:<br>
tracing and recording, by the storage server, downloading progress information when downloading and saving the data resources.<br>
12.	The method of claim 11, further comprising:<br>
if a disconnection appears in the process of the storage server downloading and saving the data resources,<br>
obtaining the sharing user information corresponding to the data resources once again when it is determined for the next time that the data resources corresponding to the reservation event are downloadable;<br>
establishing, by the storage server, the connection with the sharing user according to the sharing user information; and<br>
downloading and saving the residual segments of the data resources that have not been downloaded according to the recorded downloading progress information until all the data resources are downloaded, and deleting the reservation event corresponding to the data resources from the reservation server.<br>
13.	The method of claim 8 or 9, further comprising:<br>
determining whether the storage server saves the data resources corresponding to a downloading request when the downloading user initiates the downloading request; and<br><br>
downloading the data resources from the storage server directly if the storage server saves the data resources.<br>
14. A reservation server, connected with a storage server; the storage server is configured to establish a connection with a sharing user according to sharing user information provided by the reservation server, and download data resources;<br>
the reservation server comprises:<br>
a receiving unit is configured to receive a reservation event from a downloading user;<br>
a determining unit is configured to notify a sending unit when determining that the data resources corresponding to the reservation event are downloadable; and<br>
the sending unit is configured to send the obtained sharing user information corresponding to the data resources to the storage server.<br><br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/viewdoc.aspx?id=ZKW0Ffca9CU9klCx0tbOtQ==&amp;amp;loc=egcICQiyoj82NGgGrC5ChA==" target="_blank" style="word-wrap:break-word;">http://ipindiaonline.gov.in/patentsearch/GrantedSearch/viewdoc.aspx?id=ZKW0Ffca9CU9klCx0tbOtQ==&amp;amp;loc=egcICQiyoj82NGgGrC5ChA==</a></p>
		<br>
		<div class="pull-left">
			<a href="270080-lubricating-liquid-separator.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="270082-brazed-joint-between-a-titanium-based-metal-part-and-a-ceramic-part-based-on-silicon-carbide-sic-and-or-carbon.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>270081</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>6641/CHENP/2009</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>49/2015</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>04-Dec-2015</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>27-Nov-2015</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>11-Nov-2009</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>TENCENT TECHNOLOGY (SHENZHEN) COMPANY LIMITED</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>ROOM 403, EAST BLOCK 2, SEG PARK, ZHENXING ROAD,FUTIAN DISTRICT, SHENZHEN CITY, 518044 GUANGDONG PROVINCE</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>HU, PENG</td>
											<td>ROOM 403, EAST BLOCK 2, SEG PARK, ZHENXING ROAD, FUTIAN DISTRICT, GUANGDONG PROVINCE, PRC, SHENZHEN CITY, 518044</td>
										</tr>
										<tr>
											<td>2</td>
											<td>YU, XIANGXIN</td>
											<td>ROOM 403, EAST BLOCK 2, SEG PARK, ZHENXING ROAD, FUTIAN DISTRICT, GUANGDONG PROVINCE, PRC, SHENZHEN CITY, 518044</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04L12/54</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/CN08/70167</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2008-01-23</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>200710097227.2</td>
									<td>2007-04-28</td>
								    <td>China</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/270081-system-and-method-for-implementing-network-reservation-storage-and-reservation-server by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 05:38:11 GMT -->
</html>
