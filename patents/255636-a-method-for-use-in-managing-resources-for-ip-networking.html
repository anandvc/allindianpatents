<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/255636-a-method-for-use-in-managing-resources-for-ip-networking by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 10:26:02 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 255636:A METHOD FOR USE IN MANAGING RESOURCES FOR IP NETWORKING</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">A METHOD FOR USE IN MANAGING RESOURCES FOR IP NETWORKING</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>Resources for IP networking are managed. A field is added to an operating system kernel software procedure. The field references a virtual router context (1020). Packet processing software code is modified to cause the packet processing software code to execute in accordance with the virtual router context (1070).</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>A METHOD FOR USE IN MANAGING RESOURCES FOR IP NETWORKING AND A<br>
GATEWAY PLATFORM RESIDING IN A COMMUNICATION NETWORK<br>
Cross-Reference To Related Applications<br>
This application claims the benefit of United States Provisional Application<br>
Serial No. 60/416,151 entitled LINUX KERNEL CHANGES FOR VIRTUAL<br>
ROUTERS AND DISTRIBUTED HOST FUNCTIONS on October 4,2002, which is<br>
incorporated herein in its entirety.<br>
Background<br>
This invention relates to managing resources for IP networking.<br>
An operating system such as Linux plays an important role in a computer,<br>
including facilitating application software's use of hardware and other resources of the<br>
computer. In some cases, the operating system or related software may allow<br>
resources of the computer to be shared or combined in being brought to bear on<br>
computing tasks.<br>
For example, various systems have been proposed to allow sharing of<br>
computer resources. These include virtual machine monitors, machine simulators,<br>
application emulators, operating system emulators, embedded operating systems,<br>
legacy virtual machine monitors, and boot managers. Each of these systems is<br>
described briefly below.<br>
Virtual Machine Monitors<br>
One system that was the subject of intense research in the late 1960's and<br>
1970's came to be known as the "virtual machine monitor" (VMM). See, for example,<br>
R- P. Goldberg, "Survey of virtual machine research," IEEE Computer, Vol. 7, No. 6,<br>
1974. During that time, moreover, IBM Corp. adopted a virtual machine monitor for<br>
use in its VM/370 system.<br><br>
A virtual machine monitor is a thin piece of software that runs directly on top<br>
of the hardware and virtualizes all the resources of the machine. Since the exported<br>
interface is the same as the hardware interface of the machine, the operating system<br>
cannot determine the presence of the VMM. Consequently, when the hardware,<br>
interface is compatible with the underlying hardware, the same operating system can<br>
run either on top of the virtual machine monitor or on top of the raw hardware.<br>
Virtual machine monitors were popular at a time where hardware was scarce<br>
and operating systems were primitive. By virtualizing all the resources of the system,<br>
multiple independent operating systems could coexist on the same machine. For<br>
example, each user could have her own virtual machine running a single-user<br>
operating system.<br>
The research in virtual machine monitors also led to the design of processor<br>
architectures that were particularly suitable for virtualization. It allowed virtual<br>
machine monitors to use a technique known as "direct execution," which simplifies<br>
the implementation of the monitor and improves performance. With direct execution,<br>
the VMM sets up the processor in a mode with reduced privileges so that the<br>
operating system cannot directly execute its privileged instructions. The execution<br>
with reduced privileges generates traps, for example when the operating system<br>
attempts to issue a privileged instruction. The VMM thus needs only to correctly<br>
emulate the traps to allow the correct execution of the operating system in the virtual<br>
machine.<br>
As hardware became cheaper and operating systems more sophisticated,<br>
VMMs based on direct execution began to lose their appeal. Recently, however, they<br>
have been proposed to solve specific problems. For example, the Hypervisor system<br>
provides fault-tolerance, as is described by T. C. Bressoud and F. B. Schneider, in<br><br>
"Hypervisor-based fault tolerance," ACM Transactions on Computer Systems<br>
(TOCS), Vol. 14. (1), February 1996; and in U.S. Pat. No. 5,488,716 "Fault tolerant<br>
computer system with shadow virtual processor," (Schneider, et al.). As another<br>
example, the Disco system runs commodity operating systems on scalable<br>
multiprocessors. See "Disco: Running Commodity Operating Systems on Scalable<br>
Multiprocessors," E. Bugnion, S. Devine, K. Govil and M. Rosenblum, ACM<br>
Transactions on Computer Systems (TOCS), Vol. 15, No. 4, November 1997, pp. 412-<br>
447.<br>
Virtual machine monitors can also provide architectural compatibility between<br>
different processor architectures by using a technique known as either "binary<br>
emulation" or "binary translation." In these systems, the VMM cannot use direct<br>
execution since the virtual and underlying architectures mismatch; rather, they must<br>
emulate the virtual architecture on top of the underlying one. This allows entire virtual<br>
machines (operating systems and applications) written for a particular processor<br>
architecture to run on top of one another. For example, the IBM DAISY system has<br>
recently been proposed to run PowerPC and x86 systems on top of a VLIW<br>
architecture. See, for example, K- Ebcioglu and E. R. Airman, "DAISY: Compilation<br>
for 100% Architectural Compatibility," Proceedings of the 24th International<br>
Symposium on Computer Architecture, 1997.<br>
Machine Simulators/Emulators<br>
Machine simulators, also known as machine-emulators, run as application<br>
programs on top of an existing operating system. They emulate all the components of<br>
a given computer system with enough accuracy to run an operating system and its<br>
applications. Machine simulators are often used in research to study the performance<br>
of multiprocessors. See, for example, M. Rosenblum, et al., "Using the SimOS<br><br>
machine simulator to study complex computer systems," ACM Transactions on<br>
Modeling and Computer Simulation, Vol. 7, No. 1, January 1997. They have also<br>
been used to simulate an Intel x86 machine as the " VirtualPC" or "RealPC" products<br>
on a PowerPC-based Apple Macintosh system.<br>
Machine simulators share binary emulation techniques with some VMMs such<br>
as DAISY. They differentiate themselves from VMMs, however, in that they run on<br>
top of a host operating system. This has a number of advantages as they can use the<br>
services provided by the operating system. On the other hand, these systems can also<br>
be somewhat constrained by the host operating system. For example, an operating<br>
system that provides protection never allows application programs to issue privileged<br>
instructions or to change its address space directly. These constraints typically lead to<br>
significant overheads, especially when running on top of operating systems that are<br>
protected from applications.<br>
Application Emulators<br>
Like machine simulators, application emulators also run as an application<br>
program in order to provide compatibility across different processor architectures.<br>
Unlike machine simulators, however, they emulate application-level software and<br>
convert the application's system calls into direct calls into the host operating system.<br>
These systems have been used in research for architectural studies, as well as to run<br>
legacy binaries written for the 68000 architecture on newer PowerPC-based<br>
Macintosh systems. They have also been also been used to run x86 applications<br>
written for Microsoft NT on Alpha workstations running Microsoft NT. In all cases,<br>
the expected operating system matches the underlying one, which simplifies the<br>
implementation. Other systems such as the known Insigna's SoftWindows use binary<br>
emulation to run Windows applications and a modified version of the Windows<br><br>
operating system on platforms other than PCs. At least two known systems allow<br>
Macintosh applications to run on other systems: the Executer runs them on Intel<br>
processors running Linux or Next and MAE runs them on top of the Unix operating<br>
system.<br>
Operating System Emulators<br>
Operating system (OS) emulators allow applications written for one given<br>
operating system application binary interface (ABI) to run on another operating<br>
system. They translate all system calls made by the application for the original<br>
operating system into a sequence, of system calls to the underlying operating system.<br>
ABI emulators are currently used to allow Unix applications to run on Window NT<br>
(the Softway OpenNT emulator) and to run applications written for Microsoft's<br>
operating systems on public-domain operating systems (the Linux WINE project).<br>
Unlike virtual machine monitors and machine simulators, which are essentially<br>
independent of the operating system, ABI emulators are intimately tied with the<br>
operating system that they are emulating. Operating system emulators differ from<br>
application emulators in that the applications are already compiled for the instruction<br>
set architecture of the target processor. The OS emulator does not need to worry about<br>
the execution of the applications, hut rather only of the calls that it makes to the<br>
underlying operating system. <br>
Embedded Operating Systems<br>
Emulating an ABI at the user level is not an option if the goal is to provide<br>
additional guarantees to the applications that are not provided by the host operating<br>
system. For example, the VenturCom RTX Real-Time subsystem embeds a real-time<br>
kernel within the Microsoft NT operating system. This effectively allows real-time<br>
processes to co-exist with traditional NT processes within the same system.<br><br>
This co-existence requires the modification of the lowest levels of the<br>
operating system, that is, its Hardware Abstraction Layer (HAL). This allows the RTX<br>
system to first handle all I/O interrupts. This solution is tightly coupled with<br>
WindowsNT, since both environments share the same address space and interrupts<br>
entry points.<br>
Legacy Virtual Machine Monitors<br>
Certain processors, most notably those with the Intel architecture, contain<br>
special execution modes that are specifically designed to virtualize a given legacy<br>
architecture. This mode is designed to support the strict virtualization of the legacy<br>
architecture, but not of the existing architecture.<br>
A legacy virtual machine monitor consists of the appropriate software support<br>
that allows running the legacy operating system using the special mode of the<br>
processor. Specifically, Microsoft's DOS virtual machine runs DOS in a virtual .<br>
machine on top of Microsoft Windows and NT. As another example, the freeware<br>
DOSEMU system runs DOS on top of Linux.<br>
Although these systems are commonly referred to as a form of virtual machine<br>
monitor, they run either on top of an existing operating system, such as DOSEMU, or<br>
as part of an existing operating system such as Microsoft Windows and Microsoft NT.<br>
In this respect, they are quite different from the true virtual machine monitors<br>
described above, and from the definition of the term "virtual machine monitor"<br>
applied to the invention described below. <br>
With respect to combining resources, such combinations can be used to handle<br>
demanding computing tasks that may be difficult or impossible to handle in the<br>
absence of the combination. For example, telecommunications networks are<br>
increasingly required to support high bandwidth, low delay information flow. The<br><br>
bandwidth required is rapidly progressing towards, for some applications, gigabits per<br>
second (particularly, for example, for video on demand; animated shared simulations,<br>
and distributed computing).<br>
To provide "intelligent network" facilitates such as call redirection to particular numbers, computer programs run on a number of host computers (up to 100,<br>
for example) connected with switching centers. The way in which services are to be<br>
provided for particular customers (for example, a particular number to which calls for<br>
a customer are to be routed) depends upon data stored in relation to that customer on<br>
the host computers. Thus, there may be many millions of subscriber records on tens or<br>
hundreds of host computers.<br>
In "Twenty-twenty vision—software architectures for intelligence in the 21st<br>
century", P. A. Martin, BT Technol J Vol 13 No. 2 April 1995, the author proposed<br>
the use of object-oriented techniques to implement the distributed processing required.<br>
A description of object oriented technology will be found in, for example, BT<br>
Technol J Vol. 11 No. 3 (July 1993), "Object oriented technology", edited by E. L.<br>
Cusack and E. S. Cordingley. Although the term is not always used with precision,<br>
object oriented computing here refers to the computing technique in which data is<br>
stored in "encapsulated" form in which, rather than being directly accessible by a<br>
calling program.or routine, the data is accessible only-by a limited part of a program<br>
which can read, write and edit the data. A record of data and its associated computer<br>
code arc referred to as an "object". Communication to and from an object is generally<br>
by "message passing"; that is, a call to the object passes data values and invokes the<br>
operation of one of the programs comprised within the object, which then returns data<br>
values.<br><br>
Various languages are available for programmers who wish to use the objected<br>
oriented approach. Of these, the commonest at present is C++.<br>
Distributed processing differs from single processor operation in several<br>
respects. Firstly, different access techniques may be required depending on whether<br>
other programs or data are located on the same host computer as a calling program or<br>
on a different host computer. The location of a program or data will also affect the<br>
speed with which it can be reached from another program. Also, one or more host<br>
computers may fail whilst leaving others in operation.<br>
Distributed computing is conventionally performed, by using a "client-server"<br>
arrangement in which a "client" program on one computer interrogates a "server"<br>
program on another computer which then performs the function or returns the data<br>
required by the client program.<br>
Object oriented techniques have not widely been applied to distributed processing. A summary of the state of the art in this respect may be found in "Object<br>
oriented programming systems"; Blair G., Pitman Publishing, London, 1991 (ISBN 0-<br>
273-03132-5) and particularly in Chapter 9 at pages 223-243; "Distributed systems<br>
and objects"; David Hutchison and Jonathan Walpole. Previous attempts have<br>
generally added new syntax to an existing computer language, or have created new<br>
computer languages, to extend conventional object oriented programming to deal with<br>
distributed processing.<br>
Although the particular application may vary, the components of a wireless<br>
communication system are generally similar, as described in more detail below. For<br>
example, a wireless communication system usually includes a radio terminal or<br>
mobile station, a radio base station, a switch or network control device, often referred<br>
to as a mobile telephone switching office (MTSO), and a network to which the<br><br>
wireless communications system provides access, such as the Public Switched<br>
Telephone Network (PSTN).<br>
The various wireless communication applications use any of multiple<br>
modulation techniques for transmitting information to efficiently utilize the available<br>
frequency spectrum. For example, frequency division multiple access (FDMA), time<br>
division multiple access (TDMA), and code division multiple access modulation<br>
techniques are used to build high-capacity multiple access systems.<br>
Telecommunication systems designed to communicate with many mobile stations<br>
occupying a common radio spectrum are referred to as multiple access systems.<br>
For example, in an FDMA analog cellular system, such as an AMPS analog<br>
cellular radio system, the available frequency spectrum is divided into a large number<br>
of radio channels, e.g., pairs of transmit and receive carrier frequencies, each of which<br>
corresponds to a message transmission channel. The bandwidth of each transmit and<br>
receive frequency channel is narrowband, generally 25-30 kHz. Thus, the FDMA<br>
system permits information to be transmitted in a bandwidth comparable to the<br>
bandwidth of the transmitted information, such as a voice signal. The cellular service<br>
area in the FDMA system is generally divided into multiple cells, each cell having a<br>
set of frequency channels selected so as to help reduce co-channel interference<br>
between cells.<br>
Frequency division is often combined with time division so that transmission<br>
circuits are distinguished in both the frequency and time domain, e.g., in a FD/TDMA<br>
system. In a digital FD/TDMA (commonly referred to as TDMA) cellular system, a<br>
narrowband frequency channel is reformatted as a digital transmission path which is<br>
divided into a number of time slots. The data signals from different calls are<br>
interleaved into assigned time slots and sent out with a correspondingly higher bit rate,<br><br>
the time slot assigned to each mobile station being periodically repeated. Although<br>
the TDMA bandwidth may be somewhat larger than the FDMA bandwidth, a<br>
bandwidth of approximately 30 kHz is generally used for AMPS-D digital TDMA<br>
cellular systems.	<br>
Another approach to cellular multiple access modulation is CDMA. CDMA is<br>
a spread spectrum technique for transmitting information over a wireless<br>
communication system in which the bandwidth occupied by the transmitted signal is<br>
significantly greater than the bandwidth required by the baseband information signal<br>
(e.g., the voice signal). Thus, CDMA modulation spectrally spreads a narrowband<br>
information signal over a broad bandwidth by multiplex modulation, using a<br>
codeword to identify various signals sharing the same frequency channel.<br>
Recognition of the transmitted signal takes place by selecting the spectrally-coded<br>
signals using the appropriate codeword. In contrast to the narrowband channels of<br>
approximately 30 kHz used in FDMA and TDMA modulation techniques, a CDMA<br>
system generally employs a bandwidth of approximately 1.25 MHz or greater.<br>
Typically, the mobile communication systems described above are arranged<br>
hierarchically such mat a geographical "coverage area" is partitioned into a number of<br>
smaller geographical areas called "cells." Referring to Fig. 1, each cell is preferably<br>
served by a Base Transceiver Station ("BTS") 102a. Several BTS 102a-n are centrally<br>
administered via fixed links 104a-n by a Base Station Controller ("BSC") 106a. The<br>
BTSs and BSC are sometimes collectively referred to as the Base Station Subsystem<br>
("BS") 107. Several BSCs 106b-n may be centrally administered by a Mobile<br>
Switching Center ("MSC") 110 via fixed links 108a-n.<br>
MSC110 acts as a local switching exchange (with additional features to<br>
handle mobility management requirements, discussed below) and communicates with<br><br>
the phone network ("PSTN") 120 through trunk groups. U.S. mobile networks<br>
include a home MSC and a serving MSC. The home MSC is the MSC corresponding<br>
to the exchange associated with a Mobile Subscriber (also referred to above as a<br>
mobile station or "MS") 114; this association is based on the phone number, suiph as<br>
the area code, of the MS. Examples of an MS include a hand-held device such as a<br>
mobile phone, a PDA, a 2-way pager, or a laptop computer, or Mobile Unit<br>
Equipment, such as a mobile unit attached to a refrigerator van or a rail car, a<br>
container, or a trailer.<br>
The home MSC is responsible for a Home Location Register ("HLR") 118<br>
discussed below. The serving MSC, on the other hand, is the exchange used to<br>
connect the MS call to the PSTN. Consequently, sometimes the home MSC and<br>
serving MSC functions are served by the same entity, but other times they are not<br>
(such as when the MS is roaming). Typically, a Visiting Location Register ("VLR")<br>
116 is co-located with the MSC 110 and a logically singular HLR is used in the<br>
mobile network (a logically singular HLR may be physically distributed but is treated<br>
as a single entity). As will be explained below, the HLR and VLR are used for storing<br>
subscriber information and profiles.<br>
Radio channels 112 are associated with the entire coverage area. As described<br>
above, the radio channels are partitioned into groups of channels allocated to<br>
individual cells. The channels are used to carry signaling information to establish call<br>
connections and related arrangements, and to carry voice or data information once a<br>
call connection is established.<br>
Mobile network signaling has at least two significant aspects. One aspect<br>
involves the signaling between an MS and the rest of the network. In the case of 2G<br>
("2G" is the industry term used for "second generation") and later technology, this<br><br>
signaling concerns access methods used by the MS (such as TDMA or CDMA),<br>
pertaining to, for example, assignment of radio channels and authentication. A second<br>
aspect involves the signaling among the various entities in the mobile network, such<br>
as the signaling among the MSCs, BSCs, VLRs, and HLRs. This second part is<br>
sometimes referred to as the Mobile Application Part ("MAP") especially when used<br>
in the context of Signaling System No. 7 ("SS7"). SS7 is a common channel signaling<br>
system by which elements of the telephone network exchange information, in the form<br>
of messages.<br>
The various forms of signaling (as well as the data and voice communication)<br>
are transmitted and received in accordance with various standards. For example, the<br>
Electronics Industries Association ("EIA") and Telecommunications Industry<br>
Association ("TIA") help define many U.S. standards, such as IS-41, which is a MAP<br>
standard. Analogously, the CCTTT and ITU help define international standards, such<br>
as GSM-MAP, which is an international MAP standard. Information about these<br>
standards is well known and may be found from the relevant organizing bodies as well<br>
as in the literature, see, e.g., Bosse, SIGNALING IN TELECOMMUNICATIONS<br>
NETWORKS (Wiley 1998).<br>
To deliver a call from an MS 114, a user dials the number and presses "send"<br>
on a cell phone or other MS. The MS 114 sends the dialed number indicating the<br>
service requested to the MSC 110 via the BS 107. The MSC 110 checks with an<br>
associated VLR 116 (described below) to determine whether the MS 114 is allowed<br>
the requested service. The serving MSC routes the call to the local exchange of the<br>
dialed user on the PSTN 120. The local exchange alerts the called user terminal, and<br>
an answer back signal is routed back to the MS 114 through the serving MSC 110<br><br>
which then completes the speech path to the MS. Once the setup is completed the call<br>
may proceed<br>
To deliver a call to an MS 114, (assuming that the call originates from the<br>
PSTN 120) the PSTN user dials the MS's associated phone number. At least according to U.S. standards, the PSTN 120 routes the call to the MS's home MSC<br>
(which may or may not be the MSC serving the MS). The MSC then interrogates the<br>
HLR 118 to determine which MSC is currently serving the MS. This also acts to<br>
inform the serving MSC that a call is formcorning. The home MSC then routes the<br>
call to the serving MSC. The serving MSC pages the MS via the appropriate BS. The<br>
MS responds and the appropriate signaling links are set up.<br>
During a call, the BS 107 and MS 114 may cooperate to change channels or<br>
BTSs 102, if needed, for example, because of signal conditions. These changes are<br>
known as "handoffs," and they involve their own types of known messages and<br>
signaling.<br>
Fig. 2 shows in more detail the signaling and user traffic interfaces between a<br>
BS 107 and an MSC 110 in a CDMA mobile network. The BS 107 communicates<br>
signaling information using an SS7-based interface for controlling voice and data<br>
circuits known as the "A1" interface. An interface known as "A2" carries user traffic<br>
(such as voice signals) between the switch component 204 of the MSC and the BS<br>
107. An interface known as "A5" is used to provide a path for user traffic for circuit-<br>
switched data calls (as opposed to voice calls) between the source BS and the MSC.<br>
Information about one or more of Al, A2, A5 may be found in CDMA<br>
Internetworking - Deploying the Open-A Interface, Su-Lin Low, Ron Schneider,<br>
Prentice Hall, 2000, ISBN 0-13-088922-9.<br><br>
Mobile communications providers are supplying newer services, e.g., "data<br>
calls" to the Internet For at least some of these services, MSCs are not cost effective<br>
because they were primarily designed for voice calls. Integration of new services into<br>
the MSC is difficult or infeasible because of the proprietary and closed designs used<br>
by many MSC software architectures. That is, the software logic necessary to provide<br>
the services is not easy to add to the MSC 110. Often, a switch adjunct is used to<br>
provide such services. For example, an Inter-Working Function ("IWF") is an adjunct<br>
to route a data call to the Internet Either approach - integrating functionality into the<br>
MSC or adding a trunk-side adjunct — involves the MSC in the delivery of service.<br>
Integrating new services via MSC design changes or through trunk-side adjuncts can<br>
increase network congestion at the MSC and consume costly MSC resources.<br>
Data calls typically make use of the Internet, which is an example of a packet-<br>
switching medium. A packet-switching medium operates as follows. A sequence of<br>
data is to be sent from one host to another over a network. The data sequence is<br>
segmented into one or more packets, each with a header containing control<br>
information, and each packet is routed through the network. A common type of<br>
packet switching is datagram service, which offers little or no guarantees with respect<br>
to delivery. Packets that may belong together logically at a higher level are not<br>
associated with each other at the network level. A packet may arrive at the receiver<br>
before another packet sent earlier by the sender, may arrive in a damaged state (in<br>
which case it may be discarded), may be delayed arbitrarily (notwithstanding an<br>
expiration mechanism that may cause it to be discarded), may be duplicated, and may<br>
be lost<br>
At least one wireless Internet system has been proposed that provides reliable<br>
access to tens of megahertz of bandwidth across a wide geographic area, using local<br><br>
wireless transceiver technology (e.g., in a nanocell system). In contrast to the cellular<br>
wireless voice system, which relies on tens or hundreds of cells in a region, the local<br>
wireless transceiver system relies on thousands or tens of thousands of transceivers in<br>
the region. In such a system, each transceiver may cover, e.g., 0.05 square kilometers,<br>
which is about one-hundredth the coverage of a conventional cell. High spatial reuse<br>
of the radio frequency (RE7) spectrum allows the local wireless transceiver system to<br>
accommodate many more active devices at a given data rate than a conventional cell<br>
system. In addition, since users are closer to access points, the local wireless<br>
transceiver system accommodates lower-power transmissions. The local wireless<br>
transceiver system can support large numbers of devices, running at high speeds, with<br>
relatively little drain on the devices' batteries.<br>
For example, in a citywide local wireless transceiver system network of 10,000<br>
transceiver access points (cell centers), if each point provides its users with 1-Mfb/s<br>
collective throughput, 10 active devices per transceiver can be supported at 100 kb/s<br>
each, which amounts to 100,000 active devices in the city. If each device is active 10<br>
percent of the time, such a network can support a million devices, although some<br>
accounting would need to be made for bandwidth consumed by overhead for channel<br>
access, handoffs, and any provision for asymmetric traffic (e.g., in which more bits<br>
flow toward a device than from it).<br>
Each local wireless transceiver system access point may be or resemble access<br>
points for wireless local area network (LAN) technology such as IEEE 802.11. An<br>
asynchronous digital subscriber line (ADSL), or a cable modem line may be used to<br>
provide a link between each access point and the Internet (a wireless link may be used<br>
as well or instead). With respect to the siting of access devices, since each device<br>
requires electrical power and is preferably elevated for adequate radio frequency<br><br>
coverage, sites on utility poles and buildings are typical candidates, with the high-<br>
speed neighborhood Internet access infrastructure serving as a backbone.<br>
Summary<br>
In an aspect of the invention, resources for IP networking are managed,', A<br>
field is added to an operating system kernel software procedure. The field references a virtual router context Packet processing software code is modified to cause the packet processing software code to execute in accordance with the virtual router context<br>
Implementations of the invention may provide one or more of the following<br>
advantages. Multiple hosts may be implemented onthe same processor or the same<br>
instance of the operating system. The same IP address may be used in two different<br>
contexts such that the IP address serves as two different entities. One piece of<br>
equipment may participate in multiple private networks without leaking information<br>
between the private networks. A host implementation for one Internet Protocol (IP)<br>
address may be spread across multiple, loosely coupled processors running separate<br>
instances of an operating system. Combined processing power may be used for one IP<br>
host A distributed host may be compatible with an existing configuration or existing<br>
protocols that require actions to be done on one host The distributed host may be<br>
used with an existing configuration such that a customer need not change the general<br>
design of the customer's implementation.<br><br>
Accordingly, the present invention provides a method for use in<br>
managing resources for IP networking, the method comprising: adding a field<br>
to an operating system kernel software procedure, the field referencing a<br>
virtual router context; and modifying packet processing software code to<br>
cause the packet processing software code to execute in accordance with the<br>
virtual router context.<br>
The present invention also provides a gateway platform residing in a<br>
communication network comprising: a storage medium, in communication<br>
with at least one processor, storing: an operating system instance whose<br>
kernel is adapted to include a field to indicate an appropriate virtual router<br>
context within the gateway platform to handle an incoming data packet; and<br>
packet processing code that determines the virtual router context of the<br>
ingress packet received at the gateway platform, and selects a routing table<br>
based on the virtual router context before sending a packet.<br>
Other advantages and features will become apparent from me following<br>
description, including the drawings, and from the claims.<br>
Brief Description of the Accompanying Drawings<br>
Figs. 1-2,3A-3B, 4 are block diagrams of communications systems.<br><br>
Figs. 5-6 are flow diagrams of methods for use in managing resources for IP<br>
networking.<br>
Detailed Description<br>
A communications system provides communications features including<br>
features relying on sharing or combining computing resources. The communications<br>
system has an Internet media gateway mechanism ("IMG") and a Softswitch<br>
mechanism as described below. Fig. 3A illustrates an example system 400 having an<br>
MG 410A connected between BSC 415A and MSC 420A and communicating with a<br>
Softswitch 425A. IMG 410A communicates with BSC 415A by A1, A2, and A5<br>
interfaces. As described below, Softswitch 425A coordinates pathway setup and<br>
communication between BSC 415A and MSC 420A through IMG 410A. IMG 410A<br>
also communicates with the Internet 430, through which IMG 410A is able to direct<br>
messages to a mail server 440, as described below. Other IMGs and Softswitches may<br>
be provided similarly in connection with other BSCs and MSCs as exemplified in Fig.<br>
3A by IMG 410B, Softswitch 425B, BSC 415B, and MSC 420B. MSCs 420A, 420B<br>
are connected to, and can communicate with each other through, PSTN 460.<br>
SoftSwitches 425A, 425B are connected to, and can communicate with each other<br>
through, SS7. system 470. (Fig. 3B illustrates an alternative arrangement 402 in which<br>
MSC 420A is connected between IMG 410A and BSC 415A, and MSC 420B is<br>
connected between IMG 410B and BSC 415B.)<br>
Fig. 4 illustrates a system 1010 that can support and help to provide voice and<br>
data services on one or more mobile wireless networks. In a particular<br>
implementation, system 1010 may include Starent Networks Corporation's ST-16<br>
IMG product, which is a carrier class, high performance platform that can support<br><br>
multiple data types including time division multiplexed (TDM) data, Asynchronous<br>
Transfer mode (ATM) cell data, and Internet protocol (IP) packet data. The ST-16<br>
architecture uses accelerator cards (e.g., card 1020) such as Packet Accelerator cards<br>
(PACs) for packet processing and Telephony Accelerator cards (TACs) for voice<br>
processing. Each PAC can perform data processing and each TAC can perform voice<br>
processing. In the ST-16, physical input/output (I/O) interfaces are terminated on<br>
industry standard line cards (e.g., cards 1030A, 1030B) and can carry TDM, packet or<br>
ATM cell data types in accordance with various physical interface standards. Since<br>
TDM interfaces primarily carry voice traffic, TDM line cards communicate with a<br>
TAC. Ethernet line cards carry packet data traffic and can communicate with a PAC.<br>
An optical line card supports ATM cells, which can carry bom voice and data traffic,<br>
and can communicate with a PAC or a TAC. The ST-16 also has Redundant Crossbar<br>
Cards (RCCs) (e.g., cards 1040A, 1040B) which are used to allow a line card inany<br>
slot to communicate with an accelerator cards in any slot in the ST-16.<br>
The ST-16 uses a card to card communication system ("STARChannel") to<br>
provide links to connect the accelerator cards to the line cards and the RCCs. In an<br>
example implementation, a STARChannel link has 4.0 Gbps data capacity and<br>
includes two physical serial links operating in channel locked mode. Each physical<br>
serial link is clocked at 2.5 Gbps (8B/10B coded) andean carry 2.0 Gbps data.<br>
In the ST-16, it is desirable to implement virtualization and a distributed host.<br>
With respect to virtualization, multiple hosts are implemented on the same<br>
processor or the same instance of the operating system, with possibly more than one<br>
IP address implemented on the same system and with different contexts as described<br>
below. With respect to IP networking, each context is well isolated from each other<br>
context Accordingly, the same IP address may be used in two different contexts such<br><br>
that the IP address serves as two different entities. This is desirable at least in the case<br>
of private networks which are isolated from the Internet. Different private networks<br>
may use the same IP address, but because the private networks are separated from<br>
each other, the same IP address has a different meaning in each of the private "<br>
networks.<br>
It is sometimes desirable to have one piece of equipment participate in<br>
multiple private networks without leaking information between the private networks.<br>
For example, the equipment may provide a set of functionality to each private network<br>
in a set of private networks simultaneously without turning the private networks into<br>
one network. The contexts allow two pieces of software to run on the same physical<br>
piece of equipment, and possibly on the same instance of the operating system, as<br>
readily or nearly as readily as running one of the pieces of software on one physical<br>
system and running the other piece of software on another physical system.<br>
For example, with the contexts, a single piece of equipment that serves two<br>
private networks can have the same IP address on both private networks and can react<br>
differently to an incoming message depending on which network issued the message.<br>
Private networks may share an IP address by happenstance or by design, or as<br>
a result of address scarcity. In the latter case, on the Internet, it may be difficult or<br>
expensive to gain use of a substantial amount of routable address space (address space<br>
that is use to communicate directly on the Internet). As a result, a private network is<br>
sometimes used as an alternative to a large block of routable address space. The<br>
private network multiplies an IP address much as a private office telephone system<br>
with extensions multiplies a single main public telephone number, wherein computers<br>
on the private network can intercommunicate using Internet protocols without<br>
necessarily involving the Internet itself, much as users of the private office telephone<br><br>
system can intercommunicate without necessarily involving the public telephone<br>
system.<br>
In the case of virtualization, a single piece of equipment may be reachable at<br>
the same address on two different private networks much as, for example, a voicemail<br>
system may be reachable at the same telephone extension (e.g., extension 110) from<br>
two separate private office telephone systems. An incoming communication at the<br>
single piece of equipment is handled differently depending on which private network<br>
sent the communication, much as an incoming call arriving at the voicemail system at<br>
the telephone extension is handled differently depending on which private office<br>
telephone system originated the call. In both cases it can be critical to avoid<br>
mishandling.<br>
Conventionally, the Linux operating system cannot serve two private networks<br>
as the voicemail system serves the two private office telephone systems. By<br>
virtualization as described below, the Linux operating system can participate in two or<br>
more different private networks and avoid mishandling even when the same addresses<br>
are used on the private networks. For virtualization, in many or all of the places inside<br>
the operating system kernel that deal with IP networking, an element is added to many<br>
or all appropriate data structures to indicate, e.g., by context number, the appropriate<br>
context for handling data such as an incoming data packet<br>
In a specific implementation, the element holds the context number in every<br>
relevant, data structure inside the kernel, including a routing table, and every packet<br>
that is processed by the system is tagged with a context number so that as the packet<br>
goes through the system, the system keeps track of the context with which the packet<br>
is associated. The Linux operating system allows multiple instances of the routing<br>
table; each context has its own routing table and each routing table is associated with a<br><br>
context number. Each interface to the system is associated with a context number so<br>
that when a packet comes into the system, the system is able to determine the context<br>
to which the packet belongs. Each data structure that is part of the kernel's interface<br>
to an application is associated with a context number. Thus, for example, an abstraction known as a socket that an application uses in order to use networking is<br>
associated with a context number so that the system can determine the context to<br>
which a socket being used by an application belongs.<br>
As a result, in at least some implementations, the system can have a single<br>
instance of the operating system that operates in multiple contexts, based on<br>
contextualization/virtualization in the kernel, so that the system can run application<br>
code that was generically written for Linux or any Unix like operating system, with<br>
few or no modifications to the application code.<br>
The distributed host differs from virtualization in that the distributed host<br>
allows the host implementation for one Internet Protocol (IP) address to be spread<br>
across multiple, loosely coupled processors running separate instances of the operating<br>
system, so that the processors implement a single IP host Accordingly, combined<br>
processing power can be used for one IP host, which may allow results that are not<br>
practical or possible using only the processing power available on one processor.<br>
Unlike a scheme under which the computer system is caused to behave as<br>
multiple hosts, the distributed host is compatible with an existing configuration or<br>
existing protocols that require actions to be done on one host. The distributed host can<br>
be used with an existing configuration such that, for example, a customer need not<br>
change the general design of the customer's implementation. In particular, in at least<br>
some implementations, the distributed host system can run application software that<br>
was written for Linux or another Unix style environment with few or no modifications<br><br>
to the application software. Accordingly, the distributed host system allows<br>
incorporation of value added or extended features into the system, including by<br>
porting existing software which is already able to run on Linux or another Unix type<br>
operating system.<br>
With respect to a specific implementation, the modifications to the Linux IP<br>
implementation fall into two broad categories:<br>
(1)	For virtualization, support for virtual routers and virtual hosts to allow an<br>
individual operating system instance to support both router (forwarding) and host<br>
functions of IP as if it were multiple operating system instances, i.e., support for<br>
multiple distinct IP address spaces, even if the spaces overlap numerically, as distinct<br>
(2)	For distributed hosts, support for distributed IP hosts, to allow offering<br>
services on different Transport Control Protocol (TCP) or User Datagram Protocol<br>
(UDP) ports of the same host from different operating system instances.<br>
Conventional Linux includes support for multiple routing tables, which is all<br>
or nearly all that is necessary for virtualized forwarding support However,<br>
conventional Linux does not support for virtualized host functions. Specifically,<br>
conventional Linux does not provide a way for a process or socket to select its virtual<br>
router context nor a way for two or more different processes to bind the same<br>
address/protocol/port (in different virtual router contexts). The following<br>
modifications (Fig. 5) add such support.<br>
A field is added to the proc structure or an appropriate substructure (the proc<br>
structure is the kernel data structure which is instantiated per-process and contains<br>
kernel process state information) that stores the default virtual router context of the<br>
process (step 1010). Kernel process creation code is modified as appropriate to make<br>
the field heritable, such that the default virtual router context of a process will be, at<br><br>
its time of creation, whatever the default virtual router context of its parent was when<br>
its parent used fork0.or clone0. Also, the code that sets up the initial system process,<br>
init, is modified to make sure that init will use a default virtual router context which is<br><br>
automatically created at boot time.	<br>
A field is added to the appropriate per-socket data structure for Internet<br>
protocol family (TCP, UDP, and raw IP) that indicates the virtual router context of the<br>
socket (step 1020). Socket creation code is modified so that, on creation, the field is<br>
populated from the default virtual router context for the process.<br>
Support is added for setting the default virtual router context of a process (e.g.,<br>
as a procfs extension) (step 1030).<br>
Support is added for setting the virtual router context of a socket (e.g., as a<br>
setsockopt) (step 1040).<br>
Support is added for creating and deleting virtual router contexts (e.g., as-a<br>
procfs or netlink extension) (step 1050).<br>
Support is added for associating interfaces with virtual router contexts (e.g., as<br>
a procfs or netlink extension) (step 1060).<br>
Packet ingress processing code for TCP, UDP, raw IP sockets, and Internet<br>
Control Messaging Protocol (ICMP) is modified to cause its determination of the<br>
socket with which an ingress packet is associated consider the virtual router context of<br>
the packet's ingress interface (step 1070).<br>
Packet egress processing code for TCP, UDP, and raw IP sockets is modified<br>
to cause the selection of the routing table to use for egress packets consider the virtual<br>
router context of the socket sending the packet (step 1080).<br>
In the case of distributed host, the distributed host functionality allows<br>
processes running on different operating system instances to bind different sockets on<br><br>
the same host (IP address). In at least one specific implementation, the following<br>
approach may be taken.<br>
For ingress packets where the network processor (NP) subsystem can<br>
determine that a certain processor will be the consumer of that packet, the packet is<br>
sent to that processor.<br>
For ingress packets where the NP subsystem cannot determine that a certain<br>
processor will be the consumer of that packet, the packet is sent to all processors (e.g.,<br>
via Media Access Control (MAC) broadcast).<br>
When a processor receives a packet that the processor determines is not for it<br>
(but that could be for a different processor), the processor ignores that packet and<br>
makes no effort to respond to that packet in any way.<br>
For each (distributed) host, one particular processor is designated as the lead<br>
processor for that host That processor has the duty of processing and responding to<br>
packets that correspond to the host as a whole and not to any specific "connection" or<br>
"port", e.g., some (but not all) ICMP packets and Address Resolution Protocol (ARP)<br>
requests. All other processors ignore such ingress packets.<br>
Processing for egress packets from a distributed host is essentially unchanged<br>
from processing for egress packets for a normal host<br>
For testing and simulation (without the NP subsystem) functionality is added<br>
to allow the lead processor for a host to forward (by MAC broadcast) packets not<br>
destined for itself to other processors. In-DP technology, the functionality is less like<br>
classic forwarding (since, e.g., TTL is not decremented) and more like bridging.<br>
The following kernel changes (Fig. 6) are used to implement the distributed<br>
host function as described above.<br><br>
An extension (e.g., a procfs or netlink extension) is added to allow designating<br>
whether or not a particular interface is the lead interface for a distributed host (step<br>
2010).<br>
TCP and UDP ingress code is modified to avoid making any response to<br>
packets arriving for a port that is not locally bound (step 2020).<br>
ICMP ingress code is modified such that, for any ICMP packet that is<br>
correlated with a specific port or flow, that packet is ignored unless that port is bound<br>
or that flow exists locally and such that, for any ICMP packet that is global to the host<br>
(e.g., echo request), only the host's lead interface processes the packet (step 2030).<br>
ARP code is modified such that non-lead interfaces do not respond to ARP<br>
requests (step 2040).<br>
Code is added to the ingress path to support the forwarding/bridging described<br>
above for operation without an NP subsystem (step 2050).<br>
More particularly with respect to kernel IP virtualization, all IP packet buffers<br>
(skbuffs) within the kernel are tagged with a context number. The context number of<br>
a packet being processed is determined by one of two mechanisms:<br>
(1) A packet that enters the kernel via a network interface is tagged with the<br>
context number that has been configured into the interface. The following code in<br>
ip_rcv() (net/ipv4/ip_input.c)-tags the buffer for any IP packet being introduced by a<br>
network interface:<br>
if (dev «= &amp;loopback_dev) {<br>
if (in_dev) {<br>
skb-&gt;vr_index=in_dev-<br>
&gt;vr_index;<br>
} else {<br>
skb-&gt;vr_index=0; /*XXX not<br>
very good but there's probably no<br>
*better<br>
option. I'm not sure if it<br><br>
*should<br>
ever happen anyways that a<br>
*packet<br>
would get here from a device<br>
*without an<br><br>
in_device structure*/	<br><br>
(2) A packet that enters the kernel via an application socket is tagged with the<br>
context number that has been configured into the socket (by default, this is the default<br>
context number of the application that created the socket) as it is being prepared for<br>
output. Relevant software code is mainly in net/ipv4/ip_output.c. The following is an<br>
example from ip_build_xmit():<br>
skb-&gt;vr_index = sk-&gt;vr_index;<br>
In the listings above, skb is a pointer to an skbuff structure; sk is a pointer to a<br>
socket structure. In addition, vr_index fields to both structures to accommodate<br>
virtualization.<br>
When the kernel needs to deliver a packet to a user process, it takes the<br>
packet's context number into account when making the determination of the process<br>
to which to deliver the packet. The following is an example from software code that<br>
makes the determination for a TCP packet:<br>
sk = 	tcp_v4_lookup(<br>
#ifdef CONFIG_NET_IP_VIRTUAL<br>
skb-&gt;vr_index,<br>
#endif<br>
skb-&gt;nh.iph-&gt;saddr, th-<br>
&gt;source,<br><br>
skb-&gt;nh.iph-&gt;daddr,<br>
ntohs(th-&gt;dest), tcp_v4_iif(skb));<br>
The listing above is from tcp_v4_rcv() in net/ipv4/tcp_ipv4.c.<br>
CONFIG_NET_IP_VIRTUAL is defined when the kernel is being built with IP<br>
virtualization support. As shown, an additional argument is prepended to the<br>
argument list of	tcp_v4_lookup when virtualization is in use. Further,<br>
	tcp_v4_lookup() allows a determination of the socket that will consume a packet,<br>
and performs a lookup in a hash table. When virtualization is in use, the context,<br>
number of the packet (skb-&gt;vr_index) is used as an element of the key when<br>
performing the lookup. In this way, for example, two different packets which<br>
otherwise have identical characteristics (source address, source port, destination<br>
address, destination port) but belong to different contexts can be directed to two<br>
different sockets.<br>
When the kernel is performing an IP forwarding lookup (e.g., when acting as a<br>
router or when delivering a packet that originated with a local application to a remote<br>
destination), that lookup is also made taking the packet's context into consideration.<br>
In particular, a different routing table is used for each packet. For virtualization, the<br>
following code is added to fib_lookup0 (in net/ipv4/fib_rules.c), which performs<br>
many or most route lookups: .<br>
#ifdef CONFIG_NET_IP_VIRTUAL<br>
if (r==(&amp;main_rule)) {<br>
if {(vr<r->r_vr_index_min) | |<br>
(vr&gt;r-&gt;r_vr_index_max)) {<br>
printk(fib_lookup - bad<br>
VR index!\n");<br>
continue;<br><br>
if ((tb = fib_get_table({r- &gt;r_table)+vr)) == NULL)	<br>
continue;	<br>
} else {	<br>
#endif /*CONFIG_NET_IP_VIRTUAL*/	<br>
In the listing above, vr is an additional argument to fib_lookup that is<br>
prepended to the argument list when CONFIG_NET_IP_VIRTUAL is defined. The<br>
call to fib_get_table0 takes a routing table number; support for virtualization makes<br>
use of Linux's existing ability to support multiple routing tables. When<br>
contextualization is in use, the context number is used to compute the routing table<br>
number. The remainder of fib_lookup0 operates on the routing table returned by the<br>
call to fib_get_table().<br>
Further with respect to implementing distributed host functionality on Linux,<br>
"cluster" below refers collectively to a group of systems implementing a single.<br>
distributed host At least one specific implementation depends on the following.<br>
Each kernel participating in a distributed host is able to determine whether or<br>
not it is the "leader" of that distributed host, and, if not, which system is the "leader"<br>
for that distributed host The "leader" of a distributed host is a system designated<br>
(e.g., uniquely) to perform certain services for the whole distributed host. In general,<br>
this is used for those services that cannot themselves be reasonably distributed. This<br>
information is maintained on a per-interface-address basis, e.g., within the in_ifaddr<br>
structures.<br>
For those protocols to be distributed on a per-port or per-connection basis<br>
(e.g., UDP and TCP), the actual protocols are modified such that, when a packet<br>
arrives at the set of systems implementing the distributed host, it can be determined<br>
exactly which system will process that particular packet In general, accordingly, a<br>
database is maintained with entries indicating which ports and/or connections are<br><br>
being handled on which system. This may be accomplished by implementing an<br>
interface between the kernel and a user process that has some similarities to a<br>
"rtnetlink" interface used by user processes that implement routing protocols. In<br>
particular, such an interface notifies the user process of requests by other user processes to bind0 ports and accept() connections. The user process using this<br>
interface is responsible for synchronizing the database with remote hosts in the cluster,<br>
or at least with the leader of the distributed interface. In at least most cases, functions<br>
such as tcp_v4_rcv() and udp_rcv(3 are modified to look up, for each incoming packet,<br>
whether that packet should be processed or ignored and/or sent to another member of<br>
the cluster.<br>
In at least some implementations, for some protocols (e.g., ARP), it is<br>
sufficient simply to handle all requests on the leader system and always ignore<br>
requests reaching non-leader systems. For ARP, this may be accomplished by<br>
modifying arp_rcv() to check whether or not the packet being received corresponds to<br>
an address for which the local system is the leader. For the leader case, the packet<br>
may be processed normally. For the non-leader case, the packet may be ignored or<br>
sent to another member of the cluster.<br>
For some protocols (e.g., ICMP and perhaps IGMP, if IP multicasting is<br>
supported in a distributed way), received packets are handled differently in the<br>
distributed host environment For ICMP, each packet other than an echo request may<br>
be sent to all systems in the cluster implementing the distributed host and then each<br>
system may determine the action, if any, to take based on that packet. Echo requests<br>
are processed by the leader system. Other ICMP packets are generally handled by<br>
each system in the same way as if the system were not part of a distributed host. The<br><br>
precise handling of ICMP packets in a distributed host environment depends on the<br>
specific implementation.<br>
The origination of ICMP error packets by systems within a distributed host<br>
cluster is modified with respect to how they are generated when no distributed host<br>
facility is in use. Specifically, "ICMP unreachable" messages may be generated only<br>
by the leader system. At least some other ICMP messages may be generated by non-<br>
leader systems in the cluster, depending on the specific implementation.<br>
Other embodiments are within the scope of the following claims. For<br>
example, one or more of the features above may be implemented in object code or<br>
executable code. One or more of the features above may be implemented for use with<br>
only certain communications, such as incoming communications only, or outgoing<br>
communications only, or real-time communications only, or high priority or high<br>
datarate communications only. An operating system may be provided with one or<br>
more of the features as built-in functionality.<br><br>
WE CLAIM:	 <br><br>
1.	 A method for use in managing resources for IP networking, the method<br>
comprising:<br>
adding a field to an operating system kernel software procedure, the<br>
field referencing a virtual router context; and<br>
modifying packet processing software code to cause the packet<br>
processing software code to execute in accordance with the virtual router<br>
context.	<br>
2.	The method of claim 1, comprising creating a first and a second virtual<br>
router context.<br>
3.	The method of claim 2, wherein the first and the second virtual router<br>
contexts each include a separate routing table.<br>
4.	The method of claim 1, comprising associating a data structure that is<br>
part of the kernel's interface with a virtual router context.<br>
5.	The method of claim 1, comprising modifying the kernel process<br>
creation code to make the field referencing a virtual router context heritable.<br>
6.	The method of claim 1, comprising tagging a packet with a context<br>
number.<br>
7.	The method of claim 1, wherein packet processing software code<br>
selects a routing table based on the virtual router context before sending a<br>
packet.<br>
8.	The method of claim 1, comprising modifying the operating system<br>
kernel to designate a lead operating system kernel for a distributed host,<br>
wherein the distributed host includes a plurality of processors that are<br>
assigned one Internet Protocol (IP) address so that the plurality of processors<br>
implement a single IP host.<br><br>
9.	A gateway platform residing in a communication network comprising: a storage medium, in communication with at least one processor,<br>
storing:<br>
 an operating system instance whose kernel is adapted to include a<br>
field to indicate an appropriate virtual router context within the gateway<br>
platform to handle an incoming data packet; and<br>
 packet processing code that determines the virtual router context of the<br>
ingress packet received at the gateway platform, and selects a routing table<br>
based on the virtual router context before sending a packet.<br>
10.	The gateway platform of claim 9, wherein the at least one processor<br>
implements a distributed host, where one or more processors are assigned<br>
one Internet Protocol (IP) address so that the one or more of processors<br>
implement a single IP host.<br>
11.	The gateway platform of claim 9, wherein the single IP host is<br>
compatible with existing protocols.<br>
12.	The gateway platform of claim 9, wherein the gateway platform<br>
supports voice and data services on one or more mobile wireless networks.<br>
13.	The gateway platform of claim 9, wherein the kernel uses the context<br>
number of a packet in order to deliver a packet to a process.<br><br><br>
ABSTRACT<br><br>
A METHOD FOR USE IN MANAGING RESOURCES FOR<br>
IP NETWORKING AND A GATEWAY PLATFORM<br>
RESIDING IN A COMMUNICATION NETWORK<br>
Resources for IP networking are managed. A field is added to an<br>
operating system kernel software procedure. The field references a virtual<br>
router context (1020). Packet processing software code is modified to cause<br>
the packet processing software code to execute in accordance with the virtual<br>
router context (1070).</r-></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzAxLUtPTE5QLTIwMDUtKDAxLTAyLTIwMTMpLUNMQUlNUy5wZGY=" target="_blank" style="word-wrap:break-word;">701-KOLNP-2005-(01-02-2013)-CLAIMS.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzAxLUtPTE5QLTIwMDUtKDAxLTAyLTIwMTMpLUNPUlJFU1BPTkRFTkNFLnBkZg==" target="_blank" style="word-wrap:break-word;">701-KOLNP-2005-(01-02-2013)-CORRESPONDENCE.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzAxLUtPTE5QLTIwMDUtKDE4LTAxLTIwMTMpLUFCU1RSQUNULnBkZg==" target="_blank" style="word-wrap:break-word;">701-KOLNP-2005-(18-01-2013)-ABSTRACT.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzAxLUtPTE5QLTIwMDUtKDE4LTAxLTIwMTMpLUNMQUlNUy5wZGY=" target="_blank" style="word-wrap:break-word;">701-KOLNP-2005-(18-01-2013)-CLAIMS.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzAxLUtPTE5QLTIwMDUtKDE4LTAxLTIwMTMpLUNPUlJFU1BPTkRFTkNFLnBkZg==" target="_blank" style="word-wrap:break-word;">701-KOLNP-2005-(18-01-2013)-CORRESPONDENCE.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzAxLUtPTE5QLTIwMDUtKDE4LTAxLTIwMTMpLURFU0NSSVBUSU9OIChDT01QTEVURSkucGRm" target="_blank" style="word-wrap:break-word;">701-KOLNP-2005-(18-01-2013)-DESCRIPTION (COMPLETE).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzAxLUtPTE5QLTIwMDUtKDE4LTAxLTIwMTMpLURSQVdJTkdTLnBkZg==" target="_blank" style="word-wrap:break-word;">701-KOLNP-2005-(18-01-2013)-DRAWINGS.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzAxLUtPTE5QLTIwMDUtKDE4LTAxLTIwMTMpLUZPUk0tMS5wZGY=" target="_blank" style="word-wrap:break-word;">701-KOLNP-2005-(18-01-2013)-FORM-1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzAxLUtPTE5QLTIwMDUtKDE4LTAxLTIwMTMpLUZPUk0tMi5wZGY=" target="_blank" style="word-wrap:break-word;">701-KOLNP-2005-(18-01-2013)-FORM-2.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzAxLUtPTE5QLTIwMDUtKDE5LTA1LTIwMDkpLUZPUk0gMTMucGRm" target="_blank" style="word-wrap:break-word;">701-KOLNP-2005-(19-05-2009)-FORM 13.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzAxLUtPTE5QLTIwMDUtKDIxLTA5LTIwMTIpLUNPUlJFU1BPTkRFTkNFLnBkZg==" target="_blank" style="word-wrap:break-word;">701-KOLNP-2005-(21-09-2012)-CORRESPONDENCE.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzAxLUtPTE5QLTIwMDUtQVNTSUdOTUVOVC5wZGY=" target="_blank" style="word-wrap:break-word;">701-KOLNP-2005-ASSIGNMENT.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzAxLUtPTE5QLTIwMDUtQ09SUkVTUE9OREVOQ0UucGRm" target="_blank" style="word-wrap:break-word;">701-KOLNP-2005-CORRESPONDENCE.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzAxLUtPTE5QLTIwMDUtRVhBTUlOQVRJT04gUkVQT1JULnBkZg==" target="_blank" style="word-wrap:break-word;">701-KOLNP-2005-EXAMINATION REPORT.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzAxLUtPTE5QLTIwMDUtRk9STSAxMy5wZGY=" target="_blank" style="word-wrap:break-word;">701-KOLNP-2005-FORM 13.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzAxLUtPTE5QLTIwMDUtRk9STSAxOC5wZGY=" target="_blank" style="word-wrap:break-word;">701-KOLNP-2005-FORM 18.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzAxLUtPTE5QLTIwMDUtRk9STSAzLnBkZg==" target="_blank" style="word-wrap:break-word;">701-KOLNP-2005-FORM 3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzAxLUtPTE5QLTIwMDUtRk9STSA1LnBkZg==" target="_blank" style="word-wrap:break-word;">701-KOLNP-2005-FORM 5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzAxLUtPTE5QLTIwMDUtR1BBLnBkZg==" target="_blank" style="word-wrap:break-word;">701-KOLNP-2005-GPA.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzAxLUtPTE5QLTIwMDUtR1JBTlRFRC1BQlNUUkFDVC5wZGY=" target="_blank" style="word-wrap:break-word;">701-KOLNP-2005-GRANTED-ABSTRACT.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzAxLUtPTE5QLTIwMDUtR1JBTlRFRC1DTEFJTVMucGRm" target="_blank" style="word-wrap:break-word;">701-KOLNP-2005-GRANTED-CLAIMS.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzAxLUtPTE5QLTIwMDUtR1JBTlRFRC1ERVNDUklQVElPTiAoQ09NUExFVEUpLnBkZg==" target="_blank" style="word-wrap:break-word;">701-KOLNP-2005-GRANTED-DESCRIPTION (COMPLETE).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzAxLUtPTE5QLTIwMDUtR1JBTlRFRC1EUkFXSU5HUy5wZGY=" target="_blank" style="word-wrap:break-word;">701-KOLNP-2005-GRANTED-DRAWINGS.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzAxLUtPTE5QLTIwMDUtR1JBTlRFRC1GT1JNIDEucGRm" target="_blank" style="word-wrap:break-word;">701-KOLNP-2005-GRANTED-FORM 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzAxLUtPTE5QLTIwMDUtR1JBTlRFRC1GT1JNIDIucGRm" target="_blank" style="word-wrap:break-word;">701-KOLNP-2005-GRANTED-FORM 2.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzAxLUtPTE5QLTIwMDUtR1JBTlRFRC1GT1JNIDMucGRm" target="_blank" style="word-wrap:break-word;">701-KOLNP-2005-GRANTED-FORM 3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzAxLUtPTE5QLTIwMDUtR1JBTlRFRC1GT1JNIDUucGRm" target="_blank" style="word-wrap:break-word;">701-KOLNP-2005-GRANTED-FORM 5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzAxLUtPTE5QLTIwMDUtR1JBTlRFRC1TUEVDSUZJQ0FUSU9OLUNPTVBMRVRFLnBkZg==" target="_blank" style="word-wrap:break-word;">701-KOLNP-2005-GRANTED-SPECIFICATION-COMPLETE.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzAxLUtPTE5QLTIwMDUtT1RIRVJTLnBkZg==" target="_blank" style="word-wrap:break-word;">701-KOLNP-2005-OTHERS.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzAxLUtPTE5QLTIwMDUtUEVUSVRJT04gVU5ERVIgUlVMRSAxMzcucGRm" target="_blank" style="word-wrap:break-word;">701-KOLNP-2005-PETITION UNDER RULE 137.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzAxLUtPTE5QLTIwMDUtUkVQTFkgVE8gRVhBTUlOQVRJT04gUkVQT1JULnBkZg==" target="_blank" style="word-wrap:break-word;">701-KOLNP-2005-REPLY TO EXAMINATION REPORT.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="255635-process-for-the-production-of-vinylene-carbonate.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="255637-coolant-line.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>255636</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>701/KOLNP/2005</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>11/2013</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>15-Mar-2013</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>12-Mar-2013</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>21-Apr-2005</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>STARENT NETWORKS CORPORATION</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>30 INTERNATIONAL PLACE, TEWKSBURY, MA 01876, UNITED STATES OF AMERICA</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>TOBER BENJAMIN A.</td>
											<td>27 COREY WAY, NORTH BOROUGH, MA 01532, UNITED STATES OF AMERICA</td>
										</tr>
										<tr>
											<td>2</td>
											<td>HARPER MATHEW H</td>
											<td>22 TICKLEFANCY LANE, SALEM, NEW HAMPSHIRE 03079, UNITED STATES OF AMERICA</td>
										</tr>
										<tr>
											<td>3</td>
											<td>SCHWARTZ LEONARD</td>
											<td>193 ROSEMONT DRIVE, NORTH ANDOVER, MA 01845, UNITED STATES OF AMERICA</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>G06F 15/173</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/US2003/031675</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2003-10-06</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>60/416,151</td>
									<td>2002-10-04</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/255636-a-method-for-use-in-managing-resources-for-ip-networking by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 10:26:03 GMT -->
</html>
