<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/224405-packet-mode-speech-communication by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 02:28:25 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 224405:PACKET MODE SPEECH COMMUNICATION</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">PACKET MODE SPEECH COMMUNICATION</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A packet mode (e.g IP) group communication service layer is provided on top of a standard mainstream cellular radio network. Conceptually, the group communication layeI: comprises a pair of basic logical entities, an application bridge and a call processing server (CPS). The, bridge and the CPS run group service applications which coffilnunicate with group service application(s) in a mobile station MS over the IP connections provided by the radio network. The CPS is responsible for control plane management of group communications. The bridge is responsible for the real- time distribution of VoIP packets to the user terminals according to their group memberships over valid connections programmed by the CPS.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td> <br><br>
Packet mode speech communication<br>
Field of the Invention<br>
The invention relates to communications systems, and especially to   mode speech communication in communications systems.<br>
Background of the Invention<br>
A mobile communications system refers generally to any telecom¬munications system which enables wireless communication when users are moving within the service area of the system. A typical mobile communications system is a Public Land Mobile Network (PLMN). Often the mobile communica¬tions network is an access network providing a user with wireless access to external networks, hosts, or services offered by specific service providers.<br>
Professional Mobile Radio or Private Mobile Radio (PMR) systems are dedicated radio systems developed primarily for professional and govern¬mental users, such as the police, military forces, oil plants, etc. PMR services have been offered via dedicated PMR networks built with dedicated PMR technologies. This market is divided between several technologies - analog, digital, conventional and trunked - none of which has a dominating role. TETRA (Terrestrial Trunked Radio) is a standard defined by ETSI (European Telecommunications Standards Institute) for digital PMR systems. U.S. Patent 6,141,347 discloses a wireless communications system which uses multicast addressing and decentralized processing in group calls.<br>
One special feature offered by the PMR systems is group commu¬nication. The term "group", as used herein, refers to any logical group of three or more users intended to participate in the same group communication, e.g. call. The groups are created logically, i.e. special group communication infor¬mation maintained on the network side associates specific user with a particu¬lar group communication group. This association can be readily created, modi¬fied or canceled. The same user may be a member in more than one group communication group. Typically, the members of the group communication group belong to the same organization, such as the police, the fire brigade, a private company, etc. Also, typically, the same organization has several sepa¬rate groups, i.e. a set of groups.<br>
A group call typically has a long duration (up to days) during which communication takes place quite infrequently and each interaction is typically short. The total active traffic may be, for example, only 15 minutes during a call. Each talk burst or speech item has an average length of 7 seconds in the<br><br>
existing PMR systems. Therefore, the radio channels or other expensive sys¬tem resources cannot be allocated all the time, because the service becomes much too expensive. Group communication with a push-to-talk feature is one of the essential features of any PMR network overcoming this problem. Gen¬erally, in group voice communication with a "push-to-talk, release-to-listen" feature, a group call is based on the use of a presser (PTT, Push-To-Talk switch) in a telephone as a switch: by pressing a PTT the user indicates his desire to speak, and the user equipment sends a service request to the net¬work. The network either rejects the request or allocates the requested re¬sources on the basis of predetermined criteria, such as the availability of re¬sources, priority of the requesting user, etc. At the same time, a connection is established also to all other active users in the specific subscriber group. After the voice connection has been established, the requesting user can talk and the other users listen on the channel. When the user releases the PTT, the user equipment signals a release message to the network, and the resources are released. Thus, the resources are reserved only for the actual speech transaction or speech item.<br>
There are typically various requirements for group communications in communications systems.<br>
Call set up times must be relatively short, i.e. set up times In the or¬der of several seconds cannot be allowed. When a user initiates a call, or rather, a speech item, he/she should be able to start speaking at the initiation of the set up within few hundreds of milliseconds. The listening parties should hear the talk possibly within approximately a second. This voice delay can be longer because a semi-duplex mechanism is used. These values are only ex¬amples.<br>
Group communication requires traffic discipline: one talks and the others listen. Therefore the radio interface is of a semi-duplex type. Only one direction is active at a time. The communications system must t&gt;e able to con¬trol that only one member speaks at a time In a group.<br>
A user can belong to many groups at a same time. Therefore, a communications system must be able to select and prioritize the group the user listens to if there are multiple group communications to the user at the same time.<br>
Not only to traditional PMR users, push-to-talk type of group calls are also attractive to several other types of users, too. For example, private persons might want to have talk groups, such as hobby groups, sport groups.<br><br>
etc. Small business users might also use the push-to-talk type of group com¬munication feature for a more frequent job related communication during a working day within the same work group, either inside the company or within some business community.<br>
Summary of the Invention<br>
An object of the Invention is to provide a new way to provide and manage a packet mode speech communication sen/ice.<br>
This object of the present invention is achieved by methods, sys¬tems, network units and subscriber equipment as disclosed in the attached in¬dependent claims. Various embodiments of the invention are disclosed in the dependent claims.<br>
According to one aspect of the invention, a mainstream cellular ra¬dio network functions as a radio access network on top of which a packet mode (e.g. IP based) group communication service is provided. Practically all new elements and functionalities required by the invention are outside the ra¬dio access and mobile core networks. The radio access and mobile core net¬work can be used as such without any need for costly changes in the main¬stream network elements. In other words, the group communication service can be run through standard main stream radio access networks (such as Global System for Mobile Communications, GSM and Universal Mobile Tele¬communications System, UMTS) such that the investment per end user in the infrastructure is low enough and thereby attractive to the operators. In an em¬bodiment of the invention the group communication service is implemented as a Voice over IP (VoIP) data application on top of the Internet Protocol (IP) data service of the mobile radio network. Any user which is active in an IP-based group communication service, e.g. active in a group call, has a pre-established logical connection through the radio access network to the group communica¬tion service entities. For example, logical connections similar to the Packet Data Protocol (PDP) contexts used in the GPRS sen/ice (General Packet Ra¬dio Service) may be used. The actual communication path, including the channel resources at the air interface in the sending and receiving ends, needs to be opened and the resources to be reserved only for the duration of the talk item. Gall set-up signaling, authentication, agreement of encryption keys and negotiation of service parameters are not needed in the resource reservation phase, because the logical connections already exist, but the physical resources are resen/ed and opened by using the signaling proce¬dures. Thus, short connection set up times can be achieved.<br><br>
In an embodiment of the invention all signaling relating to controlling a speech Item is carried out as a user plane signaling embedded in a user traf¬fic, in an embodiment of the invention, a user traffic is in form of real time transport (RTP) packets. In an embodiment of the invention the embedded speech item signaiing comprises a leader packet sent in a beginning of a user traffic stream containing user voice data packets, such as RTP packets, and a group communication service entity grants or rejects the speech item based on the leader packet. In an embodiment of the invention, a group communication service, upon granting a group communication service a speech item based on the leader packet, opens a speech item communication to receiving members of a group by fon^/arding a user traffic stream containing said leader packet and subsequent voice packets to the receiving members, in an embodiment of the invention, the embedded speech item signaiing comprises a trailer packet sent at end of a user traffic stream containing user voice data packets, such as RTP packets, and a group communication service entity ends the speech item based on the trailer packet, in an embodiment of the invention, a group communication service entity fonvards a trailer packet at end of a user traffic stream to receiving group members in order end the speech item communica¬tion to the receiving group members.Another aspect of the invention is a method for packet mode group voice communication in a communications sys¬tem, comprising the steps<br>
providing a group communication service entity on top of the said communications system,<br>
providing said group communication service entity with individual addresses of group members in at least one group communication group,<br>
sending voice packets from one of said group members to said group communication service entity, each voice packet being addressed to said at least one group,<br>
fonvarding said voice packets individually to each receiving one of said group members on the basis of said individual addresses.<br>
Another aspect of the invention is a method for packet mode group voice communication in a communications system, comprising the steps of<br>
providing group communication service entity with individual ad¬dresses of group members of a group communication group,<br>
creating an Individual logical connection from each group member to said group communication service entity by means of outband signaling.<br><br>
starting a speech item in said group by sending a leader paci<et embedded in a user traffic stream from one of said group members to communication service entity over individual logical connection each leader packet containing the identifier respective member></et>
said group communication service entity either i) rejecting said started speech item, or ii) granting the started speech item to said one group member and fonvarding said leader packet and subsequent voice packets in said user traffic stream individually to each receiving one of said group mem¬bers in said group on the basis of said individual addresses.<br>
Another aspect of the invention is a method of managing traffic streams in a communications system having a packet mode group voice com¬munication feature, comprising the steps of<br>
providing a user-specific communications function for managing traffic streams addressed to a user who is active in at least one group com¬munication group or in a one-to-one communication,<br>
receiving a first voice packet stream related to a first group commu¬nication group or a first one-to-one communication and addressed to a user who is active at least in said first group communication gnsup or in said first one-to-one communication,<br>
forwarding said first voice packet stream to said respective user,<br>
monitoring continuity of said first voice packet stream,<br>
receiving at least one further voice packet stream related to at least one further group or one-to-one communication,<br>
forwarding no one of said at least one further voice packet streams to said user if said first voice packet data stream is continuous,<br>
fon/varding one of said at least one further voice packet streams to said user if said first voice traffic stream has been discontinued for a prede¬termined period of time.<br>
Another aspect of the invention is a server system for providing a packet mode group communication service for a communications system, said server system comprising a group sen/er provided on top of said communica¬tions system, said group sender further comprising<br>
means for storing individual addresses of group members in at least one group communication group,<br>
means for receiving voice packets from said group members, each received voice packet containing information identifying the communication group which the respective packet is addressed to,<br><br>
means for granting a speech item to one group member per a communication group in turn,<br>
means for unicasting each voice packet received from said group member having a speech item in a group communication group separately to each receiving member in said respective group communication group on the basis of said individual addresses.<br>
Another aspect of the invention is a server system for providing a packet mode group communication service for a communications system, said server system comprising a group server provided on top of said communica¬tions system, said group server further comprising<br>
means for identifying and authenticating a source of group commu¬nication,<br>
means for controlling that only one group member in a group talks at a time,<br>
means for checking active group members in a group to which voice packets from a currently talking group member are destined to and means for generating from an incoming voice packet an outgoing packet to be fon/varded separately to each of said active group members, and<br>
means for selecting from possible multiple incoming traffic streams destined to one group member the one which is to be fonA^arded to said one group member.<br>
Another aspect of the invention is a server system for providing a packet mode group communication service for a communications system, said server system comprising<br>
at least one first group communication network entity providing group specific communications functions, said first group communication net¬work entity further comprising<br>
a data memory storing individual addresses of group mem¬bers in at least one group communication group,<br>
means for receiving voice packets from said group mem¬bers, each received voice packet containing information identifying the communication group which the respective packet is addressed to.<br>
means for granting a speech item to one group member per communication group in turn,<br>
means for unicasting each voice packet received from said group member having a speech item in a group communication<br><br>
group separately to each receiving member in said respective group<br>
communication on the basis of said individual addresses,<br>
at least one second user communication network entity providing user-specific communications functions for at least one user, whereby any group related communication from a user managed by said second user net¬work entity being routed first to said second user network entity and then for¬warded to an appropriate first group network entity, and any unicast voice packet from said at least one first group network entiy being routed first to said second user network entity prior to sending the voice packet to the respective user.<br>
Another aspect of the invention is a server system for providing a packet mode group communication sen^ice for a communications system, said server system comprising wherein<br>
at least one group communication network entity providing group specific communications functions, said group network entity further compris¬ing<br>
means for controlling that only one group member in a group talks<br>
at a time,<br>
means for checking active group members in a group to which voice packets from a currently talking group member is destined to and for generat¬ing from an incoming voice packet an outgoing packet to be forwarded sepa¬rately to user server having serving at least one active member in said group,<br>
a user communication network entity providing user-specific com¬munications functions on a user plane for at least user, said user network en¬tity further comprising<br>
means for identifying and authenticating a source of group com¬munication,<br>
means for selecting from possible multiple incoming traffic streams<br>
destined to one group member the one which is to be forwarded to<br>
said one group member.<br>
Another aspect of the invention is a server system for providing a packet mode group communication service for a communications system, said server system comprising<br>
at least one group communication network entity providing group specific communications functions in a user plane, said group networit entity further comprising<br><br>
means for storing individual addresses of group members in at least one group communication group,<br>
means for receiving voice packets from said group mem¬bers, each received voice packet containing information identifying the communication group which the respective packet is addressed to,<br>
means for granting a speech item to one group member per communication grc&gt;up in turn,<br>
means for unicasting each voice packet received from said group member having a speech item in a group communication group separately to each receiving member in said respective group communication on the basis of said individual addresses, a user communication network entity providing user-specific com¬munications functions on a user plane for at least one user, whereby any group related communication from a user managed by said user network entity being routed first to said user network entity and then fonvarded to an appro¬priate group network entity, and any unicast voice packet from said at least one group network entity being routed first to said user network entity prior to sending the voice packet to the respective user,<br>
a group call processing entity responsible for control plane man¬agement of the group communications in said group network entity, and<br>
a user call processing entity responsible for control plane manage¬ment of the communications in said user network entity.<br>
Another aspect of the invention is a network unit for managing speech items in a communications system having a packet mode group voice communication feature, comprising<br>
means for storing Individual addresses of group members in at least one group communication group,<br>
means for receiving voice packets from said group members, each received voice packet containing infomiation identifying the communication group which the respective packet is addressed to,<br>
means for granting a speech item to one group member per a communication group in tum,<br>
means for unicasting each voice packet received from said group member having a speech item in a group communication group separately to each receiving member in said respective group communication group on the basis of said individual addresses.<br><br>
Another aspect of the invention is a network unit for managing traf¬fic streams addressed to a user who Is active in at least one group communi¬cation group or in one-to-one communication, comprising<br>
means for selecting for unicast to a user a first voice packet stream related to a first group or one-to-one communication addressed to said user,<br>
means for monitoring continuity of said selected first voice packet stream,<br>
means for discarding any other received voice packet stream re¬lated to at least one further group or one-to-one communication, if said cur¬rently selected voice packet stream is continuous, and means for selecting and unicasting another received voice packet stream to said user if said ini¬tially selected and unicasted first voice traffic stream has been discontinued for a predetermined period of time.<br>
Another aspect of the invention is a method for establishing a one-to-one voice communication in a communications system, comprising the steps of<br>
providing a communication server on top of the said mobile com¬munications system,<br>
creating an individual logical connection between said communica¬tion server and each user having an active communication service in said communication server,<br>
starting a communication by sending a leader packet embedded in a traffic stream fnsm a user to said communication server over respective said individual logical connection, each leader packet containing identifier of said sending user and a receiving user,<br>
said communication server either i) rejects said started speech item, or li) grants the started speech item to said sending user and fonvards said leader packet and subsequent voice packets of said user traffic stream to said receiving user on the basis of said received identifier of said receiving user.<br>
Another aspect of the invention is a subscriber equipment for com¬munications system having a packet mode group voice communication ser¬vice, said subscriber equipment comprising<br>
mechanisms for packet data communication over a communications system,<br>
a group communication application on top of said mechanisms,<br>
said application having first means for establishing a logical packet connection to a group communication server.<br><br>
said application having second means for sending and receiving voice packets to and from said group communications server.<br>
Another aspect of the invention is a subscriber equipment for com¬munications system having a packet mode group voice communication ser¬vice, said subscriber equipment comprising a push-to-talk means,<br>
means, responsive to activation of said push-to-talk means by a user, for sending a leader packet followed by voice packets in a user traffic stream to said group communication service and thereby starting a speech item.<br>
Another aspect of the invention is a method for providing a packet mode group communication sen/ice for a communications system, comprising<br>
storing individual addresses of group members in at least one group communication group,<br>
managing said group communication groups using a control plane signalling,<br>
group member requests speech item using user-plane signalling em¬bedded in a user traffic stream,<br>
granting a speech item to one group member per a communication group in tum based on said embedded user plane signalling,<br>
receiving voice packets from a group member having a speech item in a group communication group, each received voice packet containing infor¬mation identifying the communication group which the respective packet is ad¬dressed to,<br>
unicasting said embedded user-plane signalling and each voice packet received from a group member having a speech item separately to each receiving member in said respective group communication group on the basis of said individual addresses.<br>
Another aspect of the invention is a server system for providing a packet mode group communication service for a communications system, comprising<br>
means for storing individual addresses of group members in at least one group communication group,<br>
means for managing said group communication groups using a con¬trol plane signalling,<br><br>
means for granting a speech item to one group member per a com¬munication group in turn based on speech item requests speech sent by said group members using user-plane signalling embedded in a user traffic stream,<br>
means for receiving voice packets from a group member having a speech item in a group communication group, each received voice packet con¬taining infomiation identifying the communication group which the respective packet is addressed to,<br>
means for unicasting said embedded user-plane signalling and each voice packet received from a group member having a speech item sepa¬rately to each receiving member in said respective group communication group on the basis of said individual addresses.<br>
Brief description of the Drawings<br>
In the following, the invention will be described in greater detail by means of prefenred embodiments with reference to the accompanying draw¬ings, in which<br>
Figures 1, 2 and 3 illustrate the basic architecture of the invention;<br>
Figures 4 and 5 are signaling diagrams illustrating the allocation of uplink and downlink bearers, respectively, in the radio interface of a mobile network;<br>
Figure 6 shows an overview of a group management concept;<br>
Figure 7 is a signaling diagram illustrating user log-on to PoC ser¬vices;<br>
Figure 8 is a signaling diagram illustrating signaling relating to the management of a group speech item;<br>
Figure 9 is a flow diagram illustrating the management of a PoC group speech item by talkspurt timers;<br>
Figure 10 is a flow diagram illustrating the downstream suppression by an upstream timer;<br>
Figure 11 is a block diagram illustrating user-plane group communi¬cation with two bridges involved;<br>
Figure 12 is a diagram illustrating the multi-unicast concept;<br>
ess, and process.<br>
Figure 13 is a block diagram illustrating the scanning filtering proc-<br>
Figure 14 illustrates an implementation of the scanning filtering<br>
Figure 15 is a signaling diagram illustrating signaling and communi¬cation relating to the setup of one-to-one communication.<br><br>
Preferred Embodiments of the Invention<br>
The present invention is applicable to any digital communications systems which can be used as an access network allowing packet mode communication between end users and an overlaying packet mode group communication sen/ice. The invention is especially preferably used in mobile communications systems based on a GPRS-type packet radio. In the follow¬ing, the prefered embodiments of the invention will be described by means of a GPRS service and the UMTS or GSM system without limiting the invention to this particular packet radio system. The IP voice communication method used in the preferred embodiments of the invention is the Voice over IP (VoIP), but the invention is not limited to this particular method.<br>
Fig. 1 illustrates the basic architecture of the prefen-ed embodiment of the invention. In the illustrated embodiment, a mobile Radio Access Net¬work (RAN) which provides the IP packet data service is based on a GPRS ar¬chitecture utilizing a 2G radio access technology, such as a GSM Base Station Subsystem BSS with Base Transceiver Stations BTS and Base Station Con¬trollers BSC. The GSM radio access may be conventional or based on the GSM Enhanced Data rates for GSM Evolution (EDGE) technique. In the latter case, radio access may be referred to as GERAN which is an all-IP GSM radio access network. Alternatively, a 3G radio access network UTIRAN (such as UMTS) may be used. An all-IP core network can be used both in GERAN and UTRAN. The architecture of the mobile network is not essential to the inven¬tion, but the GPRS infrastmcture and operation will be briefly discussed in or¬der to make it easier to comprehend the invention. The GPRS infrastmcture comprises support nodes, such as a Gateway GPRS Support Node (GGSN) and a Serving GPRS Support Node (SGSN). The main functions of the SGSN are to detect new GPRS mobile stations in its service area, handle the process of registering new Mobile Stations MS (also called User Equipment, UE) along with the GPRS registers, send/receive data packets to/from the MS, and keep a record of the location of the MSs inside of its service area. The subscription information is stored in a GSM/GPRS register (HLR, Home Location Register or in 3G all-IP networks HSS, Home Subscriber Server). The main functrons of the GGSN nodes involve interaction with external data networks. The GGSN may also be connected directly to a private corporate network or a host. The GGSN includes PDP addresses and routing information, i.e. SGSN addresses for active GPRS subscribers. The GGSN updates the location directory using routing infomnation supplied by the SGSNs. The GGSN uses the routing in-<br><br>
fomiation for tunneling the Protocol Data Units (PDUs) from external networks to the current location of the MS, i.e. to the sen/ing SGSN, in accordance with the GPRS Tunneling Protocol (GTP). Tunneling means that the data packet is encapsulated into another data packet during transfer from one end of the tunnel to another. The GGSN also decapsulates data packets received from MSs and fonvards them to the appropriate data network. In order to send and receive GPRS data, the MS activates the packet data address that it wants to use, by requesting a PDP activation procedure. This operation makes the MS known in the con-esponding GGSN, and inten^/orking with external data net¬works can commence. More particularly, one or more PDP contexts are cre¬ated and stored in the MS and the GGSN and the SGSN. The PDP context defines different data transmission parameters, such as PDP type (e.g. X.25 or IP), PDP address (e.g. IP address) and Quality of Service (QoS).<br>
In Fig. 1, a Push-to-talk Over Cellular (PoC) layer is provided on top of the mobile network in order to provide group communication services to the Mobile Stations (MS) through the mobile network. Conceptually, the PoC layer comprises a pair of basic logical entities, a PoC bridge 10 and a PoC Call Processing Server (CPS) 11. The bridge 10 and the CPS 11 are connected to the GGSN, typically over an IP network. The bridge 10 and the CPS sen/er 11 run PMR applications which communicate with the PMR application(s) in the mobile station MS over the IP connections provided by the IP mobile RAN. This communication includes both signaling packets and voice (group and one-to-one) communication packets.<br>
The CPS 11 is responsible for control-plane management of the PMR communications. Its important role may require various functionalities which in an embodiment of the invention are implemented in the following modules: "PMR server" - the applicatbn that handles the sessions for group memberships which are signaled with an appropriate session control protocol, such as Session Initiation Protocol (SIP), established for the PoC communica¬tions, and manages the users profiles (call rights, group active membership, scanning settings, etc.); SIP Proxy/Location Server - providing user location and routing functionalities of SIP signaling; SIP Registrar - for user registra¬tion/authentication; and Media Gateway Controller - controlling the network en¬tities (PoC bridges) involved in the IP layer data distribution according to the group &amp; user specific infomnation (membership, rights, scanning settings, etc.). However, in this description, the common temi CPS refers to all possible func¬tionalities of the CPS.<br><br>
However, since the PMR management requirements can be divided into group and user specific ones, two kinds of CPS servers are defined in one embodiment of the invention, as illustrated in Fig. 2. The SIP sessions for group communications are handled by a Group Control Plane Function (G-CPF) (G-CPF) 23 (e.g. in a server). When a user attaches to a group, the G-CPF 23 takes care of the relative SIP invitation transaction and perfomns the proper mapping settings between the user's recipient and the network entities responsible for the relative traffic distribution. The User - Control Plane Func¬tion (U-CPF) 22 (e.g. a control plane proxy server) is basically the control plane interface between the IP networi( and the user. By this networi
Referring again to Fig.1, the bridge 10 is responsible for the real¬time distribution of VoIP packets to the users' tenninals according to their group memberships, their scanning settings and eventual pre-emption or emergency cases. Each bridge fonvards traffic only between valid connections programmed by the CPS. The bridge 10 may perfomn one or more of the fol¬lowing functionalities:<br>
Input checking: to identify and authenticate the traffic source (op¬tionally the mnemonics in the leader RTP packet, which will be discussed be¬low, have to be processed here). Input checking may also include actions to perform and support security procedures.<br>
Input filtering: to manage that only one talker talks in a group at a time (i.e. grants a speech item), and optionally to give priority to higher priority voice items.<br>
Multiplication: after the filtering process, the bridge 10 has to check the active members of the group to which the traffic is destined and generate from the incoming packet a "downlink" packet for each active member.<br>
Scanning filtering: to select from the multiple incoming traffic streams destined to the same user the one which has to be fonwarded to his recipient according to the user's scanning settings.<br><br>
Again, since input filtering and multiplication are group specific processes, while input checking and scanning filtering are user specific, the following two kinds of application bridges have been defined in one embodi¬ment of the invention, as illustrated in Fig. 2.<br>
Firstly, a Group - User Plane Function (G-UPF) G-UPF 21 (e.g. in a server) is a network entity to which group members' audio packets are sent (through their U-UPF) and where the input filtering and multiplicatbn proc¬esses are performed. To each new group the G-CPF 23 assigns a single G-UPF 21 according to load balancing criteria which distributes the traffic as evenly as possible between the G-UPFs.<br>
The User - User Plane Function (U-UPF) U-UPF20 (e.g. in a server) performs the input checking and scanning processes for the individual sub¬scribers which have been assigned to it by the U-CPF 22. For security pur¬poses the U-UPF 20 may have security associations for each mobile terminal it handles. The U-UPF 20 hides the network complexity from the mobile termi¬nals, so the user has just to send all his user plane traffic to this unit that af¬terwards foPA/ards it according to the mapping settings of the proper U-CPF 22. In this way there is no need to establish secure channels between each user and all the IP network entities which have just to trust the U-UPF 20 from which they receive packets.<br>
As for the Control Plane elements, this logical splitting does not necessarily require a physical separation between the G-UPF and the U-UPF implementations, and thus they may be located in the same computer.<br>
The U-CPF 22 and the G-CPF 23, which are responsible for managing the sessions of the users and the groups, respectiveiy, require specific control plane signaling. ETSI 3GPP (European Telecommunications Standards Institute, 3rd Generation Partnership Project) specifications include IP based voice communications in a so called all-IP network. Such an all-IP network enables also voice communication in IP network (voice over IP, VoIP). For VoIP, call control signaling is specified, such as the Session Initiation Pro¬tocol (SIP), which is defined in the RFC2543. Therefore, in the preferred em¬bodiment, the SIP has been chosen to support and manage the PoC call ses¬sions, l-iowever, some other IP session protocol may be used instead. Further, in the preferred embodiment of the invention, Megaco (defined in RFC3015) is used by the G-CPFs 23 and the U-CPF 22 to control the G-UPFs 21 and U-UPFs 20 involved in traffic distribution of the IP layer. However, some other conresponding protocol for controlling the switching of the user plane elements<br><br>
may be used instead. Still further, RTP (Real-time Transport Protocol, defined in RFC1889) has been chosen to handle the transfer, and QoS mechanisms are needed to handle the voice packet (VoIP) delivery.<br>
Megaco defines a general framework for physically decomposed multimedia gateway. Its connection model is based on two main abstractions which are Termination and Context. The former is a logical entity in the MGW (i.e. PoC Bridge) that sources and/or sinks one or more streams, while the lat¬ter is an association between a collection of Temiinations that describes the topology (who hears/sees whom) and the media mixing and/or switching pa¬rameters if more than two Terminations are involved in the same association. Priority values can be used by the MGC (i.e. PoC CPS) in order to provide the MGW with information about a certain precedence handling for a context, and an indicator for an emergency call is also provided to allow a preference han¬dling. The protocol provides commands for manipulating the logical entities of its connection model, contexts and tenriinations, and it is here assumed that it provides the flexibility and the functionalities required by the PMR CPS 11 (the G-CPF 23 and the U-CPF 22) to program the proper traffic paths and filter¬ing/scanning pnscesses in the PoC Bridge 10 (the G-UPF 21 and the U-UPF 20).<br>
The SIP protocol defines signaling messages for call control, user location and registration, and these have been used in the preferred embodi¬ment of the PoC solution to handle the specific PIV1R communications and the relative participating users (establishment, joining and tear down of a call ses¬sion, user's log on to PoC services, user's profile negotiation, etc).<br>
For each PoC communication, a SIP session is established and managed by the CPS handling it (G-CPF 23 and U-CPF 22 for group and one-to-one communications respectively). When a user wants to become an active member of a group, he has to join the con'esponding session. For one-to-one calls, the PoC U-CPFs maintain one session between participating U-CPFs for each one-to-one call.<br>
All the user's outgoing and incoming traffic has to go through the U-UPF 20 that has been assigned to the user. In particular, in the uplink the user's traffic is checked by his U-UPF 20 and fonwarded to the G-UPF 21 han¬dling the group to which the traffic is destined or, in case of one-to-one com¬munication, to the U-UPF 20 handling the called party.<br>
In the downlink, the traffic is then distributed to the destination us¬ers' U-UPFs 20 (by packet multiplication in the G-UPF 21 in case of group<br><br>
communication, packets are multiplied and fonvarded to each U-UPF which is serving active members in the group). In the U-UPF, the users' scanning processes are perfomied and traffic is multiplied and forwarded to each user that listens to the group according to his current scanning settings.<br>
This PoC solution is access independent, which means that it can run on top of GSM, WCDMA, WLAN or equivalent technologies as long as these are able to support the always-on VoIP bearers. The IP layer's audio distribution uses standard VoIP mechanisms (such as the RTP), while specific Internet protocols or interfaces will be used to connect supplementary network entities, such as Subscriber and Group Management Function (SGMF) 25, a Domain Name Server (DNS) 24, WWW/WAP (World Wide Web/Wireless Ap¬plication Protocol) and security management servers. Each network entity is obviously associated with at least one IP address by which the IP packets are transferred and routed, but the role of the network elements have also to be defined from the SIP's point of view. Each MS is a SIP User Agent (UA), and thus each one has a SIP address (URL) which normally is "user-name@hostname" where the hostname can be, but not necessarily is associ¬ated with the U-CPF 22 in which the MSs have to register. This U-CPF 22 should act as a Registrar, Location and Proxy SIP server in order to allow the reachability of the MSs under his control and to support the SIP signaling rout¬ing. The G-UPFs 21 and U-UPFs 20, which are exclusively involved in the au¬dio data distribution, do not have a role in the actual SIP mechanisms and the core network is simply seen as a single IP network link. At the SIP signaling level, URLs are used for user and group identification. The URLs can be sip: URLs as defined in the RFC2543, tel: URLs representing telephone numbers as defined in the RFC 2806, or any other URL fonnats. The REGISTER method is used with a sip: URL, that is, SIP URL is the user main identity in PoC system. Dialing of users with a private numbering plan number (only) is possible using the tel: URL in the To: header field (sip: URL must have the host portion present at all times). A secondary identity can be used for exam¬ple for addressing the b-party for one-to-one calls if the b-party is from the same Virtual Private Network (VPN). Groups are always addressed with sip: URLs, where the group name is used in place of the user name, and the host managing the group (exact G-CPF, if known) in the host portion. The address¬ing on the user plane will be explained in more detail below.<br>
Additionally, an SGMF 25 is preferably provided in PoC system for management and information query/updating purposes. Via SGMF 25, opera-<br><br>
tor or a normal user having management rights can create, delete and modify users and groups in PoC system. Also access rights related to users and groups can be created and modified. The infonnation itself can be contained in a database, such as Structured Query Language (SQL) database or in a direc¬tory, such as Lightweight Directory Access Protocol (LDAP, defined in RFC2251) directory. These data repositories can be stand-alone or co-located with SGMF 25. This database or directory is the main data repository in PoC system. Normal users having management rights can access SGMF using a WWW/WAP interface. An important function of SGMF 25 is also processing requests coming from U-CPF 22 and G-CPF 23 and making database or direc¬tory fetches and updates according to the requests.<br>
SOAP (Simple Object Access Protocol, defined by the Worid Wide Web Consortium W3C), or a similar protocol can be used in the interface be¬tween U-CPF 22 and SGMF 25 as well as in the interface between G-CPF 23 and SGMF 25.<br>
The user equipment, or Mobile Station MS, has a PoC application on a user layer on top of the standard protocol stack used in the specific mo¬bile communications system. The SIP and RTP protocols employ the underiy-ing Transmission Control Protocol (TCP), User Datagram Protocol (UDP) and IP protocols which further employ the physical layer resources, such as the ra¬dio resources. Additionally, a WAP stack may be employed to access the WAP pages on SGMF 25 or on some another sender.<br>
In Fig. 3, one possible general PoC architecture is presented. The IP backbone 29 may be, for example, an IP mobile backbone, a LAN, a PoC intranet, or two or more separate intranets, etc.<br>
PoC mobile MS, when the PoC mode is selected by the user sets up two GPRS contexts: a) one to the PoC CPS 11 to be used with TCP/IP for control plane signalling (group management, registration etc.), b) one for voice to/from the PoC bridge 10 using RTP,UDP, conversational IP quality class or similar, and sufficient header compression over the radio path. If a mobile or the mobile network do not support two simultaneous contexts, the mobile must clear down the RTP connection for the duration of the SIP signaling transac¬tion. The PoC mobile MS must always maintain the contexts to the bridge 10 when the PoC mode is on. The SIP content is also preferably on all the time, but if this causes problems to network capacity or to the accessibility of other services than PoC, the SIP context can be set up also for the duration of sig¬naling transactions. Notice: in this case the cellular networic must support the<br><br>
network initiated context set up. The SIP sessions are signaled in power on or in PMR mode activation. The SIP sessions are always on and thus no SIP sig¬naling is needed for PMR voice items. All voice is transmitted after PIT activa¬tion via the existing contexts. This mechanism enables fast call set up.<br>
An example of the allocation of the uplink bearer at the radio inter¬face of the mobile RAN is illustrated in Fig. 4. The user pushes the PTT and the MS sends a speech item request to the mobile RAN. The MS will ask for a dedicated radio bearer for the duration of whole speech item. The mobile RAN grants the uplink bearer (e.g. a dedicated packet data channel and the physi¬cal time slot). When the mobile RAN acknowledges allocation of the uplink bearer, the mobile starts sending data through it. The first packet sent is an RTP message containing the talking party identifier followed by voice stream packets (VoIP RTP packets). The leader RTP packet and the VoIP RTP pack¬ets are routed to the PoC bridge 10 on the basis of the active GPRS context.<br>
The PoC bridge 10 multiplies the packets and sends them to the other members of the group. An example of the allocation of the downlink bearer in the radio interface of the mobile network is illustrated in Fig. 5. The downlink bearer is allocated by the SGSN when it detects an IP packet going via an existing context to a mobile station MS. Firstly, the SGSN pages the MS if it is in a STANDBY state. After receiving an acknowledgement from the MS, the SGSN requests that the RAN (e.g. the GSM BSS) allocates a dedicated radio bearer, and after the allocation the SGSN starts sending packets (e.g. in LLC frames) to the RAN. The RAN sends the packets (e.g. in radio blocks) to the MS.<br>
The uplink voice bearer is released by the MS when the user stops pushing the PTT switch. The network will release the uplink bearer when the maximum speech item length (e.g. 20 to 30 sec) Is exceeded. In the downlink direction the radio network may release the bearer when no IP messages as¬sociated with the bearer have been received for a predetermined period of time (so called idle timeout).<br>
The call set up delay experienced by the caller after pressing the PTT switch may be shortened by the mobile station MS giving an audible indi¬cation to the user to start speaking. After the audible tone, the user can start speaking and the VoIP message starts. This is the time the caller experiences as the set up delay. There are several points at which the permission to speak can be given. For group calls, one suitable point is after the uplink radio bearer<br><br>
has been allocated and after the first RTP message (so called leader packet, non-voice) has been sent to the RAN.<br>
In one-to-one calls, the indication to start speaking can further be received from the called party. Notice that when the first RTP packet is sent to uplink, the downlink status is not known at that point. In case of call failure be¬cause of a missing B party or missing radio bearers in the downlink direction or a failure of a call authorization check, the user gets an indication of a call fail¬ure. The indication to speak could be alternatively given after the bridge 10 gives an acknowledgement of, for example, having processed the first RTP packet or, in the one-to-one calls, after the B party has acknowledged the leader packet. Still alternatively, the MS could have a timer value set by the OPS from sending the lead packet to giving the audible indication to the user.<br>
Group communication<br>
Groups (also called talkgroups) provide the users with an easy and immediate multipoint way for voice communication. Each user can be allowed access to one or more groups. A typical case is that a mobile user is allowed access to all groups in his Virtual Private Network (VPN). The user can be ac¬tively attached to a subset of the available groups.<br>
In the basic mode, the mobile user selects one group for communi¬cation. He will then hear all traffic in that group (unless he is engaged in an in¬dividual call) and can also talk in the group. The user can easily switch to an¬other group.<br>
The user can also operate in multiple groups virtually at the same time, by using a method called scanning. The user selects multiple groups and assigns these with priorities. He then hears traffic from one group at the time, but traffic from a more important group will interrupt other traffic. One of the groups remains the selected group, and any speech transmission by the user is made to the selected group. The user can switch scanning on and off. The list of scanned group with priorities can be edited by the user. Group selection and changing of other settings can also be performed by someone else than the user himself.<br>
The user interface for receiving and talking in groups, changing the selected group and activating scanning is simple and fast. Other tasks, such as defining the scanning list are used less often.<br><br>
PMR-style one-to-one communication<br>
As an option, the architecture according to the invention can be used to enable the users to make direct one-to-one calls to other users within their defined access rights (default: within their VPN). A direct one-to-one call resembles the use of an intercom rather than the use of a normal telephone. Such calls are well suited to many PMR users: tasks, commands and advice can be given and received with minimal attention to operating the mobile sta¬tion. Activities can be coordinated with good timing accuracy without having to keep a call on during long periods. Basically, an one-to-one call is only a spe¬cial case of group communications, and the same principles can be used.<br>
MANAGEMENT PUVNE OPEi^TION<br>
In the following, the prefen-ed embodiments and different aspects of the invention are discussed on the management plane, control plane and the user plane of PoC.<br>
User and group management<br>
With MS equipment, users may be able to browse the possible groups and subscribe to them. They may also be able to leave the groups. For more professional use, forced joining and removal to/from groups is needed. It is desirable that the group management is produced via a WEBA/VAP browser based sen^ice.<br>
First of all, users must be created in PoC system. This is done by accessing SGMF 25 using a WAP/WWW interface. All user and group man¬agement operations can be perfonned by a management user, who can ac¬cess SGMF using a MS or can be directly connected to SGMF.<br>
Secondly, groups need to be created before they can be used for communication. Creating groups and defining their access rights belongs to what is called group management. Many user groups or end user organiza-ttons are expected to outsource their group management, but some will prefer to have access to creating groups and defining group members and access rights. On the other hand, not all users need to create new groups (e.g. ordi¬nary workers using PoC). Therefore, it is better to have a separate concept of management user in the PoC system. In the preferred embodiment of the in¬vention the users can have a remote access to a Subscriber and Group Man¬agement Function (SGMF) 25 provided by the operator and shown in Figs. 2 and 3.SGMF may provide a group managing user interface using WAP/WWW forms. However, other types of user interfaces are also possible.<br><br>
An overview of the group management concept is shown in Fig. 6. Group management is used by management users 61 to create groups for the use of users 62. The users 62 can be actively engaged in a group (an active group session is established) or they can have groups bookmarked in the group list 63 of their IVISs for easy use later. Furthemnore, the users 62 can have been allowed access to yet other groups. A user 62 can activate a ses¬sion in such groups, e.g. by typing the URL of the group (such as <a href="../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="dabcb5b5aef7b8bbb6b69aaaafb8b6b3b9bda8b5afaaa9f4b5aabfa8bbaeb5a8f4bcb3">[email&#160;protected]</a>') or clicking a link on a web or WAP page. The management users 61 can be either 1) normal users creating or modifying groups for personal or business use, 2) office personnel creating or modifying groups for company use, 3) dispatchers creating or modifying groups for their PMR fleets, or 4) operator or service provider personnel creating or modifying groups for their customers' use.<br>
First of all, SGMF 25 must hold infonrtation on authorized manage¬ment users and what they are allowed to do. The information may include set¬tings like: 1) which operation the management user is permitted to use (e.g. create, add/remove access rights, send notifications); 2) which groups he is al¬lowed to manage (e.g. own private groups, any groups of company-k, any pub¬lic groups of provider-x); and 3) which users he is allowed to include (e.g. any, any users of company-k, a list of persons) in the groups.<br>
Then let us consider an example case wherein an authorized man¬agement user 61 creates a group. In an embodiment of the invention, the group data created at this point may include: 1) the home CPS 23 of the group; 2) the URL of the group (dependent on the home CPS 23); and 3) the initial access rights settings for the group (can be changed later). The group creation/management application may now perform e.g. the following actions: 1) update the DNS server 24 of the URL if necessary (typically there should be no need if existing domain names are used); 2) update the CPS 23 with the group name; 3) and update the PoC database or directory (PoC main infomna-tion repository) 65.<br>
The management user 61 may at this point also want to send a notification of the new group to potential group members. For instance we can see the following typical cases: 1) the management user 61 is a private person who has created a group for five persons he knows, access to the group has been restricted to these five persons, and the user wants notification to be sent to these five persons; 2) the management user is a service provider who has created a group for hobbyists, access to the group has been set open to<br><br>
all, and the notification is sent to a list of users who according to marketing re¬search are likely to be interested.<br>
The notification of a new group is, for example, a special fonn of SMS message (e.g. ring tones, logos), or a SIP instant message. The MS may react to this message by e.g. 1) displaying to the user that a new group is available to this user; 2) giving the MS user a choice of joining immediately (starting an active session; normal or sticky) or bookmarking for later use, or rejecting (a reject message will be sent to SGMF which may display it to the management user). The rejection indicates to the application that the user does not accept the group, but this does not necessarily have to result in modifications to access rights data.<br>
As noted above, new groups will be added by the SGMF to the relevant G-CPF 23. Likewise the SGMF can also delete groups. The G-CPF 23 is not directly involved in creating groups othenvise. After notifications have been sent to users, the users who wish to join the group immediately appear to the G-CPF 23 as users establishing a SIP session to a group. Now, G-CPF 23 inquires group access rights from the SGMF 25 which in turn makes an in¬quiry to PoC database or directory (PoC main infonnation repository) 65.<br>
The removal of a user's group access rights affects only the PoC database or directory 65. Any ongoing sessions are therefore not affected, and the change becomes effective at the next session set-up. If a user has to be removed from a gnaup, a separate facility for that may be implemented to the G-CPF 23. The deletion of a group Is indicated by the SGMF 25 to the appro¬priate G-CPF 23. The G-CPF 23 will then end all active sessions and remove any stored information on the group. The SGMF 25 also takes care of remov¬ing infonnation in the PoC database or directory 65.<br>
Group access rights are checked by the CPS at the time when a group session for user equipment is started. Additional checks can be made at other times if deemed necessary to maintain security. In the prefen-ed em¬bodiment of the invention, the group access rights are held in the database or directory 65 which is then inquired by an appropriate server. The typical inquiry takes the fonm "is user-x allowed to access group-y?".<br>
The access rights definition is preferably flexible and possible both on the level of individual users/group and on lists of users/groups. For in¬stance, one should preferably be able to define: 1) user-x allowed to access group-w; 2) user-x, user-y, user-z allowed to access group-w; 3) user-x al¬lowed to access all groups of company-k; 4) all users of company-k allowed to<br><br>
access group-z; 5) all users of company-k allowed to access all groups of company-k; 6) all users allowed to access group-p; 7) etc.<br>
Therefore, the access management preferably uses a hierarchical structure for both users and groups. This means that users can belong to user groups and groups can belong to group groups, even on multiple levels. It would also be even more flexible if a single user could belong to multiple (par¬allel) user groups. Group access can be given to a specific user or to an entire user group. Access given to a user group admits all users in that user group. A user can be given access to a specific group or to a group group. Access to a group group admits into all groups in that group group.<br>
CONTROL PLANE OPERATION<br>
User log on to PoC services<br>
Before the user can start to use PoC services he has to register himself to his U-CPF 22 whose actual IP address has to be determined by DNS services. In the prefen'ed embodiment of the invention the user first makes a DNS query containing the host part of his SIP address. The DNS 24 returns the IP address of the U-CPF 22 con-esponding to the host part.<br>
Refemng to an example shown in Fig. 7, once the MS knows the IP address of the U-CPF 22 it sends a SIP registration message to the U-CPF 22. When the U-CPF 22 receives the registration message from the user's MS it contacts SGMF 25 for checking rights of the user and obtaining other Infor¬mation. After this, U-CPF 22 contacts U-UPF 20 of the user where his input checking and scanning filtering process has to be perfonned and where the user has to send his user plane traffic. The user is then added to the U-UPF by an Add message, and the U-UPF initializes the user's scanning process and sends an acknowledgement. Optionally, before contacting the U-UPF 20, the U-CPF 22 may exchange user information with the Home Location Regis¬ter (HLR) or 3G Home Subscriber Server (HSS) of the user, authenticate the user and create a user profile.<br>
During the logon the user gets the IP address of his U-UPF 20, and possibly a list of user's sticky groups (explained later).<br>
The registration message normally includes the identification infor¬mation of the user, but the message can also include other relevant indica-tions.lt can be re-sent by the user in order to make a new logon and to request particular information from his U-CPF 22.<br><br>
in oraer to avoid the log-on of different users to the system by the same terminal, which would require more than one scanning processes for the same IP recipient, a specific checking mechanism may be performed by the U-CPF 22.<br>
In case the user wants to update his scanning settings or set ON/OFF his scanning process, then he can send new specific SIP registration messages to his U-CPF 22. If the user wants to select a certain group (scan¬ning being set off), it is done by sending a SIP INFO message to user's U-CPF 22. In case the user has sticky groups (pennanent groups), they are activated at logon: the U-CPF 22 performs the consequent operations required, such as SIP session invitation, mapping settings in the G-UPFs 21 and the U-UPF 20, and finally provides the resulting infomnation (for example the list of the sticky sessions which the user has implicitly joined) to the user in the logon acknowl¬edgement message.<br>
Active group sessions<br>
A user communicates (listens and talks) in groups for which he has an active session. Sessions are set up and ended by SIP signaling. The ses¬sion setup can be initiated both by the user or by an authorized third party (such as a dispatcher or an application). Session establishment by a third party is mainly relevant only in PMR use. Many users, especially in the non-PMR market are likely to dislike session establishment by a third party and may like to be able to prevent this. The sessions may also be forcibly ended by the G-CPF 23, e.g. in case of group deletion.<br>
The primary and effective data on the active group sessions is al¬ways held by the server(s). Thus, if the user equipment (e.g. the MS) has lost data on active sticky group sessions, it can request all necessary group infor¬mation from U-CPF by perfonning a new logon.<br>
In many applications the user may continue using the same groups after a power-off period. For this purpose, sticky sessions are provided. When the user is logged off, the information related to user's sticky sessions is saved in PoC database or directory (PoC main information repository), and the ses¬sions are re-established at power on. In other words, sticky group is talk group that is automatically activated after a new logon.<br>
For activating a group session, the MS needs to know the URL of the group. From the user's point of view, he may (user decision, depends on what options have been implemented) select the group by<br><br>
1)	typing the full URL of the group (e.g. sec-<br>
<a href="../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="f6829984c4b69e9d9ad8918486958685d89986938497829984d8909f">[email&#160;protected]</a>, <a href="../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="62040d0d1600030e0e221217000e0b0105014c0d12071003160d104c040b">[email&#160;protected]</a>).<br>
2)	selecting from groups stored in the MS in a group bookmark list.<br>
3)	using a WAP/WWW application to browse available groups.<br>
All these methods are complementary and can be compared to cor¬responding methods in web browsing: typing the URL, selecting from the bookmark list, clicking on a link on a web page. The outcome in all three cases is that the MS knows the URL of the required group and can start SIP signal¬ing.<br>
Setting up a session by the user may (if this facility is implemented and the user decides to use it) be based on an URL of the group given by the user. This allows any user to try access to any group; access rights checking will then be perfomied by the server(s). Another method for occasional access to groups would be using a web/WAP browser to browse for interesting and/or useful groups. Both of these methods are very suitable to occasional and tem¬porary access to groups.<br>
However, if the user needs frequent access to some groups without having to keep the session open all the time, the user equipment may include some form of group bookmark list. The main purpose of the group bookmark list is to allow the user to browse locally the list of groups and easily attach to groups. Please note that there is no need for the group bookmark list in the user equipment to be complete and include all groups available to the particu¬lar user. If a group is missing, the user can access the group by giving its URL and then store it on the list.<br>
From the user's point of view, the group bookmark list may be per¬ceived as the traditional PMR group or channel selector. Other types of users may perceive the list as a second phone book, an internet bookmark list or similar to TV channel settings. This set of models is enough to cover all likely users of the sen/ice.<br>
There are a few options as to how the group bookmark list works, depending on the type of the intended market (PMR or consumer). For PMR, the user interface should resemble a traditional PMR group list, and a facility to remotely load new groups to the group list (from a system manager) will be needed. For consumer users, the user interface might resemble more a book¬mark list to which the user can add groups himself (e.g. bookmarking the group currently selected). A PMR user would naturally also benefit from the fa¬cility of bookmarking the cun-ent group. At this stage, we can assume that the<br><br>
deletion of groups fnam the list is the user's responsibility. For PMR users, automatic bookmarking could be useful, i.e. that all new groups will automati¬cally be bookmarked.<br>
USER PLANE OPERATIONS<br>
Signaling a PoC group speech item<br>
The user has to send all his user plane traffic to the U-UPF 20, and in case the traffic is destined to a group then the specific port number associ¬ated by the U-UPF 20 with the group is used for traffic identification purposes.<br>
One common PMR requirement is that only one active member at a time is allowed to speak in each group and that means that a user willing to speak to a selected group has to get a speech item that is managed by the system. The speech items are granted and rejected by the G-UPF 21.<br>
The straightfonward way to support this functionality would be to use SIP signaling, but in order to avoid the delay introduced by the explicit signal¬ing transactions an alternative solution that uses the payload type field and the payload itself of the RTP packet for implicit signaling is here preferred.<br>
Thus, in an embodiment of the invention, the system is not based on request-grant type management of talk spurts such as is used in conven¬tional PMR systems, i.e. TETRA. Rather, to provide faster operation, a user will start the transmitting talkspurts without a talkspurt grant from the system, but in case of clash of multiple talkers (or other problems) the right to transmit will be withdrawn.<br>
With the implicit signaling approach mentioned above each user can try to speak to the selected group whenever he wants. Refening to an ex¬ample of Fig. 8, when the user of the MS pushes the PTT, the uplink re¬sources are reserved as described above, and the MS sends a leader RTP packet to the G-UPF 21 via U-UPF 20. A speech item is available and granted to the MS. At the same time, timers which are to be described below are initial¬ized. The leader RTP packet is fonwarded to all the receiving active members of the group via their respective U-UPFs, in order to indicate the current speaker's identity to all the receiving active members of the group each time an active member gets the speech item and starts to talk to the group. This leader packet uses a special payload type for embedded control signaling as well as the RTP payload, to canry information about the sender's identity (mnemonic, number, etc.), and an SSRC value that will be used to recognize<br><br>
f !<br>
the following RTP packets sent by the same speaker. Then the leader RTP packet is followed by the actual group's audio stream (VoIP RTP packets).<br>
Normally, when the speech item is not available and the G-UPF 21 does not grant the speech item to a user in response to receiving the leader RTP packet, the user notices that his voice is not fonvarded when he receives another member's voice from the same group traffic. However, this would not be enough in case the user is simultaneously listening to another group, so the G-UPF 21 of the group has to signal to the user's U-UPF 20 (using embedded RTP signalling) that the user has not got the speech item requested. The user's U-UPF 20 will then send this special RTP packet fonvard to the user. This packet indicates to the user terminal that the speech item was not granted to him and allows the MS to switch on some hardware mechanism (such as visual or sound indication) to alert the user.<br>
Since the speech item is managed by implicit signaling, there is no need for further specific explicit signaling during a group communication.<br>
Each G-CPF 23 generates unique SSRC values for the users at¬taching to groups. During the group attachment the G-CPF 23 returns this SSRC value to the user and stores it in the G-CPF 23 and G-UPF 21. It should be noted that in this context the SSRC uniquely identifies the user in the con¬text of a group while a different SSRC associated by the U-UPF 20 for user's every one-to-one call indicates the caller in a one-to-one call, and the same value Is used in that call for both the caller and the called party.<br>
The user's traffic fonwarded by his U-UPF 20 is then identified by the IP address of the G-UPF 23 that is handling the group to which the traffic is destined, and the specific port number that the G-UPF 23 has allocated for the traffic of that group.<br>
Talkspurt timers in Input Filtering<br>
Traffic in a group, as seen by the users, consists of talkspurts (i.e. speech items) of more or less continuous speech coming from a specific user. The U-UPFs 20 and G-UPFs 21, however, receive packets of speech, and multiple users may try to speak simultaneously in the same group. To ensure that speech from the current speaker in the group is not intenupted or inter¬fered with by packets from other users, the G-UPF 21 implements a talkspurt continuity timer for each active group. In addition to the timer, the identity of the currently talking user Is stored.<br>
In a typical talkspurt, while the user is pressing PTT, his speech codec is generating speech packets (frames) and these are being sent at<br><br>
regular intervals. Of course, the packets will reach the G-UPF 21 at somewhat more in-egular intervals. Even when the user is not speaking, the MS will be sending DTX packets (Discontinuous Transmission). The timer is thus needed to keep a soft state between packets. The timer is restarted for every incoming packet, and the timer value should be enough to allow for the interval between packets, taking into account the interval between packets sent (e.g. DTX frames) and the variation of delay between the user and the G-UPF 21. The timer value is thus on the order of hundreds of milliseconds.<br>
The idea is not to keep the turn reserved for the user if he releases the PTT. Therefore, an embodiment of the invention uses a trailer packet to signal the end of the talkspurt, and this should then be considered equivalent to the expiry of the timer. The talkspurt continuity timer is implemented in G-UPF 21, because it is there that different talkers are contending for talking in the same group.<br>
There is also a requirement to limit the maximum talkspurt time. From the user's point of view, no single user should be able to occupy the group unnecessarily long, preventing others from talking. Neither should the group be blocked if the PTT of a user is unintentionally jammed in the send position. The operator may want to restrict the talkspurt duration for reasons of profiling the service and tariffing. Typical values for the talkspurt maximum timer would be 30 s, 60 s, even more. The timer is started at the first packet, when the user becomes the cun-ent talker. At the expiry of the timer the talk¬spurt of the current speaker will be stopped, even if there is no other speaker. To be able to talk again, he will need to release the PTT and push it again. A special embedded RTP signaling packet is sent by the G-UPF to the MS in or¬der to stop the sending.<br>
It is possible to implement the talkspurt maximum timer either in the U-UPF 20 and in the G-UPF 21 or in both, but the result is not the same in the two cases. A timer in the U-UPF 20 implements a user specific maximum talk¬spurt duration, a timer in the G-UPF 21 implements a group specific maximum talkspurt duration. Either of these can be useful, even both. The architecture supports both<br>
Fig. 9 is a flow diagram illustrating the talkspurt timer process in the G-UPF 21. The talkgroup continuity timer and the talkspurt maximum timer are started when a speech item is granted to a user, step 90. In step 91, it is checked whether a new packet has been received fnsm the user. If not, it is checked whether the continuity timer has expired (step 92). If the continuity<br><br>
timer has expired, the speech item is ended (step 97). If the continuity timer has not expired. It is checked whether the maximum timer has expired (step 93). If the maximum timer has expired, the speech item is ended (step 97). If the maximum timer has not expired, the process retums to step 91. If a new packet has been received from the user in step 91, it is checked whether the received packet is a trailer packet sent by the user equipment in response to a release of the PTT (step 97). If a trailer packet has been received, the speech item is ended (step 94). If the received packet is not a trailer packet, it is checked whether the maximum timer has expired (step 95). If the maximum timer has expired, the speech item is ended (step 97). If the maximum timer has not expired, the talkspurt timer is restarted (step 96) and the process re¬turns to step 91.<br>
A mechanism to interrupt a talkspurt may also be needed. This could be when an authorized user needs to ovenride an ongoing talkspurt. A G-CPF 23 may then be able to command the G-UPF 21 either 1) to inten^pt a talkspurt in a graup, or 2) to set a user to have an intenupting priority in a group. In case 1, any ongoing speech item in the group shall be intenupted, as a consequence no-one has the speech item and a command to stop transmit¬ting (embedded RTF signaling packet) is sent to the MS of the intenupted talker. In case 2, a speech item from the prioritized user will cause sending of a stop transmitting command to the previous talker, restarting of the talkspurt timers and granting the speech item to the new talker. It is assumed that inter¬rupting priority is only used temporarily, on demand or in special cases. There¬fore, the number of users with intenupting priority per group does not have to be large (assumption = 1).<br>
In the preferred embodiment of the invention, the command to stop transmitting is achieved by the use of an RTF packet using a special payload. A parameter field in this packet may indicate the reason for command. These packets shall pass through any filtering processes unhindered. An MS receiv¬ing the command to stop transmitting immediately stops transmitting voice packets and return to the receive state, as if the FTT were no longer pressed. The user will start to hear any incoming voice traffic even if he holds the FTT pressed. To start transmitting again, the user must first release the FTT and press it again. The command to stop transmitting is either generated or routed via the U-UPF 20.<br><br>
(' ■<br>
Downstream suppressing while transmitting<br>
The semi-duplex mode of operation makes it undesirable to load the downstream channels with voice packets while the user is transmitting. Therefore, in an embodiment of the invention, the U-UPF 20 implements a suppression of downstream while transmitting in the following way. Referring to Fig. 10, the upstream traffic from the user concerning group calls is moni¬tored for leader and voice packets (step 101). An upstream talkspurt timer shall be used to provide a soft state indicating that the user is transmitting a talkspurt in a group call. The mechanism used is the same as described above for maintaining talkspurt continuity in a group. An upstream voice or leader packet will set the upstream talkspurt state ON (step 102), and start the up¬stream talkspurt timer (step 103). Expiry of the timer (step 104) will set up¬stream talkspurt state OFF (step 105). When the upstream talkspurt state is ON, no downstream packets (except signaling) is sent to the user. When the upstream talkspurt state is OFF, downstream packets are sent normally.<br>
Audio data distribution in user plane<br>
In the user plane the audio data real-time distribution to/from the end users is handled, and the PoC Bridge 10 (the G-UPF 21 and the U-UPF 20) is the networi
It is an object of the invention that the PoC approach is scalable to millions of users and at least hundreds of thousands of groups. To provide a scalable PMR solution a specific addressing model has been planned. The principal aim of this model is to implement the complex mapping between the bridges, the users and their traffics using the strictly needed amount of IP ad¬dresses and port numbers and preferring static allocations (where possible) in order to reduce the amount of information to be exchanged between the net¬work entities.<br>
The IP/UDP/RTP protocol stack is commonly used in the VoIP worid for real-time audio data transmission, and thus it is selected for the user plane in the preferred embodiment of the invention as well.<br>
In particular It is assumed that at least in the users' tenminals the IPv6 is implemented, while in some core network entities it could be required<br><br>
to support the IPv4 also (dual IPv6/v4 stack) in order to assure the Interopera¬bility with eventual subnetworks still using it.<br>
The Real-time Transport Protocol (RTP) developed by the IETF to support the transport of real-time streams for audio communications over packet networks is used on top of the UDP in order to avoid the delays intro¬duced by more reliable transport protocols (not required in this context), such as the TCP. With the RTP and latency buffering at the receiving endpoint, the timing (jitter problem), packet ordering, synchronization of multiple streams, duplicate packet elimination and continuity of the streams can be handled.<br>
When a user speaks to a group, the user's MS sends the audio packets to his U-UPF 20 which after the input checking fonwards it to the group's G-UPF 21. The traffic fonwanjed by the U-UPF 20 is uniquely identified by the IP address of the G-UPF 21 and the port number the G-UPF 21 has as¬sociated with the group, while the trafTic between the user and his U-UPF 20 is identified by the IP address of the U-UPF 20 and the port number the U-UPF 20 has associated with the group, so the MS can use the same socket to send and receive traffics from any groups (port number "200" is used in the follow¬ing examples).<br>
When a user becomes an active member of a group he gets from his U-CPF the port number assigned by his U-UPF to the group's traffic. And at the same time the U-CPF 22 and the G-CPF 23 set the proper mappings between the user's U-UPF 20 and the group's G-UPF 21. More specifically, the U-UPF 20 gets the port number that the G-UPF 21 has assigned to the group's traffic.<br>
A U-UPF 20 identifies incoming one-to-one traffic by the specific port number it has allocated for all one-to-one communications and the SSRC value assigned by the U-UPF 20 of the caller to the one-to-one call during its establishment. In order to avoid the negotiation of dynamic port numbers be¬tween the MSs and the U-UPFs 20, a static port number shall be used in all the MSs and U-UPFs ("102" in the following examples).<br>
With the "split bridge" model described above it may happen that in the downlink a G-UPF 21 has to fonward the incoming group traffic to sepa¬rated U-UPFs 20. For that kind of communications, as well as for communica¬tions from a U-UPF 20 to G-UPF 21, port numbers assigned for each group are used.<br>
In order to better describe how group calls are managed on the user plane, an example will now be illustrated. The current group's speaker sends<br><br>
his audio packet to his U-UPF 20 that checks the packet and fonwards it to the group's G-UPF 21. If the traffic passes the input filtering in the G-UPF 21, then it is individually delivered to the scanning processes of the active menribers di¬rectly handled by the local U-UPF (located in the G-UPF physical entities). At the same time the traffic is also fonvarded to the other U-UPFs involved, which will then serve their own active members.<br>
An example of a group communication with two bridges involved is illustrated in Fig. 11. The G-UPF 1 and the associated U-UPF 1 have the IP address 1.0.0.1. The G-UPF 1 and the U-UPF 1 have ports 500 and 502, and 102, 700 and 702. The G-UPF 2 and the U-UPF 2 have ports 500, and 102, 600 and 602. In both bridges port 102 is allocated for the purposes described above. The other ports are allocated to groups G1, G2 and G3, as can be seen in Fig. 11. The Fonwand operation in some of the ports means that a packet received to the respective port must be fon/varded to an IP address and the port indicated. Mobile stations MS1-MS4 have the IP addresses as well as the one-to-one ports and the group traffic ports shown in Fig. 11. The U-UPF 1 has been assigned to the Mobile stations MSI and MS4. The U-UPF 2 has been assigned to the Mobile stations MS2 and MS3. The MS1 belongs to groups G1 and G2, the MS2 belongs to group Gi, the MS3 belongs to groups G1 and G3, and the MS4 belongs to groups G1 and G2.<br>
Let us now assume that the MSI sends an audio packet 1 with a destination IP address 1.0.0.1 and a destination port 700. Consequently, the audio packet 1 is routed to the port 700 in the U-UPF 1. The port 700 has been allocated to the group G1, and therefore the U-UPF 1 multiplies the packet to all Its users belonging to the group G1. in this case the audio packet 4 is sent to the MS4. The port 700 in the U-UPF 1 has also a Fonward function to the IP address 1.0.0.2 and the port 500. Therefore, the U-UPF 1 sends a replica of the audio packet 1, i.e. the audio packet 2, to this destination. As a consequence, the audio packet 2 is routed to the port 500 in the G-UPF 2. The port 500 has been allocated to group G1, and therefore the U-UPF 2 multiplies the packet to all its users belonging to the group G1. In this case the audio packets are sent to the mobile stations MS2 and MS3.<br>
The port 500 in the G-UPF 2 has also a Forward function to the IP address 1.0.0.1 and the port 700. Therefore, the G-UPF 2 sends a replica of the audio packet 2 to this destination. As a consequence, the audio packet is routed to the port 700 in the U-UPF 1.<br><br>
Multl-unicast<br>
As described above, one aspect of the invention is that group com¬munication in a mobile radio system is implemented using a group server, which receives voice paclcets addressed to a group and eventually fonvards (via U-UPF) these voice pacl<ets individually to each group member. the server provides a number of groups ...gn member sends voice pacl sen u-upf packet is addressed but it also canies identity holds table for containing addresses members and individual users.></ets>
In the example illustrated in Fig. 12, the source MS sends just one stream in the uplink, but then the PoC Bridge multiplies it for eight different re¬cipients. On top of each link the number of streams transported in the uplink and in the downlink are respectively indicated, and each receiving MS is la¬beled with the number of hops needed by the packets to reach the respective MS. The reference symbol R represents any routing node in the system.<br>
This concept is called multi-unicast herein. This concept is a non-traditional method for implementing group communication in a mobile radio network, and it greatly reduces the complexity of implementation of group communication services.<br>
The core issue of group communication Is how to deliver the com¬munication to group members in an efficient manner in a mobile radio system. These systems may range in size from very small (from one base station) to nation-wide (thousands of base stations). Likewise the groups may be of dif¬ferent, even varying sizes. Even more difficult, the geographical distribution of a group can be anything from very local to nation-wide, and vary according to the circumstances. In other words, the problem in hand is how to deliver the group traffic to each group member reliably regardless of the location of the member and the distribution of the members.<br>
Traditional radio systems were small and groups usually local. Therefore the obvious solution was to use one transmission per base station for each group active in a specific area. The tnansmisslon was identified by a group address (multicast). The prior art approach involves many problems in a large communications system. Firstly, when a group call is made, the system needs to know which base stations to use for the call. Thus the system needs to implement a separate mobility management subsystem to keep track of the<br><br>
location of group members for each group. This causes a significant increase of the complexity of the system and can become the primary factor in the total processing load. Secondly, in order to receive group traffic, a mobile station has to hold the proper group addresses. Therefore, for everything to work properly, group membership must be known beforehand to both the mobile statbn and all the relevant system elements. This requires a distributed data management subsystem which has to operate over an unreliable and very low bandwidth radio channel.<br>
These problems characterize the current state of the technology. The prior art systems circumvented the problem by not trying to optimize the use of base stations at all. Traffic of a group was radiated on a fixed, prede¬fined set of base stations, thus relieving the need for mobility management for groups. This meant also that the system did not have to know the group mem¬bers, and the group addresses were programmed into the mobile stations.<br>
By means of the multi-unicast concept according to the invention, group communication in a large mobile system can be implemented reliably without adding large subsystems, which cause huge processing load and are prone to errors during operation - giving the users an experience of unreliable service, Because group traffic be delivered to recipients using the individual addressing and the basic mobility management of the system, group traffic becomes as reliable as individual traffic.<br>
It can be argued that using individual delivery is more resource con¬suming than multicast delivery. This certainly was true in traditional PMR sys¬tems which were based on a large cell size; therefore a significant number of group members could be located within the range of a single base station. In modern cellular networks the use of large cells is inefficient from point of view of the frequency utilization, smaller and smaller cells are being deployed and therefore the probability of group members being located in the same cell is decreasing.<br>
It should be noted that the basic architecture of the invention can also use some multicasting mechanism for audio data distribution, but that would require muticasting functionalities at the RAN with the above problems. Anyway, in this case it may be still reasonable to support both unicast (multi-unicast) and multicast distribution techniques in order to get benefit of unicast-ing where it is more efficient, for example when few members of a group have to be served at a site, or where multicasting is eventually not supported.<br><br>
Scanning filtering<br>
In the cun-ent PMR system all traffic addressed to a user is deliv¬ered to his temilnai which locally perfomis the filtering function to play out the single traffic that the user wants to listen to. This task has to be done accord¬ing to the user's scanning settings and has to support the eventual overriding of the incoming traffic from higher priority groups or emergency calls.<br>
In order to avoid the waste of bandwidth in the downlink for the transmission of traffic that will not be played out in the tenninal, the filtering function obviously has to be implemented beforehand in the network, and this is one of the motivations for introducing the PoC Bridge 10 into the network architecture according to the preferred embodiment.<br>
The role of the bridge 10 in this conte)ct could be seen as two serial processes, namely group and user specific pnscesses, as illustrated in Fig. 13. In the group specific process the G-UPF 21 has to multiply an incoming traffic in several packet streams which have to be forwarded to all the active mem¬bers of the group or, in the prefen^ed embodiment of the invention, to U-UPFs having active members in the groups to which these traffic streams are destined. In the user specific process, the U-UPF 20 has to decide which one of the several possible traffic streams addressed to a user actually needs to be fon/varded to him. U-UPF also multiplies the stream for every user who receive the group traffic according to his cuaent scanning settings (in the case the U-UPF sen/es more than one user). Sent traffic is nomially the traffic from the currently listened group, but occasionally could be an overriding traffic stream.<br>
In order to ensure conversation continuity (i.e. to ensure that a lis¬tener receives a coherent series of transmissions), a specific timer is provided in the U-UPF 20. The function of this timer is to keep the user receiving con¬secutive talkspurts in the same group (or individual call) unless there is a pause longer than a certain timeout in the conversation. Here we are talking about typical values between 2 and 15 seconds.<br>
In principle this means that the scanning process shall lock to the received group after each packet, for the duration of this timer. Timer is lo¬cated in U-UPF and timer values are preferably group specific. It is also advis¬able to use a different timeout for group and individual traffic. However, when higher priority traffic than the currently listened stream addressed to user ar¬rives in U-UPF, higher priority stream ovemdes lower priority traffic immedi¬ately and the conversation continuity timer has no effect.<br><br>
An example of the implementation of the scanning filtering process is illustrated in Fig. 14. In step 141, the process chooses one of multiple (i.e. two or more) voice packet traffic streams aMving to the U-UPF 20 from the G-UPF(s) 21 (group communications) or from another user or U-UPF (one-to-one communication), and fonwards the chosen traffic stream to the user. Other ar¬riving traffic streams are discarded, i.e. not forwarded to the user. When the choice is made, a timer is set to a predetermined value "Pause period", i.e. a maximum period of time between two consecutive voice packets in the chosen traffic stream (step 142). In step 143, the process checks whether a new RTP packet has been received. If a new RTP packet has anived, it is first checked in step 145 whether that packet belongs to a higher priority stream than the previous packet. If this packet does not have higher priority than the previous one according to user's scanning settings, the process moves on to step 146 where the timer is reset and the packet is sent to the user. After that the proc¬ess returns to step 143. If in step 145 it is noticed that the new packet belongs to a stream having higher priority than the previous one, the new packet is sent to the user and the timer Is reset (step 147). After that the process returns to step 143. If no new packet is received, it is checked whether the timer has expired (step 144). If the timer has not expired, the process returns to step 143. If the timer has expired, the pnscess deems the selected traffic stream to be interrupted, and returns to step 141 to select a new traffic stream.<br>
One-to-One call management<br>
An example of one-to-one call management is now described with reference to Fig. 15. A static port number is allocated into each U-UPF 20 for one-to-one traffic (such as the port 102 in Fig. 11).<br>
If a user wants to establish a one-to-one communication, he pushes the PTT in his temninal MS1. The MSI has just to send a leader packet con¬taining his identity information (number or name) to his U-UPF1 using the spe¬cific "one-to-one" port number 102. This special leader packet is identified as such by the use of a specific RTP payload designated for this purpose. In ad¬dition to the identity of the called party (MS2), the leader packet may contain other relevant information.<br>
Firstly, the caller's U-UPF1 assigns an SSRC value to be used by both participants in this one-to-one call. For reaching the called party and for performing the necessary rights checks, user's U-UPF1 is now contacted. It in turn contacts the SGMF for obtaining the called party's U-CPF2 address, for rights checking and for defining the correct fonm for caller's name representa-<br><br>
tjon. The information itself is contained in the PoC database or directory (PoC main infonnnation repository), from where SGMF gets the necessary informa¬tion. The infonnation is returned to caller's U-CPF1.<br>
Now, U-CPF2 of the called party is contacted using SIP invite re¬quest. U-CPF2 of the called party sends a message to U-UPF2 of the called party, which in turn sends a leader packet to MS2 for checking its ability to re¬ceive one-to-one call. Also an acknowledgement is sent to U-CPF2 of the called party, which in turn retums a SIP OK message to U-CPF1 of the caller. U-CPF1 of the caller sends a message to U-UPF1 of the caller, and U-UPF1 acknowledges the message. Finally, SIP acknowledgement is returned to U-CPF2 of the called party and the network has successfully setup the call.<br>
After a positive (embedded RTP signaling) acknowledgement is re¬ceived from U-UPF of the called party, it is fonwarded to MS1 which can now begin sending voice RTP packets.<br>
At this stage the calling party is talking and the terminal MSI send¬ing RTP packets containing voice to his U-UPF 20, which based on the SSRC field in the packet will send the voice RTP packets to the called party's (MS2) U-UPF 20. Afterwards the called party's U-UPF will eventually deliver them (depending on the scanning process results) to the called party's tenriinal.<br>
The called party ends the communication by releasing the PTT, in which case MS1 sends a trailer packet in order to indicate the stop of the communication to the U-UPF. It is also possible to employ a continuity moni¬toring as described with respect to Fig.9.<br>
Let us now consider examples of some special signaling cases which may occur in one-to-one communication.<br>
The called party may simultaneously receive traffic in a group. Be¬cause of the limited bandwidth of the downlink, it is not advisable to fon/vard multiple voice streams to the same mobile station MS (unless it is known that there is enough bandwidth to support reception of multiple streams). There¬fore, in one-to-one traffic in the downlink is routed through the same scanning process in the called user's U-UPF 20, as applies to the group traffic. This en¬sures that each MS is only being sent one voice stream at a time.<br>
Similarly, the same called party may receive more than one one-to-one call to the same called party at the same time. Therefore, the called part/s U-UPF shall detect if there is a one-to-one voice transfer ongoing to an MS, and prevent any simultaneous one-to-one streams to the same MS. This is preferably handled with the same process that prevents multiple talkers in a<br><br>
group (the incoming traffic in the one-to-one port is filtered according to the recognized SSRCs).<br>
Failing of the one-to-one call setup can depend on many different reasons, in which cases the caller's U-UPF receives a negative (embedded RTF signaling) acl<nowledgement from called party u-upf which is for to ms1. an example of this that the scanning process ms2 fonwarding higher priority traffic. another examples include unl not currently logged on poc service call rights check indicates one-to-one calls between parties are allowed and engaged in a circuit mode call. ensure communicating experience sense mutual two-way communication shall implement timer speech item has been start being fonvarded inter-mpted by any traffic when ovemdden addi caller implements timers ensuring aa conversation intermpted short breaks order some seconds items b management perfonned one participants talkspurt state c maximum time observed prevented talking too long. it must be noted goes off cleared network.></nowledgement>
SECURITY<br>
It is a requirement that the users should be able to rely, up to a rea¬sonable level, on the identifications (group, talking party e.g.) provided by the system. The users should be able to rely, up to a reasonable level, that the contents of the received data have not been tampered with. The reasonable level conresponds to what is provided by public, circuit switched telephone networks.<br>
Two principal approaches have been identified to satisfy this re¬quirement: 1) relying on the security provided by the RAN and the security provided by the IP networic between the RAN and the CPS 11 or the bridge 10; and 2) using the Security Architecture for IP (IPSec) authentication between the user equipment (the MS) and the CPS 11 or the bridge 10.<br>
Relying on the security of both the underiying RAN and the IP net-wori^ means specifically that 1) the CPS 11 and the bridge 10 check the iden¬tity of the transmitting user by looking at the source IP address; therefore the network prevents spoofing the source IP address; 2) an MS checks the identity<br><br>
of the transmitting CPS 11 or the bridge 10; therefore the network prevents spoofing the source IP address; 3) and the underlying network does not easily allow tampering with the contents of the packets.<br>
The majority of users do not require extreme security. Usually a sat¬isfactory level is achieved by air interface encryption in the RAN and prevent¬ing outside access to the traffic in the IP networit. If necessary, the security of the IP network can be improved by using the IPSec between the network ele¬ments (this applies both to the IP network and to the PoC elements: the CPS 11 and the bridge 10).<br>
As an option, the architecture according to the invention allows us¬ing the IPSec Authentication Headers (AH) between the MS and its U-UPF 20. Each MS (or the user, jf needed) has a public-private key pair; likewise the U-UPF 20 has a public-private key pair. Standard IPSec mechanisms can then be used to set up a security association between the MS and its U-UPF 20.<br>
This anrangement allows the authentication of an MS (or a user) which is logging on to the PoC service. After the log-on, the IPSec authentica¬tion headers must be used in all packets from the MS to the U-UPF 20. In this way the origin and integrity of the packets arriving at the proxy 20 (or CPS in case of control) can be verified. Similariy, authentication headers can be used in all packets from the proxy to the MS, which allows the MS to verify the origin and the integrity of the packets. In this manner, the security becomes a matter of taist between the MS and the proxy.<br>
In other words, each MS subscribing to the PoC service has a two-way Security Association (SA) with its U-UPF 20. A complete worthing setup will require in addition: 1) A means to set up and manage the security associa¬tions (Internet Key Exchange, IKE); 2) A means to verify the public keys with a trusted source; and 3) A means to generate and distribute the public and pri¬vate keys (Internet Security Association and Key Management Protocol, ISAKMP).<br>
Even if this mechanism may look complicated, it uses standard and readily available solutions. If the IPSec authentication is taken into use later, it can be taken into use gradually by installing it in one U-UPF 20, which will be used to serve users with IPSec only. In other words, it Is possible to support both authenticating and non-authenticating MSs and proxies.<br><br>
Encryption<br>
It is a requirement that specific users be able to use end-to-end en¬cryption. As a simpler altemative, two-leg end-to-bridge-to-end encryption should be considered, because this greatly simplifies key management.<br>
For users with higher encryption requirements than what is provided by air interface encryption of the underlying network, IPSec Encapsulating Se¬curity Payload (ESP) can be used to provide confidentiality (encryption) be¬tween the MS and the bridge. This, of course, requires that the IPSec is in use.<br>
For instance, MS1 will encrypt the payload of the voice packets for sending to the proxy. The proxy will decrypt the packets, and then encrypt them again for forwarding to MS2. This provides almost the same level of se¬curity to the users as does end-to-end encryption, without any need for the communicating parties to share keys. Therefore, the usual key management problems associated with end-to-end encryption do not exist in this model.<br>
In the proposed model, the PoC elements (CPS, Bridge) are the only security critical components in the network. Therefore, for users with very high security requirements, it might be feasible to install separate user proxies and bridges on secure premises under the control of the user group.<br>
The description only illustrates preferred embodiments of the inven¬tion. The invention is not, however, limited to these examples, but it may vary within the scope and spirit of the appended claims.<br><br><br>
1.	A method for a packet mode group voice communication in a<br>
communications system, comprising tine steps of<br>
providing a group communication service entity on top of tile said communications system <br>
providing said group communication service entity witty individual addresses of group members in at least one group communication group,<br>
receiving real-time voice packets from one of said group members to said group communication service entity, each real-time voice packet being addressed to said at least one group with a port assigned to said group in said group communication service entity,<br>
forwarding said real-time voice packets individually to each receiv¬ing one of said group members on the basis of said individual addresses.<br>
2.	A method according to claim 1, wherein said step of forwarding comprises a step of forwarding said real-time voice packets individually by user communications functions provided on top of the said mobile communica¬tions system, said user communications functions managing user-specific voice packet streams to and from users.<br>
3.	A method for packet mode group voice communication in a com¬munications system, comprising the steps of<br>
providing group communication service entity with individual ad¬dresses of group members of a group communication group,<br>
creating an individual logical connection from each group member to said group communication service entity by means of outland signaling,<br>
starting a speech item in said group by sending a leader packet embedded in a user traffic stream from one of said group members to said group communication service entity over said individual logical connection, each leader packet containing the identifier of the respective group member,<br>
said group communication service entity either i) rejecting said started speech item, or ii) granting the started speech item to said one group member and forwarding said leader packet and subsequent voice packets in said user traffic stream individually to each receiving one of said group mem¬bers in said group on the basis of said individual addresses.<br>
4.	A method according to claim 3, comprising the steps of<br>
allocating an uplink bearer for said one group member in an air in¬<br>
terrace of said communications system prior to said one group member sends<br>
said leader packet and prior to said granting of said speech item, and<br><br>
allocating a downlink bearer in an air interface for each receiving group member in response to receiving a leader packet forwarded by said group communication service entity and addressed to said respective group member, said leader packet being embedded to a user traffic stream..<br>
5.	A method of managing speech items in a communications sys¬<br>
tem having a packet mode group voice communication feature, comprising the<br>
steps of<br>
granting a speech item to one group member of said group com¬munication group,<br>
setting a first timer to measure a predetermined idle period in re¬sponse to said granting,<br>
resetting said first timer each time a voice packet is received from said one of said group members,<br>
ending said granted speech item if said first timer expires indicating that said predetermined idle period has elapsed from said granting or from last reception of a voice packet from said one group member.<br>
6.	A method according to claim 5, comprising the step of<br>
ending said granted speech item if a maximum allowed period of time has elapsed from the granting.<br>
7.	A method according to claim 5, comprising the steps of<br>
said one group member sends a trailer packet having a predeter¬mined payload in order to indicate the end of sending,<br>
ending said speech item in response to receiving said trailer packet.<br>
8.	A method of managing traffic streams in a communications sys¬<br>
tem having a packet mode group voice communication feature, comprising the<br>
steps of<br>
providing a user-specific communications function for managing traffic streams addressed to a user who is active in at least one group com¬munication group or in a one-to-one communication,<br>
receiving a first voice packet stream related to a first group commu¬nication group or a first one-to-one communication and addressed to a user who is active at least in said first group communication group or in said first one-to-one communication,<br>
  said first voice packet stream to said respective user, monitoring continuity of said first voice packet stream, receiving at least one second voice packet stream related to at least one second group or one-to-one communication.<br><br>
forwarding no one of said at least one second voice  streams to said user if said first voice   data stream is continuous,<br>
forwarding one of said at least one second voice packet streams to said user if said first voice traffic stream has been discontinued for a prede¬termined period of time.<br>
9.	A method according to claim 8, wherein said step of monitoring<br>
comprises the steps of<br>
setting a timer to measure said predetermined period of time when a first packet of said first voice packet stream is forwarded to said user,<br>
resetting said timer each time a new packet of said first voice packet stream is forwarded to said user,<br>
determining said first voice packet stream to be discontinued if said timer expires.<br>
10.	A method according to claim 8 or 9, said method comprising a<br>
step of interrupting said first voice packet stream immediately when a voice<br>
packet stream having higher priority is received.<br>
11. A method for providing a packet mode group communication ser¬vice for a communications system, comprising<br>
storing individual addresses of group members in at least one group communication group,<br>
managing said group communication groups using a control plane signalling,<br>
group member requests speech item using user-plane signalling em¬bedded in a user traffic stream,<br>
granting a speech item to one group member per a communication group in turn based on said embedded user plane signalling,<br>
receiving voice packets from a group member having a speech item in a group communication group, each received voice packet containing infor¬mation identifying the communication group which the respective packet is ad¬dressed to,<br>
uncasing said embedded user-plane signalling and each voice packet received from a group member having a speech item separately to each receiving member in said respective group communication group on the basis of said individual addresses.<br><br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTYzOS1jaGVucC0yMDAzIGFic3RyYWN0LnBkZg==" target="_blank" style="word-wrap:break-word;">1639-chenp-2003 abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTYzOS1jaGVucC0yMDAzIGFzc2lnbm1lbnQucGRm" target="_blank" style="word-wrap:break-word;">1639-chenp-2003 assignment.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTYzOS1jaGVucC0yMDAzIGNsYWltcyBkdXBsaWNhdGUucGRm" target="_blank" style="word-wrap:break-word;">1639-chenp-2003 claims duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTYzOS1jaGVucC0yMDAzIGNsYWltcy5wZGY=" target="_blank" style="word-wrap:break-word;">1639-chenp-2003 claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTYzOS1jaGVucC0yMDAzIGNvcnJlc3BvbmRlbmNlIG90aGVycy5wZGY=" target="_blank" style="word-wrap:break-word;">1639-chenp-2003 correspondence others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTYzOS1jaGVucC0yMDAzIGNvcnJlc3BvbmRlbmNlIHBvLnBkZg==" target="_blank" style="word-wrap:break-word;">1639-chenp-2003 correspondence po.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTYzOS1jaGVucC0yMDAzIGRlc2NyaXB0aW9uIChjb21wbGV0ZSkgZHVwbGljYXRlLnBkZg==" target="_blank" style="word-wrap:break-word;">1639-chenp-2003 description (complete) duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTYzOS1jaGVucC0yMDAzIGRlc2NyaXB0aW9uIChjb21wbGV0ZSkucGRm" target="_blank" style="word-wrap:break-word;">1639-chenp-2003 description (complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTYzOS1jaGVucC0yMDAzIGRyYXdpbmdzLnBkZg==" target="_blank" style="word-wrap:break-word;">1639-chenp-2003 drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTYzOS1jaGVucC0yMDAzIGZvcm0tMS5wZGY=" target="_blank" style="word-wrap:break-word;">1639-chenp-2003 form-1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTYzOS1jaGVucC0yMDAzIGZvcm0tMTgucGRm" target="_blank" style="word-wrap:break-word;">1639-chenp-2003 form-18.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTYzOS1jaGVucC0yMDAzIGZvcm0tMjYucGRm" target="_blank" style="word-wrap:break-word;">1639-chenp-2003 form-26.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTYzOS1jaGVucC0yMDAzIGZvcm0tMy5wZGY=" target="_blank" style="word-wrap:break-word;">1639-chenp-2003 form-3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTYzOS1jaGVucC0yMDAzIGZvcm0tNS5wZGY=" target="_blank" style="word-wrap:break-word;">1639-chenp-2003 form-5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTYzOS1jaGVucC0yMDAzIHBjdCBzZWFyY2ggcmVwb3J0LnBkZg==" target="_blank" style="word-wrap:break-word;">1639-chenp-2003 pct search report.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTYzOS1jaGVucC0yMDAzIHBjdC5wZGY=" target="_blank" style="word-wrap:break-word;">1639-chenp-2003 pct.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTYzOS1jaGVucC0yMDAzIHBldGl0aW9uLnBkZg==" target="_blank" style="word-wrap:break-word;">1639-chenp-2003 petition.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="224404-systems-and-methods-for-delivering-information-within-a-group-communications-system.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="224406-a-method-for-determining-the-presence-of-preimplantation-factor-in-a-sample-and-an-isolated-peptide.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>224405</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>1639/CHENP/2003</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>49/2008</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>05-Dec-2008</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>15-Oct-2008</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>16-Oct-2003</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>NOKIA CORPORATION</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>KEILALAHDENTIE 4, FIN-02150 ESPOO,</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>TOYRYLA, HANNU</td>
											<td>VERMONRINNE 13, FIN-00370 HELSINKI,</td>
										</tr>
										<tr>
											<td>2</td>
											<td>VIMPARI MARKKU</td>
											<td>KUMMERLITIE 9, FIN-90520 OULU,</td>
										</tr>
										<tr>
											<td>3</td>
											<td>BONTEMPI RICHARD</td>
											<td>PETTER WETTERIN TIE 3 F 130, FIN-00810 HELSINKI,</td>
										</tr>
										<tr>
											<td>4</td>
											<td>LOPPONEN, JUSSI</td>
											<td>PITKAMAENTIE 56B, FIN-00670 HELSINKI,</td>
										</tr>
										<tr>
											<td>5</td>
											<td>JARNO, RAJAHALME</td>
											<td>SATUTIE 1 A 10, FIN-02400 KIRKKONUMMI,</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04Q7/22</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/FI02/00313</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2002-04-12</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>09/835,867</td>
									<td>2001-04-17</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script data-cfasync="false" src="../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/224405-packet-mode-speech-communication by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 02:28:26 GMT -->
</html>
