<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/230704-an-apparatus-and-a-method-for-supporting-a-multichannel-audio-coding-system by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 11:30:21 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 230704:AN APPARATUS AND A METHOD FOR SUPPORTING A MULTICHANNEL AUDIO CODING SYSTEM</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">AN APPARATUS AND A METHOD FOR SUPPORTING A MULTICHANNEL AUDIO CODING SYSTEM</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>The present invention relates to a method for supporting a multichannel audio extension at an encoding end of a multichannel audio coding system, said method comprising the steps of: transforming a fIrst channel signal (L) of a multichannel audio signal into the frequency domain, resulting in a spectral first channel signal (LMDCT); transforming a second channel signal (R) of said multichannel audio signal -into the&#x27; frequency domain, resulting in a spectral second channel signal (RMDCT); determining for each of a plurality of adjacent frequency bands Whether said spectral first channel signal (LMDCT), said spectral second channel signal (RMDCT) or none of said spectral channel signals (LMDCT,RMDCT) is dominant in the respective frequency band and providing a corresponding state information for each of said frequency bands.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td> <br><br>
Support of a multichannel audio extension<br>
FIELD OF THE INVENTION<br>
The invention relates to multichannel audio coding and to multichannel audio extension in multichannel audio coding. More specifically, the invention relates to a method for supporting a multichannel audio extension at an encoding end of a multichannel audio coding system, to a method for supporting a multichannel audio extension at a decoding end of a multichannel audio coding system, to pa multichannel audio encoder and a multichannel extension encoder for a multichannel audio encoder, to a multichannel audio decoder and a multichannel extension decoder for a multichannel audio decoder, and finally, to a multichannel audio coding system.<br>
BACKGROUND OF THE INVENTION<br>
Audio coding systems are known from the state of the art. They are used in particular for transmitting or storing audio signals.<br>
Figure 1 shows the basic structure of an audio coding system, which is employed for transmission of audio signals. The audio coding system comprises an encoder 10 at a transmitting side and a decoder 11 at a receiving side. An audio signal that is to be transmitted is provided to the encoder 10. The encoder is responsible for adapting the incoming audio data rate to a bitrate level at which the bandwidth conditions in the transmission channel are not violated. Ideally, the<br><br>
encoder 10 discards only irrelevant information from the audio signal in this encoding process. The encoded audio signal is then transmitted by the transmitting side of the audio coding system and received at the .receiving side of the audio coding system. The decoder 11 at the receiving side reverses the encoding process to obtain a decoded audio signal with little or no audible degradation.<br>
Alternatively, the audio coding system of figure 1 could be employed for archiving audio data. In that case, the encoded audio data provided by the encoder 10 is stored in some storage unit, and the decoder 11 decodes audio data retrieved from this storage unit. In this alternative, it is the target that the encoder achieves a bitrate which is as low as possible, in order to save storage space.<br>
The original audio signal which is to be processed can be a mono audio signal or a multichannel audio signal containing at least a first and a second channel signal. An example of a multichannel audio signal is a stereo audio signal, which is composed of a left channel signal and a right channel signal.<br>
Depending on the allowed bitrate, different encoding schemes can be applied to a stereo audio signal. The left and right channel signals can be encoded for instance independently from each other. But typically, a correlation exists between the left and the right channel signals, and the most advanced coding schemes exploit this correlation to achieve a further reduction in the bitrate.<br><br>
Particularly suited for reducing the bitrate are low bitrate stereo extension methods. In a stereo extension method, the stereo audio signal is encoded as a high bitrate mono signal, which is provided by the encoder together with some side information reserved for a stereo extension. In the decoder, the stereo audio signal is then reconstructed from the high bitrate mono signal in a stereo extension making use of the side information. The side information typically takes only a few kbps of the total bitrate.<br>
If a stereo extension scheme aims at operating at low bitrates, an exact replica of the original stereo audio signal cannot be obtained in the decoding process. For the thus required approximation of the original stereo audio signal, an efficient coding model is necessary.<br>
The most commonly used stereo audio coding schemes are Mid Side (MS) stereo and Intensity Stereo (IS).<br>
In MS stereo, the left and right channel signals are transformed into sum and difference signals, as described for example by J. D. Johnston and A. J . Ferreira Â±n "Sum-difference stereo transform coding", ICASSP-92 Conference Record, 1992, pp* 569-572. For a maximum coding efficiency, this transformation is done in both, a frequency and a time dependent manner. MS stereo is especially useful for high quality, high bitrate stereophonic coding.<br>
In the attempt to achieve lower bitrates, IS has been used in combination with this MS coding, where IS constitutes a stereo extension scheme. In IS coding, a portion of the spectrum is coded only in mono mode, and<br><br>
the stereo audio signal is reconstructed by providing in addition different scaling factors for the left and right channels, as described for instance in documents US 5,539,829 and US 5,606,618.<br>
Two further, very low bitrate stereo extension schemes have been proposed with Binaural Cue Coding (BCC) and Bandwidth Extension (BWE) . In BCC, described by F. Baumgarte and C. Faller in "Why Binaural Cue Coding is Better than Intensity Stereo Coding, AES112th Convention, May 10-13, 2002, Preprint 5575, the whole spectrum is coded with IS. In BWE coding, described in ISO/IEC JTC1/SC29/WG11 (MPEG-4), "Text of ISO/IEC 14496-3:2001/FPDAM 1, Bandwidth Extension", N5203 (output document from MPEG 62nd meeting) , October 2002, a bandwidth extension is used to extend the mono signal to a stereo signal.<br>
Moreover, document US 6,016,473 proposes a low bit-rate spatial coding system for coding a plurality of audio streams representing a soundfield. On the encoder side, the audio streams are divided into a plurality of subband signals, representing a respective frequency subband. Then, a composite signals representing the combination of these subband signals is generated. In addition, a steering control signal is generated, which indicates the principal direction of the soundfield in the subbands, e.g. in form of weighted vectors. On-the decoder side, an audio stream in up to two channels is generated based on the composite signal and the associated steering control signal.<br>
SUMMARY OF THE INVENTION<br><br>
It is an object of the invention to support the extension of a mono audio signal to a multichannel audio signal based on side information in an efficient way.<br>
For the encoding end of a multichannel audio coding system, a first method for supporting a multichannel audio extension is proposed, which comprises transforming a first channel signal of a multichannel audio signal into the frequency domain, resulting in a spectral first channel signal and transforming a second channel signal of this multichannel audio signal into the frequency domain, resulting in a spectral second channel signal. The proposed method further comprises determining for each of a plurality of adjacent frequency bands whether the spectral first channel signal, the spectral second channel signal or none of the spectral channel signals is dominant in the respective frequency band, and providing a corresponding state information for each of the frequency bands.<br>
In addition, a multichannel audio encoder and an extension encoder for a multichannel audio encoder are proposed, which comprise means for realizing the first proposed method.<br>
For the decoding end of a multichannel audio coding system, a second method for supporting a multichannel audio extension is proposed, which comprises transforming a received mono audio signal into the frequency domain, resulting in a spectral mono audio signal. The proposed second method further comprises generating a spectral first channel signal and a spectral second channel signal out of the spectral mono audio signal by weighting the spectral mono audio signal separately in each of a<br><br>
plurality of adjacent frequency bands for each of the spectral first channel signal and the spectral second channel signal based on at least one gain value and in accordance with a received state information. The state information indicates for each of the frequency bands whether the spectral first channel signal, the spectral second channel signal or none of these spectral channel signals is to be dominant within the respective frequency band.<br>
In addition, a multichannel audio decoder and an extension decoder for a multichannel audio decoder are proposed, which comprise means for realizing the second proposed method.<br>
Finally, a multichannel audio coding system is proposed, which comprises as well the proposed multichannel audio encoder as the proposed multichannel audio decoder.<br>
The invention proceeds from the consideration that a stereo extension on a frequency band basis is particularly efficient. The invention proceeds further from the idea that a state information indicating which channel signal is dominant in each frequency band, if any, are particularly suited as side information for extending a mono audio signal to a multichannel audio signal. The state information can be evaluated at a receiving end under consideration of a gain information representing a specific degree of the dominance of channel signals for reconstructing the original stereo signal.<br>
The invention provides an alternative to the known solutions.<br><br>
It is an advantage of the invention that it supports an efficient multichannel audio coding, which requires at the same time a relatively low computational complexity compared to known multichannel extension solutions.<br>
Also compared to the solution of document US 6,016,473, which is targeted more towards surround coding than stereo or other multichannel audio coding, lower bitrates and less required computations can be expected.<br>
Preferred embodiments of the invention become apparent from the dependent claims.<br>
In a preferred embodiment, at least one gain value representative of the degree of this dominance is calculated and provided by the encoding end, in case it was determined that one of the spectral first channel signal and the spectral second channel signal is dominant in at least one of the frequency bands. Alternatively, at least one gain value could be predetermined and stored at the receiving end.<br>
In the decision which state information should be assigned to a certain frequency band, a binaural psychoacoustical model is suited to provide a useful assistance. Since psychoacoustical models typically require relatively high computational resources, they may take effect in particular in devices in which the computational resources are not very limited.<br>
The spectral first channel signal and the spectral second channel signal generated at the decoding end have to be transformed into the time domain, before they can be<br><br>
presented to a user.<br>
In a first advantageous embodiment; the generated spectral first and second channel signals are transformed at the decoding end directly into the time domain, resulting in a first channel signal and a second channel signal of a reconstructed multichannel audio signal.<br>
Such an embodiment, however, will usually operate at rather low bitrates, e.g. at less than 4 kbps, and for applications in which a higher stereo extension bitrate is available, this embodiment does not scale in quality.<br>
With a second advantageous embodiment, an improved stereo extension can be achieved that is suited to scale both in quality and bitrate. In the second advantageous embodiment, an additional enhancement information is generated on the encoding end, and this additional enhancement information is used at the decoding end in addition for reconstructing the original multichannel audio signal based on the generated spectral first and second channel signals.<br>
For generating the enhancement information at the encoding end, the spectral first channel signal and the spectral second channel signal are reconstructed not only at the decoding end but also at the encoding end based on the state information. The enhancement information is then generated such that it reflects for each spectral sample of those frequency bands, for which the state information indicates that one of the channel signals is dominant, sample-by-sample the difference between the reconstructed spectral first and second channel signals on the one hand and original spectral first and second<br><br>
channel signals on the other hand. It is to be noted that the reflected difference for some of the samples may also consist in an indication that the difference is so minor that it is not considered.<br>
The second advantageous embodiment improves the first advantageous embodiment with only moderate additional complexity and provides a wider operating coverage of the invention. It is an advantage particularly of the second advantageous embodiment that it utilizes already created stereo extension information to obtain a more accurate approximation of the original stereo audio image, without generating extra side information. It is further an advantage particularly of the second advantageous embodiment that it enables a scalability in the sense that the decoding end can decide depending on its resources, e.g. on its memory or on its processing capacities, whether to decode only the base stereo extension bitstream or in addition the enhancement information. In order to enable the encoding end to adjust the amount of the additional enhancement information to the available bitrate, the encoding end preferably provides an information on the bitrate employed for the stereo extension information, i.e. at least the state information, and the additional enhancement information.<br>
The enhancement information can be processed at the encoding end and the decoding end either as well in the extension encoder and decoder, respectively, or in a dedicated additional component.<br>
The multichannel audio signal can be in particular a stereo audio signal having a left channel signal and a<br><br>
right channel signal. In case of more channels, the proposed coding is performed to channel pairs.<br>
The multichannel audio extension enabled by the invention performs best at mid and high frequencies, at which spatial hearing relies mostly on amplitude level differences. For low frequencies, preferably a fine-tuning is realized in addition. Especially the dynamic range of the level modification gain may be limited in this fine-tuning.<br>
The required transformations from the time domain into the frequency domain and from the frequency domain into the time domain can be achieved with different types of transforms, for example with a Modified Discrete Cosine Transform (MDCT) and an Inverse MDCT (IMDCT) , with a Fast Fourier Transform (FFT) and an Inverse FFT (IFFT) or with a Discrete Cosine Transform (DCT) and an Inverse DCT (IDCT).<br>
The invention can be used with various codecs, in particular, though not exclusively, with Adaptive Multi-Rate Wideband extension (AMR-WB+) , which is suited for high audio quality.<br>
The invention can further be implemented either in software or using a dedicated hardware solution. Since the enabled multichannel audio extension is part of a coding system, it is preferably implemented in the same way as the overall coding system.<br>
The invention can be employed in particular for storage purposes and for transmissions, e.g. to and from mobile terminals.<br><br>
BRIEF DESCRIPTION OF THE FIGURES<br>
Other objects and features of the present invention will become apparent from the following detailed description of exemplary embodiments of the invention considered in conjunction with the accompanying drawings.<br>
Fig. 1 is a block diagram presenting the general<br>
structure of an audio coding system; Fig. 2 is a high level block diagram of a stereo audio<br>
coding system in which a first embodiment of the<br>
invention can be implemented; Fig. 3 illustrates the processing on a transmitting side<br>
of the stereo audio coding system of figure 2 in<br>
the first embodiment of the invention; Fig. 4 illustrates the processing on a. receiving side of<br>
the stereo audio coding system of figure 2 in the<br>
first embodiment of the invention; Fig. 5 is an exemplary Huffman table employed in a first<br>
possible supplementation of the first embodiment<br>
of the invention; Fig. 6 is a flow chart illustrating a second possible<br>
supplementation of the embodiment of the first<br>
invention; Fig. 7 is a high level block diagram of a stereo audio<br>
coding system in which a second embodiment of the<br>
invention can be implemented; Fig. 8 illustrates the processing on a transmitting side<br>
of the stereo audio coding system of figure 7 in<br>
the second embodiment of the invention; Fig. 9 is a flow chart illustrating a quantization loop<br>
used in the processing of figure 8; Fig. 10 is a flow chart illustrating a codebook index<br><br>
assignment loop used in the processing of figure 8; and Fig. 11 illustrates the processing on a receiving side of the stereo audio coding system of figure 7 in the second embodiment of the invention.<br>
DETAILED DESCRIPTION OF THE INVENTION<br>
Figure 1 has already been described above.<br>
A first embodiment of the invention will now be described with reference to figures 2 to 6.<br>
Figure 2 presents the general structure of a stereo audio coding system, in which the invention can be implemented. The stereo audio coding system can be employed for transmitting a stereo audio signal which is composed of a left channel signal and a right channel signal.<br>
The stereo audio coding system of figure 2 comprises a stereo encoder 20 and a stereo decoder 21. The stereo encoder 20 encodes stereo audio signals and transmits them to the stereo decoder 21, while the stereo decoder 21 receives the encoded signals, decodes them and makes them available again as stereo audio signals. Alternatively, the encoded stereo audio signals could also be provided by the stereo encoder 20 for storage in a storing unit, from which they can be extracted again by the stereo decoder 21.<br>
The stereo encoder 20 comprises a summing point 22, which is connected via a scaling unit 23 to an AMR-WB+ mono encoder component 24. The AMR-WB+ mono encoder component 24 is further connected to an AMR-WB+ bitstream<br><br>
multiplexer (MUX) 25. In addition, the stereo encoder 20 comprises a stereo extension encoder 26, which is equally connected to the AMR-WB+ bitstream multiplexer 25.<br>
The stereo decoder 21 comprises an AMR-WB+ bitstream demultiplexer (DEMUX) 27, which is connected on the one hand to an AMR-WB+ mono decoder component 28 and on the other hand to a stereo extension decoder 29. The AMR-WB+ mono decoder component 28 is further connected to the stereo extension decoder 29.<br>
When a stereo audio signal is to be transmitted, the left channel signal L and the right channel signal R of the stereo audio signal are provided to the stereo encoder 20. The left channel signal L and the right channel signal R are assumed to be arranged in frames.<br>
The left and right channel signals L, R are summed by the summing point 22 and scaled by a factor 0.5 in the scaling unit 23 to form a mono audio signal M. The AMR-WB+ mono encoder component 24 is then responsible for encoding the mono audio signal in a known manner to obtain a mono signal bitstream.<br>
The left and right channel signals L, R provided to the stereo encoder 20 are processed in addition in the stereo extension encoder 26, in order to obtain a bitstream containing side information for a stereo extension.<br>
The bitstreams provided by the AMR-WB+ mono encoder component 24 and the stereo extension encoder 26 are multiplexed by the AMR-WB+ bitstream multiplexer 25 for transmission.<br><br>
The transmitted multiplexed bitstream is received by the stereo decoder 21 and demultiplexed by the AMR-WB+ bitstream demultiplexer 27 into a mono signal bitstream and a side information bitstream again. The mono signal bitstream is forwarded to the AMR-WB+ mono decoder component 28 and the side information bitstream is forwarded to the stereo extension decoder 29.<br>
The mono signal bitstream is then decoded in the AMR-WB+ mono decoder component 28 in a known manner. The resulting mono audio signal M is provided to the stereo extension decoder 29. The stereo extension decoder 29 decodes the bitstream containing the side information for the stereo extension and extends the received mono audio signal M based on the obtained side information into a left channel signal L and a right channel signal R. The left and right channel signals L, R are then output by the stereo decoder 21 as reconstructed stereo audio signal.<br>
The stereo extension encoder 26 and the stereo extension decoder 29 are designed according to an embodiment of the invention, as will be explained in the following.<br>
The processing in the stereo extension encoder 26 is illustrated in more detail in figure 3.<br>
The processing in the stereo extension encoder 26 comprises three stages. In a first stage, which is illustrated on the left hand side of figure 3, signals are processed per frame. In a second stage, which is illustrated in the middle of figure 3, signals are processed per frequency band- In a third stage, which is illustrated on the right hand side of figure 3, signals<br><br>
are processed again per frame. In each stage, various processing portions 30-38 are indicated.<br>
In the first stage, a received left channel signal L is transformed by an MDCT portion 30 by means of a frame based MDCT into the frequency domain, resulting in a spectral channel signal LMDCT- In parallel, a received right channel signal R is transformed by an MDCT portion 31 by means of a frame based MDCT into the frequency domain, resulting in a spectral channel signal RMDCT. The MDCT has been described in detail e.g. by J.P. Princen, A.B. Bradley in "Analysis/synthesis filter bank design based on time domain aliasing cancellation", IEEE Trans. Acoustics, Speech, and Signal Processing, 1986, Vol. ASSP-34, No. 5, Oct. 1986, pp. 1153-1161, and by S. Shlien in "The modulated lapped transform, its time-varying forms, and its applications to audio coding standards", IEEE Trans. Speech, and Audio Processing, Vol. 5, No. 4, Jul. 1997, pp. 359-366.<br>
In the second stage, the spectral channel signals LMDCT and RMDCT are processed within the current frame in several adjacent frequency bands. The frequency bands follow the boundaries of critical bands, as explained in detail by E. Zwicker, H. Fasti in "Psychoacoustics, Facts and Models", Springer-Verlag, 1990. For example, for coding of mid frequencies from 750 Hz to 6 kHz at a sample rate of 24kHz, the widths IS^JfidthLenBuf []  in samples of the frequency bands for a total number of frequency bands numTotalBands  of 27 are as follows:<br>
ISJfidthLenBuf[]  - {3,   3,   3,   3, 3, 3,   3, 4,   4, 5, 5,   5, 6,   6,   7,   7,   8,   9,   9,   10,   11,   14,   14,   15,   15,   17,   18).<br><br>
First, a processing portion 32 computes channel weights for each frequency band for the spectral channel signals LMDCT and RMDCT/ in order to determine the respective influence of the left and right channel signals L and R in the original stereo audio signal in each frequency band.<br>
The two channels weights for each frequency band are computed according to the following equations:<br><br>
where fbaxid  is a number associated to the respectively considered frequency band, and where n  is the offset in spectral samples to the start of this frequency band fband.   That is, the intermediate values EL and ER represent the sum of the squared level of each spectral sample in a respective frequency band and a respective spectral channel signal.<br>
In a subsequent processing portion 33, to each frequency band one of the states LEFT, RIGHT and CENTER is assigned. The LEFT state indicates a dominance of the left channel signal in the respective frequency band, the RIGHT state indicates a dominance of the right channel<br><br>
signal in the respective frequency band, and the CENTER state represents mono audio signals in the respective frequency band. The assigned states are represented by a respective state flag IS_flag-(fband)  which is generated for each frequency band.<br>
The state flags are generated more specifically based on the following equation:<br><br>
The parameter threshold  in equation (2) determines how good the reconstruction of the stereo image should be. In the current embodiment, the value of the parameter threshold  is set to 1.5. Thus, if the weight of one of the spectral channels does not exceed the weight of the respective other one of the spectral channels by at least 50%, the state flag represents the CENTER state.<br>
In case the state flag represents a LEFT state or a RIGHT state, in addition level modification gains are calculated in a subsequent processing portion 34. The level modification gains allow a reconstruction of the stereo audio signal within the frequency bands when proceeding from the mono audio signal M.<br><br>
The level modification gain gLR(fband)   is calculated for each frequency band fbaxxd  according to the equation:<br><br>
gains g^lfbaxxd)  and the generated stage flags<br>
IS^flag (fband)   are further processed on a frame basis for<br>
transmission.<br>
The level modification gains can be transmitted for each frequency band or only once per frame. If only a common gain value is to be transmitted for all frequency bands, the common level modification gain gLR_average  is calculated in processing portion 35 for each frame according to the equation:<br><br>
Thus, the common level modification gain gi&amp;jzverage constitutes the average of all frequency band associated level modification gains gm(fbaxid)  which are no equal to zero.<br>
Processing portion 36 then quantizes the common level<br><br>
modification gain g^aven^e or the dedicated level modification gains gx&amp;ifband)  using scalar or, preferably, vector quantization techniques. The quantized gain or gains are coded into a bit sequence and provided as a first part of a side information bitstream to the AMR-WB+ bitstream multiplexer 25 of the stereo encoder 20 of figure 2. In the presented embodiment, the gain is coded using 5 bits, but this value can be changed depending on how coarsely the gain{s) is (are) to be quantized.<br>
For coding the state flags for transmission, a coding scheme is selected in processing portion 37 for each frame, in order to minimize the bit consumption with a maximum efficiency.<br>
More specifically, three coding schemes are defined for selection. The coding scheme indicates which state appears most frequently within the frame and is selected according to the following equation:<br><br>
Thus, a CENTER coding scheme is selected in case the CENTER state appears most frequently within a frame, a LEFT coding scheme is selected in case the LEFT state appears most frequently within a frame, and a RIGHT coding scheme is selected in case the RIGHT state appears most frequently within a frame. The selected coding scheme itself is coded by two bits.<br><br>
Processing portion 37 codes the state flags according the coding scheme selected in processing portion 36.<br>
In each of the coding schemes, the state which appears most frequently is coded in a respective first bit, while the remaining two states are coded in an eventual second bit.<br>
In case the CENTER coding scheme was selected and in case the CENTER state was also assigned to a specific frequency band, a 'l1 is provided as first bit for this specific frequency band, otherwise a ?0' is provided as first bit. In the latter case, a '0' is provided as second bit, if the LEFT state was assigned to this specific frequency band, and a '1' is provided as second bit, if the RIGHT state was assigned to this specific frequency band.<br>
In case the LEFT coding scheme was selected and in case the LEFT state was also assigned to a specific frequency band, a ' 1' is provided as first bit for this specific frequency band, otherwise, a I0I is provided as first bit. In the latter case, a 'CM is provided as second bit, if the RIGHT state was assigned to this specific frequency band, and a 'l1 is provided as second bit, if the CENTER state was assigned to this specific frequency band.<br>
Finally, in case the RIGHT coding scheme was selected and in case the RIGHT state was also assigned to a specific frequency band, a !1' is provided as first bit for this specific frequency band, otherwise, a '0' is provided as first bit. In the latter case, a ' 0' is provided as<br><br>
second bit, if the CENTER state was assigned to this specific frequency band, and a ' 1? is provided as second bit, if the LEFT state was assigned to this specific frequency band.<br>
The 2-bit indication of the coding scheme and the coded state flags for all frequency bands are provided as a second part of a side information bitstream to the AMR-WB+ bitstream multiplexer 25 of the stereo encoder 20 of figure 2.<br>
The AMR-WB+ bitstream multiplexer 25 multiplexes the received side information bitstream with the mono signal bitstream for transmission, as described above with reference to figure 2.<br>
The transmitted signal is received by the stereo decoder 21 of figure 2 and processed by the AMR-WB+ bitstream demultiplexer 27 and the AMR-WB+ mono decoder component 28 as decribed above.<br>
The processing in the stereo extension decoder 29 of the stereo decoder 21 of figure 2 is illustrated in more detail in figure 4. Figure 4 is a schematic block diagram of the stereo extension decoder 29.<br>
The stereo extension decoder 29 comprises a delaying portion 40, which is connected via an MDCT portion 41 to a weighting portion 42. The stereo extension decoder 29 further comprises a gain extraction portion 43 and an IS_flag extraction portion 44, an output of both being connected to an input of the weighting portion 42. The weighting portion 42 has two outputs, each one connected to the input of another IMDCT portion 45, 46. The latter<br><br>
two connections are not depicted explicitly, but indicated by corresponding arrows,<br>
A mono audio signal M output by the AMR-WB+ mono decoder component 28 of the stereo decoder 21 of figure 2 is first fed to the delaying portion 40, since the mono audio signal M may have to be delayed if the decoded mono audio signal is not time-aligned with the encoder input signal.<br>
Then, the mono audio signal is transformed by the MDCT portion 41 into the frequency domain by means of a frame based MDCT. The resulting spectral mono audio signal MMDCT is fed to the weighting portion 42.<br>
At the same time, the AMR-WB+ bitstream demultiplexer 27 of figure 2, which is also indicated in figure 4, provides the first portion of the side information bitstream to the gain extraction portion 43 and the second portion of the side information bitstream to the IS_flag extraction portion 44.<br>
The gain extraction portion 43 extracts for each frame the common level modification gain or the dedicated level modification gains from the first part of the side information bitstream, and decodes the extracted gain or gains. The decoded gain gi&amp;^verage  is or the decoded gains g-jcH (fband)  are provided to the weighting portion 42.<br>
The	IS_flag extraction portion 44 extracts and decodes<br>
for	each frame the indication of the coding scheme and<br>
the	state flags ISJÂ£'lag (fband)   from the second part of<br>
the	side information bitstream.<br><br>
Decoding of the state flags is performed such that for each frequency band, first only one bit is read. In case this bit is equal to '1', the state represented by the. indicated coding scheme is'assigned to the respective frequency band. In case the first bit is equal to ' 01, a second bit is read and the correct state is assigned to the respective frequency band depending on this second bit.<br>
If the CENTER coding scheme is indicated, the state flags are set as follows depending on the last read bit:<br><br>
If the LEFT coding scheme is indicated, the state flags are set as follows depending on the last read bit:<br><br>
And finally, if RIGHT coding scheme is indicated, the state flags are set as follows depending on the last read bit:<br><br>
In the above equations (6) to (8), the function BsGetBits(x)   reads x bits from an input bitstream buffer.<br><br>
For each frequency band, the resulting state flag ISjÂ£lag (fband)  is provided to the weighting portion 42.<br>
Based on the received level modification gain or gains and the received state flags, the spectral mono audio signal MMDCT is extended in the weighting portion 42 to spectral left and right channel signals.<br>
The spectral left and right channel signals are obtained from the spectral mono audio signal MMDCT according to the following equations:<br><br>
Equations (9) and (10) operate on a frequency band basis. For each frequency band associated to the number fband, a respective state flag ISjElag  indicates to the weighting portion 42 whether the spectral mono audio signal samples MMDCT (n)  within the frequency band originate mainly from the original left or the original right channel signal. The level modification gain g^ffbandj represents the degree of the dominance of the left or the right channel signal in the original stereo audio signal, if any, and is used for reconstructing the stereo image within each frequency band. To this end, the level modification gain is multiplied to the spectral mono audio signal samples for obtaining samples for the dominant channel signal and the reciprocal value of the level modification gain is<br><br>
multiplied to the spectral mono audio signal samples for obtaining samples for the respective other channel- It is to be noted that this reciprocal value may also be weighted by a fixed or a variable value. The reciprocal value in equations (9) and (10) it may be substituted for<br>
instance by' l/^g^ffband) -gr^^fband^). In case none of the<br>
channel signals was dominant in a specific frequency band, the spectral mono audio signal samples within this frequency band are used directly as samples for both spectra channel signals within this frequency band.<br>
The entire spectral left channel signal within a specific frequency band is composed of all sample values InmcrM determined for this specific frequency band. Equally, the entire spectral right channel signal within a specific frequency band is composed of all sample values RMDCTM determined for this specific frequency band.<br>
In case a common level modification gain is used, the gain gx&amp;(fband)   in equations (9) and (10) is the equal to this common value gLR_average  for all frequency bands.<br>
If multiple level modification gains are used within the frame, i.e. if a dedicated level modification gain is provided for each frequency band, a smoothing of the gains is performed at the boundaries of the frequency bands. Smoothing at the start of a frame is performed according to the following two equations:<br><br><br><br>
where gs = (gr^ (fband -1)+g^ (fband))/2 .<br>
Smoothing at the end of a frame is performed according to the following two equations:<br><br>
where gCTd 5=^ (fband) 4-g^ (fband + l)]/2 .<br>
The smoothing is performed only for a few samples at the start and the end of the frequency band* The width of the smoothing region increases with the frequency. For example, in case of 27 frequency band, in the first 16 frequency bands, the first and the last spectral sample may be smoothed. For the next 5 frequency bands, the smoothing may be applied to the first and the last 2 spectral samples. For the remaining frequency bands, the first and the last 4 spectral samples may be smoothed.<br>
Finally, the left channel signal LKDCT is transformed into the time domain by means of a frame based IMDCT by the IMDCT portion 45, in order to obtain the restored left channel signal L, which is then output by the stereo decoder 21. The right channel signal RMDCT is transformed-<br><br>
into the time domain by means of a frame based IMDCT by the IMDCT portion 46, in order to obtain the restored right channel signal R, which is equally output by the stereo decoder 21.<br>
In some special situations, the states assigned to the frequency bands could be communicated to the decoder even more efficiently than described above, as will be explained for two examples in the following.<br>
In the above presented exemplary embodiment, two bits are reserved for communicating the employed coding scheme. CENTER COO1), LEFT ('011) and RIGHT ('10') schemes, however, occupy only three of the four possible values that can be signaled with two bits. The remaining value ('11') can thus be used for coding highly correlated stereo audio frames. In these frames, the CENTER, LEFT, and RIGHT states of the previous frame are used also for the current frame. This way, only the above mentioned two signaling bits indicating the coding scheme have to be transmitted for the entire frame, i.e. no additional bits are transmitted for a state flag for each frequency band of the current frame.<br>
Furthermore, depending on the strength of the stereo image, occasionally only few LEFT and/or RIGHT states may appear within the current coding frame, that is, the CENTER state is assigned to almost all frequency bands. In order to achieve an efficient coding of these so-called sparsely populated LEFT and RIGHT states, an entropy coding of the CENTER, LEFT, and RIGHT states may be beneficial. In an entropy coding, the CENTER states are regarded as zero-valued bands, which are entropy coded, for example with Huffman codewords. A Huffman<br><br>
codeword describes the run of zeros, that is, the run of successive CENTER states, and each Huffman codeword is followed by one bit indicating whether a LEFT or a RIGHT state follows the run of successive CENTER states. The LEFT state can be signaled, for example, with a value 'I1 and the RIGHT state with a value '0' of the one bit. The signaling can also be vice versa, as long as both, the encoder and the decoder know the coding convention.<br>
An example of a Huffman table that could be employed for obtaining Huffman codewords is presented in figure 5.<br>
The table comprises a first column indicating the count of consecutive zeros, a second column describing the number of bits used for the corresponding Huffman codeword, and a third column presenting the actual Huffman codeword to be used for the respective run of zeros. The table assigns Huffman codewords for counts of zeros from no zeros up to 26 zeros. The last row, which is associated to a theoretical count of 27 zeros, is used for the cases when the rest of the states in a frame are CENTER states only.<br>
A first example of sparsely populated LEFT and/or RIGHT states which is coded based on the Huffman table of figure 5 is presented below.<br><br>
In the above sequence, C stands for CENTER state, L for LEFT state and R for RIGHT state. In the proposed entropy coding, first, three CENTER states are Huffman coded, resulting in a 4-bit codeword having the value 9, which<br><br>
is followed by one bit having the value ' 1}   representing a LEFT state. Next, again three CENTER states are Huffman coded, resulting in a 4-bit codeword having the value 9, which is followed by one bit having the value '0' representing a RIGHT state. Finally, one CENTER-state is Huffman coded, resulting in a 3-bit codeword having the value 7, which is followed by one bit having the value '01 representing again a RIGHT state.<br>
A second example of sparsely populated LEFT and/or RIGHT states is presented below.<br><br>
In the proposed entropy coding, first three CENTER states are Huffman coded, resulting in a 4-bit codeword having the value 9, which is followed by one bit having the value 'l'. Next, again three CENTER states are Huffman coded, resulting in a 4-bit codeword, having the value 9, which is followed by one bit having the value ' 01 bit. Finally a special Huffman symbol is used to indicate that the rest of states in the frame are CENTER states, in this case two CENTER states. According to the table of figure 5, this special symbol is a 4-bit codeword having the value 12.<br>
In the most efficient implementation of the stereo audio coding system presented with reference to figures 2 to 4, the bit consumption of all presented coding methods is checked and the method that results in the minimum bit consumption is selected for communicating the required states. One extra signaling bit has to be transmitted for each frame from the stereo encoder 20 to the stereo<br><br>
decoder 21, in order to separate the two-bit coding scheme from the entropy coding scheme. For example, a value of 'O1 of the extra signaling bit can indicate that the two-bit coding scheme will follow, and a value of ' l' of the extra signaling bit can indicate that entropy coding will be used.<br>
In the following, a further possible supplementation of the exemplary embodiment of the invention presented above with reference to figures 2 to 4.<br>
The embodiment of the invention presented above may be based on the transmission of an average gain for each frame, which average gain is determined according to equation (4). An average gain, however, represents only the spatial strength within the frame and basically discards any differences between the frequency bands within the frame. If large spatial differences are present between the frequency bands, at least the most significant bands should be considered separately. To this end, multiple gains may have to be transmitted within the frame basically at any time instant.<br>
A coding scheme will now be presented, which allows to achieve an adaptive allocation of the gains not only between the frames, but equally between the frequency bands within the frame.<br>
At the transmitting side, the stereo extension encoder 26 of the stereo encoder 20 first determines and quantizes the average gain gxxjLvezage  for a respective frame as explained above with reference to equation (4) and with reference to processing portions 35 and 36. The average gain g^R average is also transmitted as described above. In<br><br>
addition, however, the average gain giR_averaffe is' compared to the gain g^R(fband)  calculated for each frequency band, and for each band a decision is made whether the gain in the respective band is considered to be significant based on the following equation:<br><br>
WJ.LU<br>
errorâ¢ s*  .DBf,'^wL.nC	Ratio(fband)&gt; 1.25<br>
where Q[] represents a quantization operator and where<br>
0 Â£ fband 
Now, the number of bands that are determined to be significant are counted. If zero bands are determined to be significant, a bit having the value '0' is transmitted to indicate that no further gain information will follow.<br><br>
If more than zero bands are determined to be significant, a bit having the value ! 1' is transmitted to indicate that further gain information will follow.<br>
Figure 6 is a flow chart illustrating the further steps in the stereo extension encoder 26 for the case at least one significant band was found.<br>
If exactly one frequency band is determined to be significant, a first encoding scheme is selected. In this encoding scheme, a second, bit having the value 'l1 is provided for transmission to indicate that information â¢ about one significant gain will follow. Additional two bits are provided for signaling an index indicating where the significant gain is located within the gaixxjElags. When locating a gain, CENTER states are excluded to achieve the most efficient coding of the index. In case the value of the resulting index is larger than what can be represented with two bits, an escape coding of three bits is used. Escape coding is thus always triggered when the value of the index is equal or larger than 3. Typically, the distribution of the index is below 3 so that escape coding is used rarely. The determined gain related value giJatio which is associated to the identified significant frequency band is then quantized by vector quantization. Five bits are provided for transmission of a codebook index corresponding to the quantization result.<br>
If two or more frequency bands are determined to be significant, a second bit having the value ?0' is provided for transmission to indicate that information about two or more significant gains will follow.<br><br>
If two frequency bands are determined to be significant, a second encoding scheme is selected. In this second encoding scheme, next a bit having the value '1' is provided for transmission to indicate that only information about two significant gains will follow. The first significant gain is localized within the gain^flags and associated to a first index, which is coded with two bits. Three bits are used again for a possible escape coding. The second significant gain is also localized within the gainjElags  and associated to a second index, which is coded with three bits, and for the possible escape coding again three bits are used. The determined gain related values gRatio which are associated to the identified significant frequency bands are quantized by vector quantization. Five bits, respectively, are provided for transmission of a codebook index corresponding to the quantization result.<br>
If three or more frequency bands are determined to be significant, a third encoding scheme is selected. In this third encoding scheme, next a bit having the value '0' is provided for transmission to indicate that information about at least three significant gains will follow. For each LEFT or RIGHT state frequency band, then one bit is provided for transmission to indicate whether the respective frequency band is significant or not. A bit having the value ' 01 is used to indicate that the band is insignificant and a bit having the value '1' is used to indicate that the band is significant. In case a frequency band is significant, the gain related values gRatio which is associated to this frequency band is quantized by a vector quantization resulting in five bits. Five bits, respectively, are provided for transmission of a codebook index corresponding to the<br><br>
quantization result in sequence with the respective one bit indicating that the frequency band is significant.<br>
Before the actual transmission of the bits provided in accordance with one of the three encoding schemes, it is first determined whether the third encoding scheme would result in a lower bit consumption than the first or the second encoding scheme, in case only one or two significant bands are present. It is possible that in some cases, for example due to escape coding, the third encoding scheme provides a more efficient bit usage even though only one or two significant bands are present. To achieve the maximum coding efficiency, the respective encoding scheme which results in the lowest bit consumption is selected for providing the bits for the actual transmission.<br>
In addition, it is also determined whether the number of bits that are to be transmitted is smaller than the number of available bits. If this is not the case, the least significant gain is discarded and the determination of the bits that are to be transmitted is started anew as described above.<br>
The least significant gain is determined to this end as follows. First, the gRatio values are mapped to the same signal level. As can be seen from equation (15), StRatioffhand,) can be either below or above value 1, The mapping is done such that the reciprocal value of gRatio (fband)   is taken, if the value of gRatio (fband)   is below 1, otherwise the value of gRatio (fband)  is taken, as indicated in the following equation:<br><br><br>
Equation (16) is repeated for 0 Â£ fband 
At the receiving side, more specifically in the gain extraction portion 43 of the encoder 21, first, the average gain value is read as described above. Then, one bit is read to check whether any significant gain is present. In case the first bit is equal to '01, no significant gain is present, otherwise at least one significant gain is present.<br>
In case at least one significant gain is present, the gain extraction portion 43 then reads a second bit to check whether only one significant gain is present.<br>
If the second bit has a value of !1!, the g$in extraction portion 43 knows that only one significant gain is present and reads two further bits in order to determine the index and thus the location of the significant gain. If the index has a value of 3, three escape coding bits are read. The index is inverse mapped to the correct frequency band index by excluding the CENTER states. Finally, five bits are read for obtaining the codebook index of the quantized gain related value gJ?atio,<br><br>
If the second read bit has a value of T 0 â , the gain extraction portion 43 knows that two or more significant gains are present, and reads a third bit.<br>
If the third read bit has a value of '1', the gain extraction portion 43 knows that only two significant gains are present. In this case, two further bits are read in order to determine the index and thus the location of the first significant gain. If the first index has a value of 3, three escape coding bits are read. Next, three bits are read to decoded the second index and thus the location of the second significant gain. If the second index has a value of 7, three escape coding bits are read. The indices are inverse mapped to the correct frequency band indices by excluding the CENTER states. Finally, five bits are read for the codebook indices of the first and second quantized gain related value gRatio,  respectively.<br>
If the third read bit has a value of !0', the gain extraction portion 43 knows that three or more significant gains are present. In this case, one further bit is read for each LEFT or RIGHT state frequency band. If the respective further read bit has a value of '1', the decoder knows that the frequency band is significant and additional five bits are read immediately after the respective further bit, in order to obtain the codebook index to decode the quantized gain related value gRatio of the associated frequency band. If the respective further read bit has a value of ' 0!, no additional bits are read for the respective frequency band.<br>
The gain for each frequency band is finally reconstructed<br><br><br>
where J2|Â£I*_Â«Â«HÂ«J represents the transmitted average gain. Equation (17) is repeated for 0 g fband 
A second embodiment of the invention, which proceeds from the first presented embodiment, will now be described with reference to figures 7 to 11.<br>
Figure 7 presents the general structure of a stereo audio coding system, in which the second embodiment of the invention can be implemented. This stereo audio coding system can be employed as well for transmitting a stereo audio signal which is composed of a left channel signal and a right channel signal.<br>
The stereo audio coding system of figure 7 comprises again a stereo encoder 70 and a stereo decoder 71. The stereo encoder 70 encodes stereo audio signals and transmits them to the stereo decoder 71, while the stereo decoder 71 receives the encoded signals, decodes them and makes them available again as stereo audio signals. Alternatively, the encoded stereo audio signals could also be provided by the stereo encoder 70 for storage in a storing unit, from which they can be extracted again by the stereo decoder 71.<br>
The stereo encoder 70 comprises a summing point 702, which is connected via a scaling unit 703 to an AMR-WB+<br><br>
mono encoder component 704. The AMR-WB+ mono encoder component 704 is further connected to an AMR-WB+ bitstream multiplexer (MUX) 705. Moreover, the stereo, encoder 70 comprises a stereo extension encoder 706, which is equally connected to the AMR-WB+ bitstream multiplexer 705. In addition to these components, which are also present in the stereo encoder 20 of the first embodiment, the stereo encoder 70 comprises a stereo enhancement layer encoder 707, which is connected to the AMR-WB+ mono encoder component 704, to the stereo extension encoder 706 and to the AMR-WB+ bitstream multiplexer 705.<br>
The stereo decoder 71 comprises an AMR-WB+ bitstream demultiplexer (DEMUX) 715, which is connected on the one hand to an AMR-WB+ mono decoder component 714 and on the other hand to a stereo extension decoder 716, The AMR-WB+ mono decoder component 714 is further connected to the stereo extension decoder 716. In addition to these components, which are also present in the stereo encoder 21 of the first embodiment, the stereo encoder 71 comprises a stereo enhancement layer decoder 717, which is connected to the AMR-WB+ bitstream demultiplexer 715, to the AMR-WB+ mono decoder component 714 and to the stereo extension decoder 716.<br>
When a stereo audio signal is to be transmitted, the left channel signal L and the right channel signal R of the stereo audio signal are provided to the stereo encoder 70. The left channel signal L and the right channel signal R are assumed to be arranged in frames.<br>
In the stereo encoder 70, first a mono audio signal M=(L+R)/2 is generated by means of the summing point 702<br><br>
and the scaling unit 703 based on the left L and right R channel signals, encoded by the AMR-WB+ mono encoder component 704 and provided to the AMR-WB+ bitstream multiplexer 705, exactly as in the first presented embodiment. Moreover, side information for a stereo extension is generated in the stereo extension encoder 706 based on the left L and right R channel .signals and provided to the AMR-WB+ bitstream multiplexer 705 exactly as in the first presented embodiment.<br>
In the second presented embodiment, however, the original left channel signal L, the original right channel signal<br>
R, the coded mono audio signal M  and the generated side information are passed on in addition to the stereo enhancement layer encoder 707. The stereo enhancement layer encoder processes the received signals in order to obtain additional enhancement information, which ensures that, compared to the first embodiment, an improved stereo image can be achieved at the decoder side. Also this enhancement information is provided as bitstream to the AMR-WB+ bitstream multiplexer 705.<br>
Finally, the bitstreams provided by the AMR-WB+ mono encoder component 704, the stereo extension encoder 706 and the stereo enhancement layer encoder 707 are multiplexed by the AMR-WB+ bitstream multiplexer 705 for transmission.<br>
The transmitted multiplexed bitstream is received by the stereo decoder 71 and demultiplexed by the AMR-WB+ bitstream demultiplexer 715 into a mono signal bitstream, a side information bitstream and an enhancement information bitstream. The mono signal bitstream and the side information bitstream are processed by the AMR-WB+<br><br>
mono decoder component 714 and the stereo extension decoder 716 exactly as in the first embodiment by the corresponding components, except that the stereo extension decoder 716 does not necessarily perform any IMDCT. In order to indicate this slight difference, the stereo extension decoder 716 is indicated in figure 7 as<br>
stereo extension decoder1. The spectral left Lf   and right<br>
Rf  channel signals obtained in the stereo extension decoder 716 are provided to the stereo enhancement layer decoder 717, which outputs new reconstructed left arid<br>
right channel signals Lnew,   R^^  with an improved stereo image. It is to be noted that for the second embodiment, a,different notation is employed for the spectral left Lf<br>
and right Rf  channel signals generated in the stereo extension decoder 716 compared to the spectral left LMDCT and right RMDCT channel signals generated in the stereo extension decoder 29 of the first embodiment. This is due to the fact that in the first embodiment, the difference between the spectral left LMDCT and right RMDCT channel signals generated in the stereo extension encoder 2 6 and the stereo extension decoder 29 were neglected.<br>
Structure and operation of the stereo enhancement layer encoder 707 and the stereo enhancement layer decoder 717 will be explained in the following.<br>
The processing in the stereo enhancement layer encoder 707 is illustrated in more detail in figure 8. Figure 8 is a schematic block diagram of the stereo enhancement layer encoder 707. In the upper part of figure 8, components are depicted which are employed in a frame-by-frame processing in the stereo enhancement layer encoder 707, while in the lower part of figure 8, components are<br><br>
depicted which are employed in a processing on a frequency band basis in the stereo enhancement layer encoder 707. It is to be noted that for reasons of clarity, not all connections between the different components are depicted.<br>
The components of the stereo enhancement layer encoder 707 depicted in the upper part of figure 8 comprise a stereo extension decoder 801, which corresponds to the stereo extension decoder 716. Two outputs of the stereo extension decoder 801 are connected via a summing point 802 and a scaling unit 803 to a first processing portion 804. A third output of the stereo extension decoder 801 is connected equally to the first processing portion 804 and in addition to a second processing portion 805 and a third processing portion 806. The output of the second processing portion 805 is equally connected to the third processing portion 806.<br>
The components of stereo enhancement layer encoder 707 depicted in the lower part of figure 8 comprise a quantizing portion 807, a significance detection portion 808 and a codebook index assignment portion 809.<br>
Based on a coded mono audio signal M  received from the AMR-WB+ mono encoder component 704 and on side information received from the stereo extension encoder 706, first an exact replica of the stereo extended signal, which will be generated at the receiving side by the stereo extension decoder 716, is generated by the stereo extension decoder 801. The processing in the stereo extension decoder 801 can thus be exactly the same as the processing performed by the stereo extension encoder 29 of figure 2, except that the resulting<br><br>
spectral left LÂ£   and right Rf  channel signals in the frequency domain are not transformed into the time domain, since the stereo enhancement layer encoder 707 operates as well in the frequency domain. The spectral left Lf   and right RÂ£   channel signals provided by the stereo extension decoder 801 thus correspond to signals LMDCT / RMDCT mentioned above with reference to figure 4. In addition, the stereo extension decoder 801 forwards the state flags IS_flag comprised in the received side information.<br>
It is to be noted that in a practical implementation, the internal decoding will not be performed starting from the bitstream level. Typically, an internal decoding is embedded into the encoding routines such that each encoding routine will also return the synthesized decoded output signal after processing the received input signal. The separate internal stereo extension decoder 801 is only shown for illustration purposes.<br>
Next, a difference signal Sf   is determined from the<br>
reconstructed spectral left LÂ£   and right Rf   channel<br>
signals as Sf ~(Lf ~Rf )/2   and provided to the first processing portion 804. In addition, the original spectral left and right channel signals are used for calculating a corresponding original difference signal Sff which is equally provided to the first processing portion 804. The original spectral left and right channel signals correspond to the to signals LMDCT and RMDCT mentioned above with reference to figure 3. The generation of the original difference signal Sf  is not shown in figure 8.<br>
The first processing portion 804 determines a target<br><br>
signal Sfe   out of the received difference signal Sf   and<br>
the received original difference signal Sf according to the following equations:<br>
Ef (*) = Sf{offset+n)-Sf(offset+n), 0 Â£n <is_widthlexibuf></is_widthlexibuf>
The parameter offset  indicates the offset in samples to the start of spectral samples in frequency band k.<br>
Target signal SÂ£e  thus indicates in the frequency domain<br>
to which extend the signals reconstructed by the stereo extension decoder 715 will differ from the original stereo channel signals. After a quantization, this signal constitutes the enhancement information that is to be transmitted in addition by the stereo audio encoder 70.<br>
Equation (18) takes into account only those spectral samples from the difference signals that belong to a frequency band which has been determined to be relevant by the stereo extension encoder 706 from the stereo image point of view. This relevance information is forwarded to the first processing portion 804 in form of the state flags IS_flag by the stereo extension decoder 801. It is quite safe to assume that those frequency bands to which the CENTER state has been assigned are more or less irrelevant from a spatial perspective. Also the second embodiment is not aiming at reconstructing the exact replica of the stereo image but a close approximation at relatively low bitrates.<br><br>
The target, signal Sfe  will be quantized by the quantizing<br>
component 807 on a frequency band basis, and to this end, the number of frequency bands considered to be relevant and the frequency band boundaries have to be known.<br>
In order to be able to determine the number of frequency bands and1 the frequency band boundaries, first the number<br>
of spectral samples present in signal Sfe  have to be<br>
known. This number of spectral samples is thus determined in the second processing portion 805 based on the received state flags IS_flag according to the following equation:<br><br>
The number of relevant frequency bands numBands  and the â  frequency band boundaries offsetBuf [n]  are then calculated by the third processing portion 806, for example as described in the following first pseudo C-code:<br><br><br><br>
where gBandLen  describes the maximum length of each frequency band. In the current embodiment, the maximum lengths of the frequency bands is given by gBandLen -{22, 25,  32,  38,   44,   49}.   The width of each frequency band bandLen  is also determined by the above procedure.<br>
The quantization portion 807 now quantizes the target<br>
signal Sfe  on a frequency band basis in a respective<br>
quantization loop, which is shown in figure 9. The spectral samples for each frequency band are to be quantized more specifically to range [-a, a]. In the present embodiment, the range is currently set to [-3,<br>
3].<br>
The respectively selected quantizing range is observed by adjusting the quantization gain value.<br>
To this end,   first a starting value for the quantization gain is determined based on the following equation:<br><br><br>
A separate starting value gat&amp;rt(n)  is determined for each relevant frequency band, i.e. for 0 Â£ n 
Then, the quantization is performed on a sample-by~sample basis according to the following set of equations:<br><br>
Also these calculations are performed separately for each relevant frequency band, i.e. for .0 Â£ n 
For each frequency band, then the maximum absolute value of qintd)  is determined. In case this maximum absolute value is larger than 3, the starting gain gstart is increased and the quantization according to equations (21) is repeated for the respective frequency band, until the maximum absolute value of qintd)   is not larger than 3 anymore. The values qfioatd)  corresponding to the final values qintd)   constitute quantized enhancement samples for the respective frequency band.<br><br>
The quantizing portion 807 provides on the one hand the final gain value for each relevant frequency band for transmission. On the other hand, the quantizing portion 807 forwards the final gain value, the quantized enhancement samples qfjoat d)  and the additional values qÂ±nt(i)  for each relevant frequency band to the significance detection portion 808.<br>
In1 the significance detection portion 808, a first significance detection measure of the quantized spectra is calculated, before passing the quantized enhancement samples to a vector quantization (VQ) index assignment routine. The significance detection measure indicates whether the quantized enhancement samples of a respective frequency band have to be transmitted or not. In the presented embodiment, gain values below 10 and the presence of exclusively zero-valued additional values qint trigger the significance detection measure to indicate that the corresponding quantized enhancement samples qfioat of a specific frequency band are irrelevant and need not to be transmitted. In another embodiment, also calculations between frequency bands might be included, in order to locate perceptually important stereo spectral bands for transmission.<br>
The significance detection portion 808 provides for each frequency band a corresponding significance flag bit for transmission, more specifically a significance flag bit having a value of '01, if the spectral quantized enhancement samples of a frequency band are considered to be irrelevant,' and a significance flag bit having a value of '1' otherwise. The significance detection portion 808 moreover forwards the quantized enhancement samples<br><br>
qfio&amp;td)  and the additional values qintd)   of those frequency bands, of which the quantized enhancement samples were considered to be significant, to the codebood index assignment portion 809.<br>
The codebood index assignment portion 809 applies VQ index assignment calculations on the received quantized enhancement samples.<br>
The VQ index assignment routine applied, by the codebood index assignment portion 809 processes the received quantized values in groups of m successive quantized spectral enhancement samples. Since m may not be divisible with the width of each frequency band JbandLen, the boundaries of each frequency band offaetBuf[n]  are modified before the actual quantization starts, for example as described in the following second pseudo C-code:<br><br>
The VQ index assignment routine, which is illustrated in figure 10, first determines in a second significance detection measure for a respective group of m quantized enhancement samples, whether the group is to be considered to be significant.<br><br>
A group is considered to be insignificant if all additional values qint corresponding to the quantized enhancement samples qtioat  within the group have a value of zero* In this case, the routine only provides a VQ flag bit having a value of ! 0' and then passes immediately on to the next group of m  samples, as long as any samples are left. Otherwise, the VQ index assignment routine provides a VQ flag bit having a value of ' 1' and assigns a codebook index to the respective group. The VQ search for assigning codebook indices is based on the quantized enhancement samples qnoat/ not the additional values q^t. The reason is that the qeioat values are better suited for the VQ index search, since the qint values are rounded to the nearest integer and a vector quantization does not operate optimally in the integer domain. In the present embodiment, the value m  is set to 3 and each group of m successive samples are coded in the vector quantization with three bits. Only then, the routine passes to the next group of m samples, in case any samples are left.<br>
Typically, for most of the frames, the VQ flag bit would be set to rlr. In this case, it would not be efficient to transmit this VQ flag bit for each spectral group within the frequency band. But occasionally, there may be frames for which the encoder would need the VQ flag bits for each spectral group. For this reason, the VQ index assignment routine is organized such that before the actual search of the best VQ indices starts, the number of groups having also relevant quantized enhancement samples is counted. The groups having also relevant quantized enhancement samples will also be referred to as significant groups. If the number of significant groups is the same as the number of groups within the current<br><br>
frequency band, a single bit having a value of 'l1 is provided for transmission, which indicates that all groups are significant and that therefore, the VQ flag bit is not needed. In case the number of significant groups is not theâ¢same as the number- of groups within the current frequency band, a single bit having a value of â¢0' is provided for transmission, which indicates that to each group of m quantized spectral enhancement samples a VQ flag bit is associated that indicates whether a VQ codebook index is present for the respective group or not.<br>
The codebood index assignment portion 809 provides for each frequency band the single bit, assigned VQ codebook indices for all significant groups and, possibly, in addition VQ flag bits indicating which of the groups are significant.<br>
In order to enable an efficient operation of the quantization, in addition the available bitrate may be taken into account. Depending on the available bitrate, the encoder can transmit either more or less quantized spectral enhancement samples g^ioat in groups of in. If the available bitrate is low, then the encoder may send for example only the quantized spectral enhancement samples Qifioat in groups of in for the first two frequency bands, whereas if the available bitrate is high, the encoder may send for example the quantized spectral enhancement samples g^ioat in groups of m  for the first three frequency bands. Also depending on the available bitrate, the encoder may stop transmitting the spectral groups at some location within the current frequency band if the number of used bits is exceeding the number of available bits. The bitrate of the whole stereo extension, including<br><br>
both, the stereo extension encoding and the stereo enhancement layer encoding, is then signaled in a stereo enhancement layer bitstream comprising the enhancement information.<br>
In the presented embodiment, bitrates of 6.7, 8&gt; 9.6, and 12 kbps are defined, and 2 bits are reserved for signaling the respectively employed bitrate brMode. Typically, the average bitrate of the first presented embodiment will be smaller than the maximum allowed bitrate, and the remaining bits can be allocated to the enhancement layer of the presented second embodiment. This is also one of the advantages of the in-band signaling, since basically the stereo enhancement layer encoder 707 is able to use all the bits available. When using in-band signaling, the decoder is then able to detect when to stop decoding simply by accumulating the number of decoded bits and comparing that value to the maximum allowed number Of bits. If the decoder monitors the bit consumption in the same manner as the encoder, the decoding stops exactly in the same location where the encoder stopped transmitting.<br>
The bitrate indication, the quantization gain values, the significance flag bits, the VQ codebook indices and the . VQ flag bits are provided by the stereo enhancement layer encoder 707 as enhancement information bitstream to the AMR-WB+ bitstream multiplexer 705 of the stereo encoder 70 of figure 7.<br>
The bitstream elements of the enhancement information bitstream can be organized for transmission for example as shown in the following third pseudo C-code:<br><br><br>
Here, brMode  indicates the employed bitrate, bandPresent constitutes the significance flag bit for a respective frequency band, gain[i]  indicates the quantization gain employed for a respective frequency band, vgFlagrPresent indicates, whether a VQ flag bits is associated to the spectral groups of a specific frequency band, vqFlagGroup constitutes the actual VQ flag bit indicating whether a respective group of m samples is significant, and<br><br>
codebookldx[i] [j]  represents the codebook index for a respective significant group.<br>
The AMR-WB+ bitstream multiplexer 705 multiplexes the received enhancement information bitstream with the received side information bitstream and the received mono signal bitstream for transmission, as described above with reference to figure 7.<br>
The transmitted signal is received by the stereo decoder 71 of figure 7 and processed by the AMR-WB+ bitstream demultiplexer 715, the AMR-WB+ mono decoder component 714 and the stereo extension decoder 716 as decribed above.<br>
The processing in the stereo enhancement layer decoder 717 of the stereo decoder 71 of figure 7 is illustrated in more detail in figure 11. Figure 11 is a schematic block diagram of the stereo enhancement layer decoder 717. In the upper part of figure 11, components are depicted which are employed in a frame-by-frame processing in the stereo enhancement layer decoder 717, while in the lower part of figure 11, components are depicted which are employed in a processing on a frequency band basis in the stereo enhancement layer decoder 717. Still above the upper part of figure 11, further the stereo extension decoder 716 of figure 7 is depicted again. It is to be noted that for reasons of clarity, again not all connections between the different components are depicted.<br>
The components of the stereo enhancement layer decoder 717 depicted in the upper part of figure 11 comprise a summing point 901, which is connected to two outputs of the stereo extension decoder 716 providing the<br><br>
reconstructed spectral left Lf  and right Rf  channel<br>
signal. The summing point 901 is connected via a scaling unit 902 to a first processing portion 903. A further output of the stereo extension decoder 716 forwarding the received state flags IS_flag is connected directly to the first processing portion 903, to a second processing portion 904 and to a third processing portion 905 of the stereo enhancement layer decoder 717. The first processing portion 903 is moreover connected to an inverse MS matrix component 906. The output of the AMR-WB+ mono decoder component 714 providing the mono audio<br>
signal M  is equally connected via an MDCT portion 913 to this inverse MS matrix component 906. The inverse MS matrix component 906 is connected in addition to a first IMDCT portion 907 and a second IMDCT portion 908.<br>
The components of the stereo enhancement layer decoder 717 depicted in the lower part of figure 11 comprise a significance flag reading portion 909, which is connected via a gain reading portion 910 and a VQ lookup portion 911 to a dequantisation portion 912.<br>
An enhancement information bitstream provided by the AMR-WB+ bitstream demultiplexer 715 is parsed according to the bitstream syntax presented above in the third pseudo C-code.<br>
Further, the second processing portion 904 determines based on state flags IS_flag received from the stereo extension decoder 716 the number of target signal samples in the enhancement bitstream according to above equation (18)â¢ This sample number is then used by the third processing portion 905 for calculating the number of relevant frequency bands numBands  and the frequency band<br><br>
boundaries offsetBuf,.  e.g. according to the above presented first pseudo C-code.<br>
The significance flag reading portion 909 reads the significance flag JbandPresent for each frequency band and forwards the significance flags to the gain reading portion 910. The gain reading portion 910 reads the quantization gain gaixi[i]   for a respective frequency band and provides the quantization gain for each significant frequency band to the VQ lookup portion 911.<br>
The VQ lookup portion 911 further reads the single bit vgPlagPresent which indicates whether VQ flag bits are associated to the spectral groups, the actual VQ flag bit vqFlagGroup  for each spectral group, if the value of the single bit is ' 0*, and the received codebook indices codebookldx[i] [j]  for each spectral group, if the single bit has a value of * 1', or otherwise for each spectral group for which the VQ flag bit is equal to f1'.<br>
The VQ lookup portion 911 receives in addition the indication of the employed bitrate JbrMode, and performs in accordance with the above presented second pseudo C-code modifications to the band boundaries offsetBuf determined by the third processing portion 5.<br>
The VQ lookup portion 911 then locates quantized enhancement samples gfioat corresponding to the original quantized enhancement samples gfioat in groups of m  samples based on the decoded codebook indices.<br>
The quantized enhancement samples gfioat are then provided to the dequantization portion 912, which performs a dequantization according to the following equations:<br><br><br>
The above equations are applied for each relevant frequency band, i.e. for 0 Â£ n 
Next, the dequantized samples SÂ£e  are provided to the first processing portion 903.<br>
The first processing portion 903 receives in addition a side signal 3Â£ , which is calculated by the summing point 901 and the scaling unit 902 from the spectral left LÂ£ and right Rf  channel signal received from the stereo extension decoder 716 as 8Â£ = (LÂ£ -RÂ£)/2 .<br>
The first processing portion 903 now adds the received dequantized samples SÂ£e   to the received side signal SÂ£ according to the following equations:<br><br>
EÂ£ (*) = sf (offse t+n)+Sfg (offset+n), 0 Â£ n 
where the parameter offset  is the offset in samples to the start of the spectral samples in the frequency band k.<br>
The resulting samples Sf   are provided to the inverse MS matrix portion 906. Moreover, the MDCT portion 913<br>
applies an MDCT on the mono audio signal M  output by the AMR-WB+ mono decoder component 714 and provides the<br>
resulting spectral mono audio signal Mf  equally to the inverse MS matrix portion 906. The inverse MS matrix component 906 applies an inverse MS matrix to those spectral samples for which non-zero quantized enhancement samples were transmitted in the enhancement layer bitstream, that is the inverse MS matrix component 906<br>
calculates for these spectral samples Lf ^Mf+Sf  and<br>
Rf=Mf-Sf.  The remaining samples of the spectral left Lf<br>
and right Rf   channel signal provided by the stereo extension decoder 716 remain unchanged. All spectral left channel signals ZÂ£   are then provided to the first IMDCT<br>
portion 907 and all spectral right Rf  channel signals are provided to the second IMDCT portion 907.<br>
Finally, the spectral left channel signals Lf   are transformed by the IMDCT portion 907 into the time domain<br><br>
by means of a frame based IMDCT, in order to obtain an . enhanced restored left channel signal Lnew,  which is then output by the stereo decoder 71. At the same time, the spectral right channel signals Rf   are transformed by the<br>
IMDCT portion 908 into the time domain by means of a frame based IMDCT, in order'to obtain an enhanced<br>
restored right channel signal  which is equally<br>
output by the stereo decoder 71.<br>
It is to be noted that the described embodiment constitutes only one of a variety of possible embodiments of the invention.<br><br><br>
 Claims<br>
1.	Method for supporting a multichannel audio extension<br>
at an encoding end of a multichannel audio coding<br>
system, said method comprising:<br>
-	transforming a first channel signal (L) of a multichannel audio signal into the frequency domain, resulting in a spectral first channel signal (LMDCT) ;<br>
-	transforming a second channel signal (R) of said multichannel audio signal into the frequency' domain, resulting in a spectral second channel signal (RMDCT) ;<br>
stermining for each of a plurality of adjacent frequency bands whether said spectral first channel signal (LMDCT) / said spectral second channel signal (RMDCT) or none of said spectral channel signals (L^cr,RMDCT) is dominant in the respective frequency band and providing a corresponding state information for each of said frequency bands.<br>
2.	Method according to claim 1, comprising in addition<br>
combining said first channel signal (L) and said second channel signal (R) to a mono audio signal (M) and encoding said mono signal (M) to a mono signal bitstream; and<br>
-	multiplexing at least said mono signal bitstream<br>
and said provided state information into a single<br>
bitstream.<br>
3.. Method according to claim 1 or 2, wherein said first channel signal (L) and said second channel signal (R)<br><br>
are arranged in a sequence of frames, and wherein said state information is provided for each frame of said first channel signal (L) and said second channel signal (R) .<br>
4.	Method according to one of the preceding claims, further comprising in case it was determined that one of- said spectral first channel signal (LMDCT) and said spectral second channel signal (RMDCT) is dominant in at least one of said frequency bands calculating and providing at least one gain value representative of the degree of said dominance.<br>
5.	Method according to claim 4, comprising<br><br>
-	combining said first channel signal (L) and said second channel signal (R) to a mono audio signal (M) and encoding said mono signal (M) to a mono signal bitstream; and<br>
-	multiplexing said mono signal bitstream, said provided state information and said provided at least one gain value into a single bitstream.<br><br>
6.	Method according to~ claim 4 or 5, wherein said first channel signal (L) and said second channel signal (R) are arranged in a sequence of frames, and wherein said at least one gain is provided for each frame of said first channel signal (L) and said second channel signal (R).<br>
7.	Method according to one of claims 4 to 6, wherein said at least one gain value comprises a dedicated gain value for each of said frequency bands, each dedicated gain value being representative of the degree of the determined dominance of the respective<br><br>
dominant one of said spectral first channel signal (LMDCT) and said spectral second channel signal (RMDCT) in the respective frequency band.<br>
Method according to claim 7, wherein channel weights are calculated for said spectral first channel signal (LMDCT) and for said spectral second channel signal (RMDCT) separately for each of said frequency bands based on the levels of spectral samples in said spectral channel signals (LMDCT / RMDCT) # and wherein said dedicated gain value for a particular frequency band is determined to correspond to the ratio between the higher weight calculated for one of said spectral channel signals (LMDCT/RMDCT) for said particular frequency band and the lower weight calculated for the respective other one of said spectral channel signals (RMDCT*LMDCT) for said particular frequency band.<br>
Method according to one of claims 4 to 6, wherein said at least one gain value comprises a common gain value representing an average degree of a dominance of said spectral first channel signal (LMDCT) and said spectral second channel signal (RMDCT) in all of said frequency bands.<br>
Method according to claim 9, wherein channel weights are calculated for said spectral first channel signal (LMDCT) and for said spectral second channel signal (RMDCT) separately for each of said frequency bands based on the levels of spectral samples in said spectral channel signals (LMDCT* RMDCT) / wherein a preliminary dedicated gain value for each frequency band is determined to correspond to the ratio between<br><br>
the higher weight calculated for one of said spectral channel signals (LMDCT/RMDCT) for a respective frequency band and the lower weight calculated for the respective other one of said spectral channel signals (RMDCT/LMDCT) for said respective frequency band, and wherein said common gain value is determined to be the average of said preliminary dedicated gain values.<br>
.Method according to one of claims 4 to 10, wherein the dynamic range of said at least one gain value is limited to a predetermined value at least for the lower ones of said frequency bands.<br>
. Method according to one of the preceding claims, wherein said state information is coded according to one of several coding schemes, the coding scheme being selected at least partly depending on which one of said spectral first channel signal (LMDCT) and said spectral second channel signal (RMDCT) is more frequently dominant in all of said frequency bands.<br>
. Method according to one of the preceding claims, wherein channel weights are calculated for said spectral first channel signal (LMDCT) and for said spectral second channel signal (RMDCT) separately for each of said frequency bands based on the levels of spectral samples in said spectral channel signals (LMDCT/RMDCT) / and wherein the presence'of a dominance in a particular one of said frequency bands is assumed in case the ratio between the higher channel weight resulting for said frequency band and the lower channel weight resulting for said frequency band reaches or exceeds a predetermined threshold<br><br>
value.<br>
14.	Method according to one of the preceding claims,<br>
further comprising<br>
-	generating, a reconstructed spectral first channel<br>
signal (Lf) and a reconstructed spectral second<br>
channel signal (Rf)  based on said state<br>
information and on a mono channel version of said first channel signal (L) and said second channel signal (R); and<br>
-	generating and providing for those frequency<br>
bands, for which said state information indicates<br>
that one of said channel signals (L,R) is<br>
dominant, an enhancement information which<br>
reflects on a sample basis the difference between<br>
said reconstructed spectral first and second<br>
channel signals (Lf ,Rf)on  the one hand and said<br>
original spectral first and second channel signals on the other hand.<br>
15.	Method according to claim 14, wherein generating said enhancement information comprises quantizing said difference on a frequency band basis sample-by-sample to a predetermined range by adjusting a quantization gain for the respective frequency band, said quantizing resulting in quantized spectral enhancement samples, wherein said quantization gain employed for a respective frequency band are provided as part of said enhancement information.<br>
16.	Method according to claim 15, wherein said quantized spectral enhancement samples are provided for said enhancement information only for those frequency bands for which quantized spectral enhancement<br><br>
samples having non-zero values are available and which frequency bands require a quantization gain exceeding a specific threshold, an identification of those frequency bands for which said quantized spectral enhancement samples are provided for said enhancement information being provided as part of said enhancement information.<br>
17.	Method according to claim 15 or 16, wherein generating said enhancement information further comprises assigning said quantized spectral enhancement samples in groups of a predetermined number of samples to a respective codebook index, said codebood indices being provided as part of said enhancement information.<br>
18.	Method according to claim 17, wherein a respective codebook index is assigned only to those groups of quantized spectral enhancement samples, which comprise at least one quantized spectral enhancement sample having a value unequal to zero.<br>
19.	Method according to one of claims 14 to 18, further comprising providing an information on a bitrate employed for providing at least said state information and said enhancement information, said information on said bitrate being provided as part of said enhancement information.<br>
20.	Method according to one of the preceding claims, wherein said first channel signal (L) is a left channel signal of a stereo audio signal and wherein said second channel signal (R) is a right channel signal of said stereo audio signal.<br><br>
. Method for supporting a multichannel audio extension at a decoding end of a multichannel audio coding system, said method comprising:<br>
-	transforming a received mono audio signal (M) into the frequency domain, resulting in a spectral mono audio signal; and<br>
-	generating a spectral first channel signal<br>
(LMDCT/Â£f) and a spectral second channel signal<br>
(RMDCT/-Kf) out of said spectral mono audio signal by weighting said spectral mono audio signal separately in each of a plurality of adjacent frequency bands for each of said spectral first<br>
channel signal (LMDCT#Â£f) and said spectral second<br>
channel signal (RMDCT/Â£f) based on at least one gain value and in accordance with a received state information, said state information indicating for each of said frequency bands whether said spectral<br>
first channel signal (LMDCT/if), said spectral<br>
second channel signal {RmcTrRf)   or none of said<br>
spectral channel signals (LMDCT, Lf /RMDCT/ Rf) is to be dominant within the respective frequency band.<br>
â¦ Method according to claim 21, comprising<br>
-	generating said spectral first channel signal<br>
(LMDCT) within each of said frequency bands by<br>
multiplying one of said at least one gain values<br>
valid for a respective frequency band with samples<br>
of said spectral mono audio signal within said<br>
respective frequency band in case said state<br>
information indicates for said respective<br>
frequency band a dominance of said first channel<br>
signal (LMDCT) / by multiplying the reciprocal value<br><br>
of said gain value with samples of said spectral mono audio signal within said respective frequency-band in case said state information indicates for said respective frequency band a dominance of said second channel signal (RMDCT) / and by taking over said spectral mono audio signal within said respective frequency band otherwise; and - generating said spectral second channel signal (RMDCT) within each of said frequency bands by multiplying one of said at least one gain values valid for a respective frequency band with samples of said spectral mono audio signal within said respective frequency band in case said state information indicates for said respective frequency band a dominance of said second channel signal (RMDCT) I  by multiplying the weighted or not-weighted reciprocal value of said gain value with samples of said spectral mono audio signal within said respective frequency band in case said state information indicates for said respective frequency band a dominance of said first channel signal (LMDCT) / and by taking over said spectral mono audio signal within said respective frequency band otherwise.<br>
. Method according to claim 21 or 22, comprising as a preceding step demultiplexing a received bitstream at least into a mono signal bitstream and a state information bitstream, decoding said mono signal bitstream into said mono audio signal (M) and decoding said state information bitstream ,into said state information.<br>
. Method according to claim 23, wherein said received<br><br>
bitstream is demultiplexed into a mono signal bitstream, a state information bitstream and a gain bitstream, said method further comprising decoding said gain bitstream into said at least one gain value.<br>
25.	Method according to one of claims 21 to 24, wherein said mono audio signal (M) is delayed before being transformed into the time domain, in case said mono audio signal (M) is not time-aligned with an original multichannel audio signal which is to be reconstructed.<br>
26.	Method according to one of claims 21 to 25, wherein said at least one gain value comprises a dedicated gain value for each of said plurality of frequency bands.<br>
27.	Method according to claim 26, wherein said mono audio signal (M) is arranged in frames, wherein said gain values are smoothed at the start of each frame by averaging the gain value valid for the respective frequency band and the gain value valid for the respective next lower frequency band, and wherein said gain values are smoothed at the end of each frame by averaging the gain value valid for the respective frequency band and the gain value valid for the respective next higher frequency band.<br>
28.	Method according to one of claims 21 to 27, wherein for obtaining said state information, a received state information bitstream is decoded, which state information bitstream comprises at least partly in addition to said state information a coding scheme<br><br>
information, said coding scheme information indicating a coding scheme which has been employed for encoding said state information, said state information being decoded based on said coding scheme information.<br>
29.	Method according to one of claims 21 to 28, further comprising transforming said spectral first and second channel signals (LMDCT,RMDCT) into the time domain, resulting in a first channel signal (L) and a second channel signal (R) of a reconstructed multichannel audio signal.<br>
30.	Method according to one of. claims 21 to 28, further comprising<br>
-	receiving enhancement information which reflects<br>
at least for some spectral sample of those<br>
frequency bands, for which said state information<br>
indicates that one of said channel signals (L,R)<br>
is dominant, on a sample basis the difference<br>
between said generated spectral first and second<br>
channel signals {LfrRf)  on the one hand and original spectral first and second channel signals on the other hand;<br>
-	generating enhanced spectral first and second channel signals by taking into account on a sample-by-sample basis said difference reflected by said enhancement information; and<br>
-	transforming said enhanced spectral first and second channel signals into the time domain,<br>
resulting in a first channel signal (Lnew)and  a<br>
second channel signal (i^ew)Â°f a reconstructed multichannel audio signal.<br><br>
31.	Method according.to claim 30, wherein said difference is obtained by dequantizing quantized spectral enhancement samples obtained from said received enhancement information, said dequantizing employing a dedicated quantization gain for each frequency band for which quantized spectral enhancement samples are available, wherein said quantization gains are indicated in said enhancement information.<br>
32.	Method according to claim 31, wherein said received enhancement information identifies in addition those frequency bands among all frequency bands for which said state information indicates that one of said channel signals (L,R) is dominant, for which frequency bands quantized spectral enhancement samples are available, and wherein said identification of frequency bands is taken into account in generating said enhanced spectral first and second channel signals.<br>
33.	Method according to claim 31 or 32, wherein said quantized spectral enhancement samples are obtained from said received enhancement information by an inverse codebook mapping of codebook indices comprised in said received enhancement information to values of a respective group of a predetermined number of quantized spectral enhancement samples.<br>
34.	Method according to claim 33, wherein said received enhancement information comprises only codebook indices for selected groups of samples, wherein said enhancement information further comprises an identification of said groups for which codebook indices are comprised, and wherein said<br><br>
identification of groups is taken into account in generating said enhanced- spectral first and second channel signals.<br>
35.	Method according to one of claims 30 to 34, wherein said enhancement information further comprises an indication of a bitrate with which at least said state information and said enhancement information are provided, which bitrate indication is employed for determining the amount of received enhancement information.<br>
36.	Method according to one claims 21 to 35, wherein said first channel signal (L) is a left channel signal of a stereo audio signal and wherein said second channel signal (R) is a right channel signal of said stereo audio signal.<br>
37.	Multichannel audio encoder (20) conrprising means (22-26;30-38) for realizing the steps of the method of one of claims 1 to 20.<br>
38.	Multichannel extension encoder (26) for a multichannel audio encoder (20), said multichannel extension encoder (26) comprising means (30-38) for realizing the steps of the method of one of claims 1, 3, 4 and 6 to 20.<br>
39.	Multichannel audio decoder (21) comprising means (27-29;40-46) for realizing the steps of the method of one of claims 21 to 36.<br>
40.	Multichannel extension decoder (29) for a multichannel audio decoder (20), said multichannel<br><br>
extension decoder (29) comprising means (40-46) for realizing the steps of the method of one of claims 21, 22 and 25 to 36.<br>
41. Multichannel audio coding system comprising an<br>
encoder (20) with means (22-26;30-38) for realizing-the steps of the method of one of claims 1 to 20, and a decoder (21) with means (27-29;40-46) for realizing the steps of the method of one of claims 21 to 36.<br><br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjEyMC1jaGVucC0yMDA1IGFic3RyYWN0LWR1cGxpY2F0ZS5wZGY=" target="_blank" style="word-wrap:break-word;">2120-chenp-2005 abstract-duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjEyMC1jaGVucC0yMDA1IGNsYWltcy1kdXBsaWNhdGUucGRm" target="_blank" style="word-wrap:break-word;">2120-chenp-2005 claims-duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjEyMC1jaGVucC0yMDA1IGRlc2NyaXBpdGlvbihjb21wbGV0ZWQpLWR1cGxpY2F0ZS5wZGY=" target="_blank" style="word-wrap:break-word;">2120-chenp-2005 descripition(completed)-duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjEyMC1jaGVucC0yMDA1IGRyYXdpbmdzLWR1cGxpY2F0ZS5wZGY=" target="_blank" style="word-wrap:break-word;">2120-chenp-2005 drawings-duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjEyMC1jaGVucC0yMDA1LWFic3RyYWN0LnBkZg==" target="_blank" style="word-wrap:break-word;">2120-chenp-2005-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjEyMC1jaGVucC0yMDA1LWNsYWltcy5wZGY=" target="_blank" style="word-wrap:break-word;">2120-chenp-2005-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjEyMC1jaGVucC0yMDA1LWNvcnJlc3BvbmRuZWNlLW90aGVycy5wZGY=" target="_blank" style="word-wrap:break-word;">2120-chenp-2005-correspondnece-others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjEyMC1jaGVucC0yMDA1LWNvcnJlc3BvbmRuZWNlLXBvLnBkZg==" target="_blank" style="word-wrap:break-word;">2120-chenp-2005-correspondnece-po.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjEyMC1jaGVucC0yMDA1LWRlc2NyaXB0aW9uKGNvbXBsZXRlKS5wZGY=" target="_blank" style="word-wrap:break-word;">2120-chenp-2005-description(complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjEyMC1jaGVucC0yMDA1LWRyYXdpbmdzLnBkZg==" target="_blank" style="word-wrap:break-word;">2120-chenp-2005-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjEyMC1jaGVucC0yMDA1LWZvcm0gMS5wZGY=" target="_blank" style="word-wrap:break-word;">2120-chenp-2005-form 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjEyMC1jaGVucC0yMDA1LWZvcm0gMy5wZGY=" target="_blank" style="word-wrap:break-word;">2120-chenp-2005-form 3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjEyMC1jaGVucC0yMDA1LWZvcm0gNS5wZGY=" target="_blank" style="word-wrap:break-word;">2120-chenp-2005-form 5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjEyMC1jaGVucC0yMDA1LWZvcm0xOC5wZGY=" target="_blank" style="word-wrap:break-word;">2120-chenp-2005-form18.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjEyMC1jaGVucC0yMDA1LXBjdC5wZGY=" target="_blank" style="word-wrap:break-word;">2120-chenp-2005-pct.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="230703-a-method-and-a-system-for-repeater-identification-in-position-determination-system.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="230705-imidazol-4-yl-ethynyl-pyridine-derivatives.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>230704</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>2120/CHENP/2005</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>13/2009</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>27-Mar-2009</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>27-Feb-2009</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>02-Sep-2005</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>NOKIA CORPORATION</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>KEILALAHDENTIE 4, FIN-02150 ESPOO,</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>OJANPERA, JUHA</td>
											<td>KAUKAMETSANKATU 3 A 4, FIN-33710 TAMPERE,</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04S 5/00</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/IB03/01662</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2003-03-21</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>PCT/IB03/00793</td>
									<td>2003-03-04</td>
								    <td>PCT</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/230704-an-apparatus-and-a-method-for-supporting-a-multichannel-audio-coding-system by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 11:30:22 GMT -->
</html>
