<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/201497-a-mobile-messaging-system by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 01:22:25 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 201497:A MOBILE MESSAGING SYSTEM</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">A MOBILE MESSAGING SYSTEM</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>The invention relates to mobile messaging and presence services. According to one aspect of the invention, a client device of the mobile messaging system adds a qualifier to a presence attribute, the qualifier comprising one or more parameters specifying the use of the attribute. A client device receiving a presence attribute processes the received presence attribute according to the qualifier parameters in said received attribute. Another aspect of the invention is the showing of how to assemble and store presence items with names, attributes and values in a single presence set within a role having an associated authorization group of members that have the right to subscribe to the whole or part of the presence set of the same role.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td> <br><br>
Mobile Instant Messaging and Presence Service<br>
Background of the Invention<br>
The present invention relates to messaging in mobile telecommunica-tion systems and more particularly to presence attributes in a mobile instant messaging and presence service.<br>
An instant messaging service provides the end users with a means for fast, interactive, mainly text-based communication. The utility of instant messaging is greatly enhanced by the addition of a service that will keep track of the online status and availability of your chat partners or "friends"; as well as notify you of changes to their status or availability. This type of service is called a "presence service". In general, presence can be considered containing various dynamic information on a user or client connected to the instant messaging service via various means. Examples of this information is reachability, availability and location of the user for communication. The combination of instant messaging and presence services is called an instant messaging and presence service (IMPS). This kind of service has been available for wireline Internet users but the interconnectivity between wireline users and mobile users has been missing.<br>
Wireless Village initiative has been established to define specifications for mobile instant messaging and presence service. The Wireless Village Instant Messaging and Presence Sen/ice (IMPS) includes four primary features; presence, instant messaging, groups and shared content. Shared content allows users and operators to setup their own storage area where they can post pictures, music and other multimedia content while enabling the sharing with other individuals and groups in an IM or chat session. The Wireless Village initiative enables both operators and end-users to create and manage groups. Presence is the key enabling technology for the Wireless Village initiative. In the existing Internet-based instant messaging service, the presence values are usually very simple, such as user is active, absent, not willing to communicate etc. These values are selected from the predefined sets of values. A white paper has been published on the Wireless Village mobile IMPS solution: "Wireless Village, The Mobile IMPS InitiativeiWhite Paper, dated on 26th April 2001. The existing mobile terminal can be considered a personal tool which reflects the personal status more accurately than a desktop computer. Considering the wide range of information that may be obtained from the user and the mobile terminal, the anticipation of the presence information domain is very difficult. Thus a mechanism<br><br>
should be developed to enable easy usage and addition of new types of presence information.<br>
Disclosure of Invention<br>
An object of the invention is to provide a solution for creation of new presence attributes besides already determined presence attributes.<br>
Another object of the invention is to show how to organize and store presence attributes for use by clients.<br>
According to a first aspect of the invention, a client device of a mobile messaging system adds a qualifier to a presence attribute, the qualifier comprising one or more parameters specifying the use of the attribute, A client device receiving a presence attribute processes the received presence attribute according to the qualifier parameters in the received attribute. A presence attribute is a collection of data describing presence information on a certain user and/or a client device, the presence information intended for other users. A presence attribute may also contain information for machine-to-machine communication between the client devices.<br>
In further accord with the first aspect of the present invention, a mobile messaging system comprising at least one client device and a server, wherein the client device comprises means for transmitting presence information as presence attributes to the server and means for receiving presence attributes from the server, the presence information being categorized by a plurality of presence attribute types identified by attribute name, and the server comprises means for maintaining presence information based on the received presence attributes, is characterized in that the client device comprises means for adding a qualifier to a presence attribute, the qualifier comprising one or more parameters specifying the use of the attribute, and the client device comprises means for processing a received presence attribute according to the qualifier parameters in the received attribute.<br>
According to a second aspect of the invention, the client device composes presence Information attributes that are identified by a combination of an authorizer, an attribute name and a qualifier, wherein the authorizer specifies the body responsible for maintaining the attribute and the qualifier specifies the use of the attribute. When receiving a presence attribute, the server and the client device search for already stored attributes containing same identifiers as the received attribute. An attribute already stored is replaced with the received attribute if the combination of identifiers of the received attribute is identical to that<br><br>
of the already stored attribute. Otherwise the received attribute is added without replacing any previous attribute.<br>
In further accord with the second aspect of the present invention, a mobile messaging system comprising at least one client device and a server, wherein the client device comprises means for transmitting presence information as presence attributes to the server and means for receiving presence attributes from the server, the presence information being categorized by a plurality of presence attribute types identified by attribute name, and the server comprises means for maintaining presence information based on received presence attributes, is characterized in that the client device comprises means for composing a presence information attribute identified by a combination of an authorizer. an attribute name and a qualifier, the authorizer specifying the body responsible for maintaining the attribute and the qualifier specifying the use of the attribute, the sen/er comprises means for searching for an already stored attribute containing same identifiers as a received attribute and means for replacing the already stored attribute with the received attribute if the combination of identifiers of the received attribute is identical to that of the already stored attribute or otherwise adding the received attribute, and the client device comprises means searching for an already stored attribute containing same identifiers as a received attribute and means for replacing the already stored attribute with the received attribute if the combination of identifiers of the received attribute is identical to that of the already stored attribute or otherwise adding the received attribute.<br>
In further accord with the first and second aspects of the present invention, the system is characterized in that the client device comprises means for specifying in the qualifier the presentation settings of the attribute, and the client device comprises means for presenting the received attribute on the basis of the qualifier.<br>
In still further accord with the first and second aspects of the present invention, the system is characterized in that the client device comprises means for specifying in the qualifier the application to which the attribute should be addressed, and the client device comprises means for addressing the received attribute to the application indicated by the qualifier.<br>
Still further in accord with the first and second aspects of the invention, the system is characterized in that the server comprises means for determining on the basis of the qualifier whether to send the attribute to one or more client devices.<br><br>
According further to the first and second aspects of the invention, the system is characterised in that the presence attributes received from the client device by the server are stored in a database according to a publisher user in association with a presence group.<br>
In accordance still further to the first and second aspects of the invention, the system is characterized in that each presence attribute is part of an item including an attribute name element and an attribute value. The name element may include an authority string indicative of an authority responsible for keeping the name element and attribute value unique.<br>
According still further to the first and second aspects of the present invention, the system is characterized in that a presence set comprises one or more presence attributes belonging to a single publisher role of a publisher user in association with a single presence group.<br>
In still further accord with the first and second aspects of present invention, a mobile messaging system is characterized in that a user of the client device as a publisher is able to use the client device or more than one client device in more than one publisher role.<br>
According to a third aspect of the present invention, a mobile client device for mobile messaging system, the client device comprising means for transmitting presence information as presence attributes to a server, the presence information being categorized by a plurality of presence attribute types identified by attribute name, is characterized in that the dient device further comprises means for adding a qualifier to a presence attribute, the qualifier comprising one or more parameters specifying the use of the attribute.<br>
According to a fourth aspect of the present invention, a mobile client device for mobile messaging system, the client device comprising means for receiving presence attributes from a server, the presence information being categorized by a plurality of presence attribute types Identified by attribute name is characterized in that the client device further comprises means for adding a qualifier to a presence attribute, the qualifier comprising one or more parameters specifying the use of the attribute, and means for processing a received presence attribute according to the qualifier parameters in the received attribute.<br>
According to a fifth aspect of the present invention, a mobile client device for mobile messaging system, the client device comprising means for transmitting presence information as presence attributes to the server, and means for receiving presence attributes from the server, the presence informa-<br><br>
tion being categorized by a plurality of presence attribute types identified by attribute name, is characterized in that the client device further comprises means for composing a presence information attribute identified by a combination of an authorizes an attribute name and a qualifier, the authorizer specifying the body responsible for maintaining the attribute and the qualifier specifying the use of the attribute, means for searching for an already stored attribute containing same identifiers as a received attribute, and means for replacing the already stored attribute with the received attribute if the combination of identifiers of the received attribute is identical to that of the already stored attribute or otherwise adding the received attribute.<br>
According further to the third, fourth and fifth aspects of the present invention, a mobile client device is characterized in that each presence attribute is part of an item including an attribute name element and an attribute value. The name element may include an authority string indicative of an authority responsible for keeping the name element and attribute value unique.<br>
In further accord with the third, fourth and fifth aspects of the present invention, the mobile client device is characterized in that a presence set comprises one or more presence attributes belonging to a single publisher role of a publisher user in association with a single presence group.<br>
In still further accord with the third, fourth and fifth aspects of the present invention, the mobile client device is characterized in that a user of the mobile client device as a publisher is able to use the client device or more than one client device in more than one publisher role.<br>
According to a sixth aspect of the present invention, a server for a mobile messaging system, the server comprising means for maintaining presence information based on received presence attributes, the presence informa-tion being categorized by a plurality of presence attribute types identified by attribute name. Is characterized in that the server further comprises means for searching for an already stored attribute containing same identifiers as a received attribute, and means for replacing the already stored attribute with the received attribute If the combination of identifiers of the received attribute is identical to that of the already stored attribute or otherwise adding the received attribute.<br>
In further accord with the sixth aspect of the present invention, the server is characterized in that the presence attributes received from a client de-<br><br>
vice by the server is stored in a database according to a publisher user in association with a presence group.<br>
In still further accord with the sixth aspect of the present invention, the server is characterized in that each presence attribute is part of an item including an attribute name element and an attribute value. The name element may include an authority string indicative of an authority responsible for keeping the name element and attribute value unique.<br>
Still further in accord with the sixth aspect of the present invention, the server is characterized in that a presence set comprises one or more presence attributes belonging to a single publisher role of a publisher user in association with a single presence group. A user of a client device in communication with the server acting as a publisher is able to use the client device or more than one client device in more than one publisher role.<br>
According to a seventh aspect of the present invention, a presence system, comprises at least one physical device having at least one presence client for enabling a presence user to interact with the system as a publisher or a subscriber, and a server for maintaining valid values of presence sets of attributes of a publisher for access by subscribers according to associated presence groups.<br>
In further accord with the seventh aspect of the present invention, a presence system is characterized \n that each attribute is part of an item including an attribute name element and an attribute value. The name element may include a qualifier having information related to attribute usage. The name element may include an authority string indicative of an authority responsible for keeping the name element and attribute value unique.<br>
In still further accord with the seventh aspect of the present invention, the presence system is characterized in that a presence set comprises one or more attributes belonging to a single publisher role in association with a single presence group. The user interacting with the system as a publisher is able to use the presence client or more than one presence client in more than one publisher role. Each attribute may be part of an item including an attribute name element an attribute value.<br>
Still further in accord with the seventh aspect of the present Invention, the at least one physical device is a mobile physical device.<br>
According to an eighth aspect of the present invention, a computer program embodied In a computer-readable medium for storage in a physical de-<br><br>
vice, is characterized in that the program is a presence client program for enabling a presence user to interact with a presence system as a publisher of at least one presence set of attributes for access by one or more subscribers according to an associated at least one presence group.<br>
In further accord with the eighth aspect of the present invention, the presence client program is characterized in that the program enables a presence user to interact with the presence system as a subscriber to at least one set of attributes associated with a presence group in which the subscriber is a member.<br>
In still further accord with the eighth aspect of the present invention, the presence client program is characterized in that each attribute is part of an item including an attribute name element and an attribute value. The name element may include a qualifier having information related to attribute usage.<br>
According further to the eighth aspect of the present invention, the presence client program is characterized in that the name element includes an authority string indicative of an authority responsible for keeping the name element and attribute value unique.<br>
In accordance still further with the eighth aspect of the present invention, the presence client program is characterized in that a presence set comprises one or more attributes belonging to a single publisher role in association with a single presence group. A user interacting with the system as a publisher is able to use the presence client program or more than one presence client program in more than one publisher role. Each attribute may part of an item including an attribute name element and an attribute value.<br>
Still further in accord with the eighth aspect of the present invention, the presence client program is characterized in that the physical device is a mobile physical device.<br>
According to a ninth aspect of the present invention, a physical device having a computer program embodied in a computer-readable medium stored therein, is characterized in that the program is a presence client program according to the eighth aspect of the present invention.<br>
According to a tenth aspect of the present invention, a data structure embodied in a computer-readable medium for storage in a physical device, is characterized in that the data structure is a presence database for storing valid values of presence sets of attributes of one or more publishers for access by subscribers according to presence groups associated with the presence sets.<br><br>
In further accord with the tenth aspect of the present invention, a data structure is characterized in that each attribute is part of an item including an attribute name element and an attribute value. The name element may include a qualifier having information related to attribute usage. The name element may include an authority string indicative of an authority responsible for keeping the name element and attribute value unique.<br>
In still further accord with the tenth aspect of the present invention, a presence set comprises one or more attributes belonging to a single publisher role in association with a single presence group.<br>
Further still in accord with the tenth aspect of the present invention, the data structure is characterized in that a user interacting with the physical device as a publisher is able to use the data structure to publish more than one publisher role, each role having distinct presence sets in association with distinct presence groups.<br>
In accordance still further with the tenth aspect of the present invention, a data structure is characterized in that the physical device is a mobile device.<br>
According to an eleventh aspect of the present invention, a physical device having a data structure embodied in a computer-readable medium stored therein, is charactertzed in that the data structure is a presence database according to the tenth aspect of the present invention.<br>
Advantages of the invention are that it is possible to adjust predetermined presence attributes by adding a qualifier. The qualifier may be used to add a new attribute (as an attribute with a qualifier can be uniquely identified, i.e. functionally separated from an attribute with same attribute name but without qualifier). Thus e.g. users or application developers can easily determine new presence attributes best fitting their needs or describing their current actual status without being limited to the predetermined types. The use of the qualifier brings another advantage as it enables the sender of presence information (the owner) to further specify how the presence information is to be used in the receiving client device.<br>
In one embodiment of the invention the application to which the attribute should be addressed is specified in the qualifier. The received attribute is addressed to the application indicated in the qualifier. The further advantage of this embodiment is that the sending client device may define the used applica-<br><br>
tion and thereby use qualifier to direct certain presence information to a certain application.<br>
Another advantage of the invention is the showing of how to assemble presence items with names, attributes and values in a single presence set within a role having an associated authorization group of members that have the right to subscribe to the whole or part of the presence set of the same role.<br>
Brief Description of the Drawings<br>
In the following, the invention will be described in further detail by means of preferred embodiments and with reference to the accompanying drawings, in which<br>
Figure 1 is a block diagram illustrating a mobile IMPS system;<br>
Figure 2 is a signalling diagram illustrating the transmission of presence attributes; and<br>
Figure 3 is a signalling diagram illustrating the usage of a qualifier.<br>
Figure 4 shows one embodiment of a mobile messaging system comprising at least one client device and a server, according to the present invention.<br>
Figure 5 shows another embodiment of a mobile messaging system comprising at least one client device and a server, according to the present invention.<br>
Figure 6 shows a presence framework, according to the present invention.<br>
Figure 7 shows a presence database, according to the present invention.<br>
Figure 8 shows flow diagrams of unsubscribed presence, according to the present invention.<br>
Figure 9 shows subscribed delivery of presence information, according to the present invention.<br>
Figure 10 shows management of user groups and presence sets, according to the present invention.<br>
Best Mode for Carrying out the Invention<br>
Figure 1 illustrates a mobile IMPS system. A number of mobile clients (MC) can be connected via a mobile network MNW and possibly one or more intermediary networks ONW to an IMPS server S. Typically the Internet is used as<br><br>
[he intemnediary network, also non-mobile clients C may be served by the IMPS system. The IMPS server S can be, as regards presence services, functionally divided into server elements; A publisher sen/er PS that is the home service element for a publishing client owning the presence information and a subscriber server SS that is the home for a subscribing or requesting client. Thus the client MC is served by both servers; the MC updates its presence information to the PS and acts as a publishing client and on the other hand requests and receives presence information relating to other clients as presence attributes from the subscriber server SS. The server PS maintains presence data and manages its distribution based on the users' publishing preferences relating to presence information. The functions of SS and PS may be carried out on one physical server device or distributed to a plurality of server devices.<br>
It should be noted that the present description focuses on presence related service capabilities. Other important mobile IMPS service capabilities are messaging capabilities, user group management capabilities, content management capabilities, subscriber management capabilities, and client capabilities. Mobile IMPS services are created by using these sen/ice capabilities. For instance, a client MC may belong to several user groups and the server S manages the group memberships, handles instant messaging and delivers presence information between the members of the group. One important role of the server is also to control information flow; the server may have filters on the basis of user preferences defining e.g. what presence or other information can be delivered to members of a group 'Friends', to members of a group 'Work colleagues' or publicly to any client<br>
Various transport layer protocols may be used and the IP protocol is typically used to provide a network layer service. Different lower layer transmission protocols may be used. The mobile network MNW can be any wireless network, such as a cellular network supporting the GSM service, a network supporting also the GPRS service (General Packet Radio Seivice), a third-generation mobile communication network, such as a UMTS network (Universal Mobile Telecommunications System), a wireless local area network WLAN or a private network. Also short range infrared or radio connections, such as a Bluetooth™ communication, may be used as a part of the communications path between the MC and the server S. The mobile client device MC may be e.g. a mobile station, a PDA device or a laptop computer comprising or being connected to a wireless modem. The mobile IMPS messages may be transferred using a<br><br>
circuit-switched data call, a packet-switched data transmission context, messaging services such as SMS or MMS (Multimedia Messaging Service), for-instance. Figure 2 illustrates the usage of presence attributes. As tne mobile client MC has determined 201 one or more presence attributes to be published, it updates 202 presence attributes to the publisher server PS, i.e. publishes one or more presence attributes. The determination 201 of presence attributes can be done when the client is establishing a logical mobile IMPS session with the mobile IMPS sen/er or automatically or by a user initiative when some presence information has changed. For instance, phase 201 may be initiated automatically at a pre-determined time, data, or by a change of user profile at the mobile client MC. When a client MC (A) accesses mobile IMPS services of a server SS, it may request 203 presence information on another client (B). The subscriber server SS requests 204 this information from the publisher sen/er PS (of client A). The PS sends 205 one or more presence attributes to SS, if this is allowed by the publication preferences (of client B). it is possible that the publication preferences set by client B prevent some part of the requested information from being sent (to client A or in general). The SS may also automatically request 204 presence Information on the basis of the user preferences (of A) when the client establishes a logical connection with the service of the SS. The SS forwards 206 the presence attributes to the receiving client MC (A).<br>
The subscriber server SS (and the publication server PS) typically send the client-originated presence attributes towards the client unmodified. However, there may exist a content adaptation mechanism implemented In the server PS. Content adaptation addresses the issue of modifying a presence attribute in such a way that it matches the client capabilities of the receiving client. In addition to the transmission of presence information as a response to a request from a client, it is also possible to push presence information to available clients MC (that are logically connected to the service) according to the publication preferences. The push-type presence notification can be triggered by three mechanisms: when the publisher sen/er receives an update from the publisher client, when the publisher server detects a change in the attribute value or by implementation-specific internal triggers updating the value.<br>
The client MC is thus configured to update one or more presence attributes to the PS, to receive and handle 207 the presence attributes received from the SS and to present presence information obtained from at least one presence attribute to the user. The MC preferably stores presence information<br><br>
(presence attribute values) until new presence attribute values are received in an update message used to carry presence attributes (or the client finishes the mobile IMPS session). Further, as will be illustrated in more detail later, the client device may automatically utilize received presence information to adjust its function accordingly. In addition to the signallings shown in Figure 2, an authorization may be requested from the publisher of the presence information before sending presence attributes to a requesting client. Figure 2 does not show any status messages by which the server may respond, e.g. after the message 202. A client originated presence attribute is one which has its value field filled in by the publishing client. A server originated presence attribute is one which has its value field filled in by the publisher server. A presence attribute is client-server originated when one part of the value field is filled in by the client and the rest by the publisher server. According to a preferred embodiment of the invention, users or organizations may define new presence attributes besides the predetermined set of attributes. The presence attributes can be divided into the following classes:<br>
Client Status: Presence attributes describing the availability of the client device for communication; network reachability, GPRS attached, on/off status, operator, for instance. Thus the attributes in mobile IMPS service are very different than in IMPS used for non-mobile client devices.<br>
User Status: Presence attributes describing the availability of the user for communication; ready, meeting, busy, away, on the phone, chatting, do not disturb, for instance.<br>
Local Information: Presence attributes describing the local environment at the user, local time, noisy/silent environment, in-door, outdoor, location of the user, in terms of, for instance, geographical location, visited PLMN, city/street, premises, for instance. For instance, the exact location of the mobile client may be obtained for the local information attribute directly and the availability status (in a meeting, in a summer cottage, etc) may be readily available via user profile settings of the mobile client MC.<br>
Personal Status: Various personal attributes describing personal user status; mood, personal interests and intentions, for instance.<br><br>
Client Capabilities; Presence attributes describing the capabilities of the client device to support: different means of communication, different media types and different features.<br>
User Attributes: Presence attributes allowing the client device or the user to define their own textual presence values and references to external values.<br>
Extended Presence Information: Vendor specific or sen/ice provider dynamically defined non-standard presence attributes which however need to be passed through standard presence servers. Thus there may be different presence attributes for mobile client devices and actual users. For instance, the user may be defined as not being available for receiving messages but the user's client device is defined as being on-line. The user may also be defined to be able to receive messages and not being online if SMS is used as a bearer.<br>
GENERAL STRUCTURE AND IDENTIFICATION OF PRESENCE ATTRIBUTES<br>
Table 1 describes the general structure of presence attributes. A presence attribute generally comprises an identifier part and a plurality of value fields. The Req field determines whether the element is mandatory M, optional O or conditional C. Attribute information is in XML fonmat (Extensible Markup Language).<br><br>
The sub-elements of the Namespec element are described in Table 2.<br><br><br>
The name of the attribute is a string given by the information element 'Name'. The Name information element is defined for all presence attributes in the format defined in Table 3.<br><br><br><br>
The Qualifier element is used to specify the scope of the attribute usage. The qualifier can be used especially for two purposes: to add a new attrib-ute or to enable the sender of presence information (the publisher) to specify low the presence information is to be used in the receiving client device. Thus the qualifier string may be used as a parameter for one or more applications in the receiving client device.<br>
For instance, if the publisher wants to limit the knowledge of his exact location (e.g, the street address) to only some of the users (call it group A) and give a more approximate location (e.g. only a city name) to others (call it group B), he may publish a location attribute with the city name to group B, For group A he attaches a Qualifier (say 'My best friends') to the location attribute. This effectively creates a new attribute with Qualifier "My best friends'. He then includes the street address in this new attribute and publishes it to group A. As these attributes are different, the server PS is able to keep their values separate. Also if a person belongs to both groups A and B, the client device of this person can be configured to distinguish between these two attributes. The client device may be configured to present (and possibly utilize) the attribute according to the group which the user has activated. The possible Qualifier values may be preassigned by the client and the service provider or they may be assigned dynamically by the user (publisher). A service provider may also limit the number of dynamically assigned Qualifier values.<br><br>
The authority element determines the body who is responsible for keeping the attribute and its contents unique. This relates to the attribute extension mechanism.<br><br>
When predetermined presence attributes are used unmodified, the Authority string can be omitted. Use of a Qualifier string is not a modification to the attribute that requires the use of the Authority element. It must be used when introducing a new attribute (a new Name) or when adding a new value field to an already specified attribute. In both of these cases the attribute is considered to be a new one and the Authority is responsible for maintaining this new attribute.<br>
Generally a Value field name must be unique within an attribute. Thus, the introduction of a new value field to an existing attribute must be handled by the mles set by the body who has defined the attribute. Adding a new value field transfonms the old attribute into a new one. This must be signalled by the presence of the Authority field in order to allow both the new and the old attribute to co-exist It is also possible that a stakeholder releases an attribute for public maintenance. This kind of attribute is registered by a proper authority, such as lANA (Intemet Assigned Numbers Authority), and also signaled in the Authority field. In this case any stakeholder may register additional value fields for the attribute without having to change the Authority field. The server (PS. SS) does not remove a value field from an attribute even though it would not understand the semantics of the value field. The client MC ignores all the value fields in the attribute that it does not understand.<br>
An attribute is identified and made unique by the element NameSpec. Figure 3 shows an example of the use of the NameSpec element and the qualifier. A qualifier is determined 301 for an attribute in client device MC1. It is possible that the user determines the qualifier or that the client device MC deter-<br><br>
mines it. The qualifier may be defined in order to specify the desired the user group, determine how to present the presence information in a receiving client device {MC2), or otherwise to specify how the receiving client device MC2 should use the attribute. It is possible to utilize the user profiles of the mobile client MC when determining the qualifier. For instance, the MC1 composes presence attribute on the basis of the current profile (e.g. on a meeting), calendar entries (meeting ends at 12.00) and the local time. By using the qualifier, the presence attribute can be easily modified to include a lot of useful information for the receiving client MC2. The attribute is sent 302 to the server PS,<br>
PS compares 303 the NameSpec element of the received attribute to already stored attributes. The PS first compares the Authority strings with each other. An attribute not containing an Authority string is different from any attribute that has an Authority string. Next the attribute names are compared. Finally the Qualifier strings are compared. An attribute that does not contain a Qualifier string is different from any attribute that has a Qualifier string. Two attributes are the same only when all of these three comparisons give the same result. Thus it is possible to functionally separate the received attribute with the qualifier from attributes with same attribute name but with a different qualifier.<br>
The publication server PS does this kind of comparison to determine whether the value fields of the received attribute shall replace some already existing presence information or whether the attribute is a new one to be added to the presence information storage of the MC2. On the basis of the comparison, the PS stores 303 the infonmation in the received attribute. The PS replaces previous presence information of an already stored attribute with the presence information of said received attribute if all identifiers of said received attribute are the same as in already stored attribute. Otherwise the PS adds the presence information of said received attribute without replacing any previous information. PS sends 304 the attribute to at least one client device MC2 (either automatically pushes it or as a response to a request from the MC2). According to an embodiment, the qualifier detenmines a group to which the attribute is directed. Further, the qualifier may be used to present presence information in different ways for private contacts and public contacts in a phone book, for instance. Thus the PS may determine the receiving client devices on the basis of the qualifier Service capabilities for a dynamic phone book service will be described later, after first describing the client status attributes, user status attributes and personal status attributes more fully below.<br><br>
Also the receiving client MC2 decides, after a similar comparison 305 as in PS, whether and how to store the information of the received presence attribute. This kind of ternary identification of presence attributes enables very flexible usage, management and creation of presence attributes.<br>
There are many ways in which the qualifier may be used to specify the usage of the attribute in the client device MC2. Typically the client device MC is capable of supporting a plurality of applications. According to a first embodiment, the client device MC1 adds a qualifier specifying an application to be used. Application refers generally to any application entity which can be identified e.g. by a port number. The application may be the same as used to process the presence information of the attribute in the client device MC1 or another application. The receiving client device MC2 addresses 305 the received attribute to the application indicated by the qualifier. For instance, by using the qualifier, the same presence information may be sent to a phone book application and a game application. These applications may use the presence information differently and thus it is possible also to tailor attributes exactly for application needs.<br>
According to a second embodiment, the client device MC1 adds a qualifier specifying the presentation of the attribute. The receiving client device MC2 presents 305 the received attribute on the basis of the qualifier. The qualifier may determine e.g. whether the information is shown to the user at all or not or which parts of the information are shown. The qualifier may also determine various user interface settings such as colors, fonts etc. Thus the Ui of the MC2 is configured 305 on the basis of the settings in the qualifier.<br>
CLIENT STATUS ATTRIBUTES<br>
According to a preferred embodiment, the mobile clients MC utilize a presence attribute which describes the current transmission capabilities of a mobile client MC. A stnicture for this kind of attribute is illustrated in Table 6. This attribute, referred to as a Modem attribute, gives presence information on those user terminal parts or functions that are dealing with mobile bearers.<br><br><br>
The Status value field as illustrated in Table 8 indicates the status of the mobile modem.<br><br><br>
The Status value field indicates whether the modem is turned on or off. According to a prefen-ed embodiment, a presence attribute includes a DIS indication preferably in the mandatory Status value field of the attribute. When DIS is set in an attribute, all values given in the attribute are invalid. The receiving mobile client MC is thus able to ignore the value fields of the attribute. Also previous values of the presence attribute are removed (and nulled). Thus it is practical to send an attribute with DIS indication but no other value fields. This kind of attribute requires very little space and thus critical bandwidth over the radio interface can be saved. This is very useful especially with attributes describing user attributes.<br>
Referring again to Table 7. the CommAddr value field of the Modem attribute includes the communication address of the modem (MC). It contains two parts: the communication means and the contact address. The means part carries information about the supported communication methods, especially whether the modem supports packet-switched (PS) data, circuit-switched (CS) data or voice. SMS or MMS. The Contact part includes the address, e.g. an MSISDN number.<br>
The CS_Status value field indicates the circuit switched status of the modem (registered or not registered). The PS_Status value field indicates the<br><br>
packet switched status of the modem (attached or not attached). The Roam-ingStatus value field indicates the home PLMN (Public Land Mobile Network) and possibly the PLMN in which the modem is currently roaming. The CS_CallStatus value field gives the in-call status of a CS bearer (data or voice; active or not active). The modem attribute may have a list of these in-call statuses in case if multicall capability is supported by the modem. The PDP_Context Status value field includes information about the PDP (Packet Data Protocol) context, such as QoS (Quality of Service) Information.<br>
In addition to above examples, the modem value field may be used to carry other information related to transmission capabilities of the mobile client. In a first example a maximum bit rate of the mobile client is delivered in the Mode attribute. The receiving client device can then configure its transmission rate so that the maximum bit rate is not exceeded. In a second example the client device determines that only the packet-switched transmission mode is to be used when sending data files to the client device. A third example is that a roaming device orders that only certain type of communication is enabled (e.g. only voice calls are allowed and data files shall not be sent).<br>
USER STATUS ATTRIBUTES According to one preferred embodiment, an attribute is defined for the willingness of the user to engage in an activity. The activity is specified by the value fields belonging to this Availability attribute. Table 9 illustrates the structure for the Availability attribute.<br><br>
Table 10 describes the value fields of the Availability attribute.<br><br><br>
The status value field as illustrated in Table 11 indicates the status of vailability information.<br><br><br>
The Status value field indicates whether the publishing of availability infonnation is enabled or not. The DIS indication may be used as already de scribed to invalidate the values of the Availability attribute. For instance, the server PS may send an availability attribute with DIS indication after the mobile client MC has closed the mobile IMPS session. This kind of message may also be sent when a connection to client is suddenly lost. Thus the receiving mobile client can remove all availability information relating to the user and the client device that are no longer present in the mobile IMPS system.<br>
The CommAvail value field in Table 10 indicates whether the user is willing to engage into any form of remote communication. The PhoneAvail value field indicates whether the user is willing to engage in a telephone call. The SMSAvail value field indicates whether the user is willing to engage in an SMS exchange. The MMSAvail value field indicates whether the user is willing to engage in an MMS (Multimedia Messaging Sen/ice) exchange. IMAvail value field indicates whether the user is willing to engage in an IM (Instant Messaging) exchange. The EmailAvail value field indicates whether the user is willing to engage in an EMAIL exchange.<br>
The structure for Image value field is illustrated in Table 12.<br><br>
This value field associates an image with any of the value fields in the Availability attribute except in the Status, Text or Image field. The Containedl-mage value field includes the image, the size or the format of the image may however be restricted. The Referredlmage value field includes a URL to resource having the associated image. The ValueField value field defines the value field the image is associated with. For instance, the publisher may associ-<br><br>
ate an image with the value field PhoneAvail which currently has value 'DISC (meaning that the user is limitedly available for telephony, for instance) in order to convey pictorial semantic information about the meaning of DISC, The Image value field may have multiple instances in this attribute. Whenever this value field is included in the attribute, its target value field must also be included in the same attribute. The association is valid only as long as the target value field is valid. When the target value field is updated or invalidated, any old association with this attribute must be discarded by the receiving client.<br><br>
Text value field associates a text string with any of the value fields in the Availability attribute except in the Status, Image or Text field. The Text value field includes the text string in ContainedText and the name of the associated value field in ValueField. The size of the text may be limited in the ContainedText element. For example, the publisher may associate a text with value field PhoneAvail which currently has value *NAVU (e.g. 'in meeting until 14:00') in order to convey additional semantic infomnation about the meaning of NAVL. The Text value field may have multiple instances in this attribute, i.e. the same text may be associated with a multiple value fields. Whenever this value field is included in the attribute, its target value field must also be included in the same attribute. The association is valid only as long as the target value field is valid. When the target value field is updated or invalidated any old associations with this value field must be discarded by the receiving client. Images and text may also be automatically added to a presence attribute.<br><br>
PERSONAL STATUS ATTRIBUTES<br>
PersonalStatus attribute indicates the personal status of the publisher. The options and details are specified by the value fields belonging to this atthbute. Table 14 illustrates attribute structure for the PersonalStatus,<br><br>
The status value field as illustrated in Table 16 indicates the status of PersonalStatus information.<br><br><br>
This field indicates whether the publishing of this information is enabled or not. The DIS indication may also be used with the PersonalStatus attribute.<br>
The Text value field indicates the status of the publisher in a free text form. The Mood value field indicates the mood of the publisher. The Time value field gives the local time of the publisher.<br>
According to a prefenred embodiment an image may also be utilized in the PersonalStatus attribute. As already illustrated in Table 12 the Image value field associates an image with any of the value fields in this attribute except in the Status or Image field. For instance, the publisher may associate an image with value field Mood which currently hasvalue 'IN_LOVE' in order to convey pictorial semantic info about the meaning of 1N_L0VE. The Image value field may be used in a similar way as already illustrated with attribute Availability.<br>
The present invention can be implemented in the existing client devices and servers. They all have processors and memory with which the inventive functionality described above may be implemented. A computer program may be loaded from an internal or external memory to the processor of the server or the client device, causing, when executed in the processor, the means<br><br>
to implement the inventive functionality. Also hardware implementation or a combination of software and hardware implementation may be used.<br>
Fig. 4 shows a client device 402 in communication with a server 404, according to the present invention. The client device may be similar to one or more of the mobile clients or the non-mobile client of Fig. 1 or any of the other mobile clients shown in Figs. 2 and 3. Likewise, the server 404 may be similar to the server shown in Fig. 1 or any of the other servers shown in Figs. 2 and 3. The client device 402 includes means 406 for transmitting or requesting presence information as presence attributes to the server on a signal line 408. Transmitting presence information would correspond for instance to the step 302 of Fig. 3 in which presence attributes are sent from MC1 to PS or the step 202 of Fig. 2 in which presence attribute(s) are updated by the MC and sent to the PS. Requesting presence information on the line 408 would be comparable to the request step 203 of Fig. 2 wherein the MC requests a presence attribute from the SS. The transmission on the line 408 from the client device 402 to the server 404 could be similar to the transmission path shown in Fig. 1 from a mobile client (MC) through a mobile network (MNW) via an intermediary network ONW to the IMPS server(s). Or, it could be similar to the path from the non-mobile client C through the intermediary network ONW to the sen/er S. Of course other possible paths are contemplated as well and the invention does not depend on the path of the physical media or combination of physical media used. The client device 402 also includes means 410 for receiving presence attributes from the sen/er 404 on a signal line 412. Such presence information is categorized by a plurality of presence attribute types identified by attribute name.<br>
The server 404 includes means 414 for receiving/transmitting attributes and for maintaining presence information based on the received presence attributes.<br>
According to the invention, the client device 402 additionally includes means 416 for adding a qualifier to a presence attribute wherein the qualifier comprises one or more parameters specifying the use of the attribute. The added qualifier is provided on a signal line 418 for transmission by the means 406 on the line 408 to the sen/er 404. This may be done via a means 420 for determining presence attributes in accordance with instructions received on a line 422 from an application 424. The application can also utilize the means 420 for requesting presence attributes. In either event, a signal may be provided on<br><br>
a line 426 from the means 420 to the means 406 for transmitting or requesting presence attributes on the line 408. In case the means 416 has added a qualifier, for instance in updating a presence attribute as per step 202 of Fig. 2, the signal on the line 408 will include a presence attribute with a qualifier having one or more parameters specifying use of the attribute.<br>
For handling presence attributes incoming on the line 412 from the server 404, the client device 402 will also include means 428 for processing a received presence attribute on the line 412 from the sen/er 404 according to qualifier parameters in the received attribute. The received presence attribute on the line 412 may be received by the means 410 and provided on a line 430 to the means 428 for processing the received attribute. After processing, the means 428 may provide a signal on a line 432 to the application 424 for further use by the application.<br>
The means for adding a qualifier 416 may include means 434 for specifying in the qualifier presentation settings of the attribute so that the client receiving the attribute from the sen/er 404 will be able to present the attribute on the basis of the presentation settings. Consequently, a client device such as the client device 402 of Fig. 4 will include means 436 for presenting received attributes on the basis of such a qualifier specified by another client device and received from the server 404 on the line 412.<br>
Likewise, the means 416 may include a means 438 for specifying in the qualifier to be sent to the server 404 an application to which the attribute should be addressed in the receiving client. For such a client device 402 receiving a qualifier specifying the application to which the attribute should be addressed, it will have means 440 for interpreting such an attribute received on the line 430 for addressing a received attribute to the application indicated by the qualifier.<br>
Turning now to the server 404 in more detail, it may also include means 444 for determining on the basis of a qualifier whether to send an attribute to one or more client devices such as specified by a presence group in a presence database in the server. Such a determination may also depend on an authorization provided on a line 446 from a means 448 for providing such authorization, if the qualifier and authorization indicate that the attribute should be sent to one or more client devices, then the server 404 will do so, for instance to the client device 402 as well as similar devices, if appropriate.<br><br>
It may be that a presence attribute intended for a particular client may not match that client's capabilities, according to information known to the server. Such information may be provided for instance by the means 444 on a line 450 to a means 452 for modifying the presence attribute to match the client's capabilities. The modified attribute may be provided back to the means 444 on the line 450. On the other hand, in cases where presence attributes are provided according to a "push" technology, the modified presence attribute may be provided on a line 454 to a means 456 which is capable of taking the appropriate steps to push the modified presence attribute to the client or to more than one client, as appropriate. This may be signalled for instance on a line 458 to the means 444.<br>
It should be realized that the functional blocks shown in Fig. 4 may be earned out using discrete hardware, specialized integrated circuits, microcontrollers, software, firmware, etc., as will be apparent to those of skill in the art. Moreover, the functions attributed to distinct functional blocks in the figure need not be separate but can be incorporated in other blocks by free addition or subtraction of functions into or from other functional blocks. Likewise, the cooperative relationships between the functional blocks may be modified in their order and interrelationships while at the same time carrying out the same end results mentioned above. It should also be realized that the details of the client device and server device shown in Fig. 4 can take other forms which are similar to those shown, according to the invention. Other aspects of the invention can be illustrated in a similar but by no means identical way.<br>
For instance, Fig. 5 shows a client device 502 communicating with a server device 504 with means 506 similar to the means 420 of Fig, 4 for transmitting presence information as presence attributes on a line 508 to a means 510 for receiving and maintaining presence attributes within the server 504, similar to the means 414 within the server 404 of Fig. 4. Likewise, the client device 502 may include means 512 for receiving presence attributes indicative of presence information on a line 514 from the means 510 of the server 504. Similar to the means 420 and 416 of the client device 402 of Fig. 4, the client device 502 of Fig. 5 may include means 516 for composing a presence information attribute identified by a combination of an authorizer. an attribute name and a qualifier, the authorizer specifying a body responsible for maintaining the attribute and the qualifier specifying the use of the attribute. The so-composed attribute may be provided on a line 518 to the means 506 for transmittal on the<br><br>
line 508 to the server 504, as shown. The server 504 may include means 520 that is responsive to the so-composed attribute received on a line 522 from the means 510 for searching for already stored attributes containing the same combination of authorization, attribute name and qualifier, if the combination of identifiers of the received attribute is identical to that of the already stored attribute, for instance stored in a storage means 524, the received attribute is used to replace the already stored attribute over a signal line 526. In this way, if the attribute parameters have changed, the updated parameters will be stored in the storage means 524, Otherwise, the received attribute is added to the storage means as a new attribute. This function may be carried out in the means 520 as described above, or may be carried out in a completely separate means 528 which receives the received attribute on a line 530 from the means 520 and includes functions for replacing the already stored attributes with the received attributes if the combination of identifiers are the same and otherwise adding the received attribute over a connection line 532 between itself and the storage means 524.<br>
The client device 502 will include similar functionalities as just described above as shown for instance by a means 540 which receives incoming attributes on a line 542 from the means 512 and searches for already stored attributes containing the same identifiers as the received attribute and means 542 for replacing the already stored attribute with the received attribute if the combination of Identifiers of the received attribute is identical to that of the already stored attribute. Othenvise, the received attribute is added to a storage means 544. The means 540 for searching may include the means 542 within or they may be separate as shown in the figure. In the latter case, a signal line 546 provides attribute information concerning the received attribute from the means 540 to the means 542. The storage means 544 may be in bi-directional communication over line 548 with the means 542 for replacing or adding attributes and the line 550 with the means 540 for searching for already stored attributes.<br>
As mentioned above, the service capabilities for a dynamic phonebook service embodiment of the present invention will now be described. A dynamic phonebook sen/ice can be viewed as a rich call service. It is useful "before the call" to enrich cases where B party's presence information is shown to the A party. In this case, the B party is one or more of the user phonebook entries. The presence information can be divided into the same categories as mentioned above, i.e., (1) client availability. (2) user availability, (3) local condi-<br><br>
tions, (4) personal status. (5) client capabilities, (6) user attributes, and (7) extended presence service:<br>
Conceptually, the Presence System consists of Presence Clients 602, 604, 606. Presence Users 608. 610, 612, Presence User Roles 614, 616. 618, 620. 622, 624. Presence Proxies 626 and Presence Sen/ers 628, 630, as shown in Fig. 6. A Presence Client is the software or program which enables for the user an interaction with the Presence System. The User is a person who interacts with the Presence System using the Presence Client. A physical device 632. 634, e.g.. mobile handset or PC, may have one 606, or in special cases, multiple presence client instances 602. 604. A presence client is owned by a single user. A user may own more than one client but then these clients are typically in different devices.<br>
Users 608. 610, 612 are conceptually classified in Publishers and Subscribers. A publisher is the originator of presence information. A subscriber is the receiver of presence information. A User may be both publisher of own presence information and subscriber of some other publisher's presence information at the same time. A user may have one or more Roles. A publisher role is associated with a set of presence values called Presence Set. The presence values of two different presence sets of the same user are independent of each other and are associated with different roles. A subscriber role is the logical receiver of presence information of identical publisher role i.e. of the same presence set<br>
A Presence Proxy 626 is an optional network element that improves the scalability of the Presence Service. A proxy temporarily stores presence values of different presence sets traveling uplink from the publisher to the server or downlink from the server to a subscriber. When a client comes on-line the proxy may update the client with current presence information. Also when a publisher sends a new presence value to the server the proxy may update all the subscriber clients that are registered with the proxy. A proxy can cache the presence values only temporarily. Even when the presence info is coming from the publisher the proxy cannot assume that all the updates of this presence info is taking place via the same proxy, if the proxy is not aware of the subscriber group associated with a presence set then the proxy may ask for this information from the server.<br><br>
A presence Server 628, 630 is a network element that maintains valid presence values and information on groups that are associated with each presence set. The server communicates with presence clients either directly or through a proxy. The server informs the proxy about the validity period of presence values cached by the proxy. When the validity period expires the proxy must either discard the values or refresh them from the server. The server assigns the validity periods presence item by item basis by monitoring how frequently the presence values change. The validity period is dynamic i.e. it may change during the lifetime of the presence item.<br>
A presence server exchanges presence information also with other presence servers, as shown in Fig. 6. For instance, if the publisher and subscriber belong admistratively to different presence servers then the presence info must go through both servers. In case the servers are incompatible there needs to be a gateway function on one or both servers.<br>
Figure 7 shows the structure of a presence database 702, according to the invention. A single presence item 704 has three properities: name 708. attributes 710 and value 712. A presence set 714 consists of a single or more presence items. The presence set 714 belongs to a single role 716 of the user. There cannot be more than one presence setter a single role. In addition there is a single authorisation group 718 that belongs to a single role 716. The authorisation group consists of members that have the right to subscribe the the whole or a part of the presence set of the same role.<br>
The items 704. 720,.... 722 in a presence set are unique i.e they can be distinguished from each other. The items are primarily distinguished from each other by their name. In case the presence set contains two or more items with the same name then there must be an attribute in each item that carries the id's of these items. The members 724, 726, .,., 728 of a group 718 are unique. Different presence sets in different roles 716, 730, ..., 732 of the same publisher 734 may contain items with the same name or id. Different groups may likewise contain the same members.<br>
A role 716 may be identified by a Role ID, Group ID or Presence Set ID. For instance, the Group ID may be assigned by the service provider and is unique within the service providers domain. Therefore, the following ID's would be needed to address individual elements in the presence database:<br>
GroupID, ItemName<br><br>
In case the presence set contains more than one item with the same name the ItemName must have the itemID attribute assigned.<br>
Note that ID's such as UserlD, DevicelD and ClientlD are not needed.<br>
A.	EXEIVIPLARY PRESENCE PROTOCOL<br>
A. 1.0        Unsubscribed Presence (Fig. 8)<br>
The presence information of a user can be obtained separately from messaging services by issuing a query to the presence server, as indicated for instance in the message flows presented in steps 203, 204, 205, 206 of Fig. 2, or by subscribing and receiving presence items as in Fig. 9. or by getting presence items as shown in Fig. 8.<br>
The user of a presence sen/ice may, at any suitable time, update his presence information in the presence server by sending update presence mes-sage as shown in Fig. 8. As mentioned, a user may issue a get presence message to request the presence information of some other user as also shown in Fig. 8. The presence information is delivered back to the requesting user.<br>
The publisher may update his presence information only partially. Similarly, the user may request only partial presence information.<br>
If the user does not have authorisation for a requested presence in-fonmation an empty content is sent to the user.<br>
The authorisation of presence information for a given user is done by including the user into the group corresponding to the presence set. This is described below in the part labeled 'Management of presence database'.<br>
A.1.1	UpdatePresence<br>
Direction: Presence Client -&gt; Presence Server<br>
Content Model: (Transaction!D, GroupID, Presence)<br>
Attributes: None<br>
Usage: This primitive updates the values of one or more presence items on the presence server. The presence items to be updated are canied in the information element Presence. If there are items in the Presence that do not exist in the server for the given GroupID then the server allocates storage for these new items and copies the contents from this message. Otherwise the server replaces the old value with the new value.<br><br>
No UserlD or PublisherlD is needed in the content. The association between the publisher and the XML-document containing the UpdatePresence primitive is made in the authentication protocol.<br>
A.1.2        TransactionID<br>
Content Model: (#PCDATA)<br>
Attributes: None<br>
Usage: This is a unique idenfier that associates the request from client to server with the corresponding response from server to client. The client may have sent more than one request to the server before it gets the first response back. The first response does not necessarily refer to the first request. Therefore there needs to be a mechanism that associates requests and responses together. Typically a TransactionID is a sequence number. It is assigned by the client in the request and used by the server in the response.<br>
A.1.3        GroupID<br>
Content Model: (#PCDATA)<br>
Attributes: None<br>
Usage: This id uniquely identifies within the service provider domain the publisher role including the authorisation group and presence set. It is assigned by the presence service provider.<br>
A.1.4        UpdateStatus<br>
Direction: Presence Server-&gt; Presence Client<br>
Content Model: (TransactionID, StatusCode)<br>
Attributes: None<br>
Usage: This primitive is the response from the presence server to the client UpdatePresence request. The StatusCode may have following values: not supported, new allocation, success, failure.<br>
A. 1.5        GetPresence<br>
Direction: Presence Client -&gt; Presence Server<br>
Content Model: (TransactionID, ((GroupID, PresenceNames?)*) | PresenceNames?)<br>
Attributes: None<br><br>
Usage: This primitive is used to request presence information from the presence server. There may be zero or more Group! Ds. For each GroupID there may be coupled an optional PresenceNames. When the GroupID is not used then the request scope is all the groups the user is a member. The sejver associates the requesting user's identity to the request by the authentication protocol. The PresenceNames is defined later in this document. It lists those presence items by name from which the value is requested. It is optional. It is either coupled with GrouplDs or may be alone when no GrouplDs are listed. When coupled with GrouplDs the server limits the search of the presence items for the given group. When not present the values of all presence items is requested.<br>
A. 1.6        Presenceltems<br>
Direction: Presence Server -&gt; Presence Client<br>
Content Model: (TransactionID, StatusCode, (GroupID, Presence)*)<br>
Attributes: None<br>
Usage: This primitive supplies the list of presence items requested and the result status of the request. The element Presence is the presence set corresponding to a given GroupID and is defined later in this document. The StatusCode may have following values: not authorised, item not available, success, failure.<br>
A.2.0       Subscribed Presence (Fig. 9)<br>
Another mechanism to deliver presence information is to subscribe someone's presence information. The message flow is presented in Fig. 9.<br>
The requesting user sends a subscribe presence message A.2.1 to the presence server to subscribe someones presence information.<br>
When the subscription of presence information is complete, the requesting user will receive new presence information A.2.2 initially and always when the other party updates its presence information.<br>
When the requesting user does not any more want to receive the presence information, he may unsubscribe A.2 the presence infonnation. Alternatively, the presence information may be subscribed to a time period and the unsubcribe message is not needed.<br>
The requesting user may subscribe only part of the presence infomna-tion that he is authorised to get.<br><br>
A.2.1        SubsPresence<br>
Direction: Presence Client -&gt; Presence Server<br>
Content Model: (TransactionlD, SubsPeriod?, ((GroupID, Presence-Names?)*) 1 PresenceNames?)<br>
Attributes: None<br>
Usage: This primitive is used to subscribe presence information from publisher roles for which the subscriber is authorised. The optional GrouptD specifies the publisher role which is subscribed. When the GroupID is missing then all the roles for which the subscriber is authorised are subscribed. Each GroupID may be associated with a PresenceNames which limits the subscribed items within the group to those listed in the PresenceNames. The optional SubsPeriod specifies the length in time for the subscription. When it is missing the subscription lasts until an corresponding UnsubsPresence primitive is invoked or until the service provider terminates subscription. The PresenceNames specifies the presence items that are subscribed from the authorised set. When it is missing then all the presence items that the user is authorised for within the presence set (GroupID) are subscribed. When used alone without a GroupID then the named Items from all authorised groups are subscribed. PresenceNames is defined later in this document.<br>
The identity of the subscriber is discovered in the authentication protocol.<br>
A.2.2   SubsPeriod<br>
Content Model: (#PCDATA)<br>
Attributes: None<br>
Usage: This defines the length of the subscription period. The time unit is TBD. Alternatively the content may indicate the date when the subscription ends.<br>
A,2.3        PushPresence<br>
Direction: Presence Server -&gt; Presence Client Content Model: (GroupID, Presence)+ Attributes: None<br><br>
Usage: This primitive pushes the subscribed presence items that have been modified by the publisher to the users. The GroupID identifies the role.<br>
A.2.4        UnsubsPresence<br>
Direction: Presence Client -&gt; Presence Server<br>
Content Model: (TransactionID, ((GroupID, PresenceNames?)*) | PresenceNames?)<br>
Attributes: None<br>
Usage: This primitive is used to unsubscribe presence information. The termination of subscription may be limited to given groups and can further be limited to given presence items. When no GroupID is given it is possible to limit the subscription termination for the named presence items in all the groups. When no GroupID and no PresenceNames is given then the whole subscription of the user is terminated.<br>
A.2.5        SubsStatus<br>
Direction: Presence Server -&gt; Presence Client<br>
Content Model: (TransactionID, StatusCode, (GroupID, Presence-Names)*)<br>
Attributes: None<br>
Usage: This primitive returns the StatusCode for the unsubscribe operation and lists the presence items and groups that are still subscribed. The StatusCode may have following values: not supported, non-existent item, non-subscribed item, success, failure.<br>
A.3.0.       Management of Presence Database<br>
The presence user may manage his user groups and presence sets in the presence server.<br>
A role containing a user group and presence set is created using CreatePresGroup message A.3,1. The presence server will reply with Pres-GroupStatus message A.3.6 indicating the status of the requested operation and an id for the created group. A Presencelnfo message A.3.7 is sent to members of the group indicating the presence items they are authorised to get or subscribe.<br><br>
The presence user may request group info with the GetPresGroup-Status message A,3.8. The group info request is limited to the owner of the group.<br>
The presence user owning the user group may add and delete members of the group or presence items for the presence set.<br>
The publisher may send delete a group by message DeietePres-Group.<br>
A.3.1	CreatePresGroup<br>
Direction: Presence Client-&gt; Presence Server<br>
Content Model: (TransactionID, MemberList, Presence)<br>
Attributes: None<br>
Usage: This primitive requests the server to create a role in the presence server. The authorisation group contains the members in the memberlist and the presence set is contained in Presence.<br>
A.3.2        MemberList<br>
Content Model: {MemberDescnption)+<br>
Attributes: None<br>
Usage: The list of members. The description is originated from the user.<br>
A.3.3        MemberDescription<br>
Content Model: (UserOriginatedMD?, ServerOriginatedMD?)<br>
Attributes: None<br>
Usage: The user originated part is a description of a member as seen by the user. The server originated part is a description of a member as stored in the server database.<br>
A,3.4        UserOriginatedMD<br>
Content Model: (#PCDATA)<br>
Attributes: None<br>
Usage: This Is a user originated means to identify a person. It may be a name, an MSISDN of one of the phones of the target person, an email address, a SIP address etc. It may also be a combination of these. The dataformat<br><br>
of the description is not within the scope of this document but known formats such as vCard should be used,<br>
A.3.5        ServerOriginatedMD<br>
Content Model: (#PCDATA)<br>
Attributes: None<br>
Usage: This is a server originated means to idenfy a person, it may be a name, an MSISDN of one of the phones of the target person, an email address, a SIP address etc. It may also be a combination of these as stored in the server database. The dataformat of the description is not within the scope of this document but known formats such as vCard should be used.<br>
A.3.6        PresGroupStatus<br>
Direction: Presence Server-&gt; Presence Client<br>
Content Model: (TransactionlD, StatusCode. (GroupID, MemberList, PresenceNames)*)<br>
Attributes: None<br>
Usage: This primitive returns the GrouplD's of the currently existing publisher roles together with the group members and presence item names for the role. The server has assigned a new GroupID for the new role if the operation was succesfuL The server has filled the server originated part of the mem-beriist This allows the publisher to verify that the group contains the right members. The server should not give any confidential or personal information in the memberiist beyond the level already existing in the user originated part or a level that is needed to uniquely identify a person. This is TBD. The StatusCode may get following values: not supported, unknown member, unknown presence item, success, failure.<br>
A.3.7        Presencelnfo<br>
Direction: Presence Server-&gt; Presence Client<br>
Content Model: (GroupID. Presence?)+<br>
Attributes: None<br>
Usage: This primitive advertises the new presence items to the authorisation group. The message contains all the presence items of the given authorisation group - both subscribed and unsubscribed. This message is sent to new members in the group if the group membership has changed or to all the<br><br>
members of the group if new presence items have been added. The message is sent to removed group members so that there is no presence set (Presence; associated with the GroupID.<br>
A.3.8        GetPresGroupStatus<br>
Direction: Presence Client -&gt; Presence Sen/er<br>
Content Model: (TransactionID, GroupID*)<br>
Attributes: None<br>
Usage: This primitive requests the PresGroupStatus message from the server. The user may only request info from his own groups. The GroupID limits the info to the given groups. When no GroupID exist then the status is returned from all the groups owned by the requestor.<br>
A.3.9        AddMembers<br>
Direction: Presence Client-&gt; Presence Server<br>
Content Model: (TransactionID, (GroupID. MemberList)+)<br>
Attributes: None<br>
Usage: This primitive requests the server to add the named members into given groups.<br>
A.3.10      RemoveMembers<br>
Direction: Presence Client -&gt; Presence Server<br>
Content Model: (TransactionID, (GroupID. MemberList)+)<br>
Attributes: None<br>
Usage: This primitive requests the server to remove the named members from the given groups. The MemberList is filled with the server originated info.<br>
A.3.11       DeletePresGroup<br>
Direction: Presence Client -&gt; Presence Server<br>
Content Model: (TransactionID, GroupID*)<br>
Attributes: None<br>
Usage: This primitive requests the server to remove one or more of the publisher roles. The GroupID identifies the role that is to be removed. When no GroupID is given then all the publisher roles are removed.<br><br>
\.3.12      AddPresence<br>
Direction: Presence Client-&gt; Presence Server<br>
Content Model: (TransactionlD, (GrouplD, Presence)+)<br>
Attributes: None<br>
Usage: This primitive requests the server to add given presence terns into given roles.<br>
^.3.13      RemovePresence<br>
Direction: Presence Client -&gt; Presence Server<br>
Content Model: (TransactionID, (GroupiD, Presence?)+)<br>
Attributes: None<br>
Usage: This primitive requests the server to remove given presence terns from the given roles. When there is no Presence element associated with groupID then all the presence items are removed from the role.<br>
A.3.14      Dynamic Client Change<br>
A publisher or subscriber may change his client at any time. Typically also the client device changes. In a rare case the user may only change the client instance in the same device. The new device may be a TE and the old a MT or vice versa. Also change to a new MT is possible. The client change requires the user to copy or synchronize his presence data from the old client to the new client. In case of a publisher there might be some client specific presence data that is static for a given client and is not included in the synchronisation set. The synchronisation may take place locally or may be network assisted. In any case the existing synchronisation protocols should be used. This is not within the scope of the presence protocol.<br>
Another issue brought by the subscriber client change is the registry of the new client to be the active client that receives the presence related push messages. The registry may take place automatically (no user confirmation needed), semi-automatically (user confirmation required) or manually (user must initiate the registry) depending whether<br>
-	User activates a new client in the same device (automatic);<br>
-	User SIM changes to the new device (automatic);<br>
-	User has a different SIM in the new device but only the new device is turned on (semi-automatic); or<br><br>
- User has a different SIM in the new device and both the new device and old device are on (manual).<br>
in ail the cases the registry may he handled by lower level protocols. For example if the SIP-protocol is the chosen transport protocol for presence documents then this protocol can also be used for the registry.<br>
A.4.0        DTD for the Presence Protocol<br><br><br><br><br><br><br><ielement presence><br><br><br><br><br><br>
Presence)*) &gt;<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
Presence?)+) &gt;<br><br>
B.	EXEMPLARY PRESENCE CONTENT FORMAT<br>
As stated above, the presence content can be divided in the following classes:<br>
Client Availability: Presence attributes describing the availability of the client for communication, for instance, network reachability, GPRS attached, on/off status.<br>
User Availability: Presence attributes describing the availability of the user for communication, for instance, ready, meeting, busy, away, in call, chatting, don't disturb, etc.<br>
Local Conditions: Presence attributes describing the local environment at the user, for instance, local time, noisy/silent environment, in-door, outdoor, location of the user, in terms of, for instance, geographical location, visited PLMN. city/street, premises.<br>
Personal Status: Various personal attributes describing personal user status, for instance, mood, personal interests and intentions.<br>
Client Capabilities: Presence attributes describing the capabilities of the client, for instance, to support different means of communication, different media types and different features.<br>
User Attributes: Presence attributes allowing the client or the user to define their own textual presence values and references to external values.<br>
Extended Presence Service: Service provider dynamically defined non-standard presence attributes which however need to be passed through standard presence servers and proxies.<br><br>
B.1.	DESIGN GOALS<br>
The bulk of presence communication is sending the changes in the value part of presence items to the subscribers. Often only a single value has changed. In order to minimize the amount of transferred data the design goal is to keep the hierarchical representation 6f presence items as flat as possible. For this reason the presence items are scoped under the presence classes described above. Instead the classes may be given in the presence items as an optional attribute.<br>
D.2	COMMON ATTRIBUTES<br>
The presence elements contain a variety of attributes most of which can be used in any presence item.<br>
D.2.1	Version<br>
Content Syntax: NMTOKENS Mandatory: yes<br>
Usage: This gives the version of the presence content format<br>
D.2.2        Class<br>
Content Syntax: NMTOKEN Mandatory: no<br>
Usage:	This indicates the class the attribute belongs to.<br>
Possible values are: CLIENT_AVAILABILITY,<br>
USER^AVAILABILITY, LOCAL_CONDmONS,<br>
PERSONAL_STATUS,	CUENT_CAPABILITIES,<br>
USER^ATTRIBUTES, EXT_PRES_SERVICE.<br>
D.2.3        ID<br>
Content Syntax: PUBIDLITERAL Mandatory: no<br>
Usage:	This is a unique ID for a named presence item. It is<br>
assigned by the client.<br>
D,2.4        Cacheability<br>
Content Syntax: NMTOKEN Mandatory: no<br><br>
Usage:	This  indicates  whether the  presence  item  can  be<br>
cached by proxies or not. The possible values are. YES. NO.lt is assigned by the client. If this attribute is missing a value of NO is assumed.<br>
D.2.5        ValidityPeriod<br>
Content Syntax: NMTOKEN Mandatory: no<br>
Usage:	This is a validity period for the cached presence item.<br>
The value is time in seconds. It is assigned by the presence server.<br>
D.2.6        DeviceName<br>
Content Syntax: NMTOKEN Mandatory: no<br>
Usage:	This is the name of the client device. It is assigned by<br>
the client.<br>
D.2.7        Accuracy<br>
Content Syntax: NMTOKEN Mandatory: no<br>
Usage:	This is the accuracy of a positioning device. It is given<br>
in meters.<br>
D.2.8        ImageType<br>
Content Syntax: NMTOKEN Mandatory: no<br>
Usage:	This is the content encoding of an image. Some<br>
possible values are: JPEG, GIF, BMP.<br>
D.2.9	SoundType<br>
Content Syntax: NMTOKEN Mandatory: no<br>
Usage:	This is the type of sound codec used to encode the<br>
sound. Some possible values are: AMR. EFR, MP3, AAC, MIDI<br><br>
D.2.10      ExtRef<br>
Content Syntax: PUBIDLITERAL Mandatory: no<br>
Usage:	This is a URL giving an external reference.<br>
D.2.11      ExtRefChange<br>
Content Syntax: NMTOKEN Mandatory: no<br>
Usage:	This indicates that the content of an external reference<br>
has changed. The possible values are: YES, NO<br>
D.2.12      ContentChange<br>
Content Syntax: NMTOKEN Mandatory: no<br>
Usage:	This is a counter from 0 to 255 which indicates a<br>
change in the content value. The server or proxy may store the contents (but is not required to) of the last 32 values. Same values for two contents within the last 32 values should correspond to same content<br>
D.3	Client Availability<br>
D.3.1        DeviceOn<br>
Content Model: (#PCDATA)<br>
Attributes: Class, ID, Cacheability, ValidityPeriod, DeviceName<br>
Usage:	This gives the on/off status of the user terminal. The<br>
publisher adds this item into the role in the server by using the group management messages. Thereafter the value part is maintained by the network. The user may have more than one terminal in his presence information. In this case the use of ID attribute is mandatory. The content can have values "ON" or "OFF". When the user's terminal is on but outside network coverage the network assigns value "OFF" for this item.<br><br>
D.3.2        DeviceRoaming<br>
Content Model: (#PCDATA)<br>
Attributes: Class, ID, Cacheability, ValidityPeriod, DeviceName<br>
Usage:	This indicates lo the subscriber that the publisher is<br>
roaming in a visited network. The user may have more than one terminal in his presence information. In tnis case the use of ID attribute is mandatory. The content can have values "YES" or "NO"<br>
D.3.3        NetworkType<br>
Content Model: (#PCDATA)<br>
Attributes: Class, ID, Cacheability, ValdityPeriod, DeviceName<br>
Usage:	This indicates the type of mobile network the publisher<br>
is currently attached. The content can have values "2G". "3G-99", "3G-R4" or "3G-R5". The user may have more than one terminal in his presence information. In this case the use of ID attribute is mandatory,<br>
D.4	User Availability<br>
D.4.1        UserStatus<br>
Content Model; (#PCDATA)<br>
Attributes: Class, ID, Cacheability, ValidityPeriod<br>
Usage:	This indicates the current status of the publisher in<br>
terms of amount of distraction   he is willing to accept.<br>
The following values are defined; "available", "silent",<br>
"in-car. "busy",<br>
D.4.2        Prefen-edContact<br>
Content Model: (#PCDATA)<br>
Attributes: Class, ID, Cachebility. ValidityPeriod<br>
Usage:	This indicates what is the current preferred contact<br>
method for the publisher. Following values are defined: "PHONE", "VOICE^MESSAGE", "MESSAGE", "MAIL", "NO CONTACT",<br><br>
D.4.3        PreferredDefaults<br>
Content Model: ((TimePeriod, PrefCont)*)<br>
Attributes: Class, ID, Cacheability, ValidityPeriod<br>
Usage:	This is presence metainformation that the publisher<br>
may send to presence server. The information is associated to a role as other presence information but this item is not available to subscribers. Instead it controls the values of the element 'PreferredContacf. It specifies a default preferred contact for given time periods. User specified time periods may overiap or a time period may even completely enclose another. The server changes the value of PreferredContact element according to the PreferredDefaults at the expiration of given periods. It however does not block a user changing the PreferredContact value directly. Also the user changing the PreferredContact value directly does not block the server changing it again when a period expires. The user may remove the default mechanism by sending this element with empty contents to the server.<br>
D.4.4        TimePeriod<br>
Content Model: (PeriodStart, PeriodEnd, RepetitionPeriod?, Period-Precedence)<br>
Attributes: None<br>
Usage:	This desribes the start of a period e.g. start time, the<br>
end of the period e.g. end time, the repetion period e.g. 'DAY' and the presedence of the period.<br>
D.4.5        PeriodStart<br>
Content Model: {#PCDATA) Attributes: None<br>
Usage:	This is the start period. It may be Time, Time-<br>
DayofWeek, Time-DayofMonth or a full date..<br><br>
PeriodEnd<br>
Content Model: (#PCDATA)<br>
Attributes: None<br>
Usage:	This is the start period. It may be Time, Time-<br>
DayofWeek, Time-DayofMonth or a full date. The resolution must be the same as in PeriodStart.<br>
RepetitionPeriod<br>
Content Model: (#PCDATA)<br>
Attributes: None<br>
Usage:	This gives the repetition period for the start-end. It must<br>
be one of the following values: "DAY", "WEEK", "MONTH". When this element is not included in the period description then it is assumed that no repetion is applied.<br>
PeriodPrecedence<br>
Content Model: (#PCDATA)<br>
Attributes: None<br>
Usage:	This element resolves the conflict between overiapping<br>
periods. It can have a numeric value between 0 and 9. Number 0 is the highest precedence. When two or more periods overiap then the server takes the contact preference associated with the highest precedence value.<br>
PrefCont<br>
Content Model: (#PCDATA)<br>
Attributes: None<br>
Usage:	This indicates what is the period associated default<br>
prefen-ed contact method for the publisher. It can have the same values as the element 'PreferredContact'.<br>
Local Conditions<br><br>
-OcalTime<br>
Content Model: (#PCDATA)<br>
Attributes: Class, ID, Cacheability, ValidityPeriod<br>
Usage:	This gives the local time of the publisher<br>
MeasuredLocation<br>
Content Model: (#PCDATA)<br>
Attributes: Class, ID, Cacheability. ValidityPeriod. Accuracy<br>
Usage:	This gives the measured position of the client device.<br>
The measurements may be either sensor based (e.g. GPS) or network based or combination of both. The attibute Accuracy gives indication of the average positioning accuracy achieved by the method. The content includes at least the lateral position (x- and y-coordinates) but may include also the vertical position. If the service provider supports 'ConvertedLocation* described below then the MeasuredLocation may be input information for the service provider conversion process e.g. map matching.<br>
ConvertedLocation<br>
Content Model: (#PCDATA)<br>
Attributes: Class, ID, Cacheability, ValidityPeriod<br>
Usage:	This information is typically originated from the service<br>
provider but may also originate from the publisher. It gives the location of the user given in a human understandable text form such as a name of a street. The information is derived by converting a measured position into this form by e.g. map matching.<br>
StatedLocation<br>
Content Model: (#PCDATA)<br>
Attributes: Class, ID, Cacheability. ValidityPeriod<br>
Usage:	This is the location of the publisher as stated by the<br>
publisher himself. The content is a short text string.<br><br>
UserEnvironment<br>
Content Model: (EnvAttributes+)<br>
Attributes: Class, ID, Cacheability, ValidityPeriod<br>
Usage:	This gives some environmental attributes about the<br>
user.<br>
EnvAttributes<br>
Content Model: (#PCDATA) Attributes: None<br>
Usage:	The attributes defined are: "INDOOR", "OUTDOOR",<br>
"QUIET", "NOISY". "ALONE". "IN_GROUP".<br>
Personal Status<br>
StatusText<br>
Content Model: {#PCDATA)<br>
Attnbutes: Class, ID. Cacheability, ValidityPeriod<br>
Usage:	This is a short text (about 30 characters) that the user<br>
may write.<br>
Statuslmage<br>
Content Model: (#CDATA}<br>
Attributes: Class, ID, Cacheability, ValidityPeriod. ImageType<br>
Usage:	This is an image the user may attach to his status<br>
information. It is carried in the XML content in a transfer encoded form e.g. base64. The ImageType attribute describes the content encoding of the image e.g. jpeg.<br>
StatusSound<br>
Content Model: (#CDATA)<br>
Attributes: Class, ID, Cacheability. ValidityPeriod. SoundType<br>
Usage:	This is a short (about 5 to 30 seconds) sound clip the<br>
user may attach to his status information. It is carried in the XML content in a transfer encoded form e.g. base64. The SoundType attribute describes the content encoding of the sound e.g. AMR. MP3, AAC. MIDI etc.<br><br>
Client Capabilities<br>
The client capabilities in the context of presence mean the capability of the device hosting the client for various types of human to human communication. This is very much different and simpler issue than the case of allowing an application software to take maximum advan-<br>
3 existing hw and sw capabilities of the client device. The classes of human to human communication are; messaging, e-mail, voice call and multimedia call. In particular presence is excluded from the communication classes. The purpose of presence is to make others aware of the communication means and other user attributes but not to be a two way communication means itself. For this reason the use of the term 'Client Capabilities' to classify presence      infor-<br>
somewhat misleading.<br>
The client capabilities are scoped with the network capabilities. This means for example that the publisher has the video call capability only when his client device has this capability AND the network he is currently roaming supports this capability. This makes the client capability information dynamic.<br>
MessagingCapabilities<br>
Content Model: (MessType*)<br>
Attributes: Class. ID, Cacheability, ValidityPeriod<br>
Usage:	This gives the dynamic messaging capability list of the<br>
client device. An empty list means that no messaging<br>
capabilities cun^ently exist.<br>
MessType<br>
Content Model: (#PCDATA)<br>
Attributes: None<br>
Usage:	This gives the messaging capability type of the client<br>
device. The content may be one of the following: "SMS", "MMS" or "X-messaae application name". The field message appUcation name is a device specific messaging method e.g. smart messaging.<br><br>
EmailClient<br>
Content Model: (EmailClientType*)<br>
Attributes: Class, ID, Cacheabiiity, ValidityPeriod<br>
Usage:	This gives the dynamic e-mail capabilities of the client<br>
device. An empty list means that no e-mail capabilities<br>
currently exist.<br>
EmailClientType<br>
Content Model: (#PCDATA)<br>
Attributes: None<br>
Usage:	This gives the e-mail client type of the client device.<br>
The content may be one of the following: "SMTP", "P0P3", "IMAP4" or "X-ma/7 application name\ The client software should not render the mail protocol names as such to the user. Instead the client software should understand the user device email environment and interpret these names in the scope of this email environment. The information presented to the user should be also meaningful to the user.<br>
VoiceCallCapability<br>
Content Model: (#PCDATA)<br>
Attributes: Class. ID, Cacheabiiity. ValidityPeriod<br>
Usage:	This gives the dynamic voice call capabilities of the<br>
client device. The content is one of the following: "NONE", •VOICE^CALU'. "RICH^VOICE.CALL".<br>
MultimediaCallCapabilities<br>
Content Model: (MMCap*)<br>
Attributes: Class, ID, Cacheabiiity, ValidityPeriod<br>
Usage:	This gives the dynamic one-way and two-way<br>
multimedia communication capabilities of the user. An empty list indicates that no capabilities currently exist.<br>
MMCap<br>
Content Model: (#PCDATA)<br><br>
Attributes: None<br>
Usage:	This gives the multimedia call capability type. It may be<br>
one of the following: "UPLINK_.VIDEO_STREAM(NG", "DOWNLINK^VIDEO^STREAMING", "VIDEO^CALl", "R1CH_V1DE0_^CALL".<br>
User Attributes<br>
This class contains both user defined and client specific presence<br>
data,<br>
UserPresenceltem<br>
Content Model: (#PCDATA)<br>
Attributes: Class, ID, Cacheability, ValidityPeriod, ExtRef, ExtRef-<br>
Usage:	This gives a means for the user to defined their own<br>
presence items. If more than one user specified presence item is defined for the same role then the use of ID attribute is mandatory. The content may be a short text. The optional attribute ExtRef is a URL of an external object referenced by this presence item. The URL may refer to another part of the multipart MIME that carries the XML-document of the presence item or it may be a reference to an extemal object. The optioanal attribute ExtRefChange may be used to indicate the subscribers that the external object has changed.<br>
ClientTypeRequest<br>
Content Model: (EMPTY)<br>
Attributes: Class, ID, Cacheability. ValidityPeriod<br>
Usage:	This is a special element used by the publisher to<br>
request the client types of his subscribers. When a publisher includes this element into his presence data for a given role then the server sends this to all the subscribers of the presence information with the PushPresence  message.  Optionally it may also be<br><br>
included in the Presenceltems message used by non-subscribers to request specific presence items. Thip element is not advertised in the Presencelnfo message. It is not a presence element that can be subscribed to. The presence server after having first time sent this item to the subscribers may periodically include this item also to further PushPresence messages to make sure that all the subscriber clients have this item. The clients upon receiving this item send their client types to the presence server. In addition a client should send it's type to the server every time the client is activated when this item is the    pres-) stored in the client. An alternative way of the publisher getting to know the client types of his subscribers would have been for the publisher to subscribe their client types. This however is a different business model. A publisher may not always want to be a subscriber of his own subscribers. This element allows the publisher to get the client types within the existing contractual frame between the publisher and the presence service provider. In addition this method mandates the subscriber client to send their types to the server. If the publisher would have used the subscription model to get the client types then the authorisation of this information to the publisher would have been at the discretion of the subscriber.<br>
ClientType<br>
Content Model: (ClientName, ClientManufacturer, ClientVersion)<br>
Attributes: Class, ID, Cacheability, ValidityPeriod<br>
Usage:	Knowledge of the subscriber client types is used by<br>
publishers to enable client specific extensions to the<br>
presence set. It does not make sense for a publisher to<br>
use these extension items if his subscriber clients are<br>
not able to decode them.<br>
A subscriber client sends the cliend type info to the presence sen/er<br>
using the UpdatePresence message.  The GroupID used  in the<br>
message belongs to the publisher's role and not to the subsriber's<br>
own role. This is an exception from the general rule that a user is<br><br>
allowed to update the presence information of his own role only. The<br>
presence server sends the information of this element to the    pub<br>
lisher using the PushPresence message. The GroupID used belongs to the pub<br>
lisher role. From the publisher point of view then he is getting presence informa<br>
tion from his own presence set.	'<br>
A publisher may include his own client type into his presence set. Then this information is handled like any other presence information and does not imply any special behaviour in presence servers or subsciber clients.<br>
ClientName<br>
Content Model: (#PCDATA) Attributes: None<br>
Usage:	This element gives the name of the presence client<br>
application<br>
ClientManufacture Content Model: (#PCDATA) Attributes: None<br>
Usage:	This element gives the name of the presence client<br>
manufacture<br>
ClientVersion<br>
Content Model: (#PCDATA)<br>
Attributes: None<br>
Usage:	This element gives the version of the client application.<br>
ClientPresenceltem<br>
Content Model: (ClientType, CliPresltem)<br>
Attributes: Class, ID, Cacheability, ValidityPeriod, ContentChange<br>
Usage:	This element is the publisher client application specific<br>
presence item. The ClientType is the client type of the publisher's presence client. No attributes are used in the ClientType item when used as part of this element If the publisher defines more than one client specific presence item then the use of the ID attribute is<br><br>
mandatory. The optional attribute ContentChange is a counter from 0 to 255. When used it is increased by one every time the content of the presence item changes. This provides an alternative means for the presence server to detect change in the content of a non-standard presence item. The other alternative would have been for the presence server to assume that the content changes every time this item is sent to the server with the same ID attribute. The sender behaves in this way when the ContentChange attribute is not used by the client. When two items with the same ID attribute have the same counter value in ContentChange then the content of these two items is the same.<br>
CliPresltem<br>
Content Model: (#PCDATA)<br>
Attributes: None<br>
Usage:	This element is the client specific presence extension.<br>
It's syntax and structure is assumed to be known to the client but not to the network elements.<br>
Extended Presence Service<br>
The extended presence service class is meant to provide a service provider specific extension to the presence service. Like the client application specific extension only the service end points (i.e. the publisher and the subscriber clients) need to be able to decode the extensions. It is possible that the presence server also understands the extensions but this is not mandated by this document. The difference between the client specific extension method and this method is that the service provider controlled clients do not need to implement the standard presence items. It is assumed that the presence items are completely defined by the service provider and there is a means to update the user device hosted clients with new features. One possible update method is sw downloading via air. If a service provider creates new types of presence items then he needs<br><br>
to update the existing clients to support these new types. The service provider controlled client communicates with the presence server directly and not via a standard presence client. A standard presence client ignores all elements of this class.<br>
An extended presence service uses primarily the elements of this class. It is allowed to use also the standard presence element definitions. It uses the standard presence protocol.<br>
D.9.1        ExtPresence<br>
Content Model: (#PCDATA)<br>
Attributes: Class, ID, Cacheability, ValidityPeriod, ContentChange<br>
Usage:	The use of ID attribute is mandatory if more than one<br>
presence item is defined by this mechanism. The optional ContentChange attribute is available also for this element. The syntax and represantation of the contents are not in the scope of this document. The presence servers and proxies should allow the contents to refer to objects carried in the same multipart MIME as the XML-documents containing this element.<br>
D.10	DTD for the presence content fomnat<br><br><br><br><br><br>
Class NMTOKEN #1MPL1ED ID PUBIDLITERAL #IMPL1ED Cacheability NMTOKEN #1MPL1ED ValidityPeriod NMTOKEN #IMPLIED DeviceName NMTOKEN #IMPLIED &gt;<br>
o.ELEMENT DeviceRoaming (#PCDATA) &gt;<br>
Class NMTOKEN #1MPLIED ID PUBIDLITERAL #IMPLIED Cacheability NMTOKEN #IMPLIED ValidityPeriod NMTOKEN #IMPLIED DeviceName NMTOKEN #IMPLIED &gt;<br><br>
Class NMTOKEN #IMPLIED ID PUBIDLITERAL #IMPLIED Cacheability NMTOKEN #IMPL1ED ValidityPeriod NMTOKEN #IMPLIED DeviceName NMTOKEN #IMPL1ED &gt;<br><br>
Class NMTOKEN #IMPLIED ID PUBIDLITERAL #1MPLIED Cacheability NMTOKEN #1MPL1ED ValidityPeriod NMTOKEN #tMPLIED &gt;<br><br><br>
Class NMTOKEN #IMPL1ED ID PUBIDLITERAL#IMPLIED Cacheabillty NMTOKEN #IMPLIED ValidityPeriod NMTOKEN #1MPL1ED &gt;<br>
Class NMTOKEN #IMPLIED ID PUBIDLITERAL #IMPLIED Cacheability NMTOKEN #IMPLIED ValidityPeriod NMTOKEN #IMPLIED &gt;<br>
o.ELEMENT TimePeriod (PeriodStart. PeriodEnd,<br>
Repetition Period?, PeriodPrecedence) &gt;<br><br><br><br><br><br><br>
Class NMTOKEN #IMPLIED ID PUBIDLITERAL #IMPLIED Cacheability NMTOKEN #IMPLIED<br><br>
ValidityPeriod NMTOKEN #IMPLIED &gt;<br><br>
Class NMTOKEN #IMPLIED ID PUBIDLITERAL#IMPLIED Cacheability NMTOKEN #IMPLIED ValidityPeriod NMTOKEN #IMPLIED Accuracy NMTOKEN #IMPLIED &gt;<br>
Class NMTOKEN #IMPL1ED ID PUBIDLITERAL#IMPLIED Cacheability NMTOKEN #1MPLIED ValidityPeriod NMTOKEN #IMPLIED &gt;<br>
o.ELEMENT StatedLocation (#PCDATA) &gt;<br>
Class NMTOKEN #1MPLIED ID PUBIDLITERAL#IMPLIED Cacheability NMTOKEN #1MPL1ED ValidityPeriod NMTOKEN #IMPLIED &gt;<br><br>
Class NMTOKEN #IMPL1ED ID PUBIDLITERAL #IMPLIED<br><br>
Cacheability NMTOKEN #IMPLIED ValidityPeriod NMTOKEN #IMPLIED &gt;<br><br><br>
Class NMTOKEN #IMPLIED ID PUBIDLITERAL #IMPLIED Cacheability NMTOKEN #IMPLIED ValidityPeriod NMTOKEN #IMPLIED &gt;<br><br>
Class NMTOKEN #IMPLIED ID PUBIDLITERAL #IMPLIED Cacheability NMTOKEN #IMPLIED ValidityPeriod NMTOKEN #IMPLIED ImageType NMTOKEN #1MPLIED &gt;<br><br>
Class NMTOKEN #IMPLIED ID PUBIDLITERAL #IMPL1ED Cacheability NMTOKEN #IMPLIED ValidityPeriod NMTOKEN #IMPLiED SoundType NMTOKEN #IMPLIED &gt;<br><br><br>
Class NMTOKEN #IMPLIED ID PUBIDLITERAL #IMPLIED Cacheability NMTOKEN #IMPL!ED ValidityPeriod NMTOKEN #IMPLIED &gt;<br><br><br>
Class NMTOKEN #IMPLIED ID PUBIDLITERAL #IMPLiED Cacheability NMTOKEN #IMPLIED ValidityPeriod NMTOKEN #IMPL1ED &gt;<br><br><br>
Class NMTOKEN #IMPLIED ID PUBIDLITERAL #1MPLIED Cacheability NMTOKEN #IMPLIED ValidityPeriod NMTOKEN #(MPLIED &gt;<br><br>
Class NMTOKEN #1MPL1ED ID PUBIDLITERAL #IMPLIED Cacheability NMTOKEN #IMPLIED<br><br>
VaiidityPeriod NMTOKEN #IMPLIED &gt;<br><br><br>
Class NMTOKEN #IMPLIED ID PUBIDLITERAL #1MPLIED Cacheability NMTOKEN #IMPL1ED VaiidityPeriod NMTOKEN #IMPLIED ExtRef PUBIDLITERAL #IMPLIED ExtRefChange NMTOKEN #IMPLIED &gt;<br><br>
Class NMTOKEN #IMPL1ED ID PUBIDLITERAL #IMPLIED Cacheability NMTOKEN #IMPLIED VaiidityPeriod NMTOKEN #IMPLIED &gt;<br><br><br>
(ELEMENT ClientType (ClientName, ClientManufacturer, ClientVer-<br><br><br><br>
on)<br><br>
&gt;<br><br>
lATTLIST ClientType<br>
Class NMTOKEN #IMPLIED ID PUBIDLITERAL #IMPLIED Cacheability NMTOKEN #1MPLIED VaiidityPeriod NMTOKEN #IMPLIED &gt;<br>
:!ELEMENT ClientName (#PCDATA) &gt;<br><br><br><br><br>
Class NMTOKEN #IMPLIED ID PUBIDLITERAL #IMPLIED Cacheability NMTOKEN #IMPLIED ValidityPeriod NMTOKEN #[MPLIED ContentChange NMTOKEN #IMPLIED &gt;<br><br><br>
Class NMTOKEN #IMPLIED ID PUBIDLITERAL #IMPLIED Cacheability NMTOKEN #IMPLIED ValidityPeriod NMTOKEN #IMPLIED ContentChange NMTOKEN #IMPLIED &gt;<br><br>
D.11	DTD for PresenceNames<br>
The DTD for PresenceNames is the same as for Presence except that only the presence item names and attributes are included. No presence values are used.<br><br><br><br><br><br>
Class NMTOKEN #IMPLIED ID PUBIDLITERAL#IMPLiED Cacheability NMTOKEN #IMPLIED Validity Period NMTOKEN #IMPLIED DeviceName NMTOKEN #IMPLIED &gt;<br>
o.ELEMENT DeviceRoaming (EMPTY) &gt;<br>
Class NMTOKEN #IMPLIED ID PUBIDLITERAL #IMPLIED Cacheability NMTOKEN #1MPLIED VaiidityPeriod NMTOKEN #1MPLIED DeviceName NMTOKEN #IMPLIED &gt;<br><br>
Class NMTOKEN #IMPLIED ID PUBIDLITERAL #!MPL1ED Cacheability NMTOKEN #IMPLIED VaiidityPeriod NMTOKEN #IMPLIED<br><br>
DeviceName NMTOKEN #IMPL1ED &gt;<br><br>
Class NMTOKEN #IMPLIED ID PUBIDLITERAL#IMPUED Cacheabllity NMTOKEN #IMPUED VaiidityPeriod NMTOKEN #IMPLIED &gt;<br><ielement preferredcontact><br><br><if></if><br>
Class NMTOKEN #1MPLIED ID PUBIDLITERAL#IMPLIED Cacheability NMTOKEN #IMPLIED VaiidityPeriod NMTOKEN #IMPLIED &gt;<br>
LEMENT PreferredDefaults (EMPTY) &gt;<br><br>
Class NMTOKEN #IMPUED ID PUBIDLITERAL #IMPLIED Cacheability NMTOKEN #IMPLIED VaiidityPeriod NMTOKEN #IMPL1ED &gt;<br>
ELEMENT LocalTime (EMPTY) &gt;<br>
Class NMTOKEN #1MPLIED ID PUBIDLITERAL #IMPLIED Cacheability NMTOKEN #IMPLIED<br><br>
ValidityPeriod NMTOKEN #IMPLIED &gt;<br>
OELEMENT MeasuredLocation (EMPTY) &gt;<br>
Class NMTOKEN #IMPLIED ID PUBIDLITERAL #IMPLIED Cacheability NMTOKEN #IMPL1ED ValidityPeriod NMTOKEN #IMPL1ED Accuracy NMTOKEN #IMPLIED &gt;<br><br>
Class NMTOKEN #IMPLIED ID PUBIDLITERAL #IMPLIED Cactieability NMTOKEN #IMPLIED ValidityPeriod NMTOKEN #IMPLIED &gt;<br><br><. statedlocation></.>
Class NMTOKEN #IMPLIED ID PUBIDLITERAL #IMPLIED Cacheability NMTOKEN #IMPLIED ValidityPeriod NMTOKEN #IMPLIED &gt;<br><br>
Class NMTOKEN #IMPLIED ID PUBIDLITERAL #IMPUED<br><br>
Cacheability NMTOKEN #IMPLIED ValidityPeriod NMTOKEN #IMPLIED &gt;<br><br>
Class NMTOKEN #IMPLIED ID PUBIDL1TERAL#IMPUED Cacheability NMTOKEN #iMPLlED ValidityPeriod NMTOKEN #1MPUED &gt;<br>
Class NMTOKEN #IMPLIED ID PUBIDLITERAL #IMPL1ED Cacheability NMTOKEN #IMPLIED ValidityPeriod NMTOKEN #IMPL1ED ImageType NMTOKEN #IMPLIED &gt;<br><br>
Class NMTOKEN #1MPL1ED ID PUBIDLITERAL #IMPL1ED Cacheability NMTOKEN #1MPL1ED ValidityPeriod NMTOKEN #IMPL1ED SoundType NMTOKEN #1MPL1ED &gt;<br>
o.ELEMENT MessagingCapabilities (EMPTY) &gt;<br><br>
Class NMTOKEN #1MPLIED ID PUBIDLITERAL #IMPL1ED Cacheability NMTOKEN #1MPLIED ValidityPeriod NMTOKEN #1MPLIED &gt;<br>
o.ELEMENT EmailClient (EMPTY) &gt;<br>
Class NMTOKEN #IMPLIED ID PUBIDLITERAL #IMPLIED Cacheability NMTOKEN #IMPL1ED ValidityPeriod NMTOKEN #IMPL1ED &gt;<br><br>
Class NMTOKEN #IMPL1ED ID PUBIDLITERAL #IMPLIED Cacheability NMTOKEN #IMPLIED ValidityPeriod NMTOKEN #IMPLIED &gt;<br><br>
Class NMTOKEN #IMPLIED ID PUBIDLITERAL #1MPL1ED Cacheability NMTOKEN #1MPLIED ValidityPeriod NMTOKEN #IMPLIED &gt;<br><br><br>
Class NMTOKEN #iMPLIED ID PUBIDLITERAL #IMPLIED Cacheability NMTOKEN #IMPLiED ValidityPeriod NMTOKEN #IMPLIED ExtRef PUBIDLiTERAL #IMPLIED ExtRefChange NMTOKEN #IMPLIED &gt;<br>
.'ELEMENT CIlentType (EMPTY)<br><br><br>
Class NMTOKEN #IMPL!ED ID PUBIDLITERAL #IMPLIED Cacheability NMTOKEN #IMPLIED ValidityPeriod NMTOKEN #IMPLIED &gt;<br>
.'ELEMENT ClientPresenceltem (EMPTY) &gt;<br><br>
Class NMTOKEN #IMPLIED ID PUBIDLITERAL #IMPLIED Cacheability NMTOKEN #IMPLIED ValidityPeriod NMTOKEN #IMPLIED ContentChange NMTOKEN #IMPLIED &gt;<br><br>
Class NMTOKEN #IMPLIED ID PUBIDLITERAL #(MPLIED Cacheability NMTOKEN #IMPLIED ValidityPeriod NMTOKEN #IMPLIED ContentChange NMTOKEN #(MPLIED &gt;<br><br><br>
It will be evident to those skilled in the art that as technology advances, the inventive concept can be implemented in many different ways Therefore the invention and its embodiments are not limited to the above examples but may vary within the scope and spirit of the appended claims.<br><br><br><br>
CLAIMS<br>
1.	A mobile messaging system comprising at least one client device<br>
and a server, wherein<br>
the client device comprises means for transmitting presence information as presence attributes to the server and means for receiving presence attributes from the server, said presence information being categorized by a plurality of presence attribute types identified by attribute name, and<br>
the server comprises means for maintaining presence information based on the received presence attributes, characterized   in that<br>
the client device comprises means for adding a qualifier to a presence attribute, the qualifier comprising one or more parameters specifying the use of the attribute, and<br>
the client device comprises means for processing a received presence attribute according to the qualifier parameters in said received attribute.<br>
2.	A system according to claim 1,characterized   in that<br>
the client device comprises means for specifying in the qualifier the presentation settings of the attribute, and<br>
the client device comprises means for presenting the received attribute on the basis of the qualifier.<br>
3.	A system according to claim 1.character! zed  in that<br>
the client device comprises means for specifying in said qualifier the application to which the attribute should be addressed, and<br>
the client device comprises means for addressing the received attribute to the application indicated by the qualifier,<br>
4.	A system according to any one of the preceding claims, char<br>
acterized   In that<br>
the server comprises means for determining on the basis of the qualifier whether to send the attribute to one or more client devices.<br>
5.	A mobile messaging system comprising at least one client device<br>
and a server, wherein<br>
the client device comprises means for transmitting presence information as presence attributes to the server and means for receiving presence at-<br><br>
tributes from the server, said presence information being categorized by a plurality of presence attribute types identified by attribute name, and<br>
the server comprises means for maintaining presence information based on received presence attributes, characterized   in that<br>
the client device comprises means for composing a presence information attribute identified by a combination of an authorize, an attribute name and a qualifier, the authorizer specifying the body responsible for maintaining the attribute and the qualifier specifying the use of the attribute,<br>
the server comprises means for searching for an already stored attribute containing same identifiers as a received attribute and means for replacing said already stored attribute with said received attribute if the combination of identifiers of said received attribute is identical to that of said already stored attribute or otherwise adding said received attribute, and<br>
the client device comprises means searching for an already stored attribute containing same identifiers as a received attribute and means for replacing said already stored attribute with said received attribute if the combination of identifiers of said received attribute is identical to that of said already stored attribute or otherwise adding said received attribute.<br>
6^ mobile messaging system according to any one of the preceding claims, characterised in that<br>
the presence attributes received from the client device by the server are stored in a database according to a publisher user in association with a presence group.<br>
7.	A mobile messaging system according to any one of the preceding<br>
claims, characterized in that<br>
each presence attribute is part of an item including an attribute name element and an attribute value.<br>
8.	A mobile messaging system according to claim 7, character<br>
ize d in that<br>
said name element includes an authority string indicative of an authority responsible for keeping said name element and attribute value unique.<br><br>
9.	A mobile messaging system according to any one of the preceding<br>
claims, characterized in that<br>
a presence set comprises one or more presence attributes belonging to a single publisher role of a publisher user in association with a single presence group.<br>
10.	A mobile messaging system according to claim 9, c h a r a c t e r -<br>
i z e d in that<br>
a user of said client device as a publisher is able to use said client device or more than one client device in more than one publisher role.<br>
11.	A mobile client device for mobile messaging system, said client<br>
device comprising<br>
means for transmitting presence information as presence attributes to a server, said presence information being categorized by a plurality of presence attribute types identified by attribute name, characterized in that said client device further comprises<br>
means for adding a qualifier to a presence attribute, the qualifier comprising one or more parameters specifying the use of the attribute.<br>
12.	A mobile client device for mobile messaging system, said client<br>
device comprising means for receiving presence attributes from a server, said<br>
presence infonnation being categorized by a plurality of presence attribute types<br>
identified by attribute name<br>
characterized in that said client device further comprises means for adding a qualifier to a presence attribute, the qualifier<br>
comprising one or more parameters specifying the use of the attribute, and<br>
means for processing a received presence attribute according to the<br>
qualifier parameters in said received attribute.<br>
13.	A mobile client device for mobile messaging system, said client<br>
device comprising means for transmitting presence information as presence at<br>
tributes to the server, and<br>
means for receiving presence attributes from the server, said presence information being categorized by a plurality of presence attribute types<br><br>
identified by attribute name, characterized in that said client device fur-ther comprises<br>
means for composing a presence information attribute identified by a combination of an authorizer, an attribute name and a qualifier, the authorizer specifying the body responsible for maintaining the attribute and the qualifier specifying the use of the attribute,<br>
means for searching for an already stored attribute containing same<br>
identifiers as a received attribute, and<br>
means for replacing said already stored attribute with said received attribute if the combination of identifiers of said received attribute is identical to that of said already stored attribute or otherwise adding said received attribute.<br>
14.	A mobile client device according to any one of the claims 11 -13.<br>
characterized in that<br>
each presence attribute is part of an item including an attribute name element and an attribute value.<br>
15.	A mobile client device according to claim 14, characterized<br>
in that<br>
said name element includes an authority string indicative of an authority responsible for keeping said name element and attribute value unique.<br>
16.	A mobile client device according to any one of the claims 11 -15,<br>
characterized in that<br>
a presence set comprises one or more presence attributes belonging to a single publisher role of a publisher user in association with a single presence group.<br>
17.	A mobile client device according to claim 16,characterized<br>
in that<br>
a user of said mobile client device as a publisher is able to use said client device or more than one client device in more than one publisher role.<br>
18.	A server for a mobile messaging system, said server comprising<br>
means for maintaining presence information based on received presence attrib<br>
utes, said presence information being categorized by a plurality of presence at-<br><br>
tribute types identified by attribute name, characterized in that said server further comprises<br>
means for searching for an already stored attribute containing same identifiers as a received attribute, and<br>
means for replacing said already stored attribute with said received attribute if the combination of identifiers of said received attribute is identical to that of said already stored attribute or otherwise adding said received attnbute.<br>
19.	A server according to claim 18, characterized in that<br>
the presence attributes received from a client device by the server is stored in a database according to a publisher user in association with a presence group.<br>
20.	A server according to claim 18 or 19, characterized in that<br>
each presence attribute is part of an item including an attribute name element<br>
and an attribute value.<br>
21 .A server according to claim 20, characterized in that said name element includes an authority string indicative of an authority responsible for keeping said name element and attribute value unique.<br>
22.	A server according to any one of the claims 18-21,charac<br>
terized in that<br>
a presence set comprises one or more presence attributes belonging to a single publisher role of a publisher user in association with a single presence group.<br>
23.	A server according to claim 22, characterized in that<br>
a user of a client device in communication with said server acting as a publisher is able to use said client device or more than one client device in more than one publisher role.<br>
24- A presence system, comprising:<br>
at least one physical device having at least one presence client for enabling a presence user to interact with the system as a publisher or a subscriber; and<br><br>
a server for maintaining valid values of presence sets of attributes of a publisher for access by subscribers according to associated presence groups,<br>
25.	A presence system according to claim 24, characterized in that each attribute is part of an item including an attribute name element and an attribute value.<br>
26.	A presence system according to claim 25, characterized in that said name element includes a qualifier having information related to attribute usage.<br>
27.	A presence system according to claim 26, characterized in that said name element includes an authority string indicative of an authority responsible for keeping said name element and attribute value unique.<br><br>
28.	A presence system according to any of the claims 24 - 27, characterized in that a presence set comprises one or more attributes belonging to a single publisher role in association with a single presence group.<br>
29.	A presence system according to claim 28, c h a r a c t e r i z e d in that said user interacting with said system as a publisher is able to use said presence client or more than one presence client in more than one publisher role.<br>
30.	A presence system according to claim 28, c h a r a c t e r i z e d In that each attribute is part of an item including an attribute name element an attribute value,<br>
31.	A presence system according to any one of the claims 24 - 30, wherein said at least one physical device is a mobile physical device.<br>
32.	A computer program embodied in a computer-readable medium for storage in a physical device, characterized in that<br>
the program is a presence client program for enabling a presence user to interact with a presence system as a publisher of at least one presence<br><br>
set of attributes for access by one or more subscribers according to an associated at least one presence group.<br>
33.	The presence client program according to claim 32, charac<br>
terized in that the program enables a presence user to interact with the<br>
presence system as a subscriber to at least one set of attributes associated with<br>
a presence group in which the subscriber is a member.<br>
34.	The presence client program according to claim 32 or 33,<br>
characterized in that each attribute is part of an item including an attrib<br>
ute name element and an attribute value.<br>
35.	The presence client program according to claim 34. characterized in that said name element includes a qualifier having information related to attribute usage.<br>
36.	The presence client program according to claim 35, characterized   in that said name element includes an authority string indicative of an authority responsible for keeping said name element and attribute value unique.<br>
37.	The presence client program according to any one of the claims 32-36, characterized in that a presence set comprises one or more attributes belonging to a single publisher role in association with a single presence group.<br>
38.	The presence client program according to claim 37, characterized   in that<br>
said user interacting with said system as a publisher is able to use said presence client program or more than one presence client program in more than one publisher role.<br>
39.	The presence client program according to claim 37, charac<br>
terized   in that<br>
each attribute is part of an item including an attribute name element and an attribute value.<br><br>
40.	The presence client program according to any of the claims 32 -<br>
39, characterized in that the physical device is a mobile physical device.<br>
41.	A physical device having a computer program embodied in a computer-readable medium stored therein, characterized in that the program is a presence client program according to any of the claims 32 - 40.<br>
42.	A data structure embodied in a computer-readable medium for storage in a physical device, characterized in that<br>
the data stmcture is a presence database for storing valid values of presence sets of attributes of one or more publishers for access by subscribers according to presence groups associated with said presence sets.<br>
43.	A data structure according to claim 42. c h a r a c t e r i z e d in<br>
that<br>
each attribute is part of an item including an attribute name element and an attribute value.<br>
44.	A data structure according to claim 43, characterized in<br>
that<br>
said name element includes a qualifier having information related to attribute usage.<br>
45.	A data structure according to claim 44, characterized in<br>
that<br>
said name element includes an authority string indicative of an authority responsible for keeping said name element and attribute value unique.<br>
46.	A data structure according to any of the claims 42 - 45, c h a r-<br>
acterized In that<br>
a presence set comprises one or more attributes belonging to a single publisher role in association with a single presence group.<br>
47.	A data structure according to any of the claims 42 - 46, c h a r-<br>
acterized in that<br><br>
a user interacting with said physical device as a publisher is able to use said data structure to publish more than one publisher role, each role having distinct presence sets in association with distinct presence groups.<br>
48.	A data structure according to any of the claims 42 - 47, c h a r-a c t e r i z e d in that said physical device is a mobile device.<br>
49.	A physical device having a data structure embodied in a computer-readable medium stored therein, characterized in that the data structure is a presence data structure according to any of the claims 42 - 48.<br><br>
A mobile messaging system substantially as herein described with reference to the accompanying drawings.<br>
A presence system substantially as herein described with reference to the accompanying drawings.<br><br></ielement></ielement></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTc1Ni1jaGVucC0yMDAzLWFic3RyYWN0LnBkZg==" target="_blank" style="word-wrap:break-word;">1756-chenp-2003-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTc1Ni1jaGVucC0yMDAzLWNsYWltcyBkdXBsaWNhdGUucGRm" target="_blank" style="word-wrap:break-word;">1756-chenp-2003-claims duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTc1Ni1jaGVucC0yMDAzLWNsYWltcyBvcmlnaW5hbC5wZGY=" target="_blank" style="word-wrap:break-word;">1756-chenp-2003-claims original.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTc1Ni1jaGVucC0yMDAzLWNvcnJlc3BvbmRuZWNlLW90aGVycy5wZGY=" target="_blank" style="word-wrap:break-word;">1756-chenp-2003-correspondnece-others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTc1Ni1jaGVucC0yMDAzLWNvcnJlc3BvbmRuZWNlLXBvLnBkZg==" target="_blank" style="word-wrap:break-word;">1756-chenp-2003-correspondnece-po.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTc1Ni1jaGVucC0yMDAzLWRlc2NyaXB0aW9uKGNvbXBsZXRlKSBkdXBsaWNhdGUucGRm" target="_blank" style="word-wrap:break-word;">1756-chenp-2003-description(complete) duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTc1Ni1jaGVucC0yMDAzLWRlc2NyaXB0aW9uKGNvbXBsZXRlKSBvcmlnaW5hbC5wZGY=" target="_blank" style="word-wrap:break-word;">1756-chenp-2003-description(complete) original.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTc1Ni1jaGVucC0yMDAzLWRyYXdpbmdzLnBkZg==" target="_blank" style="word-wrap:break-word;">1756-chenp-2003-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTc1Ni1jaGVucC0yMDAzLWZvcm0gMS5wZGY=" target="_blank" style="word-wrap:break-word;">1756-chenp-2003-form 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTc1Ni1jaGVucC0yMDAzLWZvcm0gMTkucGRm" target="_blank" style="word-wrap:break-word;">1756-chenp-2003-form 19.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTc1Ni1jaGVucC0yMDAzLWZvcm0gMjYucGRm" target="_blank" style="word-wrap:break-word;">1756-chenp-2003-form 26.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTc1Ni1jaGVucC0yMDAzLWZvcm0gMy5wZGY=" target="_blank" style="word-wrap:break-word;">1756-chenp-2003-form 3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTc1Ni1jaGVucC0yMDAzLWZvcm0gNS5wZGY=" target="_blank" style="word-wrap:break-word;">1756-chenp-2003-form 5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTc1Ni1jaGVucC0yMDAzLXBjdC5wZGY=" target="_blank" style="word-wrap:break-word;">1756-chenp-2003-pct.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="201496-spectra-insert-clamping-and-setting-system.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="201498-a-method-for-the-preparation-of-compounds-for-making-emamectin.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>201497</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>1756/CHENP/2003</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>08/2007</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>23-Feb-2007</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>02-Aug-2006</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>07-Nov-2003</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>M/S. NOKIA CORPORATION</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>Keilalahdentie 4, FIN-02150 Espoo</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>SALOMÄKI, Ari</td>
											<td>Ojavainionkatu 10 D 28, FIN-33710 Tampere</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04L12/58</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/FI2002/000403</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2002-05-10</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>60/290,123</td>
									<td>2001-05-11</td>
								    <td>U.S.A.</td>
								</tr>
								<tr>
									<td>2</td>
									<td>20012158</td>
									<td>2001-11-07</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/201497-a-mobile-messaging-system by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 01:22:26 GMT -->
</html>
