<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/223991-method-and-device-for-gain-quantization-in-variable-bit-rate-wideband-speech-coding by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 04:03:53 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 223991:METHOD AND DEVICE FOR GAIN QUANTIZATION IN VARIABLE BIT RATE WIDEBAND SPEECH CODING</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">METHOD AND DEVICE FOR GAIN QUANTIZATION IN VARIABLE BIT RATE WIDEBAND SPEECH CODING</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>The present invention relates to a gain quantization method and device for implementation in a technique for coding a sampled sound signal processed, during coding, by successive frames of L samples, wherein each frame is divided into a number of subframes and each subframe comprises a number N of samples, where N&lt;L. In the gain quantization method and device, an initial pitch gain is calculated based on a number f of subframes, a portion of a gain quantization codebook is selected in relation to the initial pitch gain, and pitch and fixed-codebook gains are jointly quantized. This joint quantization of the pitch and fixed-codebook gains comprises, for the number f of subframes, searching the gain quantization codebook in relation to a search criterion. The codebook search is restricted to the selected portion of the gain quantization codebook and an index of the selected portion of the gain quantization codebook best meeting the search criterion is found.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td> <br><br>
METHOD AND DEVICE FOR GAIN QUANTIZATION IN VARIABLE BIT RATE WIDEBAND SPEECH CODING<br>
FIELD OF THE INVENTION<br>
The present invention relates to an improved technique for digitally encoding a sound signal, in particular but not exclusively a speech signal, in view of transmitting and synthesizing this sound signal.<br>
BACKGROUND OF THE INVENTION<br>
Demand for efficient digital narrowband and wideband speech coding techniques with a good trade-off between the, subjective quality and bit rate is increasing in various application areas such as teleconferencing, .multimedia, and wireless communications. .Until recently, telephone bandwidth constrained into a range of 200-3400 Hz has mainly been used in speech coding applications. However; wideband speech applications provide increased intelligibility and naturalness in communication compared to the conventional telephone bandwidth. A bandwidth in the range 50-7000 Hz has been found sufficient for delivering a good5 quality giving an impression of face-to-face communication. For general audio signals, this. bandwidth gives an acceptable subjective quality, but is still lower than the quality of FM radio' or GD that operate in the ranges of 20-16000 Hz and 20-20000 Hz, respectively.<br>
A speech encoder converts a speech signal into a digital bit stream that is transmitted over a communication channel or stored in a storage medium. The<br><br>
speech signal is digitized, that is, sampled and quantized with usually 16-bits per sample. The speech encoder has the role of representing these digital samples with a smaller number of bits while maintaining a good subjective speech quality. The speech decoder or synthesizer operates on the transmitted or stored bit stream and converts it back to a sound signal.<br>
Code-Excited Linear Prediction (CELP) coding is one of the best prior art techniques for achieving a good compromise between the subjective quality and bit rate. This coding technique constitutes a basis for several speech coding standards both in wireless and wire line applications. In CELP codings the:sampled speech signal is processed in successive blocks of L samples usually called frames, where L is a predetermined number corresponding typically to 10-30 ms. A linear -prediction (LP) filter is computed and transmitted every frame. The computation of the LP filter typically needs a lookahead, i.e. a 5-15 ms speech segment from the subsequent frame. The Z-sample frame is divided into smaller blocks called subfram.es. Usually the nuiriber of subframes is three or four resulting in 4-10 ms subframes. In each subfiame, an excitation signal-is usually obtained from two components, the past excitation and the innovative fixed-Sbdebook excitation. The component formed from the past excitation is often referred to as the adaptive codebook or pitch excitation. The parameters characterizing this excitation signal are coded and transmitted to the decoder, where the reconstructed excitation signal is uSed as the input of the LP filter.<br>
In wireless systems using Code Division Multiple Access (CDMA) technology, the use of source-controlled variable bit rate (VBR) speech coding significantly improves the capacity of the system. In source-controlled VBR coding, the codec operates at several bit rates, and a rate, selection module is used to determine which bit rate is used for encoding each speech frame based on the nature of the speech frame (e.g.; voiced,, unvoiced, transient, background noise, etc.). The goal is to attain the best speech quality at a given average bit rate, also<br><br>
referred to as average data rate (ADR). The codec can operate with drtterent modes by tuning the rate selection module to attain different ADRs in the different modes of operation where the codec performance is improved at increased ADRs. The mode of operation is imposed by the system depending on channel conditions. This enables the codec with a mechanism of trade-off between speech quality and system capacity. In CDMA systems (e.g. CDMA-one and CDMA2000), typically 4 bit rates are used and they are referred to as full-rate (FR), half-rate (HR)3 quarter-fate (QR), and eighth-rate (ER). In this system two rate sets are supported referred to as Rate Set I and Rate Set H. In Rate Set II, a variable-rate codec with rate selection mechanism operates at source-coding bit rates of 13.3 (FR), 62 (HR), 2.7 (QR), and 1.0 (ER) kbit/s, corresponding to gross bit rates of 14.4, 7.2, 3.6, and 1.8 kbit/s (with somebits added for error detection).<br>
Typically, in VBR coding for CDMA systems, the eighth-rate is used for encoding frames without speech activity (silence or noise-only frames). When the frame is stationary voiced or stationary unvoiced^ half-rate or quarter-rate are used depending on the mode of operation. When half-rate, is used for the stationary unvoiced, frames, a .CELP model without the pitch codebook is used. When the half-rate is used in case of stationary voiced frames, signal modification is used to enhance the periodicity and reduce the number of bits for the. pitch indices. If the mode of operation imposes a quarter-rate, no waveform matching is usually possible as the number of bits is insufficient and some parametric coding is generally applied. Full-rate is used for onsets, transient frames, and mixed voiced frames (a typical CELP model is usually used). In addition to the source controlled codec operation in CDMA systems, the system can limit the maximum bit rate in some speech frames in order to send in-band signaling information (called dim-and-burst signaling) or during bad channel conditions (such as near the cell boundaries) in order to improve the codec robustness. This is referred to as half-rate max. When the rate selection module chooses the frame to be; encoded as a full-rate frame and the system imposes for example HR frame, the speech<br><br>
performance is degraded since the dedicated-HRr-modes are-not-capable-of-efficiently encoding onsets and transient" signals: Another generic HR coding modei is designed to cope with these special-cases.-<br>
 ■ An adaptive multi-rate wideband (AMR-WB) speech codec was adopted by the" ITU-T (International Telecommunications Union - Telecommunication Standardization Sector) for several wideband speech telephony and services and by 3GPP; (Third Generation Partnership Project) for GSM and W-CDMA third generation wireless systems. AMR-WB codec consists of nine bit rates, namely 6.60, 8.85,12.65,14.25,15.85; 1&amp;25&gt;T9.85;23;05,and 23.85 kbit/s. Designing an AMR-WB-based source controlled VBR codec for CDMA systems has the advantage of enabling the interopfcration between CDMA and other systems using the AMR-WB codec. The AMR-WB bit rate of 12.65 kbit/s is the closest rate that can fit in the 13:3 kbit/s full-irate of Rate S&amp;t R. This rate can be used as the common rate between a CDMA wideband VBR codec and AMR-WB to enable the interoperability without the heed for transcoding (which degrades the speech quality). Lower rate coding types must be designed specifically for the CDMA VBR wideband solution to enable art efficient operation in the Rate Set II frameworL The Codec then can operate in few CDMA-specific modes using, all rates but it will have a mode that enables interoperability with systems using the AMR-WB codec.<br>
.In VBR coding based on CELP, typically all classes, except for the unvoiced and inactive speech classes, use both a pitch (or adaptive) codebook and an innovation (or fixed) codebook to represent the excitation signal. Thus the encoded excitation consists of the pitch deiay (or pitch codebook index), the pitch gain, the innovation codebook index, and the innovation codebook gain. Typically, the pitch and innovation gains are jointly quantized, or vectot quantized, to reduce the bit rate. If individually quantized, the pitch gain requires 4 bits and the innovation codebook gain requires 5 or 6 bits. However, when jointly quantized, 6<br><br>
or 7 bits are sufficient (saving 3 bits per 5 ms subframe is equivalent to saving 0.6 kbit/s). In general, the quantization table, or codebook, is trained using all types of speech segments (e.g. voiced, unvoiced, transient, onset, offset, etc.).  In the context of VBR coding, the half-rate coding models are usually class-specific. So different half-rate models are designed for different signal classes (voiced, unvoiced, or generic). Thus new quantization tables need to be designed for these class-specific coding models.<br>
SUMMARY OF THE INVENTION<br>
The present invention relates to a gain (quantization method for implementation in a technique for coding a sampled sound signal processed, during coding, by successive frames of L samples, wherein:<br>
-	each frame is divided into a number of subframes;<br>
-	each subframe comprises a number N of samples, where N<l and></l>
-	the gain quantization method comprises: calculating  an initial pitch gain based on a number / of subframes; selecting a portion of a gain quantization codebook in relation to the initial pitch gain; identifying the selected portion of the gain quantization codebook using at least one bit per successive group off subframes; and jointly quantizing pitch andfixed-codebook gains.<br>
The joint quantization of the pitch and fixed-codebook gains comprises, for the number/of subframes^ searching the gain quantization codebook in relation to a search criterion. Searching of the gain quantization codebook. comprises restricting the codebook search to the selected portion of the gain quantization codebook and finding an index of the selected portion of the gain quantization codebook best meeting the search criterion.<br><br>
The pfesent invention also relates .TO;.a- gam quantisation device implementation in a system for coding a sampled" sound signal processed* during coding, by successive frames of L samples, wherein: ^    each frame is divided into a number of subframes;<br>
-	each subfrariie comprises a number N of samples* where N<l and></l>
-	• the gain quantization device comprises: means for calculating an initial pitch<br>
gain based on a number/of subframes; means for selecting a portion of a gain<br>
quantization codebook in relation to the initial pitch gain; means for identifying<br>
the selected portion of the gain quantization codebook using at least one bit per<br>
successive group of'/subframes; and means for jointly quantizing pitch and<br>
fixed-codebook gains.<br>
The means for jointly quantizing the pitch arid fixed-codebook gains comprises<br>
means for searching the gain quantization codebook in relation to a search<br>
criterion. The latter searching means comprises rrieans for restricting, for the<br>
number/of subframes, the codebobk search to the selected portion of the gain<br>
quantization, codebook, and means for finding an index of the selected portion of<br>
the gain quantization codebook best meeting the search criterion. -<br>
; The present invention is further concerned with a gain quantization device for implementation in a technique for coding a sampled sound signal processed, during coding, by successive frames of L samples, wherein:<br>
-	each frame is divided into a number of subframes<br>
-	each subframe comprises a number N of samples, where N<l and></l>
-	the gain quantization device comprises: a calculator of an initial pitch gain based on a number/of subframes; a selector of a portion of a gain quantization codebook in relation to the initial pitch gain; an identifier of the selected portion of the gain quantization codebook using at least one bit per successive group of/subframes; and a joint quantizer for jointly quantizing pitch and fixed-codebook gains.<br><br>
The joint quantizer comprises a searcher of the selected portion of the gain quantization codebook in relation to a search criterion, this searcher of the gain quantization codebook restricting the codebook search to the selected portion of the gain quantization codebook and finding an index of the selected portion of the gain quantization codebook best meeting the search criterion.<br>
The present invention is still further concerned with a gain quantization method,if or implementation in a technique for coding a sampled sound signal processed, during coding, by successive frames of L samples', wherein each frame is divided into a number of subframes, and each subframe comprises a number N of samples, where N<l. this gain quantization method comprises:></l.>
calculating an initial pitch gain based on a period K longer than the subframe;<br>
selecting a portion of a gain quantization codebook in relation to the initial pitch gain;<br>
identifying the selected portion of the. gain quantization codebook using at least one bit per successive group of/subframes; and     -;<br>
jointly quantizing pitch and fixed-codebook gains, this joint quantization of the pitch andfixed-codebqok gains comprising:<br>
-    searching the gain quantization,codebook in relation to a search<br>
criterion that searching of the gain quantization codebook<br>
■ comprising restricting the codebook, search to the selected<br>
portion of the gain quantization codebook and finding an index<br>
of the selected portion of the; gain quantization codebook best<br>
•    meeting the search criterion; and<br>
calculating an initial pitch gain based on a period K longer than the<br>
subframe comprises using the following relation:,<br><br><br>
where TQL is an open-loop pitch delay and sw(n) is a signal derived from a perceptually weighted version of the sampled sound signal.<br>
Finally, the present invention relates to a gain quantization device for implementation in a technique for coding a sampled sound signal processed, during" coding, by successive frames of L samples, wherein each frame is divided into a number of subframes, and each subframe comprises a number N of samples, where<br>
N<l. the gain quantization devicd comprises:></l.>
a calculator of an initial pitch gain based on a period K longer than the subframe;<br>
■ a selector of a portion of a gain quantization codebook in relation to the initial pitch gain;<br>
an identifier of the selected portion of the gain quantization codebook using at least one bit per successive group of/subframes; and<br>
a joint quantizer for jointlyquantizing pitch and fixed-codebook gains, this joint quantizer comprising:        <br>
a searcher of the selected portion of the gain quantization codebook in relation to a Search criterion, this searcher .of the gain quantization codebook restricting the codebook search to the selected portion of the gain quantization codebook and finding an index of the selected portion of the gain quantization codebook best meeting the search criterion; and the calculator of the initial pitch gaiii comprises the following relation used to calculate the initial pitch gain g <br><br><br>
where TOL, is an open-loop pitch delay and sw(n) is a signal derived,from a perceptually weighted version of the sound signal.<br>
The foregoing and other objects, advantages and features of the present invention will become more apparent upon reading of the following non restrictive description'of illustrative embodiments thereof, given by way of example only with reference to the accompanying drawings.<br>
BRIEF DESCRIPTION OF THE DRAWINGS<br>
In the appended drawings:<br>
Figure 1 is a schematic block diagram of a speech copnnunication system illustrating the context in which speech encoding and decoding devices in accordance with the present invention are used;<br>
Figure. 2 is functional block diagram of the adaptive multi-rate wideband (AMR-WB) encoder;<br>
Figure 3 is a schematic, flow chart of a non-restrictive illustrative embodiment of the method according to the present invention; and<br>
Figure 4 is a schematic  flow chart of a non-restrictive illustrative embodiment of the device according to the present invention.<br>
DETAILED DESCRIPTION OF THE ILLUSTRATIVE EMBODIMENTS<br>
Although the non-restrictive illustrative embodiments of the present invention will be described in relation to a speech signal, it should be kept in mind<br><br>
:' that the present invention can also be applied to-other types of sound signals isuch as, for example, audio signals.<br>
Figure 1 illustrates a speech communication'system 100 depicting the context in which, speech encoding and decoding devices in accordance with the present invention are used. The speech communication system 100 supports transmission and reproduction of a speech signal across a communication channel 105. Although it may comprise for example a wire, optical or fiber link, the communication channel 105 typically comprises at least in part a radio frequency : link. The radio frequency link often supports , multiple, simultaneous speech communications requiring shared bandwidth resources such as may be found with cellular telephony embodiments. Although not shown, the communication channel 105 may be replaced by a storage unit in a single device embodiment of the dommunication system that records and stores the encoded speech signal for later playback.<br>
On the transmitter side, a microphone 101 converts speech to an analog speech signal 110 supplied to an anatbg-to-digital (A/D) converter 102. The function of the A/D converter 102 is to convert the analog speech signal 110 to a digital speech signal 111. A speech encoder 103 codes the digital speech signal 111 to produce a set of signal-coding parameters 112 under a binary form and ■ delivered to an optional chanriel encoder 104. The optional channel encoder 104 adds redundancy to the binary representation of the signal-coding parameters 112 before transmitting them (see 113) over the communication channel 105.<br>
On the receiver side,' a channel decoder 106 utilizes the redundant information in the received bit stream 114 to detect and correct channel errors occurred during the transmission. A speech decoder 107 converts the bit stream 115 received from the channel decoder back to a set of signal-coding parameters for creating a synthesized speech signal 116. The synthesized speech signal 116<br><br>
reconstructed in the speech decoder 107 is converted back to an analog speech signal 117 in a digital-to-analog (D/A) converter 108. Finally, the analog speech signal 117 is played back through a loudspeaker unit 109.<br>
Overview of the AMR-WB encoder<br>
' This section will give an overview of the AMR-WB encoder operating at a bit rate of 12.65 kbit/s. This AMR-WB encoder will be used as the full-rate encoder in the non-restrictive, illustrative embodiments of the present invention.<br>
The input, sampled sound signal 212, for example a speech signal, is processed or encoded on a block by block basis by the,encoder 200 of Figure 2, which is broken down into eleven modules numbered from 201- to 211.<br>
The input sampled speech signal 212 is processed into the above mentioned successive blocks of L samples called frames.<br>
Referring to Figure. 2,. the input sampled speech signal 112 is down-sampled in a down-sampler 201. The input speech signal 212 is down-sampled from a sampling frequency of 16 kHz down to a sampling frequency of 12.8 kHz, using techniques weU known to those of ordinary skill in the art. Down-sampling increases the coding,efficiency,, since a smaller frequency bandwidth is coded. Down-sampling: also reduces the algorithmic complexity since the number of samples in a frame.is decreased. After down-sampling, a 320-sample frame of 20 ms is reduced to a 256-sample frame 213 (down-sampling ratio of 4/5).<br>
The down-sampled frame 213 is then supplied to an optional preprocessing unit In the non-restrictive example of Figure 2, the pre-processing unit consists of a high-pass filter 202 with a cut-off frequency of 50 Hz. This high-pass filter 202 removes the unwanted sound components below 50 Hz.<br><br>
The down-sampled, pre-processed signal is denoted by sp(n)s where n=09 1, 2, ...,L-1, and L is the length of the frame (256 at a sampling frequency of 12.8 kHz). According to a non restrictive example, the signal sp(n) is pre-emphasized using a pre-emphasis filter 203 haying the following transfer function:<br><br>
where  μ is a pre-emphasis factor with a value located between 0 and 1 (a typical value is μ = 0.7). The function of the pre-emphasis filter 203 is to enhance the high frequency contents of the input speech signal. The pre-emphasis filter 203 also reduces the dynamic' range of the input speech signal, which rehders it more ' suitable for fixed-point implemehtation Pre-emphasis also plays an important role in achieving a proper overall perceptual weighting of the quantization error, which contributes to improve the'sotind quality. This-will be explained in more detail herein below.<br>
The output signal of the; pre-emphasis filter 203 is denoted s(n). This signal s(n) is used for performing LP analysis in a LP analysis, quantization and interpolation module 204. LP analysis is a technique well known to those of ordinary skill in the art. In the non-restrictive illustrative example of Figure 2, the autocorrelation approaches used. According to the autocorrelation approach, the signal s(n) is first windowed using typically a. Hamming window having usually a length of the order of 30-40 ms. Autocorrelations are computed from the windowed signal, and Levinson-Durbin recursion is used to compute LP filter coefficients, au where z=l, 2,...,p, and where is the LP order, which is typically 16 in wideband coding. The parameters a, are the coefficients of the transfer function of the LP filter, which is given by the following relation:<br><br><br>
LP analysis is performed in the LP. analysis, quantization and interpolation module 204, which also performs quantization, and interpolation of the LP filter coefficients. The LP filter coefficients a, are first transformed into<br>
1<br>
another equivalent domain more suitable for quantization and interpolation purposes. The Line Spectral Pair (LSP) and  Inmitance Spectral Pair (ISP) domains are two domaips in which quantization and interpolation can be efficiently performed. The 16 LP filter coefficients, a;- can be quantized with a number of bits of the order of 30 to 50 using split or multi-stage quantization, or a combination thereof. The purpose of the:i interpolation is to enable updating of the LP filter coefficients a* every subframe while transmitting, them once every frame, which improves the encoder performance without increasing the bit rate. Quantization and interpolation of the LP filter coefficients is believed to be otherwise well known to those of ordinary skill in the art and, accordingly, will; not be further described in the present specification.<br>
The follpwing paragraphs will describe the rest of the coding operations performed, on a subfirame basis. In the t non-restrictive, illustrative example of Figure 2, the input frame is divided into 4 subframes of 5 ms (64 samples at 12.8 kHz sampling). In the foUowing description, the filter A(z) denotes the unquantized interpolated LP filter of the subfirame, and the filter A(z) denotes the quantized interpolated LP filter of the subframe.<br>
In analysis-by-synthesis encoders, the optimum pitch and innovation parameters are searched by minimizing the mean squared error between the input speech and the synthesized speech in a perceptually weighted domain. A perceptually weighted signal, denoted sw(n) in Figure 2, is computed in a perceptual, weighting filter 205. A perceptual weighting filter 205 with fixed<br><br>
denominator, suited for wideband signals, is used. An example of transfer function for the perceptual weighting filter 205 is given by the following relation:<br><br>
Tn order to simplify the pitch analysis, an open-loop pitcli lag Toi is first estimated in an open-loop pitch search module 206 using the weighted speech signal sw(n). Then the closed-loop pitch analysis, which is performed in a closed-loop pitch search module 207 on a subframe basis, is restricted around the open-loop pitch lag Tou to thereby significantly reduce the search complexity of the LTP piarameters T and gp (pitch lag and pitch gain* respectively). The open-loop pitch analysis is usually performed in module 206 once every 10 ms (two subframes) using techniques well known to those of or&amp;hary skill in the art.<br>
The target vector x for Long Term Prediction (LTP) analysis is first computed. This is usually done by subtracting the zero-input response so of weighted ^synthesis filter W(z)/A(z) from the weighted speech signal sw(n). This<br>
i<br>
zero-input response so is calculated by a zero-input response calculator 208 in response to the quantized interpolation LP filter A(z) fr6m the LP analysis, quantization and interpolation module 204 and to the initial states of the weighted synthesis filter W(z)/A(z) stored in memory update module 211 in response to the LP filters A(z) and A(z)\ and the excitation vector u. This operation is vtell known to those of ordinary skill in the art and; accordingly, will not be farther described in the present specification.<br>
A iV-dimensional impulse response vector h of the weighted synthesis filter W(z)/A(z) is computed in the impulse response generator 209 using the coefficients of the LP filter A(z) and A(z) from the LP analysis, quantization and interpolation module 204. Again, this operation is well known to those of ordinary<br><br>
skill in the art and, accordingly, will not be further described in toe present specification.<br>
	  The closed-loop pitch (or pitch codebook) parameters gp9 T and j are<br>
computed in the closed-loop pitch search module 207, which uses the target vector x(n), the impulse response vector h(n) and the open-loop pitch lag TQL as inputs.<br>
The pitch search consist? of finding the best pitch lag T and gain gp that minimize a mean squared weighted pitch prediction error, for example<br><br>
between the target vector x(n) and a scaled filtered version of the past excitation gp<br>
More specifically, the pitch codebook (adaptive codebook) search is composed of three stages.<br>
In the first stage, an open-loop pitch lag TOL is estimated in the open-loop pitch search module 206 in response to the weighted speech signal sw(n). As indicated in the foregoing description, this open-loop pitch analysis is usually performed once every 10 ms (two subframes) using techniques well known to those of ordinary skill in the art.<br>
In the second stage, a search criterion C is searched in the closed-loop pitch search module 207. for integer pitch lags around the estimated open-loop pitch lag TOL (usually ±5), which significantly simplifies the pitch codebook search procedure. A simple procedure is used for updating the filtered codevector yr(n)<br><br>
(this vector is "defined in the following description) without the need to compute  :." ■. the convolution for every pitch lag. An example of search criterion C is given hy:<br><br>
Once an optimum integer pitch lag is found in the second stage, a third stage of the search (closed-loop pitch search module 207) tests, by means of the search criterion C, the fractions around that optimum integer pitch lag. For example, the AMR-WB encoder uses lA and lA subsample resolution.<br>
In wideband signals, the harmonic structure exists only up to a certain frequency, depending on the speech segment. Thus, in order to achieve efficient representation of the pitch contribution in voiced segments of a wideband speech signal, flexibility is needed to vary the amount of periodicity over the wideband spectrum. This is achieved by processing the pitch codevector through a plurality of frequency shaping filters (for example low-pass or band-pass filters), and the frequency shaping filter that minimizes the above defined mean-squared weighted error -e® is selected. The selected frequency shaping filter is identified by an index<br>
• -<br>
h<br>
The pitch codeboolc index T is encoded and transmitted to a multiplexer 214 for transmission through a communication channel. The pitch gain gp is quantized and transmitted to the multiplexer 214. An extra bit is used to encode the indexy, this extra bit being also supplied to the multiplexer 214.<br>
Once the pitch, or Long Term Prediction (LTP) parameters gp, T, and j are determined, the n&amp;xt step consists of searching for the optimum innovative (fixed codebook) excitation by means of the innovative excitation search module<br><br>
210 of Figure 2. First, the target vector x(n) is updated by subtracting: Hie LTP &gt; contribution:<br><br>
where gp is the pitch gain and yj(n) is the filtered pitch cbdebook vector (the past: excitation at pitch delay T filtered with the selected frequency shaping filter (index j) and convolved with the impulse response k(n)).<br>
The innovative excitation search, procedure in CELP is performed in an innovation (fixed) codebook to find the optimum excitation (fixed codebook) codevector c and gain gc which minimize the mean-squared error E between the target vector x 9(n) and a scaled filtered version of the codevector c, for example:<br><br>
where H is a lower triangular convolution matrix derived from the impulse response vector h(n). The index k of the innovation codebook corresponding to.-the found optimum codevector ck and the gain gc are supplied to the multiplexer 214 for transmission through a communication channel.<br>
It should be noted' that the used innovation codebook Can be a dynamic codebook consisting of an algebraic codebook followed by an adaptive pre-filter F(z) which enhances given spectral components in order to improve the synthesis speech quality, according to US Patent 5,444,816 granted to Adoul et al. on August 22, 1995. More specifically, the innovative codebook search can be performed in module 210 by means of an algebraic codebook as described in US patents Nos: 5,444,816 (Adoul et al.) issued on August 22,1995; 5,699,482 granted to Adoul et<br><br>
. al., on December 17, 1997; 5,754,976 granted to Adoul et al., on May-19, 1998; and 5,701,392 (Adoul et al.) dated December 23,1997.<br>
The index k of the optimum innovation codevector is transmitted. As a non-limitative'example, an algebraic codebook is used where the index consists of the positions and signs of the non-zero-ampljttude pulses in the excitation vector. The pitch gain gp and innovation gain gc. are finally quantized using a joint quantization procedure that will be described in the following description.<br>
The bit allocation of the AMR-WB encoder operating at 12.65 kbit/s is given in. Table 1.<br><br>
Joint quantization of gains<br>
The pitch codebook gain gp and the innovation codebook gain gc can be either scalar or vector quantized.<br><br>
In. scalar quantization, the pitch gain is independently quantised using typically 4 bits (non-uniform quantization in the range 0 to 1.2). The innovation codebook gain is usually quantized using 5 or 6 bits; the sign is quantized with 1 bit and the magnitude with 4 or 5 bits. The magnitude of the gains is. usually quantized uniformly in the logarithmic domain.<br>
In joint or vector quantization, a quantization table, or a gain quantization codebook, is designed and stored at both the encoder and decoder ends. This codebook can be a two-dimensional codebook having a size that depends on the number of bits used to quantize the two,gains gp.and gc. For example, a 7-^bit codebook used to quantize the two gains gp and gc contains 128 entries with a dimension of 2. The best entry for a certain subframe is.found.by minimizing a certain error criterion. For example, the best codebook entry can be searched by minimizing a mean squared error between the input signal and the synthesized signal.<br>
To further exploit the signal correlation, prediction can be performed on the innovation codebook gain gc. Typically, prediction is performed on the scaled innovation codebook energy in the logarithmic domain.<br>
.Prediction can be conducted, for example, using moving average (MA) prediction with fixed coefficients. For example, a 4th order MA prediction is performed on the innovation codebook energy as follows. Let E(n) be the mean-removed innovation codebook energy (in dB) at subframe n9 and given by:<br><br><br>
where N is the size of the subframe, c(i) is the innovation codebook excitation, and E is the mean of the innovation codebook energy in dB. In this non-limitative example, N-64 corresponding to 5ms at the sampling frequency of 12.8 kHz and<br>
E =. 30 dB, The innovation codebook predicted energy is given by:<br><br>
where [b\9 b2, fa, 64]=[0.550.430.3,0.2] are the MA prediction coefficients, and R(n — i) is the quantized enetgy prediction error at subframe h-i. The innovation codebook predicted energy is used to compute a predicted innovation gain gc as in Equation (3) by substituting E(n) by E(n) and gc by gc&gt; This is done as follows. First, the mean innovation codebook energy is calculated using the following relation:<br><br>
and then the predicted innovation gain g*c is found by<br><br>
A correction factor between the gain gC9 as computed during processing of the input speech signal 212, and the estimated, predicted gain gc is given by:<br><br>
Note that the energy prediction error is given by:<br><br><br>
The pitch gain gp and correction factor y are jointly vector quantized using; a 6-hit codebook for AMR-WB rates of 8.85 kbits/s and 6.60 kbit/s, and ai7-bit codebook for the other AMR-WB rates. The search of the gain quantization codebook is performed by- minimizing the mean-square of the weighted- error between the original and reconstructed speech which is given by the following relation: <br>
where x is the target vector, y is the filtered pitch codebook signal (the signal y(ji) is usually computed as the convolution between the pitch codebook vector and the impulse response h(n) of the weighted synthesis filter), z is the innovatior codebook vector filtered through the weighted synthesis filter, and t denotes "transpose". The quantized energy prediction error associated with the. ehosen .<br>
gains is used to update S{n).<br><br>
The use of source-controlled VBR speech coding significantly improves the capacity of many communication systems, especially wireless systems using CDMA technology. In source-controlled VBR codings the codec operates at several bit rates, and a rate selection module is used to determine the bit rate to be used for encoding each speech frame based on the nature of the speech frame, e.g. voiced, unvoiced, transient, background noise, etc. The goal is to obtain the best , speech quality at a given average bit rate. The codec can operate at different modes by tuning the rate selection module to attain different Average Data Rates (ADRs),' where the codec performance improves with increasing ADRs. In some communication systems, the mode of operation can be imposed by the system<br><br>
depending on cjiannel conditions. This provides -the codec with a mechanism of trade-off between speech quality and system capacity. The codec then comprises a sigrial classification algorithm to analyze the input speech signal and classify each speech frame into one of a set of predetermined classes, for example background noise, voiced, unvoiced, mixed voiced, transient, etc. The codec also comprises -a rate* selection algorithm to decide what bit rate and what coding model is to be used based on the determined class of the1 speech frame and desired average bit rate.<br>
As an example, when a CDMA2000 system is used (this system will be referred to as CDMA system), typically 4 bit rates are used and they are referred to as full-rate (FR), half-rate (HR), quarter-rate (QR), and eighth-rate (ER). Also, two rate sets referred to as Rate Set I and Rate Set II-are supported by theCDMA system. In Rate Set H, a variable-rate codec' with rate selection mechanism operates at source-coding bit rates of 13.3 (FR), 6.2 (HR), 2.7 (QR), and 1.0 (ER) kbit/s. In Rate Set I, the source-coding bit rates are 8.55 (FR), 4.0(HR), 2.0 (QR), arid 0.8 (ER) kbit/s. Rate Set II will be considered in the non-restrictive illustrative embodiments of the present invention.<br>
In multi-mode VBR coding, different operating modes corresponding to different average bit rates can be obtained by defining the percentage of usage of individual bit rates. Thus, the rate selection algorithm, decides the bit rate to be used for a certain speech frame based on,the nature of the speech frame (classification information) and the required average bit rate.<br>
■ In addition to imposing the operating mode, the CDMA system can also limit the" maximum bit rate in some speech frames in order to send in-band signaling information (called dim-and-burst signaling) or during bad channel conditions (such as near the cell boundaries) in order to improve the codec<br>
robustness.<br><br>
. In the non-restrictive illustrative embodiments of the present invention, a source controlled multi-mode variable bit rate coding system that can operate in Rate Set II of CDMA2000 systems is used It will be referred to in the following description as the VMR-WB (Variable Multi-Rate Wide-Band) codec. The latter codec is based on the adaptive multi-rate wideband (AMR-WB) speech codec as described in the foregoing description. The full rate (FR) coding is based on the AMR-WB at 12.65 kbit/s. For stationary voiced frames, a Voiced HR coding model is designed. For unvoiced frames', an Unvoiced HR and Unvoiced QR coding models are designed. For background noise frames (inactive speech), an ER comfort noise generator (GNG) is designed. When the rate selection algorithm chdoses the FR model for a specific frame, but the commumcations system imposes the use of HR for signaling purposes, then neither Voiced HR nor Unvoiced HR are suitable for encoding the frame. F6r this purpose, a Generic HR model was designed. The Generic HR model can be also used for encoding frames not classified as voiced or unvoiced, but with a relatively low energy with respect to the long-term average energy, as those frames have low perceptual importance.<br>
The coding methods for the above system are summarized in Table 2 and will be generally referred to as coding types: Other coding types can be used without loss of generality.<br><br><br>
The gain quantization codebook for the FR coding type is designed for all classes of signal, e.g. voiced, unvoiced, transient, onset, offset, etc., using training procedures well.known to those of ordinary skill in the art. In the context of VBR coding, the Voiced and Generic HR coding types use both a pitch codebook and an. innovation codebook to form the excitation signal. Thus similar to the FR coding type, the pitch and innovation gains (pitch codebook gain and innovation codebook gain) need to-be quantized* At lower bit rates, however, it is advantageous to reduce the number of quantization bits that necessitate the design of new codebooks. Furthermore, for Voiced HR, a new quantization codebook is required for this class-specific poding. type. Therefore, the non-restrictive, illustrative embodiments of the present invention provides gain quantization in VBR CELP-based coding, capable of reducing the number of bits for gain quantization without the need to design new quantization codebooks for lower rate coding types. More specifically, a portion of the codebook designed for the Generic FR coding type are used. The gain quantization codebook is ordered b^sed on the pitch gain values. The portion of the codebook uised in the quantization is determined on the basis of an initial pitch gain value computed over a longer period, for example over two subframes. or more, or in a pitch-synchronous .manner over one pitch period or more. This will result in a reduction of the bit rate since the information regarding the portion of the codebook is not sent on a subftame basis. Furthermore,*this will result in a quality improvement in case of stationary voiced frames since the gain variation within the frame will be reduced.<br><br>
where x(n) is the target signal, yQi) is the filtered pitch codebook vector, and N is the size of the subframe (number of samples in the subframe). The signal y(ji) is<br><br>
usually computed as the convolution between the pitch codebook vector- and the impulse response h(n) of the weighted synthesis filter. The computation of the -target vector and filtered pitch codebook-vector in CELP-based coding is- well know to those of ordinary skill in the art. An example of this computation is described in the references [ITU-T Recommendation G.722.2 "Wideband coding of speech at around 16 kbit/s using Adaptive Multi-Rate Wideband (AMR-WB)", Geneva, 2002] and [3GPP TS 26.190, "AMR Wideband Speech Codec; Transcoding Functions," 3GPP Technical Specifications/hi order to reduce the possibility of instability in case of channel errors, the computed pitch gain is limited to the range between 0 and 1.2.<br>
First illustrative embodiment<br>
In a first non-restrictive illustrative embodiment, while coding the first subframe of a four-subframe frame, an initial pitch gain gt is computed based on the first two subframes of the same frame using Equation (10), but for a length of 2N (two subframes). In this case, Equation (10) becomes:<br><br>
Then, computation of the target signal x(n) and the filtered pitch codebook signal y(n) is also performed over a period of two subframes, for example the first and second subframes of the frame. Computing the target signal x(n) over a period longer than one subframe is performed by extending the computation of the weighted speech signal sw(n) and the zero input response So over a longer period while using the same LP filter as in the initial subframe of the two first subframes for all the extended period; the target signal x(n) is computed as the weighted speech signal sw(n) after subtracting the zero-input response SQ of the weighted synthesis filter W(z)/A(z). Similarly, computation of the weighted pitch codebook<br><br>
signal y(n)&gt; is performed by extending the computation of the pitch codebook vector V(n) and the impulse response h(n) of the weighted synthesis filter W(z)/A(z) of the firsts&amp;bframeover a period longer than the subframe length; the weighted pitch codebook signal is the Convolution .between the pitch codebook vector v(n) and the impulse response h(n), where the convolution in this case is computed over the longer period.<br>
Having computed the initial pitch gain gv over two subframes, then during HR (half-rate) coding of the first two subframes, the joint quantization of the pitch gp and innovation gc gains is restricted to a portion of the codebook used for quantizing the gains at full rate (FR), whereby that portion is determined by the value of the initial pitch gain computed over two subframes* In the first non-restrictive illustrative embodiment, in FR (full-rate) coding type, the gains gp and gc are jointly quantized using 7 bits according to the quantization procedure described earlier; MA prediction is applied to the innovative excitation energy in the logarithmic domain to obtain a predicted innovation codebbok gain and the correction factor yis quantized. The content of the quantization table used in the FR (full-rate) coding type are shown in Table 3 (as used in AMR-WB [ITU-T Recommendation G.722.2 "Wideband coding of speech at around 16 kbit/s using Adaptive Multi-Rate Wideband (AMR-WB)", Geneva, 2002] [3GPP TS 26.190, "AMR Wideband Speech Codec; Transcoding Functions," 3GPP Technical Specification]). In the first illustrative embodiment, the quantization of the gains gp and gc of the two subframes is performed by restricting the search of Table 3 (quantization table or codebook) to either the first or the second half of this quantization table according to the initial pitch gain value gt computed over two subframes. If the initial pitch gain value gt is less than 0.768606 then the quantization in the first two subframes is restricted to the first half of Table 3 (quantization table or codebook). Otherwise, the quantization is restricted to the second half of Table 3. The pitch value of 0.768606 corresponds to a quantized pitch gain value gp at the beginning of the second half of the quantization table (the<br><br>
top of the fifth column: in Table 3). One bit is needed once every two subframes to indicate which portion of the quantization table or codebook is- used for the quantization.<br><br><br><br>
It should be noted that for the third and fourth subframes, a similar gain quantization procedure is performed. Namely, an initial gain gt is computed over the third and fourth subframes, then the portion of the gain quantization Table 3 (gain quantization codebook) to be used in the quantization procedure is determined on the basis of the value of this initial pitch gain gf. Finally, the joint quantization of the two gains gp and gc is restricted to the determined codebook portion and one (1) bit is transmitted to indicate which portion is used; one (1) bit is required to indicate the table or codebook portion when each codebook portion corresponds to half the gain quantization codebook.<br>
Figures 3 and 4 are schematic flow chart and block diagram summarizing , the above described first illustrative embodiment of the method and device according to the present invention.<br>
Step 301 of Figure 3 consists of computing an initial pitch gain gt over two subframes. Step 301 is performed by a calculator 401 as shown in Figure 4.<br>
Step 302 consists of findings for example in a 7-bit joint gain quantization codebook,. an initial index associated to the pitch gain closest to the initial pitch gain gj. Step 302 is conducted by searching unit 402.<br>
Step 303 consists of selecting the portion (for example half) of the quantization codebook containing the initial index determined during step 302 and identify the selected codebook portion (for example half) using at least one (1) bit per two subframes. Step 303 is performed by selector 403 and identifier 404.<br><br>
Step 304 consists of restricting the table or-codebook search in the two subframes to the selected codebook portion (for example half) and expressing the selected index with, for example, 6 bits-per subframe.- Step 304 is performed by the searcher 405 and the quantizer 406.    -<br>
In the above-described first illustrative embodiment, 7 bits per subframe are used in FR (fiill-rate) coding to quantize the gains gp and gc resulting in 28 bits per frame. In HR (half-rate) voiced and generic coding, the same quantization codebook as FR (full-rate) coding is used. However, only 6 bits per subframe are used, and extra 2 bits are needed for the whole frame to indicate, in the case of a half portion, the codebook portion in the quantization every two subfrdines. This gives a total of 26 bits per subframe; without memory increase, and with improved quality compared to designing a new 6 bit codebook as was found by experiments. In fact, experiments showed objective results (e.g. Segmental signal-to-noise ratio (Seg-SNR), average bit rate,,..) equivalent to or better than the results obtained using the original 7-bit quantizer./This better performance seems to be attributed to the reduction in gain variation within the frame. Table4 shows the bit allocation of the different coding modes according to the first illustrative embodiment<br><br><br>
Another variation of the first^ illustrative embodiment can be easily derived for attaraiiig more saving in the number of bits. For instance, the initial pitch gain can be computed over the whole frame; and the bodebobk portioii (for example" codebook halfj'used in the quantization of the two gains gp and gc can be deterniiiiedfor all the subfranies based on the initial jpitch gain value gu In this case only 1 bit per frame is heeded to indicate the codebook portion (for exainple codebook half) resulting in a total of 25 bits.<br>
According to another example, the gain quantization codebook, which is sorted based on the pitch gain, is divided into 4 portions and the initial pitch gain value gi is used to determine the portion of the codebook to be used for quantization process. For the 7-bit codebook example given in Table 3, the codebook is divided into 4 portions of 32 entries corresponding to the following pitch gain ranges: less than 0.445842, from 0.445842 to less than 0.768606, from 0.768606 to less than 0.962625, and more than or equal to 0.962625. Only 5 bits are needed to transmit the quantization index in each portion every subframe, then 2 bits are needed every 2 subframes to indicate the portion of the codebook being used. This gives a total of 24 bits. Further, the same codebook portion can be used<br><br>
. for all four subframes which will need only 2 bits overhead per frame, resulting in a total of 22 bits.<br>
Also, a decoder (not shown) according to the first illustrative embodiment comprises, for example, a 7-bit codebook used to store the quantized gain vectors. Every two subframes, the decoder receives one (1) bit (in the case of a codebook half) to identify the codebook portion that was used for encoding the gains gp and go and 6-bits per subframe to extract the quantized gains from that codebook portion.<br>
Second illustrative embodiment<br>
The second illustrative embodiment is similar to the: first one explained herein above in connection with Figures 3 and 4, with the exception that the initial pitch gain gj is computed differently; To simplify the computation in Equation (11), the weighted sound signal sw(n), or the low-pass filtered decimated weighted sound signal, can be used. The following relation results:<br><br>
where TOL is the open loop pitch delay and K is the time period over which the initial pitch gain g/ is computed. The time period can be 2 or 4 subframes as described above, or ban be multiple of the open-loop" pitch period TOL- For example, K can be set equal to TOL, 2TOL 32OI and so on according to the value of TOL ' a larger number of pitch cycles can be used for short pitch periods. Other signals can be used in Equation (12) without loss of generality, such as the residual signal produced in CELP-based coding processes.<br>
Tliird illustrative embodiment<br><br>
In a third non-restrictive illustrative embodiment of the present invention, the idea of restricting the portion of the gain quantization codebook searched according to an initial pitch gain value g,- computed over a longer time period, as ' explained above, is used. However, the aim of using this approach is not to reduce the bit rate but to improve the quality. Thus there is no need to reduce the number of bits per subframe and send overhead information regarding the codebook portion used, since the index is always quantized for the whole codebook size (7 bits according to the example of Table 3). This will give no restriction on the portion of the codebook used for the search. Confining the search to a portion of the codebook according to an initial pitch gain value g1 computed over a longer time period reduces the fluctuation in the quantized gain values and improves the overall quality, resulting in a Smoother waveform evolution.<br>
According to a non-limitative example, the quantization codebook in Table 3 is used in each subframe. The initial pitch gain g1 can be computed as in Equation (12) or Equation (11), or any other suitable method. When Equation (12) is used, examples of values of K (multiple of the open-loop pitch period) are the following: for pitch values TOL K is set to 3TOLI for pitch values 51
After having computed the initial pitch gain gv, the search of the vector quantization codebook is confined to the range Iinit-OP to Where Iinitis the index of the vector of the gain quantization codebook whose pitch gain value is closest to the initial pitch gain g?. A typical value of p is 15 with the limitations Iinit-p&gt; 0 and Iinjt+p<l28. once the gain quantization index is found it encoded using bits as in ordinary quantization.></l28.>
Of course, many other modifications and variations are possible to the disclosed invention. In view of the above detailed description of the present<br><br>
invention and associated drawings, such other modifications and variations will now become apparent to those skilled in the art It should also be apparent that such other variations may be effected within the scope of the claims without, departing from the spirit and scope of the present invention.<br><br><br>
1.	A method for encoding a sampled sound signal, the sampled sound  signal<br>
comprising consecutive frames, each frame comprising a number of sub-frames, the method comprising determining a first gain parameter and a second gain parameter once per sub-frame and performing a joint quantization operation to jointly quantize the first and second gain parameters determined for a sub-frame by searching a quantization codebook comprising a number of codebook entries, each entry having an associated index represented with a predetermined number of bits, characterized in that the gain quantization operation comprises:<br>
calculating an initial pitch gain on the basis of a predetermined number f of  sub-frames;<br>
selecting a portion of a quantization codebook in dependence on the initial pitch gain;<br>
restricting the search of the quantization codebook to the selected portion for two or more consecutive sub-frames;<br>
searching the selected portion of the quantization codebook to identify a codebook entry best representing the first and second gain parameters for a sub-frame from within the selected portion of the quantization codebook and using the index associated with the identified entry to represent the first and second gain parameters for the sub-frame.<br>
2.	A method according to claim 1, comprising determining said initial pitch gain by<br>
computing the ratio of a first and a second correlation value.<br>
3.	A method according to claim 2, wherein the ratio of said first and second correlation<br>
values is:<br><br>
where K represents the number of samples used in computing said first and second correlation values, x(n) is a target signal and y(n) is a filtered adaptive codebook signal.<br>
4.	A method according to claim 1, wherein the selected portion comprises half the<br>
quantization codebook entries in the quantization codebook.<br><br>
6.	A method according to claim 3, comprising:<br>
computing a linear prediction filter for a period equal to one sub-frame of the sampled<br>
sound signal, the linear prediction filter comprising a number of coefficients;<br>
constructing a perceptual weighting filter based on the coefficients of the linear prediction<br>
filter;<br>
constructing a weighted synthesis filter based on the coefficients of the linear prediction<br>
filter.<br>
7.	A method according to claim 6, comprising:<br>
applying the perceptual weighting filter to the sampled sound signal over a period greater<br>
than one sub-frame to produce a weighted sound signal;<br>
calculating a zero input response of the weighted synthesis filter; and<br>
generating the target signal by subtracting the zero input response of the weighted<br>
synthesis filter from the weighted sound signal.<br>
8.	A method according to claim 6, comprising:<br>
calculating an adaptive codebook vector over a period greater than one sub-frame; calculating an impulse response of the weighted synthesis filter; and forming the filtered adaptive codebook signal by convolving the impulse response of the weighted synthesis filter with the adaptive codebook vector.<br>
9.	A method according to claim 1, wherein the first gain parameter is a pitch gain and the second gain parameter is an innovation gain.<br>
10.	A method according to claim 1, wherein the first gain parameter is a pitch gain and the second gain parameter is an innovation gain correction factor.<br>
11.	A method according to claim 10, comprising:<br>
applying a prediction scheme to an innovation codebook energy to produce a predicted innovation gain; and<br>
calculating the correction factor as a ratio of the innovation gain and the predicted innovationgain.<br>
w<br>
12.	A method according to claim 1, comprising:<br>
calculating the initial pitch gain on the basis of at least two sub-frames.<br><br>
13.	- '       A method according to claim 1, comprising:<br>
repeating the calculation of said initial pitch gain and said selection of a portion of the quantization codebook once every f sub-frames.<br>
14.	A method according to claim 1, wherein selecting a portion of the quantization<br>
codebook comprises:<br>
searching the quantization codebook to find an index associated with a pitch gain value of the quantization codebook closest to the initial pitch gain; and selecting a portion of the quantization codebook containing said index.<br>
15.	A method according to claim 1, wherein f is the number of sub-frames in a frame.<br>
16.	A method according to claim 1, wherein restricting the search of the quantization<br>
codebook to the selected portion of the codebook allows the index associated with the<br>
codebook entry best representing the first and second gain parameters for a sub-frame to be<br>
represented with a reduced number of bits.<br>
17.	A method according to claim 16, comprising restricting the search of the<br>
quantization codebook to one half of the quantization codebook for each of two consecutive<br>
sub-frames, thereby allowing the index associated with the codebook entry best representing<br>
the first and second gain parameters for a sub-frame to be represented with one less bit, an<br>
indicator bit being provided to indicate the half of the codebook to which the search is restricted.<br>
18.	A method according to claim 1, comprising forming a bit-stream comprising<br>
encoding parameters representative of said sub-frames and providing an indicator indicative of<br>
a selected portion of the quantization codebook in the encoding parameters once every two or<br>
more sub-frames.<br>
19.	A method according to claim 1, wherein calculating the initial pitch gain comprises<br>
using the following relation:<br><br>
where g'p is the initial pitch gain, T0L is an open-loop pitch delay, and Sw(n) is a signal derived from a perceptually weighted version of the sampled sound signal.<br><br>
20.	A method according to claim 19, wherein K represents an open-loop pitch value.<br>
21.	A method according to claim 19, wherein K represents a multiple of an open-loop pitch value.<br>
22.	A method according to claim 19, wherein K represents a multiple of the number of samples in a sub-frame.<br>
23.	A method according to claim 1, wherein restricting the search of the quantization codebook comprises confining the search to a range Uinltt - p to linit + p, where Linitt is an index of a gain vector of the gain quantization codebook corresponding to a pitch gain closest to the initial pitch gain and p is an integer.<br>
24.	A method according to claim 23, wherein p is equal to 15 with the limitations Lit- p &gt;0and linit+ p
25.	A method for decoding a bit-stream representative of a sampled sound signal, the sampled sound signal comprising consecutive frames, each frame comprising a number of sub-frames, the bit-stream comprising encoding parameters representative of said sub-frames, the encoding parameters for a sub-frame comprising a first gain parameter and a second gain parameter, the first and second gain parameters having been jointly quantized and represented in the bit-stream by an index into a quantization codebook, the method comprising performing a gain dequantization operation to jointly dequantize the first and second gain parameters, characterized in that the gain dequantization operation comprises:<br>
receiving in the encoding parameters an indication of a portion of the quantization codebook used in quantizing said first and second gain parameters for two or more sub-frames;<br>
and<br>
for each of said two or more sub-frames extracting the first and second gain<br>
parameters from the indicated portion of the quantization codebook	<br>
26.	A method according to claim 25, wherein an indication of a portion of the quantization codebook is provided in the encoding parameters once every two or more sub-frames.<br>
27.	A method according to claim 25, wherein the first gain parameter is a pitch gain and the second gain parameter is an innovation gain.<br><br>
28.	' ' A method according to claim 25, wherein the first gain parameter is a pitch gain and<br>
the second gain parameter is an innovation gain correction factor.<br>
29.	An encoder for encoding a sampled sound signal, the sampled sound signal<br>
comprising consecutive frames, each frame comprising a number of sub-frames, the encoder<br>
being arranged to determine a first gain parameter and a second gain parameter once per sub-<br>
frame and perform a joint quantization operation to jointly quantize the first and second gain<br>
parameters determined for a sub-frame by searching a quantization codebook comprising a<br>
number of codebook entries, each entry having an associated index represented with a<br>
predetermined number of bits,<br>
characterized in that the encoder is arranged to:<br>
calculate an initial pitch gain on the basis of a predetermined number f of   sub-frames;<br>
select a portion of a quantization codebook in dependence on the initial pitch gain;<br>
restrict the search of the quantization codebook to the selected portion for two or more<br>
consecutive sub-frames;<br>
search the selected portion of the quantization codebook to identify a codebook entry best<br>
representing the first and second gain parameters for a sub-frame from within the selected<br>
portion of the quantization codebook; and<br>
use the index associated with the identified entry to represent the first and second gain<br>
parameters for the sub-frame.<br>
30.	An encoder according to claim 29f wherein the encoder is arranged to determine the initial pitch gain by computing a ratio of a first and a second correlation value.<br>
31.	An encoder according to claim 30, wherein the encoder is arranged to compute the ratio of said first and second correlation values as:<br>
where K represents the number of samples used in computing said first and second correlation values, x(n) is a target signal and y(n) is a filtered adaptive codebook signal.<br>
32.	An encoder according to claim 29, wherein the selected portion of the quantization<br>
codebook comprises half the quantization codebook entries in the quantization codebook.<br><br>
33.	An encoder according to claim 31, wherein K equals the number of samples in two sub-frames.<br>
34.	An encoder according to claim 31, wherein the encoder is arranged to:<br>
compute a linear prediction filter for a period equal to one sub-frame of the sampled sound<br>
signal, the linear prediction filter comprising a number of coefficients;<br>
construct a perceptual weighting filter based on the   coefficients of the linear prediction<br>
filter; and<br>
construct a weighted synthesis filter based on the coefficients of the linear prediction filter.<br>
35.	An encoder according to claim 34, wherein the encoder is arranged to:<br>
apply the perceptual weighting filter to the sampled sound signal over a period greater<br>
than one sub-frame to produce a weighted sound signal;<br>
calculate a zero input response of the weighted synthesis filter; and<br>
generate the target signal by subtracting the zero input response of the weighted synthesis<br>
filter from the weighted sound signal.<br>
36.	An encoder according to claim 34, wherein the encoder is arranged to:<br>
calculate an adaptive codebook vector over a period greater than one sub-frame;<br>
calculate an impulse response of the weighted synthesis filter; and<br>
form the filtered adaptive codebook signal by convolving the impulse response of the weighted synthesis filter with the adaptive codebook vector.<br>
37.	An encoder according to claim 29, wherein the first gain parameter is a pitch gain and the second gain parameter is an innovation gain.<br>
38.	An encoder according to claim 29, wherein the first gain parameter is a pitch gain and the second gain parameter is an innovation gain correction factor.<br>
39.	An encoder according to claim 38, wherein the encoder is arranged to:<br>
apply a prediction scheme to a innovation codebook energy to produce a predictec innovation gain; and<br>
calculate the correction factor as a ratio of the    innovation gain and the predictec innovation gain.<br>
40.	An encoder according to claim 29, wherein the encoder is arranged to calculate the<br>
initial pitch gain on the basis of at least two sub-frames.<br><br>
41.	, . An encoder according to claim 29, wherein the encoder is arranged to repeat the<br>
calculation of said initial pitch gain and said selection of a portion of the quantization codebook<br>
once every f sub-frames.<br>
42.	An encoder according to claim 29, wherein the encoder is arranged to select a<br>
portion of the quantization codebook by:<br>
searching the quantization codebook to find an index associated with a pitch gain value of the quantization codebook closest to the initial pitch gain; and selecting a portion of the quantization codebook containing said index.<br>
43.	An encoder according to claim 29, wherein f is the number of sub-frames in a frame.<br>
44.	An encoder according to claim 29, wherein the encoder is arranged to restrict the search of the quantization codebook to the selected portion of the codebook thereby allowing the index associated with the codebook entry best representing the first and second gain parameters for a sub-frame to be represented with a reduced number of bits.<br>
45.	An encoder according to claim 44, wherein the encoder is arranged to restrict the search of the quantization codebook to one half of the quantization codebook for each of two consecutive sub-frames, thereby enabling the index associated with the codebook entry best representing the first and second gain parameters for a sub-frame to be represented with one less bit, an indicator bit being provided to indicate the half of the codebook to which the search is restricted.<br>
46.	An encoder according to claim 29, wherein the encoder is arranged to form a bit-stream comprising encoding parameters representative of said sub-frames and provide an indicator indicative of a selected portion of the quantization codebook in the encoding parameters once every two or more sub-frames.<br>
47.	An encoder according to claim 29, wherein the encoder is arranged to calculate the initial pitch gain comprises using the following relation:<br><br>
from a perceptually weighted version of the sampled sound signal.<br>
48.	An encoder according to claim 47, wherein K represents an open-loop pitch value.<br>
49.	An encoder according to claim 47, wherein K represents a multiple of an open-loop pitch value.<br>
50.	An encoder according to claim 47, wherein K represents a multiple of the number of samples in a sub-frame.<br>
51.	An encoder according to claim 29, wherein the encoder is arranged to restrict the search of the quantization codebook by confining the search to a range Lit - p to IM + p, where hnit is an index of a gain vector of the gain quantization codebook corresponding to a pitch gain closest to the initial pitch gain and p is an integer.<br>
52.	An encoder according to claim 51, wherein p is equal to 15 with the limitations Ijnit-p&gt;0and U+ p
53.	A decoder for decoding a bit-stream representative of a sampled sound signal, the sampled sound signal comprising consecutive frames, each frame comprising a number of sub-frames, the bit-stream comprising encoding parameters representative of said sub-frames, the encoding parameters for a sub-frame comprising a first gain parameter and a second gain parameter, the first and second gain parameters having been jointly quantized and represented in the bit-stream by an index into a quantization codebook, the decoder being arranged to perform a gain dequantization operation to jointly dequantize the first and second gain parameters, characterized in that the decoder is arranged to:<br>
retrieve an indication from the encoding parameters, said indication indicative of a portion of the quantization codebook used in quantizing said first and second gain parameters for two or more sub-frames;<br>
extract the first and second gain parameters for each of said two or more sub-frames from the indicated portion of the quantization codebook.<br>
54.	A decoder according to claim 53, wherein the decoder is arranged to retrieve an<br>
indication of a portion of the quantization codebook from the encoding parameters once every<br>
two or more sub-frames.<br><br>
               and the, second gain parameter is an innovation gain.<br>
56.	A decoder according to claim 53, wherein the first gain parameter is a pitch gain<br>
and the second gain parameter is an innovation gain correction factor.<br>
57.	A bit-stream representative of a sampled sound signal, the sampled sound signal<br>
comprising consecutive frames, each frame comprising a number of sub-frames, the bit-stream<br>
comprising encoding parameters representative of said sub-frames, the encoding parameters<br>
for a sub-frame comprising a first gain parameter and a second gain parameter, which are<br>
jointly quantized and represented in the bit-stream by an index into a quantization codebook,<br>
characterised in that the bit-stream comprises an indicator indicative of a portion of the<br>
quantization codebook used to quantize the first and second gain parameters for two or more<br>
sub-frames.<br>
58.	A bit-stream according to claim 57, wherein the portion of the quantization<br>
codebook used to quantize the first and second gain parameters for said two or more sub-<br>
frames having been determined based upon an initial pitch gain calculated on the basis of a<br>
predetermined number f of sub-frames.<br>
59.	A cellular telephone comprising an encoder according to claim 29.<br>
60.	A cellular telephone comprising a decoder according to claim 53.<br>
61.	A speech communication system comprising an encoder according to claim 29.<br>
62.	A speech communication system comprising a decoder according to claim 53.<br>
63.	An encoded sound signal encoded according to the method of claim 1,<br>
64.	A computer program product for carrying out the steps of the method according to claim 1, when said computer program product is executed on a computer.<br><br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjgyNi1DSEVOUC0yMDA1IENMQUlNUyBHUkFOVEVELnBkZg==" target="_blank" style="word-wrap:break-word;">2826-CHENP-2005 CLAIMS GRANTED.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjgyNi1DSEVOUC0yMDA1IENPUlJFU1BPTkRFTkNFIE9USEVSUy5wZGY=" target="_blank" style="word-wrap:break-word;">2826-CHENP-2005 CORRESPONDENCE OTHERS.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjgyNi1DSEVOUC0yMDA1IENPUlJFU1BPTkRFTkNFIFBPLnBkZg==" target="_blank" style="word-wrap:break-word;">2826-CHENP-2005 CORRESPONDENCE PO.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjgyNi1jaGVucC0yMDA1LWFic3RyYWN0LnBkZg==" target="_blank" style="word-wrap:break-word;">2826-chenp-2005-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjgyNi1jaGVucC0yMDA1LWNsYWltcy5wZGY=" target="_blank" style="word-wrap:break-word;">2826-chenp-2005-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjgyNi1jaGVucC0yMDA1LWNvcnJlc3BvbmRuZWNlLW90aGVycy5wZGY=" target="_blank" style="word-wrap:break-word;">2826-chenp-2005-correspondnece-others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjgyNi1jaGVucC0yMDA1LWNvcnJlc3BvbmRuZWNlLXBvLnBkZg==" target="_blank" style="word-wrap:break-word;">2826-chenp-2005-correspondnece-po.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjgyNi1jaGVucC0yMDA1LWRlc2NyaXB0aW9uKGNvbXBsZXRlKS5wZGY=" target="_blank" style="word-wrap:break-word;">2826-chenp-2005-description(complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjgyNi1jaGVucC0yMDA1LWRyYXdpbmdzLnBkZg==" target="_blank" style="word-wrap:break-word;">2826-chenp-2005-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjgyNi1jaGVucC0yMDA1LWZvcm0gMS5wZGY=" target="_blank" style="word-wrap:break-word;">2826-chenp-2005-form 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjgyNi1jaGVucC0yMDA1LWZvcm0gMTgucGRm" target="_blank" style="word-wrap:break-word;">2826-chenp-2005-form 18.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjgyNi1jaGVucC0yMDA1LWZvcm0gMjYucGRm" target="_blank" style="word-wrap:break-word;">2826-chenp-2005-form 26.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjgyNi1jaGVucC0yMDA1LWZvcm0gMy5wZGY=" target="_blank" style="word-wrap:break-word;">2826-chenp-2005-form 3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjgyNi1jaGVucC0yMDA1LWZvcm0gNS5wZGY=" target="_blank" style="word-wrap:break-word;">2826-chenp-2005-form 5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjgyNi1jaGVucC0yMDA1LXBjdC5wZGY=" target="_blank" style="word-wrap:break-word;">2826-chenp-2005-pct.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="223990-a-method-and-system-for-providing-continuous-communication-service-for-a-mobile-unit.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="223992-extrusion-die-for-viscoelastic-materials-inlet-widening.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>223991</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>2826/CHENP/2005</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>47/2008</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>21-Nov-2008</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>24-Sep-2008</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>31-Oct-2005</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>NOKIA CORPORATION</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>KEILALAHDENTIE 4, FIN-02150 ESPOO,</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>JELINEK, MILAN</td>
											<td>925 WALTON, SHERBROOKE, QUEBEC J1H 1K4,</td>
										</tr>
										<tr>
											<td>2</td>
											<td>SALAMI, REDWAN</td>
											<td>4045 PLACE ALBERT-DREUX, VILLE ST-LAURENT, QUEBEC H4R 2Y3,</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>G10L19/08</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/CA04/00380</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2004-03-12</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>60/466,784</td>
									<td>2003-05-01</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/223991-method-and-device-for-gain-quantization-in-variable-bit-rate-wideband-speech-coding by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 04:03:54 GMT -->
</html>
