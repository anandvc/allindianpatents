<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/221839-method-and-apparatus-for-new-device-driver-installation-by-an-operating-system by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 09:11:59 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 221839:METHOD AND APPARATUS FOR NEW DEVICE DRIVER INSTALLATION BY AN OPERATING SYSTEM</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">METHOD AND APPARATUS FOR NEW DEVICE DRIVER INSTALLATION BY AN OPERATING SYSTEM</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A method for providing device driver code so as to permit an existing Operating System to configure itself to communicate with the device driver code comprising the steps of: . using a computer system having a memory, display, storage media, a CD-ROM drive and/or floppy disk drive, an input/output system, and an add-device tool; b. inputting into the computer the device driver code and related information, the device driver code and related information being stored in one or more files, and entering a pointer to a source path for the operating system and a pointer to an answer file for the operating and c. executing a code mechanism in the add-device tool to modify the answer file for the operating system and to modify OS installation files for the operating system based upon the device driver code and information; whereby the operating system can subsequently configure itself to communicate with the device 20 driver.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>METHOD AND APPARATUS FOR NEW<br>
DEVICE DRIVER INSTALLATION BY AN<br>
OPERATING SYSTEM<br>
CROSS-REFERENCE TO RELATED APPLICATIONS This application is related to application serial number 09/219,253 entitled Method and Apparatus for Operating System Personalization filed December 22, 1998,<br>
TECHNICAL FIELD This invention relates to the field of Computer Systems. More specifically, the invention relates to computer systems supporting an interface for installation of device drivers   The invention provides an apparatus and method for entering new device driver information into an existing system of computers which make use of various Microsoft Windows"" operating system programs.<br>
BACKGROUND ART It is desirable that installing a Personal Computer (PC) and more specifically installing a new feature on an existing PC be as easy as possible. However, the architecture of the computer and its configuration of devices such as display, mouse, sound capabilities, attached camera, storage devices, etc. must be thoroughly understood by the Operating System (OS) which is to run the computer. The OS must be programmed to access all of the hardware devices attached to the computer in order for it to operate properly. The communication between a hardware device and the OS is supplied by a Device Driver, typically a software or firmware system created specifically to talk to (or drive) the device, the device driver being connected or hooked to the OS. This Device Driver is typically supplied by the manufacturer of the related device. When a new device is attached to a PC its device driver must be installed so that the<br><br>
OS can communicate with the device.  The installation of new devices and their device drivers on existing systems is excessively error prone and time consuming. Accordingly, there is a strong need to automate the process of device driver installation.<br>
For example, during installation of an OS on a PC, the Operating System software can only deal with hardware devices that were known and available at the time the Operating System was built. This often leads to problems installing the Operating System on newer hardware where the user must run through several manual steps in order to configure the new device driver and this only works after the Operating System has been installed. It is extremely difficult for a Microsoft PC system user to understand how to make this work by reading the Microsoft documentation for Windows 95""*, Windows 98""" and Windows NTTM 4.0.<br>
Numerous United States Patents exist on inventions touching on the area of Device Drivers including<br>
US Patent # 5,319,751 - Device driver configuration in a computer system<br>
US Patent # 5,555,401 - Self Configuring device system<br>
Patent # 5,723,282 - Virtual Device Registry having a globally unique identifier supplying virtual driver call information to the requesting program; and<br>
US Patent # 5,752,032 - Adaptive device driver using controller hardware sub-element identifier.<br>
However none of these patents address the fundamental issue of providing a useful tool to a user for inputting new device driver information into a PC in an existing computer network so as to permit an existing OS to easily configure itself to communicate with the new device.<br>
As more and more businesses develop enterprise wide computer systems to support their critical business applications, these businesses are searchine for<br><br>
cost-effective methods of administering these company-wide systems. These businesses, recognizing that approximately four-fifths of the total cost of ownership (TCO) of a computer system resides in the administration and maintenance of the computers, resort to more controlled management practices and tools to reduce this TCO. Microsoft has reacted to this pressure to reduce systems administration costs by targeting system update and application installation, central administration, system lock down, and easy client replacement as functions to reduce TCO, Their solution is its System Management Server (SMS)"", which provides automated software distribution and upgrades, hardware and software inventory of each machine, and remote control and remote diagnostics. SMS is supported in Windows QS, Windows 98™ and Windows NTTM4.0.<br>
Intel"s umbrella term for their TCO initiatives is Wired for Management (WfM). The WfM Baseline provides a minimum set of management capabilities for Personal Computer (PC) designers and systems management application vendors. It focuses on hardware/firmware based capabilities such as remote wake-up, Preboot Execution Environment (PXE) on clients, hardware sensors, and BIOS-based capabilities. Platinum Technology"s AutoConfigure""" System (which was originally called Intel"s LANDesk Configuration Manager™ (LCM) system), is a system for end-user organizations and is designed primarily to automatically install software on networked PCs . It is a PXE server also so it can install the Operating System, and other low-level software, in addition to applications. Platinum"s AutoConfigure system and Microsoft"s SMS systems are used by most large enterprises today to control their PC networks and their TCO.  The Windows Operating Systems and the AutoConfigure System (nee LANDesk Configuration Manager) are described in the following documents which are incorporated fully herein by reference:<br>
Microsoft® Windows®95 Resource Kit 1995 Microsoft Press,<br><br>
Microsoft® Windows®98 Resource Kit 1998 Microsoft Press, ISBN 1-57231-644-6<br>
Microsoft® Windows®NT Workstation Operating System, Deployment Guide, 1997 Microsoft Corporation.<br>
Intel LANDesk® Configuration Manager, Administrator"s Guide, 1997 Intel Corporation.<br>
Guide to Automating Windows NT Setup for installing Windows NT drivers during Windows NT installation.<br>
There is a need in these systems to enable the user to easily provide information on new devices and their drivers so as to minimize system start-up difficulties due to loading of the Operating System without knowledge of the new device and its driver.<br>
The present invention is described below in terms of its preferred embodiment as an adjunct to the Platinum AutoConfigure System (formerly called the Intel LANDesk Configuration Manager (LCM) system, which is now owned by Platinum Technology (the assignee of the present invention) and which was first publicly shipped as a part of the 1.5 version of the LCM system on November 7, 1997.<br>
SUMMARY OF THE INVENTION The present invention includes a method for providing device driver code for a newly installed device so as to permit an existing operating system to communicate with the device driver. The method includes steps of inputting the device driver code into a file in a computer wherein the file has a unique file identification; invoking an add-device tool on the computer, inputting into this add-device tool data representing the unique file identification of the file containing the device driver code, a pointer to the answer file used by the operating system and to the OS installation files used by the operating system;<br><br>
and executing a portion of the add-device tool to modify the answer file used by the operating system and the OS installation files used by the operating system, to include information and code obtained from the file containing the device driver, whereby the operating system can use these modified answer file and OS installation files to configure itself to communicate with the new device using the device driver code.<br>
The method claimed may also include steps wherein the add-device tool, upon being invoked, causes a special graphical user interface (GUI) window to be displayed, facilitating the device driver data input through the use of this GUI window.<br>
The invention also includes an apparatus having a computer and various peripherals arranged to permit an existing operating system to configure itself to communicate with device driver code, wherein the apparatus includes device driver code and related information stored in a file having a unique file identification; having an add-device tool stored in the system memory; and having code mechanisms to invoke the add-device tool which is configured to permit a user to easily input the unique file identification for the file containing the device driver code and related information and to input a pointer to answer file and OS installation files used by the operating system; and having a code mechanism which can modify the answer file and OS installation files used by the operating system with code and data for the device driver, whereby the operating system can subsequently configure itself to communicate with the new device driver. The apparatus is also claimed containing a graphical user interface window (GUI) which is used to facilitate the input to the device driver and OS files information. The invention also includes a computer program product for providing this same capability which is embedded on a computer readable medium.<br><br>
Other embodiments of the present invention will become readily apparent to those skilled in these arts from the following detailed description, wherein is shown and described only the embodiments of the invention by way of illustration of the best mode known at this time for carrying out the invention. The invention is capable of other and different embodiments some of which may be described for illustrative purposes, and several of the details are capable of modification in various obvious respects, all without departing from the spirit and scope of the present invention.<br><br>
BRIEF DESCRIPTION OF THE DRAWINGS<br>
The features and advantages of the apparatus and method of the present invention will be apparent from the following description in which:<br>
Figure 1 illustrates a representative general purpose computer configuration.<br>
Figure 2 depicts a general Operating System architecture. .<br>
Figure 3 depicts the general interactions of the present invention<br>
Figure 4 illustrates an exemplary GUI window for entering device driver data.<br>
Figure 5 illustrates an exemplary GUI window for support of entry of device driver and other file data.<br>
Figure 6 illustrates a flow-chart of the general operation of the method of the current invention.<br><br>
BEST MODE FOR CARRYING OUT THE rNVENTTON A method and apparatus are disclosed for inputting new device driver information into a Personal Computer (PC) in an existing computer network so as to enable the Operating System (OS) to recognize the new hardware device during installation of the OS and to permit the OS to automatically install the associated device driver. In the following description for purposes of explanation, specific data and configurations are set forth in order to provide a thorough understanding of the present invention. However, it will be apparent to one skilled in these arts that the present invention may be practiced without the specific details. In other instances, well known systems and protocols are shown and described in diagrammatical or block diagram form in order not to obscure the present invention unnecessarily.<br>
TERMINOLOGY:<br>
Term	Definition<br>
Device	A generic term for a computer component, such as a<br>
printer, serial port, disk drive, mouse, display, sound card, camera, etc. A device frequently requires its own controlling software called a device driver.<br>
Device Driver     A program that enables a specific piece of hardware (the device) to communicate with a computer Operating System (OS). Although a device may be attached to a computer, typically the OS cannot<br>
recognize the device until the user has installed and configured the appropriate driver.<br>
INF File	Vendor specific INF file for driver information.<br>
Windows INF file	This is a file that provides Windows 95/98/NT<br>
Setup with the information required to set up a device, such as a list of valid<br><br>
logical configurations for the device, the names of driver files for the device, etc. An INF file is typically provided by the device manufacturer.<br>
INF file format	Windows INF file formats are described in detail<br>
in Appendix C in the Windows 95/98 Resource Kit documents.<br>
OS Path	Directory where the Operating System files are<br>
located, generally described in detail in the Windows 95/98 Resource Kit documents.<br>
Answer file	A text file that typically contains pre-defined<br>
answers to questions that might arise during installation (installation prompts). For example, a user might be prompted to enter a name, a serial number, a preferred language, etc. By pre-typing the answers to these questions in a text file an administrator can help users install software on PCs in unattended mode. Not all software comes with answer file capabilities, and answer files may be called by other names. The format of an answer file is typically relatively simple, consisting of three components : sections (specifying groupings of similar keywords), keywords (corresponding to the prompts that typically occur when an application installs), and values (responses to the requests for input).<br>
Hardware tree	In Windows systems, a record in Random Access<br>
Memory of the current system configuration, based on the configuration information for all devices in the hardware branch of the Registry.<br>
Registry	In Windows 95/98/NT systems, the Registry is the<br>
database repository of information about a computer"s configuration.<br><br>
Setup	In Windows 95/98/NT systems , Setup is<br>
a program designed to guide the user/administrator in installing the particular operating system and in customizing the installation for the particular hardware and user through the use of pre-programmed configurations, safe defaults, and various automated hardware detection processes.<br>
OPERATING ENVIRONMENT<br>
The environment in which the present invention is used encompasses the general distributed computing scene which includes generally local area networks with hubs, routers, gateways, tunnel-servers, applications servers, etc. which may be connected to other clients and other networks via the Internet, wherein programs and data are made available by various members of the network for execution and access by other members of the network. The client machines are typically Personal Computers (PCs).<br>
In the preferred embodiment, the LANs are composed of clients and servers running Microsoft Windows Operating Systems (95/98/NT) whose operating environments are generally controlled by either the Microsoft Systems Management Server (SMS) or the Platinum AutoConfigure System.<br>
The computer system of the preferred embodiment includes generally the elements shown in Figure 1, wherein an exemplary general purpose computer 200 includes a cabinet 201 which includes a motherboard 203 having thereon an input/output (I/O) section 205, one or more central processing units (CPU) 207, and a memory section 209 which may have a flash memory card 211 related it. The 1/0 section 205 is connected to a keyboard 226, other similar general purpose computer units 225, 215, a disk storage unit 223 and a CD-ROM drive unit 217. Alternatively the CD-ROM unit may be replaced by a floppy disk drive unit in some such systems. The CD-ROM drive unit 217 can read a CD-ROM medium 219 which typically contains programs 221 and other data. Logic<br><br>
circuits or other components of these programmed computers will perform series of specifically identified operations dictated by computer programs as described more flilly below.<br>
Figure 2 is a general chart showing the relationship between the operating system, device drivers and computer hardware/devices. In Figure 2 application programs 251 interface with an operating system 253, which in turn communicates with various device drivers 255, which control the various related hardware devices 257 which make up a particular computer architectural configuration. Whenever a new device is added to the hardware configuration 257 generally a corresponding device driver for that new device must be added to the device driver section 255 and connections made with the operating system 253 so that the operating system can communicate with the new piece of hardware.<br>
In Windows based systems, the Windows Setup program during system install, detects the hardware devices and components which are already configured on the computer and uses this information to install drivers and set Registry entries. If a user installs support manually for a hardware component that does not appear in the Readme file and Setup.txt files of the Setup program as being a supported device by the OS, then the user must add the device driver(s) to the system hardware tree and Registry. The present invention provides an automated assist in making the necessary entries as effortless as possible.<br>
THE INVENTION<br>
The present invention is an apparatus and method for automating the addition of a device driver for a newly installed device for which an existing Operating System may not be configured. In the preferred embodiment, the<br><br>
general process of the invention is depicted in Figure 3. Referring to Figure 3 a vendor INF file 305 which contains data and code for and about a newly installed device is identified to an add-device tool by means of a graphical user interface (GUI) 307. Also identified via the GUI 307 are pointers to an OS answer file 301 and to the OS source path 303. The add-device tool takes these inputs and modifies the answer file 309 and OS installation files 311 to add the data and code relating to the new device driver and outputs these files for later use by the OS<br>
Graphical User Interface:<br>
In the preferred embodiment, the add-device tool has been provided as a separate utility. Referring now to Figure 4 an exemplary graphical user interface (GUI) is shown. This GUI is displayed to the user when the add-device tool is invoked. The GUI shown is labeled Windows 95 Driver Add Utility - Beta Release only 401 however in the preferred embodiment the GUI for Windows 95/98/NT is the same as that shown in Figure 4 except the titles at 401 refer as 95/98/NT. In the preferred embodiment the GUI is used in conjunction with the Platinum AutoConfigure System as labeled Intel LANDesk Configuration Manager 402. Using the GUI, the user has to enter the Vendor INF file name 406 in the box labeled Vendor INF Filename 404, the Windows Source path 410 in box 408, the Answer file that is going to be used 414 in box 412 and the name of a log file (optional) 418 in box 416. The log file 418 is an ordinary text file which contains the event log of the program. A status bar 422 is shown to the user about the activity of adding the driver"s information, depending on the user"s selection of the Log detail level 420. The user can use the log file at a later stage, to trouble shoot the reason for the driver not being added in case of the tool"s failure to add the drivers to the OS installation files. User selection is validated for the INF file by verifying the version section of the file (which is<br><br>
described further below). User selection of OS path is validated for the existence of the directory and whether it is writeable or not. The system gets all the driver information from the INF file and updates the Answer file and the Custom.Inf file in the source path. If the Custom,Inf file doesn"t exist, the tool will create one and adds the required sections to it. If the user has completed the data entry he clicks on the OK button 434 and then clicks the close button 436. If at any point in the process the user is unsure of what to enter he can click on the Help button 438 and a separate help GUI will be displayed indicating general instructions for what must/can be done for each entry required.<br>
The user can either enter the filename, and paths (as indicated in 406, 410, 414 and 418) or he can use the browse button 426, 428, 430 or 432 to select the required files and directories. If the user selects any of the browse buttons he will get a screen like the one shown in Figure 5. The GUI in Figure 5 is labeled Select Vendor.INF File 501 which would be the GUI which is displayed if the user clicked on the browse button 426 in Fig. 4 opposite to the Vendor.INF Filename box (406 in Fig.4). Similar GUIs would be displayed for the other browse buttons (428, 430 or 432 in Fig.4) and the title bar 501 would display the appropriate title. Using this GUI the user can select a disk drive 511 containing the device driver files and directories, a directory 513 to indicate a specific set of files 505 contained in the directory, and can then select the specific INF filename from among those displayed in box 505. The one selected would be displayed in the file Name box 503 and if that is the one desired by the user he would click on the OK button 507 and the file name selected will be transferred to the appropriate box in the GUI shown in Fig.4 If the user is not satisfied with the file name selected he can click on the cancel button 509 and begin the browse operation again.<br>
PROCESS<br><br>
Adding a driver in Windows OS Setup depends greatly on whether it is being added to the Windows* 95/98 or Windows NT. As indicated above, the inputs for adding a driver are the INF file, answer file, OS source path and the output is a modified answer file, modified OS installation files. In the preferred embodiment the process is depicted in Figure 6. Referring now to Figure 6 when the file names and path names have been inputted into the add-device GUI and the OK button is clicked ( 434 in Fig.4) the add-device tool begins the process of adding the driver data to the Windows Setup files 601. The designated Driver INF file is read 603 and a determination is made as to whether the driver is for windows 95/98 or NT 605. If it is for neither 609, an error message is displayed 613 and the process exits 614. In the preferred embodiment, determining whether it is a Windows 95 INF file requires a check for Signature key under Version section. (Note that the format for an INF file is shown in Appendix C of the Windows 95 Resource Kit document which is incorporated fiilly herein by reference). The value should be one of the following values;<br>
$CHICAGO$,<br>
$Windows95$<br>
SWindows 95$<br>
For Example:<br>
[version]<br>
Lay outFile=l ayout. inf<br>
signature=$CHlCAGO$<br>
Class=Net<br>
provider=%V_MS%<br>
If the signature value matches one of the above then it is determined to be a Windows 95/98 type INF file 607 and the process proceeds to copy the files<br><br>
from the directory where the INF file is given to the directory where the OS source files exist 615. This file copying process proceeds as follows.<br>
For all the CopyFiles sections of the INF file, get their values. These values are either sections under which the actual files are specified or the actual files themselves. These values are separated by "," and hence broken to individual   strings before finding out whether they are actual files or sections indicating where to look for the actual files. If the first character of the value is preceded by "@" then this is the actual file otherwise it is the section under which actual files are specified.<br>
Read the file sections for actual file names. These sections are formatted as <destination-filename> [,[<source-directory>\]<source-filename>] [,temporary-filename] [,flag]. NOTE: The <source-filename> is the same as the <destination-filename> if the <source-filename> parameter is NOT present. The source is the source directory fi"om which the INF file is read. We read files and directories from the INF location and copy them to the OS installation file location.<br>
For example:<br>
; Install NDIS3<br>
[E100B.ndis3]<br>
CopyFiles=E 100B.ndis3 .CopyFiles<br>
[El 00B.ndis3.CopyFiles]<br>
elOOb.sys, nt\elOOb.sy_ , nt is the subdirectory<br>
; Install NDIS2<br>
[E100B.ndis2]<br>
CopyFiles=E100B.ndis2.CopyFiles<br><br>
[E100B.ndis2.CopyFiles] elOOb.dos, ndis\elOOb.dos<br>
The values for the CopyFiles keys are E100B.ndis3.CopyFiles and E100B,ndis2.CopyFiles.  Since these values are not preceded by "@" they are names of the file sections.<br>
Reading the sections E100B.ndis3.CopyFiles and E100B.ndis2.CopyFiles and we get elOOb.sys, nt\elOOb.sy_ and elOObdos, ndis\elOOb.dos. From these values we determine that the files are elOOb.sy_ and elOOb.dos and their relative directories are nt and ndis respectively. We copy the files from A:\E100B\NT\E100B.SY_ and A:\E100B\NDIS\el00b.dos to \\LCM_1234\OS\WIN95\NT\E100B.SY_ and \\LCM_1234\0S\WIN95\NDIS\E1 GOB .DOS<br>
(where A;\E]OOB is INF directory and \\LCM_1234\OS\WIN95 is the OS source).<br>
Finally the INF file is copied to OS source directory.<br>
Next the Answer file is updated 617. This is done as follows:<br>
We update the answer file with INF information so that Windows* 95/98 Setup will copy the needed driver files. We update the following entries in the answer file:<br>
[Install]<br>
This section sets parameters for copying additional files as part of Windows* 95 installation. We append the Inf.Copy value to the CopyFiles key under the Install section (the Inf Copy section is the section under which files to be copied are listed).<br><br>
[Install]<br>
CopyFiles=Inf.Copy [Inf. Copy]<br>
Write the actual INF file name as a key under this section so that Windows* 95 Setup picks up this file and copies it to the OS source directory. [InfCopy] netelOOb.inf=<br>
where netelOOb.inf is the INF file name.<br>
[DestinationDirs]<br>
This section defines the destination directories for the above [InfCopy] sections<br>
[DestinationDirs]<br>
Inf.Copy=17<br>
Here 17 is the INF directory. For the values refer to Microsoft Windows 95 Resource Kit from Microsoft Press.<br>
Finally the CUSTOM.INF file is updated 619. This is done as follows:<br>
We update the CUSTOM.INF file in the OS source directory in case the answer file uses custom setup instead of the typical installation.<br>
(In the answer file the custom setup can be chosen by specifying the<br>
value 3 for Install Type under the Setup section)<br>
We write the following secrions in the CUSTOM.INF file<br>
[Version]<br>
Signature=$CHICAGO$ ; For Windows 95<br>
[CustomPrecopy]<br><br>
CopyFiles=PrecopyFiles [PrecopyFiles] elOOb.sy_= elOOb.dos= elOObodi.com= netelOOb.inf=<br>
Note the above values are for example only. The actual files depends upon the actual driver.<br>
Copy file sections described as in CopyFiles item.<br>
[DestinationDirs] PrecopyFiles=2<br>
2 is temporary setup directory. [SourceDisksNames] l=Disk_l_Desc„0<br>
Identifies and names the disks used for installation of the given device drivers.<br>
Here 1 identifies one source disk and assigns it ordinal 1 and DisklDesc as a description [SourceDisksFiles] filename=disk-number<br>
Names the source files used during installation and identifies the source disks that contain the files. The ordinal of the source disk defined in the disk-number must be defined in the [SourceDiskNames] section. [SourceDisksFiles] elOOb.sy_=l,nt,ll elOOb.dos=l,ndis,ll elOObodi.com=l,dos,ll<br><br>
netelOOb.inf=I„Il<br>
At this point the process for the Windows 95/98 driver add is completed and the process exits 614.<br>
Referring again to Figure 6 if the driver in the INF file is not for Windows 95/98 but rather for Windows NT 611 the driver type is determined. 621. If it is for Windows NT the value should be one of the following values;<br>
$WINDOWSNT$,<br>
$WindowsNT$ SWindows NTS<br>
For Example:<br>
[version]<br>
LayoutFile=layout.inf<br>
signature=$WINDOWSNT$<br>
Class==Net<br>
provider-%V_MS%<br>
If the signature value matches one of the above then it is determined to be a Windows nt type INF file and the Add-Device tool tries to determine which<br>
of the following type the driver is.<br>
-	Display.<br>
-	Network.<br>
-	SCSI.<br>
-	Mouse.<br><br>
If the INF file is Windows NT 4.0 format the type is determined by reading the Class key in [Version] section of the fNF file, if the INF file is Windows NT 3.51 format the type is taken from OptionType key in [Identification] section. The INF file is read and information about the driver is extracted as follows.<br>
if the type is Display - we get Adapter model.<br>
if the type is Network - We get Adapter model.<br>
if the type is SCSI - We get the SCSI model and driver files; and<br>
if the type is Mouse - We get the mouse model and driver files.<br>
The process then displays all available adapter models supported by this driver. The user picks up a driver model from the displayed list. Then a list of driver files is created for this particular model. 623.<br>
Next the tool modifies the answer file and txtsetup.oem files. 625 as follows:<br>
If it is a Display - Modify only the answer file.<br>
AddDevice writes the following information in the [Display] section.<br>
[Display]<br>
InfFile=FileName.inf"<br>
lnfOption=Driver String<br>
lnstallDriver=l<br>
BitsPerPel=16<br>
XResolution=640<br>
YResolution=480<br>
VRefresh=60<br>
AutoConfirm=l<br><br>
If it is a Network type - We modify only the answer file.<br>
The Add-Device tool writes the following information in the [Network] section.<br>
E1 OOBPCl-NetCardSection, \$OEM$\ADAPTERKEY<br>
NetCardSection is the section with Network Interface Card (NIC) configuration parameters. If it is empty, Windows setup will detect them. \$OEM$\ADAPTERKEY is the directory with driver files. It is relative to the source path directory. ADAPTERKEY is determined when the user selects the adapter model fi-om the list of supported adapters.<br>
If it is a SCSI type - We modify answer file and txtsetup.oem files.<br>
The Add-device tool writes the following information in the [MassStorageDrivers] section.<br>
Driver String = OEM<br>
It writes also all the necessary driver files in [OemBootFiles] section.<br>
The Add-Device tool also modifies the Txtsetup.oem file in \$OEM$\TEXTMODE directory, supplying list of the driver files.<br>
If it is a Mouse Type - We modify the answer file and txtsetup.oem files.<br>
The Add-Device tool writes the following information in the [PointingDeviceDriver] section.<br>
Driver String = OEM. It also modifies the Txtsetup.oem file in \$OEM$\TEXTMODE directory, supplying list of the driver files.<br>
Finally, the add-device tool copies the driver files to OS installation files location 627 as follows:<br><br>
Step 1 -Copying the files from the source (the directory where the INF file is) to directory where the OS files are.<br>
A special directory $OEM$ must be created under OS installation files directory. For SCSI and Mouse drivers the files must be copied into $OEM$\TEXTMODE directory. The process of determining which files are to be copied is described below. Windows NT requires all OEM files that will be installed during Text mode setup to be in the TEXTMODE directory under $OEM$.<br>
For display drivers all of the files are copied into $OEM$\Display directory.<br>
For network drivers all, the files are copied into a subdirectory of $OEM$ that has the name of the driver key. The driver key is the name of the key in [Options] section of the INF file. For example if the name of the driver key in the INF file is EIOOBPCI, all the files will be copied into $OEM$\E100BPCI directory.<br>
Step 2.-For all the CopyFiles sections of the INF file, get their values. These values are either sections under which the actual files are specified or the actual files themselves. These values are separated by"," and hence broken to individual strings before finding out whether they are actual files or sections to look in for the actual files. If the first character of the value is preceded by "@" then this is the actual file otherwise it is the section under which actual files are specified.<br>
Read the file sections for actual file names. These sections are formatted as <destination-filename> [,[<source-directory>\]<source-filename>] [.temporary-filename] [,flag]. NOTE: The <source-filename> is the same as the <destination-filename> if the <source-filename> parameter is NOT present. The<br><br>
source is the source directory from which the INF file is read. We read files and directories from the INF location and copy them to the OS source files location. For example.<br>
; Install NDIS3<br>
[ElOOB.ndisS]<br>
CopyFiles=E100B.ndis3.CopyFiles<br>
[E100B.ndis3.CopyFiles]<br>
elOOb.sys, nt\elOOb.sy_ ; nt is the subdirectory<br>
; Install NDIS2<br>
[E100B.ndis2]<br>
CopyFiles=E 1OOB. ndis2. CopyFiles<br>
[E100B.ndis2.CopyFiles]<br>
elOOb.dos, ndisVelOOb.dos<br>
At this point the files necessary ft)r NT to install the new driver have been modified and the add-device tool exits 614.<br>
It is noted that one caimot remove the driver information from answer file once it is inserted therein. Once the file is modified, if a user chooses to remove the driver information from the answer file, a new answer file must be selected from the service wizard OS page or the data must be removed manually from the existing file.<br>
Having described the invention in terms of a preferred embodiment, it will be recognized by those skilled in the art that various types of general purpose computer hardware may be substituted for the configuration described above to achieve an equivalent result. It will be apparent to those skilled in the art that modifications and variations of the preferred embodiment are possible,<br><br>
which fall within the true spirit and scope of the invention as measured by the following claims.<br><br><br>
We Claim:<br>
1. A method for providing device driver code so as to permit an existing Operating System to configure itself to communicate with the device driver code comprising the steps of:<br>
a.	using a computer system having a memory, display, storage media, a<br>
CD-ROM drive and/or floppy disk drive, an input/output system, and an add-device<br>
tool;<br>
b.	inputting into the computer the device driver code and related<br>
information, the device driver code and related information being stored in one or<br>
more files, and entering a pointer to a source path for the operating system and a<br>
pointer to an answer file for the operating and<br>
c.	executing a code mechanism in the add-device tool to modify the answer<br>
file for the operating system and to modify OS installation files for the operating<br>
system based upon the device driver code and information; whereby the operating<br>
system can subsequently configure itself to communicate with the device 20 driver.<br>
2. The method as claimed in claim 1 comprising the steps of invoking on the computer the add-device tool whereby a graphical user interface (GUI) window is displayed, and entering into the GUI window a unique file identification of the file containing the device driver code and information, and entering the pointer to a source path for the operating system and a pointer to an answer file for the operating system.<br><br>
3.	The method as claimed in claim 1 wherein the computer is one of a number of computers on an enterprise computing network.<br>
4.	The method as claimed in claim 3 wherein the add-device tool executes 5 under the control of any program or system of programs that installs an OS.<br>
5.	The method as claimed in claim 4 wherein the program or system of programs that installs an OS is a Platinum AutoConfigure System.<br>
6.	The method as claimed in claim 4 wherein the program or system of programs that installs an OS is a Microsoft Systems Management System (SMS).<br>
7.	An Apparatus for permitting an existing Operating System to configure itself to communicate with device driver code, in a computer system having a memory, display, storage media, a CD-ROM drive and/or floppy disk drive, an input/output system, the apparatus comprising:<br>
a.	device driver code and related information stored in a file in the<br>
memory, the file having a unique file identification;<br>
b.	an add-device tool stored in the memory;<br><br>
c.	the add-device tool configured to recognize the unique file identification<br>
of the file containing the device driver code and information, to<br>
recognize a pointer to a source path for the operating system and a<br>
pointer to an answer file for the operating system; and<br>
d.	a first code mechanism to modify the answer file for the operating<br>
system and to modify the OS installation files for the operating system based upon the<br>
device driver code and information; whereby the operating system can subsequently<br>
configure itself to communicate with the device driver.<br>
8.	The apparatus as claimed in claim 7 comprising a second code mechanism configured to invoke on the computer the add-device tool whereby a graphical user interface (Gill) window is displayed when the add-device tool is invoked, and wherein the unique file identification of the file containing the device driver code and information, to recognize a pointer to a source path for the operating system and a pointer to an answer file for the operating system are entered into the add-device tool using the Gill window.<br>
9.	The apparatus as claimed in claim 7 wherein the computer is one of a number of computers on an enterprise computer network.<br>
10.	The apparatus as claimed in claim 8 wherein the add-device tool executes under the control of any program or system of programs that installs an OS.20<br><br>
11.	The apparatus as claimed in claim 10 wherein the program or system of programs that installs an OS is a Platinum AutoConfigure System.<br>
12.	The apparatus as claimed in claim 10 wherein the program or system of 25 programs that installs an OS is a Microsoft Systems Management System (SMS).<br>
13.	The method as claimed in claim 1 wherein the operating system is a Microsoft Windows operating system.<br>
14.	The apparatus as claimed in claim 7 wherein the operating system is a Microsoft operating system.</source-filename></destination-filename></source-filename></source-filename></source-directory></destination-filename></source-filename></destination-filename></source-filename></source-filename></source-directory></destination-filename></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMDYzNi1jaGUgYXNzaWdubWVudC5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2001-0636-che assignment.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMDYzNi1jaGUgY2xhaW1zLWR1cGxpY2F0ZS5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2001-0636-che claims-duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMDYzNi1jaGUgY2xhaW1zLnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2001-0636-che claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMDYzNi1jaGUgY29ycmVzcG9uZGVuY2Utb3RoZXJzLnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2001-0636-che correspondence-others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMDYzNi1jaGUgY29ycmVzcG9uZGVuY2UtcG8ucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2001-0636-che correspondence-po.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMDYzNi1jaGUgZGVzY3JpcHRpb24gKGNvbXBsZXRlKS1kdXBsaWNhdGUucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2001-0636-che description (complete)-duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMDYzNi1jaGUgZGVzY3JpcHRpb24gKGNvbXBsZXRlKS5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2001-0636-che description (complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMDYzNi1jaGUgZHJhd2luZ3MucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2001-0636-che drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMDYzNi1jaGUgZm9ybS0xLnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2001-0636-che form-1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMDYzNi1jaGUgZm9ybS0xOS5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2001-0636-che form-19.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMDYzNi1jaGUgZm9ybS0yNi5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2001-0636-che form-26.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMDYzNi1jaGUgZm9ybS0zLnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2001-0636-che form-3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMDYzNi1jaGUgZm9ybS01LnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2001-0636-che form-5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMDYzNi1jaGUgb3RoZXJzLnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2001-0636-che others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMDYzNi1jaGUgcGN0LnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2001-0636-che pct.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMDYzNi1jaGUgcGV0aXRpb24ucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2001-0636-che petition.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="221838-knuckle-drive-link-conveyor-belt-systems.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="221840-apparatus-and-method-for-remote-current-sensing.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>221839</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>IN/PCT/2001/636/CHE</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>37/2008</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>12-Sep-2008</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>08-Jul-2008</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>08-May-2001</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>COMPUTER ASSOCIATES THINK, INC.</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>One Corporate Associates Plaza Islandia, NEW YORK 11749,</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>MAXWELL, Randall, K</td>
											<td>104 Dell Avenue, Oregon City, OR 97045,</td>
										</tr>
										<tr>
											<td>2</td>
											<td>PEDAPATI, Bharani, K</td>
											<td>Apartment 329 1221 Northeast 51st Avenue, Hillsboro, OR 97124,</td>
										</tr>
										<tr>
											<td>3</td>
											<td>DECKER, F, Jay</td>
											<td>1920 Hawk Court, Enumclaw, WA 98022,</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>G06F15/177</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/US1999/025448</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>1999-10-28</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>09/183,336</td>
									<td>1998-10-30</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/221839-method-and-apparatus-for-new-device-driver-installation-by-an-operating-system by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 09:12:00 GMT -->
</html>
