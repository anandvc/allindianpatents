<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/230697-device-and-method-for-setting-a-record-carrier-to-read-only-state by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 11:29:53 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 230697:DEVICE AND METHOD FOR SETTING A RECORD CARRIER TO READ-ONLY STATE</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">DEVICE AND METHOD FOR SETTING A RECORD CARRIER TO READ-ONLY STATE</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A device records information in blocks having logical addresses at a physical address in a track on a record carrier. The logical addresses are translated into the physical addresses in dependence of defect management information (52, 53, 61, 64), which includes defect entries indicating locations for replacing defective physical addresses. A read-only state of the record carrier is obtainable via a non-replacement state indicated by substantially none of the defect entries being free for use. The device has a read-only unit for setting the record carrier to the read-only state by reading original replacement information indicating a writable state, storing the original replacement information (60) in a hidden area, and writing defect management information (61) that is modified to the no-replacement state. The record carrier may be re-opened by retrieving the original replacement information (60) from the hidden area.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td> <br><br>
Device and method for recording information<br>
The invention relates to a device for recording information in blocks having logical addresses, which device comprises recording means for recording marks in a track on a record carrier representing the information, and control means for controlling the recording by locating each block at a physical address in the track.<br>
The invention further relates to a record carrier for storing information, the record carrier comprising information in blocks having logical addresses located at physical addresses in a track.<br>
The invention further relates to a method of recording of information in blocks having logical addresses located at a physical address on a record carrier.<br>
The invention further relates to a computer program product for recording of information.<br>
The invention relates to the field of defect management in recording systems, and in particular to setting a record carrier to a read-only state.<br>
A device and method for recording information on a record carrier are known from US 5,956,309. The apparatus has recording means for recording the information in information blocks having logical addresses on an optical disc in a track at allocated physical addresses. The logical addresses constitute a contiguous storage space. In practice, the record carrier may exhibit defective parts of the track, in particular a defect preventing a block to be recorded at a specific physical address. These defects might be caused by product flaws, scratches, dust, fingerprints, etc. The physical addresses having defects are detected and defect management information is created and maintained. For example, initially before any user data is recorded, defects are detected, and physical addresses of defective sectors are removed from use by skipping the affected physical addresses based on a (primary) defect table, a process usually called slipping. In the event of defects detected during use of the record carrier, logical addresses assigned to defective physical addresses are assigned to different physical addresses in a defect management area via a (secondary) defect table, a process usually called remapping or linear replacement, in general the defect management<br><br>
area may be constituted by physically distributed sub-areas. In the tables defect entries indicate locations of physical addresses to be used for the replacement of defective physical addresses. The entries may be free for use or indicate a replacement.<br>
Recording media like optical discs (DVD+R W». Blu-ray Disc, etc.) are capable of storing large amount of data of different types. They can be used in different environments having specific requirements as for organization of data on a recording medium. Typically, data are organized into files in accordance with rules of a particular file system. Such file system has its own file system data, which include infomation about all kind of structures relating to data stored on a recording medium. In particular, file system data may include volume structures representing the structures of logical and/or physical volumes, tile structures representing the structures of files containing the data, directory structures describing grouping of files, and a space bitmap representing allocated or unallocated space for storing data on a recording medium. A recording medium may comprise addressable recording units for storing the data. At a level of a file system those units are referenced to with use of logical addresses defining addressing space. Partitioning of a recording medium allocates a space on the medium for storing data under control (according to rules) of a file system.<br>
At present, for example, DVD+RW discs are in use by Consumer Electronics (CE) devices and in the Personal Computer (PC) environment. In the CE environment DVD+RW discs are used mainly for recording digital video information according to a format of DVD Video Recording, commonly referred to as D VEHVR. This means that there are defined specific allocation rules and set of files containing the video information itself and information about that video information such as title information, menu structures, etc. For example, in the DVD+VR format some files start at fixed addresses. Next to that the (predefined) list of files has to be physically on a medium in a certain order.<br>
The PC environment is based on a different philosophy. There are, in principle, no allocation requirements. Specific applications may require some files to be present in a certain directory and applications will typically have their own data format to store information in files or to retrieve information from a file. This means that as long as there is free space available on a medium it is possible to add data files to that medium from all kinds of different applications. A s an example, on a single disc there could be multi-media files, text files and executable files all mixed with each other.<br>
Recently, more and more CE devices, like video players/recorders, have capability to seek through the file system information on the disc for files of a certain type<br><br>
that they can handle as well. Examples of this are (mainly) JPEG files and also, already more and more, MP3 files. In the future possibly more types of multi-media files will be supported in the CE world. Next to that, also new standards on meta-data are created (such as e.g. MPV or HighMAT) designed to make it easier to move digital content between PCs and home electronics devices, e.g. by providing a common "look and feel" in different environments.<br>
The published international patent application WO 01/22416 A1 discloses the recording apparatus capable of performing initialization, formatting and defect management of a rewritable medium such as a CD-RW disc. This is done to facilitate the use of CD-RW as a high-capacity floppy disc, so immediate writing or reading of files is possible. Such media are commonly referred to as Mount Rainier Rewritable (MRW) media, e.g. CD-MR W, DVD+MRW. Furthermore, said recording apparatus makes it possible to store file system data of different file systems on one recording medium, so-called "bridge medium". This facilitates sharing of the bridge medium between different environments, e.g. the CE environment and the PC environment. A special part of a recording medium, called a general application area (GAA), is allocated for storing file system data of a file.system used by other devices not capable of performing the defect management in line with WO 01/22416 Al. In the DVD+MRW media, GAA has a size of 2 MBytes.<br>
In the PC environment the most likely way of adding data to the bridge medium is by means of "drag-and-drop" technique. A user can then make the medium compatible with legacy players through the use of a compliance (bridge) application running on the PC. Basically, the application writes a second ("limited") file system data, called "CE-bridge", to the medium, using the suitable file system(s) and content pointers, such that a legacy "non-MRW" system can interpret these as content under its main file system. As a result, the CE-player will play the'contentthat is referenced by this file system data, for which it has suitable content decoders. When the bridge medium is used in a non-MRW PC-drive, the GAA file system is mounted by the host and "drag-and-drop" is not possible.<br>
In general there is a need to protect a record carrier against modifying the contents, commonly referred to as a read-only state. The current MRW recording format does not provide a read-only mechanism.<br>
It is an object of the invention to provide a system for setting a record carrier to a read-only state, which is also recognized by legacy devices according to a predefined recording format.<br><br>
For this purpose in accordance with a first aspect of the invention, in the device for recording as defined in the opening paragraph, the control means comprise defect management means for translating the logical addresses into the physical addresses and vice versa in dependence of defect management information in a defect management area according to a predefined recording format, the defect management information including defect entries indicating locations for replacing defective physical addresses, a read-only state of the record carrier being obtainable via a no-replacement state indicated by substantially none of the defect entries being free for use, and read-only control means for setting the record carrier to the read-only state by reading original replacement information indicating a writable state from the defect management area, the original replacement information at least including at least one defect entry being free for use, storing the original replacement information in a hidden area, and modifying the defect management information to the no-replacement state.<br>
For this purpose in accordance with a second aspect of the invention, the record carrier as defined in the opening paragraph comprises defect management information in a defect management area according to a predefined recording format, which defect management information provides a relation between the logical addresses and the physical addresses, and includes defect entries indicating locations for replacing defective physical addresses, a read-only state of the record carrier being effected via a no-replacement state indicated by substantially none of the defect entries being free for use, and original replacement information in a hidden location indicating a writable state of the defect management information, the original replacement information at least including at least one<br>
defect entry being free for use.<br>
For this purpose in accordance with a third aspect of the invention, in the method of recording of information as defined in the opening paragraph, the logical addresses correspond to the physical addresses in dependence of defect management information in a defect management area according to a predefined recording format, which defect management information includes defect entries indicating locations for replacing defective physical addresses, a read-only state of the record carrier being obtainable via a no-replacement state indicated by substantially none of the defect entries being free for use, the method comprising setting the record carrier to the read-only state by reading original replacement information indicating a writable state from the defect management area, the original replacement information at least including at least one defect entry being free for<br><br>
use, storing the original replacement information in a hidden location, and modifying the defect management information to the no-replacement state.<br>
The measures according to the invention have the effect that devices operating accordingto the pre-existing recording format, such as MRW, while reading a record carrier having the no-replacement state, must refrain from recording new data. This effectively<br>
brings the record carrier into the read-only state. This has the advantage that devices operating according to the new, extended recording format are aware of the original replacement information, and therefore are aware of the setting to the read-only state. Moreover, such devices may reset the record carrier from the read-only state to the original writable state by recovering the original replacement information.<br>
In an embodiment of the device the read-only control means include re-open means for resetting the record carrier from the read-only state by retrieving the original replacement information from the hidden location, modifying the defect management information to the writable state in dependence of the original replacement information. This has the advantage that the record carrier is reset to the writable state having the defect management information equal to the state before setting the record carrier to the read-only state.<br>
In an embodiment of the device the defect entries are arranged in defect tables, and the read-only control means are arranged for storing a copy of the defect tables as the original replacement information in the hidden location. This has the advantage that recovering the original writable state is performed by reading the copy and writing the data to the defect management area accordingto a predefined recording format.<br>
In an embodiment of the device the defect management information comprises a main information packet having pointers to the defect tables, and the read-only control means are arranged for generating a secondary information packet having pointers to the copy of the defect tables in the hidden location. This has the advantage that a same reading mechanism is applicable for reading the original defect tables and for reading the copy.<br>
In an embodiment of the device the read-only control means are arranged for storing the original replacement information in the hidden location having a predefined<br>
position related to the defect management information, in particular related to a position of the defect entries in the defect management area. This has the advantage that the hidden location can be easily found via the location of the defect management information Further embodiments are given in the dependent claims.<br><br>
These and other aspects of the invention will be apparent from and elucidated further with reference to the embodiments described by way of example in the following description and with reference to the accompanying drawings, in which<br>
Figure 1 a shows a record carrier (top view),<br>
Figure 1 b shows a record carrier (cross section),<br>
Figure 2 shows a recording apparatus (in accordance with the invention),<br>
Figure 3 a shows a simplified layout of a non-MRW type of medium (prior art),<br>
Figure 3b shows a simplified layout of a MRW type of medium (prior art),<br>
Figure 4 shows an example of a method of blocking write access to the user area using a list of replacement areas (in accordance with the invention),<br>
Figure 5 shows a disc layout with the table structures of a MRW formatted disc,<br>
Figure 6 shows a disc layout with the table structures of a MRW formatted disc and hidden locations for original replacement information, and<br>
Figure 7 shows a secondary defect management area and original replacement information. Corresponding elements in different Figures have identical reference numerals.<br>
Figure la shows an example of a recording medium 11 having a form of disc with a track 9 and a central hole 10. The track 9, being the position of the series of (to be) recorded marks representing digital information signals (data), is arranged in accordance with a spiral pattern of turns constituting substantially parallel tracks on an information layer. The recording medium may be optically readable, called an optical disc, and has an information layer of a recordable type. Examples of a recordable disc are the CD-RW, and writable versions of DVD, such as DVD+RW, and the high density writable optical disc using blue lasers, called Blu-ray Disc (BD).<br>
Digital information signals (data) are represented on the information layer by recording optically detectable marks along the track, e.g. crystalline or amorphous marks in phase change material. The track 9 on the recordable type of recording medium is indicated by a pre-embossed track structure provided during manufacture of the blank recording medium.<br><br>
Figure lb is a cross-section taken along the line b-b of the recording medium 11 of the recordable type, in which a transparent substrate 15 is provided with a recording layer 16 and a protective layer 17. The protective layer 17 may comprise a further substrate layer, for example as in DVD where the recording layer is at a 0.6 mm substrate and a further substrate of 0.6 mm is bonded to the back side thereof The track structure is constituted, for example, by a pregroove 14, which enables a read/write head to follow the track during scanning. The track structure comprises position information, e.g. addresses, for indication the location of units of information, usually called information blocks or packets. The pregroove 14 may be implemented as an indentation or an elevation of the substrate 15 material, or as a material property deviating from its surroundings.<br>
Figure 2 shows a recording apparatus for recording digital information signals on a recording medium 11 such as CD-RW, D VD+RW or BD, in accordance with the invention. The apparatus is provided with recording means for scanning the track on the recording medium, which means include a drive unit 21 for rotating the recording medium 11, a head 22, and a positioning unit 25 for coarsely positioning the head 22 in the radial direction on the track. The head 22 comprises an optical system of a known type for generating a radiation beam 24 guided through optical elements focused to a radiation spot 23 on a track of the information layer of the recording medium. The radiation beam 24 is generated by a radiation source, e.g. a laser diode. The head further comprises (not shown) a focusing actuator for moving the focus of the radiation beam 24 along the optical axis of said beam and a tracking actuator for fine positioning of the spot 23 in a radial direction on the center of the track. The tracking actuator may comprise coils for radially moving an optical element or may alternatively be arranged for changing the angle of a reflecting element. For writing digital information signals (data) the radiation is controlled to create optically detectable marks in the recording layer. The marks may be in any optically readable form, e.g. in the form of areas with a reflection coefficient different from their surroundings, obtained when recording in materials such as dye, alloy or phase change material, or in the form of areas with a direction of magnetization different from their surroundings, obtained when recording in magneto-optical material. For reading, the radiation reflected by the information layer is detected by a detector of a usual type, e.g. a four-quadrant diode, in the head 22 for generating a read signal and further detector signals including a tracking error and a focusing error signal for controlling said tracking and focusing actuators. The read signal is processed by read processing unit 30 of a usual type including a demodulator, deformatter and output unit to retrieve the digital information signals (data). Hence retrieving<br><br>
means for reading information include the drive unit 21, the head 22, the positioning unit 25 and the read processing unit 30. The apparatus comprises write processing means for processing the input digital information signals (data) to generate a write signal to drive the head 22, which means comprise an input unit 27, and modulator means comprising a formatter 28 and a modulator 29. The input digital information signals (data) may comprise for example real-time video and/or audio data or still images data. The input unit 27 processes the input data to units of information, which .are passed to the formatter 28 for adding control data and formatting the data, e.g. by adding error correction codes (ECC) and/or interleaving. For computer applications units of information may be interfaced to the formatter 28 directly - in such case, as an option, the input unit 27 does not have to be present in the apparatus. The formatted data from the output of the formatter 28 is passed to the modulation unit 29, which comprises for example a channel coder, for generating a modulated signal, which drives the head 22. Further the modulation unit 29 comprises synchronizing means for including synchronizing patterns in the modulated signal. The formatted units presented to the input of the modulation unit 29 comprise address information and are written to corresponding addressable locations on the recording medium under the control of control unit 20. Further, the apparatus comprises a control unit 20, which controls the recording and retrieving of information and may be arranged for receiving commands from a user or from a host computer. The control unit 20 is connected via control lines 26, e.g. a system bus, to said input unit 27, formatter 28 and modulator 29, to the read processing unit 30, and to the drive unit 21, and the positioning unit 25. The control unit 20 comprises control circuitry, for example a microprocessor, a program memory and control gates, for performing the procedures and functions according to the invention as described below. The control unit 20 may also be implemented as a state machine in logic circuits.<br>
The control unit 20 is arranged for controlling the recording by locating each block at a physical address in the track, and for performing defect management as described below. The control unit includes the following cooperating units: a defect management unit 31, a read-only control unit 32, which (optionally) comprises a re-open unit 33, which units are for example implemented in firmware.<br>
The defect management unit 31 is for translating physical addresses into logical addresses and vice versa in dependence of defect management information. The logical addresses constitute a contiguous storage space to be used for storing sequences of information blocks, such as data under control of a file management system, for example UDF. The defect management unit 31 detects defects, for example by monitoring the signal<br><br>
quality of a read-out signal from the head 22 during recording and/or reading. The defects may also be detected by determining an error rate in retrieved information blocks. The defect management unit further maintains, according to the predefined recording format, the defect management information in a defect management area (which may be constituted by physically separated sub-areas, for example as in CD-MRW) on the record carrier, for example primary defect lists indicating slipped defects and secondary defect lists indicating remapped locations. The defect management information at least includes defect entries for indicating a replacement of one or more defective physical addresses by alternative addresses. The defect management information includes information about which defect entries are still free for use, for example by the defect entries having a default value, or a separate bitmap.<br>
Figure 3a shows a simplified layout of a non-MRW type of medium. Schematically a recording area is shown having a lead-in area (LI), a area (UA) and a lead-out (LO).<br>
Figure 3b shows a simplified layout of a MRW type of medium. Similar to Figure 3a the recording area comprises lead-in area LI, a user area UA, and lead-out area LO. In addition thereto it comprises a general application area GAA, a spare area SA (in this example comprising two sub-areas SAl and SA2), and a main table area MTA and a secondary table area STA. LI and LO contain mainly media read/write definition and . administration data. The user area UA is used mainly for recording of data used for real use and data related to content stored on a recording medium, such as user data and first file system data comprising directory and file entries pointing to the user data according to rules of a first file system. The general application area GAA can be used for storage of data that does not allow replacements by the defect management, such as application programs or device drivers that can handle defects, or file system data of additional file systems.<br>
The control unit 20 is capable of performing initialization and formatting of a rewritable medium according to a predefined recording format, for example a DVD+RW format. In the recording format shown in Figure 3b the defect management is based on a main defect table MDT stored in the main table area MTA, a secondary defect table SDT<br>
stored in the secondary table area STA and replacement areas (packets) comprised in the spare area SAl, SA2. The secondary defect table is a copy of the main defect table; SDT contains the same information as MDT. It only needs to be updated when the medium is ejected from a recorder. STA is used as redundancy in case of issues with MTA, and for assuring that non-MRW PC-systems can use these tables for address remapper in order to<br><br>
logically construct the address space, compensating for the defect management reallocation (not interpretable by non-MRW drives). The main table area MTA is located within the lead-in area LI. Recording media with a layout of the type shown in figure 3b are commonly referred to as Mount Rainier Rewritable (MRW) media, e.g. DVD+MRW, in contrast to "non-MRW" media with a layout as in example shown in figure 3a. In case of DVD+MRW recording media, GAA, SA1 and SA2 have a size of 2,8 and 120 (or 504) MBytes, respectively.<br>
Based on the MRW definitions, it is possible to ensure that MRW media can be read by non-MRW capable drives, by installing a remapping driver on the PC. This remapping driver can be obtained easily, amongst other, by using GAA, such that the file system in GAA launches an application, which installs this driver or downloads it from the Internet. For convergence with non-MRW aware CE devices, the same or a different file system, (typically IS09660 or UDF) can be used for allowing addressing of the content typically recognized by CE devices. This is done by pointing to the multimedia content stored in UA of the MRW medium, using file system data stored in GAA, hereinafter also referred to as second file system data, known by CE devices. There can be an extra file system in G A A, dedicated to performing tasks related to the remapping driver.<br>
The defect management employs predefined rules for determining defective areas in U A, for organizing spare areas on a medium, for defining circumstances under which data can be recorded/modified on the medium, generally, for controlling storing information on the medium. A defect table contains information, which can be used to perform the defect management. In particular, the defect table contains a list of defective areas (packets), which have been determined to be defective during verification or during use of the medium, according to rules of the defect management. Further, it contains a list of replacement areas (packets), to be used as replacements of defective areas. The format of defect management data in the defect table is defined in the defect management rules. Defective and replacement areas are referred to by their addresses on the medium. Different flags or status bits within the defect table indicate characteristics of those areas, e.g. usability for data recording. The defect table also contains information related to areas on the medium, where the defect management shall not be active, for example a size or position of GAA.<br>
The control unit 20 is adapted to read the defect table from the medium, to modify defect management data comprised in the defect table read in order to block write access to U A according to the defect management rules and to record the defect table comprising modified defect management data back on the medium.<br><br>
In an embodiment, the control unit 20 is capable of setting all free replacement entries in the MRW defect table to unusable, making the medium read-only because the medium has run out of spare area and the defect management requires MRW drives to disable writing capabilities to such discs.<br>
Figure 4 shows an example of a method of blocking write access to the user area using a list of replacement areas. The particular method is performed by the read-only unit 32 in the control unit 20 of an embodiment of the apparatus. In step READ MAIN (RM) 101, MDT is read from a disc. In step SEARCH (SR) 102, a list of addresses of replacement areas is searched for,free replacement area addresses of all free replacement areas which are not used for replacing user data. Next, in step MARK (MR) 103, the free replacement areas are marked as unusable in MDT. Finally, MDT is recorded back on the disc in step STORE MAIN (SM) 104. Finally, in step STORE ORIGINAL REPLACEMENT INFO (SORJ) 105 original replacement data for recovering the original contents of the MDT is stored in a new location, called a hidden location because devices according to the pre-existing version of the recording format are not aware of the new location.<br>
In an embodiment (illustrated further with reference to Figure 5) MDT is recorded in MTA as a Main Information Packet (MIP) and at least two Main Defect Table Packets (MDTPO and MDTPI). In such case, SDT comprise a Secondary Information Packet (SIP) and Secondary Defect Table Packets (SDTPO and SDTPI) corresponding to MIP, MDTPO and MDTPI, respectively. All packets of SDT have the same contents as the corresponding packets of MDT. MIP and SIP contain the basic information about the defect management structures on the medium, such as number and locations of Main/Secondary Defect Tables Packets, and sizes of GAA, SAI and SA2. A list of defect areas, which have been determined to be defective during verification or during use of the medium, and a list of replacement areas reserved for replacements are comprised in MDTPO and MDTPI.<br>
In an embodiment, the control unit 20 is adapted to modify data comprised in MDT to set all free replacement entries in MDTPO and SDT to unusable. This will provide a strong protection against writing on the medium as the recovered information in MDT will indicate that the medium has run out of spare area.<br>
In an embodiment, if during the reading of the disc which has been set to the read-only state, new defects arise in the UA, the defect may be corrected. In this event the MDT and SDT tables have to be updated correctly in order to remain DVD+MRW playback compatible. That means that an 'unusable' status has to be changed into a valid replacement.<br><br>
In an embodiment of the apparatus, the control unit 20 is adapted to generate protection data comprising so called original replacement information related to modification of defect management data in MDT or SDT and to record this information on a medium, as shown in step SOR1 105 in Figure 4. For example, the protection information may further comprise an auto-run application stored in GAA, which, when launched on non-MRW legacy systems, warns a user that the medium contains content suitable for CE playback and should not be written without use of a special application and/or an upgraded device. Using the same or another auto-run application a user can be notified that this is a special disc, needing a special application and/or drives to enable writing to the disc, in such a way that CE bridge is kept consistent with the content changes, in case of MRW capable systems without the bridge functionality.<br>
In an embodiment the protection information comprises information describing changes made to defect management data stored on a disc in order to block write access to UA. In an embodiment, the control unit 20 is adapted to resume write access to UA by restoring original defect management data using the protection information, in particular the original replacement information. This can be done e.g. by a special command requesting * the apparatus to restore write access to this disc by recovering invalidated spares, replacement areas. The control unit 20 is also capable of restoring consistency of data between MDT and SDT, e.g. by rewriting a reconstructed version of the MDT in the STA as explained with Figure 7. In addition the control unit 20 may be capable of suppressing the above described auto-run applications or "hiding" this part of file system to the operating system. For updating the bridge information, after the write updates to the disc, the control unit 20 can bring the disc back to the same "read-only" state, as the disc came into the apparatus, but now reflecting the updated CE bridge in GAA.<br>
As explained above a Mount Rainier disc can be made read-only by switching all the free defect entries to unusable or in use as replacement. This method is used to prevent that "legacy" or standard Mount Rainier drives write to the disc.     Drives according to the invention are aware that the disc is made read-only. For resetting the record carrier to a writable state, there is a need to know the original content of the defect tables. Some<br>
solutions are presented below.<br>
Figure 5 shows a disc layout with the table structures of a MRW formatted<br>
disc. MDT blocks 51 are stored in a defect management area in a lead-in 50. The area has 2 bad blocks 55 which cannot be used to store MDT tables. Hence a further MDT block 54 is stored before the bad blocks 55. A main information packet M1P 52 has pointers 53 to the<br><br>
MDT blocks. It is noted that the number of MDT blocks (#0to #7) constitutes a relatively large amount of MDT blocks. The defect tables may be repeatedly stored to provide robustness against defects in the defect management area.<br>
To make the disc read-only all entries not yet used to indicate valid replacements are set to the status 'unusable' in the MDT tables. The modified MDT tables<br>
are stored on the same location as the original tables. A MRW drive that mounts the disc detects that there are no free replacement anymore and does not grant write access to this disc.<br>
A solution for resetting the record carrier to the writable state, also called reopen, is that the defect information, in particular the original replacement information from the tables indicating the original defect entries free for replacements, is stored on a different location, which is known by the new device. The legacy system still sees the standard "full" tables.<br>
For storing the original replacement information a new table structure may be defined. For example only information relating to the defect entries that have been modified is stored as original replacement information. For restoring there only needs to be an indication which entries have to be restored to "free for use". Hence a bitmap or list of entries may be stored. From the bitmap and the modified defect management information the original defect management tables can be reconstructed.<br>
In an embodiment a hidden location at a fixed position somewhere in the lead-in (or lead-out) is reserved for the original defect information. Another solution is to store the original tables as a file, for example in the GAA area. A practical solution described hereafter makes use of already existing firmware that is capable of reading the MRW structure.<br>
Figure 6 shows a disc layout with the table structures of a MRW formatted disc and hidden locations for original replacement information. The lead-in 50 is followed by a user data area 64. The replacement information in the original MDT blocks (MDTO, MDTI) has been modified so that all defect entries indicate to be in use (e.g. in use for replacement or unusable). The modified MDT blocks 61 have been written to the defect management area accordingto the MRW recording format. The original Main information<br>
Packet (MP) 52 has a pointer that points to the last used ECC block in the lead-in for the MRW tables, in this example that is block 66. Hence a suitable hidden location isjust before the last used ECC block. Hence this hidden location has a predefined relation to the location of the original defect entries in the MDT blocks indicated by the MIP 52.<br><br>
On the first block of the hidden location a real main information packet (RMIP) 62 is written. The RMIP is the information packet that contains pointers 63 that point to the original replacement information 60, e-£- freal) defect tables RMDTO, RMDT1. The RMIP and its pointers are used by the new device to find the real defect entries. In a practical embodiment the structure of the RMIP is exactly the same as the one used for the already defined MIP. The RMIP may be repeated (e.g. 4x times) to protect against dirt and scratches.<br>
An advantage of the proposed hidden location is that the new device can easily and quickly check on the existence of the RMIP, to check if the disc is formatted for that purpose. The drive reads the MIP, then accesses the first written ECC block minus 1 and checks on a RMIP signature, i.e. a predefined part having a known value in the RMIP. The signature may be equal to the signature of the MIP. From that point on the drive can access the disc in the standard MRW way of working, either reading the standard MDTs or the second set of RDTs.<br>
As indicated by arrow 65 the hidden location grows by storing real tables in the lead-in. The hidden location will grow from outer to inner side. If the disc is reformatted with a "legacy" Mount Rainier drive, the structures will be overwritten (in time).<br>
It is noted that the Mount Rainier recording format also has duplicate tables (usually called outer tables) on the outside near the lead-out as shown in Figure 3b for ROM compatibility and also as backup for the tables on the inside.<br>
Figure 7 shows a secondary defect management area and original replacement information. According to the MRW format (see also Figure 3b), secondary defect tables SDT 72, a secondary information packet SIP 71 having pointers 77 to the SDT 72 are stored in a secondary table area STA 76 at the end of the user data area 64 near the lead-out 70. The SIP and SDT are backup copies of the MIP and MDT in the lead-in. It is noted that for setting the read-only state the backup copy SDT 72 is preferably also modified corresponding to the MDT 61 in the lead-in to reflect the no-replacement state.<br>
In an embodiment of the invention a real secondary information packet 73 (RSIP) and original replacement information 74 (RSDT, Real Secondary Defect Tables) are stored on the outside in the STA for safety and robustness reasons. The Real Secondary Information Packet (RSIP) 73 has a fixed place in the STA just as the MIP has in the STA. The hidden location from the RDT blocks grows from inner to outer direction as indicated by arrow 75.<br>
In an embodiment, the recording apparatus is arranged as a drive unit to be connected to a separate host system, for example a drive unit to be build in a PC. The control<br><br>
unit 20 is arranged to communicate with a processing unit in the host system via a standardized interface.<br>
In an embodiment of a computer data system comprising the host system and the recording apparatus, the processing unit in the host system is adapted to control the control unit 20 to perform methods and functions as described in reference to embodiments of the recording apparatus presented above. Alternatively the host system may be provided with software (e.g. distributed via a computer program product such as a CD) for performing the above read-only functions using a standard drive unit, which is not aware of the new data structure and the hidden locations. Hence a computer program product according to the invention is operative to cause the control unit 20, or the processing unit in the host system, to perform methods and functions as described in reference to embodiments of the recording apparatus presented above.<br>
Although the invention has been explained mainly by embodiments using the D VD+MR W, similar embodiments like CD or BD having defect management can apply the invention. Also for the information carrier an optical disc has been described, but other media such as a magnetic hard disc can be used. It is noted, that in this document the word 'comprising' does not exclude the presence of other elements or steps than those listed and the word 'a' or 'an' preceding an element does not exclude the presence of a plurality of such elements, that any reference signs do not limit the scope of the claims, that the invention may be implemented by means of both hardware and software, and that several* means' may be represented by the same item of hardware. Further, the scope of the invention is not limited to the embodiments, and the invention lies in each and every novel feature or combination of features described above.<br><br><br><br>
CLAIMS:<br>
	Device for recording information in blocks having logical addresses, which<br>
device comprises<br>
-	recording means (21,22,25) for recording marks in a track on a record carrier representing the information, and<br>
-	control means (20) for controllingthe recording by locating each block at a physical address in the track, the control means comprising<br>
-	defect management means (31) for translating the logical addresses into the physical addresses and vice versa in dependence of defect management information in a defect management area according to a predefined recording format,<br>
the defect management information including defect entries indicating locations for replacing defective physical addresses, a read-only state of the record carrier being obtainable via a no-replacement state indicated by substantially none of the defect entries being free for use, and<br>
-	read-only control means (32) for setting the record carrier to the read-only state by<br>
-	reading original replacement information indicating a writable state from the defect management area, the original replacement information at least including at least one defect entry being free for use,<br>
-	storing the original replacement information in a hidden area, and<br>
-	modifying the defect management information to the no-replacement state.<br>
2.	Device as claimed in claim 1, wherein the read-only control means (32)<br>
include re-open means (33) for resetting the record carrier from the read-only state by<br>
-	retrieving the original replacement information from the hidden location,<br>
-	modifying the defect management information to the writable state in dependence of the original replacement information.<br>
3.	Device as claimed in claim 1, wherein the defect entries are arranged in defect<br>
tables, and the read-only control means (32) are arranged for storing a copy of the defect<br>
tables as the original replacement information in the hidden location.<br><br>
4.	Device as claimed in claim 1, wherein the defect management information<br>
comprises a main information packet having pointers to the defect tables, and the read-only<br>
control means (32) are arranged for generating a secondary information packet having<br>
J     pointers to the copy of the defect tables in the hidden location.<br>
5.	Device as claimed in claim 1, wherein the read-only control means (32) are<br>
arranged for storing the original replacement information in the hidden location having a<br>
predefined position related to the defect management information, in particular related to a<br>
)     position of the defect entries in the defect management area.<br>
6.	Device as claimed in claim 1, wherein the read-only control means (32) are<br>
arranged for storing the original replacement information in a file as the hidden location.<br>
i     7.	Record carrier for storing information, the record carrier comprising<br>
-	information in blocks having logical addresses located at physical addresses in a track,<br>
-	defect management information in a defect management area according to a predefined recording format, which defect management information provides a relation between the logical addresses and the physical addresses, and includes defect entries indicating locations<br>
)     for replacing defective physical addresses, a read-only state of the record carrier being<br>
effected via a no-replacement state indicated by substantially none of the defect entries being free for use, and<br>
-	original replacement information in a hidden location indicating a writable state of the<br>
defect management information, the original replacement information at least including at<br>
1      least one defect entry being free for use.<br>
8.	Method of recording of information in blocks having logical addresses located<br>
at a physical address on a record carrier,<br>
-	the logical addresses corresponding to the physical addresses in dependence of defect<br>
     management information in a defect management area according to a predefined recording format, which defect management information includes defect entries indicating locations for replacing defective physical addresses,<br>
a read-only state of the record carrier being obtainable via a no-replacement state indicated by substantially none of the defect entries being free for use,<br><br>
the method comprising setting the record carrier to the read-only state by<br>
-	reading original replacement information indicating a writable state from the defect<br>
management area, the original replacement information at least including at least one defect<br>
entry being free for use,<br>
-	storing the original replacement information in a hidden location, and<br>
-	modifying the defect management information to the no-replacement state.<br>
9.	Computer program product for recording of information, which program is<br>
operative to cause a processor to perform the method as claimed in claim 8.<br><br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDI4Mi1jaGVucC0yMDA2IGFic3RyYWN0IGR1cGxpY2F0ZS5wZGY=" target="_blank" style="word-wrap:break-word;">0282-chenp-2006 abstract duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDI4Mi1jaGVucC0yMDA2IGNsYWltcyBkdXBsaWNhdGUucGRm" target="_blank" style="word-wrap:break-word;">0282-chenp-2006 claims duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDI4Mi1jaGVucC0yMDA2IGRlc2NyaXB0aW9uKGNvbXBsZXRlKSBkdXBsaWNhdGUucGRm" target="_blank" style="word-wrap:break-word;">0282-chenp-2006 description(complete) duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDI4Mi1jaGVucC0yMDA2IGRyYXdpbmdzIGR1cGxpY2F0ZS5wZGY=" target="_blank" style="word-wrap:break-word;">0282-chenp-2006 drawings duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDI4Mi1jaGVucC0yMDA2LWFic3RyYWN0LnBkZg==" target="_blank" style="word-wrap:break-word;">0282-chenp-2006-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDI4Mi1jaGVucC0yMDA2LWNsYWltcy5wZGY=" target="_blank" style="word-wrap:break-word;">0282-chenp-2006-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDI4Mi1jaGVucC0yMDA2LWNvcnJlc3BvbmRuZWNlLW90aGVycy5wZGY=" target="_blank" style="word-wrap:break-word;">0282-chenp-2006-correspondnece-others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDI4Mi1jaGVucC0yMDA2LWNvcnJlc3BvbmRuZWNlLXBvLnBkZg==" target="_blank" style="word-wrap:break-word;">0282-chenp-2006-correspondnece-po.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDI4Mi1jaGVucC0yMDA2LWRlc2NyaXB0aW9uKGNvbXBsZXRlKS5wZGY=" target="_blank" style="word-wrap:break-word;">0282-chenp-2006-description(complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDI4Mi1jaGVucC0yMDA2LWRyYXdpbmdzLnBkZg==" target="_blank" style="word-wrap:break-word;">0282-chenp-2006-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDI4Mi1jaGVucC0yMDA2LWZvcm0gMS5wZGY=" target="_blank" style="word-wrap:break-word;">0282-chenp-2006-form 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDI4Mi1jaGVucC0yMDA2LWZvcm0gMjYucGRm" target="_blank" style="word-wrap:break-word;">0282-chenp-2006-form 26.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDI4Mi1jaGVucC0yMDA2LWZvcm0gMy5wZGY=" target="_blank" style="word-wrap:break-word;">0282-chenp-2006-form 3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDI4Mi1jaGVucC0yMDA2LWZvcm0gNS5wZGY=" target="_blank" style="word-wrap:break-word;">0282-chenp-2006-form 5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDI4Mi1jaGVucC0yMDA2LWZvcm0xOC5wZGY=" target="_blank" style="word-wrap:break-word;">0282-chenp-2006-form18.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDI4Mi1jaGVucC0yMDA2LXBjdC5wZGY=" target="_blank" style="word-wrap:break-word;">0282-chenp-2006-pct.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjgyLUNIRU5QLTIwMDYgQ09SUkVTUE9OREVOQ0UgT1RIRVJTLnBkZg==" target="_blank" style="word-wrap:break-word;">282-CHENP-2006 CORRESPONDENCE OTHERS.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjgyLUNIRU5QLTIwMDYgQ09SUkVTUE9OREVOQ0UgUE8ucGRm" target="_blank" style="word-wrap:break-word;">282-CHENP-2006 CORRESPONDENCE PO.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjgyLUNIRU5QLTIwMDYgRk9STSAxMy5wZGY=" target="_blank" style="word-wrap:break-word;">282-CHENP-2006 FORM 13.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="230696-a-positioning-device-for-positioning-a-user-by-using-both-eyes-as-position-markers.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="230698-a-method-for-managing-data.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>230697</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>282/CHENP/2006</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>13/2009</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>27-Mar-2009</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>27-Feb-2009</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>24-Jan-2006</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>KONINKLIJKE PHILIPS ELECTRONICS N.V.</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>Groenewoudseweg 1, NL-5621 BA Eindhoven,</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>IJTSMA, Pope</td>
											<td>c/o Prof.Holstlaan 6, NL-5656 AA Eindhoven,</td>
										</tr>
										<tr>
											<td>2</td>
											<td>BLACQUIERE, Johannis, F., R</td>
											<td>c/o Prof.Holstlaan 6, NL-5656 AA Eindhoven,</td>
										</tr>
										<tr>
											<td>3</td>
											<td>HAMELINCK, Dirk</td>
											<td>c/o Prof.Holstlaan 6, NL-5656 AA Eindhoven,</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>G11B27/32</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/IB2004/051214</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2004-07-14</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>03102206.4</td>
									<td>2003-07-17</td>
								    <td>EUROPEAN UNION</td>
								</tr>
								<tr>
									<td>2</td>
									<td>04100764.2</td>
									<td>2004-02-24</td>
								    <td>EUROPEAN UNION</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/230697-device-and-method-for-setting-a-record-carrier-to-read-only-state by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 11:29:54 GMT -->
</html>
