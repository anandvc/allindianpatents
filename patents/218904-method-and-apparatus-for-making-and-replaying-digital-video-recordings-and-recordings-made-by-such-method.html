<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/218904-method-and-apparatus-for-making-and-replaying-digital-video-recordings-and-recordings-made-by-such-method by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 12:26:14 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 218904:METHOD AND APPARATUS FOR MAKING AND REPLAYING DIGITAL VIDEO RECORDINGS, AND RECORDINGS MADE BY SUCH METHOD</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">METHOD AND APPARATUS FOR MAKING AND REPLAYING DIGITAL VIDEO RECORDINGS, AND RECORDINGS MADE BY SUCH METHOD</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A method of processing data received in a transport stream fonnat to produce a modified transport stream for recording on a recording medium to record the content of a selected audio- visual programme (hereinafter referred to as the wanted content), the received transport stream comprising a multiplex of elementary streams conveying not only the wanted content but also the content of other programmes not to be recorded (the unwanted content), said elementary streams of data having been encoded, divided into elementary stream (E8) packets with packet headers, the E8 packets sub-divided into a plurality of smaller transport packets, and the transport packets of the first and second elementary streams interleaved in the received transport stream with each other and with transport packets carrying data from neither stream, wherein the said modified transport stream is produced by: -identifying and selecting received transport packets which correspond to the wanted content; -recording the selected transport packets within a recording medium to form said modified transport stream, so as to preserve compliance with a transport stream target decoder model substantially without re-packetising or remultiplexing the streams; characterized by: -generating and recording on the same recording medium auxiliary information for use by a reproducing apparatus in gaining access to the content of the modified transport stream via any of a set of potential entry points throughout the wanted content. . A method of processing data received in a transport stream format to produce a modified transport stream for recording on a recording medium to record the content of a selected audioÂ¬ visual programme (hereinafter referred to as the wanted content), the received transport stream comprising a multiplex of elementary streams conveying not only the wanted content but also the content of other programmes not to be recorded (the unwanted content), said elementary streams of data having been encoded, divided into elementary stream (ES) packets with packet headers, the ES packets sub-divided into a plurality of smaller transport packets and the transport packets of the first and second elementary streams interleaved in the received transport stream with each other and with transport packets carrying data from neither stream, wherein the said modified transport stream is produced by: identifying and selecting received transport packets which correspond to the wanted content;</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td> <br><br>
DESCRIPTION METHODS AND APPARATUS FOR MAKING AND REPLAYING DIGITAL VIDEO RECORDINGS, AND RECORDINGS MADE BY SUCH METHODS<br>
The present invention relates to methods and apparatuses for the recording and subsequent playback of digital video data, and to recordings made by such methods and apparatuses. The invention finds particular application for example in the recording of multiplexed audio video data streams from digital TV broadcasts. Such broadcasts presently adopt a Transport Stream format in compliance with the MPEG-2 specification (ITU_T recommendation H.222.0|ISO/IEC 13818-1). Compliance with that specification Is not essential to the invention, however.<br>
The MPEG-2 specification mentioned above specifies generic methods for multimedia multiplexing, synchronisation and timebase recovery for use in transmitting, recording and reproducing digital video (including audio) programmes. The specifications provide a packet based multimedia multiplexing where each elementary bit stream (video, audio, other data) is segmented Into a Packetised Elementary Stream (PES), and then respective packets are multiplexed into either of two distinct stream types. Program Stream (PS) is a multiplex of variable length PES.packets and designed for use in encore free environments, such as recording on disc. Transport Stream (TS) consists of 188 byte fixed length packets, has functionality of multiple programme multiplexing as well as multiplexing of various PES packets of one programme, and is designed for use in error-prone environments such as broadcast. The multimedia synchronisation and timebase recovery are achieved by time-stamps for system time clock and presentation/decoding. In either case, the streams encode audio and especially video data in a compressed format, such that it is not possible to enter the stream at an arbitrary location, and find data valid for decoding.<br><br>
One known system for the distribution of video programmes is Digital Versatile Disc (DVD). This standard defines a specific form of MPEG-2 'rogram Stream for storage of motion pictures and related material on optical lisc. While DVD provides presently for the distribution of pre-recorded naterial, there is clearly a demand for both commerdal and domestic audio jnd/or video (AA/) equipment capable of recording digital AN data from )roadcasts and home-recorded material, just as the popular video cassette ape systems currently in use pemiit recording of analogue AA/ material.<br>
Consumers of digital systems will expect equal and in fact superior facilities from a digital recording system, in terms of playing time, random access, indexing and so forth. Many proposals have been made to contribute to such a system. Mention Is made in particular of our co-pending application \N0 00/28544 (PHN 17161), not published at the priority date of the present application) which describes a system of characteristic point Information (CPI) to identify entry and exit point from a recorded stream, without the need to parse the stream. Users will expect seamless editing and smooth playback of AA/ data. Techniques for seamless editing which can be applied to recordings made by the present invention are disclosed In our co-pending International Patent application claiming priority from United Kingdom patent application 0007868.3 filed 31" Mach 2000, and entitled "Methods and Apparatus For Editing Digital Video Recordings, and Recordings Made By Such Methods" (PHNL 000181), not published at the priority date of the present application, and WO-A-00/00981 (PHB 34262 WO).<br>
As mentioned above, the MPEG specification assumes that PS format will be used for recorded programmes, while TS is used in the established broadcast formats such as DVB. For the purposes of recording programmes from broadcasts, therefore, there is the possibility to convert TS to PS for recording, and then convert PS to TS for playback wa digltai channels. Such conversion requires demultiplexing and remultiplexing the streams, with regard to different buffer constraints and the like, which is expensive in terms of<br><br>
computational power and the hardware required for buffering. Moreover, future 'interactive TV' applications may be compromised if domestic recording formats adopt a fundamentally different approach to the original broadcast.<br>
Other proposals have therefore been made to record the broadcast format, or rather one programme selected from it, "transparently". In these solutions, packets con-esponding to an elementary stream (an audio or video stream) of the required programme are simply recorded in sequence on the tape (or disc) with a time-stamp to indicate the time at which they should be replayed. Using the time-stamps, the recording device can stream the recorded programme back to a decoder and play back the broadcast programme. As one example, EP-A-0944086 proposes a system for recording a selected programme from a broadcast TS. The document in particular explains methods for adapting clock reference (PCR) values from the full-bandwidth TS multiplex (from satellite, say) into the lesser-bandwidth stream containing selected programme only of the TS recording being made.<br>
Unfortunately there are limitations of the transparent TS recording approach which become apparent when one adopts a random access niedium.<br>
For example, the designer may wish to implement fast-fonward (or reverse) play by skipping rapidly through the sequence of pictures to find and extract the l-pictures only and send them to a decoder. The broadcast format (MPEG-2 Transport Stream) gives no guarantee that the packet identification field (PID) will be constant during a recording. Thus as we skip through the stream we do not know which packets to find unless we examine the stream sequentially. As another example, it is apparently assumed in EP-A-0944086 that PCR data is at least included in the data relating to the selected programme, when this is not the case.<br>
It is an object of this invention to enable the provision of methods and apparatus for the recording of data streams such as MPEG-2 TS while<br><br>
preserving the utility of the popular analogue video recording formats.<br>
It is a further and alternative object to realise fully the enhanced flexibility of random access storage media such as optical discs, when recording digitally from broadcast formats such as DVB.<br>
In particular, the inventors have sought to provide conversion of broadcast TS format streams into a fonnat suitable for recording and random access, without the burden of conversion to PS fonnat.<br>
In a first aspect, the invention provides a method of processing data received in a transport stream fonnat to produce a modified transport stream for recording on a recording medium to record the content of a selected audio-visual programme (hereinafter referred to as the wanted content), the received transport stream comprising a multiplex of elementary streams conveying not only the wanted content but also the content of other programmes not to be recorded (the unwanted content), said elementary streams of data having been encoded, divided into elementary stream (ES) packets with packet headers, the ES packets further sub-divided into a plurality of smaller transport packets, and the transport packets of the first and second elementary streams interleaved in the received transport stream with each other and with transport packets carrying data from neither stream, wherein the said modified transport stream is produced by:<br>
identifying and selecting received transport packets which corespond to the wanted content;<br>
recording the selected transport packets within a recording medium to fonn said modified transport stream, so as to presen/e compliance with a transport stream target decoder model substantially without re-packetising or remultiplexing the streams; and<br>
recording auxiliary infonnation on the same recording medium for use by a reproducing apparatus in gaining access to the content of the modified transport stream via any of a set of potential entry points throughout the wanted content.<br><br>
In one embodiment, said auxiliary information includes information stored in a file separately from a file holding the modified transport stream, and comprises an index listing characteristic points within at least one of the wanted elementary streams. This avoids parsing the elementary stream during playback to identify individual entry points. Said characteristic points may be defined with a frequency substantially greater than one per second on the presentation time scale.<br>
The received transport stream may include stream mapping information identifying a transport packet ID code associated with each elementary stream, said stream mapping information being used to identify the wanted content and being subject to change throughout the received transport stream. In one such embodiment, current mapping information is inserted in the modified stream at each potential entry point. Alternatively, packet IDs may be re-mapped by modifying packet headers, so that the recording as a whole uses a predefined packet ID for each type of stream (audio, video, teletext etc).<br>
A second aspect of the invention provides a method of processing a received data stream to produce a modified stream for recording on a recording medium to record the content of a selected audio-visual programme (hereinafter referred to as the wanted content), the received data stream comprising a multiplex of elementary streams conveying not only the wanted content but also the content of other programmes not to be recorded (the unwanted content), the method comprising:<br>
identifying and extracting from the received data stream the elementary data stream(s) conveying the wanted content;<br>
identifying in the received data an elementary stream conveying auxiliary data useful in playback of the programme to be recorded;<br>
in the case where the elementary stream conveying the auxiliary data is one conveying part of the unwanted content, generating a new elementary stream conveying the auxiliary data without that part of the unwanted content; and<br>
multiplexing together the elementary stream(s) extracted from the received<br><br>
stream with the new elementary stream to form said modified data stream for recording.<br>
The auxiliary data may for example comprise dock reference data (PCR) for synchronising playback of the audio-visual programme.<br>
The invention in these and other aspects further provides methods of reproducing recorded data streams, and apparatuses for recording and reproducing such recordings, and recordings and signals as produced by such methods. Certain of these aspects and optional features of the invention are recited in the appended claims and others will be apparent from a consideration of the description of embodiments which follows.<br>
it will be understood that the invention is applicable beyond the strict confines of MPEG-2 compliant streams, as similar considerations will generally arise when recording any coded multiplexed streams, especially from broadcast.<br>
Embodiments of the invention will now be described, by way of example only, with reference to the accompanying drawings in which:<br>
Figure 1 is a block schematic representation of an AA/ installation including novel optical disc record/replay apparatus embodying the present invention;<br>
Figure 2 represents generally the recording of blocks of infomnation in sequence areas on an optical disc;<br>
Figure 3 represents generally the playback of Infonnatlon stored on a disc in the process of Figure 2;<br>
Figure 4 illustrates the structure and key features of the MPEG Transport Stream (TS) format, which is the basis of recordings made by the present apparatus;<br>
Figure 5 illustrates various functions and their inter-relationships, in the process of making and replaying digital video recordings in the novel apparatus;<br><br>
Figure 6 illustrates a method of PID re-mapping in the apparatus; and Figure 7 illustrates the replacement of PCR fields from a discarded stream in the apparatus.<br>
Digital Video Recording - General<br>
The following description considers in particular A/V devices operating according to the MPEG standards (ISO/IEC 11172 for MPEG1 and, in Darticular, ISO/IEC 13818 for MPEG2) although the skilled practitioner will â ecognise the applicability of the present invention to other AA/ coding schemes not In conformance with the MPEG standard.<br>
Figure 1 shows within the dashed box an embodiment of an apparatus suitable to host the present invention, in the form of an optical disc record and playback device. In the description of the apparatus, the handling of frame-based video signals is concentrated upon, although it will be recognised that other types of signal may alternately or additionally be processed, such as audio or data signals, and that the invention is equally applicable to other memory devices such as magnetic data storage tapes and hard disc drives.<br>
The apparatus comprises an input terminal 1 for receiving a digital video signal to be recorded on optical disc 3. Further, the apparatus comprises an output tenminal 2 for supplying a digital video signal reproduced from the disc. These tenninals may in use be connected via a digital interface such as IEEE 1394 to a digital TV receiver and decoder 12 in the form of a "set-top box" (STB), which also receives broadcast signals from satellite, cable or the like, in MPEG TS format. The decoder provides display signals to a display device 14, which may be a conventional analogue TV set.<br>
The data area of the disc 3 consists of a contiguous range of physical sectors, having corresponding sector addresses. This address space is divided into sequence areas, with a sequence area being a contiguous sequence of sectors. The video recording apparatus as shown in Figure 1 Is decomposed into two major system parts, namely the disc subsystem 6 and what is referred to herein as the video recorder subsystem 8, controlling both<br><br>
Figure 2 illustrates recording of a video signal. In the video recorder subsystem 8 of Figure 1, the video signal, which is a real time signal, is converted into a real-time file RTF or "clip file" as shown in the upper part of Figure 2. The real-time file consists of a succession of signal block sequences SEQ for recording In corresponding (although fragmented) sequence areas. There is no constraint on the location of the sequence areas on the disc and, hence, any two consecutive sequence areas comprising portions of data of the video signal recorded may be anywhere in the logical address space LAS as shown in the lower part of Figure 3. Within each sequence area, real time data is allocated contiguously. Each real time file represents a single AA/ stream. The data of the AA/ stream is obtained by concatenating the sequence data in the order of the file sequence.<br>
Figure 3 illustrates playback of a video signal recorded on the disc 3. Playback of a video signal is controlled by means of a playback control (PBC) program stored elsewhere in the logical address space. In general, each PBC program defines a new playback sequence PBS, which may comprise an edited version of recorded Video and/or audio segments, and may specify a sequence of segments from respective sequence areas. Pointers to the logical addresses of the individual sequences making up the desired sequence are directly or indirectly included in the PBC. As may be seen from comparison of Figures 2 and 3, the PBC required to recreate the original file sequence (from Figure 2) re-ordefs the fragmented recorded segments to provide a playback frame succession corresponding to the original sequence.<br>
Transport Stream Format<br>
Figure 4 illustrates the key features and structure of the MPEG-2 Transport Stream (TS) format. In the apparatus of Figure 1, the data is stored on disc 3 in a TS-based format, similar to that in which it is received off-air, and in which it is passed over the digital interfaces 1 and 2. The TS is a continuous stream of transport packets labelled T-PKT in the drawing, each comprising 188 bytes of data, and having the format shown at the top of<br><br>
Figure 4. Full details of the MPEG-2 Transport Stream, including Syntax, semantics and constraints applicable, will be found in ITU-T recommendation H.262 (ISO/IEC 13818-1. Infonnation about the MPEG-2 system is available online at http://www.mpeg.org. Briefly, each transport packet includes a header portion and a payload portion, the payload being indicated as bytes DAT-0 to DAT-N in the figure. The header begins with a distinctive synchronisation byte SYNC followed by various flags and control fields including a transport error indicator TEI, a payload unit start indicator USI, a transport priority indicator TPI, a packet identification PID, transport scrambling control field TSC, adaptation field control AFC and continuity counter CC.<br>
The continuity counter CC is a 4-bit field incrementing with each Transport Stream packet for a given PID. CC wraps around to 0 after its maximum value. CC is not incremented when the adaptation field control of the packet indicates no payload for the packet. Continuity counter is a feature of the Transport Stream, not the Program Stream fomnat, which is designed to allow devices to detect loss of packets in an error-prone channel. Packets following a lost packet generally have to be discarded until new synchronisation with new headers can be obtained. This makes editing TS streams more difficult however: the decoder has to be able to distinguish between discontinuities deliberately introduced by editing, and those introduced by transmission errors. These issues are addressed in the coÂ¬pending application "Methods and Apparatus For Editing Digital Video Recordings, and Recordings Made By Such Methods" (PHNL 000181) mentioned above.<br>
Depending on the contents of field AFC, there may be present an adaptation field AF, occupying some of the space otherwise allocated to payload data. The adaptation field AF may for example contain a discontinuity indicator flag as defined in ISO/IEC 13818 for MPEG2. When set to '1', this flag Indicates that the discontinuity state is true for the current Transport<br><br>
Stream packet. Tlie discontinuity indicator is used to indicate two types of discontinuities, system time-base discontinuities and continuity counter discontinuities. In addition to optional data fields of pre-defined meaning, the adaptation field can be padded with stuffing bytes, so as to match the PES packet ends to TS packet boundaries.<br>
A system time-base discontinuity is indicated by the use of the discontinuity indicator in Transport Stream packets of a FID designated as carrying a system time-base in the form of program clock reference PCR (refer to ISO/IEC 13818-1 Section 2.4.4.9). Quoting from that specification, when the discontinuity state is true for a Transport Stream packet of a PID designated as a PCR_PID, the next PCR in a Transport Stream packet with that same PID represents a sample of a new system time clock for the associated program. The discontinuity indicator shall be set to '1' in the packet in which the system time-base discontinuity occurs. The discontinuity indicator bit may also be set to '1' in Transport Stream packets of the same PCR_PiD prior to the packet which contains the new system time-base PCR. In this case, once the discontinuity indicator has been set to '1', it shall continue to be set to '1' in all Transport Stream packets of the same PCR_PID up to and including the Transport Stream packet which contains the first PCR of the new system time-base.<br>
In the example of the DVB digital broadcast format, the data rate of the TS Stream is around 40 (Mbits/s), while the typical data rate for an audio visual programme is less than 10 Mbits/s, Accordingly, as shown at TS in Figure 4, various programmes PR0G1, PR0G3 can be multiplexed into a single transport stream. The field PID of each transport packet indicates one elementary stream to which that packet relates, these being interleaved in units of transport packets with packets for other streams. One programme may for example comprise of a video stream (PID='055' in the example), an audio stream (PID='056') and teletext data stream (PID='057'). The correspondence between PID values and programmes, and the type of data carried with each<br><br>
PID is maintained in the form of programme specific information (PS!) tables.<br>
Periodically within the transport stream a programme association table PAT is<br>
carried in a special stream of transport packets with PiD=0.   The PAT in turn<br>
indicates for PR0G1, PROGS etc., which stream carries a programme mapping<br>
table PMT, which lists completely the different PID values relating to the single<br>
programme, and describes the content of each one (video, audio, alternative<br>
language audio, etc.).   These tables and other data for control purposes are<br>
Â« referred to both as system information and programme specific information<br>
(PSI).<br>
To reproduce or record a given programme (PR0G1) from the transport<br>
stream, the payload DAT-0 to DAT-N of successive transport packets having<br>
that PID is concatenated into a stream, and this stream carries packetised<br>
elementary stream packets PES-PKT, which are further defined in the MPEG-2<br>
specification.    Each PES packet begins with a distinctive packet start code<br>
prefix PSCP. Next in the PES packet header is a stream identifier SID which<br>
identifies the type of elementary stream (for example video, audio, padding<br>
stream or private stream).   PES packets do not have a fixed length unless<br>
specified in a particular application, and a PES packet length field LEN<br>
specifies the number of bytes in the PES packet. Various control and flag fields<br>
C&amp;F then follow, including for example a data alignment indicator DAI and a<br>
header length field HLEN.   Various optional fields are then present within the<br>
header HDAT, depending on the value of associated flags in the C&amp;F field. For<br>
example, a presentation time stamp PTS may be present specifying the time<br>
with reference to a system clock at which a "presentation unit" picture, audio<br>
frame etc.) beginning in the present PES packet is due to be presented.   In<br>
certain cases, presentation units are decoded in a different order from their<br>
presentation order, in which case a decoding time stamp DTS may also be<br>
present.<br>
The payload PY-0 to PY-N of successive PES packets having the same SID<br>
forms a continuous elementary stream of data shown schematically at ES<br><br>
in Figure 4. In the case of a video elementary stream ES-VIDEO, various picture sequences of clips SEQ are present, each including at its start a sequence header SEQH. Various parameters of the decoder including quantisation matrices, buffer sizes and the like are specified in the sequence header. Accordingly, correct playback of the video stream can only be achieved by starting the decoder at the location of a sequence header. Within the data for each sequence are one or more "access units" of the video data, each corresponding to a picture (field or frame depending on the application). Each picture is preceded by a picture start code PSC. A group of pictures GOP may be preceded by a group start code GSC, all following a particular sequence header SEQH.<br>
As is well known, pictures in MPEG-2 and other modern digital formats are encoded by reference to one another so as to reduce temporal redundancy. Motion compensation provides an estimate of the content of one picture from the content already decoded for a neighbouring picture or pictures. Therefore a group of pictures GOP will typically comprise: an intra-coded "I" frame, which is coded without reference to other pictures; two or three "P" (predictive) coded pictures which are coded using motion vectors based on a preceding I frame; and bi-directional predicted "B" pictures, which are encoded by prediction from I and/or P frames before and after them in sequence. The amount of data required for a B picture is less than that required for a P picture, which in turn is less than that required for an I picture. On the other hand, since the P and B pictures are encoded with reference to other pictures, it is only the I pictures which provide an actual entry point for starting playback of a given sequence. Furthermore, It will be noted that for the GOP data, the I and P pictures are encoded before the corresponding B pictures, and then re-ordered after decoding so as to achieve the correct presentation order. Accordingly, B and P pictures are examples where the presentation time stamp PTS and decoding time stamp DTS may differ.<br>
Finally in Figure 4, there is shown a representation of an audio<br><br>
elementary stream ES-AUDIO. This comprises simple frames of data FRM with frame start codes. Various audio formats are permitted, varying in terms of sample rate (32 kHz, 48 kHz etc.) and also data rate (for example 32 kbits/s per second, or variable). These and other properties of the audio and video streams are encoded in the programme specific information PSI and in the PES packet headers.<br>
Audio frames and video pictures having the same presentation time stamp PTS are those which are to be presented simultaneously at the output of the decoder. On the other hand, there is great freedom in the scheduling of packets of data from the different elementary streams, such that audio and video access units having the same PTS value can arrive in the transport stream TS up to one second apart.<br>
System Target Decoder<br>
In order to ensure that buffering and other aspects of a real decoder are able to decode each type of stream without breaks ii* the presented audioÂ¬visual programme, the MPEG-2 standard specifies a transport stream "system target decoder" (T-STD) model. There is also a program stream system target decoder (P-STD) model. Broadly, the T-STD is a model of a hypothetical real decoder having means for de-multlplexing the different elementary streams of the TS format, having decoders for each of the audio, video and system control types of data, and having buffers between the incoming stream and the decoder for holding data of each elementary stream between its arrival from a data channel and its actual time of decoding and presentation. The audio decoder in TS fomnat has a smaller buffer than in the P-STD. Each main buffer in the T-STD is preceded by a transport buffer which acts to smooth the rather "bursty" data in the transport stream itself. NA/hile data for a given stream may arrive in a burst of several transport packets at a peak rate of 40 megabits per second, the average rate of such a stream, when taking into account the entire transport stream multiplex, is far lower. A "leak rate" is defined for the transport buffer so as to throttle the incoming data to a rate of 2<br><br>
megabits per second, assuming tliat there is data to be passed into the main buffer.<br>
RBcording Operations - Modified TS format for DVR<br>
The basic idea is not to record the broadcast signal transparently in the form it is broadcast, but instead to reformat into a format suitable for playback from the disc. The inventors have recognised that:<br>
â¢	The processing that has to be done to interpret the broadcast stream is sequential in nature. This is because watching TV In real-time is linear and the streams were designed with this in mind. Recording a signal to disc in real-time is also sequential, so all the information needed is available to the system at record time.<br>
â¢	Playback from a disc is potentially non-sequential (due to random access, fast search, combining two recordings into one new one, skipping parts of a recording and so forth).<br>
â¢	In general, playback may happen many times whereas recording happens just once.<br>
From these observations, the aim of the present system is to do the processing needed to make playback and editing easier when the signal is recorded, rather than burden all playback and edit operations with unnecessary complexity and book-keeping.<br>
Figure 5 illustrates various functions and their inter-relationships, in the process of making and replaying digital video recordings in the novel apparatus. It will be appreciated that the implementation of the functions and interconnections shown may be distributed between hardware and software as a matter of design choice. The apparatus will in practice comprise a selection of dedicated logic circuits and programmable processors for digital signal<br><br>
processing ana control.<br>
Beginning at the start of the recording process in Figure 5, a broadcast signal ANT is received and decoded at 500 by a tuner function within the set top box (12 in Figure 1). This provides a digital video input signal DVIN in MPEG-TS format, corresponding to the signal on input terminal 1 in Figure 1. Within the recorder apparatus, function 502 selects a desired programme from any broadcast TS multiplex, filtering out the packets whose PID does not match the desired programme.<br>
At 504, the filtered stream is parsed into various elementary streams 506 (video), 508 (audio), 510 (graphics) and 512 (system information). The video, audio and graphic streams are re-multiplexed at 514 into the real time file format for storage on disc 3 via the file system 520 of the disc subsystem 6. As part of this refonnatting operation, lists of characteristic point infonnation CPI are generated at 516, and also added to the file structure on the disc.<br>
Based on the system information obtained at 512, not to mention options selected by the user of the apparatus, various control and indexing structure such as a table of contents, playback control programme, edits and so forth are generated at 518, for storage on a disc via the file system 520.<br>
For playback, the user (or the system itself) can choose whether to obtain digital output signals DVOUT at terminal 2 (Figure 1), or analogue signals ANOUT at another terminal 2'. To this end, at 522 the recorded real time files can be reproduced, using also the CPI and control information, and user input, to reproduce a TS format digital video output at step 522. Alternatively, at step 524, the same infonnation from the disc can be decoded to produce the analogue output signals ANOUT, in accordance with the audio, video and graphics content of the recorded stream.<br>
The novel aspects of the process will now be described in more detail.<br>
Characteristic Point Information (CPI)<br>
Additional information for Identifying and navigating the recording is<br><br>
stored with the PBC or elsewhere on the disk. In particular, characteristic point information (CPI) is stored for each real-time file (clip file), as illustrated at 516 in Figure 5. CPI comprises tables of locations within the recorded streams which are suitable for use as entry points in case of simple editing, interactive playback and trick play modes (fast picture search, for example). In general, CPI is used to determine the location of relevant data elements in a clip, without having to read and parse the clip itself. Indexing information like this is routinely present in Program Stream-based (PS) pre-recorded material, but is not generally provided in broadcast material, based on Transport Stream format. More detail of one form of characteristic point information (CPI) is contained in our above-referenced co-pending application WO 00/28544 (PHN 17161 EP), not published at the present priority date. In order to be able to use CPI effectively, the total amount of CPI data should be limited. This allows all or most of the CPI data to be stored in system memory, so that there is no need to write or read CPI data to or from the disc during time-critical operations. Actual limitations might be specified for example in terms of points, or in terms of the actual size of CPI data on the disc.<br>
For each clip file there is an accompanying CPI sequence, containing a list of all the characteristic points of that clip file. Clip files may be permitted to share data with other clip files to save duplicating data on disc, in a known manner. Similarly, CPI sequences can also share points with other CPI sequences.<br>
Transport stream PID mapping<br>
As explained above with reference to Figure 4, within the MPEG-2 Transport Stream, the desired programme consists of several elementary streams (e.g. Audio and Video and maybe others). Each elementary stream is carried in a stream of packets identified by a PID. Which PID number refers to each elementary stream is identified in the MPEG Program Specific Information (PSI) tables. These tables are the program association tables<br><br>
(PAT) and the program map table (PMT).<br>
Figure 6 illustrates schematically the presence of programme specific information RSI, comprising PAT and PMT, interspersed effectively at random intervals in among the packets of elementary stream data ES. Recall that PSI is always carried in a special stream with P!D= '000'. The "original" PID of each packet, as received in the digital input signal DVIN Is shown by a solid black circle â¢. The "original" programme mappings are given periodically by PSI fields, marked with a solid black square â . Every time PSI appears, the mapping of PID's to the elementary streams of the desired programme may change. The PAT/PMT allow the service provider to define and redefine the PID numbers that are used to identify program elements at will. A digital TV decoder (12 In Figures 1 and 5) has continually to check for updates to the PAT/PMT as it decodes the programme. The advantage for the service provider of this system is that it makes it easier to insert different content at different parts of his distribution network without central co-ordination.<br>
This system works well when the decoder examines the broadcast stream sequentially. However, when we store the signal on a disc and then later wish to make random access to the stream we have a problem. Therefore, even making use of the characteristic point information CPI, merely jumping to the address in the stream of an l-picture does not work. Instead the player has to jump to the PAT and then the PMT sections that precede the I-picture to discover what PID mapping is locally in force. Then the player can jump to the l-picture address. This will slow down random access unacceptably.<br>
Two approaches are now proposed to reformat the data before storing it on the disc. As noted above, during the recording all the infonnation needed by the recorder to do the refonnatting can be easily available.<br>
In the first approach, (not illustrated) copies of the PAT/PMT are inserted immediately before each access unit (In video streams, say, each I-picture may begin an access unit for this purpose) as it is recorded.   This<br><br>
requires a relatively small amount of processing. There are drawbacks to the first approach, however, namely:<br>
â¢	It disturbs the timing of each packet In the MPEG buffer models. This may require recalculation of a number of parameters in the packet headers.<br>
â¢	It wastes storage capacity on the disc (but a relatively small amount)<br>
â¢	The resulting stream still may use many different PIDs. It is not clear how practical decoders will behave if the PID is updated very rapidly in succession, as may happen if we edit streams together.<br>
The second approach, illustrated in Figure 6, is to re-map the PIDs for every packet to a defined set of PIDs that are used for all recordings. During recording, the apparatus keeps track of the current PAT/PMT as usual, in order to filter out the unwanted streams. A simple table is established to map the PIDs specified by the (current) PAT/PMT, to the standard set of PIDs defined for recordings. The PID of every transport packet is modified according to the table so that the recorded streams have constant PID irrespective of changes in the PAT/PMT. The modified PIDs are indicated in the drawing by open circles O in the "DVR" format, as recorded on the disc 3.<br>
With the standardised PIDs used for every part of a recording, random access is no longer a problem, because, whatever the PAT/PMT (â ) in the received TS, the wanted PID will always be the same, in the recorded stream. Given that the original PAT/PMT (â ) are still carried within the recorded stream, they would conflict with the modified PIDs (O) if fed to the decoder during playback. Accordingly, during playback, any PAT/PMT Included in the stream read from the disk are replaced with modified PAT/PMT (open squares D before being output from the apparatus at step 522 or fed to the local decoder at 524.<br>
In a variation on the second approach, the PAT/PMT also can be reÂ¬mapped during recording. Naturally this involves more processing during the<br><br>
recording step, but leaves nothing to do at playback time but feed the streams to a standard decoder.<br>
Advantages seen for the second approach are:<br>
â¢	There is no impact on buffering strategies.<br>
â¢	There is not a potential problem with practical decoders.<br>
â¢	There is no impact on storage capacity.<br>
Disadvantages of the second approach are:<br>
â¢	Every packet recorded has to be modified.<br>
â¢	The PAT and PMT that is transmitted needs to be changed during recording or playback, to reflect the new PIDs that are stored.<br>
The first disadvantage is relatively minor, given that the entire stream is being parsed byte-by-byte to identify entry points, create CPI entries and so forth. A simple single-byte substitution leaves the exact packet structure of each stream intact. The second disadvantage goes slightly contrary to the ideal of eliminating complicated processing at playback time, but this is a relatively minor complication in consideration of the benefits gained overall.<br>
PCR Replacement<br>
The basic timing information for transport streams is provided by a sequence of time stamps known as the program clock reference (PCR). Within one multiplex several independent streams of PCRs can be transmitted. Programmes within a multiplex can either carry their own PCR or share the PCR of another program. PCRs are carried within the packet header (adaptation field) of a nominated PID. It is possible that the PCR PID is not one the elementary streams belonging to a recording (that is, it is one being discarded in step 502).<br>
The apparent consequence of this would be that it is necessary to record the PCR PID (as in transparent recording of the entire multiplex). This<br><br>
may lead to the waste of a considerable amount of disc capacity and bandwidth, however. As one Illustration, suppose that one broadcaster (for example company X) includes two programme channels (X1 and X2, say) within the multiplex, and suppose that channels X1 and X2 share a PCR FID. Now suppose we wish to record X2 audio and video. If the PCR PID for both channels is in the elementary stream that carries the vision for XI, for transparent recording we would have to record the vision for X1 as well as X2, nearly doubling the required storage capacity.<br>
One solution would be to modify the packet headers of one of the existing elementary streams (for example, X2 video), so that it can cany the PCR. The disadvantage of this approach is that it disturbs the packet structure considerably, effectively requiring re-packetisation at the TS level. Any disruption of the packet structure potentially has implications for timing and buffer constraints.<br>
The solution adopted in the novel apparatus described herein is to insert a "dummy" PID, that does not exist in the original broadcast and is created solely to support the recording, to carry the PCR. This "dummy" stream can have any unused PID, conveniently fixed for all recordings.<br>
Figure 7 illustrates the operation of PCR-PID Insertion in the apparatus according to this solution. Elementary streams for X1 (video and audio) and for X2 (video and audio) are shown as part of the received TS fonnat multiplex DVIN. The video stream for X1 labelled "V(X1)" includes periodically the PCR field, indicated by a diamond (â¦). In the recorded format DVR, when recording X2 as described above, both streams V(X1) and A(X1) are omitted, while streams V(X2) and A(X2) are included in the DVR multiplex. A separate stream labelled PCR-PID is added, containing packets only when needed for the PCR (â¦). The saving in data quantity is apparent compared with the stream V(X1). The degree of saving will be far greater than appears from the drawing, because the drawing exaggerates the ratio of PCR data and audio payioad to video payload for the sake of illustration only.<br><br>
Clearly in the preferred embodiment the behaviour with regard to PCR will be combined with the behaviour described above in relation to PID. These features are illustrated separately in Figures 6 and 7 for the sake of clarity only. The reader will appreciate that these drawings exaggerate the ratio of PSl and PCR data to audio/video payload and exaggerate the ratio of audio payload to video payload, for the sake of clear illustration.<br>
Alternative Embodimente/Modiffcations<br>
As will be generally understood, the preceding examples relate to frame-based rather than field-based editing: this is because the general unit of video encoding in MPEG is the frame. It will be recognised by the skilled person that MPEG compliance is not mandatory (as mentioned above) and that the techniques described herein may be also applied to non-MPEG field-based data.<br>
There are also defined so-called "incognisant" formats, which may be broadcast. These follow the TS at the T-packet level, but are coded in nonÂ¬standard fashion or, more likely, they are MPEG streams scrambled for security/pay per view. Unless the recorder incorporates the appropriate descrambler, these stream cannot be parsed to implement the extra steps proposed above.<br><br>
recording and playback. The two subsystems are characterised by a number of features, as will be readily understood, including that the disc subsystem can be addressed transparently in tenns of logical addresses (LA) and can guarantee a maximum sustainable bit-rate for reading and/or writing data from/to the disc.<br>
Suitable hardware arrangements for implementing such an apparatus are known generally to the skilled person, with one example illustrated in the above-mentioned WO-A-00/00981 (PHB 34262 WO). The apparatus generally comprises signal processing units, a read/write unit Including a read/write head configured for reading from/writing to optical disc 3. Actuators position the head in a radial direction across the disc , while a motor rotates the disc. A microprocessor is present for controlling all the circuits in known manner.<br>
Many individual operations must be perfomied synchronously in order to make and reproduce digital video recordings, as will be described in more detail below. Broadly speaking, signal processing Is performed in a manner adapted to convert the video data received via the input tenninal 1 into blocks of information in the channel signal: the size of the blocks of information can be variable but may (for example) be between 2MB and 4MB. A block of information of the channel signal is written in a sequence area on the disc 3. The information blocks con-esponding to the original video signal are written into many sequence areas that are not necessarily contiguous, as may be seen in the recording diagram of Figure 3, which arrangement is known as fragmented recording. It is a characteristic of the disc sub-system that it is able to record and write such fragmented recordings fast enough to meet real-time deadlines, provided that certain allocation rules are met when the recordings are made.<br>
In order to enable editing of the video data recorded in an earlier recording step on the disc 3, the apparatus is further operable to generate the bridging sequence to link two video streams, as is described in our co-pending application claiming priority from GB 0007868.3, mentioned above.<br><br><br>
WE CLAIM:<br>
1.	A method of processing data received in a transport stream format to produce a modified<br>
transport stream for recording on a recording medium to record the content of a selected audioÂ¬<br>
visual programme (hereinafter referred to as the wanted content), the received transport stream<br>
comprising a multiplex of elementary streams conveying not only the wanted content but also the<br>
content of other programmes not to be recorded (the unwanted content), said elementary streams<br>
of data having been encoded, divided into elementary stream (ES) packets with packet headers,<br>
the ES packets sub-divided into a plurality of smaller transport packets  and the transport packets<br>
of the first and second elementary streams interleaved in the received transport stream with each<br>
other and with transport packets carrying data from neither stream, wherein the said modified<br>
transport stream is produced by:<br>
identifying and selecting received transport packets which correspond to the wanted content;<br>
recording the selected transport packets within a recording medium to form said modified transport stream, so as to preserve compliance with a transport stream target decoder model substantially without re-packetising or remultiplexing the streams; characterized by:<br>
generating and recording on the same recording medium auxiliary information for use by a reproducing apparatus in gaining access to the content of the modified transport stream via any of a set of potential entry points throughout the wanted content.<br>
2.	The method as claimed in claim 1 wherein said auxiliary information comprises information stored in a file separately from a file holding the modified transport stream.<br>
3.	The method as claimed in claim 2 wherein said auxiliary information comprises an index listing characteristic points within at least one of the elementary streams conveying the selected<br><br>
programme, and is obtained by parsing the elementary stream to identify individual access units offering a valid entry point for decoding said at least one elementary stream.<br>
4.	The method as claimed in claim 3 wherein said characteristic points are defined with a frequency substantially greater than one per second on the presentation time scale.<br>
5.	The method as claimed in claim 3 wherein said characteristic points are defined with reference to one of said first set of elementary streams which is a video elementary stream, each referring to an intra-coded picture data.<br>
6.	The method as claimed in claim 1 wherein at least part of said auxiliary information is recorded within the modified transport stream.<br>
7.	The method as claimed in claim 1 wherein the received transport stream occasionally comprises stream mapping information identifying a transport packet ID code associated with each elementary stream, said stream mapping information being used to identify the first set of elementary streams which convey the selected programme and being subject to change throughout the received transport stream, and wherein at least part of said auxiliary information is created by parsing the received transport stream to extract the mapping information, and recorded so that current mapping information is accessible at each potential entry point without parsing the modified transport stream prior to the entry point.<br>
8.	The method as claimed in claim 7 wherein at least part of said auxiliary information comprises additional copies of said mapping information inserted at each potential entry point in the modified transport stream.<br>
9.	The method as claimed in claim 6 wherein at least part of said auxiliary information<br><br>
overwrites header information received within the transport packets, in order to define the modified transport stream.<br>
10.	The method as claimed in claim 9 wherein the received transport stream occasionally comprises stream mapping information identifying a transport packet ID code associated with each elementary stream, said stream mapping information being used to identify the first set of elementary streams which convey the selected programme and being subject to change throughout the received transport stream, wherein said auxiliary information overwrites packet ID codes in the transport packets so as to re-map the first set of elementary streams to a uniform set of ID codes throughout the modified transport stream.<br>
11.	The method as claimed in claim 1, comprising the steps of:<br>
identifying in the received data an elementary stream conveying auxiliary data useful in playback of the programme to be recorded; and<br>
in the case where the elementary stream conveying the auxiliary data is one conveying part of the unwanted content, and not among those elementary streams selected as conveying the wanted content, generating a new elementary stream conveying the auxiliary data without the unwanted content.<br>
12.	The method as claimed in claim 11 wherein the auxiliary data comprises clock reference data for synchronising playback of the elementary streams.<br>
13.	The method as claimed in any preceding claim wherein said first and second elementary streams comprise at least video and audio streams of an audio-visual programme to be recorded.<br>
14.	The method as claimed in claim 13 wherein said received transport stream is compliant with the MPEG transport stream specification.<br><br>
15.	The method as claimed in claim 1 comprising:<br>
reproducing stored programme segments with a timing different to that of the received transport stream, in accordance with user command, by reading the recorded auxiliary information and using it to enter and commence reproduction by reading said modified transport stream from said recording medium from a desired entry point.<br>
16.	The method as claimed in claim 15 wherein said reproducing is performed to effect a trick play mode of a frame elementary stream, using the auxiliary information to step through the programme while presenting a subset of frames to a user, by reading said modified transport stream at a succession of entry points.<br>
17.	The method as claimed in claim 15 wherein said auxiliary information is read and used implicitly as part of a standard decoding of the modified transport stream.<br>
18.	The method as claimed in claim 15 wherein said auxiliary information is read and used to modify the transport stream as reproduced from the recording medium, prior to standard decoding of the modified transport stream.<br>
19.	An apparatus for recording a multiplex of elementary stream data received in a transport format the apparatus comprising means (6, 8, 504,514) specifically adapted to generate and record a modified transport stream by a method as claimed in any of claims 1 to 14.<br>
20.	An Apparatus (8) for processing data received in a transport stream format (DVE^J) to produce a modified transport stream (DVR) for recording on a recording medium to record the content of a selected audio-visual programme (hereinafter referred to as the wanted content), the received transport stream comprising a multiplex of elementary streams conveying not only the<br><br>
wanted content but also the content of other programmes not to be recorded (the unwanted content), said elementary streams of data having been encoded, divided into elementary stream (ES) packets with packet headers, the ES packets sub-divided into a plurality of smaller transport packets (T PKT), and the transport packets of the first and second elementary streams interleaved in the received transport stream with each other and with transport packets carrying data from neither stream, the apparatus comprising:<br>
means (8, 504) for identifying and selecting received transport packets which correspond to the wanted content;<br>
means (6, 8, 504, 514, 520) for recording the selected transport packets within a recording medium (3) to form said modified transport stream (DVR), so as to preserve compliance with a transport stream target decoder model substantially without re-packetising or remultiplexing the streams: characterized by:<br>
means (8, 514, 516, 520) for generating and recording on the same recording medium auxiliary information (CPI, PCR, FID) for use by a reproducing apparatus in gaining access to the content of the modified transport stream via any of a set of potential entry points throughout the wanted content.<br>
21.	The apparatus as claimed in claim 20 wherein the means for generating and recording said auxiliary information comprises means (520) for storing said auxiliary information in a file separately from a file holding the modified transport stream.<br>
22.	The apparatus as claimed in claim 21 wherein the means for generating and recording said auxiliary information comprises means (516, 520) for storing an index (CFI) listing characteristic points within at least one of the elementary streams conveying the selected programme, and means (516) for obtaining said index by parsing the elementary stream to identify individual access units offering a valid entry point for decoding said at least one elementary stream.<br><br>
23.	The apparatus as claimed in claim 22, wherein said generating and recording means is arranged to define said characteristic points with a frequency substantially greater than one per second on the presentation time scale.<br>
24.	The apparatus as claimed in claim 22, wherein said generating and recording means is arranged to define said characteristic points with reference to one of said first set of elementary streams which is a video elementary stream, each characteristic point referring to an intra-coded picture data.<br>
25.	The apparatus as claimed in claim 20 wherein said means (520) for storing auxiliary information comprises means (520) for recording at least part of said auxiliary information (PCR, PID) within the modified transport stream.<br>
26.	The apparatus as claimed in claim 20 wherein said identifying means (504) comprises means for using stream mapping information (PID), which is included occasionally within the received transport stream and which identifies a transport packet ID code associated with each elementary stream, to identify the first set of elementary streams which convey the selected programme, the mapping information being subject to change throughout the received transport stream, and wherein said generating and recording means (8, 514, 516, 520) comprises means for parsing the received transport stream to extract the mapping information (PID), and means for comprising said mapping information (PID') as at least part of said auxiliary information so that current mapping information is accessible at each potential entry point without parsing he modified transport stream prior to the entry point.<br>
27.	The apparatus as claimed in claim 26 said means for comprising said mapping information comprises means for inserting additional copies of said mapping information (PID) at each potential entry point in the modified transport stream.<br><br>
28.	The apparatus as claimed in claim 25 said generating and recording means comprises means for overwriting header information received within the transport packets with at least part of said auxiliary information, in order to define the modified transport stream.<br>
29.	The apparatus as claimed in claim 38 wherein said identifying means (504) comprises means for using stream mapping information (PID), which is included occasionally within the received transport stream and which identifies a transport packet ID code associated with each elementary stream, to identify the first set of elementary streams which convey the selected programme said stream mapping information being subject to change throughout the received transport stream, wherein recording means comprises means for overwriting packet ID codes in the transport packets with at least part of said auxiliary information so as to re-map the first set of elementary streams to a uniform set of ID codes throughout the modified transport stream.<br>
30.	The apparatus as claimed in claim 20 wherein the means for generating and recording auxiliary information comprises:<br>
means (504) for identifying in the received data an elementary stream conveying auxiliary data (PCR) useful in playback of the programme to be recorded; and<br>
means (514) for, in the case where the elementary stream conveying the auxiliary data is one conveying part of the unwanted content, and not among those elementary streams selected as conveying the wanted content, generating a new elementary stream (PCR, PID) conveying the auxiliary data without the unwanted content.<br>
31.	The apparatus as claimed in claim 30 the means (514) for generating said auxiliary data comprises means for comprising in said new elementary stream clock reference data for synchronising playback of the elementary streams.<br>
32.	The method as claimed in any of claims 20 to 31 said identifying means comprises means<br><br>
for identifying as said first and second elementary streams video and audio streams (V(X2), A(X2)) of an audio-visual programme to be recorded.<br>
33.	The apparatus as claimed in claim 32 wherein said identifying means is arranged to identify said auxiliary data in a received transport stream (OVIN) which is compliant with the MPEG transport stream specification.<br>
34.	The apparatus as claimed in claim 20 comprising:<br>
means (6, 8, 522/524) for reproducing stored programme segments with a timing different to that of the received transport stream, in accordance with user command, by reading the recorded auxiliary information and using it to enter and commence reproduction by reading said modified transport stream from said recording medium from a desired entry point.<br>
35.	The apparatus as claimed in claim 34 said reproducing means comprises means for effecting a trick play mode of a frame-based elementary stream, using the auxiliary information to step through the programme while presenting a subset of frames to a user, by reading said modified transport stream at a succession of entry point.<br>
36.	The apparatus as claimed in claim 34 wherein said reproducing means comprises means for reading and using said auxiliary information implicitly as part of a standard decoding of the modified transport stream.<br>
37.	The apparatus as claimed in claim 34 wherein said reproducing means (522/524) is operable to read and use said auxiliary information to modify the transport stream as reproduced from the recording medium, prior to standard decoding of the modified transport stream.<br>
38.	The apparatus (6, 8) for processing a received data stream to produce a modified stream<br><br>
for recording on a recording medium to record the content of a selected audio-visual programme (hereinafter referred to as the wanted content), the received data stream comprising a multiplex of elementary streams conveying not only the wanted content but also the content of other programmes not to be recorded (the unwanted content), the apparatus comprising:<br>
â	means (8, 504) for identifying and extracting from the received data stream the elementary data stream(s) conveying the wanted content; and<br>
â	means (8, 514) for multiplexing together the elementary stream(s) extracted from the received stream to form said modified data stream for recording,<br>
characterized by<br>
â	means (8) for identifying in the received data an elementary stream conveying auxiliary data useful in playback of the programme to be recorded;<br>
â	means (8) for, in the case where the elementary stream conveying the auxiliary data is one conveying part of the unwanted content, generating a new elementary stream (RCA RID) conveying the auxiliary data without that part of the unwanted content and<br>
â	means for multiplexing the new elementary stream with the extracted elementary streams to form said modified data stream for recording.<br><br>
39.	The apparatus as claimed in claim 38 wherein the means (514) for generating said auxiliary data comprises means for comprising in said new stream for recording on a recording medium to record the content of a selected audio-visual programme.<br>
40.	The apparatus as claimed in claim 38 wherein the identifying means (8) is arranged to identify said auxiliary data in a received data stream which is an MPEG-compliant Transport Stream as defined in ISO/lEO 13818-1 and in which the auxiliary data comprises the Program Clock Reference (PCR) as defined therein.<br>
41.	The apparatus as claimed in claim 19 comprising means (6, 8, 522/524) for reproducing said modified transport stream by a method as claimed in any of claims 15 to 18.<br><br>
42.	A method of processing a received data stream to produce a modified stream for recording<br>
on a recording medium to record the content of a selected audio-visual programme (hereinafter<br>
referred to as the wanted content), the received data stream comprising a multiplex of elementary<br>
streams conveying not only the wanted content but also the content of other programmes not to<br>
be recorded (the unwanted content), the method comprising:<br>
â	identifying and extracting from the received data stream the elementary data stream(s) conveying the wanted content; and<br>
â	multiplexing together the elementary stream(s) extracted from the received stream to form said modified data stream for recording,<br>
characterized by<br>
â	identifying in the received data an elementary stream conveying auxiliary data useful in<br>
playback of the programme to be recorded;<br>
â	in the case where the elementary stream conveying the auxiliary data is one conveying<br>
part of the unwanted content, generating a new elementary stream conveying the auxiliary data<br>
without that part of the unwanted content and muftiplexing the new elementary stream with the<br>
extracted elementary streams to form said modified data stream for recording.<br>
43.	The method as claimed in claim 42 wherein the auxiliary data comprises a clock reference<br>
data for synchronising playback of the audio-visual programme.<br>
44.	The method as claimed in claim 42 wherein the received data stream is an MPEG-<br>
compliant Transport Stream as defined in ISO/IEC 13818-1 and the auxiliary data comprises the<br>
Program Clock Reference (PCR) as defined therein.<br><br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMTY5MC1jaGUgY2xhaW1zLWR1cGxpY2F0ZS5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2001-1690-che claims-duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMTY5MC1jaGUgY2xhaW1zLnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2001-1690-che claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMTY5MC1jaGUgY29ycmVzcG9uZGVuY2Utb3RoZXJzLnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2001-1690-che correspondence-others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMTY5MC1jaGUgY29ycmVzcG9uZGVuY2UtcG8ucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2001-1690-che correspondence-po.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMTY5MC1jaGUgZGVzY3JpcHRpb24gKGNvbXBsZXRlKS1kdXBsaWNhdGUucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2001-1690-che description (complete)-duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMTY5MC1jaGUgZGVzY3JpcHRpb24gKGNvbXBsZXRlKS5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2001-1690-che description (complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMTY5MC1jaGUgZHJhd2luZ3MucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2001-1690-che drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMTY5MC1jaGUgZm9ybS0xLnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2001-1690-che form-1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMTY5MC1jaGUgZm9ybS0xOC5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2001-1690-che form-18.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMTY5MC1jaGUgZm9ybS0yNi5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2001-1690-che form-26.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMTY5MC1jaGUgZm9ybS0zLnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2001-1690-che form-3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMTY5MC1jaGUgZm9ybS01LnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2001-1690-che form-5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMTY5MC1jaGUgcGV0aXRpb24ucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2001-1690-che petition.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="218903-a-method-of-operating-a-radio-communication-system-having-a-random-access-channel.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="218905-process-for-production-of-substituted-alkylamine-derivative.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>218904</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>IN/PCT/2001/1690/CHE</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>23/2008</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>06-Jun-2008</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>16-Apr-2008</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>29-Nov-2001</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>KONINKLIJKE PHILIPS ELECTRONICS N.V</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td></td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>KELLY, Declan P</td>
											<td></td>
										</tr>
										<tr>
											<td>2</td>
											<td>MORRIS, Octavius J</td>
											<td></td>
										</tr>
										<tr>
											<td>3</td>
											<td>VAN GESTEL, Wilhelmus J</td>
											<td></td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04N 09/804</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/EP01/03130</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2001-03-20</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>0007870.9</td>
									<td>2000-03-31</td>
								    <td>U.K.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/218904-method-and-apparatus-for-making-and-replaying-digital-video-recordings-and-recordings-made-by-such-method by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 12:26:15 GMT -->
</html>
