<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/279858-valvetrain-control-systems-with-lift-mode-transitioning-based-engine-synchronization-timing-and-sensor-based-lift-mode-control by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2024 22:51:15 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 279858:VALVETRAIN CONTROL SYSTEMS WITH LIFT MODE TRANSITIONING BASED ENGINE SYNCHRONIZATION TIMING AND SENSOR BASED LIFT MODE CONTROL</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">VALVETRAIN CONTROL SYSTEMS WITH LIFT MODE TRANSITIONING BASED ENGINE SYNCHRONIZATION TIMING AND SENSOR BASED LIFT MODE CONTROL</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A valve control system for an internal combustion engine includes a valve actuation system. The valve actuation system includes lift control valves that actuate at least one of an intake valve and an exhaust valve between N open lift modes, where N is an integer greater than one. A control module enables transitioning of at least one of the intake valve and the exhaust valve between the open lift modes. The control module synchronizes transitions between the N open lift modes with crankshaft and valvetrain timing. The control module generates an engine position synchronization signal based on the transitioning.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>VALVETRAIN CONTROL SYSTEMS WITH LIFT MODE TRANSITIONING<br>
BASED ENGINE SYNCHRONIZATION TIMING AND SENSOR BASED LIFT<br>
MODE CONTROL<br>
CROSS-REFERENCE TO RELATED APPLICATIONS<br>
[0001] This application claims the benefit of U.S. Provisional<br>
Application No. 60/993,047, filed on September 7, 2007. The disclosure of the<br>
above application is incorporated herein by reference in its entirety.<br>
FIELD OF THE INVENTION<br>
[0002] The present invention relates to internal combustion engines,<br>
and more particularly to valve train systems of internal combustion engines and<br>
control thereof.<br>
BACKGROUND OF THE INVENTION<br>
[0003] The background description provided herein is for the purpose<br>
of generally presenting the context of the disclosure. Work of the presently<br>
named inventors, to the extent it is described in this background section, as well<br>
as aspects of the description that may not otherwise qualify as prior art at the<br>
time of filing, are neither expressly nor impliedly admitted as prior art against the<br>
present disclosure.<br>
[0004] A homogeneous charge compression ignition (HCCI) refers to a<br>
form of internal combustion within an internal combustion engine. HCCI<br>
compressing a mixture of fuel and oxidizer to a point of auto-ignition. The auto-<br>
ignition release chemical energy that is translated into work and heat. In an<br>
 <br>
HCCI engine ignition occurs at several places at a time which makes a fuel/air<br>
mixture burn nearly simultaneously. An HCCI engine performs closer to an ideal<br>
OTTO cycle, provides improved operating efficiency (operates leaner), and<br>
generates less emissions than spark ignition engines, However, since there is no<br>
direct initiator of combustion, the ignition process is inherently challenging to<br>
control.<br>
[0005] To achieve dynamic operation in an HCCI engine a control<br>
system may alter the conditions that induce combustion. For example, a control<br>
system may adjust compression ratios, induced gas temperature, induced gas<br>
pressure, or the quantity of retained or reinducted exhaust. Several approaches<br>
have been used to perform the stated adjustments and thus extend the HCCI<br>
operating region by providing finer control over temperature-pressure-time<br>
histories within a combustion chamber.<br>
[0006] One approach is variable valve timing. Compression ratios can<br>
be controlled by adjusting when intake valves close. The amount of exhaust gas<br>
retained in a combustion chamber can be controlled by valve re-opening and/or<br>
valve overlap. Variable valve timing is limited in control over the auto-ignition<br>
process.<br>
[0007] Another approach that is used to further increase control is<br>
referred to as a "2-step" intake valve lift approach. The 2-step intake valve lift<br>
approach includes switching intake valve modes of operation between a HIGH lift<br>
mode and a LOW lift mode, which have corresponding lift profiles. During the<br>
HIGH lift mode, the intake valves are lifted to a HIGH level to allow for a<br>
 <br>
predetermined volume of air to enter the corresponding cylinders. During the<br>
LOW lift mode, the intake valves are lifted to a LOW level, which allows a smaller<br>
predetermined volume of air to enter the corresponding cylinders relative to the<br>
HIGH lift mode. Current 2-step approaches tend to exhibit inconsistent and non-<br>
uniform lift transitions and thus inconsistent end results.<br>
SUMMARY<br>
[0008] In one exemplary embodiment, a valve control system for an<br>
internal combustion engine includes a valve actuation system that actuates each<br>
of an intake valve and an exhaust valve between a N open lift modes where N is<br>
an integer greater than one. A control module defines a switching window having<br>
a start time based on intake valve timing and an end time based on exhaust<br>
valve timing. The control module enables transitioning of at least one of the<br>
intake and exhaust valves between the N open lift modes based on the switching<br>
window.<br>
[0009] In other features, a valve control system for an internal<br>
combustion engine is provided and includes a vehicle control module that<br>
generates a lift mode command signal to transition at least one of an intake valve<br>
and an exhaust valve between N open lift modes, where N is an integer greater<br>
than one. A time module generates a response time signal that indicates a<br>
duration for performing the transition and a lift limit signal that disables the<br>
transition. The time module generates the response time signal and the lift limit<br>
signal based on a current lift mode signal and a status signal. The current lift<br>
 <br>
mode signal indicates a current lift state of at least one of the intake valve and<br>
the exhaust valve. The status signal indicates status of a lift control valve. The<br>
lift control valve actuates at least one of the intake valve and the exhaust valve.<br>
The event module generates the current lift mode signal and the status signal<br>
based on the lift command signal, the response time signal, and the lift limit<br>
signal. At least one of the time and event modules enables the transition.<br>
[0010] In other features, a valve control system for an internal<br>
combustion engine is provided and includes a valve actuation system that<br>
actuates at least one of an intake valve and an exhaust valve between N open lift<br>
modes, where N is an integer greater than one. A control module enables<br>
transitioning of at least one of the intake and exhaust valves between said N<br>
open lift modes based on at least one of an oil pressure signal, a lift control valve<br>
temperature, and an oil temperature.<br>
[0011] In other features, a valve control system for an internal<br>
combustion engine is provided and includes a valve actuation system. The valve<br>
actuation system includes at least one of first and second configurations. The<br>
first configuration includes a shared lift control valve that actuates an intake valve<br>
and an exhaust valve between N open lift modes, where N is an integer greater<br>
than one. A second configuration includes a first lift control valve that actuates<br>
the intake valve and not the exhaust valve and a second lift control valve that<br>
actuates the exhaust valve and not the intake valve between the N open lift<br>
modes. A control module that enables transitioning of at least one of the intake<br>
 <br>
and exhaust valves between the N open lift modes for the first and second<br>
configurations.<br>
[0012] In other features, a valve control system for an internal<br>
combustion engine is provided and includes a valve actuation system. The valve<br>
actuation system includes lift control valves that actuate at least one of an intake<br>
valve and an exhaust valve between N open lift modes, where N is an integer<br>
greater than one. A control module enables transitioning of at least one of the<br>
intake valve and the exhaust valve between the open lift modes. The control<br>
module synchronizes transitions between the N open lift modes with crankshaft<br>
and valvetrain timing. The control module generates an engine position<br>
synchronization signal based on the transitioning.<br>
[0013] In other features, a valve control system for an internal<br>
combustion engine is provided and includes a valve actuation system. The valve<br>
actuation system actuates at least one of an intake valve and an exhaust valve<br>
between N open lift modes via lift control valves. The control module enables<br>
transitioning of at least one of the intake valve and the exhaust valve between<br>
the N open lift modes. The control module defines M valve leading modes that<br>
indicate whether the intake valve transitions between the N open lift modes<br>
before, during the same time period, or after the exhaust valve. The control<br>
module selectively transitions the intake valve and the exhaust valve based on a<br>
current one of the M valve leading modes. N and M are integers greater than<br>
one.<br>
 <br>
[0014] Further areas of applicability will become apparent from the<br>
description provided herein. It should be understood that the description and<br>
specific examples are intended for purposes of illustration only and are not<br>
intended to limit the scope of the present disclosure.<br>
BRIEF DESCRIPTION OF THE DRAWINGS<br>
[0015] The present invention will become more fully understood from<br>
the detailed description and the accompanying drawings, wherein:<br>
[0016] FIG. 1 is a functional block diagram of an internal combustion<br>
engine system incorporating valve lift control in accordance with an embodiment<br>
of the present disclosure;<br>
[0017] FIG. 2 is a functional block diagram of a valve lift control circuit<br>
in accordance with an embodiment of the present disclosure;<br>
[0018] FIG. 3 is a perspective view of a switchable valve lift actuating<br>
mechanism in relation to a set of camshaft lobes and in accordance with an<br>
embodiment of the present disclosure;<br>
[0019] FIG. 4 is an exploded view of the switchable valve lift actuating<br>
mechanism of FIG. 3;<br>
[0020] FIG. 5 is a side cross-sectional view of lift pin actuating portion<br>
of the switchable valve lift actuating mechanism of FIG. 3;<br>
[0021] FIG. 6 is a side perspective view of rocker assembly of the<br>
switchable valve lift actuating mechanism of FIG. 3;<br>
 <br>
[0022] FIG. 7 is another side perspective view of rocker assembly of<br>
the switchable valve lift actuating mechanism of FIG. 3;<br>
[0023] FIG. 8 is an intake and exhaust valve opening signal diagram<br>
illustrating a lift switching window in accordance with an embodiment of the<br>
present disclosure;<br>
[0024] FIG. 9 is another intake and exhaust valve opening signal<br>
diagram illustrating a lift switching window in accordance with an embodiment of<br>
the present disclosure;<br>
[0025] FIG. 10 is still another intake and exhaust valve opening signal<br>
diagram illustrating a high to low switching window in accordance with an<br>
embodiment of the present disclosure;<br>
[0026] FIG. 11 is a response time signal diagram for high to low lift in<br>
accordance with an embodiment of the present disclosure;<br>
[0027] FIG. 12 is a response time signal diagram for low to high lift in<br>
accordance with an embodiment of the present disclosure;<br>
[0028] FIG. 13 is a bar graph illustrating switch window size variation<br>
relative to engine speed in accordance with an embodiment of the present<br>
disclosure;<br>
[0029] FIG. 14 is a functional block diagram of a valve control system<br>
in accordance with an embodiment of the present disclosure;<br>
[0030] FIG. 15 is a functional block diagram of a time module of the<br>
valve control system of FIG. 14;<br>
 <br>
[0031] FIG. 16 is a functional block diagram of a response time module<br>
of the time module of FIG. 15;<br>
[0032] FIG. 17 is a functional block diagram of a lift mode limit module<br>
of FIG 15;<br>
[0033] FIG. 18 is a functional block diagram of a voltage limit module of<br>
FIG. 17;<br>
[0034] FIG. 19 is a functional block diagram of a voltage low lift module<br>
of FIG. 18;<br>
[0035] FIG. 20 is a functional block diagram of a voltage high lift<br>
module of FIG. 18;<br>
[0036] FIG. 21 is a functional block diagram of a speed limit module of<br>
FIG. 17;<br>
[0037] FIG. 22 is a functional block diagram of a speed low lift module<br>
of FIG. 21<br>
[0038] FIG. 23 is a functional block diagram of a speed high lift limit<br>
module of FIG. 21<br>
[0039] FIG. 24 is a functional block diagram of a engine oil temperature<br>
limit module of FIG. 17;<br>
[0040] FIG. 25 is a functional block diagram of a engine oil temperature<br>
low lift module of FIG. 24;<br>
[0041] FIG. 26 is a functional block diagram of a engine oil temperature<br>
high lift module of FIG. 24;<br>
 <br>
[0042] FIG. 27 is a functional block diagram of a engine oil pressure<br>
model module of FIG. 17;<br>
[0043] FIG. 28 is a functional block diagram of a engine oil pressure<br>
limit module of FIG. 17;<br>
[0044] FIG. 29 is a functional block diagram of a number of solenoid<br>
ON module of FIG. 28;<br>
[0045] FIG. 30 is a functional block diagram of a four solenoid ON<br>
module of FIG. 28;<br>
[0046] FIG. 31 is a functional block diagram of a two solenoid ON<br>
module of FIG. 28;<br>
[0047] FIG. 32 is a functional block diagram of a zero solenoid ON<br>
module of FIG. 28;<br>
[0048] FIG. 33 is a functional block diagram of a window limit module<br>
of FIG. 17;<br>
[0049] FIG. 34 is a functional block diagram of a pin response angle<br>
module of FIG. 33;<br>
[0050] FIG. 35 is a functional block diagram of an event module of FIG.<br>
14;<br>
[0051] FIG. 36 is a functional block diagram of a limit low lift module of<br>
FIG. 35;<br>
[0052] FIG. 37 is a functional block diagram of a solenoid hardware<br>
input/output (HWIO) control module of FIG 35;<br>
 <br>
[0053] FIG. 38 is a functional block diagram of a portion of a target<br>
angle based parameter module of FIG. 37;<br>
[0054] FIG. 39 is a functional block diagram of another portion of the<br>
target angle based parameter module of FIG. 37;<br>
[0055] FIG. 40 is a functional block diagram of a target and switching<br>
window module of FIG. 39;<br>
[0056] FIG. 41 is a functional block diagram of a target and switching<br>
window module of FIG. 40;<br>
[0057] FIG. 42 is a functional block diagram of a window high low<br>
exhaust valve module of FIG. 41 ;<br>
[0058] FIG. 43 is a functional block diagram of an exhaust two solenoid<br>
module of FIG. 42;<br>
[0059] FIG. 44 is a functional block diagram of an exhaust four<br>
solenoid module of FIG. 42;<br>
[0060] FIG. 45 is a functional block diagram of an intake four solenoid<br>
module of FIG. 42;<br>
[0061] FIG. 46 is a functional block diagram of a lift sequence module<br>
of FIG. 37;<br>
[0062] FIG. 47 is a functional block diagram of an exhaust lift control<br>
module of FIG. 37;<br>
[0063] FIG. 48 is a functional block diagram of a mode switch case<br>
module of FIG. 47;<br>
 <br>
[0064] FIG. 49 is a functional block diagram of an exhaust case two<br>
low-to-high module of FIG. 47;<br>
[0065] FIG. 50A is a logic flow diagram illustrating a method of<br>
controlling a valvetrain in accordance with an embodiment of the present<br>
disclosure;<br>
[0066] FIG. 50B is a continuance of FiG. 50A;<br>
[0067] FIG. 50C is a continuance of FIGs. 50A-50B;<br>
[0068] FIG. 50D is a continuance of FIGs. 50A-50C; and<br>
[0069] FIG. 51 is a state flow diagram illustrating a method of<br>
controlling a valvetrain in accordance with another embodiment of the present<br>
disclosure.<br>
DETAILED DESCRIPTION<br>
[0001] The following description is merely exemplary in nature and is in<br>
no way intended to limit the disclosure, its application, or uses. For purposes of<br>
clarity, the same reference numbers will be used in the drawings to identify<br>
similar elements. As used herein, the phrase at least one of A, B, and C should<br>
be construed to mean a logical (A or B or C), using a non-exclusive logical or. It<br>
should be understood that steps within a method may be executed in different<br>
order without altering the principles of the present disclosure.<br>
[0070] As used herein, the term module refers to an Application<br>
Specific Integrated Circuit (ASIC), an electronic circuit, a processor (shared,<br>
dedicated, or group) and memory that execute one or more software or firmware<br>
 <br>
programs, a combinational logic circuit, and/or other suitable components that<br>
provide the described functionality.<br>
[0071] Also, as used herein, the term combustion cycle refers to the<br>
reoccurring stages of an engine combustion process. For example, in a 4-stroke<br>
internal combustion engine, a single combustion cycle may refer to and include<br>
an intake stroke, a compression stroke, a power stroke and an exhaust stroke.<br>
The four-strokes are continuously repeated during operation of the engine.<br>
[0072] In addition, although the following embodiments are described<br>
primarily with respect to example internal combustion engines and homogeneous<br>
charge compression ignition (HCCI) engines, the embodiments of the present<br>
disclosure may apply to other internal combustion engines. For example, the<br>
present invention may apply to compression ignition, spark ignition, homogenous<br>
spark ignition, stratified spark ignition, and spark assisted compression ignition<br>
engines.<br>
[0073] Also, in the following described Figures, reference labels that<br>
refer to signals, devices, objects, elements, etc. in one Figure may or may not<br>
refer to other signals, devices, objects, elements, etc. in another Figure, which<br>
have the same reference label. For example, a signal in a first figure that has the<br>
same reference label as a signal in a second figure may be the same signal, may<br>
refer to a similar signal, a similar signal generated during a different time period,<br>
or may be a different signal.<br>
[0074] Referring now to FIG. 1, a functional block diagram of an<br>
internal combustion engine system 50, more specifically, an HCCI engine system<br>
 <br>
incorporating variable valve lift control is shown. The HCCI engine system 50 is<br>
on a vehicle 52 and includes a HCCI engine 54, a valve lift control system 56,<br>
and an exhaust system 58. The valve lift control system 56 controls variable<br>
opening lift operation of intake and exhaust valves of the engine 54. The intake<br>
and exhaust valves of the engine 54 may each operate in 2-step, multi-step, or<br>
variable lift modes. The 2-step mode may include, for example, HIGH lift and<br>
LOW lift modes. The multi-step mode may include any number of lift modes.<br>
The variable lift mode refers to continuously variable control over lift position of<br>
intake and exhaust valves. The embodiments disclosed herein provide<br>
repeatable, consistent, uniform, and reliable control over operation of intake and<br>
exhaust valves and mode transition thereof. The variable valve lift control<br>
system 56 operates based on various characteristics and parameters of the<br>
engine 54.<br>
[0075] The engine 54 has cylinders 60. Each cylinder 60 may have<br>
one or more intake valves and/or exhaust valves. Each cylinder 60 also includes<br>
a piston that rides on a crankshaft 62. The engine 54 is configured with at least a<br>
portion of the valve lift control system 56 and may be configured with an ignition<br>
system 64 with an ignition circuit 65. The engine 54 is also configured with a fuel<br>
injection circuit 67, and the exhaust system 58. The engine 54 includes an intake<br>
manifold 66. The engine 54 combusts an air and fuel mixture to produce drive<br>
torque. The engine 54, as shown, includes four cylinders in an in-line<br>
configuration. Although FIG. 2 depicts four cylinders (N = 4), it can be<br>
appreciated that the engine 54 may include additional or fewer cylinders. For<br>
 <br>
example, engines having 2, 4, 5, 6, 8, 10, 12 and 16 cylinders are contemplated.<br>
It is also anticipated that the fuel injection control of the present invention can be<br>
implemented in a V-type or another type of cylinder configuration.<br>
[0076] An output of the engine 54 is coupled by a torque converter 70,<br>
a transmission 72, a driveshaft 74 and a differential 76 to driven wheels 78. The<br>
transmission 72 may, for example, be a continuously variable transmission (CVT)<br>
or a step-gear automatic transmission. The transmission 72 is controlled by a<br>
vehicle control module 80.<br>
[0077] The valve lift control system includes an intake and exhaust<br>
valve assembly (head) 79, the control module 80, and various sensors. Some of<br>
the sensors are shown in FIGs. 1, 2 and 12. The control module 80 controls lift<br>
operation of intake and exhaust valves of the valve assembly 79.<br>
[0078] Air is drawn into the intake manifold 66 via an electronic throttle<br>
controller (ETC) 90, or a cable-driven throttle, which adjusts a throttle plate 92<br>
that is located adjacent to an inlet of an intake manifold 66. The adjustment may<br>
be based upon a position of an accelerator pedal 94 and a throttle control<br>
algorithm that is executed by the control module 80. The throttle 92 adjusts<br>
airflow and intake manifold pressure that affects output torque that drives the<br>
wheels 78. An accelerator pedal sensor 96 generates a pedal position signal<br>
that is output to the control module 80 based on a position of the accelerator<br>
pedal 94. A position of a brake pedal 98 is sensed by a brake pedal sensor or<br>
switch 100, which generates a brake pedal position signal that is output to the<br>
control module 80.<br>
 <br>
[0079] Air is drawn into the cylinders 60 from the intake manifold 66<br>
and is compressed therein. Fuel is injected into cylinders 60 by the fuel injection<br>
circuit 67 and the spark generated by the ignition system 64 ignites the air/fuel<br>
mixtures in the cylinders 60. Exhaust gases are exhausted from the cylinders 60<br>
into the exhaust system 58. In some instances, the engine system 80 can<br>
include a turbocharger that uses an exhaust driven turbine to drive a compressor<br>
that compresses the air entering the intake manifold 66. The compressed air<br>
may pass through an air cooler before entering into the intake manifold 66.<br>
[0080] The fuel injection circuit 67 may include fuel injectors that are<br>
associated with each of the cylinders 60. A fuel rail provides fuel to each of the<br>
fuel injectors after reception from, for example, a fuel pump or reservoir. The<br>
control module 80 controls operation of the fuel injectors including the number<br>
and timing of fuel injections into each of the cylinders 60 and per combustion<br>
cycle thereof. The fuel injection timing may be relative to crankshaft positioning.<br>
[0081] The ignition system 64 may include spark plugs or other ignition<br>
devices for ignition of the air/fuel mixtures in each of the cylinders 60. The<br>
ignition system 64 also may include the control module 80. The control module<br>
80 may, for example, control spark timing relative to crankshaft positioning.<br>
[0082] The exhaust system 58 may include exhaust manifolds and/or<br>
exhaust conduits, such as the conduit 110 and a filter system 112. The exhaust<br>
manifolds and conduits direct the exhaust exiting the cylinders 60 into filter<br>
system 112. Optionally, an EGR valve re-circulates a portion of the exhaust back<br>
into the intake manifold 66. A portion of the exhaust may be directed into a<br>
 <br>
turbocharger to drive a turbine. The turbine facilitates the compression of the<br>
fresh air received from the intake manifold 66. A combined exhaust stream flows<br>
from the turbocharger through the filter system 112.<br>
[0083] The filter system 112 may include a catalytic converter or an<br>
oxidation catalyst (OC) 114 and a heating element 116, as well as a particulate<br>
filter, a liquid reductant system and/or other exhaust filtration system devices.<br>
The heating element 116 may be used to heat the oxidation catalyst 114 during<br>
startup of the engine 54 and be controlled by the control module 80. The liquid<br>
reductant may include urea, ammonia, or some other liquid reductant. Liquid<br>
reductant is injected into the exhaust stream to react with NOx to generate water<br>
vapor (H20) and N2 (nitrogen gas).<br>
[0084] The valve lift control system 56 further includes an engine<br>
temperature sensor 118 and an exhaust temperature sensor 120. The engine<br>
temperature sensor 118 may detect oil or coolant temperature of the engine 54<br>
or some other engine temperature. The exhaust temperature sensor 120 may<br>
detect temperature of the oxidation catalyst 114 or some other component of the<br>
exhaust system 58. The temperatures of the engine 54 and the exhaust system<br>
58 may be indirectly determined or estimated based on engine and exhaust<br>
operating parameters and/or other temperature signals. Alternatively, the<br>
temperatures of the engine 54 and the exhaust system 58 may be determined<br>
directly via the engine and exhaust temperature sensors 118, 120.<br>
[0085] Other sensor inputs collectively indicated by reference number<br>
122 and used by the control module 80 include an engine speed signal 124, a<br>
 <br>
vehicle speed signal 126, a power supply signal 128, oil pressure signal 130, an<br>
engine temperature signal 132, and a cylinder identification signal 134. The<br>
sensor input signals 124-134 are respectively generated by engine speed sensor<br>
136, vehicle speed sensor 138, a power supply sensor 140, an oil pressure<br>
sensor 142, an engine temperature sensor 144, and cylinder identification sensor<br>
146. Some other sensor inputs may include an intake manifold pressure signal,<br>
a throttle position signal, a transmission signal, and manifold air temperature<br>
signal.<br>
[0086] The valve lift control system 56 may also include one or more<br>
timing sensors 148. Although the timing sensor 148 is shown as a crankshaft<br>
position sensor, the timing sensor may be a camshaft position sensor, a<br>
transmission sensor, or some other timing sensor. The timing sensor generates<br>
a timing signal that is indicative of position of one or more pistons and/or a<br>
crankshaft and/or a camshaft.<br>
[0087] Referring now to FIG. 2, a functional block diagram of a valve lift<br>
control circuit 150 is shown. The valve lift control circuit 150 includes an<br>
intake/exhaust valve assembly 152 that receives oil from an oil reservoir 154 via<br>
an oil pump 156. The oil is filtered through an oil filter 158 prior to reception by<br>
the valve assembly 152. The vehicle control module 80 controls lift operation of<br>
intake and exhaust valves 160, 162 of the valve assembly 152.<br>
[0088] The valve assembly 152 includes the intake and exhaust valves<br>
160, 162, which have open and closed states and are actuated via one or more<br>
camshafts 164. A dedicated intake camshaft and a dedicated exhaust camshaft<br>
 <br>
may be included. In another embodiment, the intake and exhaust valves 160,<br>
162 share a common camshaft. When in an open state the intake and exhaust<br>
valves 160, 162 may be operating in various lift modes, some of which are<br>
mentioned above.<br>
[0089] The valve assembly 152 also includes valve lift mode<br>
adjustment devices 170. The lift mode adjustment devices 170 may include oil<br>
pressure control valves 172 and valve lift control valves, such as solenoids 174.<br>
Other lift mode adjustment devices 176, such as lift pins, levers, rockers, springs,<br>
locking mechanisms, tappets, etc may be included. Examples of lift mode<br>
adjustment devices are shown in FIGs. 3-7 and are part of a switchable valve lift<br>
actuating mechanism.<br>
[0090] The valve lift control circuit 150 may include an oil temperature<br>
pensor 180 and/or an oil pressure sensor 182. The vehicle control module 80<br>
signals the oil pressure control valves 172 based on temperature and pressure<br>
signals received from the temperature and pressure sensors 180, 182.<br>
[0091] Referring now to FIGs. 3-7, perspective, exploded and side<br>
cross-sectional views of a switchable valve lift actuating mechanism 200 are<br>
shown.<br>
[0092] The switchable valve lift actuating mechanism 200 includes a<br>
valve lever (follower) 202 on which circular rollers 204 and 205 are attached.<br>
The rollers 204 are associated with HIGH lift mode operation. The rollers 205<br>
are associated with LOW lift mode operation. During the HIGH lift mode a valve<br>
206 is lifted or actuated to a first predetermined position. During the LOW lift<br>
 <br>
state the valve 206 is lifted or actuated to a second predetermined position. The<br>
valve 206 is actuated further away from a closed position when in the first<br>
predetermined position, as opposed to when in the second predetermined<br>
position. The rollers 204, when in a HIGH state, come in contact with HIGH lift<br>
lobes 208. Unlatching of the bracket 226, allows the rollers 204 to move without<br>
affecting camlift. This allows the rollers 205 to contact the LOW lift lobe 210.<br>
The rollers 205, when rotated to a LOW state, come in contact with LOW lift<br>
lobes 210 of the camshaft.<br>
[0093] The switchable valve lift actuating mechanism 200 further<br>
includes a lift pin assembly 220, which includes a lift pin 222 and a locking<br>
mechanism 224. Oil enters and exits the valve lever 202 to extend and retract<br>
the lift pin 222. A bracket 226 is rotated based on actuation of the lift pin 222.<br>
Rotation of the bracket 226 raises and lowers the bushings 204.<br>
[0094] For a further description of the switchable valve lift actuating<br>
mechanism see International Patent Application No. WO 2007/017109 entitled,<br>
"Switchable Valve Actuating Mechanism", which is also incorporated by<br>
reference herein. The embodiments of the present disclosure may apply to other<br>
valve lift actuating mechanisms and/or systems. A couple other valve lift<br>
actuating systems are shown in U.S. Pat. No. 6,343,581 entitled, "Variable Valve<br>
Timing and Lift Structure for Four Cycle Engine" and U.S. Pat. No. U.S. Pat. No.<br>
7,213,566 entitled, "Engine System and Method of Control", which are<br>
incorporated herein by reference.<br>
 <br>
[0095] Also, although the embodiments disclosed herein are primarily<br>
described with respect to operating in dual modes, such as a high lift and a low<br>
lift mode, the embodiments are not limited to dual mode operation. The<br>
embodiments apply to operation that includes more than two modes and<br>
continuous variable lift operation.<br>
[0096] Transition between HIGH and LOW lift modes occurs when the<br>
camshaft is riding on the base circle and not when the camshaft is riding on one<br>
of the HIGH or LOW lift lobes. An example of a base circle for the HIGH lift lobe<br>
208 is shown and numerically designated as 228. The based circle 228 is the<br>
lower circular portion of the camshaft associated with the HIGH lift lobe 208.<br>
[0097] Transitioning when off of the lobes of a camshaft prevents<br>
damage to lift pins, such as the lift pin 222. When the camshaft is riding on the<br>
base circle there is minimum load on the corresponding lift pins. A valvetrain<br>
control circuit may be configured to be pressurized when in LOW lift mode<br>
(unlatch pin) and unpressurized when in HIGH lift mode (pin latched) or vice<br>
versa. When in LOW lift mode oil pressure is maintained to prevent pin from<br>
transitioning to HIGH lift mode. Oil pressure at or near the solenoids that control<br>
pin operation may be directly sensed or estimated. Control may estimate oil<br>
pressure at the solenoids based on oil pressure at the gallery or at a point<br>
upstream from the solenoids. Engine speed may be lower when in LOW lift<br>
mode and higher when in HIGH lift mode. HIGH lift mode may be associated<br>
with increased engine performance and LOW lift mode may be associated with<br>
increased fuel economy.<br>
 <br>
[0098] Referring now to FIG. 8, an intake and exhaust valve opening<br>
signal diagram illustrating a switching window 230 is shown. The switching<br>
window 230 represents a crank angle window available or the time available to<br>
switch between open lift modes, such as HIGH and LOW open lift modes. The<br>
signal diagram includes a synchronized event signal 232, a first start angle signal<br>
234, a second start angle signal 236, a target angle signal 237, a switching<br>
window signal 238, a cylinder 2 intake signal 240, a cylinder 2 exhaust signal<br>
242, a cylinder 1 intake signals 244, and a cylinder 1 exhaust signals 246.<br>
[0099] FIG. 8 illustrates a timing window for lift transitioning with<br>
maximum exhaust and intake cam overlap. Actual transition to LOW lift is not<br>
shown in FIG. 8, but can be seen in FIG. 10. The cylinder signals 237-246<br>
illustrate open and closed states of intake and exhaust valves for HIGH lift and<br>
when transitioning between HIGH and LOW lift modes may occur. The example<br>
timing window is provided when exhaust valves may be switched between lift<br>
modes prior to intake valves. Exhaust and Intake valves may be switched during<br>
the same time period or simultaneously. Also, intake valves may be switched<br>
prior to exhaust valves.<br>
[0100] The example switching window shown begins when cylinder<br>
one intake valve is off the base circle and is starting lift or, in other words, after<br>
the rising edge of one of the cylinder 1 intake signals 244. The switching window<br>
may begin after a predetermined amount of lift of a valve and prior to full lift of<br>
that valve. Full lift referring to a maximum amount of lift associated with a given<br>
lift mode. Two curves are provided for each on the intake and exhaust valves on<br>
 <br>
first and second cylinders, the first is associated with a first HIGH lift value and<br>
the second is associated with a second HIGH lift value. The HIGH lift values<br>
represent travel distance or the amount of transitional movement of a valve. The<br>
intake and exhaust valves for cylinders 1 and 2 may operate off of a single<br>
solenoid (one solenoid for both intake and for both exhaust valves), dual<br>
solenoids (one for intake valves and one for exhaust valves), or four solenoids<br>
(one for each valve).<br>
[0101] The size and position in time of a switching window may vary<br>
based on camshaft timing/phasing and the number of lift control valves used.<br>
For example, when a lift control valve is used to control both intake and exhaust<br>
valves, the associated switching window may vary position in time and decrease<br>
in size with relative exhaust and intake camshaft timing. As another example,<br>
when separate lift control valves are used for intake and exhaust valves, the<br>
associated switching window size may remain constant, but position in time of<br>
the switching window may vary with camshaft timing.<br>
[0102] There is a lapse in time from when a transition command signal<br>
is generated from when a switch between HIGH and LOW lift modes occurs. A<br>
start angle refers to when a transition command signal is generated. A target<br>
angle refers to when the oil pressure signal change to control a switch between<br>
open lift modes, such as a HIGH to LOW lift switch is intended to occur. A switch<br>
occurs after oil pressure changes, and when the cam lobe is on the base circle.<br>
The target angle varies with the switching window as a function of engine speed.<br>
 <br>
[0103] The first and second start angle signals 234, 236 provide<br>
example start angles for different engine operating speeds. The first start angle<br>
signal 234 is associated with a first engine speed that is faster than the second<br>
engine speed associated with the second engine speed signal 236. Duration<br>
250 represents lead time between the first start angle and a target angle 251.<br>
Duration 252 represents lead time between the second start angle and the target<br>
angle. The start angles and target angle correspond to crankshaft rotation<br>
angles. In one embodiment the switching window begins at approximately 1mm<br>
of lift on intake valve of cylinder 1 and ends at start of lift on exhaust valve of<br>
cylinder 2, as shown in FIGs. 8 and 9. Timing windows may be generated that<br>
are associated with camshaft rotation angles. Control of intake and exhaust<br>
valve timing is synchronized relative to the switching window.<br>
[0104] Referring now to FIG. 9, another intake and exhaust valve<br>
opening signal diagram illustrating a switching window is shown. The diagram of<br>
FIG. 9 is similar to the diagram of FIG. 8, however, camshaft positioning is<br>
different relative to a crankshaft. The size and position in time of the switching<br>
window changes with camshaft positioning or phasing relative to a crankshaft.<br>
[0105] For the embodiments of FIGs. 8 and 9, the switching window<br>
260 of FIG. 9 is smaller than the switching window 230. FIG. 8 provides a<br>
maximum overlap example and FIG. 9 provides a minimum overlap example.<br>
[0106] The signal diagram of FIG. 9 includes a synchronized event<br>
signal 272, a first start angle signal 274, a second start angle signal 276, a target<br>
angle signal 277, a switching window signal 278, a cylinder 2 intake signal 280, a<br>
 <br>
cylinder 2 exhaust signal 282, a cylinder 1 intake signals 284, and a cylinder 1<br>
exhaust signals 286. Duration 290 represents lead time between the first start<br>
angle and a target angle 291. Duration 292 represents lead time between the<br>
second start angle and the target angle.<br>
[0107] Referring now to FIG. 10, another intake and exhaust valve<br>
opening signal diagram is shown. FIG. 10 illustrates a transition from HIGH lift to<br>
LOW lift. The signal diagram of FIG. 10 includes a cylinder 1 exhaust signal 300,<br>
and a cylinder 1 intake signal 302, a cylinder 2 exhaust signal 304, a cylinder 2<br>
intake signal 306, switching windows 308, a lift signal 310, a valvetrain lift signal<br>
312. The switching windows 308 indicate when oil pressure may change to allow<br>
a switch between lift modes. The lift command signal 310 indicates a lift mode<br>
change is requested. The valve train lift signal 312 indicates a current lift mode<br>
of intake and exhaust valves.<br>
[0108] Target angles 314 are shown for when a change in oil pressure<br>
to change lift may be intended to occur once a change in lift is requested. A start<br>
angle 316 is shown for when a switch is initiated after a lift command signal 318<br>
is generated. There is a lapse in time, referred to as response time 320,<br>
between when a switch is initiated and when oil pressure changes for an<br>
intended switch occurs. The response time 320 may be predetermined and thus<br>
the switch may be initiated based on the response time to achieve a switch when<br>
intended.<br>
[0109] Referring now to FIG. 11, a response time signal diagram for<br>
high to low lift is shown. Predicted and theoretical switching windows 340, 342<br>
 <br>
are shown for a two-step high-to-low transition. A solenoid voltage signal 344<br>
illustrates when a solenoid receives a command signal to switch mode of<br>
operation. Current signal 346 illustrates rise time of solenoid current. A latch pin<br>
pressure signal 348 and a latch pin position signal 350 illustrate increase in latch<br>
pin pressure and change in latch pin position. The latch pin is not fully<br>
transitioned within the switching windows 340, 342 for the example shown.<br>
[0110] Referring now to FIG. 12, a response time signal diagram for<br>
low to high lift is shown. Predicted and theoretical switching windows 360, 362<br>
are shown for a two-step low-to-high transition. A solenoid voltage signal 364<br>
illustrates when a solenoid receives a command signal to switch mode of<br>
operation. Current signal 366 illustrates reduction time of solenoid current. A<br>
latch pin pressure signal 368 and a latch pin position signal 370 illustrate<br>
decrease in latch pin pressure and change in latch pin position. The latch pin<br>
latches into HIGH lift at L2_LH. Thus, the latch pin latches prior to full<br>
transitioning of the latch pin and within the switching windows 360, 362. The<br>
latch pin is not fully transitioned within the switching windows 360, 362 for the<br>
example shown.<br>
[0111] Referring now to FIG. 13, a bar graph illustrating switch window<br>
size variation relative to engine speed is shown. Overall response time for<br>
switching between modes can affect the ability to switch between modes<br>
depending upon the engine speed. There are various times that may be<br>
accounted for in determining an overall response time upon which to base a<br>
switch between modes. The times may include, for example, pressure to<br>
 <br>
complete and start latch extension P1 and P2 minimums, latching of pins, latch<br>
response variation, solenoid response variation, pressure rise variation, pressure<br>
rise estimated error, latch response estimated error, solenoid response estimated<br>
error, camshaft position error, etc.<br>
[0112] FIG. 13 illustrates an example of an overall time 400 and<br>
switching windows 402, 404, and 406 associated with three different engine<br>
speeds. Switching window 404 has a slower associated engine speed than<br>
switching window 402. Switching window 406 has a slower associated engine<br>
speed than switching window 404. Note that the switching window size<br>
increases with a decrease in engine speed and an increase in negative value<br>
overlap (NVO). NVO is defined as the duration in crank angle between exhaust<br>
valve closing and intake valve opening. Thus, for the example provided a switch<br>
may occur in association with the switching window 406 and not in association<br>
with the switching windows 402 and 404.<br>
[0113] Referring now to FIG. 14, a functional block diagram of a valve<br>
control system 420 is shown. The valve control system 420 includes a vehicle<br>
control module 422, sensors 424, valve lift control solenoids 426 and memory<br>
427. The vehicle control module 422 includes a main module 428, a time module<br>
430 and an event module 432. The main module 428 controls operation<br>
including switching between operating modes of the valve lift control solenoids<br>
426 based on information stored in the memory 427, which is modified by the<br>
time module 430 and the event module 432. The memory 427 may be part of the<br>
vehicle control module 422 or separate as shown.<br>
 <br>
[0114] The time module 430 determines estimations for valve control<br>
solenoid response 431 and limitations for switching between valve operating<br>
modes 433. The time module 430 receives inputs from the sensors 424 and<br>
from the event module 432 and generates the estimations 431 and the limitations<br>
433 based thereon. The time module 430 determines response times and may<br>
enable control of any number of lift control valves. The response times, for<br>
example, may include response times associated with the lift control valves and<br>
be based on oil temperatures and lift control valve ON times. Response time of a<br>
lift control valve varies with temperature.<br>
[0115] The event module 432 allows or prevents switching between<br>
valve operating modes and sets various flags, which include states of lift control<br>
valves. The event module 432 receives a selected operating mode signal 434<br>
from the main module 428 and determines whether a switch can be made and<br>
how to make the switch based on parameters, such as response time, crank<br>
angle, low lift limits, engine speed, and camshaft phasing. The event module<br>
432 determines whether to permit operation in the selected mode and/or a switch<br>
to operating in the selected mode based on inputs received from the sensors 424<br>
and the time module 430.<br>
[0116] The event module 432 receives the estimations 431 and<br>
limitations 433 from the time module 430 and indicates a current operating lift<br>
(Lift_Mode) 435 and sets flags (LiftSol_Flags) 437 within the memory 427<br>
indicating whether a switch between modes is permitted or not permitted. A<br>
 <br>
synchronization flag may be set when a switch has occurred and/or when a<br>
switch has been completed. The synchronization flag may be read by the main<br>
module 428. The main module may adjust fuel injection, ignition system<br>
operation, etc. based on the synchronization flag.<br>
[0117] As shown, the time module 430 and the event module 432 may<br>
have associated sensor sets 436 and 438. The first sensor set 436 may include<br>
one or more power supply voltage sensors 440, oil pressure sensors 442, oil<br>
temperature sensors 444, and coolant temperature sensors 446. The second<br>
sensor set 438 may include one or more crank shaft angle sensors 448, cylinder<br>
identification sensors 450, exhaust valve camshaft position sensors 452, and<br>
intake valve camshaft position sensors 454. The sensors 424 may also include<br>
an engine speed sensor 456.<br>
[0118] The vehicle control module 422 may also include various<br>
counters 455, such as a cylinder event delay counter 457, a sequencing counter<br>
459, or other counter. The counters 455, as described further below, may be<br>
used when sequencing between different leading modes, such as an intake<br>
leading mode, an exhaust leading mode, and a non-leading mode. The counters<br>
may also be used to account for when a lift control valve response time is longer<br>
than an engine cycle. An engine cycle may refer to a number of intake,<br>
compression, ignition, and/or exhaust strokes. One engine cycle may include 4-<br>
strokes; the strokes respectively associated with intake, compression, ignition,<br>
and exhaust.<br>
 <br>
[0119] The time module 430 and the event module 432 may be<br>
operating at different speeds. In one embodiment, the time module 430 is<br>
operating a predetermined frequency and the event module 432 is synchronized<br>
to crankshaft timing. The time module 430 may operate at a slower speed than<br>
the event module 432. The time module 430 and the event module 432 are in a<br>
closed loop arrangement and provide reliable and predictable open lift mode<br>
transitioning.<br>
[0120] The vehicle control module 422, the main module 428, the time<br>
module 430, and the event module 432 may operate the valve lift control<br>
solenoids 426 in a multi-intake open lift mode, a multi-exhaust open lift mode, a<br>
combined intake and exhaust open lift mode, or in a combined single lift mode.<br>
In the multi-intake open lift mode, intake valves have multiple open lift modes and<br>
exhaust valves have a single open lift mode. In the multi-exhaust open lift mode,<br>
exhaust valves have multiple open lift modes and intake valves have a single<br>
open lift mode. In the combined intake and exhaust open lift mode, both intake<br>
and exhaust valves have multiple open lift modes. In the combined single lift<br>
mode, the intake and exhaust valves each have a single open lift mode.<br>
[0121] Although the following FIGs 15-49 may be primarily described<br>
with respect to one transition of lift mode switching, such as low to high lift<br>
switching or high to low lift switching, each of the Figures and associated<br>
embodiments may apply to other modes of switching. Also, although the<br>
following FIGs 15-49 may be primarily described with respect to lift mode<br>
 <br>
switching of exhaust or intake valves, each of the Figures and associated<br>
embodiments may apply to both exhaust and intake lift mode switching.<br>
[0122] Referring now also to FIG. 15, a functional block diagram of the<br>
time module 430 of FIG. 14 is shown. The time module 430 includes a response<br>
time module 460 and a lift mode limit module 462. The response time module<br>
460 generates the estimations 431 for valve control solenoid response. As<br>
shown, the response time module 460 receives a current operating mode signal<br>
(mode) 464, which is from the event module 432, and multiple sensors signals.<br>
The sensor signals may be received over a bus 466. The sensor signals may<br>
include a power supply voltage (volts) signal 468, an engine oil temperature<br>
(EOT) signal 470, an engine oil pressure (EOP) signal 472 and an engine coolant<br>
temperature (ECT) signal 474. The lift modes may include static modes of a high<br>
lift mode and a low lift mode and transitional modes of a high-to-low lift mode and<br>
a low-to-high lift mode.<br>
[0123] The lift mode limit module 462 generates the limitations 433 for<br>
switching between valve operating modes. The lift mode module 462 also<br>
receives the signals 464, 468, 470, 472 and 474. The lift mode module 462<br>
further receives an engine speed (EngSpd) signal 476 and a lift flag (LiftFlags)<br>
signal 478. The LiftFlags 478 is from the event module 432 and includes the<br>
above-described flags indicating switch status and switching window size.<br>
[0124] Referring now to FIG. 16, a functional block diagram of the<br>
response time module 460 of FIG. 15 is shown. The response time module 460<br>
includes a low-to-high response time module 480 and a high-to-low response<br>
 <br>
time module 482. The low-to-high response time module 480 generates a low-<br>
to-high response time signal 484 based on the signals 464, 468, 470, 472 and<br>
474. The high-to-low response time module 482 generates a high-to-low<br>
response time signal 486 based on the signals 464, 468, 470, 472 474.<br>
Calibration or control signals 488, 490 may be provided to activate the modules<br>
480 and 482.<br>
[0125] The modules 480 and 482 may have look-up tables and/or<br>
equations for generation of the high-to-low and low-to-high response time signals<br>
484, 486 based on the received inputs. The response time signals refer to the<br>
response times from voltage change to oil pressure change that starts pin<br>
extension or retraction.<br>
[0126] Referring now to FIG. 17, a functional block diagram of the lift<br>
mode limit module 462 of FIG 15 is shown. The lift mode limit module 462 and<br>
the provides switching limitations to protect hardware damage due to mistimed<br>
switching, unintended switches because of low oil pressure, and high speed<br>
operation in low lift. This provides predictable lift and prevents damage to<br>
switching pins. As stated above, and depending upon the valve control system<br>
configuration, control may not operate in a certain engine speed range to prevent<br>
damage to switching pins.<br>
[0127] The lift mode limit module 462 includes a voltage limit module<br>
490, a speed limit module 492, an engine oil temperature limit module 494, an<br>
engine oil pressure model module 495, an engine oil pressure limit module 496,<br>
a window limit module 498, and an engine coolant temperature limit module 500.<br>
 <br>
The modules 490-500 receive the respective signals 464, 468, 470, 472, 474,<br>
476, and 478.<br>
[0128] The voltage limit module 490 prevents operation or mode<br>
switching at voltage levels below a threshold and at voltage levels above another<br>
threshold. The voltage limit module 490 generates a margin power supply<br>
(M_volt) signal and a disable power supply (D_Volt) signal based on the mode<br>
464 and the volts 468.<br>
[0129] The speed limit module 492 prevents operation or mode<br>
switching at engine speeds below a threshold and at engine speeds above<br>
another threshold. The speed limit module 492 generates a margin engine<br>
speed (M_RPM) signal and a disable engine speed (D_RPM) signal based on<br>
the mode 464 and the EngSpd 476.<br>
[0130] The engine oil temperature limit module 494 prevents operation<br>
or mode switching when oil temperatures are below a threshold and when oil<br>
temperatures are above another threshold. The engine oil temperature limit<br>
module 494 generates a margin engine oil temperature (M_EOT) signal and a<br>
disable engine oil temperature (D_EOT) signal based on the mode 464 and the<br>
EOT 470.<br>
[0131] The engine oil pressure model module 495 generates an engine<br>
oil pressure model (EOP Model) signal based on the EOP 472.<br>
[0132] The engine oil pressure limit module 496 prevents operation or<br>
mode switching when oil pressures are below a threshold and when oil pressures<br>
are above another threshold. The engine oil pressure limit module 496<br>
 <br>
generates a disable engine oil pressure (D_EOP) signal, an engine oil pressure<br>
limits (EOP_Limits) signal, and an engine oil pressure at the oil manifold<br>
assembly (EOP_OMA) signal based on the mode 464, the EOT 470 and the<br>
EOP 472. The EOP_OMA refers to an engine oil pressure at a switching control<br>
oil manifold assembly (OMA) of an engine. Solenoids that control switch mode<br>
operation may be located on the OMA and thus the EOP_OMA represents the<br>
input to the solenoid valves.<br>
[0133] The window limit module 498 prevents switching based on<br>
switching window size and received input signals. Window limits may vary with<br>
camshaft phasing for a control system that changes mode operation for both<br>
intake and exhaust valves. When the control system switches mode of operation<br>
for intake and exhaust valves independently, than window limits may still rise.<br>
The window limit module 498 generates a mode window (M_Window) signal and<br>
a disable switching window (D_SwWind) signal based on the EOPJDMA, the<br>
EOT 470, the LiftFlags 478, and the Eng_Spd 476.<br>
[0134] The engine coolant temperature limit module 500 prevents<br>
operation or mode switching when coolant temperatures are below a threshold<br>
and when coolant temperatures are above another threshold. The engine<br>
coolant temperature limit module 500 generates a margin engine coolant<br>
temperature (MECT) signal and a disable engine coolant temperature (D_ECT)<br>
signal based on the mode 464 and the ECT 474.<br>
[0135] The output signals of the modules 490, 492, 494, 496, 498 and<br>
500 are provided to a low lift limits output bus 502, to a NOR gate 504 and to a<br>
 <br>
low lift disable bus reason 506. The disable output signals of the modules 490,<br>
492, 494, 496, 498 and 500 and the output signals of the NOR gate 504 and of<br>
the low lift disable bus 506 may be HIGH/LOW or TRUE/FALSE type signals and<br>
thus indicate whether the associated parameter values are within corresponding<br>
predetermined ranges. For example, when the Volts 468 is within a<br>
predetermined range, the D_Volt may be LOW. When the Volts 468 is outside<br>
the predetermined range, the D_Volt may be HIGH. The NOR gate generates a<br>
low lift allowed signal based on the output signals. The low lift disable bus 506<br>
provides a low lift disable reason (LLDisab_Reason) signal to the low lift limits<br>
bus 502. The output signals, the low lift allowed signal, and the LLDisab_Reason<br>
are provided as the low lift limit signals 433 to event module 432.<br>
[0136] As an example, low lift operation is avoided and/or prevented<br>
when a low lift limit is set by one of the modules 490-500.<br>
[0137] Referring now to FIG. 18, a functional block diagram of the<br>
voltage limit module 490 of FIG. 17 is shown. The voltage limit module 490<br>
disables low lift when voltage is too high or too low and determines a voltage<br>
margin for control logic. The voltage margin refers to the difference between the<br>
power supply voltage and a voltage threshold or how close the current voltage<br>
supply voltage is too a limit. The voltage limit module 490 includes a lift mode<br>
determination circuit 498, a voltage low lift module 550, a voltage high lift module<br>
552, and low lift disable and margin circuits 554 and 556.<br>
[0138] The lift mode determination circuit 498 determines whether the<br>
system is operating in an exhaust lift mode and/or an intake lift mode. Exhaust<br>
 <br>
lift mode and intake lift mode (ELift_Mode and ILiftJvlode) signals are compared<br>
with a HIGH signal, such as a one (1), via comparators 560. Outputs of the<br>
comparators 560 is provided to an OR gate 562 and then inversed via a NOT<br>
gate 564. The output of the OR gate 562 is used to activate the voltage low lift<br>
module 550. The output of the NOT gate 564 is used to activate the voltage high<br>
lift module 552.<br>
[0139] The voltage low lift module 550 generates a low lift disabled for<br>
high voltage (LLDJHVolt) signal, a low lift disabled for low voltage (LLD_LVolt)<br>
signal, a low lift margin high voltage (LLMargin_HV) signal, and a low lift margin<br>
low voltage (LLMargin_LV) signal based on the Volts 468.<br>
[0140] The voltage high lift module 552 generates a high lift disabled<br>
for high voltage (HLD_HVolt) signal, a high lift disabled for low voltage<br>
(HLD_LVolt) signal, a high lift margin high voltage (HLMargin_HV) signal, and a<br>
high lift margin low voltage (HLMargin_LV) signal based on the Volts 468.<br>
[0141] The low lift mode disable and margin circuits 554 and 556<br>
include merge devices 570-576. The merge devices 570-576, as shown include<br>
two inputs and an output. The merge devices 570-576 provide the input that<br>
changes last or most recently as the output. The first merge device 570 receives<br>
the LLDJHVolt and the HLDJHVolt and provides a disabled for high voltage<br>
(DJHVolt) signal. The second merge device 572 receives the LLD_LVolt and<br>
the HLD_LVolt and provides a disabled for low voltage (D_LVolt) signal. The<br>
third merge device 574 receives the LLMargin_HV and the HLMargin_HV and<br>
provides a margin high voltage (M_HVolt) signal. The fourth merge device 576<br>
 <br>
receives the LLMargin_LV and the HLMargin_LV and provides a margin low<br>
voltage (MJ_Volt) signal.<br>
[0142] The low lift mode disable circuit 554 includes an OR gate 580,<br>
which provides a disabled for voltage (D_Volt) signal based on the D_HVolt and<br>
the D_LVolt from the merge devices 570 and 572. The low lift mode margin<br>
circuit includes a margin bus 582 that provides a margin (M_Volts) signal based<br>
on the M_HVolt and the M_LVolt.<br>
[0143] Referring now to FIG. 19, a functional block diagram of the<br>
voltage low lift module 550 of FIG. 18 is shown. The voltage low lift module 550<br>
includes a first summer 590, a second summer 592, a first comparator 594, and<br>
a second comparator 596. The first summer 590 receives and subtracts the<br>
Volts 468 from a sum of a hysteresis voltage (HystVolts) signal and a maximum<br>
low lift voltage (MaxLowLiftVolts) signal. The resultant output LLMargin_HV of<br>
the first summer 590 is compared with a LOW or zero (0) value. When the<br>
resultant output LLMargin_HV is less than or equal to zero, the output LLD_HVolt<br>
of the first comparator 594 is HIGH.<br>
[0144] The second summer 592 subtracts a minimum low lift voltage<br>
(MinLowLiftVolts) signal from the Volts 468. The resultant output LLMargin_LV<br>
of the second summer 592 is compared via the second comparator 596 with<br>
zero. When the resultant output LLMargin_LV of the second comparator 596 is<br>
less than or equal to zero, the output LLD_LVolt of the second comparator 596 is<br>
HIGH.<br>
 <br>
[0145] Referring now to FIG. 20, a functional block diagram of the<br>
voltage high lift module 552 of FIG. 18 is shown. The voltage high lift module<br>
552 includes a first summer 600, a second summer 602, a first comparator 604,<br>
and a second comparator 606. The first summer 600 subtracts the Volts 468<br>
from the MaxLowLiftVolts. The resultant output HLMargin_HV of the first<br>
summer 600 is compared via the first comparator 604 with zero. When the<br>
resultant output HLMargin_HV of the first comparator 604 is less than or equal to<br>
zero, the output HLD_HVolt of the first comparator 604 is HIGH.<br>
[0146] The second summer 602 receives and subtracts a sum of the<br>
HystVolts and the MinLowLiftVolts from the Volts 468. The resultant output<br>
HLMarginJLV of the second summer 602 is compared with a LOW or zero (0)<br>
value. When the resultant output HLMarginLV is less than or equal to zero, the<br>
output HLDJ_Volt of the second comparator 606 is HIGH.<br>
[0147] The voltage low lift module 550 allows the system to remain in<br>
low lift mode when Volts 468 is within a predetermined range. When Volts 468 is<br>
outside the range and the system is not operating in low lift, control prevents<br>
switching to low lift operation. The voltage high lift module 552 allows the system<br>
to return to low lift mode when operating in high lift mode and Volts 468 is within<br>
a predetermined range. When operating in high lift mode and Volts 468 is<br>
outside the range, control remains in high lift mode and low lift is not allowed.<br>
The HystVolts signal and the corresponding Margin_HV and Margin_LV signals<br>
allow control to prevent continuous and/or frequent switching between lift modes<br>
when Volts 468 is near a limit or boundary of a range.<br>
 <br>
[0148] Referring now to FIG. 21, a functional block diagram of a speed<br>
limit module 492 of FIG. 17 is shown. The speed limit module 492 disables low<br>
lift when the engine speed is too high or too low and determines a speed margin<br>
for control logic. The speed limit module 492 includes a lift mode determination<br>
circuit 610, a speed low lift module 612, a speed high lift module 614, and low lift<br>
disable and margin circuits 616 and 618.<br>
[0149] The lift mode determination circuit 610 determines whether the<br>
system is operating in an exhaust lift mode and/or an intake lift mode. The<br>
ELift_Mode and the ILift_Mode are compared with a HIGH signal, such as a one<br>
(1), via comparators 620. Outputs of the comparators 620 is provided to an OR<br>
gate 622 and then inversed via a NOT gate 624. The output of the OR gate 622<br>
is used to activate the speed low lift module 612. The output of the NOT gate<br>
624 is used to activate the speed high lift module 614.<br>
[0150] The speed low lift module 612 generates a low lift disable high<br>
speed (LLD_HRPM) signal, a low lift disable low speed (LLD_LRPM) signal, a<br>
low lift margin high speed (LLMargin_HRPM) signal, and a low lift margin low<br>
speed (LLMargin_LRPM) signal based on the EngSpd 476.<br>
[0151] The speed high lift module 614 generates a high lift disable high<br>
speed (HLD_HRPM) signal, a high lift disable high speed (HLD_LRPM) signal, a<br>
high lift margin high speed (HLMargin_HRPM) signal, and a high lift margin low<br>
speed (HLMargin_LRPM) signal based on the EngSpd 476.<br>
[0152] The low lift disable and margin circuits 616 and 618 include<br>
merge devices 630-636. The merge devices 630-636, as shown include two<br>
 <br>
inputs and an output. The merge devices 630-636 provide the input that<br>
changes last or most recently as the output. The first merge device 630 receives<br>
the LLD_HRPM and the HLD_HRPM and provides a low lift disable high speed<br>
(D_HRPM) signal. The second merge device 632 receives the LLD_LRPM and<br>
the HLDJ-RPM and provides a low lift disable low speed (D_LRPM) signal. The<br>
third merge device 634 receives the LLMargin._HRPM and the HLMargin_HRPM<br>
and provides a margin high speed (M_HRPM) signal. The fourth merge device<br>
636 receives the LLMargin_LRPM and the HLMargin_LRPM and provides a<br>
margin low speed (M_LRPM) signal.<br>
[0153] The low lift mode disable circuit 616 includes an OR gate 640,<br>
which provides a disable speed (D_RPM) signal based on the D_HRPM and the<br>
D_LRPM from the merge devices 630 and 632. The low lift mode margin circuit<br>
includes a margin bus 642 that provides a margin (M_RPM) signal based on the<br>
M_HRPM and the M_LRPM.<br>
[0154] Referring now to FIG. 22, a functional block diagram of the<br>
speed low lift module 612 of FIG. 21 is shown. The speed low lift module 612<br>
includes a first summer 650, a second summer 652, a first comparator 654, and<br>
a second comparator 656. The first summer 650 receives and subtracts the<br>
EngSpd 476 from a sum of a hysteresis speed (HystRPM) signal and a maximum<br>
low lift speed (MaxLowLiftRPM) signal. The resultant output LLMargin_HRPM of<br>
the first summer 650 is compared with a LOW or zero (0) value. When the<br>
resultant output LLMargin_HRPM is less than or equal to zero, the output<br>
LLD_HRPM of the first comparator 654 is HIGH.<br>
 <br>
[0155] The second summer 652 subtracts a minimum low lift speed<br>
(MinLowLiftRPM) signal from the EngSpd 476. The resultant output<br>
LLMargin_RPM of the second summer 652 is compared via the second<br>
comparator 656 with zero. When the resultant output LLMargin_LRPM of the<br>
second comparator 656 is less than or equal to zero, the output LLD_LRPM of<br>
the second comparator 656 is HIGH.<br>
[0156] Referring now to FIG. 23, a functional block diagram of the<br>
speed high lift limit module 614 of FIG. 21 is shown. The speed high lift limit<br>
module 614 includes a first summer 660, a second summer 662, a first<br>
comparator 664, and a second comparator 666. The first summer 660 subtracts<br>
the EngSpd 476 from the MaxLowLiftRPM. The resultant output<br>
HLMargin_HRPM of the first summer 660 is compared via the first comparator<br>
664 with zero. When the resultant output HLMargin_HRPM of the first<br>
comparator 664 is less than or equal to zero, the output HLD_HRPM of the first<br>
comparator 664 is HIGH.<br>
[0157] The second summer 662 receives and subtracts a sum of the<br>
HystRPM and the MinLowLiftRPM from the EngSpd 476. The resultant output<br>
HLMargin_LRPM of the second summer 662 is compared with a LOW or zero (0)<br>
value. When the resultant output HLMargin_LRPM is less than or equal to zero,<br>
the output HLD_LRPM of the second comparator 666 is HIGH.<br>
[0158] The speed low lift module 612 allows the system to remain in<br>
low lift mode when EngSpd 476 is within a predetermined range. When EngSpd<br>
476 is outside the range and the system is operating in low lift, control disallows<br>
 <br>
remaining in low lift operation. The speed high lift module 614 allows the system<br>
to return to low lift mode when operating in high lift mode and EngSpd 476 is<br>
within a predetermined range. When operating in high lift mode and EngSpd 476<br>
is outside the range, control remains in high lift mode. The HystRPM signal and<br>
the corresponding Margin_HV and Margin_LV signals allow control to prevent<br>
continuous and/or frequent switching between lift modes when EngSpd 476 is<br>
near a limit or boundary of a range.<br>
[0159] Referring now to FIG. 24, a functional block diagram of the<br>
engine oil temperature (EOT) limit module 494 of FIG. 17 is shown. The EOT<br>
limit module 494 disables low lift when the EOT is too high or too low and<br>
determines an engine oil temperature margin for control logic. The EOT limit<br>
module 494 includes a lift mode determination circuit 670, an EOT low lift module<br>
672, an EOT high lift module 674, and low lift disable and margin circuits 676 and<br>
678.<br>
[0160] The lift mode determination circuit 670 determines whether the<br>
system is operating in an exhaust lift mode and/or an intake lift mode. The<br>
ELiftJvlode and the ILift_Mode are compared with a HIGH signal, such as a one<br>
(1), via comparators 680. Outputs of the comparators 680 is provided to an OR<br>
gate 682 and then inversed via a NOT gate 684. The output of the OR gate 682<br>
is used to activate the EOT low lift module 672. The output of the NOT gate 684<br>
is used to activate the EOT high lift module 674.<br>
[0161] The EOT low lift module 672 generates a low lift disable high<br>
EOT (LLD_HEOT) signal, a low lift disable low EOT (LLD_LEOT) signal, a low lift<br>
 <br>
margin high EOT (LLMargin_HEOT) signal, and a low lift margin low EOT<br>
(LLMargin_LEOT) signal based on the EOT 470.<br>
[0162] The EOT high lift module 674 generates a high lift disable high<br>
EOT (HLD_HEOT) signal, a high lift disable high EOT (HLDJ.EOT) signal, a<br>
high lift margin high EOT (HLMarginHEOT) signal, and a high lift margin low<br>
EOT (HLMargin_LEOT) signal based on the EOT 470.<br>
[0163] The low lift disable and margin circuits 676 and 678 include<br>
merge devices 690-696. The merge devices 690-696, as shown include two<br>
inputs and an output. The merge devices 690-696 provide the input that<br>
changes last or most recently as the output. The first merge device 690 receives<br>
the LLD_HEOT and the HLD_HEOT and provides a disable high EOT (D_HEOT)<br>
signal. The second merge device 692 receives the LLD_LEOT and the<br>
HLD_LEOT and provides a disable low EOT (D_LEOT) signal. The third merge<br>
device 694 receives the LLMargin HEOT and the HLMargin HEOT and provides<br>
a margin high EOT (M_HEOT) signal. The fourth merge device 696 receives the<br>
LLMarginJ-EOT and the HLMargin_LEOT and provides a margin low EOT<br>
(M_LEOT) signal.<br>
[0164] The low lift mode disable circuit 676 includes an OR gate 700,<br>
which provides a disable EOT (D_EOT) signal based on the D_HEOT and the<br>
D_LEOT from the merge devices 690 and 692. The low lift mode margin circuit<br>
includes a margin bus 702 that provides a margin (M_EOT) signal based on the<br>
M_HEOT and the M_LEOT.<br>
 <br>
[0165] Referring now to FIG. 25, a functional block diagram of the<br>
EOT low lift module 672 of FIG. 24 is shown. The EOT low lift module 672<br>
includes a first summer 710, a second summer 712, a first comparator 714, and<br>
a second comparator 716. The first summer 710 receives and subtracts the EOT<br>
470 from a sum of a hysteresis EOT (HystEOT) signal and a maximum low lift<br>
EOT (MaxLowLiftEOT) signal. The resultant output LLMargin_HEOT of the first<br>
summer 710 is compared with a LOW or zero (0) value. When the resultant<br>
output LLMargin_HEOT is less than or equal to zero, the output LLD_HEOT of<br>
the first comparator 714 is HIGH.<br>
[0166] The second summer 712 subtracts a minimum low lift EOT<br>
(MinLowLiftEOT) signal from the EOT 470. The resultant output LLMargin_LEOT<br>
of the second summer 712 is compared via the second comparator 716 with<br>
zero. When the resultant output LLMargin_LEOT of the second comparator 716<br>
is less than or equal to zero, the output LLD_LEOT of the second comparator<br>
716 is HIGH.<br>
[0167] Referring now to FIG. 26, a functional block diagram of the EOT<br>
high lift module 674 of FIG. 24 is shown. The EOT high lift limit module 674<br>
includes a first summer 720, a second summer 722, a first comparator 724, and<br>
a second comparator 726. The first summer 720 subtracts the EOT 470 from the<br>
maximum low lift oil temperature MaxLowLiftEOT. The resultant output<br>
HLMargin_HEOT of the first summer 720 is compared via the first comparator<br>
724 with zero. When the resultant output HLMargin_HEOT of the first<br>
 <br>
comparator 724 is less than or equal to zero, the output HLD_HEOT of the first<br>
comparator 724 is HIGH.<br>
[0168] The second summer 722 receives and subtracts a sum of the<br>
hysteresis oil temperature (HystEOT) and the minimum low lift oil temperature<br>
(MinLowLiftEOT) from the EOT 470. The resultant output HLMargin_LEOT of<br>
the second summer 722 is compared with a LOW or zero (0) value. When the<br>
resultant output HLMargin_LEOT is less than or equal to zero, the output<br>
HLD_LEOT of the second comparator 726 is HIGH.<br>
[0169] The EOT low lift module 672 allows the system to remain in low<br>
lift mode when EOT 470 is within a predetermined range. When EOT 470 is<br>
outside the range and the system is not operating in low lift, control disallows<br>
remaining in low lift operation. The EOT high lift module 674 allows the system<br>
to return to low lift mode when operating in high lift mode and EOT 470 is within a<br>
predetermined range. When operating in high lift mode and EOT 470 is outside<br>
the range, control remains in high lift mode. The HystEOT signal and the<br>
corresponding Margin_ HV and Margin_LV signals allow control to prevent<br>
continuous and/or frequent switching between lift modes when EOT 470 is near a<br>
limit or boundary of a range.<br>
[0170] Referring now to FIG. 27, a functional block diagram of the<br>
engine oil pressure (EOP) model module 495 of FIG. 17 is shown. The EOP<br>
model module 495 receives the EOP signal 472 and may also receive an EOP<br>
error (ErrorEOP) signal. The EOP model module 495 subtracts the ErrorEOP<br>
from EOP 472 to generate EOP_Model. ErrorEOP may be a calibration signal a<br>
 <br>
feedback error control signal, a sensor error correction signal, or other correction<br>
signal. Reported oil pressure may be reduced by possible worst case sensing<br>
errors.<br>
[0171] Referring to FIG. 17, note that the ECT limit module 500 may be<br>
configured similarly to that of voltage limit module 490, the speed limit module<br>
492 and the EOT limit module 494. The ECT limit module 500 may include, for<br>
example, similar lift mode detection modules, summers, comparators, merge<br>
devices, gates and buses.<br>
[0172] Referring now to FIG. 28, a functional block diagram of the<br>
engine oil pressure (EOP) limit module 496 of FIG. 17 is shown. The EOP limit<br>
module 496 disables low lift when the EOP is too high or too low and determines<br>
an engine oil pressure margin for control logic. As an increased number of<br>
solenoids are activated or in an ON state, oil pressure decreases with the<br>
increased oil flow through the solenoid valves. Control requires oil pressure<br>
remain above a predetermined level, such as approximately 200kpa, to allow for<br>
switching between modes. Thus, control monitors fluctuation in oil pressure due<br>
to the number of active solenoids. Control prevents switching when oil pressure<br>
is outside a range. The EOP limit module 496 includes a number of solenoids<br>
ON module 730, a four (4) solenoid ON module 732, a two (2) solenoid ON<br>
module 734, a zero (0) solenoid ON module 736, and a low lift disable, EOP limit<br>
and EOP at oil manifold assembly (OMA) circuits 738, 740, 742.<br>
[0173] The number of solenoids ON module 730 determines whether<br>
the system is operating in an exhaust lift mode and/or an intake lift mode and the<br>
 <br>
number of solenoids in an ON state for the corresponding mode(s). The number<br>
of solenoids ON module 730 activates the modules 732-736 based on the<br>
number of ON solenoids via signals 0_Sol_On, 2_Sol_On and 4_Sol_On.<br>
[0174] The four (4) solenoid ON module 732 generates an EOP disable<br>
signal, a low EOP disallow for 2 solenoids (No_2Sol) signal, a low lift margin<br>
EOP maximum (LLM_EOPMax) signal, a low lift margin EOP for 4 solenoids<br>
(LLMEOP4) signal, a low lift margin EOP for 4-to-2 solenoid transition<br>
(LLM_EOP4to2) signal, and a OMA pressure for 4 solenoids (OMA_Pr4Sol)<br>
signal based on the EOT 470 and the EOP 472.<br>
[0175] The two (2) solenoid ON module 734 generates an EOP disable<br>
signal, a low EOP disallow for 4 solenoids (No_4Sol) signal, a low lift margin<br>
EOP maximum (LLM_EOPMax) signal, a low lift margin EOP 2-to-4 solenoid<br>
transition (LLM_EOP2to4) signal, a low lift margin EOP for 2 solenoids<br>
(LLM_EOP2) signal, and a OMA pressure for 2 solenoids (OMA_Pr2Sol) signal<br>
based on the EOT 470 and the EOP 472.<br>
[0176] The zero (0) solenoid ON module 736 generates an EOP<br>
disable signal, a low EOP disallow for 2 solenoids (No_2Sol) signal, a low EOP<br>
disallow for 4 solenoids (No_4Sol) signal, a low lift margin EOP maximum<br>
(LLM_EOPMax) signal, a low lift margin EOP 0-to-4 solenoid transition<br>
(LLM_EOP0to4) signal, a low lift margin EOP 0-to-2 solenoid transition<br>
(LLM_EOP0to2) signal, and a OMA pressure for 0 solenoids (OMA_Pr0Sol)<br>
signal based on the EOT 470 and the EOP 472<br>
 <br>
[0177] The low lift disable, EOP limit and EOP at oil manifold assembly<br>
(OMA) circuits 738, 740, 742 include merge devices 750-758. The merge<br>
devices 750-758, as shown include two or three inputs and an output. The<br>
merge devices 750-758 provide the input that changes last or most recently as<br>
the output. The first merge device 750 receives the EOP_disable signals and<br>
provides a low lift disable EOP (LLD_EOP) signal. The second merge device<br>
752 receives the No_2Sol signals and provides the latest thereof as a limit signal<br>
to an EOP limit bus 760. The third merge device 754 receives the No_4Sol<br>
signals and provides the latest thereof as a limit signal to the EOP limit bus 760.<br>
The fourth merge device 756 receives the LLM_EOPMax signals and provides<br>
the latest thereof as a limit signal to the EOP limit bus 760. The fifth merge<br>
device 758 receives the OMA_Pr4Sol, OMA_Or_2Sol and OMA_Pr_0Sol signals<br>
to provide an EOP OMA pressure signal (EOP_OMA). Other generated signals<br>
of the modules 732-736 are provided to the EOP limit bus 760 as limit signals.<br>
[0178] Referring now to FIG. 29, a functional block diagram of the<br>
number of solenoids ON module 730 of FIG. 28 is shown. The ELift_Mode and<br>
the ILift_Mode are each compared with both LOW and HIGH signals, such as<br>
zero (0) and one (1), via comparators 770. Outputs of the comparators 770 for<br>
LOW and HIGH comparisons are respectively provided to two AND gates 772.<br>
Outputs of the AND gates 772 are provided to an if_then_else module 774. The<br>
if_then_else module 774 determines the number of solenoids active. When<br>
output of the first AND gate is true, then zero solenoids are ON. When output of<br>
the first AND gate is false, then 2 or 4 solenoids are ON depending upon the<br>
 <br>
output of the second AND gate. When the output of the second AND gate is true<br>
then four solenoids are ON. The outputs of the AND gates are also provided as<br>
ON status signals for zero and four solenoids and to a NOR gate 776 to provide<br>
a two solenoid ON status signal. The status signals are used to activate the<br>
modules 732-736.<br>
[0179] Referring now to FIG. 30, a functional block diagram of the four<br>
solenoid ON module 732 of FIG. 28 is shown. The four solenoid ON module 732<br>
sets disallow flags when estimated or predicted oil pressure after a switch to low<br>
lift is less than a minimum allowed oil pressure for reliable operation. Low lift is<br>
disabled when a current oil pressure is less than a minimum reliable oil pressure.<br>
[0180] The four solenoid ON module 732 includes an oil pressure<br>
difference (OilPrDeltaToOMA4) module 780 and an EOP drop from 4-to-2<br>
solenoids (EOP Drop 4-to-2) module 782. The OilPrDeltaToOMA4 module 780<br>
determines oil pressure difference between an oil pressure near an oil pump<br>
(gallery) and an oil pressure at an oil manifold assembly (OMA), which may be<br>
includes as part of or proximate an intake manifold assembly. The difference<br>
determined when four solenoids are ON. The difference is determined based on<br>
the EOP at the gallery (EOP_Gall) and the EOT 470. The difference is<br>
subtracted from the EOP_Gall via a first summer 784 to provide the estimated<br>
OMA pressure for four solenoids (OMA_Pr_4Sol).<br>
[0181] The EOP Drop 4-to-2 module 782 generates an EOP drop in oil<br>
pressure (EOP__Drop_4to2) signal based on the EOP_Gall and the EOT 470.<br>
 <br>
This represents the estimated change in oil pressure when switching from 4 to 2<br>
solenoids. The modules 780 and 782 may include equations and/or tables.<br>
[0182] The four solenoid ON module 732 also includes a second-sixth<br>
summers 786-794, comparators 796, 798, 800 and OR gates 802, 804. The<br>
second summer 786 subtracts a low lift minimum oil pressure<br>
(MinLowLiftOilPress) signal from the OMA_Pr_4Sol to generate a low lift margin<br>
EOP (LLM_EOP4) for 4 solenoids. LLM_.EOP4 is provided to the first<br>
comparator 796. When the LLM_EOP4 is less than or equal to zero (0), an EOP<br>
disable (EOP_Disable_4) is HIGH, otherwise the EOP disable (EOP_Disable_4)<br>
is LOW.<br>
[0183] The third summer 788 sums the OMA_Pr_4Sol with the<br>
EOP_Drop_4to2 to generate an EOP estimation (EOP_Est_4_2) signal for a 4-<br>
to-2 solenoid activation switch. The fourth summer 790 sums<br>
MinLowLiftOilPress with a hysteresis oil pressure (HystOilPress) signal; the sum<br>
of which is subtracted via the sixth summer 794 from the EOP_Est_4_2 to<br>
generate a low lift margin EOP for 4-to-2 solenoid activation switch<br>
(LLM_EOP4to2) signal. When the LLM_EOP4to2 is less than or equal to zero<br>
(0) a 4-to-2 solenoid limit (No_4_2_Sol) signal is generated in a HIGH state, as<br>
provided by the second comparator 798.<br>
[0184] The fifth summer 792 subtracts OMA_Pr_4Sol from a maximum<br>
low lift oil pressure (MaxLowLiftOilPress) signal to generate a low lift margin EOP<br>
maximum (LLM_EOPMax) signal. When LLM_EOPMax is less than or equal to<br>
zero (0), output of the third comparator 800 is HIGH, otherwise the output of the<br>
 <br>
third comparator 800 is LOW. The output of the third comparator 800 is provided<br>
to the OR gates 802 and 804, which also respectively receive EOP_Disable_4<br>
and No_4_2_Sol. Output of the first OR gate 802 is an EOP disable signal<br>
(EOP_Disable). Output of the second OR gate is a two solenoid limit (No_2_Sol)<br>
signal.<br>
[0185] Referring now to FIG. 31, a functional block diagram of the two<br>
solenoid ON module 736 of FIG. 28 is shown. The two solenoid ON module 736<br>
sets disallow flags when estimated or predicted oil pressure after a switch to low<br>
lift is less than a minimum allowed oil pressure for reliable operation. Low lift is<br>
disabled when a current oil pressure is less than a minimum reliable oil pressure.<br>
[0186] The two solenoid ON module 736 includes an oil pressure<br>
difference (OilPrDeltaToOMA2) module 810 and an EOP drop from 2-to-4<br>
solenoids (EOP Drop 2-to-4) module 812. The OilPrDeltaToOMA2 module 810<br>
. determines oil pressure difference between an oil pressure near an oil pump<br>
(gallery) and an oil pressure at an oil manifold assembly (OMA), which may be<br>
includes as part of or proximate an intake manifold assembly. The difference<br>
determined when two solenoids are ON. The difference is determined based on<br>
the EOP at the gallery (EOP_Gall) and the EOT 470. The difference is<br>
subtracted from the EOP_Gall via a first summer 814 to provide the estimated<br>
OMA pressure for two solenoids (OMA_Pr_2Sol).<br>
[0187] The EOP Drop 2-to-4 module 812 generates an EOP drop in oil<br>
pressure (EOP_Drop_2to4) signal based on the EOP_Gall and the EOT 470.<br>
 <br>
This represents the change in oil pressure when switching from 2 to 4 solenoids.<br>
The modules 810 and 812 may include equations and/or tables.<br>
[0188] The two solenoid ON module 736 also includes a second-sixth<br>
summers 816-824, comparators 826, 828, 830 and OR gates 832, 834. The<br>
second summer 816 subtracts a low lift minimum oil pressure<br>
(MinLowLiftOilPress) signal from the OMA_Pr_2Sol to generate a low lift margin<br>
EOP (LLM_EOP2) for 2 solenoids. When the LLM_EOP2 is less than or equal to<br>
zero (0), an EOP disable (EOP_Disable_2) generated by the first comparator 826<br>
is HIGH, otherwise the EOP disable (EOP_Disable_2) is LOW.<br>
[0189] The third summer 818 sums the OMA_Pr_2Sol with the<br>
EOP_Drop_2to4 to generate an EOP estimation (EOP_Est_2_4) signal for a 2-<br>
to-4 solenoid activation switch. The fourth summer 820 sums<br>
MinLowLiftOilPress with a hysteresis oil pressure (HystOilPress) signal; the sum<br>
of which is subtracted via the sixth summer 824 from the EOP_Est_2_4 to<br>
generate a low lift margin EOP for 2-to-4 solenoid activation switch<br>
(LLM_EOP2to4) signal. When the LLM_EOP2to4 is less than or equal to zero<br>
(0) a 2-to-4 solenoid limit (No_2_4_Sol) signal is generated by the second<br>
comparator 828 in a HIGH state.<br>
[0190] The fifth summer 822 subtracts OMA_Pr_2Sol from a maximum<br>
low lift oil pressure (MaxLowLiftOilPress) signal to generate a low lift margin EOP<br>
maximum (LLM_EOPMax) signal. When LLM_EOPMax is less than or equal to<br>
zero (0), output of the third comparator 830 is HIGH, otherwise the output of the<br>
third comparator 830 is LOW. The output of the third comparator 830 is provided<br>
 <br>
to the OR gates 832 and 834, which also respectively receive EOP_Disable_2<br>
and No_2_4_Sol. Output of the first OR gate 832 is an EOP disable signal<br>
(EOP_Disable). Output of the second OR gate 834 is a four solenoid limit<br>
(No_4_Sol) signal.<br>
[0191] Referring now to FIG. 32, a functional block diagram of the zero<br>
solenoid ON module 738 of FIG. 28 is shown. The zero solenoid ON module 738<br>
sets disallow flags when estimated or predicted oil pressure after a switch to low<br>
lift is less than a minimum allowed oil pressure for reliable operation. Low lift is<br>
not allowed when a current oil pressure is less than a minimum reliable oil<br>
pressure.<br>
[0192] The zero solenoid ON module 738 includes an oil pressure<br>
difference (OilPrDeltaToOMAO) module 840, an EOP drop from 0-to-4 solenoids<br>
(EOP Drop 0-to-4) module 842 and an EOP drop from 0-to-2 solenoids (EOP<br>
Drop 0-to-2) module 843. The OilPrDeltaToOMAO module 840 determines oil<br>
pressure difference between an oil pressure near an oil pump (gallery) and an oil<br>
pressure at an oil manifold assembly (OMA), which may be includes as part of or<br>
proximate an intake manifold assembly. The difference determined when zero<br>
solenoids are ON. The difference is determined based on the EOP at the gallery<br>
(EOP_Gall) and the EOT 470. The difference is subtracted from the EOP_Gall<br>
via a first summer 844 to provide the estimated OMA pressure for zero solenoids<br>
(OMA_Pr_0Sol).<br>
[0193] The EOP Drop 0-to-4 module 842 generates an EOP drop in oil<br>
pressure (EOP_Drop_Oto4) signal based on the EOP_Gall and the EOT 470.<br>
 <br>
This represents the change in oil pressure when switching from 2 to 4 solenoids.<br>
The EOP Drop 0-to-2 module 843 generates an EOP drop in oil pressure<br>
(EOP_Drop_0to2) signal based on the EOP_Gall and the EOT 470. This<br>
represents the change in oil pressure when switching from 0 to 2 solenoids. The<br>
modules 840, 842 and 843 may include equations and/or tables.<br>
[0194] The zero solenoid ON module 738 also includes a second-<br>
seventh summers 850-860, comparators 862, 864, 866 and OR gates 868, 870,<br>
872. The second summer 850 subtracts an EOP drop in oil pressure from 0-to-4<br>
solenoids (EOP_Drop_0to4) signal from OMAPrOSol to generate an EOP<br>
estimation oil pressure (EOP_Est_0_4) signal for switching from 0-to-4 solenoids.<br>
[0195] The third summer 852 sums a low lift minimum oil pressure<br>
(MinLowLiftOilPress) signal with a hysteresis oil pressure (HystOilPress) signal;<br>
the result of which is subtracted from EOP_Est_0_4 via the first comparator 862<br>
a low lift margin EOP limit (LLM_EOP_0to4) signal for 0-to-4 solenoid switching.<br>
[0196] The fourth summer 854 generates a EOP estimation oil<br>
pressure (EOP_Est_0_2) signal for switching between 0 and 2 solenoids based<br>
on OMA_Pr_0Sol and EOP_Drop_0to2. The fifth summer 856 subtracts<br>
OMA_Pr_0Sol from MaxLowLiftOilPress to generate a maximum low lift margin<br>
EOP (LLM_EOPMax) signal.<br>
[0197] When LLM_EOP0to4 is less than or equal to zero (0), then a 0-<br>
to-4 limit (No_0_4_Sol) signal is generated by the output of the first comparator<br>
862 is HIGH, otherwise the output is LOW. The output of the first comparator is<br>
provided to the OR gates 868, 870. When LLM_EOP0to2 is less than or equal to<br>
 <br>
zero (0), then a 0-to-2 limit (No_0_2_Sol) signal is generated by the second<br>
comparator 864 in a HIGH state. LLM_EOPMax is compared with the value zero<br>
(0) via the third comparator 866; the resultant output of which is provided as an<br>
input to each of the OR gates 868, 870, 872.<br>
[0198] Referring now to FIG. 33, a functional block diagram of the<br>
window limit module 498 of FIG. 17 is shown. The window limit module 498<br>
prevents switching between lift modes when the system switching speed is not<br>
quick enough for a switch to occur within a switching window time frame. The<br>
window limit module 498 prevents low lift change when estimated latching pin<br>
response, converted to crank angles, correspond with points in time that are<br>
outside available switching window angle. This may account for margins. A<br>
change to high lift is performed when estimated pin response angles correspond<br>
with points in time that are outside the switching windows. The window limit<br>
module 498 includes a pin response angle module 900. The pin response<br>
module 900 generates a high to low lift response angle (HL_Resp_Angle) signal<br>
and a low to high lift response angle (LH_Resp_Angle) signal based on EOT<br>
470, EOP 472 and EngSpd 476.<br>
[0199] The window limit module 498 also includes summers 902-908,<br>
comparators 910-916 and a OR gate 918. The first summer 902 subtracts the<br>
sum of a minimum enable switching window (MinEnableSwWindow) signal and<br>
HL_Resp_Angle from a high to low lift exhaust switch window<br>
(HL_Exh_Sw_window) signal to generate a low lift margin switching window<br>
exhaust high to low lift limit (LLM_SwWin_ExHtoL) signal. The second summer<br>
 <br>
904 subtracts the sum of a minimum enable switching window<br>
(MinEnableSwWindow) signal from a high to low lift intake switching window<br>
(HL_lnt_Sw_Window) signal to generate a low lift margin switching window<br>
intake high to low lift limit (LLM_SwWin_lntHtoL) signal.<br>
[0200] The third summer 906 subtracts the sum of a minimum disable<br>
switching window (MinDisableSwWindow) signal and LH_Resp_Angle from<br>
LH_Exh_Sw_Window to generate a low lift margin switching window exhaust low<br>
to high lift limit (LLM_SwWin_ExLtoH) signal. The fourth summer 908 subtracts<br>
the sum of MinDisableSwWindow and LH_Resp_Angle from a low to high lift<br>
intake switching window (LHJntSwWindow) signal to generate a low lift margin<br>
switching window for intake from low to high lift limit (LLM_SwWinJntLtoH)<br>
signal.<br>
[0201] When LLMSwWin_ExHtoL is less than or equal to zero (0) the<br>
first comparator 910 generates an exhaust solenoid limit (No_Exh1_Sol) signal in<br>
a HIGH state. When LLMSwWinJntHtoL is less than or equal to zero (0) the<br>
second comparator 912 generates an intake solenoid limit (No_lnt1_Sol) signal<br>
in a HIGH state. When LLMSwWin_ExLtoH is less than or equal to zero (0) the<br>
first comparator 914 generates an exhaust solenoid limit (No_Exh2_Sol) signal in<br>
a HIGH state. When LLMSwWinJntLtoH is less than or equal to zero (0) the first<br>
comparator 916 generates an intake solenoid limit (No_lnt2_Sol) signal in a<br>
HIGH state.<br>
[0202] The outputs of the summers 902-908 and the comparators 910-<br>
916 may be provided to a low lift margin bus 920, which provides a low lift margin<br>
 <br>
window (LLMJA/indow) signal. The outputs of the comparators 910-916 are<br>
provided as inputs to the OR gate 918. The OR gate provides a low lift disable<br>
switching window (LLD_SwWind) signal.<br>
[0203] Referring now to FIG. 34, a functional block diagram of the pin<br>
response angle module 900 of FIG. 33 is shown. The pin response angle<br>
module 900 accounts for sources of variation and estimation errors, which affect<br>
lift mode switching response times. The pin response angle module 900 may<br>
account for solenoid pressure change variation, latch pin response time variation,<br>
pressure rise variation, pressure rise estimation error, latch pin response<br>
estimation error, solenoid response estimation error, camshaft position error, etc.<br>
[0204] The pin response angle module 900, as shown, includes a high<br>
to low pin response module 930, a low to high pin response module 932 and a<br>
time to angle conversion module 934. The high to low module 930 generates a<br>
high to low pin response signal based on EOT 470 and EOP 472. The low to<br>
high module 932 generates a low to high pin response signal based on EOT 470<br>
and EOP 472. The stated output signals of the modules 930 and 932 are<br>
provided to the conversion module 934. The modules 930 and 932 may include<br>
equations and/or look-up tables.<br>
[0205] The conversion module 934 converts the response times to<br>
response angles based on engine speed. The high to low pin response is<br>
converted to a high to low response angle. Likewise, the low to high pin<br>
response is converted to a low to high response angle. The response angles<br>
may refer to crankshaft angles. In other words, for a given response time, the<br>
 <br>
conversion module 934 determines the corresponding crankshaft angle or<br>
position of the crankshaft.<br>
[0206] Referring now to FIG. 35, a functional block diagram of the<br>
event module 432 of FIG. 12 is shown. An event trigger logic may be performed<br>
during each cylinder firing, for example, after each rotation of a crankshaft of<br>
180 for a 4 cylinder engine. The event module 432 synchronizes control of oil<br>
pressure solenoid control valves to engine position for properly timed camshaft<br>
lift switching. The event module 432 also outputs synchronized flags to engine<br>
control logic of current camshaft lift states. The event module 432 includes an<br>
engine position sensing bus 936, a low lift limit module 938 and a solenoid<br>
hardware input/output control module 940.<br>
[0207] The engine position sensing bus 936 receives a time based<br>
engine position sensing signal, which includes a crank angle referenced to top<br>
dead center and corrected (Angle_TDC_Corr_E) signal, an engine speed<br>
(Eng_Speed) signal, a cylinder identification (CyllD_E) signal, a camshaft<br>
exhaust angle (CAME) signal, and a camshaft intake angle (CAMI) signal.<br>
[0208] The low lift limit module 938 generates a selected lift output<br>
(DesLiftOut) signal based on a lift command signal (Lift_Desired) and a low lift<br>
limit (LL_Limits) signal.<br>
[0209] The solenoid hardware input/output control module 940<br>
generates Lift_Mode 435, LiftSol_Flags 437 and a solenoid hardware<br>
input/output (Solenoid_HWIO) signal based on a response time (Resp_time)<br>
signal 431, signals from the bus 936 and DesLiftOut. Liftjvlode is the current lift<br>
 <br>
mode. LiftSol_Flags may include flags associated with and the current state of<br>
valve control solenoids.<br>
[0210] Referring now to FIG. 36, a functional block diagram of the low<br>
lift module 938 of FIG. 35 is shown. The low lift module 938 disallows low lift and<br>
initiates and/or causes operation in high lift for cam lift hardware protection. The<br>
low lift module 938 includes a desired lift input bus 949 that receives a desired lift<br>
(DesLift) signal, which includes a selected exhaust lift (E_Lift1_Des) signal, a<br>
selected intake lift (I_Lift1_Des) signal, a lift sequence mode (Lift_Seq_Mode)<br>
signal and a lift sequence delay (Lift_Seq_Delay) signal. E_l_ift1_Des and<br>
l_Lift1_Des are provided to respective AND gates 950, 952.<br>
[0211] The first AND gate provides an exhaust lift selected<br>
(E_Lift2_Des) signal based on EJ_ift1_Des and a low lift allowed<br>
(Low_Lift_Allowed) signal. Low_Lift_Allowed is included in LLJJmits and<br>
indicates that a low lift mode is permitted. For example, when Low_Lift_Allowed<br>
is HIGH then the low lift module 938 permits operation in low lift mode. The<br>
second AND gate provides an intake lift selected (IJ_ift2_Des) signal based on<br>
l_Lift1_Des and Low_Lift_Allowed.<br>
[0212] Lift_Seq_Mode, Lift_Seq_Delay, E_Lift2_Des, and l_Lift2_Des<br>
are provided to a desired lift output bus 954. The lift output bus 954 provides a<br>
selected lift output signal (DesLiftOut) or (Desired_Mode).<br>
[0213] Referring now to FIG. 37, a functional block diagram of the<br>
solenoid HWIO control module 940 of FIG 35 is shown. The HWIO control<br>
module 940 controls permitted lift changes and current lift status for intake and<br>
 <br>
exhaust valves. The intake lift control logic may be similar to and/or the same as<br>
the exhaust lift control logic. The HWIO control module 940 includes a target<br>
angle base parameter module 960, a lift sequence module 962, an exhaust lift<br>
control module 964, an intake lift control module 966, and a memory 968. The<br>
memory 968 may be part of, one and the same as, or separate from the memory<br>
427 of FIG. 14. The lift sequence module 962, the exhaust lift control module<br>
964, and the intake lift control module 966 are coupled to the memory 968 and<br>
perform tasks based on information stored in the memory, such as LL_Limits<br>
433, any of the above-described flags, intake and exhaust valve solenoid<br>
information, etc. The intake and exhaust valve solenoid information may include<br>
crank angle information, camshaft position information, duration information, or<br>
other solenoid information.<br>
[0214] The target angle base parameter module 960 generates a<br>
response angle (Resp_Angle) signal, a response reference (Resp_Refs) signal,<br>
a target angles (Target_Angles) signal, and a speed (RPM) signal based on<br>
EngSpd 476, RespTime 431, an exhaust camshaft position or exhaust valve<br>
closing angle (EVC) signal, and an intake camshaft position or intake valve<br>
opening angle (IVO) signal. Resp_Angle, Resp_Refs, Target_Angles, RPM and<br>
a crankshaft angle (Angle_Crank) signal and a cylinder identification (CylID)<br>
signal are provided to a target angle bus 970 to generate a target angle<br>
(Target_Angles) signal. EVC and IVO are based on crankshaft position sensing<br>
and intake and exhaust camshaft phase sensors.<br>
 <br>
[0215] The lift sequence module 962 control sequence of changing lift<br>
mode of intake and exhaust valves. The lift sequence module 962 determines<br>
whether to permit intake valves or exhaust valves to change lift mode first.<br>
Intake or exhaust valves may switch first. In one embodiment, the exhaust<br>
valves are switched to a low lift mode before the intake valves. The lift sequence<br>
module 962 generates an intake signal and an exhaust signal based on a lift<br>
sequence (LiftSeq) signal. Lift__Seq may be included in Desired_Mode. The<br>
intake signal and exhaust signal are used to activate the exhaust lift control<br>
module 964 and the intake lift control module 966.<br>
[0216] The exhaust lift control module 964 generates an exhaust valve<br>
lift control signal (E_Lift_Control_Case) signal and E_Lift_Mode based on a lift<br>
mode request (Lift_Mode_Req) signal and Target_Angles.<br>
[0217] The intake lift control module 966 generates an intake valve lift<br>
control signal (l_Lift_Control_Case) signal and l_Lift_Mode based on<br>
Lift_Mode_Req and Target_Angles.	E_Lift_Control_Case and<br>
LLift_Control_Case may have a "same or no change" state (0), a "high lift to low<br>
lift transition" state (1), or a "low lift to high lift" (2) state. E^Lift_Control_Case<br>
and LLift_Control_Case are provided to a lift control bus 974 to provide a lift<br>
control (Lift_Control_Case) signal, which is provided to the main module 428 of<br>
FIG. 14. Lift_Control_Case allows the main module 428 to change operating lift<br>
mode of intake and exhaust valves. E_Lift_Mode and l_Lift_Mode indicate<br>
current mode of the exhaust and intake valves. EJ_ift_Mode and l_Lift_Mode<br>
are provided to a lift mode bus 976 to generate Lift_Mode 425.<br>
 <br>
[0218] The memory 968 may generate and/or provide LiftSol_Flags<br>
and SoLHWIO via associated buses 978 and 980.<br>
[0219] Referring now to FIG. 38, a functional block diagram of a portion<br>
of the target angle based parameter module 960 of FIG. 37 is shown. The target<br>
angle based parameter module 960 includes a time to angle conversion module<br>
1000. The conversion module 1000 converts response time to angles based on<br>
engine speed. The conversion module 1000 generates Resp_Angle and<br>
Resp_Refs based on EngSpd 476, which may include a current engine speed<br>
RPM, a previous engine speed (RPMJ_ast) signal, and RespTime.<br>
[0220] Referring now to FIG. 39, a functional block diagram of another<br>
portion of the target angle based parameter module 960 of FIG. 37 is shown.<br>
The target angle based parameter module 960 includes a target and switching<br>
window module 1010. The target and switching window module 1010 generates<br>
Target_Angles based on EVC and IVO.<br>
[0221] Referring now to FIG. 40, a functional block diagram of the<br>
target and switching window module 1010 of FIG. 39 is shown. The target and<br>
switching window module 1010 includes a high to low module 1020 and a target<br>
angle bus 1022. The high to low module generates high to low and low to high<br>
target angles for each cylinder and high to low and low to high switching windows<br>
for intake and exhaust valves. These signals include HL_Target_A,<br>
HL_Target_B, HL_Target_C, HL_Target_D, LH_Target_A, LH_Target_B,<br>
LH_Target_C, LH_Target_D, HL_Exh_Sw_Window, HLJnt_Sw_Window,<br>
LH_Exh_Sw_Window, and LH_lnt_Sw_Window. A-D may refer to each of four<br>
 <br>
cylinders and/or the solenoids associated with each of the cylinders. As another<br>
example, A may refer to exhaust valves of cylinders 1 and 2, B may refer to<br>
exhaust valves of cylinders 3 and 4, C may refer to intake valves of cylinders 1<br>
and 2, and D may refer to intake valves of cylinders 3 and 4.<br>
[0222] The target angles are associated with crankshaft angles that are<br>
targeted for a change in oil pressure for switching from low to high or from high to<br>
low lift modes. The same or different target angles may be used for switching<br>
from low to high and from high to low lift modes.<br>
[0223] Referring now to FIG. 41, a functional block diagram of the<br>
target and switching window module 1020 of FIG. 40 is shown. The target and<br>
switching window module 1020 includes a high to low lift exhaust module 1030.<br>
The high to low lift exhaust module 1030 generates a high to low exhaust<br>
switching window (HL_Exh_Sw_Window) signal, a high to low target angle<br>
(HL_Target_A) signal, a high to low intake switching window<br>
(HL_lnt_Sw_Window) signal and a high to low target angle (HL_Target_C) based<br>
on EVC and IVO.<br>
[0224] The target and switching window module 1020 also includes<br>
first and second summers 1032, 1034 and first and second modulo modules<br>
1036, 1038. The first summer 1032 sums HL_Target_A with a target cylinder B<br>
offset (TargetBOffset) signal. Output of the first summer 1032 is received by the<br>
first modulo module 1036, which generates a high to low target angle<br>
(HL_Target_B) signal. The second summer 1034 sums HL_Target_C with a<br>
target cylinder D offset (TargetDOffset) signal. Output of the second summer<br>
 <br>
1034 is received by the second modulo module 1038, which generates a high to<br>
low target angle (HL_Target_D) signal.<br>
[0225] As an example, the target angle for solenoid B may be<br>
determined by adjusting the target angle for solenoid A by 180. Similarly, the<br>
target angle for solenoid D may be determined by adjusting the target angle for<br>
solenoid C by 180.<br>
[0226] In addition to or as an alternative to determining target angles<br>
within switching windows, targets may be determined as percentages of a<br>
switching window, as fixed or predetermined amounts of time into switching<br>
windows, or fixed or predetermined angle into switching windows.<br>
[0227] Referring now to FIG. 42, a functional block diagram of the<br>
window module 1030 of FIG. 41 is shown. The window module 1030 is setup for<br>
a two or four intake/exhaust valve solenoid control system. The window module<br>
1030 includes a two solenoid exhaust module 1040, a four solenoid exhaust<br>
module 1042, and a four solenoid intake module 1044. The modules 1040-1044<br>
may receive an activation signal 1045 based on operation of two or four<br>
solenoids. As above stated, in a two solenoid system intake and exhaust valves<br>
of a cylinder may share a solenoid, whereas in a four solenoid system, intake<br>
and exhaust valves of a cylinder may have independent or respective solenoids.<br>
[0228] The two solenoid exhaust module 1040 generates a window<br>
signal and an exhaust target angle (TAJExh) signal based on ECV, IVO, an<br>
exhaust target offset high to low (TargetOffsetExhHL) signal, an intake target<br>
offset high to low (TargetOffsetlntHL) signal, a target angle gain for high to low<br>
 <br>
(TargetAngleGainHL) signal, and a target angle offset (TargetAngleOffset) signal.<br>
TargetOffsetExhHL indicates when an exhaust valve is opening. The offset and<br>
gain signals provide calibration information. The calibration information may be<br>
used to adjust target angles by percentage amounts of a switching window or by<br>
a target angle offset.<br>
[0229] The four solenoid exhaust module 1042 generates an exhaust<br>
window signal (HL_Exh_Sw_Window), and an exhaust target angle (TA_Exh)<br>
signal based on EVC, TargetOffsetExhHL, TargetAngleGainHL,<br>
TargetAngleOffset and an exhaust target offset high to low<br>
(TargetOffsetExhHL4Sol) signal. TargetOffsetExhHL4Sol is an offset calculate<br>
the start of the window from EVC.<br>
[0230] The four solenoid intake module 1044 generates an intake<br>
window signal (HL_lnt_Sw_Window) and intake target angle (HL_Target_C)<br>
signal based on IVO, TargetOffsetExhHL, TargetOffsetlntHL,<br>
TargetAngleGainHL, TargetAngleOffset, and an intake target offset high to low<br>
(TargetOffsetlntHL4Sol) signal. TargetOffsetlntHL4Sol is an offset to calculate<br>
the end of the window from IVO.<br>
[0231] The window module 1030 also includes first and second merge<br>
devices 1046, 1048 that each have two inputs and an output. The first merge<br>
device 1046 selects the most recently modified window signal from the two and<br>
four solenoid exhaust modules 1040, 1042 to generate HL_Exh_Sw_Window.<br>
The second merge device 1048 selects the most recently modified TA_Exh<br>
 <br>
signal from the two and four solenoid exhaust modules 1040, 1042 to generate<br>
HL_Target_A.<br>
[0232] Referring now to FIG. 43, a functional block diagram of the<br>
exhaust two solenoid module 1040 of FIG. 42 is shown. The exhaust two<br>
solenoid module 1040 determines start, end, and size of switching window. The<br>
exhaust two solenoid module 1040 includes summers 1050-1056 and modulo<br>
modules 1058-1064. The first summer 1050 sums EVC and TargetOffsetExhHL<br>
The first modulo module 1058 generates a camshaft lift window high to low end<br>
angle (CamLift_Win_HL_End) signal based on output of the first summer 1050.<br>
The second summer 1052 sums IVO and TargetOffsetlntHL The second<br>
modulo module 1060 generates a camshaft lift window high to low start angle<br>
(CamLift_Win_HL_Start) signal based on output of the second summer 1052.<br>
[0233] The third summer 1054 subtracts CamLift_Win_HL_Start from<br>
CamLift_Win_HL_End. The third modulo module 1062 generates a high to low<br>
switching window (HL_Sw_Window) signal based on the output of the third<br>
summer 1054. HL_Sw Window is multiplied by TargetAngleGainHL via a<br>
multiplier 1066. The fourth summer 1056 sums the output of the multiplier 1066<br>
with CamLift_Win_HL_Start and TargetAngleOffset. The fourth modulo module<br>
1064 generates TA_Exh based on the output of the fourth summer 1056.<br>
TA_Exh may be based on percentage of the switching window and angle offset<br>
from the start of the switching window.<br>
[0234] Referring now to FIG. 44, a functional block diagram of the<br>
exhaust four solenoid module 1042 of FIG. 42 is shown. The exhaust four<br>
 <br>
solenoid module 1042 includes summers 1070-1076 and modulo modules 1078-<br>
1084. The first summer 1070 sums EVC and TargetOffsetExhHL The first<br>
modulo module 1078 generates a camshaft lift window high to low end angle<br>
(CamLift_Win_HL_End) signal based on output of the first summer 1070. The<br>
second summer 1072 sums EVC and TargetOffsetExhHL4Sol. The second<br>
modulo module 1080 generates a camshaft lift window high to low start angle<br>
(CamLift_Win_HL_Start) signal based on output of the second summer 1072.<br>
[0235] The third summer 1074 subtracts CamLift_Win_HL_Start from<br>
CamLift_Win_HL_End. The third modulo module 1082 generates a high to low<br>
exhaust switching window (HL_Exh_Sw_Window__4) signal based on the output<br>
of the third summer 1074. HL_Exh_Sw_Window_4 is multiplied by<br>
TargetAngleGainHL via a multiplier 1086. The fourth summer 1076 sums the<br>
output of the multiplier 1086 with CamLift_Win__HL_Start and TargetAngleOffset.<br>
The fourth modulo module 1084 generates TA_Exh based on the output of the<br>
fourth summer 1076. TA_Exh may be based on percentage of the switching<br>
window and angle offset from the start of the switching window.<br>
[0236] Referring now to FIG. 45, a functional block diagram of the<br>
intake four solenoid module 1044 of FIG. 42 is shown. The intake four solenoid<br>
module 1044 includes summers 1090-1096 and modulo modules 1098-1104.<br>
The first summer 1090 sums IVO and TargetOffsetlntHL The first modulo<br>
module 1098 generates a camshaft lift window high to low end angle<br>
(Caml_ift_Win_HL_End) signal based on output of the first summer 1090. The<br>
second summer 1092 sums IVO and TargetOffsetlntHL4Sol. The second<br>
 <br>
modulo module 1100 generates a camshaft lift window high to low start angle<br>
(Caml_ift_Win_HL_Start) signal based on output of the second summer 1092.<br>
[0237] The third summer 1094 subtracts CamLift_Win_HL_Start from<br>
CamLift_Win_HL_End. The third modulo module 1102 generates a high to low<br>
intake switching window (HL_lnt_Sw_Window_4) signal based on the output of<br>
the third summer 1094.	HL_lnt_Sw_Window_4 is multiplied by<br>
TargetAngleGainHL via a multiplier 1106. The fourth summer 1096 sums the<br>
output of the multiplier 1106 with Caml_ift_Win_HL_Start and TargetAngleOffset.<br>
The fourth modulo module 1104 generates TAJnt based on the output of the<br>
fourth summer 1096. TAJnt may be based on percentage of the switching<br>
window and angle offset from the start of the switching window.<br>
[0238] Referring now to FIG. 46, a functional block diagram of the lift<br>
sequence module 962 of FIG. 37 is shown. The lift sequence module 962<br>
includes an exhaust lead calibration module 1110 and an intake lead calibration<br>
module 1112. The lift sequence module 962 allows for selecting which valves<br>
lead during a transition between lift modes. For example, the exhaust valves<br>
may change lift modes before the intake valves. As another example intake<br>
valves may change lift modes before the exhaust valves.<br>
[0239] The intake and exhaust lead modules 1110, 1112 receive a<br>
Lift_Seq indicating the lift sequence mode. The lift sequence mode may be a<br>
intake lead mode or an exhaust lead mode. The Lift_Seq activates the<br>
appropriate one of the intake and exhaust lead modules 1110, 1112. Output of<br>
the exhaust lead module 1110 is provided to a demultiplexer to generate the<br>
 <br>
intake and exhaust signals. Likewise, the output of the intake lead module 1012<br>
is provided to a demultiplexer to also generate the intake and exhaust signals.<br>
The output of the demultiplexers is used to control the order of activation for<br>
modules 964 (exhaust) and 966 (intake) based on Lift_Seq_Mode.<br>
[0240] The exhaust lead module 1110 and the intake lead module<br>
1112 control activation of exhaust and intake modules that may set lift solenoid<br>
enable flags for solenoids A-D. The intake solenoids and the exhaust solenoids<br>
may be in low lift mode, high lift mode, in independent modes, transitioning<br>
between modes, or in intermediate modes mode for smooth transitioning. In one<br>
embodiment, intake valves are operated in low lift while exhaust valves are<br>
operated in high lift to improve fuel economy.<br>
[0241] Referring now to FIG. 47, a functional block diagram of the<br>
exhaust lift control module 964 of FIG. 37 is shown. The exhaust lift control<br>
module includes a mode switch case module 1120, an exhaust low to high<br>
module 1122, an exhaust high to low module 1124, and an exhaust no change<br>
module 1126.<br>
[0242] The mode switch case module 1120 generates<br>
EJ_ift_Control_Case and activation signals for the modules 1122-1126 that<br>
include E_Case2_Lo_Hi, E_Case1_Hi_Lo and E_Case0_NoChg, respectively.<br>
E_Lift_Control_Case and the activation signals are generated based on<br>
Lift_Mode_Req and an exhaust lift mode active feedback (Lift_Mode_Last)<br>
signal.<br>
 <br>
[0243] The an exhaust low to high module 1122 generates an exhaust<br>
lift mode (Exh _Lift_Mode) signal based on Target Angles, Lift_ Mode_Req and<br>
Lift_Mode_Last. The exhaust high to low module 1124 includes similar logic as<br>
the exhaust low to high module 1122 and also generates an exhaust lift mode<br>
(Exh_Lift_Mode) signal based on Target_Angles, Lift_Mode_Req and<br>
Lift_Mode_Last. The outputs of the modules 1122 and 1124 are provided to a<br>
merge device 1128, which generates EJ_ift_Mode. A one event delay of<br>
EJ_ift_Mode is performed by device 1130 to generate LiftJvlode_Last. The<br>
exhaust no change module 1126 indicates no change in lift mode based on<br>
Target_Angles and Lift_Mode_Last.<br>
[0244] Referring now to FIG. 48, a functional block diagram of the<br>
mode switch case module 1120 of FIG. 47 is shown. The mode switch case<br>
module 1120 determines which, if any change in lift mode is requested to trigger<br>
appropriate logic. Lift_Mode_Req bus includes E_Lift_Des, l_Lift_Des,<br>
Lift_Seq_Node, and Lift _Seq_Delay. As examples, E_Lift_Des equals one (1)<br>
may mean low lift operation of exhaust valves is requested; E_Lift_Des equals<br>
zero (0) may mean high lift operation of exhaust valves is requested; l_l_ift_Des<br>
equals one (1) may mean low lift operation of intake valves is requested;<br>
l_Lift_ Des equals zero (0) may mean high lift operation of intake valves is<br>
requested; Lift_Seq_Mode equals one (1) exhaust valves lead switch;<br>
Lift_Seq_Mode equals zero (0) intake valves lead switch; and Lift_Seq_Delay<br>
may refer to a number of events to delay before performing a switch in lift modes.<br>
The mode switch case module 1120 includes a mode request limit module 1140,<br>
 <br>
an exhaust switch case module 1142, comparators 1144-1152, AND gates 1154,<br>
1156, and if/then/else modules 1158-1162.<br>
[0245] The mode request limit module 1140 receives Elift _Des from<br>
bus Lift_Mode_Req and a feedback output signal from the first if/then/else<br>
module 1158, EJ_ift_Control_Case. Module 1140 forces a minimum number of<br>
engine events in each mode to prevent debounce E_Lift_Des. E_Lift_Des may<br>
be a zero (0) or a one (1) to request high and low lifts operation, respectively.<br>
Output of the mode request limit module 1140 is compared with<br>
E_Lift_Mode_Last. E_Lift_Mode_Last may be a zero (0), a one (1), a two (2), or<br>
a three (3) to represent a current mode of high lift, low lift, high to low lift switch in<br>
process, or low to high lift switch in process, respectively. When the output of the<br>
mode request limit module 1140 is equal to E_Lift_Mode_Last, output of the first<br>
comparator 1144 is HIGH. When the output of the first comparator is HIGH,<br>
output of the first if/then/else module 1158 is zero (0) or E_Lift_Control_Case is<br>
zero (0). When the output of the first comparator is LOW than<br>
E_Lift_ControLCase is set equal to the output of the second if/then/else module<br>
1160.<br>
[0246] The output of the mode request limit module is compared with<br>
one (1) by the second comparator 1146 and is compared with zero(0) by the<br>
fourth comparator 1150. E_Lift_Mode_Last is compared with zero(0) by the third<br>
comparator 1148 and one(1) by the fifth comparator 1152. Outputs of the<br>
second and third comparators 1146, 1148 are provided to the first AND gate<br>
 <br>
1154. Outputs of the fourth and fifth comparators 1150, 1152 are provided to the<br>
second AND gate 1156.<br>
[0247] When the output of the first AND gate is HIGH, output of the<br>
second if/then/else module 1160 is one (1). When the output of the first AND<br>
gate is LOW, output of the second if/then/else module 1160 is set equal to the<br>
output of the third if/then/else module 1162.<br>
[0248] When the output of the second AND gate is HIGH, output of the<br>
third if/then/else module 1162 is two (2). When the output of the second AND<br>
gate is LOW, output of the third if/then/else module 1162 is three (3).<br>
[0249] An E_Lift_Control_Case of zero (0) may refer to no change in lift<br>
mode, of one (1) may refer to a transition from high to low lift, of two (2) may refer<br>
to a transition from low to high lift, of three (3) may refer to an invalid mode.<br>
[0250] The exhaust switch case module 1142 may generate<br>
enable/disable signals associated which each of the possible states of<br>
E_Lift_Control_Case. The outputs of the exhaust switch case module 1142 may<br>
include no change (E_Case0_NoChg) signal, an exhaust high to low lift<br>
(E_Case1_Hi_Lo) signal, and an exhaust low to high lift (E_Case2_Lo_Hi) signal<br>
to activate the corrersponding modules 1122-1126.<br>
[0251] Referring now to FIG. 49, a functional block diagram of the<br>
exhaust case two low-to-high module 1122 of FIG. 47 is shown. The exhaust<br>
case two low-to-high module 1122 includes an action port 1150, a function call<br>
generator 1152, a low to high solenoid A module 1154, a low to high solenoid B<br>
module 1156 and a low to high output mode module 1158.<br>
 <br>
[0252] The action port 1150 is activated by module 1120The function<br>
call generator generates lift solenoid output state Sol_A, Sol_B signals and limit<br>
output (LM_Out) signal. Sol_A and Sol_B are used to trigger the solenoid A and<br>
B modules 1154 and 1156 and LM_Out is used to trigger the output module 1158<br>
in sequence. The output module generates Exh_Lift_mode based on<br>
Lift_Mode_Last.<br>
[0253] The solenoid A and B modules 1154, 1156 control operation of<br>
solenoids A and B based on lift solenoid output states Sol_A, Sol_B. Sol_A and<br>
Sol_B may be zero(O) referring to a state of looking for a start angle, one (1)<br>
referring to a state of looking for an end angle, two (2) referring to a state of<br>
being near a target angle, three (3) referring to a state of looking for a cylinder<br>
identification flag, and four (4) that output of solenoid status is complete. When<br>
the crankshaft is near start angle for solenoid A or B, the associated solenoid<br>
may be activated. When solenoid A or B is activated a flag may be generated to<br>
indicate the switch. The cylinder identification flag is used for synchronized<br>
engine position to indicate when in low or high lift at current crankshaft angle.<br>
[0254] Referring now to FIGs. 50A-50D, a logic flow diagram illustrating<br>
a method of controlling a valvetrain is shown. Although the following steps are<br>
described for a four cylinder engine having four solenoids for control of intake<br>
and exhaust lift modes, they may be applied to other engines. For the following<br>
steps, solenoid A controls exhaust valves for cylinders 1 and 2, solenoid B<br>
controls exhaust valves for cylinders 3 and 4, solenoid C controls intake valves<br>
for cylinders 1 and 2, and solenoid D controls intake valves for cylinders 3 and 4.<br>
 <br>
[0255] Solenoid control begins at 1200. In step 1202 when a lift mode<br>
change request is generated control proceeds to step 1204, otherwise control<br>
ends at 1203. In step 1204, when the lift mode request is for exhaust valves and<br>
not for intake valves, control proceeds to step 1206, otherwise to step 1208. In<br>
step 1208, when the lift mode request is for intake valves and not for exhaust<br>
valves, control proceeds to step 1210, otherwise to step 1212 for lift mode<br>
request for both exhaust and intake. In step 1210 for intake and not exhaust,<br>
solenoids A and B for exhaust are set to done.<br>
[0256] In step 1212, when a switch in exhaust valve lift mode leads a<br>
switch in intake valve lift mode, control proceeds to step 1207, otherwise to step<br>
1211. In step 1207, logic for the solenoids A and B is enabled. After step 1207<br>
control proceeds to step 1220. In step 1211, logic for the solenoids C and D is<br>
enabled. After step 1211 control proceeds to step 1250.<br>
[0257] In step 1220, when a switch in exhaust valves A and B has<br>
occurred, control proceeds to step 1240, otherwise to step 1222. In step 1222,<br>
when solenoid A logic is enabled, control proceeds to step 1224, otherwise to<br>
step 1226. In step 1224, control runs solenoid A logic to perform a switch in lift<br>
mode and sets Exh A done flag when completed. In step 1228, when a switch<br>
has occurred for solenoid A, control proceeds to step 1230, otherwise to step<br>
1226. In step 1231, logic for solenoid C is enabled.<br>
[0258] In step 1226, when solenoid B logic is enabled control proceeds<br>
to step 1232, otherwise to step 1238. In step 1232, control runs solenoid B logic<br>
to perform a switch in lift mode for solenoid B and sets Exh B Done when<br>
 <br>
completed. In step 1234, when solenoid B has switched modes, control<br>
proceeds to step 1236, otherwise to step 1238. In step 1236, control enables<br>
logic for the solenoid D.<br>
[0259] In step 1238, when a switch has completed for both exhaust<br>
solenoids A and B control proceeds to step 1240, otherwise to step 1280. In step<br>
1240, when a counter is greater than or equal to a delay (Seq.), control proceeds<br>
to step 1242, otherwise to step 1244. In step 1244 the counter is incremented.<br>
In step 1242 when the intake valves have been switched control proceeds to step<br>
1280, otherwise to step 1250.<br>
[0260] In step 1250, when solenoids C and D have been switched<br>
control proceeds to step 1270, otherwise to step 1252. In step 1252, when<br>
solenoid C logic is enabled, control proceeds to step 1254, otherwise to step<br>
1256. In step 1254, control runs solenoid C logic to switch operating mode of<br>
solenoid C and sets Int C done flag when completed. In step 1258, when the<br>
switch for solenoid C is done, control proceeds to step 1260, otherwise to step<br>
1256.<br>
[0261] In step 1256, when solenoid D logic is enabled control proceeds<br>
to step 1262. In step 1262, control runs solenoid D logic to switch operating<br>
mode of solenoid D and sets Int D done flag when completed. In step 1264,<br>
when a switch has been performed for solenoid D, control proceeds to step 1266,<br>
otherwise to step 1268. In step 1266, control enables solenoid B logic. In step<br>
1268 when a switch has occurred for solenoids C and D, control proceeds to step<br>
1270, otherwise to step 1280.<br>
 <br>
[0262] In step 1270, when the counter is greater than or equal to the<br>
delay Seq., control proceeds to step 1272, otherwise to step 1280. In step 1272<br>
when the exhaust solenoids have been switched, control proceeds to step 1280,<br>
otherwise to step 1220.<br>
[0263] In step 1280, when exhaust and intake solenoids have been<br>
switched control proceeds to step 1282, otherwise control may proceed to 1290<br>
and end or return to step 1202 to complete the pending switch or perform<br>
another switch. In step 1282, a lift change complete indication is generated. In<br>
step 1284, enable flags which may have been set in the above steps for<br>
solenoids A-D, are cleared for solenoids A-D. In step 1286, done flags, which<br>
may have been set in the above steps for solenoids A-D, are cleared. In step<br>
1288, the counter is cleared. After step 1288, control may proceed to step 1290<br>
or return to step 1202.<br>
[0264] The above-described steps are meant to be illustrative<br>
examples; the steps may be performed sequentially, synchronously,<br>
simultaneously, continuously, during overlapping time periods or in a different<br>
order depending upon the application.<br>
[0265] Referring now to FIG. 51, a state flow diagram illustrating a<br>
method of controlling a valvetrain solenoid and reporting status flags are shown.<br>
[0266] When a solenoid is in a high lift state, as generally indicated by<br>
state 1300, and transition to a low lift state, control generates a high to low lift<br>
change request. In state 1302, control monitors the crankshaft angle to locate a<br>
precalculated start angle. The start angle may, for example, be based on a<br>
 <br>
target angle to begin a switch and oil pressure, response time and voltage<br>
change at the solenoid.<br>
[0267] When the crankshaft angle is near the start angle and the<br>
counter is greater than the delay Seq., control proceeds to state 1304. In state<br>
1304, control compares a current crankshaft angle with a predetermined<br>
crankshaft angle. When the crankshaft angle is equal to the predetermined<br>
crankshaft angle, control activates solenoid A.<br>
[0268] When the crankshaft angle is past the start angle, control is in<br>
state 1306. In state 1306, control looks for the target angle. When the<br>
crankshaft angle is near the target angle and cylinder identification is a match,<br>
control determines that the solenoid is in low lift mode, as provided by state<br>
1308. States 1310-1314 are similar to states 1302-1306, however they are<br>
modified for switching from low lift to high lift.<br>
[0269] Those skilled in the art can now appreciate from the foregoing<br>
description that the broad teachings of the present invention can be implemented<br>
in a variety of forms. Therefore, while this invention has been described in<br>
connection with particular examples thereof, the true scope of the invention<br>
should not be so limited since other modifications will become apparent to the<br>
skilled practitioner upon a study of the drawings, the specification and the<br>
following claims.<br>
 <br>
CLAIMS<br>
What is claimed is:<br>
1.	A valve control system for an internal combustion engine<br>
comprising:<br>
a valve actuation system that includes lift control valves that actuate at<br>
least one of an intake valve and an exhaust valve between N open lift modes,<br>
where N is an integer greater than one; and<br>
a control module that enables transitioning of at least one of said intake<br>
valve and said exhaust valve between said open lift modes,<br>
wherein said control module synchronizes transitions between said N<br>
open lift modes with crankshaft and valvetrain timing, and<br>
wherein said control module generates an engine position synchronization<br>
signal based on said transitioning.<br>
2.	The valve control system of claim 1 wherein said control module<br>
generates said engine position synchronization signal when a switch in an open<br>
lift mode has occurred.<br>
3.	The valve control system of claim 1 wherein said control module<br>
generates said engine position synchronization signal when a switch in an open<br>
lift mode has been completed.<br>
 <br>
4.	The valve control system of claim 1 wherein said control module<br>
adjusts fuel to said engine based on said engine position synchronization signal.<br>
5.	The valve control system of claim 1 wherein said control module<br>
adjusts ignition system timing based on said engine position synchronization<br>
signal.<br>
6.	The valve control system of claim 1 comprising:<br>
a fuel injection system controlling fuel supply to said engine; and<br>
an ignition system controlling spark timing of said engine,<br>
wherein said control module adjusts said fuel supply and ignition system<br>
timing based on said engine position synchronization signal.<br>
 <br>
7.	The valve control system of claim 1 wherein said control module<br>
enables transitioning of at least one of said intake and exhaust valves between<br>
said N open lift modes based on at least one of an oil pressure signal, a lift<br>
control valve temperature, and an oil temperature.<br>
8.	The valve control system of claim 7 further comprising an oil<br>
pressure conversion module that generates a valve control oil pressure signal of<br>
at least one of an intake valve assembly and an exhaust valve assembly based<br>
on an engine oil pressure signal.<br>
9.	The valve control system of claim 8 wherein said conversion is<br>
based on and engine oil temperature.<br>
10.	The valve control system of claim 8 wherein said conversion is<br>
based on number of oil pressure control valves associated with at least one of<br>
said intake and exhaust valve assemblies.<br>
11.	The valve control system of claim 8 wherein said conversion is<br>
based on number of lift control valves associated with lift position control of at<br>
least one of said intake and exhaust valves.<br>
 <br>
12.	The valve control system of claim 7 wherein said open lift modes<br>
include a HIGH lift mode and a LOW lift mode, and<br>
wherein said control module prevents operating in said LOW lift mode<br>
based on said oil pressure signal.<br>
13.	The valve control system of claim 7 comprising:<br>
a time module that generates a lift limit signal based on said oil pressure<br>
signal; and<br>
an event module that prevents said transitioning based on said lift limit<br>
signal.<br>
14.	The valve control system of claim 7 wherein said conversion device<br>
generates an intake valve control oil pressure signal of an intake valve assembly<br>
and an exhaust valve control oil pressure signal of an exhaust valve assembly<br>
based on said oil pressure signal.<br>
15.	The valve control system of claim 7 wherein said control module<br>
prevents transitioning based on a lift mode command signal.<br>
16.	The valve control system of claim 7 wherein said control module<br>
estimates a manifold oil pressure based on a galley oil pressure, and<br>
wherein said control module enables said transitioning based on<br>
said manifold oil pressure.<br>
 <br>
17.	A valve control system for an internal combustion engine<br>
comprising:<br>
a valve actuation system that actuates at least one of an intake valve and<br>
an exhaust valve between N open lift modes, where N is an integer greater than<br>
one; and<br>
a control module that enables transitioning of at least one of said intake<br>
and exhaust valves between said N open lift modes based on at least one of an<br>
oil pressure signal, a lift control valve temperature, and an oil temperature.<br>
18.	The valve control system of claim 17 further comprising an oil<br>
pressure conversion module that generates a valve control oil pressure signal of<br>
at least one of an intake valve assembly and an exhaust valve assembly based<br>
on an engine oil pressure signal.<br>
19.	The valve control system of claim 18 wherein said conversion is<br>
based on and engine oil temperature.<br>
20.	The valve control system of claim 18 wherein said conversion is<br>
based on number of oil pressure control valves associated with at least one of<br>
said intake and exhaust valve assemblies.<br>
 <br>
21.	The valve control system of claim 18 wherein said conversion is<br>
based on number of lift control valves associated with lift position control of at<br>
least one of said intake and exhaust valves.<br>
22.	The valve control system of claim 17 wherein said open lift modes<br>
include a HIGH lift mode and a LOW lift mode, and<br>
wherein said control module prevents operating in said LOW lift mode<br>
based on said oil pressure signal.<br>
23.	The valve control system of claim 17 wherein said control module<br>
prevents said transitioning when said oil pressure signal exceeds a<br>
predetermined limit.<br>
24.	The valve control system of claim 17 wherein said control module<br>
prevents said transitioning for both said intake and exhaust valves based on said<br>
oil pressure signal.<br>
25.	The valve control system of claim 17 comprising:<br>
a time module that generates a lift limit signal based on said oil pressure<br>
signal; and<br>
an event module that prevents said transitioning based on said lift limit<br>
signal.<br>
 <br>
26.	The valve control system of claim 17 wherein said conversion<br>
device generates an intake valve control oil pressure signal of an intake valve<br>
assembly and an exhaust valve control oil pressure signal of an exhaust valve<br>
assembly based on said oil pressure signal.<br>
27.	The valve control system of claim 17 wherein said control module<br>
prevents transitioning based on a lift mode command signal.<br>
28.	The valve control system of claim 17 wherein said control module<br>
estimates a manifold oil pressure based on a galley oil pressure, and<br>
wherein said control module enables said transitioning based on<br>
said manifold oil pressure.<br>
29.	The valve control system of claim 28 wherein said control module<br>
estimates said manifold temperature based on lift control valve on time.<br>
30.	The valve control system of claim 17 wherein said valve actuation<br>
system actuates each of an intake valve and an exhaust valve between said<br>
plurality of different open lift modes.<br>
<br>
A valve control system for an internal combustion engine<br>
includes a valve actuation system. The valve actuation system includes lift<br>
control valves that actuate at least one of an intake valve and an exhaust valve<br>
between N open lift modes, where N is an integer greater than one. A control<br>
module enables transitioning of at least one of the intake valve and the exhaust<br>
valve between the open lift modes. The control module synchronizes transitions<br>
between the N open lift modes with crankshaft and valvetrain timing. The control<br>
module generates an engine position synchronization signal based on the<br>
transitioning.</td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/viewdoc.aspx?id=u84AXNkmK31FxFdNIJq8dA==&amp;amp;loc=wDBSZCsAt7zoiVrqcFJsRw==" target="_blank" style="word-wrap:break-word;">http://ipindiaonline.gov.in/patentsearch/GrantedSearch/viewdoc.aspx?id=u84AXNkmK31FxFdNIJq8dA==&amp;amp;loc=wDBSZCsAt7zoiVrqcFJsRw==</a></p>
		<br>
		<div class="pull-left">
			<a href="279857-a-recombinant-antibody-against-human-fgf23.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="279859-coated-article.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>279858</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>316/KOL/2009</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>05/2017</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>03-Feb-2017</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>31-Jan-2017</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>19-Feb-2009</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>GM GLOBAL TECHNOLOGY OPERATIONS, INC.</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>300 GM RENAISSANCE CENTER DETROIT, MICHIGAN</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>ALLEN B. RAYL</td>
											<td>4356 SOUTH SHORE STREET WATERRFORD, MICHIGAN 48328</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>F02D41/00</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>N/A</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td></td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>12/062,869</td>
									<td>2008-04-04</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/279858-valvetrain-control-systems-with-lift-mode-transitioning-based-engine-synchronization-timing-and-sensor-based-lift-mode-control by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2024 22:51:16 GMT -->
</html>
