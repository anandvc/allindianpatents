<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/208070-method-for-processing-signals-received-from-a-first-pick-off-sensor-and-second-pick-off-sensor by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2024 23:26:42 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 208070:METHOD FOR PROCESSING SIGNALS RECEIVED FROM A FIRST PICK-OFF SENSOR AND SECOND PICK-OFF SENSOR</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">METHOD FOR PROCESSING SIGNALS RECEIVED FROM A FIRST PICK-OFF SENSOR AND SECOND PICK-OFF SENSOR</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A digital signal processor (201) for determining a property of a material flowing through a conduit (103A-103B). The digital signal processor (201) of this invention receives signals from two pick-off sensors (105-105&#x27;) mounted at two different points along a flow tube at a first sample rate. The signals are converted to digital signals. The digital signals are ~ecimated from a first sample rate to a desired sample rate. The frequency of th~ received signals is then determined from the digital signals at the desired sample rate.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td> <br><br>
Description<br>
FIELD OF THE INVENTION<br>
This invention relates to a signal processor for an apparatus that measures properties of a material flowing through at least one vibrating conduit in the apparatus. More particularly, this invention relates to a digital signal processor for performing calculations to determine the frequencies of signals receive from pick-off sensors measuring the frequency of vibrations of the conduit.<br>
Problem<br>
It is known to use Coriolis effect mass flowmeters to measure mass flow and other information for materials flowing through a conduit in the flowmeter. Exemplary Coriolis flowmeters are disclosed in U.S. Pat. Nos. 4,109,524 of Aug. 29, 1978, U.S. Pat. No. 4,491,025 of Jan. 1, 1985, and U.S. Pat. No. Re. 31,450 of Feb. 11, 1982, all to J. E. Smith et al. These flowmeters have one or more conduits of a straight or a curved configuration. Each conduit configuration in a Coriolis mass flowmeter has a set of natural vibration modes, which may be of a simple bending, torsional or coupled type. Each conduit is driven to oscillate at resonance in one of these natural modes. Material flows into the flowmeter from a connected pipeline on the inlet side of the flowmeter, is directed through the conduit or conduits, and exits the flowmeter through the outlet side of the flowmeter. The natural vibration modes of the vibrating, material filled system are defined in part by the combined mass of the conduits and the material flowing within the conduits.<br><br>
When there is no flow through the flowmeter, all points along the conduit oscillate due to an applied driver force with identical phase or small initial fixed phase offset which can be corrected. As material begins to flow, Coriolis forces cause each point along the conduit to have a different phase. The phase on the inlet side of the conduit lags the driver, while the phase on the outlet side of the conduit leads the driver. Pick-off sensors are placed on the conduit(s) to produce sinusoidal signals representative of the motion of the conduit(s). Signals outputted from the pick-off sensors are processed to determine the phase difference between the pick-off sensors. The phase difference between two pick-off sensor signals is proportional to the mass flow rate of material through the conduit(s).<br>
A Coriolis flowmeter has a transmitter which generates a drive signal to operate the driver and determines a mass flow rate and other properties of a material from signals received from the pick-off sensors. A conventional transmitter is made of analog circuitry which is designed to generate the drive signal and detect the signals from the pick-off sensors. Analog transmitters have been optimized over the years and have become relatively cheap to manufacture. It is therefore desirable to design Coriolis flowmeters that can use conventional transmitters.<br>
It is a problem that conventional transmitters must work with signals in a narrow range of operating frequencies. This range of operating frequencies is typically between 20 Hz and 200 Hz. This limits the designers to this narrow range of operating frequencies. Furthermore, the narrow range of operating frequencies makes it impossible to use a conventional transmitter with some flowmeters, such as straight tube flowmeters, which<br><br>
operate in a higher frequency range of 300-800 Hz. Straight tube flowmeters operating at 300-800 Hz tend to exhibit smaller sensitivity to Coriolis effects used to measure mass flow rate. Therefore, a finer measurement of the phase difference between sensors is-needed to calculate mass flow rate.<br>
In order to use one type of transmitter on several different designs of Coriolis flowmeters operating at several different frequencies, manufacturers of Coriolis flowmeter have found that it is desirable to use a digital signal processor to generate the drive signals and process the signals received from the pick-off sensors. A digital signal processor is desirable because the higher demand in measurement resolution and accuracy put on analog electronic components by flowmeters operating at higher frequencies, such as straight tube designs, are avoided by the digitalization of signals from the pick-offs as the signals are received by the transmitter. Furthermore, the instructions for signaling processes used a digital processor may be modified to operate on several different frequencies.<br>
However, digital signal processors have several disadvantages as compared to conventional analog circuit transmitters. A first problem with a digital signal processor is that digital processors are more expensive to produce because the circuitry is more complex. Secondly, digital signal processors require a circuit board having a greater surface area which can cause problems when space is at a premium in a flowmeter design. Thirdly, digital signal processors require more power to operate than analog circuits. Power consumption is especially a problem when a processor must operate at a<br><br>
maximum clock rate in order to provide all the computations needed to process the signals and generate a material property measurement, such as mass flow. For all of these reasons, there is a need in the art for a digital signal processor that is adaptable across several flowmeter designs, that is inexpensive to produce and reduces the amount of power needed to perform the needed computations.<br>
Solution<br>
The above and other problems are solved and an advance in the art is made by the provision of a multi-rate digital signal processor of the present invention. The present invention is comprised of processes that are stored in a memory and executed by the processor in order to process the signals received from pick-offs on a vibrating conduit. The processes of this invention offer many advantages that make it viable to use a single type of digital signal processor in many types of Coriolis flowmeters.<br>
A first advantage of the processes of the present invention is that the processes do not lose accuracy in spite of using finite arithmetic in lieu of floating point arithmetic. A second advantage of the processes of the present invention is that the processes can be implemented on any number of low cost, low power digital signal processors such the Texas Instruments TM3205xx? Analog Devices ADSP21xx, or Motorola 5306x. The instructions for the processes of the present invention are small enough to reside in the internal memory of a digital signal processor which eliminates the need for fast access external memory which increases the cost, power consumption and board space for the<br><br>
transmitter. The processes have a small number of computational constructs which improves the portability of the processes between low cost processors.<br>
A third advantage is that the computational requirement of the processes is minimized. This reduction in the computational requirement allows the digital signal processor to run at a clock rate lower than the maximum clock rate of the processor which reduces the power consumption of the processor.<br>
A transmitter that performs the processes of the present invention has the following electronic components. Analog signals from the pick-offs attached to the sensors are received by an Analog to Digital ("A/D") converter. The converted digital signals are applied to a standard digital processor. The digital processor is a processing unit that executes machine readable instructions that are stored in a memory connected to the processor via a bus. A typical digital processor has a Read Only Memory (ROM) which stores the instructions for performing desired processes such as the processes of the present invention. The processor is also connected to a Random Access Memory which stores the instructions for a process that is currently being executed and the data needed to perform the process. The processor may also generate drive signals for the Coriolis flowmeter. In order to apply the drive signal to a drive system, a digital processor may be connected to a Digital to Analog (D/A) converter which receives digital signals from the processor and applies analog signals to the drive system.<br><br>
The processes of the present invention perform the following functions to determine the frequencies of the signals received from the pick-off sensors as well as the phase difference between the signals. First, the signals are received from the pick off sensor at a first sample rate. A sample rate is the amount of inputs received from the pick-offs that are used to characterize the signals from the pick-offs. The signals are then decimated from a first sample rate to a desired sample rate. Decimation is simply converting from a first number of samples to a lesser number of samples. Decimation is performed to increase the resolution of the signals sampled to provide a more precise calculation of signal frequency for each signal. The frequency of each signal is then determined.<br>
In order to use the same processes with different flowmeters having different frequencies, the following steps may also be performed. An estimate of the oscillation frequency of the flowmeter is calculated. The estimated frequency is then used to demodulate the signals from each pick-off into an I component and a Q component. The I component and the Q component are then used to translate the signals to a center frequency if the operating frequency of the signals is greater than a transition frequency. After demodulation, the signals may be decimated a second time to improve the resolution of the signals a second time.<br>
The dominant frequency of the signals is then isolated and precisely measured. The translation to a zero frequency is then calculated for both the I component and Q components of the signals. At this time, each component may decimated again to improve the accuracy of measurement. The frequency band of each signal can be<br><br>
narrowed as much as desired by appropriate low pass filtering at this time. A complex correlation is then performed which determines the phase difference between the signals.<br>
The above process allows a low power, low cost, digital processor to be used in a different types of Coriolis flowmeter which operate over a wide range of operating<br>
frequencies.<br>
Accordingly the present invention provides a method for processing signals received from a first pick-off sensor and a second pick-off sensor measuring vibrations of a conduit using a digital signal processor to output information about a material flowing through said conduit said method comprising the steps of: receiving samples of said signals from said first pick-off sensor said second pick-off sensor at a first sample rate; performing a first decimation of said samples from said first sample rate to an intermediate sample rate; the method characterized by the steps of: demodulating said samples at said intermediate sample rate; performing a second decimation of said samples to a desired sample rate; and determining a frequency of vibration for said conduit at said first pick-off sensor and at said second pick-off sensor from said samples of said signals at said desired sample rate.<br>
Accordingly the present invention also provides to an apparatus configured to communicate with pick-off sensors affixed to a conduit that is vibrated by a driver and measure properties of a material flowing through said conduit from signals received from<br><br>
said pick-off sensors wherein said signals indicate motion of said conduit from at least two points, said apparatus comprising: an analog to digital converter that converts samples of said signals to digital samples of said signals; and a processor configured to: perform a first decimation of said digital samples from a first sample rate to an intermediate sample rate; said apparatus characterized by said processor being configured to: demodulate said digital samples at said intermediate sample rate; perform a second decimation of said digital samples to a desired sample rate; and determine a frequency of vibration for said conduit at said first pick-off sensor and at said second pick-off sensor from said digital samples of said signals at said desired sample rate. DESCRIPTION OF THE DRAWINGS<br>
The present invention can be understood from the following detailed description and the following drawings:<br>
FIG. 1 illustrating a Coriolis Flowmeter having a digital transmitter that performs multi-rate pick-off signal processes of this invention;<br>
FIG. 2 illustrating a block diagram of a digital signal transmitter;<br>
FIG. 3 illustrating a flow diagram of the operations performed by a digital transmitter; FIG. 4 illustrating a flow diagram a process for generating data from signals received from pick-off sensors;<br>
FIG. 5 illustrating a process for performing a decimation of signal samples from a pick-off;<br><br>
FIG. 6 illustrating a process of calculating an estimated frequency of the signals received from the pick-offs;<br>
FIG. 7 illustrating a process for performing a high-low frequency selection for the received signals;<br>
FIG. 8 illustratmg a process for demodulating the received signals; and FIG. 9 illustratmg a method for determining data about flow tube vibration from the received signals.<br>
DETAILED DESCRIPTION<br>
Coriolis Flowmeter in General—FIG. 1<br>
FIG. 1 shows a Coriolis flowmeter 5 comprising a Coriolis meter assembly 10 and transmitter 20. Transmitter 20 is connected to meter assembly 10 via leads 100 to provide density, mass flow rate, volume flow rate, temperature, totalized mass flow, and enhanced density over path 26. A Coriolis flowmeter structure is described although it should be apparent to those skilled in the art that the present invention could be practiced in conjunction with any apparatus having a vibrating conduit to measure properties of material. A second example of such an apparatus is a vibrating tube densitometer which does not have the additional measurement capability provided by a Coriolis mass flowmeter.<br><br>
Meter assembly 10 includes a pair of flanges 101 and 101', manifold 102 and conduits 103A and 103B. Driver 104 and pick-off sensors 105 and 105' are connected to conduits 103A-B. Brace bars 106 and 106' serve to define the axis W and W about which each conduit oscillates.<br>
When flowmeter 10 is inserted into a pipeline system (not shown) which carries the process material that is being measured, material enters meter assembly 10 through flange 101, passes through manifold 102 where the material is directed to enter conduits 103A and 103B, flows through conduits 103A and 103B and back into manifold 102 from where it exits meter assembly 10 through flange 101'.<br>
Conduits 103A and 103B are selected and appropriately mounted to the manifold 102 so as to have substantially the same mass distribution, moments of inertia and elastic modules about bending axes W--W and W'--W', respectively. The conduits extend outwardly from the manifold in an essentially parallel fashion.<br>
Conduits 103A-103B are driven by driver 104 in opposite directions about their respective bending axes W and W' and at what is termed the first out of phase bending mode of the flowmeter. Driver 104 may comprise any one of many well known arrangements, such as a magnet mounted to conduit 103A and an opposing coil mounted to conduit 103B and through which an alternating current is passed for vibrating both conduits. A suitable drive signal is applied by meter electronics 20, via lead 110, to driver 104.<br><br>
Transmitter 20 receives the left and right velocity signals appearing on leads 111 and 111', respectively. Transmitter 20 produces the drive signal appearing on lead 110 and causing driver 104 to vibrate tubes 103A and 103B. Transmitter 20 processes the left and right velocity signals to compute the mass flow rate and the density of the material passing   through   meter   assembly   10.   This   information   is   applied   to   path   26.<br>
It is known to those skilled in the art that Coriolis flowmeter 5 is quite similar in structure to a vibrating tube densitometer. Vibrating tube densitometers also utilize a vibrating tube through which fluid flows or, in the case of a sample-type densitometer, within which fluid is held. Vibrating tube densitometers also employ a drive system for exciting the conduit to vibrate. Vibrating tube densitometers typically utilize only single feedback signal since a density measurement requires only the measurement of frequency and a phase measurement is not necessary. The descriptions of the present invention herein apply equally to vibrating tube densitometers.<br>
A Digital Transmitter 20-FIG. 2.<br>
FIG. 2. illustrates of the components of a digital transmitter 20. Paths 111 and 111' transmit the left and right velocity signals from flowmeter assembly 10 to transmitter 20. The velocity signals are received by analog to digital (A/D) convertor 203 in meter electronic 20. A/D convertor 203 converts the left and right velocity signals to digital signals usable by processing unit 201 and transmits the digital signals over path 210-210'. Although shown as separate components, A/D convertor 203 may be a single convertor,<br><br>
such as an AK4516 16-bit codec chip, which provides 2 convenors so that signals from both pick-offs are converted simultaneously. The digital signals are carried by paths 210-210' to processor 201. One skilled in the art will recognize that any number of pick-offs and other sensors, such as an RTD sensor for determining the temperature of the flow tube, may be connected to processor 201.<br>
Driver signals are transmitted over path 212 which applies the signals to digital to analog (D/A) convertor 202. D/A converter 202 is a common D/A convenor and may be a separate D/A convertor or one that is integrated in a stereo CODEC chip such as a standard AKM 4516. Another common D/A convertor 202 is a AD7943 chip. The analog signals from D/A convertor 202 are transmitted to drive circuit 290 via path 291. Drive circuit 291 then applies the drive signal to driver 104 via path 110. Path 26 carries signals to input and output means (not shown) which allows transmitter 20 to receive data from and convey data to an operator.<br>
Processing unit 201 is a micro-processor, processor, or group of processors that reads instructions from memory and executes the instructions to perform the various functions of the flowmeter. In a preferred embodiment, processor 201 is a ADSP-2185L microprocessor manufactured by Analog Devices. The functions performed include but are not limited to computing mass flow rate of a material, computing volume flow rate of a material, and computing density of a material which may be stored as instructions in a Read Only Memory (ROM) 220. The data as well as instructions for performing the<br><br>
various functions are stored in a Random Access Memory (RAM) 230. Processor 201 performs read and write operations in RAM memory 230 via path 231.<br>
Overview of Operation Performed by Digital Transmitter 20--FIG. 3.<br>
FIG. 3 is an overview of the functions performed by digital transmitter 20 to operate Coriolis flowmeter 5. Process 300 begins in step 301 with transmitter 20 generating a drive signal. The drive signal is then applied to driver 104 via path 110. In step 302, digital transmitter 20 receives signals from pick-off 105 and 105' responsive to vibration of said flow tubes 103 A-B as material passes through flow tubes 103A-B. Data about the signals such as signal frequency and phase difference between signals is performed by digital transmitter 20 in step 303. Information about properties of a material flowing through flow tubes 103A and 103B, such as mass flow rate, density, and volumetric flow rate, are then calculated from the data in step 304. Process 300 is then repeated as long as Coriolis flowmeter 5 is operating within a pipeline.<br>
A Process for Generating Data About the Pick-off Signals in Accordance with the Present<br>
Invention—FIG. 4.<br>
FIG. 4 illustrates process 400 which is a process for generating data such as a signal's frequency for signals received from pick-offs 105 and 105' that measure the oscillations of flow tubes 103A-B in Coriolis flowmeter 5. Process 400 offers several advantages for use in a digital transmitter 20. A first advantage of process 400 is that there is no loss of accuracy despite the use of finite point arithmetic instead of floating point arithmetic. This allows a low cost, low power processor such the TMS3205xxx manufactured by Texas Instrument, The ADSP21xx manufactured by Analog Devices, or the 5306x<br><br>
manufactured by Motorola Inc. A second advantage is that the memory requirement for the instructions for process 400 is small enough to reside in the internal memory of the processor which eliminates the need for a high speed bus between the processor and an external memory. The computational requirements are reduced by process 400 which allows the processor to operate at substantially less than its maximum clock rate.<br>
Process 400 begins in step 401 by decimating the sample rate of signals received from the pick-offs from a first sample rate to a second, lesser sample rate. In a preferred embodiment, the signals are decimated from a first sample rate of 48 kHz to a second sample rate of 4 kHz. The decimation of sample rates increases the resolution of the signals which increases the accuracy of the calculations as described below in FIG. 5. In the preferred embodiment, the reduction of the sample rate from 48 kHz to 4 kHz increases the resolution of the sample from B bits to B+1.79 bits. In step 402, an estimate of the signal frequency is calculated from the sampled signals. A preferred process is to calculate an estimated signal frequency is provided in FIG. 6. The estimated signal frequency is then used to demodulate the received signals in step 403. A process for demodulating the digital signals is given in FIGS. 7 and 8. A second decimation of the sampled signals is performed in step 404. The second decimation reduces the signal samples from a second sample rate to a third sample rate to increase the resolution of the sampled signal. In the preferred embodiment, the reduction is from a sample rate of 4 kHz to a rate of 800 Hz which increases the resolution to B+2.95 bits. This reduction is performed in the same manner as the decimation in step 401.<br><br>
After the second decimation in step 404, calculations are made based upon the received signals. This is performed as part of a process shown FIG. 9. After the noise has been removed, the frequency of the signals from each pick-off is determined in step'405.. In step 405, a phase difference between the signal from a-first pick-off and the signal from a second .pick-off are determined. The amplitude of each signal is then determined in step 407. Process 400 is then either repeated as long as the flowmeter is in operation or process 400 ends. A Process for Decimating Sample Rates of Signals from FIck-offs-FlG. 5<br>
FIG. 5 illustrates a process for decimating the rate of samples received from pick-offs. The same process is used for the decimation performed in each of steps   . 401T 404, and in the process for determining frequency of the signal. In each of these<br>
«	*<br>
steps, process 500 j$ performed for signals from each pick-off separately. The difference between the decimation performed in each step is the length of the input data vectors as described below.<br>
A 'decimation as described in process 500 is implemented using a block processing method with the size of the input vector being equal to the decimation ratio.<br>
*<br>
The decimation ratio is the amount that the sample frequency is being reduced by the<br>
decimation. Using this block processing method is an operational advantage since the<br>
process must only be repeated at an output data rate ratherihan at an input data rate.<br>
The principle behind recursion block filtering is that a state variable representation of<br>
the signals is;	...<br><br>
A^C.D = matrices representing the state of the system; \ = an N+1 state vector at time k; uk= an input; and<br>
yk s an output of representing a decimated signal. From induction, it is clear that:<br><br><br>
When decimating a signal by a factor of M, only every M-th sample is going to be kept Therefore, all but the last output row of the above matrix can be eliminated to the<br>
Where:<br>
NC = number of accumulate/multiply operations;<br>
N= order of the matrix A;, and<br>
M= the block size which is equal to the decimation rate of the process.<br><br>
FDUt ■= represents the filter output rate. The memory needed to perform a decimation is as follows:<br>
memory to store each filter coefficient which may be read-only (ROM);<br>
memory to store the filter state vector x1 which must be read-write (RAM); and<br>
an input block buffer memory (read-write). FIG.5 illustrates the process of decimation using the above block processing method. Process 500 begins in step 501 by receiving m samples into a bufferto create an input<br><br>
block. The input block is then multiplied by the state vector in step 502. The results<br>
outputting every mth sample are then output in step 503 for use in other calculations.<br>
Process 500 ends after step 503.<br>
A Process For Estimating The Frequency Of The Received Signals FIG. 6.<br>
Process 600 is a process for estimating the frequency of the received signals<br>
in order to demodulate the signals in a subsequent process step. Process 600 must<br>
be completed in step 403 before the signals can be demodulated. The subsequent<br>
demodulation is described below and shown in FIG. 7.<br>
The process 600 for estimating the frequency of the signals is shown in FIG. 6, This process 600 is performed on either one of the received signals. Process 600 begins in step 601 by demultiplexing the sampled digital.signal into an In-phase (I) and a quadrature (Q) component. A digital integration is then performed on the I component and the Q component of the signal in step 602. In step 603, a signal compensation is calculated on the integrated signal. The signal components are then multiplexed to generate a digitally integrated signal in step 604. The ratio between the original signal and the digitally integrated signal is then calculated in step 605. The ratio provides an estimate of the signal frequency which may be used to demodulate the signals in process 700.<br>
Process 600 uses fixed coefficient fitters to estimate the frequency. Therefore no recursive algorithm is needed. Since recursion is not used, process 600 always converges. Furthermore, process 600 rapidly tracks changes in the frequency. The estimated frequency at the end of process 600 is given by the following equation:<br>
Fest = {west 2II) x(Fs/12)<br>
where:<br>
Fest = estimatedfrequency; G)est= normalizedpulsation\and Fs = frequency of samples.<br>
A Process for a High-Low Frequency Selector- FIG,8<br>
Process 800 illustrated in FIG. 8 is an optional process that may be performed between the frequency estimate and demodulation of the signal. The high low<br><br>
frequency selector is needed to determine the frequency of interest Process 1000 (SEE FIG. 9) which accurately measures the signal frequency exhibits an estimate ' bias and slower convergence in the normalized frequency range:<br><br>
Fe=: normalized frequency of signal. From this equation, it is apparent that the process for determining frequency is not accurate when the sample rate is 4 kHz and the frequencies of the signal measured is as low as 20 Hz. Process 800 remedies this situation to allow process 10D0 to be used over a large band of frequencies. This is done by determining whether the process will operate .in a high or a low frequency mode in the following .manner. Process 800 begins in step 801 by determining whether the estimated.frequency is less than or equal to a reference frequency. In a prefsrred embodiment, the reference frequency is chosen to 250 Hz. 250 Hz is chosen as it is a frequency between the normal operating frequencies of conventional flow tubes and straight flow tubes.<br>
' If the actual estimated frequency is Jess than the reference frequency, an estimated frequency of zero is returned in step 803. If the actual estimated frequency Is greater than the reference frequency/the estimated frequency is calculated to be the actual estimated frequency minus 120 Hz in step 802. A Process for Demodulating The Received Signals -FIG. 7<br>
FIG. 7 illustrates a process 700 for demodulating thB received digital signals. This process uses the estimated frequency that was either calculated in process 600 (FIG. 6) or in process 800 (FIG.8).' Process 700 begins in step 701 by calculating a normalized pulsation, which is expressed in the following equation:<br><br>
rod     - the normalized pulsation;<br>
Fc      = the estimated frequency;and<br>
I\    . = the frequency of the samples.<br>
The real valued 'twiddle' factor is calculated In step 702 according to the following<br>
equation;<br><br><br>
The dot product of the 'twiddle factor' and actual received signal is calculated In step 703 by the following equation:<br><br>
It should be noted that if process 800 yields to the low frequency mode low mod© where the estimated frequency is equal to zero,yp(k) = Xα(k).   Otherwise the<br><br>
However, this can be remedied by a dual decimation as described below. The first component corresponding to the - sign in the above equation is the signal of Interest ' The second signal corresponding to the+sign in the equation will be filtered out in the ' next decimation process in step 905 of process 900 {SEE FIG. 9). Process For Generating data from the received signals- FIG. α   ■<br>
FIG. 9 illustrates a process 900 for generating data about the signals received from the sensors. Process 900 begins jn step 901 by calculating an adaptation of a notch filter parameter which Is calculated in the following manner. It is known that a notch filter parameter is a single adaptive parameter represented by;<br><br>
where 'α
 <br><br>
In step 902, a, is calculated for each signal, a, is calculated using one of many conventional algorithms such as RLS, RML, or SGN. This minimizes the signal energy.-<br>
In step 902, the signal frequency of each signal Is determined,. In order to determine the frequency of the signal, .a normalized frequency with respect to the decimated signal is determined-using the following equation:<br>
Fo = (l / 2II) arccos(- α1 / 2);<br>
Where:<br>
F0= normalized frequency with respect to decimated signal; and<br>
a( is current adapted value of the notch filter parameter. The frequency of the signals can then be determined in step 902 by multiplying the normalized frequency by the decimation frequency (F1 = FOX FI).   In step 903,<br>
i<br>
quadrature demodulation Is performed on the signals.' Quadrature demodulation is performed by choosing the demodulation signa! as shown below where the signals dominant frequency is shifted to zero, In process 9037 the dot product of a demodulation signal and the received signals is calculated. The modulation signal is<br><br>
F0= the frequency of the normalized signal computed above in step 902. As noted above the received signals can be shown as:<br>
xp(k) = Acos(cock+ (θ-p); where β  = each signal from a pick-off sensor 1O5-1051.  .<br><br><br>
.In order to further increase the signal resolution, a decimation is performed in step 304. In a preferred embodiment, this decimation Is a x40 decimation that is performed on both the I and Q components of the received signals. This decimation reduces the<br><br>
After the decimation is performed, a phase difference of the signals is performed in step 905. In an exemplary embodiment, the phase difference is calculated in the following manner- First one, from either the left or right pick-off sensor, of the received<br>
Then, the.slgna] is multiplied with the second signal to perform a complex correlation belween the pick-off signals in step 905 and shown in the following equation:<br><br>
■ Therefore, the phase difference is then determined in step 90S and given by the<br>
The phase difference can then be used to calculate mass flow rate and other properties of the materia! flowing through the material.<br>
The above (s a description of a digital transmitter 20 for a Coriolis flowmeter 5 and the processes for determining data'about signals received by the transmitter 20. It is expected that others will design alternative digital signal processors and processes that infringe on this invention as set forth in the claims below either literally or through the Doctrine of Equivalents. .<br><br><br><br><br>
We claim:<br>
1.	A method (400) for processing signals received from a first pick-off sensor (105)<br>
and a second pick-off sensor (105') measuring vibrations of a conduit (103A-103B) using<br>
a digital signal processor (201) to output information about a material flowing through<br>
said conduit (103A-103B), said method (400) comprising the steps of:<br>
receiving (302) samples of said signals from said first pick-off sensor said second pick-<br>
offsensor (105') at a first sample rate;<br>
performing a first decimation of (401) said samples from said first sample rate to an<br>
intermediate sample rate;<br>
the method characterized by the steps of:<br>
demodulating (403) said samples at said intermediate sample rate;<br>
performing (404) a second decimation of said samples to a desired sample rate; and<br>
determining (405) a frequency of vibration for said conduit at said first pick-off sensor<br>
(105) and at said second pick-off sensor (105') from said samples of said signals at said<br>
desired sample rate.<br>
2.	The method (400) of claim 1 comprising the step of: calculating (600) a normalized frequency of said signals.<br>
3.	The method of claim 2 wherein said step of demodulating comprises the steps of: calculating a normalized pulsation of said normalized frequency of said signals; and calculating dot products of said normalized pulsation and said signals from said first<br><br>
pick-off sensor and said second pick-off sensor to translate said signals to a center frequency.<br>
4.	The method of claim 2 wherein said step of calculating said normalized frequency comprises the steps of: demultiplexing said signals into in-phase components and quadrature components; integrating (602) said in-phase components; integrating (602) said quadrature components; mutliplexplexing (604) said in-phase components and said quadrature components to produce digitally integrated signals; and calculating (605) a ratio between an amplitude of said signals and an amplitude of said digitally integrated signals to produce said normalized frequency of said signals.<br>
5.	The method (400) of claim 4 wherein said step of calculating said normalized frequency comprises the step of:<br>
applying (603) said integrated quadrature components to a compensator responsive to said step (602) of integrating and prior to said step of multiplexing (604).<br>
6.	The method of claim 4 wherein said step of calculating said normalized frequency<br>
comprises the step of:<br>
applying (603) said integrated in-phase components to a compensator responsive to said step of integrating (602) and prior to said step of multiplexing (604).<br>
7.	The method (400) of claim 1 wherein said step of determining said frequency of<br>
vibration of said conduit comprises the steps of:  determining (901) a normalized<br><br>
frequency of said signals; modulating (902) said normalized frequency of said signals; and performing (903) a complex demodulation of said signals using said modulated normalized frequency to determine said frequency of vibration of said conduit.<br>
8.	The method of claim 7 wherein said step of determining said frequency of<br>
vibration of said conduit comprises the steps of:<br>
decimating (904) said demodulated signals; and<br>
performing (905) a complex correlation of said signals to determine a phase difference<br>
between said signals.<br>
9.	The method of claim 1 comprising: determining (910) a phase difference between said signals from said first pick-off sensor and said signals from said second pick-off sensor.<br>
10.	The method of claim 1 comprising the steps of:<br>
determining properties of said material flowing through said conduit responsive to determining said frequency of said signals from said first pick-off sensor and said signals from said second pick-off sensor.<br>
11.	The method of claim 10 wherein one of said properties is mass flow rate of said material flowing through said conduit.<br>
12.	The method of claim 10 wherein one of said properties is density.<br>
13.	An apparatus (20) configured to communicate with pick-off sensors (105- 105') affixed to a conduit (103A-103B) that is vibrated by a driver (104) and measure properties of a material flowing through said conduit (103A-103B) from signals received<br><br>
from said pick-off sensors (105-105') wherein said signals indicate motion of said conduit from at least two points, said apparatus (20) comprising: an analog to digital converter (203) that converts samples of said signals to digital samples of said signals; and a processor (201) configured to: perform (401) a first decimation of said digital samples from a first sample rate to an intermediate sample rate; said apparatus characterized by said processor being configured to: demodulate (403) said digital samples at said intermediate sample rate; perform (404) a second decimation of said digital samples to a desired sample rate; and determine (405) a frequency of vibration for said conduit (103A-103B) at said first pick-off sensor (105) and at said second pick-off sensor (105') from said digital samples of said signals at said desired sample rate.<br>
14.	The apparatus (20) of claim 13 wherein said processor (201) is configured to demodulate said digital samples by calculating (701) a normalized frequency of said signals.<br>
15.	The apparatus (20) of claim 14 wherein said processor (201) is configured to demodulate by calculating (701) a normalized pulsation of said normalized frequency of said signals, and calculating (703) dot products of said normalized pulsation and said signals from said first pick-off sensor (105) and from<br>
said second pick-off sensor (105') to translate said signals to a center frequency.<br>
16.	The apparatus (20) of claim 14 wherein said processor (201) is configured to<br>
calculate said normalized frequency by demultiplexing (601) said signals into an<br>
in~phase component and a quadrature component, integrating (602) said in- phase<br>
component, integrating (602) said quadrature component, mutliplexplexing (604) said in-<br><br>
phase component and said quadrature component to product digitally integrated signals, and calculating a ratio between an amplitude of said signals and said digitally integrate signals to produce said nomlalized frequency of said signals.<br>
17.	The apparatus (20) of claim 16 wherein said processor (201) is configured to calculate said normalized frequency by applying (603) said integrated quadrature component to a compensator responsive to integrating (602) said quadrature component and prior to multiplexing (604) said quadrature component.<br>
18.	The apparatus (20) of claim 16 wherein said processor (201) is configured to calculate said normalized frequency by applying (603) said integrated in-phase component to a compensator responsive to integrating (602) said in-phase component and prior to multiplexing (604) said in-phase component.<br>
19.	The apparatus (20) of claim 13 wherein said processor (201) is configured to determine said frequency of vibration of said conduit by: determining (901) a normalized frequency of said signals; modulating (902) said normalized frequency of said signals; and performing (903) a complex demodulation of said signals using said modulated normalized frequency to determine said frequency of vibration of said conduit.<br>
20.	The apparatus of claim 19 wherein said processor is configured to determine said frequency of vibration of said conduit by: decimating (904) said demodulated signals; and performing (905) a complex correlation of said signals to determine a phase difference between said signals.<br><br><br><br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMDYyLWNoZS1hYnN0cmFjdC5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2002-062-che-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMDYyLWNoZS1jbGFpbXMgZHVwbGljYXRlLnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2002-062-che-claims duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMDYyLWNoZS1jbGFpbXMgb3JpZ2luYWwucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2002-062-che-claims original.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMDYyLWNoZS1jb3JyZXNwb25kZW5jZSBvdGhlcnMucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2002-062-che-correspondence others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMDYyLWNoZS1jb3JyZXNwb25kZW5jZSBwby5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2002-062-che-correspondence po.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMDYyLWNoZS1kZXNjcmlwdGlvbiBjb21wbGV0ZSBkdXBsaWNhdGUucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2002-062-che-description complete duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMDYyLWNoZS1kZXNjcmlwdGlvbiBjb21wbGV0ZSBvcmlnaW5hbC5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2002-062-che-description complete original.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMDYyLWNoZS1kcmF3aW5ncy5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2002-062-che-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMDYyLWNoZS1mb3JtIDEucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2002-062-che-form 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMDYyLWNoZS1mb3JtIDI2LnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2002-062-che-form 26.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMDYyLWNoZS1mb3JtIDMucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2002-062-che-form 3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMDYyLWNoZS1mb3JtIDUucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2002-062-che-form 5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMDYyLWNoZS1vdGhlciBkb2N1bWVudHMucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2002-062-che-other documents.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMDYyLWNoZS1wY3QucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2002-062-che-pct.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="208069-a-device-for-manufacturing-hydrogen-peroxide-and-a-method-for-the-same.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="208071-drawn-polyester-yarn.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>208070</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>IN/PCT/2002/62/CHE</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>31/2007</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>03-Aug-2007</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>09-Jul-2007</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>10-Jan-2002</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>M/S. MICRO MOTION,INC</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>7070 WINCHESTER CIRCLE, BOULDER, COLORADO 80301.</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>HENROT DENIS</td>
											<td>524 WEST CEDAR PLACE, LOUISVILLE, CO 80027.</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>G 01 F 1/84</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/US00/16061</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2000-06-12</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>09/344,840</td>
									<td>1999-06-28</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/208070-method-for-processing-signals-received-from-a-first-pick-off-sensor-and-second-pick-off-sensor by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2024 23:26:43 GMT -->
</html>
