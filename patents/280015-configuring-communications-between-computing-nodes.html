<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/280015-configuring-communications-between-computing-nodes by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2024 22:34:20 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 280015:CONFIGURING COMMUNICATIONS BETWEEN COMPUTING NODES</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">CONFIGURING COMMUNICATIONS BETWEEN COMPUTING NODES</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>Techniques are described for configuring communications between multiple computing nodes, such as computing nodes that are separated by one or more physical networks. In some situations, the techniques may be used to provide a virtual network between multiple computing nodes that are separated by one or more intermediate physical networks, such as from the edge of the one or more intermediate physical networks by modifying communications that enter and/or leave the intermediate physical networks.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>CONFIGURING COMMUNICATIONS BETWEEN COMPUTING NODES<br>
Background<br>
[0001] Many companies and other organizations operate computer networks<br>
that interconnect numerous computing systems to support their operations, with the<br>
computing systems alternatively co-located (e.g., as part of a private local network)<br>
or instead located in multiple distinct geographical locations (e.g., connected via one<br>
or more private or shared intermediate networks). For example, data centers<br>
housing significant numbers of interconnected computing systems have become<br>
commonplace, such as private data centers that are operated by and on behalf of a<br>
single organization, as well as public data centers that are operated by entities as<br>
businesses. Some public data center operators provide network access, power, and<br>
secure installation facilities for hardware owned by various customers, while other<br>
public data center operators provide "full service" facilities that also include hardware<br>
resources made available for use by their customers. However, as the scale and<br>
scope of typical data centers and computer networks has increased, the task of<br>
provisioning, administering, and managing the associated physical computing<br>
resources has become increasingly complicated.<br>
[0002] The advent of virtualization technologies for commodity hardware has<br>
provided some benefits with respect to managing large-scale computing resources<br>
for many customers with diverse needs, allowing various computing resources to be<br>
efficiently and securely shared between multiple customers. For example,<br>
virtualization technologies such as those provided by VMWare, XEN, or User-Mode<br>
Linux may allow a single physical computing machine to be shared among multiple<br>
users by providing each user with one or more virtual machines hosted by the single<br>
physical computing machine, with each such virtual machine being a software<br>
simulation acting as a distinct logical computing system that provides users with the<br>
illusion that they are the sole operators and administrators of a given hardware<br>
computing resource, while also providing application isolation and security among<br>
the various virtual machines. Furthermore, some virtualization technologies are<br>
capable of providing virtual resources that span one or more physical resources,<br>
such as a single virtual machine with multiple virtual processors that actually spans<br>
multiple distinct physical computing systems.<br>
[0003] While the availability of data centers and virtualization technologies<br>
has provided various benefits, various problems still exist, including problems related<br>
to managing communications between virtual machines and/or physical computing<br>
systems.<br>
Brief Description Of The Drawings<br>
[0004] Figure 1 is a network diagram illustrating an example embodiment of<br>
configuring communications between computing nodes belonging to a virtual<br>
network.<br>
[0005] Figures 2A and 2B illustrate examples of managing communications<br>
between computing nodes that occur via an overlay network.<br>
[0006] Figure 2C illustrates an example of configuring underlying substrate<br>
network addresses so as to enable embedding of virtual network addresses for an<br>
overlay network.<br>
[0007] Figure 3 is a block diagram illustrating example computing systems<br>
suitable for executing an embodiment of a system for managing communications<br>
between computing nodes.<br>
[0008] Figure 4 illustrates a flow diagram of an example embodiment of a<br>
System Manager routine.<br>
[0009] Figure 5 illustrates a flow diagram of an example embodiment of a<br>
Communication Manager routine.<br>
Detailed Description<br>
[0010] Techniques are described for managing communications between<br>
multiple computing nodes, such as computing nodes that are separated by one or<br>
more physical networks. In some embodiments, the techniques may be used to<br>
provide a virtual network between multiple computing nodes that are separated by<br>
one or more intermediate physical networks, such as multiple computing nodes<br>
operated by or on behalf of a single entity. Such a virtual network may be provided<br>
in various ways in various embodiments, such as from the edge of the one or more<br>
intermediate physical networks by modifying communications that enter and/or leave<br>
the intermediate physical networks so as to provide an overlay network, as<br>
discussed in greater detail below. In at least some embodiments, some or all of the<br>
described techniques are automatically performed by embodiments of a<br>
Communication Manager module.<br>
[0011] A virtual local network or other virtual network between multiple remote<br>
computing nodes may be provided in at least some embodiments by creating an<br>
overlay network over one or more intermediate physical networks separating the<br>
multiple computing nodes. The overlay network may be implemented in various<br>
ways in various embodiments, such as without encapsulating communications by<br>
embedding virtual network address information for a virtual network in a larger<br>
physical network address space used for a networking protocol of the one or more<br>
intermediate physical networks. As one illustrative example, a virtual network may<br>
be implemented using 32-bit IPv4 ("Internet Protocol version 4") network addresses,<br>
and those 32-bit virtual network addresses may be embedded as part of 128-bit IPv6<br>
("Internet Protocol version 6") network addresses used by the one or more<br>
intermediate physical networks, such as by re-headering communication packets or<br>
other data transmissions (e.g., using Stateless IP/ICMP Translation, orSIIT), or<br>
otherwise modifying such data transmissions to translate them from a first<br>
networking protocol for which they are configured to a distinct second networking<br>
protocol. More generally, in some embodiments, an N-bit network address specified<br>
in accordance with a first network addressing protocol may be embedded as part of<br>
another M-bit network address specified in accordance with a second network<br>
addressing protocol, with "N" and "M" being any integers that correspond to network<br>
addressing protocols. In addition, in at least some embodiments, an N-bit network<br>
address may be embedded in another network address using more or less than N<br>
bits of the other network address, such as if a group of N-bit network addresses of<br>
interest may be represented using a smaller number of bits (e.g., with L-bit labels or<br>
identifiers being mapped to particular N-bit network addresses and embedded in the<br>
other network addresses, where "L" is less than "N"). Additional details related to<br>
SIIT are available at "Request For Comments 2765 - Stateless IP/ICMP Translation<br>
Algorithm", February 2000, at tools<dot>ietf<dot>org<slash>html<siash>rfc2765<br>
(where <dot> and <slash> are replaced by the corresponding characters with those<br>
names), which is hereby incorporated by reference in its entirety. Various benefits<br>
may be obtained from embedding virtual network address information in physical<br>
network addresses for an underlying physical substrate network, including enabling<br>
an overlay of the virtual network on the physical substrate network without<br>
encapsulating communications or configuring networking devices of the physical<br>
substrate network, as discussed in greater detail below. Furthermore, other<br>
information may similarly be embedded in the larger physical network address space<br>
for a communication between computing nodes in at least some embodiments and<br>
situations, such as an identifier specific to a particular virtual network that includes<br>
those computing nodes (e.g., a virtual network for an entity on whose behalf those<br>
computing nodes operate). Additional details related to provision of such virtual<br>
networks via use of overlay networks are included below.<br>
[0012] In addition, in at feast some embodiments, the computing nodes<br>
between which communications are configured may be physical computing systems<br>
and/or may be virtual machines that are each hosted on one or more physical<br>
computing systems, and the communications may include transmissions of data<br>
(e.g., messages, packets, frames, streams, etc.) in various formats. Furthermore, in<br>
at least some embodiments, at least some of the computing nodes may be part of a<br>
program execution service (or "PES") that executes multiple programs on behalf of<br>
multiple customers or other users of the service, such as a program execution<br>
service that uses multiple computing systems on multiple physical networks (e.g.,<br>
multiple physical computing systems and networks within a data center). In at least<br>
some such embodiments, one or more system manager modules for the program<br>
execution service may track and/or manage which computing nodes belong to which<br>
virtual networks, such as based on the computing nodes executing programs on<br>
behalf of a customer or other entity, as discussed in greater detail below.<br>
[0013] Use of the described techniques may provide various benefits in<br>
various situations, such as limiting communications to and/or from computing nodes<br>
of a particular virtual network to other computing nodes that belong to that virtual<br>
network. In this manner, computing nodes that belong to multiple virtual networks<br>
may share parts of one or more intermediate physical networks, while still<br>
maintaining network isolation for computing nodes of a particular virtual network. In<br>
addition, use of the described techniques allows computing nodes of a virtual<br>
network to be physically moved or otherwise positioned as desired, with the overlay<br>
network managing routing of communications for a particular virtual network address<br>
to a corresponding actual physical network address (e.g., by updating mappings that<br>
associate particular virtual network addresses of particular virtual networks to<br>
particular physical locations of computing nodes to which those virtual network<br>
addresses are assigned). For example, computing nodes of a virtual network may<br>
be physically moved between various physical networks white minimizing or<br>
eliminating any possible conflicts between hardware addresses of the computing<br>
nodes, such as based on management of dummy hardware addresses assigned to<br>
computing nodes by associated Communication Manager modules, as described in<br>
greater detail elsewhere. In addition to easily moving computing nodes associated<br>
with a virtual network, the use of the described techniques also allows computing<br>
nodes to easily be added to and/or removed from a virtual network, such as to allow<br>
an entity to dynamically modify the size of a virtual network (e.g., to dynamically<br>
modify the quantity of computing nodes to reflect an amount of current need for<br>
more or less computing resources).<br>
[0014] In some cases, such virtual networks may be established and/or<br>
maintained via the operation of one or more Communication Manager modules at<br>
the edge of one or more intermediate physical networks, such as by configuring and<br>
otherwise managing communications for the virtual networks. In particular, groups<br>
of one or more computing nodes may each have an associated Communication<br>
Manager module that manages communications to and from those computing<br>
nodes. For example, if a physical computing system hosts multiple virtual machine<br>
computing nodes, a hypervisor or other virtual machine monitor manager on the<br>
physical computing system may provide a Communication Manager module for<br>
those virtual machine computing nodes. Similarly, one or more physical computing<br>
systems may have an associated Communication Manager module in at least some<br>
embodiments, such as provided by a proxy computing device through which<br>
communications to and from the physical computing systems travel, as provided by<br>
a networking device (e.g., a switch, router, hub, etc.) through which communications<br>
to and from the physical computing systems travel, etc.<br>
[0015] In some situations, a Communication Manager module tracks or<br>
otherwise determines the virtual networks to which the module's associated<br>
computing nodes belong (e.g., based on entities on whose behalf the virtual<br>
networks operate), and then manipulates communications to and/or from each<br>
associated computing node so as to reflect its associated virtual network. The<br>
determination by a Communication Manager module of a corresponding virtual<br>
network for a computing node may be performed in various ways in various<br>
embodiments, such as by interacting with a system manager module that provides<br>
that information, by tracking software programs executed on such computing nodes,<br>
by tracking entities associated with such computing nodes, etc. For example, when<br>
a particular computing node begins to execute one or more software programs on<br>
behalf of an entity who is a customer of a program execution service, and that<br>
customer also has other software programs executing on other computing nodes,<br>
the new computing node executing the customer's program(s) may be selected to be<br>
associated with a virtual network for the customer that includes those other<br>
computing nodes. Alternatively, a customer or other entity may specify a particular<br>
virtual network to which a computing node belongs, such as if the entity maintains<br>
multiple distinct virtual networks between different groups of computing nodes.<br>
[0016] As previously noted, in some embodiments, a program execution<br>
service executes third-party customers' programs using multiple physical computing<br>
systems (e.g., in one or more data centers) that each host multiple virtual machines,<br>
with each virtual machine being able to execute one or more programs for a<br>
customer. In such situations, the described techniques may be used by one or more<br>
Communication Manager modules executing as part of the program execution<br>
service to control communications to and from the programs of each customer. For<br>
example, by manipulating communications to and/or from each associated<br>
computing node so as to reflect its associated virtual network, a Communication<br>
Manager module may prevent computing nodes on other virtual networks from<br>
gaining access to those communications, as discussed in greater detail below. In<br>
some embodiments, customers may provide programs to be executed to the<br>
execution service, and may reserve execution time and other resources on physical<br>
or virtual hardware facilities provided by the execution service. In addition,<br>
customers and/or the program execution service may define virtual networks that will<br>
be used by the program execution service for computing nodes of the customer, so<br>
as to transparently provide computing nodes of a virtual network with the<br>
appearance of operating on a dedicated physical network.<br>
[0017] In at least some embodiments, one or more system manager modules<br>
may facilitate configuring communications between computing nodes, such as by<br>
tracking and/or managing which computing nodes belong to which virtual networks<br>
(e.g., based on executing programs on behalf of a customer or other entity), and by<br>
providing information about actual physical network addresses that correspond to<br>
virtual network addresses used for a particular virtual network (e.g., by a particular<br>
customer or other entity). For example, a system manager module for a PES may<br>
receive an indication of a virtual machine on a target physical computing system that<br>
is part of one of multiple physical networks of the PES. The system manager<br>
module may then determine a virtual network with which the virtual machine is to be<br>
associated. After determining the virtual network associated with the virtual<br>
machine, the system manager module may then initiate a configuration of a virtual<br>
machine Communication Manager module for the target physical computing system<br>
so as to associate the virtual machine with the virtual network, or the Communication<br>
Manager module may instead initiate that configuration (e.g., when the virtual<br>
machine first initiates or receives a communication).<br>
[0018] In addition, in at least some embodiments, various information about<br>
computing nodes and virtual networks may be used to determine whether<br>
communications between computing nodes are authorized, such as if only<br>
authorized communications are delivered or forwarded by Communication Manager<br>
modules (or if unauthorized communications are handled differently from authorized<br>
communications in one or more other manners). By not delivering unauthorized<br>
communications to computing nodes, network isolation and security of entities'<br>
virtual networks is enhanced.<br>
[0019] For example, if a first computing node on a first virtual network<br>
attempts to send an outgoing communication to a second computing node on a<br>
different second virtual network, and that second virtual network (or the second<br>
computing node) has not authorized incoming communications from the first virtual<br>
network (or from the first computing node), the first computing node may not be able<br>
to even send such a communication onto the one or more intermediate substrate<br>
networks between the first and second computing nodes, due to the Communication<br>
Manager module associated with that first computing node blocking such an<br>
outgoing communication (e.g., by receiving the outgoing communication from the<br>
first computing node but not forwarding the outgoing communication, by preventing<br>
the first computing node from obtaining information about one or more addresses for<br>
the second computing node that would be used in sending such a communication,<br>
etc.). in addition, if an unauthorized communication is sent over an intermediate<br>
substrate network to an intended destination computing node (e.g., based on a<br>
malicious user being able to gain control of a Communication Manager module, or to<br>
otherwise gain access to the substrate network), a Communication Manager module<br>
that manages communications for the destination computing node may identify and<br>
prevent the unauthorized communication from being forwarded to the destination<br>
node.<br>
[0020] In at least some embodiments, detection and/or prevention of<br>
unauthorized communications may be based at least in part on a topology of the one<br>
or more intermediate substrate networks on which a virtual network is overlaid. In<br>
particular, in at least some embodiments, each computing node that is part of a<br>
virtual network is managed by an associated Communication Manager module. As<br>
described in greater detail with respect to Figures 2A-2C and elsewhere, in at least<br>
some such embodiments, the physical network address used for such a computing<br>
node for communications over the substrate network includes an indication of the<br>
computing node's virtual network address, and includes a partial network address for<br>
the substrate network that corresponds to a location of the computing node's<br>
associated Communication Manager module (e.g., a sub-network or other portion of<br>
the substrate network for which the Communication Manager module manages<br>
communications). Thus, in order for a malicious user to correctly construct a valid<br>
physical network address for a computing node that is part of a virtual network, the<br>
malicious user would need to gain access to information about the virtual network to<br>
which the computing node belongs, to gain access to information about the topology<br>
of the computing node's physical network location in order to determine the partial<br>
network address for the associated Communication Manager module, and to<br>
determine how to use that information to construct the physical network address.<br>
The validity of constructed physical network addresses may be checked in various<br>
ways, such as by identifying a computing node to which a virtual address embedded<br>
in a constructed physical network address corresponds, and verifying that a location<br>
of that identified computing node corresponds to one of the computing nodes in the<br>
portion of the network that corresponds to the partial network address (e.g., one of<br>
the computing nodes managed by a Communication Manager module to which the<br>
partial network address corresponds). In addition, the validity of constructed<br>
physical network addresses may be checked at various times, such as by a<br>
Communication Manager module that receives an incoming communication<br>
intended for a destination computing node (e.g., to verify that the source physical<br>
network address is valid), by a system manager module that receives a message<br>
purportedly from a Communication Manager module on behalf of an indicated<br>
managed computing node (e.g., a message to request a physical network address<br>
for an intended destination computing node of interest), etc.<br>
[0021] In addition, in at least some embodiments, detection and/or prevention<br>
of unauthorized communications may be based at least in part on virtual networks to<br>
which computing nodes belong. In particular, in some embodiments, some or all<br>
computing nodes managed by a Communication Manager module are each<br>
assigned to one or more virtual networks, such as to correspond to users or other<br>
entities on whose behalf the computing nodes are operating (e.g., based on one or<br>
more programs being executed on the computing nodes). In such embodiments,<br>
some or all virtual networks may have associated rules regarding what<br>
communications are allowed between computing nodes on the virtual network and/or<br>
between computing nodes from other virtual networks. If so, such predefined rules<br>
may be used by Communication Manager modules who receive incoming<br>
communications for and/or outgoing communications from associated computing<br>
nodes in order to determine whether to forward such communications on or<br>
otherwise allow such communications, such as based on information about the<br>
virtual network(s) and/or entity(ies) to which a sending computing node and a<br>
destination computing node are associated. A Communication Manager module<br>
may track and store such information about associated virtual networks and/or<br>
entities for associated computing nodes and/or such information about predefined<br>
rules for virtual networks, or instead in some embodiments may interact with one or<br>
more system manager modules in order to obtain some or all such information.<br>
Additional details related to determining whether communications between<br>
computing nodes are authorized, and actions corresponding to such determinations,<br>
are included below.<br>
{0022] For illustrative purposes, some embodiments are described below in<br>
which specific types of computing nodes, networks, communications, and<br>
configuration operations are performed. These examples are provided for illustrative<br>
purposes and are simplified for the sake of brevity, and the inventive techniques can<br>
be used in a wide variety of other situations, some of which are discussed below.<br>
[0023] Figure 1 is a network diagram illustrating an example embodiment of<br>
configuring communications between computing nodes belonging to a virtual<br>
network, so that the communications are overlaid on one or more intermediate<br>
physical networks in a manner transparent to the computing nodes. In this example,<br>
the computing nodes are part of a program execution service, and the configuring of<br>
communications is facilitated by a system manager module of the program<br>
execution service and multiple Communication Manager modules of the program<br>
execution service. In other embodiments, the techniques may be used in situations<br>
other than with a program execution service, such as with any other use of virtual<br>
networks on behalf of one or more entities (e.g., to support multiple virtual networks<br>
for different parts of a business or other organization on a private network of the<br>
organization).<br>
[0024] The illustrated example includes a data center 100 with multiple<br>
physical computing systems operated by the program execution service. The data<br>
center 100 is connected to a global internet 135 external to the data center 100,<br>
which provides access to one or more computing systems 145a via private network<br>
140, to one or more other globally accessible data centers 160 that each have<br>
multiple computing systems, and to one or more other computing systems 145b.<br>
The global internet 135 may be, for example, a publicly accessible network of<br>
networks, possibly operated by various distinct parties, such as the Internet, and the<br>
private network 140 may be, for example, a corporate network that is wholly or<br>
partially inaccessible from computing systems external to the private network 140.<br>
Computing system 145b may be, for example, a home computing system that<br>
connects directly to the Internet {e.g., via a telephone line, cable modem, a Digital<br>
Subscriber Line ("DSL"), etc.)<br>
[0025] The data center 100 includes a number of physical computing systems<br>
105a-105d and 155a-155n, as well as a Communication Manager module 150 that<br>
executes on one or more other computing systems (not shown) to manage<br>
communications for the associated computing systems 155a-155n, and a system<br>
manager module 110 of the program execution service that executes on one or<br>
more computing systems (not shown). In this example, each physical computing<br>
system 105a-105d hosts multiple virtual machine computing nodes and includes a<br>
virtual machine ("VM") Communication Manager module (e.g., as part of a virtual<br>
machine hypervisor monitor for the physical computing system), such as VM<br>
Communication Manager module 109a and virtual machines 107a on computing<br>
system 105a, and such as VM Communication Manager module 109d and virtual<br>
machines 107d on computing system 105d. Physical computing systems 155a-155n<br>
do not execute any virtual machines in this example, and thus may each act as a<br>
computing node that directly executes one or more software programs on behalf of a<br>
customer of the program execution service. In other embodiments, all or none of the<br>
physical computing systems at the data center may host virtual machines.<br>
[0026] This example data center further includes multiple networking devices,<br>
such as switches 115a-115b, edge routers 125a-125c, and core routers 130a-130c.<br>
Switch 115a is part of a physical network that includes physical computing systems<br>
105a-105c, and is connected to edge router 125a. Switch 115b is part of a distinct<br>
physical network that includes physical computing systems 105d, 155a-155n, and<br>
the computing systems providing the Communication Manager module 150 and the<br>
system manager module 110, and is connected to edge router 125b. The physical<br>
networks established by switches 115a-115b, in turn, are connected to each other<br>
and other networks (e.g., the global internet 135) via an intermediate interconnection<br>
network 120, which includes the edge routers 125a-125c and the core routers 130a-<br>
130c. The edge routers 125a-125c provide gateways between two or more<br>
networks. For example, edge router 125a provides a gateway between the physical<br>
network established by switch 115a and the interconnection network 120. Edge<br>
router 125c provides a gateway between the interconnection network 120 and global<br>
internet 135. The core routers 130a-130c manage communications within the<br>
interconnection network 120, such as by forwarding packets or other data<br>
transmissions as appropriate based on characteristics of such data transmissions<br>
(e.g., header information including source and/or destination addresses, protocol<br>
identifiers, etc.) and/or the characteristics of the interconnection network 120 itself<br>
(e.g., routes based on network topology, etc.).<br>
[0027] The illustrated Communication Manager modules may perform at least<br>
some of the described techniques in order to configure, authorize and otherwise<br>
manage communications sent to and from associated computing nodes. For<br>
example, Communication Manager module 109a manages associated virtual<br>
machine computing nodes 107a, Communication Manager module 109d manages<br>
associated virtual machine computing nodes 107d, and each of the other<br>
Communication Manager modules may similarly manage communications for a<br>
group of one or more other associated computing nodes. The illustrated<br>
Communication Manager modules may configure communications between<br>
computing nodes so as to overlay a particular virtual network over one or more<br>
intermediate physical networks, such as the interconnection network 120, and<br>
optionally the global internet 135 and private network 140 if another Communication<br>
Manager module (not shown) manages communications for computing system 145a.<br>
Thus, for example, if an organization operating private network 140 desires to<br>
virtually extend its private network to one or more of the computing nodes of the data<br>
center, it may do by implementing one or more Communication Manager modules as<br>
part of the private network 140 (e.g., as part of the interface between the private<br>
network 140 and the global internet 135) - in this manner computing systems within<br>
the private network (e.g., computing system(s) 145a) may communicate with those<br>
data center computing nodes as if those data center computing nodes were part of<br>
the private network. In addition, the illustrated Communication Manager modules<br>
may authorize communications between computing nodes so as to enhance network<br>
isolation and security.<br>
[0028] Thus, as one illustrative example, one of the virtual machine computing<br>
nodes 107a on computing system 105a may be part of the same virtual local<br>
network as one of the virtual machine computing nodes 107d on computing system<br>
105d, with IPv4 being used to represent the virtual network addresses for the virtual<br>
local network. That virtual machine 107a may then direct an outgoing<br>
communication (not shown) to the destination virtual machine computing node 107d,<br>
such as by specifying a virtual network address for that destination virtual machine<br>
computing node. The Communication Manager module 109a receives the outgoing<br>
communication, and in at least some embodiments determines whether to authorize<br>
the sending of the outgoing communication, such as based on previously obtained<br>
information about the sending virtual machine computing node 107a and/or about<br>
the destination virtual machine computing node 107d (e.g., information about virtual<br>
networks and/or entities with which the computing nodes are associated), and/or by<br>
dynamically interacting with the system manager module 110 (e.g., to obtain an<br>
authorization determination, to obtain some or all such information, etc.). If the<br>
Communication Manager module 109a determines that the outgoing communication<br>
is authorized (or does not perform such an authorization determination), the module<br>
109a determines the actual physical network location corresponding to the<br>
destination virtual network address for the communication (e.g., based on interacting<br>
with the system manager module 110) - in this example, the interconnection<br>
network uses IPv6 to represent the actual network addresses for computing nodes<br>
connected via the interconnection network. The Communication Manager module<br>
109a then re-headers the outgoing communication so that it is directed to<br>
Communication Manager module 109d using an actual IPv6 network address, such<br>
as if Communication Manager module 109d is associated with a sub-network that<br>
includes a range of multiple IPv6 network addresses. For example, the<br>
Communication Manager module 109a may determine the actual IPv6 destination<br>
network address to use for the virtual network address of the destination virtual<br>
machine 107d by dynamically interacting with the system manager module 110, or<br>
may have previously determined and stored that information (e.g., in response to a<br>
request from the sending virtual machine 107a for information about that destination<br>
virtual network address, such as a request using Address Resolution Protocol, or<br>
ARP). In this example, the actual IPv6 destination network address that is used<br>
includes the virtual destination network address and additional information, as<br>
described in greater detail with respect to the examples of Figures 2A-2C.<br>
[0029] When Communication Manager module 109d receives the<br>
communication via the interconnection network 120, it extracts the virtual destination<br>
network address and additional information from the actual IPv6 destination network<br>
address, and determines to which of the virtual machine computing nodes 107d that<br>
the communication is directed. The Communication Manager module 109d next<br>
determines whether the communication is authorized for the destination virtual<br>
machine computing node 107d, such as by extracting the virtual source network<br>
address and additional information from the actual IPv6 source network address,<br>
and confirming that the computing node with that virtual source network address is<br>
actually managed by the Communication Manager module that forwarded the<br>
communication (in this example, Communication Manager module 109a), as<br>
discussed in greater detail below. If the communication is determined to be<br>
authorized (or the Communication Manager module does not perform such an<br>
authorization determination), the Communication Manager module 109d then re-<br>
headers the incoming communication so that it is directed to the destination virtual<br>
machine computing node 107d using an appropriate IPv4 network address for the<br>
virtual network, such as by using the sending virtual machine computing node's<br>
virtual network address as the source network address and by using the destination<br>
virtual machine computing node's virtual network address as the destination network<br>
address. After re-headering the incoming communication, the Communication<br>
Manager module 109d then forwards the modified communication to the destination<br>
virtual machine computing node. In at least some embodiments, before forwarding<br>
the incoming communication to the destination virtual machine, the Communication<br>
Manager module 109d may also perform additional steps related to security. For<br>
example, the Communication Manager module 109d may verify that the sending<br>
virtual machine computing node is authorized to communicate with the destination<br>
virtual machine {e.g., based on belonging to the same virtual network, being<br>
associated with the same customer or other entity, being associated with different<br>
entities whose computing nodes are authorized to inter-communicate, etc.) and/or<br>
that the incoming communication is of an allowed type, such as based on<br>
information previously obtained by the Communication Manager module 109d or<br>
based on interacting with the system manager module 110.<br>
[0030] Figures 2A and 2B illustrate further examples with additional illustrative<br>
details related to managing communications between computing nodes that occur<br>
via an overlay network over one or more physical networks, such as may be used by<br>
the computing nodes and networks of Figure 1 or in other situations. In particular,<br>
Figure 2A illustrates various example computing nodes 205 and 255 that may<br>
communicate with each other over one or more intermediate interconnection<br>
networks 250. In this example embodiment, the computing nodes are operated on<br>
behalf of multiple distinct entities, such as multiple customers of a program<br>
execution service, and a system manager module 290 manages the association of<br>
particular computing nodes with particular entities and virtual networks. The<br>
example computing nodes of Figure 2A include three computing nodes executed on<br>
behalf of an example entity Z, those being computing nodes 205a, 205c and 255a.<br>
In addition, other computing nodes are operated on behalf of other entities, such as<br>
computing node 205b.<br>
[0031] In this example, the computing nodes 205 are managed by an<br>
associated Communication Manager module R 210, and the computing nodes 255<br>
are managed by an associated Communication Manager module S 260. As one<br>
example, computing nodes 205 may each be one of multiple virtual machines<br>
hosted by a single physical computing system, and Communication Manager<br>
module R may be part of a hypervisor virtual machine monitor for that physical<br>
computing system. For example, with reference to Figure 1, computing nodes 205<br>
could represent the virtual machines 107a, and computing nodes 255 could<br>
represent the virtual machines 107d. If so, Communication Manager module R<br>
would correspond to Communication Manager module 109a of Figure 1,<br>
Communication Manager module S would correspond to Communication Manager<br>
module 109d of Figure 1, the interconnection network 250 would correspond to<br>
interconnection network 120 of Figure 1, and the system manager module 290<br>
would correspond to system manager module 110 of Figure 1. Alternatively,<br>
computing nodes 205 or 255 may instead each be a distinct physical computing<br>
system, such as to correspond to computing systems 155a-155n of Figure 1.<br>
[0032] Each of the Communication Manager modules of Figure 2A is<br>
associated with a sub-network of multiple physical network addresses, which the<br>
Communication Manager modules manage on behalf of their associated computing<br>
nodes. For example, Communication Manager module R is shown to be associated<br>
with the IPv6 network address range of "::0A:01/72", which corresponds to the 128-<br>
bit addresses (in hexadecimal) from<br>
XXXX:XXXX:XXXX:XXXA:0100:0000:0000:0000 to XXXX:XXXX:XXXX:XXXA:<br>
01FF:FFFF:FFFF:FFFF (representing 2 to the power of 56 unique IPv6 addresses),<br>
where each "X" may represent any hexadecimal character that is appropriate for a<br>
particular situation {e.g., with the initial 64 bits corresponding a particular<br>
organization and network topology, as discussed in greater detail with respect to<br>
Figure 2C). The interconnection network 250 will forward any communication with a<br>
destination network address in that range to Communication Manager module R -<br>
thus, with the initial 72 bits of the range specified, the Communication Manager<br>
module R may use the remaining available 56 bits to represent the computing nodes<br>
that it manages and to determine how to process incoming communications whose<br>
destination network addresses are in that range.<br>
[0033] For purposes of the example shown in Figure 2A, computing nodes<br>
205a, 205c and 255a are part of a single virtual local network for entity Z, and have<br>
assigned IPv4 network addresses of "10.0.0.2", "10.0.0.5" and "10.0.0.3",<br>
respectively (if written in dotted hexadecimal form, "10.0.0.2" would instead be<br>
"A.0.0.2"). Because computing node 205b is part of a distinct virtual network for<br>
entity Y, it can share the same virtual network address as computing node 205a<br>
without confusion. In this example, computing node A 205a wants to communicate<br>
with computing node G 255a, which it believes is part of a common local physical<br>
network with computing node A, as the interconnection network 250 and<br>
Communication Manager modules are transparent to computing nodes A and G in<br>
this example. In particular, despite the physical separation of computing nodes A<br>
and G, the Communication Manager modules 210 and 260 operate so as to overlay<br>
the virtual local network for entity Z over the physical interconnection network 250 for<br>
communications between those computing nodes, so that the lack of an actual local<br>
network is transparent to the computing nodes A and G. In this example, the<br>
physical interconnection network 250 is an IPv6 substrate network on which IPv4<br>
virtual networks are overlaid.<br>
[0034] In order to send the communication to computing node G, computing<br>
node A exchanges various messages 220 with Communication Manager module R<br>
210, despite in the illustrated embodiment being unaware of the existence of<br>
Communication Manager module R (i.e., may believe that it is transmitting a<br>
broadcast message to all other computing nodes on the local network). In particular,<br>
in this example, computing node A first sends an ARP message request 220-a that<br>
includes the local network address for computing node G (i.e., "10.0.0.3") and that<br>
requests the corresponding hardware address for computing node G (e.g., a 48-bit<br>
MAC, or Media Access Control, address). Communication Manager module R<br>
intercepts the ARP request 220-a, and responds to computing node A with a<br>
spoofed ARP response message 220-b that includes a dummy virtual hardware<br>
address for computing node G.<br>
[0035] To obtain the dummy virtual hardware address for the response<br>
message, the Communication Manager module R first checks a local store 212 of<br>
information that maps dummy virtual hardware addresses to corresponding IPv6<br>
actual physical network addresses, with each of the dummy virtual hardware<br>
addresses corresponding to an IPv4 virtual network address for a particular entity's<br>
virtual network. If the local store 212 does not contain an entry for computing node<br>
G (e.g., if none of the computing nodes 205 have previously communicated with<br>
computing node G, if a prior entry in local store 212 for computing node G has<br>
expired, etc.), the Communication Manager module R interacts 225 with system<br>
manager module 290 to obtain the corresponding actual IPv6 physical network<br>
address for computing node G on behalf of computing node A. In particular, in this<br>
example, the system manager module 290 maintains provisioning information 292<br>
that identifies where each computing node is actually located and to which entity<br>
and/or virtual network the computing node belongs, such as by initiating execution of<br>
programs on computing nodes for entities and virtual networks or by otherwise<br>
obtaining such provisioning information. As discussed in greater detail with respect<br>
to Figure 2B, the system manager module determines whether the request from<br>
Communication Manager module R on behalf of computing node A for computing<br>
node G's actual IPv6 physical network address is valid, including whether computing<br>
node A is authorized to communicate with computing node G, and if so provides that<br>
actual (Pv6 physical network address.<br>
[0036] Communication Manager module R receives the actual IPv6 physical<br>
network address for computing node G from the system manager module, and<br>
stores this received information as part of a new entry for computing node G as part<br>
of mapping information 212 for later use (optionally with an expiration time and/or<br>
other information). In addition, Communication Manager module R determines a<br>
dummy virtual hardware address to be used for computing node G (e.g., by<br>
generating an identifier that is locally unique for the computing nodes managed by<br>
Communication Manager module R), stores that dummy virtual hardware address in<br>
conjunction with the received actual IPv6 physical network address as part of the<br>
new mapping information entry, and provides the dummy virtual hardware address<br>
to computing node A as part of response message 220-b. By maintaining such<br>
mapping information 212, later communications from computing node A to<br>
computing node G may be authorized by Communication Manager module R without<br>
further interactions with the system manager module 290, based on the use of the<br>
dummy virtual hardware address previously provided by Communication Manager<br>
module R.<br>
[0037] In other embodiments, Communication Manager module R may<br>
interact with system manager module 290 to obtain a physical network address for<br>
computing node G or otherwise determine such a physical network address at times<br>
other than upon receiving an ARP request, such as in response to any received<br>
communication that is directed to computing node G using the virtual network<br>
address for entity Z's virtual network. Furthermore, in other embodiments the virtual<br>
hardware addresses that are used may differ from this example, such as if the virtual<br>
hardware addresses are specified by the system manager module 290, if the virtual<br>
hardware addresses are not random and instead store one or more types of<br>
information specific to the corresponding computing nodes, etc. In addition, in this<br>
example, if computing node A had not been determined to be authorized to send<br>
communications to computing node G, whether by the system manager module 290<br>
and/or Communication Manager module R, Communication Manager module R<br>
would not send the response message 220-b with the dummy virtual hardware<br>
address (e.g., will send no response, will send an error message response, etc.).<br>
[0038] In this example, the returned IPv6 actual physical network address<br>
corresponding to computing node G in response message 225-2 is "::0B:02:<z-></z->
identifier&gt;:10.0.0.3", where "10.0.0.3" is stored in the last 32 bits of the 128-bit IPv6<br>
address, and where "<z-identifier>" is a 24-bit entity network identifier for computing<br>
node G corresponding to the virtual local network for entity Z (e.g., as previously<br>
assigned by the system manager module to that network to reflect a random number<br>
or some other number corresponding to the entity). The initial 72 bits of the IPv6<br>
network address store the "::0B:02" designation, corresponding to the sub-network<br>
or other portion of the interconnection network with a network address range of<br>
u::0B:02/72" to which Communication Manager module S corresponds - thus, a<br>
communication sent over the interconnection network 250 to IPv6 destination<br>
network address "::0B.02:<z-identifier>: 10.0.0.3" will be routed to Communication<br>
Manager module S. In other embodiments, the entity network identifier may be<br>
other lengths (e.g., 32 bits, if Communication Manager module S has a sub-network<br>
with a network address range of 64 bits rather than 56 bits) and/or may have other<br>
forms (e.g., may be random, may store various types of information, etc.), and the<br>
remaining 56 bits used for the network address range of the sub-network may store<br>
other types of information (e.g., an identifier for a particular entity, a tag or label for<br>
the virtual network, etc.). Additional details related to an example configured IPv6<br>
actual physical network address for use with an overlay network are described with<br>
respect to Figure 2C.<br>
[0039] After receiving the response message 220-b from Communication<br>
Manager module R, computing node A creates and initiates the sending of a<br>
communication to computing node G, shown in Figure 2A as communication 220-c.<br>
In particular, the header of communication 220-c includes a destination network<br>
address.for destination computing node G that is "10.0.0.3", a destination hardware<br>
address for destination computing node G that is the dummy virtual hardware<br>
address provided to computing node A in message 220-b, a source network address<br>
for sending computing node A that is "10.0.0.2", and a source hardware address for<br>
sending computing node A that is an actual or dummy hardware address that was<br>
previously identified to computing node A.<br>
[0040] Communication Manager module R intercepts the communication 220-<br>
c, modifies the communication as appropriate, and forwards the modified<br>
communication over the interconnection network 250 to computing node G. In<br>
particular, Communication Manager module R extracts the virtual destination<br>
network address and virtual destination hardware address for computing node G<br>
from the header, and then retrieves the IPv6 actual physical network address<br>
corresponding to that virtual destination hardware address from mapping information<br>
212. As previously noted, the IPv6 actual physical network address in this example<br>
is "::0B:02:<z-identifier>: 10.0.0.3", and Communication Manager module R creates<br>
a new IPv6 header that includes that actual physical network address as the<br>
destination address. Similarly, the Communication Manager module R extracts the<br>
virtual source network address and virtual source hardware address for computing<br>
node A from the header of the received communication, obtains an IPv6 actual<br>
physical network address corresponding to that virtual source hardware address<br>
(e.g., from a stored entry in mapping information 212, by interacting with the system<br>
manager module 290 to obtain that information if not previously obtained, etc.), and<br>
includes that actual physical network address as the source network address for the<br>
new IPv6 header. In this example, the IPv6 actual physical network address for<br>
computing node A is "::0A:01:<z-identifier>:10.0.0.2", which if used in a reply by<br>
Communication Manager module S on behalf of computing node G will be routed to<br>
Communication Manager module R for forwarding to computing node A. The<br>
Communication Manager module R then creates a new communication 230-3 by<br>
modifying communication 220-c so as to replace the prior IPv4 header with the new<br>
IPv6 header (e.g., in accordance with SIIT), including populating the new IPv6<br>
header with other information as appropriate for the new communication (e.g.,<br>
payload length, traffic class packet priority, etc.). Thus, the new communication 230-<br>
3 includes the same content or payload as prior communication 220-c, without<br>
encapsulating the prior communication 220-c within the new communication 230-3.<br>
Furthermore, access to the specific information within the payload is not needed for<br>
such re-headering, such as to allow Communication Manager module R to handle<br>
communications in which the payload is encrypted without needing to decrypt that<br>
payload.<br>
[0041] In at least some embodiments, before forwarding communication 230-<br>
3 to Communication Manager module S, Communication Manager module R may<br>
perform one or more actions to determine that communication 220-c is authorized to<br>
be forwarded to computing node G as communication 230-3, such as based on the<br>
mapping information 212 including a valid entry for the source and/or destination<br>
virtual hardware address used in communication 220-c. In other embodiments, such<br>
an authorization determination may not be performed by Communication Manager<br>
module R for each outgoing communication, or instead may be performed in other<br>
manners (e.g., based on a determination that the sending node and destination<br>
node are part of the same virtual network or are associated with the same entity or<br>
are otherwise authorized to inter-communicate, based on an interaction with system<br>
manager module 290 to obtain an authorization determination for the<br>
communication, etc.).<br>
[0042] After Communication Manager module R forwards the modified<br>
communication 230-3 to the interconnection network 250, the interconnection<br>
network uses the physical IPv6 destination network address of the communication to<br>
route the communication to Communication Manager module S. In doing so, the<br>
devices of the interconnection network 250 do not use the portion of the destination<br>
network address that includes the embedded entity network identifier or embedded<br>
virtual network address, and thus do not need any special configuration to forward<br>
such a communication, nor even awareness that a virtual network is being overlaid<br>
on the physical interconnection network.<br>
[0043] When Communication Manager module S receives communication<br>
230-3 via the interconnection network 250, it performs actions similar to those of<br>
Communication Manager module R, but in reverse. In particular, in at least some<br>
embodiments, the Communication Manager module S verifies that communication<br>
230-3 is legitimate and authorized to be forwarded to computing node G, such as via<br>
one or more interactions 240 with the system manager module. If the<br>
communication is determined to be authorized (or if the authorization determination<br>
is not performed), the Communication Manager module S then modifies<br>
communication 230-3 as appropriate and forwards the modified communication to<br>
computing node G. Additional details related to the verification of the<br>
communication 230-3 are discussed with respect to Figure 2B.<br>
[0044] In particular, to modify communication 230-3, Communication Manager<br>
module S retrieves information from mapping information 262 that corresponds to<br>
computing node G, including the virtual hardware address used by computing node<br>
G (or generates such a virtual hardware address if not previously available, such as<br>
for a new computing node). Communication Manager module S then creates a new<br>
communication 245-e by modifying communication 230-3 so as to replace the prior<br>
IPv6 header with a new IPv4 header (e.g., in accordance with SI IT). The new IPv4<br>
header includes the virtual network address and virtual hardware address for<br>
computing node G as the destination network address and destination hardware<br>
address for the new IPv4 header, the virtual network address and a dummy virtual<br>
hardware address for computing node A as the source network address and source<br>
hardware address for the new IPv4 header, and includes other information as<br>
appropriate for the new communication (e.g., total length, header checksum, etc.).<br>
The dummy virtual hardware address used by Communication Manager module S<br>
for computing node A may be the same as the hardware address used by<br>
Communication Manager module R for computing node A, but in other embodiments<br>
each Communication Manager module may maintain separate hardware address<br>
information that is not related to the information used by the other Communication<br>
Manager modules (e.g., if Communication Manager module S generated its own<br>
dummy virtual hardware address for computing node A in response to a prior ARP<br>
request from one of the computing nodes 255 for computing node A's hardware<br>
address). Thus, the new communication 245-e includes the same content or<br>
payload as prior communication 220-c and 230-3. Communication Manager module<br>
S then forwards new communication 245-e to computing node G.<br>
[0045] After receiving communication 245-e: computing node G determines to<br>
send a response communication 245-f to computing node A, using the source virtual<br>
network address and source virtual hardware address for computing node A from<br>
communication 245-e. Communication Manager module S receives communication<br>
245-e, and processes it in a manner similar to that previously described with respect<br>
to communication 220-c and Communication Manager module R. In particular,<br>
Communication Manager module S optionally verifies that computing node G is<br>
authorized to send communications to computing node A, and then modifies<br>
communication 245-f to create communication 230-6 by generating a new IPv6<br>
header using mapping information 262. After forwarding communication 230-6 to<br>
the interconnection network 250, the communication is sent to Communication<br>
Manager module R, which processes the incoming communication in a manner<br>
similar to that previously described with respect to communication 230-3 and<br>
Communication Manager module S. In particular, Communication Manager module<br>
R optionally verifies that computing node G is authorized to send communications to<br>
computing node A and that communication 230-6 actually was sent by computing<br>
node G, and then modifies communication 230-6 to create communication 220-d by<br>
generating a new IPv4 header using mapping information 212. Communication<br>
Manager module R then forwards communication 220-d to computing node A.<br>
[0046] In this manner, computing nodes A and G may inter-communicate<br>
using a IPv4-based virtual local network, without any special configuration of those<br>
computing nodes to handle the actual intervening IPv6-based substrate<br>
interconnection network, and interconnection network 250 may forward IPv6<br>
communications without any special configuration of any networking devices of the<br>
interconnection network, based on the Communication Manager modules overlaying<br>
the virtual local network over the actual physical interconnection network without<br>
encapsulation of communications and on using embedded virtual network addresses<br>
in the substrate physical network addresses.<br>
[0047] In addition, while not illustrated with respect to Figure 2A, in at least<br>
some embodiments the Communication Manager modules may receive and handle<br>
other types of requests and communications on behalf of associated computing<br>
nodes. For example, Communication Manager modules may take various actions to<br>
support broadcast and multicast capabilities for computing nodes that they manage.<br>
As one example, in some embodiments, a special multicast group virtual network<br>
address suffix may be reserved from each entity network identifier prefix for use in<br>
signaling Layer-2 raw encapsulated communications. Similarly, for link-local<br>
broadcast and multicast communications, a special multicast group /64 prefix may<br>
communication to use an IPv6 header since the communication will not travel over<br>
the interconnection network.<br>
[0049] While not illustrated with respect to Figure 2A, in at least some<br>
embodiments other types of requests and communications may also be handled in<br>
various ways. For example, in at least some embodiments, an entity may have one<br>
or more computing nodes that are managed by Communication Manager module(s)<br>
and that are part of a virtual network for that entity, and may further have one or<br>
more other non-managed computing systems (e.g., computing systems that are<br>
directly connected to the interconnection network 250 and/or that natively use IPv6<br>
network addressing) that do not have an associated Communication Manager<br>
module that manages their communications. If the entity desires that those non-<br>
managed computing systems be part of that virtual network or otherwise<br>
communicate with the managed computing nodes of the virtual network, such<br>
communications between managed computing nodes and non-managed computing<br>
systems may be handled by the Communication Manager module(s) that manage<br>
the one or more computing nodes in at least some such embodiments. For<br>
example, in such situations, if such a non-managed computing system is provided<br>
with an actual IPv6 destination network address for such a managed computing<br>
node (e.g., "::0A:01:<z-identifier>:10.0.0.2° for managed computing node A in this<br>
example), the non-managed computing system may send communications to<br>
computing node A via interconnection network 250 using that destination network<br>
address, and Communication Manager module R would forward those<br>
communications to computing node A (e.g., after re-headering the communications<br>
in a manner similar to that previously described) if Communication Manager module<br>
R is configured to accept communications from that non-managed computing<br>
system (or from any non-managed computing system). Furthermore,<br>
Communication Manager module R could generate a dummy virtual network<br>
address to correspond to such a non-managed computing system, map it to the<br>
actual IPv6 network address for the non-managed computing system, and provide<br>
the dummy virtual network address to computing node A (e.g., as the source<br>
address for the communications forwarded to computing node A from the non-<br>
managed computing system), thus allowing computing node A to send<br>
communications to.the non-managed computing system.<br>
[0050] Similarly, in at least some embodiments and situations, at least some<br>
managed computing nodes and/or their virtual networks may be configured to allow<br>
communications with other devices that are not part of the virtual network, such as<br>
other non-managed computing systems or other types of network appliance devices<br>
that do not have an associated Communication Manager module that manages their<br>
communications. In such situations, if the managed computing nodes and/or the<br>
virtual network is configured to allow communications with such other non-managed<br>
devices, such a non-managed device may similarly be provided with the actual IPv6<br>
destination network address for such a computing node (e.g., "::0A:01:<z-></z->
identifier&gt;:10.0.0.2" for computing node A in this example), allowing the non-<br>
managed device to send communications to computing node A via interconnection<br>
network 250 using that destination network address, with Communication Manager<br>
module R then forwarding those communications to computing node A (e.g., after<br>
re-headering the communications in a manner similar to that previously described).<br>
Furthermore, Communication Manager module R could similarly manage outgoing<br>
communications from computing node A to such a non-managed device to allow<br>
computing node A to send such communications.<br>
[0051] In addition, as previously noted, a Communication Manager module<br>
manages communications for associated computing nodes in various ways,<br>
including in some embodiments by assigning virtual network addresses to computing<br>
nodes of a virtual network address, and/or by assigning substrate physical network<br>
addresses to managed computing nodes from a range of substrate physical network<br>
addresses that correspond to the Communication Manager module, (n other<br>
embodiments, some such activities may instead be performed by one or more<br>
computing nodes of the virtual network, such as to allow a DHCP (Dynamic Host<br>
Configuration Protocol) server or other device of a virtual network to specify virtual<br>
network addresses and/or substrate physical network addresses to particular<br>
computing nodes of the virtual network. In such embodiments, the Communication<br>
Manager module obtains such configuration information from the virtual network<br>
device(s), and updates its mapping information accordingly (and in some<br>
embodiments may further update one or more system manager modules that<br>
maintain information about computing nodes associated with virtual networks).<br>
[0052] In addition, in some embodiments and situations, a managed<br>
computing node may itself be treated as a virtual router or phantom router, with<br>
multiple virtual network addresses associated with that managed computing node,<br>
and with that managed computing node forwarding communications to other<br>
computing nodes that correspond to those multiple virtual network addresses. In<br>
such embodiments, the Communication Manager module that manages<br>
communications for that managed computing node router handles communications<br>
to and from that computing node in a manner similar to that previously described.<br>
However, the Communication Manager module is configured with the multiple virtual<br>
network addresses that correspond to the managed computing node router, so that<br>
incoming communications to any of those multiple virtual network addresses are<br>
forwarded to the managed computing node router, and so that outgoing<br>
communications from the managed computing node router are given a substrate<br>
source physical network address that corresponds to the particular computing node<br>
that sent the communication via the managed computing node router. In this<br>
manner, physical routers or other networking devices of a particular customer or<br>
other entity may be virtually represented for a virtual network implemented for that<br>
entity.<br>
[0053] Figure 2B illustrates some of the computing nodes and<br>
communications discussed with respect to Figure 2A, but provides additional details<br>
with respect to some actions taken by the Communication Manager modules 210<br>
and 260 and/or the system manager module 290 to authorize communications<br>
between computing nodes. For example, after computing node A sends message<br>
220-a to request a hardware address for computing node G, Communication<br>
Manager module R may perform one or more interactions 225 with the system<br>
manager module 290 in order to determine whether to provide that information, such<br>
as based on whether computing node A is authorized to communicate with<br>
computing node G, as well as to determine a corresponding substrate physical<br>
network address for computing node G based on interconnection network 250. If<br>
the Communication Manager module R has previously obtained that information and<br>
it remains valid (e.g., has not expired), then the interactions 225 may not be<br>
performed. In this example, to obtain the desired physical network address<br>
corresponding to computing node G, Communication Manager module R sends a<br>
message 225-1 to the system manager module 290 that includes the virtual network<br>
addresses for computing nodes A and G, and that includes an entity network<br>
identifier for each of the computing nodes, which in this example is an entity network<br>
identifier for entity Z (e.g., a 32-bit or 24-bit unique identifier,). In at least some<br>
embodiments, Communication Manager module R may send message 225-1 to the<br>
system manager module 290 using an anycast addressing and routing scheme, so<br>
that multiple system manager modules may be implemented (e.g., one for each data<br>
center that includes Communication Manager modules and associated computing<br>
nodes) and an appropriate one of those (e.g., the nearest, the most underutilized,<br>
etc.) is selected to receive and handle the message. After the system manager<br>
module 290 determines that computing node A is authorized to communicate with<br>
computing node G (e.g., based on having the same entity network identifier, based<br>
on computing node A having an entity network identifier that is authorized to<br>
communicate with computing nodes of the entity network identifier for computing<br>
node G, based on other information provided by or associated with computing node<br>
A indicating that computing node A is authorized to perform such communications,<br>
based on information provided by or associated with computing node G indicating<br>
that computing node A is authorized to perform such communications, etc.), the<br>
system manager module 290 returns a response message 225-2 that includes the<br>
desired actual physical network address corresponding to computing node G. In<br>
addition, in at least some embodiments, before sending the desired actual physical<br>
network address, the system manager module 290 may further verify that<br>
Communication Manager module R is authorized to send the message 225-1 on<br>
behalf of computing node A, such as based on computing node A being one of the<br>
computing nodes to which Communication Manager module R is associated.<br>
[0054] In other embodiments, Communication Manager module R may<br>
perform some or all of the actions described as being performed by system manager<br>
module 290, such as to maintain provisioning information for the various computing<br>
nodes and/or to determine whether computing node A is authorized to send<br>
communications to computing node G, or instead no such authorization<br>
determination may be performed in some or all situations. Furthermore, in other<br>
embodiments other types of authorization determination may be performed for a<br>
communication between two or more computing nodes, such as based on a type of<br>
the communication, on a size of the communication, on a time of the<br>
communication, etc.<br>
[0055] As previously noted with respect to Figure 2A, after Communication<br>
Manager module S receives communication 230-3 intended for computing node G<br>
via the interconnection network 250, Communication Manager module S may<br>
perform one or more interactions 240 with the system manager module 290 in order<br>
to determine whether to authorize that communication. In particular, in this example,<br>
to verify that the communication 230-3 is valid and authorized to be forwarded to<br>
computing node G, Communication Manager module S first extracts the actual IPv6<br>
destination network address and actual IPv6 source network address from the<br>
header of communication 230-3, and then retrieves the embedded entity network<br>
identifiers and virtual network addresses from each of the extracted IPv6 network<br>
addresses. The Communication Manager module S next exchanges messages 240<br>
with system manager module 290 to obtain the corresponding actual IPv6 physical<br>
network address for the sending computing node A on behalf of computing node G,<br>
including a message 240-4 that includes the extracted virtual network addresses for<br>
computing nodes A and G and the entity network identifier for each of the computing<br>
nodes. In at least some embodiments, Communication Manager module S may<br>
send message 240-4 to the system manager module 290 using an anycast<br>
addressing and routing scheme.<br>
[0056] The system manager module 290 receives message 240-4, and<br>
returns a response message 240-5 that includes the actual physical network<br>
address corresponding to computing node A, which in this example is "::0A:01:<z-></z->
identifier&gt;: 10.0.0.2". As previously discussed with respect to messages 225-1 and<br>
225-2, in some embodiments the system manager module 290 and/or<br>
Communication Manager module S may further perform one or more other types of<br>
authorization determination activities, such as to determine that computing node G is<br>
authorized to communicate with computing node A, that Communication Manager<br>
module S is authorized to send the message 240-4 on behalf of computing node G,<br>
etc. Communication Manager module S then verifies that the returned physical<br>
network address in message 240-5 matches the source IPv6 network address<br>
extracted from the header of communication 230-3, so as to prevent attempts to<br>
spoof messages as being from computing node A that are actually sent from other<br>
computing nodes in other locations. Communication Manager module S optionally<br>
stores this received information in message 240-5 as part of an entry for computing<br>
node A in mapping information 262 for later use, along with computing node A's<br>
virtual network address and a dummy virtual hardware address for computing node<br>
A.<br>
[0057] Various other types of actions than those discussed with respect to<br>
Figures 2A-2B may be performed in other embodiments, including for types of<br>
network addressing protocols other than IPv4 and IPv6.<br>
[0058] Figure 2C illustrates an example IPv6 physical substrate network<br>
address configuration 272 for use with the described techniques, with the example<br>
network address being configured so as to embed a virtual network address and<br>
other information in the substrate network address so as to enable an overlay<br>
network over the substrate network. As previously discussed, this example IPv6<br>
network address configuration uses the 128-bit network address space to store<br>
various information, with the initial 64 bits storing an IPv6 network portion of the<br>
address, and with the subsequent 64 bits storing an interface identifier (or "host")<br>
portion of the address.<br>
[0059] In this example, the initial 64-bit network portion of the IPv6 address<br>
includes a 32-bit identifier 272a for bits 0 through 31 that corresponds to a corporate<br>
or other organization identifier assigned to such an organization by an Internet<br>
registry operator on behalf of the Internet Assigned Numbers Authority (in this<br>
example, based on an assignment from the Regional Internet Registry RIPE NNC,<br>
or Reseaux IP Europeens Network Coordination Centre). For example, in some<br>
embodiments, an organization that operates a program execution service or other<br>
organization that uses the described techniques may have an associated identifier<br>
272a. The initial 64-bit network portion of the address also includes a 32-bit group<br>
of information 272b in this example that corresponds to topology of a group of<br>
multiple computing nodes (e.g., a sub-network or other network portion) provided on<br>
behalf of the group whose identifier is indicated in information 272a. As previously<br>
discussed, in at least some embodiments, the initial 64-bit network portion of the<br>
address represents a partial network address for the substrate network that<br>
corresponds to a location of multiple related computing nodes, such as a sub-<br>
network or other portion of the substrate network. In particular, the initial 64-bit<br>
network address portion in at least some embodiments corresponds to a particular<br>
Communication Manager module that represents multiple associated computing<br>
nodes being managed by the Communication Manager module, such as based on<br>
the Communication Manager module managing the range of network addresses<br>
corresponding to some or all of the 64-bit interface identifier address portion in order<br>
to represent the various managed computing nodes. In other embodiments, the<br>
partial network address may be represented with a different number of bits (e.g., 72)<br>
and/or using a part of the address other than a prefix.<br>
[0060] The 32-bit group of topology information 272b may represent various<br>
information in various ways in different embodiments, with topology information<br>
groups 274 and 276 showing two alternative example configurations of topology<br>
information. In particular, in the examples of 274 and 276, the first two bits (bits 32<br>
and 33 of the overall IPv6 address) indicate a particular version of the topology<br>
information, such that the meaning of the remaining 30 bits may change over time.<br>
With respect to example 274, various bits as shown each indicate different<br>
geographical locales, geographic areas within the locales, computer racks within the<br>
geographic areas, and physical computing system nodes within the computer racks.<br>
In this example, the 6 bits for the locale information may represent 64 unique values,<br>
the 8 bits for the area information may represent 256 unique values for each locale<br>
value, the 8 bits for the rack information may represent 256 unique values for each<br>
area value, and the 8 bits for the physical computing system node information may<br>
represent 256 unique values for each rack value. Conversely, with respect to<br>
example 276, only locale and rack information is shown, but each have additional<br>
bits in order to represent those types of information, such as to have 16,384 unique<br>
locale values using its 14 bits, and to have 65,536 unique rack values using its 16<br>
bits for each locale value. It will be appreciated that topology information may be<br>
represented in other manners in other embodiments.<br>
[0061] In this example, the 64-bit interface identifier portion of the IPv6<br>
address is configured to store several types of information, including an 6-bit<br>
identifier 272c that corresponds to a particular computing node slot (e.g., a particular<br>
virtual machine computing node on a particular physical computing system that<br>
corresponds to the initial 64-bit network portion of the IPv6 address), two 1-bit<br>
identifiers 272f and 272g, a 24-bit identifier 272d to embed an entity network<br>
identifier (e.g., to reference a particular virtual network), and a 32-bit identifier 272e<br>
to embed an IPv4 network address (e.g., a virtual network address). The 6 bits for<br>
the slot identifier may represent approximately 64 unique values, the 24 bits for the<br>
embedded entity network identifier may represent approximately 16.8 million unique<br>
values, and the 32 bits for the embedded IPv4 network address may represent<br>
approximately 4.3 billion unique values. In this example, the 1-bit identifier 272g (bit<br>
70 of the IPv6 address) represents a U/L global/local bit that in some embodiments<br>
may indicate whether the address is globally administered or locally administered,<br>
and the 1-bit identifier 272f (bit 71 of the IPv6 address) represents an l/G<br>
individual/group bit that in some embodiments may indicate whether the address<br>
corresponds to a single computing node or to a group of multiple computing nodes<br>
(e.g., as part of a broadcast or multicast). In at least some embodiments, the l/G bit<br>
is set to zero, and the U/L bit is set to one when virtual forwarding of the<br>
corresponding communication is being used, such as for use in virtual subnetting via<br>
phantom computing node routers and/or to indicate that an incoming communication<br>
with such a destination address be delivered to a computing node corresponding to<br>
the value of the 6-bit slot identifier rather than a computing node corresponding to<br>
the values of the 32-bit IPv4 embedded network address and 24-bit entity network<br>
identifier. It will be appreciated that the interface identifier information may be<br>
represented in other manners in other embodiments.<br>
[0062] Figure 3 is a block diagram illustrating example computing systems<br>
suitable for executing an embodiment of a system for managing communications<br>
between computing nodes. In particular, Figure 3 illustrates a group 399 of<br>
computing systems and inter-network(s), such as a data center or other group of co-<br>
located computing nodes, in some embodiments, some or all of the computing<br>
systems of the group 399 may be used by a program execution service that<br>
executes programs on behalf of customers or other entities. The group 399 includes<br>
a system manager computing system 300, a host computing system 350 capable of<br>
executing one or more virtual machines, other host computing systems 390 that are<br>
similar to host computing system 350, and an optional Communication Manager<br>
module 360 that manages host computing systems 390 and that executes on one of<br>
the computing systems 390 or on another computing system (not shown). The<br>
system manager computing system 300 and host computing systems 350 and 390<br>
are connected to one another via an internal network 380, which includes a<br>
networking device 362 and other networking devices (not shown). The network 380<br>
may be an interconnection network that joins multiple disparate physical networks<br>
(not shown) for the group 399 and possibly provides access to external networks<br>
(not shown) and/or systems, such as computing systems 395. In the illustrated<br>
example, the networking device 362 provides a gateway between the network 380<br>
and host computing systems 350 and 390. In some embodiments, networking<br>
device 362 may, for example, be a router or a bridge.<br>
[0063] The system manager computing system 300 functions to manage the<br>
configuration of virtual networks within the group 399, as well as to provide other<br>
functions related to the provisioning, initialization, and execution of programs on<br>
computing nodes. The system manager computing system 300 includes a CPU<br>
305, various I/O components 310, storage 330, and memory 320. The I/O<br>
components include a display 311, network connection 312, computer-readable<br>
media drive 313, and other I/O devices 315 (e.g., a mouse, keyboard, etc.).<br>
[0064] The host computing system 350 functions to host one or more virtual<br>
machines, such as to operate as computing nodes that execute programs on behalf<br>
of various customers. The host computing system 350 includes a CPU 352, various<br>
I/O components 353, storage 351, and memory 355. A virtual machine<br>
Communication Manager module 356 and one or more virtual machines 358 are<br>
executing in the memory 355, with the module 356 managing communications for<br>
the associated virtual machine computing nodes 358. The Communication Manager<br>
module 356 maintains various mapping information 354 on storage related to the<br>
computing nodes 358 and other computing nodes, such as in a manner similar to<br>
mapping information 212 and 262 of Figures 2A-2B. The structure of the other host<br>
computing systems 390 may be similar to that of host computing system 350, or<br>
instead some or all of the host computing systems 350 and 390 may act directly as<br>
computing nodes by executing programs without using hosted virtual machines. In a<br>
typical arrangement, the group 399 may include hundreds or thousands of host<br>
computing systems such as those illustrated here, organized into a large number of<br>
distinct physical networks.<br>
[0065] An embodiment of a system manager module 340 is executing in<br>
memory 320 of the computing system 300. in some embodiments, the system<br>
manager 340 may receive an indication of one or more programs to be executed as<br>
part of one or more virtual machine computing nodes on host computing system 350<br>
or otherwise as one or more computing nodes using one of the host computing<br>
systems 390, and in some situations may select the computing node(s) that will<br>
execute the program(s). The system manager 340 may then determine a virtual<br>
network associated with the computing node(s) based on, for example, a customer<br>
identity associated with the program and/or other factors. In some cases, the<br>
structure and/or membership of various virtual networks may be provided by the<br>
provisioning database 332, which the module 340 maintains to store information<br>
related to the physical and virtual resources (e.g., networking, hardware, etc.)<br>
associated with various customers and/or executing programs and computing<br>
nodes. The system manager module 340 then initiates execution of the program(s)<br>
on the computing node(s), and optionally provides information to the Communication<br>
Manager modules associated with those computing nodes regarding virtual networks<br>
and/or entities to which those computing nodes are associated. In other<br>
embodiments, the execution of programs on computing nodes may be initiated in<br>
other manners, and the system manager module 340 may instead merely receive<br>
and maintain information about those computing nodes, programs, associated<br>
entities and associated virtual networks.<br>
[0066] As discussed in greater detail elsewhere, the Communication Manager<br>
modules 356 and 360 (and other Communication Manager modules, not shown, that<br>
manage other associated computing nodes, not shown) and the system manager<br>
module 340 may interact in various ways to manage communications between<br>
computing nodes. Such interactions may, for example, enable the computing nodes<br>
358 and/or other computing nodes to inter-communicate over virtual networks<br>
without any special configuration of the computing nodes, by overlaying the virtual<br>
networks over network 380 and optionally one or more external networks (not<br>
shown) without any special configuration of networking device 362 or other<br>
networking devices (not shown), and without encapsulation of communications.<br>
[0067] It will be appreciated that computing systems 300, 350, 390, and 395,<br>
and networking device 362, are merely illustrative and are not intended to limit the<br>
scope of the present invention. For example, computing systems 300 and/or 350<br>
may be connected to other devices that are not illustrated, including through one or<br>
more networks external to the group 399, such as the Internet or via the World Wide<br>
Web ("Web"). More generally, a computing node or other computing system may<br>
comprise any combination of hardware or software that can interact and perform the<br>
described types of functionality, including without limitation desktop or other<br>
computers, database servers, network storage devices and other network devices,<br>
PDAs, cellphones, wireless phones, pagers, electronic organizers, Internet<br>
appliances, television-based systems (e.g., using set-top boxes and/or<br>
personal/digital video recorders), and various other consumer products that include<br>
appropriate communication capabilities. In addition, the functionality provided by the<br>
illustrated modules may in some embodiments be combined in fewer modules or<br>
distributed in additional modules. Similarly, in some embodiments the functionality<br>
of some of the illustrated modules may not be provided and/or other additional<br>
functionality may be available.<br>
[0068] It will also be appreciated that, while various items are illustrated as<br>
being stored in memory or on storage while being used, these items or portions of<br>
them can be transferred between memory and other storage devices for purposes of<br>
memory management and data integrity. Alternatively, in other embodiments some<br>
or all of the software modules and/or systems may execute in memory on another<br>
device and communicate with the illustrated computing systems via inter-computer<br>
communication. Furthermore, in some embodiments, some or all of the systems<br>
and/or modules may be implemented or provided in other manners, such as at least<br>
partially in firmware and/or hardware, including, but not limited to, one or more<br>
application-specific integrated circuits (ASICs), standard integrated circuits,<br>
controllers (e.g., by executing appropriate instructions, and including microcontrollers<br>
and/or embedded controllers), field-programmable gate arrays (FPGAs), complex<br>
programmable logic devices (CPLDs), etc. Some or all of the modules, systems and<br>
data structures may also be stored (e.g., as software instructions or structured data)<br>
on a computer-readable medium, such as a hard disk, a memory, a network, or a<br>
portable media article to be read by an appropriate drive or via an appropriate<br>
connection. The systems, modules and data structures may also be transmitted as<br>
generated data signals (e.g., as part of a carrier wave or other analog or digital<br>
propagated signal) on a variety of computer-readable transmission mediums,<br>
including wireless-based and wired/cable-based mediums, and may take a variety of<br>
forms (e.g., as part of a single or multiplexed analog signal, or as multiple discrete<br>
digital packets or frames). Such computer program products may also take other<br>
forms in other embodiments. Accordingly, the present invention may be practiced<br>
with other computer system configurations.<br>
[0069] Figure 4 is a flowchart of an example embodiment of a System<br>
Manager routine 400. The routine may be provided by, for example, execution of<br>
the system manager module 110 of Figure 1, the system manager module 290 of<br>
Figures 2A-2B, and/or the system manager module 340 of Figure 3, such as to<br>
assist in managing communications between multiple computing nodes across one<br>
or more intermediate networks, as well as to perform other types of management<br>
operations in some situations. In at least some embodiments, the routine may be<br>
provided as part of a system that configures communications for multiple different<br>
entities across a common intermediate network, such as part of a program execution<br>
service that executes programs on distributed computing nodes for multiple<br>
customers, with the communications configured so as to enable each computing<br>
node to transparently communicate with other associated computing nodes using a<br>
private virtual local network that is specific to that entity. Furthermore, the routine<br>
may facilitate preventing unauthorized communications from being provided to<br>
destination computing nodes, such as by assisting Communication Manager<br>
modules with determinations of whether communications are authorized.<br>
[0070] In the illustrated embodiment, the routine begins at block 405, where a<br>
request is received. The routine continues to block 410 to determine the type of<br>
request. If it is determined that the type of request is to associate a computing node<br>
with a particular indicated entity, such as if that computing node is executing or is to<br>
execute one or more programs on behalf of that entity, the routine continues to block<br>
415 to associate that computing node with that indicated entity. In some<br>
embodiments, the routine may further determine the one or more computing nodes<br>
to be associated with the indicated entity, such as based on information provided by<br>
the indicated entity regarding one or more programs whose execution is to be<br>
initiated, while in other embodiments the selection of such computing nodes and/or<br>
execution of appropriate programs on those computing nodes may be performed in<br>
other ways. In addition, as discussed in greater detail elsewhere, in some<br>
embodiments one or more of the computing nodes may each be a virtual machine<br>
that is hosted by one or more physical computing systems. The routine then<br>
continues to block 420 to store an indication of the computing node and its<br>
association with the indicated entity. In particular, in the illustrated embodiment the<br>
routine stores an indication of a physical network address corresponding to the<br>
computing node, a virtual network address used by the entity for the computing<br>
node, and an indication of the associated entity. As discussed in greater detail<br>
elsewhere, the physical network address corresponding to the computing node may<br>
in some embodiments be a physical network address specific to that single<br>
computing node, while in other embodiments may instead refer to a sub-network or<br>
other group of multiple computing nodes, such as may be managed by an<br>
associated Communication Manager module. Furthermore, in situations in which a<br>
particular entity has multiple distinct virtual networks, the routine may receive an<br>
indication of or otherwise determine the one or more virtual networks with which the<br>
computing node is associated, and similarly store that information in conjunction with<br>
other information about the computing node. As previously discussed, Figure 2C<br>
illustrates one example of how such a physical network address may be configured.<br>
[0071] If it is instead determined in block 410 that the type of received request<br>
is a request for address resolution for a virtual network address of a computing<br>
node, such as from a Communication Manager module on behalf of another<br>
managed computing node, the routine continues. instead to block 425, where it<br>
determines whether the request is authorized in one or more ways, such as based<br>
on whether the managed computing node on whose behalf the request is made is<br>
authorized to send communications to the computing node whose virtual network<br>
address resolution is requested (e.g., based on the virtual network(s) to which the<br>
two computing nodes belong), based on whether the managed computing node on<br>
whose behalf the request is made is a valid computing node that is currently part of<br>
a configured virtual network, and/or based on whether the request is received from<br>
the Communication Manager module that actually manages the indicated computing<br>
node on whose behalf the request is made. If the request is determined to be<br>
authorized, the routine continues to block 430, where it obtains a virtual network<br>
address of interest and an entity network identifier or other indicator of the entity<br>
{e.g., a unique numeric or alphanumeric label), such as included with the request<br>
received in block 405. The routine then continues to block 435 to retrieve stored<br>
information that associates that virtual network address for the virtual network<br>
corresponding to that entity network identifier to a physical network address for a<br>
location that corresponds to the computing node, such as may be previously stored<br>
with respect to block 420. After block 435, the routine continues to 440 to provide<br>
an indication of the physical network address to the requester. While not illustrated<br>
here, if the determination in block 425 determines that the request is not authorized,<br>
the routine may instead not perform blocks 430-440 for that request, such as by<br>
responding with an error message to the request received in block 405 or not<br>
responding to that received request. In addition, in other embodiments the routine<br>
may perform one or more other tests to validate a received request before<br>
responding with the requested information, such as to verify that the computing node<br>
that initiated the request is authorized to receive that information.<br>
[0072] If it is instead determined in block 410 that the received request is of<br>
another type, the routine continues instead to block 450 to perform another indicated<br>
operation as appropriate. For example, in some embodiments, the routine may<br>
receive requests to update stored information about particular computing nodes,<br>
such as if a particular computing node was previously associated with a particular<br>
entity and/or virtual network but that association ends (e.g., one or more programs<br>
being executed for that entity on that computing node are terminated). The routine<br>
may also perform a variety of other actions related to managing a system of multiple<br>
computing nodes, as discussed in greater detail elsewhere. In addition, while not<br>
illustrated here, in other embodiments the routine may at times perform actions of<br>
other types, such as to perform occasional housekeeping operations to review and<br>
update stored information as appropriate, such as after predefined periods of time<br>
have expired. In addition, if possible validation problems are detected, such as with<br>
respect to received address resolution requests for virtual network addresses, the<br>
routine may take various actions to signal an error and/or perform other<br>
corresponding actions as appropriate.<br>
[0073] After blocks 420, 440, and 450, the routine continues to block 495 to<br>
determine whether to continue. If so, the routine returns to block 405, and if not<br>
continues to block 499 and ends.<br>
[0074] Figure 5 is a flow diagram of an example embodiment of a<br>
Communication Manager routine 500. The routine may be provided by, for example,<br>
execution of the Communication Manager modules 109a, 109d and/or 150 of Figure<br>
1, the Communication Manager modules 210 and/or 260 of Figures 2A-2B, and/or<br>
the Communication Manager modules 356 and/or 360 of Figure 3, such as to<br>
manage communications to and from an associated group of one or more computing<br>
nodes in order to provide a private virtual network over one or more shared<br>
intermediate networks, including to determine whether to authorize communications<br>
to and/or from the managed computing nodes.<br>
[0075] The routine beings at block 505, where an indication is received of a<br>
node communication or other message. The routine continues to block 510 to<br>
determine the type of communication or other message and proceed accordingly. If<br>
it is determined in block 510 that the message is a request from an associated<br>
managed computing node for network address resolution, such as an ARP request,<br>
the routine continues to block 515 to identify the virtual network address of interest<br>
indicated in the request. The routine then continues to block 520 to send a request<br>
to a system manager module for virtual network address resolution for the indicated<br>
virtual network address for the virtual network (or alternatively, entity) associated<br>
with the computing node that provided the request, such as discussed with respect<br>
to blocks 425-440 of Figure 4. As discussed in greater detail elsewhere, the routine<br>
may in some embodiments track information about virtual networks and/or entities<br>
associated with each managed computing node, while in other embodiments such<br>
information may instead be provided to the routine by the computing nodes and/or<br>
by the system manager module, or instead the system manager module may track<br>
and store that information without it being provided to and tracked by the current<br>
routine. While not illustrated here, in other embodiments and situations such<br>
address resolution requests may be handled in other manners. For example, if a<br>
computing node being managed by a particular Communication Manager module<br>
provides an address resolution request for another computing node that is also<br>
managed by that Communication Manager module, the routine may instead be able<br>
to respond to the request without interaction with the system manager module, such<br>
as based on information stored locally by the routine. In addition, while in the<br>
illustrated embodiment the received request is a request to provide a computing<br>
node's link-layer hardware address that corresponds to an indicated network-layer<br>
address, in other embodiments the address resolution request may have other<br>
forms.<br>
I0076J In the illustrated embodiment, the routine next continues to block 525<br>
to receive a response from the system manager module that includes a physical<br>
network address, and stores information locally that maps that physical network<br>
address to a unique dummy hardware address for later use by the routine (e.g.,<br>
based on a dummy virtual hardware address generated by the routine or provided in<br>
the response). As previously discussed, Figure 2C illustrates one example of how<br>
such a physical network address may be configured. The routine then provides the<br>
dummy hardware address to the requesting computing node, which it will use as part<br>
of communications that it sends to the computing node with the indicated virtual<br>
network address. As discussed in greater detail elsewhere, the physical network<br>
address response that is provided may in some embodiments include a physical<br>
network address that is specific to the indicated computing node of interest, while in<br>
other embodiments the physical network address may correspond to a sub-network<br>
or other group of multiple computing nodes to which the indicated computing node<br>
belongs, such as to correspond to another Communication Manager module that<br>
manages those other computing nodes. The routine then continues to block 530 to<br>
determine if blocks 515-525 were performed as part of the handling of an outgoing<br>
node communication, as discussed with respect to blocks 540-555, and if so,<br>
continues to block 550. While not illustrated here, in some embodiments the routine<br>
may instead receive an error response from the system manager module (e.g.,<br>
based on the requesting computing node not being authorized to communicate with<br>
the indicated destination computing node) or no response, and if so may not send<br>
any response to the requesting computing node or may send a corresponding error<br>
message to that computing node.<br>
[0077] If it is instead determined in block 510 that the type of communication<br>
or other message is an outgoing node communication from a computing node<br>
managed by the routine to another indicated remote destination computing node that<br>
is not managed by the routine, the routine continues to block 540 to identify the<br>
indicated hardware address for the destination computing node from the<br>
communication header. In block 545, the routine then determines whether that<br>
destination hardware address is a dummy hardware address previously mapped to a<br>
physical network address corresponding to the destination computing node, such as<br>
previously discussed with respect to block 525. If not, in some embodiments the<br>
routine continues to block 515 to perform blocks 515-525 to determine such a<br>
corresponding physical network address for the outgoing node communication, while<br>
in other embodiments such actions are not performed (e.g., if the indicated hardware<br>
address is not a mapped dummy address, the routine may cause the outgoing node<br>
communication to fail, such as with an error message back to the sending node). If<br>
the indicated hardware address is a mapped dummy address, or the check is not<br>
performed, the routine continues to block 550 to retrieve the physical network<br>
address that is mapped to the dummy hardware address, and rewrites the<br>
communication header in accordance with a networking address protocol for one or<br>
more intermediate networks between the sending and destination computing nodes<br>
using the retrieved address. As previously discussed, Figure 2C illustrates one<br>
example of how such a physical network address may be configured. The header<br>
re-writing may further include changing other information in the new header,<br>
including changing a virtual network address for the sending computing node to be a<br>
corresponding physical network address, and in at least some embodiments<br>
includes modifying the received communication without encapsulation as part of an<br>
overlay of the virtual network over the one or more intermediate physical networks.<br>
In block 555, the routine then facilitates providing of the modified outgoing<br>
communication to the destination computing node, such as by initiating forwarding of<br>
the modified outgoing communication over the intermediate network(s) to the<br>
destination computing node. While not illustrated here, in other embodiments<br>
various additional types of processing may be performed for outgoing node<br>
communications, such as to verify that the communications are valid or otherwise<br>
authorized in various ways (e.g., to verify that the sending computing node is<br>
authorized to send communications to the destination computing node, such as<br>
based on being associated with the same entity or part of the same virtual network,<br>
based on the sending and designation computing nodes being associated with<br>
different entities that are authorized to inter-communicate, based on the type of<br>
communication or other information specific to the communication, etc.).<br>
[0078] If it is instead determined in block 510 that the received message is an<br>
incoming node communication for one of the managed computing nodes from an<br>
external computing node, the routine continues to block 565 to identify the physical<br>
network addresses for the sending and destination computing nodes from the<br>
communication header. As previously discussed, Figure 2C illustrates one example<br>
of how such a physical network address may be configured. After block 565, the<br>
routine continues to block 570 to optionally verify that the incoming communication is<br>
valid in one or more ways. For example, the routine may determine whether the<br>
physical network address for the sending communication node is actually mapped to<br>
a computing node that corresponds to the source physical network address location,<br>
such as based on interactions with a system manager module and/or based on other<br>
information previously obtained and stored by the routine. In addition, the routine<br>
may determine whether the physical network address for the destination<br>
communication node corresponds to an actual managed computing node. While not<br>
illustrated here, if an incoming communication is determined to not be valid, the<br>
routine may take various actions not shown, such as to generate one or more errors<br>
and perform associated processing and/or drop the incoming communication without<br>
forwarding it to the indicated destination node. For example, if the incoming<br>
communication indicates a destination network address that does not correspond to<br>
a current managed computing node, the routine may drop the incoming<br>
communication and/or initiate an error message, although in some embodiments<br>
such error messages are not sent to the sending computing node. If the indicated<br>
destination network address corresponds to a computing node that was recently<br>
managed but is not currently managed (e.g., due to that computing node no longer<br>
being associated with the indicated virtual network, such as due to no longer<br>
executing one or more programs on behalf of a corresponding entity), the routine<br>
may provide an indication to the sending computing node that the destination<br>
computing node is no longer available.<br>
[0079] In the illustrated embodiment, after block 570, the routine continues to<br>
block 575 to retrieve the dummy hardware address and the virtual network address<br>
that are mapped to the physical destination network address, and rewrite the<br>
communication header for the virtual local network so that it appears to be sent to a<br>
computing node with that virtual network address and dummy hardware address.<br>
For example, in some embodiments the destination virtual network address may be<br>
obtained from the destination physical network address itself, such as from a subset<br>
of the bits of the destination physical network address. In addition, the dummy<br>
destination hardware address may have previously been mapped to the physical<br>
destination network address, such as previously discussed with respect to block<br>
525. In situations in which such prior mapping has not occurred, the routine may<br>
instead perform blocks 515-525 to obtain such information. The routine may<br>
similarly rewrite the communication header for the virtual local network so that it<br>
appears to be sent from a computing node with a source virtual network address and<br>
dummy source hardware address corresponding to the sending computing node.<br>
After block 575, the routine continues to block 580 to facilitate providing of the<br>
modified incoming communication to the destination computing node, such as by<br>
initiating forwarding of the modified incoming communication to the destination node.<br>
[0080] If it is instead determined in block 510 that a message of another type<br>
is received, the routine continues to block 585 to perform another indicated<br>
operation as appropriate, such as to store information about entities associated with<br>
particular computing nodes, update previously mapped or stored information to<br>
reflect changes with respect to computing nodes that are being managed or to<br>
remote computing nodes, etc.<br>
[0081] After blocks 555, 580, or 585, or if it is instead determined in block 530<br>
that the processing is not being performed with respect to an outgoing<br>
communication, the routine continues to block 595 to determine whether to continue.<br>
If so, the routine returns to block 505, and if not continues to block 599 and ends.<br>
[0082] In addition, various embodiments may provide mechanisms for<br>
customer users and other entities to interact with an embodiment of the system<br>
manager module for purpose of configuring computing nodes and their<br>
communications. For example, some embodiments may provide an interactive<br>
console (e.g. a client application program providing an interactive user interface, a<br>
Web browser-based interface, etc.) from which users can manage the creation or<br>
deletion of virtual networks and the specification of virtual network membership, as<br>
well as more general administrative functions related to the operation and<br>
management of hosted applications (e.g., the creation or modification of user<br>
accounts; the provision of new applications; the initiation, termination, or monitoring<br>
of hosted applications; the assignment of applications to groups; the reservation of<br>
time or other system resources; etc.). In addition, some embodiments may provide<br>
an API ("application programming interface") that allows other computing systems<br>
and programs to programmatically invoke at least some of the described<br>
functionality. Such APIs may be provided by libraries or class interfaces (e.g., to be<br>
invoked by programs written in C, C++, or Java) and/or network service protocols<br>
such as via Web services. Additional details related to the operation of example<br>
embodiments of a program execution service with which the described techniques<br>
may be used are available in U.S. Application No. 11/394,595, filed March 31, 2006<br>
and entitled "Managing Communications Between Computing Nodes;" U.S.<br>
Application No. 11/395,463, filed March 31, 2006 and entitled "Managing Execution<br>
of Programs by Multiple Computing Systems;" and U.S. Application No. 11/692,038,<br>
filed March 27, 2007 and entitled "Configuring Intercommunications Between<br>
Computing Nodes;" each of which is incorporated herein by reference in its entirety.<br>
[0083] It will also be appreciated that, although in some embodiments the<br>
described techniques are employed in the context of a data center housing multiple<br>
physical machines hosting virtual machines and/or in the context of a program<br>
execution service, other implementation scenarios are also possible. For example,<br>
the described techniques may be employed in the context an organization-wide<br>
network or networks operated by a business or other institution (e.g. university) for<br>
the benefit of its employees and/or members. Alternatively, the described<br>
techniques could be employed by a network service provider to improve network<br>
security, availability, and isolation. In addition, example embodiments may be<br>
employed within a data center or other context for a variety of purposes. For<br>
example, data center operators or users that sell access to hosted applications to<br>
customers may in some embodiments use the described techniques to provide<br>
network isolation between their customers' applications and data; software<br>
development teams may in some embodiments use the described techniques to<br>
provide network isolation between various environments that they use (e.g.,<br>
development, build, test, deployment, production, etc.); organizations may in some<br>
embodiments use the described techniques to isolate the computing resources<br>
utilized by one personnel group or department (e.g., human resources) from the<br>
computing resources utilized by another personnel group or department (e.g.,<br>
accounting); or data center operators or users that are deploying a multi-component<br>
application (e.g., a multi-tiered business application) may in some embodiments use<br>
the described techniques to provide functional decomposition and/or isolation for the<br>
various component types (e.g., Web front-ends, database servers, business rules<br>
engines, etc.). More generally, the described techniques may be used to virtualize<br>
physical networks to reflect almost any situation that would conventionally<br>
necessitate physical partitioning of distinct computing systems and/or networks.<br>
[0084] It will also be appreciated that in some embodiments the functionality<br>
provided by the routines discussed above may be provided in alternative ways, such<br>
as being split among more routines or consolidated into fewer routines. Similarly, in<br>
some embodiments illustrated routines may provide more or less functionality than is<br>
described, such as when other illustrated routines instead lack or include such<br>
functionality respectively, or when the amount of functionality that is provided is<br>
altered. In addition, while various operations may be illustrated as being performed<br>
in a particular manner (e.g., in serial or in parallel) and/or in a particular order, those<br>
skilled in the art will appreciate that in other embodiments the operations may be<br>
performed in other orders and in other manners. Those skilled in the art will also<br>
appreciate that the data structures discussed above may be structured in different<br>
manners, such as by having a single data structure split into multiple data structures<br>
or by having multiple data structures consolidated into a single data structure.<br>
Similarly, in some embodiments illustrated data structures may store more or less<br>
information than is described, such as when other illustrated data structures instead<br>
lack or include such information respectively, or when the amount or types of<br>
information that is stored is altered.<br>
[0085] Various aspects of the described embodiments can be further<br>
understood with respect to the following clauses:<br>
[0086] Clause 1. A method for a computing system to configure<br>
communications between computing nodes, the method comprising:<br>
under control of a communication manager module that manages<br>
communications for multiple associated computing nodes,<br>
receiving an outgoing communication from an executing program on a sending<br>
node that is one of the associated computing nodes for the communication manager<br>
module, the outgoing communication intended for a remote destination node that is<br>
one of multiple other computing nodes associated with another remote<br>
communication manager module, the outgoing communication having an indicated<br>
destination address that is a first destination network address for the destination node<br>
specified by the sending node using a first network addressing protocol for a first<br>
virtual network, the communication manager module being communicatively<br>
connected to the another communication manager module via at least one other<br>
second physical network that uses a distinct second network addressing protocol;<br>
automatically determining if the executing program is authorized to send the<br>
outgoing communication to the destination node; and<br>
if the executing program is determined to be authorized, sending the outgoing<br>
communication to the destination node over the at least one second network by,<br>
automatically determining a distinct second destination network address<br>
specified in accordance with the second network addressing protocol, the second<br>
destination network address including a partial destination network address for the<br>
destination node based on the second network addressing protocol that corresponds<br>
to the another communication manager module and including a representation of the<br>
first destination network address specified in accordance with the first network<br>
addressing protocol;<br>
automatically modifying the outgoing communication so as to enable an<br>
overlay of the first network on the at least one second network for the outgoing<br>
communication without encapsulating the outgoing communication in one or more<br>
distinct communications to be sent over the at least one second network, the<br>
modifying of the outgoing communication including changing the indicated destination<br>
address to the determined second destination network address; and<br>
initiating forwarding of the modified outgoing communication to the<br>
destination node via the at least one second network based on the second<br>
destination network address.<br>
[00871 The method of clause 1 wherein the program on the sending node is a<br>
first program being executed on behalf of a first customer of a program execution<br>
service, wherein the sending node is one of multiple virtual machines that are hosted<br>
by one of multiple physical computing systems associated with the program<br>
execution service, wherein the communication manager module is provided by a<br>
virtual machine manager module of the one physical computing system on behalf of<br>
the program execution service, wherein the destination node is one of multiple virtual<br>
machines that are hosted by another of the multiple physical computing systems and<br>
executes a second program on behalf of a second customer of the program<br>
execution service, and wherein the automatic determining if the executing first<br>
program is authorized to send the outgoing communication to the destination node<br>
includes interacting with a system manager module of the program execution service<br>
to determine if the first customer is authorized to send communications to the<br>
second customer.<br>
[0088] Clause 3. . The method of clause 1 wherein the first virtual network is<br>
a private virtual local network to which the sending node and the destination node<br>
belong, wherein the at least one second network is a non-private network, and<br>
wherein the method further comprises, under the control of the communication<br>
manager module:<br>
receiving an incoming communication for one of the multiple associated<br>
computing nodes from a second program executing on a remote sending computing<br>
node that is associated with the another remote communication manager module, the<br>
incoming communication having a representation of a first source network address for<br>
the remote sending node that is specified by the remote sending node using the first<br>
network addressing protocol, the incoming communication further having a<br>
representation of a third destination network address for the one associated<br>
computing node that is specified by the remote sending node using the first network<br>
addressing protocol;<br>
automatically determining if the incoming communication is valid based<br>
at least in part on the first source network address corresponding to a computing<br>
node that is allowed to send communications to the one associated computing node;<br>
and<br>
if the incoming communication is determined to be valid, using the third<br>
destination network address to provide the incoming communication to the one<br>
associated computing node.<br>
[0089] Clause 4. A computer-implemented method for configuring<br>
communications between computing nodes, the method comprising:<br>
receiving an outgoing communication from a sending computing node that is<br>
intended for a remote destination computing node, the outgoing communication<br>
having an indicated destination address that is a first destination network address for<br>
the destination node specified by the sending node using a first network addressing<br>
protocol for a first network, the sending node being communicatively connected to<br>
the destination node via at least one other second network that uses a distinct<br>
second network addressing protocol;<br>
before sending the outgoing communication over the one or more<br>
intermediate networks, automatically modifying the outgoing communication so as to<br>
enable an overlay of the first network on the at least one second network for the<br>
outgoing communication, the modifying of the outgoing communication including<br>
changing the indicated destination address to a distinct second destination network<br>
address using the second network addressing protocol, the second destination<br>
network address including a partial destination network address for the destination<br>
node that corresponds to multiple computing nodes that include the destination<br>
node, the second destination network address further including a representation of<br>
the first destination network address; and<br>
initiating forwarding of the modified outgoing communication to the<br>
destination node via the at least one second network based on the second<br>
destination network address.<br>
[0090] Clause 5. The method of clause 4 wherein the automatic modifying<br>
of the outgoing communication is performed under control of a first communication<br>
manager module that manages communications for one or more computing nodes<br>
that include the sending node, wherein the partial destination network address<br>
corresponds to a remote second communication manager module that manages<br>
communications for the multiple computing nodes that include the destination node,<br>
and wherein the method further comprises, under control of the second<br>
communication manager module:<br>
receiving the modified outgoing communication forwarded via the at least one<br>
second network as an incoming communication intended for the destination node;<br>
retrieving the representation of the first destination network address included<br>
in the second destination network address of the received incoming communication;<br>
and<br>
forwarding at least a portion of the received incoming communication to the<br>
destination node by using the first destination network address.<br>
[0091] Clause 6. The method of clause 5 wherein the received outgoing<br>
communication further includes an indicated first source network address for the<br>
sending node that is specified by the sending node using the first network<br>
addressing protocol, wherein the modifying of the outgoing communication by the<br>
first communication manager module further includes adding a distinct second<br>
source network address for the sending node using the second network addressing<br>
protocol that includes a representation of the first source network address, and<br>
wherein the method further comprises, under the control of the second<br>
communication manager module and before the forwarding of the communication<br>
portion to the destination node, verifying that the received incoming communication<br>
is valid based at least in part on the first source network address corresponding to a<br>
computing node allowed to communicate with the destination node and based at<br>
least in part on the second source network address corresponding to the first<br>
communication manager module.<br>
[0092] Clause 7. The method of clause 4 wherein the automatic modifying<br>
of the outgoing communication is performed under control of a first communication<br>
manager module that manages communications for one or more computing nodes<br>
that include the sending node, wherein the received outgoing communication further<br>
includes an indicated first source network address for the sending node that is<br>
specified by the sending node using the first network addressing protocol, and<br>
wherein the method further comprises, under the control of the first communication<br>
manager module and before the forwarding of the communication portion to the<br>
destination node, verifying that the received outgoing communication is valid based<br>
at least in part on the sending node being allowed to communicate with the<br>
destination node.<br>
10093] Clause 8. The method of clause 4 wherein the automatic modifying<br>
of the outgoing communication is performed under control of a first communication<br>
manager module that manages communications for one or more computing nodes<br>
that include the sending node, and wherein the method further comprises, under the<br>
control of the first communication manager module and before the modifying of the<br>
outgoing communication, automatically determining the partial destination network<br>
address for the destination node by retrieving stored information that indicates an<br>
association of the first destination network address for the destination node to a<br>
remote second communication manager module that manages communications for<br>
the multiple computing nodes that include the destination node.<br>
[0094] Clause 9. The method of clause 4 wherein the automatic modifying<br>
of the outgoing communication is performed under control of a first communication<br>
manager module that manages communications for one or more computing nodes<br>
that include the sending node, and wherein the method further comprises, under the<br>
control of the first communication manager module and before the modifying of the<br>
outgoing communication, automatically determining the partial destination network<br>
address for the destination node by interacting with a remote server that maintains<br>
an association of the first destination network address for the destination node to a<br>
remote second communication manager module that manages communications for<br>
the multiple computing nodes that include the destination node.<br>
[0095] Clause 10. The method of clause 9 wherein the sending and<br>
destination computing nodes are part of multiple computing nodes used by a<br>
program execution service to execute programs on behalf of customers, wherein the<br>
sending computing node executes a first program on behalf of a first customer,<br>
wherein the destination computing node executes a second program on behalf of a<br>
second customer, and wherein the remote server provides a system manager<br>
module for the program execution service.<br>
[0096] Clause 11. The method of clause 4 wherein the sending node and<br>
the destination node are part of a virtual local network, wherein the first destination<br>
network address is a virtual network address used by the sending node for the<br>
destination node on the virtual local network, and wherein the second destination<br>
network address is not available to the sending node.<br>
[0097] Clause 12. The method of clause 4 wherein the sending node and<br>
the destination node are each associated with an identifier corresponding to an<br>
entity on whose behalf the sending node and the destination node are operating,<br>
wherein the modifying of the outgoing communication further includes constructing<br>
the second destination network address so as to include the identifier, and wherein<br>
the modifying of the outgoing communication so as to enable the overlay of the first<br>
network on the at least one second network for the outgoing communication is<br>
performed without encapsulating the outgoing communication in one or more distinct<br>
communications to be sent over the at least one second network.<br>
[0098] Clause 13. The method of clause 4 wherein the first network<br>
addressing protocol is Internet Protocol version 4 (IPv4), and wherein the second<br>
network addressing protocol is Internet Protocol version 6 (IPv6).<br>
[0099] Clause 14. The method of clause 4 wherein the received outgoing<br>
communication further includes an indicated first source network address for the<br>
sending node that is specified by the sending node using the first network<br>
addressing protocol, wherein the destination computing node uses the first network<br>
addressing protocol for a network to which the destination computing node belongs,<br>
and wherein the modified outgoing communication further includes an indicated<br>
source address that includes a representation of the first source network address,<br>
so that the destination node receives a copy of the outgoing communication that is<br>
shown as being sent from the first source network address to the first destination<br>
network address.<br>
[0100] Clause 15. The method of clause 4 wherein the second network<br>
addressing protocol uses more bits to represent a network address than the first<br>
network addressing protocol, such that the overlay of the first network on the at<br>
least one second network includes constructing the second destination network<br>
address so as to use a subset of the bits for the second network addressing<br>
protocol to represent the first network, the subset of the bits of the constructed<br>
second destination network address including the representation of the first<br>
destination network address specified in accordance with the first network<br>
addressing protocol.<br>
[0101] Clause 16. The method of clause 4 wherein the sending node is one<br>
of multiple virtual machines hosted by a physical computing system, and wherein<br>
the method is performed by a virtual machine manager module that executes on the<br>
physical computing system to manage communications by the multiple hosted<br>
virtual machines.<br>
[0102] Clause 17. A computer-readable medium whose contents enable a<br>
computing system to configure communications between computing nodes, by<br>
performing a method comprising:<br>
receiving an outgoing communication sent by a sending node to a destination<br>
node using a first destination network address specified in accordance with a first<br>
network addressing protocol; and<br>
before sending the outgoing communication to the destination node over one<br>
or more networks that use a second network addressing protocol distinct from the<br>
first network addressing protocol,<br>
automatically determining a distinct second destination network address<br>
specified in accordance with the second network addressing protocol, the second<br>
destination network address including a partial destination network address for the<br>
destination node based on the second network addressing protocol and including an<br>
indication of the first destination network address; and<br>
modifying the outgoing communication so that it specifies the second<br>
destination network address for use in directing the modified outgoing<br>
communication to the destination node over the one or more networks, the<br>
modifying performed without encapsulating the outgoing communication in one or<br>
more distinct communications.<br>
[0103] Clause 18. The computer-readable medium of clause 17 wherein the<br>
sending node is one of multiple virtual machines hosted by a physical computing<br>
system, wherein the method is performed by a virtual machine manager module<br>
that executes on the physical computing system to manage communications by the<br>
multiple hosted virtual machines and further comprises forwarding the modified<br>
• outgoing communication to the one or more networks, wherein the first network<br>
addressing protocol is Internet Protocol version 4 (IPv4), wherein the sending node<br>
is part of a first virtual network that uses the first network addressing protocol,<br>
wherein the second network addressing protocol is Internet Protocol version 6<br>
(IPv6), wherein the one or more networks are distinct from the first network and are<br>
part of at least one intermediate physical network between the sending node and<br>
destination node that uses the second networking addressing protocol, and wherein<br>
the modifying of the outgoing communication is performed so as to enable an<br>
overlay of the first network on the one or more networks.<br>
[0104] Clause 19. The computer-readable medium of clause 17 wherein the<br>
computer-readable medium is at least one of a memory in a computing device and<br>
a data transmission medium transmitting a generated signal containing the<br>
contents.<br>
[0105] Clause 20. The computer-readable medium of clause 17 wherein the<br>
contents are instructions that when executed cause the computing system to<br>
perform the method.<br>
[0106] Clause 21. A system structured to configure communications<br>
between computing nodes, comprising:<br>
one or more memories of one or more computing systems; and<br>
at least one of multiple communication manager modules that are configured<br>
to manage communications between multiple computing nodes via one or more<br>
intermediate networks, such that each communication manager module manages<br>
outgoing communications for an associated group of one or more of the multiple<br>
computing nodes by:<br>
after a sending computing node initiates a communication to a destination<br>
computing node that is part of the associated group for another of the<br>
communication manager modules, the sending computing node being one of the<br>
computing nodes of the associated group for the communication manager module,<br>
determining a destination network address for use with the communication that is<br>
specified in accordance with a network addressing protocol used by the one or more<br>
intermediate networks, the determined destination network address including a<br>
partial network address that corresponds to the another communication manager<br>
module whose associated group of computing nodes includes the destination node,<br>
the determined destination network address further including an indication of a<br>
network address of the destination node specified in accordance with a distinct other<br>
network addressing protocol used by the sending computing node; and<br>
using the determined destination network address to forward the initiated<br>
communication to the destination node via the one or more intermediate networks.<br>
[0107] Clause 22. The system of clause 21 wherein the determining by a<br>
communication manager module of the destination network address for use with a<br>
communication initiated by a sending node to a destination node includes<br>
interacting with a remote system manager module that maintains information about<br>
the associated group of computing nodes for each of the communication manager<br>
modules, the interacting including providing an indication to the system manager<br>
module of the destination node network address specified in accordance with the<br>
other network addressing protocol used by the sending node, the interacting further<br>
including receiving an indication from the system manager module of the partial<br>
network address that corresponds to the another communication manager module<br>
whose associated group of computing nodes includes the destination node, and<br>
wherein the system further comprises one or more system manager modules<br>
configured to interact with the multiple communication manager modules.<br>
[0108J Clause 23. The system of clause 21 further comprising multiple<br>
computing systems that provide the multiple communication manager modules, one<br>
or more of the computing systems each hosting multiple virtual machines that each<br>
provide one of the multiple computing nodes and executing one of the<br>
communication manager modules as part of a virtual machine manager module for<br>
the computing system, such that the computing nodes provided by the hosted<br>
virtual machines of the computing system are the associated group of computing<br>
nodes for the executing communication manager module.<br>
[0109] Clause 24. The system of clause 21 wherein the communication<br>
manager modules each includes software instructions for execution in memory of<br>
one or more computing systems.<br>
[0110] Clause 25. The system of clause 21 wherein each communication<br>
manager module consists of a means for managing outgoing communications for<br>
an associated group of one or more of the multiple computing nodes by:<br>
after a sending computing node initiates a communication to a destination<br>
computing node that is part of the associated group for another of the<br>
communication manager modules, the sending computing node being one of the<br>
computing nodes of the associated group for the communication manager module,<br>
determining a destination network address for use with the communication that is<br>
specified in accordance with a network addressing protocol used by the one or more<br>
intermediate networks, the determined destination network address including a<br>
partial network address that corresponds to the another communication manager<br>
module whose associated group of computing nodes includes the destination node,<br>
the determined destination network address further including an indication of a<br>
network address of the destination node specified in accordance with a distinct other<br>
network addressing protocol used by the sending computing node; and<br>
using the determined destination network address to forward the initiated<br>
communication to the destination node via the one or more intermediate networks.<br>
[0111] Clause 26. A method for a computing system to manage<br>
communications between computing nodes, the method comprising: under control of<br>
a communication manager module that manages communications for multiple<br>
associated computing nodes,<br>
receiving an indication of an outgoing communication from an executing<br>
program on a sending node that is one of the associated computing nodes for the<br>
communication manager module, the outgoing communication being intended for a<br>
remote destination node that is one of multiple other computing nodes associated<br>
with another remote communication manager module, the sending and destination<br>
nodes being part of a first virtual network that uses a first network addressing protocol<br>
such that the destination node has a first destination network address that is a virtual<br>
network address for the first virtual network specified in accordance with the first<br>
network addressing protocol, the communication manager module being<br>
communicatively connected to the another communication manager module via at<br>
least one other second physical network that uses a distinct second network<br>
addressing protocol; and<br>
facilitating sending of the outgoing communication from the sending node to<br>
the destination node over the at least one second network by,<br>
automatically generating a distinct second destination network address for the<br>
destination node that is specified in accordance with the second network addressing<br>
protocol, the second destination network address including a partial destination<br>
network address for the destination node based on the second network addressing<br>
protocol that corresponds to the another communication manager module and<br>
including an embedded representation of the first destination network address<br>
specified in accordance with the first network addressing protocol; and<br>
initiating use of the generated second destination network address to forward<br>
the outgoing communication to the destination node via routing of the forwarded<br>
communication to the another communication manager module over the at least one<br>
second network.<br>
[0112] Clause 27. The method of clause 26 wherein the program on the<br>
sending node is a first program being executed on behalf of a first customer of a<br>
program execution service, wherein the sending node is one of multiple virtual<br>
machines that are hosted by one of multiple physical computing systems associated<br>
with the program execution service, wherein the communication manager module is<br>
provided by a virtual machine manager module of the one physical computing<br>
system, wherein the destination node is one of multiple virtual machines that are<br>
hosted by another of the multiple physical computing systems, and wherein the<br>
automatic generating of the distinct second destination network address for the<br>
destination node includes interacting with a system manager module of the program<br>
execution service to determine the partial destination network address for the<br>
destination node that corresponds to the another communication manager module.<br>
[0113] Clause 28. The method of clause 26 wherein the first virtual network<br>
is a private virtual local network to which the sending node and the destination node<br>
belong, wherein one or more other of the multiple computing nodes associated with<br>
the communication manager module belong to one or more other virtual networks,<br>
wherein the at least one second network is a non-private network over which<br>
communications for the first virtual network and for the one or more other virtual<br>
networks are forwarded, and wherein the automatically generated second<br>
destination network address for the destination node further includes an identifier<br>
that represents the first virtual network so as to enable resolution of the first<br>
destination network address included in the generated second destination network<br>
address.<br>
[0114] Clause 29. A computer-implemented method for managing<br>
communications between computing nodes, the method comprising:<br>
receiving an indication related to a communication to be sent from a source<br>
computing node to a destination computing node, the source and destination<br>
computing nodes being part of a virtual network that uses a first network addressing<br>
protocol such that the destination computing node has a virtual network address for<br>
the virtual network specified in accordance with the first network addressing protocol,<br>
the source computing node being communicatively connected to the destination<br>
computing node via at least one intermediate network that uses a distinct second<br>
network addressing protocol;<br>
facilitating sending of the communication from the source computing node to<br>
the destination computing node over the at least one intermediate network, the<br>
facilitating including automatically generating a destination network address for the<br>
destination computing node that is specified in accordance with the second network<br>
addressing protocol, the destination network address including a partial destination<br>
network address for the destination computing node that corresponds to multiple<br>
computing nodes and including a representation of the virtual network address for<br>
the destination computing node; and<br>
providing an indication of the generated destination network address for use<br>
in routing the communication over the at least one intermediate network to the<br>
destination computing node.<br>
[0115] Clause 30. The method of clause 29 wherein the automatic<br>
generating of the destination network address is performed under control of a first<br>
communication manager module that manages communications for one or more<br>
computing nodes that include the source computing node, and wherein the partial<br>
destination network address corresponds to a remote second communication<br>
manager module that manages communications for the multiple computing nodes<br>
that include the destination node, such that the routing of the communication over<br>
the at least one intermediate network to the destination computing node includes<br>
routing the communication to the second communication manager module.<br>
[116] Clause 31. The method of clause 30 wherein the method further<br>
comprises, under control of the second communication manager module, after the<br>
communication is routed to the second communication manager module, using the<br>
virtual network address included in the generated destination network address to<br>
identify the destination computing node, and forwarding the communication to the<br>
identified destination computing node.<br>
[117] Clause 32. The method of clause 29 wherein the generated<br>
destination network address further includes an identifier for the virtual network, so<br>
as to enable identification of the destination computing node for the communication<br>
from the generated destination network address based at least in part on<br>
determining a computing node to which is assigned the virtual network address for<br>
the virtual network.<br>
[0118] Clause 33. The method of clause 29 wherein the partial destination<br>
network address of the generated destination network address reflects a topology of<br>
the at least one intermediate network so as to correspond to a portion of the at least<br>
one intermediate network that includes the multiple computing nodes.<br>
[0119] Clause 34. The method of clause 29 wherein the partial destination<br>
network address of the generated destination network address corresponds to a<br>
physical sub-network in which the multiple computing nodes are co-located.<br>
[0120] Clause 35. The method of clause 29 wherein the automatic<br>
generating of the destination network address is performed under control of a<br>
system manager module that maintains information about multiple virtual networks<br>
that each include multiple computing nodes, the maintained information including<br>
information about computing nodes to which virtual network addresses for the<br>
multiple virtual networks are assigned.<br>
[0121] Clause 36. The method of clause 29 wherein the automatic<br>
generating of the destination network address is performed under control of a<br>
communication manager module that manages communications for one or more<br>
computing nodes that include the source computing node, and wherein the<br>
automatic generating of the destination network address includes interacting with a<br>
remote system manager module that maintains information about computing nodes<br>
to which virtual network addresses are assigned, the interacting including obtaining<br>
information from the remote system manager module corresponding to the<br>
destination network address.<br>
[0122] Clause 37. The method of clause 29 wherein the received indication<br>
related to the communication to be sent from the source computing node to the<br>
destination computing node is an outgoing communication sent by the source<br>
computing node, the outgoing communication using the virtual network address of<br>
the destination computing node to indicate an intended recipient of the outgoing<br>
communication, and wherein the providing of the indication of the generated<br>
destination network address includes forwarding the outgoing communication to the<br>
at least one intermediate network so as to use the generated destination network<br>
address to route the communication over the at least one intermediate network.<br>
[0123] Clause 38. The method of clause 29 wherein the received indication<br>
related to the communication to be sent from the source computing node to the<br>
destination computing node is a request from the source computing node for<br>
addressing information for the destination computing node for use in later sending<br>
the communication, wherein the method further comprises mapping dummy<br>
addressing information for the destination computing node to the generated<br>
destination network address and providing the dummy addressing information to the<br>
source computing node, and wherein the providing of the indication of the generated<br>
destination network address includes, after the source computing node later sends<br>
the communication and uses the provided dummy addressing information to indicate<br>
the destination computing node, using the generated destination network address in<br>
place of the provided dummy addressing information.<br>
[0124] Clause 39. The method of clause 29 wherein the source computing<br>
node is one of multiple virtual machines hosted by a first physical computing system,<br>
wherein the first physical computing system is one of multiple physical computing<br>
systems used by a program execution service to execute programs on behalf of<br>
customers, wherein the source computing node executes one or more programs on<br>
behalf of one of the customers of the program execution service, wherein the<br>
method is performed by a virtual machine manager module that executes on the first<br>
physical computing system to manage communications by the multiple hosted virtual<br>
machines on behalf of the program execution service, and wherein the facilitating of<br>
the sending of the communication from the source computing node to the<br>
destination computing node over the at least one intermediate network is performed<br>
on behalf of the program execution service so as to provide the virtual network to the<br>
one customer.<br>
[0125] Clause 40. The method of clause 29 wherein the providing of the<br>
indication of the generated destination network address for use in routing the<br>
communication over the at least one intermediate network to the destination<br>
computing node is performed so as to enable an overlay of the virtual network on<br>
the at least one intermediate network for the communication without encapsulating<br>
the communication in one or more distinct communications to be sent over the at<br>
least one intermediate network.<br>
[0126] Clause 41. A computer-readable medium whose contents enable a<br>
computing system to manage communications, by performing a method comprising:<br>
receiving an indication related to a communication intended for a destination<br>
node, the destination node being part of a first virtual network that uses a first<br>
network addressing protocol and having an associated first virtual network address<br>
using the first network addressing protocol, the communication to be sent via one or<br>
more networks that use a distinct second network addressing protocol;<br>
automatically determining a destination network address for the destination<br>
node using the second network addressing protocol, the destination network address<br>
including a partial destination network address for the destination node based on the<br>
second network addressing protocol and including an indication of the first virtual<br>
network address; and<br>
providing an indication of the determined destination network address so as<br>
to enable sending of the communication over the one or more networks to the<br>
destination node.<br>
[0127] Clause 42. The computer-readable medium of clause 41 wherein<br>
the communication is from a sending node that is one of multiple virtual machines<br>
hosted by a physical computing system and that is part of the first virtual network,<br>
wherein the one or more networks are part of at least one intermediate physical<br>
network between the sending node and destination node that uses the second<br>
networking addressing protocol, wherein the method is performed by a virtual<br>
machine manager module that executes on the physical computing system to<br>
manage communications by the multiple hosted virtual machines and further<br>
comprises forwarding the communication to the one or more networks using the<br>
determined destination network address so as to enable an overlay of the first virtual<br>
network on the one or more networks, wherein the first network addressing protocol<br>
is Internet Protocol version 4 (IPv4), wherein the second network addressing<br>
protocol is Internet Protocol version 6 (IPv6), and wherein the determining of the<br>
destination network address for the destination node includes generating the<br>
destination network address.<br>
[0128] Clause 43. The computer-readable medium of clause 41 wherein the<br>
computer-readable medium is at least one of a memory in a computing device and a<br>
data transmission medium transmitting a generated signal containing the contents.<br>
[0129] Clause 44. The computer-readable medium of clause 41 wherein the<br>
contents are instructions that when executed cause the computing system to<br>
perform the method.<br>
[0130] Clause 45. The computer-readable medium of clause 41 wherein the<br>
contents include one or more data structures comprising one or more entries for use<br>
in storing network addresses, the one or more entries including a first entry that<br>
contains the first network address specified in accordance with the first network<br>
addressing protocol.<br>
[0131] Clause 46. A system structured to manage communications between<br>
computing nodes, comprising:<br>
one or more memories of one or more computing systems; and<br>
at least one of multiple communication manager modules that are configured to<br>
manage communications between multiple computing nodes via one or more<br>
intermediate networks, such that each communication manager module manages<br>
communications for an associated group of one or more of the multiple computing<br>
nodes by:<br>
after receiving an indication related to one or more communications from a<br>
source computing node to a destination computing node that is part of the<br>
associated group for another of the communication manager modules, the source<br>
computing node being one of the computing nodes of the associated group for the<br>
communication manager module, determining a destination network address for use<br>
with the one or more communications that is specified in accordance with a network<br>
addressing protocol used by the one or more intermediate networks, the determined<br>
destination network address including a partial network address that corresponds to<br>
the another communication manager module whose associated group of computing<br>
nodes includes the destination node, the determined destination network address<br>
further including an indication of a network address of the destination node specified<br>
in accordance with a distinct other network addressing protocol used by the source<br>
computing node; and<br>
providing an indication of the determined destination network address for use<br>
in sending the one or more communications over the one or more intermediate<br>
networks to the destination computing node.<br>
[0132] Clause 47. The system of clause 46 wherein the determining by a<br>
communication manager module of the destination network address for use with one<br>
or more communication includes interacting with a remote system manager module<br>
that maintains information about the associated group of computing nodes for each<br>
of the communication manager modules, the interacting including providing an<br>
indication to the system manager module of the destination node network address<br>
specified in accordance with the other network addressing protocol used by the<br>
source computing node, the interacting further including receiving an indication from<br>
the system manager module of the partial network address that corresponds to the<br>
another communication manager module whose associated group of computing<br>
nodes includes the destination computing node, and wherein the system further<br>
comprises one or more system manager modules configured to interact with the<br>
multiple communication manager modules.<br>
[0133] Clause 48. The system of clause 46 further comprising multiple<br>
computing systems that provide the multiple communication manager modules, one<br>
or more of the computing systems each hosting multiple virtual machines that each<br>
provide one of the multiple computing nodes and executing one of the<br>
communication manager modules as part of a virtual machine manager module for<br>
the computing system, such that the computing nodes provided by the hosted virtual<br>
machines of the computing system are the associated group of computing nodes for<br>
the executing communication manager module.<br>
[0134] Clause 49. The system of clause 46 wherein the at least one<br>
communication manager modules each includes software instructions for execution<br>
in memory of one or more computing systems.<br>
[0135] Clause 50. The system of clause 46 wherein each of the at least one<br>
communication manager modules consists of a means for managing outgoing<br>
communications for an associated group of one or more of the multiple computing<br>
nodes by:<br>
after receiving an indication related to one or more communications from a<br>
source computing node to a destination computing node that is part of the<br>
associated group for another of the communication manager modules, the source<br>
computing node being one of the computing nodes of the associated group for the<br>
communication manager module, determining a destination network address for use<br>
with the one or more communications that is specified in accordance with a network<br>
addressing protocol used by the one or more intermediate networks, the determined<br>
destination network address including a partial network address that corresponds to<br>
the another communication manager module whose associated group of computing<br>
nodes includes the destination node, the determined destination network address<br>
further including an indication of a network address of the destination node specified<br>
in accordance with a distinct other network addressing protocol used by the source<br>
computing node; and<br>
providing an indication of the determined destination network address for use<br>
in sending the one or more communications over the one or more intermediate<br>
networks to the destination computing node.<br>
[0136] From the foregoing it will be appreciated that, although specific<br>
embodiments have been described herein for purposes of illustration, various<br>
modifications may be made without deviating from the spirit and scope of the<br>
invention. Accordingly, the invention is not limited except as by the appended claims<br>
and the elements recited therein. In addition, while certain aspects of the invention<br>
are presented below in certain claim forms, the inventors contemplate the various<br>
aspects of the invention in any available claim form. For example, while only some<br>
aspects of the invention may currently be recited as being embodied in a computer-<br>
readable medium, other aspects may likewise be so embodied.<br>
CLAIMS<br>
What is claimed is:<br>
1. A method for a computing system to configure communications<br>
between computing nodes, the method comprising:<br>
under control of a communication manager module that manages<br>
communications for multiple associated computing nodes,<br>
receiving an outgoing communication from an executing program on a<br>
sending node that is one of the associated computing nodes for the communication<br>
manager module, the outgoing communication intended for a remote destination<br>
node that is one of multiple other computing nodes associated with another remote<br>
communication manager module, the outgoing communication having an indicated<br>
destination address that is a first destination network address for the destination node<br>
specified by the sending node using a first network addressing protocol for a first<br>
virtual network, the communication manager module being communicatively<br>
connected to the another communication manager module via at least one other<br>
second physical network that uses a distinct second network addressing protocol;<br>
automatically determining if the executing program is authorized to<br>
send the outgoing communication to the destination node; and<br>
if the executing program is determined to be authorized, sending the<br>
outgoing communication to the destination node over the at least one second<br>
network by,<br>
automatically determining a distinct second destination network<br>
address specified in accordance with the second network addressing protocol, the<br>
second destination network address including a partial destination network address<br>
for the destination node based on the second network addressing protocol that<br>
corresponds to the another communication manager module and including a<br>
representation of the first destination network address specified in accordance with<br>
the first network addressing protocol;<br>
automatically modifying the outgoing communication so as to enable an<br>
overlay of the first network on the at least one second network for the outgoing<br>
communication without encapsulating the outgoing communication in one or more<br>
distinct communications to be sent over the at feast one second network, the<br>
modifying of the outgoing communication including changing the indicated destination<br>
address to the determined second destination network address; and<br>
initiating forwarding of the modified outgoing communication to the<br>
destination node via the at least one second network based on the second<br>
destination network address.<br>
2. A computer-implemented method for configuring communications<br>
between computing nodes, the method comprising:<br>
receiving an outgoing communication from a sending computing node<br>
that is intended for a remote destination computing node, the outgoing<br>
communication having an indicated destination address that is a first destination<br>
network address for the destination node specified by the sending node using a first<br>
network addressing protocol for a first network, the sending node being<br>
communicatively connected to the destination node via at least one other second<br>
network that uses a distinct second network addressing protocol;<br>
before sending the outgoing communication over the one or more<br>
intermediate networks, automatically modifying the outgoing communication so as to<br>
enable an overlay of the first network on the at least one second network for the<br>
outgoing communication, the modifying of the outgoing communication including<br>
changing the indicated destination address to a distinct second destination network<br>
address using the second network addressing protocol, the second destination<br>
network address including a partial destination network address for the destination<br>
node that corresponds to multiple computing nodes that include the destination<br>
node, the second destination network address further including a representation of<br>
the first destination network address; and<br>
initiating forwarding of the modified outgoing communication to the<br>
destination node via the at least one second network based on the second<br>
destination network address.<br>
3. The method of claim 2 wherein the automatic modifying of the outgoing<br>
communication is performed under control of a first communication manager module<br>
that manages communications for one or more computing nodes that include the<br>
sending node, wherein the partial destination network address corresponds to a<br>
remote second communication manager module that manages communications for<br>
<br>
the multiple computing nodes that include the destination node, and wherein the<br>
method further comprises, under control of the second communication manager<br>
module:<br>
receiving the modified outgoing communication forwarded via the at<br>
least one second network as an incoming communication intended for the<br>
destination node;<br>
retrieving the representation of the first destination network address<br>
included in the second destination network address of the received incoming<br>
communication; and<br>
forwarding at least a portion of the received incoming communication<br>
to the destination node by using the first destination network address.<br>
4. The method of claim 2 wherein the sending node and the destination<br>
node are each associated with an identifier corresponding to an entity on whose<br>
behalf the sending node and the destination node are operating, wherein the<br>
modifying of the outgoing communication further includes constructing the second<br>
destination network address so as to include the identifier, and wherein the<br>
modifying of the outgoing communication so as to enable the overlay of the first<br>
network on the at least one second network for the outgoing communication is<br>
performed without encapsulating the outgoing communication in one or more distinct<br>
communications to be sent over the at least one second network.<br>
5. The method of claim 2 wherein the received outgoing communication<br>
further includes an indicated first source network address for the sending node that<br>
is specified by the sending node using the first network addressing protocol, wherein<br>
the destination computing node uses the first network addressing protocol for a<br>
network to which the destination computing node belongs, and wherein the modified<br>
outgoing communication further includes an indicated source address that includes<br>
a representation of the first source network address, so that the destination node<br>
receives a copy of the outgoing communication that is shown as being sent from the<br>
first source network address to the first destination network address.<br>
6. A computer-readable medium whose contents enable a computing<br>
system to configure communications between computing nodes, by performing a<br>
method comprising:<br>
receiving an outgoing communication sent by a sending node to a destination<br>
node using a first destination network address specified in accordance with a first<br>
network addressing protocol; and<br>
before sending the outgoing communication to the destination node over one<br>
or more networks that use a second network addressing protocol distinct from the<br>
first network addressing protocol,<br>
automatically determining a distinct second destination network address<br>
specified in accordance with the second network addressing protocol, the second<br>
destination network address including a partial destination network address for the<br>
destination node based on the second network addressing protocol and including an<br>
indication of the first destination network address; and<br>
modifying the outgoing communication so that it specifies the second<br>
destination network address for use in directing the modified outgoing<br>
communication to the destination node over the one or more networks, the<br>
modifying performed without encapsulating the outgoing communication in one or<br>
more distinct communications.<br>
7. A system structured to configure communications between computing<br>
nodes, comprising:<br>
one or more memories of one or more computing systems; and<br>
at least one of multiple communication manager modules that are configured<br>
to manage communications between multiple computing nodes via one or more<br>
intermediate networks, such that each communication manager module manages<br>
outgoing communications for an associated group of one or more of the multiple<br>
computing nodes by:<br>
after a sending computing node initiates a communication to a destination<br>
computing node that is part of the associated group for another of the<br>
communication manager modules, the sending computing node being one of the<br>
computing nodes of the associated group for the communication manager module,<br>
determining a destination network address for use with the communication that is<br>
specified in accordance with a network addressing protocol used by the one or more<br>
intermediate networks, the determined destination network address including a<br>
partial network address that corresponds to the another communication manager<br>
module whose associated group of computing nodes includes the destination node,<br>
the determined destination network address further including an indication of a<br>
network address of the destination node specified in accordance with a distinct other<br>
network addressing protocol used by the sending computing node; and<br>
using the determined destination network address to forward the initiated<br>
communication to the destination node via the one or more intermediate networks.<br>
8. The system of claim 7 wherein the determining by a communication<br>
manager module of the destination network address for use with a communication<br>
initiated by a sending node to a destination node includes interacting with a remote<br>
system manager module that maintains information about the associated group of<br>
computing nodes for each of the communication manager modules, the interacting<br>
including providing an indication to the system manager module of the destination<br>
node network address specified in accordance with the other network addressing<br>
protocol used by the sending node, the interacting further including receiving an<br>
indication from the system manager module of the partial network address that<br>
corresponds to the another communication manager module whose associated<br>
group of computing nodes includes the destination node, and wherein the system<br>
further comprises one or more system manager modules configured to interact with<br>
the multiple communication manager modules.<br>
9. The system of claim 7 further comprising multiple computing systems<br>
that provide the multiple communication manager modules, one or more of the<br>
computing systems each hosting multiple virtual machines that each provide one of<br>
the multiple computing nodes and executing one of the communication manager<br>
modules as part of a virtual machine manager module for the computing system,<br>
such that the computing nodes provided by the hosted virtual machines of the<br>
computing system are the associated group of computing nodes for the executing<br>
communication manager module.<br>
10. A computer-implemented method for managing communications<br>
between computing nodes, the method comprising:<br>
receiving an indication related to a communication to be sent from a source<br>
computing node to a destination computing node, the source and destination<br>
computing nodes being part of a virtual network that uses a first network addressing<br>
protocol such that the destination computing node has a virtual network address for<br>
the virtual network specified in accordance with the first network addressing protocol,<br>
the source computing node being communicatively connected to the destination<br>
computing node via at least one intermediate network that uses a distinct second<br>
network addressing protocol;<br>
facilitating sending of the communication from the source computing node to<br>
the destination computing node over the at least one intermediate network, the<br>
facilitating including automatically generating a destination network address for the<br>
destination computing node that is specified in accordance with the second network<br>
addressing protocol, the destination network address including a partial destination<br>
network address for the destination computing node that corresponds to multiple<br>
computing nodes and including a representation of the virtual network address for<br>
the destination computing node; and<br>
providing an indication of the generated destination network address for use<br>
in routing the communication over the at least one intermediate network to the<br>
destination computing node.<br>
11. The method of claim 10 wherein the automatic generating of the<br>
destination network address is performed under control of a first communication<br>
manager module that manages communications for one or more computing nodes<br>
that include the source computing node, and wherein the partial destination network<br>
address corresponds to a remote second communication manager module that<br>
manages communications for the multiple computing nodes that include the<br>
destination node, such that the routing of the communication over the at least one<br>
intermediate network to the destination computing node includes routing the<br>
communication to the second communication manager module.<br>
12. The method of claim 10 wherein the received indication related to the<br>
communication to be sent from the source computing node to the destination<br>
computing node is an outgoing communication sent by the source computing node,<br>
the outgoing communication using the virtual network address of the destination<br>
computing node to indicate an intended recipient of the outgoing communication,<br>
and wherein the providing of the indication of the generated destination network<br>
address includes forwarding the outgoing communication to the at least one<br>
intermediate network so as to use the generated destination network address to<br>
route the communication over the at least one intermediate network.<br>
13. The method of claim 10 wherein the providing of the indication of the<br>
generated destination network address for use in routing the communication over<br>
the at least one intermediate network to the destination computing node is<br>
performed so as to enable an overlay of the virtual network on the at least one<br>
intermediate network for the communication without encapsulating the<br>
communication in one or more distinct communications to be sent over the at least<br>
one intermediate network.<br>
14. A computer-readable medium whose contents enable a computing<br>
system to manage communications, by performing a method comprising:<br>
receiving an indication related to a communication intended for a destination<br>
node, the destination node being part of a first virtual network that uses a first<br>
network addressing protocol and having an associated first virtual network address<br>
using the first network addressing protocol, the communication to be sent via one or<br>
more networks that use a distinct second network addressing protocol;<br>
automatically determining a destination network address for the destination<br>
node using the second network addressing protocol, the destination network address<br>
including a partial destination network address for the destination node based on the<br>
second network addressing protocol and including an indication of the first virtual<br>
network address; and<br>
providing an indication of the determined destination network address so as<br>
to enable sending of the communication over the one or more networks to the<br>
destination node.<br>
15. A system structured to manage communications between computing<br>
nodes, comprising:<br>
one or more memories of one or more computing systems; and<br>
at least one of multiple communication manager modules that are configured<br>
to manage communications between multiple computing nodes via one or more<br>
intermediate networks, such that each communication manager module manages<br>
communications for an associated group of one or more of the multiple computing<br>
nodes by:<br>
after receiving an indication related to one or more communications from a<br>
source computing node to a destination computing node that is part of the<br>
associated group for another of the communication manager modules, the source<br>
computing node being one of the computing nodes of the associated group for the<br>
communication manager module, determining a destination network address for use<br>
with the one or more communications that is specified in accordance with a network<br>
addressing protocol used by the one or more intermediate networks, the determined<br>
destination network address including a partial network address that corresponds to<br>
the another communication manager module whose associated group of computing<br>
nodes includes the destination node, the determined destination network address<br>
further including an indication of a network address of the destination node specified<br>
in accordance with a distinct other network addressing protocol used by the source<br>
computing node; and<br>
<br>
providing an indication of the determined destination network address for use<br>
in sending the one or more communications over the one or more intermediate<br>
networks to the destination computing node.<br>
(54) Title: CONFIGURING COMMUNICATIONS BETWEEN COMPUTING NODES<br>
(57) Abstract: Techniques are described for configuring communications between multiple computing nodes, such as computing<br>
nodes that are separated by one or more physical networks. In some situations, the techniques may be used to provide a virtual<br>
network between multiple computing nodes that are separated by one or more intermediate physical networks, such as from the<br>
edge of the one or more intermediate physical networks by modifying communications that enter and/or leave the intermediate<br>
physical networks.<br>
<br>
Techniques are described for configuring communications between multiple computing nodes, such as computing<br>
nodes that are separated by one or more physical networks. In some situations, the techniques may be used to provide a virtual<br>
network between multiple computing nodes that are separated by one or more intermediate physical networks, such as from the<br>
edge of the one or more intermediate physical networks by modifying communications that enter and/or leave the intermediate<br>
physical networks.</z-identifier></z-identifier></z-identifier></z-identifier></z-identifier></slash></dot></siash></slash></dot></dot></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/viewdoc.aspx?id=TQFZWosxgRm9j8JO12B1/g==&amp;amp;loc=wDBSZCsAt7zoiVrqcFJsRw==" target="_blank" style="word-wrap:break-word;">http://ipindiaonline.gov.in/patentsearch/GrantedSearch/viewdoc.aspx?id=TQFZWosxgRm9j8JO12B1/g==&amp;amp;loc=wDBSZCsAt7zoiVrqcFJsRw==</a></p>
		<br>
		<div class="pull-left">
			<a href="280014-system-and-method-for-information-handling-system-image-network-communication.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="280016-method-of-and-an-apparatus-for-in-situ-ultrasonic-rail-inspection-of-a-railroad-rail.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>280015</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>3543/KOLNP/2010</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>06/2017</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>10-Feb-2017</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>07-Feb-2017</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>24-Sep-2010</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>AMAZON TECHNOLOGIES, INC.</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>P.O. BOX 8102, RENO, NV 89507 UNITED STATES OF AMERICA</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>COHN, DANIEL, T.</td>
											<td>1200 12TH AVENUE SOUTH, SUITE 1200, SEATTLE, WA 98144 UNITED STATES OF AMERICA</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>G06F 15/177</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/US2009/038667</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2009-03-27</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>12/060,138</td>
									<td>2008-03-31</td>
								    <td>U.S.A.</td>
								</tr>
								<tr>
									<td>2</td>
									<td>12/060,074</td>
									<td>2008-03-31</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/280015-configuring-communications-between-computing-nodes by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2024 22:34:20 GMT -->
</html>
