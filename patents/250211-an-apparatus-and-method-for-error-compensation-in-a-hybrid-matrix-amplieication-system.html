<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/250211-an-apparatus-and-method-for-error-compensation-in-a-hybrid-matrix-amplieication-system by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 14:33:49 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 250211:&quot;AN APPARATUS AND METHOD FOR ERROR COMPENSATION IN A HYBRID MATRIX AMPLIEICATION SYSTEM&quot;</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">&quot;AN APPARATUS AND METHOD FOR ERROR COMPENSATION IN A HYBRID MATRIX AMPLIEICATION SYSTEM&quot;</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A base station subsystem includes at least one transmit branch having a forward path that includes a signal processing unit coupled at an input to an input Fourier Transform Matrix (FTM) and at an output to an output FTM. The transmit branch further includes two error compensation loops, an inner feedback loop and an outer feedback loop. The inner feedback loop provides error compensation for error introduced by the signal processing section to a signal input to the transmit branch. The outer loop provides error compensation for all residual error introduced into the signal when routed through the transmit branch forward path after error compensation may be performed by the inner feedback loop.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>The present invention relates to an apparatus and method for error compensation in a hybrid matrix amplification system.<br>
The present invention relates generally to wireless communication devices, and in particular to a hybrid matrix amplification system and an antenna array of a wireless communication device.<br>
A hybrid matrix amplifier comprises a parallel set of amplifiers whose inputs are fed, and output are combined, by multi-port matrices, made up of hybrid couplers. An exemplary configuration of a hybrid matrix amplifier wherein the matrices are Fourier Transform Matrices (FTMs) is described in U.S. patent application 5,834,972, which patent is assigned to the assignee of the present invention and is hereby incorporated by reference herein in its entirety. In general, a signal applied to an input port of an input FTM is distributed equally among multiple output ports of the FTM. Each signal output by the FTM is then routed to a separate amplifier, where the signal is amplified and then routed to one of multiple input ports of an output FTM, Each signal received at an input port of the output FTM is then distributed among multiple output ports of the output FTM.<br>
Use of a transmitter that includes a hybrid matrix amplifier has been proposed for a base station subsystem (BSS) that service multiple cell sectors and that include multiple adaptive antenna arrays, wherein each antenna array of the multiple antenna arrays provides service to a different sector of the multiple cell sectors. In such a BSS, each signal produced at one of the multiple output ports of an output FTM is routed to an antenna element in an antenna array. Furthermore, each antenna element receiving an FTM output signal is in a different antenna array than the other antenna elements receiving output signals from the FTM.<br>
For example, suppose a BSS services a cell that is divided into four sectors. The BSS includes four antenna arrays, wherein each array includes four antenna elements and services one of the four cell sectors. The BSS further includes four transmit branches. Each transmit branch includes an input FTM having four input and four output ports, an output FTM having four input and four output ports, and an amplifier section comprising four amplifiers, wherein each amplifier of the four amplifiers is operably coupled to an output port of the input FTM and to an input port of the output FTM. Furthermore, each output port of a transmit branch's output FTM is operably coupled to an antenna element in an antenna array different from the elements and arrays to which the other FTM output ports are coupled. That is, a first output port of the FTM is operably coupled to an element in a first antenna array of the four antenna arrays, a second output port is operably coupled to an element in a second array of the four arrays, a third output port is operably coupled to an element in a third array of the four arrays, and a fourth output port is operably coupled to an element in a fourth array of the four arrays. As a result, each transmit branch is operably coupled to an antenna element in each of the antenna arrays.<br>
Due to variations in length of transmit branch connecting cables, component aging, and variations in component performance, a gain and phase of signals propagating through a transmit branch may vary slowly with time. When each of multiple signals input into a transmit branch and output to a different antenna element than other input signals experiences a different gain and phase than the other input signals, there exists a possibility of cross-sector signal leakage. Cross-sector signal leakage results in a signal intended for transmission in one cell sector interfering with a signal transmitted in another cell sector. Furthermore, when a gain and phase of a signal propagation path through a transmit branch and a coupled antenna element is unknown, uncalibrated, or subject to variation over time, there exists the possibility of improper beam formation when beam forming weights are applied to the elements of the array that includes the coupled element. Therefore a need exists for a method and apparatus of calibrating, or providing error compensation for, signal propagation paths of transmit branches that include hybrid matrix amplifiers, and particularly which calibration or error compensation can be determined without shutting down the B S S.<br>
Brief Description of the Accompanying Drawings<br>
FIG. 1 is a block diagram of a wireless communication system in accordance with an embodiment of the present invention. .<br>
FIG. 2 is a block diagram of a transmitter section of a base station subsystem of FIG. 1 in accordance with an embodiment of the present invention.<br>
FIG. 3A is a block diagram of a transmit branch in accordance with an embodiment of the present invention.<br>
FIG. 3B is a continuation of the block diagram of FIG. 3 A and is a block diagram of a transmit branch in accordance with an embodiment of the present invention.<br>
FIG. 4 is a block diagram of a baseband 2x2 Fourier Transform Matrix in accordance with an embodiment of the present invention. .<br>
FIG. 5 is a block diagram of a radio frequency 2x2 Fourier Transform Matrix in accordance with an embodiment of the present invention.<br>
FIG. 6 is a block diagram of a 4x4 Fourier Transform Matrix in accordance with an embodiment of the present invention.<br>
FIG. 7 is a logic flow diagram of steps executed by the transmit branch of FIG. 3 in performing an inner loop error compensation process in accordance with an embodiment of the present invention.<br>
FIG. 8 is a logic flow diagram of steps executed by the inner loop feedback circuit of FIG. 3 to produce an inner loop control signal in accordance with an embodiment of the present invention.<br>
FIG. 9 is a logic flow diagram of steps executed by the transmit branch of FIG. 3 in performing an outer loop error compensation process in accordance with an embodiment of the present invention.<br>
FIG. 10 is a logic flow diagram of steps executed by the outer loop feedback circuit of FIG. 3 to produce an outer loop control signal in accordance with an embodiment of the present invention.<br>
Description of a Preferred Embodiment<br>
To address the need for a method and apparatus of calibrating, or providing error compensation for, signal propagation paths of transmit branches that include hybrid matrix amplifiers, which calibration or error compensation can be determined without shutting down the BSS, a base station subsystem includes at least one transmit branch having a forward path that includes a signal processing unit coupled at an input to an input Fourier Transform Matrix (FTM) and at an output to an output FTM. The transmit branch further includes two error compensation loops, an inner feedback loop and an outer feedback loop. The inner feedback loop provides error compensation for error introduced by the signal processing section to a signal input to the transmit branch. The outer loop provides error compensation for all residual error introduced into the signal when routed through the transmit branch forward path after error compensation may be performed by the inner feedback loop.<br>
Generally, the present invention encompasses an apparatus for error compensation in a hybrid matrix amplification system. The apparatus includes an input signal forward path that comprises an input Fourier Transform Matrix (FTM) having multiple input ports and multiple output ports, a signal processing section, and an output FTM. The signal processing section has multiple input ports and multiple output ports, wherein each input port of the multiple signal processing section input ports is coupled to an output port of the multiple output ports of the input FTM. The output FTM having" multiple, input ports and multiple output ports, wherein each input port of the multiple input ports of the output FTM is coupled to an output port of the multiple signal processing section output ports. The apparatus further includes an outer loop feedback circuit coupled to the input signal forward path that samples a signal output by the input signal forward path to produce an attenuated output signal, determines an outer loop error based on the attenuated output signal, and produces an outer loop control signal based on the outer loop error. Based on<br>
the outer loop control signal, the input signal forward path adjusts at least one of a gain and a phase of a signal coupled to the input signal forward path.<br>
Another embodiment of the present invention encompasses a multi-channel transmitter that includes an input signal forward path having multiple input ports and multiple output ports and an outer loop feedback circuit coupled to the input signal forward path. The input signal forward path further includes an input FTM, a signal processing section, and an output FTM. The input FTM has multiple input ports and multiple output ports and receives a predetermined signal at an input port of the multiple input ports and routes at least a portion of the predetermined signal to each output port of the multiple output ports to produce a plurality of input FTM output signals. The signal processing section has multiple input ports and multiple output ports, wherein each input port of the multiple input ports of the signal processing section receives an input FTM output signal of the multiple input FTM output signals. The signal processing section amplifies each received input FTM output signal to produce an amplified signal and routes each amplified signal to an output port of the plurality of signal processing section output ports. The output FTM has multiple input ports and multiple output ports, wherein each input port of the multiple input ports of the output FTM receives an amplified signal from an output port of the multiple output ports of the signal processing section, and wherein the output FTM produces a forward path output signal at an output port of the multiple output ports based on the multiple received amplified signals. The outer loop feedback circuit receives at least a portion of the forward path output signal, determines an outer loop error based on the at least a portion of the forward path output signal, and produces an outer loop control signal based on the outer loop error. The input signal forward path adjusts at least one of a gain and a phase of a signal coupled to the input signal forward path based on the outer loop control signal.<br>
Yet another embodiment of the present invention provides a method of error compensation in a hybrid matrix amplification system. The method comprises steps of coupling a predetermined signal to a first Fourier Transform Matrix (FTM) to produce multiple first FTM output signals and processing each first FTM output signal of the multiple first FTM output signals to produce multiple amplified signals.   The method<br>
further includes steps of coupling each amplified signal of the multiple amplified signals to an input port of multiple input ports of a second FTM, wherein the second FTM produces a second FTM output signal based on the multiple amplified signals and determining a loop error based on the second FTM output signal. The method further includes a step of producing a control signal based on the determined loop error, wherein the control signal is operable to adjust at least one of a gain and a phase of a signal coupled to the hybrid matrix amplification system.<br>
The present invention may be more fully described with reference to FIGs. 1-10. FIG. 1 is a block diagram of a wireless communication system 100 in accordance with an embodiment of the present invention. Communication system 100 comprises a fixed wireless communication device, preferably a base station subsystem (BSS), 102 that provides communications service to a service coverage area, or cell, 160. Cell 160 is divided into multiple geographic sectors 161-164 (four shown). BSS 102 includes a duplexer section 104 that is coupled to each of a multi-channel transmitter 106 and a receiver 108 and is further coupled to an antenna 112. Multi-channel transmitter 106 and receiver 108 are each further coupled to a processor 110, such as one or more microprocessors, microcontrollers, digital signal processors (DSPs), combinations thereof or other such devices known to those having ordinary skill in the art. Antenna 112 is a directional antenna that is divided into multiple antenna sectors 120, 130, 140, 150 (four shown), wherein each sector of the multiple antenna sectors corresponds to, and provides communications service to, a respective geographic sector of the multiple geographic sectors 161-164.<br>
Each antenna sector 120, 130, 140, 150 comprises an antenna array that includes multiple, preferably four (4), antenna elements. For example, antenna sector 120 includes antenna elements 121-124, antenna sector 130 includes antenna elements 131-134, antenna sector 140 includes antenna elements 141-144, and antenna sector 150 includes antenna elements 151-154. By utilizing an antenna array to broadcasting signals to a mobile station located in the cell sector serviced by the antenna array, BSS 102 is able to utilize one of numerous known beamforming methods for the broadcast of the signals.<br>
FIG. 2 is a block diagram of multi-channel transmitter 106 of BSS 102 in accordance with an embodiment of the present invention. As depicted in FIG. 2, multichannel transmitter 106 of BSS 102 includes four transmit branches 201-204; however, the number of transmit branches is up to the designer of BSS 102 as the present invention does not require four transmit branches. Preferably, each transmit branch 201-204 is operably coupled, via duplexer section 104 (not shown in FIG. 2), to an antenna element in each sector, or array, 120, 130, 140, 150 of antenna 112, so that the number of transmit branches corresponds to the number of antenna elements in each of antenna arrays 120, 130,140, and 150. As a result, each transmit branch 201-204 services each of the multiple sectors 161-164 of cell 160 and therefore is shared among the cell's sectors. Each transmit branch 201-204 provides multiple paths through which radio frequency (RF) signals, or the RF signals' derivatives, propagate as the signals travel from processor 110 to the antenna elements coupled to the transmit branch.<br>
Referring now to FIGs. 3A and 3B, a block diagram is provided of a transmit branch 300, such as transmit branches 201-204, in accordance with an embodiment of the present invention. Transmit branch 300 comprises a hybrid matrix amplification system that includes a transmit branch forward path 301 coupled to each of a first, inner loop feedback circuit 302 and a second, outer loop feedback circuit 303. Transmit branch 300 is operably coupled to each of multiple antenna elements 385-388, such as transmit branch 201 and associated antenna elements 121, 131, 141, and 151, transmit branch 202 and associated antenna elements 122, 132, 142, and 152, transmit branch 203 and associated antenna elements 123, 133, 143, and 153, and transmit branch 204 and associated antenna elements 124,134,144, and 154.<br>
Transmit branch forward path 301 comprises an input circuit 310 coupled to a digital baseband Fourier Transform Matrix (FTM) 320, a signal processing section 330 coupled to baseband FTM 320, an RF FTM 360 coupled to signal processing section 330, and an output circuit 370 coupled to RF FTM matrix 360. Inner loop feedback circuit 302 comprises multiple inner loop signal couplers 355-358, preferably directional couplers, that each sample a signal output by one of multiple forward paths of signal processing section 330, an inner loop signal combiner 390 coupled to the multiple signal couplers<br>
355-358, an inner loop RF receiving unit 391 coupled to signal combiner 390, an inner loop RF switch 392 coupled to RF receiving unit 391, a RF demodulator 393 coupled to RF switch 392, an analog-to-digital converter (A/D) 394 coupled to RF demodulator 393, and a compensation controller 395 coupled to A/D 394. Outer loop feedback circuit 303 comprises multiple outer loop signal couplers 381-384, preferably directional couplers, that each sample one of multiple signals output by transmit branch forward path 301, an outer loop signal combiner 396 coupled to the multiple outer loop signal couplers 381-384, an outer loop RF receiving unit 397 coupled to signal combiner 396 and to RF switch 392, and RF demodulator 393, analog-to-digital converter (A/D) 394, and compensation controller 395.<br>
Each antenna of the multiple antennas 385-388 operably coupled to transmit branch 300 is associated with a different antenna sector of a multi-sector antenna, such as the antenna elements 121, 131, 141, and 151 associated with transmit branch 201 and further associated with sectors 120, 130, 140, and 150, respectively, of antenna 112. As antenna 112 includes four sectors, hybrid matrix amplification system 300 includes four antennas 385-388 and receives four input signals S1, S2, S3, S4, that is, one input signal for each sector of the four sectors. If a three sector configuration is used, only three antenna elements may be coupled to transmit branch 300, that is, only antenna elements 385-387, and only three input signals, that is, Sl, S2, and S3, may be input into the branch. Also, at an output side of transmit branch 300 in a three sector configuration, an unused output port of RF FTM matrix 360 that is otherwise operably coupled to a fourth antenna element 388 instead may be terminated with a 50 ohm load 369.<br>
Baseband FTM 320 is a 4x4 FTM that includes four digital, baseband FTM elements 321-324, that is, a first input FTM element 321, a second input FTM element 322, a first output FTM element 323, and a second output FTM element 324. Each FTM element 321-324 is a 2x2 FTM. Input FTM elements 321 and 322 are each coupled to each of output FTM elements 323 and 324.<br>
RF FTM 360 is a 4x4 FTM that includes four RF FTM elements 361-364, that is, a first input FTM element 361, a second input FTM element 362, a first output FTM element 363, and a second output FTM element 364. Each RF FTM element 361-364 is a<br>
2x2 FTM that comprises a 90° hybrid- or 3 dB coupler. An FTM, such as FTM's 320 and 360, distributes signals received at each of multiple input ports of the FTM among multiple output ports of the FTM, so that each FTM output signal is a derivation of all of the FTM input signals and has a specific phase relationship to each of the other FTM output signals.<br>
Transmit branch 300 processes multiple transmit branch input signals S„ S2, S3, and S4, received from an information source, such as processor 110, for transmission via forward path 301 and antenna elements 385-388 as follows. Each transmit branch input signal S„ S2, S3, and S4 corresponds to an antenna element 385-388 coupled to transmit branch 300. That is, input signal S, is intended for antenna element 385, input signal S2is intended for antenna element 386, input signal S3 is intended for antenna element 387, and input signal S4 is intended for antenna element 388. Preferably, each of input signals S„ S2, S3, and S4 is a digital baseband input signal, preferably a quadrature modulation information signal, which baseband input signal includes an in-phase (I) component and a quadrature (Q) component.<br>
Transmit branch 300 routes each of input signals S1, S2, S3, and S4 to input section 310 of forward path 301. Input section 310 routes each input signal S1 S2, S3, and S4 to a respective gain and phase adjuster in a first set of gain and phase adjusters 315-318 via a respective forward path signal combiner of a first set of forward path signal combiners 311-314. Each of signal combiners 311 -314 is utilized for an injection into forward path 301 of one of multiple outer loop test signals TAJ, i = 1, 2, 3, 4, during an outer loop error compensation process performed by transit branch 300 as described below. Each gain and phase adjuster 315-318 adjusts a gain and/or a phase of the signal received from the corresponding combiner based on an outer loop control signal of a set of outer loop control signals Aci, i = 1,2, 3,4, received from compensation controller 395 to produce an adjusted signal. Preferably, a voltage variable attenuator or a variable gain amplifier included in each gain and phase adjuster 315-318 adjusts a gain of the received signal and a voltage variable phase shifter included each gain and phase adjuster 315-318 adjusts a phase of the received signal based on the outer loop control signal received from compensation controller 395.   Each gain and phase adjuster 315-318 then routes the<br>
adjuster's adjusted signal to a respective input port 320a, 320b, 320c,and 320d of digital, baseband 4x4 FTM 320.<br>
Based on the adjusted signals received from gain and phase adjusters 315-318, FTM 320 produces, as described in greater detail below, output signals U1, U2, U3, and U4 at respective output ports 320e-320h of the FTM. Each output signal U1, U2, U3, and U4 is then routed to signal processing section 330. Signal processing section 330 includes multiple, preferably four, forward paths, wherein the number of forward paths corresponds to the number of output signals Ui, U2, U3, and U4 received by section 330 from FTM 320 and to the number of antenna elements 385-388 coupled to transmit branch 300. Each forward path of the four signal processing section 330 forward paths provides for RF modulation and amplification of a signal received from FTM 320. Each signal processing section 330 forward path includes a signal combiner of a second set of forward path signal combiners 331-334 coupled to a gain and phase adjuster of a second set of gain and phase adjusters 335-338, one of multiple digital-to-analog converters (D/A) 340-343 coupled to the gain and phase adjuster, one of multiple RF modulators 345-348 coupled to the D/A, and one of multiple RF power amplifiers 350-353 coupled to the RF modulators. Each of signal combiners 331-334 is utilized by transmit branch 300 for an injection into forward path 301 of one of multiple inner loop test signals TGJ, i = 1, 2, 3, 4, during an inner loop error compensation process performed by the transmit branch as described below.<br>
In a first forward path of the four forward paths of signal processing section 330, signal Ui is routed to a first gain and phase adjuster 335 in the second set of gain and phase adjusters 335-338 via signal combiner 331. In a second forward path of the four forward paths of section 330, output signal U2 is routed to a second gain and phase adjuster 336 in the second set of gain and phase adjusters 335-338 via signal combiner 332. In a third forward path of the four forward paths of section 330, output signal U3 is routed to a third gain and phase adjuster 337 in the second set of gain and phase adjusters 335-338 via signal combiner 333. In a fourth forward path of the four forward paths of section 330, output signal U4 is routed to a fourth gain and phase adjuster 338 in the second set of gain and phase adjusters 335-338 via signal combiner 334.<br>
Each gain and phase adjuster 335-338 adjusts a gain and/or phase of the signal received from a respective combiner 331-334 based on an inner loop control signal of multiple inner loop control signals Gc4, Gc3, Gc2, and Gci received from compensation controller 395 to produce a further adjusted signal. Preferably, a voltage variable attenuator or a variable gain amplifier included in each gain and phase adjuster 331-334 adjusts a gain of the received signal and a voltage variable phase shifter included each gain and phase adjuster 331-334 adjusts a phase of the received signal based on the inner loop control signal received from compensation controller 395. Each gain and phase adjuster 335-338 then routes the adjuster's gain and/or phase adjusted signal to a respective D/A 340-343. Each D/A 340-343 converts the gain and/or phase adjusted signal received from a respective gain and phase adjuster 335-338 to an analog signal and routes the analog signal to a respective RF modulators 345-348. Each RF modulator 345-348 modulates an RF carrier, e"jt, with the analog signal received from a respective D/A 340-343 to produce an RF modulated signal and routes the modulated signal to a respective RF power amplifier 350-353. Each RF power amplifier 350-353 amplifies the RF modulated signal received from a respective RF modulator 345-348 to produce a respective amplified signal P1, P2, P3, P4 that is then output by the RF power amplifier and by signal processing section 330. Each of amplified signals P1, P2, P3, P4, is then routed, by section 330, to a respective input port 360a, 360b, 360c, and 360d of RF FTM 360 via a respective inner loop signal coupler 355-358.<br>
Based on the amplified signals P1, P2, P3, P4 received from RF power amplifiers 350-353, RF FTM 360 produces, as described in greater detail below, output signals R1, R2, R3, and R4 at respective output ports 360e-360h of the FTM. FTM 360 routes each output signal R1, R2, R3, and R4 to a respective antenna element 385-388 via a respective duplexer 371-374 and a respective outer loop signal coupler 381-384. As each FTM output signal R1, R2, R3, and R4 propagates from FTM 360 to a respective antenna element 385-388, each FTM output signal R1, R2, R3, and R4 is subjected to a respective output path signal attenuation Ai, A2, A3, and A4, which attenuation is represented by elements 375-378 in FIG. 3.<br>
Referring now to FIGs. 4, 5, and 6, a 4x4 FTM, such as FTM's 320 and 360, and 2x2 FTM's, such as FTM elements 321-324 of FTM 320 and FTM elements 361-364 of FTM 360, are illustrated in accordance with an embodiment of the present invention. FIG. 4 is a block diagram of a 2x2 baseband FTM 400, such as FTM elements 321-324, in ' accordance with an embodiment of the present invention. FTM 400 includes 4 ports: two input ports 401, 402 and two output ports 403, 404. When a first signal, Vi, is received at a first input port 401 of the two input ports, the signal is coupled to each of a first output port 403 and a second output port 404, with a 90° phase rotation introduced to the signal coupled to the second output port. As a result, a phase of the signal then transmitted from second output port 404 is offset by 90° from a phase of a signal then transmitted from first output port 403. Similarly, when a second signal, V2, is received at a second input port 402 of the two input ports, the signal is coupled to each of second output port 404 and first output port 403, with a 90° phase rotation introduced to the signal coupled to the first output port. As a result, a phase of the signal then transmitted from first output port 403 is offset by 90° from a phase of a signal then transmitted from second output port 404.<br>
Preferably each of input signals V1 and V2 is a quadrature modulated signal, wherein V1 = h +jQi and V2 = I2 +jQ2- When V1 is applied to first input port 401 and V2 is applied to second input port 402, the output signals V3 and V4 respectively appearing at output ports 403 and 404 may be represented by the equations<br>
(Equation Removed) <br>
The transfer function of FTM element 400 may then be represented by the equation<br>
(Equation Removed) <br>
 (1)<br>
FIG. 5 is a block diagram of a 2x2 RF FTM 500, such as FTM elements 361-364, in accordance with an embodiment of the present invention. FTM 500 includes 4 ports -two input ports 501, 502 and two output ports 503, 504. When a signal, Vi, is received at a first input port 501 of the two input ports, the power or energy of the signal is split into<br>
two equal quantities, with one quantity fed to a first output port 503 and the other quantity fed to a second output port 504. A phase of the signal then transmitted from second output port 504 is phase rotated by 90°, or one-quarter wavelength, from a phase of a signal then transmitted from first output port 503. Similarly, when a signal is received at a second input port 502 of the two input ports, the power or energy of the signal is split into two equal quantities, with one quantity fed to first output port 503 and the other quantity fed to second output port 504. A phase of the signal then transmitted from first output port 503 is phase rotated by 90°, or one-quarter wavelength, from a phase of a signal then transmitted from second output port 604.<br>
RF FTM 500 may be represented by the following equations. When Vi is applied to first input port 501 and V2 is applied to second input port 502, the output signals V3 and V4 respectively appearing at output ports 503 and 504 are represented by the equations<br>
(Equation Removed) <br>
and<br>
The transfer function of RF FTM 500 may then be represented by the equation<br>
(Equation Removed) <br>
 (2)<br>
Within a constant, the mi 's in each of above equations (1) and (2) are the same.<br>
FIG. 6 is a block diagram of a 4x4 FTM 600, such as FTM's 320 and 360, in accordance with an embodiment of the present invention. FTM 600 includes two input 2x2 FTM's 601, 602, and two output 2x2 FTM's 603, 604. As described above with respect to 2x2 FTM's 400 and 500, each 2x2 FTM 601-604 includes two input ports and<br>
two output ports. The input 2x2 FTM's 601 and 602 may together be represented by a transfer function<br>
(Equation Removed) <br>
 (3)<br>
wherein X1 and X2 are signals respectively input into each of a first input port and a second input port of input FTM element 601, X3 and X4 are signals respectively input into each of a first input port and a second input port of input FTM element 602, y1 and y2 are signals respectively output by each of a first output port and a second output port of input FTM element 601, and y3 and y4 are signals respectively output by each of a first output port and a second output port of input FTM element 602. Coefficients mi, i=l,2,3,and 4 are complex numbers that represent the phase and amplitude relationship between the input and output signals of each FTM 601, 602. Ideally, each 2x2 FTM included in a 4x4 FTM is identical to the other 2x2 FTM's of the 4x4 FTM, and therefore the corresponding coefficients mi5 i=l,2,3,and 4 for each 2x2 FTM 601, 602, 603, and 604 included in 4x4 FTM 600 are the same.<br>
The signals output by first input FTM 601, that is, y1 and y2, are respectively input into a first input port of first output FTM element 603 and a first input port of second output FTM element 604. The signals output by second input FTM 602, that is, y1 and V4, are respectively input into a second input port of first output FTM 603 and a second input port of second output FTM 604. First output FTM 603 outputs a signal zi from a first output port of FTM 603 and a signal Z2 from a second output port of FTM 603, and second output FTM 604 outputs a signal Z3 from a first output port of FTM 604 and a signal Z4 from a second output port of FTM 604. As a result, a transfer function of FTM 600 may be represented by the following equation,<br>
(Equation Removed) <br>
 (4)<br>
By substituting into equation (4) the corresponding 2x2 FTM transfer function components for FTM elements 321-324 of 4x4 baseband FTM 320, or the corresponding 2x2 FTM transfer function components for the FTM elements 361-364 of 4x4 RF FTM 360, an FTM transfer function for the corresponding 4x4 FTM can accordingly be obtained.<br>
Furthermore, with respect to 4x4 baseband FTM 320, when the inputs to the FTM are S4, S3, S2, S1, the outputs of the FTM are U1, U2, U3, U4, and the coefficients of FTM elements 321-324 are m1 = 1114 = 1 and m2 = m3 = j. A substitution of these values into equation (4) results in the following equation,  (Equation Removed) <br>
 (5) When only S1 is input into FTM 320, equation (5) becomes<br>
(Equation Removed)  (6)<br>
From equation (6) it is apparent that the amplitude of the four signals output at the output ports of output FTM elements 323 and 324, and therefore output by FTM 320, is the same as |S1|. Thus, the power is evenly distributed among each of the four output ports of FTM 320 and for any one of the input signals, FTM 320 always distributes the incoming signal power evenly among all four of RF power amplifiers 350-353 of signal processing section<br>
330. Furthermore, by using FTM 360, a desired amplified signal is seen at only one of the multiple transmit antenna elements 385-388. That is, by using both a first FTM 320 and a second FTM 360, a power sharing that is accorded to a signal applied to the first FTM, such as an outer loop test signal TAI, is redirected to a specific antenna element 385-388 by the second FTM.<br>
As is well known to those of ordinary skill in the art, the amplitude and phase of signals that propagate through forward path 301 of transmit branch 300 can change over the time. For example, parts differences due to varied cable lengths or component aging may produce gain and phase mismatches for signals propagating through a transmit branch forward path. Gain and phase mismatch may, in turn, cause an undesired leak of power from a signal propagation path intended for one antenna element to a signal propagation path intended for another antenna element, resulting in interference in other antenna and coverage sectors. In addition, such leakage may result in lower than intended power levels at the intended transmit antenna element. In adaptive antenna array applications, such power leakage may result in an undesired antenna beam pattern.<br>
In order to compensate for such changes, transmit branch 300 executes an error compensation process that provides that signals transmitted by antenna elements 385-388 are as expected. Since a shutting down of a BSS is undesirable once the BSS is set up and operating in the field, the error compensation process may be executed by transmit branch 300 during BSS setup in order to calibrate the BSS or may be self-executed by the BSS during operation, without shutting down, in order to provide compensation for changes in the BSS that occur over time. Transmit branch 300 includes two error compensation loops, an inner feedback loop and an outer feedback loop. Correspondingly, the error compensation process executed by transmit branch 300 may be divided into two stages, a first, inner loop error compensation stage and a second, outer loop error compensation stage. The inner loop error compensation stage compensates for error introduced by the baseband and RF paths between FTMs 320 and 360, that is, in signal processing section 330, while the outer loop error compensation stage compensates for phase and amplitude errors in signals input by transmit branch 300 to antenna elements 385-388.<br>
In the inner loop error compensation stage, error introduced into transmit branch forward path 301 by signal processing section 330 is compensated for by an inner feedback loop comprising signal processing section 330 and inner loop feedback circuit 302. In the outer loop error compensation stage, all residual error introduced into a signal routed through transmit branch forward path 301, after error compensation may be performed by the inner feedback loop, is compensated for by an outer feedback loop comprising transmit branch forward path 301 and outer loop feedback circuit 303. Preferably, the inner loop error compensation stage is executed prior to the execution of the outer loop error compensation stage. However, those who are of ordinary skill in the art realize that either the inner loop error compensation stage or the outer loop error compensation stage may be executed without executing the other, although optimal error compensation is achieved by executing both the inner loop and outer loop error compensation stages.<br>
In order to compensate for amplitude and phase errors, each test signal of a set of predetermined complex inner loop test signals, TQJ, i = 1, 2, 3,4, is injected into a forward path of the inner feedback loop, and each test signal a set of predetermined complex outer loop test signals, TAi, i = 1, 2, 3, 4, is injected into a forward path of the outer feedback loop. Each test signal of the sets of inner loop and outer loop test signals is orthogonal to an ordinary input signal of transmit branch 300, that is, Sj, i = 1, 2, 3, 4, (for example, use an unused Walsh code with PN spreading), and to each other. Each test signal of the sets of inner loop and outer loop test signals also comprises less power that the ordinary input signals of transmit branch 300. Since each test signal is orthogonal to the ordinary input signals, Sj, i = 1, 2, 3,4, it is permissible to assume that the ordinary input signals are zero. Propagation of each test signal through a forward path of the test signal's corresponding inner loop or outer loop produces multiple inner loop or outer loop output signals. Each loop's feedback circuit samples the loop's multiple output signals and combines the multiple sampled output signals. The loop correlates, or compares, the combined signal with a delayed version of the test signal and produces a control signal based on the correlation, or comparison. The control signal is used by the loop to adjust a signal input<br>
into the loop, thereby providing compensation for error introduced by the loop's forward path to a signal input into the loop.<br>
FIG. 7 is a logic flow diagram 700 of steps executed by the inner feedback loop of transmit branch 300 in performing an inner loop error compensation process in accordance with an embodiment of the present invention. As noted above, since the inner loop test signals TGi i = 1, 2, 3, 4, are orthogonal to the transmit branch input signals Si, i = 1,2, 3, 4, the output of the baseband FTM 320 may be assumed to be zero. Logic flow diagram 700 begins when a first test signal, TGI, of the inner loop test signals TGI, i = 1, 2, 3, 4, is injected into the inner feedback loop, and in particular is coupled (702) to signal processing section 330. In one embodiment of the present invention, the inner loop test signals may be injected into the inner feedback loop during an error compensation process that is executed during setup, start up, or shutdown of BSS 102, when transmit branch 300 is not receiving any input signals Sj, i = 1,2, 3, 4. In another embodiment of the present invention, the test signals may be injected into the inner feedback loop during operation of BSS 300. In the latter instance, since each of test signals TGJ, i = 1, 2, 3, 4, preferably is orthogonal to each of ordinary input signals S1, S2, S3, and S4, each of signals U1, U2, U3, and U4 output by FTM 320 may be assumed to be zero for the purpose of understanding the principles of an operation of the inner loop error compensation process.<br>
The first test signal is coupled to a first combiner 331 of multiple combiners 331-334 in a first forward path of the multiple forward paths of signal processing section 330. Combiner 331 produces an output signal that is a combination of signal Ui and test signal TGi (during system setup or system calibration, signals Ui, U2, U3, U4, may each be zero). Combiner 331 then routes the combined signal to gain and phase adjuster 335. Gain and phase adjuster 335 adjusts (704) a gain and/or phase of the combined signal, which includes the test signal, based on control signal Gc4 received from compensation controller 395 to produce an adjusted signal. Preferably, a voltage variable attenuator or a variable gain amplifier included in gain and phase adjuster 335 adjusts a gain of the signal received from signal combiner 331 and a voltage variable phase shifter included gain and phase adjuster 335 adjusts a phase of the signal received from a signal combiner 331 based on the control signal received from compensation controller 395. The adjusted signal is then<br>
routed to D/A 340, where the gain and/or phase adjusted signal is converted (706) to an analog signal that is routed to RF modulator 345. RF modulator 345 modulates (708) an RF carrier, ejt with the analog signal and routes the resulting RF modulated signal to RF power amplifier 350. RF power amplifier 350 amplifies (710) the RF modulated signal to produce an amplified signal, Pj, i = 1, corresponding to test signal TG1, i = 1, which amplified signal is output by RF power amplifier 350 and by signal processing section 330 to produce a signal processing section output signal.<br>
In the embodiment of the present invention wherein the inner loop error compensation process is executed during operation of BSS 300, the remaining signals U2, U3, U4 received by signal processing section 330 from FTM 320 are each routed by their respective signal combiner 332-335 to a respective inner loop signal coupler 355-358 via a respective gain and phase adjuster 336-338, a respective D/A 341-343, a respective RF modulator 345-348, and a respective RF power amplifier 350-353. However, as noted above, since each of test signals TGi i = 1, 2, 3, 4, preferably is orthogonal to each of original signals S1, S2, S3, and S4, each of signals U1, U2, U3, and U4 may be assumed to be zero for the purpose of understanding the principles of an operation of the inner loop error compensation process.<br>
Signal processing section output signal P1, that is, amplified signal P1, is then routed to inner loop feedback circuit 302 via a first inner loop signal coupler 355 of the multiple inner loop signal couplers 355-358. Inner loop feedback circuit 302 then determines (712) an inner loop error based on the signal processing section output signal P received by the inner loop feedback circuit and produces (714) an inner loop control signal Gci based on the determined inner loop error. Inner loop feedback circuit 302 conveys the inner loop control signal Gci to a gain and phase adjuster 335-338 in the signal processing section 330, where a gain and/or a phase of a signal input into forward path 301 such as an informational signal Si, a subsequently input inner loop test signal TGi and/or an outer loop test signal TAI, is adjusted based on the inner loop control signal.<br>
FIG. 8 is a logic flow diagram 800 of the steps executed by inner loop feedback circuit 302 to produce an inner loop control signal Gci based on a received signal processing section output signal Ps in accordance with an embodiment of the present<br>
invention. Logic flow diagram 800 begins when inner loop signal coupler 355 samples (802) signal processing section output signal Pj, i = 1, to produce an attenuated version of output signal P1 and routes the attenuated output signal to RF receiving unit 391 via signal combiner 390. RF receiving unit 391 pre-amplifies and scales (804) the attenuated output signal received from combiner 390 to produce an inner loop feedback signal Qi', i = 1 and routes inner loop feedback signal Q11 to RF demodulator 393 via RF switch 392. Preferably, RF switch 392 is coupled to, and controlled by, compensation controller 395. Since inner loop feedback signal Q11is a product of the injection of the first inner loop test signal TG1 of the multiple inner loop test signals TGi inner loop feedback signal Q11 may be represented in a matrix format by the equation<br>
(Equation Removed) <br>
7)<br>
wherein the vector a is a coefficient vector representative of the four inner loop signal couplers 355-358 and inner loop signal combiner 390.<br>
RF demodulator 393 demodulates (806) the inner loop feedback signal Qi1 to produce a baseband signal and routes the baseband signal to A/D 394. A/D 394 digitizes<br>
(808) the baseband signal to produce a digitized signal T^Gi i = 1, at node Szi, which signal may be represented by the equation T^Gi,. = a, (G, + A GJ 7b, Go, i = 1 • A/D 394 then routes the digitized signal T^Gi i = 1, to compensation controller 395. Compensation controller 395 compares (810) the digitized signal T^Gi, i = 1, to a desired signal T*Gi, i = 1,<br>
to produce an inner loop correlation value f i = 1.  Compensation controller 395 then<br>
compares (812) inner loop correlation value f1 to a known, desired correlation value /1 and, based on the comparison, produces (814) an inner loop control signal GCi, i = 1. Compensation controller 395 then conveys control signal Gci to gain and phase adjuster<br>
335, where a gain and/or a phase of a forward path signal input into the gain and phase adjuster, such as an information signal Sj, i = 1, an outer loop test signal TAi, i = 1, and/or an inner loop test signal TGi i = 1, is adjusted based on the control signal.<br>
Compensation controller 395 preferably comprises one or more microprocessors, microcontrollers, digital signal processors (DSPs), combinations thereof or other such devices known to those having ordinary skill in the art, or alternatively may be included in<br>
A<br>
processor 110. For each received digitized signal TCi, compensation controller 395 compares the received digitized signal T^Gi, t0 a desired A/D 394 output signal T oi to<br>
produce an inner loop correlation value f.  Compensation controller 395 then compares<br>
inner loop correlation value f to a known, desired correlation value / and, based on the comparison, produces a control signal Gci that controller 395 conveys to a gain and phase adjuster 335-338.<br>
When the inner loop error compensation process is executed during operation of<br>
BSS 300, the digitized signals ^received by compensation controller 395 comprises an<br>
inner loop test signal portion and an input signal portion. As described in detail above, each inner loop test signal TGi, i = 1, 2, 3, 4, is orthogonal to an ordinary input signal of transmit branch 300, that is, Sj, i = 1, 2, 3, 4, with less power (for example, use an unused Walsh code with PN spreading). Due to the orthogonal relationship, compensation controller 395 is able to separate the inner loop test signal portion of the amplification section output signal from the input signal portion of the amplification section output signal by utilizing well-known signal processing techniques, such as the techniques used by a signal processor in a typical code division multiple access (CDMA) receiver to separate data intended for the receiver from all other data transmitted in the same bandwidth but coded with Walsh codes different from the intended data. Since the input signals of transmit branch 300, that is, Sj, i = 1, 2, 3, 4, can be separated out of the inner loop combined signal by compensation controller 395, it is permissible to assume that the input signals Sj, i = 1, 2, 3, 4, are zero for the purpose of understanding the operation of the inner feedback loop.<br>
Similar to the injection of inner loop test signal TQI into a first signal combiner 331 of multiple input loop signal combiners 331-334 in a first forward path of the multiple forward paths of signal processing section 330, inner loop test signals TG2, TG3, and TG4 are each injected into a respective input loop signal combiner 332-335. Each of signal combiners 332-335 combines a received test signal with respective FTM 320 output signals U2, U3, and U4 (assuming that BSS 102 is in operation when the error compensation process is being executed). As noted above, for the purposes of the present invention, FTM 320 output signals U2, U3, and U4 may be assumed to be zero. Each signal combiner 332-334 then conveys its combined signal to a respective gain and phase adjuster 336-338, where a gain and/or phase of each signal is adjusted to produce an adjusted signal based on a respective control signal Gc2, Gc3 and Gc4 received by the gain and phase adjuster from compensation controller 395. Preferably, a voltage variable attenuator or a variable gain amplifier included in the gain and phase adjuster adjusts a gain of the signal received from the input loop signal combiner and a voltage variable phase shifter included in the gain and phase adjuster adjusts a phase of the signal received from a the input loop signal combiner based on the control signal. Each gain and phase adjuster 336-338 then routes its respective gain and/or phase adjusted signal to a respective D/A 341-343, where the received gain and/or phase adjusted signal is converted to an analog signal that is then routed to a respective multiplier 346-348. Each multiplier 346-348 modulates the received analog signal with an RF carrier, ejt, and routes the modulated signal to a respective RF power amplifier 351-353. Each RF power amplifier 351-353 amplifies the received modulated signal to produce a respective amplified signal, P2, P3, P4, which amplified signal is output by the RF power amplifier and by signal processing section 330.<br>
Each signal processing section 330 output signal, that is, each of amplified signals P2, P3, P4, is then routed to inner loop feedback circuit 302 via a respective inner loop signal coupler 356-358 of the multiple inner loop signal couplers 355-358. Each inner loop signal coupler 356-358 samples the respectively received amplified signal P2, P3, P4 to produce an attenuated version of the amplified signal and routes the attenuated amplified signal to RF receiving unit 391. RF receiving unit 391 pre-amplifies and scales each attenuated amplified signal received from an inner loop signal coupler 356-358 to<br>
produce respective inner loop feedback signals Q1', i = 2, 3, and 4, that is, Q12, Q13, and Qi4, and routes each inner loop feedback signal Q12, Q13, and Q14 to RF demodulator 393 via RF switch 392.<br>
RF demodulator 393 demodulates each inner loop feedback signal Q12, Q13, and Qi4 to produce a baseband signal and routes each baseband signal to A/D 394. A/D 394<br>
digitizes each baseband signal to produce a digitized signal T^G1,, i = 2, 3, 4, at node Szi,<br>
which signals may be represented by the equation T^Gi, = αa, (Gt + A Gj) Tat Go, i = 2, 3, 4. A/D 394 then routes each digitized signal 7^;, i = 2, 3,4, to compensation controller 395.<br>
Compensation controller 395 the compares each digitized signal 7^/5 i = 2, 3, 4, to a desired signal T GI, i = 2, 3, 4, to produce an inner loop correlation value ^f i, i = 2, 3, 4.<br>
A<br>
Compensation controller 395 then compares each inner loop correlation value f\, i = 2, 3,<br>
4 to a known, desired correlation value ^F j, i = 2, 3, 4, and, based on each comparison, produces a corresponding control signal Gci, i = 2, 3, 4, that is conveyed to a respective gain and phase adjuster 336-338. The control signal is designed to produce an adjustment of a gain and/or a phase of a inner loop test signal input into a gain and phase adjuster<br>
A<br>
336-338 so that a comparison of the corresponding digitized signal ^TGi to the desired signal T*Gi will yield the desired correlation value fi.<br>
In one embodiment of the present invention, compensation controller 395 may adjust a gain and/or a phase incrementally, that is, producing a first control signal to implement a first adjustment in an inner loop test signal TGi measuring and comparing a<br>
A<br>
resulting digitized signal T^Gi producing a second control signal to implement a further adjustment in the inner loop test signal TGi again measuring and comparing a resulting digitized signal T^Gi and so on. In another embodiment of the present invention, compensation controller 395 may adjust a gain and/or a phase by use of a successive approximation routine (SAR).    In yet another embodiment of the present invention,<br>
controller 395 may make a single adjustment that is designed to align the digitized signal T^Gi with the desired signal T*GI so as to yield the desired correlation value fi .<br>
In a vector representation of the above process, inner loop feedback signals Q12, Qi3 and Qi4 may be obtained by respectively representing each individual inner loop test signal TG2, TG3, TG4 as a following vector<br>
(Equation Removed) <br>
 (8)<br>
with a corresponding inner loop test signal vector that may be represented as TG = [TGI, TQ2, TQ3, TG4]T- Inner loop feedback circuit 302, and compensation controller 395 in particular, then determines a gain correction vector Gci = [Gc4, Gc3, Gc2, Gc1], based on the inner loop test signal vector, such that the signals output by the forward paths of signal processing section 330 are consistent with each other and equal to a known value.<br>
Control signals Gc4, Gc3, Gc2, and Gci are each designed to adjust the amplified signals produced by each forward path of the multiple forward paths of signal processing section 330 so that the amplified signals are aligned with each other in their phase and their gain. In a matrix format, control signals Gc4, Gc3, Gc2, and Gci may be represented by the following signal processing section 330 gain and phase control signal, or correction, coefficient matrix Gcc corresponding to the gain correction vector Gci<br>
(Equation Removed) <br>
 (9)<br>
The gain and phase introduced to each modulated signal by RF power amplifiers 350-353 may also be represented by an RF amplifier gain and phase matrix, as follows<br>
  (10) (Equation Removed) <br>
wherein G1 is the gain of RF amplifier 350, G2 is the gain of RF amplifier 351, G3 is the gain of RF amplifier 352, G4 is the gain of RF amplifier 353, and ΔG,., i = 1, 2, 3, 4 is the amplifier gain and phase error for each of RF amplifiers 350-353.<br>
A relationship between a test signal TGi and its corresponding A/D 394 output<br>
signal 7^,, then may be represented(Equation Removed) <br>
by the following equations. A transformation for an input, 'x,' and an output, 'y,' of a D/A may be represented by an equation<br>
(Equation Removed) <br>
 (11)<br>
When the system is an A/D, such as A/D 394, and 'y' is used as an input and 'x' is used as an output, the system may be represented by an equation<br>
(Equation Removed) <br>
 (12)<br>
Assume there is only one test signal, TGI, and other signals are all considered to be zero. At the output of RF power amplifier 350-353, that is, at the output of signal processing section 330, the amplified signal Pi may be represented by the equation<br>
(Equation Removed) <br>
 (13)<br>
Then, at the output of RF receiving circuit 391, the signal Qi may be represented by the equation<br>
(Equation Removed) <br>
 (14)<br>
wherein a is the coupling coefficient representing inner loop signal couplers 355-358 and inner loop signal combiner 390. The output of the A/D 394, that is, T^Gi,., can then be represented by the following equation<br>
(Equation Removed) <br>
15)<br>
The value of Ga can then be updated recursively as following<br>
(Equation Removed) <br>
 (16)<br>
wherein f is the correlation value between a desired test signal T*Gi and the actual output signal T^,Gi received from A/D 394 and / is a desired calibrated correlation value obtained during off-line calibration. With a calibrated subsystem, ΔG, = 0, and based on equation (16), the output of A/D 394 becomes<br>
(Equation Removed)   (17)<br>
Performing correlation, / may be represented by the following equation<br>
(Equation Removed)   (18)<br>
Assuming that<br>
(Equation Removed)   (19)<br>
wherein Tci is the desired output of A/D 394, then equation (14) may be simplified to the following equation<br>
(20) (Equation Removed) <br><br>
A<br>
Similarly, f may be represented by the following equation<br>
(21) (Equation Removed) <br><br>
Then, combining equations (20) and (21),<br>
(22) (Equation Removed) <br><br>
and equation (16) can be written as<br>
(Equation Removed) <br>
 (23)<br>
When ΔG, is positive, meaning G,is increasing, the ratio G,/(G,+ΔG;) becomes smaller, which causes the value of Gc,to decrease. When ΔG,is negative, meaning G,is decreasing, the ratio G,/(G,+ΔG,)becomes larger, which causes the value of Gc,to increase. Thus, the value of Gc, always moves to the opposite direction of ΔG,, providing an effective compensation to the error of power amplifier gain.<br>
In sum, in the inner loop compensation process, each test signal of a set of predetermined complex inner loop test signals, TGi, i - 1,2, 3, 4, is injected into a forward path of the inner feedback loop, and in particular into a forward path of a signal processing section 330. Propagation of the inner loop test signal through a forward path of the signal processing section 330 produces a corresponding inner loop output signal Pj, i = 1, 2, 3, 4. The inner loop feedback circuit 302 samples the inner loop output signal and compensation controller 395 of the inner loop feedback circuit 302 compares the sampled signal to a desired signal, preferably a delayed version of the test signal, to produce a comparison. Preferably, the sampled signal is correlated with the desired inner loop output signal to produce a correlation value, which correlation value is then compared to a desired correlation value to produce the comparison. Based on the comparison, compensation controller 395 produces a corresponding inner loop control signal Gci, i = 1,<br><br>
2, 3, 4, that is supplied to a corresponding gain and phase adjuster 335-338 in a propagation path of the test signal through signal processing section 330. Based on the received control signal Gc, i = 1, 2, 3, 4, the corresponding gain and phase adjuster 335-338 adjusts at least one of a gain and a phase of a signal subsequently coupled to the signal processing section 330 in order to optimize a correlation of the desired inner loop output signal and an inner loop output signal derived from the subsequently coupled signal.<br>
FIG. 9 is a logic flow diagram 900 of steps executed by the outer feedback loop of transmit branch 300 in performing an outer loop error compensation process in accordance with an embodiment of the present invention. Logic flow diagram 900 begins when a first test signal, TA4, of the outer loop test signals TAi, i = 1, 2, 3, 4, is injected into the outer feedback loop and is coupled (902) to FTM 320 via a first signal combiner 311 of the multiple signals combiners 311-314 and a first gain and phase adjuster 315 of the multiple gain and phase adjusters 315-318. Similar to the inner loop error compensation stage and inner loop test signals TGi, i = 1, 2, 3, 4, in one embodiment of the present invention, the outer loop test signals may be injected into the outer feedback loop during an error compensation process that is executed during setup, start up, or shutdown of BSS 102, when transmit branch 300 is not receiving any input signals Sj, i = 1, 2, 3, 4. In another embodiment of the present invention, the test signals may be injected into the outer feedback loop during operation of BSS 300. In the latter instance, since each of test signals TAI, i = 1, 2, 3, 4, preferably is orthogonal to each of ordinary input signals Si, S2, S3, and S4, each of input signals S1, S2, S3, and S4 may be assumed to be zero for the purpose of understanding the principles of an operation of the outer loop error compensation process.<br>
Signal combiner 311 produces an output signal that is a combination of input signal Si and test signal TGI (assuming that BSS 102 is in operation during the execution of the outer loop error compensation process). Combiner 311 then routes the combined signal to a first gain and phase adjuster 315 of the first set of multiple gain and phase adjusters 315-318. Gain and phase adjuster 315 adjusts a gain and/or phase of the combined signal based on an outer loop control signal Ac4 received from compensation controller 395.    Preferably, a voltage variable attenuator or a variable gain amplifier<br>
included in gain and phase adjuster 315 adjusts a gain of the signal received from combiner 311 and a voltage variable phase shifter included gain and phase adjuster 315 adjusts a phase of the signal received from a combiner 311 based on the control signal received from compensation controller 395. The gain and/or phase adjusted signal is then routed to FTM 320, where the adjusted signal is coupled to each of FTM 320 output ports 320e-320h to produce multiple FTM output signals U1, U2, U3, and U4 as described above. Each output signal of the multiple FTM output signals U1, U2, U3, and U4 is then routed to a forward path of the multiple forward paths of signal processing section 330.<br>
In each forward path of the multiple forward paths of signal processing section 330, a received FTM output signal U1, U2, U3, and U4 is modulated onto an RF carrier and amplified (904) to produce an amplified RF modulated signal. In particular, each of the multiple FTM output signals U1, U2, U3, and U4 is routed to a respective RF modulator 345-348 via a respective signal combiner 331-334, a respective gain and phase adjuster 335-338, and a respective D/A 340-343. Preferably, during the outer loop error compensation process, no inner loop test signals are coupled to signal combiners 331-334 and each combiner 331-334 routes its respectively received signal U1, U2, U3, and U4 to a respective gain and phase adjuster 335-338. Each gain and phase adjuster 335-338 adjusts a gain and/or phase of the signal received from a respective combiner 331-334 based on a respective control signal Gc4, Gc3, Gc2, Gci received from compensation controller 395 as described above. Preferably, a voltage variable attenuator or a variable gain amplifier included in each gain and phase adjuster 335-338 adjusts a gain of the signal received from a respective signal combiner 331-334 and a voltage variable phase shifter included the gain and phase adjuster 335-338 adjusts a phase of the signal received from a respective signal combiner 331-334 based on the control signal received from compensation controller 395.<br>
Each gain and phase adjuster 335-338 routes the adjuster's gain and/or phase adjusted signal to a respective D/A 340-343. Each D/A 340-343 converts the gain and/or phase adjusted signal received from a respective gain and phase adjuster 335-338 to an analog signal and routes the analog signal to a respective RF modulator 345-348. Each RF modulator 345-348 modulates an RF carrier, ejt, with the analog signal received from a<br>
respective D/A 340-343 to produce an RF modulated signal and routes the modulated signal to a respective RF power amplifier 350-353. Each RF power amplifier 350-353 amplifies the RF modulated signal received from a respective RF modulator 345-348 to produce a respective amplified signal P1, P2, P3, P4, that is then output by the RF power amplifier and by signal processing section 330. Each of amplified signals P1, P2, P3, and P4, is then coupled (906), by section 330, to a respective input port 360a, 360b, 360c, and 360d of 4x4 RF FTM 360 via respective inner loop signal couplers 355-358.<br>
For each test signal TAi, i = 1, 2, 3, 4, FTM 360 then produces a corresponding output signal R1, i = 1, 2, 3, 4, at a respective output port 360e-360h of the FTM. Each output signal R;, i = 1, 2, 3, 4, is based on the amplified signals P1, P2, P3, and P4 that are produced by, and received from, RF power amplifiers 350-353 in response to the coupling of the corresponding test signal TAi to forward path 301. FTM 360 routes the corresponding output signal Rj, i = 1, 2, 3, 4, to a respective antenna element 385-388 via a respective duplexer 371-374 and a respective outer loop signal coupler 381-384. In the course of propagating from FTM 360 to antenna elements 385-388, each output signal Rj, i = 1, 2, 3, 4, is subject to a respective output path attenuation Aj, i = 1, 2, 3, 4. As a result, an attenuated version of the output signal Rj, i = 1, 2, 3, 4, that is, a respective forward path or transmitter branch output signal Oj, i = 1,2, 3,4, is coupled to a respective antenna element 385-388.<br>
For each test signal TAI, i = 1, 2, 3, 4, at least a portion of the corresponding output signal Oj, i = 1, 2, 3, 4, is coupled (908) to outer loop feedback circuit 303 via outer loop signal couplers 381-384. Each outer loop signal coupler 381-384 is coupled between a respective duplexer 371-374 and a respective antenna element 385-388 and is designed to sample the respective output signal O1, O2, O3, and O4 being coupled to a respective antenna element 385-388. Each outer loop signal coupler 381-384 samples a respective forward path, or transmit branch, output signal O1, O2, O3, and O4 to produce an attenuated forward path output signal. For each output signal Oj, i = 1, 2, 3, 4, outer loop feedback circuit 303 determines (910) an outer loop error based on the sampled version of the output signal, that is, the attenuated forward path output signal produced by a respective outer loop signal coupler 381-384. Based on the determined outer loop error,<br>
outer loop feedback circuit 303 then produces (912) a corresponding outer loop control signal Aci, i = 1,2, 3, 4. Outer loop feedback circuit 303 conveys each outer loop control signal Aci i = 1, 2, 3, 4, to a respective gain and phase adjuster 315-318 in input section 310 of forward path 301, where a gain and/or a phase of a signal input into forward path 301, such as an informational signal S; and/or a subsequently input outer loop test signal TAi, is adjusted based on the outer loop control signal.<br>
FIG. 10 is logic flow diagram 1000 of the steps executed by outer loop feedback circuit 303 to produce an outer loop control signal ACi based on a coupled version of a forward path, or transmit branch, output signal Oi in accordance with an embodiment of the present invention. Logic flow diagram 1000 begins when an outer loop signal coupler 381-384 samples (1002) a respective forward path, or transmit branch, output signal Oi, i = 1, 2, 3, 4, to produce an attenuated forward path output signal. Each attenuated output signal is then routed by the signal's respective signal coupler to outer loop signal combiner 396. Preferably, transmit branch 300 is designed such that an electrical distance from each antenna element of antenna elements 385-388 to outer loop signal combiner 396 is approximately the same as an electrical distance from each of the other antenna elements of antenna elements 385-388 to the outer loop signal combiner. The outer loop signal coupler 381-384 then conveys (1004) the attenuated transmit branch output signal received from a signal coupler 381-384 to outer loop RF receiving unit 397 via outer loop signal combiner 396.<br>
RF Receiving unit 397 pre-amplifies and scales (1006) the outer loop combined signal received from an outer loop signal coupler 381-384 to produce an outer loop feedback signal Q21. As a result, an injection of the first test signal TA1 yields an outer loop feedback signal of Q21. Similarly, an injection of each of test signals TA2, TA3, and TA4 respectively into signal combiners 312-314 yields respective outer loop feedback signals Q22, Q23 and Q24 at the output of RF receiving unit 397.<br>
Similar to the processing of the inner loop feedback signals Qj1, Qj2, Qj3 and Qj4, each outer loop feedback signal Q2\ Q22, Q23, and Q24 is routed by RF receiving unit 397 to RF demodulator 393 via RF switch 392. RF demodulator 393 demodulates (1008) each outer loop feedback signal Q21 Q22, Q23 and Q24 received from RF switch 392 to produce<br>
a baseband signal and routes each baseband signal to A/D 394. A/D 394 then digitizes (1010) each received baseband signal to produce a digitized signal TAi at node Szi and routes digitized signal TAi to compensation controller 395. For each received digitized signal TAi, compensation controller 395 compares (1012) the received digitized signal TAi<br>
to a desired A/D 394 output signal T Ai to produce an outer loop correlation value g.<br>
Compensation controller 395 then compares (1014) outer loop correlation value g to a<br>
desired outer loop correlation value g and, based on the comparison, produces (1016) a control signal Aci that is conveyed to one of gain and phase adjusters 311-314.<br>
Similar to the inner loop error compensation process, in one embodiment of the present invention, compensation controller 395 may adjust a gain and/or a phase incrementally, that is, producing a first control signal to implement a first adjustment in an<br>
outer loop test signal TAi, measuring and comparing a resulting digitized signal TAi,<br>
producing a second control signal to implement a further adjustment in the outer loop test<br>
signal TAi, again measuring and comparing a resulting digitized signal TAi, and so on. In<br>
another embodiment of the present invention, compensation controller 395 may adjust a gain and/or a phase by use of a successive approximation routine (SAR). In yet another embodiment of the present invention, controller 395 may make a single adjustment that is<br>
designed to align the digitized signal TAi, with the desired signal T Ai so as to yield the desired correlation value f i.<br>
When the outer loop error compensation process is executed when BSS 102 is in operation, compensation controller 395 may receive a derivative of the forward path output signal that comprises an outer loop test signal portion and an input signal portion of the outer loop combined signal to produce an outer loop forward path output signal Q21. As described in detail above, each outer loop test signal TAi, i = 1, 2, 3, 4, is orthogonal to an ordinary input signal of transmit branch 300, that is, Si, i = 1, 2, 3, 4, with less power (for example, use an unused Walsh code with PN spreading). Due to the orthogonal relationship, compensation controller 395 is able to separate the outer loop test signal<br>
portion of the output loop output signal from the input signal portion of the output loop output signal by utilizing well-known signal processing techniques. Since the input signals of transmit branch 300, that is, Si, i = 1, 2, 3, 4, can be separated out of the output loop output signal by compensation controller 395, it is permissible to assume that the input signals Sj, i = 1, 2, 3, 4, are zero for the purpose of understanding the operation of the outer feedback loop.<br>
In a matrix format, the outer feedback loop may be represented by the following equations. The outer feedback loop control signal, or correction, coefficient matrix is<br>
(24) (Equation Removed) <br><br>
wherein Ace is a matrix representation of an outer loop test signal vector Aci = [Ac4, Ac3, Ac2, Ac1]- The transmit branch 300 error matrix at the input to antenna elements 385-388 is   (Equation Removed)    (25)<br>
wherein Ai is the attenuation introduced to a signal as the signal propagates from the first output port of signal processing section 330 to a first antenna element 385 of the multiple antenna elements 385-388, that is, along a first path through output section 370, A2 is the attenuation introduced to a signal between the second output port of signal processing section 330 and a second antenna element 386 of the multiple antenna elements 385-388, that is, along a second path through output section 370, A3 is the attenuation introduced to a signal between the third output port of signal processing section 330 and a third antenna element 387 of the multiple antenna elements 385-388, that is, along a third path through output section 370, A4 is the attenuation introduced to a signal between the fourth output<br>
port of signal processing section 330 and a fourth antenna element 388 of the multiple antenna elements 385-388, that is, along a fourth path through output section 370, and ΔG;, i = 1, 2, 3, 4, corresponds to the variation in attenuation among the four signal propagation paths of output section 370.<br>
From equations (4), (5), (10), and (25) a general expression for the relationship between inputs and outputs of transmit branch 300 may be obtained as follows<br>
(Equation Removed)    (26)<br>
Where G and A are diagonal matrices defined above, 00ut =[01    02    03   04] is the<br>
output vector and S = [S4 S3 S2 S1] is the input vector. After simplification, equation (26) becomes  (Equation Removed)   (27)<br>
Therefore, each input signal is seen at its corresponding antenna port respectively, and no cross talk will happen.<br>
The transfer function of entire system is  (Equation Removed)    (28)<br>
where TA =[TA4 TA3 TA2 TA1] is the test signal vector input at combiners 311-314, and matrices Acc  and Gcc are defined in equations (9) and (24) and as described above.<br>
By setting the input S-0 (orthogonal assumption), T_G = 0, and using T_A as the input vector, compensation controller 395 may utilize a method to determine the proper<br>
values for Acc, that is, for control signal coefficients Ac1, Ac2, Ac3, and Ac4, that is similar to the method utilized by the controller with respect to determining the to inner loop correction coefficients Gc1, Gc2, Gc3, and Gc4. Q2 may be represented by the equation<br>
(Equation Removed)   (29)<br>
wherein the vector ß is a coefficient vector representative of the four outer loop signal couplers 3 81 -3 84 and outer loop signal combiner 3 96.<br>
With a known Gcc, which is determined during the inner loop error compensation process, and with S = 0 and T_c = 0, we have an output with inputs T-A<br>
(Equation Removed)   (30) Letting T_A to be one of the following vectors as the outer loop input test signal<br>
(Equation Removed)   (31)<br>
then signal Q21 may be represented by the following equation<br>
(Equation Removed)   (32)<br>
where i = 1, 2, 3, and 4, and where Q21 corresponds to the ith non-zero element in the vector T_A. For an input of test signal TAi, node Szi yields an output signal TAi. Similar to<br>
the computation of /, correlation value is g is computed by the following equation<br>
(Equation Removed) <br>
 (33) A value of Aci is then updated as<br>
(Equation Removed)   (34)<br>
where g is a known, desired correlation value based on a standard measurement as is the<br>
case with/. Thus all values of Gci and Aci can be found for the purpose of gain error correction.<br>
Similar to Gci, Aci may be represented by the following equation<br>
(35) (Equation Removed) <br><br>
Similar to ΔGj, when ΔAj is positive, meaning Ai is increasing, the ratio Aj/(Aj + ΔAj) becomes smaller, which causes the value of Aci to decrease. When ΔAj is negative, meaning Aj is decreasing, the ratio Ai/(Aj + ΔAj) becomes larger, which causes the value of Aci to increase. Thus, the value of Aci always moves to the opposite direction of ΔAj, providing an effective compensation to the error of transmit branch 300.<br>
In sum, in the outer loop compensation process, each test signal of a set of predetermined complex outer loop test signals, TAJ, i = 1,2, 3, 4, is injected into a forward path 301 of hybrid matrix amplification system 300. Propagation of the outer loop test signal through forward path 301 produces a corresponding outer loop output signal Ri, i = 1, 2, 3, 4. The outer loop feedback circuit 303 samples the outer loop output signal and compensation controller 395 compares the sampled signal to a desired signal, preferably a delayed version of the test signal, to produce a comparison. Preferably, the sampled signal is correlated with the desired outer loop output signal to produce a correlation value, which correlation value is then compared to a desired correlation value to produce the comparison. Based on the comparison, compensation controller 395 produces a corresponding outer loop control signal Aci, i = 1, 2, 3, 4, that is supplied to a corresponding gain and phase adjuster 315-318 in a propagation path of the test signal through forward path 301. Based on the received control signal Ac i = 1, 2, 3, 4, the corresponding gain and phase adjuster 315-318 adjusts at least one of a gain and a phase of a signal subsequently coupled to the forward path 301 of hybrid matrix amplification<br>
system 300 in order to optimize a correlation of the desired outer loop output signal and an outer loop output signal derived from the subsequently coupled signal.<br>
While the present invention has been particularly shown and described with reference to particular embodiments thereof, it will be understood by those skilled in the art that various changes may be made and equivalents substituted for elements thereof without departing from the scope of the invention as set forth in the claims below. Accordingly, the specification and figures are to be regarded in an illustrative rather then a restrictive sense, and all such changes and substitutions are intended to be included within the scope of the present invention.<br>
Benefits, other advantages, and solutions to problems have been described above with regard to specific embodiments. However, the benefits, advantages, solutions to problems, and any element(s) that may cause any benefit, advantage, or solution to occur or become more pronounced are not to be construed as a critical, required, or essential feature or element of any or all the claims. As used herein, the terms "comprises," "comprising," or any variation thereof, are intended to cover a non-exclusive inclusion, such that a process, method, article, or apparatus that comprises a list of elements does not include only those elements but may include other elements not expressly listed or inherent to such process, method, article, or apparatus.<br><br><br><br><br><br><br><br><br>
WE CLAIM:<br>
1.       An   apparatus   for   error   compensation   in   a   hybrid   matrix amplification system comprising:<br>
an input signal forward path (301) comprising<br>
an input Fourier Transform Matrix (FTM) (320) having a plurality of input ports and a plurality of output ports;<br>
a signal processing section (330) having plurality of input ports and a plurality of output pons, wherein each input port of the plurality of signal processing section input ports is coupled to an output port of the plurality of output ports of the input FTM;<br>
an output FTM (360) having a plurality of input ports and a plurality of output pons, wherein each input ports of the plurality of input ports of the output FTM (360) is coupled to an output port of the plurality of signal processing section output ports; and wherein the apparatus is characterized by:<br>
an outer loop feedback circuit (303) coupled to the input signal forward path that samples a signal output by the input signal forward path to produce an attenuated output signal determines an outer loop error based on the attenuated output signal, and produces an outer loop control signal based on the outer loop error and wherein the input signal forward path adjusts at least one of a gain and a phase of a<br>
signal coupled to the input signal forward path based on the outer loop control signal.<br>
2.	The apparatus as claimed in claim 1, wherein the attenuated output signal is based on an outer loop test signal received by the input FTM at an input port of the input FTM; and wherein me outer loop feedback circuit is provided with a signal coupler (381-384) that samples a signal output by the input signal forward path to produce an attenuated output signal and a compensation controller (395) that compares at least a portion of the attenuated output signal to an outer loop desired signal to produce a comparison and produces the outer loop control signal based on the comparison.<br>
3.	The apparatus as claimed in claim 1, wherein the input signal forward path receives an input signal and an outer loop test signal, and wherein the outer loop feedback circuit consists of a signal coupler (381-384) that samples a signal output by the input signal forward path to produce an attenuated output signal that comprises an input signal portion and an outer loop test signal portion and a compensation controller (39g) that separates the input signal portion of the attenuated output signal from the outer loop test signal portion of the attenuated output signal and produces the outer loop control signal based on the outer loop test signal portion of the output FTM output signal.<br>
4.	The apparatus as claimed in claim  1, wherein an inner loop<br>
feedback circuit is coupled to the signal processing section, the signal<br>
processing section produces a signal processing section output signal and the inner loop feedback circuit samples the signal processing section output signal to produce an attenuated signal processing section output signal and produces the inner loop control signal based on the attenuated signal processing section output signal.<br>
5.	The apparatus as claimed in claim 4, wherein the input signal forward path receives an input signal and the signal processing section receives an inner loop test signal, the signal processing section produces a signal processing section output signal that is an input signal portion and an inner loop test signal portion; wherein the inner loop feedback circuit consists of a signal coupler (355-358) that samples the signal processing section output signal to produce an attenuated signal processing section output signal and a compensation controller that separates the input signal portion of the attenuated signal processing section output signal from the inner loop test signal portion of the attenuated signal processing section output signal and produces the inner loop control siglw based on the inner loop test signal portion of the attenuated signal processing section output signal.<br>
6.	The apparatus as claimed in claim 1 contained in a multichannel transmitter (106) and wherein the input signal forward path (301) has a plurality of input ports and a plurality of output ports, wherein the input Fourier Transform Matrix (FTM) (320) receives a predetermined signal at an input port of the plurality of input ports and routes at least a portion of the predetermined signal to each output<br>
port of the plurality of output ports to produce a plurality of input FTM<br>
output signals; wherein each input port of the plurality of input ports of the signal processing section (330) receives an input FTM output signal of the plurality of input FTM output signals and wherein the signal processing section amplifies each received input FTM output signal to produce an amplified signal and routes each amplified signal to an output port of the plurality of signal processing section output ports; wherein each input port of the plurality of input ports of the output FTM (360) receives an amplified signal from an output port of the plurality of output ports of the signal processing section, and wherein the output FTM produces a forward path output signal at an output port of the plurality of output ports based on the plurality of received amplified signals; and wherein the outer loop feedback circuit receives at least a portion of the forward path output signal, determines an outer loop error based on trie at least a portion of the forward path output signal, produces an outer loop control signal based on the determined outer loop error, and wherein the input signal forward path adjusts at least one of a gain and a phase of a signal coupled to the input signal forward path based on the outer loop control signal.<br>
7. The apparatus as claimed in claim 6, wherein an inner loop feedback circuit (302) is coupled to the signal processing section that determines an inner loop error in the signal processing section and produces an inner loop control signal based on the inner loop error, and wherein the signal processing section adjusts at least one of a gain and a phase of a signal input into the signal processing section based on the inner loop control signal.<br>
8.	A method of error compensation in a hybrid matrix amplification system performed by the apparatus as claimed in claim 1, the method comprising steps of coupling a predetermined signal to a first Fourier Transform Matrix (FTM) (320) to produce a plurality of first FTM output signals; processing each first FTM output signal of the plurality of first FTM output signals by a signal processing section (330) to produce a plurality of amplified signals; coupling each amplified signal of the plurality of amplified signals to an input port of a plurality of input ports of a second FTM (360), wherein the second FTM produces a second FTM output signal based on the plurality of amplified signals; and wherein the method is characterized by: determining a loop error by an outer loop feedback circuit (303) based on the second FTM output signal; and producing a control signal by the outer loop feedback circuit (303) based on the determined loop error, wherein the control signal is operable to adjust at least one of a gain and a phase of a signal coupled to the hybrid matrix amplification system.<br>
9.	The method as claimed claim 8, wherein the step of coupling a<br>
predetermined   signal   to   a   first   Fourier   Transform   Matrix   (FTM)<br>
comprises coupling a predetermined signal and an information signal to<br>
the first FTM such that each first FTM output signal of the plurality of<br>
first FTM output signals comprises an information signal portion and a<br>
predetermined signal portion, wherein the step of determining a loop<br>
error comprises steps of sampling by a signal coupler (381-384) the<br>
second FTM output signal to produce a sampled output signal that<br>
comprises an information signal portion and a predetermined signal<br>
portion, and wherein the step of determining a loop error comprises steps of separating the information signal portion of the sampled output signal from the predetermined signal portion of the sampled output signal by a compensation controller (395) and determining a loop error based on the predetemlined signal portion of the sampled output signal.<br>
10. The method as claimed in claim 8, wherein a signal processing section is coupled between the first Fourier Transform Matrix (FTM) and the second FTM, the predetermined signal consisting of a first predetermined signal, the loop error consists of a first loop error, the control signal consists of a first control signal, and the step of: coupling a second predetermined signal to the signal processing section to produce a signal processing section output signal; determining a second loop error by an inner loop feedback circuit (302) based on the signal processing section output signal; and producing a second control signal by the inner loop feedback circuit based on the detemlined second loop error, wherein the second control signal is operable to adjust at least one of a gain and a phase of a signal coupled to the signal processing section<br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA2LWRlbG5wLTIwMDQtYWJzdHJhY3QucGRm" target="_blank" style="word-wrap:break-word;">106-delnp-2004-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA2LURFTE5QLTIwMDQtQXNzaWdubWVudC0oMTYtMTItMjAxMSkucGRm" target="_blank" style="word-wrap:break-word;">106-DELNP-2004-Assignment-(16-12-2011).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA2LWRlbG5wLTIwMDQtYXNzaWdubWVudC5wZGY=" target="_blank" style="word-wrap:break-word;">106-delnp-2004-assignment.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA2LWRlbG5wLTIwMDQtY2xhaW1zLnBkZg==" target="_blank" style="word-wrap:break-word;">106-delnp-2004-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA2LURFTE5QLTIwMDQtQ29ycmVzcG9uZGVuY2UtT3RoZXJzLSgxNi0xMi0yMDExKS5wZGY=" target="_blank" style="word-wrap:break-word;">106-DELNP-2004-Correspondence-Others-(16-12-2011).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA2LWRlbG5wLTIwMDQtY29ycmVzcG9uZGVuY2Utb3RoZXJzLnBkZg==" target="_blank" style="word-wrap:break-word;">106-delnp-2004-correspondence-others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA2LWRlbG5wLTIwMDQtY29ycmVzcG9uZGVuY2UtcG8ucGRm" target="_blank" style="word-wrap:break-word;">106-delnp-2004-correspondence-po.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA2LWRlbG5wLTIwMDQtZGVzY3JpcHRpb24gKGNvbXBsZXRlKS5wZGY=" target="_blank" style="word-wrap:break-word;">106-delnp-2004-description (complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA2LWRlbG5wLTIwMDQtZHJhd2luZ3MucGRm" target="_blank" style="word-wrap:break-word;">106-delnp-2004-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA2LWRlbG5wLTIwMDQtZm9ybS0xLnBkZg==" target="_blank" style="word-wrap:break-word;">106-delnp-2004-form-1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA2LWRlbG5wLTIwMDQtZm9ybS0xOS5wZGY=" target="_blank" style="word-wrap:break-word;">106-delnp-2004-form-19.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA2LWRlbG5wLTIwMDQtZm9ybS0yLnBkZg==" target="_blank" style="word-wrap:break-word;">106-delnp-2004-form-2.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA2LWRlbG5wLTIwMDQtZm9ybS0zLnBkZg==" target="_blank" style="word-wrap:break-word;">106-delnp-2004-form-3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA2LWRlbG5wLTIwMDQtZm9ybS01LnBkZg==" target="_blank" style="word-wrap:break-word;">106-delnp-2004-form-5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA2LURFTE5QLTIwMDQtR1BBLSgxNi0xMi0yMDExKS5wZGY=" target="_blank" style="word-wrap:break-word;">106-DELNP-2004-GPA-(16-12-2011).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA2LWRlbG5wLTIwMDQtZ3BhLnBkZg==" target="_blank" style="word-wrap:break-word;">106-delnp-2004-gpa.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTA2LWRlbG5wLTIwMDQtcGV0aXRpb24tMTM3LnBkZg==" target="_blank" style="word-wrap:break-word;">106-delnp-2004-petition-137.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=YWJzdHJhY3QtMS5qcGc=" target="_blank" style="word-wrap:break-word;">abstract-1.jpg</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=YWJzdHJhY3QuanBn" target="_blank" style="word-wrap:break-word;">abstract.jpg</a></p>
		<br>
		<div class="pull-left">
			<a href="250210-wireless-communication-system-for-minimizing-overhead-signaling-and-optimizing-radio-resource-utilization.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="250212-a-motor-driven-vehicle-and-its-card-key-device.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>250211</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>106/DELNP/2004</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>51/2011</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>23-Dec-2011</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>16-Dec-2011</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>15-Jan-2004</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>MOTOROLA, INC.</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>1303 EAST ALGONQUIN ROAD, SCHAUMBURG, ILLINOIS 60196, UNITED STATE OF AMERICA.</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>YUDA LUZ</td>
											<td>2211 AVALON DRIVE, BUFFALO GROVE, ILLINOIS 60089 USA.</td>
										</tr>
										<tr>
											<td>2</td>
											<td>JIANGNAN JASON CHEN</td>
											<td>1 NEWBURY COURT, HAWTHORNE WOODS, ILLINOIS 60047, USA.</td>
										</tr>
										<tr>
											<td>3</td>
											<td>PHILLIP ZHOU</td>
											<td>1940 CAMBRIDGE COURT, #2A, PALATINE, ILLINOIS 60074, USA.</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H03F 3/38</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/US03/13301</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2003-04-29</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>10/145,909</td>
									<td>2002-05-15</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/250211-an-apparatus-and-method-for-error-compensation-in-a-hybrid-matrix-amplieication-system by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 14:33:50 GMT -->
</html>
