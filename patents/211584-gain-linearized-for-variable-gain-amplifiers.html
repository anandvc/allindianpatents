<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/211584-gain-linearized-for-variable-gain-amplifiers by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2024 23:11:55 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 211584:GAIN LINEARIZED FOR VARIABLE GAIN AMPLIFIERS</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">GAIN LINEARIZED FOR VARIABLE GAIN AMPLIFIERS</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>Techniques to linearly (in dB) adjust the gains of variable gain elements (i.e., variable gain amplifiers or VGAs) in a receiver of transmitter. An input control signal is provided to a conditioning circuit that conditions the control signal to achieve various signal characteristics. The input control signal is limited to within a particular range of values, temperature compensated, scaled (or normalized) to the supply voltages, shifted with an offset, or manipulated in other fashions. The conditioned signal is then provided to an input stage of a linearizer that generates a set of exponentially related signals. This is achieved using, for example, a differential amplifier in which the conditioned control signal is applied to the inputs of the differential amplifier and the collector currents from the differential amplifier comprises the exponentially related signals. An output stage within the linearizer receives the exponentially related signals and, in response, generates a gain control signal. By approximately matching the output stage to a gain stage of the variable gain element and by using the gain control signal generated by output stage, the gain transfer function of the VGA approximates that of the exponentially related signals.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td> <br><br>
I. Field of the Invention<br>
The present invention relates to communications circuits. More particularly, the present invention relates to novel and improved techniques for adjusting the gain of variable gain amplifiers.<br>
II. Description of the Related Art<br>
Variable gain amplifiers (VGAs) are commonly used in communications receivers and transmitters to provide adjustable gain, and thus variable signal amplitude, depending on, for example, operating conditions, system requirements, or other factors. In particular, some transmitters are required to provide a range of adjustment in their output power. One application that requires this power adjustment is a Code Division Multiple Access (CDMA) communications system,<br>
In the CDMA system, the signal from each user is spectrally spread over the entire (e.g., 1.2288MHz) system bandwidth. Thus, the transmitted signal from each transmitting user acts as interference to those of other users in the system. To increase system capacity, the output power of each transmitting remote station is adjusted such that a required level of performance (e.g., a particular bit error rate) is maintained while minimizing interference to other users.<br>
The transmitted signal from the remote station is affected by various transmission phenomena, including path loss and fading. These phenomena, in combination with the need to control the transmit power, can impose a difficult specification on the required transmit power control range. In fact, for the CDMA system, each remote station transmitter is typically designed with the capability to adjust its output power over a range of greater than 85 dB,<br>
The power adjustment for CDMA remote stations is typically provided by one or more variable gain amplifiers in the transmit signal path. The power adjustment is normally performed in increments that are typically specified. For example, for CDMA remote stations that conform to the IS-95-A standard, the output power is adjusted in 0.5 dB increments.<br>
For ease of compliance with the power adjustment specification and for other system considerations, it is advantageous to be able to linearly adjust the' gain (in dB) of at least one variable gain amplifier in the transmit signal path.<br><br>
Linear in dB gain versus control voltage corresponds to an exponential gain transfer function. For some VGA designs, the exponential gain is achieved with a differential amplifier stage that provides an output current that varies exponentially in response to a differential input control voltage. The transfer function for the differential amplifier is approximately linear in dB, but compresses at large control voltages,<br>
VGAs having transfer functions that are not linear in dB can cause degraded performance. For example, a "distorted" (i.e., not linear) trarisfer function can make it more difficult or challenging to accurately set the transmit output power to a particular level. In CDMA systems, this inaccuracy can result in degraded performance for a particular remote station (if the output power is set too low) or lower system capacity (if the output power is set too high). The distorted transfer function can also affect other circuits (e.g., the AGC loop) that depend on the gain slope of the VGA, For example, a nonlinear gain versus control voltage can lead to large gain slopes, which allow noise to more easily transfer onto the transmitted signal. The large gain slopes can also disturb the stability of the AGC loop.<br>
Several advantages may be obtained by the use of VGAs that are linear in dB. For example, linear in dB VGAs may reduce the requirement for the RF calibration. Voltages from linear in dB VGAs can also be provided to an AGC loop to generate a log (amplitude) detector, which is useful in some applications.<br>
Accordingly, techniques that allow for linear (in dB) adjustment of a variable gain element are highly desirable.<br>
SUMMARY OF THE INVENTION The present invention provides techniques to linearly (in dB) adjust the gains of variable gain elements (i.e., variable gain amplifiers or VGAs) in a receiver or transmitter. An input control signal is provided to a conditioning circuit that conditions the control signal to achieve various signal characteristics. For example, the input control signal can be limited to within a particular range of values, temperature compensated, scaled (or normalized) to the supply voltages, shifted with an offset, or manipulated in other fashions. The conditioned signal is then provided to an input stage of a linearizer that generates a set of exponentially related signals. This can be achieved using, for example, a differential amplifier in which the conditioned control signal is applied to the inputs of the differential amplifier and the collector currents from the differential amplifier comprise the exponentially related signals. The<br><br>
differential amplifier can be implemented, for example, with a BJT differential pair. An output stage within the linearizer receives the exponentially related signals and, in response, generates a gain control signal. By approximately matching the output stage to a gain stage of the variable gain element and by using the gain control signal generated by output stage, the gain transfer function of the VGA can approximate that of the exponentially related signals.<br>
An embodiment of the invention provides a linearizer circuit for providing a control signal for a variable gain element. The linearizer includes a first circuit coupled to a second circuit. The first circuit is configured to receive an input signal and generate exponentially related signals. The second circuit is configured to receive the exponentially related signals and generate the control signal in response to the received exponentially related signals. The second circuit is approximately matched to a gain circuit within the variable gain element. In a specific implementation, the first circuit or the second circuit, or both, can each be implemented with a differential amplifier. For improved performance, the second circuit can be matched (as closely as possible) to the gain stage of the variable gain element. The input signal can also be conditioned to achieve various signal characteristics such as being limited to within a particular range of values, temperature compensated, continuously adjustable, adjustable in discrete steps, offset vertically in discrete steps, and others.<br>
Another embodiment of the invention provides a gain control circuit for providing a gain control signal for a variable gain element. The gain control circuit includes a conditioning circuit coupled to a linearizer circuit. The conditioning circuit is configured to receive and condition an input control signal to generate a conditioned control signal. The linearizer circuit is configured to receive and process the conditioned control signal to generate the gain control signal. The gain control signal, over a particular range of values, provides an approximately linear, in dB, gain transfer function in the variable gain element. The conditioning circuit can include zero or more of the following circuits: a clipping circuit, a temperature compensation circuit, a summing circuit, and other circuits. The clipping circuit is configured to receive the input signal and provide a clipped signal that is limited to a range of values defined by an upper limit and a lower limit. The temperature compensation circuit is configured to receive an inpvit signal and provide a temperature compensated signal such that the gain transfer function in the variable gain element is approximately invariant to temperature variations. The summing circuit is configured to receive an input signal and a trim signal<br><br>
and to combine the signals to generate a combined signal. These circuits can be arranged in various orders.<br>
Yet another embodiment of the invention provides a circuit for processing an analog signal. The processing circuit includes at least one variable gain element coupled in series and operative to receive an analog signal. Each variable gain element provides a particular gain for the analog signal based on a respective gain control signal. The processing circuit further includes at least one gain control circuit coupled to the variable gain element(s). Typically, one gain control circuit is provided for each variable gain element. One or more of the gain control circuit(s) can be designed to include a linearizer circuit. The linearizer circuit is configured to receive and process an input control signal to generate the gain control signal. The gain control signal, over a particular range of values, provides an approximately linear (in dB) gain transfer function in the variable gain element operative to receive that gain control signal. The gain control circuit can also be designed to include a conditioning circuit coupled to the linearizer circuit. The conditioning circuit can include zero or more of the following circuits: a clipping circuit a temperature compensation circuit, a summing circuit, and other circuits. The processing circuit can be included, for example, within a receiver or a transmitter that can be used, for example, in a cellular telephone.<br>
BRIEF DESCRIFnON OF THE DRAWINGS<br>
The features, nature, and advantages of the present invention will become more apparent from the detailed description set forth below when taken in conjunction with the drawings in which like reference characters identify correspondingly throughout and wherein:<br>
FIG. 1 shows a simplified block diagram of an embodiment of a transmitter;<br>
FIG. 2 shows a plot of a specific (and ideal) set of gain transfer functions for a variable gain amplifier (VGA);<br>
FIG. 3A shows a schematic diagram of a simplified differential amplifier that can be used to provide approximately exponential (or linear in dB) gain;<br>
FIG. 3B shows a plot of the logarithm of the transfer function of the differential amplifier in FIG. 3A;<br>
FIG. 4 shows a block diagram of an embodiment of a gain control circuit for generating a gain control signal VG that allows for linear (in dB) adjustment of a variable gain amplifier;<br><br>
FIG. 5 shows a schematic diagraxn of a specific embodiment of two V-to-I converters, a dipping circuity and a summer within the gain control circuit;<br>
FIG. 6A shows a schematic diagram of a simplified model of the clipping circuit<br>
FIG. 6B shows a plot of the transfer function of the clipping circuit;<br>
FIG. 7 shows a schematic diagram of a specific embodiment of an I-to-V converter within the gain control circuit;<br>
FIG. 8 shows a schematic diagram of a specific embodiment of the linearizer;<br>
Fig. 9 shows a schematic diagram of a simplified model of the linearizer and the VGA to be controlled by the linearizer; and<br>
FIG, 10 shows a schematic diagram that illustrates some techniques for matching the linearizer output differential amplifier to the differential amplifier of the VGA.<br>
DETAILED DESCRIPTION OF THE SPECIFIC EMBODIMENTS<br>
FIG. 1 shows a simplified block diagram of an embodiment of a transmitter 100, A digital processor 110 generates data, encodes and modulates the data, and converts the digitally processed data into an analog signal. The analog signal is provided to a baseband (BB) buffer 122 that buffers the signal and provides the buffered signal to a mixer 124. Mixer 124 also receives a local sinusoid at an intermediate frequency (IF LO), and upconverts the buffered baseband signal with the IF LO to generate an IF signal. The IF signal is provided to an IF variable gain amplifier (IF VGA) 126 that amplifies the signal with a gain determined by a gain control signal 128 from a gain control circuit 130. The amplified IF signal is provided to a filter 132 that filters the IF signal to remove out-of-band noise and undesired signals.<br>
The filtered IF signal is provided to an IF buffer 142 that buffers the signal and provides the buffered IF signal to a mixer 144. Mixer 144 also receives a local sinusoid at a radio frequency (RF LO), and upconverts the buffered IF signal with the RF LO to generate a RF signal. The RF signal is provided to a RF VGA 146 that amplifies the signal with a gain determined by a gain control signal 148 from gain control circuit 130. The amplified RF signal is provided to a power amplifier (PA) 150 that provides the required signal drive. The output of PA 150 couples to an antenna via an isolator and a duplexer (all three elements not shown in FIG. 1).<br>
FIG. 2 shows a plot of a specific (and ideal) set of gain transfer functions 210a through 210e for a variable gain amplifier. In an embodiment, each gain<br><br><br>
where k is the Boltzman constant, T is the temperature (in Kelvin), and q is the electron charge. VTis a temperature dependent term and can be approximated as VT s 26 mV at 300° Kelvin.<br>
FIG. 3B shows a plot of the logarithm of the transfer function in equation<br>
(1).   For large positive control voltages (i.e., V, » VT}, the denominator in<br>
equation (1) approaches 1.0, and the gain of differential amplifier 310 is<br>
determined by the numerator and is approximately linear in dB.   For large<br>
negative control voltages (i.e,,  V, « -VT), the exponential term in the<br>
denominator begins to dominate, and the gain of differential amplifier 310<br>
compresses toward a gain of 1.0.   Thus, the gain transfer function of the<br><br>
differential amplifier is approximately linear in dB over a limited range of control voltages.<br>
FIG. 4 shows a block diagram of an embodiment of a gain control circuit 400 for generating a gain control signal VG, that allows for linear (in dB) adjustment of a variable gain amplifier (VGA). Referring to FIG. 1, the transmit signal path can indude multiple VGAs- Typically, one gain control circuit is provided to generate a gain control signal for each VGA. Thus, gain control circuit 130 can include multiple gain control circuits 400 (i.e., one for each VGA), or any number of gain control circuits 400 in combination with other types of gain control circuits- Alternatively, the gain control signal can be shared by multiple VGAs.<br>
In the specific embodiment shown in FIG. 4, gain control circuit 400 includes a conditioning circuit 410 coupled in series with a linearizer 422. Conditioning circuit 410 receives and conditions an input control signal VCTRL to provide a conditioned control signal VC,. The conditioned control signal can have various characteristics, depending on the particular design of conditioning circuit 410, For example, the conditioned control signal can be: (1) limited (i.e., clipped) to within a particular range of values, (2) adjustable upward or downward by a particular offset amount, (3) temperature compensated, (4) scaled (i.e., "normalized") according to the supply voltage, and so on. Linearizer 422 receives the conditioned control signal V^. and generates a gain control signal V^ that drives the VGA.<br>
Within conditioning circuit 410, the input control signal V^R^ is provided to a voltage-to-<:urrent converter that converts the control signal to a current i similarly an input trim v is provided v-to-i ictrl clipping circuit clips as necessary maintain within particular range of values. clipped and are summer combines currents generate combined isum current-to-voltage generates conditioned vc based on provides linearizer also performs temperature compensation for signal.></:urrent>
Linearizer 422 is responsive to the conditioned control signal VC and generates a gain control signal VG that linearly (in dB) controls the gain of a VGA (not shown in Fig. 4). A reference generator 430 receives the supply voltage VDD, generates a set of bias currents and voltages using a temperature<br><br>
and supply compensated reference source (e.g., a bandgap reference circuit), and provides the bias currents and voltages to the respective circuits.<br>
FIG. 4 shows a specific embodiment of conditioning circuit 410, Different designs to provide different sets of signal characteristics can be implemented and are within the scope of the invention. Moreover, the iinearizer cam be operated without the conditioning circuit.<br>
FIG, 5 shows a schematic diagram of a specific embodiment of V-to-I converters 412 and 414, clipping circuit 416, and summer 418, The control signal VCTRL and the trim signal VTRIM are provided to one end of resistors 512 and 514, respectively. The other end of resistors 512 and 514 couple to current sources 516 and 518/ respectively. The resistors and current sources function to convert the control and trim, voltages to control and trim currents.<br>
An amplifier 522 receives a midscale voltage VMID at the non-inverting input terminal. The output of amplifier 522 couples to the gates of N-channel transistors 526 and 528. The source of N-channel transistor 528 couples to the inverting input of amplifier 522 and forms a feedback path. The sources of N-channel transistors 526 and 528 couple to current sources 516 and 518, respectively. The drains of N-channel transistors 526 and 528 couple to the reference paths of current mirror circuits 532 and 534, respectively. Current mirror circuit 532 is formed by P-channel transistor 532a and 532b, and current mirror circuit 534 is formed by P-channel transistors 534a and 534b.<br>
In the embodiment shown in FIG. 5, the control signal VCTRL is single-ended and is compared to the midscale voltage VMID by amplifier 522. The midscale voltage facilitates the generation of a differential signal (or complementary signals) from a single-ended signal. The midscale voltage can be generated by reference generator 430 noted above. For a differential control signal VCTRJ, (i.e., comprising VCTRL and VCTRL), one of the control signals can be provided to the non-inverting input of amplifier 522 or, alternatively, a differential input stage can be used.<br>
The control current 1CTRL in the reference path (i.e., via P-channel transistor 534a) of current mirror circuit 534 is related to the control signal VCTRL<br>
This control current 1CTRL is then clipped, as necessary, by a subsequent clipping circuit.<br>
In the embodiment shown in Fig. 5, the clipping circuit comprises current sources 536 and 542 and current mirror circuits 538 and 544. The mirror path (i.e., via P-channel transistor 534b) of current mirror circuit 534 couples in series with current source 536 and in parallel with the reference path of current mirror circuit 538.   The mirror path (i.e., via P-channel transistor 538b) of<br><br>
current mirror circuit 538 couples in series with current source 542 and in parallel with the reference path of current mirror circuit 544. The current in the mirror path (i.e., via P-channel transistor 544b) of current mirror circuit 544 is the dipped control current.<br>
FIG. 6A shows a schematic diagram of a simplified model of the dapping circuit. In this model, current sources 636, 642, and 650 correspond to current sources 536, 542, and 550 in Fig. 5, and current mirror circuits 638 and 644 correspond to current mirror circuits 538 and 544. The input current x is represented by a current source 634. When the input current x is greater than the current X, of current source 636, P-channel transistor 638a turns off and the current through P-channel transistor 638b is approximately zero. Alternatively, when the input current x is less than the current xi, the current through P-channel transistor 638b is y = f(x) = a(x1 - x), where a is a scaling factor that is determined by the ratio of the sizes of P-channel transistors 638a and 638b.<br>
Similarly, when the current y is greater than the current y1 of current source 642, P-channel transistor 644a turns off and the current through P-channel transistor 644b is approximately zero. Alternatively, when the current y is less than the current yI, the current through P-channel transistor 642b is z = S(y) = β (y- y), where β   is another scaling factor that is determined by the ratio of the sizes of P-channel transistors 644a and 544b, The transfer functions can be summarized as follows:<br><br>
FIG. 6B shows a plot of the transfer function defined by equation (6). As noted from equation (5), the transfer function g of is: (1) equal to zero when the input signal x is less than (Xj - yjo), (2) equal to Py^ when the input signal x is greater than Xj, and (3) has a slope of aP when the input signal x is between the range of (x, - y/a) and Xj. The transfer function for the output current z is<br><br>
simply the transfer furiction g of shifted vertically by the offset provided by current source 650, and is expressed as:<br><br>
With four degrees of freedom, tiKe upper current limit I,,^^^, the lower current limit Ij^„, the low input threshold current I^o^, and the high input threshold current Ij^^ can be set to any particular set of values by adjusting the five variables x,, y^, a, p, and offset. The variables x^ and y^ correspond to the currents of current sources 636 and 642, respectively, which can be set by proper circuit design. The variables a and β  can be set by controlling the ratio of the transistor sizes in current mirror circuits 638 and 644, respectively. The offset is added to the current from P-channel transistor 644b, to shift the transfer function vertically. The offset can be fixed or programmable to provide the family of curves shown in Fig. 2.<br>
In accordance with an aspect of the invention, a piecewise-linear transfer function can be constructed by concatenating circuits similar to that described above. The five variables of each of the circuits can be adjusted to provide a linear function for a portion of the overall transfer function.<br>
Referring back to FIG. 5, the clipped control current (i-e., from F-channel transistor 544b), the trim current 1TRIM (i.e., from P-channel transistor 532b), and the offset current IOFFSET (i.e from current source 550) are summed together at a Slimming node 546. The combined current ISUM is provided to the reference path of a current mirror circuit 548 comprised of N-channel transistors 548a, 548b, and 548c. The mirror path through N-channel transistor 548b is coupled to the reference path of a current mirror circuit 552 comprised of P-channel transistors 552a and 552b. The mirror path through N-channel transistor 54Sc is coupled to a current source 554. The output current signals IA and Ig are provided via the mirror paths through transistors 552b and 548c, respectively.<br><br>
The current through P-channel transistor 552b is approximately equal in magnitude to the current through N-channel transistor 548c but differs in polarity (i.e., N-channel transistor 548c provides sinking current and P-channel transistor 552b provide sourcing current). However, the output current signal IB is the difference between the current IPs in current source 554 and the current through N-channel transistor 548c (e.g., Ig = Ipg - I548C), Thus, if IPS is set at fuUscale, the current IA through N-channel transistor 548a and the current Ig through P-channel transistor 552b are similar in magnitude but out of phase. IA<br><br>
and IB are complementary "with an offset to ensure that the current stays greater than zero {i-e., IA &gt; 0 and IB &gt; 0).<br>
FIG. 7 shows a schematic diagram of a specific embodiment of I-to-V converter 420. Within converter 420, the current signals IA and IB from the output stage of the summing circuit are provided to the collectors of a differential amplifier 712 comprised of transistors 712a and 712b. The emitters of transistors 712a and 712b couple together and in series with a resistor 714. The collectors of transistors 712a and 712b couple to the bases of transistors 716a and 716b, respectively. The collectors of transistors 716a and 716b couple the supply voltage VDD, and the emitters of transistors 716a and 716b couple to the bases of transistors 712a and 712b, respectively, and further to current sources 718a and 718b, respectively.<br>
The outputs from the emitters of transistors 716a and 716b couple to the bases of transistors 722a and 722b, respectively. The collectors of transistors 722a and 722b couple to one end of resistors 724a and 724b, respectively, and comprise the conditioned control signals VCP and VCN, respectively. The other end of resistors 724a and 724b couple to the supply voltage VDD. The emitters of transistors 722a and 722b couple to a current source 728 designed to provide a current of IPTAT. proportional to the ratio of VT and Rl (i.e., IPTAToc= V^/Rl),<br>
Converter 420 generates a differential control voltage VC- in response to the input currents IA and IB. The circuit comprising transistors 712a, 712b, 716a, 716b, 722a, and 722b generates a differential output voltage based on a differential input current, and also provides temperature compensation. The circuit comprising transistors 812a and 812b generates a differential output currents that are an exponential function (linear in dB) of the differential input voltage. The transfer function for the I-to-V converter can be expressed as follows:<br><br>
where a VT is related to the current from current source 728.<br>
From equation (7), it can be noted that the differential control voltage VC is temperature compensated. In particular, the control voltage is "predistorted" such that it is dependent on (i.e., scaled by) VT. in an inverse manner as the subsequent linearizer circuit to be described below. The scaling by VT provides for a gain control mechanism that is, to a degree, temperature invariant.<br><br>
FIG. 8 shows a schematic diagram of a specific embodiment of linearizer 422. Linearizer 422 includes an input differential amplifier 812 coupled to an output differential amplifier 830. Differential amplifier 812 comprises a pair of transistors 812a and 812b coupled at the emitter, and differential amplifier 830 comprises a pair of transistors 830a and 830b coupled at the emitter.<br>
Within linearizer 422, the conditioned control signals VCP, and VCN from converter 420 are provided to the inputs of differential amplifier 812, The emitters of transistors 812a and 812b couple together and to a current source 814. The collector of transistor 812a couples to the reference path of a current mirror circuit 820 comprised of P-charmel transistors 820a and 820b. Similarly, the collector of transistor 812b couples to the reference path of a current mirror circuit 822 comprised of P-channel transistors 822a and 822b.<br>
The mirror path (i.e., via P-channel transistor 822b) of current mirror circuit 822 couples to the reference path of a current mirror circuit 824 comprised of N-channel transistors 824a and 824b. The mirror path (i.e., via P-channel transistor 820b) of current mirror circuit 820 couples to the collector of transistor 830a. The mirror path (i.e., via N-channel transistor 824b) of current mirror circuit 824 couples to the emitters of differential amplifier 830. The collector of transistor 830a also couples to the base of transistor 830a. The bases of transistors 830a and 830b provide the gain control signals VGp and VGN, respectively.<br>
The input stage of linearizer 422 receives the differential control signal Vc and generates a set of current signals I1 and I, that are exponentially related. The transfer function for the ratio of the currents can be expressed as:<br><br>
In equation (8)^ it can be noted that the ratio of the cun-ents (e.g., \/li) is an exponential function (i.e., linear in dB) with respect to the differential control voltage (e.g., VC = VCP - VCN). It can also be noted that the ratio of the currents is a function of VT.. However, as shown above in equation (7), the differential control voltage VC is generated with temperature compensation such that VC includes a scaling factor of VT. When VC is applied to equation (8), the VT term in equations (7) and (8) cancels out and the ratio of the currents (Lj/Ij) is, to a large extent, temperature invariant (i.e., not dependent on VT). The ratio of the currents (I2/I3) is a function of the control signal VC, which is a conditioned signal based on the input control signal VCTRL<br><br>
As shown in Fig. 8, the current (I2) from one path of input differential amplifier 812 is provided as the current for one path of output differential amplifier 830, The current (I2) from the other path of input differential amplifier 812 is provided as the emitter current for output differential amplifier 830. Differential amplifier 830 generates a differential gain control voltage VG (VG = VGP- VGN) based on the exponentially related currents signals I2 and I1.<br>
Fig. 9 shows a schematic diagram of a simplified model of the linearizer and the VGA to be controlled by the linearizer. Input differential amplifier 812 of the linearizer generates currents I1 and I2. that are exponentially related, as shown in equation (8). The output differential amplifier receives the exponentially related currents I1 and I2 and generates a differential gain control voltage VQ that is based on, and corresponds to, the exponentially related currents I1 and I2. The differential gain control voltage VG. is provided to the VGA.<br>
The VGA includes a differential amplifier 930 comprised of transistors 930a and 930b that receive the differential gain control voltages VGP and VGN, respectively. Differential amplifier 930 generates an output current IOUT that is linearly related to the input citrrent Ijj^, but the gain is exponentially related to the control voltage. For improved performance, differential amplifier 930 is matched (as dosely as possible) to differential amplifier 830 and current source 924 is matched to current source 824. Matdiing the differential amplifiers and current sources may be impractical because, for example, it may be desired to minimize the current consumption of the replica differential amplifier in the control circuit, but the current consumption of the VGA being controlled may be set by other performance requirements. In accordance with an aspect of the invention, resistors are used to improve operational matching of the circuits despite their operation at different current densities.<br>
Since both differential amplifiers 830 and 930 are controlled by the same differential gain control signal VG, and further because of the matching, the ratio of 1OUT to IIN is approximately equal to the ratio of the I2 to I1. The transfer function for the VGA can be expressed as:<br><br>
As shown by equation (9), with the linearizer of the invention, a linear (in dB) gain transfer function can be obtained for a differential amplifier in the VGA.   It can be noted that differential amplifier 930 in FIG. 9 is similar in<br><br>
configuration to differential amplifier 310 in FIG. 3A, The linear (in dB) gain transfer function is obtained for differential amplifier 930 by "predistorting" the gain control voltage VG, using the linearizer. In contrast, as shown by equation (1), an approximately linear (again in dB) gain transfer function is obtained over a limited range of values when the gain control voltage is not "predistorted."<br>
FIG. 10 shows a schematic diagram that illustrates some techniques for matching the linearizer output differential amplifier to the differential amplifier of the VGA. The linearizer differential amplifier is typically operated at low current to conserve power. In contrast, the VGA differential amplifier is typically operated at higher current to provide the required signal swing, linearity, and noise performance.<br>
For improved performance, the differential amplifiers axe physically matched, for example, by designing the transistors with similar sizes and placing the transistors in the same vicinity and with similar orientations. However, some mismatch occurs because of other factors. For example, the VGA devices being controlled are typically operated at high current, and thus their dynamic resistance is small. (The dynamic resistance for a transistor is computed as re=VT/IC, where IC is the bias current for the transistor.) However, the parasitic resistance inherent in the construction of the devices does not change with operating current. The replica devices in the control circuit are operated at lower current, and their parasitic resistance is typically less significant compared to the dynamic resistance. Additional resistance can thus be added to the bases and emitters of the replica devices to approximate the effect of the relatively higher parasitic resistance in the devices being controlled. To match the emitter resistance, an external resistor REXT can be placed between the emitter of the transistor and the current source such that the following is achieved:<br><br>
where rpe is the emitter parasitic resistance. Similarly,. to match the base resistance, an external resistor Rb, can be placed at the base of the transistor such that the following is achieved:<br><br><br>
In an embodiment, a buffer 840 having approximately unit gain is coupled between the collect and base of transistor 830a. Buffer 840 provides biasing for the bases of transistors 830a and 930a,<br>
For clarity, the invention has been described with differential amplifiers implemented using bipolar junction transistors (BJTs). The invention can also be implemented with other circuits including FETs, MOSFETs, MESFETs, HBTs, P-HEMTs, and others. As used herein, "transistor" generically refers to any active circuit, and is not limited to a BJT.<br>
The linearizer of the invention can be used in combination with various variable gain elements including variable gain amplifiers, attenuators (i.e., diodes), multipliers, and other circuits. Generally, the output stage of the linearizer can be designed to approximately match the gain stage of the variable gain element, and the input stage of the linearizer can be designed to generate exponentially related signals that provide the desired linear (in dB) gain transfer function.<br>
The linearizer can be used in a receiver or a transmitter. In fact, the linearizer of the invention can be used in any circuit designed to process an analog signal and including at least one variable gain element. In particular, the linearizer can be advantageously used in a transmitter designed to operate in accordance with one or more variants of IS-95 specifications.<br>
Various modifications can be made to the transmitter embodiment shown in FIG. 1. For example, fewer or additional filter, buffer, and amplifier stages can be provided in the transmit signal path- Moreover, the elements within the signal path can be arranged in different configurations. In addition, the variable gain in the transmit signal path can be provided by VGAs (as shown in FIG. 1), variable attenuators, multipliers, other variable gain elements, or a combination of the above. In a specific implementation, the transmit signal path from BB buffer 122 to FA 150 (possibly excluding filter 132) is implemented within one or more integrated circuits, although discrete elements can also be used.<br>
In. one specific transmitter embodiment, quadrature modulation is performed on an inphase (I) baseband signal and a quadrature (Q) baseband signal from the digital processor. In this design, a pair of BB buffers and mixers are used to buffer and upconvert the I and Q baseband signals with the inphase and quadrature IF LOs, respectively. The I and Q modulated signals are then combined to generate the IF signal. In another specific transmitter embodiment, quadrature modulation is performed digitally within the digital<br><br>
processor, and the modulated signal is then upconverted to IF or RF using one or more frequency upconversion stages.<br>
Transmitter 100 can be used in many communication applications, such as cellular communication systems. Examples of cellular communication systems include Code Division Multiple Access (CDMA) communications systexris. Time Division Multiple Access (TDMA) communications systems, and analog FM communications systems. CDMA systems are typically designed to conform to the "T1A/EIA/IS-95-A Mobile Station-Base Station Compatibility Standard for Dual-Mode Wideband Spread Spectrum Cellular System," hereinafter referred to as the IS-95-A standard.<br>
The IS-95-A standard requires the output power from a remote station to be adjustable over a range of 85 dB in specified (e.g., 0.5 dB) increments. Typical remote stations are designed to transmit from between approximately -50 dBm to 4-23 dBm, (IS-95-A specifies the minimum and maximum output power levels of the remote stations.) In some transmitter embodiments, the output PA is designed with a fixed gain but variable drive capability. The variable drive can be provided by a PA design having multiple (i.e., parallel) drivers that can be selectively curned off when not required.<br>
As shown in FIG. 1, a bias control circuit 160a receives gain control signal 128 and can adjust the bias currents of IF buffer 142, mixer 144, and RF VGA 146 based on the received gain control signal. Similarly, a bias control circuit 160b receives gain control signals 128 and 148 and can adjust the bias current of PA 150 based on the received gain control signals.<br>
As shown in FIG. 1, gain control circuit 130 and bias control circuits 160a and 160b are implemented as individual circuits. However, these circuits can also be implemented within a single circuit, or integrated within other circuits such as digital processor 110, The control circuits can also be integrated within the integrated circuit that implements the circuits in the analog signal path.<br>
The foregoing description of the preferred embodiments is provided to enable any person skilled in the art to make or use the present invention. Various modifications to these embodiments will be readily apparent to those skilled in the art, and the generic principles defined herein may be applied to other embodiments without the use of the inventive faculty. Thus, the present-invention is not intended to be limited to the embodiments shown herein but is to be accorded the widest scope consistent with the principles and novel features disclosed herein.<br><br><br><br><br>
WE CLAIM<br>
1.	A linearizer circuit for providing a control signal for a variable gain element comprising: a first circuit configured to receive an input signal and generate exponentially related signals; and a second circuit, comprising a differential amplifier, coupled to the first circuit, the second circuit configured to receive the exponentially related signals and generate the control signal in response to the received exponentially related signals, wherein the second circuit is approximately matched to a gain circuit within the variable gain element, characterized in that the differential amplifier comprises a pair of transistors coupled together at a common point, wherein one of the exponentially related signals is provided to one of the transistors and another of the exponentially related signals is provided to the common point.<br>
2.	The linearizer circuit as claimed in claim 1, wherein a base and a collector of the transistor provided with one of the exponentially related signals are coupled together.<br>
3.	The linearizer circuit as claimed in claim 18, wherein the second circuit comprises a buffer coupled between the base and the collector of the transistor provided with one of the exponentially related signals.<br>
4.	The linearizer circuit as claimed in claim 1, wherein the second circuit comprises a set of resistors coupled to the differential amplifier to match a resistance characteristic of the differential amplifier to that of the gain circuit within the variable gain element.<br>
5.	The linearizer circuit as claimed in claim 1, wherein the second circuit comprises a set of resistors coupled to the bases of the pair of transistors.<br><br>
6.	The linearizer circuit as claimed in claim 1, wherein the second circuit<br>
comprises a set of resistors coupled to the emitters of the pair of transistors.<br>
7.	The linearizer circuit as claimed in claim 1, wherein the input signal is<br>
temperature compensated such that a ratio of the exponentially related signals is<br>
approximately invariant to temperature variations.<br>
8.	The linearizer circuit as claimed in claim 1, wherein the input signal is<br>
continuously adjustable.<br>
9.	The linearizer circuit as claimed in claim 24, wherein the input signal is<br>
adjustable in discrete steps.<br><br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDg4LWNoZW5wLTIwMDMtYWJzdHJhY3QucGRm" target="_blank" style="word-wrap:break-word;">488-chenp-2003-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDg4LWNoZW5wLTIwMDMtYXNzaWduZW1lbnQucGRm" target="_blank" style="word-wrap:break-word;">488-chenp-2003-assignement.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDg4LWNoZW5wLTIwMDMtY2xhaW1zIGZpbGVkLnBkZg==" target="_blank" style="word-wrap:break-word;">488-chenp-2003-claims filed.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDg4LWNoZW5wLTIwMDMtY2xhaW1zIGdyYW50ZWQucGRm" target="_blank" style="word-wrap:break-word;">488-chenp-2003-claims granted.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDg4LWNoZW5wLTIwMDMtY29ycmVzcG9uZG5lY2Utb3RoZXJzLnBkZg==" target="_blank" style="word-wrap:break-word;">488-chenp-2003-correspondnece-others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDg4LWNoZW5wLTIwMDMtY29ycmVzcG9uZG5lY2UtcG8ucGRm" target="_blank" style="word-wrap:break-word;">488-chenp-2003-correspondnece-po.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDg4LWNoZW5wLTIwMDMtZGVzY3JpcHRpb24oY29tcGxldGUpZmlsZWQucGRm" target="_blank" style="word-wrap:break-word;">488-chenp-2003-description(complete)filed.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDg4LWNoZW5wLTIwMDMtZGVzY3JpcHRpb24oY29tcGxldGUpZ3JhbnRlZC5wZGY=" target="_blank" style="word-wrap:break-word;">488-chenp-2003-description(complete)granted.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDg4LWNoZW5wLTIwMDMtZHJhd2luZ3MucGRm" target="_blank" style="word-wrap:break-word;">488-chenp-2003-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDg4LWNoZW5wLTIwMDMtZm9ybSAxLnBkZg==" target="_blank" style="word-wrap:break-word;">488-chenp-2003-form 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDg4LWNoZW5wLTIwMDMtZm9ybSAxOC5wZGY=" target="_blank" style="word-wrap:break-word;">488-chenp-2003-form 18.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDg4LWNoZW5wLTIwMDMtZm9ybSAyNi5wZGY=" target="_blank" style="word-wrap:break-word;">488-chenp-2003-form 26.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDg4LWNoZW5wLTIwMDMtZm9ybSAzLnBkZg==" target="_blank" style="word-wrap:break-word;">488-chenp-2003-form 3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDg4LWNoZW5wLTIwMDMtZm9ybSA1LnBkZg==" target="_blank" style="word-wrap:break-word;">488-chenp-2003-form 5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDg4LWNoZW5wLTIwMDMtb3RoZXIgZG9jdW1lbnRzLnBkZg==" target="_blank" style="word-wrap:break-word;">488-chenp-2003-other documents.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDg4LWNoZW5wLTIwMDMtcGN0LnBkZg==" target="_blank" style="word-wrap:break-word;">488-chenp-2003-pct.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="211583-a-bridge-deck-panel-and-a-method-of-manufactring-the-same.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="211585-a-cellular-communication-system.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>211584</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>488/CHENP/2003</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>50/2007</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>14-Dec-2007</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>05-Nov-2007</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>07-Apr-2003</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>M/S. QUALCOMM INCORPORATED</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>5775 Morehouse Drive, San Diego, CALIFORNIA 92121-1714</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>WALKER, Brett, C</td>
											<td>11850-2 Cypress Canyon Road San Diego, CA 92131</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H03G 7/08</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/US2001/031696</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2001-10-09</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>09/686,265</td>
									<td>2000-10-10</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/211584-gain-linearized-for-variable-gain-amplifiers by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2024 23:11:56 GMT -->
</html>
