<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/217162-a-system-for-enabling-access-to-travel-services by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 11:26:58 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 217162:&quot;A SYSTEM FOR ENABLING ACCESS TO TRAVEL SERVICES&quot;</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">&quot;A SYSTEM FOR ENABLING ACCESS TO TRAVEL SERVICES&quot;</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>The present invention relates to a method of enabling access to travel services, the method comprising the steps of: providing a potential purchaser (501) with a form (1) containing information (2) relating to a travel service transaction, characterized in that the form (1) comprises coded data (3) indicative of an identity of the form (50) and of at least one reference point (4) of the form(l); receiving, in a computer system (10, 11, 12, 13, 14), indicating data from a sensing device (101) regarding the identity (50) of the form (1) and a position of the sensing device (101) relative to the form (1), the sensing device (101) when placed in an operative position relative to the form (1), sensing the indicating data using at least some of the coded data (3); and Identifying, in the computer system (10, 11, 12, 13, 14) and from the indicating data, at least one parameter relating to the travel service transaction.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>The present invention relates to a system for enabling access to travel services.<br><br><br>
FIELD OF INVENTION<br>
The present invention reintes generaJly to methods, systems and apparatus for interacting with computers. More particularly, the invention relates to enabling access to travel services utilizing such methods, systems and apparatus.<br><br>
The invention has been developed primarily to allow a large number of distributed users to interact with networked information via printed matter and opucal sensors, thereby to obtain interactive printed matter on demand via high-speed networked color printers. Although the invention will largely be described herein with reference to this usc, it will be appreciated that the invention is not limited to use in this field.<br><br><br>
Various tnethods.'systems and apparatus relating to the present invention are disclosed in the following copending applications filed by the applicant or assignee of the present i;wention simiiltanuously with the present application:<br><br>
The disclosures of these co-pending applications are incorporated herein by cross-reference.<br><br>
Various methods, systems and apparatus relating to the presenl invention are disclosed in the following copending applications filed by the applicant or assignee of the present invention on 24 May 200<br>
PCT/AUOO/005 16,<br><br><br><br>
The disclosures of these co-pending applications are incorporated hcrcin hy cross-reference.<br><br>
BAC KGROUND<br><br>
Travel services are well knoi~'n. revolving around a core set of transactions including enquiries about and reservations of flights, accommodation. car rental, holiday packages and travel insurance. Travel services are provided over thc counter in airline and travel agencies. by telephone, and increasingly over the Internet.<br><br>
OBJECT<br><br>
]t is an object of the present invention to provide a new method and system for enabling access to travel services.<br><br>
SUMMARY OF INVENTION<br><br>
Aceordin2 to a first aspect. the present invcntion provides a mcthod of enabling access Lu travel Services, the method including the steps of:<br><br>
providing a potential purchaser with a form containing information relating to a travel service transaction. the form including coded data indicative ofan identity of the form and of at least onereference point of the form:<br><br>
receiving, in a computer system. indicating data from a sensing device regarding the identity of the form and a position of the scnsing device relative to the form. the sensing device, when placed in an operative position relative to the form. sensing the indicatine data using at least some of the coded data; and<br><br>
identifying, in the computer system and from the indicating data, at least one parameter relating to the travel Service transaction.<br><br>
Preferably. the parameter relating to the travel service transaction is associated with at least one zone of the form and the method includes idcniibino. in the computer system and from the zone relative to which the sensing device is located, the parameter.<br><br>
Preferably also, the method includes:<br><br>
receiving, in th~ computer svstcn,, data regarding movement of the sensing device relative to the form, the sensing device sensing its movement relative to the form using at leasl sonic of the coded data; and<br><br>
idert I ifyiitg, in the computer svstcni and from said movemoni being at least partially within said at least one zone, said at least one parameter of the travel service transaction.<br><br>
According to a second aspect. the invention provides a method of enabling access to travel services, the method including the steps of:<br><br>
providine a potential purchaser with a form containing information relating to a travel service transaction, the form including coded data indicative of at least one parameter of the travel service transaction;<br><br>
receiving, in a computer system. dnta from a sensing device regarding said at leasL one parameter and regarding movement of the sensine deviec relative to the form, the serlsin~. device, when moved relative to the fono. sensing the data regarding said at least one parameter using at least some of the coded data and generating the data regarding its own movement relative to the form: and<br><br>
interpreting, in the computer system. said movement of the sensing device as it relates to said at least one parameter<br><br>
According to a third aspect, the Invention provides a method ol'enahling access to travel services, the method<br><br>
including the steps of:<br><br>
providing a potential purchaser with a form including coded data indicative of an identity of the form;<br>
receiving, in a computer system, data from a sensing device regarding an identity of the potential purchaser and regarding the identity of the form. the sensing device containing the data regarding the identity of the potential purchaser and sensing the data regarding the identity of the fonn using at least some of the coded data: and<br><br>
identifying, in the computer system and from tlte data regarding the identity of the potential purchaser and the identity of the form, a travel service transaction.<br><br>
Preferably. the coded data is also indicative of at least one parameter of the travel service transaction, and the method includes receivine. in the computer system, indicating data front the sensing device regarding the at least one parameter of the service transaction, the sensing device sensing the indicating data using at least some of the coded data.<br><br>
According to a fourth aspect, the invention provides a system for enabling access to travel services, the system including:<br><br>
a form containin~ information relating to a travel service transaction, the form including coded data indicative ofan identity of the form and ofat least one reference point of the form; and<br><br>
a computer system for receiving indicating data from a sensing device for identifying at least one parameter relating to the travel service transaction, the indicating data being indicative of the identity of the form and a position of the sensing device relative to the form. the sensing device sensing the indicating data ~rsing at least some of the coded data.<br><br>
Preferahly. the parameter relating to the travel service transaction is associated with at least one zone of ~he torm.<br><br>
Preferably aiso, the system includes the sensing device, the sensing device sensing its movement relative to the form using at least sante of the coded data.<br><br>
Accordin2 to a fifth aspect. the invention provides a system for enabling access to travel services. the system including:<br><br>
a form containing information relating to a travel service transaction, the form including coded data indicative of at least one parameter of the travel service transaction; and<br><br>
a computer system for receiving data from a sensing device regarding said at least one parameter and regarding movement of the sensing device relative to the form, and for interpreting said movement of the sensing device as it relates to said at least one parameter, the sensing device. when moved relative to the form, sensing the data regarding said at least one parameter using at least some of the coded data and generating the data regarding its own movement relative to the form.<br><br>
According to a sixth aspect. the invention provides a system for enabling access to travel services, the system includina:<br><br>
a form including coded data indicative of an idcntity of the form; and<br><br>
a computer system for receiving from a sensing device data regarding an identity of the potential purchaser and the identity of the for-rn. and for identifying. from said received data, a travel service transaction, the sensing device containing the data regarding the identity of the potential purchaser and sensing the data recarding the identity of the form <br>
using at least some of the coded data.<br><br>
Preferably. ,the coded data is also indicative of at least one parameter of the travel service transaction, the computer system receiving indicating data from the sensing device regarding the at least one parameter. and the sensing device sensing the indicating data using at least some of the coded data.<br><br>
Accordingly. the present invention provides a system and a method which utilizes one or more forms capable of interacting with a computer system. Whilst the novel method and system of the present invention may be used in conjunction with a sing!e computer system. in a particularly preferred form it is designed to operate over a computer neiwork, such as the Internet.<br><br>
Physically, the form is disposed on a surface medium of any suitable structure. However, in a preferred arrangement. the form is disposedon sheet material such as paper or the like which has the coded data printed on it and which allows interaction with the computer system. The coded data is detectable preferably. but not exclusively, outside the visible spectrum, thereby enabling it to be machine-readable hut substantially invisible to the human eye. The form may also include visible riatertal which provides information to a user, such as the application or purpose of the form, and which visible information may be recistered or correlate in position with the relevant hidden coded data.<br><br>
The system also includes a sensing device to convey data from the form to the computer system. and in some instances, to contribute additional data. Again, the sensing device may take a variety of forms but is preferably compact and easily portable. In a particularly preferred arrangement. the sensing device is configured as a pen which is designed to be able to physically mark the form as 'veil as to selectively enable the coded data from the form to Sc read and transmitted to the computer- system. The coded data then provides control informatior~. configured such that designation thereof by a user causes ~nstrucrions to be applied to the software running on the computer system or network.<br><br>
The nature of thc interaction between the for-rn and the sensing device and the data that each contributes to the computer system ma'. var-v. In one arrangement. the coded data on the form is indicative of the identity of the form and ofat least one reference point on that form. In another embodiment, the form includes coded data which is indicative ofa parameter of the for-ni. whereas the sensing device is operative to provide data regarding its own movement relative to that form to the computer system together- with coded data from the form. In yet another arrangement, the form includes the coded data which at least idcntiiies the form, arid the sensing device is designed to provide, to the computer system, data based on the form coded data, and also on data which identifies the user of the device.<br><br>
In a preferred arrangement. the system arid method also employs specially designed printers to print the form. Further these printers constitute or- form part of the computer system and are designed to receive data from the sensing device. As indicated above, the system and method of the invention is ideally suited to operate over a network. In this arrangement, the printcrs arc fully integrated into the network and allow for printing of the forms on demand and also for distributing of the forms using a mixture ofmulticast and pointeast communication protocols.<br><br>
Accordingly, in a preferred form the preseni invention pr-ovidcs methods and systems which use a paper and pen based inrerihee for- a computer system, This provides many sienificant benetits over tr-aditional computer- sYstems. The advantage of paper is thai it is widel). used to display and record information, Further, printed information is easier- o read than information displa~cd on a computer- 5cr-cell. Moreo~ er-. paper does not run on batteries, cun he r-ead in bright light, or-robustly accepts coffee spills or the like and is poitable and disposable. Furthermore. the system allows for hand-drawing and handwriting to be caprur-ed which affords greater richness of expr-c~;sinn than input viii a computer- keyboard and mouse.<br><br>
The present invention therefore provides a novel method Jn(1 system for enabling access to travel services<br><br>
making use of a novel interactive surface media.<br><br>
Statement Of Invention<br><br>
Accordingly the present invention relates to A system for enabling access to travel services, the system comprising:<br><br>
a form (1) containing information relating to parameters for travel service<br><br>
transactions, characterized in that the form (1) comprising coded data (3)<br><br>
indicative of an identity (50) of the form (1) and of at least one reference point (4)<br><br>
of the form (1);<br>
a sensing device (101) for sensing at least some of the coded data (3) on or in the form (1) and for generating indicafing data identifying at least one parameter relating to the travel service transaction using at least some of the sensed coded data (3); and,<br>
a computer system (10, 11, 12, 13, 14) for receiving indicating data from the sensing device (101) for identifying at least one parameter relating to the travel service transaction, the indicating data being indicative of the identity (50) of the form (1) and a position of the sensing device (101) relative to the form (1), the sensing device (101) sensing the indicating data using at least some of the coded data (3). <br>
mak' use o~~w~Iterac	surface	~<br><br><br>
BRIEF DESCRIPTION OF DRAWINGS<br><br>
Preferred and other embodiments of the invention will now be described, by way of non-limiting example only, with reference to the accompanying drawinas. in which:<br><br>
Figure 1 is a schematic of a the relationship between a sample printed netpage and its onJ1n~ ~age&amp;scription.7<br><br>
Figure 2 is a schematic view of a inter-action between a netpage pen. a nelpage printer, a netpage page server, and a netpage application server.<br><br>
Figure 3 illustrates a collection of netpage servers and printers interconnected via a network;<br><br>
Figure 4 is a schei~iatie view of a high-level structure of a printed netpage and its online page description;<br><br>
Figure 5 is a plait view showing a structure of a netpage tag:<br><br>
Figure 6 is a plan view showing a relationship between a set of the lags shown in Ficure 5 and a fteld of view of a netpage sensing device in the form of a netpage pen:<br><br>
Figurc 7 is a flowchart of a tag image processing and decoding algorithm:<br><br>
Figure R is a perspective view of a netpage pen and its associated tag-sensing field-of-view cone;<br><br>
Figure 9 is a perspecr~ve exploded view of the netpaue pen shown in Figure 8;<br><br>
Figure 10 is a schematic block diagram of a pen controller- for the netpagc pen shown in.)~igures 8 and 9;<br><br>
Figure II is a perspective view of a wall-mounted netpage printer:<br><br>
Figure 12 is a section through the length of the nelpage printer of Figure II;<br><br>
Figure 12a isan enlarged portion of Fi~ur-e 12 showing a section ol the duplexed print engines and glue wheel assembly;<br><br>
Figure 13 is a detailed view of the ink cartridge, ink, air and glue paths. and print engines of the netpage printer of Figures It and (2:<br><br>
Figure 14 is a schematic block diagram of a printer- controller for the netpage printer shown in Fiaurcs 11 ~nd 12:<br><br>
Figure 15 is a schematic block diagram of duplexed print engine controllers and Mern.ieLT~~ printheads associated with the printer controller shown in Figure 14:<br><br>
Figure 16 is a schematic block diagram of the print engine controller shown in Figures 14 and IS;:<br><br>
Figure 17 is a perspective view of a single MemjetrM printing element, as used in. for example. the netpage printer- of Figures 10 to 12:<br><br>
Figure ISis a perspectivc view ura small part ofan array of McmjetTM printing elements:<br><br>
Figure 19 is a series of perspective views illustrating the operating cycle of the Memiet~M printing element shown in Figure 13.<br><br>
Figure 20 is a perspective view of a short segment ofa pagc'vidth Men,jet1M pi'~nmhead:<br><br><br>
Figure 21 is a schematic view of a user class diagram.<br><br>
Figure 22 is a schematic view of a printer class diagram.<br><br>
/
Figure 23 is a schematic view of a pen class diagram;<br><br>
Figure 24 is a schematic view of an application class diagram;<br><br>
Figure 25 is a schematic view of a docurtient and page description class diagraIn~<br><br>
Figure 26 is a schematic view of a docuniont and page ownership class diagram:<br><br>
Figure 27 is a schematic view of a terminal element specialization class diagram:<br><br>
Figure 28 is a schematic view of a static element specialization class diagratn;<br><br>
Figure 29 is a schematic ~g~y of a hyperlink element class diagram:<br><br>
Figure 30 is a schematic view of a hyper-link element specializatiou class diagram:<br><br>
Figure 31 isa schematic view of a hyperlinked group class diagram:<br><br>
Figure 32 is a schematic view of a form class diagram;<br><br>
Figure 33 is a schematic view of a digital ink class diagrant.<br><br>
Figure 34 is a sc'nematic view ofa field clentent specialization class diagratn:<br><br>
Figure 35 is a schematic ~kw of a checkbox field class diagram:<br><br>
Figure 36 is a schematic view ota text field class diagrant<br><br>
Figure 37 is a schematic view of a signature field class diagram;<br><br>
Figure 38 is a flowchart of an input processing algorithm;<br><br>
Figure 38a is a detailed flowchart of one step of the flowchart of Figure 38:<br><br>
Figure 39 is a schematic view of a page server command element class diagram:<br><br>
Figure 40 is a schematic view ofa subscription delivery protocol;<br><br>
Figure 41 is a schematic view of a hyperlink request class diagram:<br><br>
Figure 42 is a schematic view of a hyperlink activation protocol;<br><br>
Figure 43 is a schematic view ofa form submission protocol:<br><br>
Figure 44 is a schematic view of a set of user interface flow document icons:<br><br>
Future 45 is ~ schematic view of a set of user interface page layout element icons;<br><br>
Figure 46 is a schematic view ofa flight class diagram:<br><br>
Figure 47 is a schematic view of a payment class diagram;<br><br>
Figure 48 is a schematic view of a car rental class diagram;<br><br>
Figure 49 is a schematic view of a hotel class diagram:<br><br>
Figure 50 isa schematic view of a vacation class di~gr-am:<br><br>
Figure 51 is a schematic view of a travel insurance class diagram:<br><br>
Figure 52 is a schematic view of a travel company user interface flow:<br><br>
Figurc 53 is a schematic view ofa flights user iritert~ce tiow:<br><br><br>
Figure 54 is a schematic view of a car rental user interface flow;<br><br>
Figure 55 is a schematic view of a hotel booking user interface flow:<br><br>
Figure 36 is a schematic view of a vacations user interlace flow;<br><br>
Figure 57 is a schematic view of a travel insurance user interface flow:<br><br>
Figure 58 is a schematic view of a travel company main page:<br><br>
Figure 59 is a schematic view of a flight search form;<br><br>
Figure 60 is a schematic view of an air-line list form:<br><br>
Figure 61 is a schematic view of a flight search results page;<br><br>
Figure 62 is a schematic view ofa flight details page;<br><br>
Figure 63 is a schematic view of a passenger details form:<br><br>
Finure 64 is a schematic view of a payment details form;<br><br>
Figure 65 is a schematic view ofa travel itinerary &amp; receipt page;<br><br>
Figure 66 is a schematic view of a rental car search form;<br><br>
Figure 67 is a schematic view ofa rental car-search results page;<br><br>
Figure 68 is a schematic view of a rental ear payment details form;<br><br>
Figure 69 is a schematic view of a car rental receipt page;<br><br>
Figure 70 is a schematic view of a hotel search form:<br><br>
Figure 7 I is a schematic view of a hotel search results page:<br><br>
Figure 72 is a schematic view of a hotel payment details form;<br><br>
Figure 73 is a sebentatie view of a hotel booking confirmation page:<br><br>
Figure 74 is a schematic view of a vacation destinations page;<br><br>
Figure 75 is a schematic view of a vacation packages page;<br><br>
Figure 76 is a schematic view eta vacation package details page;<br><br>
Figure 77 is a schematic view of a vacation package inquiry form;<br><br>
Figure 78 is a schematic view oh vacation package quote page:<br><br>
Figure 79 is a schematic view of a vacation package payment details form;<br><br>
Figure 80 is a schematic view of a vacation booking confirmation page:<br><br>
Figure SI is a schematic view ofa travel insurane inquiry form:<br><br>
Figure 82 is a schematic view of a travel insurance quote page:<br><br>
Figure 83 is a schematic view of a travel insurance payment details form; and<br><br>
Figure 84 is a schematic view Ma travel insurance confirmation page<br><br>
DETAILED DESCRIPTION OF PREFERRED AND OTHER EMBODIMENTS<br><br>
NoLe:	McmjctrM is a trade mark of Silverbrook Research Pty Ltd. Australia.<br><br>
(n the prcfcrrcd embodiment. ihe invention is conligured to work with the netpage ncrworked compuccr system. a decailed overview of which foNows. Ii wiU bc appreciared that not cvery impIemcnt~ion wili necessalily embody Bfl or even mas; of the specitTh d~1ai]s and exzens~ons discussed below in reiatiopjo the b,asic SysteLiL However. the systcm is described !fl i~s most comp1e~e form co reduce the need for e~IernaI reference when attempting to underscand th~ con~exi in which ~ preferred embodiments and aspects of~hc present invention openUe.<br><br>
in bricf sumniarv. th~ preferred form oC the nczpagc system e:np~oys a computer interface in the form of a mapped surface. tbar is. a phvsicaf sur~a~e which contains rererences to a map of ~he surface m~in1aincd in a computer sysr~m. Th~ map rcfrr~nces can be queried by an Bppropriate sensing device. Depending upon the specific impkment~~i5n. ~hc map references may b~ encoded ~isib~y or invisibly. and defined in such a way that a ~oca] query On the mapped surface yie~ an unam~i~uous map rcfercnce both within th~ map and an~ng different maps. The compuler SysTem can contain infom,ation abau: feat~ir~s on ~he mapped surface, and such information can be retrieved based on map r~f~rences suppIie~ by a sensin~ device uscd with the mapped surrac~. The fnformation thus retrieved can take Lhe form of actions whi~ ar~ niiia~ed ~v ~hc computer 5vslem on b~haIf of the operator in respanse ~o the opcrator~s ~nteractior~ ~ ith ~he sur~a:~ fea!Iires.<br><br>
in its preferred form, the nelpage svstcm rciies on th~ produchon ct and human internction with, nctpagcs. These arc panes of te~r. graph~s and images princcd on ordinaiy papcr. but wt~ich work iike interactive web pages. !nLbrmaiion is cncoded on each pa~ using ink which is substanLia!Ly invi~bIe to t~ unaided human cyc. The ink, however, and Lherebv th~ coded data, ~an be ~e~ised by an opcicaily ixnu~ina p~n and ~ransmitred to the netpa~c systcm.<br><br>
ihc preferred form, active buttons and hyper1~nks on each can be c]ick~d with the pcn to inforrnaiiun from ihe network or to si2nal prefcrences to a netwod~ server, hi one embodiment, by hand on a is auloma:icaIJ\ rc~oeniz~d and convcried ~o compu~cr iex~ in ihe nelpage system. a1h~wing forms cc be filled in. In ocher embodimerns. recorded on a arc auzomaticaUv vcrificd. allowing c-commerce trrisacCions to be sccureiv authorized,<br><br>
AS ilfustratd rn F:wrc I. a printed neIp~gc I can represeni a interactive form which can be fiIIcd in by thc User both physicaflv, on ~he printed pane. and ~e1ectronica]1y~. via comm'anicatian betwcen dic pen and die nctpa<br><br>
system. Thc example shows a Requcst form containing name and address fields and ~ submit button. The r~tpagc coCisis~s of graphic dala 2 printcd using visib~e ink, and coded data J printed as a coliccilon of tags 4 using inv~sibIc ink. The corrcspondir~g page d~scr~p~ion 5. srnred on the nerpage n~1work. describes Lhc individual el ntsof~h~ netpage. [n pavu~BF ~c describes rI~ ryp~ and spa~aI cx~cnt ~7one) of each incractive clenienc (ic. tcxt field or button in the cxampI~). ~o a~kw the n~:~a~e SVSLCIT1 to correctiy i erprct input v~ tl~c nctpage. The submit button 6. for example. ~as a zone 7 which corresponds co ih~ spatial cxtcnc of the carr~spcrnding graphic 8.<br><br><br>
Thc nelpage ~rinter 60L a prcferrcd form ol' which is ~howr~ in Figur~ II Co 13 ~nd dcscnbed in marc det~iI below. is abic to deflvcr. pcrio&amp;callv or oii demand. per~onaIit~d newspup~r5. magazines. catalogs, brochures and cuiher pub!~aiions. ~dI pnnted ai high quality as inleraclivc nelpages. Unlike ~ pcrbon~1I computcr. ihe nelpage printer  <br>
9"<br>
appliance which can be. for example. wall-mounted adjacent to an area where the morning news is first consumed, such as in a user's kitchen, near a breakfast table, or near the household's point of departure for the day. It also comes in tabletap, desktop, portable and miniature versions.<br><br>
Neipages printed at their point of consumption combine the ease-of-use of paper with the timeliness and interactivity of an interactive medium.<br><br>
As shown iii Figure 2, the netpage pen 101 interacts with the coded dmaon a printed net~age .1 and communicates, via a short-range radio link 9. the interaction to a netpagc pr-inter. The printer 601 sends the interaction to the relevant netpage page server- 10 for interpretation, lit appropriate circumstances, the page server sends a corresponding message to application computer-software running on a necpage application server 13. The application server may in turn send a response which is printed on the originating printer.<br><br>
The necpage system is made considerably more convenient in the preferred embodiment by being used in conjunction wit high-speed microelectrorneehaoieal system ~MEMS) based inkjet (MemjerrM) printers. In the preferred Corn, of this technology, relatively high-speed and high-quality printing is made more affordable to consumers. In its preferred form, a netpage publication has the physical characteristics of a traditional newsmagazine, such as a set of lettersize glossy pages printed in full color on both sides, bound together- for easy navigation and comfortable handling.<br><br>
The nctpage printer- exploits the growing availability of broadband litter-net access. Cable service is available to 95% of households in the United Statos. and cable modem 5cr-vice ofkting broadband Internet access is already available to 20% of these. The netpage printer can also operate with slower connections, but with longer delivery times and lower image quality, indeed, the netpage system can be enabled using existing coqsumcr inkjet and laser printers, although the system will operate more slowly and will therefore be less acceptable from a consumcr~s point of view. In other embodiments, the netpage system is hosted on a private intranet. in still other embodiments, the netpage system is hosted on a sinslc computer or computer--enabled device, such as a printer-.<br><br>
Nctpage publication servers 14 on the netpase network are configured to deliver print-quality publications to netpage printers. Periodical publications are delivered automatically to subseriliiiig netpage printers via pointeasting and multicasting Internet protocols. Personalized publications are filtered and formatted according to individual user profiles.<br><br>
A neipage printer can be configured to support any number of pens, and a pert can work with any nttmber of<br><br>
netpage printers. In the preferred implementation, each neipage pen has a unique identifier. A household may have a<br><br>
collection of colored nctpage pcns, one assigned to each member- of the family This allows each user to maintain a<br><br>
distinct profile with respect to a neipage publicattoti server or application server.<br><br>
A netpage pen can also be resister-ed with a netpage registration server It and linked td one or more payment card accounts. This allows c-commerce payments to be securely authorized using the netpage pen. The netpage registration server compares the signature captured by toe nctpage pen with a previously register-ed signature, allowing it to authenticate the user's identity to an c-commerce server. Other biometrics can also be used to verify identity. A version of the netpage pen includes fingerprint scanniita. verified in a similar way by the netpage registration server.<br><br>
Although a netpaee printer mew deliver per-cod icals such as the morning newspaper- Without user- intervention, it can be configured never to deliver- unsnlicited junk mail. to its prefer-red for-tn, it only delivers periodicals from subscribed or otherwise authorized sources, in this respect, the nctpage printer is unlike a fax machine or e-mail account which is visible to any junk mailer who knows the telephone nu,ttber or email address.<br><br>
I	NETPAGE SYSTEM ARCHiTECTURE<br><br>
Each object model in the syscem is described using a Unificd Modeling Language (UML) c?ass dia~rarn. A cI~iss diagram consists of a sez of object ciasscs connecied by rchaiun~hips, and two kinds of relationships arc of in~ercst here: 8ssoci~tjons and nerajiza~ions. An association represcnts somc kind at' relationship be:wcen obiccis, i.e. hc?wc~ri instances of classes. A ~eneraIi~acion relates ac~uaI classcs. and can bc understood in the following way: if a cia~s is thouQhc of as the se~ of all objccts oCthat class, and class A ~s a generaLization of class ~ Bis simply a.subse~ of A. The UML does not directly support sccond-order modelling - ic. cLasses of classes,<br><br>
Each class is drnwn as a recianglc labclicd with die name of che class. Ic concains a Iis~ of~hc a~Zributes of the class, separated from thc name by a horizontal mc, and a list of the operatiuns of the class, separated from the attribute lisi by a hori~onta1 line. In the ciass diagrams which follow, however, aperacions are never modelled.<br><br>
An a.~socinIiorn is drawn as a [inejoini~g two cIass~s, optionally Iabellcd at efti~er cnd with the muitip~kiLy of the association. The default muitipIic~ty is one. An aste~isk(*) indicates a mtdtiplicity of"many', i.e. zero or more. Each association is opuonatly IabcUcd with its name, and is a~sD optionahly labelled at either end whh !he role of the COrresponding class. An open diamond ind~ca~es an aggregation assoc~aIion Cis-pari-of'). and is drawn at the aggregalor end or the associa~ ion line.<br><br>
A relaLionship ("is-a") is drawn as a solid Jine jo[ning two classes, with an arrow (in Che form of an open triangle) at the gcncralizarion end.<br><br>
When a cI~ss diagram is broken up n~o mullipk di~gmms. any class which is dupiica(ed is shown wich a dashed ou~Iine in afl bui the main diagram which defines it Ii is shown with attribuccs aniy where it is defined.<br><br><br>
Netpaes are the tbe India  on which a netpage network is built They providc a paper-based user nIer~ac~ to published information and jntcractive services.<br><br>
A  consists of a princed page (or other surface region) invisibly tagged with references 10 an onhinc description of he pane. Thc online page dcscription is maintained pe~sistentIy by a netpagc page ~crver. The page description describes thc visible layout and can~n~ Df the page. including text, graphics and imagcs. k also describes ~hc input ekmezus on ~he page. inCLuding buttons. hyperlinks. and inpur Cields. A netpa~e allows markings rntide wiflv a nctpage pen on its surface to be simultaneously capwrcd a~d processed by the ncLp8gc system.<br><br>
MuJtip~e neLpagcs can share die same page dcscripiion. However, to allow input through othcrwisc identical pages to be distinguished, cach netpage is assigncd a unique page identifier. This page ID has suffic~eni precision to distiiguish bcrwecn a vcrv large number ofne~pages.<br><br>
Each reference to the page descr~ptioii is encodcd in a printed Lag. The ta~ idcnt~fies hc unique page On whict~ it appears, and thereby indirectly dentWies che page descripcion. Thc rag ~Iso idenciFies i~s own position on the page.  tags arc described n morc dcta2] bc!ow.<br><br>
Ta~ lire priiited in infrarcd-absorptive ink cn aiiv subscraie which is infrarcd-rcllcctivc such ~is ordirwry paper. Near-infrared w3veIcng~h~ are invisible io the human ~ye but arc cas~1y sensed by a solid-staic image sensor wdh an appropriRk (ilcer.<br><br>
single click on the page. It is important that the pen recognize the page lD and position on every interaction with the page, since the interaction is stateless. Tags are error--correctably encoded to make them partially tolerant to surface damage.<br><br>
The netpage paae server maintains a unique page instance for each printed netpage, allowing it to maintain a distinct set of user-supplied values for input fields in the page description for each printed netpage.<br><br>
The relationship between the page description, the page instance, and the printed netpage is shown in Figure 4. The printed netpaee may be part of a printed netpage document 45, The page <br><br>
1.2	NETPAGE TAGS<br><br><br>
i.21	Tag. Data Content<br>
In a preferred farm, each ta~ identifies the region in which ii appear-s. and the location of that tag within the region A tag mw also contain flags which relate to the region as a whole or to the tao. One or more flag bits may. forexample. signal a ta~ sensine device to provide feedback indicative of a function associated with the immediate area of the tag, Wthout the senstng de\~ce having to refer to a description of the region. A netpage pen may, for example. illuminate an "ae:ive area' LED when in the zone of a hyperlink.<br><br>
As ~i ill be more clearly eKolained bclo~~. in a preferred embodiment, each tag contains an easily recognized Invariant str-uczu:e wfiich aids initial detection, and which assists in minimizing the effect of any warp induced by the surface or by the sensing process. The tags preferably tile the entire page. and ar-c sufficiently small and densely arranged that the pen can reliably image at least one tag even on a sin~le click on the page. It is itt~por-tant that the pen recognize the page ID and posi:ion on evc~ interaction with the page. since the interaction is stateless.<br><br>
In a ~refer-red embodiment, the region to which a tag refers coincides with an entire page. and the region ID encoded in the :a~ iS iherefure synonymous with the page ID of the page on which the tag appeais. lt~ other embodiments. the region to whicn a lag refers can he an arbitrary subregion of a cage or other surface. For example. it can coincide with the ze:te of an iI~te~,~ive ekment. in which ease the region ID can directly identify the interactive element.<br><br>
Each tag contains 120 bits of information. typically atlocated as shown in Table I. Assuming a maximum tag densi~ of 64 per- square inch. a 16-bit ta~ If) supports a region size of up to 1024 square inches. Larger- regions can be mapped continuotj~K without increasing the tag ID precision simply by using abutting regions and maps. The 100-hit region If) allo%%'s a million trillion trillion) different regions to be uniquely identified.<br><br><br>
1.2.2	Tag Data Encoding<br><br>
The 120 bits of tag data are redundantly cncod~d using a (IS. 5) Rced~Solomon code. Th~ yields 3M) encoded bits consisting of ~ eodewor-ds of 5 4-bit symbols each. The (15. 5) code allows up to 5 symbol error-s to be corrected per- codeword. i.e. ii is tolerant of a symbol err-or rate of up to 33% pcr codeword<br><br>
Each 4-bit symbol is represented in a spatially enher-ent way in the tag. and the symbols of the six codewords<br><br><br>
are interleaved spatially within the taa. This ensures tttat a burst error (an error affecting multiple spatialty adjacent bits) damages a minimum number of symbols overall and a minimum number of symbols in any one codeword, thus maximising the likelihood that the burst error can be fully corrected.<br><br><br>
1.2.3	Physical Tag Structure<br><br>
The physical representation of the tag. shown in Figure 5. includes fixed tByget st~tctures iS,_16, 17 and variable data areas [8. The fixed target structures allow a sensing device such as the rtetpage pen to detect thetag and infer its three-dimensional orientation relative to the sensor. The data areas contain representations of the individual bits of the encoded tag data<br><br>
To achieve proper tag reproduction. the tug is rendered at a resolution of256x256 dots. When printed at 1600 dots per inch this yields a tag with a diameter of about 4 nun. At this resolution the tag is designed to be surrounded by a<br><br>
•quiet area" i~f radius 16 dots. Since the quiet area is also contributed by adjacent tags, it onlyadds 16 dots to the effective diameter of the tag.<br><br>
The tag includes six tarcet structures. A detection ring [5 allows the sensing device to initially detect the tag. The ring is easy to detect because is rotationally invariant and because a simple correction of its aspect ratio removes most of the effects of perspective di.stortion. An orientation a&gt;Js 16 allows the sensing device to determine th~ approximate planar orientation of the tag due to the ~aw of the sensor. The orientation axis is skewed to yield a unique orientation. Four perspective targe:s 17 al:ow the sensing device to infer an. accurate two-dimensional perspective transform of the tag and hence an accurate three-dimensional position and orientation of the tag relative to the sensor.<br><br>
All target structures are redundantl\' large to improve their immunity to nois~.<br><br>
The overall tag shape is circular. This supports. amongst other things. optimal tag packing on an irregular triangular grid. En combination with the circular detection ring, this makes a circular arrangement of data bits within the tag optimal. To maxintise its size. each data bit is represented by a radial wedge in the form of an area bounded by two radial lines and two concentric circ.iar arcs, Each wedge has a minintum dimension of B dots at 1600 dpi and is designed so that its base (its inv.er arc). is at least equal to this minimum dimension. The height of the wedge in the radial direction is always equal to the minimum dimension. Each 4-bit data symbol is represented by an array of2x2 wedges.<br><br>
The 15 il-bit data symbols of each of the six codewords are allocated to the four concentric symbol rings ISa to I 3d in interleaved fashion. Symbols ate allocated alternately in circular progression around the tag.<br><br>
rhe interleaving is designed to maximise the average spatial distance between any two symbols of the same codeword.<br><br>
In order to support 'single-click' interaction with a tagged region via a sensing device, the sensing device must be able to see at least one entire tag in its field of view no matter where in the region or at what orientation it is posittoned. The required diameter of the field of view ot the sensing device is therefore a functiotin of~he size and spacing of the tags.<br><br>
Assurniov a circulur tan snape. the minimum diameter of the sensor field of view is obtained when the tags are tiled on a equilateral triangular grid, as &amp;hown in Figure 6.<br><br><br>
1.2.4	Tag Image Processing and Decoding<br><br>
The tag image processins and decoding perfurmed 1w a sensing device such as the netpage pen is showis iti Figure 7. While a captured imj~e is being acquired from the image sensor. the dynamic range of tlte image is determined<br><br>
 (at 20). The center of the range is then chosen as the binary threshold for the image 21. The image is then thresholded and segmented into connected pixel regions (i.e. shapes 23) (at 22). Shapes which are too small to represent tag target structures are discarded. The size and centroid of each shape is also computed.<br><br>
Binary shape moments 25 are then computed (at 24) for each shape, and these provide the basis for stibsequently locating target structures. Central shape moments are by their nature invariant of position. and can be easily madc invariant of scalc, aspect ratio and rotation.<br><br>
The ring target structure ISis the first to be located (at 261. A ring has the advantage of being very well behaved when perspective-distorted. Match:nQ proceeds by aspect-normalizing and rotation-normalizing each shape's moments. Once its second-order inomertts are normalized the ring is easy to recognize even if the perspective distortion was sianificant. The ring's original aspect and rotation 27 together provide a useful approximation of the perspective transt'orm.<br><br>
The axis target structure 16 is the next to be located tat 28). Matching proceeds by applying the ring's normalizations to each sh~pes moments. and rotation-normalizing the resulting moments. Once its second-order moments are normalized the axis target is easily recognized. Note that one third order moment is required to disanibiguate the two possible orientations of the axis. The shape is deliberately skewed to one side to make this possible. Note also that it is only possible to rotatton-normalize the axis target after it has had the ring's normalizations applied, since the perspective distortion can hide the axis targeCs axis. The axis target's original rotation provides a useful approximation of the tag's rotation due to pen yaw 29.<br><br>
Toe four perspective tar-get structures 17 are the last to be located (at 30). Gpod estimates of their positions are computed based on their known spatial relationships to the ring and axis targets, the aspect and rotation of' the ring. and the rotation of the axis. Matching proceeds by applyino the rings normalizations to each shape's moments. Once their second-order moments are normalized the circular perspective targets are easy to recognize, and the target closest to each estimated position is taken as a match. The original ceotroids of the four perspective targets axe then taken to be the perspective-distorted corners 31 of a square of known size in tag space, and an eight-degree-of-freedom perspective transform 33 is inferred (at 32) based on solving the well-understood equations relating the four ta~.-space atid image-space point pairs (see Heckbert, P.. Fundamentals of Texture Mapping and Image Warping. Masters Thesis. Dept. of EEC.S. U. of California at Berkeley. Technical Report No, UCB/CSD 89/516, June 1989. the contents of which arc herein incorporated by cross-reference).<br><br>
The inferred tag-space to image-space perspective transform is used to project (at 36) each known data bit position in tag space into image space where the real-valued position is used to bilinearly interpolate (at 36) the four relevant adlacent pixels in tlte input image. The previously computed image threshold 21 is used tomreshold the result to l)r-oduee the final bit value 37.<br><br>
Once all 360 data bits 37 have heen obtained in this way, each of the six 60-bit Reed-Solomon codewords is decoded (at 38) to yield 20 decoded bits 39. or- 120 decoded hits in total. Note that the codeword symbols are sampled in codeword order-, so that codewords are implicitly dc-interleaved during the sampling process.<br><br>
The ring target 15 is only sought in a subarea of the image whose relationship to the image guarantees that the ring, if found, is part of a complete tag. If a comptete tag. is tiot found and successfully decoded, then no pen position is recorded for the current frame. Given adequate processing power and ideally a non-minimal tield of view 193. an alternative stmatcgy involves seeking another rag in he curreitt image.<br><br>
The obtained tac data indicates the identity of the region containing the tag and the position of tag within <br>
the region. An accurate position 35 of the pert nib in the region, as well as the overall orientation 3~ of the pen. Is then inferred (at 34) from the perspective transform 33 observed on the tag and the known spatial relationship between the pen's physical axis and the pen~s optical axis.<br><br><br>
t2.5 Tag Map<br>
Decoding a tao results in a region ID, a tag ID, and a tag-relative pett tranSfQrtfl. Before the tagiD and the tag-relative pen location can be traitslated into an absolute location within the tagged region, the location of the tag within the region muss be knowrt. This is given b~' a tag map. a function which maps each Lag ID in a tagged region to a correspondino ocation. The tag map class diagram is shown in Figure 22, as part of the netpage printer class diagram.<br><br>
A tag map reflects the scheme uscd to tile the surface region with tags. and this can vary according to surface type. When multiple sagged regions share the same tilina scheme and the same tag numbering scheme, they can also share the same tag sitap.<br><br>
The tag map for a region must be retrievable via the region ID. Thus. given a region ID. a tag lD and a pen rransforrn. the ~ao map can be retrieved. the tag If) can be translated into an absolute tag location within the region, and the tag-relative pen location can be added to the tag location to yield an absolute pen location within the region.<br><br><br><br>
1.2.6	Tagging Schemes<br>
Tv.o disinct surface coding schemes are of interest, both of which use the tag structure described earlier in this section. The preferred cudine scheme uses "location-indicating" tags as already discussed. An alternative coding scheme uses ohieci-ind icatino tags.<br><br>
A ocation-indicatine tag contains a tag ID which, when translated through the tag map associated with the tac~oed region, yields a unique tac location within the region. The tag-relative location of the pen is added to this tag location to Yield the location of' the pen \~ithin the region. 'this in turn is used to determine the location of the lien relative to a user interfaze element in the page description associated with the region. Not only is the user interface eletnent itself identified, but a location re~live to the user ititerface element is identified. Location-indicating tags therefore trivially support the cao:ure of an absolute pen path in the zone ofa particular user interface clement.<br><br>
Art ohiect-iridicating tag contains a tag ID which directly identiftes a user interface eLement in the page description associated with the reciort. All the tags in the zone of the user interface element identify the user interfade element, makirma them all identical and therefore indistinguishable. Object-indicating tags do not, therefore. sttpport the capture of an absolute pen path. They do, however, support the capture of a relative pen path. So long as the position sampling frequency exceeds twice the encountered tea frequency, the displacement from one sampled pen position to the next within a stroke can be unanthiguously determined.<br><br>
With either tagging scheme, the tags function in cooperation with associated visual elements on the nctpage as user inter-active elements in that a user can interact with the printed page using an appropri~ste sensing device in order fur rag data to be read by the sensing device and for an appropriate response to be generated in the netpagc system.<br><br><br>
'1.3	DOCUMENT AND PAGC DESCRIPTIONS<br><br>
A preferred emttodimcni of a document and page description class diagrnmni is shown in l'igurcs 25 and 26.<br><br>
In the netpage system a document is described at three levels. At the most abstract level the document 8)6 has a hierarchical structure 'vhosc terminal elements 839 are associated with content ohlects 840 such as text objects, text style obiects. iniage ohiects. etc Once the document is printed on a printer ~vith a particular page 5iZC and according to a<br><br>
pttrticular user's scale factor preference, the document is paginated and otherwise formatted. Formatted terminal elements 835 will in some cases be associated with content objects which are different from those associated with their corresponding terminal elements, particularly where the content objects are style-related. Each printed instance of a document and page is also described separately, to allow input captured through a particular page instance 830 to be recorded separately from input captured through other instances of the same page description.<br><br>
The presence of the most abstract document description on the page server ~tl~ws a u~br to requc.~t?a copy of a document without being forced to accept the source documeitt's specific format. The user may be requesting a copy through a printer with a different page size, for example. Conversely, the presence of the formatted doeumcnt description on the page server allows the page server to efficiently interpret user actions on a particular printed page.<br><br>
A formatted document 834 eottsists of a set of formatted page descriptions 5, each of which consists of a set of formatted terminal elements 835. Each formaned element has a spatial extent or zone 58 on the page. This defines the active area of input eletnents such as hyperlinks and input fields.<br><br>
A document instance 831 corresponds to a formatted document 834. It consists ofa set of page instances 830. each of which corresponds to o page description 5 ci' the formatted document. Each page instance 830 describes a sinale unique printed netpage I, and records the page ID 50 of the netpage. A page instance is not part of a document instance if it represents a copY of a page requested in isolation.<br><br>
A page instance consists of a set of temilnal element instances 832, An element instance only exists if it records instance-specific information. Thus, a hyperlink instance exists for a hypcrlink element because it records a transaction ID 55 which is specific to the page instance, and a field instance exisLs for a field clement because it records input specific to the p~nie instance. An element instance does not exist, however, for static elements such as tcxtflows.<br><br>
A terminal element can be a static element 843. a hyperlink element 844. a field element 845 or a page server command element 846. as shown in Figure 27, A static element 843 can be a style element 847 with an associated style object 854, a tcxtflow element 848 with an associated styled text object 855, an image elentent 849 with an associated ima~ element 856. a graphic element 850 with an associated graphic object 857, a video clip element 851 with an associated video clip ob~cet 858. a:t audio clip element 852 with an associated audio clip object 859. or a script element 853 with an associated script object 860, as shown in Figure 28.<br><br>
A page instance has a background field 833 which is used to record any digital ink captured on the page which does not apply to a specific input element.<br><br>
ln the preferred for-rn of the invention, a tag map 811 is associated with each page instance to allow tags on the page to be translated into locations on the page.<br><br><br><br>
	THE NETPAGE NETWORK<br><br>
In a preferred embodiment, a nelpage network consists of a distributed sct of netpagc page servers IC. netpage registration servers Ii. nctpage lD servers 12. netpage application servers 13. nerpage puhlieation servers 14, and netpage printers 601 connected via a network 19 such as the Internet. as shown in Figure 3.<br><br>
The netpagc registration server 11 is a server which records relatiunships between user-s. pens. printers,<br><br>
applications and rttiblications. and thereby authori7es various nct~vnrk activities. it uuthencicrncs users and acts as a signing proxy on behalf of authenticated users in application transactions, It also provides handwriting recognition services. As described above, a nctpage page server 10 maintains persisieni infortnat ion about page descriptions and page instances. The netpa~e nctwnrk igicludes any number of pa2e servers. each hnndling a subsct ol~ pace instances. Since a<br><br>
page server also maintains user input values for each page in.stance. clients such as netpagc printers send netpage input directly to the appropriate page server, The page server interprets any such Input relative to the description of the corresponding page.<br><br>
A netpage ID server 12 allocates document lDs SI on demand, and provides load-balancing of page servers via its ID allocation scheme.<br><br>
A netpage printer uses the Internet Distributed Name System (DNS). or simil~r,to resolve a netpage page ID 50 into the network address of the netpage page server handling the corresponding page instance.<br><br>
A netpage application server t3 is a server which hosts interactive netpa~e applications. A netpage publication server 14 is an application server whIch publishes nelpage docuntents to netpage printers. They are described in detail in Section .2..<br><br>
Netpage servers can be hosted on a variety of network server platforms from manufacturers such as IBM, Hewlett-Packard. and Sun,, Multiple nctpage servers can run concurrently on a single hQst, and a single ser"er can be distributed over a number of hosts, Some or all of the functionality provided by netpage servers, and in particular the functionality provided by the ID server and the page server, can also be provided directly in a netpage appliance such as a netpage printer. ir, a computer workstation, or on a local network.<br><br><br>
1,5	THE TPAGE PRINTER<br><br>
The netpaae printer 601 is an appliance which is registered with the nctpage system and prints netpage documents on demand and via subscription. Each printer has a unique printer ID 62. a~nd is coitnected to the netpage network via a network such as the Internet. ideally via a broadband connection.<br><br>
Apart from identity and security settings in non-volatile memory, the netpage printer contains no persistent storit~e, As far as a user is corteemed. 'the tietwork is the computer-". Netpages function interactively across space and time with the help of the distributed netpage page servers 10. independently of particular netpage printers.<br><br>
The netpage printer receives subscribed netpage documents from netpage publication servers 14. Each documen1 is distributed in t~~o parts; the page layouts, and the actual text and image ubjects which populate the pages. Because of personalizacion. pate layouts are typically specific to a paulicular subscriber and so are pointeast to the subscriber's printer via the appropriate page server. Text and image objects, on the other hand, are typically shared with other subscribers, and so are mulcicast to all subscribers' printers and the appropriate page servers.<br><br>
The netpage publication server optimizes the segmentation of document content into pointeasts and multicasts. After receiving the pointeast of a documcnfs page layouts. the printer knows which multicasts. if any, to listen to.<br><br>
Once the printer has received the complete pa2e layouts and obiects that define th~ document to he printed, it can print the document.<br><br>
The printer rasterizes and prints odd and even pages simultaneously on both sides of the sheet. It contains duplexed print en~inc controllers 7~0 and print engines utilizing MemjeCr~ printheads 350 t'or- this purpose.<br><br>
The printiiig process Consists of two decoupled ~ta~e.s: rasterization of page descriptions, and expansion and printing of page images, 1'he raster image processor (RIP) consists of one or- more standard DSPs 757 running in parallel. The duplexed print engine controllers consist of custom processors which expand. dither and print pilge images in real time, sYnchronized with the operation of the printheads in the print cligines.<br><br>
Printers not enabled for IR printing have the option to print tags using IR-absorptive black ink, although this restricts tags to otherwise empty areas of the page. Although such pages have more limited functionality than IR-printed pages. they are still classed us netpages.<br><br>
A nermal utetpage printer prints netpages on sheets of paper. More specialised netpage printers may print onto more specialised surfaces, such as gloaes. Each printer supports at least one surface type, and supports at least one tag tiling scheme, and hence tag map, for each surface type. The tag map 811 which describe the tag tiling sc~'tzine actually used to print a document becomes associated with that document so that the document's tags can be correctly interpreted.<br><br>
Figure 2 shows the netpaee printet class diagram. reflecting printer-related information maintained by a registration server 11 on the neqiage network.<br><br>
A preferred embodiment of tne netpage printer is described in greater detail in Section 6 below, with reference to Figures I tb 16.<br><br><br>
1.5.1	MemietTil Printheads<br><br>
The netpage system can operate itsitug printers made with a wide range of digital printing technologies. incl'tdinn. thermal inkjec, piezoeleetre inkjet. laser electrophotographic. and others, However. for wide consumer acceptance. it is desirable that a netpage printer have the following characteristics:<br>
•	photographic quality color- printino<br>
•	high quality text printing<br>
•	high reliability<br>
•	lo';' printer cost<br>
•	low ink cost<br>
•	low paper cost<br>
•	simple operation<br>
•	nearly silent printing<br>
•	high printing speed<br>
•	simultaneous double sided printing<br>
•	compact form factor<br>
•	low power eonsuJmption<br>
	No commercial lv available printino technology has all of these characteristics.<br><br>
To enable to production of pr-in icr-s with these characteristics, the present applicant has invented a new print technology, referred to as MemjerTM echnolocy. MemietTM is a drop-on-demand inkjet technology that incorporates pa~ewid:h printhoads fabricatec using microelecrornechan cat systems IMEMSI technology. Figure 7 sho~~s a single printing eternen 300 of a Ivter-rrietTw ;irinrnead. The nerpage waliprinier incorporates 168960 printing elements 300 10 form a 1600 dpi paaewidth duplex printer. This printer simulcaireousty prints cyan. magenta, yellow, black. and infrared inks as well as puper conditioner and ink fixative.<br><br>
The printing element 300 is approximately 110 microns long by 32 microns wide. Arrays of these printing<br><br>
elements axe formcd on a silicon substrate 301 tJ~ac inCorporates CMOS logic. datawansfer. riming. end drivc circuits (nOt shown).<br><br>
Major elements olthe printing eIcmcn~ 300 are ihe nozzle 302. the nozzle rim 303, the nozzle chamber 304, the fluldic seal 3O~, che ink ch~nnc) rim 306, the sever arm 307, the active actuator beam pair 308. the passive actuator beam pair 309, the active actuator anchor 310. ~he passivc actuazor anchor 31 I, and the ink inlet 312.<br><br>
The active actuator beam pair 308 is mechanicailyjoiiied to the passive adtiiat~r beam pair 309 at the join 3 19. Both beams pairs arc anchared at heir respective anchor points 310 and 311. combination afelements 308. 309.<br><br>
310.	3~ 1. and 319 tbrm a cancilcvcrcd elcctrodiennaJ bend actuaior 320.<br><br>
Figure IS shows a small pail ofan array ofprinting elements 300. including a cross section 31$ ofa printing clement 300. Thc cross section 315 is shown without ink. Lo okarly show the ink in!e~ 312 ihat passes chrough Lh~ silicon waccr 301.<br><br>
Figures I 9(e). 9(b) and 19(c) show the openiting cycle of a MelnjeLTNI printing element 300.<br><br>
Figure 19(a) shc~ws the quiesccnc position of the ink mcniscus 316 prior ~o printing an ink dropkt. Ink is retained in the nozzle chamber by sur~acc ccnsion at thc ink meniscus 316 and at the fluidic s~a1 305 formed bctwccn thc nozzie chamber 304 and the ink channc~ rim 306.<br><br>
While priming, the printhead CMOS circuitry distributes data from the print engine cbntrollcr to ~he corrccc pTifltiflg element, latches the data, and buffcrs the data to drive the electrodes 318 of the activc actuator beam pair 308.<br><br>
This causes an eicctrical current to pass through the beam pair 308 tar about one microsecond, resuI~ing in Joule heating. The Lempera~urc iilcrease r~suIting from Joule hea~ng causes the beam pair 308 to expand. As Lhe passivc actuator beam pair 309 is not heated, it does not e.'~p~ind. rcsulting in a stress difFercncc becween the two beam pairs. This stress d~ffercnce is partially resolved by the c~niiicvcrcd end of the dectrothermal bcnd actuator 320 bending cowards the substrate 301. The Jevdr arni 307 Cransmits this movemeni io nozzle chamber 304. The nozzle chambcr 304 movcs about cwo microns to the position shown in c 19(b). This increases ~he ink pressure. forcing Ink 323 out of the nozzle 302. and causing the ink mcniscusjl6 to bulge. The nozzle rim 303 prevents the ink meniscus 316 from spreading across thc surface of the nozzle chamber 304.<br><br>
As the Lemperacure of the beam pairs 308 and 309 equalizes, the actuator 320 rcturns to its Original POSIUOn. This aids in th~ brcak-off  thc ink droplet 317 Cram ihe ink 321 in chc nuzzle chamber, as shown in Figure 19(c). The nozzle ch~mbcr is refilled by the action of the surface tension ac the meniscus 316.<br><br>
Figure 20 shows a segment o1 a prinihcad 350. In a nctpa~e printer. thc length of g~c prinihead is the full width of the papcr(tvpicalk' 210 mm) in the direction 351. Thc sc~ment shown is 0.4mm long (about 0.2% ofa compicte prinihead). When printing. ~hc papcr is moved past the fixed printhead in the direcliori J52. The prinzhcad has 6 rows of 'nterdi2icaced printing elements 300. printing Ihe six cu~ors or cypes of ink supplied the ink inlets 312.<br><br>
To pioe~t the fra~f Ic surface of thc printhead durin~ operation, a nozzle guard wafer 330 is attached to the printhcad substrate 30 1. For each nozzle 302 ihere is a corresponding n0721e guard hoLe 331 through which thc ink droples arc fired, To prevent the nozzle guard holcs 33 1 trom becoming blocked by paper fibers or other debris. flicered air is purnp~d chroudi th~ air inlets 332 and ow or the nozz!c guard hoics during princing. To prcv~nt ink 321 &amp;om diying. the noule gu~~rd ~s se~iIed while thc pnnlcr is ~dh±.<br><br>
1.6	The Netpage Pen<br><br>
The active 5cnslng dcvicc of' th~ netpagc sys~cni is lypicaily a pcn I 01. which, using zr~ crnbedd~d coniro~Ier<br><br>
134, is able to capture and decode IR position tags from a page via an image sensor. The image sensor is a solid-state device provided with an appropriate filter to pertnit sensing at only near-infrared wavelengths. As described in more detail below, the system is able to sense when the nib is in contact with the surface, and the pen is able to sense tags at a sufficient rate to capture human handwriting (i.e. at 200 dpi or greater and 100 Hz or faster). Information captured by the pen is encrypted and wirelessly transmitted to the printer br base station), the printer or base station interpreting the data with respect to the (known) page structure.<br><br>
The preferred embodiment of the rtetpage pen operates both as a normal marking ink pen and as a nonmarking stylus. The marking aspect. however, is not necessary for using the netpagc system as a browsing system, such as when it is used as an Internet interface. Each nctpage pen is registered with the netpage system and has a unique pen ID 61. Figure 23 shows the netpage pen class diagram, reflectine pen-related information maintained by a registration server 11 on the netpagenet~vork.<br><br>
When either nib is in contact with a netpage. the pen determines its position and orientation relative to the page. The nib is attached to a force sensor, and the force on the nih is interpreted relativc to a threshold to indicate whether the pen is 'up" or "down". This allows a interactive element on the page to be clicked' by pressing with the pen nib. ifl Order to request. say. information from a network, Furthermore. the force is captured as a continuous value to allow, say, the full dynamics of a sianature to be verified.<br><br>
The pen determines the position and orientation of its nib on the netpage by imaging, in the infrared spectrum, an area 193 of the page in the vicinity of the nib. It decodes the nearest tag and computes the position of the nib relative to the tag from the observed perspective distortion on the imaged tag and the known geometry of the pen optics. Although the position resolution ot the tag nay be low, because the tag deutsity on the' page is inversely proportional to the tag size, the adjusted position resolution is quite high. exceedin2 the minimum resolution required for accurate handwriting recognition.<br><br>
Pen actions relative to a nelpage are captured as a series of strokes. A stroke consists of a sequence of timestamped pen positions on the page, initiated by a pen-down event and completed by the subsequent pen-up event. A stroke is also tagged with the page ID 50 of the netpage whenever the page ID changes, which, under normal circumstances. is at the commencentent of the stroke.<br><br>
Each netpage pen has a cur-rent selectiort 826 associated with it. allowing the user to perform copy and pa~e operations etc. The selection is timestarnped to allow the sys~cm to discard It afier a defined time period. The current selection describes a recion of a page instance. l consists of the most recent digital ink stroke captured through the pen relative to the background area of the page. It is interpreted in an application-specific manner once it is submitted to an application via a selection hyperlink activation.<br><br>
Each pen has a current nib 824. This is tlte nib last notilied by the pen to the system. In the case of the default netpage pen described above, either the marking black ink nib or the non-marking stylus nib is current. Each pen also has a current nib style 825 This is the nib style last associated with the pen by an application. e.g. in response to the user-selecting a color from a palette. The default rrib style is the nib style associated with the etirrent nib. Strokes captured through a pen are ta~cd with the current lit) stvle. When the strokes are subsequently reproduced. they are reproduced in the nib style with ~ hich they are tag~ted.<br><br>
Whenever the pen is within range or a printer with which it can communicate, the pen slowly flashes its 'online" LED. When the pen fails to decode a stroke relative to the page, it rnnmentarily activates its 'error" LED. When the pen succeeds in decoditig a strnke relative to thc page. it momentarily aitivat es its "Ok" LED. <br>
A sequence of captured strokes is referred to as digital ink. Digital ink forms the basis for the digital exchange of drawings and handwriting, for online recognition of handwriting. and for online verification of signatures.<br><br>
The pen is wireless and transmits digital ink to the netpage printer via a short-range radio link, The transmitted digital ink is encrypted for privacy and security and packetized for efficient transmission, but is always flushed on a pen-up event to ensure timely handling in the printer.<br><br>
When the pen is out-of-range of a printer it buffers digital ink in internal memory, which has a capacity of over ten minutes of continuous handwritine. When the pen is once again within range of a printer, it transfers any buffered digital ink.<br><br>
A pen can be registered with any nutnber of printers, but because all state data resides in netpages both on paper and on the network, it is lareel~' immaterial which printer a pen is comtnunicating with at any particular time.<br><br>
A pref'erred embodiment of the pen is described in greater detail in Section 6 below, with reference to Figures 8 to JO.<br><br><br>
1.7	N!TPAGE INTERACTtON<br><br>
The netpage printer 601 receives data relating to a stroke from the pen 101 when the pen is used to interact with a netpage I. The coded data 3 of the tags 4 is read by the pen when it is used to execute a movement, such as a stroke. The data allows the identity of the particular page and associated interactive element to be determined and an indication of the relative positioning of the pen relative to the page to be obtained. The indicating data is transmitted to the printer, where it resolves, via the DNS. the page ID 50 of the stroke into the network address of the netpage page server 10 which maintains the correspondin2 page instance 830. It thett transmits the stroke to the page server. If the page was recently identified in an earlier stroke, then the printer may already have the address of the relevant page server in its cache. Each netpage consists of a cotnp'act page layout maintained persistently by a nctpage page server (see below). The page layout refers to objects such as images, fonts and pieces of text. typically stored elsewhere on the netpage network.<br><br>
When the page server receives the stroke frotn the pen. it reu'ieves the page description to which the stroke applies, and determines which element of the page description the stroke intersects. It is then able to interpret the stroke in the context of the type of the relevant element.<br><br>
A 'click" is a stroke where the distance and time between the pen down position and the subsequent pen up position are both less than some small maximum. An object which is activated by a click typically requires a click to be activated, and accordingly, a longer stroke is ignored. The failure of a pen action, such as a "sloppy" click, to register is indicated by the lack of response from the pen's 'ok" LED.<br><br>
There arc two kinds of' input elements in a nelpage page description: hyperlinks and form fields. Input through a form field can also trigger the activation of an assoctatcd hvperlink.<br><br><br><br>
1.7.1	Hyperlinks<br><br>
A hyper-link is a means of sending a message to a remute application, and typically elicits a printed response in the netpuge 5Y5tCm.<br><br>
A hyperlink clement 844 identifies the application 71 which hattdles activation of the hyperlink. a link ID 54<br><br>
which identifies the hyperlink to the application, an alias required" flag which asks the system to include the user's<br><br>
application alias ID 65 in the hyperlink activation, and a description whielt is used when the hyperlink is recorded as a<br><br>
favortte or appears in the user's history. The hvperlink element class diagram is sho~vn in Figure 29.<br><br>
When a hyperlink is activated. the page server sends a request to an application somewhere on the network. The application is identified by an application lD 64. and the application ID is resolved in the normal way via the DNS. There are three types of hyperlinks: general hyperlinks 863, form hyperlinks 865, and selection hyperlinks 864. as shown in Figure 30, A gencrai hyperhink can implement a request for a linked document, or may simply signal a preference to a server, A form hyperlink submits the corresponding form to the application. A selection hyperlink submits the current selection to the application. If the current selection contains a single-word piece of text, fQr.exarnpI~. the application may return a singlc-pasze document giving the word's meanina within the context in which it appears, or a translation into a different language. Each bypertink type is characterized by what information is submitted to. the application.<br><br>
The corresponding hyperhink instance 862 records a transaction ID 55 which can be specific to the page instance on which the hyperlink instance appears. The transaction ID cap identfy user-specific data to the application, for example a "shappin~ eart" of pending purchases maintained by a purchasing application on behalf of the user.<br><br>
'l'he system includes the pen's current selection 826 in a selection hyperlink activation, The system includes the content of the associated form instance 868 in a form Ityperlink activation, although if the hvpcrlink has its 'submit delta" attribute set, only input since the last for-ni submission is included. The system includes an effective return path in all hyperlink activations.<br><br>
A hyperlinked group 866 is a group element 838 which has an associated hyperlink. as shown in Figure 31. When input occurs through any field element in the group, the hyperlink 844 associated with the group is activated. A hyperlinked group can be used to associate hyperlink behavior 'vith a field such as a checkbox. ft can also be used, in conjunction with the "submit delta" attribute of a form hyperlink, to provide continuous input to an application, it can therefore be used to support a "htackboard" interaction model. i.e. where input is captured and therefore shared as soon as it occurs.<br><br><br>
1.7.2	Forms<br><br>
A form defines a collection of related input fields used to capturc a related set of inputs through a printed netpage. A form allows a user to submit one or more parameters to an application software program running ott a server.<br><br>
A form 867 is a aroup element 838 in the document hierarchy. It ultimately contains a set of terminal field elements 839, A form instance 868 represents a printed instance of a form. It consists of a set of field instances 870 which correspond to the field elements 845 of the form, Each field instance has an associated value 87l. whose type depends on the type of' the corresponding field element. Each field value records input through a particular printed form instance, i.e. through one or more printed netpages. The form class diagrato is shown in Figure 32.<br><br>
Each form instance has a status 872 which indicates whether thc fonn is active, frozen, submitted, void or expired. A form is active when first printed. A form becomes frozen once it is signed or once its freeze time is reached. A form becomes submitted once one of its submission hyperlinks has been activated, unless the hyperlink has its "submit delta" attribute set. A form becomes void when the user invokes a void form, reset fornt or duplicate form page command. A for-rn expires when its specified expiry time is reached. i.e. when the time the form has been active exceeds the form's specified lifetime. While the form is active, form input is allowed. Input through a form which is not active is instead captttred in the background field 833 of the relevant paoc instance. When the for-in is active or frozen, form submission is allowed. An~~ attempt to submit a form when the fonn is not active or frozen is re~ected, and instead clici~s an loins status report.<br><br>
Each fur-rn instance is associated tat 59) with any form instances derived from it. thus prov~ding a version history This allows alt but the latest version of a form in a particular time period to he excluded ('rorn a search. <br>
All input is captured as digital ink. Digital ink 873 consists of a set of timestantped stroke groups 874, each of which consists of a set of styled strokes 875. Each stroke consists of a set of timestamped pen positions 8'76, each of' which also includes pen orientation and nib force, The digital ink class diagram is shown in Figure 33.<br><br>
A field element 845 can be a checkbox field 877. a text field 878, a drawing field 879, or a signature field<br><br>
880.	The field element class diagram is shown in Figure 34. Any digital ink captured in a field's zone 58 is assigned to the field.<br><br>
A checkbox field has an associated boolean value 881, as shown in Figure 35. Any mark (a tick, a cross, a stroke, a fill zigzag. etc.) captured in a checkbox field's zone causes a true value to be assigned to the field's value.<br><br>
A text field has an associated text value 882, as shown in Figure 36. Any digital ink captured in a text fields zone is automatic~llv converted to text via online handwriting recognition, and the text is assigned to the field's value. Online hand~riting recognition is svell-understood (see, for example. Tapper-i. C., C,Y. Suen and T. Wakahara. "The State of the Art in On-Line Handwriting Recognition", IEEE Transactions on Pattern Analysis and Machine Intelligence, Vol.12, No.S. August 1990, the contents of which are herein incorporated by cross-reference),<br><br>
A signature field has an associated digital signature value 883. as shown in Figure 3'?. Any digital ink captured in a sit'.natttre field's zone is automatically verifietl with respect to the identity of the owner of the pen, and a digital signature of the content of the form of which the field is part is generated and assigned to the field's value. The digital signature is generated usine the pen user's private tiOnature key specific to the application which owns the form. Online signature verification is well-utiderstood (see, for example. Plamondon. R. and C. Lorette, "Automatic Signature Verification and Writer- Identification — The State of the Art", Pattern Recognition. Vo{'22. No.2, 1989, the contents of ~vhich are herein incorporated by cross-reference).<br><br>
A field element is hidden if its "hidden" attribute is set, A hidden field element does not have an input zone on a page and does not accept input. It can have ait associated field value which is included in the form data when the form containing the field is submitted.<br><br>
"Editing" commands. stich as strike-throughs indicating deletion, can also he recoenized in form fields.<br><br>
Because the handwriting recognition algorithm works'online' (i.e. with access to the dynamics of the pen movement), rather than "offline" (i.e. with access only to a bitmap of pen markings), It can recognize run-on discretely-written characters with relatively high accuracy. svithout a writer-dependent training phase. A writer-dependent model of handwritin2 is automatically generated over time, however, and can be generated up-front if necessary,<br><br>
Digital ink, as already stated, consists of a sequence of strokes. Any stroke whicl~ starts in a particular element's zone is appended to that element's dieital ink stream, ready for interpretation. Any stroke not appended to ott object's digital ittk stream is appended to the background field's digital ink stream.<br><br>
.1<br><br>
Digital ink captured in the hack'ground field is interpreted as a seleetton gesture. Circumscription of one or more objects is gencralk interpreted as a selection of the circumscribed ob.iects, although the actual interpretation is<br>
application-specific.<br><br><br>
Table 2 - Summary of pen InteractIons with a netpage<br><br><br>
The system maintains a current selection t'or each pen. 'Ihe selection consists simply of the most recent stroke captured in the background field. The selection is cleared after an inactivity timeout to ensure predictable behavior.<br><br>
The raw digital ink captured in ever)' field is retained on the netpage page server and is optionally transmitted with the form data when the fomt is submitted to the application. This allows the application to interrogate the raw digital' ink should it suspect the original conversion, such as the conversion of handwritten text. This can, for example. involve human intervention at the application level for forms which fail certain application-specific consistency checks. As an extension to this. the entire background area of a form can be designated as a drawitig field. The application can theti decide, on the basis of the presence of digital ink outside tite explicit fields of the form, to route the form to a human operator. on the assumption that the user- may have indicated amendments to the filled-in fields outside of those fields.<br><br>
Figure 38 shows a flowchart of the process of handling pen input relative to a netpage. The process consists of receiving (at 884) a stroke from the pen: identifying (at 885) the page instance 830 to which the page ID SO in the stroke refers: retrieving (at 886) the page description 5: idetitifyitig (at 887) a formatted ~lemeiit 839 whose zone 58 the stroke intersects: determining (at 888) whether the formatted element corresponds to a field element, and if so appending (at 892) the received stroke to the digital ink of the field value 871. interpreting (at 893) the accumulated diaital ink of the field, and determining tat 894) whether the field is part of a hyperlinked group 866 and if so activating (at 895) the associated hyperlink: alternatively determinirto (at 889) whether the formatted element corresponds to a hyperlink element and if so activating (at 895) the corresponding byperlink: alternatively, in the absence of an input field or hyperlink, appending (at 890) the received stroke to the digital ink of the background field 833; and copying (at 891) the received stroke to the cttrrent selection 826 of the current peti, as maintained by the registration server.<br><br>
Figure 38a shows a detailed flowchart of step 893 in the process shown in Figure 38. where the accumtilated digital ink of a field is interpreted according to the type of the field. The process cotisists of determining (at 896) whether the field is a checkbox and (at 897) 'vhether the digital ink represents a checkniark. and if so assigning (at 898) a true value to the field value: alternatively determining (at 899) whether the field is a text field and if so converting (at 900) the digital ink to computer text, with the help of the appropriate registration server. and assigning (at 901) the converted computer text to the field value: altematively determining (at 902) whether the field is a signature field and ifso veri~'ing (at 903) the digital ink as the signature of the pen's owner-, with the help of the appropriate registration server, creating (at 904) a digital signature of' the contents of the corresponding form, also with the help of the registration server and using the pen owner's private signature key relating to the cori'esponding application, and assigning (at 905) thc digital signature to the field value.<br><br><br>
1.7.3	Page Server Commands<br>
A page server command is a command which is handled locally by the page server. It operates directly on form. page and tlucument instances.<br><br>
A page server command 907 can be a void for-ni command 908, a duplicate form command 909. a reset for-rn<br><br>
command 910, a ~ec form status command 911, a duplicate page command 912, a reset page command 913, a get page status command 914. a duplicate document command 915. a reset document command 916. or a get document status command 917. as shown in Figure 39.<br><br>
A void form command voids the corresponding form instance. A duplicate form command voids the corresponding form instance and then produces an aclive printed copy of the current form instance with field values preserved. The copy contains the same hyperlink transaction IDs as tite original and i&amp;is' indi~tinguisha~'4~ frotn the original to an application, A reset for-rn command voids the corresponding form instance and then produces an active printed copy of the form instance with field values discarded, A get form status command produces a printed report on die status of the corresponding form instance, including who published it. when it was printed, for whom it was printed, and the form status of the form instance.<br><br>
Since ~7 form hyperlink instance contains a transaction ID. the application has to be involved in producing a new form instance, A button requesting a new form instance is therefore typically implemented as a hyperlink.<br><br>
A duplicate page command produces a printed copy of' the corresponding page instance with the background field value preserved. If the page contains a form or is part ot'n form, then the duplicate page command is interpreted as a duplicate form command. A reset page command produces a printed copy of the corresponding page instance with the background field value discarded. If the page cotttains a fbrm or is part of a form, then the reset page command is interpreted as a reset form command, A get page status command produces a printed report on the status of the corresponding page instance, including who published it. when it was printed, for whom it was printed, and the status of any forms it contains or is part of.<br><br>
The netpage logo which appears on every netpage is usually associated with a duplicate page element.<br><br>
When a page instance is duplicated with field values preserved, field values are printed in their- native form, i.e. a checkmat'k. appears as a standard checkniark graphic. and text appears as typeset text, Only drawings and signatures appear in their original form, with a signature accompanied by a statidard graphic indicating successful signature verificatioti.<br><br>
A duplicate document command produces a printed copy of the correspondina document instance with background field values preserved. If the document contains any forms. theti the duplicate document command duplicates the forms in the same way a duplicate form command does. A reset docuntent command produces a printed copy of the corresponding document instance with background field values discarded. If the docutnent contains any forms, then the reset docttment command resets the forms in the same 1%'av a reset for-ni command does. A get document status command produces a printed report on the status of the correspondina document instance, including who published it. when it was printed, for- whom it was printed, and the status of any forms it contains.<br><br>
If the page server command's "on selected" attribute is set, then the command operates on the page identified by the pen's current selection rather than on the page containing the command. This allows a menu of page server commands to be printed. If the target page doesn't contain a page server command element for the designmtted page server command, then the command is ignored.<br><br>
An application can provide applicamiott-spectfic handling by embedding the relevant page server command element in a h~perlinked group. The page server activates the lwpcrliitk associated with the hyperlntked group rather titan executing the page server command.<br><br>
A page server command element is hidden it' its "hidden" attribute is set. A hidden command elentent does not have an input zone on a page and so cannot be activated directly b)' a user It can, however, be activated via a page <br><br>
server command embedded itt a different page. if that pare server command has its "on selected" attribute set.<br><br><br>
1.8	STANDARD FEATURES OF NETPAQ~S<br><br>
In the preferred form, each nctpage is printed with the neepage logo at the bottom to indicate that it is a netpage and therefore has interactive properties. The logo aiso acts as a copy button. in most eases pressing the logo produces a copy' of the page. In the case of a form, the button produces a copy of the entire fonti. And in tho case of a secure document, such as a ticket or coupon. the button elicits an explanatory note or advertising page.<br><br>
The default single-page copx' function is handled directly by the relevant netpage page server-, Special copy functions are handled by linking the logo button to an application.<br><br><br>
1.9	USER HELP SYSTEM<br><br>
In a preferred embodiment the netpage printer has a single button labelled '1-leIp" When pressed it elicits a single help page 46 of information, including:<br>
•	status of prin:er connection<br>
•	status of prir.:er consumables<br>
	Lop-level hel~ menu<br>
•	document function menu<br>
•	top-level netpage network directory<br>
	The help menu provides a hierarchical manual on Itow to use the netpage system.<br>
	The document function menu includes the following functions:<br>
	print a copy of a document<br>
•	~~rint a clean copy ofa form<br>
•	print the status of a document<br><br>
A document function is initiated by selecting the document and then pressing the button. The status of ~ document indicates who oublished it and "~'hen, to whom it was delivered, and to whom and when it was subsequently submitted as a form.<br><br>
The help pace is obviously unavailable if the primer is unahte to print. In this ease the "error~ light is lit and the user can request remote diagnosis over the nc~vork.<br><br><br>
2	PERSONALIZED PUBLICATtON MODEL<br><br>
In the following description. news is used as a canonical publication example to illustrate personali~ation mechanisms in the netpage system Although news is often used in the litnited sense of newspapet' and ne~~'smaga~ioc news, the intetided scope in the present context is wider.<br><br>
In the netpase system, the cditoria~ content and the advertising content of a news publication arc personalized using different mechanisms. The editorial content is personalized according to the reader's explicitly stated and implicttty captured interest pro1~le. The advertising content is personalized itccordingto the reader's locality and dcmographtc.<br><br>
221	EDITORIAL PERSONALILATION<br><br>
A stibseriber can draw on two kinds of news sources: those that deliver news publications, and those that deliver news streams, While news publications are aggregated and edited by the publisher, news streams are aggregated either by a news publisher or by a specialized news aggregator. News publications typically correspond to traditional newspapers and newsmagazines, while news streams can be many and varied: a "raw" news feed from a news service, ~ cartoon strip, a freelance writer's column, a friend's bulletin board, or the reader's own e-n~aiJ.<br><br>
The netpage publication server supports the publication 01' edited news publications as well as the aggregation of multiple news streams. By handling the aggregation and hence the formatting of news streams selected directly by the reader, the server is able to place advertising on pages over which it otherwise has no editorial control.<br><br>
The subscriber builds a daily newspaper by selecting one or more contributing news publications, and creating a per.sdrtalizcd version of each. The resulting daily editions are printed and bound together into a single ne~4'spaper. The variotts members of a household typically express their different intcrests and tastes by selecting different daily publications and then customizing them.<br><br>
For each publication, the reader optionally selects specific sections. Some sections appear daily. while others appear weekly. The daily sections available from The New York Times online, for example, include -'Page One Plus", '~National'. "lnternational'~, 'Opinion", "Business". "Arts/Living", "Technology', and "Sports". The set of available sections is specitic to a publication, as is the default subset.<br><br>
The reader can extend the daily newspaper by creating custom sections, each one drawing on any number 01' news streams. Custom sections tiiight be created for e-mail and frictids' announccment~.("Pe.rsonal"l, or for tnonitoring news feeds for specific topics l"Alerts" or "Clippings").<br><br>
For each section, the reader optionally specifies its size. either qualitatively (e.g. short. medium. or long), or-numerically (i.e. as a limit on its numbL-r of pages). attd the desired proportion of advertising, cithet' qualitatively (e.g. high, normal, low. none), or numerically (i.e. as a percentage).<br><br>
The reader also optionally expresses a preference for a large number of shorter articles or a small number of longer articles, Each article is ideally written (or edited) in both short and long forms to support this preference.<br><br>
An article m~' also be written (or edited) in different versions to match the expected sophistication of the reader, for example to provide children's and adults" versions. The appropriate version is selected according to the reader's age. The reader can specify a "reading age" which takes precedence over their biological age,<br><br>
The articles '~hich make up each section are selected and prioritized by the editors, and each is assigned a useful lifetime. By default they are dzlivered to all relevant subscribers, in priority order. subicet to space constraints in the subscribers' editions.<br><br>
In sections where it is appropriate, the reader may optiona~lv enable collaborative filtering. This is then applied to anicles which have a sufflcientl~ long lifetime. [.~ach article which qualifies for collaborative filtering is printed with rating buttons at the end of the article, The buttons can provide art easy choice (e.g. "Liked" and "disliked'), making it more likely that readers will bother to rate the article.<br><br>
Articles with hioh priorities and short lifetimes are therefore effectively considered essential readtng by the editors and are delivered to most relevant stibseribers.<br><br>
The reader optionally speciftes a serendipity factor-, either qualitatively (e.g. do or don't surprtse mc). or nutnericalty. A high serendipity factor lowers the threshold used for matching during collaborative filtering. A high factor<br><br>
makes it more likely that the corresponding section will be filled 10 the reader's specified capacity. A different serendipity factor can be specified for different days of the week.<br><br>
The reader also optionally specifies topics of particular interest within a section, and this modifies the priorities assigned by the editors.<br><br>
The speed of the reader's Internet connection affects the quality at which images can be delivered. The reader optionally specifies a preference for fewer images or smaller images or both, If the number or size of images is not reduced, then images may be delivered at lower quality (i.e. at lower resolution or with greater compression).<br><br>
At a global level, the reader specifies how quantities, dates, times and monetary values are localized. This invol~'es specifying whether units are imperial or metric, a local timezone and time format, and a local currency. and whether the localization consist of in siw translation or annotation. Those preferences are derived from the reader's locality by default.<br><br>
To reduce reading difficulties caused by poor eyesight, the reader optionally specifies a global preference for a larger presentation. Both text and images are scaled accordingly. and less information is accommodated on each page,<br><br>
The languace in which a news publication is published, and its corresponding text encoding. is a property of the publication and not a preference expressed by the user. However, the netpage system can be configured to provide automatic translation services in various guises.<br><br><br>
2.2	ADVERTISING LOCALtZATtON AND TARGETING<br><br>
The personalization of the editorial content directly' affects the advertisingThontent. because advertising is typically placed to exploit the editorial context. Travel ads, for example. are more likely to appear in a travel section than elsewhere. The value of the editorial content to an advertiser (and therefore to the publisher) lies in its ability to attract large nutnhers of readers with the right demographics.<br><br>
Effectiv~' advertising is placed on the basis of locality and demographics. Locality determines proximity to particular services, retailers etc.. and particular interests and concerns associated with the local conimunitv and environment. Demoeraphies determine general interests and preoccupations as well as likely spending patterns.<br><br>
A news publisher's most profitable product is advertising "space". a multi-dimensional entity determined by the pttblication's geographic coverage, the size of its readership, its readership demographics, and the page area available for advertising.<br><br>
In the ttetpage system, the netpatte publication server computes the approximate multi-dimensional size of a ptiblication's saleable advertising space on a per-section basis, taking into account the publication's geographic coverage. the sectiotis readership. the size of each reader's section edition, each reader's advertising proportion, and each reader's demographic.<br><br>
In comparison with other media, the netpagc system allows the advertising space to he defined in greater detail, and allows smaller pieces of it to be sold separately. II therefore allows it to be sold at closer to its true value.<br><br>
For example. the same advertising "slot'~ can he sold in varying propot'tions to several advertisers, with itidividual readers' pages randomly receiving the advertisement of one adverttser or another. over-all preserving the proportion of space sold to each advertiser.<br><br>
The nctpitgc system allows advertising to be linked directly to detatled product informatton and online purchasing. It tlterelore raises the intrinsic value of the advertising space.<br><br>
Because personalization and localization are handled automatically by netpage publication servers, an advertising aggregator can provide arbitrarily broad coverage of both geography and demographics. The subsequent disaggregation is efficient because it is automatic. This makes it more cost-effective for publishers to deal with advertising aggregators than to directly capture advertising. Even though the advertising aggregator is taking a proportion of advertising revenue, publishers may find the change profit-neutral because of the greater efficiency of aggregation. The advertising aggregator acts as an intermediary between advertisers and publishers, and mty..plpce the same advertisement in multiple publications.<br><br>
It is worth noting that ad placement in a netpage publication can be more complex than ad placement in the puhlication's traditional counterpart. becattse the pttblication's advertising space is more complex, While ignoring the full complexities ot'negotiati ons between advertisers. advertising aggregators and publishers. the preferred form of the netpage system provides some automated support for these negotiations. including support for automated auctions of' advertising space. Automation is particularly desirable for the placement of advertisements which generate small amounts of income, such as small or highly localized advertisements.<br><br>
Once placement has been negotiated. the aggrecator captures and edits the advertisemettt and records it on a netpage ad server. Corrcspondingly, the publisher records the ad placement on the relevant netpage publication server. When tlte netpage pubiication server lays out each user's personalized publication, it picks the relevant advertisements from the netpage ad server.<br><br><br>
2.3	USER PROFtLES<br><br><br>
2.3,1	Information Filtering<br><br>
The personalization of neivs and other publications relies on ati assortment of user-specific profile inl'ormation includinQ:<br>
•	publication customizations<br>
•	cal laborative ft Itering vectors<br>
•	contact details<br>
•	presentation preferences<br><br>
The customization of a publication is typically publication-specific, and so the customization information is maintained by the relevant nctpage publication server.<br><br>
A collaborative filtering vector consists of the user's ratings of a number of news iten~s. It is used to correlate different users' interests for the purposes of making recommendations, Although there are benefits to maintaining a single collaborati',e filtering vector independently of any particular publication, there are two reasons why it is more practical to maintain a separate vector for each publication: there is likely to be r~tore overlap between the vectors of subscribers to the same publication than between those of subscribers to different publications: and a publication is likely to want to present its users' collaborative filtering vectors as part of the value of its brattd, nut to be found elsewhere. Collaborative filtering vectors are therefore also maintained by the relevant nctpage publication server.<br><br>
Contact details. including name, street address. ZIP Code, state, country, telephone numbers, are global by nature and are maintained by a netpage registration server.<br><br>
Presentation preferences. including those t'or quantities, dates and times, are likewi~c olobal and maintained in the same way.<br><br>
The localization of advertising relies on the locality indicated in the user's contact details, while the targeting of advertising relies on personal information such as date of birth, gender, marital status. income, profession, education or qualitative' derivativcs such as age range and income range.<br><br>
For those users who choose to reveal personal information for advertising purposes. the information is maintained by the relevant netpage registration server. In the absence of such itiformation. advertising can be targeted on the basis of the demographic associated with the user's ZIP or ZIP+4 Code.<br><br>
Each user, pen, printer, application provider and application is assigned its own unique identifier, and the netpage registration server maintains the relationships between them, as shown in Figures 21, 22, 23 and 24. For registration purposes, a publisher is a special kind of application provider, and a publication is a special kind of application.<br><br>
Each user 800 may be authorized to use any number of printers 802, and each printer may allow any number of users to use it. Each user has a sinel e default printer (at 66), to which periodical publications are delivered by default, whilst pages printed on demand are delivered to the printer through which the user is interacting. The server keeps track ul' which publishers a user has authorized to print to the user's default printer. A publisher does not record the ID of an" particular printer, but instead resolves the ID when it is required. The user may also be designated as having administrative privileges 69 on the printer, allowing the user to authorize other users to use the printer. This only has meaning if the printer requires administrative privileges 84 for such operations.<br><br>
When a user subscribes 808 to a publication 807. the publisher 806 (i.e. application provider 803) is authorized to print to a specified printer or the user's default printer. This authorization ~,an be revoked at any time by the user. Each user may have several pens 801. but a pen is specitie to a single user. If a user is authorized to use a particular printer, then that printer recognizes any of the user's pens.<br><br>
The pen ID is used to locate the corresponding user profile maintained by a particular nelpage registration server, via the UNS in the usual way.<br><br>
A Web terminal 809 can be authorized to print on a particular nctpage printer, allowing Web pages and netpage documents encountered during Web browsine to be con~'enicntly printed on the nearest netpage printer.<br><br>
The netpagc system can collect, on behalf of a printer provider, fees and commissions on income earned through publications printed on the provider's printers. Such income can include advertising fees, click-through fees, ccommerce commissions, and transaction fees. If the printer is owned by the user, then the user is the printer provider.<br><br>
Each user also has a nelpage account 820 which is used to accumulate micro-debits an~ credits (such as those described in the preceding paragraph); contact details 815, iticluding name, address and telephone numbers; global preferences 816. including privacy', delivery and localization settings: an~' number 01' biometric records 817, containing the user's encoded signature 818. fingerprint 819 ete: a handwriting model 819 automatically maintained by the systetn:<br><br>
and SET pay'ment caid accounts 821, with which e•eommerce payments can be made.<br><br>
lit addition to the user-specific neipage account, each user also has a nempage account 936 specific to each printer the user is authorized to use. Each pr-intel-specific account is tised to accumulate micro-debits amid credits related to the users acmi~'ities on that printer. The user is hilled on a regular basis for any outstanding debit balances.<br><br>
A user optionally appears in the neipage user directory 823, allowing other users to locate and direct e-m'iil Ide.) to the user.<br><br>
2A	INTELLIGENT PAGE LAYOUT<br><br>
The netpage publication server automaticaLly' lays out the pages of each user's personalized publication on a section-by-section basis. Since most advertisements are in the form of pre-fomiatted rectangles. they are placed on the page bcfore the editorial content,<br><br>
The advertising ratio for a section can be achieved with wildly varying advertising ratios on individual pages within the section. and the ad layout algorithm exploits this. The algorithm is confmguredfd a'ttenipt to co-lo~ile closely tied editorial and advertising content, such as placing ads for roofing material specifically within the publication because of a special feature on tb-it-yourself roofing repairs.<br><br>
The editorial content selected for the user. includine text and associated images and graphics. is then laid out according to various aesthetic rides.<br><br>
'The etttire process. including the selection of ads and the selection of editorial corttemit. must be iterated once the layout has converged, to attempt to more closely achieve the user's stated section size preference. The section size preference can, however, be matched on average over time, allowing significant dav-to-day'variations.<br><br><br>
2,5	DOCUMENT FORMAT<br><br>
Once the docunsent is laid out, it is encoded for efficietit distribution and persistent storage on the netpage network.<br><br>
The primary efficiency mechanism is the separation of informatiomi specific to a single user's edition and information shared between multiple users edition5. The specific information consists~of the page layout. 'the shared information consists of the objects to which the page layout refers. including images, graphics, and pieces of text.<br><br>
A text object contains thll\:~formatted text represented in the Extensible Markup Language (XML) using the Extensible Sty lesheet Lancuage (XSL). XSL provides precise control over text formatting independently of the region into which the text is bein~ set. which in this case is being provided by the layout. The text object contains embedded language codes to enable automatic translation, and embedded hyphenation hints to aid with paragraph lormatting.<br><br>
An itnage object encodes an image in the JPEG 2000 wavelet.bascd compressed image format, A graphic object encodes a 20 graphic in Scalable Vector Graphics (SVG) format,<br><br>
The layout itself consists of a series of placed image and graphic objects. linked textflow objects through which text objects flow. h~'perIinks and input fields as described above, and watermark regions. These layout objects are summarized in Table 3. The layout uses a compact format suitable for cfflciermtdistribtmtion and storage.<br><br><br><br><br><br>
2,6	DOCUMENT DISTRIBUTION<br><br>
As described above, for purposes of efficient distributioti and persistent stol'~ge'on tile nelpageThetwork, a user-specific page layout is separated from the shared objects to which it refers,<br><br>
When a subscribed publication is ready to be distributed, the netpage public~tion server allocates, with the help of the netpage If) server 12, a unique it) for each page. page instance, document, and document instance.<br><br>
'l'he server computes a set of optimized subsets of the shared content and creates a multicast channel for each subset, and th~n taos each user-specific layout with the names of the multicast channels which will carry the shared content used by that layout. The server then pointeasts each user's layouts to that user's printer via the appropriate page server, and when the pointeasting is complete. multicasts the shared content on the specified channels. After receiving its pointeast. each page server and printer subscribes to the intilticast channels specified itt the page layouts. During the multicasts, each pane server and printer extracts from the multicast streams those objects referred to by its paoe layouts. The page servers persistently archive the received page la~ outs and shared content.<br><br>
Once a printer has received all the objects to which its page layouts refer, the printer re-creates the fully'-populated layout and then rasterizes and prints it.<br><br>
Under normal circumstances, the printer prints pages faster than they can b~.delivered. Assuming a quarter of each paoe is covered with images, the average page has a size of less than 400KB. The printer can therefore hold in excess of 100 such pages in its internal 64MB memory, allowins for temporary buffers etc. The printer prints at a rate of one page per- second. 1'his is equivalent to 400KB ot' about 3lvlbit of pa2e data per second, which is similar to the highest expected rate of page data delivery over a broadband network,<br><br>
Even under abnormal circumstances. such as when the printer runs out of paper. it is likely that the user will be able to replenish the paper supply before thc printer's 00-page internal storage capacity is exhausted.<br><br>
Ho~vcver, if the printer's internal memory', does fill up. then the printer will be unable to make use of a multicast ~vhen it first occurs. The netpage publication server therefore allows printers to submit requests for re-multicasts. When a critical number of requests is received or a timeout Dectirs. the server re-multicasts the corresponding shared objects.<br><br>
Once a document is printed, a printer can produce an exact duplicate at any time by retrieving its page layouts and contents from the relevant page server.<br><br><br>
2,7	ON-DEMAND DOCUMENTS<br><br>
When a nctpa~e document is requested on demand, it can be personalized and delivered in much the sante way as a periodical. However, since there is no shared content, delivery is made directly to the requesting printer witliotit the use of multicast.<br><br>
When a non-netpagc document is requested on demand, it is not personalized, and it is delivered via a designated netpage formatting server which reformats it as it neipage document. A netpagc formatting server is a special instance or a netpage publication server. 'the iteipage tar-matting server has knowledec ot various Internet document formats, including Adobe's Portable Document Format (PDFI. and Hvpenext Markup language (HrMLI. In the case of<br><br>
HTML, it can make use of the higher resolution of the printed page to present Web pages in a multi-column format, with a table ol' contents. It can automatically include all Web pages directly linked to the requested page. The user can tune ibis behavior via a preference.<br><br>
The netpage formatting server makes standard netpage behavior, including interactivity and persistence, available on any Internet document, no matter what its origin and formaL It hides knowledge of different document formats from both the netpage printer and the netpage page server, and hides knowledge dfihe nei~age syste~Vfrom Web servers.<br><br><br><br>
3	SEcuRtrv'<br><br>
3.1	CRYPTOGRAPHY<br><br>
Cryptography is used to protect sensitive information, both in stor-aec and in transit, and to authenticate panics to a transaction. There are tno classes of cryptography in widespread use: secret-key cryptography and public-key' ctyptograph;'. The netpauc network uses hoth classes of ctyptography,<br><br>
Secret-key ery'ptoeraphv. also referred to as symmetric cryptography, uses the same key to encrypt and decrypt a message. T~vo parties wishtne to exchange messages must first arrange to securely exchartge the secret key,<br><br>
Publie-ke\ c rvptoaraph~. also referred to as asymmetric cryptography, uses two encryption keys. The two keys are math ematicall'. related in such a way that any' message encrypted using otte key can only be decrypted using the other key'. (The of these keys is then Dublished. while the other is kept private. The public key is used to encrypt any message intended for the holder of the private key, Once encrypted using the public key. ~ message can only be deetypted using the private key. Thus two parties can securely exchange messages without first having to exchange a secret key. To ensure that the private kc~ is secure, it is normal for the holder of the private key' to generate the key pair.<br><br>
Public-key cnptosr-aphv cart be used to create a digital signature. The holder of the private key can create a known hash of a niessaac and then en~rx'pt the haslt using the private key Anyone can then veri~ that the encrypted hash constitutes the ~'signature" of tnt baker of the private Key with respect to that particular message by decrypting the encrypted hash using the pub;ic ke and verifying the hash against the message. If the signature is appended to the message, then the recipient of the messaee cart veri~' both that the message is genuine and that it has not been altered iii transit,<br><br>
To make public-key cryptography work. there has to be a way to distribute public keys which prevents impersottation. This is normally done using certificates and certificate authorities. A certificate authority is a trusted third par-tv which auLhenticat~ the connection between a public key and sonteone's identity. The certificate authority verifies the person's identity b' examnino identity documents, and titen creates and sigtrs a digital certificate containing the person's identity details and public key. Anyone who trusts the certificate authority can use the public key in the certificate with a high degree of certainty that it is gext~ine. They just have to verily that the certificate has indeed been signed by the certificate aurhorir~. wlwac public key is well-known.<br><br>
In most transaction cirvironmertis, public-key' cryptography is only used to create digital signatures and to securely' e.\change secret session keys. Secrei~kcv cryptography is used for all other purposes.<br><br>
itt tire following discussion, when ret'ercnce is made to the secure transmission of information between a netpage printer and ~ server, what actually' happens is that the printer obtains the server's certificate. authenticates it with reference to the certificate author-try, uses the public key-exelnatige key in the certificate to exeltange a secret session key with the server, and then uses the ~ecret session key to encrypt the message data A session key, by definition, can have an<br><br>
arbitrarily short lifetime.<br><br><br>
3.2	NETPAG~ PRIN-TER SECt.JRYIY<br><br>
Each netpage printer is asslgncd a pair of unique identifiers at time of manufacture which are stored in read-only memory in the printer and in the netpage registration server databasc. The first ID 62 is public and uniquely identifies the printer on the netpage nc~work. The second ID is secret and is used when the printer is fiy~t. regisL~red on the_network.<br><br>
When the printer connccts to the netpage network for the first time after installation, it creates a signature public/private key pair. ]t transmits thc secret ID and (he public key securely to the netpage registration server. The server compares the secre ID against the printer's secret ID recorded in its database, and accepts the registration if the IDs match. It then creates and signs a certificate containing the printer's public JD and public signature key, and stores the certificate in the registrafion database.<br><br>
The netpage registration server acts as a certiftcae authority for n~tpage printers, since it has access to secret information allowing it to verify printer identity.<br><br>
When a user subscribes to a publication, a record is created in thc netpage registration server database authorizing the DThlisher to print hc publication to the user's default printer or a specified printer. Evety document sent to a printer via a page server is addressed to a particular user and is signed hy the publisher using the publisher's private signature kcy. Ti'.e page server verifies, via the reCistration database, that the puhlisher is authorized to deliver the publication to the specified user. The page scrver verifies the signanire using the publisher's public key. obtained from the publishers certificate stored in the registration database.<br><br>
The nepage registration server accepts requests to add printing authorizations to the database, so long as those requests are iriiiated via a pen registered to the printer.<br><br><br><br>
3.3	NETPAGE PEN SECURITy<br><br>
Each netpage pen is assigned a unique identifier at timc of manufacture which is stored in read-only memory in the pen and in the netpage registration server database. The pen 10 61 uniquely identiftes the pen on the netpage network.<br><br>
A netpage pen can "know" a number of nerpage printers, and a printcr can "know" a number of pens. A pen. communicates with a printer via a radio frequency signal whenever it is within range of the printer. Once a pen and printer are registered, they regularly exchange session keys. Whenever the pen transmits digital ink to the printer, the digital ink is always encrypted using the appropriate session key. Digital ink is never transmitted in the clear,<br><br>
A pen stores a session key for every printer it knows. indexed by printer ID. and a printer stores a session key for every pen it knows, indexed by pen ID. Boih have a large but finite storage capacity far session keys, and will forget a session key on a least-recently-used basis if necessary.<br><br>
When a pen comes within range of a printer, the pen and printer discover whether they know each other. If they don't know each other, then the printer determines whether it is supposed to know the pen. This might be. for example. because the pen belongs to a user who is registered to use the printer. If the printer is meant to know the pen but doesn't, then it initiates the automatic pen registration procedure. If the printer isn't meant to know the pen. then it agrees wtth the pen to ignore it until the pen is placed in a charging cup. at which time it initiates the registratinn prucedure.<br><br>
In addition to its public ID. the pen contains a secret key-exchange key. The key-exchange key is also recorded in die neipage registration server database at time of manufucture. During registration, the pen transmits its pen<br><br>
ID to the printer, and the printer transmits the pen ID to the netpage regisiration server, The server generates a session key for the printer and pen to use, and securely transmits the session key to the printer. It also transmits a cepy of the session key encrypted with the pen's key-exchange key', The printer stores the session key internally. irtdexed by' the pen ID. and transmits the encrypted session key to the pen. The pen stores the session key' internally, indexed by the printer ID.<br><br>
Although a fake pen can impersonate a pen in the pen registration protocol, only a real pen can decrypt the session key transmitted by the printer<br><br>
When a previously unregistered pen is first registered, it is of limited use until it is linked to a user. A registered but 'un-owned" pen is only allowed to be used to request and ft]l in netpage user and pen registration forms, to register a new user to which the new pen is automatically linked, or to add a ne~v pen to an e,\isting user,<br><br>
The pen uses secret-key rather than public-key encryption because of hardware performance constraints in the pen.<br><br><br>
3.4	SECURE DOCUMENTS<br><br>
The netpage system supports the delivery' at' secure documents such as tickets and coupons. 'l'he netpage printer includes a facility' to print waterrnarks. but will only' do so on request from publishers who are suitably authorized. The publisher indicates its authority to print xvatert'narks in its certifteate, which the printet' is able to authenticate.<br><br>
The "watermark" printing process uses an alternative dither matrix in specified 'watermark" regions of the page. Back-to-back pages contain mirrot-image watermark regions which coincide when printed. The dither matrices used in odd and even pages' watermark regions are designed to produce an interference elf~t when the regions are viewed together. achieved by looking thi-ough the printed sheet.<br><br>
The effect is similar to a watermark in that it is not visible when lookittg at only one side of the page. and is lost when tlte page is copied by' normal means.<br><br>
Paees of secure documents cannot be copied using the built-in nelpage copy' mechanism described in Section I .9 above. This extends to copying netpages on netpage-awas'e photocopiers.<br><br>
Secure documents are typicall' generated as pat't of c-commerce transactions, They can therefore include the user's photograph which was captured when the user registered biometric information with the netpage registration server. as described in Section 2,<br><br>
When presented with a secure ttetpage document, the recipient can verify its authenticity by requesting its status in the usual way. The unique ID of a secure document is otily valid for the lifetime of the document, and secure document IDs are allocated non-contiguously to prevent their prediction by Opportunistic forgers. A secure document verification pen can be developed with built-in feedback ott verification failure, to support easy' point-of-presentation document verification.<br><br>
Clearly neither the watermark nor tlte user's photograph are secure itt a cryptographic sense. They simply provide a significant obstacle to casual forgery. Online document verification, particularly using a "erificatioti pen. provides an added level of security' where it is needed, but is still not entirely' immuite to forgeries.<br><br><br>
3.5	NON-REPUDtATION<br><br>
In the netpage svstent. forms submitted by users are delivered rcliabl~' to forms handlers and are persistently archived on netpaee paee servers. It is therefore impossible for recipients to rcpudiate dcltvcry.<br><br>
E-comrner-ce pdyments nt~de throtigit the system, as deserthed in Section .1. are also impossible for the payee<br><br>
to repudiate.<br><br><br>
4	EL,EC'rRON:C COMMERCE MODEL<br><br>
4,1	SECuRE ELECTRONiC TRANSACTiON (SET)<br>
'rhe netpage systeto uses the Secure Electronic Transaction (SETI system as one oI'its payment svsten'ts. SET, having been developed by MasterCard and Visa, is organized around payment cards," and this is refl~kd in the terminutog~'. However. ntuch of the system is independent of the type of accounts being used.<br><br>
In SET, cardholders and merchants register with a certifteate authority and are issued with certificates containing their public signature keys. The cet-tificate authority verifies a cardholder's registration details with the card issuer as appropriate. and verifies a merchant's registration details with the acquirer as appropriate. Cardholders and merchants store their respective private signature keys securely on tlteir computers. During the payment process, these certificates are used to mutually authenticate a merchant and cardholder, and to authenticate theni both to the payment gatewat'.<br><br>
SET has not yet been 'adopted widely, partly because cardholder maintenance of keys and certificates is considered burdensome, Irnerini solutions which maintain cardholder key's and certificates on a server and give the cardholder ~ceess via a password have met with sonic success.<br><br><br>
4.2	SET PAYMENTS<br><br>
In the neipace system the rtetpage registration scrver acts as a proxy for thc t~etpage user (i.e. the cardholderl itt SET payment transactions.<br><br>
The netpac,e system uses biometrics to authent~eate the user and authorize SET payments. Because the system is pen-based, the biometric used is the user's on-line sienature, consisting of time-varying pen position and pressure. A fingerprint biometric can also he used by desi~nin ~ a fingerprint sensor into the pen, although at a higher cost. The type of biometric used onl~' affects the capture of the biotnetric, not the authorization aspects of the system,<br><br>
The first step to being able to make SE'l' payments is to register the user's hiometric with the netpage registration server. This is done in a controlled environment, for example a bank, where the biometric can be captured at the same time as the user's identity is verified, The bion'tetric is captured and stored in the registration database, linked td the user's record. The user's photograph is also optionally captured and linked to the record, The SEt' cardholder registration process is contpleied, and the resulting private signature key and certificate are stored in the database, The user's pay'ment card information is also stored, giving the rtetpage registration sen'er enough information to act as the user's proxy in an~' SET payment transaction.<br><br>
When the user eventuall%' supplies the biometric to complete a payment, for example by signing a nelpage order for-tn. the printer securely transmits the order information, the pen ID and the biometric data to the netpage registration server. The server verifies the hionterric with respect to thu user identified by the pen ID, and from then on acts as the user's prox~' in completing the SET payment transaction.<br>
4.3	MICRO-PAYMENTS<br><br>
The nerpage system includes a mechantstn for miero-p~tymcnts, to allow the user to be conveniently charged tor printing low-cost documents on demand and for eopytng copyright documents, and possibly also to allow the user So be reimbursed for expensus incurred in prtnting adve,-tisin~ mttaterial. The latter depends on the level of subsidy already provided to the user.<br><br>
When the user registers for c-commerce, a network account is established which aggregates micro-payments, The user receives a statement on a regular basis, and can settle any outstanding dehit balance using the standard payment mechaiti Sm,<br><br>
The network account can be extended to aggregate subscription fees for periodicals, which would also otherwise be presented to the user in the form of individual statements,<br><br><br>
4,4 TRANSACTIONS<br>
When a user requests a netpage in a particular application context, the application is able to embed a user-specific transaction ID 55 in the page. Subsequent input tltrough the page is tagged with the transaction ID. and the application is thereby able to establish an appropriate conte~t for the user's input.<br><br>
When'input occurs through a page which is not user-specific, however, the application must use the user's unique identity to establish a conre~t, A typical example involves adding items from a pre-printed catalog page to the user's virtual "shopping can". To protect the user's privac;', howe~'er. the unique user ID 60 known to the netpage system is not divulged to applications. This is to prevent different application providers from easily correlating independently accumulated behavioral data.<br><br>
The netpage registration server instead maintains an anottymous relationship between a user and an application via a unique alias ID 65, as shown in Figure 24. Whenever the user activates a hy'perlink tagged with the "registered" attribute, the netpage page server ask-s the netpage recistration server to translate the associated application ID 64, together with the pen ID 61, into an alias ID 65. The alias ID is then submitted to tpe hyperlink's application.<br><br>
The application maintains state information indexed by alias ID, and is able to retrieve user-specific state information without knowledge of the global identity of the user.<br><br>
The system also maintains an independent certificate and private signature key for each of a user's applications, to allow it to sign application transactions on behalf of the user using only application-specific inforntation.<br><br>
To assist the system in routing product bar code (UPC) "hyperlink" activations, the system records a favorite appiication on behalf of the user for-any number of product o'pes.<br><br>
Each application is associated with an application provider, and the system maintains an account on behalf of each application provider, to allow it to credit and debit the provider for click-through fees etc.<br><br>
An application provider can be a publislter of periodical subscribed content, The system records the user's willingness to receive the subscribed publication, as well as the expected frequency of publication.<br><br><br>
5	COMMUNICATIONS PROTOCOLS<br><br>
A communications protocol d~ftnes an ordered exchange of messages between entities. In the netpage system. entities such as pens, printers and servers utilise a set of defined protocols to cooperatively' handle user interaction with the netpage systent.<br><br>
Each protocol is illustrated by way of a sequence diagram in which the horizontal dimension is used to represent message flow and fite vertical dimension is used to represent time. Each entity is represented by a rectangle containing the name of the entity and a vertical column representing the lifeline of the entity. During the time an entity exists, the lifeline is sitown as a dashed line, During the time att entity is active, itte lifeline is shown as a double line.<br><br>
Because the protocols considered here do not create or destroy' entities, lifelines are gencrall~' cut short as soon as an<br><br>
entit" ceases to participate in a protocol.<br><br><br>
5.1	SuBsCRIPTION DELIVERY PROTOCOL<br><br>
A preferred embodiment of a subscription delivery protocol is sho~vn in Figure 40.<br><br>
A laree number of users may subscribe to a periodical publication. Each user's edition may be laid out differently, but many users' editions will share commott content such as text ob,jects and image objects. The subscription delivery protocol therefore delivers document structures to individual printers via pointeast. but delivers shared content objects via multicast,<br><br>
The application (i,e, publisher) first obtains a document ID 51 for each document from an ID server 12, II then sends each document structure, including its doctiment ID and page descriptions, to the page server 10 responsible for the document's newly allocated II). It includes its own application ID 64. the subscriber's alias ID 65. and the relevant set of multicast channel names, It signs the message using its private signature key.<br><br>
The page server uses the application ID and alias ID to obtain from the registration server the con'espooding user ID 60. the user's selected printer ID 62 (which may be explicitly selected for tlte application, or may be the user's default printert, and the application's certificate.<br><br>
The apolication's certificate allows the page server to verif'~' the message signature. The page server's request to the registration server t~ils if the application ID and alias ID don't together identity a subscription 808.<br><br>
The page server then allocates document and page instattce IDs and forwards the page descriptions, including page IDs 50. to the printer, It includes thc relevant set of multicast channel names for the priitter to listen to.<br><br>
It then returns the newly allocated page lOs to the application for future reference.<br><br>
Once fite application has distrihuted all of the document structures to the subscribers' selected printers via the relevant page servers, it multicasts the various subsets of the shared objects on the previously selected multicast channels, Both page servers and printers monitot' the appropriate multicast channels and receive their required content objects. The)' are then able to populate the previously' poinicast document structures. This allows the page servers to add complete documents to their datahases. and it allows the printers to print the documents.<br><br><br>
5,2	HYPERLINK ACTIVATION PROTOCOL<br><br>
A preterred embodiment ota h~perlink actitation protocol is shown in Figure 42,<br><br>
When a user clicks on a netpage with a neipage pert, the pen comtnunicates the click to the nearest nctpage printer 601. The click identifies the page anda location on the page. The printer already knows the ID 61 of the pen from the pen connection protocol.<br><br>
The printer detcrn'tittes~ via the DNS, the network address of the page server I Oa handling the particular page ID 50. The address may alteady be in its cache if the user has recently interacted with the sante page. 'rhe printer then forwards the pen 11). its Own pr-inter ID 62. tlte page ID and click location to the page server.<br><br>
The page server loads the page descnption 5 identified by the page ID and determines whielt ittput elemetti's zone 58. if any', the click lies in. Assuming the relevant input clement is a hyperlink element 844, the page server then obtaitts the associated application ID 64 and link ID 54, and determines, via the DI'4S. the network address of the application set'ver hosting the application 71.<br><br>
Ilte page server uses the pen ID 61 tu obtain the corresponding user ID 60 front ilte registration server II. and then allocates a globally' unique hyperlink request ID 52 and builds a hyperlink request 934. The ltypertink request class diagram is shown in Figure 41 The Itvperitnk request records tlte IDs or the requestine user atid pr-toter. and<br><br>
identifies the clicked hyperlink instance 862. The page server then sends its own server ID 53, the hyperlink request ID, and the link ID to the application.<br><br>
'rhe applicatiott produces a response document accordittg to applicadon-specific logic, and obtains a document ID 51 from an ID server 12. It then sends the doctirneni to the page server lOb responsible for the document's newly allocated ID, together with the requesting paee server's ID and the hyperlink request ID.<br><br>
The second page server sends the hyperlink request ID and application ID to Ilte first page server to obtain the corresponding user ID and printer ID 62. The first page server rciects the request iftite hyperlink request has expired or is for a different application,<br><br>
The second pa2e server allocates document instance and page IDs 50, returns the newly allocated page IDs to the application. adds'the complete document to its own database, and finally sends the page descriptions to the requesting printer.<br><br>
The hyperlink instance may include a meanineful transaction ID 55. in which case the first page server includes the transactben ID in the message sent to the application. This allows the application to establish a transaction-specific context for the hyperlhtk activation.<br><br>
Lf the h\'perlink requires a user alias, i.e its "alias required~' attribute is set, then the first page server sends both the pen ID 61 and the hyperlinks applicatiott ED 64 to the recistralion server It to obtain not just the user ID corresponding to the pen ID but also the alias ID 65 corresponding to the application ID and the user ID. It includes the alias ID in the ntcssaae sent to the application, allowing the application to establish a user-specific context t'or the hy'per-link acrivation.<br><br><br><br>
5,3	HANDWRITING RECOGNITION PROTOCOL<br><br>
When a user draws a stroke on a nctpaee witlt a netpage pen, tlte pen communicates the stroke to the nearest netpage printer. '~h~ stroke identifies the page and a path on the page.<br><br>
TIte printer forwards the pen lD 61, its own pr-intel' ID 62, the page ID 50 and stroke path to the page server 10 in the usual way.<br><br>
The pate server loads the page descrtption 5 identified by the page ID and determines which input clement's zone 58, if any, the stroke intersects. Assuming the relevant input element is a text field 878, the page server appends the stroke to the text field~s dicital ink,<br><br>
After a period or ittactivity in the zone of the text field, the page server sends the pen ID and the pending strokes to the registration server II for interpretation. The registration server identifies the user corresponding to the pen. and uses the user's accumulated hand~vrixine model 822 to interpret the strokes as handwritten text. Once it has converted tlte strokes to text, the registration server returns Ilte text to the requesting page server, The page server appends tlte text to the text value of the text field.<br><br><br>
5.4	SIGNATURE VERIFIcATION PROTOCOL<br><br>
Assuming tlte input element whose zoite the stroke ititersucts is a signature field 880, the page server 10 appends the stroke to the signature field's digital i:tk.<br><br>
Aher a period of nactivity in the zone of the signature field, the page server sends the pen ID 61 and the pending strokes to the registration server It for verification. It also sends the applicatton ID 61 associated with the farm of which tlte sittnature field s part. as well as the fornt III) 56 and the current data content of the fornt. The registration<br><br>
server identifies the user corresponding te the pen, and uses the user's dyrtaniic signature biometric SIB tc verify the strokes as the user's signature. Once it has verifted the signature. the registration server uses the applicatioti II) 64 and user ID 60 to identify the user's applicalion-SPCciftC private signature key. It then uses the key to generate a digital signatttre of the form data, and rewrns the digital signature to the requesting page server. The page server assigns the digital signature to the signature field and sets the associated form's status to frozen.<br><br>
The digital signature includes the alias ID 6.5 of the corresponding user. This-allows asingle fornrio capture multiple users' signatures.<br><br><br><br>
5,5	FORM SueMtsstoN PROTOCOL<br><br>
A preferred etnbodiment of a form submission protocol is sho~vn in Figure 43.<br><br>
Form submission occurs via a form hyperlink activation. It thus follows the protocol defined in Section 5.2, with some form-specific additions.<br><br>
In the case of a form hyperlink. the Ityperlink activation message sent by the page server 10 to the application 71 also contains the form ID 56 and the current data content of the form. If the form contains any signature fields, then the application verifies each one by extracting the alias ID 65 associated with the corresponding digital signature and obtaining the corresponding certificate from the registration server II.<br><br><br><br>
6	NETPAGE PEN DEScRtP'rtoN<br><br><br>
6,1	PEN MECHANICS<br><br>
Referring to Figttres 8 and 9. the pen, generally' designated by reference numeral 101. incLudes a housittg 102 in the form ofa plastics moulding having walls 103 definino an interior space 104 for mounting the pen components. The pen top 105 is in operation rotatably mouttied at one end 106 of the housing 102, A semi-tratssparent cover 107 is secured to the opposite end 108 of the housing 102. The cover 107 is also of tttoulded plastics, and is formed from sentitransparent matetial in order to enable the user to view the status of tlte LED mounted within the housing 102. The cover 107 includes a main part 109 which substantially' surrounds the ettcl 108 of the housing 102 and a projecting pOrtion 110 which projects back from the main part 109 and fits within a corresponding slot Ill formed in the walls 103 of the housing 102. A radio antenna 112 is mounted behind the projecting portion 110, within tile housing 102, Screw threads 113 surrounding an aperture I IJA on the cover 107 are arranged to receive a metal end piece 114, including corresponding screw threads 115, The metal end piece I fl is removable to enable ink cartridge replacement.<br><br>
Also mounted within the cover 107 is a tn-color status LED 116 o~t a flex PCB 117. The antenna 112 is also mounted on tlte flex PCR 117, The status LED 116 is mourned at the top of the pen 101 for good all-around visibility.<br><br>
The pen can operate hoth as a normal tnarking ink pen and as a non-marking stylus. An ink pen cartridge 118 with nib I l9 and a stylus 120 with stylus nib 121 are tnounted side by side within t~e housing 102. Ehhcr the ink cartridge nib 119 or the stylus nib 121 can be brought forward tltruugh open end 122 of the metal end piece I l'~. by rotation of the pen top 105. Respective slider- blocks 123 and 124 are ntounted to the ink cartridge I 18 and stylus 12(1. respectivek'. A rotatable cam barrel 125 is secured to the pen top 105 in operation and arranged to rotate heretvitlt. The catn barrel 125 itteludes a cam l2c~ in the form 01' a slot within ilte walls 181 of tlte cam barrel. Cam hollower-s 127 and 128 projecting front slider blocks 123 and 124 lit within the cam slot 126. On rotation of the cam barrel 125, the slider blocks 123 or 124 move relative to cactt other' to project either die pen nib 119 or stylus nib 121 out through the hole 122 in the metal end piece 114. The pen 101 lta~ three states oI'opcration. By turning the top 105 through 9Q0 steps. the threc<br><br>
•	Stylus 120 nib 121 out~<br>
•	lnkcartrid~e 118 nib Il9out; and<br>
•	Neither ink cartridge 118 nib ll9outnorstylus 120 nib 121 out.<br><br>
A second flex PCB 129, is mounted on an electronics chassis 130 which sits within the housing 102. The second flex PCB 129 mounts an infrared LED 131 for providing infrared radiation for projection onto th~-fturface. An image sensor 132 is provided mounted on the second flex PCH 129 for receiving reflected radiation from tlte surface. The second flex PCB 129 also mounts a radio frequency chip 133, which includes an RE' transmitter and RE receiver, aitd a cont!oller chip 134 for controlling operation of the pen 101, An optics block 135 (formed from moulded clear plastics) sits within the cover 107 and projects an infrared beam onto the surface and receives images onto the image sensor 132. Power supply wires 136 connect the components on the second flex PCB 129 to battery contacts 137 which are mounted within the cant harrel 125. A terminal 38 connects to the battery contacts 137 attd the cam barrel 123, A three volt rechargeable battery 139 sits within the cam barrel 125 in contact with the battery contacts. An induction charging coil 140 is mounted about the second flex PCB 129 to enable recharging of the battery 139 via induction. The second flex PCH 129 also mounts an infrared LED 143 and infrared photodiode 144 t'or detecting displacement itt the cant barrel 125 when either the 5!\ los 120 or the ink cartridge 118 is used for writine, in order to enable a determination of the force being applied to tlte surface by the peit nib 119 or stylus nib 121. The IR photodiode 144 detects light front the IR LED 143 via reflectors (not shown) mounted on the slider blocks 123 and 124.<br><br>
Rubber grip pads 141 and 142 are provided towards the end 108 of the housing 102 to assist gripping the pen 101. and top 105 also itteludesaclip 142 for elippingthe peti tOl to opocket.<br><br><br><br>
6,2	PEN CONTROLLER<br><br>
The pen lOt is arranged to determine the position of its nib (stylus nib 121 or ink cartridge nib 119) by' imaging. in the infrared speetr-tlm. an area of the surface in the vicinity of the nib. It records the location data from the nearest location tag, and is arranged to calculate the distance of the nib 121 or 119 from the location tab utilisiitg optics 135 and controller chip 134, The controller chip 134 calculates the orientatIon of the pen and the nib-to-tag distance from the perspectIve distortion observed on the imaged tag.<br><br>
Utilising the RE' chip 133 and antenna 112 the pen 101 can transmit the digital ink data (which is encrypted for security' and packaged for eflicient transmission) to the computing system.<br><br>
When tlte pen is in range ofa receiver, the digital ink data is transmitted as it is fo~med, Wheit the pen 101 moves out of range, digital ink data is buffered within the pen 101 (the pen 101 circuitry includes a buffer arranged to store digital ink data for approximately 12 minutes of the pen motion on the surface) and can be transmitted later.<br><br>
The controller chip 134 is mounted on the second flex PCB 129 in the pen 101. Figure tO isa block diagram illustrating in more detail the ar-chttecture of the controller chip 34. Figure tO also shows representations of the R.F cltip 133, the image sensor 132, the tn-color status LED 116. the IR illumination LflD [31, the IR force sensor tJ~D 143. and the force sensor IthotodiOde 144.<br><br>
'Ilte pen corttroller chip 34 includes a cotitrolling processor- 145. Htis 146 enables the excltaitge of data betweett components of tlte controller chip 134. FlasIt memory 147 and a 512 KB DRA.tvt 148 arc also iticluded. An analog'to-chi~ital converter 149 is ar-r-ringed to convert the analog signal from tlte for-ce sensor photodiode 144 to a digitul signal.<br><br>
An image sensor interface 152 interfaccs ~%th the image settsor- 132. A transceiver controller 153 and base<br><br>
band circuit 154 are also included to interface with the RF chip 133 which includes an RE circuit 155 and RF resonators and inductors 156 connected so the antenna 112.<br><br>
The controlling processor 145 captures and decodes location data from tags from the surface via the image sensor 132, monitors the for-ce sensor photodiode 144, controls the LEDs 116, 131 and 143. and handles short-range radio comotunication via the radio transceiver 153. It is a medium-performance (—40MHz~ general-purpose RISC processor.<br><br>
The processor- 145, digital transceiver components (transceiver controller 153 and baseband circuit 154y, image sensor interface 152. flash memory 147 and 512KB DRAM 148 are integrated in a single controller ASIC. Analog RE' components (RF circuit 155 and RF resonalors and inductors 156) are provided in the separate R.F chip.<br><br>
The image sensor is a2]5.\2l5 pixel CCD (stich a sensor is produced by Matsushita Electronic Corporation, and is described in a paper by Itakura. K T Nobusada. N Okuseny'a. R Nagayoshi, and M Ozaki, "A (mm 50k-Pixel IT CCD Image Sensor for Miniature Camera System". lt'~EE Transactions on Electronic Devices, Volt 47. number 1, January 2000, which is incorporated herein by reference) with an IR filter,<br><br>
The controller ASIC 134 enter-s a quiescent state after a period of inactivity when the pen 101 is not in contact with a surface, It incorporates a dedicated circuit ISO wltich monitors the force sensor pltocodiode 144 and wakes up the controller 134 vitt the power manager SI on a pen-down event.<br><br>
The radio transceiver communicates in the unlicensed 900MHz band normally used hy cordless telephones. or- alternatively in the unlicensed 2,4GHz industrial, scientific and medical (ISM) band and uses frequency hopping and collision detection LO provide interference-free communication.<br><br>
In an alternative embodiment. the pen incorporates an Infrared Data Association (lrDAy interface for short-range communication with a base station or netpage printer.<br><br>
In a further emboditnent, tlte pen 101 includes a pair of orthogonal accelerometers mounted in the normal plane of the pen lOt axis. Toe accelerometers 190 arc shown in F~gur-es 9 and tO in ghost outline,<br><br>
The provision of the accelerometers enables this enthodiment of the pen 101 to sense motion without reference to surface location tags. allowing the location tags to he santpled at a lower rate, Each location tag ID can then identify an object of iitterest rather than 3 positiomt on thL' surface. For e.\amplc. if the object is a user interface input element (e.g. a con'trnand button), then tlte tag II) of each location tag within the area of Site input element can directly identify the input element.<br><br>
The acceleration measured b\ the accelcm'orneters in each oftIte x and y directions is integrated with respect to time to produce an instantaneous velocity and position.<br><br>
Since the starting position of the stroke is not kitown. oak' relative positions within a stroke are calculated. Altltough position integration accumulates errors it the sensed acceleration, accelerometers typically have Itigh resolution, attd the tirrte duration of a stroke, over which errors accumulate, is short.<br><br><br><br>
7	NETPAGE PR(NTER DESCRtPTION<br><br>
7,1	PRtNTER MECt-IAtJtCS<br><br>
The vertically-mounted netpaue ivallprinter 601 is shown fully assembled in Figure II. It prints netpages Oil t.ctten/A4 sized media usins duplexed BA" McinietTM prim engines 602 and 603, as shown in Figures 12 and 12a. It uses a straight paper path with the paper 60'1 passing througlt the duple~cd print engines 602 and 603 whiclt print both sides ola sheet simultaneously'. in t'ull color and with bleed.<br><br>
An integral bindine assembly 605 applies a strip of glue along one edge of each printed slteez., allowing it to adhere to the previous sheet when pressed against it. This creates a final bound document 618 which can range in thickness front one sheet to several hundred sheets.<br><br>
The replaceable ink cartridge 627, shown in Figure 13 coupled with the duplexed print engines, has bladders or chambers for storing fixative, adhesive, and cyan. magenta, yellow, black and infrared inks. The cartridge also COntSinS a micro air filter in a base molding. The micro air filter interfaces with an air pump 638 iti~ide,the pz'iMer via.u4iose 639. This provides filter-ed air to the printheads to prevent ingress of micro particles into the MemjetT'~ printheads 35(1 wltich might otherwise clog the printhead noazles. By incorporating the air filter within the cartridge, the operational life of the filter is effectively linked to the life of tlte cartridge. The ink cartridge is a fully' recyclable product with a capacity for printing and gluing 3000 pages (1500 sheetsl.<br><br>
R;tbr~ihg to Figure 12, the motorized media pick-up roller assembly 626 pushes the top sheet direcily from the media tray post a paper sensor on the first print engine 602 into the duplexed Memjet1'~ printhead assembly. The two Memjec1"'~ print engines 602 and 603 are mounted in an opposing in-line sequential configuration along the straight paper path. The paper 604 is drawn into the first print engine 602 by integral, powered pick-up rollers 626, The position and size of the paper 604 is sensed and full bleed printing commences. Fixative is printed simultaneously to aid drying in the shortest possible tinte.<br><br>
The paper exits the first MemietT~l pt'int engine 602 through a set oI' powered exit spike wheels (aligned along the straight paper path,, which act a2ainst a rubberized roller, These spike wheels contact the 'wet' printed surface and continue to feed the sheet 604 into the second MeitsjetTM print engine 603<br><br>
Refer-rino to Figures 12 and 12a. the paper 604 passes from the duplexed prittt engiocs 602 and 603 into the binder assembly 635. The printed page passes between a powered spike wheel axle 670 wittt a fibrous support roller and another movable axle with spike wheels and a ntontentary action glue wheel, The movable axlclgltie assembly 673 is mounted to a otetal supDort bracket and it is transported forward to interface with the powered axle 670 via gears by action of a catnshafi. A separate ototor powers this camshaft.<br><br>
The glue wheel assembly 673 consists of a partially hollow axle 679 with a rotating coupling for the glue supply' hose 641 from the ink cartridge 627, This a~Jc 679 corittects to a glue wheel, which absorbs adhesive by capillary' actiort throuith radial holes, A molded housing 682 surrounds the glue wheel, with an opening at the front. Pivotittg sldq moldings attd sprung outet doors are attached to Ihe metal bracket and Itinge out sideways wheti the rest of the assembly 673 is thrust forward, This action exposes the glue wheel through the front of the molded housing 682. Tension springs close the assembly and effectively' cap the glue wheel during periods of inactivity.<br><br>
A.s the sheet 604 passes into the glue wheel assembly 673, adhesive is applied to one vertical edge on the front side (apart from th~ first sheet of a document) as it is traitsporred down into the binding assembly 605.<br><br><br>
PRt~'rei~ CON'r-ROLL~R ARCH:TECTURE<br><br>
The netpage pr-utter contr'otler consists of a conti-olling processor 750. a factory-installed or held-installed<br><br>
network interface module 625, a radio transceiver (transceiver cnntroller 753. baschaitd circuit 754. RF ciretilt 755. and<br><br>
RF resonators and inductors 756). dual raster image processor (RIP) DSPs 757, duplexed print engine controllers 760a<br><br>
and 760b, flash mentor~ 658, and 64MB of DRAM 657, as Ulustxated in Figure 14.<br><br>
The controlltn2 processor handles cootmunication witlt the network 19 and wittt local wireless netpage pens tOt, senses the help button 617, conirols tlte user inter-face LEDs 613-616. and feeds and svnchroniaes the RIP DSPs 757<br><br>
-4<br>
and print engine controllers 760. It consists of a medium-performance general-purpose microprocessor. The controlling processor 750 communicates with the print engine controllers 760 via a high-speed serial bus 659.<br><br>
The RIP DSPs rasterize and compress page descriptiotts to the netpage printer's compressed page format, Each print engine controller expands, dithcrs arid prints page images to its associated Memjettm' printhead 350 in real time (i.e. at over- 30 pages per minute), The duplexed print engine controllers print both sides of a sheet simultaneously.<br><br>
The master print engine controller 760a controls the paper transport and monitors ink usage in conjunction with the master QA chip 665 artd the ink cartridge QA chip 761.<br><br>
'the printer controller's flaslt memory 658 holds the software for both the processor 750 and the DSPs 757, as well as configuration data, This is copied to main memory 657 at boot time.<br><br>
The 'pi'ocessor 750. DSPs 757. and digital trattsceiver components (transceiver controller '753 and baaeband circuit 7S4y are integrated in a single controllet' ASIC 656. Analog RF components (RF circuit 755 and RF resonators and inductors 7561 are provided ut a separate RF chip 762. The net~vork ittterface module 625 is separate. since ttetpage printer-s allow the network connection to be factory-selected or field-selected. Flash memory 658 and the 2x256Mbit (64MB~ DRAIvI 657 is also off-chip. The print engine controllers 760 are provided in separate ASICs.<br><br>
A varier~ of network interface ntodulcs 625 arc provided, each providing a nctpage network interface 751 and optionallx a local computer or network interface 752. Netpage network Internet interfaces ittelude POTS modems, Hybrid Fiber--Coax (HFC) cable modems, ISDN modems, DSL modems, satellite transceivers, current aitd next-generation cellular telephone transceivers, and wireless local loop (WLL) transceivers. Local interfaces include IEEE 1284 (parallel port), l0i3ase-T and lOOBase-T Ethernet, USB and USB 2.0. iEEE 1394 (Firewii~), aitd various enterging honte networkine interfaces. If an Internet conoectinit is available on the local network, then the local network interface can be used as the netpage network interface.<br><br>
'the radio transceiver 753 communicates in the unlicensed 900MHz band normally used by cordless telephones, or alter-natively in the unlicertsed 2.4GHz industrial. scientilic and medical ([SM) band, and uses frequency' ltoppinn and collision detection to provide interference-free communication.<br><br>
Tlte printer controller optionally incorporates art Infrared Data Association (IrDA) interface for receiving data 'squirted" from devices such as netpage cameras. In an alternative etnbodiment, the printer uses the IrDA interface for short-range communication with suitably configured netpage pens.<br><br><br>
7.2.1	RASTERIZATION ANO PRINTING<br><br>
Once the main processor 750 has received and verified the document's page layouts ~itd page objects. it runs the appropriate RIP software on the DSPs 757.<br><br>
The DSPs 757 rasterize each page description aitd compress the rastcrizcd~ page image. The main processor stores each compressed page image in memory. The simplest way' to load-balance multiple DSPs is to let each DSP rasterize a separate page. The DSPs cait always be kept busy since an arbitrary number ofrasterized pages can, in general. be stored in memory This strategy only' leads to potentially' poor DSI1 utilization when rasterizing short documents.<br><br>
Watermark regiorts in tlte page description arc rasterized to a contone-resolution hi-level hitmap which is losslesslv compressed to negligible size and which for-ms pan of tlte compressed page image.<br><br>
The infrared (IR) layer of the printed page contains coded neipage tans at a density of about six per inch. Each tag encodes the page ID, tag ID. and control htts. and the data content of each tag is generated during rnterizatron<br><br>
and stored in the compressed page image.<br><br>
The main processor 750 passes back-co-back page images to the duplexed print engine controllers 760. Each print engine controller 760 stores the compressed page image in its local memory. and starts the page expansion and printing pipeline. Page expansion and printing is pipelined because it is impractical to store an entire 114MB bi-level CMYK-'-IR page image in memory.<br><br><br>
7,2.2	PRtNT ENGtNE CONTROLLER<br><br>
The page expansion and printing pipeline of the print engine controller 760 consists of a high speed IEEE 1394 serial interface 659, a standard JPEG decoder 763, a standard Group 4 Fa."t decoder 764, a custom halftoner/compositor- unit 765. a custom tag encoder- 766. a line loader/formatter unit '767, and a custom interface 768 to the Mem.ietT"~' printhead 350,<br><br>
The print engine controller 360 operates in a double buffered manner. While one page is loaded into DRAM 769 via the high speed serial interface 659. the previously loaded page is read from DRAM 769 and passed through the print engine controller pipeline. Once the page has finished printing, the page just loaded is printed while another page is loaded.<br><br>
The fir-st stage of the pipeline expands (at 763) the JPEG-compressed corttone C!vIYK layer. expands (at 764) the Group 4 Fax-compressed bi-level black layer, and renders (at 766) the bi-level rtetpage tag layer according to the tag format defined in section 1.2, all in parallel. The second stage dithers (at 765) the contone CMYK layer and composites<br><br>
(at 765) the bi-level black layer over the resulting hi-level CMYK layer. The resultant bi-level CMYK+IR dot data is<br>
4<br>
buffered attd for-matted ~at 767) for printing on tlte Memjet"~ printhead 350 via a set of line buffers, Most of these line<br><br>
buffers are stored in the off-chip DRAM. The final stage prints the six channels of bi-level dot data (including fixative) to the Memier' printhead 350 via the pninthead interface 768.<br><br>
When several print engioc corttrollers 760 are used in unisoit, such as in a duplexed configuration, they are s.nchronized via a shared line sync signal 770. Only one print engine 760. selected via the external master/slave pin 771, generates the line sync signal 770 onto the shared line.<br><br>
The print engine controller 760 contains a low-speed processor 772 for synchronizing the pag~cxpansion and rendering pipeline configuring ate printhead 350 via a low-speed serial bus 773. and cotttrolling the stepper motors 675~<br><br>
676,<br><br>
In the 8'A" versions of the netpage printer, the two print engines each prints 30 Letter pages per minute along the lung ditnension of the page (I l"~. givina a line ratL' of8,8 kHz at 1600 dpi. In the 12" versions"ofthe netpage printer, the two print engines each prints 45 Letter pages per- minute alotig the short dimension of the page (8'A"), giving a line rate of 10.2 kHt Titese line rates are well within the operating frequency of the Memjet'r-M printhead, which in the current design exceeds 30 kI'l~.<br><br><br>
8	TRAVEL SERvIcES<br><br>
TIte nelpage system provides efficient mechanisms for air-lutes or travel companies to offer products atid services to customers, Travel services can include enquiries about and reservations of flights, accommodation, car rental. holiday packages and travel insurance.<br><br><br>
B.i	USER INTERFACE DIAGRAM NOTATION<br><br>
Each application user- interface tloi~ as illustrated as a collection of documents linked by command ar-rows. A<br><br>
command arrow indicates that the target document is printed as a result of the user pressing the corrcspottding command button on the source page. Some command arrows are labelled with multiple commands separated by stashes ('i's). indicating that any one of the specified commands causes the target document to be printed. Although multiple commands may label the same command arrow, they typically have different side-effects.<br><br>
In application terms. it is important to distinguish between netpage documents and netpage forms. Documents contain printed information, as well as commend buttons which catt be pressed by the uset'(~'reque'~t"tttr1herififonttation or some other action, Forms, in addition to behaving like normal documents, also contain input fields which can be filled itt by the user. They provide the system with a data input mechanism. It is also useful to distinguish between docuntents which contain generic information and docttments which contain information specific to a particular interaction between the user and an application. Generic documents may be pre-printed publications such as magazines sold at news stands or advertising posters encountered in public places. Forms ntay also be pre-printed. including, for example. subscription forms encountered in pre-printed publications. They may. of course, also be gerterated on-the-fly by' a netpage prillier in response to user requests. User-specific documents and forms are normally generated on the fly by, a netpage printer in response to u.ser requests. Figure 44 shows a getteric document 990. a generic fornt 991. a user-specific document 992. and a user-specific faint 993.<br><br><br>
Necpages which participate in a user interface flow are further described by abstract page layouts. A page layout may contain various kinds of elements, each 01 which has a unique sty'le.to differentiate it from the ohers. As shown in Figure 45. these include fixed inforntation 994. variable infornt~tiott 995, input fields 996. command buttons 997. draggable commands 998, and text hyperlinks or hypertext links 999.<br><br>
When a user- interface flow is broken up into multiple diagrams, any doeunie'~'it which is duplicated is shown with dashed outlines in all but the main diacram which defines it.<br><br><br><br>
8,2	TRAVEL SERVICES OBJECT MODEL<br><br>
The core travel services provided by the netpage Travel Services application arc fligltt bookings, rental car bookings. hotel accommodation bookings. vacation package hookinas. attd travel insurance purchases. The object model revolves around these travel services and customers.<br><br>
A travel services provider- 500 has a unique travel contpatty identifier 510 and a name. A travet~ompany 500 has many customer-s 501, Each customer has a customer identifier 65 tvhich is unique within the scope of the travel provider-.<br><br>
The name and description ofa customer 501 derives from the details of the corresponding netpag~. user 800.<br><br>
The Travel Services application allows the customer SIll to book flights with many airlines 502. Each airliac 502 has a unique airline code 511. An airltn,e has snuny flights 507. each with a l'tigltt number 512. departure and arrival airport. departure date/time and arrival date/time. Each flight has several tar-cs 505. Each tare 505 has an identifier-, a fare class, cost, taxes and conditions. Each flight bookine ,~Qg has a unique booking. identifier- 511. A booking S(lfl may be ('or one Or more passengers 506. .A passenger may have a frequent flyer account 504 with the air-line. The flight class diagram is shown in Figure 46.<br><br>
A customer 501 has access to rentiit ears from many' car rental companies 516. Each rental car company can have many rental locations SI 7 and many rental cars 519. Each rental booking 520 includes a unique booking id. pick-up details, drop-off details. car type and options. and total booking cost. Tltc car- vernal class diagram is shown in Figure 48.<br><br>
A customer 501 may make bookings with man)' hotels 521. Each hotel has a urrique identifier, a hotel nante<br><br>
and a company nanle. A hotel may have more than one re~~'~pe 522, each with its own amenities, and rate. Each hotel booking 523 includes a unique booking id. pick.up details, drop-off details, and total booking cost. The hotel class diagram is shown in FiEure 49.<br><br>
A customer 501 may book a package vacation 524 through the Travel Services application. Each vacation 524 has a unique identifier, a destination, price and description. Each vacation booking 525 includes a unique booking identifier, a departure date and return date, a number of passengers. and a total cost. The vacijti'on cI'as~'diags-a7rt is shown in Figure 50.<br><br>
A customer 501 can purchase travel insurance through tlte Travel Services application. For each type of travel insurance 526 there is a policy scltedule 527 giving the cost of the policy based on the destination, trip cost and duration of the trip. Each ins,urance policy 528 has a unique booking identifier, details of the trip, and a total policy cost, Each poticy covers one or more travelers 529. 'fhe travel insurance class diagram is shown in Figure 51.<br><br>
Each booking has a payment 509 associated with it, and each payment Itas a payment method 503. A customer- 50 l has a set of payment otethods 503 from which they cast chose when paying for a travel service bookittg. The paymettt class diagram is shown in Figure 47.<br><br>
When the SET payment card payment method 515 is used, the corresponding SET payment card 821 linked to the user is used to make the payment according to the normal SET protocol.<br><br>
When the payment card payment method 514 is used, the specified payment card is ttsed to make payment according to the normal protocol between the merchant, in tltis case the travel company, and their acquiring batik or institution which handles the particular payment card type.<br><br><br><br>
8.3	TRAVEL SERVICES USER INTERFACE<br><br>
The user may obtaiti a travel eompan~'s main page from a variety' of links including:<br>
•	the stetpage directory<br>
•	the netpage user's own bookmark<br><br>
•	an advertisement<br><br>
The netpage document printed for the user may vary' depending on wIrer-c the user has linked from.<br><br><br>
8.3.1	Locate Travel Company<br><br>
A travel company can be located by browsing or searching the global netpage direc,t.ory or the user's own bookmarks. A travel company may also be encountered in the form of an advertisement in a netpage publication. Both a directory' entry' and an ad~'ertisement typically' link to the travel company's main page.<br><br>
A i1tctpage user miry carry out product searches without being identified to the travel company'. The user- is only' identified to the travel company' at thc point of confiroting the hookittg. Tite user is required to sigit the paymertt form witlt the netpagc pert before subtnitting it. The user is identified by the netpage pen they are using and the signattire is verified from nctpage records.<br>
8.3.2	Travel Company Main Page<br><br>
The Travel Contpany Main Page 53t) IFigure 58) links to the travel company's product information and offerings. These include:<br><br>
•	Flights<br><br>
•	Vacation Packages<br><br>
•	Car Rental<br><br>
•	Hotels<br><br>
•	Tra"el Insurance<br><br>
Other travel company services or products may be available from this page, incLuding latest currertey exchange rates. access to foreign currency ordering. destination searches, maps, and weather information. It is likely there will also be advertisements for related companics which catt be linked to, The Travel Company main page user interface flow is shown in Fi2ure 52.<br><br><br>
8,3,3	Flight Booking<br>
A customer may find and book flights through netpage Travel Services. The' customer enters details of the required flight on the Find A Flight form 531 (Figure 59). The customer can specify which airline(s) they' want to search. If the customer clicks the <list airlines> button, a full list of airlines 536 is printed (Figure 60). From this airline list 536. the customer can then check the airlines to include in the Iii~ht search.<br><br>
When the customer clicks on the <find flights> button th~ Flight Search Results page 537 (Figure 61) is printed, list ma all matching flights. For each flight, the custonter clicks <details> to print the Flight Details 538 (Figure 62). or <book> to Itroceed with booking the flight. If the customer clicks <new search>, a blank Find A Flight form 531 is printed.<br><br>
lf the customer proceeds with bookine the flicht. the Passenger Details page 539 is printed (Figure 63). Here the customer enters the ~asscn~ers' names aitd frequent liver details, and contact infomtasinn. To proceed. the customer clicks <ccnr booking> and the Payment Details form 540 is prirrted (Figure 64). 'l'he customer selects, or enters details of. the cr-edit card to be used for payment. sigits tlte for-nt with their nctpage pert, and clicks <pay now>.<br><br>
When the pa' ment is complete a Travel Itinerary and Receipt 541 is printed (Figure 65).<br><br>
'fhe user interface flow for finding and bQoking a flight is shown in Figure 53.<br><br><br>
8.3.4	Car Rental<br>
A customer may find artd book rental cars through netpage Tr'~rvel Services. The customer enters details of the required car en the Find A Rental Car form 533 (Figure 66).<br><br>
Tlte custonter must specify' the pick-up and drop-ofl' locations for the rental car. If tIre customer clicks the <location search> burton. a full list of locations 546 (not shown) is printed. If' there are more than two pages of locations thert the list is printed using the dmrector~' index method (described in theiNerpage Applications doetiment).<br><br>
When the required search criteria hate been entered the customer clicks on <proceed> and the Rental Car Search Results 5'12 (Fi2ure 67) page is printed, listing all matching car rentals. For each car rental, the customer- clicks <details> to print the Rental Details 543 not shown), or <book> to proceed with booking the car. If tIre customer clicks <new search: a ltlattk find rental car for-nt is printed.></new><br>
\\'hcn the cus:onter clicks ~l3ook:', the Payment Details page 544 is printed (Figure 68). The customer selects. or enters details at'. tlte credit card to be used for' payment, signs the forttt with their netpage pen, and clicks <pay nov.>.<br><br><br>
When the payment is complete a Car Rental ~cceipt 545 is printed (Figure 69).<br><br>
The user interface flow for finding and booking a rental car is shown in Figure 54.<br><br><br>
8.3.5 Hotel Booking<br><br>
A customer may find and book a hotel through netpage Travel Services. 'tite customer enters details of the required hotel on the Find A Hotel form 534 (Figure 70).<br><br>
The customer must specify the city for the Itotel. If the customer clicks the <city search> button, a City Search forni 548 ~not shown) is printed. This form gives the customer the option of doing a text search for the required city, or of searching via a map.<br><br>
If the custonter chooses to search via a map. a high level area map 549 (rtot shown) is printed. The customer may then click on the printed map in the desired area to zoom in. A more detailed area map is printed. If the customer chooses a text search then a matching location list 551 (not shown) is printed. If there are more than two pages of locatiorts rettrrned by the searelt. then the list is printed using the directory index method (described in the Netpage Applications document)<br><br>
When thc desired location is selected, or when rIte customer clicks <list> from the search page. a hotel list<br><br>
550 (not sltowrt) is printed. If there are more than two pages of hotels rcturned hy the search, thon the list is printed using<br><br>
the directory' index method. From this hotel list, the customer can then check the hotels to include in the search. The Find<br><br>
A Hotel form 53-I is re-printed with the selected location and hotel(s) filled in.<br><br>
When the required search criteria have been entered the customer clicks dn <find hotels> artd the Hotel Search Results 547 (Figure 71) paae is printed. For each hotel, the customer clicks <details> to print the Hotel Details 552 (not shown~. or <rook> to proceed with the booking. If the customer clicks <new search>, a blank Find A Hotel fort'n is printed.<br><br>
When the customer cijeks <book>, the Pay'r~ent Details page 553 is printed (Figure 72). The customer selects, or enters detaiis of, the er-edit card to be used for payment, signs the form with their netpage pen. and clicks <pay now>.<br><br>
When the payntent is complete a Hotel Booking Confirmation 554 is printed (Figure 73), The user interface flow for finding and booking a hotel is shown in Figure 55.<br><br>
8.3.6	Vacations<br><br>
A customer may' find and book a packaged vacation througlt netpage Travel Services. First the customer selects a destination from the Vacation Destinations form 532 (Figure 74). A list of Vacation Packages 555 is printed (Figure 75). Tite customer clicks on <details> to see detailed information on a particular package 556 (Figure 76).<br><br>
If the customer then clkks nit <get quote> from a Vacation Package Details page 556. the Vacation Package Inquiry form 557 is printed (Figure 77). Here the customer ertrers details required to check nit availability and provide a quote for the package. including number- of travelers, departure date and return date.<br><br>
To proceed. tlte customer- clicks <get quote> and a Vacation Package Quote 558 is printed (Figure 78). When the custonter clicks <book>, the Payment Details page 559 is printed (Figure 79). The customer selects, or enters detai)s of, tlte credit card to he used for payment. signs the fornt with their- netpage pen, and clicks <pay now>.<br><br>
When the payment is complete a Vacatiort l300kir-rg Confirmation 560 is printed (Figure 80).<br><br>
The user interface flow for finding and booking a vacation is shown in Figure 56.<br><br><br>
83.7	Travel Insurance<br>
A customer may put-chase travel insurance through netpage Travel Services. The customer enters details of the required insurance on the Travel Insurance Inquiry form 535 (Figure 81)'<br><br>
To see the full description for a type of insurance the customer clicks <dei andthe trav details form srtotr-n is printed.></dei><br>
When the required insurance details have been entered the customer clicks on <get quote> and the Travel Insurance Quote pane 562 is printed (Figure 82). giving the policy cost and conditions, To accept the quote the customer-clicks <book>. The Payment Details page 563 is printed (Figure 83). 'l'he customer selects, or enters details of, the credit card to be used for payment. signs the t'orm ~t'ith their netpage pen. and clicks  Pay Now.<br><br>
When the pa~'ment is complete a Travel Insurance Confirmation 564 is printed (Figure 84),<br><br>
'rlie user interface flow for finding and booking travel insurance is shown in Figure 57.<br><br><br>
CoNcLustoN<br>
The present invention has been described with reference to a preferred embodiment and number of specific alternative embodiments, I lowever. it will be appreciated by titose skilled in the relevant fields that a nttmber of other embodiments differing from those specificalI~' described, will also fall within the spirit and scope of the present ittvention. Accordingly, it will be urtderstood that the invention is not intended to be limited to the specific embodiments described in tlte present specificatioit. including documents incorporated by cross-refer-coca as appropriate. The scope of the invention is only .limited by' the attached claims.<br><br><br><br><br>
We claim:<br>
1.	A system for enabling access to travel services, the system comprising:<br>
a form (1) containing information relating to parameters for travel service transactions, characterized in that the form (1) comprising coded data (3) indicative of an identity (50) of the form (1) and of at least one reference point (4) of the form (1);<br>
a sensing device (101) for sensing at least some of the coded data (3) on or in the form (1) and for generating indicating data identifying at least one parameter relating to the travel service transaction using at least some of the sensed coded data (3); and,<br>
a computer system (10,11,12,13,14) for receiving indicating data from the sensing device (101) for identifying at least one parameter relating to the travel service transaction, the indicating data being indicative of the identity (50) of the form (1) and a position of the sensing device (101) relative to the form (1), the sensing device (101) sensing the indicating data using at least some of the coded data (3).<br>
2.	The system as claimed in claim 1, wherein said at least one parameter relating to the<br>
travel service transaction is associated with at least one zone (7) of the form (1).<br>
3.	The system as claimed in claim 1 or claim 2, which comprises the sensing device<br>
(101) sensing its movement relative to the form using at least some of the coded data (3).<br>
4.	The system as claimed in any one of claims 1 to 3 in which the coded data (3) is also<br>
indicative of at least one parameter of the travel service transaction, the computer system<br>
(10,11,12,13,14) receiving indicating data from the sensing device (101) regarding said at<br>
least one parameter of the travel service transaction, and the sensing device (101) sensing<br>
the indicating data using at least some of the coded data (3).<br><br>
5.	The system as claimed in any one of claims 1 to 4, wherein said at least one parameter<br>
of the travel service transaction coded on form (1) is selected from the group comprising<br>
an action parameter of the travel service transaction, an option parameter of the travel<br>
service transaction, a text parameter of the travel service transaction, an authorization<br>
parameter of the travel service transaction, and a picture parameter of the travel service<br>
transaction.<br>
6.	The system as claimed in claim 5 wherein the action parameter of the travel service<br>
transaction coded on form (1) is selected from the group comprising:<br>
searching for travel product, requesting information relating to a travel product, selecting a travel product to purchase, confirming payment for a travel product, searching for a flight, requesting information relating to a flight, selecting a flight to purchase, confirming payment for a flight, searching for a car rental, requesting information relating to a car rental, selecting a car rental to purchase, confirming payment for a car rental, searching for hotel accommodation, requesting information relating to hotel accommodation, selecting hotel accommodation to purchase, confirming payment for hotel accommodation, requesting information relating to a vacation package, requesting a quotation relating to a vacation package, selecting a vacation package to purchase, confirming payment for a vacation package, requesting information relating to a travel insurance, requesting quotation relating to a travel insurance, selecting travel insurance to purchase, and confirming payment for travel insurance.<br>
7.	The system as claimed in claim 5 wherein the option parameter coded on form (1) is<br>
associated with at least one of:<br>
searching for a travel product, requesting information relating to a travel product, selecting a travel product to purchase, confirming payment for a travel product, searching for a flight, requesting information relating to a flight, selecting a flight to purchase, confirming payment for a flight, searching for a car rental, requesting information relating to a car rental, selecting a car rental to purchase, confirming payment for a car rental, searching for hotel accommodation, requesting information relating to hotel<br><br>
accommodation, selecting hotel accommodation to purchase, confirming payment for hotel accommodation, requesting information relating to a vacation package, requesting quotation relating to a vacation package, selecting a vacation package to purchase, confirming payment for a vacation package, requesting information relating to a travel insurance, requesting a quotation relating to a travel insurance, selecting travel insurance to purchase, confirming payment for travel insurance, a class of travel, a fare type, an airline, a payment card type, a car type, a car equipment option, a payment card, a property type, an amenities option, a travel insurance cover type, and a travel insurance destination region.<br>
8.	The system as claimed in claim 5 wherein the text parameter coded on form (1) is<br>
associated with at least one of:<br>
a travel departure location, a travel destination location, a number of travelers, an airline, a carrier, a frequent flyer membership number, a traveler name, a traveler address, a traveler telephone number a traveler age, a payment cardholder name, a payment card number, a payment card expiry date, a car rental pick-up location, a car rental drop-off location, a car rental pick-up date, a car make, a city, a check-in date, a number of guests, a number of rooms, a hotel chain, a hotel name, a departure date, and a trip cost.<br>
9.	The system as claimed in claim 5 wherein the authorization parameter coded on form (1)<br>
is associated with payment authorization.<br>
10.	The system as claimed in any one of claims 1 to 9 wherein the sensing device (101)<br>
comprises a marking nib (119).<br>
11.	The system as claimed in any one of claims 1 to 10 wherein the sensing device contains<br>
an identifier which imparts a unique identity to the sensing device (101) and identifies it as<br>
belonging to a particular potential purchaser (501).<br>
12.	The system as claimed in any one of claims 1 to 11 wherein the form (1) is printed by a<br>
printer (601) on demand, said printer comprising a binder for binding the pages for a form<br>
(1) printed on multiple pages.<br>
13.	The system as claimed in claim 12 in which the printer (601) prints the coded data (3) at<br>
the same time as printing the form (1) on the surface.<br>
14.	The system as claimed in any one of claims 1 to 13 in which the coded data (3) is<br>
substantially invisible in the visible spectrum.<br>
15.	The system as claimed in any one of claims 1 to 14 comprising a database for keeping a<br>
retrievable record of each form (1) generated, each form (1) being retrievable by using its<br>
identity (50) as comprised in its coded data (3).<br>
16.	A system for enabling access to travel services substantially as herein described with<br>
reference to the accompanying drawings.<br></book></get></pay></book></get></get></details></pay></book></new></rook></details></find></list></city></pay></book></details></proceed></location></pay></ccnr></new></book></details></find></list></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMDAxMjQtZGVsLWFic3RyYWN0LnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2002-00124-del-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMDAxMjQtZGVsLWNsYWltcy5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2002-00124-del-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMDAxMjQtZGVsLWNvcnJlc3BvbmRlbmNlLW90aGVycy5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2002-00124-del-correspondence-others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMDAxMjQtZGVsLWNvcnJlc3BvbmRlbmNlLXBvLnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2002-00124-del-correspondence-po.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMDAxMjQtZGVsLWRlc2NyaXB0aW9uIChjb21wbGV0ZSkucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2002-00124-del-description (complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMDAxMjQtZGVsLWRyYXdpbmdzLnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2002-00124-del-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMDAxMjQtZGVsLWZvcm0tMS5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2002-00124-del-form-1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMDAxMjQtZGVsLWZvcm0tMTMucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2002-00124-del-form-13.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMDAxMjQtZGVsLWZvcm0tMTkucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2002-00124-del-form-19.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMDAxMjQtZGVsLWZvcm0tMi5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2002-00124-del-form-2.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMDAxMjQtZGVsLWZvcm0tMjYucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2002-00124-del-form-26.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMDAxMjQtZGVsLWZvcm0tMy5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2002-00124-del-form-3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMDAxMjQtZGVsLWZvcm0tNS5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2002-00124-del-form-5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMDAxMjQtZGVsLXBjdC0xMDEucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2002-00124-del-pct-101.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMDAxMjQtZGVsLXBjdC0yMTAucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2002-00124-del-pct-210.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMDAxMjQtZGVsLXBjdC0zMDQucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2002-00124-del-pct-304.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMDAxMjQtZGVsLXBjdC00MDEucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2002-00124-del-pct-401.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMDAxMjQtZGVsLXBjdC00MDkucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2002-00124-del-pct-409.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMDAxMjQtZGVsLXBjdC00MTYucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2002-00124-del-pct-416.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMDAxMjQtZGVsLXBldGl0aW9uLTEzNy5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2002-00124-del-petition-137.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="217161-device-for-direct-observation-of-the-charging-process.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="217163-diacylglycerol-acyltransferase-nucleic-acid-sequences-and-associated-products.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>217162</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>IN/PCT/2002/00124/DEL</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>13/2008</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>31-Mar-2008</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>25-Mar-2008</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>30-Jan-2002</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>SILVERBROOK RESEARCH PTY. LTD</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>393, DARLING STREET, BALMAIN, NSW 2041, AUSTRALIA.</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>SILVERBRROK KIA</td>
											<td>393, DARLING STREET, BALMAIN, NSW 2041, AUSTRALIA.</td>
										</tr>
										<tr>
											<td>2</td>
											<td>LAPSTUN, JACQUELINE ANNE</td>
											<td>13 DUKE AVENUE, RODD POINT, NSW, 2046, AUSTRALIA</td>
										</tr>
										<tr>
											<td>3</td>
											<td>LAPSTUN, PAUL</td>
											<td>13 DUKE AVENUE, RODD POINT, NSW, 2046, AUSTRALIA</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>G06F17/00</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>N/A</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td></td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td></td>
									<td></td>
								    <td>NA</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/217162-a-system-for-enabling-access-to-travel-services by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 11:26:59 GMT -->
</html>
