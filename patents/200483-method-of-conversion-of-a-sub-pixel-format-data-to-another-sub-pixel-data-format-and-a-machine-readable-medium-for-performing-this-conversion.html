<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/200483-method-of-conversion-of-a-sub-pixel-format-data-to-another-sub-pixel-data-format-and-a-machine-readable-medium-for-performing-this-conversion by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 03:56:49 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 200483:METHOD OF CONVERSION OF A SUB-PIXEL FORMAT DATA TO ANOTHER SUB-PIXEL DATA FORMAT AND A MACHINE READABLE MEDIUM FOR PERFORMING THIS CONVERSION</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">METHOD OF CONVERSION OF A SUB-PIXEL FORMAT DATA TO ANOTHER SUB-PIXEL DATA FORMAT AND A MACHINE READABLE MEDIUM FOR PERFORMING THIS CONVERSION</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A method of converting a source pixel data of a first format for a display of a second format having a plurality of three-color pixel elements is disclosed. The method comprises determining implied sample areas [120] for each data point [122] of each color in the source pixel data of the first format. The resample areas [52] for each emitter of each color in the display is also determined. A set of fractions for each resample area [52] is formed. The denominators are a function of the resample area [52] and the numerators are the function of an area of each of the implied sample areas [120] that at least partially overlaps the resample areas [[52]. The data values for each implied sample area [120] is multiplied by its respective fraction and all products are added together to obtain luminance values for each resample area [52].</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>CONVERSION OF A SUB-PIXEL FORMAT DATA TO ANOTHER SUB-PIXEL DATA FORMAT<br>
CROSS-REFERENCE TO RELATED APPLICATION<br>
The present application claims the benefit of the date of U.S. Provisional Patent Application Serial No. 60/290,086, entitled "Conversion of RGB Pixel Format Data to Pentile Matrix Sub-Pixel Data Format", filed on May 9,2001, U.S. Provisional Patent Application Serial No. 60/290,087, entitled "Calculating Filler Kernel Values for Different Scaled Modes", filed on May 9, 2001, U.S. Provisional Patent Application Serial No. 60/290,143, entitled "Scaling Sub-Pixel Rendering on Pentile Matrix", filed on May 9, 2001, and U.S. Provisional Patent Application Serial No. 60/313,054, entitled "RGB Stripe Sub-Pixel Rendering Detection", filed on August 16, 2001, which are incorporated by reference herein in their entirety.<br>
BACKGROUND<br>
The present application relates to the conversion of graphics data formats from one form to another, and specifically to the conversion of (red-green-blue) RGB graphics to improved color pixel arrangements used in displays.<br>
The present state of the art of color single plane imaging matrix, for flat panel displays, use the RGB color triad or a single color in a vertical stripe as shown in prior art FIG. 1. The system takes advantage of the Von Bezold color blending effect (explained further herein) by separating the three colors and placing equal spatial frequency weight on each color. However, these panels are a poor match to human vision.<br>
Graphic rendering techniques have been developed to improve the image quality of prior art panels. Bcnzschawel, et al. in U.S. Patent No. 5,341,153 teach how to reduce an image of a larger size down to a smaller panel. In so doing, Bcnzschawel, et al. leach how to improve the image quality using a technique now known in the art as "sub-pixel rendering". More recently Hill ct al. in U.S. Patent No. 6,188,385 teach how to improve text quality by reducing a virtual image of text, one character at a time, using the very same sub-pixel rendering technique.<br>
The above prior art pay inadequate attention to how human vision operates. The prior art's reconstruction of the image by the display device is poorly matched to human vision.<br>
1<br><br>
The dominant model used in sampling, or generating, and then storing the knage for these displays is the RGB pixel (or three-color pixel element), in which the red, green, and blue values are on an orthogonal equal spatial resolution grid and are co-incident. One of the consequences of using this image format is that it is a poor match both to the real image reconstruction panel, with its spaced apart, non-coincident, color emitters, and to human vision. This effectively results in redundant, or wasted, information in the image.<br>
Martinez-Uriegas. et al. in U.S. Patent No. 5,398,066 and Peters, et al. in U.S. Patent No. 5,541,653 teach a technique to-convert and store images from RGB pixel format to a format that is very much like that taught by Bayer in U.S. Patent No. 3,971,065 for a color filter array for imaging devices for cameras. The advantage of the Martinez-Uriegas, et al. format is that it both captures and stores the individual color component data with similar spatial sampling frequencies as human vision. However, a first disadvantage is that the Martinez-Uriegas, et al. format is not a good match for practical color display panels. For this reason, Martinez-Uriegas, et al. also teach how to convert the image back into RGB pixel format. Another disadvantage of the Martinez-Uriegas, et al. format is that one of the color components, in this case the red, is not regularly sampled. There are missing samples in the array, reducing the accuracy of the reconstruction of the image when displayed.<br>
Full color perception is produced in the eye by three-color receptor nerve cell types called cones. The three types are sensitive to different wave lengths of light: long, medium, and short ("red", "green", and " blue", respectively). The relative density of the three wavelengths differs significantly from one another. There are slightly more red receptors than green receptors. There are very few blue receptors compared to red or green receptors. In addition to the color receptors, there are relative wavelength insensitive receptors called rods that contribute to monochrome night vision.<br>
The human vision system processes the information detected by the eye in several perceptual channels: luminance, chromanance, and motion. Motion is only important for flicker threshold to Che imaging system designer. The luminance channel takes the input from only the red and green receptors. It is "color blind". It processes the information in such a manner that the contrast of edges is enhanced. The chromanancc channel does not have edge contrast enhancement Since the luminance channel uses and enhances every fed and green receptor, the resolution of the luminance channel is several times higher than the chromanance channel. The blue receptor contribution to luminance perception is negligible. Thus, the error introduced by lowering the blue resolution by one octave will be barely<br>
2<br><br>
noticeable by the most perceptive viewer, if at all, as experiments at Xerox and NASA, Ames Research Center (R. Martin, J. Gille, J. Larimer, Detectability of Reduced Blue Pixel Count in Projection Displays, SID Digest 1993) have demonstrated.<br>
Color perception is influenced by a process called "assimilation" or the Von Bezold color blending effect. This is what allows separate color pixels (or sub-pixels or emitters) of a display to be perceived as the mixed color. This blending effect happens over a given angular distance in the field of view. Because of the relatively scarce blue receptors, this blending happens over a greater angle for blue than for red or green. This distance is approximately 0.25° for blue, while for red or green it is approximately 0.12°. At a viewing distance of twelve inches, 0.25° subtends 50 mils (1,270 \i) on a display. Thus, if the blue sub-pixel pitch is less than half (625 \i) of this blending pitch, the colors will blend without loss of picture quality.<br>
Sub-pixel rendering, in its most simplistic implementation, operates by using the sub-pixels as approximately equal brightness pixels perceived by the luminance channel. This allows the sub-pixels to serve as sampled image reconstruction points as opposed to using the combined sub-pixels as part of a 'true' pixel. By using sub-pixel rendering, the spatial sampling is increased, reducing the phase error.<br>
If the color of the image were to be ignored, then each sub-pixel may serve as a though it were a monochrome pixel, each equal. However, as color is nearly always important (and why else would one use a color display?), then color balance of a given image is important at each location. Thus, the sub-pixel rendering algorithm must maintain color balance by ensuring that high spatial frequency information in the luminance component of the image to be rendered does not alias with the color sub-pixels to introduce color errors. The approaches taken by Benzschawel, et al. in U.S. Patent No. 5341,153, and Hill, et a), in U.S. Patent No. 6,188,385, are similar to a common anti-aliasing technique that applies displaced decimation filters to each separate color component of a higher resolution virtual image. This ensures that the luminance information does not alias within each color channel.<br>
If the arrangement of the sub-pixels were optimal for sub-pixel rendering, sub-pixel rendering would provide an increase in both spatial addressability to lower phase error and in Modulation Transfer Function (MTF) high spatial frequency resolution in both axes.<br>
Examining the conventional RGB stripe display in FIG. 1, sub-pixel rendering will only be applicable in the horizontal axis. The blue sub-pixel is not perceived by the human<br>
3<br><br>
luminance channel, and is therefore, not effective in sub-pixel rendering. Since only the red and green pixels are useful in sub-pixel rendering, the effective increase in addressability would be two-fold, in the horizontal axis. Vertical black and white lines must have the two dominant sub-pixels (i.e., red and green per each black or white line) in each row. This is the same number as is used in non-sub-pixel rendered images. The MTF, which is the ability to simultaneously display a given number of lines and spaces, is not enhanced by sub-pixel rendering. Thus, the conventional RGB stripe sub-pixel arrangement, as shown in FIG. 1, is not optimal for sub-pixel rendering.<br>
The prior art arrangements of three-color pixel elements are shown to be both a poor match to human vision and to the generalized technique of sub-pixel rendering. Likewise, the prior art image formats and conversion methods are a poor match to both human vision and practicable color emitter arrangements.<br>
SUMMARY<br>
The drawbacks and disadvantages of the prior art are overcome by the conversion of RGB pixel format data to PenTile™ matrix sub-pixel data format.<br>
A method of converting a source pixel data of a first format for a display of a second format having a plurality of three-color pixel elements is disclosed. The method comprises determining implied sample areas for each data point of each color in the source pixel data of the first format. The resample areas for each emitter of each color in the display is also determined. A set of fractions for each resample area is formed. The denominators are a function of the resample area and the numerators are the function of an area of each of the implied sample areas that at least partially overlaps the resample areas. The data values for each implied sample area is multiplied by its respective fraction and all products are added together to obtain luminance values for each resample area.<br>
A method of determining implied sample areas for each data point of each color in a source pixel data of a first format for a display of a second format having a plurality of three-color pixel elements is also disclosed. The method comprises determining a geometric center of each emitter of each of the three-color pixel element of the first format to define sampling points. Then defining each of the implied sample area by lines that are formed equidistant between the geometric center of the emitter of one the three-color pixel element and the geometric center of another same color the emitter of a neighboring thrce-cotor pixel element and forming a grid of the lines.<br>
4<br><br>
A method of limiting filter kernel divisors in a filter kernel to a value designed to simplify hardware implementations is also disclosed. The method comprises calculating areas for filter coefficients using floating point arithmetic and then dividing each filter coefficient by a total area of a rendering area to receive a first product. Then multiplying the first product by a divisor to produce a filter sum, completing a binary search to find a round off point for the filter sura, and converting the filter sum to integers.<br>
BRIEF DESCRIPTION OF THE DRAWINGS<br>
Referring now to the figures, wherein like elements are numbered alike:<br>
FIG. 1 illustrates a prior art RGB stripe arrangement of three-color pixel elements in an array, a single plane, for a display device;<br>
FIG. 2 illustrates the effective sub-pixel rendering sampling points for the prior art RGB stripe arrangement of FIG. 1;<br>
FIGS. 3,4, and 5 illustrate the effective sub-pixel rendering sampling area for each color plane of the sampling points for the prior art RGB stripe arrangement of FIG. 1.<br>
FIG. 6 illustrates an arrangement of three-color pixel elements in an array, in a single plane, for a display device;<br>
FIG. 7 illustrates the effective sub-pixel rendering sampling points for the arrangements of FIGS. 6 and 27;<br>
FIGS. 8 and 9 illustrate alternative effective sub-pixel rendering sampling areas for the blue color plane sampling points for the arrangements of FIGS. 6 and 27;<br>
FIG. 10 illustrates another arrangement of three-color pixel elements in an array, in a single plane, for a display device;<br>
FIG. 11 illustrates the effective sub-pixel rendering sampling points for the arrangement of FIG. 10;<br>
FIG. 12 illustrates the effective sub-pixel rendering sampling areas for the blue -color plane sampling points for the arrangement of FIG. 10;<br>
FIGS 13 and 14 illustrate the effective sub-pixel rendering sampling areas for the red and green color planes for the arrangements of both FIGS. 6 and 10;<br>
FIG. 15 illustrates an array of sample points and their effective sample areas for a prior art pixel data format, in which the red, green, and blue values are on an equal spatial resolution grid and co-incident;<br>
5<br><br>
FIG. 16 illustrates the array of sample points of prior art FIG. 15 overlaid on the sub-pixel rendered sample points of FIG. 11, in which the sample points of FIG. 15 are on the same spatial resolution grid and co-incident with the red and green "checker board" array of FIG. 11;<br>
FIG. 17 illustrates the array of sample points and their effective sample areas of prior art FIG. 15 overlaid on the blue color plane sampling areas of FIG. 12, in which the sample points of prior art FIG. 15 are on the same spatial resolution grid and co-incident with the red and green "checker board" array of FIG. 11;<br>
FIG. 18 illustrates the array of sample points and their effective sample areas of prior art FIG. 15 overlaid on the red color plane sampling areas of FIG. 13, in which the sample points of prior art FIG. 15 are on the same spatial resolution grid and co-incident with the red and green "checker board" array of FIG. 11;<br>
FIGS. 19 and 20 illustrate the array of sample points and their effective sample areas ofpriorartFIG. 15 overlaid on the blue color plane sampling areas of FIGS. 8 and 9, in which the sample points of prior art FIG. 15 are on the same spatial resolution grid and coincident with the red and green "checkerboard" array of FIG. 7;<br>
FIG. 21 illustrates an array of sample points and their effective sample areas for a prior art pixel data format in which the red, green, and blue values are on an equal spatial resolution grid and co-incident;<br>
FIG. 22 illustrates the array of sample points and their effective sample areas of prior art FIG. 21 overlaid on the red color plane sampling areas of FIG. 13, in which the sample points of FIG. 21 are not on the same spatial resolution grid and co-incident with the red and green "checker board" array of FIG. 11;<br>
FIG. 23 illustrates the array of sample points and their effective sample areas of prior an FIG. 21 overlaid on the blue color plane sampling areas of FIG. 12, in which the sample points of prior art FIG. 21 are not on the same spatial resolution grid nor co-incident with the red and green "checker board" array of FIG. 11;<br>
FIG. 24 illustrates the array of sample points and their effective sample areas of prior art FIG. 21 overlaid on the blue color plane sampling areas of FIG. 8, in which the sample points of prior art FIG. 21 are not on the same spatial resolution grid nor co-incident with the red and green -checker board" array of FIG. 7;<br>
FIG. 25 illustrates the effective sample area of the red color plane of FK3. 3 overlaid on the red color plane sampling areas of FIG. 13;<br>
6<br><br>
FIG. 26 illustrates the effective sample areas of the blue color plane of BG. 5 overlaid on the blue color plane sampling areas of FIG. 8;<br>
FIG. 27 illustrates another arrangement of three-color pixel elements in an array, in three panels, for a display device;<br>
FIGS. 28, 29, and 30 illustrate the arrangements of the blue, green, and red emitters on each separate panel for the device of FIG. 27;<br>
HG.31 illustrates the output sample arrangement 200 of FIG. 11 overlaid on top of the input sample arrangement 70 of FIG. 15 in the special case when the scaling ratio is one input pixel for each two, a red and a green, output sub pixels across;<br>
FIG. 32 illustrates a single repeat cell 202 of converting a 640x480 VGA format image to a PenTile matrix with 800x600 total red and green sub pixels;<br>
FIG. 33 illustrates the symmetry in the coefficients of a three-color pixel -element in a case where the repeat cell size is odd;<br>
FIG. 34 illustrates an example of a case where the repeat cell size is even;<br>
FIG. 35 illustrates sub-pixel 218 from FIG. 33 bounded by a rendering area 246 that overlaps six of the surrounding input pixel sample areas 248;<br>
FIG. 36 illustrates sub-pixel 232 from FIG. 33 with its rendering area 250 overlapping five sample areas 252;<br>
FIG. 37 illustrates sub-pixel 234 from FIG. 33 with its rendering area 254 overlapping sample areas 256;<br>
FIG. 38 illustrates sub-pixel 228 from FIG. 33 with its rendering area 258 overlapping sample areas 260;<br>
FIG. 39 illustrates sub-pixel 236 from FIG. 33 with its rendering area 262 overlapping sample areas 264;<br>
FIG. 40 illustrates the square sampling areas used for generating blue filter kernels; and<br>
FIG. 41 illustrates the hexagonal sampling areas 123 of FIG. 8 in relationship to the square sampling areas 276.<br>
DETAILED DESCRIPTION<br>
Those of ordinary skill in the art will realize that the following description of the present invention U illustrative only and not in any way limiting. Other embodiments of the invention will readily suggest themselves to such skilled persons.<br>
7<br><br>
A real world image is captured and stored in a memory device. The image that is stored was created with some known data arrangement. The stored image can be rendered onto a display device using an array that provides an improved resolution of color displays. The array is comprised of a plurality of three-color pixel elements having at least a blue emitter (or sub-pixel), a red emitter, and a green emitter, which when illuminated can blend to create all other colors to the human eye.<br>
To determine the values for each emitter, first one must create transform equations that take the form of filter kernels. The filter kernels are generated by determining the relative area overlaps of both the original data set sample areas and target display sample areas. The ratio of overlap determines the coefficient values to be used in the filter kerael array.<br>
To render the stored image onto the display device, the reconstruction points are determined in each three-color pixel element. The center of each reconstruction point will also be the source of sample points used to reconstruct the stored image. Similarly, the sample points of the image data set is determined. Each reconstruction point is located at the center of the emitters (e.g., in the center of a red emitter). In placing the reconstruction points in the center of the emitter, a grid of boundary lines is formed equidistant from the centers of the reconstruction points, creating sample areas (in which the sample points are at the center). The grid that is formed creates a tiling pattern. The shapes that can be utilized in the tiling pattern can include, but is not limited to, squares, rectangles, triangles, hexagons, octagons, diamonds, staggered squares, staggered rectangles, staggered triangles, staggered diamonds, Penrose tiles, rhombuses, distorted rhombuses, and the like, and combinations comprising at least one of the foregoing shapes.<br>
The sample points and sample areas for both the image data and the target display having been determined, the two are overlaid. The overlay creates sub-areas wherein the , output sample areas overlap several input sample areas. The area ratios of input to output is determined by either inspection or calculation and stored as coefficients in filter kernels, the value of which is used to weight the input value to output value to determine the proper value for each emitter.<br>
When sufficiently high scaling ratio is used, the subpixcl arrangement and rendering method disclosed herein provides better image quality, measured in information addressability and reconstructed image modulation transfer function (MTF), than prior art displays.<br>
8<br><br>
FIG. 1 illustrates a prior art RGB stripe arrangement of three-color pixel elements in an array, a single plane, for a display device and prior art FIG. 2 illustrates the effective sub-pixel rendering sampling points for the prior art RGB stripe arrangement of FIG. 1. Prior art FIGS. 3,4, and 5 illustrate the effective sub-pixel rendering sampling area for each color plane ofthe sampling points for the prior art RGB stripe arrangement of FIGS. FIGS. 1-5 will be discussed further herein.<br>
FIG. 6 illustrates an arrangement 20 of several three-color pixel elements according to one embodiment. The three-color pixel element 21 is square-shaped and disposed at the origin of an X, Y coordinate system and comprises a blue emitter 22, two red emitters 24, and two green emitters 26. The blue emitter 22 is disposed at the center, vertically along the X axis, ofthe coordinate system extending into the first, second, third, and fourth quadrants. The red emitters 24 are disposed in the second and fourth quadrants, not occupied by the blue emitter. The green emitters 26 are disposed in the first and third quadrants, not occupied by the blue emitter. The blue emitter 22 is rectangular-shaped, having sides aligned along the X and Y axes of the coordinate system, and the opposing pairs of red 24 and green 26 emitters are generally square-shaped.<br>
The array is repeated across a panel to complete a device with a desired matrix resolution. The repeating three-color pixel elements form a "checker board" of alternating red 24 and green 26 emitters with blue emitters 22 distributed evenly across the device, but at half the resolution of the red 24 and green 26 emitters.  Every other column of blue emitters is staggered, or shifted by half of its length, as represented by emitter 28. To accommodate this and because of edge effects, some of the blue emitters are half-sized blue emitters 28 at the edges.<br>
FIG. 7 illustrates an arrangement 29 of the effective sub-pixel rendering sampling points for the arrangements of FIGS. 6 and 27, while FIGS. 8 and 9 illustrate arrangements 30,31 of alternative effective sub-pixel rendering sampling areas 123.124 for the blue color plane sampling points 23 for the arrangements of FIGS. 6 and 27. FIGS. 7,8, and 9 will be discussed further herein.<br>
FIG. 10 illustrates an alternative illustrative embodiment of an arrangement 38 of three-color pixel elements 39. The three-color pixel element 39 consists of a blue emitter 32, two red emitters 34, and two green emitters 36 in a square. The three-color pixel element 39 is square shaped and is centered at the origin of an X* Y coordinate system. The blue emitter 32 is centered at the origin ofthe square and extends into the first, second, third.<br>
9<br><br>
 and fourth quadrants of the X, Y coordinate system. A pair of red emitters 34 are disposed in opposing quadrants (i.e., the second and the fourth quadrants), and a pair of green emitters 36 are disposed in opposing quadrants (i.e., the first and the third quadrants), occupying the portions of the quadrants not occupied by the Woe emitter 32. As shown in FIG. 10, the blue emitter 32 is diamond shaped, having corners aligned at the X and Y axes of the coordinate system, and the opposing pairs of red 34 and green 36 emitters are generally square shaped, having truncated inwardly-facing corners forming edges parallel to the sides of the blue emitter 32.<br>
The array is repeated across a panel to complete a device with a desired matrix resolution. The repeating three-color pixels form a "checker board" of alternating red 34 and green 36 emitters with blue emitters 32 distributed evenly across the device, but at half the resolution of the red 34 and green 36 emitters. Red emitters 34a and 34b will be discussed rurther herein.<br>
One advantage of the three-color pixel element array is an improved resolution of color displays. This occurs since only the red and green emitters contribute significantly to the perception of high resolution in the luminance channel. Thus, reducing the number of blue emitters and replacing some with red and green emitters improves resolution by more closely matching to human vision.<br>
Dividing the red and green emitters in half in the vertical axis to increase spatial addressability is an improvement over the conventional vertical single color stripe of the prior art. An alternating "checker board" of red and green emitters allows high spatial frequency resolution to increase in both the horizontal and the vertical axes.<br>
In order to reconstruct the image of the first data format onto the display of the second data format, sample areas need to be defined by the isolating reconstruction points in the geometric center of each emitter and creating a sampling grid. FIG. 11 illustrates an arrangement 40 of the effective reconstruction points for the arrangement 38 of throe-color pixel elements of FIG. 10. The reconstruction points (e.g., 33,35, and 37 of FIG. 11) are centered over the geometric locations of the emitters <e.g.f and of fig. respectively in the three-color pixel element red reconstruction points green form a board array across display. blue arc distributed evenly device but at half resolution points. for sub-pixel rendering these color are treated as sampling used to></e.g.f>
10<br><br>
construct the effective sampling area for each color plane, which are treated separately. FIG. 12 illustrates the effective blue sampling points 46 (corresponding to blue reconstruction point 33 of FIG. 11) and sampling areas 44 for the blue color plane 42 for the reconstruction array of FIG. 11. For a square grid of reconstruction points, the minimum boundary perimeter is a square grid.<br>
FIG. 13 illustrates the effective red sampling points 51 that correspond to the red reconstruction points 35 of FIG. 13 and to the red reconstruction points 25 of FIG. 7, and the effective sampling areas 50,52,53, and 54 for the red color plane 48. The sampling points 51 form a square grid array at 45° to the display boundary. Thus, within the central array of the sampling grid, the sampling areas form a square grid. Because of 'edge effects' where the square grid would overlap the boundary of the display, the shapes are adjusted to keep the same area and minimize the boundary perimeter of each sample (e.g., 54). Inspection of the sample areas will reveal that sample areas 50 have the same area as sample areas 52, however, sample areas 54 has slightly greater area, while sample areas 53 in the corners have slightly less. This does introduce an error, in that the varying data within the sample areas 53 will be over represented while varying data in sample areas 54 will be under represented. However, in a display of hundreds of thousands to millions of emitters, the error will be minimal and lost in the corners of the image.<br>
FIG. 14 illustrates the effective green sampling points 57 that correspond to the green reconstruction points 37 of FIG. 11 and to the green reconstruction points 27 of FIG. 7, and the effective sampling areas 55,56, 58, and 59 for the green color plane 60. Inspection of FIG. 14 will reveal it is essential similar to FIG. 13, it has the same sample area relationships, but is rotated by 180°.<br>
These arrangements of emitters and their resulting sample points and areas would best be used by graphics software directly to generate high quality images, converting graphics primitives or vectors to offset color sample planes, combining prior art sampling techniques with the sampling points and areas. Complete graphics display systems, such as portable electronics, laptop and desktop computers, and television/video systems, would benefit from using flat panel displays and these data formats. The types of displays utilized can include, but is not limited to, liquid crystal displays, subtractive displays, plasma panel displays, electro-Iuminecence (EL) displays, clcctrophorctic displays, field emitter displays, discrete light emitting diode displays, organic light emitting diodes(OLEDs) displays, projectors, cathode ray tube (CRT) displays, and the like, and combinations comprising at<br>
11<br><br>
least one of the foregoing displays. However, much of the installed base of graphics and graphics software uses a legacy data sample format originally based on the use of CRTs as the reconstruction display,<br>
FIG. 15 illustrates an array of sample points 74 and their effective sample areas 72 for a prior art pixel data format 70 in which the red, green, and blue values areon an equal spatial resolution grid and co-incident. In prior art display systems, this form of data was reconstructed on a flat panel display by simply using the data from each color plane on a prior art RGB stripe panel of the type shown in FIG. 1. In FIG. 1, the resolution of each color sub-pixel was the same as the sample points, treating three sub-pixels in a row as though they constituted a single combined and intermingled multi-color pixel while ignoring the actual reconstruction point positions of each color sub-pixel. In the art, this is often referred to as the "Native Mode" of the display. This wastes the positional information of the sub-pixels, especially the red and green.<br>
In contrast, the incoming RGB data of the present application is treated as-three planes over lying each other. To covert the data from the RGB format, each plane is treated separately. Displaying information from the original prior art format on the more efficient sub-pixel arrangements of the present application requires a conversion of the data format via resampling. The data is resampled in such a fashion that the output of each sample point is a weighting function of the input data. Depending on the spatial frequency of the respective data samples, the weighting function may be the same, or different, at-each output sample point, as will be described below.<br>
FIG. 16 illustrates the arrangement 76 of sample points of FIG. 15 overlaid on the sub-pixel rendered sample points 33,35, and 37 of FIG. 11, in which the sample points 74 of FIG. 15 are on the same spatial resolution grid and co-incident with the red (red reconstruction points 35) and green (green reconstruction points 37) "checker board" array of FIG. 11.<br>
FIG. 17 illustrates the arrangement 78 of sample points 74 and their effective sample areas 72 of FIG. 15 overlaid on the blue color plane sampling points 46 of FIG, 12, in which the sample points 14 of FIG. 15 arc on the same spatial resolution grid and co-incident with the red (red reconstruction points 35) and green (green reconstruction points 37) Checker board" array of FIG 11.  FIG. 17 will be discussed further herein.<br>
FIG. 18 illustrates the array 80 of sample points 74 and theireffective sample areas 72 of FIG-15 overlaid on the red color plane sampling points 35 and the red sampling areas<br>
12<br><br>
50,52, 53, and 54 of FIG. 13, in which the sample points 74 of FIG. 15 are on the same spatial resolution grid and co-incident with the red (red reconstruction points 35) and green (green reconstruction points 37) "checkerboard" array of FIG. H. The inner array of square sample areas 52 completely cover the coincident origina] sample point 74 and its sample area 82 as well as extend to cover one quarter each of the surrounding sample areas 34 that lie inside the sample area 52. To determine the algorithm, the fraction of coverage, or overlap, of the output sample area 50, 52, 53, or 54 over the input sample area 72 is recorded and then multiplied by the value of that corresponding sample point 74 and applied to the output sample area 35. In FIG. 18, the area of square sample area 52 filled by the central, or coincident, input sample area 84 is half of square sample area 52. Thus, the value of the corresponding sample point 74 is multiplied by one half (or 0.5). By inspection, the area of square sample area 52 filled by each of the surrounding, non-coincident, input areas 84 is one eighth (or 0.125) each. Thus, the value of the corresponding four input sample points 74 is multiplied by one eighth (or 0.125). These values are then added to the previous value (e.g., that was multiplied by 0.5) to find the final output value of a given sample point 35. For the edge sample points 35 and their five sided sample areas 50, the coincident input sample area 82 is completely covered as in the case described above, but only three surrounding input sample areas 84, 86, and 92 are overlapped. One of the overlapped input sample areas 84 represents one eighth of the output sample area 50. The neighboring input sample areas 86 and 92 along the edge represent three sixteenths 
The comers and "near" corners are treated the same. Since the areas of the image that the comers 53 and "near" corners 54 cover are different than the central areas 52 and edge areas 50, the weighting of the input sample areas 86, 88,90,92,94,96, and 98 will be different in proportion to the previously described input sample areas 82,84,86, and 92.  For the smaller comer output sample areas 53, the coincident input sample area 94covers four sevenths (or about 0.5714) of output sample area 53. The neighboring input sample areas 96 cover three fourteenths (or about 0.2143) of the output sample area 53. For the "near" corner sample areas 54, the coincident input sample area 90 covers eight seventeenths (or about 0.4706) of the output sample area 54. The inward neighboring sample area 98 coven two seventeenths (or about 0.1176) of the output sample area 54. The edge wise neighboring input sample area 92 covers three seventeenths (or about 0.1765) of the output<br>
13<br><br>
sample area 54. The comer input sample area 88 covers four seventeenths (or about 0.2353) of the output sample area 54. As before, the weighted values of the Input values 14 from the overlapped sample areas 72 are added to give the value for the sample point 35.<br>
The calculation for the resampling of the green color plane proceeds in a similar manner, but the output sample array is rotated by 180°.<br>
To restate, the calculations for the red sample point 35 and green sample point 37 values, Vout, are as follows:<br>
Central Areas:<br><br>
Lower Edge:<br><br>
Upper Edge:<br><br>
Right Edge:<br><br>
Left Edge:<br><br>
Upper Right Hand Comer  Upper Left Hand Corner:  Lower Left Hand Corner: Lower Right Hand Corner. <br>
14<br><br><br><br>
where Vin are the chromanancc values for only the color of the sub-pixel at C.R, (C. represents the xth column of red 34 and green 36 sub-pixels and R, represents the yth row of ted 34 and green 36 sub-pixels, thus C,R, represent the red 34 or green 36 sub-pixel emitter at the xth column and yth row of the display panel, staning with the upper left-hand corner, as is conventionally done). It is important to note that the total of the coefficient weights in each equation add up to a value of one. Although there are seventeen equations to calculate the full image conversion, because of the symmetry there are only four sets of coefficients. This reduces the complexity when implemented.<br>
15<br><br>
As stated earlier, FIG. 11 illustrates the arrangement 78 of sample points 74 and their effective sample areas 72 of FIG. 15 overlaid on the blue color plane sampling points 46 of FIG. 12, in which the sample points 74 of FIG. 15 are on the same spatial resolution grid and co-incident with the red (red reconstruction points 35) and green (green reconstruction points 37) "checker board" array of FIG 11, The blue sample points 46 of FIG. 12 allow the blue sample area 44 to be determined by inspection. In this case, the blue sample area 44 is now a blue resample area which is simply the arithmetic mean of the surrounding blue values of the original data sample points 74 that is computed as the value for the sample point 46 of the resampled image.<br>
The blue output value, Vout, of sample points 46 is calculated as follows;<br><br>
where Vin are the blue chromanance values of the surrounding input sample points 74; Cx represents the xth column of sample points 74; and Ry represents the yth row of sample points 74, starting with the upper left-hand corner, as is conventionally done.<br>
For the blue sub-pixel calculation, x and y numbers must be odd, as there is only one blue sub-pixel per pairs of red and green sub-pixels. Again, the total of the coefficient weights is equal to a value of one.<br>
The weighting of the coefficients of the central area equation for the red sample point 35, which affects most of the image created, and applying to the central resample areas 52 is the process of binary shift division, where 0.5 is a one bit shift to the 'right", 0.25 is a two bit shift to the "right", and 0.125 is a three bit shift to the "right". Thus, the algorithm is extremely simple and fast, involving simple shift division and addition. For greatest accuracy and speed, the addition of the surrounding pixels should be completed first followed by a single three bit shift to the right, and then the single bit shifted oeniral value is added. However, the latter equations for the red and green sample areas at the edges and the comers involve more complex multiplications. On a small display (eg., a display having few total pixels), a more complex equation may be needed to ensure good image.quality display. For large images or displays, where a small error at the edges and comer may matter very little, a simplification may be made. For the simplification, the first equation for the red and green planes is applied at the edges and corners with the "missing* input data sample points over the edge of the image, such that input sample points 74 are set to equal<br>
16<br><br>
the coincident input sample point 74. Alternatively, the "missing" vaiues may be set to black. This algorithm may be implemented with ease in software, firmware, or hardware.<br>
It is important that the chromanance values be linearly additive, meaning that the sub-pixel rendering must be completed before gamma correction. The outputs of the above algorithm may feed into the gamma correction tables. If gamma correction is performed before sub-pixel rendering, unexpected chromanance errors are likely to occur,<br>
FIGS. 19 and 20 illustrate two alternative arrangements 100,102 of sample points 74 and their effective sample areas 72 of FIG. 15 overlaid on the blue color plane sampling areas 23 of FIGS. 8 and 9, in which the sample points 74 of HG. 15 are on the same spatial resolution grid and co-incident with the red and green "checker board" array of FIG. 7, HG. 8 illustrates the effective sub-pixel rendering sampling areas 123 that have the minimum boundary perimeters for the blue color plane sampling points 23 shown in FIG. 7 for the arrangement of emitters in FIG. 6.<br>
The method for calculating the coefficients proceeds as described above. The proportional overlap of output sample areas 123 in that overlap each input sample area 72 of F1G. 19 are calculated and used as coefficients in a transform-equation or filter kernel. These coefficients are multiplied by the sample values 74 in the following transform equation:<br><br>
A practitioner skilled in the art can' find ways to perform these calculations rapidly. For example, the coefficient 0.015625 is equivalent to a 6 bit shift to the right .In the case where sample points 74 of FIG. 15 axe on the same spatial resolution grid and co-incident with the red (red reconstruction points 25) and green (green reconstruction points 27) "checker board" array of FIG. 7, this minimum boundary condition area may lead to both added calculation burden and spreading the data across six sample 74 points.<br>
The alternative effective output sample area 124 arrangement 31 of FIG. 9 may be utilized for some applications or situations. For example, where the sample points 74 of FIG. 15 are on the same spatial resolution grid and co-incident with the red (red reconstruction points 25) and green (green reconstruction points 27) "checkcrtoard" array of FIG. 7t or where the relationship between input sample areas 74 and output sample areas is as shown in FIG. 20 the calculations are simpler. In the even columns, the formula for<br>
17<br><br>
calculating the blue output sample points 23 is identical to the formula developed above for FIG. 17, In the odd columns the calculation for FIG. 20 is as follows:<br><br>
As usual, the above calculations for FIGS. 19 and 20 are done for the general case of the central sample area 124. The calculations at the edges will require modifications to the transform formulae or assumptions about the values of sample points 74 off the edge of the screen, as described above.<br>
Turning now to FIG. 21, an array 104 of sample points 122 and their effective sample areas 120 for a prior art pixel data format is illustrated. FIG. 21 illustrates the red, green, and blue values that are on an equal spatial resolution grid and co-incident, however, it has a different image size than the image size illustrated in FIG. 15.<br>
FIG. 22 illustrates an array 106 of sample points 122 and their effective sample areas 120 of FIG. 21 overlaid on the red color plane sampling areas 50, 52, 53r and 54 of FIG. 13. The sample points 122 of FIG. 21 are not on the same spatial resolution grid, nor co-incident with the red (red reconstruction points 25, 35) and green (green reconstruction points 27, 37) "checker board" array of FIG. 7 or 11, respectively.<br>
In this arrangement of FIG. 22, a single simplistic transform equation calculation for each output sample 35 is not allowed. However, generalizing the method used to generate each of the calculation based on the proportional area covered is both possible and practical. This is true if for any given ratio of input to output image, especially those that are common is the industry as standards, there will be least common denominator ratios that will result in the image transform being a repeating pattern of cells. Further reductions in complexity occur doe to symmetry, as demonstrated above with the input and output arrays being coincident. When combined, the repeating three-color sample points 122 and symmetry results in a reduction of the number of sets of unique coefficients to a more manageable level.<br>
For example, the commercial standard display color image format called "VGA" (which used to stand for Video Graphics Adapter but now it simply means 640x480) has 640 columns and 480 rows. This format needs to be re-sampled or scaled to be displayed onto a panel of the arrangement shown k Fig. 10, which has 400 red sub-pixels 34 and 400 green sub-pixels 36 across (for a total of 800 sub-pixels across) and 600 total sub-pixels 34 and 36 dows. This results in an input pixel to output sub-pixel ratio of 4 to 5. The transfer<br>
18<br><br>
equations for each red sub pixel 34 and each green sub-pixel 36 can be calculated from the fractional coverage of the input sample areas 120 of FIG3.22 by the sample output areas 52. This procedure is similar to the development of the transfer equations for FIG. 18, except the transfer equations seem to be different for every single output sample point 35, Fortunately if you proceed to calculate all these transfer equations a pattern emerges. The same five transfer equations repeat over and over across a row, and another pattern of five equations repeat down each column. The end result is only 5x5 or twenty-five unique sets of equations for this case with a pixel to sub-pixel ratio of 4:5. This reduces the unique calculations to twenty-five sets of coefficients. In these coefficients, other patterns of symmetries can be found which reduce the total number of coefficient sets down to only six unique sets. The same procedure will produce an identical set of coefficients for the arrangement 20 of FIG. 6.<br>
The following is an example describing how the coefficients are calculated, using the geometric method described above. FIG. 32 illustrates a single 5x5 repeat cell 202 from the example above of converting a 640x480 VGA format image to a PenTile matrix with 800x600 total red and green sub pixels. Each of the square sub-pixels 204 bounded by solid lines 206 indicates the location of a red or green sub pixel that must have a set of coefficients calculated. This would require 25 sets of coefficients to be calculated, were it not for symmetry. FIG. 32 will be discussed in more detail later.<br>
FIG, 33 illustrates the symmetry in the coefficients. If the coefficients are written down in the common matrix form for filter kernels as used in the industry, the filter kernel for sub-pixel 216 would be a mirror image, flipped left-to-right of the kernel for sub-pixel 218. This is true for all the sub pixels on the right side of symmetry line 220, each having a filter kernel that is the mirror image of the filter kernel of an opposing sub-pixel. In addition, sub-pixel 222 has a filter kernel that is a mirror image, flipped top-to-bottom of the filter kernel for sub-pixel 218. This is also true of all the other filter kernels below symmetry line 224, each is the mirror image of an opposing sub-pixel filter. Finally, the filler kernel for sub-pixel 226 is a mirror image, flipped on a diagonal, of the filter for sub-pixel 228. This is true for all the sub-pixels on the upper right of symmetry line 230, their filters are diagonal mirror images of thc filters of the diagonal opposing sub-pixel filter. Finally, the filler kernels on the diagonal arc internally diagonally symmetrical, with identical coefficient values on diagonally opposite sides of symmetry line 230. An example of a complete set of filter kernels is provided further herein to demonstrate all these<br>
19<br><br>
symmetries in the filter kernels. The only filters that need to be calculated are the shaded in ones, sub-pixels 218,228,232, 234,236, and 238. In this case, with a repeat cell size of 5, the minimum number of filters needed is only six. The remaining filters can be determined by flipping the 6 calculated filters on different axes. Whenever the size of a repeat cell is odd, the formula for determining the minimum number of filters is:<br><br><br><br>
Where P is the odd width and height of the repeat cell, and Nfilts is the minimum<br>
number of filters required,<br>
FIG, 34 illustrates an example of the case where the repeat cell-size is eves. The only filters that need to be calculated are the shaded in ones, sub-pixels 240,242, and 244. In this case with a repeat cell size of 4 only three filters must be -calculated. Whenever the size of the repeat cell is even, the general formula for determining the minimum number of filters is:<br><br>
Where P is the even width and height of the repeat cell, and Neven is the minimum<br>
number of filters required.<br>
Returning to FIG. 32, the rendering boundary 208 for the central sub-pixel 204 encloses an area 210 that overlaps four of the original pixel sample areas 212. Each of these overlapping areas is equal, and their coefficients must add up to one, so each of them is 1 /4 or 0.25. These are the coefficients for sub-pixel 238 in FIG. 33 and the 2x2 filter kernel for this case would be:<br><br>
The coefficients for sub-pixel 218 in FIG. 33 are developed in FIG. 35. This sub-pixel 218 is bounded by a rendering area 246 that overlaps five of the surrounding input pixel sample areas 248. Although this sub-pixel is in the upper left corner of a-repeat cell, it<br>
20<br><br>
is assumed for the sake of calculation that there is always another repeat cell past the edge with additional sample areas 248 to overlap. These calculations are completed for the general case and the edges of the display will be handled with a different method as described above. Because rendering area 246 crosses three sample areas 248 horizontally and three vertically, a 3x3 filter kernel will be necessary to hold all the coefficients. The coefficients are caJculated as described before: the area of each input sample area covered by rendering area 246 is measured and then divided by the total area of rendering area 246. Rendering area 246 does not overlap the upper left, upper right, lower left, or lower right sample areas 248 at all so their coefficients are zero. Rendering area 246 overlaps the upper center and middle left sample areas 248 by 1 /8th of the total area of rendering area 246, -so their coefficients are 1/8th. Rendering area 246 overlaps the center sample area 248 by the greatest proportion, which is 11/16th. Finally rendering area 246 overlaps the middle right and bottom center sample areas 248 by the smallest amount of 1/32"*. Putting these all in order results in the following coefficient filter kernel:<br><br>
Sub-pixel 232 from FIG. 33 is illustrated in FIG. 36 with its rendering area 250 overlapping five sample areas 252. As before, the portions of the area of rendering area 250 that overlap each of the sample areas 252 are caJculated and divided by the area of rendering area 250. In this case, only a 3x2 filter kernel would be necessary to hold all the coefficients, but for consistency a 3x3 will be used. The filter kernel for FK3. 36 would be:<br><br>
Sub-pixel 234 from FIG. 33 is illustrated in FIG. 37 with its rendering area 254 overlapping sample areas 256. The coefficient calculation for this would result in the Following kernel:<br>
21<br><br><br>
Sub-pixel 228 from FIG. 33 is illustrated in FIG. 38 with its rendering area 258 overlapping sample areas 260. The coefficient calculations for this case would result in the following kernel:<br><br>
Finally, sub-pixel 236 from FIG. 33 is illustrated in FIG. 39 with its rendering area 262 overlapping sample areas 264. The coefficient calculations for this case would result in the following kernel:<br><br>
This concludes all the minimum number of calculations necessary for the example with a pixel to sub-pixel ratio of 4:5. All the rest of the 25 coefficient sets can be constructed by flipping the above six filler kernels on different axes, as described with FK3, 33.<br>
For the purposes of scaling the filter kernels must always sum to one or they will effect the brightness of the output image. This is true of all six filter kernels above. However, if the kernels were actually used in this form the coefficients values would all be fractions and require floating point arithmetic. It is common in the industry to multiply all the coefficients by some value that converts them all to integers. Then integer arithmetic can be used to multiply input sample values by the filter kernel coefficients, as long as the total is divided by the same value later. Examining the filter kernels above, it appears that 64 would be a good number to multiply all the coefficients by. This would result in the following filler kernel for sub-pixel 218 from FIG. 35:<br>
22<br><br><br>
(divided by 64)<br>
All the other filter kernels in this case can be similarly modified to convert them to integers for ease of calculation. It, is especially convenient when the divisor is a power of two, which it is in this case. A division by a power of two can be completed rapidly in software or hardware by shifting the result to the right. In this case, a shift to the right by 6 bits will divide by 64.<br>
In contrast, a commercial standard display color image format called XGA (which used to stand for Xtended Graphics Adapter but now simply means 1024x768) has 1024 columns and 768 rows. This format can be scaled to display on an arrangement 38 of FIG. 3 0 that has 1600 by 1200 red and green emitters 34 and 36 (plus 800 by 600 blue emitters 32), The scaling or re-sampling ratio of this configuration is 16 to 25, which results in 625 unique sets of coefficients. Using symmetry in the coefficients reduces the number to a more reasonable 91 sets. But even this smaller number of filters would be tedious to do by hand, as described above. Instead a computer program (a machine readable medium) can automate this task using a machine (e.g., a computer) and produce the sets of coefficients quickly. In practice, this program is used once to generate a table of filter kernels for any given ratio. Then that table is used by scaling/rendering software or burned into the ROM (Read Only Memory) of hardware that implements scaling and sub-pixel rendering.<br>
The first step that the filter generating program must complete is calculating the scaling ratio and the size of the repeat cell. This is completed by dividing the number of input pixels and the number of output sub-pixels by their GCD (Greatest Common Denominator). This can also be accomplished in a small doubly nested loop. The outer loop tests the two numbers against a series of prime numbers. This loop should run until it has tested primes as high as the square root of the smaller of the two pixel counts. In practice with typical screen sizes it should never be necessary to test against primes larger than 41. Conversely, since ihis algorithm is intended for generating filter kernels "offline*' ahead of time, the outer loop could simply run for all numbers from 2 to some ridiculously large number, primes and non-primes. This may be wasteful of CPU time, because it would do<br>
23<br><br>
 more tests than necessary, but the code would only be run once for a particular-combination of input and output screen sizes.<br>
An inner loop tests the two pixel counts against the current prime. If both counts are evenly divisible by the prime, then they are both divided by that prime and the inner loop continues until it is not possible to divide one of the two numbers by that prime again. When the outer loop terminates, the remaining small numbers will have effectively been divided by the GCD. The two numbers will be the "scale ratio" of the two pixel counts.<br>
Some typical values: 320:640 becomes 1:2 384:480 becomes 4:5 512:640 becomes 4:5 480:768 becomes 5:8 640:1024 becomes     5:8<br>
These ratios will be referred to as the pixel to sub-pixel or P:S ratio, where P is the input pixel numerator and S is the sub-pixel denominator of the ratio. The number of filter kernels needed across or down a repeat cell is S in these ratios. The total number of kernels needed is the product of the horizontal and vertical S values. In almost all the common VGA derived screen sizes the horizontal and vertical repeat pattern sizes will turn out to be identical and the number of filters required will be S2. From the table above, a 640x480 image being scaled to a 1024x768 PenTile matrix has a P:S ratio of 5:8 and would require 8x8 or 64 different filter kernels (before talcing symmetries into account).<br>
In a theoretical environment, fractional values that add up to one are used in a filter kernel In practice, as mentioned above, filter kernels are often calculated as integer values with a divisor that is applied afterwards to normalize the total back to one. It is important to start by calculating the weight values as accurately as possible, so the rendering areas-can be calculated in a co-ordinate system large enough to assure all the calculations arc integers. Experience has shown that the correct co-ordinate system to use in image scaling situations is one where the size of an input pixel is equal to the number of output sub pixels across a repeat cell, which makes the size of an output pixel equal the number of input pixels across a repeat cell. This is counter-intuitive and seems backwards. For example, in the case of scaling 512 input pixels to 640 with a 4:5 P:S ratio, you can plot the input pixeis on graph paper as 5x5 squares and the output pixels on top of them as 4x4 squares. This is the smallest scale at which both pixels can be drawn, while keeping all the numbers integers. In<br>
24<br><br>
this co-ordinate system, the area of the diamond shaped rendering areas centered over the output sub-pixels is always equal to twice the area of an output pixel or 2*Pa. This is the minimum integer value that can be used as the denominator of filter weight values.<br>
Unfortunately, as the diamond falls across several input pixels, it can be chopped into triangular shapes. The area of a triangle is the width times the height divided by two and this can result in Don-integer values again. Calculating twice the area solves this problem, so the program calculates areas multiplied by two. This makes the minimum useful integer filter denominator equal to 4*PNext it is necessary to decide how large each filter kernel must be. In the example completed by hand above, some of the filter kernels were 2x2, some were 3x2 and others were 3x3. Tbe relative sizes of the input and output pixels, and how the diamond shaped rendering areas can cross each other, determine the maximum filter kernel size needed. When scaling images from sources that have more than two output sub-pixels across for each input pixel (e.g., 100:201 or 1:3), a 2x2 filler kernel becomes possible. This would require less hardware to implement. Further the image quality is better than prior art scaling since the resulting image captures the "square-ness*' of the implied target pixel, retaining spatial frequencies as best as is possible, represented by the sharp edges of many flat panel displays. These spatial frequencies are used by font and icon designers to improve the apparent resolution, cheating the Nyquist limit well known in the art. Prior an scaling algorithms either limited the scaled spatial frequencies to the Nyquist limit using interpolation, or kept the sharpness, but created objectionable phase error.<br>
When scaling down there are more input pixels than output sub-pixels. At any scale factor greater than 1:1 (e.g., 101:100 or 2:1) the filter size becomes4x4 or larger. It will be difficult to convince hardware manufacturers to add more line buffers to implement this. However, staying within the range of 1:1 and 1:2 has the advantage that the kernel size stays<br>
     at a constant 3x3 filter. Fortunately, most of the cases that will have to be implemented in hardware fall within this range and it is reasonable to write the program to simply generate 3x3 kernels. In some special cases, like the example done above by hand, some of the filter kernels will be smaller than 3x3. In other special cases, even though it is theoretically possible for the filter to become 3x3, it turns out that every filter is only 2x2. However, it is<br>
    easier to calculate the kernels for the general case and easier to implement hardware with a fixed kernel size.<br>
25<br><br>
26<br>
Finally, calculating the kernel filter weight values is now merely a task of calculating the areas (times two) of the 3x3 input pixels that intersect the output diamond shapes at each unique (non symmetrical) location in the repeat cell. This is a very straightforward "rendering" task that is well known in the industry. For each filter kernel, 3x3 or nine coefficients are calculated. To calculate each of the coefficients, a vector description of the diamond shaped rendering area is generated. This shape is clipped against the input pixel area edges. Polygon clipping algorithms that are well known in the industry are used. Finally, the area (times two) of the clipped polygon is calculated. The resulting area is the coefficient for the corresponding cell of the filter kernel. A sample output from this program is shown below: Source pixel resolution 1024 Destination sub-pixel resolution 1280 Scaling ratio is 4:5 Filter numbers are all divided by 256 Minimum filters needed (with symmetries): 6 Number of filters generated here (no symmetry): 25<br><br><br>
In the above samplc output, all 25 of the filter kernels necessary for this case are calculated, without taking symmetry into account. This allows for the examination of the coefficients and to verify visually that there is a horizontal, vertical, and diagonal symmetry in the filter kernels in these repeat cells. As before, edges and corners of the image may be treated uniquely or may be approximated by filling in the "missing" input data sample with the value of either the average of the others, the most significant single contributor, or black. Each set of coefficients is used in a filter kernel, as is well known in the art. Keeping track of the positions and symmetry operators is a task for the software or hardware designer using modulo math techniques, which are also well known in the art. The task of generating the coefficients is a simple matter of calculating the proportional overlap areas of the input sample area 120 to output sample area 52 for each sample corresponding output sample point 35, using means known in the art.<br>
FIG. 23 illustrates an array 108 of sample points 122 and their effective sample areas 120 of FIG. 21 overlaid on the blue color plane sampling areas 44 of FIG. 12, in which the sample points 122 of FIG. 21 are not on the same spatial resolution grid, nor co-incident with the red and green "checker board" array of FIG. 11. The method of generating the transform equation calculations proceed as described earlier. First, the size of the repeating array of three-color pixel elements is determined, next the minimum number of unique coefficients is determined, and then the values of those coefficients by the proportional overlap of input sample areas 120 to output sample areas 44 for each corresponding output sample point 46 is determined. Each of these values are applied to the transform equation. The array of repeating three-color pixel elements and resulting number of coefficients is the same number as that determined for the red and green planes.<br>
FIG. 24 illustrates the array 110 of sample points and their effective sample areas of FIG. 21 overlaid on the blue color plane sampling areas 123 of FIG. 8, in which the sample points 122 of FIG. 21 are not on the same spatial resolution grid nor co-incident with the red (red reconstruction points 35) and green (green reconstruction points 37) "checker board" array of FIG. 11. The method of generating the transform equation calculations procoeds as described above. First, the size of the repealing array of three-color pixel elements is determined. Next, the minimum number of unique coefficients is determined, and then the values of those coefficients by the proportional overlap of input sample areas 120 to output sample areas 123 for each corresponding output sample point 23 is determined. Each of these values are applied to the transform equation.<br>
27<br><br>
The preceding has examined the RGB format for CRT. A conventional RGB flat panel display arrangement 10 has red 4, green 6, and blue 2 emitters arranged in a three-color pixel element 8, as in prior art FIG. 1. To project an image formatted according to this arrangement onto the three-color pixel element illustrated in FIG. 6 or in FK3. 10, the reconstruction points must be determined. The placement of the red, green, and blue reconstruction points is illustrated in the arrangement 12 presented in prior art FIG. 2. The red, green, and blue reconstruction points are not coincident with each other, there is a horizontal displacement. According prior art disclosed by Benzschawel, et al. in U.S. Patent No. 5,341,153, and Jater by Hill, el al. in U.S. Patent No. 6,188,385, these locations are used as sample points 3, 5, and 7 with sample areas, as shown in prior art FIG. 3 for the red color plane 14, in prior art FIG. 4 for the blue color plane 16, and prior an FIG. 5 for the green color plane 18.<br>
A transform equation calculation can be generated from the prior art arrangements presented in FIGS. 3,4, and 5 from the methods disclosed herein. The methods that have been outlined above can be utilized by calculating the coefficients for the transform equations, or filter kernels, for each output sample point of the chosen prior art arrangement. FIG. 25 illustrates the effective sample area 125 of the red color plane of FIG. 3 overlaid on the red color plane sampling areas 52 of FIG. 13, where the arrangement of red emitters 35 in RG. 25 has the same pixel level (repeat unit) resolution as the arrangement in RG. 6 and FIG. 10. The method of generating the transform equation calculations proceeds as described above. First, the size of the repeating array of three-color pixel elements is determined. The minimum number of unique coefficients are then determined by noting the symmetry (in this case: 2). Then, then the values of those coefficients, by the proportional overlap of input sample areas 125 to output sample areas 52 for each-corresponding output sample point 35 is determined. Each of these values are applied to the transform equation. The calculation for the resampling of the green color plane, as illustrated in FIG. 4, proceeds in a similar manner, but the output sample array is rotated by 180° and (he green input sample areas 127 arc offset. FIG. 26 illustrates the effective sample areas 127 of the blue color plane of prior an FIG. 4 overlaid on the blue color plane sampling areas 123 of FIG. 8.<br>
FIG. 40 illustrates an example for blue that corresponds to the red and green exmplc in FIG. 32. Sample area 266 in FIG. 40 is a square instead of a diamond as in the red and green example. The number of original pixel boundaries 272 is the same, but there are fewer blue output pixel boundaries 274. The coefficients are calculated as described before; the<br>
28<br><br>
area of each input sample area 268 covered by rendering area 266 is measured and then divided by the total area of rendering area 266. In this example, the blue sampling area 266 equally overlaps four of the original pixel areas 268, resulting in a 2x2 filter kernel with four coefficients of 1/4. The eight other blue output pixel areas 270 and their geometrical intersections with original pixel areas 268 can be seen in FIG. 40. The symmetrical relationships of the resulting filters can be observed in the symmetrical arrangements of original pixel boundaries 274 in each output pixel area 270.<br>
In more complicated cases, a computer program is used to generate blue filter kernels. This program turns out to be very similar to the program for generating red and green filler kernels. The blue sub-pixel sample points 33 in FIG. 11 are twice as far apart as the red and green sample points 35, 37, suggesting that the blue rendering areas will be twice as wide. However, the rendering areas for red and green are diamond shaped and are thus twice as wide as the spacing between the sample points. This makes the rendering areas of red and green and blue the same width and height which results in several convenient numbers; the size of the filler kernels for blue will be identical to the ones for red and green. Also the repeat cell size for blue will generally be identical to the repeat cell size for red and green. Because the blue sub-pixel sample points 33 are spaced twice as far apart, the P:S (pixel to sub-pixel) ratio is doubled. For example, a ratio of 2:3 for red becomes 4:3 for blue. However, it is the S number in this ratio that determines the repeat cell size and that is not changed by doubling. However, if the denominator happens to be divisible by two, there is an additional optimization that can be done. In that case, the two numbers for blue can be divided by an additional power of two. For example, if the red and green P:S ratio is 3:4, then the blue ratio would be 6:4 which can be simplified to 3:2. This means that in these (even) cases the blue repeat cell size can be cut in half and the total number of filter kernels required will be one quarter that of red and green. Conversely, for simplicity of algorithms or hardware designs, it is possible to leave the blue repeat cell size identical to that of red and green. The resulting scl of filter kernels will have duplicates (quadruplicates, actually) but will work identically to the red and green set of filter kernels.<br>
Therefore, the only modifications necessary to take the red and green filter kernel program and make it generate blue filter kernels was to doable the numerator of the P:S ratio and change the rendering area to a square instead of a diamond.<br>
Now consider the arrangement 20 of FIG. 6 and the blue sample areas 124 of FIG. 9. This is similar to the previous example in that the blue sample areas 124 are squares.<br>
29<br><br>
However, because every other column of them are staggered half of their height up or down, the calculations are complicated. At first glance it seems that the repeat cell size will be doubled horizontally. However the following procedure has been discovered to produce the correct filter kernels:<br>
1)	Generate a repeat cell set of filter kernels as if the blue sample points are not<br>
staggered, as described above. Label the columns and rows of the table of filters for<br>
the repeat cell with numbers starting with zero and ending at the repeat cell size<br>
minus one.<br>
2)	On the even columns in the output image, the filters in the repeat cell are correct as<br>
is. The modulo in the repeat cell size of the output Y co-ordinate selects which row<br>
of the filter kernel set to use, the modulo in the repeat cell size of the X-co-ordinate<br>
selects a column and tells which filter in the Y selected row to use.<br>
3)	On the odd output columns, subtract one from the Y co-ordinate before taking the<br>
modulo of it (in the repeat cell size). The X co-ordinaie is treated the same as the<br>
even columns. This will pick a falter kernel that is correct for the staggered case of<br>
FIG. 9.<br>
In some cases, it is possible to perform the modulo calculations in advance and pre-stagger the table of filter kernels. Unfortunately this only works in the case of a repeat cell with an even number of columns. If the repeat cell has an odd number of columns, the modulo arithmetic chooses the even columns half the time and the odd ones the other half of the time. Therefore, the calculation of which column to stagger must be made at the time that the table is used, not beforehand.<br>
Finally, consider the arrangement 20 of FIG. 6 and the blue sampling areas 123 of FIG. 8. This is similar to the previous case with the additional complication of hexagonal sample areas. The first step concerning these hexagons is how to draw them correctly or generate vector lists of them in a computer program. To be most accurate, these hexagons must be minimum area hexagons, however they will not be regular hexagons. A geometrical proof can easily be completed to illustrate in FIG. 41 that these hexagon sampling areas 123 of FIG. 8 art 1/8 wider on each side than the square sampling areas 276. Also, the top and bottom edge of the hexagon sampling areas 123 are 1/8 narrower on each end than the lop and bottom edge of the square sampling areas 276. Finally, note that the hexagon sampling areas 123 are the same height as the square sampling areas 276.<br>
30<br><br>
Filter kernels for these hexagonal sampling areas 123 can be generated in the same geometrical way as was described above, with diamonds for red and green or squares for blue. The rendering areas are simply hexagons and the area of overlap of these hexagons with the surrounding input pixels is measured. Unfortunately, when using the slightly wider hexagonal sampling areas 123, the size of the filter kernels sometimes exceeds a 3x3 filter, even when staying between the scaling ratios of 1:1 and 1:2. Analysis shows that if the scaling ratio is between 1:1 and 4:5 the kernel size will be 4x3. Between scaling ratios of 4:5 and 1:2, the filter kernel size will remain 3x3. (Note that because the hexagonal sampling areas 123 are the same height as the square sampling areas 276 the vertical size of the filter kernels remains the same).<br>
Designing hardware for a wider filter kernel is not as difficult as it is to build hardware to process taller filter kernels, so it is not unreasonable to make 4x3 filters a requirement for hardware based sub-pixel rendering/scaling systems. However, another solution is possible. When the scaling ratio is between 1:1 and 4:5 the square sampling areas 124 of FIG. 9 are used, which results in 3x3 filters. When the scaling ratio is between 4:5 and 1:2, the more accurate hexagonal sampling areas 123 of FIG. 8 are used and 3x3 filters are also required. In this way, the hardware remains simpler and less expensive to build. The hardware only needs to be built for one size of filter kernel and the algorithm used to build those fillers is the only thing that changes.<br>
Like the square sampling areas of FIG. 9, the hexagonal sampling areas of FIG. 8 are staggered in every other column. Analysis has shown that the same method of choosing the filter kernels described above for FIG. 9 will work for the hexagonal sampling areas of FIG. 8. Basically this means that the coefficients of the filter kernels can be calculated as if the hexagons are not staggered, even though they always are. This makes the calculations easier and prevents the table of filler kernels from becoming twice as big.<br>
In the case of the diamond shaped rendering areas of FK3S. 32 through 39, the areas were calculated in a co-ordinate system designed to make all areas integers for ease of calculation. This occasionally resulted in large total areas and filler kernels that had to be divided by large numbers while in use. Sometimes this resulted in filter kernels that were not powers of two, which made the hardware design more difficult In the case of FIG. 41, the extra width of the hexagonal rendering areas 123 will make it necessary to multiply the coefficients of the filter kernels by even larger numbers to make them all integers. In all of these cases, it would be better to find a way to limit the size of the divisor of the filler kernel<br>
31<br><br>
 coefficients. To make the hardware easier to design, it would be advantageous to be able to pick the divisor to be a power of two. For example if all the filter kernels were designed to be divided by 256, this division operation could be performed by an eight bit right shift operation. Choosing 256 also guarantees that all the filter kernel coefficients would be 8-bit values that would fit in standard "byte wide" read-Only-memories {ROMs). Therefore, the following procedure is used to generate filter kernels with a desired divisor. Since the preferred divisor is 256, it will be utilized in the following procedure.<br>
1)	Calculate the areas for the filler coefficients using floating point arithmetic. Since<br>
this operation is done off-line beforehand, this does not increase the cost of the<br>
hardware that uses the resulting tables.<br>
2)	Divide each coefficient by the known total area of the rendering area, ihen multiply<br>
by 256. This will make the filter sum to 2S6 if all arithmetic is done in floating<br>
point, but more steps are necessary to build integer tables.<br>
3)	Do a binary search to find the round off point (between 0.0 and 1.0) that makes the<br>
filter total a sum of 256 when converted to integers. A binary search is a common<br>
algorithm well known in the industry. If this search succeeds, you are done. A<br>
binary search can fail to converge and this can be detected by testing for the loop<br>
running an excessive number of times.<br>
4)	If the binary search fails, find a reasonably large coefficient in the filter kernel and<br>
add or subtract a small number to force the filter to sum to 256.<br>
5)	Check the filter for the special case of a single value of 256. This value will not fit in<br>
a table of 8-bit bytes where the largest possible number is 255. In this special case,<br>
set the single value to 255 (256-1) and add 1 to one of the surrounding coefficients to<br>
guarantee that the filter still sums to 256.<br>
FIG. 31 illustrates the output sample arrangement 40 of FIG. 11 overlaid on top of the input sample arrangement 70 of FIG. 15 in the special case when the scaling ratio is one input pixel for each two output sub pixels across. In this configuration 200, when the original data has not been sub-pixel rendered, the pairs of red emitters 35 in the throe color pixel element 39 would be treated as though combined, with a represented reconstruction point 33 in the center of the three color pixel element 39. Similarly, the two green emitters 37 in the three-color pixel element 39 are treated as being a single reconstruction point 33 in the center of the three-color pixel element 39. The blue emitter 33 is already in lhe-ccnter. Thus, the five emitters can be treated as though they reconstructed the RGB data format<br>
32<br><br>
osample points, as though all three color planes were in the center. This may be considered the "Native Mode" of this arrangement of subpixels.<br>
By resampling, via subpixel rendering, an already sub-pixel rendered image onto another sub-pixeled display with a different arrangement of subpixels, much of the improved image quality of the original is retained. According to one embodiment, it is desirable to generate a transform from this sub-pixel rendered image to the arrangements disclosed herein. Referring to Figures 1,2, 3, 4, 5, 25, and 26 the methods that have been outlined above will serve, by calculating the coefficients for the transform filters for each output sample point 35, shown in FIG. 25, of the target display arrangement with respect to the rightward displaced red input sample 5 of FIG. 3. The blue emitter is treated as indicated above, by calculating the coefficients for the transform filters for each output sample point of the target display arrangement with respect to the displaced blue input sample 7 of FIG. 4.<br>
In a case for the green color plane, illustrated in FIG. 5, where the input data has been sub-pixel rendered, no change need be made from the non-sub-pixel rendered case since the green data is still centered.<br>
When applications that use subpixel rendered text are included along-side non-subpixel rendered graphics and photographs, it would be advantageous to detect the subpixel rendering and switch on the alternative spatial sampling filter described above, but switch back to the regular, for that scaling ratio, spatial sampling filter for non-subpixel rendered areas, also described in the above. To build such a detector we first must understand what subpixel rendered text looks like, what its detectable features are, and what sets it apart from non-subpixel rendered images. Fast, the pixels at the edges of black and white subpixel rendered fonts will not be locally color neutral: That is R = G. However, over several pixels the color will be neutral; That is R = G. With non-subpixel rendered images or text, these two conditions together do not happen. Thus, we have our detector, test for local R =G and R = G over several pixels.<br><br>
Since subpixel rcniiering on an RGB stripe panel is one dimensional, along the horizontal axis, row by row, the test is one dimensional. Shown below is one such test: If R,=G. and If Ra-2 + Ra-1, + R2 + Ra-1 + Ra+2 = Ga-2 + Ga-1+Ga + G^ + G^<br>
Or<br>
Then apply alternative spatial filter for subpixel rendering input<br>
33<br>
if R..t ? R. ? R~. ? R~, s 
33<br><br>
Else apply regular spatial filter<br>
For the case where the text is colored there will be a relationship between the red and green components of the form Rx = aGx, where "a" is a constant. For black and white text "a" has the value of one. The test can be expanded to detect colored as well as black and white text:<br><br>
Then apply alternative spatial filter for subpixel rendering input Else apply regular spatial filter<br>
Rx and GX represent the values of the red and green components at the "'x" pixel column coordinate.<br>
There may be a threshold test to determine if R - G close enough. The value of which may be adjusted for best results. The length of terms, the span of the test may be adjusted for best results, but will generally follow the form above.<br>
FIG. 27 illustrates an arrangement of three-color pixel elements in an array, in three planes, for a display device according to another embodiment. FIG. 28 illustrates the arrangement of the blue emitter pixel elements in an array for the device of FIG. 27. FIG. 29 illustrates the arrangement of the green emitter pixel elements in an array for the devioe of FIG. 27. FIG. 30 illustrates the arrangement of the red emitter pixel elements in an array for the device of FIG. 27. This arrangement and layout is useful for projector based displays that use three panels, one for each red, green, and blue primary, which combine the images of each to project on a screen. The emitter arrangements and shapes match closely to those of FIGS. 8, 13, and 14, which are the sample areas for the arrangement shown in FK3. 6. Thus, the graphics generation, transform equation calculations and data formats, disclosed herein, for the arrangement of FIG. 6 will also work for the three-panel arrangement of FK5. 27.<br>
For scaling ratios above approximately 2:3 and higher, the subpixel rendered resampled daia set for the PenTile™ matrix arrangements of subpixels is more efficient at representing the resulting image. If an image to be stored and/or transmitted is expected to be displayed onto a PenTile™ display and the scaling ratio is 2:3 or higher, it is<br>
34<br><br>
advantageous to perform the resampling before storage and/or transmission to save on memory storage space and/or bandwidth. Such an image that has been resampled is called *iprerendered". This prerendering thus serves as an effectively lossless compression algorithm.<br>
The advantages of this invention are being able to take most any stored image and rerender it onto any practicable color subpixel arrangement.<br>
While the invention has been described wiih reference to an exemplary embodiment, it will be understood by those skilled in the art that various changes may be made and equivalents may be substituted for elements thereof without departing from the scope of the invention. In addition, many modifications may be made to adapt a particular situation or material to the teachings without departing from the essential scope thereof. Therefore, it is intended that the invention not be limited to the particular embodiment disclosed as the best mode contemplated for carrying out this invention, but that the invention will include all embodiments falling within the scope of the appended claims.<br>
What is claimed is:<br><br>
CLAIMS<br>
1.	A method of convening a source pixel data of a first format having a plurality<br>
of three-color pixel elements for a display of a second format having a plurality of three-<br>
color pixel elements, comprising:<br>
determining implied sample areas in a form of a data value for each data point of each color in said source pixel data of said first format;<br>
determining resample areas for each emitter of each color in the display;<br>
forming a set of fractions for each said r-esample area whose denominators are a function of said resample area and whose numerators are said function of an area of each of said implied sample areas that ai least partially overlaps said resample areas;<br>
multiplying said data value for each said implied sample area by its respective said fraction resulting in a product; and<br>
adding each said product together to obtain luminance values for each said resampte area.<br>
2.	The method of Claim 1, further comprising storing said set of fractions of<br>
said first format in display hardware.<br>
3.	The method of Claim 1, further comprising storing said set of fractions of<br>
said first format in display software.<br>
4.	The method of Claim 1, further comprising storing said set of fractions of<br>
said first format in display firmware.<br>
5.	The method of Claim 1, further comprising driving the display with said<br>
luminance values.<br>
6.	The method of Claim 1, further comprising storing said luminance values.<br>
7.	The method of Claim 1, further comprising transmitting said luminance<br>
values.<br>
	8.       The method of Claim 1, wherein said data of said first format has one-half as<br>
many said three-color pixel elements horizontally and vertically as the display of said second<br>
format.<br>
9.        The method of Claim 1, wherein the display is selected from the croup<br>
comprising liquid crystal displays, subtractive displays, OLEDs, electrophoretk displays, 5      field emitter displays, discrete light emitting diode displays, plasma panel displays, EL<br>
displays, projectors, and cathode ray tube displays.<br>
36<br><br>
10.	A method of convening a source pixel data of a first format for a display of a<br>
second format having a plurality of three-color pixel elements, comprising:<br>
determining implied sample areas for each data point of each color in said source pixel data of said first format;<br>
determining resample areas for each emitter of each color in the display;<br>
determining for each said resample area a percentage overlap area of each overlapping said implied sample area with said resarnple area to obtain data values; and<br>
multiplying said data values for each said implied sample area by said percentage overlap area resulting in a product; and<br>
adding each said product together to obtain luminance values for each said resample area.<br>
11.	The method of Claim 10, further comprising storing said set of fractions of<br>
said first format in display hardware.<br>
12.	The method of Claim JO, further comprising storing said set of fractions of<br>
said first format in display software.<br>
13.	The method of Claim 10, further comprising storing said set of fractions of<br>
said first format in display firmware.<br>
14.	The method of Claim 10, further comprising driving the display with said<br>
luminance values.<br>
15.	The method of Claim 10, further comprising storing said luminance values.<br>
16.	The method of Claim 10, further comprising transmitting said luminance<br>
values.<br>
17.	The method of Claim 10, wherein said data of said first format has one-half<br>
as many said three-color pixel elements horizontally and vertically as the display of said<br>
second format.<br>
18.	The method of Claim 10, wherein the display is selected from the group<br>
comprising liquid crystal displays, subtractive displays, plasma panel displays, EL displays,<br>
OLEDs, elcctropborctic displays, field emitter displays, discrete light emitting diode<br>
displays, projectors, and cathode ray tube displays.<br>
19.	A method of determining implied sample areas for each data point of each<br>
color in a source pixel data of a first format for a display of a second format having a<br>
plurality of three-color pixel elements, comprising:<br>
37<br><br>
determining a geometric center of each emitter of each said three-color pixel element of said first format to define sampling points;<br>
defining each said implied sample area by lines that are formed equidistant between said geometric center of said emitter of one said three-color pixel element and said geometric center of another same color said emitter of a neighboring said three-color pixel element; and<br>
forming a grid of said lines.<br>
20.	The method of Claim 1 9, wherein said grid of said lines is disposed in a tiling<br>
pattern.<br>
21.	The method of Claim 20, wherein said tiling pattern is selected from the<br>
group comprising squares, rectangles, triangles, hexagons, octagons, diamonds, staggered<br>
squares, staggered rectangles, staggered triangles, Penrose tiles, rhombuses, distorted<br>
rhombuses, and staggered diamonds.<br>
22.	A method of determining resample areas for each data point of each color in a<br>
source pixel data of a first format for a display of a second format having a plurality of three-<br>
color pixel elements, comprising:<br>
determining a geometric center of each emitter of each said three-color pixel element;<br>
defining each said resample area by lines that are formed equidistant between said geometric center of said emitter of one said three-color pixel element and said geometric center of another same color said emitter of a neighboring said three-color pixel element; and<br>
forming a grid of said lines.<br>
23.	The method of Claim 22, wherein said grid of said lines is disposed in a tiling<br>
pattern.<br>
	24.      The method of Claim 23, wherein said tiling pattern is selected from the<br>
group comprising squares, rectangles, triangles, hexagons, octagons, diamonds, staggered squares, staggered rectangles, staggered triangles, Penrose tiles, rhombuses, distorted rhombuses, and staggered diamonds.<br>
25.      A method of limiting filter kernel divisors in a filter kernel to a value      designed to simplify hardware implementations, comprising:<br>
calculating areas for filter coefficients using floating point arithmetic;<br>
38<br><br>
dividing each said filter coefficient by a total area of a rendering area to receive a first product;<br>
multiplying said first product by a divisor to produce a filter sum; completing a binary search to find a round off point for said filter sum; and convening said filter sum to integers.<br>
26.	The method of Claim 25, wherein said divisor is 256.<br>
27.	The method of Claim 25, further comprising using a coefficient in said filter<br>
kernel and adding a number to force said filter sum to equal said divisor.<br>
28.	The method of Claim 25, further comprising using a coefficient in said filter<br>
kernel and subtracting a number to force said filter sum to equal said divisor.<br>
29.	A method of operating spatial sampling filters, comprising:<br>
detecting subpixel rendered areas;<br>
Turning on a fust set of spatial sampling filters for said subpixel rendered areas in response to said detecting subpixel rendered areas;<br>
detecting non-subpixel rendered areas; and<br>
turning on a second set of spatial sampling filters for said non-subpixel rendered areas in response to said defecting non-subpixel rendered areas.<br>
30.	The method of Claim 29, wherein said detecting subpixel rendered areas<br>
comprises wherein<br>
R is a value of red, G is a value of green, and x is a pixel position in a row of pixels.<br>
31.	The method of Claim 29, wherein said detecting subpixel rendered areas<br>
compriseswherein ft is a value<br>
of red, G is a value of green, and x is a pixel position in a row of pixels.<br>
32.	The method of Claim 29, wherein said detecting subpixel rendered areas<br>
comprises <br>
wherein R is a value of red, G is a value of green, a is a constant, and x is a pixel position in a row of pixels.<br>
33.	The method of Claim 29, wherein said detecting subpixel rendered areas<br>
compriseswherein R h a<br>
value of red, G is a value of green, a is a constant, and x is a pixel position ID a row of pixels.<br>
34.	A machine readable medium tangibly embodying a set of instructions<br>
executable by a machine for performing a method of converting a source pixel data of a first<br>
39<br><br>
format having a plurality of three-color pixel elements for a display of a second format having a plurality of three-color pixel elements, said method comprising:<br>
determining implied sample areas in a form of a data value for each data point of each color in said source pixel data of said first format;<br>
determining resample areas for each emitter of each color in the display;<br>
forming a set of fractions for each said resample area whose denominators are a function of said resample area and whose numerators are said function of an area of each of said implied sample areas that at least partially overlaps said resainple areas;<br>
multiplying said data value for each said implied sample area by its respective said fraction resulting in a product; and<br>
adding each said product together to obtain luminance values for each said resample arca.<br>
35.	The device of Claim 34, further comprising storing said set of fractions of<br>
said first format in display hardware.<br>
36.	The device of Claim 34, further comprising storing said set of fractions of<br>
said first format in display software.<br>
37.	The device of Claim 34, further comprising storing said set of fractions of<br>
said first format in display firmware.<br>
38.	The device of Claim 34, further comprising driving the display with said<br>
luminance values.<br>
39.	The device of Claim 34, further comprising storing said luminance values.<br>
40.	The device of Claim 34, further comprising transmitting said luminance<br>
values.<br>
41.	The device of Claim 34, wherein said data of said first format has one-half as<br>
many said three-color pixel elements horizontally and vertically as the display of said second<br>
format.<br>
42.	The device of Claim 34, wherein the display is selected from the group<br>
comprising liquid crystal displays, subtractive displays, OLEDs, elcctrophoretic displays,<br>
field emitter displays, discrete light emitting diode displays, plasma panel displays, EL<br>
displays, projectors, and cathode ray tube displays.<br>
A method of converting a source pixel data of a first format for a display of a second format having a plurality of three-color pixel elements is disclosed. The method comprises determining implied sample areas [120] for each data point [122] of each color in the source pixel data of the first format. The resample areas [52] for each emitter of each color in the display is also determined. A set of fractions for each resample area [52] is formed. The denominators are a function of the resample area [52] and the numerators are the function of an area of each of the implied sample areas [120] that at least partially overlaps the resample areas [[52]. The data values for each implied sample area [120] is multiplied by its respective fraction and all products are added together to obtain luminance values for each resample area [52].</td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
		<br>
		<div class="pull-left">
			<a href="200482-biomedical-devices-with-hydrophilic-coatings.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="200484-a-device-for-controlling-automatically-the-depth-of-the-vertical-and-horizantal-loops-formed-in-steel-wire-rods-during-rolling.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>200483</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>01557/KOLNP/2003</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>11/2007</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>16-Mar-2007</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>16-Mar-2007</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>01-Dec-2003</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>CLAIRVOYANTE LABORATORIES, INC</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>874 GRAVENSTEIN HIGHWAY,SUITE 14,SEBASTOPOL,CA 95472,</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>BROWN ELLIOTT CANDICE HELLEN</td>
											<td>531 YORK STREET,VALLEJO,CA 94590,</td>
										</tr>
										<tr>
											<td>2</td>
											<td>HIGGINS MICHAEL FRANCIS</td>
											<td>24 MAGIC MOUNTAIN ROAD,CAZADERO,CA 95421</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>G09G 5/02</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/US02/12610</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2002-04-22</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>60/290,087</td>
									<td>2001-05-09</td>
								    <td>U.S.A.</td>
								</tr>
								<tr>
									<td>2</td>
									<td>60/290,086</td>
									<td>2001-05-09</td>
								    <td>U.S.A.</td>
								</tr>
								<tr>
									<td>3</td>
									<td>60/290,143</td>
									<td>2001-05-09</td>
								    <td>U.S.A.</td>
								</tr>
								<tr>
									<td>4</td>
									<td>60/313,054</td>
									<td>2001-08-16</td>
								    <td>U.S.A.</td>
								</tr>
								<tr>
									<td>5</td>
									<td>10/051,612</td>
									<td>2002-01-16</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/200483-method-of-conversion-of-a-sub-pixel-format-data-to-another-sub-pixel-data-format-and-a-machine-readable-medium-for-performing-this-conversion by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 03:56:50 GMT -->
</html>
