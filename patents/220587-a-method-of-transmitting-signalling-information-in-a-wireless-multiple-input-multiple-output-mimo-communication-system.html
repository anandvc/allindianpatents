<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/220587-a-method-of-transmitting-signalling-information-in-a-wireless-multiple-input-multiple-output-mimo-communication-system by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 10:35:00 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 220587:A METHOD OF TRANSMITTING SIGNALLING INFORMATION IN A WIRELESS MULTIPLE-INPUT MULTIPLE-OUTPUT (MIMO) COMMUNICATION SYSTEM</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">A METHOD OF TRANSMITTING SIGNALLING INFORMATION IN A WIRELESS MULTIPLE-INPUT MULTIPLE-OUTPUT (MIMO) COMMUNICATION SYSTEM</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A method of, transmitting Signalling information in a wireless multiple-input multiple-output (MIMO) communication system&quot; A multiple-access MIMO WLAN system that employs MIMO, OFDM, and TDD. The system (1) uses a channel structure with a number of configurable transport channels, (2) supports multiple rates and transmission modes, which are configurable based on channel conditions and user terminal capabilities, (3) employs a pilot structure with several types of pilot (e.g., beacon, MIMO, steered reference, and carrier pilots) for different functions, (4) implements rate, timing, and power control loops for proper system operation, and (5) employs random access for system access by the user terminals, fast acknowledgment, and quick resource assignments. Calibration may be performed to account for differences in the frequency responses of transmit/receive chains at the access point and user terminals. The spatial processing may then be simplified by taking advantage of the reciprocal nature of the downlink and uplink and the calibration.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td> <br><br>
MIMO WLAN SYSTEM<br>
Claim of Priority under 35 ILS.C. §119<br>
This application claims the benefit of provisional U.S. Application Serial No. 60/421,309, entitled, "MIMO WLAN System," filed on October 25, 2002.<br>
BACKGROUND Field<br>
The present invention relates generally to data communication, and more specifically to a multiple-input multiple-output (MIMO) wireless local area network (WLAN) communication system.<br>
Background<br>
Wireless communication systems are widely deployed to provide various types of communication such as voice, packet data, and so on. These systems may be multiple-access systems capable of supporting communication with multiple users sequentially or simultaneously by sharing the available system resources. Examples of multiple-access systems include Code Division Multiple Access (CDMA) systems, Time Division Multiple Access (TDMA) systems, and Frequency Division Multiple Access (FDMA) systems.<br>
Wireless local area networks (WLANs) are also widely deployed to enable communication among wireless electronic devices (e.g., computers) via wireless link. A WLAN may employ access points (or base stations) that act like hubs and provide connectivity for the wireless devices. The access points may also connect (or "bridge") the WLAN to wired LANs, thus allowing the wireless devices access to LAN resources.<br>
In a wireless communication system, a radio frequency (RF) modulated signal from a transmitter unit may reach a receiver unit via a number of propagation paths. The characteristics of the propagation paths typically vary over time due to a number of factors, such as fading and multipath. To provide diversity against deleterious path effects and improve performance, multiple transmit and receive antennas may be used, [f the propagation paths between the transmit and receive antennas are linearly independent (i.e., a transmission on one path is not formed as a linear combination of<br><br>
the transmissions on the other paths), which is generally true to at least an extent, then the likelihood of correctly receiving a data transmission increases as the number of antennas increases. Generally, diversity increases and performance improves as the number of transmit and receive antennas increases.<br>
A MIMO system employs multiple (NT) transmit antennas and multiple (iV*) receive antennas for data transmission. A MIMO channel formed by the NT transmit and NR receive antennas may be decomposed into Ns spatial channels, with Ns 
MIMO system can provide improved performance (e.g., increased transmission capacity and/or greater reliability) if the additional dimensionalities created by the multiple transmit and receive antennas are utilized.<br>
The resources for a given communication system are typically limited by various regulatory constraints and requirements and by other practical considerations. However, the system may be required to support a number of terminals, provide various services, achieve certain performance goals, and so on.<br>
There is, therefore, a need in the art for a MIMO WLAN system capable of supporting multiple users and providing high system performance.<br>
SUMMARY<br>
A multiple-access MIMO WLAN system having various capabilities and able to achieve high performance is described herein. In an embodiment, the system employs MIMO and orthogonal frequency division multiplexing (OFDM) to attain high throughput, combat deleterious path effects, and provide other benefits. Each access point in the system can support multiple user terminals. The allocation of downlink and uplink resources is dependent on the requirements of the user terminals, the channel conditions, and other factors.<br>
A channel structure supporting efficient downlink and uplink transmissions is also provided herein. The channel structure comprises a number of transport channels that may be used for a number of functions, such as signaling of system parameters and resource assignments, downlink and uplink data transmissions, random access of the system, and so on. Various attributes of these transport channels are configurable, which allows the system to easily adapt to changing channel and loading conditions.<br><br>
Multiple rates and transmission modes are supported by the MtMO WLAN system to attain high throughput when supported by the channel conditions and the capabilities of the user terminals. The rates are configurable based on estimates of the channel conditions and may be independently selected for the downlink and uplink. Different transmission modes may also be used, depending on the number of antennas at the user terminals and the channel conditions. Each transmission mode is associated with different spatial processing at the transmitter and receiver and may be selected for use under different operating conditions. The spatial processing facilitates data transmission from multiple transmit antennas and/or data reception with multiple receive antennas for higher throughput and/or diversity.<br>
In an embodiment, the MEMO WLAN system uses a single frequency band for both the downlink and uplink, which share the same operating band using time division duplexing (TDD). For a TDD system, the downlink and uplink channel responses are reciprocal. Calibration techniques are provided herein to determine and account for differences in the frequency responses of the transmit/receive chains at the access point and user terminals. Techniques are also described herein to simplify the spatial processing at the access point and user terminals by taking advantage of the reciprocal nature of the downlink and uplink and the calibration.<br>
A pilot structure with several types of pilot used for different functions is also provided. For example, a beacon pilot may be used for frequency and system acquisition, a MIMO pilot may be used for channel estimation, a steered reference (i.e., a steered pilot) may be used for improved channel estimation, and a carrier pilot may be used for phase tracking.<br>
Various control loops for proper system operation are also provided. Rate control may be exercised independently on the downlink and uplink. Power control may be exercised for certain transmissions (e.g., fixed-rate services). Timing control may be used for uplink transmissions to account for different propagation delays of user terminals located throughout the system.<br>
Random access techniques to allow user terminals to access the system are also provided. These techniques support system access by multiple user terminals, fast acknowledgment of system access attempts, and quick assignment of downlink/uplink resources.<br><br>
The various aspects and embodiments of the invention are described in further detail below.<br>
BRIEF DESCRIPTION OF THE DRAWINGS<br>
The features and nature of the present invention will become more apparent from the detailed description set forth below when taken in conjunction with the drawings in which like reference characters identify correspondingly throughout and wherein:<br>
FIG. 1 shows a MEMO WLAN system;<br>
FIG. 2 shows a layer structure for the MIMO WLAN system;<br>
FIGS. 3A, 3B and 3C show a TDD-TDM frame structure, an FDD-TDM frame structure, and an FDD-CDM frame structure, respectively;<br>
FIG. 4 shows the TDD-TDM frame structure with five transport channels -BCH, FCCH, FCH, RCH, and RACH;<br>
FIGS. 5A through 5G show various protocol data unit (PDU) formats for the five transport channels;<br>
FIG. 6 shows a structure for an FCH/RCH packet;<br>
FIG. 7 shows an access point and two user terminals;<br>
FIGS. 8A, 9A, and 10A show three transmitter units for the diversity, spatial multiplexing, and beam-steering modes, respectively;<br>
FIGS. 8B, 9B, and 10B show three TX diversity processors for the diversity, spatial multiplexing, and beam-steering modes, respectively,<br>
FIG. SC shows an OFDM modulator;<br>
FIG. 8D shows an OFDM symbol;<br>
FIG. 11A shows a framing unit and a scrambler within a TX data processor;<br>
FIG. 11B shows an encoder and a repeat/puncture unit within the TX data processor;<br>
FIG. 11C shows another TX data processor that may be used for the spatial multiplexing mode;<br>
FIGS. 12A and 12B show a state diagram for operation of a user terminal;<br>
FIG. 13 shows a timeline for the RACH;<br>
FIGS. 14A and 14B show processes for controlling the rates of downlink and uplink transmissions, respectively;<br><br>
FIG. 15 shows the operation of a power control loop; and<br>
FIG. 16 shows a process for adjusting the uplink timing of a user terminal.<br>
DETAILED DESCRIPTION<br>
The word "exemplary" is used herein to mean "serving as an example, instance, or illustration." Any embodiment or design described herein as "exemplary" is not necessarily to be construed as preferred or advantageous over other embodiments or designs.<br>
I.       Overall System<br>
FIG. 1 shows a MIMO WLAN system 100 that supports a number of users and is capable of implementing various aspects and embodiments of the invention. MIMO WLAN system 100 includes a number of access points (APs) 110 that support communication for a number of user terminals (UTs) 120. For simplicity, only two access points 110 are shown in FIG. 1. An access point is generally a fixed station that is used for communicating with the user terminals. An access point may also be referred to as a base station or some other terminology.<br>
User terminals 120 may be dispersed throughout the system. Each user terminal may be a fixed or mobile terminal that can communicate with the access point. A user terminal may also be referred to as a mobile station, a remote station, an access terminal, a user equipment (UE), a wireless device, or some other terminology. Each user terminal may communicate with one or possibly multiple access points on the downlink and/or uplink at any given moment. The downlink (i.e., forward link) refers to transmission from the access point to the user terminal, and the uplink (i.e., reverse link) refers to transmission from the user terminal to the access point.<br>
In FIG. 1, access point 110a communicates with user terminals 120a through 120f, and access point 110b communicates with user terminals 120f through 120k. Depending on the specific design of system 100, an access point may communicate with multiple user terminals simultaneously (e.g., via multiple code channels or subbands) or sequentially (e.g., via multiple time slots). At any given moment, a user terminal may receive downlink transmissions from one or multiple access points. The downlink transmission from each access point may include overhead data intended to be received by multiple user terminals, user-specific data intended to be received by specific user<br><br>
terminals, other types of data, or any combination thereof. The overhead data may include pilot, page and broadcast messages, system parameters, and so on.<br>
The MIMO WLAN system is based on a centralized controller network<br>
architecture. Thus, a system controller 130 couples to access points 110 and may<br>
further couple to other systems and networks. For example, system controller 130 may<br>
couple to a packet data network (PDN), a wired local area network (LAN), a wide area<br>
network (WAN), the Internet, a public switched telephone network (PSTN), a cellular<br>
communication network, and so on. System controller 130 may be designed to perform<br>
a number of functions such as (1) coordination and control for the access points coupled<br>
to it, (2) routing of data among these access points, (3) access and control of<br>
communication with the user terminals served by these access points, and so on.<br>
	The MIMO WLAN system may be able to provide high throughput with<br>
significantly greater coverage capability than conventional WLAN systems. The MIMO WLAN system can support synchronous, asynchronous, and isochronous data/voice services. The MIMO WLAN system may be designed to provide the following features:<br>
•	High service reliability<br>
•	Guaranteed quality of service (QoS)<br>
•	High instantaneous data rates<br>
•	High spectral efficiency<br>
•	Extended coverage range.<br>
»	The MIMO WLAN system may be operated in various frequency bands (e.g.,<br>
the 2.4 GHz and 5.x GHz U-NII bands), subject to the bandwidth and emission constraints specific to the selected operating band. The system is designed to support both indoor and outdoor deployments, with typical maximum cell size of 1 km or less. The system supports fixed terminal applications, although some operating modes also support portable and limited mobility operation.<br>
1.       MIMO, MISO. and SIMP<br>
l»	In a specific embodiment and as described throughout the specification, each<br>
access point is equipped with four transmit and receive antennas for data transmission and reception, where the same four antennas are used to transmit and to receive. The system also supports the case where the transmit and receive antennas of the device (e.g. access point, user terminal) are not shared, even though this configuration normally<br><br>
provides lower performance than when the antennas are shared. The MIMO WLAN system may also be designed such that each access point is equipped with some other number of transmit/receive antennas. Each user terminal may be equipped with a single transmit/receive antenna or multiple transmit/receive antennas for data transmission and reception. The number of antennas employed by each user terminal type may be dependent on various, factors such as, for example, the services to be supported by the user terminal (e.g., voice, data, or both), cost considerations, regulatory constraints, safety issues, and so on.<br>
For a given pairing of multi-antenna access point and multi-antenna user terminal, a MEMO channel is formed by the NT transmit antennas and NR receive antennas available for use for data transmission. Different MIMO channels are formed between the access point and different multi-antenna user terminals. Each MIMO channel may be decomposed into Ns spatial channels, with Ns 
streams may be transmitted on the Ns spatial channels. Spatial processing is required at a receiver and may or may not be performed at a transmitter in order to transmit multiple data streams on the Ns spatial channels.<br>
The Ns spatial channels may or may not be orthogonal to one another. This depends on various factors such as (1) whether or not spatial processing was performed at the transmitter to obtain orthogonal spatial channels and (2) whether or not the spatial processing at both the transmitter and the receiver was successful in orthogonalizing the spatial channels. If no spatial processing is performed at the transmitter, then the Ns spatial channels may be formed with Ns transmit antennas and are unlikely to be orthogonal to one another.<br>
The Ns spatial channels may be orthogonalized by performing decomposition on a channel response matrix for the MEMO channel, as described below. Each spatial channel is referred to as an eigenmode of the MIMO channel if the Ns spatial channels are orthogonalized using decomposition, which requires spatial processing at both the transmitter and the receiver, as described below. In this case, Ns data streams may be transmitted orthogonally on the Ns eigenmodes. However, an eigenmode normally refers to a theoretical construct. The Ns spatial channels are typically not completely orthogonal to one another due to various reasons. For example, the spatial channels would not be orthogonal if (1) the transmitter has no knowledge of the MIMO channel or (2) the transmitter and/or receiver have imperfect estimate of the MIMO channel.<br><br>
For simplicity, in the following description, the term "eigenmode" is used to denote the case where an attempt is made to orthogonalize the spatial channels using decomposition, even though the attempt may not be fully successful due to, for example, an imperfect channel estimate.<br>
For a given number of (e.g., four) antennas at the access point, the number of spatial channels available for each user terminal is dependent on the number of antennas employed by that user terminal and the characteristics of the wireless MJMO channel that couples the access point antennas and the user terminal antennas- If a user terminal is equipped with one antenna, then the four antennas at the access point and the single antenna at the user terminal form a multiple-input single-output (MISO) channel for the downlink and a single-input multiple-output (S1MO) channel for the uplink.<br>
The MEMO WLAN system may be designed to support a number of transmission modes. Table 1 lists the transmission modes supported by an exemplary design of the MIMO WLAN system.<br><br>
For simplicity, the term "diversity" refers to transmit diversity in the following description, unless noted otherwise.<br>
The transmission modes available for use for the downlink and uplink for each user terminal are dependent on the number of antennas employed at the user terminal. Table 2 lists the transmission modes available for different terminal types for the downlink and uplink, assuming multiple (e.g., four) antennas at the access point.<br><br><br>
For the downlink, all of the transmission modes except for the spatial multiplexing mode may be used for single-antenna user terminals, and all transmission modes may be used for multi-antenna user terminals. For the uplink, all transmission modes may be used by multi-antenna user terminals, while single-antenna user terminals use the SIMO mode to transmit data from the one available antenna. Receive diversity (i.e., receiving a data transmission with multiple receive antennas) may be used for the SIMO, diversity, and beam-steering modes.<br>
The MIMO WLAN system may also be designed to support various other transmission modes, and this is within the scope of the invention. For example, a beam-forming mode may be used to transmit data on a single eigenmode using both the amplitude and phase information for the eigenmode (instead of only the phase information, which is all that is used by the beam-steering mode). As another example, a "non-steered" spatial multiplexing mode can be defined whereby the transmitter simply transmits multiple data streams from multiple transmit antennas (without any spatial processing) and the receiver performs the necessary spatial processing to isolate and recover the data streams sent from the multiple transmit antennas. As yet another example, a "multi-user" spatial multiplexing mode can be defined whereby the access point transmits multiple data streams from multiple transmit antennas (with spatial processing) to multiple user terminals concurrently on the downlink. As yet another example, a spatial multiplexing mode can be defined whereby the transmitter performs spatial processing to attempt to orthogonalize the multiple data streams sent on the multiple transmit antennas (but may not be completely successful because of an<br><br>
imperfect channel estimate) and the receiver performs the necessary spatial processing to isolate and recover the data streams sent from the multiple transmit antennas. Thus, the spatial processing to transmit multiple data streams via multiple spatial channels may be performed (1) at both the transmitter and receiver, (2) at only the receiver, or (3) at only the transmitter. Different spatial multiplexing modes may be used depending on, for example, the capabilities of the access point and the user terminals, the available channel state information, system requirements, and so on.<br>
	In general, the access points and user terminals may be designed with any<br>
number of transmit and receive antennas. For clarity, specific embodiments and designs are described below whereby each access point is equipped with four transmit/receive antennas, and each user terminal is equipped with four or less transmit/receive antennas.<br>
2.       OFDM<br>
&gt;	In an embodiment, the MIMO WLAN system employs OFDM to effectively<br>
partition the overall system bandwidth into a number of (7V» orthogonal subbands.<br>
These subbands are also referred to as tones, bins, or frequency channels. With OFDM,<br>
each subband is associated with a respective subcarrier that may be modulated with<br>
data. For a MIMO system that utilizes OFDM, each spatial channel of each subband<br>
may be viewed as an independent transmission channel where the complex gain<br>
associated with each subband is effectively constant across the subband bandwidth.<br>
►	In an embodiment, the system bandwidth is partitioned into 64 orthogonal<br>
subbands (i.e., NF =64), which are assigned indices of -32 to +31.   Of these 64<br>
subbands, 48 subbands (e.g., with indices of ±{1, ..., 6, 8,..., 20, 22, ... , 26}) are used for data, 4 subbands (e.g., with indices of ±{7, 21}) are used for pilot and possibly signaling, the DC subband (with index of 0) is not used, and the remaining subbands are also not used and serve as guard subbands. This OFDM subband structure is described in further detail in a document for IEEE Standard 802.11a and entitled "Part 11: Wireless LAN Medium Access Control (MAC) and Physical Layer (PHY) Specifications: High-speed Physical Layer in the 5 GHz Band,'* September 1999, which is publicly available and incorporated herein by reference. Different numbers of subbands and various other OFDM subband structures may also be implemented for the MIMO WLAN system, and this is within the scope of the invention. For example, all 53 subbands with indices from -26 to +26 may be used for data transmission. As another example, a 128-subband structure, a 256-subband structure, or a subband<br><br>
structure with some other number of subbands may be used.   For clarity, the MIMO WLAN system is described below with the 64-subband structure described above.<br>
For OFDM, the data to be transmitted on each subband is first modulated (i.e., symbol mapped) using a particular modulation scheme selected for use for that subband. Zeros are provided for the unused subbands. For each symbol period, the modulation symbols and zeros for all NF subbands are transformed to the time domain using an inverse fast Fourier transform (IFFT) to obtain a transformed symbol that contains NF time-domain samples. The duration of each transformed symbol is inversely related to the bandwidth of each subband. In one specific design for the MIMO WLAN system, the system bandwidth is 20 MHz, NF = 64, the bandwidth of each subband is 312.5<br>
KHz, and the duration of each transformed symbol is 3.2 usec.<br>
OFDM can provide certain advantages, such as the ability to combat frequency selective fading, which is characterized by different channel gains at different frequencies of the overall system bandwidth. It is well known that frequency selective fading causes inter-symbol interference (ISI), which is a phenomenon whereby each symbol in a received signal acts as distortion to subsequent symbols in the received signal. The ISI distortion degrades performance by impacting the ability to correctly detect the received symbols. Frequency selective fading can be conveniently combated with OFDM by repeating a portion of (or appending a cyclic prefix to) each transformed symbol to form a corresponding OFDM symbol, which is then transmitted.<br>
The length of the cyclic prefix (i.e., the amount to repeat) for each OFDM symbol is dependent on the delay spread of the wireless channel. In particular, to effectively combat ISI, the cyclic prefix should be longer than the maximum expected delay spread for the system.<br>
In an embodiment, cyclic prefixes of different lengths may be used for the OFDM symbols, depending on the expected delay spread. For the specific MIMO WLAN system described above, a cyclic prefix of 400 nsec (8 samples) or 800 nsec (16 samples) may be selected for use for the OFDM symbols. A "short" OFDM symbol uses the 400 nsec cyclic prefix and has a duration of 3.6 jxsec. A "long" OFDM symbol uses the 800 nsec cyclic prefix and has a duration of 4.0 jxsec. Short OFDM symbols may be used if the maximum expected delay spread is 400 nsec or less, and long OFDM symbols may be used if the delay spread is greater than 400 nsec. Different cyclic prefixes may be selected for use for different transport channels, and the cyclic prefix<br><br>
may also be dynamically selectable, as described below. Higher system throughput may be achieved by using the shorter cyclic prefix when possible, since more OFDM symbols of shorter duration can be transmitted over a given fixed time interval.<br>
The MIMO WLAN system may also be designed to not utilize OFDM, and this is within the scope of the invention.<br>
3.        Layer Structure<br>
FIG. 2 illustrates a layer structure 200 that may be used for the MIMO WLAN system. Layer structure 200 includes (1) applications and upper layer protocols that approximately correspond to Layer 3 and higher of the ISO/OSI reference model (upper layers), (2) protocols and services that correspond to Layer 2 (the link layer), and (3) protocols and services that correspond to Layer 1 (the physical layer).<br>
The upper layers includes various applications and protocols, such as signaling services 212, data services 214, voice services 216, circuit data applications, and so on. Signaling is typically provided as messages and data is typically provided as packets. The services and applications in the upper layers originate and terminate messages and packets according to the semantics and timing of the communication protocol between the access point and the user terminal. The upper layers utilize the services provided by Layer 2.<br>
Layer 2 supports the delivery of messages and packets generated by the upper<br>
layers. In the embodiment shown in FIG. 2, Layer 2 includes a Link Access Control<br>
(LAC) sublayer 220 and a Medium Access Control (MAC) sublayer 230. The LAC<br>
sublayer implements a data link protocol that provides for the correct transport and<br>
delivery of messages generated by the upper layers. The LAC sublayer utilizes the<br>
services provided by the MAC sublayer and Layer 1. The MAC sublayer is responsible<br>
for transporting messages and packets using the services provided by Layer 1. The<br>
MAC sublayer controls the access to Layer 1 resources by the applications and services<br>
in the upper layers. The MAC sublayer may include a Radio Link Protocol (RLP) 232,<br>
which is a retransmission mechanism that may be used to provide higher reliability for<br>
packet data. Layer 2 provides protocol data units (PDUs) to Layer L<br>
»	Layer  1  comprises physical layer 240 and supports the transmission and<br>
reception of radio signals between the access point and user terminal. The physical layer performs coding, interleaving, modulation, and spatial processing for various transport channels used to send messages and packets generated by the upper layers. In<br><br>
this embodiment, the physical layer includes a multiplexing sublayer 242 that multiplexes processed PDUs for various transport channels into the proper frame format. Layer 1 provides data in units of frames.<br>
FIG. 2 shows a specific embodiment of a layer structure that may be used for the MIMO WLAN system. Various other suitable layer structures may also be designed and used for the MIMO WLAN system, and this is within the scope of the invention. The functions performed by each layer are described in further detail below where appropriate.<br>
4.        Transport Channels<br>
A number of services and applications may be supported by the MEMO WLAN system. Moreover, other data required for proper system operation may need to be sent by the access point or exchanged between the access point and user terminals. A number of transport channels may be defined for the MIMO WLAN system to carry various types of data. Table 3 lists an exemplary set of transport channels and also provides a brief description for each transport channel.<br><br><br>
I<br>
		point. May also carry a reference used by the access point for channel estimation.<br>
As shown in Table 3, the downlink transport channels used by the access point includes the BCH, FCCH, and FCH. The uplink transport channels used by the user terminals include the RACH and RCH. Each of these transport channels is described in further detail below.<br>
The transport channels listed in Table 3 represent a specific embodiment of a channel structure that may be used for the MIMO WLAN system. Fewer, additional, and/or different transport channels may also be defined for use for the MEMO WLAN system. For example, certain functions may be supported by function-specific transport channels (e.g., pilot, paging, power control, and sync channel channels). Thus, other channel structures with different sets of transport channels may be defined and used for the MIMO WLAN system, and this is within the scope of the invention.<br>
5.       Frame Structures<br>
A number of frame structures may be defined for the transport channels. The specific frame structure to use for the MIMO WLAN system is dependent on various factors such as, for example, (1) whether the same or different frequency bands are used for the downlink and uplink and (2) the multiplexing scheme used to multiplex the transport channels together.<br>
If only one frequency band is available, then the downlink and uplink may be transmitted on different phases of a frame using time division duplexing (TDD), as described below. If two frequency bands are available, then the downlink and uplink may be transmitted on different frequency bands using frequency division duplexing (FDD).<br>
For both TDD and FDD, the transport channels may be multiplexed together using time division multiplexing (TDM), code division multiplexing (CDM), frequency division multiplexing (FDM), and so on. For TDM, each transport channel is assigned to a different portion of a frame. For CDM, the transport channels are transmitted concurrently but each transport channel is channelized by a different channelization code, similar to that performed in a code division multiple access (CDMA) system. For FDM, each transport channel is assigned a different portion of the frequency band for the link.<br><br>
Table 4 lists the various frame structures that may be used to carry the transport channels. Each of these frame structures is described in further detail below. For clarity, the frame structures are described for the set of transport channels listed in Table<br>
3.<br>
Table 4<br><br>
	Shared frequency band for downlink and uplink	Separate frequency bands for downlink and uplink<br>
Time division	TDD-TDM frame structure	FDD-TDM frame structure<br>
Code division	TDD-CDM frame structure	FDD-CDM frame structure<br>
FIG. 3A illustrates an embodiment of a TDD-TDM frame structure 300a that may be used if a single frequency band is used for both the downlink and uplink. Data transmission occurs in units of TDD frames. Each TDD frame may be defined to span a particular time duration. The frame duration may be selected based on various factors such as, for example, (1) the bandwidth of the operating band, (2) the expected sizes of the PDUs for the transport channels, and so on. In general, a shorter frame duration may provide reduced delays. However, a longer frame duration may be more efficient since header and overhead may represent a smaller fraction of the frame. In a specific . embodiment, each TDD frame has a duration of 2 msec.<br>
Each TDD frame is partitioned into a downlink phase and an uplink phase. The downlink phase is further partitioned into three segments for the three downlink transport channels - the BCH, FCCH, and FCH. The uplink phase is further partitioned into two segments for the two uplink transport channels - the RCH and RACH.<br>
The segment for each transport channel may be defined to have either a fixed duration or a variable duration that can change from frame to frame. In an embodiment, the BCH segment is defined to have a fixed duration, and the FCCH, FCH, RCH, and RACH segments are defined to have variable durations.<br>
The segment for each transport channel may be used to carry one or more protocol data units (PDUs) for that transport channel. In the specific embodiment shown in FIG. 3A, a BCH PDU is transmitted in a first segment 310, an FCCH PDU is transmitted in a second segment 320, and one or more FCH PDUs are transmitted in a third segment 330 of the downlink phase. On the uplink phase, one or more RCH PDUs<br><br>
are transmitted in a fourth segment 340 and one or more RACH PDUs are transmitted in a fifth segment 350 of the TDD frame.<br>
Frame structure 300a represents a specific arrangement of the various transport channels within a TDD frame. This arrangement can provide certain benefits such as reduced delays for data transmission on the downlink and uplink. The BCH is transmitted first in the TDD frame since it carries system parameters that may be used for the PDUs of the other transport channels within the same TDD frame. The FCCH is transmitted next since it carries channel assignment information indicative of which user terminal(s) are designated to receive downlink data on the FCH and which user terminal(s) are designated to transmit uplink data on the RCH within the current TDD frame. Other TDD-TDM frame structures may also be defined and used for the MIMO WLAN system, and this is within the scope of the invention.<br>
FIG. 3B illustrates an embodiment of an FDD-TDM frame structure 300b that may be used if the downlink and uplink are transmitted using two separate frequency bands. Downlink data is transmitted in a downlink frame 302a, and uplink data is transmitted in an uplink frame 302b. Each downlink and uplink frame may he defined to span a particular time duration (e.g., 2 msec). For simplicity, the downlink and uplink frames may be defined to have the same duration and may further be defined to be aligned at the frame boundaries. However, different frame durations and/or non-aligned (i.e., offset) frame boundaries may also be used for the downlink and uplink.<br>
As shown in FIG. 3B, the downlink frame is partitioned into three segments for the three downlink transport channels. The uplink frame is partitioned into two segments for the two uplink transport channels. The segment for each transport channel may be defined to have a fixed or variable duration, and may be used to carry one or more PDUs for that transport channel.<br>
In the specific embodiment shown in FIG. 3B, the downlink frame carries a BCH PDU, an FCCH PDU, and one or more FCH PDUs in segments 310,320, and 330, respectively. The uplink frame carries one or more RCH PDUs and one or more RACH PDUs in segments 340 and 350, respectively. This specific arrangement may provide the benefits described above (e.g., reduced delays for data transmission). The transport channels may have different PDU formats, as described below. Other FDD-TDM frame structures may also be defined and used for the MIMO WLAN system, and this is within the scope of the invention.<br><br>
FIG. 3C illustrates an embodiment of an FDD-CDM/FDM frame structure 300c that may also be used if the downlink and uplink are transmitted using separate frequency bands. Downlink data may be transmitted in a downlink frame 304a, and uplink data may be transmitted in an uplink frame 304b. The downlink and uplink frames may be defined to have the same duration (e.g., 2 msec) and aligned at the frame boundaries.<br>
As shown in FIG. 3C, the three downlink transport channels are transmitted concurrently in the downlink frame, and the two uplink transport channels are transmitted concurrently in the uplink frame. For CDM, the transport channels for each link are "channelized" with different channelization codes, which may be Walsh codes, orthogonal variable spreading factor (OVSF) codes, quasi-orthogonal functions (QOF), and so on. For FDM, the transport channels for each link are assigned different portions of the frequency band for the link. Different amounts of transmit power may also be used for different transport channels in each link.<br>
Other frame structures may also be defined for the downlink and uplink transport channels, and this is within the scope of the invention. Moreover, it is possible to use different types of frame structure for the downlink and uplink. For example, a TDM-based frame structure may be used for the downlink and a CDM-based frame structure may be used for the uplink.<br>
In the following description, the MIMO WLAN system is assumed to use one frequency band for both downlink and uplink transmissions. For clarity, the TDD-TDM frame structure shown in FIG. 3A is used for the MIMO WLAN system. For clarity, a specific implementation of the TDD-TDM frame structure is described throughout the specification. For this implementation, the duration of each TDD frame is fixed at 2 msec, and the number of OFDM symbols per TDD frame is a function of the length of the cyclic prefix used for the OFDM symbols. The BCH has a fixed duration of 80 p.sec and uses the 800 nsec cyclic prefix for the OFDM symbols transmitted. The remainder of the TDD frame contains 480 OFDM symbols if the 800 nsec cyclic prefix is used, and 533 OFDM symbols plus 1.2 jxsec of excess time if the 400 nsec cyclic prefix is used. The excess time can be added to the guard interval at the end of the RACH segment. Other frame structures and other implementations may also be used, and this is within the scope of the invention.<br><br>
I.     Transport Channels<br>
The transport channels are used to send various types of data and may be ;ategorized into two groups: common transport channels and dedicated transport ;hannels. Because the common and dedicated transport channels are used for different purposes, different processing may be used for these two groups of transport channels, is described in further detail below.<br>
Common Transport Channels, The common transport channels include the BCH, FCCH, and RACH. These transport channels are used to send data to or receive lata from multiple user terminals. For improved reliability, the BCH and FCCH are transmitted by the access point using the diversity mode. On the uplink, the RACH is transmitted by the user terminals using the beam-steering mode (if supported by the user terminal). The BCH is operated at a known fixed rate so that the user terminals can receive and process the BCH without any additional information. The FCCH and RACH support multiple rates to allow for greater efficiency. As used herein, each "rate" or "rate set" is associated with a particular code rate (or coding scheme) and a particular modulation scheme.<br>
Dedicated Transport Channels, The dedicated transport channels include the FCH and RCH. These transport channels are normally used to send user-specific data to or by specific user terminals. The FCH and RCH may be dynamically allocated to the user terminals as necessary and as available. The FCH may also be used in a broadcast mode to send overiiead, page, and broadcast messages to the user terminals. In general, the overiiead, page, and broadcast messages are transmitted prior to any user-specific data on the FCH.<br>
FIG. 4 illustrates an exemplary transmission on the BCH, FCCH, FCH, RCH, and RACH based on TDD-TDM frame structure 300a. In this embodiment, one BCH PDU 410 and one FCCH PDU 420 are transmitted in BCH segment 310 and FCCH segment 320, respectively. FCH segment 330 may be used to send one or more FCH PDUs 430, each of which may be intended for a specific user terminal or multiple user terminals. Similarly, one or more RCH PDUs 440 may be sent by one or more user terminals in RCH segment 340. The start of each FCH/RCH PDU is indicated by an FCH/RCH offset from the end of the preceding segment. A number of RACH PDUs 450 may be sent in RACH segment 350 by a number of user terminals to access the system and/or to send short messages, as described below.<br><br>
For clarity, the transport channels are described for the specific TDD-TDM frame structure shown in FIGS. 3A and 4.<br>
1. Broadcast Channel (BCH) - Downlink<br>
The BCH is used by the access point to transmit a beacon pilot, a MMO pilot, and system parameters to the user terminals. The beacon pilot is used by the user terminals to acquire system timing and frequency. The MIMO pilot is used by the user terminals to estimate the MIMO channel formed by the access point antennas and their own antennas. The beacon and MIMO pilots are described in further detail below. The system parameters specify various attributes of the downlink and uplink transmissions. For example, since the durations of the FCCH, FCH, RACH, and RCH segments are variable, the system parameters that specify the length of each of these segments for the current TDD frame are sent in the BCH.<br>
FIG. 5A illustrates an embodiment of BCH PDU 410. In this embodiment, BCH PDU 410 includes a preamble portion 510 and a message portion 516. Preamble portion 510 further includes a beacon pilot portion 512 and a MIMO pilot portion 514. Portion 512 carries a beacon pilot and has a fixed duration of TCP = 8//sec. Portion 514<br>
carries a MIMO pilot and has a fixed duration of T,MP = 32μ sec. Portion 516 carries a<br>
BCH message and has a fixed duration of TBM =40μ sec.  The duration of the BCH<br>
PDU is fixed at TCP +TMP +TBM = 80μ sec.<br>
A preamble may be used to send one or more types of pilot and/or other information. A beacon pilot comprises a specific set of modulation symbols that is transmitted from all transmit antennas. A MIMO pilot comprises a specific set of modulation symbols that is transmitted from all transmit antennas with different orthogonal codes, which then allows the receivers to recover the pilot transmitted from each antenna. Different sets of modulation symbols may be used for the beacon and MIMO pilots. The generation of the beacon and MIMO pilots is described in further detail below.<br>
The BCH message carries system configuration information. Table 5 lists the various fields for an exemplary BCH message format.<br><br><br><br>
The Frame Counter value may be used to synchronize various processes at the access point and user terminals (e.g., the pilot, scrambling codes, cover code, and so on). A frame counter may be implemented with a 4-bit counter that wraps around. This counter is incremented at the start of each TDD frame, and the counter value is included in the Frame Counter field. The Net ID field indicates the identifier (ID) of the network to which the access point belongs. The AP ID field indicates the ID of the access point within the network ID. The AP Tx Lvl and AP Rx Lvl fields indicate the maximum transmit power level  and the desired receive power level  at the access point,<br><br>
respectively.   The desired receive power level may be used by the user terminal to determine the initial uplink transmit power.<br>
The FCCH Length, FCH Length, and RCH Length fields indicate the lengths of the FCCH, FCH, and RCH segments, respectively, for the current TDD frame. The lengths of these segments are given in units of OFDM symbols. The OFDM symbol duration for the BCH is fixed at 4.0 jisec. The OFDM symbol duration for all other transport channels (i.e., the FCCH, FCH, RACH, and RCH) is variable and depends on the selected cyclic prefix, which is specified by the Cyclic Prefix Duration field. The FCCH Rate field indicates the rate used for the FCCH for the current TDD frame.<br>
The RACH Length field indicates the length of the RACH segment, which is given in units of RACH slots. The duration of each RACH slot is given'by the RACH Slot Size field, in units of OFDM symbols. The RACH Guard Interval field indicates the amount of time between the last RACH slot and the start of the BCH segment for the next TDD frame. These various fields for the RACH are described in further detail below.<br>
The Page Bit and Broadcast Bit indicate whether or not page messages and broadcast messages, respectively, are being sent on the FCH in the current TDD frame. These two bits may be set independently for each TDD frame. The RACH Acknowledgment Bit indicates whether or not acknowledgments for PDUs sent on the RACH in prior TDD frames are being sent on the FCCH in the current TDD frame.<br>
The CRC field includes a CRC value for the entire BCH message. This CRC value may be used by the user terminals to determine whether the received BCH message is decoded correctly (i.e., good) or in error (i.e., erased). The Tail Bits field includes a group of zeros used to reset the convolutional encoder to a known state at the end of the BCH message.<br>
As shown in Table 5, the BCH message includes a total of 120 bits. These 120 bits may be transmitted with 10 OFDM symbols using the processing described in detail below.<br>
•	Table 5 shows a specific embodiment of the format for the BCH message. Other<br>
BCH message formats with fewer, additional, and/or different fields may also be defined and used, and this is within the scope of the invention.<br><br>
2. Forward Control Channel (FCCH) - Downlink<br>
In an embodiment, the access point is able to allocate resources for the FCH and ICH on a per frame basis. The FCCH is used by the access point to convey the esource allocation for the FCH and RCH (i.e., the channel assignments).<br>
FIG. 5B illustrates an embodiment of FCCH PDU 420. In this embodiment, the "CCH PDU includes only a portion 520 for an FCCH message. The FCCH message las a variable duration that can change from frame to frame, depending on the amount of scheduling information being carried on the FCCH for that frame. The FCCH nessage duration is in even number of OFDM symbols and given by the FCCH Length field on the BCH message. The duration of messages sent using the diversity mode (e.g., BCH and FCCH messages) is given in even number of OFDM symbols because the diversity mode transmits OFDM symbols in pairs, as described below.<br>
In an embodiment, the FCCH can be transmitted using four possible rates. The specific rate used for the FCCH PDU in each TDD frame is indicated by the FCCH Phy Mode field in the BCH message. Each FCCH rate corresponds to a particular code rate and a particular modulation scheme and is further associated with a particular transmission mode, as shown in Table 26.<br>
•	An FCCH message may include zero, one, or multiple information elements<br>
(IEs). Each information element may be associated with a specific user terminal and may be used to provide information indicative of the assignment of FCH/RCH resources for that user terminal. Table 6 lists the various fields for an exemplary FCCH message format.<br><br><br><br>
The NJE field indicates the number of information elements included in the FCCH message sent in the current TDD frame. For each information element (IE) included in the FCCH message, the IE Type field indicates the particular type of this IE. A number of IE types are defined for use to allocate resources for different types of transmissions, as described below.<br>
The MAC ID field identifies the specific user terminal for which the information element is intended. Each user terminal registers with the access point at the start of a communication session and is assigned a unique MAC ID by the access point. This MAC ID is used to identify the user terminal during the session.<br>
The Control Fields are used to convey channel assignment information for the user terminal and are described in detail below. The Padding Bits field includes a sufficient number of padding bits so that the overall length of the FCCH message is an even number of OFDM symbols. The FCCH CRC field includes a CRC value that may be used by the user terminals to determine whether the received FCCH message is decoded correctly or in error. The Tail Bits field includes zeros used to reset the convolutional encoder to a known state at the end of the FCCH message. Some of these fields are described in further detail below.<br>
	A number of transmission modes are supported by the MIMO WLAN system for<br>
the FCH and RCH, as indicated in Table 1. Moreover, a user terminal may be active or idle during a connection. Thus, a number of types of IE are defined for use to allocate FCH/RCH resources for different types of transmissions. Table 7 lists an exemplary set of IE types.<br><br><br><br>
I	For IE types 0, 1 and 4, resources are allocated to a specific user terminal for<br>
both the FCH and RCH (i.e., in channel pairs). For IE type 2, minimal resources are allocated to the user terminal on the FCH and RCH to maintain up-to-date estimate of the link. An exemplary format for each IE type is described below. In general, the rates and durations for the FCH and RCH can be independently assigned to the user rminals.<br>
A. IE Type O, 4 - Diversitv/Beam-Steering Mode IE type 0 and 4 are used to allocate FCH/RCH resources for the diversity and beam-steering modes, respectively. For fixed low-rate services (e.g., voice), the rate remains fixed for the duration of the call. For variable rate services, the rate may be selected independently for the FCH and RCH. The FCCH IE indicates the location of the FCH and RCH PDUs assigned to the user terminal. Table 8 lists the various fields of an exemplary IE Type 0 and 4 information element.<br>
' Table 8 - FCCH IE Type 0 and 4<br><br><br><br>
The FCH and RCH Offset fields indicate the time offset from the beginning of the.current TDD frame to the start of the FCH and RCH PDUs, respectively, assigned by the information element. The FCH and RCH Rate fields indicate the rates for the FCH and RCH, respectively.<br>
The FCH and RCH Preamble Type fields indicate the size of the preamble in the FCH and RCH PDUs, respectively. Table 9 lists the values for the FCH and RCH Preamble Type fields and the associated preamble sizes.<br><br>
The RCH Timing Adjustment field includes two bits used to adjust the timing of the uplink transmission from the user terminal identified by the MAC ID field. This timing adjustment is used to reduce interference in a TDD-based frame structure (such as the one shown in FIG. 3A) where the downlink and uplink transmissions are time iivision duplexed. Table 10 lists the values for the RCH Timing Adjustment field and the associated actions.<br><br>
•	The RCH Power Control field includes two bits used to adjust the transmit<br>
power of the uplink transmission from the identified user terminal. This power control<br><br>
S used to reduce interference on the uplink.   Table 11 lists the values for the RCH 'ower Control field and the associated actions.<br><br>
The channel assignment for the identified user terminal may be provided in various manners. In an embodiment, the user terminal is assigned FCH/RCH resources or only the current TDD frame. In another embodiment, the FCH/RCH resources are assigned to the terminal for each TDD frame until canceled. In yet another smbodiment, the FCH/RCH resources are assigned to the user terminal for every ;z-th TDD frame, which is referred to as "decimated" scheduling of TDD frames. The different types of assignment may be indicated by an Assignment Type field in the "CCH information element.<br>
B. IE Type 1 - Spatial Multiplexing Mode<br>
IE type 1 is used to allocate FCH/RCH resources to user terminals using the spatial multiplexing mode. The rate for these user terminals is variable, and may be selected independently for the FCH and RCH. Table 12 lists the various fields of an exemplary IE type 1 information element.<br><br><br>
— ■	I	-	—		   -_<br>
For IE type 1, the rate for each spatial channel may be selected independently on the FCH and RCH. The interpretation of the rates for the spatial multiplexing mode is general in that it can specify the rate per spatial channel (e.g., for up to four spatial channels for the embodiment shown in Table 12). The rate is given per eigenmode if the transmitter performs spatial processing to transmit data on the eigenmodes. The rate is given per antenna if the transmitter simply transmits data from the transmit antennas and the receiver performs the spatial processing to isolate and recover the data (for the non-steered spatial multiplexing mode).<br>
The information element includes the rates for all enabled spatial channels and zeros for the ones not enabled. User terminals with less than four transmit antennas set the unused FCH/RCH Spatial Channel Rate fields to zero. Since the access point is equipped with four transmit/receive antennas, user terminals with more than four transmit antennas may use them to transmit up to four independent data streams. C. IE Type 2 - Idle Mode<br>
IE type 2 is used to provide control information for user terminals operating in an Idle state (described below). In an embodiment, when a user terminal is in the Idle state, steering vectors used by the access point and user terminal for spatial processing<br><br>
are continually updated so that data transmission can start quickly if and when resumed. Table 13 lists the various fields of an exemplary IE type 2 information element.<br>
Table 13 - FCCH IE Type 2<br><br>
D. IE Type 3 - RACH Quick Acknowledgment<br>
IE type 3 is used to provide quick acknowledgment for user terminals attempting to access the system via the RACH. To gain access to the system or to send a short message to the access point, a user terminal may transmit an RACH PDU on the uplink-After the user terminal sends the RACH PDU, it monitors the BCH to determine if the RACH Acknowledgement Bit is set. This bit is set by the access point if any user terminal was successful in accessing the system and an acknowledgment is being sent for at least one user terminal on the FCCH. If this bit is set, then the user terminal processes the FCCH for acknowledgment sent on the FCCH. IE Type 3 information elements are sent if the access point desires to acknowledge that it correctly decoded the RACH PDUs from the user terminals without assigning resources. Table 14 lists the various fields of an exemplary IE Type 3 information element.<br>
Table 14 - FCCH BE Type 3<br><br><br>
A single or multiple types of acknowledgment may be defined and sent on the FCCH. For example, a quick acknowledgment, and an assignment-based acknowledgment may be defined. A quick acknowledgment may be used to simply acknowledge that the RACH PDU has been received by the access point but that no FCH/RCH resources have been assigned to the user terminal. An assignment-based acknowledgment includes assignments for the FCH and/or RCH for the current TDD frame.<br>
The FCCH may be implemented in other manners and may also be transmitted in various ways. In one embodiment, the FCCH is transmitted at a single rate that is signaled in the BCH message. This rate may be selected, for example, based on the lowest signal-to-noise-and-interference ratios (SNRs) of all user terminals for which the FCCH is being sent in the current TDD frame. Different rates may be used for different TDD frames depending on the channel conditions of the recipient user terminals in each TDD frame.<br>
In another embodiment, the FCCH is implemented with multiple (e.g., four) FCCH subchannels. Each FCCH subchannel is transmitted at a different rate and is associated with a different required SNR in order to recover the subchannel. The FCCH subchannels are transmitted in order from lowest rate to highest rate. Each FCCH subchannel may or may not be transmitted in a given TDD frame. The first FCCH subchannel (with the lowest rate) is transmitted first and can be received by all user terminals. This FCCH subchannel can indicate whether or not each of the remaining FCCH subchannels will be transmitted in the current TDD frame. Each user terminal can process the transmitted FCCH subchannels to obtain its FCCH information element. Each user terminal can terminate processing of the FCCH if any of the following occurs: (1) failure to decode the cuiTent FCCH subchannel, (2) reception of its FCCH information element in the current FCCH subchannel, or (3) all transmitted FCCH subchannels have been processed. A user terminal can terminate processing of the FCCH as soon as it encounters FCCH decoding failure because the FCCH subchannels are transmitted at ascending rates and the user terminal is unlikely to be able to decode subsequent FCCH subchannels transmitted at higher rates.<br><br>
3. Random Access Channel (RACH) - Uplink<br>
The RACH is used by the user terminals to gain access to the system and to send ihort messages to the access point. The operation of the RACH is based on a slotted \loha random access protocol, which is described below.<br>
FIG, 5C illustrates an embodiment of RACH PDU 450. In this embodiment, the RACH PDU includes a preamble portion 552 and a message portion 554. Preamble portion 552 may be used to send a steered reference (i.e., a steered pilot), if the user terminal is equipped with multiple antennas. The steered reference is a pilot comprised of a specific set of modulation symbols that is subjected to spatial processing prior to transmission on the uplink. The spatial processing allows the pilot to be transmitted on a specific eigenmode of the MIMO channel. The processing for the steered reference is described in further detail below. Preamble portion 552 has a fixed duration of at least 2 OFDM symbols. Message portion 554 carries an RACH message and has a variable duration. The duration of the RACH PDU is thus variable.<br>
1	In an embodiment, four different rates are supported for the RACH.    The<br>
specific rate used for each RACH message is indicated by a 2-bit RACH data rate indicator (DRI), which is embedded in the preamble portion of the RACH PDU, as shown in FIG. 5C. In an embodiment, four different message sizes are also supported for the RACH. The size of each RACH message is indicated by a Message Duration field included in the RACH message. Each RACH rate supports 1,2, 3 or all 4 message sizes. Table 15 lists the four RACH rates, their associated coding and modulation parameters, and the message sizes supported by these RACH rates.<br>
Table 15<br><br><br>
The RACH message carries short messages and access requests from the user terminal. Table 16 lists the various fields of an exemplary RACH message format and the size of each field for each of the four different message sizes.<br>
Table 16<br><br>
The Message Duration field indicates the size of the RACH message- The MAC PDU Type field indicates the RACH message type. The MAC ID field contains the MAC ID that uniquely identifies the user terminal sending the RACH message. During initial system access, a unique MAC ID has not been assigned to the user terminal. In this case, a registration MAC ID (e.g., a specific value reserved for registration purpose) may be included in the MAC ID field. The Slot ID field indicates the starting RACH slot on which the RACH PDU was sent (the RACH timing and transmission is described below). The Payload field includes the information bits for the RACH message. The CRC field contains a CRC value for the RACH message, and the Tail Bits field is used to reset the convolutional encoder for the RACH. The operation of the RACH in conjunction with the BCH and FCCH for system access is described in further detail below.<br>
The RACH may also be implemented with a "fast" RACH (F-RACH) and a -slow" RACH (S-RACH). The F-RACH and S-RACH can be designed to efficiently support user terminals in different operating states. For example, the F-RACH may be used by user terminals that (1) have registered with the system, (2) can compensate for their round trip delays (RTDs) by properly advancing their transmit timing, and (3)<br><br>
achieve the required SNR for operation on the F-RACH. The S-RACH may be used by user terminals that cannot use the F-RACH for any reasons.<br>
Different designs may be used for the F-RACH and S-RACH to facilitate rapid access to the system whenever possible and to minimize the amount of system resources needed to implement random access. For example, the F-RACH can use a shorter PDU, employ a weaker coding scheme, require F-RACH PDUs to arrive approximately time-aligned at the access point, and utilize a slotted Aloha random access scheme. The S-RACH can use a longer PDU, employ a stronger coding scheme, allow S-RACH PDUs to arrive non-aligned in time at the access point, and utilize an unslotted Aloha random access scheme.<br>
For simplicity, the following description assumes that a single RACH is used for the MMO WLAN system.<br>
4. Forward Channel (FCH) - Downlink<br>
The FCH is used by the access point to transmit user-specific data to specific user terminals and page/broadcast messages to multiple user terminals. The FCH may also be used to transmit pilot to user terminals. The FCH can be allocated on a per frame basis. A number of FCH PDU types are provided to accommodate different uses of the FCH. Table 17 lists an exemplary set of FCH PDU types.<br>
Table 17 - FCHPDUTvoes<br>
FCH PDU Type 0 is used to send page/broadcast messages and user messages/packets on the FCH and only includes the message/packet. (Data for a specific user terminal may be sent as a message or a packet, and these two terms are used interchangeably herein.) FCH PDU Type 1 is used to send user packets and includes a preamble. FCH PDU Type 2 includes only the preamble and no message/packet, and is associated with Idle state FCH traffic.<br>
FIG. 5D illustrates an embodiment of an FCH PDU 430a for FCH PDU Type 0. in this embodiment, FCH PDU 430a includes only a message portion 534a for a page/broadcast message or a user packet. The message/packet can have variable length,<br><br>
which is given by the FCH Message Length field in the FCH PDU. The message length is given in integer number of PHY frames (described below). The rate and transmission mode for the page/broadcast message are specified and described below. The rate and transmission mode for the user packet are specified in the associated FCCH information element.<br>
FIG. 5E illustrates an embodiment of an FCH PDU 430b for FCH PDU Type 1.<br>
In this embodiment, FCH PDU 430b includes a preamble portion 532b and a<br>
message/packet portion 534b. Preamble portion 532b is used to send a MIMO pilot or a<br>
steered reference and has a variable length, which is given by the FCH Preamble Type<br>
field in the associated FCCH information element. Portion 534b is used to send an FCH<br>
packet and also has a variable length (in integer number of PHY frames), which is given<br>
by the FCH Message Length field in the FCH PDU. The FCH packet is sent using the<br>
rate and transmission mode specified by the associated FCCH information element.<br>
	FIG. 5F illustrates an embodiment of an FCH PDU 430c for FCH PDU Type 2.<br>
In this embodiment, FCH PDU 430c includes only a preamble portion 532c and no message portion. The length of the preamble portion is indicated by the FCCH IE. The FCH PDU Type 2 may be used to allow the user terminal to update its channel estimate while in the Idle state.<br>
\	A number of FCH Message types are provided to accommodate different uses of<br>
the FCH. Table 18 lists an exemplary set of FCH Message types.<br>
Table 18 - FCH Message Types<br><br>
	A page message may be used to page multiple user terminals and is sent using<br>
FCH PDU Type 0. If the Page Bit in the BCH message is set, then one or more FCH PDUs with page messages (or "Page PDUs") are sent first on the FCH. Multiple Page PDUs may be sent in the same frame.    Page PDUs aie transmitted using the diversity<br><br>
mode and the lowest rate of 0.25 bps/Hz to increase the likelihood of correct reception by the user terminals.<br>
	A broadcast message may be used to send information to multiple user terminals<br>
and is sent using FCH PDU Type 0. If the Broadcast Bit in the BCH message is set, then one or more FCH PDUs with broadcast messages (or "Broadcast PDUs") are sent on the FCH immediately following any Page PDUs sent on the FCH. The Broadcast PDUs are also transmitted using the diversity mode and the lowest rate of 0.25 bps/Hz to increase the likelihood of correct reception.<br>
• A user packet may be used to send user-specific data, and may be sent using FCH PDU Type 1 or 2. User PDUs of Type 1 and 2 are sent on the FCH following any Page and Broadcast PDUs sent on the FCH. Each User PDU may be transmitted using the diversity, beam-steering, or spatial multiplexing mode. The FCCH information element specifies the rate and transmission mode used for each User PDU sent on the FCH.<br>
A message or packet sent on the FCH comprises an integer number of PHY frames. In an embodiment and as described below, each PHY frame may include a CRC value that permits individual PHY frames in an FCH PDU to be checked and retransmitted if necessary. For asynchronous services, the RLP may be employed for segmentation, retransmission, and reassembly of PHY frames within a given FCH PDU. In another embodiment, a CRC value is provided for each message or packet, instead of each PHY frame.<br>
FIG. 6 illustrates an embodiment of the structure for an FCH packet 534. The FCH packet comprises an integer number of PHY frames 610. Each PHY frame includes a payload field 622, a CRC field 624, and a tail bit field 626. The first PHY frame for the FCH packet further includes a header field 620, which indicates the message type and duration. The last PHY frame in the FCH packet further includes a pad bit field 628, which contains zero padding bits at the end of the payload in order to fill the last PHY frame. In an embodiment, each PHY frame comprises 6 OFDM symbols. The number of bits included in each PHY frame is dependent on the rate used For that PHY frame.<br>
«	Table 19 lists the various fields for an exemplary FCH PDU format for FCH<br>
PDU Types 0 and 1.<br>
Table 19 - FCH PDU Format<br><br><br>
The FCH Message Type and FCH Message Length fields are sent in the header of the first PHY frame of the FCH FDU. The payload, CRC, and tail bits fields are included in each PHY frame. The payload portion of each FCH PDU carries the information bits for the page/broadcast message or user-specific packet. Pad bits are used to fill the last PHY frame of the FCH PDU, if required.<br>
A PHY frame may also be defined to comprise some other number of OFDM symbols (e.g., one, two, four, eight, and so on). The PHY frame may be defined with even number of OFDM symbols because OFDM symbols are transmitted in pairs for the diversity mode, which may be used for the FCH and RCH. The PHY frame size may be selected based on the expected traffic such that inefficiency is minimized. In particular, if the frame size is too large, then inefficiency results from using a large PHY frame to send a small amount of data. Alternatively, if the frame size is too small, then the overhead represents a larger fraction of the frame.<br>
5. Reverse Channel (RCH) - Uplink<br>
The RCH is used by the user terminals to transmit uplink data and pilot to the access point. The RCH may be allocated on a per TDD frame basis. One or more user terminals may be designated to transmit on the RCH in any given TDD frame.   A<br><br>
number of RCH PDU types are provided to accommodate different operating modes on the RCH. Table 20 lists an exemplary set of RCH PDU types.<br>
Table 20 - RCH PDU Types<br><br>
RCH PDU Type 0 is used to send a message/packet on the RCH and does not include a preamble. RCH PDU Type 1 is used to send a message/packet and includes a preamble. RCH PDU Type 2 includes a preamble and a short message, and is associated with Idle state RCH traffic.<br>
FIG. 5D illustrates an embodiment of an RCH PDU for RCH PDU Type 0. In uus embodiment, the RCH PDU includes only a message portion 534a for a variable-length RCH packet, which is given in integer number of PHY frames by the RCH Message Length field in the RCH PDU. The rate and transmission mode for the RCH packet are specified in the associated FCCH information element.<br>
FIG. 5E illustrates an embodiment of an RCH PDU for RCH PDU Type 1. In the embodiment, the RCH PDU includes a preamble portion 532b and a packet portion 534b. Preamble portion 532b is used to send a reference (e.g., a MIMO pilot or a steered reference) and has a variable length, which is given by the RCH Preamble Type field in the associated FCCH information element. Portion 534b is used to send an RCH packet and also has a variable length, which is given by the RCH Message Length field in the RCH PDU. The RCH packet is sent using the rate and transmission mode specified in the associated FCCH information element.<br>
FIG. 5G illustrates an embodiment of an RCH PDU 350d for RCH PDU Type 2. In this embodiment, the RCH PDU includes a preamble portion 532d and a message portion 536d. Preamble portion 532d is used to send a reference and has a lerigth of 1,4 or 8 OFDM symbols. Portion 536d is used to send a short RCH message and has a fixed length of one OFDM symbol. The short RCH message is sent using a specific rate and transmission mode (e.g., rate 1/2 or rate 1/4 and BPSK modulation).<br>
^ packet sent on the RCH (for PDU Types 0 and 1) comprises an integer number of PHY frames. The structure for an RCH packet (for PDU Types 0 and 1) is<br><br>
shown in FIG. 6, and is the same as for the FCH packet. The RCH packet composes an integer number of PHY frames 610. Each PHY frame includes payload field 622, an optional CRC field 624, and tail bit field 626. The first PHY frame in the RCH packet further includes header field 620, and the last PHY frame in the packet further includes pad bit field 628.<br>
Table 21 lists the various fields for an exemplary RCH PDU format for RCH PDUTypesOandl.<br><br>
The RCH Message Type, RCH Message Length, and FCH Rate Indicator fields are sent in the header of the first PHY frame of the RCH PDU. The FCH Rate Indicator field is used to convey FCH rate information (e.g., the maximum rates supported by'each of the snatial channels) to the access point.<br>
Table 22 lists the various fields for an exemplary RCH PDU format for RCH PDU Type 2.<br>
Table 22 - RCH Message for RCH PDU Type 2<br><br><br>
rhe RCH Request field is used by the user terminal to request additional capacity on the uplink. This short RCH message does not include a CRC and is transmitted in a single OFDM symbol.<br>
6. Dedicated Channel Activity<br>
Data transmission on the FCH and RCH can occur independently. Depending on the transmission modes selected for use for the FCH and RCH, one or multiple spatial channels (for the beam-steering and diversity modes) may be active and used for data transmission for each dedicated transport channel. Each spatial channel may be associated with a specific rate.<br>
When only the FCH or only the RCH has all four rates set to zero, the user terminal is idle on that link. The idle terminal still transmits an idle PDU on the RCH. When both the FCH and RCH have all four rates set to zero, both the access point and user terminal are off and not transmitting. User terminals with less than four transmit antennas set the unused rate fields to zero. User terminals with more than four transmit antennas use no more than four spatial channels to transmit data. Table 23 shows the transmission state and channel activity when the rates on all four spatial channels of either the FCH or RCH (or both) are set to zero.<br><br><br><br>
There may also be a situation where both the RCH and FCH are idle (i.e., not transmitting data) but still transmitting preamble. This is referred to as the Idle state. The control fields used to support a user terminal in the Idle state are provided in an FCCH IE Type 2 information element, which is shown in Table 13.<br>
7. Alternative Designs<br>
For clarity, specific PDU types, PDU structures, message formats, and so on, have been described for an exemplary design. Fewer, additional, and/or different types, structures, and formats may also be defined for use, and this is within the scope of the invention.<br>
ID.    OFDM Subband Structures<br>
In the above description, the same OFDM subband structure is used for all of the transport channels. Improved efficiency may be achieved by using different OFDM subband structures for different transport channels. For example, a 64-subband structure may be used for some transport channels, a 256-subband structure may be used for some other transport channels, and so on. Moreover, multiple OFDM subband structures may be used for a given transport channel.<br>
For a given system bandwidth of W, the duration of an OFDM symbol is dependent on the number of total subbands. If the total number of subbands is N, then the duration of each transformed symbol (without a cyclic prefix) is N/W psec (if W is given in MHz). A cyclic prefix is added to each transformed symbol to form a corresponding OFDM symbol. The length of the cyclic prefix is determined by the expected delay spread of the system. The cyclic prefix represents overhead, which is needed for each OFDM symbol in order to combat a frequency selective channel. This overhead represents a larger percentage of the OFDM symbol if the symbol is short and a smaller percentage if the symbol is long.<br>
Since different transport channels may be associated with different types of traffic data, a suitable OFDM subband structure may be selected for use for each<br><br>
transport channel to match the expected traffic data type. If a large amount of data is expected to be transmitted on a given transport channel, then a larger subband structure may be defined for use for the transport channel. In this case, the cyclic prefix would represent a smaller percentage of the OFDM symbol and greater efficiency may be achieved. Conversely, if a small amount of data is expected to be transmitted on a given transport channel, than a smaller subband structure may be defined for use for the transport channel. In this case, even though the cyclic prefix represents a larger percentage of the OFDM symbol, greater efficiency may still be achieved by reducing the amount of excess capacity by using a smaller size OFDM symbol. The OFDM symbol may thus be viewed as a "box car" that is used to send data, and the proper size "box car" may be selected for each transport channel depending on the amount of data expected to be sent<br>
r	For example, for the embodiment described above, the data on the FCH and<br>
RCH is sent in PHY frames, each of which comprises 6 OFDM symbols, In this case, another OFDM structure may be defined for use for the FCH and RCH. For example, a 256-subband structure may be defined for the FCH and RCH. A "large" OFDM symbol for the 256-subband structure would be approximately four times the duration of a "small" OFDM symbol for the 64-subband structure but would have four times the data-carrying capacity. However, only one cyclic prefix is needed for one large OFDM symbol, whereas four cyclic prefixes are needed for the equivalent four small OFDM symbols. Thus, the amount of overhead for the cyclic prefixes may be reduced by 75% by the use of the larger 256-subband structure.<br>
i	This concept may be extended so that different OFDM subband structures may<br>
be used for the same transport channel. For example, the RCH supports different PDU types, each of which may be associated with a certain size. In this case, a larger subband structure may be used for a larger-size RCH PDU type, and a smaller subband structure may be used for a smaller-size RCH PDU type. A combination of different subband structures may also be used for a given PDU. For example, if one long OFDM symbol is equivalent to four short OFDM symbols, then a PDU may be sent using Niarge large OFDM  symbols  and  NsmaU  small  OFDM  symbols,  where   N^ &gt; 0   and<br><br>
Different OFDM subband structures are associated with OFDM symbols of different lengths. Thus, if different OFDM subband structures are used for different transport channels (and/or for the same transport channel), then the FCH and RCH offsets for the FCH and RCH PDUs would need to be specified with the proper time resolution, which is smaller than an OFDM symbol period. In particular, the time increment for the FCH and RCH PDUs may be given in integer numbers of cyclic prefix length, instead of OFDM symbol period. IV.    Rates and Transmission Modes<br>
The transport channels described above are used to send various types of data for various services and functions. Each transport channel may be designed to support one or more rates and one or more transmission modes.<br>
1. Transmission Modes<br>
i	A number of transmission modes are supported for the transport channels. Each<br>
transmission mode is associated with specific spatial processing at the transmitter and receiver, as described below. Table 24 lists the transmission mode(s) supported by each of the transport channels.<br><br>
For the diversity mode, each data symbol is transmitted redundantly over multiple transmit antennas, multiple subbands, multiple symbol periods, or a combination thereof to achieve spatial, frequency, and/or time diversity. For the beam-steering mode, a single spatial channel is used for data transmission (typically the best spatial channel), and each data symbol is transmitted on the single spatial channel using full transmit power available for the transmit antennas. For the spatial multiplexing mode, multiple<br><br>
spatial channels are used for data transmission, and each data symbol is transmitted on one spatial channel, where a spatial channel may correspond to an eigenmode, a transmit antenna, and so on. The beam-steering mode may be viewed as a special case of the spatial multiplexing mode whereby only one spatial channel is used for data transmission.<br>
The diversity mode may be used for the common transport channels (BCH and FCCH) for the downlink from the access point to the user terminals. The diversity mode may also be used for the dedicated transport channels (FCH and RCH). The use of the diversity mode on the FCH and RCH may be negotiated at call setup. The diversity mode transmits data on one "spatial mode" using a pair of antennas for each subband.<br>
The beam-steering mode may be employed on the RACH by user terminals with multiple transmit antennas. A user terminal can estimate the MEMO channel based on the MIMO pilot sent on the BCH. This channel estimate may then be used to perform beam-steering on the RACH for system accesses. The beam-steering mode may also be used for the dedicated transport channels (FCH and RCH). The beam-steering mode may be able to achieve higher received signal-to-noise-and-interference ratio (SNR) at the receiver than the diversity mode by exploiting the gain of the antenna array at the transmitter. In addition, the preamble portion of the PDU may be reduced since the steered reference only includes symbols for a single "steered" antenna. The diversity mode may also be used for the RACH.<br>
The spatial multiplexing mode may be used for the FCH and RCH to achieve greater throughput, when supported by the channel conditions. The spatial multiplexing and beam-steering modes are reference driven and require closed-loop control for proper operation. As such, a user terminal is allocated resources on both the FCH and RCH to support the spatial multiplexing mode. Up to four spatial channels may be supported on the FCH and RCH (limited by the number of antennas at the access point).<br>
2. Coding and Modulation<br>
A number of different rates are supported for the transport channels. Each rate is associated with a particular code rate and a particular modulation scheme, which collectively results in a particular spectral efficiency (or data rate). Table 25 lists the various rates supported by the system.<br>
Table 25<br><br><br>
Each common transport channel supports one or more rates and one transmission mode (or possibly more, as may be the case for the RACH). The BCH is transmitted at a fixed rate using the diversity mode. The FCCH may be transmitted at one of four possible rates, as indicated by the FCCH Phy Mode field in the BCH message, using the diversity mode. In one embodiment, the RACH may be transmitted at one of four possible rates, as indicated by the RACH DRI embedded in the preamble of the RACH PDU, and each RACH message is one of four possible sizes. Li another embodiment, the RACH is transmitted at a single rate. Table 26 lists the coding, modulation, and transmission parameters and the message sizes supported by each common transport channel.<br><br><br>
The FCCH message is variable in size and given in even number of OFDM symbols.<br>
The FCH and RCH support all of the rates listed in Table 25. Table 27 lists the coding, modulation, and transmission parameters and the message sizes supported by the FCH and RCH.<br><br><br><br>
Note A: each rate 1/2 code bit is repeated on two subbands to obtain an effective code rate of 1/4. The parity bits represent redundancy bits introduced by the coding and are used for error correction by the receiver.<br>
"he PHY frame size in Table 27 indicates the number of code bits, modulation symbols, and OFDM symbols for each PHY frame. If 48 data subbands are used for data transmission, then each OFDM symbol includes 48 modulation symbols. For the diversity and beam-steering modes, one symbol stream is transmitted and the PHY frame size corresponds to the single rate employed for this symbol stream. For the spatial multiplexing mode, multiple symbol streams may be sent on multiple spatial channels, and the overall PHY frame size is determined by the sum of the PHY frame sizes for the individual spatial channels. The PHY frame size for each spatial channel is letermined by the rate employed for that spatial channel.<br>
As an example, suppose the MEMO channel is capable of supporting four spatial channels operating at spectral efficiencies of 0.5, 1.5, 4.5, and 5.5 bps/Hz. The four rates selected for the four spatial channels would then be as shown in Table 28.<br>
Table 28 - Example Spatial Multiplexing Transmission<br>
^ 	——	—-—■—■	■			.	.	.		.	<br><br>
The overall PHY frame size is then 144 + 432 +1296 +1584 = 3456 information bits or 288 + 576 + 1728 + 2304 = 4896 code bits. Even though each of the four spatial channels supports a different number of payload bits, the overall PHY frame can be transmitted in 6 OFDM symbols (e.g., 24 [Xsec, assuming 4 ^sec/OFDM symbol).<br>
V.     Physical Laver Processing<br>
FIG. 7 shows a block diagram of an embodiment of an access point HOx and two user terminals 120x and 120y within the MIMO WLAN system.<br>
On the downlink, at access point 11Ox, a transmit (TX) data processor 710 receives traffic data (i.e., information bits) from a data source 708 and signaling and other information from a controller 730 and possibly a scheduler 734. These various types of data may be sent on different transport channels. TX data processor 710 "frames" the data (if necessary), scrambles the framed/unframed data, encodes the scrambled data, interleaves (i.e., reorders) the coded data, and maps the interleaved data into modulation symbols. For simplicity, a "data symbol" refers to a modulation symbol for traffic data, and a "pilot symbol" refers to a modulation symbol for pilot. The scrambling randomizes the data bits. The encoding increases the reliability of the data transmission. The interleaving provides time, frequency, and/or spatial diversity for the code bits. The scrambling, coding, and modulation may be performed based on control signals provided by controller 730 and are described in further detail below. TX data processor 710 provides a stream of modulation symbols for each spatial channel used for data transmission.<br>
A TX spatial processor 720 receives one or more modulation symbol streams from TX data processor 710 and performs spatial processing on the modulation symbols to provide four streams of transmit symbols, one stream for each transmit antenna. The spatial processing is described in further detail below.<br>
Each modulator (MOD) 722 receives and processes a respective transmit symbol vujam to provide a corresponding stream of OFDM symbols. Each OFDM symbol stream is further processed to provide a corresponding downlink modulated signal. The four downlink modulated signals from modulator 722a through 722d are then transmitted from four antennas 724a through 724d, respectively.<br>
At each user terminal 120, one or multiple antennas 752 receive the transmitted downlink modulated signals, and each receive antenna provides a received signal to a<br><br>
respective demodulator (DEMOD) 754. Each demodulator 754 performs processing complementary to that performed at modulator 722 and provides received symbols. A receive (RX) spatial processor 760 then performs spatial processing on the received symbols from all demodulators 754 to provide recovered symbols, which are estimates of the modulation symbols sent by the access point.<br>
An RX data processor 770 receives and demultiplexes the recovered symbols into their respective transport channels. The recovered symbols for each transport channel may be symbol demapped, deinterleaved, decoded, and descrambled to provide decoded data for that transport channel. The decoded data for each transport channel may include recovered packet data, messages, signaling, and so on, which are provided to a data sink 772 for storage and/or a controller 780 for further processing.<br>
The processing by access point 110 and terminal 120 for the downlink is described in further detail below. The processing for the uplink may be the same or different from the processing for the downlink.<br>
For the downlink, at each active user terminal 120, RX spatial processor 760 further estimates the downlink to obtain channel state information (CSI). The CSI may include channel response estimates, received SNRs, and so on. RX data processor 770 may also provide the status of each packet/frame received on the downlink. A controller 780 receives the channel state information and the packet/frame status and determines the feedback information to be sent back to the access point. The feedback information is processed by a TX data processor 790 and a TX spatial processor 792 (if present), conditioned by one or more modulators 754, and transmitted via one or more antennas 752 back to the access point.<br>
At access point 110, the transmitted uplink signal(s) are received by antennas 724, demodulated by demodulators 722, and processed by an RX spatial processor 740 and an RX data processor 742 in a complementary manner to that performed at the user terminal. The recovered feedback information is then provided to controller 730 and a scheduler 734.<br>
cheduler 734 uses the feedback information to perform a number of functions such as (1) selecting a set of user terminals for data transmission on the downlink and uplink, (2) selecting the transmission rate(s) and the transmission mode for each selected user terminal, and (3) assigning the available FCH/RCH resources to the selected terminals.  Scheduler 734 and/or controller 730 further uses information (e.g.,<br><br>
steering vectors) obtained from the uplink transmission for the processing of the downlink transmission, as described in further detail below.<br>
A number of transmission modes are supported for data transmission on the downlink and uplink. The processing for each of these transmission modes is described in further detail below.<br>
1. Diversity Mode - Transmit Processing<br>
FIG. 8A shows a block diagram of an embodiment of a transmitter unit 800 capable of performing the transmit processing for the diversity mode. Transmitter unit 800 may be used for transmitter portion of the access point and the user terminal.<br>
Within a TX data processor 710a, a framing unit 808 frames the data for each packet to be transmitted on the FCH or RCH. The framing need not be performed for the other transport channels. The framing may be performed as illustrated in FIG. 6 to generate one or more PHY frames for each user packet. A scrambler 810 then scrambles the framed/unframed data for each transport channel to randomize the data.<br>
An encoder 812 receives and codes the scrambled data in accordance with a selected coding scheme to provide code bits. A repeat/puncture unit 814 then repeats or punctures (i.e., deletes) some of the code bits to obtain the desired code rate. In an embodiment, encoder 812 is a rate 1/2, constraint length 7, binary convolutional encoder. A code rate of 1/4 may be obtained by repeating each code bit once. Code rates greater than 1/2 may be obtained by deleting some of the code bits from encoder 812. A specific design for framing unit 808, scrambler 810, encoder 812, and repeat/puncture unit 814 is described below.<br>
An interieaver 818 then interleaves (i.e., reorders) the code bits from unit 814 based on a selected interleaving scheme. In an embodiment, each group of 48 consecutive code bits to be transmitted on a given spatial channel is spread over the 48 data-carrying subbands (or simply, data subbands) to provide frequency diversity. The interleaving is described in further detail below.<br>
A symbol mapping unit 820 then maps the interleaved data in accordance with a particular modulation scheme to provide modulation symbols. As shown in Table 26, BPSK, 4 QAM, or 16 QAM may be used for the diversity mode, depending on the selected rate. In the diversity mode, the same modulation scheme is used for all data subbands. The symbol mapping may be achieved by (1) grouping sets of B bits to form B-bit values, where B&gt;1, and (2) mapping each B-bit value to a point in a signal<br><br>
constellation corresponding to the selected modulation scheme. Each mapped signal point is a complex value and corresponds to a modulation symbol. Symbol mapping unit 820 provides a stream of modulation symbols to a TX diversity processor 720a.<br>
In an embodiment, the diversity mode utilizes space-time transmit diversity (STTD) for dual transmit diversity on a per subband basis. STTD supports simultaneous transmission of independent symbol streams on two transmit antennas while maintaining orthogonality at the receiver.<br>
&gt;	The STTD scheme operates as follows. Suppose that two modulation symbols,<br>
denoted as  sx and s2, are to be transmitted on a given subband.    The transmitter<br>
generates two vectors, Xi-t-sy  s2]T  and x2=02  -^*]r5 where " * " denotes the<br>
complex conjugate and " " denotes the transpose. Each vector includes two elements that are to be transmitted from two transmit antennas in one symbol period (i.e., vector xx  is transmitted from two antennas in the first symbol period, and vector X2 *s<br>
transmitted from two antennas in the next symbol period).<br>
If the receiver is equipped with a single receive antenna, then the received symbols may be expressed as:<br>
  Eq(l)<br>
where   75 and r2 are two symbols received in two consecutive symbol periods at the receiver, 1\ and /^ are the path gains from the two transmit antennas to the receive<br>
antenna for the subband under consideration, where the path gains are assumed to be constant over the subband and static over the 2-syrhbol period; and «j and n2 are the noise associated with the two received symbols rx and r2,<br>
respectively. The receiver may then derive estimates of the two transmitted symbols, sx and s2, as follows:<br><br><br>
Ill I      *&gt;   I	111	I      l&gt;   I<br>
The above description may be extended for a MIMO-OFDM system with two or more transmit antennas, NR receive antennas, and multiple subbands. Two transmit antennas are used for any given subband. Suppose that two modulation symbols, denoted as s^k) and s2(k), are to be transmitted on a given subband L The transmitter<br>
generates   two   vectors    xl(k) = [sl(k) sz(k)]T    and    x2(fc) = |&gt;*(fc) -sl(k)]T    or<br>
equivalently two symbol sets {x((k)} = {s^k)  s*2(k)} and {Xj(k)}-{s2{k)  -sl(k)}.<br>
Each symbol set includes two elements that are to be transmitted sequentially in two symbol periods from a respective transmit antenna on subband k (i.e., symbol set {xt(k)} is transmitted on subband k from antenna i in two symbol periods, and symbol<br>
set'{x^(i)} is transmitted on subband k from antenna; in the same 2-symbol period).<br>
»	The vectors of received symbols at the receive antennas in the two symbol<br>
periods may be expressed as:<br>
EiW = hI.(fc)51(fc)+hJ(fc)52(fc)+n1(Jfe)  ,and<br>
r2(fc) =hl-(^(fe)-hJ-(/:K(fc) + n2^)   ,<br>
where  rx(k) and r2(fc) are two symbol vectors received in two consecutive symbol<br>
periods on subband k at the receiver, with each vector including NR received symbols for NR receive antennas;<br><br>
h.(fc) and hj(k) are the vectors of path gains from the two transmit antennas i<br>
and j to the NR receive antennas for subband k, with each vector including the channel gains from the associated transmit antenna to each of the NR receive antennas, where the path gains are assumed to be constant over the subband and static over the 2-symbol period; and<br>
nx(k) and n2(k) are noise vectors associated with the two received vectors r^k) and r2 (£), respectively.<br>
The receiver may then derive estimates of the two transmitted symbols, sx(k) and s2(k), as follows:<br><br>
Alternatively, the transmitter may generate two symbol sets {jc/(jt)} = {^1(fc)  s2(k)} and {Xj(k)} = {s*2(k\ sl(k)} and transmit these two symbol<br>
sets from two transmit antennas i and j. The vectors of received symbols may then be expressed as:<br><br>
The receiver may then derive estimates of the two transmitted symbols as follows:<br><br>
The STTD scheme is described by S.M. Alamouti in a paper entitled "A Simple Transmit Diversity Technique for Wireless Communications," IEEE Journal on Selected Areas in Communications, Vol. 16, No. 8, October 1998, pgs. 1451-1458. The STTD scheme is also described in commonly assigned U.S. Patent Application Serial No. 09/737,602, entitled "Method and System for Increased Bandwidth Efficiency in Multiple Input - Multiple Output Channels," filed January 5, 2001, and U.S. Patent<br><br>
Application Serial No 10/17Q.41Q enutlr.fl "diversity Transmission Modes for MIMO OFDM Communication Systems," filed June 24,2002.<br>
The STTD scheme effectively transmits one modulation symbol per subband over two transmit antennas in each symbol period. However, the STTD scheme distributes the information in each modulation symbol over two successive OFDM symbols. Thus, the symbol recovery at the receiver is performed based on two consecutive received OFDM symbols.<br>
The STTD scheme utilizes one pair of transmit antennas for each data subband. Since the access point includes four transmit antennas, each antenna may be selected for use for half of the 48 data subbands. Table 29 lists an exemplary subband-antenna assignment scheme for the STTD scheme.<br><br>
As shown in Table 29, transmit antennas 1 and 2 are used for subbands with indices -26, -19, -13, and so on, transmit antennas 2 and 4 are used for subbands with indices -25, -18, -12, and so on, transmit antennas 1 and 3 are used for subbands with<br><br>
indices -24, -17, -11, and so on. There are six different antenna pairings with four transmit antennas. Each of the six antenna pairings is used for 8 data subbands, which are spaced approximately uniformly across the 48 data subbands. The antenna-pairing to subband assignment is such that different antennas are used for adjacent subbands, which may provide greater frequency and spatial diversity. For example, antennas 1 and 2 are used for subband -26, and antennas 3 and 4 are used for subband -25.<br>
The antenna-subband assignment in Table 29 is also such that all four transmit antennas are used for each code bit for the lowest rate of 1/4, which may maximize spatial diversity. For rate 1/4, each code bit is repeated and sent on two subbands (which is also referred to as dual subband repeat coding). The two subbands used for each code bit are mapped to different antenna pairs so that all four antennas are used to transmit that code bit. For example, bit indices 0 and 1 in Table 29 correspond to the same code bit for the diversity mode, where the bit with index 0 is transmitted from antennas 1 and 2 on subband -26 and the bit with index 1 is transmitted from antennas 3 and 4 on subband 1. As another example, bit indices 2 and 3 in Table 29 correspond to the same code bit, where the bit with index 2 is transmitted from antennas 1 and 3 in subband -17 and the bit with index 3 is transmitted from antennas 2 and 4 in subband 10.<br>
•	The system may support other transmit diversity schemes, and this is within the<br>
scope of the invention. For example, the system may support a space-frequency transmit diversity (SFTD) that can achieve space and frequency diversity on a per-subband-pair basis. An exemplary SFTD scheme operates as follows. Suppose that two modulation symbols, denoted as s(k) and s(k +1), are generated and mapped to two adjacent subbands of an OFDM symbol. For SFTD, the transmitter would transmit symbols  s(k)  and  s(k + l)  from two antennas on subband k and would transmit<br>
symbols /(£ + l) and -/(£) from the same two antennas on subband ]fc+-l. Adjacent subbands are used for the pair of modulation symbols because the channel response is assumed to be constant for the transmission of the two pairs of symbols. The1 processing at the receiver to recover the modulation symbols is the same as for the STTD scheme, except that the received symbols for two subbands instead of two OFDM symbol periods are processed.<br><br>
FIG. 8B shows a block diagram of an embodiment of a TX diversity processor 20a capable of implementing the STTD scheme for the diversity mode.<br>
Within TX diversity processor 720a, a demultiplexer 832 receives and lemultiplexes the stream of modulation symbols s(n) from TX data processor 710a<br>
nto 48 substreams, denoted as sx (n) through sk (n), for the 48 data subbands.  Each<br>
nodulation symbol substream includes one modulation symbol for each symbol period,<br>
vhich corresponds to a symbol rate of {T0FDM)-1, where T0EDM is the duration of one<br>
DFDM symbol. Each modulation symbol substream is provided to a respective TX subband diversity processor 840.<br>
Within each TX subband diversity processor 840, a demultiplexer 842 demultiplexes the modulation symbols for the subband into two symbol sequences, with<br>
each sequence having a symbol rate of (2TOFDM)_1. A space-time encoder 850 receives<br>
the two modulation symbol sequences and, for each 2-symbol period, uses two symbols<br>
s\  and $2  in the  two  sequences to form two  symbol  sets   {x/} = {^1   s*}   and<br>
{Xj} = {s2 -s[) for two transmit antennas. Each symbol set includes two symbols, one symbol from each of the two sequences. Symbol set {xs) is generated by providing symbol sx first and symbol s*2 next, where sx is obtained via a switch 856a and si is obtained by taking the conjugate of s2 with a unit 852a and delaying the conjugated symbol by one symbol period with a delay unit 854a.   Similarly, symbol set {xs} is<br>
generated by providing symbol s2 first and symbol - $,* next, where s2 is obtained via a switch 856b and - s* is obtained by taking the negative conjugate of s} with a unit 852b and delaying the negative conjugated symbol by one symbol period with a delay unit 854b. The two symbol sets {JC.} and {xj} are to be transmitted from two antennas<br>
1 and j assigned to the subband, as indicated in Table 29. Space-time encoder 850 provides the first symbol set {x.} = {^  s*} to a buffer/multiplexer 870 for the first<br>
transmit   antenna   i   and   the   second   symbol   set    {x}.} = {s2   -s[}   to   another<br>
buffer/multiplexer 870 for the second transmit antenna 7. The two symbols provided by space-time encoder 850 for each symbol period are referred to as STTD symbols.<br><br>
Buffers/multiplexers 870a through 870d are used to buffer and multiplex the STTD symbols from all diversity processors 840. Each buffer/multiplexer 870 receives pilot symbols and STTD symbols from the appropriate TX subband diversity processors 840, as determined by Table 29. For example, buffer/multiplexer 870a receives modulation symbols for subbands -26, -24, -22, -19, and so on (i.e., all subbands mapped to antenna 1), buffer/multiplexer 870b receives modulation symbols for subbands -26, -23, -20, -19, and so on (i.e., all subbands mapped to antenna 2), buffer/multiplexer 870c receives modulation symbols for subbands -25, -24, -20, -18, and so on (i.e., all subbands mapped to antenna 3), and buffer/multiplexer 870d receives modulation symbols for subbands -25, -23, -22, -18, and so on (i.e., all subbands mapped to antenna 4).<br>
	Each buffer/multiplexer 870 then, for each symbol period, multiplexes four<br>
pilots, 24 STTD symbols, and 36 zeros for the four pilot subbands, 24 data subbands, and 36 unused subbands, respectively, to form a sequence of 64 transmit symbols for the 64 total subbands. Although there are a total of 48 data subbands, only 24 subbands are used for each transmit antenna for the diversity mode, and the effective total number of unused subbands for each antenna is thus 36 instead of 12. Each transmit symbol is a complex value (which may be zero for an unused subband) that is sent on one subband in one symbol period. Each buffer/multiplexer 870 provides a stream of transmit symbols xf(n) for one transmit antenna.   Each transmit symbol stream comprises<br>
concatenated sequences of 64 transmit symbols, one sequence for each symbol period.<br>
Referring back to FIG. 8A, TX diversity processor 720a provides four transmit symbol<br>
streams, ^(n) through x4 (ri), to four OFDM modulators 722a through 722d.<br>
h	FIG. 8C shows a block diagram of an embodiment of an OFDM modulator<br>
722x, which may be used for each of OFDM modulators 722a through 722d in FIG. 8A. Within OFDM modulator 722x, an inverse fast Fourier transform (IFFT) unit 852 receives a stream of transmit symbol, jc;-(n), and converts each sequence of 64 transmit<br>
symbols into its time-domain representation (which is referred to as a transformed<br>
symbol) using a 64-point inverse fast Fourier transform.   Each transformed symbol<br>
comprises 64 time-domain samples corresponding to the 64 total subbands.<br>
}	For each transformed symbol, cyclic prefix generator 854 repeats a portion of<br>
the transformed symbol to form a corresponding OFDM symbol. As noted above, one<br><br>
f two different cyclic prefix lengths may be used. The cyclic prefix for the BCH is fixed and is 800 nsec. The cyclic prefix for all other transport channels is selectable either 400 nsec or 800 nsec) and indicated by the Cyclic Prefix Duration field of the 5CH message. For a system with a bandwidth of 20 MHz, a sample period of 50 nsec, nd 64 subbands, each transformed symbol has a duration of 3.2 msec (or 64x50 nsec) nd each OFDM symbol has a duration of either 3.6 msec or 4.0 msec depending on vhether the 400 nsec or 800 nsec cyclic prefix is used for the OFDM symbol.<br>
FIG. 8D illustrates an OFDM symbol. The OFDM symbol is composed of two &gt;arts: a cyclic prefix having a duration of 400 or 800 nsec (8 or 16 samples) and a ransformed symbol with a duration of 3.2 jxsec (64 samples). The cyclic prefix is a :opy of the last 8 or 16 samples (i.e., a cyclic continuation) of the transformed symbol ind is inserted in front of the transformed symbol. The cyclic prefix ensures that the DEDM symbol retains its orthogonal property in the presence of multipath delay spread, :hereby improving performance against deleterious path effects such as multipath and :hannel dispersion caused by frequency selective fading.<br>
Cyclic prefix generator 854 provides a stream of OFDM symbols to a transmitter<br>
(TMTR) 856. Transmitter 856 converts the OFDM symbol stream into one or more<br>
analog signals, and further amplifies, filters, and frequency upconverts the analog<br>
signals to generate a modulated signal suitable for transmission from an associated<br>
antenna.<br>
&gt;	The baseband waveform for an OFDM symbol may be expressed as:<br>
*„(')=        5&gt;n(W„(U)   ,	Eq(3)<br>
jfc =~NSTt2tk^0<br>
where   n denotes the symbol period (i.e., the OFDM symbol index); k denotes the subband index;<br>
Nff is the number of pilot and data subbands;<br>
cn (k) denotes the symbol transmitted on subband k of symbol period n; and<br><br>
¥„(*,» H<br><br>
eJ2*Wlt-TCF-nTs)      ^  f0f   ^ <t l></t>
0	, otherwise<br><br>
where   TCP is the cyclic prefix duration; Ts is the OFDM symbol duration; and A/      is the bandwidth of each subband.<br><br>
2. Spatial Multiplexing Mode - Transmit Processing FIG. 9A shows a block diagram of a transmitter unit 900 capable of performing the transmit processing for the spatial multiplexing mode. Transmitter unit 900 is another embodiment of the transmitter portion of the access point and the user terminal. For the spatial multiplexing mode, again assuming that four transmit antennas and four receive antennas are available, data may be transmitted on up to four spatial channels. A different rate may be used for each spatial channel depending on its transmission capacity. Each rate is associated with a particular code rate and modulation scheme, as shown in Table 25. In the following description it is assumed that NE spatial channels are selected for use for data transmission, where NE <ns min nr></ns>
Within a TX data processor 710b, framing unit 808 frames the data for each FCH/RCH packet to generate one or more PHY frames for the packet. Each PHY frame includes the number of data bits that may be transmitted in all NE spatial channels within 6 OFDM symbols. Scrambler 810 scrambles the data for each transport channel. Encoder 812 receives and codes the scrambled data in accordance with a selected coding scheme to provide code bits. In an embodiment, a common coding scheme is used to code the data for all NE spatial channels, and different code rates for different spatial channels are obtained by puncturing the code bits with different puncturing patterns. Puncture unit 814 thus punctures the code bits to obtain the desired code rate for each spatial channel. The puncturing for the spatial multiplexing mode is described in further detail below.<br>
I	A demultiplexer 816 receives and demultiplexes the code bits from puncture unit<br>
814 to provide NE code bit streams for the NE spatial channels selected for use. Each<br>
code bit stream is provided to a respective interleaver 818, which interleaves the code<br>
bits in the stream across the 48 data subbands. The coding and interleaving for the<br>
spatial multiplexing mode are described in further detail below. The interleaved data<br>
from each interleaver 818 is provided to a respective symbol mapping unit 820.<br>
^	In the spatial multiplexing mode, up to four different rates may be used for the<br>
four spatial channels, depending on the received SNRs achieved for these spatial channels. Each rate is associated with a particular modulation scheme, as shown in Table 25. Each symbol mapping unit 820 maps the interleaved data in accordance with a particular modulation scheme selected for the associated spatial channel to provide modulation symbols.   If all four spatial channels are selected for use, then symbol<br><br>
mapping units 820a through 820d provide four streams of modulation symbols for the four spatial channels to a TX spatial processor 720b.<br>
TX spatial processor 720b performs spatial processing for the spatial multiplexing mode. For simplicity, the following description assumes that four transmit antennas, four receive antennas, and 48 data subbands are used for data transmission. The data subband indices are given by the set K, where K = ± {1,..., 6,8..., 20,22,... 26}<br>
for the OFDM subband structure described above.<br>
The model for a MIMO-OFDM system may be expressed as:<br>
r(Jfc) = H(Jfc)x(fc)+n(k)  , for k e K ,	Eq (5)<br>
where r(&amp;) is a "receive" vector with four entries for the symbols received via the four<br>
' receive antennas for subband k (i.e., r(k) — [rx(k) r2(k) r3(fc) r4(k)] ); x(k)  is a "transmit" vector with four entries for the symbols transmitted from the four transmit antennas for subband k (i.e., x(fc) = [x,(fc) ^(k) ^(fc) xA(k)f)l H(fc) is an (NRxNT) channel response matrix for subband k; and n(k) is a vector of additive white Gaussian noise (AWGN) for subband k. The noise vector n(fc) is assumed to have components with zero mean and a covariance matrix of An = cr\, where I is the identity matrix and a2 is the noise variance. The channel response matrix H(£) for subband k may be expressed as:<br><br>
where entry h^(k)9 for is {1,2,3,4} and je {1,2,3,4}, is the coupling (i.e., complex<br>
gain) between transmit antenna i and receive antenna; for subband L For simplicity, it is assumed that the channel response matrices H(£), for k e K , are known or can be ascertained by both the transmitter and receiver.<br>
»	The channel response matrix H(fc) for each subband may be "diagonalized" to<br>
obtain the Ns eigenmodes for that subband. This can be achieved by performing eigenvalue   decomposition    on   the   correlation    matrix    of    H(fc),    which   is<br><br>
R(ft) = HH (ft)H(ft), where HH(ft) denotes the conjugate transpose of H(ft).   The eigenvalue decomposition of the correlation matrix R(ft) may be expressed as:<br>
R(ft) = V(Jt)D(K)VH (ft)  , for ft e K ,	Eq (7)<br>
where V(ft) is an (NTxNT) unitary matrix whose columns are eigenvectors of R(ft) (i.e.,   Y(fc) = [v1(K) y2(ft) v3(ft) v4(ft)],   where   each   v,(ft)   is   an eigenvector for one eigenmode); and D(fc)   is an (NTxNT) diagonal matrix of eigenvalues of R(ft).<br>
A unitary matrix is characterized by the property M M = I. Eigenvectors v.(£), for ie {1,2,3,4}, are also referred to as transmit steering vectors for each of the spatial channels.<br>
The channel response matrix H(ft) may also be diagonalized using singular value decomposition, which may be expressed as:<br>
H(Jfc) = U(ft)E(ft)V" (ft)   , for ft e K ,	Eq (8)<br>
where  V(ft) is a matrix whose columns are right eigenvectors of H(ft);<br>
Z(ft) is a diagonal matrix containing singular values of H(ft), which are positive square roots of the diagonal elements of D(ft), the eigenvalues of R(ft); and<br>
U(ft) is a matrix whose columns are left eigenvectors of H(ft). Singular value decomposition is described by Gilbert Strang in a book entitled "Linear Algebra and Its Applications," Second Edition, Academic Press, 1980.   As shown in equations (7) and (8), the columns of the matrix V(ft) are eigenvectors of R(ft) as well<br>
as right eigenvectors of H(ft).   The columns of the matrix U(ft) are eigenvectors of<br>
EJ<br>
H(ft)H  (ft) as well as left eigenvectors of H(ft).<br>
The diagonal matrix D(ft) for each subband contains non-negative real values<br>
along the diagonal and zeros everywhere else. The eigenvalues of R(ft) are denoted as<br>
(4(ft), y^(ft), ^(jt), A4(k)} or U-(ft)} for ie {1,2,3,4}.<br>
The eigenvalue decomposition may be performed independently for the channel response matrix  H(ft)  for each of the 48 data subbands to determine the four<br>
eigenmodes for that subband (assuming that each matrix H(ft) is full rank).  The four<br><br>
eigenvalues for each diagonal matrix ~D(k) may be ordered such that {Ay(k) &gt;\{k) &gt;^{k) &gt;AA(k)}, where \{k) is the largest eigenvalue and A4(k) is the smallest eigenvalue for subband L When the eigenvalues for each diagonal matrix D(fc) are ordered, the eigenvectors (or columns) of the associated matrix V(fc) are also<br>
ordered correspondingly.<br>
A "wideband" eigenmode may be defined as the set of same-order eigenmodes of all subbands after the ordering (i.e., wideband eigenmode m includes eigenmodes m of all subbands). Each wideband eigenmode is associated with a respective set of eigenvectors for all of the subbands.  The "principal" wideband eigenmode is the one<br>
associated with the largest singular value in each of the matrices 2(fc)   after the<br>
Drdering.<br>
A vector dm may then be formed to include the w-th rank eigenvalue for all 48<br>
data subbands. This vector dm may be expressed as:<br><f ...>] &gt; for m = {l,2,3,4} -      Eq (9)<br>
The vector d  includes the eigenvalues for the best or principal wideband eigenmode.<br>
For a MIMO-OFDM system with four transmit antennas and four receive antennas (i.e., a 4x4 system), there are up four wideband eigenmodes.<br>
If the noise variance a2 at the receiver is constant across the operating band and known to the transmitter, then the received SNR for each subband of each wideband eigenmode may be determined by dividing the eigenvalue Am(k) by the noise variance<br><j2. for simplicity the noise variance can be assumed to equal one cr2="1)." spatial multiplexing mode total transmit power ptoml available></j2.>
transmitter may be distributed to the wideband eigenmodes based on various power allocation schemes.    In one scheme, the total transmit power  Ptotal  is distributed<br>
uniformly to all four wideband eigenmodes such that Pm =Ptotal/4, where Pm is the transmit power allocated to wideband eigenmode m. In another scheme, the total transmit power Ptotal is distributed to the four wideband eigenmodes using a water-filling procedure.<br>
»	The   water-filling   procedure   distributes   power   such   that   the   wideband<br>
eigenmodes with higher power gains receive greater fractions of the total transmit<br><br>
)Ower. The amount of transmit power allocated to a given wideband eigenmode is letermined by its received SNR, which in turn is dependent on the power gains (or eigenvalues) for all of the subbands of that wideband eigenmode. The water-filling &gt;rocedure may allocate zero transmit power to wideband eigenmodes with sufficiently )Oor received SNRs. The water-filling procedure receives p = {#, /?2, J32, /?4} for the<br>
bur wideband eigenmodes, where J3m is a normalization factor for wideband iigenmode m and may be expressed as:<br>
  Eq (10)<br>
rhe normalization  factor   J3m   keeps  the  transmit power allocated  to  wideband<br>
eigenmode m invariant after channel inversion is applied, as described below. As shown in equation (10), the normalization factor /?m can be derived based on the<br>
eigenvalues in the vector dm and with the assumption of the noise variance being equal<br>
Lo one (i.e., a2 =1).<br>
»	The water-filling procedure then determines the fraction ocm of the total transmit<br>
power to allocate to each wideband eigenmode based on the set 0 such that spectral<br>
sfficiency or some other criterion is optimized. The transmit power allocated to wideband eigenmode m by the water-filling procedure may be expressed as:<br><br>
mode may be selected for use if more than one value in set a is non-zero.<br>
The procedure for performing water-filling is known in the art and not described herein. One reference that describes water-filling is "Information Theory and Reliable Communication," by Robert G. Gallager, John Wiley and Sons, 1968, * which is incorporated herein by reference.<br>
	For the spatial multiplexing mode, the rate for each spatial channel or wideband<br>
eigenmode may be selected based on the received SNR achieved by that spatial channel/wideband eigenmode with its allocated transmit power of Pm. For simplicity,<br><br>
he following description assumes data transmission on the wideband eigenmodes. The received SNR for each wideband eigenmode may be expressed as:<br><br>
in one embodiment, the rate for each wideband eigenmode is determined based on a able that includes the rates supported by the system and a range of SNRs for each rate, This table may be obtained by computer simulation, empirical measurements, and so on. The particular rate to use for each wideband eigenmode is the rate in the table with a ange of SNRs covering the received SNR for the wideband eigenmode. In another embodiment, the rate for each wideband eigenmode is selected based on (1) the received SNR for the wideband eigenmode, (2) an SNR offset used to account for estimation error, variability in the MEMO channel, and other factors, and (3) a table of supported ates and their required SNRs. For this embodiment, an average received SNR for each wideband eigenmode is first computed as described above or as an average of the eceived SNRs (in units of dBs) for all of the subbands of the wideband eigenmode. In my case, an operating SNR is next computed as the sum of the received SNR and the SNR offset (where both are given in units of dBs). The operating SNR is then :ompared against the required SNR for each of the rates supported by the system. The lighest rate in the table with a required SNR that is less than or equal to the operating SNR is then selected for the wideband eigenmode. The rate for the transmit diversity node and the beam-steering mode may also be determined in similar manner.<br>
The transmit power  Pm   allocated for each wideband eigenmode may be<br>
iistributed across the 48 data subbands of that wideband eigenmode such that the ■eceived SNRs for all subbands are approximately equal. This non-uniform allocation )f power across the subbands is referred to as channel inversion. The transmit power Pm(k) allocated to each subband may be expressed as:<br><br>
vhere j3m is given in equation (10).<br>
As shown in equation (13), the transmit power Pm is distributed non-uniformly icross the data subbands based on their channel power gains, which is given by the eigenvalues Am(k), for k e K . The power distribution is such that approximately equal<br><br>
received SNRs are achieved at the receiver for all data subbands of each wideband eigenmode. This channel inversion is performed independently for each of the four wideband eigenmodes. The channel inversion per wideband eigenmode is described in further detail in commonly assigned U.S. Patent Application Serial No. 10/229,209, entitled "Coded MIMO Systems with Selective Channel Inversion Applied Per Eigenmode," filed August 27,2002,<br>
►	The channel inversion may be performed in various manners. For full channel<br>
inversion, all data subbands are used for data transmission if a wideband eigenmode is selected for use. For selective channel inversion, all or a subset of the available data subbands may be selected for use for each wideband eigenmode. The selective channel inversion discards poor subbands with received SNR below a particular threshold and performs channel inversion on only the selected subbands. Selective channel inversion for each wideband eigenmode is also described in commonly assigned U.S. Patent Application Serial No. 10/229,209, entitled "Coded MIMO Systems with Selective Channel Inversion Applied Per Eigenmode," filed August 27, 2002. For simplicity, the following description assumes that full channel inversion is performed for each wideband eigenmode selected for use.<br>
I	The gain to use for each subband of each wideband eigenmode may be<br>
determined based on the transmit power Pm(k) allocated to that subband.   The gain<br>
gm (k) for each data subband may be expressed as;<br><br><br>
The vector s(k) includes four modulation symbols to be transmitted on the four eigenmodes for subband k, and the vector x(k) includes four transmit symbols to be<br>
transmitted from the four antennas for subband k. For simplicity, equation (15) does not<br>
include   the   correction   factors   used   to   account   for   differences   between   the<br>
transmit/receive chains at the access point and the user terminal, which are described in<br>
detail below.<br>
»	FIG. 9B shows a block diagram of an embodiment of TX spatial processor 720b<br>
capable of performing spatial processing for the spatial multiplexing mode.    For<br>
simplicity, the following description assumes that all four wideband eigenmodes are<br>
selected for use.  However, less than four wideband eigenmodes may also be selected<br>
for use.<br>
&gt;	Within processor 720b, a demultiplexer 932 receives the four modulation<br>
symbol streams (denoted as  s^ri)  through  sA(n)) to be transmitted on the four<br>
wideband eigenmodes, demultiplexes each stream into 48 substreams for the 48 data subbands, and provides four modulation symbol substreams for each data subband to a respective TX subband spatial processor 940. Each processor 940 performs the processing shown in equation (15) for one subband.<br>
•	Within each TX subband spatial processor 940, the four modulation symbol<br>
substreams (denoted as st(k) through s4(k)) are provided to four multipliers 942a<br>
through 942d, which also receive the gains gx(k), g2(k), g3(k)y and g4(k) for the four<br>
eigenmodes of the associated subband. Each gain gm(k) may be determined based on<br>
the transmit power Pm(k) allocated to that subband/eigenmode, as shown in equation<br>
(14). Each multiplier 942 scales its modulation symbols with its gain gm(k) to provide<br>
scaled modulation symbols. Multipliers 942a through 942d provide four scaled modulation symbol substreams to four beam-formers 950a through 950d, respectively.<br>
Each beam-former 950 performs beam-forming to transmit one symbol substream on one eigenmode of one subband. Each beam-former 950 receives one symbol substream sm(k) and one eigenvector y_m(k) for the associated eigenmode. In<br>
particular, beam-former 950a receives eigenvector Vj(£) for the first eigenmode, beam-former 950b receives eigenvector y2(£) for the second eigenmode, and so on. The beam-forming is performed using the eigenvector for the associated eigenmode.<br><br>
Within each beam-former 950, the scaled modulation symbols are provided to four multipliers 952a through 952d, which also receive four elements, vmti(k)&gt; vm2(£), vm3(k), and vm4(£),   of   eigenvector    \m(k)    for   the   associated<br>
eigenmode. Each multiplier 952 then multiplies the scaled modulation symbols with its eigenvector value  vmJ(k)  to provide "beam-formed" symbols.    Multipliers 952a<br>
through  952d  provide four beam-formed symbol  substreams  (which  are  to be<br>
transmitted from four antennas) to summers 960a through 960d, respectively.<br>
&gt;	Each summer 960 receives and sums four beam-formed symbols for the four<br>
eigenmodes for each symbol period to provide a preconditioned symbol for an associated transmit antenna. Summers 960a through 960d provide four substreams of preconditioned symbols for four transmit antennas to buffers/multiplexers 970a through 970d, respectively.<br>
Each buffer/multiplexer 970 receives pilot symbols and the preconditioned symbols from TX subband spatial processors 940a through 940k for the 48 data subbands. Each buffer/multiplexer 970 then, for each symbol period, multiplexes 4 pilot symbols, 48 preconditioned symbols, and 12 zeros for 4 pilot subbands, 48 data subbands, and 12 unused subbands, respectively, to form a sequence of 64 transmit symbols for that symbol period. Each buffer/multiplexer 970 provides a stream of transmit symbols jc,(n) for one transmit antenna, where the transmit symbol stream<br>
comprises concatenated sequences of 64 transmit symbols. The transmit symbols can be scaled with correction factors to account for differences between the transmit/receive chains at the access point and the user terminal, as described below. The subsequent OFDM modulation for each transmit symbol stream is described above.<br>
Parallel symbol streams may also be transmitted from the four transmit antennas without spatial processing at the access point using the non-steered spatial multiplexing mode. For this mode, the channel inversion process and beam-forming by beam-former 950 may be omitted. Each modulation symbol stream is further OFDM processed and transmitted from a respective transmit antenna.<br>
The non-steered spatial multiplexing mode may be used for various situations such as if the transmitter is unable to perform the spatial processing necessary to support beam-steering based on eigenmode decomposition. This may be because the transmitter has not performed calibration procedures, is unable to generate a sufficiently good<br><br>
estimate of the channel, or does not have calibration and eigenmode processing ;apabilities at all. For the non-steered spatial multiplexing mode, spatial multiplexing is still used to increase the transmission capacity, but the spatial processing to separate out Lhe individual symbol streams is performed by the receiver.<br>
For the non-steered spatial multiplexing mode, the receiver performs the spatial<br>
processing to recover the transmitted symbol streams. In particular, a user terminal may<br>
implement a channel correlation matrix inversion (CCMI) technique, a minimum mean<br>
square error (MMSE) technique, a successive interference cancellation receiver<br>
processing technique, or some other receiver spatial processing technique. These<br>
techniques are described in detail in commonly assigned U.S. Patent Application Serial<br>
NouJ)9/993,087, entitled "Multiple-Access Multiple-Input Multiple-Output (MIMO)<br>
CommunicatioiT^System," filed November 6, 2001. The non-steered spatial<br>
multiplexing mode may be used for both downlink and uplink transmissions.<br>
►	The multi-user spatial multiplexing mode supports data transmission to multiple<br>
user terminals simultaneously on the downlink based on the "spatial signatures" of the user terminals. The spatial signature for a user terminal is given by a channel response vector (for each subband) between the access point antennas and each user terminal antenna. The access point may obtain the spatial signatures, for example, based on the steered reference transmitted by the user terminals. The access point may process the spatial signatures for user terminals desiring data transmission to (1) select a set of user terminals for simultaneous data transmission on the downlink and (2) derive steering vectors for each of the independent data streams to be transmitted to the selected user terminals.<br>
The steering vectors for the multi-user spatial multiplexing mode may be derived in various manners. Two exemplary schemes are described below. For simplicity, the following description is for one subband and assumes that each user terminal is equipped with a single antenna.<br>
In a first scheme, the access point obtains the steering vectors using channel inversion. The access point may select Nap single-antenna user terminals for simultaneous transmission on the downlink.    The access point obtains an  lxN^<br>
channel response row vector for each selected user terminal and forms an N   xN^<br>
channel response matrix Hmu with the Nap row vectors for the NQp user terminals. The<br><br>
access point then obtains a matrix Hwcer of Nap steering vectors for the Nap selected user<br>
terminals as Hy,cer = H~],. The access point can also transmit a steered reference to each<br>
selected user terminal. Each user terminal processes its steered reference to estimate the channel gain and phase and coherently demodulates received symbols for its single antenna with the channel gain and phase estimates to obtain recovered symbols.<br>
In a second scheme, the access point precodes Nap symbol streams to be sent to Nap user teiminals such that these symbol streams experience little cross-talk at the user terminals.   The access point can form the channel response matrix Hmtt for the Nap<br>
selected user terminals and perform QR factorization on HmH such that H^ = F,„-Q   ,<br>
where T(ri is a lower left triangular matrix TIri and Q    is a unitary matrix. The access<br>
point then precodes the Nap data symbol streams with the matrix T,n   to obtain Nap<br>
precoded symbol streams a, and further processes the precoded symbol streams with<br>
the unitary matrix Q t to obtain the Nap transmit symbol streams for transmission to the<br>
Nap user terminals. Again, the access point can also transmit a steered reference to each user terminal. Each user terminal uses the steered reference to coherently demodulate its received symbols to obtain recovered symbols.<br>
For the uplink in the multi-user spatial multiplexing mode, the access point can recover Nap symbol streams transmitted simultaneously by Nap user terminals using MMSE receiver processing, successive interference cancellation, or some other receiver processing technique. The access point can estimate the uplink channel response for each user terminal and use the channel response estimate for receiver spatial processing and for scheduling uplink transmissions. Each single-antenna user terminal can transmit an orthogonal pilot on the uplink. The uplink pilots from the Nap user terminals can be orthogonal in time and/or frequency. Time orthogonality can be achieved by having each user terminal covers its uplink pilot with an orthogonal sequence assigned to the user terminal. Frequency orthogonality can be achieved by having each user terminal transmits its uplink pilot on a different set of subbands. The uplink transmissions from the user terminals should be approximately time-aligned at the access point (e.g., time-aligned to within the cyclic prefix).<br><br>
3. Beam-Steering Mode - Transmit Processine<br>
FIG. 10A shows a block diagram of a transmitter unit 1000 capable of &gt;erforming the transmit processing for the beam-steering mode. Transmitter unit 1000 s yet another embodiment of the transmitter portion of the access point and the user erminal.<br>
Within a TX data processor 710c, framing unit 808 frames the data for each FCH/RCH packet to generate one or more PHY frames for the packet. Scrambler 810 then scrambles the data for each transport channel. Encoder 812 next codes the framed data in accordance with a selected coding scheme to provide code bits. Puncture unit 814 then punctures the code bits to obtain the desired code rate for the wideband sigenmode used for data transmission. The code bits from puncture unit 818 are interleaved across all data subbands. Symbol mapping unit 820 then maps the interleaved data in accordance with a selected modulation scheme to provide modulation symbols. A TX spatial processor 720c then performs transmit processing on the modulation symbols for the beam-steering mode.<br>
i	The beam-steering mode may be used to transmit data on one spatial channel or<br>
wideband eigenmode - typically the one associated with the largest eigenvalues for all of the data subbands. The beam-steering mode may be selected if the transmit power allocation to the wideband eigenmodes results in only one entry in the set a being non¬zero. Whereas the spatial multiplexing mode performs beam-forming for each of the selected eigenmodes of each subband based on its eigenvector, the beam-steering mode performs beam-steering based on a "normalized" eigenvector for the principal eigenmode of each subband to transmit data on that single eigenmode.<br>
The four elements of each eigenvector Vj(fc), for ke K 9 for the principal eigenmode may have different magnitudes. The four preconditioned symbols obtained based on the four elements of eigenvector vx(k) for each subband may then have different magnitudes. Consequently, the four per-antenna transmit vectors, each of which includes the preconditioned symbols for all data subbands for a giv6n transmit antenna, may have different magnitudes. If the transmit power for each transmit antenna is limited (e.g., because of limitations of the power amplifiers), then the beam-forming technique may not fully use the total power available for each antenna.<br><br><br><br>
The channel inversion results in power allocation of Px(k), for k e K , for the 48<br>
ata subbands. The gain for each data subband may then be given as g(k) = ^Px(k) .<br>
For the beam-steering mode, the transmit vector x(k) for each subband may be ;xpressed as:<br>
x(k) = v(jfc)g (k)s(k)  , for k e K.	Eq (21)<br>
^gain for simplicity, equation (21) does not include the correction factors used to iccount for differences between the transmit/receive chains at the access point and the lser terminal.<br>
As shown in equation (16), the four elements of the normalized steering vector v(£) for each subband have equal magnitude but possibly different phases. The beam-<br>
iteering thus generates one transmit vector x(fc)for each subband, with the four<br>
elements of x(fc) having the same magnitude but possibly different phases.<br>
FIG. 10B shows a block diagram of an embodiment of TX spatial processor 720c capable of performing the spatial processing for the beam-steering mode.<br>
Within processor 720c, a demultiplexer 1032 receives and demultiplexes the modulation symbol stream s{n) into 48 substreams for the 48 data subbands (denoted<br>
as sQ) through s(k)). Each symbol substream is provided to a respective TX subband<br>
beam-steering processor 1040. Each processor 1040 performs the processing shown in equation (14) for one subband.<br>
Within each TX subband beam-steering processor 1040, the modulation symbol substream is provided to a multiplier 1042, which also receives the gain g(k) for the<br>
associated subband. Multiplier 1042 then scales the modulation symbols with the gain g{k) to obtain scaled modulation symbols, which are then provided to a beam-steering<br>
unit 1050.<br>
Beam-steering unit 1050 also receives the normalized eigenvector v(fc) for the<br>
associated subband. Within beam-steering unit 1050, the scaled modulation symbols are provided to four multipliers 1052a through 1052d, which also respectively receive the four elements, vi(fc), v2(fc), v3(fc), and v4(fc), of the normalized eigenvector v(fc).<br>
Each multiplier 1052 multiplies its scaled modulation symbols with its normalized eigenvector value vt(k) to provide preconditioned symbols. Multipliers 1052a through<br><br>
I052d provide four preconditioned symbol substreams to Durrers/mumpiexers iu/ua hrough 1070d, respectively.<br>
Each buffer/multiplexer 1070 receives pilot symbols and the preconditioned symbols from TX subband beam-steering processors 1040a through 1040k for the 48 data subbands, multiplexes the pilot and preconditioned symbols and zeros for each symbol period, and provides a stream of transmit symbols  x,(?i)  for one transmit<br>
antenna. The subsequent OFDM modulation for each transmit symbol stream is described above.<br>
1	The processing for the beam-steering mode is described in further detail in<br>
commonly assigned U.S. Patent Application Serial No. 10/228,393, entitled "Beam-Steering and Beam-Forming for Wideband MIMO Systems," filed August 27, 2002. The system may also be designed to support a beam-forming mode whereby a data stream is transmitted on the principal eigenmode using the eigenvector instead of the normalized eigenvector.<br>
4.  Framing for PHY frames<br>
FIG- 11A shows an embodiment of framing unit 808, which is used to frame the data for each FCH/RCH packet prior to subsequent processing by the TX data processor. This framing function may be bypassed for messages sent on the BCH, FCCH, and RACH. The framing unit generates an integer number of PHY frames for each FCH/RCH packet, where each PHY frame spans 6 OFDM symbols for the embodiment described herein.<br>
i	For the diversity and beam-steering modes, only one spatial channel or<br>
wideband eigenmode is used for data transmission. The rate for this mode is known, and the number of information bits that may be sent in the payload of each PHY frame may be computed. For the spatial multiplexing mode, multiple spatial channels may be used for data transmission. Since the rate of each spatial channel is known, the number of information bits that may be sent in the payload of each PHY frame for all spatial channels may be computed.<br>
As shown in FIG. 11 A, the information bits (denoted as i, i2 ^ f4...) for each<br>
FCH/RCH packet are provided to a CRC generator 1102 and a multiplexer 1104 within framing unit 808. CRC generator 1102 generates a CRC value for the bits in the header (if any) and payload fields of each PHY frame and provides CRC bits to multiplexer<br><br>
1104. Multiplexer 1104 receives the information bits, CRC bits, header bits, and pad bits (e.g., zeros), and provides these bits in the proper order, as shown in FIG. 6, based on a PHY Frame Control signal. The framing function may be bypassed by providing<br>
he information bits directly through multiplexer 1104.  The framed or unframed bits<br>
denoted as dld2d3d4...)axs provided to scrambler 810.<br>
5* Scrambling<br>
In an embodiment, the data bits for each transport channel are scrambled prior to ;oding. The scrambling randomizes the data so that a long sequence of all ones or all :eros is not transmitted. This can reduce the variation in the peak to average power of he OFDM waveform. The scrambling may be omitted for one or more transport ;hannels and may also be selectively enabled and disabled.<br>
FIG. 11A also shows an embodiment of scrambler 810. In this embodiment, scrambler 810 implements a generator polynomial:<br>
G(x) = x7+x4-hx  .	Eq(22)<br>
Dther generator polynomials may also be used, and this is within the scope of the nvention.<br>
As shown in FIG. 11 A, scrambler 810 includes seven delay elements 1112a hrough 1112g coupled in series. For each clock cycle, an adder 1114 performs nodulo-2 addition of two bits stored in delay elements 1112d and 1112g and provides a icrambling bit to delay element 1112a.<br>
The framed/unframed bits (dx d2 d3 d4...) are provided to an adder 1116, which<br>
ilso receives scrambling bits from adder 1114. Adder 1116 performs modulo-2 iddition of each bit dn with a corresponding scrambling bit to provide a scrambled bit<br>
qn.    Scrambler 810 provides a sequence of scrambled bits, which is denoted as<br>
?i Q% ?3 QA — -<br>
The initial state of the scrambler (i.e., the content of delay elements 1112a hrough 1112g) is set to a 7-bit non-zero number at the start of each TDD frame. The hree most significant bits (MSBs) (i.e., delay element 1112e through 1112f) are always set to one (*r) and the four least significant bits (LSBs) are set to the TDD frame counter, as indicated in the BCH message.<br><br>
6. Encoding/Puncturing<br>
In an embodiment, a single base code is used to code data prior to transmission. This base code generates code bits for one code rate. All other code rates supported by the system (as listed in Table 25) may be obtained by either repeating or puncturing the code bits.<br>
FIG. 11B shows an embodiment of encoder 812 that implements the base code for the system. In this embodiment, the base code is a rate 1/2, constraint length 7 (K = 7), convolutional code with generators of 133 and 171 (octal).<br>
Within encoder 812, a multiplexer 1120 receives and multiplexes the scrambled bits and tail bits (e.g., zeros). Encoder 812 further includes six delay elements 1122a through 1122f coupled in series. Four adders 1124a through 1124d are also coupled in series and used to implement the first generator (133). Similarly, four adders 1126a through 1126d are coupled in series and used to implement the second generator (171). The adders are further coupled to the delay elements in a manner to implement the two generators of 133 and 171, as shown in FIG. 11B.<br>
The scrambled bits are provided to the first delay element 1122a and to adders 1124a and 1126a. For each clock cycle, adders 1124a through 1124d perform modulo-2 addition of the incoming bit and four prior bits stored in delay elements 1122b, 1122c, 1122e, and 1122f to provide the first code bit for that clock cycle. Similarly, adders 1126a through 1126d perform modulo-2 addition of the incoming bit and four prior bits stored in delay elements 1122a, 1122b, 1122c, and 1122f to provide the second code bit for that clock cycle. The code bits generated by the first generator are denoted as aia1a%aA..., and the code bits generated by the second generator are denoted as<br>
bx b2 b3 b4.... A multiplexer 1128 then receives and multiplexes the two streams of code<br>
bits from the two generators into a single stream of code bits, which is denoted as a^ bx a2 b2 a^ b3 a4 2&gt;4....   For each scrambled bit qn, two code bits an  and bn  are<br>
generated, which results in a code rate of 1/2.<br>
1	FIG. 11B also shows an embodiment of repeat/puncture unit 814 that can be<br>
used to generate other code rates based on the base code rate of 1/2. Within unit 814, the rate 1/2 code bits from encoder 812 are provided to a repeating unit 1132 and a puncturing unit 1134. Repeating unit 1132 repeats each rate 1/2 code bit once to obtain<br><br>
an effective code rate of 1/4. Puncturing unit 1134 deletes some of the rate 1/2 code bits based on a specific puncturing pattern to provide the desired code rate.<br>
Table 30 lists exemplary puncturing patterns that may be used for the various code rates supported by the system. Other puncturing patterns may also be used, and this is within the scope of the invention.<br><br>
To obtain a code rate of kin, puncturing unit 1134 provides n code bits for each group of 2k rate 1/2 code bits received from encoder 812. Thus, 2k -n code bits are deleted from each group of 2k code bits. The bits to be deleted from each group are denoted by zeros in the puncturing pattern. For example, to obtain a code rate of 7/12, two bits are deleted from each group of 14 code bits from encoder 812, with the deleted bits being the 8th and 14th code bits in the group, as denoted by the puncturing pattern of "111111101 111 10". No puncturing is performed if the desired code rate is 1/2.<br>
A multiplexer .1136 receives the stream of code bits from repeating unit 1132 and the stream of code bits from puncturing unit 1134. Multiplexer 1136 then provides the code bits from repeating unit 1132 if the desired code rate is 1/4 and the code bits from puncturing unit 1134 if the desired code rate is 1/2 or higher.<br>
Other codes and puncturing patterns besides those described above may also be used, and this is within the scope of the invention. For example, a Turbo code, a block code, some other codes, or any combination thereof may be used to code data. Also, different coding schemes may be used for different transport channels.  For example,<br><br>
involutional coding may be used for the common transport channels, and Turbo ;oding may be used for the dedicated transport channels.<br>
7.	Interleaving<br>
In an embodiment, the code bits to be transmitted are interleaved across the 48 lata subbands. For the diversity and beam-steering modes, one stream of code bits is xansmitted and interleaved across all data subbands. For the spatial multiplexing mode, ip to four streams of code bits may be transmitted on up to four spatial channels. The interleaving may be performed separately for each spatial channel such that each stream 3f code bits is interleaved across all data subbands of the spatial channel used to transmit that stream. Table 29 shows an exemplary code bit-subband assignment that may be used for the interleaving for all transmission modes.<br>
In one embodiment, the interleaving is performed across all 48 data subbands in ^ach interleaving interval. For this embodiment, each group of 48 code bits in a stream is spread over the 48 data subbands to provide frequency diversity. The 48 code bits in sach group may be assigned indices of 0 through 47. Each code bit index is associated with a respective subband. All code bits with a particular index are transmitted on the associated subband. For example, the first code bit (with index 0) in each group is transmitted on subband -26, the second code bit (with index 1) is transmitted on subband 1, the third code bit (with index 2) is transmitted on subband . -17, and so on. This interleaving scheme may be used for the diversity, beam-steering, and spatial multiplexing modes. An alternative interleaving scheme for the spatial multiplexing mode is described below.<br>
•	The interleaving may alternatively or additionally be performed over time. For<br>
example, after the interleaving across the data subbands, the code bits for each subband may further be interleaved (e.g., over one PHY frame or one PDU) to provide time diversity. For the spatial multiplexing mode, the interleaving may also be performed over multiple spatial channels.<br>
Additionally, interleaving may be employed across the dimensions of the QAM symbols such that code bits forming QAM symbols are mapped to different bit positions of the QAM symbols.<br>
8.	Symbol Mapping<br>
1	Table 31 shows the symbol mapping for various modulation schemes supported<br>
by the system.   For each modulation scheme (except for BPSK), half of the bits are<br><br>
mapped to an inphase (I) component and the other half of the bits are mapped to a quadrature (Q) component.<br>
In an embodiment, the signal constellation for each supported modulation scheme may be defined based on Gray mapping. With Gray mapping, neighboring points in the signal constellation (in both the I and Q components) differ by only one bit position. Gray mapping reduces the number of bit errors for more likely error events, which corresponds to a received symbol being mapped to a location near the correct location, in which case only one code bit would be received in error.<br><br><br><br>
The I and Q values for each modulation scheme shown in Table 31 are scaled by a normalization factor Knorm  so that the average power of all signal points in the<br>
associated signal constellation is equal to unity. The normalization factor for each modulation scheme is shown in Table 31. Quantized values for the normalization factors for the supported modulation schemes may also be used. A modulation symbol s from a particular signal constellation would then have the following form:<br>
s=a+jQ)-Knom ,<br>
where I and Q are the values in Table 31 for the signal constellation.<br>
For a given PDU, the modulation may be different across the PDU and may be different for multiple spatial channels used for data transmission. For example, for the BCH PDU, different modulation schemes may be used for the beacon pilot, the MMO pilot, and the BCH message.<br>
9. Processing for Spatial Multiplexing Mode<br>
For the spatial multiplexing mode, a PDU may be transmitted over multiple spatial channels. Various schemes may be used to process data for transmission over multiple spatial channels. Two specific processing schemes for the spatial multiplexing mode are described below.<br>
&gt;	In the first processing scheme, coding and puncturing are performed on a per<br>
spatial channel basis to achieve the desired code rate for each spatial channel. The NE spatial channels to use for data transmission are ranked from the highest to lowest received SNR. The data for the entire PDU is first coded to obtain a stream of rate 1/2 :ode bits. The code bits are then punctured to obtain the desired code rate for each spatial channel.<br>
The puncturing may be performed in sequential order for the NE spatial channels, from the best (i.e., highest SNR) to the worst (i.e., lowest SNR) spatial<br><br>
channel. In particular, the puncture unit first performs puncturing for the best spatial channel with the highest received SNR. When the correct number of code bits have been generated for the best spatial channel, the puncture unit then performs puncturing for the second best spatial channel with the next highest received SNR. This process continues until the code bits for all NE spatial channels are generated. The order for puncturing is from the largest to smallest received SNR, regardless of the specific code rate used for each spatial channel.<br>
For the example shown in Table 28, the 3456 information bits to be transmitted<br>
in the overall PHY frame are first coded with the rate 1/2 base code to obtain 6912 code<br>
bits. The first 3168 code bits are punctured using the puncturing pattern for code rate<br>
11/16 to obtain 2304 code bits, which are provided in the PHY frame for the first<br>
spatial channel. The next 2592 code bits are then punctured using the puncturing<br>
pattern for code rate 3/4 to obtain 1728 code bits, which are provided in the PHY frame<br>
for the second spatial channel. The next 864 code bits are then punctured using the<br>
puncturing pattern for code rate 3/4 to obtain 576 code bits, which are provided in the<br>
PHY frame for the third spatial channel. The last 288 code bits for the PHY frame are<br>
then punctured using the puncturing pattern for code rate 1/2 to obtain 288 code bits,<br>
which are provided in the PHY frame for the last spatial channel. These four individual<br>
PHY frames are further processed and transmitted on the four spatial channels. The<br>
puncturing for the next overall PHY frame is then performed in similar manner. The<br>
first processing scheme may be implemented by TX data processor 710b in FIG. 9A.<br>
i	In the second processing scheme, the coding and puncturing are performed for<br>
pairs of subbands. Moreover, the coding and puncturing are cycled through all selected spatial channels for each pair of subbands.<br>
FIG. 11C shows a block diagram that illustrates a TX data processor 710d that implements the second processing scheme. Encoder 812 performs rate 1/2 convolutional encoding of the scrambled bits from scrambler 810. Each spatial channel is assigned a particular rate, which is associated with a specific combination of code rate and modulation scheme, as shown in Table 25. Let bm denote the number of code bits per modulation symbol for spatial channel m (or equivalently, the number of code bits sent on each data subband of spatial channel m) and rm denote the code rate used for<br>
spatial channel m.   The value for bm is dependent on the constellation size of the<br><br>
modulation scheme used for spatial channel m.  In particular, bm~ 1, 2, 4, 6 and 8 for<br>
BPSK, QPSK, 16-QAM, 64-QAM and 256-QAM, respectively.<br>
&gt;	Encoder 812 provides a stream of rate 1/2 code bits to demultiplexer 816, which<br>
demultiplexes the received code bit stream into four substreams for the four spatial channels.   The demultiplexing is such that the first 4bxi\ code bits are sent to buffer<br>
813a for spatial channel 1, the next 4b2r2 code bits are sent to buffer 813b for spatial<br>
channel 2, and so on. Each buffer 813 receives 4bmrm code bits each time demultiplexer<br>
4<br>
816 cycles through all four spatial channels.  A total of bmal =^4&amp;mrm rate 1/2 code<br>
bits are provided to the four buffers 813a through 813d for each cycle. Demultiplexer 816 thus cycles through all four positions for the four spatial channels for every blotal<br>
code bits, which is the number of code bits that can be sent on a pair of subbands using all four spatial channels.<br>
Once each buffer 813 has been filled with 4bmrm code chips for the associated<br>
spatial channel, the code bits in the buffer are punctured to obtain the code rate for that spatial channel.   Since 4bmrm rate 1/2 code bits span an integer number of puncturing<br>
periods for each puncturing pattern, exactly 2bm  code bits are provided after the<br>
puncturing for each spatial channel m. The 2bm code bits for each spatial channel are<br>
then distributed (interleaved) over the data subbands.<br>
In an embodiment, the interleaving is performed for each spatial channel in groups of 6 subbands at a time. The code bits after the puncturing for each spatial channel may be numbered sequentially as ci, for / = 0, 1, 2, .... A counter Cm may be<br>
maintained for each spatial channel to count every group of 6bm code bits provided by<br>
the puncturing unit for that spatial channel. For example, for QPSK with bm = 2, the<br>
counter would be set to Cm = 0 for code bits c0 through cn provided by the puncturing<br>
unit, Cm = 1 after code bits cl2 through c23, and so on. The counter value Cm for<br>
spatial channel m may be expressed as:<br>
Cm=limj}mod&amp;  .	Eq(23)<br>
To determine the subband to which code bit c{ is assigned, the bit index for the code bit is first determined as follows:<br><br>
Dit index = (i mod 6) + 6&gt;Cm  .	Eq (24)<br>
The bit index is then mapped to the corresponding subband using Table 29.<br>
For the example above, the first group of 6 code bits c0 through cs is associated<br>
vith bit indices 0 through 5, respectively, the second group of 6 code bits c6 through<br>
cn is also associated with bit indices 0 through 5, respectively.  Code bits c0 and c6<br>
vould be mapped to subband -26, code bits q and c7 would be mapped to subband 1,<br>
uid so on, as shown in Table 29. The spatial processing may then commence for this first group of 6 subbands. The third group of 6 code bits c12 through c17 (with Cm =1)<br>
s associated with bit indices 6 through 11, respectively, and the fourth group of 6 code 3its clg through c^ is also associated with bit indices 6 through 11, respectively. Code<br>
aits c12 and c18 would be mapped to subband -25, code bits c13 and c19 would be<br>
mapped to subband 2, and so on. The spatial processing may then commence for this next group of 6 subbands.<br>
The number 6 in equation (24) comes from the fact that the interleaving is performed in groups of six subbands. The (mod 8) operation in equation (23) comes from the fact that there are eight interleaving groups for the 48 data subbands. Since each cycle of demultiplexer 816 shown in FIG. 11C produces enough code bits to fill two subbands for each wideband eigenmode, a total of 24 cycles are needed to provide the 486m code bits for one OFDM symbol for each spatial channel.<br>
The interleaving in groups of 6 subbands at a time can reduce processing delays. In particular, the spatial processing can commence once each group of 6 subbands is available.<br>
k	In alternative embodiments, the interleaving may be performed for each spatial<br>
channel in groups of NB subbands at a time, where NB may be any integer (e.g., NB may be equal to 48 for interleaving over all 48 data subbands).<br>
VI.    Calibration<br>
•	For a TDD system, the downlink and uplink share the same frequency band in a<br>
time division duplexed manner. In this case, a high degree of correlation typically exists between the downlink and uplink channel responses. This correlation may be exploited to simplify the channel estimation and spatial processing. For a TDD system, each subband of the wireless link may be assumed to be reciprocal.  That is, if H(£)<br><br>
represents the channel response matrix from antenna array A to antenna airay B for subband k, then a reciprocal channel implies that the coupling from array B to array A is<br>
7*<br>
jiven by the transpose of H(fe), which is H (k).<br>
However, the responses (gain and phase) of the transmit and receive chains at ;he access point are typically different from the responses of the transmit and receive ;hains at the user terminal. Calibration may be performed to determine the difference in ;he frequency responses of the transmit/receive chains at the access point and user :erminal, and to account for the difference, such that the calibrated downlink and uplink responses can be expressed in terms of each other. Once the transmit/receive chains lave been calibrated and accounted for, a measurement for one link (e.g., the downlink) nay be used to derive steering vectors for the other link (e.g., the uplink).<br>
The "effective" downlink and uplink channel responses, H^ (k) and Hup (k),<br>
.vhich include the responses of the applicable transmit and receive chains at the access ?oint and user terminal, may be expressed as:<br>
H<m eut for k e and eq></m>
HuPW = RapWHr(/:)TutW ,far*eJ!T,<br>
vhere Tap(£)   and  Rap(£)   are  NapxNap  diagonal matrices with entries for the<br>
complex gains associated with the transmit chain and receive chain, respectively, for the Nap antennas at the access point for subband k;<br>
Tul(£) and Rut(&amp;) are NMxNut diagonal matrices with entries for the complex<br>
gains associated with the transmit chain and receive chain, respectively, for the NM antennas at the user terminal for subband k; and<br>
H(£)   is an NutxNap channel response matrix for the downlink.<br>
Combining the two equations in equation set (25), the following relationship<br>
nay be obtained:	/<br>
Sup (*)Km (*) = (H,, (Jt)Kap (k))T , for k e K,	Eq (26)   '<br>
^ (*) = Tl (*)R« (*) and Kap (*) = Tap (k)Rap (k).<br>
The left-hand side of equation (26) represents the "true" calibrated channel esponse on the uplink, and the right-hand side represents the transpose of the "true" :alibrated channel response on the downlink. The application of the diagonal matrices<br><br>
Kap(Jfc)   and   Kut(fc)   to  the  effective  downlink  and  uplink  channel  responses,<br>
respectively, as shown in equation (26), allows the calibrated channel responses for the downlink and uplink to be expressed as transposes of each other.   The (NapxNap)<br>
diagonal matrix Kap (k) for the access point is the ratio of the receive chain response<br>
E»(*)<br>
Rap(fc) to the transmit chain response Tap(£) (i.e., Kap(£) = —-	), where the ratio<br>
2-ap WO<br>
is taken element-by-element. Similarly, the (NutxNut) diagonal matrix Kut(£) for the user terminal is the ratio of the receive chain response Rut(&amp;) to the transmit chain response Tut (k).<br>
The  matrices   K^(k). and   Km(fc)   include  values  that  can  account for<br>
differences in the transmit/receive chains at the access point and the user terminal. This would then allow the channel response for one link to be expressed by the channel response for the other link, as shown in equation (26).<br>
Calibration may be performed to determine the matrices Kap(£) and Kut(&amp;).<br>
Typically, the true channel response H(jfc) and the transmit/receive chain responses are not known nor can they be exactly or easily ascertained. Instead, the effective downlink and uplink channel responses, H^fc) and Hup(&amp;), may be estimated based on pilots<br>
sent on the downlink and uplink, respectively, as described below. Estimates of the matrices Kap(fc) and Kut(fc), which are referred to as correction matrices Kap(fc) and<br>
Km(£), may then be derived based on the downlink and uplink channel response estimates, H^ik) and Hup(fc), as described below. The matrices Kap(fc) and Kul(fc)<br>
include correction factors that can account for differences in the transmit/receive chains at the access point and the user terminal.<br>
►	The "calibrated" downlink and uplink channel responses observed by the user<br>
terminal and the access point, respectively, may then be expressed as:<br>
Hcdn (Jfc) = S^ (*)ILP (*)  , for k e K, and	Eq (27)<br>
Hcup(Jfc) = H^(k)Km (k) , for k e K,<br><br>
where H£dn(&amp;) and Hrap(&amp;) are estimates of the "true" calibrated channel response sxpressions in equation (26). Combining the two equations in equation set (27) using the expression in equation (26), it can be shown that HCTip(fc) = Hcdn(/:). The accuracy<br>
of the relationship Jicvpik) ~Tlc6a(k) is dependent on the accuracy of the matrices<br>
Kap (k) and Ku( (k), which in turn is typically dependent on the quality of the downlink<br>
and uplink channel response estimates, H^fc) and Hup(&amp;).<br>
The calibration may be performed using various schemes. For clarity, a specific calibration scheme is described below. To perform the calibration, the user terminal initially acquires the timing and frequency of the access point based on the beacon pilot transmitted on the BCH. The user terminal then sends a message on the RACH to initiate a calibration procedure with the access point. The calibration may be performed in parallel with registration/ authentication.<br>
Since the frequency responses of the transmit/receive chains at the access point and user terminal are typically flat over most of the band of interest, the phase/gain differences of the transmit/receive chains may be characterized with a small number of subbands. The calibration may be performed for 4, 8, 16, 48 or some other number of subbands, which may be specified in the message sent to initiate the calibration. Calibration may also be performed for the pilot subbands. Calibration constants for subbands on which calibration is not explicitly performed may be computed by interpolation on calibrated subbands. For clarity, the following assumes that calibration-is performed for all data subbands.<br>
For the calibration, the access point allocates to the user terminal a sufficient amount of time on the RCH to send an uplink MIMO pilot of sufficient duration plus a message. The duration of the uplink MIMO pilot may be dependent on the number of subbands over which calibration is performed. For example, 8 OFDM symbols may be sufficient if calibration is performed for four subbands, and more (e.g., 20) OFDM symbols may be needed for more subbands. The total transmit power is typically fixed, so if the MIMO pilot is transmitted on a small number of subbands, then higher amounts of transmit power may be used for each of these subbands and the SNR for each subband is high. Conversely, if the MIMO pilot is transmitted on a large number of subbands then smaller amounts of transmit power may be used for each subband and the<br><br>
SNR for each subband is worse. If the SNR of each subband is not sufficiently high, then more OFDM symbols may be sent for the MIMO pilot and integrated at the receiver to obtain a higher overall SNR for the subband.<br>
The user terminal then transmits a MIMO pilot on the RCH, which is used by<br>
he access point to derive an estimate of the effective uplink channel response, Hup(£),<br>
br each of the data subbands. The uplink channel response estimates are quantized e.g., to 12-bit complex values, with inphase (I) and quadrature (Q) components) and ;ent to the user terminal.<br>
The user terminal also derives an estimate of the effective downlink channel<br>
esponse, H^*;), for each of the data subbands based on the downlink MIMO pilot<br>
;ent on the BCH. Upon obtaining the effective uplink and downlink channel response<br>
estimates; Hup(fc) and Hdn(fc), for all data subbands, the user terminal determines<br>
;orrection factors, Kap(£) and Kul (k), for each of the data subbands, which are to be<br>
lsed by the access point and user terminal, respectively.  A correction vector kap (k)<br>
A<br>
nay be defined to include only the diagonal elements of Kap(Z:), and a correction<br>
sector kut (k) may be defined to include only the diagonal elements of Kut (k).<br>
The correction factors may be derived in various manners, including by a matrix-ratio computation and an MMSE computation. Both of these computation methods are described in further detail below. Other computation methods may also be used, and this is within the scope of the invention.<br>
1. Matrix-Ratio Computation<br>
To determine the correction vectors kap(fc) and km(A:)  given the effective<br>
downlink and uplink channel response estimates, U.dn(k) and Hup(&amp;)&gt; an (Nu xNap) matrix C(k) is first computed for each data subband, as follows:<br>
~ T<br>
C(Jfc) = IM^  , for fee K ,	Eq (28)<br>
Hda(*)<br>
where the ratio is taken element-by-element. Each element of C(k) may thus be computed as:<br><br>
co(fc) = 7!EM^ ' for i = V - N»&gt;) and J^1 - N°p^&gt;	E1(29&gt;<br>
here h^^jik) is the (f,j)-th (row, column) element of Hup(&amp;), h^gjik) is the (i,j)~<br>
i element of H^CJfc), and c. •(£) is the (/, j)-th element of C(£).<br>
__	^*<br>
The correction vector kap(fc) for the access point is then equal to the mean of<br>
le normalized rows of C(k). Each row of C(&amp;) is first normalized by scaling each of le Nap elements in the row with the first element in the row. Thus, if .(&amp;) = [c(1(&amp;) ... ci?jV (k)] is the i-th row of C(k), then the normalized row £,-(£) may<br>
e expressed as:<br>
KD^CyW/Cyft) ... citj(it)/cu(i) ... c^W/c,^*)]  .        Eq(30)<br>
'he mean of the normalized rows is then the sum of the Nut normalized rows divided y Nut, which may be expressed as:<br>
M*)=T7-2l^(*)  ^orkeK.	Eq (31)<br>
Jecause of the normalization, the first element of k ap (k) is unity.<br>
The correction vector kut (k) for the user terminal is equal to the mean of the nverses of the normalized columns of C(&amp;). The j-th column of C(k) is first lormalized by scaling each element in the column with the 7-th element of the vector !kap(£)&gt; which is denoted as KipJJ(k). Thus, if Cj(k) = [chj(k) ... cNmJ(k)f is the7-th ;olumn of C(k), then the normalized column c -(fc) may be expressed as:<br>
^(k) = [ClJ(k)/KapJJ(k) ... cUj(k)IK^u{k) ... cNaJ(k)/K3pJJ(k)f. Eq(32)<br>
The mean of the inverses of the normalized columns is then the sum of the inverses of :he Nap normalized columns divided by Nap, which may be expressed as:<br>
2r<br>
N„^t,(k)<br>
ap<br>
1   "-    1<br>
fe«(*) = —T.-t^TT &gt; for k 6 K,	Eq (33)<br>
where the inversion of the normalized columns, Cj(k), is performed element-wise.<br><br>
2. MMSE Computation<br>
For the MMSE computation, the correction factors Kap(£)  and Kut(fc)  are<br>
derived from the effective downlink and uplink channel response estimates, H^CA) and<br>
H^C*), such that the mean square error (MSE) between the calibrated downlink<br>
channel response and the calibrated uplink channel response is minimized.    This condition may be expressed as:<br>
min |(H^0^	JorkeK,	Eq (34)<br>
which may also be written as:<br><br>
mm<br><br>
~T<br>
]L(*)fid»(*)-fi«(*)K*(*)<br><br>
2<br><br>
, f or k e K,<br><br>
where K^fc) = Kap(fc) since K  (it) is a diagonal matrix.<br>
Equation (34) is subject to the constraint that the lead element of Kap (k) is set equal to unity (i.e., Kap00(£) = 1). Without this constraint, the trivial solution would be obtained with all elements of the matrices Kap(£) and Kut(&amp;) set equal to zero.   In<br>
equation (34), a matrix Y(£) is first obtained as Y(/:) = Kap(A:)Hdn(^)-Hup(A-)Kut(A:). The square of the absolute value is next obtained for each of the Nap • Nut entries of the matrix Y(&amp;). The mean square error (or the square error, since a divide by Nap • Nllt is omitted) is then equal to the sum of all N^ - NM squared values.<br>
The MMSE computation is performed for each designated subband to obtain the correction factors K^fc) and K^Cfc) for that subband.  The MMSE computation for<br>
one subband is described below. For simplicity, the subband index, k, is omitted in the following description.    Also for simplicity, the elements of the downlink channel<br>
response estimate H^ are denoted as {a(j}, the elements of the uplink channel response<br>
estimate Hap are denoted as {bi}}, the diagonal elements of the matrix Kap are denoted as {»,}, and the diagonal elements of the matrix Km  are denoted as {v^}, where<br>
The mean square error may be rewritten from equation (34), as follows:<br><br><br><br>
Eq (35)<br><br>
again subject to the constraint ux = 1. The minimum mean square error may be obtained<br>
by taking the partial derivatives of equation (35) with respect to u and v and setting the partial derivatives to zero.  The results of these operations are the following equation<br>
sets:<br><br>
N,<br>
X^.-^v^-a'^O ,forze{2 ... A^},and<br>
7=1<br><br>
Eq (36a)<br><br>
N<br>
ap<br>
S(aff«i-V;)^=0 ,for;e{l ... NJ.<br>
Eq (36b)<br>
/=i<br>
In equation (36a), ux =1 SO there is no partial derivative for this case, and the index i runs from 2 through Nap.<br>
The set of (Nap + Nut — 1) equations in equation sets (36a) and (36b) may be<br>
more conveniently expressed in matrix form, as follows:<br>
Ay = z  ,	Eq(37)<br>
where<br><br>
AT..<br>
I«<br>
M<br>
0<br><br>
2;<br><br>
0<br>
AT,<br>
IK<br>
y=i<br>
0<br><br>
0<br><br>
0<br>
0<br><br>
-&amp;2ia21<br><br>
b2Napa2Nul<br><br><br><br>
A =<br><br>
0<br>
-a2lb*2l<br><br><br>
IN<br>
0   EK&gt;    -K^<br><br>
i=i<br>
ap'    '  ap'<br><br>
0<br><br><br>
0<br><br><br><br>
0	j|&amp;n|"     0<br>
i=l<br>
0<br><br>
0<br><br><br><br>
a2N,ab2Nu[<br><br>
^N  N ®N   hi<br><br>
0<br><br><br>
i=i<br><br><br>
The matrix A includes (Nap+Nut-l) rows, with the first Nap-1 rows :orresponding to the Nap -1 equations from equation set (36a) and the last Nut rows corresponding to the Nut equations from equation set (36b). In particular, the first row )f the matrix A is generated fr6m equation set (36a) with / = 2, the second row is generated with i — 3, and so on.   The Nap-th row of the matrix A is generated from<br>
equation set (36b) with 7=1, and so on, and the last row is generated with j = Nul. As ihown above, the entries of the matrix A and the entries of the vector z may be<br>
obtained based on the entries in the matrices H^ and H^.<br>
The correction factors are included in the vector y, which may be obtained as:<br>
y=A_iz  .	Eq(38)<br>
The results of the MMSE computation are correction matrices Kap and Kul that ninimize the mean square error in the calibrated downlink and uplink channel responses, as shown in equation (34).   Since the matrices Kap and Kut are obtained<br>
*&gt;ased on the downlink and uplink channel response estimates, H^ and H^, the quality<br>
of the correction matrices Kap and K^ are thus dependent on the quality of the channel<br>
estimates H^ and H^.   The MIMO pilot may be averaged at the receiver to obtain<br>
more accurate estimates for H^ and Hup.<br>
The correction matrices, Kap and Kut, obtained based on the MMSE computation are generally better than the correction matrices obtained based on the<br><br>
matrix-ratio computation.  This is especially true when some of the channel gains are "mall and measurement noise can greatly degrade the channel gains. 3. Post Computation<br>
A pair of correction vectors, kap(£) and kvt(k) , may be determined for each of<br>
le data subbands. Since adjacent subbands are likely to be correlated, the computation lay be simplified. For example, the computation may be performed for every n-th ubband instead of each subband, where n may be determined by the expected response f the transmit/receive chains. If the calibration is performed for fewer than all of the ata and pilot subbands, then the correction factors for the "uncalibrated" subbands may e obtained by interpolating the correction factors obtained for the "calibrated" ubbands.<br>
Various other calibration schemes may also be used to derive the correction<br>
ectors, k ap (k) and kut (k), for the access point and the user terminal, respectively.<br>
lowever, the scheme described above allows "compatible" correction vectors to be erived for the access point when the calibration is performed by different user ^rminals.<br>
After the derivation, the user terminal sends the correction vectors kap(&amp;) for all<br>
ata subbands back to the access point. If the access point has already been calibrated s.g., by other user terminals), then the current correction vectors are updated with the ewly received correction vectors.   Thus, if the access point uses correction vectors<br>
Lapl(£)  to transmit the MIMO pilot from which the user terminal determines new<br>
orrection vectors kap2(fc), then the updated correction vectors are the product of the<br>
urrent   and   new   correction   vectors,   i.e.,   kap3(k) = kapl (k) • kap2 (k),   where   the<br>
lultiplication is element-by-element. The updated correction vectors kap3(£) may then e used by the access point until they are updated again.<br>
The correction vectors kapl(A:) and kap2(&amp;) may be derived by the same or ifferent user terminals. In one embodiment, the updated correction vectors are defined s kaP3(£)=kapi(£)-kap2(£)&gt; where the multiplication is element-by-element. In nother   embodiment,   the   updated   correction   vectors   may   be   redefined    as<br><br>
*a<br>
kap3(&amp;) = kapJ(fc) -kap2(fc), where a is a factor used to provide weighted averaging (e.g.,<br>
0 
better.  The updated correction vectors kap3(fc) may then be used by the access point<br>
until they are updated again.<br>
&gt;	The access point and user terminal use their respective correction vectors k ap (k)<br>
and km (k), or the corresponding correction matrices Kap (k) and Km (k) ,forkEK,<br>
to scale the modulation symbols prior to transmission, as described below. The calibrated downlink and uplink channels that the user terminal and access point observe are shown in equation (27).<br>
VTI.   Spatial Processing<br>
The spatial processing at the access point and user terminal may be simplified for a TDD system, after calibration has been performed to account for the difference in the transmit/receive chains. As noted above, the calibrated downlink channel response<br>
is     Hcdn (k) = H^ (fc)Kap (k).        The    calibrated    uplink    channel    response    is<br>
Hcup (*) = Hup (*)Km (k) = (Hdn (*)K v (k))T.<br>
1. Uplink Spatial Processing<br>
Singular value decomposition of the calibrated uplink channel response matrix, Hcup(^)' maY t&gt;e expressed as:<br>
Hcnp(t) = U&gt;p(*)E(«V*(t)  JorkeK,	Eq(39)<br>
where   Uap(&amp;) is an (N   xNap) unitary matrix of left eigenvectors of EL^A:);<br>
S(£) is an (NapxNut) diagonal matrix of singular values of HCbp(A:), and<br>
Vm(£) is an (N^ xJV„,) unitary matrix of right eigenvectors of H^fe).<br>
Correspondingly, singular value decomposition of the calibrated downlink channel response matrix, Hcdn(^), may be expressed as:<br>
Hcdn 
The matrices V*t(£) and Uap(£) are also matrices of left and right eigenvectors, respectively, of Hcdn(fc). As shown in equations (39) and (40) and based on the above<br><br>
description, the matrices of left and right eigenvectors for one link are the complex conjugate of the matrices of right and left eigenvectors, respectively, for the other link.<br>
The matrices Vut(fc), V*t(fc),. V^(fc), and V"t(fc) are different forms of the matrix Vul(£), and the matrices Uap(&amp;), Uap(fe), Uap(&amp;), and Uap(fc) are also different forms<br>
of the matrix Uap(A;). For simplicity, reference to the matrices Uap(&amp;) and Vm(&amp;) in<br>
the following description may also refer to their various other forms.   The matrices Uap(&amp;) and V0l(&amp;) are used by the access point and user terminal, respectively, for<br>
ipatial processing and are denoted as such by their subscripts. The eigenvectors are also rften referred to as "steering" vectors.<br>
The user terminal can estimate the calibrated downlink channel response based &gt;n the MIMO pilot sent by the access point. The user terminal can then perform the lingular value decomposition of the calibrated downlink channel response estimate<br>
/v	*\	if.<br>
Hcdn(£)' for * e &amp; &gt; t0 obtain the diagonal matrix 2(£) and the matrix Vut (k) of left eigenvectors of  Hcdn(£).     This singular value decomposition may be  given as<br>
Hcdn(fc) = Vut(fc)2(fc)Uap(fc), where the hat ("A") above each matrix indicates that it is<br>
in estimate of the actual matrix.<br>
Similarly, the access point can estimate the calibrated uplink channel response &gt;ased on a MIMO pilot sent by the user terminal. The access point may then perform ingular value decomposition for the calibrated uplink channel response estimate<br>
ScupW &gt; f°r ke K, to obtain the diagonal matrix Z(*) and the matrix Uap(£) of left<br>
igenvectors of  'RCQp(k).     This singular value decomposition may be  given  as<br>
An (Nut xNut) matrix Fut(£) may be defined as:<br>
E*(*) = Kut(*)Vm(*)  , for k e K .	Eq (41)<br>
Vhile it is active, the user terminal keeps a running estimate of the calibrated downlink hannel Hcdn(&amp;) and the matrices Vut(fc) of left eigenvectors of Hcdn(fc), which are sed to update the matrix F^ (k).<br><br>
The user terminal uses the matrix Fut (k) for the spatial processing for the beam-steering and spatial multiplexing modes. For the spatial multiplexing mode, the transmit vector xup(fc) for each subband may be expressed as:<br>
XupW^E^Ws^W JakeK,	Eq(42)<br>
where sup(fc) is a data vector with up to Ns symbols to be transmitted on the Ns<br>
eigenmodes of subband fc; Fm(fc) substitutes for V(jfc) in equation (15), and the signal scaling by G(k) to<br>
achieve channel inversion is omitted in equation (42) for simplicity; and xup(&amp;) is the transmit vector for the uplink for subband L<br>
At the access point, the received vector rup(A:) for the uplink transmission may<br>
be expressed as:<br>
r Up (*)   = Sup (*)Slip (*) + n^ (*)	JorkeK7    Eq (43)<br>
- H^ (*)Kul (*)¥ ut (fc)sup (*) + nup (*)<br>
=y ap (*)|(«Y; (DL (k)^ (k)+nup (*&gt;<br>
-Uap(fc)|(^)sup(/:) + nupW where rup(fc) is the received vector for the uplink subband k; and<br>
nup(/:) is additive white Gaussian noise (AWGN) for subband k.<br>
Equation (43) uses the following relationships: HUp(^)Kut(^)=Hcup(^)::sHcup(^) and<br>
H^ (k) = Uap(fc)S(fc)y ut (k).    As shown in equation (43), at the access point, the received uplink transmission is transformed by UaP(fc)2(fc), which is the matrix Uap(&amp;)<br>
of left eigenvectors of H^fc) scaled by the diagonal matrix £(fc) of singular values.<br>
The user terminal transmits a steered reference on the uplink using the matrix Em (£) • The steered reference is a pilot transmission on one wideband eigenmode using either beam-steering or beam-forming, and is described in detail below. At the access point, the received uplink steered reference (in the absence of noise) is approximately<br>
Uap(£)S(fc). The access point can thus obtain an estimate of the unitary matrix U  (k)<br><br>
tnd diagonal matrix t(k) based on the steered reference sent by the user terminal. Various estimation techniques may be used to obtain the estimate of the unitary and iiagonal matrices.<br>
In one embodiment, to obtain an estimate of Uap(&amp;), the received vector rm(k)<br>
:or the steered reference for subband k of wideband eigenmode m is first multiplied with<br>
;he complex conjugate of a pilot OFDM symbol, p*(k), sent for the steered reference.<br>
The generation of the steered reference and the pilot OFDM symbol are described in ietail below.   The result is then integrated over multiple received steered reference<br>
symbols for each wideband eigenmode to obtain an estimate of um (k)crm (k), which is a<br>
A.<br>
scaled left eigenvector of Hcup(£) for wideband eigenmode m. Since eigenvectors have<br>
A. unit power, the singular values (or 
received power of the steered reference, which can be measured for each subband of each wideband eigenmode.<br>
In another embodiment, an MMSE technique is used to obtain an estimate of<br>
um(£) based on the received vector rm(k) for the steered reference.<br>
The steered reference may be sent for one wideband eigenmode in any given<br>
symbol period, and may in turn be used to obtain an estimate of one eigenvector for<br>
each subband of that wideband eigenmode. Thus, the receiver is able to obtain an<br>
estimate of one eigenvector in a unitary matrix for any given symbol period. Since<br>
estimates of multiple eigenvectors for the unitary matrix are obtained over different<br>
symbol periods, and due to noise and other sources of degradation in the transmission<br>
path, the estimated eigenvectors for the unitary matrix are not likely be orthogonal. If<br>
the estimated eigenvectors are thereafter used for spatial processing of data transmission<br>
on the other link, then any errors in orthogonality in these estimated eigenvectors would<br>
result in cross-talk among the eigenmodes, which may degrade performance,<br>
i	In an embodiment, the estimated eigenvectors for each unitary matrix are forced<br>
to be orthogonal to each other. The orthogonalization of the eigenvectors may be achieved using various techniques such as QR factorization, minimum square error computation, polar decomposition, and so on.  QR factorization decomposes a matrix<br>
Mr (with non-orthogonal columns) into an orthogonal matrix Qp and an upper triangle<br><br>
T -<br>
matrix RF.  The matrix QF forms an orthogonal basis for the columns of M .  The<br>
7*<br>
diagonal elements of RF give the length of the components of the columns of M in the directions of the respective columns of QF. The matrix QF may be used for spatial processing on the downlink.   The matrices QF and RF may be used to derive an<br>
enhanced matched filter matrix for the uplink. The QR factorization may be performed &gt;y various methods including a Gram-Schmidt procedure, a householder ransformation, and so on.<br>
Other techniques to estimate the unitary and diagonal matrices based on the steered reference may also be used, and this is within the scope of the invention.<br>
The access point can thus estimate both Uap(fc) and 2(£) based on the steered<br>
reference  sent by the user terminal, without having to perform singular value<br>
/* decomposition on Hcup(fc).<br>
A normalized matched filter matrix Map(&amp;) for the uplink transmission from the user terminal may be expressed as:<br>
Map(fc) - t'\k)V_l(k)  , for * e K .	Eq (44)<br>
The matched filtering at the access point for the uplink transmission may then be expressed as:<br>
!»(*)   = MaJk)rUD(k)<br>
:up v    /	iiiapv/i-up<br>
= !"\*)U£(^	Jor keK,   Eq(45)<br>
= sup(*) + nup(fc)<br>
where sup(Z:) is an estimate of the vector of modulation symbols sup(fc) transmitted by<br>
the user terminal for the spatial multiplexing mode. For the beam-steering mode, only one row of the matrix Map(/r) is used to provide one symbol estimate s(k) for the<br>
eigenmode used for data transmission.<br>
2. Downlink Spatial Processing<br>
For the downlink, the access point uses an (Nap *Nap) matrix Fap(£) for spatial<br>
processing. This matrix may be expressed as:<br>
Eap(*) = Kap(/:)U;p(fc)   , for k e K.	Eq (46)<br><br>
The correction matrix Kap(Ar) is derived by the user terminal and sent back to the access<br>
&gt;oint during calibration.   The matrix Uap(fc) may be obtained based on the steered<br>
•eference sent on the uplink by the user terminal.<br>
For the spatial multiplexing mode, the transmit vector x^ik) for the downlink for each data subband may be expressed as:<br>
x*(*) = EaP(*)I*(*)  JorkeK,	Eq (47)<br>
where x^ik) is the transmit vector, s^(k) is the data vector for the downlink, and the signal scaling by G(fc) to achieve channel inversion is again omitted for simplicity.<br>
At the user terminal, the received vector r^jfc) for the downlink transmission may be expressed as:<br>
Lin(fc)   = HdB(*)xdll(*) + ndB(*)<br>
= H^ (*)Kap (*)]£, (k)^ (*) + n^ (k)<br>
^^(^(^sj^ + nji)<br>
= il (k)t(k)Vlp ^l m* (*) + San (k))<br>
= V„(kyf&amp;kysto(k)+ndn(k)	, for keK.   Eq(48)<br>
As shown in equation (48), at the user terminal, the received downlink transmission is<br>
transformed by Vu,(&amp;)S(fc), which is the matrix Vm(fc) of left eigenvectors of Hcdn(^) scaled by the diagonal matrix E(fc) of singular values.<br>
A normalized matched filter matrix Mut(fc) for the downlink transmission from the access point may be expressed as:<br>
M, (*) = I"' 
The diagonal matrix X(^) and matrix Vul(A:) of left eigenvectors can be derived by the<br>
user terminal by performing singular value decomposition on the calibrated downlink<br>
hannel response estimate Hcdn(jfc), as described above.<br>
The matched filtering at the user terminal for the downlink transmission may then be expressed as:<br><br>
!*,(*)   = Mut(*)rdn(fc)<br>
= l~\*)£(*)(^	JorkeK.   Eq(50)<br>
= sdB(k) + adB(fc)<br>
3. Access Point and User Terminal Spatial Processing<br>
Because of the reciprocal channel for the TDD system and the calibration, the spatial processing at both the access point and the user terminal may be simplified. Table 32 summarizes the spatial processing at the access point and user terminal for data transmission and reception.<br><br>
The spatial processing for data reception is also commonly referred to as matched filtering.<br>
Because of the reciprocal channel, Vut(£) is both the matrix of right eigenvectors of HCTp(&amp;) (to transmit) and left eigenvectors of Hcdo(&amp;) (to receive) for<br>
the user terminal. Similarly, Uap(£) is both the matrix of right eigenvectors of Hcdn(£)<br>
(to transmit) and left eigenvectors of H^Jfc) (to receive) for the access point. The singular value decomposition only needs to be performed by the user terminal for the calibrated downlink channel response estimate Hcdn(fc) to obtain Vut(fc) and 2(fc).<br>
The access point can derive HAp(k) and S(jfe) based on the steered reference sent by the user terminal and does not need to perform the singular value decomposition on the uplink channel response estimate H^Ot).   The access point and user terminal may<br>
have different versions of the matrix 2(£) due to the different means used by the access point and user terminal to derive 2(£).  Moreover, the matrix Uap(&amp;) derived by the<br><br><br><br><br><br><br><br><br><br>
where uap(£) is a vector with four elements having equal magnitude but phases obtained based on eigenvector uapl(£) for the principal eigenmode. The gain g(k) achieves channel inversion and may be derived in a similar manner to that shown above in equations (18) through (20), except that \{k) = uap(fc)Hcdn(fe)Hcdn(A:)uap(fe) is used for equation (20). The elements of uap(fc) are provided to multipliers 1052 within beam-steering unit 1050 in FIG. 10B.<br>
VIII. Pilot Structure<br>
A pilot structure is provided for the MEMO WLAN system to allow the access points and user terminals to perform timing and frequency acquisition, channel estimation, and other functions needed for proper system operation. Table 33 lists four types of pilot and their short description for an exemplary pilot structure. Fewer, different, and/or additional pilot types may also be used for the pilot structure.<br>
Table 33 - Pilot Types<br>
Pilot Type	Description<br>
A pilot transmitted from all transmit antennas and used for timing   . Beacon Pilot<br>
and frequency acquisition.<br>
A pilot transmitted from all transmit antennas with different MIMO Pilot<br>
orthogonal codes and used for channel estimation.<br>
A pilot transmitted on specific eigenmodes of a MIMO channel Steered Reference<br>
for a specific user terminal and used for channel estimation and or Steered Pilot<br>
possibly rate control.<br>
Carrier Pilot        A pilot used for phase tracking of a carrier signal.<br>
Pilot Type	Description<br>
A pilot transmitted from all transmit antennas and used for timing   . Beacon Pilot<br>
and frequency acquisition.<br>
A pilot transmitted from all transmit antennas with different MIMO Pilot<br>
orthogonal codes and used for channel estimation.<br>
A pilot transmitted on specific eigenmodes of a MIMO channel Steered Reference<br>
for a specific user terminal and used for channel estimation and or Steered Pilot<br>
possibly rate control.<br>
Carrier Pilot        A pilot used for phase tracking of a carrier signal.<br>
Steered reference and steered pilot are synonymous terms.<br>
In an embodiment, the pilot structure includes (1) for the downlink - a beacon pilot, a MIMO pilot, a steered reference, and a carrier pilot transmitted by the access point, and (2) for the uplink - a MIMO pilot, a steered reference, and a carrier pilot transmitted by the user terminals.<br>
ie downlink beacon pilot and MIMO pilot are sent on the BCH (as shown in FIG. 5A) in each TDD frame. The beacon pilot may be used by the user terminals for timing and frequency acquisition and Doppler estimation.   The MIMO pilot may be<br><br>
used by the user terminals to (1) obtain an estimate of the downlink MIMO channel, (2) derive the steering vectors for uplink transmission (if the beam-steering or spatial multiplexing mode is supported), and (3) derive a matched filter for downlink transmission. The downlink steered reference may also be used by a specified user terminal for channel estimation.<br>
An uplink steered reference is transmitted by each active user terminal that supports the beam-steering or spatial multiplexing mode and may be used by the access point to (1) derive the steering vectors for the downlink transmission and (2) derive a matched filter for the uplink transmission. In general, the steered reference is only sent for/by user terminals that support the beam-steering and/or spatial multiplexing modes. The reference sent works regardless of whether or not it is steered properly (e.g., due to a poor channel estimate). That is, the reference becomes orthogonal on a per transmit antenna basis since the steering matrix is diagonal.<br>
If a user terminal is calibrated, then it can transmit a steered reference on the<br>
principal eigenmode on the RACH using the vector Km(£)yuM)(fc) , for fce K, where<br>
Xut,o(^) is the column of Vut(fc) for the principal eigenmode. If the user terminal is not calibrated, then it can transmit a pilot on the RACH using a vector ▼«*(*) =[ew*} eJff2(k&gt; »- eJ*"«wf9 for ke K. The vector vuUp(k) for each subband includes Nut random steering coefficients whose phases 0((k), for i6 {1, 2,... Nut}, may<br>
be selected in accordance with a pseudo-random procedure. Since only the relative phases among the JVH, steering coefficients matter, the phase of the first steering coefficient may be set to zero (i.e., 8x{k) = 0). The phases of the other Nm -1 steering<br>
coefficients may change for each access attempt, so that all 360° are covered by each steering coefficient in intervals of 360°/N0, where Ng_ is a function of Nut.   The<br>
perturbation of the phases of the Nm demerits of the steering vector vutp(£) on every<br>
RACH attempt, when using the RACH in the beam-steering mode prior to calibration, is so that the user temiinal does not use a bad steering vector for all access attempts. A MIMO pilot may be sent for/by user terminals that do not support beam-steering and/or spatial,multiplexing modes.<br>
The access point does not have knowledge of the channel for any user terminal until the user terminal communicates directly with the access point.   When a user<br><br>
erminal desires to transmit data, it first estimates the channel based on the MIMO pilot xansmitted by the access point. The user terminal then sends steered reference in the preamble of the RACH when it attempts to access the system. The access point uses the reference on the RACH preamble for signal detection and channel estimation.<br>
Once the user terminal has been granted access to the system and assigned FCH/RCH resources by the access point, the user terminal sends a reference (e.g., a VIIMO pilot) at the beginning of each RCH PDU it transmits. If the user terminal is ising the diversity mode, then the reference is sent on the RCH without steering. If the lser terminal is using the beam-steering or spatial multiplexing mode, then a steered •eference is sent on the RCH to allow the access point to determine the eigenvector for he principal eigenmode (for the beam-steering mode) or the set of four eigenvectors Tor the spatial multiplexing mode) for each of the 48 data subbands. The steered 'eference allows the access point to improve its estimate of the channel and to track the channel.<br>
1. Beacon Pilot * Downlink<br>
The downlink beacon pilot is included in the first portion of the BCH (as shown n FIG. 5A) and transmitted in each TDD frame. The beacon pilot includes a specific DFDM symbol (denoted as "B") that is transmitted from each of the four antennas at the iccess point. The same B OFDM symbol is transmitted twice in the 2-symbol duration 7or the beacon pilot.<br>
)	In a specific embodiment, the B OFDM symbol comprises a set of 12 BPSK<br>
Modulation symbols, b(k), for 12 specific subbands, which is shown in Table 34.<br>
Table 34 - Pilot Symbols<br><br>
Sub-band Index	Beacon Pilot	MIMO Pilot<br>
p(k)	Sub-band Index	Beacon Pilot<br>
b(k)	MIMO Pilot<br>
p(k)	Sub-band Index	Beacon Pilot<br>
b(k)	MIMO Pilot<br>
p(k)	Sub-band Index	Beacon Pilot<br>
b(k)	MIMO Pilot<br>
P(k)<br>
ft	0	0	-13	0	1-7	1	0	1-7	■'--15- ir	0	1+7<br>
-26	0	-1-;	-12	-1-7	1-7	■■' 2	0	-1-7	16	1+7	-1+7<br>
-25	0	-i+;	-11	0	-1-7	L\ 3    '	0	-1-7	17	0	-1+7<br>
-24 .	1+7	-1+7	-10	0	-1-7	4	-1-7	-1-7	-18	0	1-7<br>
-23	0	-1+7	-9	0	1-7	-   5	0	"1+7	- 19	0	1+7<br>
-22	0	1-7	-8	-1-7	-1-7	6	0	1+7	20	1+7	-1+7<br><br><br>
For the beacon pilot embodiment shown in Table 34, the B OFDM symbol comprises (1) BPSK modulation symbol (1 + j) for subbands -24, -16, -4, 12, 16, 20,<br>
and 24, (2) BPSK modulation symbol -(1+ j) for subbands -20, -12, -8, 4, and 8, and<br>
(3) signal values of zero for the remaining 52 subbands. The B OFDM symbol is specifically designed to facilitate timing and frequency acquisition by the user terminals. However, other OFDM symbols may also be used for the beacon pilot, and this is within the scope of the invention.<br>
2. MIMO Pilot - Downlink<br>
The downlink MIMO pilot is included in the second portion of the BCH (as shown in FIG. 5A) and also transmitted in each TDD frame. The MIMO pilot includes a specific OFDM symbol (denoted as "P") that is transmitted from each of the four antennas at the access point. The same P OFDM symbol is transmitted eight times in the 8-symbol duration for the MIMO pilot. However, the eight P OFDM symbols for each antenna are "covered" with a different 4-chip Walsh sequence assigned to that antenna. Covering is a process whereby a given pilot or data symbol (or a set of L pilot/data symbols with the same value) to be transmitted is multiplied by all L chips of an L-chip orthogonal sequence to obtain L covered symbols, which are then transmitted. Decovering is a complementary process whereby received symbols are multiplied by the L chips of the same L-chip orthogonal sequence to obtain L decovered symbols, which are then accumulated to obtain an estimate of the transmitted pilot/data symbol. The covering achieves orthogonality among the Nr pilot transmissions from the NT transmit antennas and allows the user terminals to distinguish the individual transmit<br><br>
antennas. Covering may be achieved with Walsh sequences or other orthogonal sequences.<br>
In a specific embodiment, the P OFDM symbol comprises a set of 52 QPSK modulation symbols, p(k)7 for the 48 data subbands and 4 pilot subbands, which is shown in Table 34. Signal values of zero are transmitted on the remaining 12 subbands. The P OFDM symbol comprises a unique "word" of 52 QPSK modulation symbols that is designed to.facilitate channel estimation by the user terminals. This unique word is also selected to minimize the peak-to-average variation in the transmitted MIMO pilot. This may then reduce the amount of distortion and non-linearity generated by the receiver circuitry at the user terminals, which can result in improved accuracy for the channel estimation. However, other OFDM symbols may also be used for the MEMO pilot, and this is within the scope of the invention.<br>
i	In an embodiment, the four antennas at the access point are assigned 4-chip<br>
Walsh sequences of W, = 1111, W2 = 1010, W3 = 1100, and W4 = 1001 for the MIMO<br>
pilot. For a given Walsh sequence, a value of "1" indicates that a P OFDM symbol is transmitted and a value of "0" indicates that a -P OFDM symbol is transmitted (i.e., each of the 52 modulation symbols in P is inverted).<br>
Table 35 lists the OFDM symbols to be transmitted from each of the four antennas at the access point for the beacon pilot and MIMO pilot. The B and P OFDM symbols are as described above.<br><br><br><br>
I	The MIMO pilot may be used by the user terminal to estimate the channel<br>
response of the downlink. In particular, to recover the pilot sent from access point antenna i and received by user terminal antenna j, the pilot received by terminal antenna j is first multiplied with the Walsh sequence assigned to access point antenna L The eight decovered OFDM symbols for all eight symbol periods for the MIMO pilot are then accumulated, where the accumulation is performed individually for each of the 52<br>
subbands used to carry the MIMO pilot. The results of the accumulation is hcdaiJ(k),<br>
for k =±{1,...,26}, which is an estimate of the calibrated downlink channel response<br>
from access point antenna i to user terminal antenna j for the 52 data and pilot subbands. The same pilot processing may be performed by the access point to recover the pilot from each access point antenna at each user terminal antenna. The pilot transmitted from each access point antenna may be recovered by decovering with the Walsh sequence assigned to that antenna. r The pilot processing provides  N   • N^<br>
values for each of the 52 subbands, where Nap denotes the number of antennas at the access point and Nut denotes the number of antennas at the user terminal. The N • Nut values for each subband are the elements of the calibrated downlink channel response estimate Hcdn(&amp;) for that subband.<br>
The MIMO pilot may also be transmitted on the uplink by the user terminal for calibration and in the diversity mode. The same processing described above for the user terminal to recover the MIMO pilot sent by the access point may also be performed by the access point to recover the MIMO pilot sent by the user terminal.<br>
3. Steered Reference<br>
A steered reference may be transmitted in the preamble portion of an RACH PDU (as shown in FIG. 5C) or an RCH PDU (as shown in FIGS. 5E and 5G) by each active user terminal. A steered reference may also be transmitted in the preamble portion of an FCH PDU (as shown in FIGS. 5E and 5F) by the access point to an active user terminal.<br><br><br><br><br><br><br>
As shown in Table 36, the steered reference is transmitted for all four eigenmodes within a single TDD frame when the preamble size is four or eight OFDM symbols. The steered reference transmitted by the user terminal for the n-th OFDM symbol in the preamble for the RCH may be expressed as:<br>
xup^W = Km(fc)-v^mod4(fc)'pW  ,for*GiT andn = {l,...,L},   Eq (68)<br>
'here L is the preamble size, i.e.,L = 4 for Type 2 and L = 8 for Type 3.<br>
Similarly, the steered reference transmitted by the access point for the u-th OFDM symbol in the preamble for the FCH may be expressed as:<br>
xtaW = KaPW-a;,-d4a)P(«  ,for*€rand/z = {l,...,L}.    Eq(69)<br>
As shown in equations (68) and (69), the four eigenmodes are cycled through in each 4-symbol period by the (n mod 4) operation for the steering vector. This scheme may be used if the channel changes more rapidly and/or during the early part of a connection when a good channel estimate needs to be obtained quickly for proper system operation.<br>
In another embodiment, the steered reference is transmitted for one wideband eigenmode for each TDD frame. The steered reference for four wideband eigenmodes may be cycled through in four TDD frames. For example, the steering vectors X«u(£)&gt; iuu(£)&gt; XuaC^X ^d 5w(*) maY be used for the first, second, third, and fourth TDD frames, respectively, by the user terminal. The particular steering vector to use may be specified by the 2 LSBs of the Frame Counter value in the BCH message. This scheme allows a shorter preamble portion to be used in the PDU but may require a longer time period to obtain a good estimate of the channel.<br>
For both embodiments described above, the steered reference may be ransmitted on all four eigenmodes that may be used for data transmission, even though :ewer than four eigenmodes are currently used (e.g., because the unused eigenmodes are poor and discarded by the water-filling). The transmission of the steered reference on a currently unused eigenmode allows the receiver to determine when the eigenmode improves enough to be selected for use.<br>
B. Steered Reference for Beam-Steering<br>
For the beam-steering mode, the spatial processing on the transmit side is performed  using  a  set  of normalized eigenvectors  for  the  principal  wideband<br><br>
eigenmode. The overall transfer function with a normalized eigenvector is different from the overall transfer function with an unnormalized eigenvector (i.e., ScuP(^)vuU(A:)9tHcup(/:)vut(fe)).    A steered reference generated using the set of<br>
normalized eigenvectors for all subbands may then be sent by the transmitter and used by the receiver to derive the matched filter vectors for these subbands for the beam-steering mode.<br>
For the uplink, the steered reference for the beam-steering mode may be expressed as:<br>
x^ (*) = IL (*)£« (k)p(k)  , for * € £ .	Eq (70)<br>
At the access point, the receive uplink steered reference for the beam-steering mode may be expressed as:<br>
Iv(k)   =H,(i)Svr(i) + n,(l)	,for ke K.       Eq(71)<br>
= Hup (*)&amp;« (*)▼« (k)p(k) + nup (*)<br>
To obtain the matched filter row vector map (k) for the uplink transmission with<br>
beam-steering, the received vector ? upfSr (k) for the steered reference is first multiplied<br>
with p*(k).   The result is then integrated over multiple received steered reference<br>
symbols to form an estimate of H^ (fc)vut (k).    The vector map(&amp;)  is then the<br>
conjugate transpose of this estimate.<br>
While operating in the beam-steering mode, the user terminal may transmit multiple symbols of steered reference, for example, one or more symbols using the normalized eigenvector vut(&amp;), one or more symbols using the eigenvector vut i(fc) f°r<br>
the principal wideband eigenmode, and possibly one or more symbols using the eigenvectors for the other wideband eigenmodes. The steered reference symbols generated with vut (k) may be used by the access point to derive the matched filter<br>
vector map(&amp;) . The steered reference symbols generated with vuU(fc) may be used to obtain u   j(jt), which may then be used to derive the normalized eigenvector uap(fc)<br>
that is used for beam-steering on the downlink. The steered reference symbols generated with the eigenvectors vul2(fc) through vmfN5(fc) for the other eigenmodes<br><br>
may be used by the access point to obtain uapi2(£) through u  j^ (k) and the singular<br>
values for these other eigenmodes. This information may then be used by the access point to determine whether to use the spatial multiplexing mode or the beam-steering mode for data transmission.<br>
For the downlink, the user terminal may derive the matched filter vector mut (k) for the beam-steering mode based on the calibrated downlink channel response estimate McdnW-    I11 Particular, the user terminal has  u   x(k)   from the singular value<br>
decomposition of Hcdn (k) and can derive the normalized eigenvector uap (k) . The user<br>
terminal can then multiply 5ap (k) with HcdD (k) to obtain Hcdn (£)uap (fc), and may then<br>
SI<br>
derive mut(£) based on Hcdo(&amp;)uap(£)- Alternatively, a steered reference may be sent by the access point using the normalized eigenvector uap (k) , and this steered reference<br>
may be processed by the user terminal in the manner described above to obtain mut (fe).<br>
4.  Carrier Pilot - Uplink<br>
The OFDM subband structure described herein includes four pilot subbands with indices of -21, -7,7, and 21. In an embodiment, a carrier pilot is transmitted on the four pilot subbands in all OFDM symbols that are not part of a preamble. The carrier pilot may be used by the receiver to track phase changes due to drifts in the oscillators at both the transmitter and receiver. This may provide improved data demodulation performance.<br>
The carrier pilot comprises four pilot sequences, Pcl(n), Pc2(n), Pc3(ri)&gt; and<br>
Pc4(«), which are transmitted on the four pilot subbands. The pilot sequences may be<br>
defined as:<br>
PeM) = pd(n) = PcM = -PCM  . for n = {1, 2, ... 127},	Eq (72)<br>
where n is an index for OFDM symbol period.<br>
The pilot sequences may be defined based on various data sequences. In an embodiment,   the   pilot   sequence   Pcl(n)   is   generated  based   on   a  polynomial<br>
G(x) = x7-f-x4+jc, where the initial state is set to all ones and the output bits are mapped to signal values as follows: 1 =&gt; -1 and 0 =&gt; 1. The pilot sequence Pcl(n), for n = {1, 2, ... 127}, may then be expressed as:<br><br>
Pcl(;x)= {1,1,1,1,-1,-1,-1,1,-1,-1,-1,-1,1,1,-1,1,-1,-1,1,1,-1,1,1,-1,1,1,1,1,1,1,-1,1, 1,1,-1^^<br>
-l,-l,-l,-l,-l,l,-l,l,l,-l,l,-l,l,l,lrlrl&gt;lrlrlriajarl,-lrlrl,-l,-l,-l}. rhe values of "1" and "-1" in the pilot sequence Pcl(n) may be mapped to pilot symbols<br>
jsing a particular modulation scheme. For example, using BPSK, a "1" may be mapped :o 1 +j and a "-1" may be mapped to -(1 + j) •  If there are more than 127 OFDM<br>
symbols, then the pilot sequence may be repeated so that Pcl(n) = PcX(n mod 127) for<br>
7z&gt;127.<br>
In one embodiment, the four pilot sequences are reset for each transport channel. Thus, on the downlink, the pilot sequences are reset for the first OFDM symbol of the BCH message, reset again for the first OFDM symbol of the FCCH message, and reset Tor the first OFDM symbol sent on the FCH. In another embodiment, the pilot sequences are reset at the start of each TDD frame and repeat as often as needed. For this embodiment, the pilot sequences may be stalled during the preamble portions of the BCH and FCH.<br>
1	In   the   diversity   mode,   the   four   pilot   sequences   are   mapped   to   four<br>
subband/antenna pairing as shown in Table 29. In particular, Pcl(n) is used for subband<br>
-21 of antenna 1, PcZ(n) is used for subband -7 of antenna 2, Pc2(n) is used for subband<br>
7 of antenna 3, and Pc4(n) is used for subband 21 of antenna 4. Each pilot sequence is<br>
then transmitted on the associated subband and antenna.<br>
In the spatial multiplexing mode, the four pilot sequences are transmitted on the<br>
principal eigenmode of their respective subbands. The spatial processing for the carrier<br>
pilot symbols is similar to that performed for the modulation symbols, as described<br>
above. In the beam-steering mode, the four pilot sequences are transmitted on their<br>
respective subbands using beam-steering. The beam-steering for the carrier pilot<br>
symbols is also similar to that performed for the modulation symbols.<br>
•	A specific pilot structure has been described above for the MIMO WLAN<br>
system.  Other pilot structures may also be used for the system, and this is within the scope of the invention.<br><br>
IX.    System Operation<br>
FIG* 12A shows a specific embodiment of a state diagram 1200 for the operation of a user terminal. This state diagram includes four states - an Init state 1210, a Dormant state 1220, an Access state 1230, and a Connected state 1240. Each of states 1210, 1220,1230, and 1240 may be associated with a number of substates (not shown in FIG. 12A for simplicity).<br>
In the Init state, the user terminal acquires the system frequency and timing and obtains system parameters sent on the BCH. In the Init state, the user terminal may perform the following functions:<br>
•	System determination - the user terminal determines which carrier frequency to acquire the system on.<br>
•	Frequency/timing acquisition - the user terminal acquires the beacon pilot and adjusts its frequency and timing accordingly.<br>
•	Parameter acquisition — the user terminal processes the BCH to obtain the system parameters associated with the access point from which the downlink signal is received.<br>
Upon completing the required functions for the Init state, the user terminal transitions to the Dormant state.<br>
In the Dormant state, the user terminal periodically monitors the BCH for updated system parameters, mdications of pages and broadcast messages being sent on the downlink, and so on. No radio resources are allocated to the user terminal in this state. In the Dormant state, the user terminal may perform the following functions:<br>
•	If a registration is warranted, the user terminal enters the Access state with a registration request.<br>
•	If calibration of the transmitter/receiver is warranted, the user terminal enters the Access state with a calibration request.<br>
•	The user terminal monitors the BCH for indication of pages and broadcast messages sent on the FCH.<br>
•	If the user terminal has data to send on the uplink, it enters the Access state with a resource request.<br>
•	The user terminal performs maintenance procedures such as updating the system parameters and tracking the channel.<br><br>
•   The user terminal may enter a slotted mode of operation for power savings, if<br>
this mode is supported by the user terminal .4 If the user terminal desires radio resources from the access point for any task, it transitions to the Access state.   For example, the user terminal may transition to the Access state in response to a page or DST indicator being sent in the BCH message, for registration or request for calibration, or to request dedicated resources.<br>
In the Access state, the user terminal is in the process of accessing the system. The user terminal may send short messages and/or requests for FCH/RCH resources using the RACH. The operation on the RACH is described in further detail below. If the user terminal is released by the access point, then it transitions back to the Dormant state. If the user terminal is assigned resources for the downlink and/or uplink, then it transitions to the Connected state.<br>
In the Connected state, the user terminal is assigned the FCH/RCH resources, although not necessarily for every TDD frame. The user terminal may actively use the allocated resources or may be idle (while still maintaining the connection) in the Connected state. The user terminal remains in the Connected state until it is released by the access point or if it times out after no activity for a particular timeout period, in which case it transitions back to the Dormant state.<br>
While in the Dormant, Access, or Connected state, the user terminal transitions back to the hiit state if it is powered down or if the connection is dropped.<br>
FIG. 12B shows a specific embodiment of a state diagram for Connected state<br>
In this embodiment, the Connected state includes three substates - a Setup substate 1260, an Open substate 1270, and an Idle substate 1280. The user terminal enters the Setup substate upon receiving an assignment on the FCCH.<br>
In the Setup substate, the user terminal is in the process of setting up the connection and is not yet exchanging data. The connection setup may include channel estimation for the access point, rate determination, service negotiation, and so on. Upon entering the Setup substate, the user terminal sets a timer for a specified amount of time. If the timer expires before the user terminal leaves this substate, then it transitions back to the Dormant state. The user terminal transitions to the Open substate upon completion of the connection setup.<br>
In the Open substate, the user terminal and access point exchange data on the uuwimnk and/or uplink.   "While in the Open substate, the user terminal monitors the<br><br>
BCH for system parameters and indication of page/broadcast messages. If a BCH message cannot be decoded correctly within a specified number of TDD frames, then the user terminal transitions back to the Init state.<br>
»	The user terminal also monitors the FCCH for channel assignment, rate control,<br>
RCH timing control, and power control information. The user terminal estimates the received SNR using the BCH beacon pilot and the FCH preamble and determines the maximum rate that can be sustained reliably on the FCH.<br>
»	The FCH and RCH assignments for the user terminal for each TDD frame are<br>
given by the information elements in the FCCH PDU transmitted in the current (or possibly prior) TDD frame. The user terminal may not be assigned for data transmission on the FCH and/or RCH for any given TDD frame. For each TDD frame in which the user terminal is not scheduled for data transmission, it does not receive an FCH PDU on the downlink and does not transmit on the uplink.<br>
i	For each TDD frame in  which  the user terminal  is scheduled,  the  data<br>
transmissions on the downlink and/or uplink are performed using the rate, transmission mode, and RCH timing offset (for the uplink) indicated in the FCCH assignments (i.e., the FCCH information elements addressed to the user tenninal). The user terminal receives, demodulates, and decodes FCH PDUs sent to it. The user terminal also transmits RCH PDUs, which include the preamble and FCH data rate indicator. The user terminal adjusts the rate used on the RCH according to the rate control information contained in the FCCH assignment. If power control is being applied for the uplink transmission, then the user terminal adjusts its transmit power based on the power control commands included in the FCCH assignment. The data exchange may be bursty, in which case the user terminal may enter into the Idle substate whenever no data is being exchanged. The user terminal enter the Idle substate when directed by the access point. If the access point does not assign the FCH or RCH to the user terminal within a specified number of TDD frames, then the user terminal transitions back to the Dormant state and retains its MAC ID.<br>
\	In the Idle substate, both the uplink and downlink are idling. Data'is not being<br>
sent in either direction. However, the links are maintained with the steered reference and control messages. In this substate, the access point periodically assigns Idle PDUs to the user terminal on the RCH and possibly the FCH (not necessarily simultaneously). The user terminal may be able to remain in the Connected state indefinitely, provided<br><br>
that the access point periodically assigns Idle PDUs on the FCH and RCH to maintain the link.<br>
While in the Idle substate, the user terminal monitors the BCH. If a BCH message is not decoded correctly within a specified number of TDD frames, then the user terminal transitions back to the Init state. The user terminal also monitors the FCCH for channel assignment, rate control, RCH timing control, and power control information. The user terminal may also estimate the receive SNR and determine the maximum rate supported by the FCH. The user terminal transmits an Idle PDU on the RCH, when assigned, and sets the RCH Request bit in the Idle PDU if it has data to send. If the access point does not assign an FCH or RCH to the user terminal within a specified number of TDD frames, then the user terminal transitions back to the Dormant state and retains its MAC ID.<br>
►	A time-out timer may be set to a particular value upon entering any of the three<br>
substates. This timer would then count down if there is no activity while in the substate. While in the Setup, Active, or Idle substate, the terminal would transition back to the Dormant state if the time-out timer expires and to the Init state if the connection is dropped. While in the Active or Idle substate, the terminal would also transition back to the Dormant state if the connection is released,<br>
)	FIGS. 12A and 12B show a specific embodiment of a state diagram that may be<br>
used for the user terminal. Various other state diagrams with fewer, additional, and/or different states and substates may also be used for the system, and this is within the scope of the invention.<br>
X.     Random Access<br>
In an embodiment, a random access scheme is employed to allow the user terminals to access the MIMO WLAN system. In an embodiment, the random access scheme is based on a slotted Aloha scheme whereby a user terminal transmits in a randomly selected RACH slot to attempt to gain access to the system. The user terminal may send multiple transmissions on the RACH until access is gained or the. maximum number of access attempts has been reached. Various parameters for each RACH transmission may be changed to improve the likelihood of success, as described below.<br>
FIG. 13 illustrates a timeline for the RACH, which is partitioned into RACH slots. The number of RACH slots available for use in each TDD frame and the duration of the RACH slot are configurable parameters. A maximum of 32 RACH slots may be<br><br>
available for use in each TDD frame.  The guard interval between the end of the last<br>
RACH slot and the start of the BCH PDU for the next TDD frame is also a configurable<br>
arameter. These three parameters for the RACH can change from frame to frame and<br>
re indicated by the RACH Length, RACH Slot Size, and RACH Guard Interval fields<br>
f the BCH message.<br>
When a user terminal desires to access the system, it first processes the BCH to btain pertinent system parameters. The user terminal then sends a RACH PDU on the ACH. This RACH PDU includes a RACH message that contains information needed y the access point to process the access request from the user terminal. For example, ie RACH message includes the user terminal's assigned MAC ID that allows the ccess point to identify the user terminal. A registration MAC ID (i.e., a specific MAC D value) may be reserved for unregistered user terminals. In this case, the user smunaFs long ID may be included in the Payload field of the RACH message along /ith the registration MAC ID.<br>
As described above, the RACH PDU may be transmitted at one of four data ates, which are listed in Table 15. The selected rate is embedded in the preamble of the IACH PDU (as shown in FIG. 5C). The RACH PDU also has a variable length of 1, 2, •, or 8 OFDM symbols (as also listed in Table 15), which is indicated in the Message )uration field of the RACH message.<br>
To transmit the RACH PDU, the user terminal first determines the number of<br>
tACH slots that may be used for transmission (i.e., the number of "usable" RACH<br>
lots). This determination is made based on (1) the number of RACH slots available in<br>
he current TDD frame, (2) the duration of each RACH slot, (3) the guard interval, and<br>
4) the length of the RACH PDU to be transmitted.  The RACH PDU cannot extend<br>
&gt;eyond the end of the RACH segment of the TDD frame. Thus, if the RACH PDU is<br>
onger than one RACH slot plus the guard interval, then this PDU may not be<br>
transmitted in one or more later available RACH slots. The number of RACH slots that<br>
may be used to transmit the RACH PDU may be fewer than the number of available<br>
RACH slots, based on the factors enumerated above.  The RACH segment includes a<br>
guard interval, which is provided to prevent the uplink transmission from the user<br>
terminals from interfering with the next BCH segment, which is a possibility for user<br>
terminals that do not compensate for their round trip delay.<br><br>
The user terminal then randomly selects one of the usable RACH slots to transmit the RACH PDU. The user terminal then transmits the RACH PDU starting in the selected RACH slot. If the user terminal knows the round trip delay to the access point, then it can account for this delay by adjusting its timing accordingly.<br>
When the access point receives a RACH PDU, it checks the received RACH message using the CRC included in the message. The access point discards the RACH message if the CRC fails. If the CRC passes, the access point sets the RACH Acknowledgment bit on the BCH in the subsequent TDD frame and transmits an RACH acknowledgement on the FCCH within 2 TDD frames. There may be a delay between the: setting of the Acknowledgment bit on the BCH and the sending of the acknowledgment on the FCCH, which may be used to account for scheduling delay and so on. For example, if the access point receives the message on the RACH, it can set the Acknowledgment bit on the BCH and have a delay response on the FCCH. The Acknowledgment bit prevents user terminals from retrying and allows unsuccessful user terminals to retry quickly, except during busy RACH periods.<br>
If the user terminal is performing a registration, then it uses the registration MAC ID (e.g., 0x0001). The access point responds by sending a MAC ID Assignment Message on the FCH. All other RACH transmission types include the user terminal's MAC ID assigned by the system. The access point explicitly acknowledges all correctly received RACH messages by sending acknowledgments on the FCCH using the MAC QD assigned to the user terminal.<br>
After the user terminal sends the RACH PDU, it monitors the BCH and FCCH :o determine whether or not its RACH PDU has been received and processed by the access point. The user terminal monitors the BCH to determine whether or not the RACH Acknowledgment Bit in the BCH message is set. If this bit is set, which indicates that an acknowledgment for this and/or some other user terminals is being sent 3n the FCCH, then the user terminal further processes the FCCH to obtain IE Type 3 information elements containing acknowledgements. Otherwise, if the RACH Acknowledgment Bit is not set, then the user teiminal continues to monitor the BCH or resumes its access procedure on the RACH.<br>
The FCCH IE Type 3 is used to carry quick acknowledgements for successful access attempts. Each acknowledgement information element contains the MAC ID associated with the user terminal for which the acknowledgment is sent.   A quick<br><br>
acknowledgement is used to inform the user terminal that its access request has been received but is not associated with an assignment of FCH/RCH resources. Conversely, an assignment-based acknowledgement is associated with an FCH/RCH assignment. If the user terminal receives a quick acknowledgement on the FCCH, it transitions to the Dormant state. If the user terminal receives an assignment-based acknowledgement, it obtains scheduling information sent along with the acknowledgment and begins using the FCH/RCH as assigned in the current TDD frame.<br>
►	The user terminal resumes the access procedure on the RACH if it does not<br>
receive an acknowledgement on the FCCH within a specified number of TDD frames after transmitting the RACH PDU. In this case, the user terminal can assume that the access point did not receive the RACH PDU correctly. A counter is maintained by the user terminal to count the number of access attempts. This counter may be initialized to zero for the first access attempt and is incremented by one for each subsequent access attempt. The user terminal would terminate the access procedure if the counter value reaches the maximum number of attempts.<br>
For each subsequent access attempt, the user terminal first determines various parameters for this access attempt including (1) the amount of time to wait before transmitting the RACH PDU, (2) the RACH slot to use for the RACH PDU transmission, and (3) the rate for the RACH PDU. To determine the amount of time to wait, the user terminal first determines the maximum amount of time to wait for the next access attempt, which is referred to as the contention window (CW). In an embodiment, the contention window (which is given in units of TDD frames) exponentially increases<br>
for each access attempt (i.e., CW = 2access-attempt). The contention window may also be<br>
determined based on some other function (e.g., a linear function) of the number of<br>
access attempts. The amount of time to wait for the next access attempt is then<br>
randomly selected between zero and CW. The user terminal would wait this amount of<br>
time before transmitting the RACH PDU for the next access attempt,<br>
i	For the next access attempt, the user terminal reduces the rate for, the RACH<br>
PDU, if the lowest rate was not used for the last access attempt. The initial rate used for the first access attempt may be selected based on the received SNR of the pilot sent on the BCH. The failure to receive an acknowledgment may be caused by the access point's failure to correctly receive the RACH PDU. Thus, the rate for the RACH PDU<br><br>
in the next access attempt is reduced to improve the likelihood of correct reception by the access point.<br>
»	After waiting the randomly selected wait time, the user terminal again randomly<br>
selects an RACH slot for transmission of the RACH PDU. The selection of the RACH slot for this access attempt may be performed in similar manner as that described above for the first access attempt, except that the RACH parameters (i.e., number of RACH slots, slot duration, and guard interval) for the current TDD frame, as conveyed in the BCH message, are used along with the current RACH PDU length. The RACH PDU is then transmitted in the randomly selected RACH slot.<br>
i	The access procedure described above continues until either (1) the user terminal<br>
receives an acknowledgment from the access point or (2) the maximum number of permitted access attempts has been reached. For each access attempt, the amount of time to wait before transmitting the RACH PDU, the RACH slot to use for the RACH PDU transmission, and the rate for the RACH PDU may be selected as described above. If the acknowledgment is received, then the user terminal operates as indicated by the acknowledgment (i.e., it waits in the Dormant state if a quick acknowledgment is received or starts using the FCH/RCH if an assignment-based acknowledgment is received). If the maximum number of permitted access attempts has been reached, then the user terminal transitions back to the Init state.<br>
XI.    Rate, Power, and Timing Control<br>
*	The access point schedules downlink and uplink transmissions on the FCH and<br>
RCH and further controls the rates for all active user terminals. Moreover, the access point adjusts the transmit power of certain active user terminals on the uplink. Various control loops may be maintained to adjust the rate, transmit power, and timing for each active user terminal.<br>
1. Fixed and Variable Rate Services<br>
\	The access point can support both fixed and variable rate services on the FCH<br>
and RCH. Fixed-rate services may be used for voice, video, and so on. Variable rate services may be used for packet data (e.g., Web browsing).<br>
►	For fixed rate services on the FCH/RCH, a fixed rate is used for the entire<br>
connection. Best effort delivery is used for the FCH and RCH (i.e., no retransmission). The access point schedules a constant number of FCH/RCH PDUs per specified time interval to satisfy the QoS requirements of the service.    Depending on the delay<br><br>
requirements, the access point may not need to schedule an FCH/RCH PDU for every TDD frame. Power control is exercised on the RCH but not the FCH for fixed rate services.<br>
•	For variable rate services on the FCH/RCH, the rate used for the FCH/RCH is<br>
allowed to change with channel conditions. For some isochronous services (e.g., video, audio), the QoS requirements may impose a minimum rate constraint. For these services, the scheduler at the access point adjusts the FCH/RCH allocation so that a constant rate is provided. For asynchronous data services (e.g., web browsing!, file transfer, and so on), a best effort delivery is provided with the option of retransmissions. For these services, the rate is the maximum that can be reliably sustained by the channel conditions. The scheduling of the FCH/RCH PDUs for the user terminals is typically a function of their QoS requirements. Whenever there's no data to send on the downlink/uplink, an Idle PDU is sent on the FCH/RCH to maintain the link. Closed loop power control is not exercised on the FCH or RCH for variable rate services. 2. Rate Control<br>
Rate control may be used for variable rate services operating on the FCH and RCH to adapt the rate of the FCH/RCH to changing channel conditions. The rates to jse for the FCH and RCH may be independently controlled. Moreover, in the spatial nultiplexing mode, the rate for each wideband eigenmode of each dedicated transport channel may be independently controlled. The rate control is performed by the access )oint based on feedback provided by each active user terminal. The scheduler within he access point schedules data transmission and determines rate assignments for the tctive user terminals.<br>
The maximum rate that can be supported on either link is a function of (1) the ;hannel response matrix for all of the data subbands, (2) the noise level observed by the eceiver, (3) the quality of the channel estimate, and possibly other factors. For a TDD ystem, the channel may be considered to be reciprocal for the downlink and uplink after calibration has been performed to account for any differences at the access point ind user terminal). However, this reciprocal channel does not imply that the noise loors are the same at the access point and user terminal. Thus, for a given user erminal, the rates on the FCH and RCH may be independently controlled.<br>
Closed-loop rate control may be used for data transmission on one or more patial channels. Closed-loop rate control may be achieved with one or multiple loops.<br><br>
An inner loop estimates the channel conditions and selects a suitable rate for each spatial channel used for data transmission. The channel estimation and rate selection may be performed as described above. An outer loop may be used to estimate the quality of the data transmission received on each spatial channel and to adjust the operation of the inner loop. The data transmission quality may be quantified by packet error rate (PER), decoder metrics, and so on, or a combination thereof. For example, the outer loop may adjust the SNR offset for each spatial channel to achieve the target PER for that spatial channel. The outer loop may also direct the inner loop to select a lower rate for a spatial channel if excessive packet errors are detected for the spatial channel.<br>
Downlink Rate Control<br>
Each active user terminal can estimate the downlink channel based on the MIMO pilot transmitted on the BCH in each TDD frame. The access point may also transmit a steered reference in an FCH PDU sent to a specific user terminal. Using the MIMO pilot on the BCH and/or the steered reference on the FCH, the user terminal can estimate the received SNR and determine the maximum rate that can be supported on the FCH. If the user terminal is operating in the spatial multiplexing mode, then the maximum rate may be determined for each wideband eigenmode. Each user terminal can send back to the access point the maximum rate supported by each wideband eigenmode (for the spatial multiplexing mode), the maximum rate supported by the principal wideband eigenmode (for the beam-steering mode), or the maximum rate supported by the MIMO channel (for the diversity mode) in the FCH Rate Indicator field of the RCH PDU. These rates may be mapped to received SNRs, which may then be used to perform the water-filling described above. Alternatively, the user terminal may send back sufficient information (e.g., the received SNRs) to allow the access point to determine the maximum rate supported by the downlink.<br>
,	The determination of whether to use the diversity, beam-steering, or spatial<br>
multiplexing mode may be made based on the feedback from the user terminal. The number of wideband eigenmodes selected for use may increase as isolation between the steering vectors improves.<br>
PIG. 14A illustrates a process for controlling the rate of a downlink transmission for a user terminal. A BCH PDU is transmitted in the first segment of sach TDD frame and includes the beacon and MIMO pilots that can be used by the user<br><br>
terminals to estimate and track the channel. A steered reference may also be sent in the preamble of an FCH PDU sent to the user terminal. The user terminal estimates the channel based on the MEMO and/or steered reference and determines the maximum rate(s) that can be supported by the downlink. One rate is provided for each wideband eigenmode if the user terminal is operating in the spatial multiplexing mode. The user terminal then sends the rate indicator for the FCH in the FCH Rate Indicator field of the RCH PDU it sends to the access point.<br>
»	The scheduler uses the maximum rates that the downlink can support for each<br>
active user terminal to schedule downlink data transmission in subsequent TDD frames. rhe rates and other channel assignment information for the user terminal are reflected in an information element sent on the FCCH. The rate assigned to one user terminal can impact the scheduling for other user terminals. The minimum delay between the rate determination by the user terminal and its use is approximately a single TDD frame.<br>
Using the Gram-Schmidt ordered procedure, the access point can accurately determine the maximum rates supported on the FCH directly from the RCH preamble. This can then greatly simplify rate control. Uplink Rate Control<br>
Each user terminal transmits a steered reference on the RACH during system access and on the RCH upon being assigned FCH/RCH resources. The access point can estimate the received SNR for each of the wideband eigenmodes based on the steered reference on the RCH and determine the maximum rate supported by each wideband eigenmode. Initially, the access point may not have a good estimate of the channel to permit reliable operation at or near the maximum rate supported by each wideband eigenmode. To improve reliability, the initial rate used on the FCH/RCH may be much lower than the maximum supported rate. The access point can integrate the steered reference over a number of TDD frames to obtain improved estimate of the channel. As the estimate of the channel improves, the rate may be increased.<br>
i	FIG. 14B illustrates a process for controlling the rate of an uplink transmission<br>
for a user terminal. When scheduled for uplink transmission, the user terminal transmits an RCH PDU that includes the reference, which is used by the access point to determine the maximum rate on the uplink. The scheduler then uses the maximum rates that the uplink can support for each active user terminal to schedule uplink data transmission in subsequent TDD frames.  The rates and other channel assignment information for the<br><br>
user terminal are reflected in an information element sent on the FCCH. The minimum delay between the rate determination by the access point and its use is approximately a single TDD frame.<br>
3. Power Control<br>
i	Power control may be used for uplink transmissions on the RCH (instead of rate<br>
control) for fixed-rate services. For fixed-rate services, the rate is negotiated at call setup and remains fixed for the duration of the connection. Some fixed-rate services may be associated with limited mobility requirement. In an embodiment, power control is implemented for the uplink to guard against interference among the user terminals but is not used for the downlink.<br>
1	A power control mechanism is used to control the uplink transmit power of each<br>
active user terminal such that the received SNR at the access point is maintained at a level that achieves the desired service quality. This level is often referred to as the target received SNR, the operating point, or the setpoint. For a mobile user terminal, the propagation loss will likely change as the user terminal moves about. The power control mechanism tracks changes in the channel so that the received SNR is maintained near the setpoint.<br>
The power control mechanism may be implemented with two power control loops - an inner loop and an outer loop. The inner loop adjusts the transmit power of the user terminal such that the received SNR at the access point is maintained near the setpoint. The outer loop adjusts the setpoint to achieve a particular level of performance, which may be quantified by a particular frame error rate (PER) (e.g., 1% FER), packet error rate (PER), block error rate (BLER), message error rate (MER), or some other measure.<br>
i	FIG. 15 illustrates the operation of the inner power control for a user terminal.<br>
After the user terminal is assigned the FCH/RCH, the access point estimates the received SNR on the RCH and compares it to the setpoint. The initial power to be used t&gt;y the user terminal may be determined at call setup and is typically near its maximum transmit power level. For each frame interval, if the received SNR exceeds the setpoint t&gt;y a particular positive margin 8, then the access point can direct the user terminal to reduce its transmit power by a particular amount (e.g., 1 dB) in an FCCH information element sent to this user terminal. Conversely, if the received SNR is lower than the threshold minus the margin 8, then the access point can direct the user terminal to<br><br>
increase its transmit power by the particular amount. If the received SNR is within the acceptable limits of the setpoint, then the access point will not request a change in transmit power by the user teiminal. The uplink transmit power is given as the initial transmit power level plus the sum of all power adjustments received from the access point.<br>
The initial setpoint used at the access point is set to achieve a particular level of )erformance. This setpoint is adjusted by the outer loop based on the FER or PER for he RCEL For example, if no frame/packet errors occur over a specified time period, hen the setpoint may be reduced by a first amount (e.g., 0.1 dB). If the average FER is exceeded by the occurrence of one or more frame/packet errors, then the setpoint may &gt;e increased by a second amount (e.g., 1 dB). The setpoint, hysteresis margin, and )uter loop operation are specific to the power control design used for the system.<br>
4; Timing Control<br>
Timing control may be advantageously used in a TDD-based frame structure -vhere the downlink and uplink share the same frequency band in a time division iuplexed manner. The user terminals may be located throughout in the system and may ;hus be associated with different propagation delays to the access point. In order to maximize efficiency on the uplink, the timing of the uplink transmission on the RCH and RACH from each user terminal can be adjusted to account for its propagation delay. rhis would then ensure that the uplink transmissions from different user terminals arrive within a particular time window at the access point and do not interfere with one mother on the uplink, or with the downlink transmission.<br>
FIG. 16 illustrates a process for adjusting the uplink timing of a user terminal, [nitially, the user terminal sends an RACH PDU on the uplink to gain access to the system. The access point derives an initial estimate of the round trip delay (RTD) associated with the user terminal. The round trip delay may be estimated based on (1) a sliding correlator used at the access point to determine the start of transmission, and (2) the slot ID included in the RACH PDU sent by the user terminal. The access point then computes an initial timing advance for the user terminal based on the initial RTD estimate. The initial timing advance is sent to the user terminal prior to its transmission on the RCH. The initial timing advance may be sent in a message on the FCH, a field of an FCCH information element, or by some other means.<br><br>
The user terminal receives the initial timing advance from the access point and thereafter uses this timing advance on all subsequent uplink transmissions on both the RCH and RACH. If the user terminal is assigned FCH/RCH resources, then its timing advance can be adjusted by commands.sent by the access point in the RCH Timing Adjustment field of an FCCH information element. The user terminal would thereafter adjust its uplink transmissions on the RCH based on the current timing advance, which is equal to the initial timing advance plus all timing adjustments sent by the access point to the user terminal.<br>
Various parts of the MIMO WLAN system and various techniques described herein may be implemented by various means. For example, the processing at the access point and user terminal may be implemented in hardware, software, or a combination thereof. For a hardware implementation, the processing may be implemented within one or more application specific integrated circuits (ASICs), digital signal processors (DSPs), digital signal processing devices (DSPDs), programmable logic devices (PLDs), field programmable gate arrays (FPGAs), processors, controllers, micro-controllers, microprocessors, other electronic units designed to perform the unctions described herein, or a combination thereof.<br>
For a software implementation, the processing may be implemented with nodules (e.g., procedures, functions, and so on) that perform the functions described lerein. The software codes may be stored in a memory unit (e.g., memory 732 or 782 n FIG. 7) and executed by a processor (e.g., controller 730 or 780). The memory unit nay be implemented within the processor or external to the processor, in which case it can be communicatively coupled to the processor via various means as is known in the art.<br>
Headings are included herein for reference and to aid in locating certain sections. These headings are not intended to limit the scope of the concepts described herein under, and these concepts may have applicability in other sections throughout he entire specification.<br>
&gt;	The previous description of the disclosed embodiments is provided to enable any<br>
person skilled in the art to make or use the present invention. Various modifications to hese embodiments will be readily apparent to those skilled in the art, and the generic principles defined herein may be applied to other embodiments without departing from :he spirit or scope of the invention.  Thus, the present invention is not intended to be<br><br>
limited to the embodiments shown herein but is to be accorded the widest scope consistent with the principles and novel features disclosed herein.<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
WE CLAIM :<br>
1.	A method of transmitting signaling information in a wireless multiple-input<br>
multiple-output (MIMO) communication system comprising:<br>
transmitting signaling information for a first set of at least one user terminal at a first rate on a first sub channel of a forward control channel; and<br>
transmitting signaling information for a second set of at least one user terminal at a second rate on a second subchannel of the forward control channel, wherein the second rate is higher than the first rate, and wherein the second subchannel is transmitted after the first subchannel.<br>
2.	The method of claim 1 comprising :<br>
transmitting signaling information for a third set of at least one user terminal at a third rate on a third sub channel of the forward control channel, wherein the third rate is higher than the second rate, and wherein the third sub channel is transmitted after the second subchannel.<br>
3.	The method of claim 1, wherein the first subchannel indicates whether or not the second sub channel is transmitted in a current frame.<br>
4.	An    apparatus    in   a   wireless    multiple-input   multiple-output   (MIMO) communication system, comprising:<br>
a transmit data processor operative to<br>
process signaling information for a first set of at least one user terminal based on a first rate, and<br>
process signaling information for a second set of at least one user terminal based on a second rate that is higher titan the first rate; and a transmitter unit operative to<br>
transmit the processed scheduling information for the first user terminal set on a first subchannel of a forward control channel, and<br><br>
transmit the processed scheduling information for the second user terminal set on a second sub channel of the forward control channel, wherein the second subchannel is transmitted after the first subchannel<br>
5.	The apparatus of claim 4, wherein the transmit data processor is operative to process signaling information for a third set of at least one user terminal based on a third rate that is higher than the second rate, and wherein the transmitter unit is operative to transmit the processed signaling information for the third user terminal set on a third subchannel of the forward control channel, wherein the third subchannel is transmitted after the second subchannel.<br>
6.	The apparatus of claim 4, wherein the first subchannel indicates whether or not the second subchannel is transmitted in a current frame.<br>
7.	An apparatus in a wireless multiple-input multiple-output (MIMO) communication system, comprising:<br>
means (722 and 730) for transmitting signaling information for a first set of at least one user terminal at a first rate on a first subchannel of a forward control channel; and<br>
means (722 and 730)for transmitting signaling information for a second set of at least one user terminal at a second rate on a second subchannel of the forward control channel, wherein the second rate is higher than the first rate, and wherein the second subchannel is transmitted after the first subchannel.<br>
8.	The apparatus of claim 7, comprising:<br>
means (722 and 730) for transmitting signaling information for a. third set of at least one user terminal at a third rate on a third subchannel of the forward control channel wherein the third rate is higher than the second rate, and wherein the third subchannel is transmitted after the second subchannel.<br><br>
9.	The apparatus of claim 7, wherein the first sub channel indicates whether or not the second subchannel is transmitted in a current frame.<br>
10.	A method of receiving signaling information at a user terminal in a wireless multiple-input multiple-output (MIMO) communication system, comprising:<br>
receiving signaling information sent at a first rate on a first subchannel of a forward control channel; and<br>
if signaling information for the user terminal is not obtained from the first subchannel, receiving signaling information sent at a second rate on a second subchannel of the forward control channel, wherein the second rate is higher than the first rate, and wherein the second subchannel is sent after the first subchannel.<br>
11.	The method of claim 1, comprising:<br>
if signaling information for the user terminal is not obtained from the second subchannel, receiving signaling information sent at a third rate on a third subchannel of the forward control channel, wherein the third rate is higher than the second rate, and wherein the third subchannel is sent after the second subchannel.<br>
12.	The method of claim 1 comprising :<br>
terminating processing of the forward control channel upon encountering decoding failure for a subchannel of the forward control channel.<br>
13.	An    apparatus    in   a   wireless   multiple-input   multiple-output    (MIMO)<br>
communication system, comprising:<br>
a receive data processor operative to<br>
receive signaling information sent at a first rate on a first subchannel of a forward control channel, and<br><br>
if signaling information for the apparatus is not obtained from the first subchannel, receiving signaling information sent at a second rate on a second subchannel of the forward control channel, wherein the second rate is higher than the first rate, and wherein the second subchannel is sent after the first subchannel; and<br>
a controller operative to direct the processing for the first and second sub channels.<br>
14 The apparatus of claim 13, wherein the receive data processor is operative to, if signaling information for die apparatus is not obtained from the second subchannel, receive signaling information sent at a third rate on a third subchannel of the forward control channel, wherein the third rate is higher than the second rate, and wherein the third subchannel is sent after the second subchannel.<br>
15.	The apparatus of claim 13, wherein the controller is operative to terminate processing of the forward control channel upon encountering decoding failure for a subchannel of the forward control channel.<br>
16.	An apparatus in a wireless multiple-input multiple-output (MIMO) communication system, comprising:<br>
means (754) for receiving signaling information sent at a first rate on a first subchannel of a forward control channel; and<br>
means (754) for, if signaling information for the apparatus is not obtained from the first subchannel, receiving signaling information sent at a second rate on a second subchannel of the forward control channel, wherein the second rate is higher than the first rate, and wherein the second subchannel is sent after the first subchannel.<br><br>
17.	The apparatus of claim 16, comprising :<br>
means (754) for, if signaling information for the apparatus is not obtained from the second subchannel, receiving signaling information sent at a third rate on a third subchannel of the forward control channel, wherein the third rave is higher than the second rate, and wherein the third subchannel is sent after the second subchannel.<br>
18.	The apparatus of claim 16, comprising :<br>
means (780) for terminating processing of the forward control channel upon encountering decoding failure for a subchannel of the forward control channel.<br><br></f></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDcyNi1jaGVucC0yMDA1IGFic3RyYWN0LWR1cGxpY2F0ZS5wZGY=" target="_blank" style="word-wrap:break-word;">0726-chenp-2005 abstract-duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDcyNi1jaGVucC0yMDA1IGNsYWltcy1kdXBsaWNhdGUucGRm" target="_blank" style="word-wrap:break-word;">0726-chenp-2005 claims-duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDcyNi1jaGVucC0yMDA1IGRlc2NyaXB0aW9uIChjb21wbGV0ZSktZHVwbGljYXRlLTEucGRm" target="_blank" style="word-wrap:break-word;">0726-chenp-2005 description (complete)-duplicate-1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDcyNi1jaGVucC0yMDA1IGRlc2NyaXB0aW9uIChjb21wbGV0ZSktZHVwbGljYXRlLnBkZg==" target="_blank" style="word-wrap:break-word;">0726-chenp-2005 description (complete)-duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MDcyNi1jaGVucC0yMDA1IGRyYXdpbmdzLWR1cGxpY2F0ZS5wZGY=" target="_blank" style="word-wrap:break-word;">0726-chenp-2005 drawings-duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzI2LWNoZW5wLTIwMDUtYWJzdHJhY3QucGRm" target="_blank" style="word-wrap:break-word;">726-chenp-2005-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzI2LWNoZW5wLTIwMDUtYXNzaWduZW1lbnQucGRm" target="_blank" style="word-wrap:break-word;">726-chenp-2005-assignement.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzI2LWNoZW5wLTIwMDUtY2xhaW1zLnBkZg==" target="_blank" style="word-wrap:break-word;">726-chenp-2005-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzI2LWNoZW5wLTIwMDUtY29ycmVzcG9uZG5lY2Utb3RoZXJzLnBkZg==" target="_blank" style="word-wrap:break-word;">726-chenp-2005-correspondnece-others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzI2LWNoZW5wLTIwMDUtY29ycmVzcG9uZG5lY2UtcG8ucGRm" target="_blank" style="word-wrap:break-word;">726-chenp-2005-correspondnece-po.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzI2LWNoZW5wLTIwMDUtZGVzY3JpcHRpb24gY29tcGxldGUucGRm" target="_blank" style="word-wrap:break-word;">726-chenp-2005-description complete.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzI2LWNoZW5wLTIwMDUtZHJhd2luZ3MucGRm" target="_blank" style="word-wrap:break-word;">726-chenp-2005-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzI2LWNoZW5wLTIwMDUtZm9ybSAxLnBkZg==" target="_blank" style="word-wrap:break-word;">726-chenp-2005-form 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzI2LWNoZW5wLTIwMDUtZm9ybSAxOC5wZGY=" target="_blank" style="word-wrap:break-word;">726-chenp-2005-form 18.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzI2LWNoZW5wLTIwMDUtZm9ybSAyNi5wZGY=" target="_blank" style="word-wrap:break-word;">726-chenp-2005-form 26.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzI2LWNoZW5wLTIwMDUtZm9ybSAzLnBkZg==" target="_blank" style="word-wrap:break-word;">726-chenp-2005-form 3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzI2LWNoZW5wLTIwMDUtZm9ybSA1LnBkZg==" target="_blank" style="word-wrap:break-word;">726-chenp-2005-form 5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzI2LWNoZW5wLTIwMDUtcGN0LnBkZg==" target="_blank" style="word-wrap:break-word;">726-chenp-2005-pct.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="220586-a-rheologically-improved-pigment-composition.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="220588-a-core-material-and-a-process-for-producing-said-core-material.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>220587</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>726/CHENP/2005</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>29/2008</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>18-Jul-2008</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>29-May-2008</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>25-Apr-2005</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>QUALCOMM INCORPORATED</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td></td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>WALTON J. RODNEY</td>
											<td></td>
										</tr>
										<tr>
											<td>2</td>
											<td>KETCHUM, JOHN, W</td>
											<td></td>
										</tr>
										<tr>
											<td>3</td>
											<td>WALLACE, MARK S</td>
											<td></td>
										</tr>
										<tr>
											<td>4</td>
											<td>HOWARD, STEVEN, J</td>
											<td></td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04L 12/28</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/US2003/034514</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2003-10-24</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>60/421,309</td>
									<td>2002-10-25</td>
								    <td>U.S.A.</td>
								</tr>
								<tr>
									<td>2</td>
									<td>10/693,419</td>
									<td>2003-10-23</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/220587-a-method-of-transmitting-signalling-information-in-a-wireless-multiple-input-multiple-output-mimo-communication-system by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 10:35:01 GMT -->
</html>
