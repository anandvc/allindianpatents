<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/220648-an-image-processing-apparatus by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 10:30:54 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 220648:AN IMAGE PROCESSING APPARATUS</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">AN IMAGE PROCESSING APPARATUS</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>The present invention relates to an image processing apparatus in which a mixture ratio indicating the mixture state of a plurality of objects can be detected. A normal-equation adder 441 extracts mixed pixel data, and alos extracts background pixel data corresponding to the mixed pixel data so as to generate relational expressions for the mixed pixel data and the background pixel data. A normal-equation calculator 442 detects a single mixture ratio in accordance with a predetermined number of consecutive frames based on the relational expressions. The present invention is applicable to an image processing apparatus in which a difference between a signal detected by a sensor and the real world is taken into consideration.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>FORM 2<br>
THE PATENTS ACT 1970<br>
[39 OF 1970]<br>
&amp;<br>
THE PATENTS RULES, 2003<br>
as amended by<br>
THE PATENTS (AMENDMENT) RULES, 2006<br>
COMPLETE SPECIFICATION<br>
[See Section 10; rule 13]<br>
"AN IMAGE PROCESSING APPARATUS"*<br>
SONY CORPORATION, a Japanese company, of 7-35 Kitashinagawa 6-chome, Shinagawa-ku, Tokyo, 141-0001, Japan<br><br>
GRANTED<br>
The following specification particularly describes the invention and the manner in which it is to be performed:<br>
ORIGINAL<br><br>
                      11 OCT 2007<br><br>
                                                 13-5-2008<br><br><br>
 The present invention relates to an Image Processing apparatus.<br>
Technical Field<br>
5      The present invention relates to image processing<br>
apparatuses, and more particularly, to an image processing apparatus in which a difference between a signal detected by a sensor and the real world is taken into consideration.<br>
10  Background Art<br>
A technique for detecting incidents occurring in the real world by a sensor and for processing sampled data output from the image sensor is widely used.<br>
For example, motion blur occurs in an image obtained by 15  capturing an object moving in front of a predetermined stationary background with a video camera if the moving speed is relatively high.<br>
When an object is moving in front of a stationary background, not only does motion blur caused by the mixture 20  of the moving object itself occur, but also the mixture of the background image and the object image occurs.  Hitherto, it has not considered detecting the mixture state of the background image and the moving object.<br>
25  Disclosure of Invention<br><br>
The present invention has been made in view of the above-described background.  Accordingly, it is an object of the present invention to detect a mixture ratio representing the mixture state of a plurality of objects, such as a 5  background image and a moving object image.<br>
An image processing apparatus of the present invention includes: pixel-data extraction means for extracting, based on a motion of a foreground object, which serves as a foreground of a plurality of objects, a plurality of mixed<br>
10  pixel data which are pixel data of a predetermined number of consecutive frames in which the plurality of objects are mixed, and also for extracting, based on a motion of a background object, which serves as a background of the plurality of objects, background pixel data which is the<br>
15  pixel data formed of the background object and which<br>
corresponds to the mixed pixel data, the background pixel data being extracted from a frame different from the frames in which the mixed pixel data is present among the predetermined number of consecutive frames; relational-<br>
20  expression generating means for generating relational expressions for the mixed pixel data and the background pixel data corresponding to the predetermined number of consecutive frames based on the extracted mixed pixel data and the extracted background pixel data; and mixture-ratio<br>
25  detection means for detecting a single mixture ratio<br><br><br>
corresponding to the predetermined number of consecutive frames based on the relational expressions.<br>
The pixel-data extraction means may extract the mixed pixel data in accordance with the amount of the motion of 5  the foreground object in the frames.<br>
The pixel-data extraction means may extract the background pixel data in accordance with the amount of the motion of the background object in the frames.<br>
The relational-expression generating means may generate 10  the relational expressions for the mixed pixel data and the background pixel data for calculating the mixture ratio by a method of least squares.<br>
The image processing apparatus may further include motion detection means for detecting the motion of at least 15  one of the foreground object and the background object.<br>
The image processing apparatus may include area specifying means for specifying a mixed area consisting of the mixed pixel data, a background area consisting of the background pixels, and a foreground area consisting of 20  foreground pixel data, which is the pixel data corresponding to the foreground object.<br>
The image processing apparatus may further include separation means for separating at least the foreground object from the mixed pixel data based on the mixture ratio. 25      The image processing apparatus may further include<br><br><br><br>
motion-blur adjusting means for adjusting the amount of motion blur of the separated foreground object.<br>
The image processing apparatus may further include synthesizing means for combining the separated foreground 5  object with a desired object based on the mixture ratio. An image processing method of the present invention includes: a pixel-data extraction step of extracting, based on a motion of a foreground object, which serves as a foreground of a plurality of objects, a plurality of mixed<br>
10  pixel data which are pixel data of a predetermined number of consecutive frames in which the plurality of objects are mixed, and also of extracting, based on a motion of a background object, which serves as a background of the plurality of objects, background pixel data which is the<br>
15  pixel data formed of the background object and which<br>
corresponds to the mixed pixel data, the background pixel data being extracted from a frame different from the frames in which the mixed pixel data is present among the predetermined number of consecutive frames; a relational-<br>
20  expression generating step of generating relational<br>
expressions for the mixed pixel data and the background pixel data corresponding to the predetermined number of consecutive frames based on the extracted mixed pixel data and the extracted background pixel data; and a mixture-ratio<br>
25  detection step of detecting a single mixture ratio<br><br><br><br>
corresponding to the predetermined number of consecutive frames based on the relational expressions.<br>
In the pixel-data extraction step, the mixed pixel data may be extracted in accordance with the amount of the motion 5  of the foreground object in the frames.<br>
In the pixel-data extraction step, the background pixel data may be extracted in accordance with the amount of the motion of the background object in the frames.<br>
In the relational-expression generating step, the 10  relational expressions for the mixed pixel data and the<br>
background pixel data for calculating the mixture ratio by a method of least squares may be generated.<br>
The image processing method may further include a motion detection step of detecting the motion of at least 15  one of the foreground object and the background object.<br>
The image processing method may further include an area specifying step of specifying a mixed area consisting of the mixed pixel data, a background area consisting of the background pixels, and a foreground area consisting of 20  foreground pixel data, which is the pixel data corresponding to the foreground object.<br>
The image processing method may further include a separation step of separating at least the foreground object from the mixed pixel data based on the mixture ratio. 25      The image processing method may further include a<br><br><br>
motion-blur adjusting step of adjusting the amount of motion blur of the separated foreground object.<br>
The image processing method may further include a synthesizing step of combining the separated foreground 5  object with a desired object based on the mixture ratio. A program of a recording medium of the present invention includes: a pixel-data extraction step of extracting, based on a motion of a foreground object, which serves as a foreground of a plurality of objects, a<br>
10  plurality of mixed pixel data which are pixel data of a predetermined number of consecutive frames in which the plurality of objects are mixed, and also of extracting, based on a motion of a background object, which serves as a background of the plurality of objects, background pixel<br>
15  data which is the pixel data formed of the background object and which corresponds to the mixed pixel data, the background pixel data being extracted from a frame different from the frames in which the mixed pixel data is present among the predetermined number of consecutive frames; a<br>
20  relational-expression generating step of generating<br>
relational expressions for the mixed pixel data and the background pixel data corresponding to the predetermined number of consecutive frames based on the extracted mixed pixel data and the extracted background pixel data; and a<br>
25  mixture-ratio detection step of detecting a single mixture<br><br><br>
ratio corresponding to the predetermined number of consecutive frames based on the relational expressions.<br>
In the pixel-data extraction step, the mixed pixel data may be extracted in accordance with the amount of the motion 5  of the foreground object in the frames.<br>
In the pixel-data extraction step, the background pixel data may be extracted in accordance with the amount of the motion of the background object in the frames.<br>
In the relational-expression generating step, the 10  relational expressions for the mixed pixel data and the<br>
background pixel data for calculating the mixture ratio by a method of least squares may be generated.<br>
The program of the recording medium may further include a motion detection step of detecting the motion of at least 15  one of the foreground object and the background object.<br>
The program of the recording medium may further include an area specifying step of specifying a mixed area consisting of the mixed pixel data, a background area consisting of the background pixels, and a foreground area 20  consisting of foreground pixel data, which is the pixel data corresponding to the foreground object.<br>
The program of the recording medium may further include a separation step of separating at least the foreground object from the mixed pixel data based on the mixture ratio. 25      The program of the recording medium may further include<br><br><br>
a motion-blur adjusting step of adjusting the amount of motion blur of the separated foreground object.<br>
The program of the recording medium may further include a synthesizing step of combining the separated foreground 5  object with a desired object based on the mixture ratio.<br>
A program of the present invention includes: a pixel-data extraction step of extracting, based on a motion of a foreground object, which serves as a foreground of a plurality of objects, a plurality of mixed pixel data which<br>
10  are pixel data of a predetermined number of consecutive<br>
frames in which the plurality of objects are mixed, and also of extracting, based on a motion of a background object, which serves as a background of the plurality of objects, background pixel data which is the pixel data formed of the<br>
15  background object and which corresponds to the mixed pixel data, the background pixel data being extracted from a frame different from the frames in which the mixed pixel data is present among the predetermined number of consecutive frames; a relational-expression generating step of<br>
20  generating relational expressions for the mixed pixel data and the background pixel data corresponding to the predetermined number of consecutive frames based on the extracted mixed pixel data and the extracted background pixel data; and a mixture-ratio detection step of detecting<br>
25  a single mixture ratio corresponding to the predetermined<br><br><br>
number of consecutive frames based on the relational expressions.<br>
In the pixel-data extraction step, the mixed pixel data may be extracted in accordance with the amount of the motion 5  of the foreground object in the frames.<br>
In the pixel-data extraction step, the background pixel data may be extracted in accordance with the amount of the motion of the background object in the frames.<br>
In the relational-expression generating step, the 10  relational expressions for the mixed pixel data and the<br>
background pixel data for calculating the mixture ratio by a method of least squares may be generated.<br>
The program may further include a motion detection step of detecting the motion of at least one of the foreground 15  object and the background object.<br>
The program may further include an area specifying step of specifying a mixed area consisting of the mixed pixel data, a background area consisting of the background pixels, and a foreground area consisting of foreground pixel data, 20  which is the pixel data corresponding to the foreground object.<br>
The program may further include a separation step of separating at least the foreground object from the mixed pixel data based on the mixture ratio. 25      The program may further include a motion-blur adjusting<br><br><br><br>
step of adjusting the amount of motion blur of the separated foreground object.<br>
The program may further include a synthesizing step of combining the separated foreground object with a desired<br>
5  object based on the mixture ratio.<br>
An imaging apparatus of the present invention includes: imaging means for outputting a subject image as image data which is formed of a predetermined number of pixel data, the subject image being obtained by performing image capturing<br>
0  by an imaging device having a predetermined number of pixels, each having a time integrating function; pixel-data extraction means for extracting, based on a motion of a foreground object, which serves as a foreground of a plurality of objects in the real world contained in the<br>
5  image data, a plurality of mixed pixel data which are the pixel data of a predetermined number of consecutive frames in which the plurality of objects are mixed, and also for extracting, based on a motion of a background object, which serves as a background of the plurality of objects,<br>
0  background pixel data which is the pixel data formed of the background object and which corresponds to the mixed pixel data, the background pixel data being extracted from a frame different from the frames in which the mixed pixel data is present among the predetermined number of consecutive<br>
5  frames; relational-expression generating means for<br><br><br>
generating relational expressions for the mixed pixel data and the background pixel data corresponding to the predetermined number of consecutive frames based on the extracted mixed pixel data and the extracted background<br>
5  pixel data; and mixture-ratio detection means for detecting a single mixture ratio corresponding to the predetermined number of consecutive frames based on the relational expressions.<br>
The pixel-data extraction means may extract the mixed<br>
0  pixel data in accordance with the amount of the motion of the foreground object in the frames.<br>
The pixel-data extraction means may extract the background pixel data in accordance with the amount of the motion of the background object in the frames.<br>
5      The relational-expression generating means may generate the relational expressions for the mixed pixel data and the background pixel data for calculating the mixture ratio by a method of least squares.<br>
The imaging apparatus may further include motion<br>
0  detection means for detecting the motion of at least one of the foreground object and the background object.<br>
The imaging apparatus may further include area specifying means for specifying a mixed area consisting of the mixed pixel data, a background area consisting of the<br>
5  background pixels, and a foreground area consisting of<br><br><br>
foreground pixel data, which is the pixel data corresponding to the foreground object.<br>
The imaging apparatus may further include separation means for separating at least the foreground object from the 5  mixed pixel data based on the mixture ratio.<br>
The imaging apparatus may further include motion-blur adjusting means for adjusting the amount of motion blur of the separated foreground object.<br>
The imaging apparatus may further include synthesizing 10  means for combining the separated foreground object with a desired object based on the mixture ratio.<br>
Brief Description of the Drawings<br>
Fig. 1 is a block diagram illustrating the 15  configuration of an embodiment of a signal processing apparatus according to the present invention.<br>
Fig. 2 is a block diagram illustrating the signal processing apparatus.<br>
Fig. 3 illustrates the image capturing performed by a 20  sensor.<br>
Fig. 4 illustrates the arrangement of pixels. Fig. 5 illustrates the operation of a detection device. Fig. 6A illustrates an image obtained by image-capturing an object corresponding to a moving foreground and 25  an object corresponding to a stationary background.<br><br><br>
Fig. 6B illustrates a model of an image obtained by image-capturing an object corresponding to a moving foreground and an object corresponding to a stationary background. 5     Fig. 7 illustrates a background area, a foreground area, a mixed area, a covered background area, and an uncovered background area.<br>
Fig. 8 illustrates a model obtained by expanding in the time direction the pixel values of pixels aligned side-by-10  side in an image obtained by image-capturing an object<br>
corresponding to a stationary foreground and an the object corresponding to a stationary background.<br>
Fig. 9 illustrates a model in which pixel values are expanded in the time direction and the period corresponding 15  to the shutter time is divided.<br>
Fig. 10 illustrates a model in which pixel values are expanded in the time direction and the period corresponding to the shutter time is divided.<br>
Fig. 11 illustrates a model in which pixel values are 20  expanded in the time direction and the period corresponding to the shutter time is divided.<br>
Fig. 12 illustrates an example in which pixels in a foreground area, a background area, and a mixed area are extracted. 25      Fig. 13 illustrates the relationships between pixels<br><br><br>
and a model obtained by expanding the pixel values in the time direction.<br>
Fig. 14 illustrates a model in which pixel values are expanded in the time direction and the period corresponding 5  to the shutter time is divided.<br>
Fig. 15 illustrates a model in which pixel values are expanded in the time direction and the period corresponding to the shutter time is divided.<br>
Fig. 16 illustrates a model in which pixel values are 10  expanded in the time direction and the period corresponding to the shutter time is divided.<br>
Fig. 17 illustrates a model in which pixel values are expanded in the time direction and the period corresponding to the shutter time is divided. 15      Fig. 18 illustrates a model in which pixel values are expanded in the time direction and the period corresponding to the shutter time is divided.<br>
Fig. 19 is a flowchart illustrating the processing for adjusting the amount of motion blur. 20      Fig. 20 is a block diagram illustrating an example of the configuration of an area specifying unit 103.<br>
Fig. 21 illustrates an image when an object corresponding to a foreground is moving.<br>
Fig. 22 illustrates a model in which pixel values are 25  expanded in the time direction and the period corresponding<br><br><br>
to the shutter time is divided.<br>
Fig. 23 illustrates a model in which pixel values are expanded in the time direction and the period corresponding to the shutter time is divided. 5      Fig. 24 illustrates a model in which pixel values are expanded in the time direction and the period corresponding to the shutter time is divided.<br>
Fig. 25 illustrates the conditions for determining the area. 10      Fig. 26A illustrates an example of the result obtained by specifying the area by the area specifying unit 103.<br>
Fig. 26B illustrates an example of the result obtained by specifying the area by the area specifying unit 103.<br>
Fig. 26C illustrates an example of the result obtained 15  by specifying the area by the area specifying unit 103.<br>
Fig. 26D illustrates an example of the result obtained by specifying the area by the area specifying unit 103.<br>
Fig. 27 illustrates an example of the result obtained by specifying the area by the area specifying unit 103. 20      Fig. 28 is a flowchart illustrating the area specifying processing.<br>
Fig. 29 is a block diagram illustrating an example of another configuration of the area specifying unit 103.<br>
Fig. 30 illustrates a model  in which pixel values are 25  expanded in the time direction and the period corresponding<br><br><br>
to the shutter time is divided.<br>
Fig. 31 illustrates an example of a background image.<br>
Fig. 32 is a block diagram illustrating the configuration of a binary-object-image extracting portion 5  302.<br>
Fig. 33A illustrates the calculation of a correlation value.<br>
Fig. 33B illustrates the calculation of a correlation value. 10      Fig. 34A illustrates the calculation of a correlation value.<br>
Fig. 34B illustrates the calculation of a correlation value.<br>
Fig. 35 illustrates an example of the binary object 15  image.<br>
Fig. 36 is a block diagram illustrating the configuration of a time change detector 303.<br>
Fig. 37 illustrates determinations made by an area determining portion 342. 20      Fig. 38 illustrates an example of determinations made by the time change detector 303.<br>
Fig. 39 is a flowchart illustrating the area specifying processing performed by the area specifying unit 103.<br>
Fig. 40 is a flowchart illustrating details of the area 25  specifying processing.<br><br><br>
Fig. 41 is a block diagram illustrating still another configuration of the area specifying unit 103.<br>
Fig. 42 is a block diagram illustrating the configuration of a robust-processing portion 361. 5      Fig. 43 illustrates motion compensation performed by a motion compensator 381.<br>
Fig. 44 illustrates motion compensation performed by the motion compensator 381.<br>
Fig. 45 is a flowchart illustrating the area specifying 10  processing.<br>
Fig. 46 is a flowchart illustrating details of the robust processing.<br>
Fig. 47 is a block diagram illustrating the configuration of a mixture-ratio calculator 104. 15      Fig. 48 illustrates an example of the ideal mixture ratio a.<br>
Fig. 49 illustrates a model in which pixel values are expanded in the time direction and the period corresponding to the shutter time is divided. 20      Fig. 50 illustrates a model in which pixel values are expanded in the time direction and the period corresponding to the shutter time is divided.<br>
Fig. 51 illustrates the selection of pixels.<br>
Fig. 52 illustrates the selection of pixels. 25      Fig. 53 is a block diagram illustrating the<br><br><br>
configuration of an estimated-mixture-ratio processor 401.<br>
Fig. 54 is a block diagram illustrating the configuration of a mixture-ratio calculator 422.<br>
Fig. 55 illustrates an example of the estimated mixture 5  ratio.<br>
Fig. 56 is a block diagram illustrating another configuration of the mixture-ratio calculator 104.<br>
Fig. 57 is a flowchart illustrating the processing for calculating the mixture ratio a. 10      Fig. 58 is a flowchart illustrating the processing for calculating the mixture-ratio estimation.<br>
Fig. 59 is a block diagram illustrating an example of the configuration of a foreground/background separator 105.<br>
Fig. 60A illustrates an input image, a foreground 15  component image, and a background component image.<br>
Fig. SOB illustrates a model of an input image, a foreground component image, and a background component image.<br>
Fig. 61 illustrates a model in which pixel values are expanded in the time direction and the period corresponding 20  to the shutter time is divided.<br>
Fig. 62 illustrates a model in which pixel values are expanded in the time direction and the period corresponding to the shutter time is divided.<br>
Fig. 63 illustrates a model in which pixel values are 25  expanded in the time direction and the period corresponding<br><br><br>
to the shutter time is divided.<br>
Fig. 64 is a block diagram illustrating an example of the configuration of a separating portion 601.<br>
Fig. 65A illustrates an example of a separated 5  foreground component image.<br>
Fig. 65B illustrates an example of a separated background component image.<br>
Fig. 66 is a flowchart illustrating the processing for separating a foreground and a background. 10      Fig. 67 is a block diagram illustrating an example of the configuration of a motion-blur adjusting unit 106.<br>
Fig. 68 illustrates the unit of processing.<br>
Fig. 69 illustrates a model in which the pixel values of a foreground component image are expanded in the time 15  direction and the period corresponding to the shutter time is divided.<br>
Fig. 70 illustrates a model in which the pixel values of a foreground component image are expanded in the time direction and the period corresponding to the shutter time 20  is divided.<br>
Fig. 71 illustrates a model in which the pixel values of a foreground component image are expanded in the time direction and the period corresponding to the shutter time is divided. 25      Fig. 72 illustrates a model in which the pixel values<br><br><br>
of a foreground component image are expanded in the time direction and the period corresponding to the shutter time is divided.<br>
Fig. 73 illustrates an example of another configuration 5  of the motion-blur adjusting unit 106.<br>
Fig. 74 is a flowchart illustrating the processing for adjusting the amount of motion blur contained in a foreground component image performed by the motion-blur adjusting unit 106. 10      Fig. 75 is a block diagram illustrating an example of another configuration of the motion-blur adjusting unit 106.<br>
Fig. 76 illustrates an example of a model in which the relationships between pixel values and foreground components are indicated. 15      Fig. 77 illustrates the calculation of foreground components.<br>
Fig. 78 illustrates the calculation of foreground components.<br>
Fig. 79 is a flowchart illustrating the processing for 20  eliminating motion blur contained in a foreground.<br>
Fig. 80 is a block diagram illustrating another configuration of the function of the signal processing apparatus.<br>
Fig. 81 illustrates the configuration of a synthesizer 25  1001.<br><br><br>
Fig. 82 is a block diagram illustrating still another configuration of the function of the signal processing apparatus.<br>
Fig. 83 is a block diagram illustrating the 5  configuration of a mixture-ratio calculator 1101.<br>
Fig. 84 is a block diagram illustrating the configuration of a foreground/background separator 1102.<br>
Fig. 85 is a block diagram illustrating still another configuration of the function of the signal processing 10  apparatus.<br>
Fig. 86 illustrates the configuration of a synthesizer 1201.<br>
Best Mode for Carrying Out the Invention 15      Fig. 1 is a block diagram illustrating the<br>
configuration of an embodiment of a signal processing apparatus according to the present invention.<br>
A CPU (Central Processing Unit) 21 executes various types of processing according to programs stored in a ROM 20  (Read Only Memory) 22 or in a storage unit 28.  Programs<br>
executed by the CPU 21 and data are stored in a RAM (Random Access Memory) 23 as required. The CPU 21, the ROM 22, and the RAM 23 are connected to each other by a bus 24.<br>
An input/output interface 25 is also connected to the 25  CPU 21 via the bus 24.  An input unit 26, which is formed of<br><br><br>
a keyboard, a mouse, a microphone, and so on, and an output unit 27, which is formed of a display, a speaker, and so on, are connected to the input/output interface 25.  The CPU 21 executes various types of processing in response to a 5  command input from the input unit 26.  The CPU 21 then outputs an image or sound obtained as a result of the processing to the output unit 27.<br>
The storage unit 28 connected to the input/output interface 25 is formed of, for example, a hard disk, and<br>
10  stores programs executed by the CPU 21 and various types of data.  A communication unit 29 communicates with an external device via the Internet or another network.  In this example, the communication unit 29 serves as an obtaining unit for obtaining an output of a sensor.<br>
15      Alternatively, a program may be obtained via the<br>
communication unit 29 and stored in the storage unit 28.<br>
A drive 30 connected to the input/output interface 25 drives a magnetic disk 51, an optical disc 52, a magneto-optical disk 53, a semiconductor memory 54, or the like,<br>
20  when such a recording medium is attached to the drive 30, and obtains a program or data stored in the corresponding medium.  The obtained program or data is transferred to the storage unit 28 and stored therein if necessary.<br>
By taking a more specific example, a description is now<br>
25  given of a signal processing apparatus which performs<br><br><br>
processing, such as specifying an area having significant information embedded therein or extracting significant information embedded therein from data obtained by a sensor. In the subsequent example, a CCD line sensor or a CCD area 5  sensor corresponds to the sensor, the area information or<br>
the mixture ratio corresponds to the significant information, and the mixture state of a foreground and a background or motion blur in a mixed area corresponds to distortion. Fig. 2 is a block diagram illustrating the signal<br>
10  processing apparatus.<br>
It does not matter whether the individual functions of the signal processing apparatus are implemented by hardware or software.  That is, the block diagrams of this specification may be hardware block diagrams or software<br>
15  functional block diagrams.<br>
Motion blur is a distortion contained in an image corresponding to a moving object caused by the movement of an object to be captured in the real world and the image-capturing characteristics of the sensor.<br>
20      In this specification, an image to be captured<br>
corresponding to an object in the real world is referred to as an image object.<br>
An input image supplied to the signal processing apparatus is supplied to an object extracting unit 101, an<br>
25  area specifying unit 103, a mixture-ratio calculator 104,<br><br><br>
and a foreground/background separator 105.<br>
The object extracting unit 101 extracts a rough image object corresponding to a foreground object contained in the input image, and supplies the extracted image object to a 5  motion detector 102.  The object extracting unit 101 detects, for example, an outline of the foreground image object contained in the input image so as to extract a rough image object corresponding to the foreground object.<br>
The object extracting unit 101 extracts a rough image<br>
10  object corresponding to a background object contained in the input image, and supplies the extracted image object to the motion detector 102.  The object extracting unit 101 extracts a rough image object corresponding to the background object from, for example, the difference between<br>
15  the input image and the extracted image object corresponding to the foreground object.<br>
Alternatively, for example, the object extracting unit 101 may extract the rough image object corresponding to the foreground object and the rough image object corresponding<br>
20  to the background object from the difference between the<br>
background image stored in a built-in background memory and the input image.<br>
The motion detector 102 calculates a motion vector of the roughly extracted image object corresponding to the<br>
25  foreground object according to a technique, such as block<br><br><br>
matching, gradient, phase correlation, or pel-recursive technique, and supplies the calculated motion vector and the motion-vector positional information (which is information for specifying the positions of the pixels corresponding to 5  the motion vector) to the area specifying unit 103, the mixture-ratio calculator 104, and a motion-blur extracting unit 106.<br>
The motion vector output from the motion detector 102 contains information corresponding to the amount of movement<br>
10  v.<br>
The motion detector 102 may output the motion vector of each image object, together with the pixel positional information for specifying the pixels of the image object, to the motion-blur adjusting unit 106.<br>
15      The amount of movement v is a value indicating a positional change in an image corresponding to a moving object in units of the pixel pitch.  For example, if an object image corresponding to a foreground is moving such that it is displayed at a position four pixels away from a<br>
20  reference frame when it is positioned in the subsequent frame, the amount of movement v of the object image corresponding to the foreground is 4.<br>
The object extracting unit 101 and the motion detector 102 are needed when adjusting the amount of motion blur<br>
25  corresponding to a moving object.<br><br><br>
The area specifying unit 103 determines to which of a foreground area, a background area, or a mixed area each pixel of the input image belongs, and supplies information indicating to which area each pixel belongs (hereinafter 5  referred to as "area information") to the mixture-ratio<br>
calculator 104, the foreground/background separator 105, and the motion-blur adjusting unit 106.<br>
The mixture-ratio calculator 104 calculates the mixture ratio corresponding to the pixels contained in a mixed area<br>
10  63 (hereinafter referred to as the "mixture ratio a") based on the input image, the motion vector and the positional information thereof supplied from the motion detector 102, and the area information supplied from the area specifying unit 103, and supplies the mixture ratio a to the<br>
15  foreground/background separator 105.<br>
The mixture ratio a is a value indicating the ratio of the image components corresponding to the background object (hereinafter also be referred to as "background components") to the pixel value as expressed by equation (3), which is<br>
20  shown below.<br>
The foreground/background separator 105 separates the input image into a foreground component image formed of only the image components corresponding to the foreground object (hereinafter also be referred to as "foreground components")<br>
25  and a background component image formed of only the<br><br><br>
background components based on the area information supplied from the area specifying unit 103 and the mixture ratio a supplied from the mixture-ratio calculator 104, and supplies the foreground component image to the motion-blur adjusting 5  unit 106 and a selector 107.  The separated foreground component image may be set as the final output. A more precise foreground and background can be obtained compared to a known method in which only a foreground and a background are specified without considering the mixed area.<br>
10      The motion-blur adjusting unit 106 determines the unit of processing indicating at least one pixel contained in the foreground component image based on the amount of movement v obtained from the motion vector and based on the area information. The unit of processing is data that specifies<br>
15  a group of pixels to be subjected to the motion-blur adjustments.<br>
Based on the amount by which the motion blur is to be adjusted, which is input into the signal processing apparatus, the foreground component image supplied from the<br>
20  foreground/background separator 105, the motion vector and the positional information thereof supplied from the motion detector 102, and the unit of processing, the motion-blur adjusting unit 106 adjusts the amount of motion blur contained in the foreground component image by removing,<br>
25  decreasing, or increasing the motion blur contained in the<br><br>
- ^â– -<br>
foreground component image.  The motion-blur adjusting unit 106 then outputs the foreground component image in which amount of motion blur is adjusted to the selector 107.  It is not essential that the motion vector and the positional 5  information thereof be used.<br>
The selector 107 selects one of the foreground component image supplied from the foreground/background separator 105 and the foreground component image in which the amount of motion blur is adjusted supplied from the<br>
10  motion-blur adjusting unit 106 based on, for example, a<br>
selection signal reflecting a user"s selection, and outputs the selected foreground component image.<br>
An input image supplied to the signal processing apparatus is discussed below with reference to Figs. 3<br>
15  through 18.<br>
Fig. 3 illustrates image capturing performed by a sensor.  The sensor is formed of, for example, a CCD (Charge-Coupled Device) video camera provided with a CCD area sensor, which is a solid-state imaging device.  An<br>
20  object 111 corresponding to a foreground in the real world moves, for example, horizontally from the left to the right, between an object 112 corresponding to a background and the sensor.<br>
The sensor captures the image of the object 111<br>
25  corresponding to the foreground together with the image of<br><br><br>
the object 112 corresponding to the background.  The sensor outputs the captured image in units of frames.  For example, the sensor outputs an image having 30 frames per second. The exposure time of the sensor can be 1/30 second.  The 5  exposure time is a period from when the sensor starts<br>
converting input light into electrical charge until when the conversion from the input light to the electrical charge is finished.  The exposure time is also referred to as a "shutter time".<br>
10      Fig. 4 illustrates the arrangement of pixels.  In Fig. 4, A through I indicate the individual pixels.  The pixels are disposed on a plane of a corresponding image.  One detection device corresponding to each pixel is disposed on the sensor.  When the sensor performs image capturing, each<br>
15  detection device outputs a pixel value of the corresponding pixel forming the image.  For example, the position of the detection device in the X direction corresponds to the horizontal direction on the image, while the position of the detection device in the Y direction corresponds to the<br>
20  vertical direction on the image.<br>
As shown in Fig. 5, the detection device, which is, for example, a CCD, converts input light into electrical charge during a period corresponding to a shutter time, and stores the converted electrical charge.  The amount of charge is<br>
25  almost proportional to the intensity of the input light and<br><br><br><br>
the period for which the light is input.  The detection device sequentially adds the electrical charge converted from the input light to the stored electrical charge during the period corresponding to the shutter time.  That is, the 5  detection device integrates the input light during the period corresponding to the shutter time and stores the electrical charge corresponding to the amount of integrated light.  It can be considered that the detection device has an integrating function with respect to time.<br>
10      The electrical charge stored in the detection device is converted into a voltage value by a circuit (not shown), and the voltage value is further converted into a pixel value, such as digital data, and is output. Accordingly, each pixel value output from the sensor is a value projected on a<br>
15  linear space, which is a result of integrating a certain<br>
three-dimensional portion of the object corresponding to the foreground or the background with respect to the shutter time.<br>
The signal processing apparatus extracts significant<br>
20  information embedded in the output signal, for example, the mixture ratio a, by the storage operation of the sensor. The signal processing apparatus adjusts the amount of distortion, for example, the amount of motion blur, caused by the mixture of the foreground image object itself.  The<br>
25  signal processing apparatus also adjusts the amount of<br><br><br>
distortion caused by the mixture of the foreground image object and the background image object.<br>
Fig. 6A illustrates an image obtained by capturing a moving object corresponding to a foreground and a stationary 5  object corresponding to a background.  In the example shown in Fig. 6A, the object corresponding to the foreground is moving horizontally from the left to the right with respect to the screen.<br>
Fig. 6B illustrates a model obtained by expanding pixel<br>
10  values corresponding to one line of the image shown in Fig. 6A in the time direction.  The horizontal direction shown in Fig. 6B corresponds to the spatial direction X in Fig. 6A.<br>
The values of the pixels in the background area are formed only from the background components, that is, the<br>
15  image components corresponding to the background object. The values of the pixels in the foreground area are formed only from the foreground components, that is, the image components corresponding to the foreground object.<br>
The values of the pixels of the mixed area are formed<br>
20  from the background components and the foreground components. Since the values of the pixels in the mixed area are formed from the background components and the foreground components, it may be referred to as a "distortion area".  The mixed area is further classified into a covered background area<br>
25  and an uncovered background area.<br><br><br>
The covered background area is a mixed area at a position corresponding to the leading end in the direction in which the foreground object is moving, where the background components are gradually covered with the 5  foreground over time.<br>
In contrast, the uncovered background area is a mixed area corresponding to the trailing end in the direction in which the foreground object is moving, where the background components gradually appear over time.<br>
10      As discussed above, the image containing the foreground area, the background area, or the covered background area or the uncovered background area is input into the area specifying unit 103, the mixture-ratio calculator 104, and the foreground/background separator 105 as the input image.<br>
15      Fig. 7 illustrates the background area, the foreground area, the mixed area, the covered background area, and the uncovered background area discussed above.  In the areas corresponding to the image shown in Fig. 6A, the background area is a stationary portion, the foreground area is a<br>
20  moving portion, the covered background area of the mixed area is a portion that changes from the background to the foreground, and the uncovered background area of the mixed area is a portion that changes from the foreground to the background.<br>
25      Fig. 8 illustrates a model obtained by expanding in the<br><br><br>
time direction the pixel values of the pixels aligned side-by- side in the image obtained by capturing the image of the object corresponding to the stationary foreground and the image of the object corresponding to the stationary 5  background.  For example, as the pixels aligned side-by-side, pixels arranged in one line on the screen can be selected.<br>
The pixel values indicated by F01 through F04 shown in Fig. 8 are values of the pixels corresponding to the object of the stationary foreground.  The pixel values indicated by<br>
10  BOl through B04 shown in Fig. 8 are values of the pixels corresponding to the object of the stationary background. Time elapses from the top to the bottom in Fig. 8 in the vertical direction in Fig. 8.  The position at the top side of the rectangle in Fig. 8 corresponds to the time at<br>
15  which the sensor starts converting input light into<br>
electrical charge, and the position at the bottom side of the rectangle in Fig. 8 corresponds to the time at which the conversion from the input light into the electrical charge is finished. That is, the distance from the top side to the<br>
20  bottom side of the rectangle in Fig. 8 corresponds to the shutter time.<br>
The pixels shown in Fig. 8 are described below assuming that, for example, the shutter time is equal to the frame size.<br>
25      The horizontal direction in Fig. 8 corresponds to the<br><br><br>
spatial direction X in Fig. 6A.  More specifically, in the example shown in Fig. 8, the distance from the left side of the rectangle indicated by "FOl" in Fig. 8 to the right side of the rectangle indicated by "B04" is eight times the pixel 5  pitch, i.e., eight consecutive pixels.<br>
When the foreground object and the background object are stationary, the light input into the sensor does not change during the period corresponding to the shutter time. The period corresponding to the shutter time is divided<br>
10  into two or more portions of equal periods.  For example, if the number of virtual divided portions is 4, the model shown in Fig. 8 can be represented by the model shown in Fig. 11. The number of virtual divided portions can be set according to the amount of movement v of the object corresponding to<br>
15  the foreground within the shutter time.  For example, the number of virtual divided portions is set to 4 when the amount of movement v is 4, and the period corresponding to the shutter time is divided into four portions.<br>
The uppermost line in Fig. 11 corresponds to the first<br>
20  divided period from when the shutter has opened.  The second line in Fig. 11 corresponds to the second divided period from when the shutter has opened.  The third line in Fig. 11 corresponds to the third divided period from when the shutter has opened.  The fourth line in Fig. 11 corresponds<br>
25  to the fourth divided period from when the shutter has<br><br>
opened.<br>
The shutter time divided in accordance with the amount of movement v is also hereinafter referred to as the "shutter time/vn. 5      When the object corresponding to the foreground is<br>
stationary, the light input into the sensor does not change, and thus, the foreground component FOl/v is equal to the value obtained by dividing the pixel value FOl by the number of virtual divided portions.  Similarly, when the object<br>
10  corresponding to the foreground is stationary, the<br>
foreground component F02/V is equal to the value obtained by dividing the pixel value F02 by the number of virtual divided portions, the foreground component F03/v is equal to the value obtained by dividing the pixel value F03 by the<br>
15  number of virtual divided portions, and the foreground<br>
component F04/v is equal to the value obtained by dividing the pixel value F04 by the number of virtual divided portions.<br>
When the object corresponding to the background is<br>
20  stationary, the light input into the sensor does not change, and thus, the background component BOl/v is equal to the value obtained by dividing the pixel value B01 by the number of virtual divided portions.  Similarly, when the object corresponding to the background is stationary, the<br>
25  background component B02/v is equal to the value obtained by<br><br><br>
dividing the pixel value BO2 by the number of virtual divided portions, the background component B03/v is equal to the value obtained by dividing the pixel value B03 by the number of virtual divided portions, and the background 5  component B04/v is equal to the value obtained by dividing the pixel value BO4 by the number of virtual divided portions.<br>
More specifically, when the object corresponding to the foreground is stationary, the light corresponding to the<br>
10  foreground object input into the sensor does not change during the period corresponding to the shutter time. Accordingly, the foreground component FOl/v corresponding to the first portion of the shutter time/v from when the shutter has opened, the foreground component FOl/v<br>
15  corresponding to the second portion of the shutter time/v from when the shutter has opened, the foreground component FOl/v corresponding to the third portion of the shutter time/v from when the shutter has opened, and the foreground component FOl/v corresponding to the fourth portion of the<br>
20  shutter time/v from when the shutter has opened become the same value.  The same applies to F02/v through F04/v, as in the case of FOl/v.<br>
When the object corresponding to the background is stationary, the light corresponding to the background object<br>
25  input into the sensor does not change during the period<br><br>
corresponding to the shutter time. Accordingly, the background component BOl/v corresponding to the first portion of the shutter time/v from when the shutter has opened, the background component BOl/v corresponding to the 5  second portion of the shutter time/v from when the shutter has opened, the background component BOl/v corresponding to the third portion of the shutter time/v from when the shutter has opened, and the background component BOl/v corresponding to the fourth portion of the shutter time/v<br>
10  from when the shutter has opened become the same value.  The same applies to B02/v through B04/v.<br>
A description is given of the case in which the object corresponding to the foreground is moving and the object corresponding to the background is stationary.<br>
15      Fig. 10 illustrates a model obtained by expanding in the time direction the pixel values of the pixels in one line, including a covered background area, when the object corresponding to the foreground is moving to the right in Fig. 10.  In Fig. 10, the amount of movement v is 4.  Since<br>
20  one frame is a short period, it can be assumed that the object corresponding to the foreground is a rigid body moving with constant velocity.  In Fig. 10, the object image corresponding to the foreground is moving such that it is positioned four pixels to the right with respect to a<br>
25  reference frame when it is displayed in the subsequent frame.<br><br><br>
In Fig. 10, the pixels from the leftmost pixel to the fourth pixel belong to the foreground area.  In Fig. 10, the pixels from the fifth pixel to the seventh pixel from the left belong to the mixed area, which is the covered 5  background area.  In Fig. 10, the rightmost pixel belongs to the background area.<br>
The object corresponding to the foreground is moving such that it gradually covers the object corresponding to the background over time.  Accordingly, the components 10  contained in the pixel values of the pixels belonging to the covered background area change from the background components to the foreground components at a certain time during the period corresponding to the shutter time.<br>
For example, the pixel value M surrounded by the thick<br>
15  frame in Fig. 10 is expressed by equation (1) below.<br>
M = B02/V+B02/V+F07/V+F06/V	(1)<br>
For example, the fifth pixel from the left contains a background component corresponding to one portion of the shutter time/v and foreground components corresponding to 20  three portions of the shutter time/v, and thus, the mixture ratio a of the fifth pixel from the left is 1/4.  The sixth pixel from the left contains background components corresponding to two portions of the shutter time/v and foreground components corresponding to two portions of the 25  shutter time/v, and thus, the mixture ratio a of the sixth<br><br>
pixel from the left is 1/2.  The seventh pixel from the left contains background components corresponding to three portions of the shutter time/v and a foreground component corresponding to one portion of the shutter time/v, and thus, 5  the mixture ratio a of the fifth pixel from the left is 3/4. It can be assumed that the object corresponding to the foreground is a rigid body, and the foreground object is moving with constant velocity such that it is displayed four pixels to the right in the subsequent frame.  Accordingly,<br>
10  for example, the foreground component F07/v of the fourth pixel from the left in Fig. 10 corresponding to the first portion of the shutter time/v from when the shutter has opened is equal to the foreground component of the fifth pixel from the left in Fig. 10 corresponding to the second<br>
15  portion of the shutter time/v from when the shutter has<br>
opened.  Similarly, the foreground component F07/v is equal to the foreground component of the sixth pixel from the left in Fig. 10 corresponding to the third portion of the shutter time/v from when the shutter has opened, and the foreground<br>
20  component of the seventh pixel from the left in Fig. 10 corresponding to the fourth portion of the shutter time/v from when the shutter has opened.<br>
It can be assumed that the object corresponding to the foreground is a rigid body, and the foreground object is<br>
25  moving with constant velocity such that it is displayed four<br><br><br>
pixels to the right in the subsequent frame.  Accordingly, for example, the foreground component F06/v of the third pixel from the left in Fig. 10 corresponding to the first portion of the shutter time/v from when the shutter has 5  opened is equal to the foreground component of the fourth pixel from the left in Fig. 10 corresponding to the second portion of the shutter time/v from when the shutter has opened.  Similarly, the foreground component F06/v is equal to the foreground component of the fifth pixel from the left<br>
10  in Fig. 10 corresponding to the third portion of the shutter time/v from when the shutter has opened, and the foreground component of the sixth pixel from the left in Fig. 10 corresponding to the fourth portion of the shutter time/v from when the shutter has opened.<br>
15      It can be assumed that the object corresponding to the foreground is a rigid body, and the foreground object is moving with constant velocity such that it is displayed four pixels to the right in the subsequent frame.  Accordingly, for example, the foreground component F05/v of the second<br>
20  pixel from the left in Fig. 10 corresponding to the first portion of the shutter time/v from when the shutter has opened is equal to the foreground component of the third pixel from the left in Fig. 10 corresponding to the second portion of the shutter time/v from when the shutter has<br>
25  opened.  Similarly, the foreground component F05/v is equal<br><br><br>
to the foreground component of the fourth pixel from the left in Fig. 10 corresponding to the third portion of the shutter time/v from when the shutter has opened, and the foreground component of the fifth pixel from the left in Fig. 5  10 corresponding to the fourth portion of the shutter time/v from when the shutter has opened.<br>
It can be assumed that the object corresponding to the foreground is a rigid body, and the foreground object is moving with constant velocity such that it is displayed four<br>
1.0  pixels to the right in the subsequent frame.  Accordingly, for example, the foreground component F04/v of the left most pixel in Fig. 10 corresponding to the first portion of the shutter time/v from when the shutter has opened is equal to the foreground component of the second pixel from the left<br>
15  in Fig. 10 corresponding to the second portion of the<br>
shutter time/v from when the shutter has opened.  Similarly, the foreground component F04/v is equal to the foreground component of the third pixel from the left in Fig. 10 corresponding to the third portion of the shutter time/v<br>
20  from when the shutter has opened, and the foreground component of the fourth pixel from the left in Fig. 10 corresponding to the fourth portion of the shutter time/v from when the shutter has opened.<br>
Since the foreground area corresponding to the moving<br>
25  object contains motion blur as discussed above, it can also<br><br><br>
be referred to as a "distortion area".<br>
Fig. 11 illustrates a model obtained by expanding in the time direction the pixel values of the pixels in one line including an uncovered background area when the object 5  corresponding to the foreground is moving to the right in Fig. 11.  In Fig. 11, the amount of movement v is 4.  Since one frame is a short period, it can be assumed that the object corresponding to the foreground is a rigid body moving with constant velocity.  In Fig. 11, the object image<br>
10 corresponding to the foreground is moving to the right such that it is positioned four pixels to the right with respect to a reference frame when it is displayed in the subsequent frame.<br>
In Fig. 11, the pixels from the leftmost pixel to the<br>
15  fourth pixel belong to the background area.  In Fig. 11, the pixels from the fifth pixel to the seventh pixels from the left belong to the mixed area, which is an uncovered background area.  In Fig. 11, the rightmost pixel belongs to the foreground area.<br>
20      The object corresponding to the foreground which covers the object corresponding to the background is moving such that it is gradually removed from the object corresponding to the background over time.  Accordingly, the components contained in the pixel values of the pixels belonging to the<br>
25  uncovered background area change from the foreground<br><br>
components to the background components at a certain time of the period corresponding to the shutter time.<br>
For example, the pixel value M" surrounded by the thick frame in Fig. 11 is expressed by equation (2).<br>
M" = F02/v+F01/v+B26/v+B26/v	(2)<br>
For example, the fifth pixel from the left contains background components corresponding to three portions of the shutter time/v and a foreground component corresponding to one shutter portion of the shutter time/v, and thus, the mixture ratio a of the fifth pixel from the left is 3/4. The sixth pixel from the left contains background components corresponding to two portions of the shutter time/v and foreground components corresponding to two portions of the shutter time/v, and thus, the mixture ratio a of the sixth pixel from the left is 1/2.  The seventh pixel from the left contains a background component corresponding to one portion of the shutter time/v and foreground components corresponding to three portions of the shutter time/v, and thus, the mixture ratio a of the seventh pixel from the left is 1/4.<br>
When equations (1) and (2) are generalized, the pixel value M can be expressed by equation (3):<br>
  (3) where a is the mixture ratio, B indicates a pixel value of<br><br>
the background, and Fi/v designates a foreground component.<br>
It can be assumed that the object corresponding to the foreground is a rigid body, which is moving with constant velocity, and the amount of movement is 4. Accordingly, for example, the foreground component FOl/v of the fifth pixel from the left in Fig. 11 corresponding to the first portion of the shutter time/v from when the shutter has opened is equal to the foreground component of the sixth pixel from the left in Fig. 11 corresponding to the second portion of the shutter time/v from when the shutter has opened. Similarly, the foreground component FOl/v is equal to the foreground component of the seventh pixel from the left in Fig. 11 corresponding to the third portion of the shutter time/v from when the shutter has opened, and the foreground component of the eighth pixel from the left in Fig. 11 corresponding to the fourth portion of the shutter time/v from when the shutter has opened.<br>
It can be assumed that the object corresponding to the foreground is a rigid body, which is moving with constant velocity, and the amount of movement v is 4. Accordingly, for example, the foreground component F02/v of the sixth pixel from the left in Fig. 11 corresponding to the first portion of the shutter time/v from when the shutter has opened is equal to the foreground component of the seventh pixel from the left in Fig. 11 corresponding to the second<br><br>
portion of the shutter time/v from when the shutter has opened.  Similarly, the foreground component F02/v is equal to the foreground component of the eighth pixel from the left in Fig. 11 corresponding to the third portion of the 5  shutter time/v from when the shutter has opened.<br>
It can be assumed that the object corresponding to the foreground is a rigid body, which is moving with constant velocity, and the amount of movement v is 4. Accordingly, for example, the foreground component F03/v of the seventh<br>
10  pixel from the left in Fig. 11 corresponding to the first portion of the shutter time/v from when the shutter has opened is equal to the foreground component of the eighth pixel from the left in Fig. 11 corresponding to the second portion of the shutter time/v from when the shutter has<br>
15  opened.<br>
It has been described with reference to Figs. 9 through 11 that the number of virtual divided portions is 4.  The number of virtual divided portions corresponds to the amount of movement v.  Generally, the amount of movement v<br>
20  corresponds to the moving speed of the object corresponding to the foreground.  For example, if the object corresponding to the foreground is moving such that it is displayed four pixels to the right with respect to a certain frame when it is positioned in the subsequent frame, the amount of<br>
25  movement v is set to 4.  The number of virtual divided<br><br><br>
portions is set to 4 in accordance with the amount of movement v.  Similarly, when the object corresponding to the foreground is moving such that it is displayed six pixels to the left with respect to a certain frame when it is 5  positioned in the subsequent frame, the amount of movement v is set to 6, and the number of virtual divided portions is set to 6.<br>
Figs. 12 and 13 illustrate the relationship of the foreground area, the background area, and the mixed area<br>
10  which consists of a covered background or an uncovered background, which are discussed above, to the foreground components and the background components corresponding to the divided periods of the shutter time.<br>
Fig. 12 illustrates an example in which pixels in the<br>
15  foreground area, the background area, and the mixed area are extracted from an image containing a foreground corresponding to an object moving in front of a stationary background.  In the example shown in Fig. 12, the object corresponding to the foreground is horizontally moving with<br>
20  respect to the screen.<br>
Frame #n+l is a frame subsequent to frame #n, and frame #n+2 is a frame subsequent to frame #n+l.<br>
Pixels in the foreground area, the background area, and the mixed area are extracted from one of frames #n through<br>
25  #n+2, and the amount of movement v is set to 4.  A model<br><br><br>
obtained by expanding the pixel values of the extracted pixels in the time direction is shown in Fig. 13.<br>
Since the object corresponding to the foreground is moving, the pixel values in the foreground area are formed of four different foreground components corresponding to the shutter time/v.  For example, the leftmost pixel of the pixels in the foreground area shown in Fig. 13 consists of FOl/v, F02/v, F03/v, and F04/v.  That is, the pixels in the foreground contain motion blur.<br>
Since the object corresponding to the background is stationary, light input into the sensor corresponding to the background during the shutter time does not change.  In this case, the pixel values in the background area do not contain motion blur.<br>
The pixel values in the mixed area consisting of a covered background area or an uncovered background area are formed of foreground components and background components.<br>
A description is given below of a model obtained by expanding in the time direction the pixel values of the pixels which are aligned side-by-side in a plurality of frames and which are located at the same positions when the frames are overlapped when the image corresponding to the object is moving.  For example, when the image corresponding to the object is moving horizontally with respect to the screen, pixels aligned on the screen can be selected as the<br><br>
pixels aligned side-by-side.<br>
Fig. 14 illustrates a model obtained by expanding in the time direction the pixels which are aligned side-by-side in three frames of an image obtained by capturing an object 5  corresponding to a stationary background and which are<br>
located at the same positions when the frames are overlapped. Frame #n is the frame subsequent to frame #n-l, and frame #n+l is the frame subsequent to frame #n.  The same applies to the other frames.<br>
10      The pixel values B01 through B12 shown in Fig. 14 are pixel values corresponding to the stationary background object.  Since the object corresponding to the background is stationary, the pixel values of the corresponding pixels in frame #n-l through frame #n+l do not change.  For example,<br>
15  the pixel in frame #n and the pixel in frame #n+l located at the corresponding position of the pixel having the pixel value B05 in frame #n-l have the pixel value B05.<br>
Fig. 15 illustrates a model obtained by expanding in the time direction the pixels which are aligned side-by-side<br>
20  in three frames of an image obtained by capturing an object corresponding to a foreground that is moving to the right in Fig. 15 together with an object corresponding to a stationary background and which are located at the same positions when the frames are overlapped.  The model shown<br>
25  in Fig. 15 contains a covered background area.<br><br>
In Fig. 15,.it can be assumed that the object corresponding to the foreground is a rigid body moving with constant velocity, and that it is moving such that it is displayed four pixels to the right in the subsequent frame. 5  Accordingly, the amount of movement v is 4, and the number of virtual divided portions is 4.<br>
For example, the foreground component of the leftmost pixel of frame #n-l in Fig. 15 corresponding to the first portion of the shutter tiroe/v from when the shutter has<br>
10  opened is F12/v, and the foreground component of the second pixel from the left in Fig- 15 corresponding to the second portion of the shutter time/v from when the shutter has opened is also Fl2/v.  The foreground component of the third pixel from the left in Fig. 15 corresponding to the third<br>
15  portion of the shutter time/v from when the shutter has<br>
opened and the foreground component of the fourth pixel from the left in Fig. 15 corresponding to the fourth portion of the shutter time/v from when the shutter has opened are Fl2/v.<br>
20      The foreground component of the leftmost pixel of frame #n-l in Fig. 15 corresponding to the second portion of the shutter time/v from when the shutter has opened is Fll/v. The foreground component of the second pixel from the left in Fiq. 15 corresponding to the third portion of the shutter<br>
25  time/v from when the shutter has opened is also Fll/v.  The<br><br>
foreground component of the third pixel from the left in Fig. 15 corresponding to the fourth portion of the shutter time/v from when the shutter has opened is Fll/v.<br>
The foreground component of the leftmost pixel of frame #n-l in Fig. 15 corresponding to the third portion of the shutter time/v from when the shutter has opened is FlO/v. The foreground component of the second pixel from the left in Fig. 15 corresponding to the fourth portion of the shutter time/v from when the shutter has opened is also FlO/v. The foreground component of the leftmost pixel of frame #n-l in Fig. 15 corresponding to the fourth portion of the shutter time/v from when the shutter has opened is F09/v.<br>
Since the object corresponding to the background is stationary, the background component of the second pixel from the left of frame #n-l in Fig. 15 corresponding to the first portion of the shutter time/v from when the shutter has opened is BOl/v.  The background components of the third pixel from the left of frame #n-l in Fig. 15 corresponding to the first and second portions of the shutter time/v from when the shutter has opened are B02/v. The background components of the fourth pixel from the left of frame #n-l in Fig. 15 corresponding to the first through third portions of the shutter time/v from when the shutter has opened are B03/v.<br>
In frame #n-l in Fig. 15, the leftmost pixel from the<br><br><br><br>
left belongs to the foreground area, and the second through fourth pixels from the left belong to the mixed area, which is a covered background area.<br>
The fifth through twelfth pixels from the left of frame 5  #n-l in Fig. 15 belong to the background area, and the pixel values thereof are B04 through Bll, respectively.<br>
The first through fifth pixels from the left in frame #n in Fig. 15 belong to the foreground area.  The foreground component in the shutter time/v in the foreground area of<br>
10  frame #n is any one of F05/v through F12/v.<br>
It can be assumed that the object corresponding to the foreground is a rigid body moving with constant velocity, and that it is moving such that the foreground image is displayed four pixels to the right in the subsequent frame.<br>
15  Accordingly, the foreground component of the fifth pixel from the left of frame #n in Fig. 15 corresponding to the first portion of the shutter time/v from when the shutter has opened is F12/v, and the foreground component of the sixth pixel from the left in Fig. 15 corresponding to the<br>
20  second portion of the shutter time/v from when the shutter has opened is also Fl2/v.  The foreground component of the seventh pixel from the left in Fig. 15 corresponding to the third portion of the shutter time/v from when the shutter has opened and the foreground component of the eighth pixel<br>
25  from the left in Fig. 15 corresponding to the fourth portion<br><br>
of the shutter time/v from when the shutter has opened are Fl2/v.<br>
The foreground component of the fifth pixel from the left of frame #n in Fig. 15 corresponding to the second 5 portion of the shutter time/v from when the shutter has opened is Fll/v. The foreground component of the sixth pixel from the left in Fig. 15 corresponding to the third portion of the shutter time/v from when the shutter has opened is also Fll/v. The foreground component of the<br>
10  seventh pixel from the left in Fig. 15 corresponding to the fourth portion of the shutter time/v from when the shutter has opened is Fll/v.<br>
The foreground component of the fifth pixel from the left of frame #n in Fig. 15 corresponding to the third<br>
15  portion of the shutter time/v from when the shutter has opened is FlO/v. The foreground component of the sixth pixel from the left in Fig. 15 corresponding to the fourth portion of the shutter time/v from when the shutter has opened is also FlO/v. The foreground component of the fifth<br>
20  pixel from the left of frame #n in Fig. 15 corresponding to the fourth portion of the shutter time/v from when the shutter has opened is F09/v.<br>
Since the object corresponding to the background is stationary, the background component of the sixth pixel from<br>
25  the left of frame #n in Fig. 15 corresponding to the first<br><br><br>
portion of the shutter time/v from when the shutter has opened is BOS/v.  The background components of the seventh pixel from the left of frame #n in Fig. 15 corresponding to the first and second portions of the shutter time/v from 5  when the shutter has opened are B06/v. The background<br>
Components of the eighth pixel from the left of frame #n in Fig. 15 corresponding to the first through third portion of the shutter time/v from when the shutter has opened are B07/v.<br>
10      In frame #n in Fig. 15, the sixth through eighth pixels from the left belong to the mixed area, which is a covered background area.<br>
The ninth through twelfth pixels from the left of frame #n in Fig. 15 belong to the background area, and the pixel<br>
15  values thereof are B08 through Bll, respectively.<br>
The first through ninth pixels from the left in frame #n+l in Fig. 15 belong to the foreground area.  The foreground component in the shutter time/v in the foreground area of frame #n+l is any one of FOl/v through F12/v.<br>
20      It can be assumed that the object corresponding to the foreground is a rigid body moving with constant velocity, and that it is moving such that the foreground image is displayed four pixels to the right in the subsequent frame. Accordingly, the foreground component of the ninth pixel<br>
25  from the left of frame #n+l in Fig. 15 corresponding to the<br><br><br>
first portion of the shutter time/v from when the shutter has opened is F12/v, and the foreground component of the tenth pixel from the left in Fig. 15 corresponding to the second portion of the shutter time/v from when the shutter has opened is also Fl2/v.  The foreground component of the eleventh pixel from the left in Fig. 15 corresponding to the third portion of the shutter time/v from when the shutter has opened and the foreground component of the twelfth pixel from the left in Fig. 15 corresponding to the fourth portion of the shutter time/v from when the shutter has opened are Fl2/v.<br>
The foreground component of the ninth pixel from the left of frame #n+l in Fig. 15 corresponding to the second portion of the shutter time/v from when the shutter has opened is Fll/v. The foreground component of the tenth pixel from the left in Fig. 15 corresponding to the third portion of the shutter time/v from when the shutter has opened is also Fll/v. The foreground component of the eleventh pixel from the left in Fig. 15 corresponding to the fourth portion of the shutter time/v from when the shutter has opened is Fll/v.<br>
The foreground component of the ninth pixel from the left of frame #n+l in Fig. 15 corresponding to the third portion of the shutter time/v from when the shutter has opened is FlO/v.  The foreground component of the tenth<br><br>
pixel from the left in Fig. 15 corresponding to the fourth portion of the shutter time/v from when the shutter has opened is also FlO/v. The foreground component of the ninth pixel from the left of frame #n+l in Fig. 15 corresponding 5  to the fourth portion of the shutter time/v from when the shutter has opened is F09/v.<br>
Since the object corresponding to the background is stationary, the background component of the tenth pixel from the left of frame #n+l in Fig. 15 corresponding to the first<br>
10  portion of the shutter time/v from when the shutter has<br>
opened is B09/v. The background components of the eleventh pixel from the left of frame #n+l in Fig. 15 corresponding to the first and second portions of the shutter time/v from when the shutter has opened are BlO/v. The background<br>
15  components of the twelfth pixel from the left of frame #n+l in Fig. 15 corresponding to the first through third portion of the shutter time/v from when the shutter has opened are Bll/v.<br>
In frame #n+l in Fig. 15, the tenth through twelfth<br>
20  pixels from the left belong to the mixed area, which is a covered background area.<br>
Fig. 16 is a model of an image obtained by extracting the foreground components from the pixel values shown in Fig. 15.<br>
25      Fig. 17 illustrates a model obtained by expanding in<br><br><br>
the time direction the pixels which are aligned side-by-side in three frames of an image obtained by capturing an object corresponding to a foreground that is moving to the right in Fig. 17 together with an object corresponding to a<br>
5  stationary background and which are located at the same positions when the frames are overlapped. The model shown in Fig. 17 contains an uncovered background area.<br>
in Fig. 17, it can be assumed that the object corresponding to the foreground is a rigid body moving with<br>
0  constant velocity, and that it is moving such that it is displayed four pixels to the right in the subsequent frame. Accordingly, the amount of movement v is 4.<br>
For example, the foreground component of the leftmost pixel of frame #n-l in Fig. 17 corresponding to the first<br>
5  portion of the shutter time/v from when the shutter has<br>
opened is F13/v, and the foreground component of the second pixel from the left in Fig. 17 corresponding to the second portion of the shutter time/v from when the shutter has opened is also Fl3/v.  The foreground component of the third<br>
0  pixel from the left in Fig. 17 corresponding to the third portion of the shutter time/v from when the shutter has opened and the foreground component of the fourth pixel from the left in Fig. 17 corresponding to the fourth portion of the shutter time/v from when the shutter has opened are<br><br>
The foreground component of the second pixel from the left of frame #n-l in Fig. 17 corresponding to the first portion of the shutter time/v from when the shutter has opened is F14/v.  The foreground component of the third 5  pixel from the left in Fig. 17 corresponding to the second portion of the shutter time/v from when the shutter has opened is also F14/v. The foreground component of the third pixel from the left in Fig. 17 corresponding to the first portion of the shutter time/v from when the shutter has<br>
10  opened is Fl5/v.<br>
Since the object corresponding to the background is stationary, the background components of the leftmost pixel of frame #n-l in Fig. 17 corresponding to the second through fourth portions of the shutter time/v from when the shutter<br>
15  has opened are B25/v. The background components of the second pixel from the left of frame #n-l in Fig. 17 corresponding to the third and fourth portions of the shutter time/v from when the shutter has opened are B26/v. The background component of the third pixel from the left of<br>
20  frame #n-l in Fig. 17 corresponding to the fourth portion of the shutter time/v from when the shutter has opened is B27/v.<br>
In frame #n-l in Fig. 17, the leftmost pixel through the third pixel belong to the mixed area, which is an uncovered background area.<br>
25      The fourth through twelfth pixels from the left of<br><br>
frame #n-l in Fig. 17 belong to the foreground area.  The foreground component of the frame is any one of F13/v through F24/v.<br>
The leftmost pixel through the fourth pixel from the 5  left of frame #n in Fig. 17 belong to the background area, and the pixel values thereof are B25 through B28, respectively.<br>
It can be assumed that the object corresponding to the foreground is a rigid body moving with constant velocity,<br>
10  and that it is moving such that it is displayed four pixels to the right in the subsequent frame.  Accordingly, the foreground component of the fifth pixel from the left of frame #n in Fig. 17 corresponding to the first portion of the shutter time/v from when the shutter has opened is Fl3/v,<br>
15  and the foreground component of the sixth pixel from the left in Fig. 17 corresponding to the second portion of the shutter time/v from when the shutter has opened is also F13/v.  The foreground component of the seventh pixel from the left in Fig. 17 corresponding to the third portion of<br>
20  the shutter time/v from when the shutter has opened and the foreground component of the eighth pixel from the left in Fig. 17 corresponding to the fourth portion of the shutter time/v from when the shutter has opened are F13/v.<br>
The foreground component of the sixth pixel from the<br>
25  left of frame #n in Fig. 17 corresponding to the first<br><br><br>
portion of the shutter time/v from when the shutter has opened is F14/v.  The foreground component of the seventh pixel from the left in Fig. 17 corresponding to the second portion of the shutter time/v from when the shutter has 5  opened is also Fl4/v.  The foreground component of the<br>
eighth pixel from the left in Fig. 17 corresponding to the first portion of the shutter time/v from when the shutter has opened is Fl5/v.<br>
Since the object corresponding to the background is<br>
10  stationary, the background components of the fifth pixel from the left of frame #n in Fig. 17 corresponding to the second through fourth portions of the shutter time/v from when the shutter has opened are B29/v. The background components of the sixth pixel from the left of frame #n in<br>
15  Fig. 17 corresponding to the third and fourth portions of the shutter time/v from when the shutter has opened are B30/v. The background component of the seventh pixel from the left of frame #n in Fig. 17 corresponding to the fourth portion of the shutter time/v from when the shutter has<br>
20  opened is B31/v.<br>
In frame #n in Fig. 17, the fifth pixel through the seventh pixel from the left belong to the mixed area, which is an uncovered background area.<br>
The eighth through twelfth pixels from the left of<br>
25  frame #n in Fig. 17 belong to the foreground area.  The<br><br><br><br>
value in the foreground area of frame #n corresponding to the period of the shutter time/v is any one of F13/v through F20/v.<br>
The leftmost pixel through the eighth pixel from the left of frame #n+l in Fig. 17 belong to the background area, and the pixel values thereof are B25 through B32, respectively.<br>
It can be assumed that the object corresponding to the foreground is a rigid body moving with constant velocity, and that it is moving such that it is displayed four pixels to the right in the subsequent frame.  Accordingly, the foreground component of the ninth pixel from the left of frame #n+l in Fig. 17 corresponding to the first portion of the shutter time/v from when the shutter has opened is F13/v, and the foreground component of the tenth pixel from the left in Fig. 17 corresponding to the second portion of the shutter time/v from when the shutter has opened is also Fl3/v.  The foreground component of the eleventh pixel from the left in Fig. 17 corresponding to the third portion of the shutter time/v from when the shutter has opened and the foreground component of the twelfth pixel from the left in Fig. 17 corresponding to the fourth portion of the shutter time/v from when the shutter has opened are F13/v.<br>
The foreground component of the tenth pixel from the left of frame #n+l in Fig. 17 corresponding to the first<br><br><br>
Portion of the shutter time/v from when the shutter has opened is F14/v. The foreground component of the eleventh pixel from the left in Fig. 17 corresponding to the second portion of the shutter time/v from when the shutter has 5  opened is also Fl4/v.  The foreground component of the<br>
twelfth pixel from the left in Fig. 17 corresponding to the first portion of the shutter time/v from when the shutter has opened is Fl5/v.<br>
Since the object corresponding to the background is<br>
10 stationary, the background components of the ninth pixel<br>
from the left of frame #n+l in Fig. 17 corresponding to the second through fourth portions of the shutter time/v from when the shutter has opened are B33/v.  The background components of the tenth pixel from the left of frame #n+l in<br>
15  Fig. 17 corresponding to the third and fourth portions of the shutter time/v from when the shutter has opened are B34/v.  The background component of the eleventh pixel from the left of frame #n+l in Fig. 17 corresponding to the fourth portion of the shutter time/v from when the shutter<br>
20  has opened is B35/v.<br>
In frame #n+l in Fig. 17, the ninth through eleventh pixels from the left in Fig. 17 belong to the mixed area, which is an uncovered background area.<br>
The twelfth pixel from the left of frame #n+l in Fig.<br>
25  17 belongs to the foreground area.  The foreground component<br><br><br>
in the shutter time/v in the foreground area of frame #n+l is any one of F13 through F16, respectively.<br>
Fig. 18 illustrates a model of an image obtained by extracting the foreground components from the pixel values 5  shown in Fig. 17.<br>
Referring back to Fig. 2, the area specifying unit 103 specifies flags indicating to which of a foreground area, a background area, a covered background area, or an uncovered background area the individual pixels of the input image<br>
10  belong by using the pixel values of a plurality of frames, and supplies the flags to the mixture-ratio calculator 104 and the motion-blur adjusting unit 106 as the area information.<br>
The mixture-ratio calculator 104 calculates the mixture<br>
15  ratio a for each pixel contained in the mixed area based on the pixel values of a plurality of frames and the area information, and supplies the calculated mixture ratio a to the foreground/background separator 105.<br>
The foreground/background separator 105 extracts the<br>
20  foreground component image consisting of only the foreground components based on the pixel values of a plurality of frames, the area information, and the mixture ratio a,  and supplies the foreground component image to the motion-blur adjusting unit 106.<br>
25      The motion-blur adjusting unit 106 adjusts the amount<br><br>
of motion blur contained in the foreground component image based on the foreground component image supplied from the foreground/background separator 105, the motion vector supplied from the motion detector 102, and the area 5  information supplied from the area specifying unit 103, and then outputs the foreground component image in which motion blur is adjusted.<br>
The processing for adjusting the amount of motion blur performed by the signal processing apparatus is described<br>
10  below with reference to the flowchart of Fig. 19.  In step Sll, the area specifying unit 103 executes area specifying processing, based on an input image, for generating area information indicating to which of a foreground area, a background area, a covered background area, or an uncovered<br>
15  background area each pixel of the input image belongs.<br>
Details of the area specifying processing are given below. The area specifying unit 103 supplies the generated area information to the mixture-ratio calculator 104.<br>
In step Sll, the area specifying unit 103 may generate,<br>
20  based on the input image, area information indicating to which of the foreground area, the background area, or the mixed area (regardless of whether each pixel belongs to a covered background area or an uncovered background area) each pixel of the input image belongs.  In this case, the<br>
25  foreground/background separator 105 and the motion-blur<br><br><br>
adjusting unit 106 determine based on the direction of the motion vector whether the mixed area is a covered background area or an uncovered background area. For example, if the input image is disposed in the order of the foreground area, 5  the mixed area, and the background area in the direction of the motion vector, it is determined that the mixed area is a covered background area.  If the input image is disposed in the order of the background area, the mixed area, and the foreground area in the direction of the motion vector, it is<br>
10  determined that the mixed area is an uncovered background area.<br>
In step S12, the mixture-ratio calculator 104 calculates the mixture ratio a for each pixel contained in the mixed area based on the input image and the area<br>
15  information.  Details of the mixture ratio calculating<br>
processing are given below. The mixture-ratio calculator 104 supplies the calculated mixture ratio a to the foreground/background separator 105.<br>
In step S13, the foreground/background separator 105<br>
20  extracts the foreground components from the input image<br>
based on the area information and the mixture ratio a, and supplies the foreground components to the motion-blur adjusting unit 106 as the foreground component image. In step S14, the motion-blur adjusting unit 106<br>
25  generates, based on the motion vector and the area<br><br><br>
information, the unit of processing that indicates the positions of consecutive pixels disposed in the moving direction and belonging to any of the uncovered background area, the foreground area, and the covered background area, 5  and adjusts the amount of motion blur contained in the foreground components corresponding to the unit of processing. Details of the processing for adjusting the amount of motion blur are given below.<br>
In step S15, the signal processing apparatus determines<br>
10  whether the processing is finished for the whole screen.  If it is determined that the processing is not finished for the whole screen, the process proceeds to step S14, and the processing for adjusting the amount of motion blur for the foreground components corresponding to the unit of<br>
15  processing is repeated.<br>
If it is determined in step S15 that the processing is finished for the whole screen, the processing is completed.<br>
In this manner, the signal processing apparatus is capable of adjusting the amount of motion blur contained in<br>
20  the foreground by separating the foreground and the<br>
background.  That is, the signal processing apparatus is capable of adjusting the amount of motion blur contained in sampled data indicating the pixel values of the foreground pixels.<br>
25      The configuration of each of the area specifying unit<br><br><br>
103, the mixture-ratio calculator 104, the foreground/background separator 105, and the motion-blur adjusting unit 106 is described below.<br>
Fig. 20 is a block diagram illustrating an example of 5  the configuration of the area specifying unit 103.  The area specifying unit 103 shown in Fig. 20 does not use a motion vector. A frame memory 201 stores an input image in units of frames, when the image to be processed is frame #n, the frame memory 201 stores frame #n-2, which is the frame two<br>
10  frames before frame #n, frame #n-l, which is the frame one frame before frame #n, frame #n, frame #n+l, which is the frame one frame after frame #n, frame #n+2, which is the frame two frames after frame #n.<br>
A stationary/moving determining portion 202-1 reads the<br>
15  pixel value of the pixel of frame #n+2 located at the same position as a specific pixel of frame #n in which the area to which the pixel belongs is determined, and reads the pixel value of the pixel of frame #n+l located at the same position of the specific pixel of frame #n from the frame<br>
20  memory 201, and calculates the absolute value of the difference between the read pixel values. The stationary/moving determining portion 202-1 determines whether the absolute value of the difference between the pixel value of frame #n+2 and the pixel value of frame #n+l<br>
25  is greater than a preset threshold Th.  If it is determined<br><br><br>
that the difference is greater than the threshold Th, a stationary/moving determination indicating "moving" is supplied to an area determining portion 203-1.  If it is determined that the absolute value of the difference between 5  the pixel value of the pixel of frame #n+2 and the pixel<br>
value of the pixel of frame #n+l is smaller than or equal to the threshold Th, the stationary/moving determining portion 202-1 supplies a stationary/moving determination indicating "stationary" to the area determining portion 203-1.<br>
10      A stationary/moving determining portion 202-2 reads the pixel value of a specific pixel of frame #n in which the area to which the pixel belongs is determined, and reads the pixel value of the pixel of frame #n+l located at the same position as the specific pixel of frame #n from the frame<br>
15  memory 201, and calculates the absolute value of the<br>
difference between the pixel values. The stationary/moving determining portion 202-2 determines whether the absolute value of the difference between the pixel value of frame #n+l and the pixel value of frame #n is greater than a<br>
20  preset threshold Th.  If it is determined that the absolute value of the difference between the pixel values is greater than the threshold Th, a stationary/moving determination indicating "moving" is supplied to the area determining portion 203-1 and an area determining portion 203-2.  If it<br>
25  is determined that the absolute value of the difference<br><br>
between the pixel value of the pixel of frame #n+l and the pixel value of the pixel of frame #n is smaller than or equal to the threshold Th, the stationary/moving determining portion 202-2 supplies a stationary/moving determination 5  indicating "stationary" to the area determining portion 203-1 and the area determining portion 203-2.<br>
A stationary/moving determining portion 202-3 reads the pixel value of a specific pixel of frame #n in which the area to which the pixel belongs is determined, and reads the<br>
10  pixel value of the pixel of frame #n-l located at the same position as the specific pixel of frame #n from the frame memory 201, and calculates the absolute value of the difference between the pixel values. The stationary/moving determining portion 202-3 determines whether the absolute<br>
15  value of the difference between the pixel value of frame #n and the pixel value of frame #n-l is greater than a preset threshold Th.  If it is determined that the absolute value of the difference between the pixel values is greater than the threshold Th, a stationary/moving determination<br>
20  indicating "moving" is supplied to the area determining<br>
portion 203-2 and an area determining portion 203-3.  If it is determined that the absolute value of the difference between the pixel value of the pixel of frame #n and the pixel value of the pixel of frame #n-l is smaller than or<br>
25  equal to the threshold Th, the stationary/moving determining<br><br><br>
portion 202-3 supplies a stationary/moving determination indicating "stationary" to the area determining portion 203-2 and the area determining portion 203-3.<br>
A stationary/moving determining portion 202-4 reads the pixel value of the pixel of frame #n-l located at the same position as a specific pixel of frame #n in which the area to which the pixel belongs is determined, and reads the pixel value of the pixel of frame #n-2 located at the same position as the specific pixel of frame #n from the frame memory 201, and calculates the absolute value of the difference between the pixel values.  The stationary/moving determining portion 202-4 determines whether the absolute value of the difference between the pixel value of frame #n-1 and the pixel value of frame #n-2 is greater than a preset threshold Th.  If it is determined that the absolute value of the difference between the pixel values is greater than the threshold Th, a stationary/moving determination indicating "moving" is supplied to the area determining portion 203-3.  If it is determined that the absolute value of the difference between the pixel value of the pixel of frame #n-l and the pixel value of the pixel of frame #n-2 is smaller than or equal to the threshold Th, the stationary/moving determining portion 202-4 supplies a stationary/moving determination indicating "stationary" to the area determining portion 203-3.<br><br>
When the stationary/moving determination supplied from the stationary/moving determining portion 202-1 indicates "stationary" and when the stationary/moving determination supplied from the stationary/moving determining portion 202-5  2 indicates "moving"/ the area determining portion 203-1<br>
determines that the specific pixel of frame #n belongs to an uncovered background area, and sets "1", which indicates that the specific pixel belongs to an uncovered background area, in an uncovered-background-area determining flag<br>
10  associated with the specific pixel.<br>
When the stationary/moving determination supplied from the stationary/moving determining portion 202-1 indicates "moving" or when the stationary/moving determination supplied from the stationary/moving determining portion 202-<br>
15  2 indicates "stationary", the area specifying unit 203-1 determines that the specific pixel of frame #n does not belong to an uncovered background area, and sets "0", which indicates that the specific pixel does not belong to an uncovered background area, in the uncovered-background-area<br>
20  determining flag associated with the specific pixel. The area determining portion 203-1 supplies the uncovered-background-area determining flag in which "1" or "0" is set as discussed above to a determining-flag-storing frame memory 204.<br>
25      When the stationary/moving determination supplied from<br><br><br>
the stationary/moving determining portion 202-2 indicates "stationary" and when the stationary/moving determination supplied from the stationary/moving determining portion 202-3 indicate "stationary"/ the area determining portion 203-2 determines that the specific pixel of frame #n belongs to the stationary area, and sets "1", which indicates that the pixel belongs to the stationary area, in a stationary-area determining flag associated with the specific pixel.<br>
When the stationary/moving determination supplied from the stationary/moving determining portion 202-2 indicates "moving" or when the stationary/moving determination supplied from the stationary/moving determining portion 202-3 indicate "moving", the area determining portion 203-2 determines that the specific pixel of frame #n does not belong to the stationary area, and sets "0", which indicates that the pixel does not belong to the stationary area, in the stationary-area determining flag associated with the specific pixel.<br>
The area determining portion 203-2 supplies the stationary-area determining flag in which "1" or "0" is set as discussed above to the determining-flag-storing frame memory 204.<br>
When the stationary/moving determination supplied from the stationary/moving determining portion 202-2 indicates "moving" and when the stationary/moving determination<br><br><br>
supplied from the stationary/moving determining portion 202-3 indicate "moving", the area determining portion 203-2 determines that the specific pixel of frame #n belongs to the moving area, and sets "1", which indicates that the 5  specific pixel belongs to the moving area, in a moving-area determining flag associated with the specific pixel.<br>
When the stationary/moving determination supplied from the stationary/moving determining portion 202-2 indicates "stationary" or when the stationary/moving determination<br>
10  supplied from the stationary/moving determining portion 202-3 indicate "stationary", the area determining portion 203-2 determines that the specific pixel of frame #n does not belong to the moving area, and sets "0", which indicates that the pixel does not belong to the moving area, in the<br>
15  moving-area determining flag associated with the specific pixel.<br>
The area determining portion 203-2 supplies the moving-area determining flag in which "1" or "0" is set as discussed above to the determining-flag-storing frame memory<br>
20  204.<br>
When the stationary/moving determination supplied from the stationary/moving determining portion 202-3 indicates "moving" and when the stationary/moving determination supplied from the stationary/moving determining portion 202-<br>
25  4 indicate "stationary", the area determining portion 203-3<br><br>
determines that the specific pixel of frame #n belongs to a covered background area, and sets "1", which indicates that the specific pixel belongs to the covered background area, in a covered-background-area determining flag associated 5  with the specific pixel.<br>
When the stationary/moving determination supplied from the stationary/moving determining portion 202-3 indicates "stationary" or when the stationary/moving determination supplied from the stationary/moving determining portion 202-<br>
10  4 indicate "moving", the area determining portion 203-3 determines that the specific pixel of frame #n does not belong to a covered background area, and sets "0", which indicates that the specific pixel does not belong to a covered background area, in the covered-background-area<br>
15  determining flag associated with the specific pixel. The area determining portion 203-3 supplies the covered-background-area determining flag in which "1" or "0" is set as discussed above to the determining-flag-storing frame memory 204.<br>
20      The determining-flag-storing frame memory 204 thus stores the uncovered-background-area determining flag supplied from the area determining portion 203-1, the stationary-area determining flag supplied from the area determining portion 203-2, the moving-area determining flag<br>
25  supplied from the area determining portion 203-2, and the<br><br><br><br>
covered-background-area determining flag supplied from the area determining portion 203-3.<br>
The determining-flag-storing frame memory 204 supplies the uncovered-background-area determining flag, the stationary-area determining flag, the moving-area determining flag, and the covered-background-area determining flag stored therein to a synthesizer 205. The synthesizer 205 generates area information indicating to which of the uncovered background area, the stationary area, the moving area, or the covered background area each pixel belongs based on the uncovered-background-area determining flag, the stationary-area determining flag, the moving-area determining flag, and the covered-background-area determining flag supplied from the determining-flag-storing frame memory 204, and supplies the area information to a determining-flag-storing frame memory 206.<br>
The determining-flag-storing frame memory 206 stores the area information supplied from the synthesizer 205, and also outputs the area information stored therein.<br>
An example of the processing performed by the area specifying unit 103 is described below with reference to Figs. 21 through 25.<br>
When the object corresponding to the foreground is moving, the position of the image corresponding to the object on the screen changes in every frame.  As shown in<br><br>
Fig. 21, the image corresponding to the object located at the position indicated by Yn(x,y) in frame #n is positioned at Yn+l(x,y) in frame #n+l, which is subsequent to frame #n. A model obtained by expanding in the time direction the 5  pixel values of the pixels aligned side-by-side in the moving direction of the image corresponding to the foreground object is shown in Fig. 24.  For example, if the moving direction of the image corresponding to the foreground object is horizontal with respect to the screen,<br>
10  the model shown in Fig. 22 is a model obtained by expanding in the time direction the pixel values of the pixels disposed on a line side-by-side.<br>
In Fig. 22, the line in frame #n is equal to the line in frame #n+l.<br>
15      The foreground components corresponding to the object contained in the second pixel to the thirteenth pixel from the left in frame #n are contained in the sixth pixel through the seventeenth pixel from the left in frame #n+l. In frame #n, the pixels belonging to the covered<br>
20  background area are the eleventh through thirteenth pixels from the left, and the pixels belonging to the uncovered background area are the second through fourth pixels from the left.  In frame #n+l, the pixels belonging to the covered background area are the fifteenth through<br>
25  seventeenth pixels from the left, and the pixels belonging<br><br>
to the uncovered background area are the sixth through eighth pixels from the left.<br>
In the example shown in Fig. 22, since the foreground components contained in frame #n are moved by four pixels in 5  frame #n+l, the amount of movement v is 4.  The number of virtual divided portions is 4 in accordance with the amount of movement v.<br>
A description is now given of a change in pixel values of the pixels belonging to the mixed area in the frames<br>
10  before and after a specific frame.<br>
In Fig. 23, the pixels belonging to a covered background area in frame #n in which the background is stationary and the amount of movement v in the foreground is 4 are the fifteenth through seventeenth pixels from the left.<br>
15  Since the amount of movement v is 4, the fifteenth through seventeenth frames from the left in the previous frame #n-l contain only background components and belong to the background area. The fifteenth through seventeenth pixels from the left in frame #n-2, which is one before frame #n-l,<br>
20  contain only background components and belong to the background area.<br>
Since the object corresponding to the background is stationary, the pixel value of the fifteenth pixel from the left in frame #n-l does not change from the pixel value of<br>
25  the fifteenth pixel from the left in frame #n-2.  Similarly,<br><br>
the pixel value of the sixteenth pixel from the left in frame #n-l does not change from the pixel value of the sixteenth pixel from the left in frame #n~2, and the pixel value of the seventeenth pixel from the left in frame #n-l 5  does not change from the pixel value of the seventeenth pixel from the left in frame #n-2.<br>
That is, the pixels in frame #n-l and frame #n-2 corresponding to the pixels belonging to the covered background area in frame #n consist of only background<br>
10  components, and the pixel values thereof do not change. Accordingly, the absolute value of the difference between the pixel values is almost 0. Thus, the stationary/moving determination made for the pixels in frame #n-l and frame #n-2 corresponding to the pixels belonging to the mixed area<br>
15  in frame #n by the stationary/moving determining portion 202-4 is "stationary".<br>
Since the pixels belonging to the covered background area in frame #n contain foreground components, the pixel values thereof are different from those of frame #n-l   consisting of only background components. Accordingly, the stationary/moving determination made for the pixels belonging to the mixed area in frame #n and the corresponding pixels in frame #n-l by the stationary/moving determining portion 202-3 is "moving".<br>
When the stationary/moving determination result<br><br><br>
indicating "moving" is supplied from the stationary/moving determining portion 202-3, and when the stationary/moving determination result indicating "stationary" is supplied from the stationary/moving determining portion 202-4, as 5  discussed above, the area determining portion 203-3<br>
determines that the corresponding pixels belong to a covered background area.<br>
In Fig. 24, in frame #n in which the background is stationary and the amount of movement v in the foreground is<br>
10  4, the pixels contained in an uncovered background area are the second through fourth pixels from the left.  Since the amount of movement v is 4, the second through fourth pixels from the left in the subsequent frame #n+l contain only background components and belong to the background area.  In<br>
15  frame #n+2, which is subsequent to frame #n+l, the second through fourth pixels from the left contain only background components and belong to the background area.<br>
Since the object corresponding to the background is stationary, the pixel value of the second pixel from the<br>
20  left in frame #n+2 does not change from the pixel value of the second pixel from the left in frame #n+l.  Similarly, the pixel value of the third pixel from the left in frame #n+2 does not change from the pixel value of the third pixel from the left in frame #n+l, and the pixel value of the<br>
25  fourth pixel from the left in frame #n+2 does not change<br><br>
from the pixel value of the fourth pixel from the left in frame #n+l.<br>
That is, the pixels in frame #n+l and frame #n+2 corresponding to the pixels belonging to the uncovered background area in frame #n consist of only background components, and the pixel values thereof do not change. Accordingly, the absolute value of the difference between the pixel values is almost 0. Thus, the stationary/moving determination made for the pixels in frame #n+l and frame #n+2 corresponding to the pixels belonging to the mixed area in frame #n by the stationary/moving determining portion 202-1 is "stationary".<br>
Since the pixels belonging to the uncovered background area in frame #n contain foreground components, the pixel values thereof are different from those of frame #n+l consisting of only background components. Accordingly, the stationary/moving determination made for the pixels belonging to the mixed area in frame #n and the corresponding pixels in frame #n+l by the stationary/moving determining portion 202-2 is "moving".<br>
When the stationary/moving determination result indicating "moving" is supplied from the stationary/moving determining portion 202-2, and when the stationary/moving determination result indicating "stationary" is supplied from the stationary/moving determining portion 202-1, as<br><br>
discussed above, the area determining portion 203-1 determines that the corresponding pixels belong to an uncovered background area.<br>
Fig. 25 illustrates determination conditions for frame 5  #n made by the area specifying unit 103. When the<br>
determination result for the pixel in frame #n-2 located at the same image position as a pixel in frame #n to be processed and for the pixel in frame #n-l located at the same position as the pixel in frame #n is stationary, and<br>
10  when the determination result for the pixel in frame #n and the pixel in frame #n-l located at the same image position as the pixel in frame #n is moving, the area specifying unit 103 determines that the pixel in frame #n belongs to a covered background area.<br>
15      When the determination result for the pixel in frame #n and the pixel in frame #n-l located at the same image position as the pixel in frame #n is stationary, and when the determination result for the pixel in frame #n and the pixel in frame #n+l located at the same image position as<br>
20  the pixel in frame #n is stationary, the area specifying unit 103 determines that the pixel in frame #n belongs to the stationary area.<br>
When the determination result for the pixel in frame #n and the pixel in frame #n-l located at the same image<br>
25  position as the pixel in frame #n is moving, and when the<br><br>
determination result for the pixel in frame #n and the pixel in frame #n+l located at the same image position as the pixel in frame #n is moving, the area specifying unit 103 determines that the pixel in frame #n belongs to the moving area.<br>
When the determination result for the pixel in frame #n and the pixel in frame #n+l located at the same image position as the pixel in frame #n is moving, and when the determination result for the pixel in frame #n+l located at the same image position as the pixel in frame #n and the pixel in frame #n+2 located at the same image position as the pixel in frame #n is stationary, the area specifying unit 103 determines that the pixel in frame #n belongs to an uncovered background area.<br>
Figs. 26A through 26D illustrate examples of the area determination results obtained by the area specifying unit 103.  In Fig. 26A, the pixels which are determined to belong to a covered background area are indicated in white.  In Fig. 26B, the pixels which are determined to belong to an uncovered background area are indicated in white.<br>
In Fig. 26C, the pixels which are determined to belong to a moving area are indicated in white.  In Fig. 26D, the pixels which are determined to belong to a stationary area are indicated in white.<br>
Fig. 27 illustrates the area information indicating the<br><br>
mixed area, in the form of an image, selected from the area information output from the determining-flag-storing frame memory 206.  In Fig. 27, the pixels which are determined to belong to the covered background area or the uncovered background area, i.e., the pixels which are determined to belong to the mixed area, are indicated in white. The area information indicating the mixed area output from the determining-flag-storing frame memory 206 designates the mixed area and the portions having a texture surrounded by the portions without a texture in the foreground area.<br>
The area specifying processing performed by the area specifying unit 103 is described below with reference to the flowchart of Fig. 28.  In step S201, the frame memory 201 obtains an image of frame #n-2 through frame #n+2 including frame #n.<br>
In step S202, the stationary/moving determining portion 202-3 determines whether the determination result for the pixel in frame #n-l and the pixel in frame #n located at the same position is stationary.  If it is determined that the determination result is stationary, the process proceeds to step S203 in which the stationary/moving determining portion 202-2 determines whether the determination result for the pixel in frame #n and the pixel in frame #n+l located at the same position is stationary.<br>
If it is determined in step S203 that the determination<br><br><br>
result for the pixel in frame #n and the pixel in frame #n+l located at the same position is stationary, the process proceeds to step S204.  In step S204, the area determining portion 203-2 sets "1", which indicates that the pixel to be 5  processed belongs to the stationary area, in the stationary-area determining flag associated with the pixel to be processed. The area determining portion 203-2 supplies the stationary-area determining flag to the determining-flag-storing frame memory 204, and the process proceeds to step<br>
10  S205.<br>
If it is determined in step S202 that the determination result for the pixel in frame #n-l and the pixel in frame #n located at the same position is moving, or if it is determined in step S203 that the determination result for<br>
15  the pixel in frame #n and the pixel in frame #n+l located at the same position is moving, the pixel to be processed does not belong to a stationary area. Accordingly, the processing of step S204 is skipped, and the process proceeds to step S205.<br>
20      in step S205, the stationary/moving determining portion 202-3 determines whether the determination result for the pixel in frame #n-l and the pixel in frame #n located at the same position is moving,  if it is determined that the determination result is moving, the process proceeds to step<br>
25  S206 in which the stationary/moving determining portion 202-<br><br>
2 determines whether the determination result for the pixel in frame #n and the pixel in frame #n+l located at the same position is moving.<br>
If it is determined in step S206 that the determination result for the pixel in frame #n and the pixel in frame #n+l located at the same position is moving, the process proceeds to step S207.  In step S207, the area determining portion 203-2 sets "1", which indicates that the pixel to be processed belongs to a moving area, in the moving-area determining flag associated with the pixel to be processed. The area determining area 203-2 supplies the moving-area determining flag to the determining-flag-storing frame memory 204, and the process proceeds to step S208.<br>
If it is determined in step S205 that the determination result for the pixel in frame #n-l and the pixel in frame #n located at the same position is stationary, or if it is determined in step S206 that the determination result for the pixel in frame #n and the pixel in frame #n+l located at the same position is stationary, the pixel in frame #n does not belong to a moving area. Accordingly, the processing of step S207 is skipped, and the process proceeds to step S208.<br>
In step S208, the stationary/moving determining portion 202-4 determines whether the determination result for the pixel in frame #n-2 and the pixel in frame #n-l located at the same position is stationary.  If it is determined that<br><br>
the determination result is stationary, the process proceeds to step S209 in which the stationary/moving determining portion 202-3 determines whether the determination result for the pixel in frame #n-l and the pixel in frame #n<br>
5  located at the same position is moving.<br>
If it is determined in step S209 that the determination result for the pixel in frame #n-l and the pixel in frame #n located at the same position is moving, the process proceeds to step S210.  In step S210, the area determining portion<br>
0  203-3 sets "1", which indicates that the pixel to be processed belongs to a covered background area, in the covered-background-area determining flag associated with the pixel to be processed. The area determining portion 203-3 supplies the covered-background-area determining flag to the<br>
5  determining-flag-storing frame memory 204, and the process proceeds to step S211. The area determining portion 203-3 supplies the covered-background-area determining flag to the determining-flag-storing frame memory 204, and the process proceeds to step S211.<br>
0      If it is determined in step S208 that the determination result for the pixel in frame #n-2 and the pixel in frame #n-l located at the same position is moving, or if it is determined in step S209 that the pixel in frame #n-l and the pixel in frame #n located at the same position is stationary,<br>
5  the pixel in frame #n does not belong to a covered<br><br>
background area. Accordingly, the processing of step S210 is skipped, and the process proceeds to step S211.<br>
In step S211, the stationary/moving determining portion 202-2 determines whether the determination result for the 5  pixel in frame #n and the pixel in frame #n+l located at the same position is moving.  If it is determined in step S211 that the determination result is moving, the process proceeds to step S212 in which the stationary/moving determining portion 202-1 determines whether the<br>
10  determination result for the pixel in frame #n+l and the pixel in frame #n+2 located at the same position is stationary.<br>
If it is determined in step S212 that the determination result for the pixel in frame #n+l and the pixel in frame<br>
15  #n+2 located at the same position is stationary, the process proceeds to step S213.  In step S213, the area determining portion 203-1 sets "1", which indicates that the pixel to be processed belongs to an uncovered background area, in the uncovered-background-area determining flag associated with<br>
20  the pixel to be processed. The area determining portion 203-1 supplies the uncovered-background-flag determining flag to the determining-flag-storing frame memory 204, and the process proceeds to step S214.<br>
If it is determined in step S211 that the determination<br>
25  result for the pixel in frame #n and the pixel in frame #n+l<br><br>
located at the same position is stationary, or if it is determined in step S212 that the determination result for the pixel in frame #n+l and the pixel in frame #n+2 is moving, the pixel in frame #n does not belong to an 5  uncovered background area. Accordingly, the processing of step S213 is skipped, and the process proceeds to step S214.<br>
In step S214, the area specifying unit 103 determines whether the areas of all the pixels in frame #n are specified.  If it is determined that the areas of all the<br>
10  pixels in frame #n are not yet specified, the process<br>
returns to step S202, and the area specifying processing is repeated for the remaining pixels.<br>
If it is determined in step S214 that the areas of all the pixels in frame #n are specified, the process proceeds<br>
15  to step S215.  In step S215, the synthesizer 215 generates area information indicating the mixed area based on the uncovered-background-area determining flag and the covered-background-area determining flag stored in the determining-flag-storing frame memory 204, and also generates area<br>
20  information indicating to which of the uncovered background area, the stationary area, the moving area, or the covered background area each pixel belongs, and sets the generated area information in the determining-flag-storing frame memory 206.  The processing is then completed.<br>
25      As discussed above, the area specifying unit 103 is<br><br>
capable of generating area information indicating to which of the moving area, the stationary area, the uncovered background area, or the covered background area each of the pixels contained in a frame belongs.<br>
5      The area specifying unit 103 may apply logical OR to the area information corresponding to the uncovered background area and the area information corresponding to the covered background area so as to generate area information corresponding to the mixed area, and then may<br>
0 generate area information consisting of flags indicating to which of the moving area, the stationary area, or the mixed area the individual pixels contained in the frame belong.<br>
When the object corresponding to the foreground has a texture, the area specifying unit 103 is able to specify the<br>
5  moving area more precisely.<br>
The area specifying unit 103 is able to output the area information indicating the moving area as the area information indicating the foreground area, and outputs the area information indicating the stationary area as the area<br>
0  information indicating the background area.<br>
The embodiment has been described, assuming that the object corresponding to the background is stationary. However, the above-described area specifying processing can be applied even if the image corresponding to the background<br>
5  area contains motion.  For example, if the image<br><br><br>
corresponding to the background area is uniformly moving, the area specifying unit 103 shifts the overall image in accordance with this motion, and performs processing in a manner similar to the case in which the object corresponding 5  to the background is stationary.  If the image corresponding to the background area contains locally different motions, the area specifying unit 103 selects the pixels corresponding to the motions, and executes the above-described processing.<br>
10      Fig. 29 is a block diagram illustrating an example of another configuration of the area specifying unit 103. The area specifying unit 103 shown in Fig. 29 does not use a motion vector. A background image generator 301 generates a background image corresponding to an input image, and<br>
15  supplies the generated background image to a binary-object-image extracting portion 302.  The background image generator 301 extracts, for example, an image object corresponding to a background object contained in the input image, and generates the background image.<br>
20      An example of a model obtained by expanding in the time direction the pixel values of pixels aligned side-by-side in the moving direction of an image corresponding to a foreground object is shown in Fig. 30.  For example, if the moving direction of the image corresponding to the<br>
25  foreground object is horizontal with respect to the screen,<br><br>
the model shown in Fig. 30 is a model obtained by expanding the pixel values of pixels disposed side-by-side on a single line in the time domain.<br>
In Fig. 30, the line in frame #n is the same as the 5  line in frame #n-l and the line in frame #n+l.<br>
In frame #n/ the foreground components corresponding to the object contained in the sixth through seventeenth pixels from the left are contained in the second through thirteenth pixels from the left in frame #n-l and are also contained in<br>
10  the tenth through twenty-first pixel from the left in frame #n+l.<br>
In frame #n-l, the pixels belonging to the covered background area are the eleventh through thirteenth pixels from the left, and the pixels belonging to the uncovered<br>
15  background area are the second through fourth pixels from the left.  In frame #n, the pixels belonging to the covered background area are the fifteenth through seventeenth pixels from the left, and the pixels belonging to the uncovered background area are the sixth through eighth pixels from the<br>
20  left.  In frame #n+l, the pixels belonging to the covered background area are the nineteenth through twenty-first pixels from the left, and the pixels belonging to the uncovered background area are the tenth through twelfth pixels from the left.<br>
25      In frame #n-l, the pixels belonging to the background<br><br><br>
area are the first pixel from the left, and the fourteenth through twenty-first pixels from the left.  In frame #n, the pixels belonging to the background area are the first through fifth pixels from the left, and the eighteenth 5  through twenty-first pixels from the left.  In frame #n+l, the pixels belonging to the background area are the first through ninth pixels from the left.<br>
An example of the background image corresponding to the example shown in Fig. 30 generated by the background image<br>
10  generator 301 is shown in Fig. 31.  The background image consists of the pixels corresponding to the background object, and does not contain image components corresponding to the foreground object.<br>
The binary-object-image extracting portion 302<br>
15  generates a binary object image based on the correlation between the background image and the input image, and supplies the generated binary object image to a time change detector 303.<br>
Fig. 32 is a block diagram illustrating the<br>
20  configuration of the binary-object-image extracting portion 302. A correlation-value calculator 321 calculates the correlation between the background image supplied from the background image generator 301 and the input image so as to generate a correlation value, and supplies the generated<br>
25  correlation value to a threshold-value processor 322.<br><br><br>
The correlation-value calculator 321 applies equation (4) to, for example, 3x3-background image blocks having X4 at the center, as shown in Fig. 33A, and to, for example, 3x3-background image blocks having Y4 at the center which corresponds to the background image blocks, as shown in Fig. 33B, thereby calculating a correlation value corresponding to Y4.<br><br><br><br>
(4)<br>
(5) (6)<br>
The correlation-value calculator 321 supplies the correlation value calculated for each pixel as discussed above to the threshold-value processor 322.<br>
Alternatively, the correlation-value calculator 321 may apply equation (7) to, for example, 3x3-background image blocks having X4 at the center, as shown in Fig. 34A, and to, for example, 3x3-background image blocks having Y4 at the center which corresponds to the background image blocks, as shown in Fig. 34B, thereby calculating the sum of absolute values of differences corresponding to Y4.<br><br>
Sum of absolute values of differences      (7)<br>
The correlation-value calculator 321 supplies the sum of the absolute values of the differences calculated as described above to the threshold-value processor 322 as the<br>
5  correlation value.<br>
The threshold-value processor 322 compares the pixel value of the correlation image with a threshold value thO. If the correlation value is smaller than or equal to the threshold value thO, 1 is set in the pixel value of the<br>
0  binary object image.  If the correlation value is greater than the threshold value thO, 0 is set in the pixel value of the binary object image. The threshold-value processor 322 then outputs the binary object image whose pixel value is set to 0 or 1. The threshold-value processor 322 may store<br>
5  the threshold value thO therein in advance, or may use the threshold value thO input from an external source.<br>
Pig. 35 illustrates the binary object image corresponding to the model of the input image shown in Fig. 30.  In the binary object image, 0 is set in the pixel<br>
0  values of the pixels having a higher correlation with the background image.<br>
Fig. 36 is a block diagram illustrating the configuration of the time change detector 303. When determining the area of a pixel in frame #n, a frame memory<br><br>
341 stores a binary object image of frame #n-l, frame #n, and frame #n+l supplied from the binary-object-image extracting portion 302.<br>
An area determining portion 342 determines the area of 5  each pixel of frame #n based on the binary object image of frame #n-l, frame #n, and frame #n+l so as to generate area information, and outputs the generated area information.<br>
Fig. 37 illustrates the determinations made by the area determining portion 342.  When the pixel of interest of the 10  binary object image in frame #n is 0, the area determining portion 342 determines that the pixel of interest in frame #n belongs to the background area.<br>
When the pixel of interest of the binary object image in frame #n is 1, and when the corresponding pixel of the 15  binary object image in frame #n-l is 1, and when the<br>
corresponding pixel of the binary object image in frame #n+l is 1, the area determining portion 342 determines that the pixel of interest in frame #n belongs to the foreground area. When the pixel of interest of the binary object image 20  in frame #n is 1, and when the corresponding pixel of the<br>
binary object image in frame #n-l is 0, the area determining portion 342 determines that the pixel of interest in frame #n belongs to a covered background area.<br>
When the pixel of interest of the binary object image 25  in frame #n is 1. and when the corresponding pixel of the<br><br>
binary object image in frame #n+l is 0, the area determining portion 342 determines that the pixel of interest in frame #n belongs to an uncovered background area.<br>
Fig. 38 illustrates an example of the determinations 5  made by the time change detector 303 on the binary object image corresponding to the model of the input image shown in Fig. 30.  The time change detector 303 determines that the first through fifth pixels from the left in frame #n belong to the background area since the corresponding pixels of the<br>
10  binary object image in frame #n are 0.<br>
The time change detector 303 determines that the sixth through ninth pixels from the left belong to the uncovered background area since the pixels of the binary object image in frame #n are 1, and the corresponding pixels in frame<br>
15  #n+l are 0.<br>
The time change detector 303 determines that the tenth through thirteenth pixels from the left belong to the foreground area since the pixels of the binary object image in frame #n are 1, the corresponding pixels in frame #n-l<br>
20  are 1, and the corresponding pixels in frame #n+l are 1. The time change detector 303 determines that the fourteenth through seventeenth pixels from the left belong to the covered background area since the pixels of the binary object image in frame #n are 1, and the corresponding<br>
25  pixels in frame #n-l are 0.<br><br>
The time change detector 303 determines that the eighteenth through twenty-first pixels from the left belong to the background area since the corresponding pixels of the binary object image in frame #n are 0. 5      The area specifying processing performed by the area specifying unit 103 is described below with reference to the flowchart of Fig. 39.  In step S301, the background image generator 301 of the area specifying unit 103 extracts, for example, an image object corresponding to a background<br>
10  object contained in an input image based on the input image so as to generate a background image, and supplies the generated background image to the binary-object-image extracting portion 302.<br>
In step S302. the binary-object-image extracting<br>
15  portion 302 calculates a correlation value between the input image and the background image supplied from the background image generator 301 according to, for example, calculation discussed with reference to Figs. 33A and 33B.  In step S303, the binary-object-image extracting portion 302 computes a<br>
20  binary object image from the correlation value and the threshold value thO by, for example, comparing the correlation value with the threshold value thO.<br>
In step S304, the time change detector 303 executes the area determining processing, and the processing is completed.<br>
25      Details of the area determining processing in step S304<br><br>
are described below with reference to the flowchart of Fig. 40.  In step S321, the area determining portion 342 of the time change detector 303 determines whether the pixel of interest in frame #n stored in the frame memory 341 is 0. 5  If it is determined that the pixel of interest in frame #n is 0, the process proceeds to step S322.  In step S322, it is determined that the pixel of interest in frame #n belongs to the background area, and the processing is completed. If it is determined in step S321 that the pixel of<br>
10  interest in frame #n is 1, the process proceeds to step S323. In step S323, the area determining portion 342 of the time change detector 303 determines whether the pixel of interest in frame #n stored in the frame memory 341 is 1, and whether the corresponding pixel in frame #n-l is 0.  If it is<br>
15  determined that the pixel of interest in frame #n is 1 and the corresponding pixel in frame #n-l is 0, the process proceeds to step S324.  In step S324, it is determined that the pixel of interest in frame #n belongs to the covered background area, and the processing is completed.<br>
20      If it is determined in step S323 that the pixel of<br>
interest in frame #n is 0, or that the corresponding pixel in frame #n-l is 1, the process proceeds to step S325.  In step S325, the area determining portion 342 of the time change detector 303 determines whether the pixel of interest<br>
25  in frame #n stored in the frame memory 341 is 1, and whether<br><br>
the corresponding pixel in frame #n+l is 0.  If it is determined that the pixel of interest in frame #n is 1 and the corresponding pixel in frame #n+l is 0, the process proceeds to step S326.  In step S326, it is determined that 5  the pixel of interest in frame #n belongs to the uncovered background area, and the processing is completed.<br>
If it is determined in step S325 that the pixel of interest in frame #n is 0, or that the corresponding pixel in frame #n+l is 1, the process proceeds to step S327.  In<br>
10  step S327, the area determining portion 342 of the time<br>
change detector 303 determines that the pixel of interest in frame #n belongs to the foreground area, and the processing is completed.<br>
As discussed above, the area specifying unit 103 is<br>
15  able to specify, based on the correlation value between the input image and the corresponding background image, to which of the foreground area, the background area, the covered background area, or the uncovered background area each pixel of the input image belongs, and generates area information<br>
20  corresponding to the specified result.<br>
Fig. 41 is a block diagram illustrating another configuration of the area specifying unit 103.  The area specifying unit 103 uses a motion vector and positional information thereof supplied from the motion detector 102.<br>
25  The same elements as those shown in Fig. 29 are designated<br><br>
with like reference numerals, and an explanation thereof is thus omitted.<br>
A robust-processing portion 361 generates a robust binary object image based on binary object images of N 5  frames supplied from the binary-object-image extracting portion 302, and outputs the robust binary object image to the time change detector 303.<br>
Fig. 42 is a block diagram illustrating the configuration of the robust-processing portion 361.  A<br>
10  motion compensator 381 compensates for the motion of the<br>
binary object images of N frames based on the motion vector and the positional information thereof supplied from the motion detector 102, and outputs a motion-compensated binary object image to a switch 382.<br>
15      The motion compensation performed by the motion compensator 381 is discussed below with reference to examples shown in Figs. 43 and 44.  It is now assumed, for example, that the area in frame #n is to be processed.  When binary object images of frame #n-l, frame #n, and frame #n+l<br>
20  shown in Fig. 43 are input, the motion compensator 381 compensates for the motion of the binary object image of frame #n-l and the binary object image of frame #n+l, as indicated by the example shown in Fig. 44, based on the motion vector supplied from the motion detector 102, and<br>
25  supplies the motion-compensated binary object images to the<br><br><br>
switch 382.<br>
The switch 382 outputs the motion-compensated binary object image of the first frame to a frame memory 383-1, and outputs the motion-compensated binary object image of the 5  second frame to a frame memory 383-2.  Similarly, the switch 382 outputs the motion-compensated binary object images of the third through (N-l)-th frame to frame memories 383-3 through 383-(N-l), and outputs the motion-compensated binary object image of the N-th frame to a frame memory 383-N.<br>
10      The frame memory 383-1 stores the motion-compensated binary object image of the first frame, and outputs the stored binary object image to a weighting portion 384-1. The frame memory 383-2 stores the motion-compensated binary object image of the second frame, and outputs the stored<br>
15  binary object image to a weighting portion 384-2.<br>
Similarly, the frame memories 383-3 through 383-(N-l) stores the motion-compensated binary object images of the third through (N-l)-th frames, and outputs the stored binary object images to weighting portions 384-3 through 384-(N-l).<br>
20  The frame memory 383-N stores the motion-compensated binary object image of the N-th frame, and outputs the stored binary object image to a weighting portion 384-N.<br>
The weighting portion 384-1 multiplies the pixel value of the motion-compensated binary object image of the first<br>
25  frame supplied from the frame memory 383-1 by a<br><br>
predetermined weight wl, and supplies a weighted binary object image to an accumulator 385.  The weighting portion 384-2 multiplies the pixel value of the motion-compensated binary object image of the second frame supplied from the 5  frame memory 383-2 by a predetermined weight w2, and<br>
supplies the weighted binary object image to the accumulator 385.<br>
Likewise, the weighting portions 384-3 through 384-(N-1) multiply the pixel values of the motion-compensated<br>
10  binary object images of the third through (N-l)-th frames supplied from the frame memories 383-3 through 383-(N-l) by predetermined weights w3 through w(N-l), and supplies the weighted binary object images to the accumulator 385.  The weighting portion 384-N multiplies the pixel value of the<br>
15  motion-compensated binary object image of the N-th frame supplied from the frame memory 383-N by a predetermined weight wN, and supplies the weighted binary object image to the accumulator 385.<br>
The accumulator 385 accumulates the pixel values of the<br>
20  motion-compensated binary object images multiplied by the weights wl through wN of the first through N-th frames, and compares the accumulated pixel value with the predetermined threshold value thO, thereby generating the binary object image.<br>
25      As discussed above, the robust-processing portion 361<br><br>
generates a robust binary object image from N binary object images, and supplies it to the time change detector 303. Accordingly, the area specifying unit 103 configured as shown in Fig. 41 is able to specify the area more precisely 5  than that shown in Fig. 29 even if noise is contained in the input image.<br>
The area specifying processing performed by the area specifying unit 103 configured as shown in Fig. 41 is described below with reference to the flowchart of Fig. 45.<br>
10  The processings of step S341 through step S343 are similar to those of step S301 through step S303 discussed with reference to the flowchart of Fig. 39, and an explanation thereof is thus omitted.<br>
In step S344, the robust-processing portion 361<br>
15  performs the robust processing.<br>
In step S345, the time change detector 303 performs the area determining processing, and the processing is completed. Details of the processing of step S345 are similar to the processing discussed with reference to the flowchart of Fig.<br>
20  40, and an explanation thereof is thus omitted.<br>
Details of the robust processing corresponding to the processing of step S344 in Fig. 45 are given below with reference to the flowchart of Fig. 46.  In step S361, the motion compensator 381 performs the motion compensation of<br>
25  an input binary object image based on the motion vector and<br><br>
the positional information thereof supplied from the motion detector 102.  In step S362, one of the frame memories 383-1 through 383-N stores the corresponding motion-compensated binary object image supplied via the switch 382. 5      In step S363, the robust-processing portion 361<br>
determines whether N binary object images are stored.  If it is determined that N binary object images are not stored, the process returns to step S361, and the processing for compensating for the motion of the binary object image and<br>
10  the processing for storing the binary object image are repeated.<br>
If it is determined in step S363 that N binary object images are stored, the process proceeds to step S364 in which weighting is performed.  In step S364, the weighting<br>
15  portions 384-1 through 384-N multiply the corresponding N binary object images by the weights wl through wN.<br>
In step S365, the accumulator 385 accumulates the N weighted binary object images.<br>
In step S366, the accumulator 385 generates a binary<br>
20  object image from the accumulated images by, for example, comparing the accumulated value with a predetermined threshold value thl, and the processing is completed. As discussed above, the area specifying unit 103 configured as shown in Fig. 41 is able to generate area<br>
25  information based on the robust binary object image.<br><br><br>
As is seen from the foregoing description, the area specifying unit 103 is able to generate area information indicating to which of the moving area, the stationary area, the uncovered background area, or the covered background 5  area each pixel contained in a frame belongs.<br>
Fig. 47 is a block diagram illustrating the configuration of the mixture-ratio calculator 104.  An estimated-mixture-ratio processor 401 calculates an estimated mixture ratio for each pixel by calculating a<br>
10  model of a covered background area based on the motion<br>
vector and the positional information thereof supplied from the motion detector 102 and the input image, and supplies the calculated estimated mixture ratio to a mixture-ratio determining portion 403.<br>
15      An estimated-mixture-ratio processor 402 calculates an estimated mixture ratio for each pixel by calculating a model of an uncovered background area based on the motion vector and the positional information thereof supplied from the motion detector 102 and the input image, and supplies<br>
20  the calculated estimated mixture ratio to the mixture-ratio determining portion 403.<br>
Since it can be assumed that the object corresponding to the foreground is moving with constant velocity within the shutter time, the mixture ratio a of the pixels<br>
25  belonging to a mixed area exhibits the following<br><br><br>
characteristics.  That is, the mixture ratio a linearly changes according to the positional change in the pixels. If the positional change in the pixels is one-dimensional, a change in the mixture ratio a can be represented linearly. 5  If the positional change in the pixels is two-dimensional, a change in the mixture ratio a can be represented on a plane.<br>
Since the period of one frame is short, it can be assumed that the object corresponding to the foreground is a rigid body moving with constant velocity. 10      The gradient of the mixture ratio a is inversely<br>
proportional to the amount of movement v within the shutter time of the foreground.<br>
An example of the ideal mixture ratio a is shown in Fig. 48.  The gradient 1 of the ideal mixture ratio a in the 15  mixed area can be represented by the reciprocal of the amount of movement v.<br>
As shown in Fig. 48, the ideal mixture ratio a has the value of 1 in the background area, the value of 0 in the foreground area, and the value of greater than 0 and smaller 20  than 1 in the mixed area.<br>
In the example shown in Fig. 49, the pixel value C06 of the seventh pixel from the left in frame #n can be indicated by equation (8) by using the pixel value P06 of the seventh pixel from the left in frame #n-l.<br><br><br><br>
C06 = B06 / v + B06 / v + F01 / v + F02 / v<br>
- P06 / v + P06 / v + FOl / v + F02 / v	(8)<br>
In equation (8), the pixel value C06 is indicated by a pixel value M of the pixel in the mixed area, while the pixel value P06 is indicated by a pixel value B of the pixel in the background area. That is, the pixel value M of the pixel in the mixed area and the pixel value B of the pixel in the background area can be represented by equations (9) and (10), respectively.<br>
M = C06	(9)<br>
B = P06	(10)<br>
In equation (8), 2/v corresponds to the mixture ratio a. Since the amount of movement v is 4, the mixture ratio a of the seventh pixel from the left in frame #n is 0.5.<br>
As discussed above, the pixel value C in frame #n of interest is considered as the pixel value in the mixed area, while the pixel value P of frame #n-l prior to frame #n is considered as the pixel value in the background area. Accordingly, equation (3) indicating the mixture ratio a can be represented by equation (11):<br>
C = a â€¢ P+f	(11)<br>
where f in equation (11) indicates the sum of the foreground<br><br><br>
components 2Â±Fi/v contained in the pixels of interest.  The variables contained in equation (11) are two factors, i.e., the mixture ratio a and the sum f of the foreground components. 5      Similarly, a model obtained by expanding in the time direction the pixel values in which the amount of movement is 4 and the number of virtual divided portions is 4 in an uncovered background area is shown in Fig. 50.<br>
As in the representation of the covered background area,<br>
10  in the uncovered background area, the pixel value C of frame #n of interest is considered as the pixel value in the mixed area, while the pixel value N of frame #n+l subsequent to frame #n is considered as the background area.  Accordingly, equation (3) indicating the mixture ratio a can be<br>
15  represented by equation (12).<br>
C = a â€¢ N+f	(12)<br>
The embodiment has been described, assuming that the background object is stationary.  However, equations (8) through (12) can be applied to the case in which the<br>
20  background object is moving by using the pixel value of a pixel located corresponding to the amount of movement v of the background.  It is now assumed, for example, in Fig. 49 that the amount of movement v of the object corresponding to the background is 2, and the number of virtual divided<br>
25  portions is 2.  In this case, when the object corresponding<br><br><br>
to the background is moving to the right in Fig. 49, the pixel value B of the pixel in the background area in equation (10) is represented by a pixel value P04.<br>
Since equations (11) and (12) each contain two variables, the mixture ratio a  cannot be determined without modifying the equations.<br>
Accordingly, the mixture ratio a is determined by formulating equations for the pixel belonging to the mixed area and the corresponding pixel belonging to the background area in accordance with the amount of movement v of the foreground object.<br>
As the amount of movement v, the motion vector and the positional information thereof supplied from the motion detector 102 are utilized.<br>
A description is now given of a calculation of the estimated mixture ratio by the estimated-mixture-ratio processor 401 by using the amount of movement v based on the model corresponding to the covered background area.<br>
In the example shown in Fig. 49 corresponding to the covered background area, equation (13) can hold true for P02 of frame #n-l, and equation (14) can hold true for C06 of frame #n.<br><br><br><br>
In equations (13) and (14), the value corresponding to the mixture ratio a is the same, i.e., 2/v.  In equations (13) and (14), the value corresponding to the sum of the foreground components are the same, i.e.,<br><br>
That is, the mixture ratio a and the sum of the foreground components of P02 of frame #n-l are the same as those of C06 of frame #n, and it can be said that C06 of frame #n corresponds to P02 of frame #n-l because of the motion of the foreground object.<br>
By using the assumption that the object corresponding to the foreground is moving with constant velocity over a plurality of frames, and that the foreground components are uniform, it is possible to select a plurality of sets, each set consisting of a pixel belonging to the mixed area and the corresponding pixel belonging to the background area whose mixture ratio a and the sum of the foreground components are the same, in accordance with the amount of movement v of the foreground object.  For example, five sets, each set consisting of a pixel belonging to the mixed area and the corresponding pixel belonging to the background area,<br><br><br>
can be prepared.<br>
For example, as shown in Fig. 51, in accordance with<br>
the amount of movement v of the foreground object, pixels<br>
Mtl through Mt5 belonging to the mixed area and the 5  corresponding pixels Btl through Bt5 belonging to the<br>
background area, respectively, can be selected from frame<br>
#n-3 through frame #n+2.<br>
Equations (15) through (19) can hold true for the<br>
pixels Mtl through Mt5 and the pixels Btl through Bt5, 10  respectively:<br>
Mtl = a â€¢ Btl+f	(15)<br>
Mt2 = a â€¢ Bt2+f	(16)<br>
Mt3 = a â€¢ Bt3+f	(17)<br>
Mt4 = a â€¢ Bt4+f	(18)<br>
15       Mt5 = a â€¢ Bt5+f	(19)<br>
where f in equations (15) through (19) indicate the sum of<br>
the foreground components 2Â±Fi/v.<br>
In the five equations, i.e., in equations (15) through<br>
(19), the common variables, i.e., the mixture ratio a and 20  the sum f of the foreground components are contained.<br>
Accordingly, by applying the method of least squares to<br>
equations (15) through (19), the mixture ratio a and the sum<br>
f of the foreground components can be obtained.<br>
For example, the estimated-mixture-ratio processor 401 25  stores a normal equation for calculating the mixture ratio a<br><br>
and the sum f of the foreground components in advance, and sets a pixel value belonging to the mixed area and the corresponding pixel value belonging to the background area in the stored normal equation, thereby calculating the 5  mixture ratio a and the sum f of the foreground components by a matrix calculation method.<br>
In the case in which the background is moving, as shown in the example of Fig. 52, the estimated-mixture-ratio processor 401 sets a pixel value belonging to the mixed area<br>
10  and the corresponding pixel value belonging to the<br>
background area in the normal equation according to the amount of movement v" of the background, and then calculates the mixture ratio a and the sum f of the foreground components by a matrix calculation method.<br>
15      More specifically, assuming that a plurality of<br>
corresponding pixels belong to the covered background area, the estimated-mixture-ratio processor 401 extracts, based on the amount of movement v of the foreground object among a plurality of objects, data of a plurality of corresponding<br>
20  mixed pixels indicating the pixel values (pixel data) of the pixels of a predetermined number of consecutive frames in which a plurality of objects are mixed, and also extracts, based on the amount of movement v" of the background object from a plurality of objects, background pixel data<br>
25  indicating the pixel values (pixel data) of the pixels<br><br><br>
forming the background object corresponding to the mixed pixel data, the background pixel data being extracted from a frame different from the frames in which the mixed pixel data is present among a predetermined number of consecutive 5  frames.  The estimated-mixture-ratio processor 401 then<br>
generate a relational expression of the mixed pixel data and the background pixel data corresponding to the predetermined number of consecutive frames based on the extracted mixed pixel data and the background pixel data, and detects a<br>
10  single mixture ratio corresponding to the predetermined number of consecutive frames based on the relational expression.  The detected mixture ratio is set to the estimated mixture ratio.<br>
The estimated-mixture-ratio processor 401 calculates<br>
15  the estimated mixture ratio using the amount of movement v based on a model corresponding to the covered background area.<br>
Similarly, the estimated-mixture-ratio processor 402 calculates the estimated mixture ratio using the amount of<br>
20  movement v based on a model corresponding to the uncovered background area.  In the model corresponding to the uncovered background area, the corresponding pixel belonging to the background area is selected from the frame subsequent to the frame having the pixel of interest.<br>
25      More specifically, assuming that a plurality of<br><br>
corresponding pixels belong to the uncovered background area, the estimated-mixture-ratio processor 402 extracts, based on the amount of movement v of the foreground object among a plurality of objects, data of a plurality of corresponding 5  mixed pixels indicating the pixel values (pixel data) of the pixels of a predetermined number of consecutive frames in which a plurality of objects are mixed, and also extracts, based on the amount of movement v" of the background object from a plurality of objects, background pixel data<br>
10  indicating the pixel values (pixel data) of the pixels forming the background object corresponding to the mixed pixel data, the background pixel data being extracted from a frame different from the frames in which the mixed pixel data is present among a predetermined number of consecutive<br>
15  frames.  The estimated-mixture-ratio processor 402 then generates a relational expression of the mixed pixel data and the background pixel data corresponding to the predetermined number of consecutive frames based on the extracted mixed pixel data and the background pixel data,<br>
20  and detects a single mixture ratio corresponding to the predetermined number of consecutive frames based on the relational expression.  The detected mixture ratio is set to the estimated mixture ratio.<br>
Fig. 53 is a block diagram illustrating the<br>
25  configuration of the estimated-mixture-ratio processor 401<br><br>
for calculating the estimated mixture ratio by using the amount of movement v based on a model corresponding to the covered background area.<br>
A frame memory 421 stores a plurality of frames of an 5  input image and supplies the stored frames to a mixture-ratio calculator 422.  The frame memory 421 stores, for example, six frames, in units of frames, and supplies the stored six frames to the mixture-ratio calculator 422.<br>
The mixture-ratio calculator 422 stores a normal 10  equation for calculating the mixture ratio a and the sum f of the foreground components in advance.<br>
The mixture-ratio calculator 422 sets in the normal equation a pixel value belonging to the mixed area and the corresponding pixel value corresponding to the background 15  area contained in the frames supplied from the frame memory 421.  The mixture-ratio calculator 422 solves the normal equation in which the pixel value belonging to the mixed area and the corresponding pixel value belonging to the background area are set according to a matrix solution 20  method so as to obtain the estimated mixture ratio, and outputs the calculated estimated mixture ratio.<br>
Fig. 54 is a block diagram illustrating the configuration of the mixture-ratio calculator 422.<br>
A normal-equation adder 441 stores a normal equation 25  for calculating the estimated mixture ratio in advance.<br><br>
The normal-equation adder 441 sets a corresponding value belonging to the mixed area and the corresponding value belonging to the background area contained in an image of M frames supplied from the frame memory 421.  The normal-5  equation adder 441 supplies the normal equation in which the pixel value belonging to the mixed area and the corresponding pixel value belonging to the background area are set to a normal-equation calculator 442.<br>
The normal-equation calculator 442 solves the normal<br>
10  equation in which the pixel values are set supplied from the normal-equation adder 441 by applying, for example, a sweep-out method (Gauss-Jordan elimination) so as to obtain the estimated mixture ratio, and outputs the calculated mixture ratio.<br>
15      As discussed above, the estimated-mixture-ratio<br>
processor 401 calculates the estimated mixture ratio by using the amount of movement v based on a model corresponding to the covered background area.<br>
The estimated-mixture-ratio processor 402 has a<br>
20  configuration similar to the estimated-mixture-ratio<br>
processor 401, and an explanation thereof is thus omitted.<br>
Fig. 55 illustrates an example of the estimated mixture ratio calculated by the estimated-mixture-ratio processor 401.  The estimated mixture ratio shown in Fig. 55 is the<br>
25  result represented by one line and obtained by calculating<br><br>
the normal equations in which seven pairs of pixels are set when the movement v of the foreground object moving with constant velocity is 11.<br>
It is seen, as shown in Fig. 48, that the estimated 5  mixture ratio changes almost linearly in the mixed area. Referring back to Fig. 47, the mixture-ratio determining portion 403 sets the mixture ratio a based on the area information supplied from the area specifying unit 101 and indicating to which of the foreground area, the<br>
10  background area, the covered background area, or the<br>
uncovered background area the pixel for which the mixture ratio a is to be calculated belongs.  The mixture-ratio determining portion 403 sets the mixture ratio a to 0 when the corresponding pixel belongs to the foreground area, and<br>
15  sets the mixture ratio a to 1 when the corresponding pixel belongs to the background area. When the corresponding pixel belongs to the covered background area, the mixture-ratio determining portion 403 sets the mixture ratio a to the estimated mixture ratio supplied from the estimated-<br>
20  mixture-ratio processor 401. When the corresponding pixel belongs to the uncovered background area, the mixture-ratio determining portion 403 sets the mixture ratio a to the estimated mixture ratio supplied from the estimated-mixture-ratio processor 402.  The mixture-ratio determining portion<br>
25  403 outputs the mixture ratio a which has been set based on<br><br>
the area information.<br>
In this manner, the mixture-ratio calculator 104 is able to calculate the mixture ratio a for each pixel contained in the image and output the calculated mixture 5  ratio a.<br>
Fig. 56 is a block diagram illustrating another configuration of the mixture-ratio calculator 104.  A selector 461 supplies a pixel belonging to the covered background area and the corresponding pixels in the previous<br>
10  and subsequent frames to an estimated-mixture-ratio<br>
processor 462 based on the area information supplied from the area specifying unit 103.  The selector 461 supplies a pixel belonging to the uncovered background area and the corresponding pixels in the previous and subsequent frames<br>
15  to an estimated-mixture-ratio processor 463 based on the<br>
area information supplied from the area specifying unit 103.<br>
The estimated-mixture-ratio processor 462 calculates the estimated mixture ratio of the pixel of interest belonging to the covered background area according to the<br>
20  normal equation corresponding to the covered background area based on the motion vector and the positional information thereof supplied from the motion detector 102 and the pixel values input from the selector 461, and supplies the calculated estimated mixture ratio to a selector 464.<br>
25      The estimated-mixture-ratio processor 463 calculates<br><br>
the estimated mixture ratio of the pixel of Interest belonging to the uncovered background area according to the normal equation corresponding to the covered background area based on the motion vector and the positional information 5  thereof supplied from the motion detector 102 and the pixel values input from the selector 461, and supplies the calculated estimated mixture ratio to the selector 464.<br>
Based on the area information supplied from the area specifying unit 103, the selector 464 sets the mixture ratio<br>
10  a to 0 when the pixel of interest belongs to the foreground area, and sets the mixture ratio a to 1 when the pixel of interest belongs to the background area.  When the pixel of interest belongs to the covered background area, the selector 464 selects the estimated mixture ratio supplied<br>
15  from the estimated-mixture-ratio processor 462 and sets it as the mixture ratio a.  When the pixel of interest belongs to the uncovered background area, the selector 464 selects the estimated mixture ratio supplied from the estimated-mixture-ratio processor 463 and sets it as the mixture ratio<br>
20  a.  The selector 464 then outputs the mixture ratio a which has been selected and set based on the area information.<br>
As discussed above, the mixture-ratio calculator 104 configured as shown in Fig. 56 is able to calculate the mixture ratio a for each pixel contained in the image, and<br>
25  outputs the calculated mixture ratio a.<br><br>
The calculation processing for the mixture ratio a performed by the mixture-ratio calculator 104 is discussed below with reference to the flowchart of Fig. 57.  In step S501, the mixture-ratio calculator 104 obtains area 5  information supplied from the area specifying unit 101.  In step S502, the estimated-mixture-ratio processor 401 executes the processing for estimating the mixture ratio by using a model corresponding to a covered background area based on a motion vector and positional information thereof<br>
10  supplied from the motion vector 102, and supplies the<br>
estimated mixture ratio to the mixture-ratio determining portion 403.  Details of the processing for estimating the mixture ratio are discussed below with reference to the flowchart of Fig. 58.<br>
15      In step S503, the estimated-mixture-ratio processor 402 executes the processing for estimating the mixture ratio by using a model corresponding to an uncovered background area based on a motion vector and positional information thereof supplied from the motion vector 102, and supplies the<br>
20  estimated mixture ratio to the mixture-ratio determining portion 403.<br>
In step S504, the mixture-ratio calculator 104 determines whether the mixture ratios have been estimated for the whole frame.  If it is determined that the mixture<br>
25  ratios have not yet be estimated for the whole frame, the<br><br>
process returns to step S502, and the processing for estimating the mixture ratio for the subsequent pixel is executed.<br>
If it is determined in step S504 that the mixture 5  ratios have been estimated for the whole frame, the process proceeds to step S505.  In step S505, the mixture-ratio determining portion 403 sets the mixture ratio based on the area information supplied from the area specifying unit 101 and indicating to which of the foreground area, the<br>
10  background area, the covered background area, or the<br>
uncovered background area the pixel for which the mixture ratio a is to be calculated belongs.  The mixture-ratio determining portion 403 sets the mixture ratio a to 0 when the corresponding pixel belongs to the foreground area, and<br>
15  sets the mixture ratio a to 1 when the corresponding pixel belongs to the background area.  When the corresponding pixel belongs to the covered background area, the mixture-ratio determining portion 403 sets the estimated mixture ratio supplied from the estimated-mixture-ratio processor<br>
20  401 as the mixture ratio a.  When the corresponding pixel belongs to the uncovered background area, the mixture-ratio determining portion 403 sets the estimated mixture ratio supplied from the estimated-mixture-ratio processor 402 as the mixture ratio a.  The processing is then completed.<br>
25      As discussed above, the mixture-ratio calculator 104 is<br><br>
able to calculate the mixture ratio a, which indicates a feature quantity corresponding to each pixel, based on the motion vector and the positional information thereof supplied from the motion vector 102, the area information 5  supplied from the area specifying unit 101, and the input image.<br>
By utilizing the mixture ratio a, it is possible to separate the foreground components and the background components contained in the pixel values while maintaining<br>
10  the information of motion blur contained in the image corresponding to the moving object.<br>
The processing of the mixture-ratio calculator 104 configured as shown in Fig. 56 is similar to that discussed with reference to the flowchart of Fig. 57, and an<br>
15  explanation thereof is thus omitted.<br>
A description is now given of, with reference to the flowchart of Fig. 57, the calculation processing executed by the estimated-mixture-ratio processor 401 in step S502 in which the mixture ratio is estimated according to the model<br>
20  of the covered background area.<br>
In step S521, the normal-equation adder 441 of the mixture-ratio calculator 442 reads the motion vector and the positional information thereof supplied from the motion detector 102 so as to obtain the amount of motion v.<br>
25      In step S522, the normal-equation adder 441 selects the<br><br>
pixels from the image of M frames supplied from the frame memory 421, and sets the selected pixels in a prestored normal equation.<br>
In step S523, the normal-equation adder 441 determines 5  whether the setting of the pixel values of the corresponding pixels is finished.  If it is determined that the setting of the pixel values of the corresponding pixels is not finished, the process returns to step S522 in which the processing for setting the pixel values is repeated.<br>
10      If it is determined in step S523 that the setting of the pixel values of the corresponding pixels is finished, the process proceeds to step S524.  In step S524, the normal-equation adder 441 supplies the normal equation in which the pixel values are set to the normal-equation<br>
15  calculator 442, and the normal-equation calculator 442 solves the normal equation by applying, for example, a sweep-out method (Gauss-Jordan elimination) so as to obtain the estimated mixture ratio.  The processing is then completed.<br>
20      As discussed above, the estimated-mixture ratio<br>
processor 401 is able to calculate the estimated mixture ratio.<br>
The mixture-ratio estimating processing executed by the estimated-mixture-ratio processor 402 in step S503 of Fig.<br>
25  57 in which the mixture ratio is estimated by using the<br><br>
model corresponding to the uncovered background area is similar to the processing executed by using the normal equation corresponding to the model of the uncovered background area indicated by the flowchart of Fig. 58, and 5  an explanation thereof is thus omitted.<br>
The processing executed by the estimated-mixture-ratio processor 462 is similar to that by the estimated-mixture-ratio processor 401, and an explanation thereof is thus omitted.  The processing executed by the estimated-mixture-<br>
10  ratio processor 463 is similar to that by the estimated-mixture-ratio processor 402, and an explanation thereof is thus omitted.<br>
The foreground/background separator 105 is discussed below.  Fig. 59 is a block diagram illustrating an example<br>
15  of the configuration of the foreground/background separator 105.  The input image supplied to the foreground/background separator 105 is supplied to a separating portion 601, a switch 602, and a switch 604.  The area information supplied from the area specifying unit 103 and indicating the<br>
20  information of the covered background area and the uncovered background area is supplied to the separating portion 601. The area information indicating the foreground area is supplied to the switch 602.  The area information indicating the background area supplied to the switch 604.<br>
25      The mixture ratio a supplied from the mixture-ratio<br><br>
calculator 104 is supplied to the separating portion 601.<br>
The separating portion 601 separates the foreground components from the input image based on the area information indicating the covered background area, the area 5  information indicating the uncovered background area, and the mixture ratio a, and supplies the separated foreground components to a synthesizer 603.  The separating portion 601 also separates the background components from the input image, and supplies the separated background components to a<br>
10  synthesizer 605.<br>
The switch 602 is closed when a pixel corresponding to the foreground is input based on the area information indicating the foreground area, and supplies only the pixels corresponding to the foreground contained in the input image<br>
15  to the synthesizer 603.<br>
The switch 604 is closed when a pixel corresponding to the background is input based on the area information indicating the background area, and supplies only the pixels corresponding to the background contained in the input image<br>
20  to the synthesizer 605.<br>
The synthesizer 603 synthesizes a foreground component image based on the foreground components supplied from the separating portion 601 and the pixels corresponding to the foreground supplied from the switch 602, and outputs the<br>
25  synthesized foreground component image.  Since the<br><br>
foreground area and the mixed area do not overlap, the synthesizer 603 applies, for example, logical OR to the foreground components and the foreground pixels, thereby synthesizing the foreground component image. 5      In the initializing processing executed at the start of the synthesizing processing for the foreground component image, the synthesizer 603 stores an image whose pixel values are all 0 in a built-in frame memory.  Then, in the synthesizing processing for the foreground component image,<br>
10  the synthesizer 603 stores the foreground component image (overwrites the previous image by the foreground component image).  Accordingly, 0 is stored in the pixels corresponding to the background area in the foreground component image output from the synthesizer 603.<br>
15      The synthesizer 605 synthesizes a background component image based on the background components supplied from the separating portion 601 and the pixels corresponding to the background supplied from the switch 604. and outputs the synthesized background component image.  Since the<br>
20  background area and the mixed area do not overlap, the synthesizer 605 applies, for example, logical OR to the background components and the background pixels, thereby synthesizing the background component image.<br>
In the initializing processing executed at the start of<br>
25  the synthesizing processing for the background component<br><br><br>
image, the synthesizer 605 stores an image whose pixel values are all 0 in a built-in frame memory.  Then, in the synthesizing processing for the background component image, the synthesizer 605 stores the background component image 5  (overwrites the previous image by the background component image).  Accordingly, 0 is stored in the pixels corresponding to the foreground area in the background component image output from the synthesizer 605.<br>
Fig. 60A illustrates the input image input into the<br>
10  foreground/background separator 105 and the foreground<br>
component image and the background component image output from the foreground/background separator 105.  Fig. 60B illustrates a model of the input image input into the foreground/background separator 105 and the foreground<br>
15  component image and the background component image output from the foreground/background separator 105.<br>
Fig. 60A is a schematic diagram illustrating the image to be displayed, and Fig. 60B illustrates a model obtained by expanding in the time direction the pixels disposed in<br>
20  one line including the pixels belonging to the foreground area, the pixels belonging to the background area, and the pixels belonging to the mixed area corresponding to Fig. 60A.<br>
As shown in Figs. 60A and 60B, the background component image output from the foreground/background separator 105<br>
25  consists of the pixels belonging to the background area and<br><br>
the background components contained in the pixels of the mixed area.<br>
As shown in Figs. 60A and 60B, the foreground component image output from the foreground/background separator 105<br>
5  consists of the pixel belonging to the foreground area and the foreground components contained in the pixels of the mixed area.<br>
The pixel values of the pixels in the mixed area are separated into the background components and the foreground<br>
0  components by the foreground/background separator 105.  The separated background components form the background component image together with the pixels belonging to the background area.  The separated foreground components form the foreground component image together with the pixels<br>
5  belonging to the foreground area.<br>
As discussed above, in the foreground component image, the pixel values of the pixels corresponding to the background area are set to 0, and significant pixel values are set in the pixels corresponding to the foreground area<br>
0  and the pixels corresponding to the mixed area.  Similarly, in the background component image, the pixel values of the pixels corresponding to the foreground area are set to 0, and significant pixel values are set in the pixels corresponding to the background area and the pixels<br>
5  corresponding to the mixed area.<br><br><br>
A description is given below of the processing executed by the separating portion 601 for separating the foreground components and the background components from the pixels belonging to the mixed area. 5      Fig. 61 illustrates a model of an image indicating foreground components and background components in two frames including a foreground object moving from the left to the right in Fig. 61.  In the model of the image shown in Fig. 61, the amount of movement v is 4, and the number of<br>
10  virtual divided portions is 4.<br>
In frame #n, the leftmost pixel and the fourteenth through eighteenth pixels from the left consist of only the background components and belong to the background area.  In frame #n, the second through fourth pixels from the left<br>
15  contain the background components and the foreground<br>
components, and belong to the uncovered background area.  In frame #n, the eleventh through thirteenth pixels from the left contain background components and foreground components, and belong to the covered background area.  In frame #n, the<br>
20  fifth through tenth pixels from the left consist of only the foreground components, and belong to the foreground area.<br>
In frame #n+l, the first through fifth pixels from the left and the eighteenth pixel from the left consist of only the background components, and belong to the background area.<br>
25  In frame #n+l, the sixth through eighth pixels from the left<br><br>
contain background components and foreground components, and belong to the uncovered background area.  In frame #n+l, the fifteenth through seventeenth pixels from the left contain background components and foreground components, and belong 5  to the covered background area.  In frame #n+l, the ninth through fourteenth pixels from the left consist of only the foreground components, and belong to the foreground area.<br>
Fig. 62 illustrates the processing for separating the foreground components from the pixels belonging to the 10  covered background area.  In Fig. 62, al through al8<br>
indicate mixture ratios of the individual pixels of frame #n. In Fig. 62, the fifteenth through seventeenth pixels from the left belong to the covered background area.<br>
The pixel value C15 of the fifteenth pixel from the 15  left in frame #n can be expressed by equation (20): C15 = B15/v+F09/v+F08/v+F07/v = ccl5Â»B15+F09/v+F08/v+F07/v<br>
= al5Â»P15+F09/v+F08/v+F07/v	(20)<br>
where al5 indicates the mixture ratio of the fifteenth pixel 20  from the left in frame #n, and P15 designates the pixel value of the fifteenth pixel from the left in frame #n-l.<br>
The sum fl5 of the foreground components of the fifteenth pixel from the left in frame #n can be expressed by equation (21) based on equation (20).<br><br><br>
fl5 = F09/V+F08/V+F07/V<br>
= C15-al5Â»P15	(21)<br>
Similarly, the sum fl6 of the foreground components of the sixteenth pixel from the left in frame #n can be 5  expressed by equation (22), and the sum fl7 of the<br>
foreground components of the seventeenth pixel from the left in frame #n can be expressed by equation (23).<br>
fl6 = C16-ccl6Â»P16	(22)<br>
fl7 = C17-al7*P17	(23)<br>
10      In this manner, the foreground components fc contained in the pixel value C of the pixel belonging to the covered background area can be expressed by equation (24):<br>
fc = C-aÂ«P	(24)<br>
where P designates the pixel value of the corresponding 15  pixel in the previous frame.<br>
Fig. 63 illustrates the processing for separating the foreground components from the pixels belonging to the uncovered background area.  In Fig. 63, al through al8 indicate mixture ratios of the individual pixels of frame #n. 20  In Fig. 63, the second through fourth pixels from the left belong to the uncovered background area.<br>
The pixel value C02 of the second pixel from the left in frame #n can be expressed by equation (25):<br><br><br>
C02 = B02/v+B02/v+B02/v+F01/v = a2*B02+F01/v<br>
= a2Â»N02+F01/v	(25)<br>
where a2 indicates the mixture ratio of the second pixel 5  from the left in frame #n, and N02 designates the pixel value of the second pixel from the left in frame #n+l.<br>
The sum f02 of the foreground components of the second pixel from the left in frame #n can be expressed by equation (26) based on equation (25). 10      f02 = FOl/v<br>
= C02-a2Â«N02	(26)<br>
Similarly, the sum f03 of the foreground components of the third pixel from the left in frame #n can be expressed by equation (27), and the sum f04 of the foreground 15  components of the fourth pixel from the left in frame #n can be expressed by equation (28).<br>
f03 = C03-a3*N03	(27)<br>
f04 = C04-a4Â«N04	(28)<br>
In this manner, the foreground components fu contained 20  in the pixel value C of the pixel belonging to the uncovered background area can be expressed by equation (29):<br>
fu = C-aÂ«N	(29)<br>
where N designates the pixel value of the corresponding pixel in the subsequent frame. 25      As discussed above, the separating portion 601 is able<br><br>
to separate the foreground components from the pixels belonging to the mixed area and the background components from the pixels belonging to the mixed area based on the information indicating the covered background area and the 5  information indicating the uncovered background area<br>
contained in the area information, and the mixture ratio a for each pixel.<br>
Fig. 64 is a block diagram illustrating an example of the configuration of the separating portion 601 for<br>
10  executing the above-described processing.  An image input into the separating portion 601 is supplied to a frame memory 621, and the area Information indicating the covered background area and the uncovered background area supplied from the mixture-ratio calculator 104 and the mixture ratio<br>
15  a are supplied to a separation processing block 622.<br>
The frame memory 621 stores the input images in units of frames.  When a frame to be processed is frame #n, the frame memory 621 stores frame #n-l, which is the frame one frame before frame #n, frame #n, and frame #n+l, which is<br>
20  the frame one frame after frame #n.<br>
The frame memory 621 supplies the corresponding pixels in frame #n-l, frame #n, and frame #n+l to the separation processing block 622.<br>
The separation processing block 622 applies the<br>
25  calculations discussed with reference to Figs. 62 and 63 to<br><br><br>
the pixel values of the corresponding pixels in frame #n-l, frame #n, and frame #n+l supplied from the frame memory 621 based on the area information indicating the covered background area and the uncovered background area and the 5  mixture ratio a so as to separate the foreground components and the background components from the pixels belonging to the mixed area in frame #n, and supplies them to a frame memory 623.<br>
The separation processing block 622 is formed of an<br>
10  uncovered area processor 631, a covered area processor 632, a synthesizer 633, and a synthesizer 634.<br>
A multiplier 641 of the uncovered area processor 631 multiplies the pixel value of the pixel in frame #n+l supplied from the frame memory 621 by the mixture ratio a,<br>
15  and outputs the resulting pixel value to a switch 642.  The switch 642 is closed when the pixel of frame #n (corresponding to the pixel in frame #n+l) supplied from the frame memory 621 belongs to the uncovered background area, and supplies the pixel value multiplied by the mixture ratio<br>
20  a supplied from the multiplier 641 to a calculator 643 and the synthesizer 634.  The value obtained by multiplying the pixel value of the pixel in frame #n+l by the mixture ratio a output from the switch 642 is equivalent to the background components of the pixel value of the corresponding pixel in<br>
25  frame #n.<br><br><br>
The calculator 643 subtracts the background components supplied from the switch 642 from the pixel value of the pixel in frame #n supplied from the frame memory 621 so as to obtain the foreground components.  The calculator 643 5  supplies the foreground components of the pixel in frame In belonging to the uncovered background area to the synthesizer 633.<br>
A multiplier 651 of the covered area processor 632 multiplies the pixel value of the pixel in frame #n-l<br>
10  supplied from the frame memory 621 by the mixture ratio a, and outputs the resulting pixel value to a switch 652.  The switch 652 is closed when the pixel of frame #n (corresponding to the pixel in frame #n-l) supplied from the frame memory 621 belongs to the covered background area, and<br>
15  supplies the pixel value multiplied by the mixture ratio a supplied from the multiplier 651 to a calculator 653 and the synthesizer 634.  The value obtained by multiplying the pixel value of the pixel in frame #n-l by the mixture ratio a output from the switch 652 is equivalent to the background<br>
20  components of the pixel value of the corresponding pixel in frame #n.<br>
The calculator 653 subtracts the background components supplied from the switch 652 from the pixel value of the pixel in frame #n supplied from the frame memory 621 so as<br>
25  to obtain the foreground components.  The calculator 653<br><br><br>
supplies the foreground components of the pixel in frame #n belonging to the covered background area to the synthesizer 633.<br>
The synthesizer 633 combines the foreground components 5  of the pixels belonging to the uncovered background area and supplied from the calculator 643 with the foreground components of the pixels belonging to the covered background area and supplied from the calculator 653, and supplies the synthesized foreground components to the frame memory 623.<br>
10      The synthesizer 634 combines the background components of the pixels belonging to the uncovered background area and supplied from the switch 642 with the background components of the pixels belonging to the covered background area and supplied from the switch 652, and supplies the synthesized<br>
15  background components to the frame memory 623.<br>
The frame memory 623 stores the foreground components and the background components of the pixels in the mixed area of frame #n supplied from the separation processing block 622.<br>
20      The frame memory 623 outputs the stored foreground<br>
components of the pixels in the mixed area in frame #n and the stored background components of the pixels in the mixed area in frame #n.<br>
By utilizing the mixture ratio a, which indicates the<br>
25  feature quantity, the foreground components and the<br><br><br>
background components contained in the pixel values can be completely separated.<br>
The synthesizer 603 combines the foreground components of the pixels in the mixed area in frame #n output from the 5  separating portion 601 with the pixels belonging to the foreground area so as to generate a foreground component image.  The synthesizer 605 combines the background components of the pixels in the mixed area in frame #n output from the separating portion 601 with the pixels<br>
10  belonging to the background area so as to generate a background component image.<br>
Fig. 65A illustrates an example of the foreground component image corresponding to frame #n in Fig. 61.  Fig. 65B illustrates an example of the background component image<br>
15  corresponding to frame #n in Fig. 61.<br>
Fig. 65A illustrates an example of the foreground component image corresponding to frame #n in Fig. 61.  The leftmost pixel and the fourteenth pixel from the left consist of only the background components before the<br>
20  foreground and the background are separated, and thus, the pixel values are set to 0.<br>
The second and fourth pixels from the left belong to the uncovered background area before the foreground and the background are separated.  Accordingly, the background<br>
25  components are set to 0, and the foreground components are<br><br><br>
maintained.  The eleventh through thirteenth pixels from the left belong to the covered background area before the foreground and the background are separated.  Accordingly, the background components are set to 0, and the foreground 5  components are maintained.  The fifth through tenth pixels from the left consist of only the foreground components, which are thus maintained.<br>
Fig. 65B illustrates an example of the background component image corresponding to frame #n in Fig. 61,  The<br>
10  leftmost pixel and the fourteenth pixel from the left consist of only the background components before the foreground and the background are separated, and thus, the background components are maintained.<br>
The second through fourth pixels from the left belong<br>
15  to the uncovered background area before the foreground and the background are separated.  Accordingly, the foreground components are set to 0, and the background components are maintained.  The eleventh through thirteenth pixels from the left belong to the covered background area before the<br>
20  foreground and the background are separated.  Accordingly, the foreground components are set to 0, and the background components are maintained.  The fifth through tenth pixels from the left consist of only the foreground components, and thus, the pixel values are set to 0.<br>
25      The processing for separating the foreground and the<br><br><br>
background executed by the foreground/background separator 105 is described below with reference to the flowchart of Fig. 66.  In step S601. the frame memory 621 of the separating portion 601 obtains an input image, and stores 5  frame #n for which the foreground and the background are separated together with the previous frame #n-l and the subsequent frame #n+l.<br>
In step S602, the separation processing block 622 of the separating portion 601 obtains area information supplied<br>
10  from the mixture-ratio calculator 104.  In step S603, the separation processing block 622 of the separating portion 601 obtains the mixture ratio a supplied from the mixture-ratio calculator 104.<br>
In step S604, the uncovered area processor 631 extracts<br>
15  the background components from the pixel values of the<br>
pixels belonging to the uncovered background area supplied from the frame memory 621 based on the area information and the mixture ratio a.<br>
In step S605, the uncovered area processor 631 extracts<br>
20  the foreground components from the pixel values of the<br>
pixels belonging to the uncovered background area supplied from the frame memory 621 based on the area information and the mixture ratio a.<br>
In step S606, the covered area processor 632 extracts<br>
25  the background components from the pixel values of the<br><br><br>
pixels belonging to the covered background area supplied from the frame memory 621 based on the area information and the mixture ratio a.<br>
In step S607, the covered area processor 632 extracts 5  the foreground components from the pixel values of the pixels belonging to the covered background area supplied from the frame memory 621 based on the area information and the mixture ratio a.<br>
In step S608, the synthesizer 633 combines the<br>
10  foreground components of the pixels belonging to the<br>
uncovered background area extracted in the processing of step S605 with the foreground components of the pixels belonging to the covered background area extracted in the processing of step S607.  The synthesized foreground<br>
15  components are supplied to the synthesizer 603.  The<br>
synthesizer 603 further combines the pixels belonging to the foreground area supplied via the switch 602 with the foreground components supplied from the separating portion 601 so as to generate a foreground component image.<br>
20      In step S609, the synthesizer 634 combines the background components of the pixels belonging to the uncovered background area extracted in the processing of step S604 with the background components of the pixels belonging to the covered background area extracted in the<br>
25  processing of step S606.  The synthesized background<br><br><br>
components are supplied to the synthesizer 605.  The synthesizer 605 further combines the pixels belonging to the background area supplied via the switch 604 with the background components supplied from the separating portion 5  601 so as to generate a background component image. In step S610, the synthesizer 603 outputs the foreground component image.  In step S611, the synthesizer 605 outputs the background component image.  The processing is then completed.<br>
10      As discussed above, the foreground/background separator 105 is able to separate the foreground components and the background components from the input image based on the area information and the mixture ratio a, and outputs the foreground component image consisting of only the foreground<br>
15  components and the background component image consisting of only the background components.<br>
A description is now given of adjustments for the amount of motion blur in the foreground component image. Fig. 67 is a block diagram illustrating an example of<br>
20  the configuration of the motion-blur adjusting unit 106. The motion vector and the positional information thereof supplied from the motion detector 102 and the area information supplied from the area specifying unit 103 are supplied to a unit-of-processing determining portion 801 and<br>
25  a model-forming portion 802.  The foreground component image<br><br><br>
supplied from the foreground/background separator 105 is supplied to an adder 804.<br>
The unit-of-processing determining portion 801 supplies, together with the motion vector, the unit of processing that 5  is generated based on the motion vector and the positional information thereof and the area information to the model-forming portion 802.  The unit-of-processing determining portion 801 supplies the generated unit of processing to the adder 804.<br>
10      As indicated by A in Fig. 68, for example, the unit of processing generated by the unit-of-processing determining portion 801 indicates consecutive pixels disposed in the moving direction starting from the pixel corresponding to the covered background area of the foreground component<br>
15  image until the pixel corresponding to the uncovered<br>
background area, or indicates consecutive pixels disposed in the moving direction starting from the pixel corresponding to the uncovered background area until the pixel corresponding to the covered background area.  The unit of<br>
20  processing is formed of two pieces of data which indicate, for example, the upper left point (which is the position of the leftmost or the topmost pixel in the image designated by the unit of processing) and the lower right point.<br>
The model-forming portion 802 forms a model based on<br>
25  the motion vector and the input unit of processing.  More<br><br><br>
specifically, for example, the model-forming portion 802 may store in advance a plurality of models in accordance with the number of pixels contained in the unit of processing, the number of virtual divided portions of the pixel value in 5  the time direction, and the number of foreground components for each pixel.  The model-forming portion 802 then may select the model in which the correlation between the pixel values and the foreground components is designated, such as that in Fig. 69, based on the unit of processing and the<br>
10  number of virtual divided portions of the pixel value in the time direction.<br>
It is now assumed, for example, that the number of pixels corresponding to the unit of processing is 12, and that the amount of movement v within the shutter time is 5.<br>
15  Then, the model-forming portion 802 sets the number of<br>
virtual divided portions to 5, and selects a model formed of eight types of foreground components so that the leftmost pixel contains one foreground component, the second pixel from the left contains two foreground components, the third<br>
20  pixel from the left contains three foreground components, the fourth pixel from the left contains four pixel components, the fifth pixel from the left contains five foreground components, the sixth pixel from the left contains five foreground components, the seventh pixel from<br>
25  the left contains five foreground components, the eighth<br><br><br>
pixel from the left contains five foreground components, the ninth pixel from the left contains four foreground components, the tenth pixel from the left contains three foreground components, the eleventh pixel from the left 5  contains two foreground components, and the twelfth pixel from the left contains one foreground component.<br>
Instead of selecting a model from the prestored models, the model-forming portion 802 may generate a model based on the motion vector and the unit of processing when the motion<br>
10  vector and the unit of processing are supplied.<br>
The model-forming portion 802 supplies the selected model to an equation generator 803.<br>
The equation generator 803 generates an equation based on the model supplied from the model-forming portion 802.  A<br>
15  description is given below, with reference to the model of the foreground component image shown in Fig. 69, of an equation generated by the equation generator 803 when the number of foreground components is 8, the number of pixels corresponding to the unit of processing is 12, the amount of<br>
20  movement v is 5, and the number of virtual divided portions is 5.<br>
When the foreground components contained in the foreground component image corresponding to the shutter time/v are FOl/v through F08/v, the relationships between<br>
25  FOl/v through F08/v and the pixel values COl through C12 can<br><br><br>
be expressed by equations (30) through (41).<br>
The equation generator 803 generates an equation by<br>
15  modifying the generated equations.  The equations generated by the equation generator 803 are indicated by equations (42) though (53). C01 = lÂ«F01/v+0Â»F02/v+0Â«F03/v+0Â»F04/v+0Â»F05/v<br>
+0Â»F06/v+0*F07/v+0*F08/v	(42)<br>
20  C02 = lÂ»F01/v+lÂ»F02/v+0Â»F03/v+0Â«F04/v+0Â»F05/v<br>
+0Â»F06/v+0Â»F07/v+0Â»F08/v	(43)<br>
C03 = lÂ»F01/v+l*F02/v+lÂ»F03/v+0Â«F04/v+0Â«F05/v<br>
+0Â»F06/v+0Â»F07/v+0*F08/v	(44)<br>
C04 =   lÂ»F01/v+lÂ»F02/v+lÂ»F03/v+lÂ»F04/v+0*F05/v<br>
25	+0Â»F06/v+0Â»F07/v+0Â»F08/v	(45)<br><br>
0<br><br>
C05 = lÂ«F01/v+lÂ«F02/v+l-F03/v+l*F04/v+lÂ»F05/v<br>
+0Â«F06/v+0Â«F07/v+0"F08/v	(46)<br>
C06 = 0*F01/v+lÂ«F02/v+lT03/v+l*F04/v+lÂ«F05/v<br>
+lÂ»F06/v+0Â»F07/v+0Â«F08/v	(47)<br>
C07 = 0Â»F01/v+0-F02/v+lÂ»F03/v+lÂ»F04/v+lÂ«F05/v<br>
+lÂ»F06/v+lT07/v+0Â»F08/v	(48)<br>
C08 = 0Â«F01/v+0Â»F02/v+0Â»F03/v+lÂ«F04/v+l*F05/v<br>
+l-F06/v+lÂ»F07/v+lÂ»F08/v	(49)<br>
C09 = 0T01/v+0Â«F02/v+0Â«F03/v+0Â«F04/v+l*F05/v<br>
+lÂ«F06/v+l-F07/v+lÂ»F08/v	(50)<br>
CIO = 0*F01/v+0Â»F02/v+0Â«F03/v+0Â«F04/v+0Â»F05/v<br>
+lÂ»F06/v+lÂ«F07/v+l-F08/v	(51)<br>
Cll = 0Â«F01/v+0*F02/v+0Â«F03/v+0Â«F04/v+0Â«F05/v<br>
+0-F06/v+lÂ»F07/v+l-F08/v	(52)<br>
C12 = 0Â«F01/v+0Â«F02/v+0Â»F03/v+0Â«F04/v+0*F05/v<br>
+0Â«F06/v+0Â»F07/v+lÂ»F08/v	(53)<br>
Equations (42) through (53) can be expressed by equation (54).<br>
  (54)<br>
In equation (54), j designates the position of the pixel. In this example, j has one of the values from 1 to 12.  In equation (54), i designates the position of the foreground value,  in this example, i has one of the values from 1 to<br><br><br>
In equation (54), aij has the value 0 or 1 according to the values of i and j.<br>
Equation (54) can be expressed by equation (55) in consideration of the error.<br>
  (55)<br>
In equation (55), ej designates the error contained in the pixel of interest Cj.<br>
Equation (55) can be modified into equation (56).<br>
  (56)<br>
In order to apply the method of least squares, the square sum E of the error is defined as equation (57).<br>
  (57)<br>
In order to minimize the error, the partial differential value using the variable Fk with respect to the square sum E of the error should be 0.  Fk is determined so that equation (58) is satisfied.<br><br><br>
In equation (58), since the amount of movement v is a fixed value, equation (59) can be deduced.<br>
  (59)<br>
5<br>
To expand equation (59) and transpose the terms, equation (60) can be obtained.<br>
  (60)<br>
10      Equation (60) is expanded into eight equations by<br>
substituting the individual integers from 1 to 8 into k in equation (60). The obtained eight equations can be expressed by one matrix equation.  This equation is referred to as a "normal equation".<br>
15      An example of the normal equation generated by the<br>
equation generator 803 based on the method of least squares is indicated by equation (61).<br><br><br>
(61)<br><br>
10<br>
15<br><br>
When equation (61) is expressed by A#F=vÂ»C, C, A, and v are known, and F is unknown. A and v are known when the model is formed, while c becomes known when the pixel value is input in the addition processing.<br>
By calculating the foreground components according to the normal equation based on the method of least squares, the error contained in the pixel c can be distributed.<br>
The equation generator 803 supplies the normal equation generated as discussed above to the adder 804.<br>
The adder 804 sets, based on the unit of processing supplied from the unit-of-processing determining portion 801, the pixel value C contained in the foreground component image in the matrix equation supplied from the equation<br><br>
generator 803.  The adder 804 supplies the matrix in which the pixel value C is set to a calculator 805.<br>
The calculator 805 calculates the foreground component Fi/v from which motion blur is eliminated by the processing 5  based on a solution, such as a sweep-out method (Gauss-Jordan elimination), so as to obtain Fi corresponding to i indicating one of the integers from 1 to 8, which is the pixel value from which motion blur is eliminated.  The calculator 805 then outputs the foreground component image<br>
10  consisting of the pixel values Fi without motion blur, such as that in Fig. 70, to a motion-blur adder 806 and a selector 807.<br>
In the foreground component image without motion blur shown in Fig. 70, the reason for setting F01 through F08 in<br>
15  C03 through C10, respectively, is not to change the position of the foreground component image with respect to the screen. However, F01 through F08 may be set in any desired positions.<br>
The motion-blur adder 806 is able to adjust the amount of motion blur by adding the amount v" by which motion blur<br>
20  is adjusted, which is different from the amount of movement v, for example, the amount v" by which motion blur is adjusted, which is one half the value of the amount of movement v, or the amount v" by which motion blur is adjusted, which is irrelevant to the amount of movement v.<br>
25  For example, as shown in Fig. 71, the motion-blur adder 806<br><br><br>
divides the foreground pixel value Fi without motion blur by the amount v" by which motion blur is adjusted so as to obtain the foreground component Fi/v".  The motion-blur adder 806 then calculates the sum of the foreground 5  components Fi/v*, thereby generating the pixel value in which the amount of motion blur is adjusted.  For example, when the amount v1 by which motion blur is adjusted is 3, the pixel value C02 is set to (F01)/v", the pixel value C3 is set to (F0l+F02)/v", the pixel value C04 is set to<br>
10  (F01+F02+F03)/v*, and the pixel value C05 is set to (F02+F03+F04)/v".<br>
The motion-blur adder 806 supplies the foreground component image in which the amount of motion blur is adjusted to a selector 807.<br>
15      The selector 807 selects one of the foreground component image without motion blur supplied from the calculator 805 and the foreground component image in which the amount of motion blur is adjusted supplied from the motion-blur adder 806 based on a selection signal reflecting<br>
20  a user"s selection, and outputs the selected foreground component image.<br>
As discussed above, the motion-blur adjusting unit 106 is able to adjust the amount of motion blur based on the selection signal and the amount v* by which motion blur is<br>
25  adjusted.<br><br><br><br><br><br><br><br>
Also, for example, when the number of pixels corresponding to the unit of processing is 8, and the amount of movement v is 4, as shown in Fig. 72, the motion-blur adjusting unit 106 generates a matrix equation expressed by equation (62).<br><br><br>
(62)<br><br>
In this manner, the motion-blur adjusting unit 106 calculates Fi, which is the pixel value in which the amount of motion blur is adjusted, by setting up the equation in accordance with the length of the unit of processing. Similarly, for example, when the number of pixels contained in the unit of processing is 100, the equation corresponding to 100 pixels is generated so as to calculate Fi.<br>
Fig. 73 illustrates an example of another configuration of the motion-blur adjusting unit 106.  The same elements as those shown in Fig. 67 are designated with like reference numerals, and an explanation thereof is thus omitted.<br>
Based on a selection signal, a selector 821 directly<br><br>
supplies an input motion vector and a positional signal thereof to the unit-of-processing determining portion 801 and the model-forming portion 802.  Alternatively, the selector 821 may substitute the magnitude of the motion 5  vector by the amount v" by which motion blur is adjusted, and then supplies the motion vector and the positional signal thereof to the unit-of-processing determining portion 801 and the model-forming unit 802.<br>
With this arrangement, the unit-of-processing<br>
10  determining portion 801 through the calculator 805 of the motion-blur adjusting unit 106 shown in Fig. 73 are able to adjust the amount of motion blur in accordance with the amount of movement v and the amount v* by which motion blur is adjusted.  For example, when the amount of movement is 5,<br>
15  and the amount v" by which motion blur is adjusted is 3, the unit-of-processing determining portion 801 through the calculator 805 of the motion-blur adjusting unit 106 shown in Fig. 73 execute computation on the foreground component image in which the amount of movement v is 5 shown in Fig.<br>
20  69 according to the model shown in Fig. 71 in which the amount v" by which motion blur is adjusted is 3. As a result, the image containing motion blur having the amount of movement v of (amount of movement v)/(amount v" by which motion blur is adjusted) = 5/3, i.e., about 1.7 is obtained.<br>
25  In this case, the calculated image does not contain motion<br><br>
blur corresponding to the amount of movement v of 3. Accordingly, it should be noted that the relationship between the amount of movement v and the amount v* by which motion blur is adjusted is different from the result of the 5  motion-blur adder 806.<br>
As discussed above, the motion-blur adjusting unit 106 generates the equation in accordance with the amount of movement v and the unit of processing, and sets the pixel values of the foreground component image in the generated<br>
10  equation, thereby calculating the foreground component image in which the amount of motion blur is adjusted.<br>
The processing for adjusting the amount of motion blur contained in the foreground component image executed by the motion-blur adjusting unit 106 is described below with<br>
15  reference to the flowchart of Fig. 74.<br>
In step S801, the unit-of-processing determining portion 801 of the motion-blur adjusting unit 106 generates the unit of processing based on the motion vector and the area information, and supplies the generated unit of<br>
20  processing to the model-forming portion 802.<br>
In step S802, the model-forming portion 802 of the motion-blur adjusting unit 106 selects or generates the model in accordance with the amount of movement v and the unit of processing.  In step S803, the equation generator<br>
25  803 generates the normal equation based on the selected<br><br><br>
model.<br>
In step S804, the adder 804 sets the pixel values of the foreground component image in the generated normal equation.  In step S805, the adder 804 determines whether 5  the pixel values of all the pixels corresponding to the unit of processing are set.  If it is determined that the pixel values of all the pixels corresponding to the unit of processing are not yet set, the process returns to step S804, and the processing for setting the pixel values in the<br>
10  normal equation is repeated.<br>
If it is determined in step S805 that the pixel values of all the pixels corresponding to the unit of processing are set, the process proceeds to step S806.  In step S806, the calculator 805 calculates the pixel values of the<br>
15  foreground in which the amount of motion blur is adjusted based on the normal equation in which the pixel values are set supplied from the adder 804.  The processing is then completed.<br>
As discussed above, the motion-blur adjusting unit 106<br>
20  is able to adjust the amount of motion blur of the<br>
foreground image containing motion blur based on the motion vector and the area information.<br>
That is, it is possible to adjust the amount of motion blur contained in the pixel values, that is, contained in<br>
25  sampled data.<br><br><br>
As is seen from the foregoing description, the signal processing apparatus shown in Fig. 2 is able to adjust the amount of motion blur contained in the input image.  The signal processing apparatus configured as shown in Fig. 2 is 5  able to calculate the mixture ratio a, which is embedded information, and outputs the calculated mixture ratio a.<br>
Fig. 75 is a block diagram illustrating another example of the configuration of the motion-blur adjusting unit 106. The motion vector and the positional information thereof 10  supplied from the motion detector 102 are supplied to a<br>
unit-of-processing determining portion 901 and an adjusting portion 905.  The area information supplied from the area specifying unit 103 is supplied to the unit-of-processing determining portion 901.  The foreground component image 15  supplied from the foreground/background separator 105 is supplied to a calculator 904.<br>
The unit-of-processing determining portion 901 supplies, together with the motion vector, the unit of processing generated based on the motion vector and the positional 20  information thereof and the area information to a model-forming portion 902.<br>
The model-forming portion 902 forms a model based on the motion vector and the input unit of processing.<br>
An equation generator 903 generates an equation based 25  on the model supplied from the model-forming portion 902.<br><br>
A description is now given, with reference to the models of foreground component images shown in Figs. 76 through 78, of an example of the equation generated by the equation generator 903 when the number of foreground 5  components is 8, the number of pixels corresponding to the unit of processing is 12, and the amount of movement v is 5.<br>
When the foreground components contained in the foreground component image corresponding to the shutter time/v are FOl/v through F08/v, the relationships between 10  FOl/v through F08/v and pixel values COl through C12 can be expressed by equations (30) through (41), as stated above.<br>
By considering the pixel values C12 and Cll, the pixel value C12 contains only the foreground component F08/v, as expressed by equation (63), and the pixel value Cll consists 15  of the product sum of the foreground component F08/v and the foreground component F07/v.  Accordingly, the foreground component F07/v can be found by equation (64).<br>
F08/V = C12	(63)<br>
F07/V = C11-C12	(64)<br>
20      Similarly, by considering the foreground components contained in the pixel values CIO through COl, the foreground components F06/v through FOl/v can be found by equations (65) through (70), respectively.<br>
F06/V = C10-C11	(65)<br>
25       F05/V = C09-C10	(66)<br><br><br>
F04/V = C08-C09	(67)<br>
F03/V = C07-C08+C12	(68)<br>
F02/V = C06-C07+C11-C12	(69)<br>
FOl/v = C05-C06+C10-C11	(70)<br>
5      The equation generator 903 generates the equations for calculating the foreground components by the difference between the pixel values, as indicated by the examples of equations (63) through (70).  The equation generator 903 supplies the generated equations to the calculator 904. 10      The calculator 904 sets the pixel values of the<br>
foreground component image in the equations supplied from the equation generator 903 so as to obtain the foreground components based on the equations in which the pixel values are set.  For example, when equations (63) through (70) are 15  supplied from the equation generator 903, the calculator 904 sets the pixel values COS through C12 in equations (63) through (70).<br>
The calculator 904 calculates the foreground components based on the equations in which the pixel values are set. 20  For example, the calculator 904 calculates the foreground components FOl/v through F08/v, as shown in Fig. 77, based on the calculations of equations (63) through (70) in which the pixel values COS through C12 are set.  The calculator 904 supplies the foreground components FOl/v through F08/v 25  to the adjusting portion 905.<br><br><br>
The adjusting portion 905 multiplies the foreground components supplied from the calculator 904 by the amount of movement v contained in the motion vector supplied from the unit-of-processing determining portion 901 so as to obtain 5  the foreground pixel values from which motion blur is eliminated.  For example, when the foreground components FOl/v through F08/v are supplied from the calculator 904, the adjusting portion 905 multiples each of the foreground components FOl/v through F08/v by the amount of movement v,<br>
10  i.e., 5, so as to obtain the foreground pixel values F01 through F08 from which motion blur is eliminated, as shown in Fig. 78.<br>
The adjusting portion 905 supplies the foreground component image consisting of the foreground pixel values<br>
15  without motion blur calculated as described above to a motion-blur adder 906 and a selector 907.<br>
The motion-blur adder 906 is able to adjust the amount of motion blur by using the amount v" by which motion blur is adjusted, which is different from the amount of movement<br>
20  v, for example, the amount v" by which motion blur is adjusted, which is one half the value of the amount of movement v, or the amount v1 by which motion blur is adjusted, which is irrelevant to the amount of movement v. For example, as shown in Fig. 71, the motion-blur adder 906<br>
25  divides the foreground pixel value Fi without motion blur by<br><br><br>
the amount v" by which motion blur is adjusted so as to obtain the foreground component Fi/v".  The motion-blur adder 906 then calculates the sum of the foreground components Fi/v", thereby generating the pixel value in 5  which the amount of motion blur is adjusted.  For example, when the amount v" by which motion blur is adjusted is 3. the pixel value C02 is set to (F01)/v", the pixel value C3 is set to (F01+F02)/v", the pixel value C04 is set to (F01+F02+F03)/v", and the pixel value C05 is set to<br>
10  (F02+F03+F04)/v".<br>
The motion-blur adder 906 supplies the foreground component image in which the amount of motion blur is adjusted to the selector 907.<br>
The selector 907 selects either the foreground<br>
15  component image without motion blur supplied from the<br>
adjusting portion 905 or the foreground component image in which the amount of motion blur is adjusted supplied from the motion-blur adder 906 based on a selection signal reflecting a user"s selection, and outputs the selected<br>
20  foreground component image.<br>
As discussed above, the motion-blur adjusting unit 106 is able to adjust the amount of motion blur based on the selection signal and the amount v" by which motion blur is adjusted.<br>
25      The processing for adjusting the amount of motion blur<br><br>
of the foreground executed by the motion-blur adjusting unit 106 configured as shown in Fig. 75 is described below with reference to the flowchart of Fig. 79.<br>
In step S901, the unit-of-processing determining 5  portion 901 of the motion-blur adjusting unit 106 generates the unit of processing based on the motion vector and the area information, and supplies the generated unit of processing to the model-forming portion 902 and the adjusting portion 905.<br>
10      In step S902, the model-forming portion 902 of the motion-blur adjusting unit 106 selects or generates the model according to the amount of movement v and the unit of processing.  In step S903, the equation generator 903 generates, based on the selected or generated model, the<br>
15  equations for calculating the foreground components by the difference between the pixel values of the foreground component image.<br>
In step S904, the calculator 904 sets the pixel values of the foreground component image in the generated equations,<br>
20  and extracts the foreground components by using the<br>
difference between the pixel values based on the equations in which the pixel values are set.  In step S905, the calculator 904 determines whether all the foreground components corresponding to the unit of processing have been<br>
25  extracted.  If it is determined that all the foreground<br><br><br>
components corresponding to the unit of processing have not been extracted, the process returns to step S904, and the processing for extracting the foreground components is repeated. 5      If it is determined in step S905 that all the foreground components corresponding to the unit of processing have been extracted, the process proceeds to step S906.  In step S906, the adjusting portion 905 adjusts each of the foreground components FOl/v through F08/v supplied<br>
10 from the calculator 904 based on the amount of movement v so as to obtain the foreground pixel values FOl/v through F08/v from which motion blur is eliminated.<br>
In step S907, the motion-blur adder 906 calculates the foreground pixel values in which the amount of motion blur<br>
15  is adjusted, and the selector 907 selects the image without motion blur or the image in which the amount of motion blur is adjusted, and outputs the selected image.  The processing is then completed.<br>
As described above, the motion-blur adjusting unit 106<br>
20  configured as shown in Fig. 75 is able to more speedily<br>
adjust motion blur of the foreground image containing motion blur according to simpler computations.<br>
A known technique for partially eliminating motion blur, such as a Wiener filter, is effective when being used in the<br>
25  ideal state, but is not sufficient for an actual image<br><br>
quantized and containing noise.  In contrast, it is proved that the motion-blur adjusting unit 106 configured as shown in Fig. 75 is sufficiently effective for an actual image quantized and containing noise.  It is thus possible to 5  eliminate motion blur with high precision.<br>
Fig. 80 is a block diagram illustrating another configuration of the function of the signal processing apparatus.<br>
The elements similar to those shown in Fig. 2 are<br>
10  designated with like reference numerals, and an explanation thereof is thus omitted.<br>
The object extracting unit 101 extracts a rough image object corresponding to a foreground object contained in an input image, and supplies the extracted image object to the<br>
15  motion detector 102.  The motion detector 102 calculates a motion vector of the rough image object corresponding to the foreground object, and supplies the calculated motion vector and the positional information of the motion vector to the mixture-ratio calculator 104.<br>
20      The area specifying unit 103 supplies area information to the mixture-ratio calculator 104 and a synthesizer 1001.<br>
The mixture-ratio calculator 104 supplies the mixture ratio a to the foreground/background separator 105 and the synthesizer 1001.<br>
25      The foreground/background separator 105 supplies the<br><br>
foreground component image to the synthesizer 1001,<br>
The synthesizer 1001 combines a certain background image with the foreground component image supplied from the foreground/background separator 105 based on the mixture 5  ratio a supplied from the mixture-ratio calculator 104 and the area information supplied from the area specifying unit 103, and outputs the synthesized image in which the certain background image and the foreground component image are combined.<br>
10      Fig. 81 illustrates the configuration of the<br>
synthesizer 1001.  A background component generator 1021 generates a background component image based on the mixture ratio a and a certain background image, and supplies the background component image to a mixed-area-image<br>
15  synthesizing portion 1022.<br>
The mixed-area-image synthesizing portion 1022 combines the background component image supplied from the background component generator 1021 with the foreground component image so as to generate a mixed-area synthesized image, and<br>
20  supplies the generated mixture-area synthesized image to an image synthesizing portion 1023.<br>
The image synthesizer 1023 combines the foreground component image, the mixed-area synthesized image supplied from the mixed-area-image synthesizing portion 1022, and the<br>
25  certain background image based on the area information so as<br><br><br>
to generate a synthesized image, and outputs it.<br>
As discussed above, the synthesizer 1001 is able to combine the foreground component image with a certain background image. 5      The image obtained by combining a foreground component image with a certain background image based on the mixture ratio a, which is the feature quantity, appears more natural compared to an image obtained by simply combining pixels.<br>
Fig. 82 is a block diagram illustrating still another 10  configuration of the function of the signal processing apparatus for adjusting the amount of motion blur.  The signal processing apparatus shown in Fig. 2 sequentially performs the area-specifying operation and the calculation for the mixture ratio a.  In contrast, the signal processing 15  apparatus shown in Fig. 82 simultaneously performs the area-specifying operation and the calculation for the mixture ratio a.<br>
The functional elements similar to those in the block diagram of Fig. 2 are designated with like reference 20  numerals, and an explanation thereof is thus omitted.<br>
An input image is supplied to a mixture-ratio calculator 1101, a foreground/background separator 1102, the area specifying unit 103, and the object extracting unit 101.<br>
The mixture-ratio calculator 1101 calculates, based on 25  the input image, the estimated mixture ratio when it is<br><br>
assumed that each pixel contained in the input image belongs to the covered background area, and the estimated mixture ratio when it is assumed that each pixel contained in the input image belongs to the uncovered background area, and 5  supplies the estimated mixture ratios calculated as<br>
described above to the foreground/background separator 1102.<br>
Fig. 83 is a block diagram illustrating an example of the configuration of the mixture-ratio calculator 1101.<br>
An estimated-mixture-ratio processor 401 shown in Fig.<br>
10 83 is the same as the estimated-mixture-ratio processor 401 shown in Fig. 47. An estimated-mixture-ratio processor 402 shown in Fig. 83 is the same as the estimated-mixture-ratio processor 402 shown in Fig. 47.<br>
The estimated-mixture-ratio processor 401 calculates<br>
15  the estimated mixture ratio for each pixel by the computation corresponding to a model of the covered background area based on the motion vector and the positional information thereof and the input image, and outputs the calculated estimated mixture ratio.<br>
20      The estimated-mixture-ratio processor 402 calculates the estimated mixture ratio for each pixel by the computation corresponding to a model of the uncovered background area based on the motion vector and the positional information thereof and the input image, and<br>
25  outputs the calculated estimated mixture ratio.<br><br>
The foreground/bacJcground separator 1102 generates the foreground component image from the input image based on the estimated mixture ratio calculated when it is assumed that the pixel belongs to the covered background area supplied 5  from the mixture-ratio calculator 1101, the estimated<br>
mixture ratio calculated when it is assumed that the pixel belongs to the uncovered background area supplied from the mixture-ratio calculator 1101, and the area information supplied from the area specifying unit 103, and supplies the<br>
10  generated foreground component image to the motion-blur adjusting unit 106 and the selector 107.<br>
Fig. 84 is a block diagram illustrating an example of the configuration of the foreground/background separator 1102.<br>
15      The elements similar to those of the<br>
foreground/background separator 105 shown in Fig. 59 are indicated by like reference numerals, and an explanation thereof is thus omitted.<br>
A selector 1121 selects, based on the area information<br>
20  supplied from the area specifying unit 103, either the<br>
estimated mixture ratio calculated when it is assumed that the pixel belongs to the covered background area supplied from the mixture-ratio calculator 1101 or the estimated mixture ratio calculated when it is assumed that the pixel<br>
25  belongs to the uncovered background area supplied from the<br><br><br>
mixture-ratio calculator 1101, and supplies the selected estimated mixture ratio to the separating portion 601 as the mixture ratio a.<br>
The separating portion 601 extracts the foreground 5 components and the background components from the pixel values of the pixels belonging to the mixed area based on the mixture ratio a supplied from the selector 1121 and the area information, and supplies the extracted foreground components to the synthesizer 603 and also supplies the 10  foreground components to the synthesizer 605.<br>
The separating portion 601 can be configured similarly to the counterpart shown in Fig, 64.<br>
The synthesizer 603 synthesizes the foreground component image and outputs it.  The synthesizer 605 15  synthesizes the background component image and outputs it.<br>
The motion-blur adjusting unit 106 shown in Fig. 82 can be configured similarly to the counterpart shown in Fig. 2. The motion-blur adjusting unit 106 adjusts the amount of motion blur contained in the foreground component image 20  supplied from the foreground/background separator 1102 based on the area information and the motion vector, and outputs the foreground component image in which the amount of motion blur is adjusted.<br>
The selector 107 shown in Fig. 82 selects the 25  foreground component image supplied from the<br><br><br>
foreground/background separator 1102 or the foreground component image in which the amount of motion blur is adjusted supplied from the motion-blur adjusting unit 106 based on, for example, a selection signal reflecting a 5  user"s selection, and outputs the selected foreground component image.<br>
As discussed above, the signal processing apparatus shown in Fig. 82 is able to adjust the amount of motion blur contained in an image corresponding to a foreground object<br>
10  of the input image, and outputs the resulting foreground object image.  As in the first embodiment, the signal processing apparatus shown in Fig. 82 is able to calculate the mixture ratio a, which is embedded information, and outputs the calculated mixture ratio a.<br>
15      Fig. 85 is a block diagram illustrating another configuration of the function of the signal processing apparatus for combining a foreground component image with a certain background image.  The signal processing apparatus shown in Fig. 80 serially performs the area-specifying<br>
20 operation and the calculation for the mixture ratio a. In contrast, the signal processing apparatus shown in Fig. 85 performs the area-specifying operation and the calculation for the mixture ratio a in a parallel manner.<br>
The functional elements similar to those indicated by<br>
25  the block of Fig. 82 are indicated by like reference<br><br>
numerals, and an explanation thereof is thus omitted.<br>
The mixture-ratio calculator 1101 shown in Fig. 85 calculates, based on the motion vector and the positional information thereof and the input image, the estimated 5  mixture ratio -when it is assumed that each pixel contained in the input image belongs to the covered background area, and the estimated mixture ratio when it is assumed that each pixel contained in the input image belongs to the uncovered background area, and supplies the estimated mixture ratios<br>
10  calculated as described above to the foreground/background separator 1102 and a synthesizer 1201.<br>
The foreground/background separator 1102 shown in Fig. 85 generates the foreground component image from the input image based on the estimated mixture ratio calculated when<br>
15  it is assumed that the pixel belongs to the covered<br>
background area supplied from the mixture-ratio calculator 1101, the estimated mixture ratio calculated when it is assumed that the pixel belongs to the uncovered background area supplied from the mixture-ratio calculator 1101, and<br>
20  the area information supplied from the area specifying unit 103, and supplies the generated foreground component image to the synthesizer 1201.<br>
The synthesizer 1201 combines a certain background image with the foreground component image supplied from the<br>
25  foreground/background separator 1102 based on the estimated<br><br>
mixture ratio calculated when it is assumed that the pixel belongs to the covered background area supplied from the mixture-ratio calculator 1101, the estimated mixture ratio calculated when it is assumed that the pixel belongs to the 5  uncovered background area supplied from the mixture-ratio calculator 1101, and the area information supplied from the area specifying unit 103, and outputs the synthesized image in which the background image and the foreground component image are combined.<br>
10      Fig. 86 illustrates the configuration of the<br>
synthesizer 1201.  The functional elements similar to those of the block diagram of Fig. 81 are designated with like reference numerals, and explanation thereof is thus omitted. A selector 1221 selects, based on the area information<br>
15  supplied from the area specifying unit 103, either the<br>
estimated mixture ratio calculated when it is assumed that the pixel belongs to the covered background area supplied from the mixture-ratio calculator 1101 or the estimated mixture ratio calculated when it is assumed that the pixel<br>
20  belongs to the uncovered background area supplied from the mixture-ratio calculator 1101, and supplies the selected estimated mixture ratio to the background component generator 1021 as the mixture ratio a.<br>
The background component generator 1021 shown in Fig.<br>
25  86 generates a background component image based on the<br><br>
mixture ratio a supplied from the selector 1221 and a certain background image, and supplies the background component image to the mixed-area-image synthesizing portion 1022. 5      The mixed-area-image synthesizing portion 1022 shown in Fig. 86 combines the background component image supplied from the background component generator 1021 with the foreground component image so as to generate a mixed-area synthesized image, and supplies the generated mixed-area<br>
10  synthesized image to the image synthesizing portion 1023. The image synthesizing portion 1023 combines the foreground component image, the mixed-area synthesized image supplied from the mixed-area-image synthesizing portion 1022, and the background image based on the area information so as<br>
15  to generate a synthesized image and outputs it.<br>
In this manner, the synthesizer 1201 is able to combine the foreground component image with a certain background image.<br>
The invention has been discussed above by setting the<br>
20  mixture ratio a to the ratio of the background components<br>
contained in the pixel values.  However, the mixture ratio a may be set to the ratio of the foreground components contained in the pixel values.<br>
The invention has been discussed above by setting the<br>
25  moving direction of the foreground object to the direction<br><br>
from the left to the right.  However, the moving direction is not restricted to the above-described direction.<br>
In the above description, a real-space image having a three-dimensional space and time axis information is 5  projected onto a time space having a two-dimensional space and time axis information by using a video camera.  However, the present invention is not restricted to this example, and can be applied to the following case.  When a greater amount of first information in one-dimensional space is projected<br>
10  onto a smaller amount of second information in a two-dimensional space, distortion generated by the projection can be corrected, significant information can be extracted, or a more natural image can be synthesized.<br>
The sensor is not restricted to a CCD, and may be<br>
15  another type of sensor, such as a solid-state imaging device, for example, a CMOS (Complementary Metal Oxide Semiconductor), a BBD (Bucket Brigade Device), a CID (Charge Injection Device), or a CPD (Charge Priming Device).  Also, the sensor does not have to be a sensor in which detection<br>
20  devices are arranged in a matrix, and may be a sensor in which detection devices are arranged in one line.<br>
A recording medium in which a program for performing the image processing of the present invention is recorded may be formed of a removable medium in which the program is<br>
25  recorded, which is distributed for providing the program to<br><br>
a user separately from the computer, as shown in Fig. 1, such as the magnetic disk 51 (including a flexible disk), the optical disc 52 (CD-ROM (Compact Disk-Read Only Memory) and a DVD (Digital Versatile Disk)), the magneto-optical disk (including MD (Mini-Disk) (trade name)), or the semiconductor memory 54.  The recording medium may also be formed of the ROM 22 or a hard disk contained in the storage unit 28 in which the program is recorded, such recording medium being provided to the user while being prestored in the computer.<br>
The program for performing the image processing may be supplied to the computer via a cable or wireless transmission channel.<br>
The steps forming the program recorded in a recording medium may be executed chronologically according to the orders described in the specification.  However, they do not have to be executed in a time-series manner, and they may be executed concurrently or individually.<br>
Industrial Applicability<br>
According to the first invention, the mixture ratio Indicating the mixture state of a plurality of objects can be detected.<br>
According to the second invention, the mixture ratio indicating the mixture state of a plurality of objects can<br><br>
We Claim;<br>
1. An image processing apparatus for performing image- processing on image data which is formed of a predetermined number of pixel data obtained by an imaging device including a predetermined number of pixels and having a time integrating function, and for calculating a mixture ratio indicating a mixture state of the pixel data of a plurality of objects in the real world, said image processing apparatus comprising:<br>
pixel-data extraction means for extracting, based on a motion of a foreground object, which serves as a foreground of the plurality of objects, a plurality of mixed pixel data which are the pixel data of a predetermined number of consecutive frames in which the plurality of objects are mixed, and also for extracting, based on a motion of a background object, which serves as a background of the plurality of objects, background pixel data which is the pixel data formed of the background object and which corresponds to the mixed pixel data, the background pixel data being extracted from a frame different from the frames in which the mixed pixel data is present among the predetermined number of consecutive frames;<br>
relational-expression generating means for generating relational expressions for the mixed pixel data and the background pixel data corresponding to the predetermined number of consecutive frames based on the extracted mixed pixel data and the extracted background pixel data; and<br>
mixture-ratio detection means for detecting a single mixture ratio corresponding to the predetermined number of consecutive frames based on the relational expressions.<br><br>
2.	An image processing apparatus as claimed in claim 1, wherein said pixel-data extraction means extracts the mixed pixel data in accordance with the amount of the motion of the foreground object in the frames.<br>
3.	An image processing apparatus as claimed in claim 1, wherein said pixel-data extraction means extracts the background pixel data in accordance with the amount of the motion of the background object in the frames.<br>
4.	An image processing apparatus as claimed in claim 1, wherein said relational-expression generating means generates the relational expressions for the mixed pixel data and the background pixel data for calculating the mixture ratio by a method of least squares.<br>
5.	An image processing apparatus as claimed in claim 1, further comprising motion detection means for detecting the motion of at least one of the foreground object and the background object.<br>
6.	An image processing apparatus as claimed in claim 1, further comprising area specifying means for specifying a mixed area consisting of the mixed pixel data, a background area consisting of the background pixels, and a foreground area consisting of foreground pixel data, which is the pixel data corresponding to the foreground object.<br>
7.	An image processing apparatus as claimed in claim 1, further comprising separation means for separating at least the foreground object from the mixed pixel data based on the mixture ratio.<br><br>
8.	An image processing apparatus as claimed in claim 7, further comprising motion-blur adjusting means for adjusting the amount of motion blur of the separated foreground object.<br>
9.	An image processing apparatus as claimed in claim 7, further comprising synthesizing means for combining the separated foreground object with a desired object based on the mixture ratio.<br>
10.	An image processing method for performing image-processing on image data which is formed of a predetermined number of pixel data obtained by an imaging device including a predetermined number of pixels and having a time integrating function, and for calculating a mixture ratio indicating a mixture state of the pixel data of a plurality of objects in the real world, said image processing method comprising:<br>
a pixel-data extraction step of extracting, based on a motion of a foreground object, which serves as a foreground of the plurality of objects, a plurality of mixed pixel data which are the pixel data of a predetermined number of consecutive frames in which the plurality of objects are mixed, and also of extracting, based on a motion of a background object, which serves as a background of the plurality of objects, background pixel data which is the pixel data formed of the background object and which corresponds to the mixed pixel data, the background pixel data being extracted from a frame different from the frames in which the mixed pixel data is present among the predetermined number of consecutive frames;<br>
a relational-expression generating step of generating relational expressions for the mixed pixel data and the background pixel data corresponding to the predetermined number of consecutive frames<br><br>
based on the extracted mixed pixel data and the extracted background pixel data; and<br>
a mixture-ratio detection step of detecting a single mixture ratio corresponding to the predetermined number of consecutive frames based on the relational expressions.<br>
11.	An image processing method as claimed in claim 10, wherein, in said pixel-data extraction step, the mixed pixel data is extracted in accordance with the amount of the motion of the foreground object in the frames.<br>
12.	An image processing method as claimed in claim 10, wherein, in said pixel-data extraction step, the background pixel data is extracted in accordance with the amount of the motion of the background object in the frames.<br>
13.	An image processing method as claimed in claim 10, wherein, in said relational-expression generating step, the relational expressions for the mixed pixel data and the background pixel data for calculating the mixture ratio by a method of least squares are generated.<br>
14.	An image processing method according to claim 10, further comprising a motion detection step of detecting the motion of at least one of the foreground object and the background object.<br>
15.	An image processing method as claimed in claim 10, further comprising an area specifying step of specifying a mixed area consisting of the mixed pixel data, a background area consisting of the background pixels, and a<br><br>
1<br><br>
foreground area consisting of foreground pixel data, which is the pixel data corresponding to the foreground object.<br>
16.	An image processing method as claimed in claim 10, further comprising a separation step of separating at least the foreground object from the mixed pixel data based on the mixture ratio.<br>
17.	An image processing method as claimed in claim 16, further comprising a motion-blur adjusting step of adjusting the amount of motion blur of the separated foreground object.<br>
18.	An image processing method as claimed in claim 16, further comprising a synthesizing step of combining the separated foreground object with a desired object based on the mixture ratio.<br>
19.	An imaging apparatus as claimed in claim 1, comprising:<br>
imaging means for outputting a subject image as image data which is formed of a predetermined number of pixel data, the subject image being obtained by performing image capturing by an imaging device having a predetermined number of pixels, each having a time integrating function;<br>
pixel-data extraction means for extracting, based on a motion of a foreground object, which serves as a foreground of a plurality of objects in the real world contained in the image data, a plurality of mixed pixel data which are the pixel data of a predetermined number of consecutive frames in which the plurality of objects are mixed, and also for extracting, based on a motion of a background object, which serves as a background of the plurality of objects, background pixel data which is the pixel data formed of the<br><br>
background object and which corresponds to the mixed pixel data, the background pixel data being extracted from a frame different from the frames in which the mixed pixel data is present among the predetermined number of consecutive frames;<br>
relational-expression generating means for generating relational expressions for the mixed pixel data and the background pixel data corresponding to the predetermined number of consecutive frames based on the extracted mixed pixel data and the extracted background pixel data; and<br>
mixture-ratio detection means for detecting a single mixture ratio corresponding to the predetermined number of consecutive frames based on the relational expressions.<br>
Dated this 31/1/2002	<br>
[P. SEETHA]<br>
OF REMFRY &amp; SAGAR<br>
ATTORNEY FOR THE APPLICANTS</td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=YWJzdHJhY3QxLmpwZw==" target="_blank" style="word-wrap:break-word;">abstract1.jpg</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTM4Mi1tdW0tYWJzdHJhY3QoMTMtMDUtMjAwOCkuZG9j" target="_blank" style="word-wrap:break-word;">in-pct-2002-1382-mum-abstract(13-05-2008).doc</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTM4Mi1tdW0tYWJzdHJhY3QoMTMtMDUtMjAwOCkucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2002-1382-mum-abstract(13-05-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTM4Mi1tdW0tY2FuY2VsbGVkIHBhZ2VzKDEzLTA1LTIwMDgpLnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2002-1382-mum-cancelled pages(13-05-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTM4Mi1tdW0tY2xhaW1zKGdyYW50ZWQpLSgxMy0wNS0yMDA4KS5kb2M=" target="_blank" style="word-wrap:break-word;">in-pct-2002-1382-mum-claims(granted)-(13-05-2008).doc</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTM4Mi1tdW0tY2xhaW1zKGdyYW50ZWQpLSgxMy0wNS0yMDA4KS5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2002-1382-mum-claims(granted)-(13-05-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTM4Mi1tdW0tY29ycmVzcG9uZGVuY2UoMTMtMDUtMjAwOCkucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2002-1382-mum-correspondence(13-05-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTM4Mi1tdW0tY29ycmVzcG9uZGVuY2UoaXBvKS0oMDgtMDUtMjAwOCkucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2002-1382-mum-correspondence(ipo)-(08-05-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTM4Mi1tdW0tZHJhd2luZ3MoMTMtMDUtMjAwOCkucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2002-1382-mum-drawings(13-05-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTM4Mi1tdW0tZm9ybSAxKDExLTEwLTIwMDcpLnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2002-1382-mum-form 1(11-10-2007).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTM4Mi1tdW0tZm9ybSAxMygxMS0xMC0yMDA3KS5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2002-1382-mum-form 13(11-10-2007).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTM4Mi1tdW0tZm9ybSAxOCgxMC0wMi0yMDA2KS5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2002-1382-mum-form 18(10-02-2006).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTM4Mi1tdW0tZm9ybSAyKGdyYW50ZWQpLSgxMy0wNS0yMDA4KS5kb2M=" target="_blank" style="word-wrap:break-word;">in-pct-2002-1382-mum-form 2(granted)-(13-05-2008).doc</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTM4Mi1tdW0tZm9ybSAyKGdyYW50ZWQpLSgxMy0wNS0yMDA4KS5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2002-1382-mum-form 2(granted)-(13-05-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTM4Mi1tdW0tZm9ybSAzKDA0LTEwLTIwMDIpLnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2002-1382-mum-form 3(04-10-2002).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTM4Mi1tdW0tZm9ybSAzKDExLTEwLTIwMDcpLnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2002-1382-mum-form 3(11-10-2007).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTM4Mi1tdW0tZm9ybSA1KDA0LTEwLTIwMDIpLnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2002-1382-mum-form 5(04-10-2002).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTM4Mi1tdW0tcGV0aXRpb24gdW5kZXIgcnVsZSAxMzcoMTEtMTAtMjAwNykucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2002-1382-mum-petition under rule 137(11-10-2007).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTM4Mi1tdW0tcG93ZXIgb2YgYXV0aG9yaXR5KDExLTEwLTIwMDcpLnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2002-1382-mum-power of authority(11-10-2007).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTM4Mi1tdW0tcG93ZXIgb2YgYXV0aG9yaXR5KDMwLTEyLTIwMDIpLnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2002-1382-mum-power of authority(30-12-2002).pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="220647-a-method-a-system-and-an-access-point-apparatus-for-mobile-communication.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="220649-an-takeout-conveyor-assembly-for-removing-formed-bottles-from-an-i-s-machine.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>220648</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>IN/PCT/2002/01382/MUM</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>33/2008</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>15-Aug-2008</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>30-May-2008</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>04-Oct-2002</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>SONY CORPORATION</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>7-35 KITASHINAGAWA 6-CHOME, SHINAGAWA-KU, TOKYO, 141-0001</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>TETSUJIRO KONDO</td>
											<td>SONY CORPORATION, 7-35 KITASHINAGAWA 6-CHOME, SHINAGAWA-KU, TOKYO, 141-0001</td>
										</tr>
										<tr>
											<td>2</td>
											<td>NAOKI FUJIWARA</td>
											<td>SONY CORPORATION, 7-35 KITASHINAGAWA 6-CHOME, SHINAGAWA-KU, TOKYO, 141-0001</td>
										</tr>
										<tr>
											<td>3</td>
											<td>JUNICHI ISHIBASHI</td>
											<td>SONY CORPORATION, 7-35 KITASHINAGAWA 6-CHOME, SHINAGAWA-KU, TOKYO, 141-0001</td>
										</tr>
										<tr>
											<td>4</td>
											<td>TAKAHIRO NAGANO</td>
											<td>SONY CORPORATION, 7-35 KITASHINAGAWA 6-CHOME, SHINAGAWA-KU, TOKYO, 141-0001</td>
										</tr>
										<tr>
											<td>5</td>
											<td>TORU MIYAKE</td>
											<td>SONY CORPORATION, 7-35 KITASHINAGAWA 6-CHOME, SHINAGAWA-KU, TOKYO, 141-0001</td>
										</tr>
										<tr>
											<td>6</td>
											<td>SEIJI WADA</td>
											<td>SONY CORPORATION, 7-35 KITASHINAGAWA 6-CHOME, SHINAGAWA-KU, TOKYO, 141-0001</td>
										</tr>
										<tr>
											<td>7</td>
											<td>TAKASHI SAWAO</td>
											<td>SONY CORPORATION, 7-35 KITASHINAGAWA 6-CHOME, SHINAGAWA-KU, TOKYO, 141-0001</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04N5/232</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/JP02/01397</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2002-02-19</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>2001-41554</td>
									<td>2001-02-19</td>
								    <td>Japan</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/220648-an-image-processing-apparatus by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 10:30:55 GMT -->
</html>
