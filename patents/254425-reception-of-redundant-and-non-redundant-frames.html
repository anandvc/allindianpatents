<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/254425-reception-of-redundant-and-non-redundant-frames by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 11:41:41 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 254425:RECEPTION OF REDUNDANT AND NON-REDUNDANT FRAMES</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">RECEPTION OF REDUNDANT AND NON-REDUNDANT FRAMES</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>The present invention is concerned with highly available communication networks, in particular for industrial or utility applications such as substation automation. The devices are connected to two redundant lines (la, lb) through two independent transceivers (2a, 2b) and bus controllers (3a, 3b), i.e. the physical layer and the link layer of the corresponding protocol stack is duplicated. For seamless operation, a sender (11) sends frames (100a, 100b) simultaneously over both lines and a receiver (13) accepts whichever frame of a pair comes first and ignores the late frame. The invention describes a method for discarding duplicate frames at the link layer without considering the higher protocol layers, based on a counter (202, 203) inserted in the frame and an algorithm for rejection, with a corresponding means to detect which frames operate according to the redundancy protocol. Fig.l Redundancy ID for rejection of duplicate frames in redundant Ethernet-type networks</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td> <br><br>
DESCRIPTION RECEPTION OF REDUNDANT AND NON-REDUNDANT FRAMES<br>
FIELD OF THE INVENTION<br>
The invention relates to the field of communication networks in applications such as vehicle control, drive control or substation automation. It departs from a method of receiving frames by a receiving device in a communication network comprising at least two elementary networks or physical links for transmitting redundant frames according to the preamble of claim 1.<br>
BACKGROUND OF THE INVENTION<br>
To increase the availability of data networks in vital or otherwise critical applications such as vehicle control, drive control or substation automation, redundancy is required. Basically, the latter may be provided by duplicating the communication lines, e.g. the electrical or optical transmission lines, as well as at least the physical layer of the corresponding protocol stack. While the sending of duplicate information generally does not represent a major obstacle to a straightforward implementation, receiving and handling * of duplicated information may require special provisions.<br>
The communication standard EEC 61375, for the purpose of improving availability to enable its use in rail vehicles, specifies two physically independent elementary networks and introduces a frame-by-frame redundancy, in which a sender sends redundant frames simultaneously over the two lines, and a receiver primarily receives the data over one line while observing the other. US Patent Application Publication US 2003/0147377 Al applies this principle to redundant switched full-duplex Ethernet type communication networks. For the purpose of filtering duplicates, the sender adds an identifier field to the frames before sending identical frames on both elementary networks. A receiver accepts a frame only if its identifier has not been received previously via the other network, i.e. duplicates are rejected at the link layer. The identifier is a continuous frame number or sequence counter value of successive frames that is restarted from zero after a determined count as<br><br>
disclosed e.g. by the IEEE standard 802.2. A given time window delimits the time for acceptance of a frame. In order to maintain the standard Internet Protocol (IP) frame header, the sequence counter is inserted preferably between the payload and the check sequence.<br>
The aforementioned method works well within a closed environment in which all devices are expected to insert a sequence counter in the frames. However, in particular in the area of substation automation, third-party devices and/or mobile devices such as engineering laptops are often connected to one of the two redundant lines only and do not have knowledge of the particular redundancy protocol used by the majority of devices in the network. In this case, the receivers are confronted both with frames that carry a sequence counter and frames that do not carry a sequence counter. In this case, the receivers might either interpret the field comprising the sequence counter and appended to the former frames as an error or ignore it as padding. While the TCP and UDP protocols are able to handle this case, other protocols could actually reject the frame. To avoid this, extensive network and device configuration procedures determining for each device if it does or not obey to the redundancy protocol would be required prior to any data communication. In addition, a general problem of Ethernet frames resides in the fact that in some cases, there is no reliable information about the frame length. Therefore, truncating a frame could result in a correct checksum in some cases, leading to an undetected error.<br>
EP 854 610 discloses an Ethernet redundancy method without switch-over for exchanging measurement data and control commands. The method discards duplicates (i.e. redundant frames) at a low level control section of the receiving device by means of a data identifier, but does not provide for an active detection of singular frames deprived of said data identifier. In detail, singular transmission data addressed to a receiving device is stored in a reception area of a buffer section. In the subsequent step of checking if identical data has already been received over the redundant system's communication line, no such identical data is found, and the singular data is actually forwarded to the respective reception queue as well as to the upper level application. After some time, the abnormality process removes the singular data from the reception queue, as for these no duplicate will be received within a predetermined timeout period. The occurrence of singular data is treated as a scarce case of abnormal behavior, and the method inherently processes the singular data to the upper level application without even considering to identify the singular data at the low level control section of the receiving device.<br><br>
DESCRIPTION OF THE INVENTION<br>
It is therefore an objective of the invention to enable, with limited or no configuration sffort, a sending device to be connected to one of two lines of a redundant communication aetwork and to send frames to a receiving device connected to both lines and prepared to receive redundant frames sent over both lines. This objective is achieved by a method of receiving frames and a data format for data frames according to the claims 1 and 11. Further preferred embodiments are evident from the dependent patent claims.<br>
According to the invention, the receiving device performs a discrimination or differentiation between non-redundant or singular frames transmitted over one line only, and duplicated or redundant frames transmitted, or at least intended to be transmitted, over both lines. Any frame identified as a singular frame, of which no duplicate exists, is directly forwarded for further processing. Any frame identified as a redundant frame, transmitted according to a certain redundancy protocol, is subsequently checked for duplicates having been received beforehand. If the latter is not the case, the redundant frame is identified as a first frame and forwarded for further processing. Otherwise, the redundant frame is identified as a second or late frame and ignored, while nevertheless some information may be derived from its reception. Thus, the receiving device is able to communicate over a communication network with sending devices that implement, as well as with sending devices that do not obey, a particular redundancy protocol.<br>
While the aforementioned discrimination could be performed at any protocol layer of the protocol stack implemented at the receiver, identification and elimination of second frames at the data link layer advantageously saves subsequent protocol layers from executing additional tasks related to duplicate rejection. Nevertheless, as in case of doubt about their redundancy or origin frames are forwarded to a subsequent protocol layer, no frame is disregarded or dropped accidentally. The subsequent protocol layer may be a higher-level layer further inspecting forwarded doubtful frames, or may be a further, singular link layer of a redundancy or relaying device sending forwarded frames over a further, singular line or a non-redundant bus.<br>
In a preferred variant of the invention, a redundancy identifier is added to the two redundant frames as part of the redundancy protocol at the sending device. The redundancy identifier is calculated on the basis of the frame to be transmittedr and compared with a redundancy identifier calculated at the receiving device based on the received frame. This<br><br>
enables a high confidence level to be achieved with a comparatively short redundancy identifier of only a few bits, as compared to fixed and/or predetermined identifiers serving the same purpose.<br>
Several methods such as checksum or hashing can be used to identify redundant frames, but in a simple embodiment, the value of the redundancy identifier is set equal to the length of the frame. This calculation-effective exploitation of frame-specific information additionally allows the receiver to detect truncated frames with accidentally correct checksums.<br>
In a preferred embodiment of the invention, a redundant frame received over a first line is identified as a first frame of a pair of redundant frames with identical information by means of a frame or sequence counter value transmitted with the received frame. The value of the frame received is compared to a counter or drop window of a predefined maximum length, thus no large tables of used counter values have to be maintained. Although it might be helpful for network management to keep track of the last time when a frame was received from a device, the present method makes no use of a time window.<br>
Advantageously, the aforementioned drop window is delimited by a sync counter value. As soon as the received frames on one of the lines lag behind the sync counter value of the other line, this is interpreted as a loss of synchronisation between the two lines or an at least temporary unavailability of the former line. Hence, a loss of several frames in sequence that can occur e.g. if a switch is reconfiguring itself by executing e.g. a spanning tree protocol, is handled as well. Albeit the algorithm may fail if the delay between the two lines becomes unpredictable, this will not harm transmission, since in case of doubt no frame is rejected and the decision to use the frame is left to the higher protocol layers.<br>
In other words, preferred embodiments of the redundancy method according to the invention comprise one or more of the following advantageous features, a) A support of mixed redundant and singular data traffic, which allows attaching non-critical devices to only one of the two redundant lines without having the interface of a receiving device declare the other line as faulty, b) A use of a long sequence of identifiers, which eliminates the need to create a timer and keep track of time-outs for each single identifier, c) A use of contiguous identifiers, enabling two counter values per source to be updated and out-of-sequence frames to be detected without going through tables of received identifiers, d) An extendability of the redundancy scheme to cover other requirements such as Ethernet security issues as well.<br><br>
BRIEF DESCRIPTION OF THE DRAWINGS<br>
The subject matter of the invention will be explained in more detail in the following text with reference to preferred exemplary embodiments that are illustrated in the attached schematic drawings, in which:<br>
Fig. 1   shows a bus topology of a communication network, Fig.2   shows a switch topology of a communication network, Fig. 3   depicts the components and inaction blocks of a device, Fig. 4   illustrates a redundant frame, Fig.5   shows the evolution of two drop windows,<br>
Fig.6   depicts a virtually redundant network that shares some physical elements, Fig.7   shows a redundancy box, and Fig. 8   illustrates a redundancy switch in another virtually redundant network<br>
The reference symbols used in the drawings, and their meanings, are listed in summary form in the list of reference symbols. In principle, identical parts are provided with the same reference symbols in the figures.<br>
DETAILED DESCRIPTION OF PREFERRED EMBODIMENTS<br>
Fig.l shows a bus topology representing e.g. a field-bus according to EEC 61158 and Fig.2 shows a switch topology of a communication network representing e.g. an Ethernet-type local area network (LAN). In both cases, two or more devices, 11, 12, 13, 14 are connected by two lines la and lb that are completely separated from each other to avoid a common source of failure. In the present context, the term line does not only describe a point-to-point physical link, but generally refers to one of two redundant paths that can be electrical, optical or based on another technology. As will be apparent from the following detailed description, the invention is independent of the number of connecting elements, hubs or switches and their respective arrangement, e.g. in a loop or tree topology, and is applicable to any type of network and communication media, as well as any number of redundant lines and even only partially, i.e. section-wise, redundant lines.<br>
A sending device or source subscriber equipment 11, 12 sends the same information 100a, 100b over both lines la, lb, and a receiving device or destination subscriber equipment 13, 14 takes the information from whichever line comes first, ignoring the<br><br>
information ftom the late line but nevertheless registering its reception. If only one line is disturbed, the information will arrive over the other line. This method offers a completely seamless switchover, since there is no need to repeat a piece of information over a previously silent back-up line in case of disruption. It also offers a complete supervision of both redundant lines with normal traffic, ensuring a high coverage and avoiding a dedicated traffic for supervising a back-up line. In Fig.2, devices 30, 31 do not participate in the redundancy protocol and send singular, i.e. non-duplicated information 100s to only one switch 20b.<br>
Fig. 3 shows the components and function blocks of a device for sending or receiving redundant frames according to an embodiment of the present invention. In terms of protocol layer hierarchy, this method basically requires the physical layer and the link layer 4 to be duplicated. Accordingly, the sending device 11 comprises two line transceivers 2a and 2b, and two Ethernet controllers 3a and 3b. Processor 10 of the sending device 11 is responsible for providing data packets and preparing a pair of duplicated frames 100a, 100b there from. The frames to be sent are handed through the two Ethernet controllers 3a, 3b to the transceivers 2a, 2b, which in turn do send the frames over the redundant lines la, lb.<br>
At a receiving device 12, 13, the two frames 100a, 100b of a pair are normally almost simultaneously received. Any difference between the arrival times of the two frames may be due to the independent arbitration procedures for accessing the individual lines la, lb, or due to individual delays in the switches 20a, 20b or in other connecting elements not shown in Fig.2. In any case, it can be expected that the order or sequence of the frames sent by one device 11 oyer one line la is maintained, however a later frame 101a sent over one line la may be received prior to the reception of a frame 100b that was sent over the other line lb before said later frame 101a.<br>
The transceivers 2a and 2b are part of the lowest protocol layer of the information transfer process, i.e. the communication, modem or physical layer where the modulation of the digital data occurs. The two Ethernet controllers 3a, 3b establish the connection to the communication media and receive and send the frames from and to corresponding Ethernet controllers in other network devices. They provide the functional and procedural means to transfer data between network devices and to detect and possibly correct errors that may occur in the physical layer. A processor 10 executes, among other tasks, the two 1inV layer protocols or drivers 4a, 4b that are part of the data link layer. The data link layer is hierarchically situated above the physical layer and handles the data exclusively in digital<br><br>
or binary form. A prominent example is Ethernet for local area networks (LAN). Ethernet is a packet-based computer networking technology that defines wiring and signalling for the physical layer, and packet formats and protocols for the media access control (MAC) sub-layer of the data link layer. The data link protocol generally executed in the driver 4a, 4b is often implemented as the IEEE standard 802.2 prescribes, but the Internet Protocol uses a transparent data link protocol.<br>
In conventional non-redundant data transmission, the link layer 4 of the protocol stack is directly connected to a network layer 7 through a link-to-network layer interface 6. The network layer addresses messages and translates logical addresses and names into physical addresses. The network layer also determines the route from the source to the destination device and manages traffic problems, such as switching, routing and controlling the segmentation of data packets. The Internet Protocol (IP) is a widespread network protocol that sends data as blocks referred to as packets or datagrams comprising a header and a data or payload area. Above the network layer, a transport layer not depicted in Fig.3 is situated, which in turn operates e.g. according to the transmission control protocol (TCP) or user datagram protocol (UDP). On top of the transport layer resides an application layer 9.<br>
In principle, the two link layer protocols 4a, 4b could just send both redundant frames to the network layer 7 and frame duplication could be handled by the higher layer protocols in the processors 10. For instance, a transport protocol such as TCP is designed to reject duplicates that can appear in every network due to routing. Other protocols such as UDP or ARP do not detect duplicates, but assume that the application 9 is not affected by reception of duplicates. The latter is true when the network carries sampled values in industrial applications such as IEC 61850, as a reception of duplicate sampled measurement values does not harm the accuracy of the original measurement The Generic Object Oriented Substation Event (GOOSE) is specified by the substation automation standard IEC 61850 and involves a reduced protocol stack 8 allowing an application 9 to access the link layer of the Ethernet protocol directly, i.e. bypassing the usual network and transport layers. This is most beneficial to the fast communication between devices on the same "subnet", i.e. without relaying at routers or gateways. By way of example, signals for interlocking or data indicative of a status of the substation and sampled at short intervals of e.g. 4 ms, are generally transmitted this way.<br>
However, filtering of duplicates at the link layer 4 instead of handling the redundant frames in the transport layer reduces the computational load of the processor. Furthermore,<br><br>
and in particular in the context of substation automation and the use of the TEC 61850 standard, it is expected that a number of devices obeying to this standard will be connected to a communication network for substation automation without a priori obeying to a common redundancy protocol. Again, eliminating duplicates at the link layer 4 avoids to subject the higher layer protocols 7,8 of these devices to a double traffic.<br>
According to preferred embodiments of the present invention, one or more additional layers are introduced in the protocol stack. In particular, a merge layer 5 formally part of the link layer 4 and hierarchically atop of the two independent link layer drivers 4a, 4b executes the redundancy protocol, and presents towards the high layer protocols 7 or 8 the same link-to-network layer interface 6 as in the non-redundant case. Thus, as long as the rejection protocol works properly, the application layer 9 and the high layer protocols 7 or 8 do not notice the presence or absence of redundancy at all. The merge layer 5 itself behaves as a network layer for titte link layer drivers 4a and 4b, and keeps track of the health status of two redundant lines la, lb and therefore can signal disturbances to network management, especially the out-of-sync and stale situations occurring on one of the two lines that otherwise would remain undetected. The main task of the merge layer 5 consists in distinguishing frames that participate in the redundancy protocol from non-redundant or singular frames, e.g. by inspecting a redundancy trailer 200 as detailed below.<br>
Fig.4 shows a typical frame used in the Internet over Ethernet protocol, as could be sent over either line la or lb. The frame starts with a preamble 101, followed by the destination MAC address 102 that identifies the destination, followed by the source MAC address 103 that identifies the sender within the same subnet. The next field 104 is the link layer control, which obeys for instance to the 802.2, 802. Iq or another link layer protocol to control data traffic between devices sharing the same medium access. Then comes the payload 105, for instance an Internet packet consisting of an IP header, a TCP header and useful data, or a GOOSE packet in IEC 61850. A frame check sequence FCS 106, e.g. a cyclic redundancy check CRC, computed by the bus controller 3a, 3b concludes the frame.<br>
To the attention of the redundancy protocol, up to four fields of a predetermined bit-length each are inserted as a redundancy trailer 200 between the payload 105 and the frame check sequence 106. The latter comprises a sequence counter 201, a line identifier 202 that indicates over which line the frame has been sent or received, a length field 203 which acts as a redundancy identifier and gives the length of the frame over which the FCS 106 is computed, e.g. from field 101 to field 204 inclusive, and an optional identifier field 204.<br><br>
Obviously, the order of the aforementioned fields in the redundancy trailer 200 is not constrained.<br>
The length field 203 duplicates the information in the link layer header 104 when the latter obeys to the IEEE 802.2 protocols, e.g. for bridge-to-bridge communication. However, Internet frames replace the length field with a protocol type, a potential integrity breach that is overcome by this solution.<br>
The line identifier 202 serves network management purposes and allows to check that the network is correctly configured, in which case it should not be possible that a frame of line la appears on line lb. In some situations, for instance during commissioning or in networks with reduced redundancy, the two redundant frames of a pair might be received over the same line, in which case the receiver segregates the lines by the line identifier field 202, applying the same protocol as if the redundant frames had been received over separate lines. At the same time the receiver signals a configuration error, since this situation bears the danger of a single point of failure. Under normal operation, line identifier 202 may be used as part of the redundancy identifier, e.g. by assigning to it the hexadecimal coding of "A" or "B".<br>
To distinguish frames 100a, 100b sent according to the redundancy protocol from non-redundant or singular frames 100s, a receiver checks if the field of predetermined length located at position 203 has a redundancy identifier that matches the redundancy identifier computed by the controller of the receiver, in other words, if the content of field 203 does not equal the length of the received frame calculated at the receiver, the receiver assumes that this frame does not participate in the redundancy protocol and forwards it to the subsequent layers. To the same purpose, the field 202 may be checked to verify if it contains a correct line identifier, and/or the optional identifier field 204 may be evaluated as detailed further below.<br>
If one or more of the aforementioned fields 202, 203, 204 indicates a redundant frame, this frame is further inspected by evaluating the sequence number in the field located at position 201. The sequence or frame counter 201 of the latest frame serves the purpose of duplicate rejection as described below. In principle, all operations are executed on Modulo-N arithmetic, N being the largest value of the counter plus one, wherein the counter is expected to have 16 bits. Accordingly, while implementing the following algorithm and referring to differences in counter values, particular care has to be taken.<br><br>
As mentioned above, each sender keeps a send counter initialised at an arbitrary and preferably random value, inserts the same send counter value into both frames of a pair, at the same time it sets the line identifier 202 and calculates the length field 203. The send counter value is increased for each frame pair the sending device transmits in sequence.<br>
As depicted in Fig.5, a receiver maintains, for each sender identified by its MAC address and possibly link layer service access point (LSAP), and for both lines, a drop window of Lw successive counter values, wherein the window length Lw is an integer comprised between one and a maximum window length L^Max- The drop window is delimited by a sync counter CS and the next expected sequence number CN not yet received. By definition, the latter is not part of the drop window, such that CN - CS - Lw-<br>
After initialisation, the receiver accepts the counter value of the first frame it receives from a sender as the sync counter CS of that line. Referring to Fig.5, a frame with a counter value of 23 was the first to be received over line a, followed by four more frames over the same line a. The resulting drop window of length Lw = 4 is delimited by the sync counter CS = 23 and the next expected sequence number CN = 27 as depicted on the topmost row indicated "Line Al".<br>
Now, assuming that the receiver receives a frame over line b with a current counter value CCB of 25, the receiver verifies that the current counter CCB has the expected value, otherwise an out-of-sequence error will be generated, and compares the current counter CCB with the drop window of the other line a. As the counter CCB is within the drop window of the other line, this frame is ignored as it has already been received over line a. The next expected sequence number for line b is incremented to CNB2 - CCB + 1. The drop window of line b is reduced to its mfnim-nm length by setting the new sync counter CSB2 to CCB, and the drop window of line a is shortened correspondingly by setting the sync counter CSA2 to CCB as well, assuming that sequence number will not run backwards and referring to rows "Line A2" and "Line B2"<br>
Next, assuming that the receiver receives, over line a, the next expected frame with a current counter value CCA of 27. As this value CCA is outside of the current window for line b, the frame is accepted and passed to the higher levels. The window size LWA is increased from 2 to 3 as the next expected value CNA3 is incremented by one and the sync count CSA3 is left unchanged, whereas the drop window of line b remains at minimum length as depicted in rows "Line A3" and '"Line B3" If a number of frames is received successively over line a, the aforementioned procedure is repeated several times, and the<br><br>
window size LWA is increased up to a maximum LwMax- As soon as this maximum is reached, the sync count CSA is incremented as well, which in turn may make the next ■ expected value CNB of line b to fall outside of the window of line a. In this case an error counter is incremented that signals that the line b is stalled, and that the lines are out of sync. This out-of-sync state may last until the line b lagging behind has caught up by sending a frame with a sequence number within the drop window of line a.<br>
The optional identifier field 204 may carry additional information, such as a frame checksum computed according to an algorithm agreed upon between sender and receiver, and may serve as an additional identifier for rejecting or further processing of received frames. In particular, repetition of the checksum of the frame as computed by the Ethernet protocol can be used as an additional redundancy identifier. Likewise, the checksum of a frame may be stored at the receiver together with the corresponding counter value, and reject a duplicate frame only when both the counter value and the checksum of the later frame match with a prior redundant frame. The presence or absence of the optional identifier field 204 may be indicated by a bit pattern in field 202.<br>
In Figs.l and 2 the lines have been depicted as completely separated. In some cases however, and especially during installation, some physical elements of a point-to-point physical link between sender 11 and receiver 13 are shared between the two lines, thus avoiding the need for a complete duplication of the links. For instance, Fig. 6 depicts a configuration where the reliability of switch 20 is considered high enough to permit its use in both lines la, lb. Thus, two so-called virtual local area networks 21a, 21b are created instead of two separate physical LANs as in Fig.2. In order to enable the switch 20 to cope with this situation, distinct MAC addresses should be used for the two lines la, lb ending at one and the same device 11, necessitating the Address Resolution Protocol (ARP) to be run independently on both networks.<br>
Fig. 7 in turn shows a separate redundancy box 15 that comprises all the elements necessary for relaying frames between lines la, lb and line Is, i.e. the duplicate transceivers 2a, 2b, controllers 3a, 3b3 link layer protocols 4a, 4b, as well as the merge layer protocol 5. The latter is connected to a third singular link layer protocols 4s and controller 3s and a corresponding singular line Is. The merge layer 5 is responsible for generating redundant frames 100a, 100b for those singular frames received by controller 3s, and for eliminating late redundant frames received by one of the controllers 3a, 3b as described above.  Obviously, the functionality of the redundancy box  15  may be<br><br>
incorporated into a redundancy switch as depicted  where ere oasicauy non-redundant devices 30, 31 are connected to device 11 via two redundant lines la, lb.<br>
The frame or protocol data unit (PDU) according to Fig.4 can advantageously be utilized for the introduction of authentication and encryption to Ethernet in a backward compatible manner as detailed below. Up to now, security protocols have been introduced on the network- (IP-), transport- (TCP-) and higher communication layers, by adding appropriate standardized header fields in their respective PDUs, i.e. the transmitted packet. These fields indicate to the receiving node how to perform message authentication and decryption on the PDU. This presumes that destination nodes are capable of reading those additional security-relevant fields and processing the PDU accordingly. On the Ethernet (link) layer, no security protocol has been standardized to-date. Such Ethernet layer security is however required (i) for protection against link layer spoofing (spoofed link layer source address), and (ii) for protection where no higher layer security protocols are available. The latter occurs e.g. in Industrial Ethernets, in particular in the area of substation automation, when the TCP/IP-layers are bypassed for faster transmission within a local area network as specified e.g. by the GOOSE protocol mentioned above. In this case, it is no longer possible to rely on IP- or TCP-layer security protocols for the protection of such "Ethernet-only" PDUs against eavesdropping or tampering.<br>
A straightforward way to introduce additional protocols such as security protocols is by defining appropriate fields in the link layer control (LLC) part. 104 of die Ethernet packet header that provide for the necessary trigger: Nodes which are able to recognize these values then know how to interpret further header fields pertaining to the encryption and/or authentication and can process the PDU accordingly. This solution requires that there is a standard specifying those fields. Apart from the Ether type assignments above, no further Ethernet security protocol standard has however been established to-date. But even with such a standard, this solution requires that all nodes in the network must be able to recognize these fields. If a source transmits an Ethernet packet by unicast or multicast carrying security protocol fields, "incompatible" receiving nodes that cannot recognize those fields will not be able to correctly read the rest of the packet Due to the lack of implementation of standardized Ethernet security protocols in today's Ethernet network interface cards, such a backward compatibility problem becomes often an insurmountable hurdle for the introduction of Ethernet security.<br><br>
In order to introduce Ethernet security in a manner compatible with Ethernet receiving nodes that are not participating in the security scheme, a similar method as introduced above for the introduction of redundancy information can be used. In analogy to the redundancy identifier that is part of the redundancy trailer 200 appended at the end of the PDU as depicted in Fig.4, a security identifier, preferably in the form of a frame length field, is introduced. To distinguish PDUs according to the security protocol from others, a receiver checks that the value located at the position of the length field 203 is identical to the physical packet length as determined by the controller of the Ethernet receiver. If this is not the case, the receiver assumes that this frame does not participate in the security protocol and forwards it to the upper layers without further processing. If the values agree, the receiver decodes the remaining fields of the redundancy trailer according to the format defined by the Ethernet security protocol and acts accordingly. By way of example, the security fields of interest can be taken from the definition of the known IPSec headers, specifically the encapsulating security payload (ESP) header. Accordingly, said trailer fields comprise (i) a security parameter index pointing to the relevant entry in the security policy database (indicating the encryption and/or authentication algorithm, types and keys), (ii) a sequence number for replay protection, (iii) a message authentication code (MAC). The latter may cover the complete PDU for the verification of packet integrity and packet source.<br>
Nodes not understanding the Ethernet security protocol are able to read a non-encrypted packet, albeit without being able to verify integrity and authenticity. Reception without message authentication or without encryption may be sufficient for non-critical receivers, e.g. of multicast packets. Encryption, if enabled in transport mode, must however exclude certain Ethernet addressing fields, in order to allow Ethernet switches to perform address-based switching even if they do not participate in the Ethernet security protocol.<br>
Ethernet receivers not participating in the security protocol will simply not read the appended fields, but are still able to read the PDU correctly and to process the frame check sequence (FCS) for error detection. Thus, this scheme allows the compatible introduction of new Ethernet security protocols. If both a security protocol and a redundancy scheme are employed in the network, a combined redundancy and/or security identifier may be used to indicate this fact, complemented by additional flags signaling the presence of either one or both in the PDU.<br><br><br><br><br><br>
PATENT CLAIMS<br>
A method of receiving frames by a device (13, 14, 15, 20) in a communication network, wherein the device (13, 14, 15, 20) has a first and a second network controller (3a, 3b) connected respectively to a first and a second line (la, lb) for receiving frames (100a, 100b, 100s) sent by a sending device (11, 12, 30, 31) over the network, comprising, at a first layer (5, 7) of the protocol stack processing a frame (100a, 100b, 100s) received over the first line (la, lb),<br>
-	a) determining if the frame (100a, 100b, 100s) is a second frame (100b) of a pair of two redundant frames (100a, 100b) transmitted each over one of two lines (la, lb), and<br>
-	b) forwarding the frame (100a, 100s) for further processing unless the frame is a second frame (100b),<br>
characterized in that the method comprises, prior to step a),<br>
-	determining if the frame is a singular frame (100s) transmitted over the first line (la,<br>
lb) only, or if it is a redundant frame of a pair of two redundant frames (100a, 100b)<br>
transmitted each over one of two lines (la, lb).<br>
The method according to claim 1, characterized in that the first layer of the protocol stack of the device (13, 14, 15) is a merge layer (5) atop of two link layer drivers (4a, 4b) connected to the network controllers (3 a, 3b), and in that the identified singular and first frames (100s, 100a) are forwarded to a subsequent layer (7, 8, 4s) for further processing.<br>
The method according to claim 2, characterized in that the merge layer (5) presents a singular link-to-network layer interface (6) towards a higher-level protocol layer (7,8).<br>
The method according to claim 2, characterized in that the merge layer (5) forwards the identified singular and first frames (100s, 100a) via a singular controller (3s) to a singular line or to a non-redundant bus (Is).<br>
The method according to claim 1, characterized in that singular and redundant frames are identified by calculating a redundancy identifier for a received frame and comparing this calculated redundancy identifier with a redundancy identifier (202,203,<br><br>
204) transmitted with a redundant frame (100a, 100b) and absent from a singular frame (100s).<br>
The method according to claim 5, characterized in that the redundancy identifier is the frame length (203) of the redundant frame (100a, 100b).<br>
The method according to claim 1, characterized in that a first frame of a pair of redundant frames (100a, 100b) sent by a sending device (11) is determined by comparing a counter value (201, CCB) transmitted with a redundant frame (100b) received over a first line (lb) and a drop window (CSAI-CNAI) maintained at the receiving device (13) for the second line (la) to the sending device (11).<br>
The method according to claim 7, characterized in that a drop window, maintained at thereceiving device (13) for both lines (la, lb) and every sending device (11, 12), is delimited by a sync counter (CSA, CSB) and has a maximum size LwMax-<br>
The method according to one of claims 1 to 8, characterized in that the two network controllers (3 a, 3b) are Ethernet controllers and in that the communication network serves the purpose of substation automation.<br>
A computer program for receiving frames by a receiving device (13, 14) in a communication network, which computer program is loadable in and executable on a data processing unit and which computer program performs, when being executed by a data processing unit, the method according to one of claims 1 to 8.<br>
A data format for a data frame (100a, 100b, 100s), comprising a redundancy and/or security identifier (203) calculated on the basis of the frame and provided for being evaluated at a first layer (5, 7) of the protocol stack of a device (13, 14, 15, 20) in a communication network processing the frame (100a, 100b, 100s).<br>
The data format according to claim 11, characterized in that a redundancy trailer (200) comprises the redundancy identifier (203), a line identifier (202) and a sequence or frame counter (201), and in that the redundancy identifier (203), the line identifier (202) and the frame counter (201) are inserted between payload (105) and frame check sequence (FCS) of a redundant frame (100a, 100b).<br>
The data format according to claim 11, characterized in that a security trailer (200) comprises the security identifier (203), a security parameter index, a sequence number (201) and a message authentication code, and in that the security identifier (203), the<br><br>
security parameter index, the sequence number (201) and the message authentication code are inserted between payload (105) and frame check sequence (FCS) of a secured frame (100s).<br>
14. The data format according to claim 11, characterized in that a redundancy and/or security trailer (200) comprises a flag signalling the presence of a redundancy and/or security protocol in the data frame (100a, 100b, 100s).<br><br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjEwMi1DSEVOUC0yMDA3ICAgQU1FTkRFRCAgUEFHRVMgT0YgU1BFQ0lGSUNBVElPTiAgMTEtMTAtMjAxMi5wZGY=" target="_blank" style="word-wrap:break-word;">2102-CHENP-2007   AMENDED  PAGES OF SPECIFICATION  11-10-2012.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjEwMi1DSEVOUC0yMDA3ICAgQU1FTkRFRCBDTEFJTVMgIDExLTEwLTIwMTIucGRm" target="_blank" style="word-wrap:break-word;">2102-CHENP-2007   AMENDED CLAIMS  11-10-2012.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjEwMi1DSEVOUC0yMDA3ICAgQ09SUkVTUE9OREVOQ0UgT1RIRVJTICAxOS0xMi0yMDExLnBkZg==" target="_blank" style="word-wrap:break-word;">2102-CHENP-2007   CORRESPONDENCE OTHERS  19-12-2011.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjEwMi1DSEVOUC0yMDA3ICAgRVhBTUlOQVRJT04gUkVQT1JUIFJFUExZIEZSRUNFSVZFRCAxMS0xMC0yMDEyLnBkZg==" target="_blank" style="word-wrap:break-word;">2102-CHENP-2007   EXAMINATION REPORT REPLY FRECEIVED 11-10-2012.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjEwMi1DSEVOUC0yMDA3ICAgRk9STS0zICAxMS0xMC0yMDEyLnBkZg==" target="_blank" style="word-wrap:break-word;">2102-CHENP-2007   FORM-3  11-10-2012.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjEwMi1DSEVOUC0yMDA3ICAgUE9XRVIgT0YgQVRUT1JORVkgIDExLTEwLTIwMTIucGRm" target="_blank" style="word-wrap:break-word;">2102-CHENP-2007   POWER OF ATTORNEY  11-10-2012.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjEwMi1jaGVucC0yMDA3LWFic3RyYWN0LnBkZg==" target="_blank" style="word-wrap:break-word;">2102-chenp-2007-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjEwMi1jaGVucC0yMDA3LWNsYWltcy5wZGY=" target="_blank" style="word-wrap:break-word;">2102-chenp-2007-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjEwMi1jaGVucC0yMDA3LWNvcnJlc3BvbmRuZWNlLW90aGVycy5wZGY=" target="_blank" style="word-wrap:break-word;">2102-chenp-2007-correspondnece-others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjEwMi1jaGVucC0yMDA3LWRlc2NyaXB0aW9uKGNvbXBsZXRlKS5wZGY=" target="_blank" style="word-wrap:break-word;">2102-chenp-2007-description(complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjEwMi1jaGVucC0yMDA3LWRyYXdpbmdzLnBkZg==" target="_blank" style="word-wrap:break-word;">2102-chenp-2007-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjEwMi1jaGVucC0yMDA3LWZvcm0gMS5wZGY=" target="_blank" style="word-wrap:break-word;">2102-chenp-2007-form 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjEwMi1jaGVucC0yMDA3LWZvcm0gMy5wZGY=" target="_blank" style="word-wrap:break-word;">2102-chenp-2007-form 3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjEwMi1jaGVucC0yMDA3LWZvcm0gNS5wZGY=" target="_blank" style="word-wrap:break-word;">2102-chenp-2007-form 5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjEwMi1jaGVucC0yMDA3LXBjdC5wZGY=" target="_blank" style="word-wrap:break-word;">2102-chenp-2007-pct.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="254424-a-method-for-preservation-of-natural-rubber-latex-using-methylol-compounds.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="254426-a-communication-system-and-a-method-of-enabling-communication-between-a-plurality-of-devices.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>254425</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>2102/CHENP/2007</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>44/2012</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>02-Nov-2012</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>01-Nov-2012</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>16-May-2007</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>ABB RESEARCH LTD</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>AFFOLTERNSTRASSE 52, CH-8050 ZURICH.</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>KIRRMANN, HUBERT</td>
											<td>IM RUTELI 17,CH-5405 DATTWIL.</td>
										</tr>
										<tr>
											<td>2</td>
											<td>DZUNG, DACFEY</td>
											<td>ALBISSTRASSE 1, CH-5430 WETTINGEN, SWITZERLAND</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04L 29/14</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/CH05/00678</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2005-11-15</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>04405708.1</td>
									<td>2004-11-16</td>
								    <td>EUROPEAN UNION</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/254425-reception-of-redundant-and-non-redundant-frames by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 11:41:42 GMT -->
</html>
