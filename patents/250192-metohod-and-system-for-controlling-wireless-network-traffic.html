<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/250192-metohod-and-system-for-controlling-wireless-network-traffic by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 14:34:25 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 250192:&quot;METOHOD AND SYSTEM FOR CONTROLLING WIRELESS NETWORK TRAFFIC&quot;</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">&quot;METOHOD AND SYSTEM FOR CONTROLLING WIRELESS NETWORK TRAFFIC&quot;</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A system and apparatus for redirecting wireless network traffic. Embodiments include determining when a roaming mobile station (204) initiates a registration attempt with a non-preferred network (506) and causing the roaming mobile station to initiate a registration attempt with a preferred network (504). Embodiments further include a traffic redirection network entity including a traffic redirection node (102b), a traffic redirection application (102c), and a traffic redirection probe. Embodiments also include redirecting traffic after a mobile station has registered with a non-preferred network.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>RELATED APPLICATIONS<br>
This application claims priority from United States Provisional Patent Applications Serial No. 60/401,362, entitled TRAFFIC REDIRECTION, filed August 5, 2002.<br>
TECHNICAL FIELD<br>
The disclosed embodiments relate to methods and system for directing cellular network traffic.<br>
.BACKGROUND<br>
There are many mobile or cellular network operators, or providers, in the world, often more than one in a<br>
single country. These network operators include, but are not limited to, operators who provide mobi%<br>
services using GSM, GPRS, 3G, CDMA, TDMA, PHS, WCDMA, IDEN and WLL technology or their<br>
variants. These network operators provide voice and data services to their own subscribers and to<br>
subscribers from other networks. When the network operator provides service to a subscriber from a<br>
foreign country, it is referred to as "international roaming". When the network operator provides service to<br>
a subscriber from another network in the same country, it is referred to as "domestic roaming".<br>
When the subscriber is registered in the network with which it has a direct billing relationship, the servirtg<br>
network is often referred to as the Home Public Mobile Network or HPMN. If the subscriber is in a networtc<br>
with which it does not have a direct billing relationship, the serving network is referred to as the Visited<br>
Public Mobile Network or VPMN, and the subscriber is referred to as an in-roamer by the VPMN. The<br>
same subscriber is referred to as an out-roamer by the HPMN. In such a case, the in-roamers are treated<br>
as temporary subscribers from a service availability perspective, while the billing for usage incurred by<br>
them is through inter-carrier settlements via the home network of the subscriber.<br>
Various network operators have partnership agreements with each other that include more favorable<br>
roaming charges than non-partners receive. Partner networks are "preferred" networks for the network<br>
operator's subscriber to register with when roaming. Non-partner networks are "non-preferred" networks to<br>
the subscriber.<br>
Network operators can maximize their margins and the roamers can get more attractive roaming rates and<br>
services if roamers roam on their home mobile operator's preferred partner networks.<br>
When "home" subscribers roam into visited networks, they may roam onto one, two or more VPMNs, ally<br>
one at a time, based on various criteria. To better understand this, consider the cases when the handset<br>
can be in one of two modes: automatic network selection mode; or manual network selection mode.<br>
In automatic mode, the handset automatically uses a set of rules to find the network to register with. Tfte<br>
order of these rules may be handset vendor dependent; however, industry specifications state the ordier<br>
as:<br>
1.	The last selected network (from EFLOCI on the SIM card);<br>
2.	The home network if its available (based on MCC and MNC from IMSI);<br>
3.	If the last registered network is not found, the handset tries to register on the list of networks from the Preferred PLMN List (EFPLMNSEL on SIM card) in priority order excluding the previously selected PLMN (the handset scans the GSM 900 frequency band before it scans the GSM 1800 frequency band);<br>
4.	Other PLMN with a received signal level above-85 dBm in random order excluding the previously selected PLMN ; and<br>
5.	Any other PLMN excluding the previously selected PLMN in order of decreasing signal strength or alternatively the previously selected PLMN may be chosen ignoring its signal strength.<br>
In manual mode, the handset shows a list of available networks to the user. The user selects one of them and the handset attempts registration onto that network. If the registration is not successful, the handset shows the list of networks to the user once again. In manual mode, the user has selected a particular network, so preferred VPMN selection from the HPMN perspective should not apply. However, a majoilty of current handsets are in automatic selection mode, and the HPMN is keen on controlling andfor influencing the roaming network chosen by its out-roamers. Also, since the HPMN would like to honor tfte manual selection mode, it has to identify the current settings on the handset. However, implementing a seamless mechanism to do this has been a challenge thus far.<br>
Over the last few years, the revenues to network operators from home subscribers have consistently declined due to increased competition and resulting pricing pressures On the other hand rrevenues from  <br><br>
roamers have consistently grown in the same period due to increased mobile penetration in local markets<br>
and an increase in travel. Moreover, roaming revenues are high-margin revenues that typically comprise<br>
between 8-25% of the total network operator revenues. Hence, protecting the existing roaming revenues<br>
and growing them further has become an important priority for the network operators worldwide.<br>
Some operators also own networks in various countries. These operators would like to make sure their<br>
out-roamers stay within the group properties, or stay on preferred networks, in order to gain the best<br>
service experience even when roaming.<br>
They will also be able to offer geography based price plans (for example, a single rate all across Western<br>
Europe or South East Asia) to users who have subscribed to such plans. In addition, as new technologies<br>
keep rolling out, they can control the rollout schedule across their own properties and also make sure<br>
interoperability issues are taken care of. Keeping roaming subscribers on preferred networks gives the<br>
best service experience to the subscriber. However, current methods of controlling which network a<br>
subscriber registers on when roaming have disadvantages.<br>
For example, a commonly-used method of attempting to prevent roaming subscribers from registering with<br>
non-preferred networks includes storing a list of preferred networks on a SIM in the subscriber's handset<br>
(a Preferred PLMN list). The list can be burned on the SIM or updated using Over-The-Air (OTA)<br>
messages. This list influences the initial selection of the preferred network. However, due to various<br>
reasons (for example, the preferred network is not currently available or there is a temporary loss of<br>
coverage), the handset may also select a non-preferred network. The existing approach cannot, control<br>
this situation and hence once the user is on a non- preferred network, he/she will remain there unless the<br>
non-preferred network loses the radio coverage. Even when the handset is powered off, the non-preferred<br>
network stays on the SIM card and on next power on it will be selected according to rules described<br>
herein. Thus, once the handset initiates an attempt to register on a non-preferred network, the network<br>
operator loses control of the roamer.<br>
It would be advantageous for the network operator to retain some control over a roaming subscriber<br>
handset even when a handset has initiated a registration attempt with a non-preferred network for any<br>
reason, such as failure of the SIM network list to produce registration on a preferred network.<br>
A method for controlling wireless network traffic, comprising:<br>
determining when a roaming  mobile station initiates a registration attempt with a non-preferred network;<br>
and<br>
causing the roaming mobile station to initiate a registration attempt with a preferred network.<br>
BRIEF DESCRIPTION OF THE FIGURES<br>
In the drawings, the same or similar reference numbers identify similar elements or acts. Figure 1 is a block diagram of an embodiment of a traffic redirection system.<br>
Figure 2 is a block diagram of an embodiment of a traffic redirection system that shows one of the network operator's subscribers within the subscriber's home network.<br>
Figure 3 is a block diagram of an embodiment of a traffic redirection system illustrating passive monitoring.<br>
Figure 4 is a block diagram of an embodiment of a traffic redirection system illustrating active monitoring. Figure 5 is a block diagram of an embodiment of a traffic redirection system illustrating Over-The-Air (OTA) based traffic redirection.<br>
Figure 6 is a flow diagram of an embodiment of OTA traffic redirection.<br>
Figure 7 is a flow diagram illustrating the interaction of an embodiment of traffic redirection with automatic network selection.<br>
Figure 8 is a flow diagram illustrating the interaction of an embodiment of traffic redirection with manual network selection.<br>
Figure 9 is a diagram of a call flow according to one traffic redirection embodiment. Figure 10 is a diagram of a call flow according to one traffic redirection embodiment. Figure 11 is a block diagram of an embodiment of a traffic redirection system with national or border roaming and traffic redirection.<br>
DETAILED DESCRIPTION<br>
A method and system are described for redirecting wireless network voice and data traffic under control of a network operator when a      subscriber is  roaming   Various  embodiments nf the  invention  include<br><br><br>
redirecting a handset when the handset has initiated a registration attempt with a non-preferred network. Various embodiments of the invention include redirecting a handset when the handset attempts to register with a non-preferred network. Various embodiments of the invention include redirecting a handset after the handset successfully registers with a non-preferred network. The embodiments described can be used as a complement to existing traffic redirection methods, such as preferred PLMN lists. More than one approach can be combined to enhance the user experience. The various traffic redirection methods described are transparent to the subscriber. An Appendix includes an explanation of numerous acronyms used herein and is included below for reference. Therefore, various acronyms used may not be spelled out in the body of the document.<br>
Herein terms such as handset, subscriber, user, etc. , may be used interchangeably to indicate an actor that is registering with a network. These terms are used for convenience, but in fact, the actor that registers with the network could be any combination of hardware and software capable of registering on a wireless network, e. g. , a personal digital assistant (PDA) or personal computer (PC). The method and system described apply to any network entity that can register with one of several networks. Embodiments described herein include OTA traffic redirection methods and "registration rejection" traffic redirection methods.<br>
OTA methods include the following components: detecting the network the roamer is currently on; traffic redirection (TR) application logic deciding whether the roamer should be moved to a different (preferred) network; sending OTA messages to update certain files on the SIM card and then instructing the handset to refresh its cache; and sending OTA or SMS messages to the SIM toolkit application on the handset so that the application switches the roamer to a preferred network. In the final component just listed, the SIM toolkit application switches the roamer to a preferred network using one of two approaches: updating SIM card files and then instructing the handset to refresh its cache; or instructing the handset to select a particular network directly.<br>
Registration rejection methods include the following components: detecting the network the roamer is currentfy on; the TR application logic deciding whether the registration process should be allowed to succeed or rejected; if the network is to be rejected, various approaches are taken to reject the Update Location with various error codes or to send a subscriber profile with information that makes the handset search for a new network; if a preferred network is not found, the TR application logic can decide that the user should be provided service on any available network, and hence registrations on non-preferred networks are also allowed to go through; a mechanism to initiate Update Location on demand is also provided, and this can be used to make the handset trigger an Update Location periodically; in some embodiments, it is determined whether the handset is in manual or automatic network selection mode; and it is also determined whether the handset is in midst of a voice or GPRS/MMS session. Both the OTA approaches and the registration rejection approaches involve first detecting that tha subscriber is roaming in another network. The two types of approached also share various databases (to be described below) of information that is be used to make traffic redirection decisions. Figure 1 is a block diagram of one embodiment of a traffic redirection system 100. The system 100 includes network operator backend processes (or "backend") 101, external systems 126, and traffic redirection network (TR) element 102. These elements are used by the network operator to provid* wireless services to subscribers, such as cellular phone users. Subscribers buy services from thfi operator, including voice and data services that the user access with a phone, a PDA, a PC, or any device (not shown in this figure) that can communicate on a wireless network. The user device is genericafly referred to as a mobile station in the wireless network. For convenience herein, the mobile station wil usually be referred to as a handset.<br>
The network provider backend 101 includes an SMSC interface 106, a GSM encryption element 108, and a key manager 110. The key manager has control over certain keys in the handset. For example, the handset may have an OTA. key lock that prevents writing to the handset SIM without network operator permission. The network operator backend 101 further includes an OTA interface 112 for sending and receiving OTA messages, and application logic 114 for providing and controlling specific wireless services. The network operator backend 101 further includes various databases, including a tariff and service database 116, a handset database" 118, an IMSI/SIM-database 120, and a roamer profile database 122. Various databases are described in more detail below.<br>
The network operator backend 101 further includes an integration interface for facilitating communication with other systems.<br><br>
Traffic redirection elements of the system 100 include a traffic redirection (TR) network element 102. The TR network element 102 includes a TR roaming probe 102a, and a TR node (not shown in this figure), and a TR application (not shown in this figure). Each of these is described in more detail below. The TR node, the TR application, and the TR roaming probe may or may not be physically co-located in various embodiments, but all are considered parts of the TR network element.<br>
The TR roaming probe 102a monitors the handset in either a passive or active mode to determine such things as when the handset is attempting to register on a network and which network the handset is currently registered on.<br>
Figure 2 is a diagram that shows one of the network operator's subscribers 202 within the subscriber's home network. The subscriber 202 is a "home" subscriber from the perspective of the network operator that owns the network operator backend 101.<br>
The subscriber 202 has a mobile station or handset 204 which communicates over the wireless network with a home network or HPLMN 212 through a base station 205 and an MSC/VLR 206. In the embodiment shown, there is a SIM toolkit application (STK) 280 resident on the handset 204, and it wiltbe described in more detail below. In further figures throughout this description, the handset 204 is shown without the STK 280, which is optional. The handset 204, whenever shown, may or may not include 4he STK 280, and embodiments which include the STK 280 will be described accordingly. The HPLMN $12 communicates with a public switched telephone network (PSTN) 210 VIA A GMSC 208. Detecting out-roamers : Passive Mode<br>
A passive monitoring approach, according to an embodiment, includes monitoring the SS7 MAP signaling messages on the external signaling links between the operator STP/GMSC and the signaling provider. With reference to Figure 3, the mobile subscriber 202 is roaming in a VPMN 308. The VPMN 308 artd|he subscriber's HPMN 212 have a roaming relationship such that the HPMN 212 subscribers are allowed to get service on the VPMN 308. When the roaming mobile subscriber's handset 204 registers on She network 308, it initiates a registration process such that a VLR 312 sends a MAP Update Locafion message to. an HLR 302 in the HPMN 212 of the roaming subscriber 202. Passive monitoring includes using high impedance probes on a SS7 signaling link 314 between a GMSC/STP 304 of the HPMN $12 and a SS7 signaling network 306. The high impedance ensures that the probing does not interfere with the regular information exchange between the VPMN 308 and the HPMN 212. Alternatively, the fenk between the GMSC/STP 304 and the HLR 302 can be monitored. Any MAP messages can be monitofed. In one embodiment, at least the following MAP messages are monitored:<br>
MAP Update Location request and response ; MAP Cancel Location request and response ; and MAP Insert Subscriber Data request and response.<br>
In some cases, the probes used to monitor the SS7 signaling link 314 may belong to a third party and the information exchanged with the TR network element 102 may use Files, Sockets, FTP, custom trigger etc In yet other cases, a HPMN HLR 302 may initiate a trigger to an external application, such as thefTR application or TR network element 102, on every Update Location message, as shown by path 315. Detecting out-roamers : Active Mode<br>
In the active mode, the TR network element 102 includes a node in the signaling path 314 of the Update Location message between the VLR 312 in the VPMN 308 and the HLR 302 in the HPMN 212. Vlith reference to Figure 4, the subscriber 202 is roaming in VPMN 308. The VPMN 308 and the HPMN f 12 have a roaming relationship such that HPMN 212 subscribers are allowed to get service on the VPfilN 308. When the roaming subscriber's handset 204 registers on the network 308, it initiates a registrafon process such that the VLR 312 sends a MAP Update Location message on the SS7 signaling network |06 directed towards the HPLMN 212 of the subscriber 202. In one embodiment, the TR network element S02 is in the signaling path 314 before the messages go to the HLR 302 and before the response from the HLR 302 goes back to the VLR 312 in the VPMN 308.<br>
Embodiments of the invention contemplate various approaches to routing the signaling messages via the TR network element 102 using links 402 and 404. The following approaches are not meant to be* an exhaustive list.<br>
In one approach, the signaling provider routes all messages with a E. 214 numbering plan type to theTR<br>
network element 102 instead of to the network operator GMSC/STP 304. The TR network element 102 internally routes the messages via the network operator GMSC/STP 304 and hence stays in the signaling path by acting as a specialized STP.<br><br>
Alternatively, the network operator GMSC/STP 304 is configured such that if the Called Party address is an HLR 302 address (SSN=6) and the numbering plan type is E. 214, the message gets routed via the TR network element 102.<br>
Another alternative is configuring the operator GMSC/STP 304 to send all the E. 214 messages to the HLR 302. However, in response to the to the Insert Subscriber Data message, if the Called Party Address is outside the operator's numbering plan and the Called SSN is a VLR 312 SSN (SSN=7), the message! are routed via the TR network element 102. This achieves the same result as the second alternative listed above but limits the number of messages that go via the TR network element 102 since only messages meant for external networks need to be handled.<br>
Yet another alternative is for the external signaling provider to send all Update Location messages using a non-zero Translation Type. The operator STP 304 routes all E. 214 messages with a specific Translation Type (for example, TT = 10) to the TR network element 102. The TR network element 102 changes the TT to 0 and routes it baqk to the GMSC/STP 304 after which it is routed to the HLR 302. In some cases, the HLR 302 will initiate a trigger to an external application, such as the TR network 102 TR application, when it receives an Update Location message from the VPMN VLR 312. In any case, the TR network element 102 has the capability to trigger the OTA message to the handset, timeout the message, send a reject message or even modify the information exchanged in the messages between the HLR 302 and the VLR 312. Information Databases<br>
The network operator may chose to use various data elements in order to selectively redirect registration traffic. For example, pre-paid users may need to be redirected to a specific network white post-paid users are be redirected to another preferred network in the same country and coverage area. Even within these segments, the operator may have business rules to determine if the roamer is a GPRS/MMS subscriber or just a voice call user. Based on such service profile information, further preference for networks can be established. Some of the database entities that are envisaged by this patent application are listed below.<br>
A Country and Network database contains a list of networks and the countries they are in. Each country can be selectively barred for registration rejection traffic redirection. If the country is barred, each of the networks in the country is also barred for registration rejection traffic redirection. If the country is not barred, it is possible to set the barred or not barred status on a per network basis. In addition, it is possible to specify if a particular network is an outbound roaming partner. Network-specific information contain^ roaming attributes that indicate, for example, whether pre-paid roaming is allowed on a network, whether GPRS roaming is available on a network, whether roaming minutes are agreed to for volume discounting, etc.<br>
A Device Capabilities database contains a list of TAC and FAC codes for the various handsets in the markeL This database also contains various attributes related to the handset capabilities. For example^ the particular proactive SIM REFRESH modes supported, whether the handset is a GPRS handset, whether the handset updates EFLO on power-off, etc.<br>
A subscriber Device Information database contains the subscriber's IMSI, MSISDN and particular device. When a particular traffic redirection approach has handset dependencies, this database can be used to select the appropriate approach to take in order to effect the traffic redirection.<br>
A Roaming Partners Tariff database includes tariff information and typically also contain information regarding whether the roaming partner is part of a global or geographical tariff plan, whether charges are incurred per minute, or per second, or per six seconds, whether there is a minimum charge, etc. A Roamer Profile database includes a "blacklist" database and a "white list" database. The white list database contains the IMSI values for subscribers for which registration rejection traffic redirection should be applied. If this list is activated, the traffic redirection works only for these specific IMSI values-remaining subscribers are not affected. Similarly the black list database contains a Hst of IMSI values for which the traffic redirection is never attempted. All SIM cards issued to roaming partners should b# included in this database to assure intended traffic redirection.<br>
A Subscription Identification databases includes information regarding pre-paid, post-paid, GPRS, and MMS subscribers. Pre-paid roamers are typically identified using a database that is populated by the operator. Similarly, the database has information on GPRS and MMS subscription. The ISD messages oil the roaming links can be monitored to identify pre-paid roamers (for example, using CAMEL service mark and SCF address).<br><br>
Other information related to decision making in the traffic redirection process includes: Barring Time, or the time during which traffic redirection should not be attempted; National TR, which is a flag to ind|pa|e whether traffic redirection should be attempted for national roaming; and System configuration data, kich as OTA Server information, SMSC Configuration etc. Some of these databases are shown in Figure 1. Over-The-Air (OTA) Traffic Redirection Approach:<br>
The OTA based traffic redirection involves interaction with the handset and SIM card capabilities. In one embodiment, files on the SIM card are updated, and the handset is instructed to refresh its cache and potentially do a new search for available networks.<br>
Figure 5 is a diagram that helps illustrates embodiments of OTA traffic redirection. In Figure 5
Elements of the HPLMN 212 include the GMSC 208, an IWMSC 107, the SMSC interface 106, and the OTA interface 112.<br>
Over-The-Air (OTA) Traffie Redirection Approach With Optional Sim Toolkit Application (STK) As shown in Figure 2, an STK application 280 may be installed on the SIM card in the roamer mobile station 204. Certain SIM cards do not respond to OTA messages directly. One approach to communicating with such SIMs is placing an STK on the SIM to behave as a proxy or intermediary fhat can receive OTA messages and communicate appropriately with the SIM. Then instead of the net\*ork messaging directly updating the files on the SIM card and asking the SIM card to update its cache, all of that information is sent to the STK, which is directed to update the SIM for the network. The STK application 280 registers for three Event Download messages- Location Status, Call Connefteri and Call Disconnected. Every time the Location Area changes, the Location Status event is downloaded to the STK application 280.<br>
Similarly, for every MO and MT call, the Call Connected event is downloaded. When the call clears, the Call Disconnected event is downloaded to the STK application 280.<br>
The Call Connected and Disconnected events contain information on MO or MT calls. During a call, the roamer will not be switched to another network. The Location Status event contains the following information:<br>
Location Status-contains the current service state of the Mobile Station. Can have values Normal Service, Limited Service or No Service;<br>
Location Information-is included only of service state is Normal Service ;<br>
Mobile Country Code (MCC) and Mobile Network Code (MNC); and Location Area Code (LAC) and <bem identity value id></bem>
If the currently selected MCC and MNC are not the same as the home network (identified in GfM networks using the first few digits of IMSI), the SIM Toolkit Application detects that the user is roamind in the VPMN. It can then initiate mechanism to move the user to the preferred network by sending fiis information to the HPMN via SMS, USSD or a URL invocation (using WIB, for example). Additionally, if the handset and SIM support the RUN AT service, the RUN AT+COPS command can also be invoked.;<br>
Using an STK provides an additional capability. The STK allows a RUN AT command to be issued over the network, for example, by the TR network entity. A Run AT command allows the STK to direqily command the handset, for example, to change from a current network to another specified network. Traffic redirection approaches involving STKs and the Run AT command will be explained more fully below.<br>
Figure 6 is a flow diagram of an embodiment of OTA traffic redirection, which will now be described wjth reference to Figure 5 and 6,<br>
As shown in block 602, the roaming mobile station 204 registers on VPLMN 506 via the base station 205 and an MSC/VLR 512. An "Update LOCATION"MESSAGE is then generated by the MSCA/LR 512 at 604.<br>
The TR network element 102 monitors the external roaming links 514 for "Update Location" messages. Monitoring can be done actively or passively, as previously described, depending on the operator requirements. If monitoring is passive, the TR node 102b of the TR element 102 is a passive probe. If me<br><br>
VPMN information is gleaned from the signaling path, then the TR node 102b of the TR element 102 is an<br>
active SS7 element and SCCP relay.<br>
As soon as TR network element 102 taps the "Update Location" message at 606, it determines the MCC<br>
and MNC codes from this message, which enables it to identify the country and the VPLMN on which its<br>
roaming mobile station 204 has registered. At 608, using the various databases including the preferred<br>
partner list database, the TR network element 102 determines if the current VPLMN is a preferred<br>
network.<br>
If the current VPLMN is a preferred partner network, no further action is taken, and the status is<br>
maintained, as shown at 610. If the current VPLMN is not a preferred partner network, then the TR<br>
network element 102 initiates a redirection process.<br>
Depending on several factors, such as the choice of operator-HPLMN and associated business rules, the<br>
TR network element 102 initiates one of several traffic redirection processes.<br>
Referring first to soft redirection 636, the TR network element 102 sends a SMS message to the roaming<br>
mobile station 204 via the SMSC 106, informing the outbound roamer 202 that she would benefit from<br>
economical roaming rates and value-added services if she manually switches to the HPLMN 212<br>
preferred partner network, VPLMN-Preferred 504. This is shown at 638. This message can further provide<br>
short steps on how the user 202 can manually switch to the preferred network 504.<br>
Additionally, the TR network element 102 can personalize these steps for the specific device 204, by<br>
using its handset capabilities database. The user 202 may follow the suggested steps and switch to the<br>
VPLMN-Preferred network 504.<br>
In the case of permission based redirection 637, the TR network element 102 sends an interactive SMS<br>
message 640 to the roaming mobile station 204 via the SMSC 106, informing the outbound roamer 202 of<br>
the benefits of switching to the preferred VPLMN-preferred network 504. This interactive message further<br>
gives the roamer an option to respond with a "Y" or "N" to this request. If the roamer 202 responds with<br>
"N", then no action is taken, the status does not change, as shown at 642, and the roamer 202 continues<br>
on the VPLMN-A network 506. If the roamer 202 responds with "Y", then the TR network element 102<br>
initiates the redirection process at 604. From this point, the process is similar to hard redirection, as<br>
described below.<br>
In the case of hard redirection 612, the TR network element 102 looks up the SIM/DEVICE capabilities<br>
database to determine if the roaming mobile station 204 is STK enabled or not, as shown at 614.<br>
Alternatively (not shown), the OTA server can also be used to query the SIM for contents of the EFPASE:<br>
(GSM Phase Information file). The value determines the phase of the SIM. A value of 00 indicates Phase<br>
1 SIM while a value of 02 indicates Phase 2 SIM. Any other value of 03 or higher indicates that at the very<br>
minimum Phase 2 capabilities are supported.<br>
If the mobile station 204 is NON-STK enabled, then the TR network element 102 initiates a redirection<br>
message with the necessary data to the OTA server 112 at 630.<br>
The OTA server 112 encrypts this message at 632 and forwards it to the SMSC 106 for delivery to the<br>
roaming mobile station 204 at 634.<br>
If the mobile station 204 is STK-enabled, then the TR network element 102 determines at 616 whether<br>
preferred PLMN information is available on the mobile station 204 SIM. If the preferred PLMN information<br>
is not available, the TR network element 102 sends preference information to the SIM at 620. The OTA<br>
server 112 encrypts the information and sends it to the SMSC 106 at 621. The SMSC 106 delivers a<br>
message to the mobile station 204 at 622, and at 623 the STK application 280 acts on the message.<br>
If the preferred PLMN information is available, the STK application on the mobile station 204 looks up the preferred PLMN information file and begins redirection AT 618.<br>
Redirection includes using the OTA server 112 is to update certain SIM card files. As shown at 624, the SIM files are updated to reduce an HPLMN search timer period in EFNPLMN from a default value to a value "01" as specified in ETSI GSM 11.11. This specifies that the mobile station will search for the HPMrf after 6 minutes. If the redirection attempt is not successful (within next 6 + delta minutes), redirection wiB be re-attempted for a configurable number of times. If the attempt is still not successful or if the mobile station switched to the preferred network, the search period specified in EFBPLMN will be restored to thÂ« default value at the discretion of the HPMN. This search time reduction may be required on some handsets to trigger a search for the HPLMN and in the process force an Update Location procedure a* defined in ETSI GSM 2.11, 4.08, 3.22 and 30 TS 23.122.<br><br>
As shown at 626, the EFPUHNSEL FILE (PLMN Selector file) is updated with a list of preferred partners. The preferred partners can be derived based on application logic (group network, partner network, favorable inter-operator tariff (IOT) rates, network offering services most used by the out-roamer, roaming traffic commitments etc.). The most preferred network should be the first network in the list followed by the next preferred partner etc. The information stored is essentially the MCC and MNC code for the networks in that geographic area.<br>
For some SIM cards, it is necessary to delete the information stored in EPBCCH (Broadcast Control Channels) or to read it and re-order some of the cell information such that the cells are arranged in decreasing priority order of the preferred networks (most preferred network cell is ordered first). The BCCH information is derived from the System Information 2 message and the Neighbor Cells Description Information Element as specified in ETSI GSM 4.08, 11.11 and 3G TS 23.122.<br>
As shown at 628, the EFLOCI (Location Information File) is updated with the following information : set MCC and MNC in LAI to the most preferred network; and for some SIM and handset combinations, erase the Temporary Mobile Subscriber Identity) TMSI value.<br>
For some SIM and handsets combinations, the Location Update Status field is set to "Not Updated". This forces an Update Location to the MCC and MNC set in the Location Area Identifier (LAI) field. For some SIM and handset combinations, the EFFPLMN is set to the currently selected non-preferred network.<br>
If the mobile station 204 detects these changes automatically, it performs a new Update Location on the MCC and MNC updated by the TR network element 102. In other cases, the handset should be instructed to refresh its cache. This is performed using an OTA initiated REFRESH, a SIM toolkit application initiated proactive REFRESH command, or a WIB REFRESH (if the SIM card supports it). If the signal strength from the preferred network is strong enough, the mobile station 204 will be able to successfully register.<br>
This completes the redirection procedure and the roaming mobile station 204 is switched to the VPLMN-Preferred network 504.<br>
RUN AT Command Based Traffic Redirection:<br>
This section describes an alternative to the previously described OTA approach for traffic redirection, tf the handset is letter class "b" compliant (which means it supports the RUN AT proactive SIM command) and if the RUN AT service (service number 42 in EFSST on the SIM card) is activated and allocated, thefi a SIM toolkit application or WIB application can issue a RUN AT+COPS command to select a specific network. On some SIM cards, it may also be possible to use proprietary MECHANISMS to invoke the RUN AT command via the OTA server. Registration Rejection Traffic Redirection<br>
Embodiments of registration rejection traffic redirection involve rejecting the first round of Update Location messages when the handset is trying to register on the VPMN, so that the handset starts searching for a new network. Various ways to achieve this are described below.<br>
Registration Rejection Traffic Redirection-Aborting The Update Location Transaction Referring again to Figure 4, note that in a passive monitoring mode, the link 402 is a monitored link whilje the link 404 is an active link into the SS7 network 306. In an active mode, both links 402 and 404 arte active links into the SS7 network, and the TR network element 102 is the signaling path. When the mobile station 204 registers in the VLPMN 208, the VLR 312 first requests authentication information from trie HPLMN 212 of the roamer 202. This is to make sure that the roamer 202 is an authentic subscriber and Is allowed to get service on the registration rejection on a roaming relationship between the VPLMN 208 arid the HPLMN 212. This authentication request is in the form of a MAP message that is sent on the SSfr signaling link 314. The specific MAP message depends on the MAP version being supported, but is typically one of SEND AUTHENTICATION INFO, or SEND PARAMETERS. Once the response from trie HLR 302 is received by the VLR 312, the MSC 312 accepts the Update Location message from the mobile station 204 and routes it to the HLR 302 in HPLMN 212 via the inter-operator SS7 signaling link 314.<br>
The TR network element 102 detects the Update-Location Request, and if the subscriber is on a non-preferred network, it semis an Update Location End response on the SS7 link 314 with a message such as cause System Failure, Unexpected Data Value or Data Missing. The Global Title of the sending ently does not make a difference and it could either be the same as the HLR 302 or a different one.<br><br>
The transaction can be aborted at the TCAP layer. In order to do this, the dialog of the original transaction is used and the Update Location End response message is sent on the SS7 link 314 to the VLR 312. Each of the processes described above can be performed using passive monitoring or by being in signaling path (active monitoring). The TR node 102b uses a valid Global Title and Point Code to inject these messages into the SS7 network 306.<br>
The handset 204 tries the Update Location on the same network a few more times. This attempt count is equal to the value of the ATTEMPT COUNTER (recommended as 4 in GSM specifications). If there are as many consecutive failures, the handset 204 searches for a new PLMN. In effect, it gees to the box marked as TR1 in Figure 7 (Automatic network selection mode) or the box marked as TR2 in Figure 8 (Manual network selection mode). Figures 7 and 8 are diagrams showing and automatic network selection process and a manual network selection process, respectively per the specification 3 G TS 23.122 Version 3.1. 0 Release 199 (ETSI TS 123 122 V3.1. 0 2000-01). As referred to herein, Figures 7 and 8 show how various embodiments interact with the specified processes.<br>
The Update Location message is routed to the HLR 302 in the HPMN 212 of the roamer. The TR roaming probe 102a monitors the MAP messages on the international roaming links. The TR application 102c of the TR network element 102 receives the Update Location event since it has previously registered with the probe for this event notification.<br>
The TR application 102c checks its database information and decides if a traffic redirection has to be attempted. For example, if the roamer has registered on a non- preferred VPMN, the traffic redirection application may decide to perform some actions. Other, more specific logic can also be programmed to identify a candidate for traffic redirection. For example, preferred networks for pre-paid and post-paid users, or for GPRS and non-GPRS users may be different influencing whether to redirect. The traffic redirection application rejects the "first round" of Location Updates and thereby force the handset to search for the next available PLMN (in automatic roaming network selection mode) or try the same PLMN after a brief delay (in manual roaming network selection mode, or if only one network Is available in automatic roaming mode). The "first round" of Update Location is "rejected" by jamming the transaction. In one embodiment, jamming the transaction involves sending a spurious MAP End Update Location message with a configurable user error. In one embodiment, the user error is one of System Failure (local value 34), Data Missing (local value 35) or Unexpected Data Value (local value 36). Other possible values include Unknown Subscriber (local value 1), and Roaming Not Allowed (local value 8). These values, however, can cause various significant events. For example, Unknown subscriber translates to "IMSI not known in HLR"ON the radio interface and this marks the SIM as an invalid SIM. The handset stops further PLMN search unless the SIM is removed and reinserted or the handset is powered off and on. "Roaming Not Allowed" puts the PLMN in the Forbidden PLMN fite (EFFPLMN) in nonvolatile memory on the SIM card and the network cannot be selected unless removed by an OTA operation, STK application, or manual network selection. This value is probably not useful unless tfee partner network in VPMN country has national coverage or there is a roaming relationship with at-least three operators in the visited country.<br>
The HLR has to send at least one and in many cases two or three Insert Subscriber Data messages to the VLR. Therefore, its transaction time would be greater than that taken by the TR application 102c to send the End Update Location. In most cases, there are two ISD messages for post-paid and three l&amp;D messages for most pre- paid subscribers. The time between receiving an Update Location to sending ian End Update Location is between 2-3 seconds. Referring to Figure 9, the three call flow cases (A), (B) ahd (C) should be evaluated in this context. If the VLR sees an End Update Location message from the TR application 102c before it sees one from the HLR, it will abort the transaction and reject subsequent messages (including any pending ISD or End UL from HLR). This is shown in call flow (A). It is also possible for the HLR manages to send the ISD message; however the TR application 1Q2d Update Location Reject message arrives before the UL Ack from the HLR, and the Update Location transaction is aborted. This case is shown in call flow (B).<br>
Call flow (C) shows the case in which the HLR manages to successfully send its data and close tie transaction before the TR application 102c message reaches the VLR. In this case, the second BIKJ Update Location from the TR application 102c will be rejected and the out-roamer will manage to register successfully on the non- preferred network.<br>
In each of call flows A, B, and C if the roamer handset is in manual mode, it will retry the Update Location on the same network automatically or show the list of available networks to the roamer to choose front If<br><br>
the handset was in automatic roaming mode, it will try to register on another PLMN if one is available. Else, it will reattempt an Update Location on the same network.<br>
In one embodiment, the TR network element introduces random event based delays before trying to abort the transaction. The delays help "hide" the Traffic Redirection attempts from VPMN since the UL attempts will get blocked at different levels-sometimes before the first ISD; sometimes after the first ISD. In some cases, no traffic redirecHon attempt will be made. Additional information elements like Subscription class (enterprise, consumer), average spending etc. can also be used to make these decisions. The timers that define how long the mobile station waits before reattempting the Update Location are defined in GSM 04.08. According to those specifications, the mobile station waits 15 seconds (the value of timer T3211) after receiving an Update Location reject or an abort at the TCAP layer of the transaction. Registration Rejection Traffic Redirection - Aborting The Send Authentication Information Transaction<br>
Referring again to Figure 4, in a passive monitoring mode, link 402 is a monitored link while link 404 is an active link into the SS7 network 306. In an active mode, the TR network element 102 is in an active signaling path and the signals are carried by the active SS7 links 402 and 404.<br>
When the mobile station 204 registers in the VLPMN 308, the VLR 312 first requests authentication information from the HLPMN 212 of the roamer 202. This is to make sure that the roamer is an authentic subscriber and is allowed to get service on the registration rejection on roaming relationship between the VLPMN 208 and the HLPMN 212. This authentication request is in the form of a MAP message that is sent on the SS7 signaling link 314. The specific MAP message depends on the MAP version being supported but is one of SEND AUTHENTICATION INFO, or SEND PARAMETERS. The TR network element 102 detects the Send Authentication Info or Send Parameters message and if the subscriber is on a non-preferred network, it sends the End response on the SS7 link 314 with a cause System Failure, Unexpected Data Value or Data Missing message. The Global Title of the sending entity does not make a difference and it could either be the same as the HLR 302 or a different one. In order to abort the transaction at the TCAP layer, the original transaction is used, and the End response is sent on the SS7 link 314 to the VLR 312.<br>
Each of the above can be performed using passive monitoring or active monitoring. This case is similar to the Update Location Abort case described earlier; however, it makes sense to do this while in the active signaling path since the transaction time is much smaller than that of the Update Location. The TR node 102b needs a valid Global Title and Point Code in order to inject these messages into the SS7 network 306.<br>
The handset 204 tries to authenticate itself on the same network a few more times. This attempt count if equal to the value of the ATTEMPT COUNTER (recommended as 4 in GSM specifications). If there are a* many consecutive failures, the handset searches for a new PLMN. In essence it goes to the box marked as TR1 in Figure 7 (Automatic network selection mode) or the box marked as TR2 in Figure 8 (Manual network selection mode).<br>
Registration Rejection Traffic Redirection - Timing Out The Response To Send Authentication Information Message<br>
This case is similar to Aborting the Send Authentication Information message. The difference is that instead of aborting the transaction, the TR node 102b of the TR network element 102 does not send anjf response to the VLR 312. This forces the mobile station 204 to rescan the network as per procedures described in Figures 7 and 8.<br>
Registration Rejection Traffic Redirection-Timing Out The Response To Update Location Message This case is similar to timing out the Send Authentication Information message. The difference is thai Send Authentication Information is allowed to go through but the Update Location is not. The TR network element 102 does not send any response to the VLR 312. This forces the mobile station 204 to rescan tNe network as per procedures described in Figures 7 and 8.<br>
Registration Rejection Traffic Redirection-Modifying The insert Subscriber Data Message With "Roaming Restriction Due To Unsupported Feature"<br>
Referring again to Figure 4, this approach is effective when the TR network element 102 is in the active signaling path 404. On receipt of an Update Location request from the VLR 312-, the TR network element 102 can send or modify the framed Insert Subscriber Data Message from the HLR 302 to the VLR 31J2 with the flag "Roaming Restriction due to unsupported feature". Subsequently, the Update Locaticfi transaction is allowed to complete normally This allows the registration to succeed in the VLR 312, bdrt<br><br>
the VLR 312sends a"Roaming not allowed in this Location Area" code to the mobile station 204 via the MSC 312. When the mobile station 204 receives this response code, it starts searching for a new PLMN. This is shown in block TR3 of Figure 8 and block TR4 of Figure 7. If no PLMN is found, the mobile station 204 stays on the current VLR/MSC 312 area and only allows emergency calls to go through. Unlike the "Forbidden PLMN" information which is in non-volatile storage on the SIM card, this information: is stored on the handset memory and is erased when the subscriber roams into a different location area of the same network, switches the phone off, manually selects the network again; or the restriction is" removed from the VLR. Specifications also recommend that this list be erased every 12 or 24 hours.<br>
If the handset is in automatic mode and another network is available, the handset will attempt registration on that network quickly. The TR network element 102 recognizes this and allows/rejects the registration again. However, if the handset is in manual mode or no network was available in automatic mode, it will not attempt a registration quickly. In such a case, the TR network element 102 withdraws the roaming restriction using MAP DELETE SUBSCRIBER DATA (ref GSM 09.02). Therefore, subsequent registrations will be allowed. Handling Special Cases<br>
Special handling is required in certain cases for both international and national roaming. These require certain variations to the approaches described before, and take care of situations such as, for example: identifying whether the out-roamer is in the middle of a call or a GPRS/MMS session; invoking the Update Location on demand so that an attempt to move the out- roamer from a non-preferred network to a preferred network can be made;<br>
identifying whether the out-roamer handset is in manual or automatic network selection mode ; and identifying an exact location area for national roaming in which coverage may have to be provided on a more restrictive geographical basis.<br>
These cases are discussed in the following sections. In addition, mechanisms to handle VLR and HLR failures and GPRS sessions in progress are also described. Identifying a Roamer Within a MO Or MT Call: SIM Toolkit approach<br>
The SIM Toolkit application registers for Event Download on Call Connected and Call Disconnected events. On a MO or MT call, these events are delivered to the.SIM toolkit application. The application can hence make sure that it performs the traffic redirection when the mobile station is in idle mode. Identifying a Roamer Within a MO Or MT Call: Update Location Reject Approach As per specifications, an Update Location is sent only in the following cases:<br>
a)	mobile station requests an Update Location at registration ;<br>
b)	mobile station requests an Update Location due to expiration of Periodic Update Location TimeÂ£<br>
c)	the GSM subscriber moves between two VLR areas. If a VLR handles more than one MSC, thfrv the UL is sent when the subscriber moves to another MSC handled by the second VLR. Howevis-, if the subscriber moves between MSC handled by the first VLR, no Update Location is sent;<br>
d)	the GSM subscriber moves between two different networks. In this case, the call drops todsjy.; However, there are some operators (few and far between) who have arrangements to hand-over the call between their networks; and<br>
e)	in the case of VLR or HLR failure: if the VLR fails, it invokes a Restore Data to which the HLR responds with Insert Subscriber Data. If HLR fails, it sends a Reset Data message to which tie VLR responds with Restore Data.<br>
The GSM specification (ETSI TS 100 527; GSM 03.09 v7.0. 0) also provides information on the call<br>
handover procedures. If the subscriber is in midst of a call, an Update Location is not sent to the HPFjIlN<br>
for cases b) and c). For case d), if the call is dropped, a new registration process in the second network<br>
initiates an Update Location transaction. If the network just hands over the call to another MSC, no rtew<br>
UL is sent.This happens because the original VLR/MSC still retains call control and just the radio pal is<br>
handed over. The second VLR gets the subscriber information from the earlier VLR.<br>
Since the Traffic Redirection network element blocks the Update Location messages, this implies that if<br>
the subscriber is in the midst of a call, there will be no location update and hence there will be no affect on<br>
Quality of Service to the subscriber.<br>
Identifying Manual Automatic Network Selection Mode : SIM Toolkit Approach<br>
If the SIM has RUN AT service (service numbsr 42 in EFSST) activated and allocated and the handset<br>
supports the RUN AT proactive SIM command (as most letter CLASS"B"HANDSETS do), the SIM ToAkK<br>
application car. issue the RUN AT+COPS=? in order to detect the handset mode.<br><br>
Identifying Manual/Automatic Network Selection Mode : Update Location Reject Approach<br>
This approach heuristically detects the handset mode from the SS7 signaling. If the TR network element<br>
detects more than four Update Location transactions on the same network, it assumes that the handset is<br>
in manual network selection mode. This is because the ATTEMPT COUNTER value is specified to be<br>
four.<br>
Another mechanism to detect the manual network selection mode is detecting when ttie handset does not<br>
perform a new Update Location on a different network within 20 seconds of the previous Update Location<br>
that was rejected.<br>
Initiating Update Location on demand from HPMN<br>
There can also be situations where the HPMN will want more active control on the outbound roamer.<br>
Normally the Update Locations are received when the roamer moves from one VLR to another, or when<br>
they switch VPMNS. However, if the roamer remains static in a VLR area (which could handle multiple;<br>
MSC), no Update Location will be sent unless triggered by the Periodic Location Update Timer (with a<br>
random value typically in hours).<br>
The TR network element can initiate an Update Location from the mobile even when the roamer does not<br>
move. With reference to Figure 10, the roamer initiates an Update Location from the VLR to the HLR. This<br>
is identified by step 1. Subsequently the HLR sends the Insert Subscriber Data message and the Location<br>
Registration is complete. However, since this roamer is on a non-preferred network, the HPMN may want<br>
to move the subscriber to the preferred network at some point in time (nighttime, for example). In one<br>
embodiment, this is accomplished by sending a MAP-CANCEL- Location message to the VLR. This is<br>
identified in Step 3. This marks the record as deleted in the VPMN VLR. Next, the TR network element<br>
sends a MAP Provide Roaming Number message to the same VPMN VLR to which the Cancel Location<br>
was sent earlier in Step 3. The specifications (GSM 09.02 Fault Recovery section 19.3) state that on<br>
receipt of a PRN message for an IMSI which does not exist, the VLR will create a dummy record for the<br>
IMSI, mark the "Confirmed in HLR Flag" as "Not confirmed and also mark the "Confirmed by Radio<br>
contact Flag" as "Not confirmed". The VLR will also return the MSRN number to the requester. The PRN<br>
transaction is identified as Step 4. On receipt of an incoming call or SMS, the VLR instructs the MSC to<br>
page the IMSI in all its location areas. This paging establishes radio contact and when successful, forces<br>
the mobile to initiate a fresh Update Location/Restore Data procedure. This forces the HLR to resend the<br>
subscriber profile via the ISD message. The monitoring probe can now follow the original TR approach of<br>
Rejecting Update Location. These steps are marked as Steps 5 and 6.<br>
Handling MAP_RESTORE_DATA During VLR Failure<br>
When the VLR starts its recovery procedure after a failure, it marks the "Confirmed in HLR " flag as "Not<br>
Confirmed". Subsequently, when the VLR receives incoming calls or SMS for IMSI for which the status is<br>
not set TCCONFIRMED", it will initiate a Restore Data or Update Location message to the HLR. The SS?<br>
monitoring probe and the TR application 102c will see a big surge in messages. The TR network element<br>
will try to move as many out-roamers to partner networks as it can. However, if there is more traffic thari<br>
can be handled by the TR network element, this does not create a problem since in the worst case, some<br>
roamers will continue to be on the non- preferred network until they perform a new Update Location by<br>
virtue of moving, or Periodic Location Updating (PLU) Timer, or as a result of induced Update Location as<br>
described previously.<br>
Handling MAP_RESTORE_DATA during HLR Failure<br>
When the HLR starts its recovery procedure after a failure, it sends a MAP RESET DATA message with<br>
leading indicators of IMSI values handled by it.<br>
This causes the VLR to mark the "Confirmed in HLR" flag to "Not Confirmed".<br>
Subsequent PRN requests and incoming/outgoing calls will initiate Restore Data/Update Location from the<br>
VLR to the HLR. For both the approaches just discussed above, depending on business logic, these<br>
restoration attempts could be treated as potential TR candidates (since the partner network has anyways<br>
lost information !) or left alone. This may impose a short peak load on the probes and TR network<br>
element; however that load is short lived and in the worst case, some mobiles wiB not undergo the TR<br>
treatment. There will be no other side effect.<br>
Handling Active GPRS Subscribers<br>
There should not be any affect on GPRS roaming subscribers since those updates are normal^<br>
independent of the normal Update Location and performed using MAP_UPDATE_GPRS_LOCATION<br>
from SGSN to HLR (ref GSM 09 02) andGSM 04 08}<br><br>
National Roaming<br>
Some special handling may be required to handle the case of national roaming. As an example, in the international case, the TR network element is interested in which country the handset is in. In the national case, roaming can occur among many networks in large countries like the United Slates and Canada. In the national case, the TR network entity is interested in the current Location Area of the handset. This is due to the fact that in some areas, both the HPMN and VPMN may offer service while in other areas only the VPMN may offer service. In some countries, the HPMN may also want to bar their subscriber from using a particular VPMN in some specific regions. Note that in such cases, the decision of which network to keep the roamer on cannot be determined just by looking at the VLR address in the Update Location transaction. Finer granularity at a cell-id or Location Area level is required.<br>
Figure 11 illustrates a case in which the mobile subscriber 1102 could potentially get coverage from trie VPLMN 1108 base station 1105, and the HPLMN 1112 base station 1111). The HPLMN 1112 operator might want to allow the mobile station 1104 to roam onto VPLMN 1108 in some areas and in other areas either deny the service or try to proactively move the roamer to the HPLMN 1112 coverage area. In such a case, the granularity may be the Cell-id. Note that each base station has multiple cells and the cell-id is not sent to the HPLMN 1112 in the Update Location transaction. In one embodiment the mechanism of doing this includes selective redirection.<br>
The TR network entity stays in the SS7 signaling path 1114 and manipulate the Update Locatiqn transaction. Again with reference to Figure 11, the mobile subscriber 1102 is roaming in VPLMN 110$, and initiates the registration process on the network. The Update Location message is routed from the VPLMN 1108 to HPLMN 1112 where the message is routed via the TR network element 102 to the HLJR 1302. The HLR 1302 sends the subscriber profile to the VLR 1312 using the Insert Subscriber Date message. This message is routed via the TR network element 102. TR network element 102 modifies tie Subscriber Status in the message to "Operator Determined Barring". This allows the mobile station 1104 to register, but does not allow the subscriber 1102 to make or receive any calls. Immediately afterwards the TR network element 102 sends a MAP Provide Subscriber Information message to the VLR 1312. Tlie VLR 1312 returns the cell-id of the mobile station 1104 gathered during the Update Location Aria transaction. Based on this cell-id information, the HPLMOES not offer service in that specific region) ipr search for another network (for example, if the roamer is iN 1112 may decide if it wants the roamer to -register on this network (for example, when HPLMN 1112Dn or close to an area where the HPLMN 11 f 2 also offers service).<br>
Should the subscriber be denied service, the TR network element 102 issues a MAP Cancel Location command to the VLR 1312 and subsequently sends a MAP Forward MT-SMS message using SMjS protocol id 40 to force the mobile station 1104 to acknowledge the SMS without showing the content to tie subscriber 1102. In some cases, the instead of sending the SMS using a MAP command, The SMS cfn be sent via the HPMN SMSC 1109. This forces the VLR 1312 to issue a Search MS command to ifÂ»e MSCA/LR 1312 and hence establish radio contact with the mobile station 1104.<br>
An alternative is to send a MAP Provide Roaming Number request to the VLR 1312. Because the roamer record was previously cancelled using Cancel Location, the VLR 1312 creates a dummy record; allocatjes a MSRN, AND sets the status of the dummy record as "Confirmed in HLR" and "Not confirmed by radio contact". On a subsequent incoming call, this results in a MAP Restore Data message from the VLR 1312 to the HLR 1302 to retrieve the profile. The TR network element 102 sends the Insert Subscriber Data message with "Roaming restriction due to unsupported feature" in order to make tie mobile station 1104 search for a new network. In this case if the subscriber 1102 moves and the mobile station 1104 sees the HPLMN 1112 cell-id covered by base station 1111, then the mobile station attempts registration on the HPLMN 1112 and this is allowed to go through.<br>
If the subscriber should be provided service in the original location area covered by VPMN 1108 base station 1105, a similar approach is followed except that the "Roaming Restriction due to unsupported feature" flag is not set and the Subscriber Status flag is also not modified. This allows the subscriber to register properly and get service.<br>
Note that for national roaming, it is-recommended that the EFBPLMN value on the SIM card be set tq 1. This will make the handset search for the HPLMN every 6 minutes. Hence if a subscriber was granted service in a VPLMN and subsequently moves to another area where the HPLMN also has coverage, lie maximum time before the HPLMN IS selected will be 6 minutes.<br><br>
In addition, some operators may chose to not use Cancel Location in the approach mentioned above; however they may send a Standalone Insert Subscriber Data message and abort it. This approach has similar end result with the advantage that existing calls in progress will not be affected. Application using the Traffic Redirection Embodiments<br>
Various applications can be built on top of the core technology to redirect users onto a specific network. Some of these are as follows:<br>
Application using the Traffic Redirection Embodiments : Border Roaming Gateway In many countries, especially with land borders, there is coverage from networks of the bordering countries. A similar situation arises in national roaming case when within a country, the HPMN and thÂ« VPMN offer roaming in some overlapping coverage areas. In such a case, the people at the border continuously "hop-on" and "hop-off the HPLMN network. The approach of rejecting the Update Location on the roaming network and bringing them back onto the HPLMN network can save lot of money for the mobile operators and also provide good customer service to their subscribers since Are subscribers do not have to pay roaming charges.<br>
Application Using The Traffic Redirection Embodiments : Menu/SMS Based User Permission For TR<br>
Mobile operators can offer various kinds of Menu based services to the roamers in order to select the correct network. Some of these selections can be influenced by:<br>
providing information to the roamer on the roaming tariff applicable on various roaming partner networks, billing pulse duration, minimum charges etc.;<br>
providing information to the roamer on who is the partner network in that country and what services do the various networks offer. For example, network 1 may offer only voice roaming but network 2 may offer voice and GPRS ; and providing information on partner networks in the country and on which user could earn rewards etc.<br>
APPENDIX<br>
(Table Removed)<br><br><br><br><br><br>
We claim:-<br>
1.	A method for controlling wireless network traffic, comprising:<br>
determining when a roaming mobile station initiates a registration attempt with a non-preferred network; and<br>
preventing the mobile station from succeeding in the registration attempt with the non-preferred network, the prevention of the registration attempt resulting in<br>
causing the roaming mobile station to search for available networks and to initiate a registration attempt with an available network.<br>
2.	A method as claimed in claim 1 wherein preventing the mobile station from succeeding in the. registration attempt with the non-preferred network comprises rejecting the registration attempt.<br>
3.	The method as claimed in claim 1 wherein determining what network tile mobile station is currently registered with.<br>
4.	The method as claimed in claim 1 wherein the registration attempt with the non-preferred network is completed, the method further comprising:<br>
determining that the mobile station is registered with a non-preferred network; and<br>
periodically causing the mobile station to reinitiate a registration attempt with a preferred network.<br>
5.	The method as claimed in claim 1 wherein:<br>
determining whether the mobile station should be moved to another network and updating files on the mobile station, including a preferred provider list.<br>
6.	The method as claimed in claim 1 wherein<br>
determining whether the registration attempt with a non-preferred network is allowed to succeed;<br>
if the registration attempt is not allowed to succeed, rejecting the attempt.<br>
7.	The method as claimed in claim 1, wherein rejecting the attempt comprises sending a recognized transaction to the mobile station that aborts the attempt.<br>
8.	The method as claimed in claim 6 wherein rejecting the attempt comprises causing a transaction time out.<br>
9.	The method as claimed in claim 6 wherein rejecting the attempt comprises modifying a message to restrict roaming by the mobile station.<br><br>
10.	The method as claimed in claim 1, wherein determining whether a roaming mobile station is engaged in a voice or data session.<br>
11.	The method as claimed in claim 1, wherein determining whether a roaming: mobile station is in an automatic network, selection mode or a manual network selection mode.<br>
12.	The method as claimed in claim 1, wherein invoking an Update Location message on demand.<br>
13.	The method as claimed in claim 1, wherein:<br>
initiating a message to the mobile station that causes the mobile station to search for a preferred network.<br>
14.	The method as claimed in claim 13, wherein determining when a roaming mobile station initiates a registration attempt includes tapping a message and determining at least a mobile country code arid a mobile network, code.<br>
15.	The method as claimed in claim 14, wherein the said message is an Update Location message.<br>
16.	The method as claimed in claim 13, wherein:<br>
sending the message to an over-the-air server;<br>
encrypting the message; and<br>
forwarding the message to a short message service center.<br>
17.	The method as claimed in claim 13, wherein:<br>
determining whether the mobile station includes a Subscriber Identity Module toolkit application (STK); and<br>
if the mobile station includes an Subscriber Identity Module toolkit, initiating an update to the subscriber identity module with the Subscriber Identity Module toolkit.<br>
18.	The method as claimed in claim 13, wherein:<br>
if the said mobile station includes an Subscriber Identity Module toolkit, determining whether a Public Land Mobile Network list is on the subscriber identity module; and<br>
if. not, forwarding a Public Land Mobile network list to the subscriber identity module.<br>
19.	The method as claimed in claim 13, wherein:<br>
in response to the message, updating information on the subscriber identity module, including<br>
a home public land mobile network search time period;<br><br>
a public land mobile network selector file; and<br>
a location information file.<br>
20.	The method as claimed in clams 13, wherein, in response to the message issuing a RUN AT+COPS command to select a specific network.<br>
21.	A system for controlling wireless network traffic, comprising:<br>
a network operator backend (101), including an over the air interlace (112); and<br>
a traffic redirection network entity (102). wherein the traffic redirection entity prevents a mobile station (204) from registering with a particular network (208) when the mobile station attempts registration with a non-preferred network, the prevention of registration resulting in causing the roaming mobile station to search for available networks and to initiate a registration attempt with an available network.<br>
22.	The system as claimed in claim 21, wherein the traffic redirection network entity comprises a traffic redirection node, a traffic redirection roaming probe (102a), and a traffic redirection application.<br>
23.	The system as claimed in claim 22, wherein, in a passive mode, the traffic redirection network entity monitors a. signaling link between a home network (212) and an signaling system 7 signaling network (306) to determine a network the mobile station is currently registered with.<br>
24.	The system as claimed in claim 22, wherein, in an active mode, the traffic redirection node is in a signaling path (31.4) between a visited location register (312) in a visited network (208) and a home location register (302) in a home network (211) that determines a network the mobile station is currently registered with.<br>
25.	The system as claimed in claim 22. wherein, in an active mode, the traffic<br>
redirection node is in a signaling path (314) between a visited location register in a visited<br>
network and a home location register in a home network.<br>
26.	Method And System For Controlling Wireless Network Traffic as claimed in any<br>
of the above claims substantially as described in the specification and illustrated in the<br>
accompanying drawings.<br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODEtZGVsbnAtMjAwNS1hYnN0cmFjdC5wZGY=" target="_blank" style="word-wrap:break-word;">81-delnp-2005-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODEtZGVsbnAtMjAwNS1hc3NpZ25tZW50LnBkZg==" target="_blank" style="word-wrap:break-word;">81-delnp-2005-assignment.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODEtZGVsbnAtMjAwNS1jbGFpbXMucGRm" target="_blank" style="word-wrap:break-word;">81-delnp-2005-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODEtZGVsbnAtMjAwNS1jb21wbGV0ZSBzcGVjaWZpY2F0aW9uIChhcyBmaWxlcykucGRm" target="_blank" style="word-wrap:break-word;">81-delnp-2005-complete specification (as files).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODEtZGVsbnAtMjAwNS1jb21wbGV0ZSBzcGVjaWZpY2F0aW9uIChncmFudGVkKS5wZGY=" target="_blank" style="word-wrap:break-word;">81-delnp-2005-complete specification (granted).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODEtZGVsbnAtMjAwNS1Db3JyZXNwb25kZW5jZSBPdGhlcnMtKDExLTA3LTIwMTEpLnBkZg==" target="_blank" style="word-wrap:break-word;">81-delnp-2005-Correspondence Others-(11-07-2011).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODEtREVMTlAtMjAwNS1Db3JyZXNwb25kZW5jZSBPdGhlcnMtKDIwLTEyLTIwMTEpLnBkZg==" target="_blank" style="word-wrap:break-word;">81-DELNP-2005-Correspondence Others-(20-12-2011).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODEtZGVsbnAtMjAwNS1jb3JyZXNwb25kZW5jZS1vdGhlcnMucGRm" target="_blank" style="word-wrap:break-word;">81-delnp-2005-correspondence-others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODEtZGVsbnAtMjAwNS1jb3JyZXNwb25kZW5jZS1wby5wZGY=" target="_blank" style="word-wrap:break-word;">81-delnp-2005-correspondence-po.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODEtZGVsbnAtMjAwNS1kZXNjcmlwdGlvbiAoY29tcGxldGUpLnBkZg==" target="_blank" style="word-wrap:break-word;">81-delnp-2005-description (complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODEtZGVsbnAtMjAwNS1kcmF3aW5ncy5wZGY=" target="_blank" style="word-wrap:break-word;">81-delnp-2005-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODEtZGVsbnAtMjAwNS1mb3JtLTEucGRm" target="_blank" style="word-wrap:break-word;">81-delnp-2005-form-1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODEtZGVsbnAtMjAwNS1mb3JtLTE4LnBkZg==" target="_blank" style="word-wrap:break-word;">81-delnp-2005-form-18.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODEtZGVsbnAtMjAwNS1mb3JtLTIucGRm" target="_blank" style="word-wrap:break-word;">81-delnp-2005-form-2.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODEtZGVsbnAtMjAwNS1mb3JtLTI2LnBkZg==" target="_blank" style="word-wrap:break-word;">81-delnp-2005-form-26.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODEtZGVsbnAtMjAwNS1mb3JtLTMucGRm" target="_blank" style="word-wrap:break-word;">81-delnp-2005-form-3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODEtZGVsbnAtMjAwNS1mb3JtLTUucGRm" target="_blank" style="word-wrap:break-word;">81-delnp-2005-form-5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODEtZGVsbnAtMjAwNS1wY3QtMTAxLnBkZg==" target="_blank" style="word-wrap:break-word;">81-delnp-2005-pct-101.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODEtZGVsbnAtMjAwNS1wY3QtMjAyLnBkZg==" target="_blank" style="word-wrap:break-word;">81-delnp-2005-pct-202.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODEtZGVsbnAtMjAwNS1wY3QtMjEwLnBkZg==" target="_blank" style="word-wrap:break-word;">81-delnp-2005-pct-210.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODEtZGVsbnAtMjAwNS1wY3QtMzAxLnBkZg==" target="_blank" style="word-wrap:break-word;">81-delnp-2005-pct-301.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODEtZGVsbnAtMjAwNS1wY3QtMzA0LnBkZg==" target="_blank" style="word-wrap:break-word;">81-delnp-2005-pct-304.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODEtZGVsbnAtMjAwNS1wY3QtNDI0LnBkZg==" target="_blank" style="word-wrap:break-word;">81-delnp-2005-pct-424.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODEtZGVsbnAtMjAwNS1wY3QtNDM2LnBkZg==" target="_blank" style="word-wrap:break-word;">81-delnp-2005-pct-436.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="250191-a-data-acquisition-system-and-method-in-a-rotating-engine-application.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="250193-simplified-deallocation-of-memory-for-programming-objects.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>250192</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>81/DELNP/2005</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>50/2011</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>16-Dec-2011</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>14-Dec-2011</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>10-Jan-2005</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>ROAMWARE,INC.,</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>18900 STEVENS CREEK BLVD., SUITE 100,CUPERTINO,CA 95014 U.S.A</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>JIANG,YUEN,J</td>
											<td>4114 SUGAR MAPLE DRIVE,DANVILLE,CA 94506 U.S.A</td>
										</tr>
										<tr>
											<td>2</td>
											<td>CHAUHAN AVNISH</td>
											<td>175 CALVERT DRIVE #E-206,CUPERTINO,CA 95014U.S.A</td>
										</tr>
										<tr>
											<td>3</td>
											<td>BISWAS SUBHABRATA</td>
											<td>7th FLOOR SIGMA,HIRANANDANI GARDENS,POWAI,MUMBAI 400076 (IN)</td>
										</tr>
										<tr>
											<td>4</td>
											<td>BHAMBHANI BAHADUR</td>
											<td>7th FLOOR SIGMA,HIRANANDANI GARDENS,POWAI,MUMBAI 400076,(IN)</td>
										</tr>
										<tr>
											<td>5</td>
											<td>RODRIGUES ALEX</td>
											<td>7th FLOOR SIGMA,HIRANANDANI GARDENS,POWAI,MUMBAI 400076,(IN)</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04Q 7/38</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/US2003/024582</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2003-08-05</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>60/401,362</td>
									<td>2002-08-05</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/250192-metohod-and-system-for-controlling-wireless-network-traffic by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 14:34:26 GMT -->
</html>
