<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/230121-an-encoder-a-decoder-and-method-for-emcoding-decoding-an-audio-signal by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 10:52:05 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 230121:AN ENCODER, A DECODER AND METHOD FOR EMCODING/DECODING AN AUDIO SIGNAL</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">AN ENCODER, A DECODER AND METHOD FOR EMCODING/DECODING AN AUDIO SIGNAL</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>The present invention proposes a new method and a new apparatus for enhancement of audio source coding systems utilizing high frequency reconstruction (III-R). It utilizes a detection mechanism (703a) on the encoder side to assess what parts of the spectrum will not be correctly reproduced by the III-R method in the decoder. Information on this is efficiently coded (703b) and sent to the decoder, where it is combined with the output of the III-R unit.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>METHODS FOR IMPROVING HIGH FREQUENCY RECONSTRUCTION<br>
TECHNICAL FIELD<br>
The present invention relates to source coding systems utilising high frequency reconstruction<br>
(HFR) such as Spectral Band Replication, SBR [WO 98/57436] or related methods. It improves<br>
performance of both high quality methods (SBR), as well as low quality copy-up methods [U.S.<br>
Pat. 5,127,054]. It is applicable to both speech coding and natural audio coding systems.<br>
BACKGROUND OF THE INVENTION<br>
High frequency reconstruction (HFR) is a relatively new technology to enhance the quality of<br>
audio and speech coding algorithms. To date it has been introduced for use in speech codecs,<br>
such as the wideband AMR coder for 3rd generation cellular systems, and audio coders such as<br>
mp3 or AAC, where the traditional waveform codecs are supplemented with the high frequency<br>
reconstruction algorithm SBR (resulting in mp3PRO or AAC+SBR).<br>
High frequency reconstruction is a very efficient method to code high frequencies of audio and<br>
speech signals. As it cannot perform coding on its own, it is always used in combination with a<br>
normal waveform based audio coder (e.g. AAC, mp3) or a speech coder. These are responsible<br>
for coding the lower frequencies of the spectrum. The basic idea of high frequency reconstruction<br>
is that the higher frequencies are not coded and transmitted, but reconstructed in the decoder<br>
based on the lower spectrum with help of some additional parameters (mainly data describing the<br>
high frequency spectral envelope of the audio signal) which are transmitted in a low bit rate bit<br>
stream, which can be transmitted separately or as ancillary data of the base coder. The additional<br>
parameters could also be omitted, but as of today the quality reachable by such an approach will<br>
be worse compared to a system using additional parameters.<br><br>
Especially for Audio Coding, HFR significantly improves the coding efficiency especially in the<br>
quality range "sounds good, but is not transparent". This has two main reasons:<br>
•	 Traditional waveform codecs such as mp3 need to reduce the audio bandwidth for very low<br>
bitrates since otherwise the artefact level in the spectrum is getting too high. HFR regenerates<br>
those high frequencies at very low cost and with good quality. Since HFR allows a low-cost<br>
way to create high frequency components, the audio bandwidth coded by the audio coder can<br>
be further reduced, resulting in less artefacts and better worst case behaviour of the total<br>
system.<br>
•	 HFR can be used in combination with downsampling in the encoder / upsampling in the<br>
decoder. In this frequently used scenario the HFR encoder analyses the full bandwidth audio<br>
signal, but the signal fed into the audio coder is sampled down to a lower sampling rate. A<br>
typical example is HFR rate at 44.1 kHz, and audio coder rate at 22.05 kHz. Running the<br>
audio encoder at a low sampling rate is an advantage, because it is usually more efficient at<br>
the lower sampling rate. At the decoding side, the decoded low sample rate audio signal is<br>
upsampled and the HFR part is added - thus frequencies up to the original Nyquist frequency<br>
can be generated although the audio coder runs at e.g. half the sampling rate.<br>
A basic parameter for a system using HFR is the so-called cross over frequency (COF), i.e. the<br>
frequency where normal waveform coding stops and the HFR frequency range begins. The<br>
simplest arrangement is to have the COF at a constant frequency. A more advanced solution that<br>
has been introduced already is to dynamically adjust the COF to the characteristics of the signal<br>
to be coded.<br>
A main problem with HFR is that an audio signal may contain components in higher frequencies<br>
which are difficult to reconstruct with the current HFR method, but could more easily be<br>
reproduced by other means, e.g. a waveform coding methods or by synthetic signal generation.<br>
A simple example is coding of a signal only consisting of a sine wave above the COF, Fig. 1.<br>
Here the COF is 5.5kHz. As there is no useful signal available in the low frequencies, the HFR<br>
method, based on extrapolating the lowband to obtain a highband, will not generate any signal.<br><br>
Accordingly, the sine wave signal cannot be reconstructed. Other means are needed to code this<br>
signal in a useful way. In this simple case, HFR systems providing flexible adjustment of COF<br>
can already solve the problem to some extent. If the COF is set above the frequency of the sine<br>
wave, the signal can be coded very efficiently using the core coder. This assumes, however, that<br>
it is possible to do so, which might not always be the case. As mentioned earlier, one of the main<br>
advantages of combining HFR with audio coding is the fact that the core coder can run at half the<br>
sampling rate (giving higher compression efficiency). In a realistic scenario, such as a 44.1 kHz<br>
system with the core running at 22.05kHz, such a core coder can only code signals up to around<br>
10.5 kHz. However, apart from that, the problem gets significantly more complicated even for<br>
parts of the spectrum within the reach of the core coder when considering more complex signals.<br>
Real world signals may e.g. contain audible sine wave-like components at high frequencies<br>
within a complex spectrum (e.g. little bells), Fig. 2. Adjusting the COF is not a solution in this<br>
case, as most of the gain achieved by the HFR method would diminish by using the core coder<br>
for a much larger part of the spectrum.<br>
SUMMARY OF THE INVENTION<br>
A solution to the problems outlined above, and subject of this invention, is therefore the idea of a<br>
highly flexible HFR system that does not only allow to change the COF, but allows a much more<br>
flexible composition of the decoded/reconstructed spectrum by a frequency selective<br>
composition of different methods.<br>
Basis for the invention is a mechanism in the HFR system enabling a frequency dependent<br>
selection of different coding or reconstruction methods. This could be done for example with the<br>
64 band filter bank analysis/synthesis system as used in SBR. A complex filter bank providing<br>
alias free equalisation functions can be especially useful.<br>
The main inventive step is that the filter bank is now used not only to serve as a filter for the<br>
COF and the following envelope adjustment. It is also used in a highly flexible way to select the<br>
input for each of the filter bank channels out of the following sources:<br><br>
waveform coding (using the core coder);<br>
transposition (with following envelope adjustment);<br>
waveform coding (using additional coding beyond Nyquist);<br>
parametric coding;<br>
any other coding/reconstruction method applicable in certain parts of the spectrum;<br>
or any combination thereof.<br>
Thus, waveform coding, other coding methods and HFR reconstruction can now be used in any<br>
arbitrary spectral arrangement to achieve the highest possible quality and coding gain. It should<br>
be evident however, that the invention is not limited to the use of a subband filterbank, but it can<br>
of course be used with arbitrary frequency selective filtering.<br>
The present invention comprises the following features:<br>
a HFR method utilising the available lowband in said decoder to extrapolate a highband;<br>
on the encoder side, using the HFR method to assess, within different frequency regions,<br>
where the HFR method does not, based on the frequency range below COF, correctly<br>
generate a spectral line or spectral lines similar to the spectral line or spectral lines of the<br>
original signal;<br>
coding the spectral line or spectral lines, for the different frequency regions;<br>
transmitting the coded spectral line or spectral lines for the different frequency regions from<br>
the encoder to the decoder;<br><br>
decoding the spectral line or spectral lines;<br>
adding the decoded spectral line or spectral lines to the different frequency regions of<br>
the output from the HFR method in the decoder;<br>
the coding is a parametric coding of said spectral line or spectral lines;<br>
the coding is a waveform coding of said spectral line or spectral lines;<br>
the spectral line or spectral lines, parametrically coded, are synthesised using a subband<br>
filterbank;<br>
the waveform coding of the spectral line or spectral lines is done by the underlying core<br>
coder of the source coding system;<br>
the waveform coding of the spectral line or spectral lines is done by an arbitrary waveform<br>
coder.<br>
BRIEF DESCRIPTION OF THE ACCOMPANYING DRAWINGS<br>
The present invention will now be described by way of illustrative examples, not limiting the<br>
scope or spirit of the invention, with reference to the accompanying drawings, in which:<br>
Fig. 1 illustrates spectrum of original signal with only one sine above a 5.5kHz COF;<br>
Fig. 2 illustrates spectrum of original signal containing bells in pop-music;<br>
Fig. 3 illustrates detection of missing harmonics using prediction gain;<br><br>
Fig. 4	illustrates the spectrum of an original signal<br>
Fig. 5	illustrates the spectrum without the present invention;<br>
Fig. 6	illustrates the output spectrum with the present invention;<br>
Fig. 7 illustrates a possible encoder implementation of the present invention;<br>
Fig. 8 illustrates a possible decoder implementation of the present invention.<br>
Fig. 9 illustrates a schematic diagram of an inventive encoder;<br>
Fig. 10	illustrates a schematic diagram of an inventive decoder;<br>
Fig. 11 is a diagram showing the organisation of the spectral range into scale factor bands and<br>
channels in relation to the cross-over frequency and the sampling frequency; and<br>
Fig. 12 is the schematic diagram for the inventive decoder in connection with an HFR<br>
transposition method based on a filter bank approach.<br>
DESCRIPTION OF PREFERRED EMBODIMENTS<br>
The below-described embodiments are merely illustrative for the principles of the present<br>
invention for improvement of high frequency reconstruction systems. It is understood that<br>
modifications and variations of the arrangements and the details described herein will be apparent<br>
to others skilled in the art. It is the intent, therefore, to be limited only by the scope of the<br>
impending patent claims and not by the specific details presented by way of description and<br>
explanation of the embodiments herein.<br>
Fig. 9 illustrates an inventive encoder. The encoder includes a core coder 702. It is to be noted<br>
here that the inventive method can also be used as a so-called add-on module for an existing core<br><br>
coder. In this case, the inventive encoder includes an input for receiving an encoded input signal<br>
output by a separate standing core coder 702.<br>
The inventive encoder in Fig. 9 additionally includes a high frequency regeneration block 703c, a<br>
difference detector 703a, a difference describer block 703b as well as a combiner 705.<br>
In the following, the functional interdependence of the above-referenced means will be described.<br>
In particular the inventive encoder is for encoding an audio signal input at an audio signal input<br>
900 to obtain an encoded signal. The encoded signal is intended for decoding using a high<br>
frequency regenerating technique which is suited for generating frequency components above a<br>
predetermined frequency which is also called the cross-over frequency, based on the frequency<br>
components below the predetermined frequency.<br>
It is to be noted here that as a high frequency regeneration technique, a broad variety of such<br>
techniques that became known recently can be used. In this regard, the term "frequency<br>
component'" is to be understood in a broad sense. This term at least includes spectral coefficients<br>
obtained by means of a time domain/frequency domain transform such as a FFT, a MDCT or<br>
something else. Additionally, the term "frequency component" also includes band pass signals,<br>
i.e.. signals obtained at the output of frequency-selective filters such as a low pass filter, a band<br>
pass filter or a high pass filter.<br>
Irrespective of the fact, whether the core coder 702 is part of the inventive encoder, or whether<br>
the inventive encoder is used as an add-on module for an existing core coder, the encoder<br>
includes means for providing an encoded input signal, which is a coded representation of an input<br>
signal, and which is coded using a coding algorithm. In this regard, it is to be remarked that the<br>
input signal represents a frequency content of the audio signal below a predetermined frequency,<br>
i.e.. below the so-called cross-over frequency. To illustrate the fact that the frequency-content of<br>
the input signal only includes a low-band part of the audio signal, a low pass filter 902 is shown<br>
in Fig. 9. The inventive encoder indeed can have such a low pass filler. Alternatively, such a low<br><br>
pass filter can be included in the core coder 702. Alternatively, a core coder can perform the<br>
function of discarding a frequency band of the audio signal by any other known means.<br>
At the output of the core coder 702, an encoded input signal is present which, with regard to its<br>
frequency content, is similar to the input signal but is different from the audio signal in that the<br>
encoded input signal does not include any frequency components above the predetermined<br>
frequency.<br>
The high frequency regeneration block 703c is for performing the high frequency regeneration<br>
technique on the input signal, i.e., the signal input into the core coder 702, or on a coded and<br>
again decoded version thereof. In case this alternative is selected, the inventive encoder also<br>
includes a core decoder 903 that receives the encoded input signal from the core coder and<br>
decodes this signals so that exactly the same situation is obtained that is present at the<br>
decoder/receiver side, on which a high frequency regeneration technique is to be performed for<br>
enhancing the audio bandwidth for encoded signals that have been transmitted using a low bit<br>
rate.<br>
The HFR block 702 outputs a regenerated signal that has frequency components above the<br>
predetermined frequency.<br>
As it is shown in Fig. 9, the regenerated signal output by the HFR block 703c is input into a<br>
difference detector means 703a. On the other hand, the difference detector means also receives<br>
the original audio signal input at the audio signal input 900. The means for detecting differences<br>
between the regenerated signal from the HFR block 703c and the audio signal from the input 900<br>
is arranged for detecting a difference between those signals, which are above a predetermined<br>
significance threshold. Several examples for preferred thresholds functioning as significance<br>
thresholds are described below.<br>
The difference detector output is connected to an input of a difference describer block 703b. The<br>
difference describer block 703b is for describing detected differences in a certain way to obtain<br>
additional information on the detected differences. These additional information is suitable for<br><br>
being input into a combiner means 705 that combines the encoded input signal, the additional<br>
information and several other signals that may be produced to obtain an encoded signal to be<br>
transmitted to a receiver or to be stored on a storage medium. A prominent example for an<br>
additional information is a spectral envelope information produced by a spectral envelope<br>
estimator 704. The spectral envelope estimator 704 is arranged for providing a spectral envelope<br>
information of the audio signal above the predetermined frequency, i.e., above the cross-over<br>
frequency. This spectral envelope information is used in a HFR module on the decoder side to<br>
synthesize spectral components of a decoded audio signal above the predetermined frequency.<br>
In a preferred embodiment of the present invention, the spectral envelope estimator 704 is<br>
arranged for providing only a coarse representation of the spectral envelope. In particular, it is<br>
preferred to provide only one spectral envelope value for each scale factor band. The use of scale<br>
factor bands is known for those skilled in the art. In connection with transform coders such as<br>
MP3 or MPEG-AAC, a scale factor band includes several MDCT lines. The detailed organisation<br>
of which spectral lines belong to which scale factor band is standardized, but may vary.<br>
Generally, a scale factor band includes several spectral lines (for example MDCT lines, wherein<br>
MDCT stands for modified discrete cosine transform), or bandpass signals, the number of which<br>
varies from scale factor band to scale factor band. Generally, one scale factor band includes at<br>
least more than two and normally more than ten or twenty spectral lines or band pass signals.<br>
In accordance with a preferred embodiment of the present invention, the inventive encoder<br>
additionally includes a variable cross-over frequency. The control of the cross-over frequency is<br>
performed by the inventive difference detector 703a. The control is arranged such that, when the<br>
difference detector comes to the conclusion that a higher cross-over frequency would highly<br>
contribute to reducing artefacts that would be produced by a pure HFR, the difference detector<br>
can instruct the low pass filter 902 and the spectral envelope estimator 704 as well as the core<br>
coder 702 to put the cross-over frequency to higher frequencies for extending the bandwidth of<br>
the encoded input signal.<br>
On the other hand, the difference detector can also be arranged for reducing the cross-over<br>
frequency in case it finds out that a certain bandwidth below the cross-over frequency is<br><br>
acoustically not important and can, therefore, easily be produced by an HFR synthesis in the<br>
decoder rather than having to be directly coded by the core coder.<br>
Bits that are saved by decreasing the cross-over frequency can, on the other hand, be used for the<br>
case, in which the cross-over frequency has to be increased so that a kind of bit-saving-option can<br>
be obtained which is known for a psychoacoustic coating method. In these methods, mainly tonal<br>
components that are hard to encode, i.e., that need many bits to be coded without artefacts can<br>
consume more bits, when, on the other hand, white noisy signal portions that are easy to code,<br>
i.e., that need only a low number of bits for being coded without artefacts are also present in the<br>
signal and are recognized by a certain bit-saving control.<br>
To summarize, the cross-over frequency control is arranged for increasing or decreasing the<br>
predetermined frequency, i.e., the cross-over frequency in response to findings made by the<br>
difference detector which, in general assesses the effectiveness and performance of the HFR<br>
block 703c to simulate the actual situation in a decoder.<br>
Preferably, the difference detector 703a is arranged for detecting spectral lines in the audio signal<br>
that are not included in the regenerated signal. To do this, the difference detector preferably<br>
includes a predictor for performing prediction operations on the regenerated signal and the audio<br>
signal, and means for determining a difference in obtained prediction gains for the regenerated<br>
signal and the audio signal. In particular, frequency-related portions in the regenerated signal or<br>
in the audio signal are determined, in which a difference in predictor gains is larger than the gain<br>
threshold which is the significance threshold in this preferred embodiment.<br>
It is to be noted here that the difference detector 703a preferably works as a frequency-selective<br>
element in that it assesses corresponding frequency bands in the regenerated signal on the one<br>
hand and the audio signal on the other hand. To this end, the difference detector can include time-<br>
frequency conversion elements for converting the audio signal and the regenerated signal. In case<br>
the regenerated signal produced by the HFR block 703c is already present as a frequency-related<br>
representation, which is the case in the preferred high frequency regeneration method applied for<br>
the present invention, no such time domain/frequency domain conversion means are necessary.<br><br>
In case one has to use a time domain-frequency domain conversion element such as for<br>
converting the audio signal, which is normally a time-domain signal, a filter bank approach is<br>
preferred. An analysis filter bank includes a bank of suitably dimensioned adjacent band pass<br>
filter, where each band pass filter outputs a band pass signal having a bandwidth defined by the<br>
bandwidth of the respective band pass filter. The band pass filter signal can be interpreted as a<br>
time-domain signal having a restricted bandwidth compared to the signal from which it has been<br>
derived. The centre frequency of a band pass signal is defined by the location of the respective<br>
band pass filter in the analysis filter bank as it is known in the art.<br>
As it will be described later, the preferred method for determining differences above a<br>
significance threshold is a determination based on tonality measures and, in particular, on a tonal<br>
to noise ratio, since such methods are suited to find out spectral lines in signals or to find out<br>
noise-like portions in signals in a robust and efficient manner.<br>
Detection of spectral lines to be coded<br>
In order to be able to code the spectral lines that will be missing in the decoded output after HFR,<br>
it essential to detect these in the encoder. In order to accomplish this, a suitable synthesis of the<br>
subsequent decoder HFR needs to be performed in the encoder. This does not imply that the<br>
output of this synthesis needs to be a time domain output signal similar to that of the decoder. It<br>
is sufficient to observe and synthesise an absolute spectral representation of the HFR in the<br>
decoder. This can be accomplished by using prediction in a QMF filterbank with subsequent<br>
peak-picking of the difference in prediction gain between the original and a HFR counterpart.<br>
Instead of peak-picking of the difference in prediction gain, differences of the absolute spectrum<br>
can also be used. For both methods the frequency dependent prediction gain or the absolute<br>
spectrum of the HFR are synthesised by simply re-arranging the frequency distribution of the<br>
components similar to what the HFR will do in the decoder.<br><br>
Once the two representations are obtained, the original signal and the synthesised HFR signal,<br>
the detection can be done in several ways.<br>
In a QMF filterbank linear prediction of low order can be performed, e.g. LPC-order 2, for the<br>
different channels. Given the energy of the predicted signal and the total energy of the signal, the<br>
tonal to noise ratio can be defined according to<br><br>
is the energy of the signal block, and E is the energy of the prediction error block, for a given<br>
filterbank channel. This can be calculated for the original signal, and given that a representation<br>
of how the tonal to noise ratio for different frequency bands in the HFR output in the decoder can<br>
be obtained. The difference between the two on an arbitrary frequency selective base (larger than<br>
the frequency resolution of the QMF), can thus be calculated. This difference vector representing<br>
the difference of tonal to noise ratios, between the original and the expected output from the<br>
HFR in the decoder, is subsequently used to determine where an additional coding method is<br>
required, in order to compensate for the short-comings of the given HFR technique, Fig. 3. Here<br>
the tonal to noise ratio corresponding to the frequency range between subband filterbank band 15<br>
- 41 is displayed for the original and a synthesised HFR output. The grid displays the scalefactor<br>
bands of the frequency range grouped in a bark-scale manner. For every scalefactor band the<br>
difference between the largest components of the original and the HFR output is calculated, and<br>
displayed in the third plot.<br>
The above detection can also be performed using an arbitrary spectral representation of the<br>
original, and a synthesised HFR output, for instance peak-picking in an absolute spectrum<br>
["Extraction of spectral peak parameters using a short-time Fourier transform modeling [sic]<br><br>
and no sidelobe windows" Ph Depalle, T Helie, IRCAM], or similar methods, and then compare<br>
the tonal components detected in the original and the components detected in the synthesised<br>
HFR output.<br>
When a spectral line has been deemed missing from the HFR output, it needs to be coded<br>
efficiently, transmitted to the decoder and added to the HFR output. Several approaches can be<br>
used; interleaved waveform coding, or e.g. parametric coding of the spectral line.<br>
QMF/hybrid filterbank, interleaved wave form coding.<br>
If the spectral line to be coded is situated below FS/2 of the core coder, it can be coded by the<br>
same. This means that the core coder codes the entire frequency range up to COF and also a<br>
defined frequency range surrounding the tonal component, that will not be reproduced by the<br>
HFR in the decoder. Alternatively, the tonal component can be coded by an arbitrary wave form<br>
coder, with this approach the system is not limited by the FS/2 of the core coder, but can operate<br>
on the entire frequency range of the original signal.<br>
To this end, the core coder control unit 910 is provided in the inventive encoder. In case the<br>
difference detector 703a determines a significant peak above the predetermined frequency but<br>
below half the value of the sampling frequency (FS/2), it addresses the core coder 702 to core-<br>
encode a band pass signal derived from the audio signal, wherein the frequency band of the band<br>
pass signal includes the frequency, where the spectral line has been detected, and, depending on<br>
the actual implementation, also a specific frequency band, which embeds the detected spectral<br>
line. To this end, the core coder 702 itself or a controllable band pass filter within the core coder<br>
filters the relevant portion out of the audio signal, which is directly forwarded to the core coder as<br>
it is shown by a dashed line 912.<br>
In this case, the core coder 702 works as the difference describer 703b in that it codes the spectral<br>
line above the cross-over frequency that has been detected by the difference detector. The<br>
additional information obtained by the difference describer 703b, therefore, corresponds to the<br><br>
encoded signal output by the core coder 702 that relates to the certain band of the audio signal<br>
above the predetermined frequency but below half the value of the sampling frequency (FS/2).<br>
To better illustrate the frequency scheduling mentioned before, reference is made to Fig. 11. Fig.<br>
11 shows the frequency scale starting from a 0 frequency and extending to the right in Fig. 11. At<br>
a certain frequency value, one can see the predetermined frequency 1100, which is also called the<br>
cross-over frequency. Below this frequency, the core coder 702 from Fig. 9 is active to produce<br>
the encoded input signal. Above the predetermined frequency, only the spectral envelope<br>
estimator 704 is active to obtain for example one spectral envelope value for each scale factor<br>
band. From Fig. 11, it becomes clear that a scale factor band includes several channels which in<br>
case of known transform coders correspond to frequency coefficients or band pass signals. Fig.<br>
11 is also useful for showing the synthesis filter bank channels from the synthesis filter bank of<br>
Fig. 12 that will be described later. Additionally, reference is made to half the value of the<br>
sampling frequency FS/2, which is, in the case of Fig. 11, above the predetermined frequency.<br>
In case a detected spectral line is above FS/2, the core coder 702 cannot work as the difference<br>
describer 703b. In this case, as it is outlined above, completely different coding algorithms have<br>
to be applied in the difference describer for the coding/obtaining additional information on<br>
spectral lines in the audio signal that will not be reproduced by an ordinary HFR technique.<br>
In the following, reference is made to Fig. 10 to illustrate an inventive decoder for decoding an<br>
encoded signal. The encoded signal is input at an input 1000 into a data stream demultiplexer<br>
801. In particular, the encoded signal includes an encoded input signal (output from the core<br>
coder 702 in Fig. 9), which represents a frequency content of an original audio signal (input into<br>
the input 900 from Fig. 9) below a predetermined frequency. The encoding of the original signal<br>
was performed in the core coder 702 using a certain known coding algorithm. The encoded signal<br>
at the input 1000 includes additional information describing detected differences between a<br>
regenerated signal and the original audio signal, the regenerated signal being generated by high<br>
frequency regeneration technique (implemented in the HFR block 703c in Fig. 9) from the input<br>
signal or a coded and decoded version thereof (embodiment with the core decoder 903 in Fig. 9).<br><br>
In particular, the inventive decoder includes means for obtaining a decoded input signal, which is<br>
produced by decoding the encoded input signal in accordance with the coding algorithm. To this<br>
end. the inventive decoder can include a core decoder 803 as shown in Fig. 10. Alternatively, the<br>
inventive decoder can also be used as an add-on module to an existing core decoder so that the<br>
means for obtaining a decoded input signal would be implemented by using a certain input of a<br>
subsequently positioned HFR block 804 as it is shown in Fig. 10. The inventive decoder also<br>
includes a reconstructor for reconstructing detected differences based on the additional<br>
information that have been produced by the difference describer 703b which is shown in Fig. 9.<br>
As a key component, the inventive decoder additionally includes a high frequency regeneration<br>
means for performing a high frequency regeneration technique similar to the high frequency<br>
regeneration technique that has been implemented by the HFR block 703c as shown in Fig. 9.<br>
The high frequency regeneration block outputs a regenerated signal which, in a normal HFR<br>
decoder, would be used for synthesizing the spectral portion of the audio signal that has been<br>
discarded in the encoder.<br>
In accordance with the present invention, a producer that includes the functionalities of block 806<br>
and 807 from Fig. 8 is provided so that the audio signal output by the producer not only includes<br>
a high frequency reconstructed portion but also includes any detected differences, preferably<br>
spectral lines, that cannot be synthesized by the HFR block 804 but that were present in the<br>
original audio signal.<br>
As will be outlined later, the producer 806, 807 can use the regenerated signal output by the HFR<br>
block 804 and simply combine it with the low band decoded signal output by the core decoder<br>
803 and than insert spectral lines based on the additional information. Alternatively, and<br>
preferably, the producer also does some manipulation of the HFR-generated spectral lines as will<br>
be outlined with respect to Fig. 12. Generally, the producer not only simply inserts a spectral line<br>
into the HFR spectrum at a certain frequency position but also accounts for the energy of the<br>
inserted spectral line in attenuating HFR-regenerated spectral lines in the neighbourhood of the<br>
inserted spectral line.<br><br>
The above proceeding is based on a spectral envelope parameter estimation performed in the<br>
encoder. In a spectral band above the predetermined frequency, i.e., the cross-over frequency, in<br>
which a spectral line is positioned, the spectral envelope estimator estimates the energy in this<br>
band. Such a band is for example a scale factor band. Since the spectral envelope estimator<br>
accumulates the energy in this band irrespective of the fact whether the energy stems from noisy<br>
spectral lines or certain remarkable peaks, i.e., tonal spectral lines, the spectral envelope estimate<br>
for the given scale factor band includes the energy of the spectral line as well as the energy of the<br>
"noisy" spectral lines in the given scale factor band.<br>
To use the spectral energy estimate information transmitted in connection with the encoded<br>
signal as accurate as possible, the inventive decoder accounts for the energy accumulation<br>
method in the encoder by adjusting the inserted spectral line as well as the neighbouring "noisy"<br>
spectral lines in the given scale factor band so that the total energy, i.e., the energy of all lines in<br>
this band corresponds to the energy dictated by the transmitted spectral envelope estimate for this<br>
scale factor band.<br>
Figure 12 shows a schematic diagram for the preferred HFR reconstruction based on an analysis<br>
filter bank 1200 and a synthesis filter bank 1202. The analysis filter bank as well as the synthesis<br>
filter bank consist of several filter bank channels, which are also illustrated in Fig. 11 with respect<br>
to a scale factor band and the predetermined frequency. Filter bank channels above the<br>
predetermined frequency, which is indicated by 1204 in Fig. 12 have to be reconstructed by<br>
means of filter bank signals, i.e. filter bank channels below the predetermined frequency as it is<br>
indicated in Fig. 12 by lines 1206. It is to be noted here that in each filter bank channel, a band<br>
pass signal having complex band pass signal samples is present. The high frequency<br>
reconstruction block 804 in Fig. 10 and also the HFR block 703c in Fig. 9 include a<br>
transposition/envelope adjustment module 1208, which is arranged for doing HFR with respect to<br>
certain HFR algorithms. It is to be noted that the block on the encoder side does not necessarily<br>
have to include an envelope adjustment module. It is preferred to estimate a tonality measure as a<br>
function of frequency. Then, when the tonality differs too much the difference in absolute<br>
spectral envelope is irrelevant.<br><br>
The HFR algorithm can be a pure harmonic or an approximate harmonic HFR algorithm or can<br>
be a low-complexity HFR algorithm, which includes the transposition of several consecutive<br>
analysis filter bank channels below the predetermined frequency to certain consecutive synthesis<br>
filter bank channels above the predetermined frequency. Additionally, the block 1208 preferably<br>
includes an envelope adjustment function so that the magnitudes of the transposed spectral lines<br>
are adjusted such that the accumulated energy of the adjusted spectral lines in one scale factor<br>
band for example corresponds to the spectral envelope value for the scale factor band.<br>
From Fig. 12 it becomes clear that one scale factor band includes several filter bank channels. An<br>
exemplary scale factor band extends from a filter bank channel Ilow until a filter bank channel Iup.<br>
With respect to the subsequent adaption/sine insertion method, it is to be noted here that this<br>
adaption or "manipulation" is done by the producer 806, 807 in Fig. 10, which includes a<br>
manipulator 1210 for manipulating HFR produced band pass signals. As an input, this<br>
manipulator 1210 receives, from the reconstructor 805 in Fig. 10, at least the position of the line,<br>
i.e. preferably the number Is, in which the to be synthesized sine is to be positioned. Additionally,<br>
the manipulator 1210 preferably receives a suitable level for this spectral line (sine wave) and,<br>
preferably, also information on a total energy of the given scale factor band sfb 1212.<br>
It is to be noted here that a certain channel Is, into which the synthetic sine signal is to be inserted<br>
is treated different from the other channels in the given scale factor band 1212 as will be outlined<br>
below. This "treatment" of the HFR-regenerated channel signals as output by the block 1208 is,<br>
as has been outlined above, done by the manipulator 1210 which is part of the producer 806, 807<br>
from Fig. 10<br>
Parametric coding of spectral lines<br>
An example of a filterbank based system using parametric coding of missing spectral lines is<br>
outlined below.<br><br>
When using an HFR method where the system uses adaptive noise floor addition according to<br>
[PCT/SE00/00159], only the frequency location of the missing spectral line needs to be coded,<br>
since the level of the spectral line is implicitly given by the envelope data and the noise-floor<br>
data. The total energy of a given scalefactor band is given by the energy data, and the tonal/noise<br>
energy ration is given by the noise floor level data. Furthermore, in the high-frequency domain<br>
the exact location of the spectral line is of less importance, since the frequency resolution of the<br>
human auditory system is rather coarse at higher frequencies. This implies that the spectral lines<br>
can be coded very efficiently, essentially with a vector indicating for each scalefactor band<br>
whether a sine should be added in that particular band in the decoder.<br>
The spectral lines can be generated in the decoder in several ways. One approach utilises the<br>
QMF filterbank already used for envelope adjustment of the HFR signal. This is very efficient<br>
since it is simple to generate sinewaves in a subband filterbank, provided that they are placed in<br>
the middle of a filter channel in order to not generate aliasing in adjacent channels. This is not a<br>
severe restriction since the frequency location of the spectral line is usually rather coarsely<br>
quantised.<br>
If the spectral envelope data sent from the encoder to the decoder is represented by grouped<br>
subband filterbank energies, in time and frequency, the spectral envelope vector may at a given<br>
time be represented by:<br><br>
and the noise-floor level vector may be described according to:<br><br>
Here the energies and noise floor data are averaged over the QMF filterbank bands described by<br>
a vector<br><br>
containing the QMF-band entries form the lowest QMF-band used (Isb ) to the highest (usb),<br>
whose length is M +1, and where the limits of each scalefactor band (in QMF bands) are given<br>
by:<br><br><br>
where is the lower limit and is the upper limit of scalefactor band n. In the above the noise-<br>
floor level data vector has been mapped to the same frequency resolution as that of the energy<br>
data <br>
If a synthetic sine is generated in one filterbank channel, this needs to be considered for all the<br>
subband filter bank channels included in that particular scalefactorband. Since this is the highest<br>
frequency resolution of the spectral envelope in that frequency range. If this frequency resolution<br>
is also used for signalling the frequency location of the spectral lines that are missing from the<br>
HFR and needs to be added to the output, the generation and compensation for these synthetic<br>
sines can be done according to below.<br>
Firstly, all the subband channels within the current scalefactor band need to be adjusted so the<br>
average energy for the band is retained, according to:<br><br>
where and are the limits for the scalefactor band where a synthetic sine will be added, xre and<br>
xm are the real and imaginary subband samples, l is the channel index, and<br><br>
is the required gain adjustment factor, where n is the current scalefactor band. It is to be<br>
mentioned here that the above equation is not valid for the spectral line / band pass signal of the<br>
filter bank channel, in which the sine will be placed.<br><br>
It is to be noted here that the above equation is only valid for the channels in the given scale<br>
factor band extending from Ilow to Iup except the band pass signal in the channel having the<br>
number ls This signal is treated by means of the following equation group.<br>
The manipulator 1210 performs the following equation for the channel having the channel<br>
number ls, i.e. modulating the band pass signal in the channel ls by means of the complex<br>
modulation signal representing a synthetic sine wave. Additionally, the manipulator 1210<br>
performs weighting of the spectral line output from the HFR block 1208 as well as determining<br>
the level of the synthetic sine by means of the synthetic sine adjustment factor gsine. Therefore the<br>
following equation is valid only for a filterbank channel ls into which a sine will be placed.<br>
Accordingly, the sine is placed in QMF channel lv where lt <ls according to:></ls><br>
where, k is the modulation vector index (0 
every other channel. This is required since every other channel in the QMF filterbank is<br>
frequency inverted. The modulation vector for placing a sine in the middle of a complex subband<br>
filterbank band is:<br><br>
and the level of the synthetic sine is given by:<br><br>
The above is displayed in Fig. 4-6 where a spectrum of the original is displayed in Fig. 4, and the<br>
spectra of the output with and without the above are displayed in Fig. 5-6. In Fig. 5, the tone in<br><br>
the 8kHz range is replaced by broadband noise. In Fig. 6 a sine is inserted in the middle of the<br>
scalefactor band in the 8kHz range, and the energy for the entire scalefactor band is adjusted so it<br>
retains the correct average energy for that scalefactor band.<br>
Practical implementations<br>
The present invention can be implemented in both hardware chips and DSPs, for various kinds of<br>
systems, for storage or transmission of signals, analogue or digital, using arbitrary codecs.<br>
In Fig. 7 a possible encoder implementation of the present invention is displayed. The analogue<br>
input signal is converted to a digital counterpart 701 and fed to the core encoder 702 as well as to<br>
the parameter extraction module for the HFR 704. An analysis is performed 703 to determine<br>
which spectral lines will be missing after high-frequency reconstruction in the decoder. These<br>
spectral lines are coded in a suitable manner and multiplexed into the bitstream along with the<br>
rest of the encoded data 705. Fig. 8 displays a possible decoder implementation of the present<br>
invention. The bitstream is de-multiplexed 801, and the lowband is decoded by the core decoder<br>
803, the highband is reconstructed using a suitable HFR-unit 804 and the additional information<br>
on the spectral lines missing after the HFR is decoded 805 and used to regenerate the missing<br>
components 806. The spectral envelope of the highband is decoded 802 and used to adjust the<br>
spectral envelope of the reconstructed highband 807. The lowband is delayed 808, in order to<br>
ensure correct time synchronisation with the reconstructed highband, and the two are added<br>
together. The digital wideband signal is converted to an analogue wideband signal 809.<br>
Depending on implementation details, the inventive methods of encoding or decoding can be<br>
implemented in hardware or in software. The implementation can take place on a digital storage<br>
medium, in particular, a disc, a CD with electronically readable control signals, which can<br>
cooperate with a programmable computer system so that the corresponding method is performed.<br>
Generally, the present invention also relates to a computer program product with a program code<br>
stored on a machine readable carrier for performing the inventive methods, when the computer<br>
program product runs on a computer. In other words, the present invention therefore is a<br><br>
computer program with a program code for performing the inventive method of encoding or<br>
decoding, when the computer program runs on a computer.<br>
It is to be noted that the above description relates to a complex system. The inventive decoder<br>
implementation, however, also works in a real-valued system. In this case the equations<br>
performed by the manipulator 1210 only include the quations for the real part.<br><br>
WE CLAIM:<br>
1. Encoder for encoding an audio signal to obtain an encoded signal, the encoded<br>
signal being intended for decoding using a high frequency regeneration technique,<br>
which is suited for generating frequency components above a predetermined<br>
frequency based on frequency components below the predetermined frequency,<br>
the encoder comprising:<br>
means (702) for providing an encoded input signal, which is a coded<br>
representation of an input signal, the input signal being coded using a coding<br>
algorithm, and representing a frequency content of the audio signal below the<br>
predetermined frequency;<br>
a high frequency regenerator (703 c) for performing the high frequency<br>
regeneration technique on the input signal or a coded and decoded version thereof<br>
to obtain a regenerated signal having frequency components above the<br>
predetermined frequency;<br>
a detector for detecting (703a) differences between the regenerated signal and the<br>
audio signal, which are above a significance threshold;<br>
a describer for describing (703b) detected differences to obtain additional<br>
information; and<br>
a combiner (705) for combining the encoded input signal and the additional<br>
information to produce the encoded signal.<br>
2.	 Encoder in accordance with claim 1, in which the detected differences are spectral<br>
lines in the audio signal that are not there in the regenerated signal.<br>
3.	 Encoder in accordance with claim 1 or 2, in which the predetermined frequency is<br>
a cross-over frequency, which determines a frequency up to which the input<br>
signal is coded by the coding algorithm.<br><br>
4.	 Encoder in accordance with one of the preceding claims, in which the detector<br>
(703a) is arranged for using a plurality of frequency bands for the regenerated<br>
signal and the audio signal, wherein the differences are detected based on<br>
frequency bands of the regenerated signal and the same frequency bands of the<br>
audio signal.<br>
5.	 Encoder in accordance with one of the preceding claims, in which the detector<br>
(703 a) and/or the high frequency regenerator comprises a time domain to<br>
frequency domain converter.<br>
6.	 Encoder in a accordance with claim 5, in which the time domain to frequency<br>
domain converter is a transform or a filter bank.<br>
7.	 Encoder in accordance with one of the preceding claims, in which the detector<br>
(703) comprises:<br>
a predictor for performing predictions on the regenerated signal and the audio<br>
signal; and<br>
a detector for detecting a difference in prediction gains obtained by the predictor,<br>
which is larger than a gain threshold forming the significance threshold.<br>
8.	 Encoder in accordance with one of the preceding claims, in which the detector<br>
(703 a) is arranged for detecting a difference in the absolute spectra of the audio<br>
signal and the regenerated signal, which is above predetermined difference<br>
threshold forming the significance threshold.<br>
9.	 Encoder in accordance with one of the preceding claims, in which the detector<br>
703a) for detecting is arranged for determining a frequency dependent tonality<br>
measure for the audio signal and the regenerated signal, wherein a frequency band<br>
is detected, in which the tonality measures differ more than a threshold difference<br>
forming the significance threshold.<br><br>
10.	Encoder in accordance with claim 9, in which the tonality measure is a tonal-to-<br>
noise ratio.<br>
11.	Encoder in accordance with one of the preceding claims,<br>
in which the audio signal is a discrete audio signal sampled using a sampling<br>
frequency;<br>
in which the predetermined frequency is less than half the value of the sampling<br>
frequency;<br>
in which the detector (703a) is arranged for determining a difference for a specific<br>
frequency band above the predetermined frequency band, a center frequency of<br>
the specific frequency band being less than half the value of the sampling<br>
frequency, the encoder further comprising;<br>
a controller (910) for controlling an encoder producing the encoded input signal to<br>
additionally encode the audio signal with respect to the specific frequency band<br>
according to the encoding algorithm in order to describe the determined<br>
difference, wherein an output of the coder (702) for the specific frequency band<br>
serves as the additional information.<br>
12.	Encoder in accordance with one of claims 1 to10, in which the describer (703b)<br>
comprises a band pass filter for band pass filtering the audio signal, the band pass<br>
filter being set to a specific frequency band, which comprises detected<br>
difference, and<br>
wherein the describer (703b) comprises an encoder for encoding an output of the<br>
band pass filter to obtain the additional signal, the encoder using a coding<br>
algorithm different from the coding algorithm by means of which the encoded<br>
input signal is coded.<br><br>
13.	Encoder in accordance with one of claims 1 to 11, in which the detector for<br>
detecting differences is arranged for detecting spectral lines, and<br>
in which the describer is arranged for producing information on the frequency<br>
location of the detected spectral line.<br>
14.	Encoder in accordance with claim 13, in which the information on the frequency<br>
location comprises a vector indicating, for a scale factor band, whether a spectral<br>
line has to be added in the specific scale factor band when decoding the encoded<br>
signal.<br>
15.	Encoder in accordance with one of the preceding claims, in which the audio signal<br>
is processed frame wise, and<br>
in which the determined frequency is variable from frame to frame.<br>
16.	Encoder in accordance with claim l5, in which the difference detector (703a)<br>
further comprises a cross-over frequency controller for varying the<br>
predetermining frequency based on a detected difference.<br>
17.	Encoder in accordance with one of the preceding claims, in which the HFR<br>
technique is arranged to produce spectral values above the predetermined<br>
frequency from spectral values below the predetermined frequency.<br>
18.	Encoder in accordance with one of the preceding claims, in which the HFR<br>
technique is arranged to transpose a group of spectral values or band pass signals<br>
that relate to consecutive frequencies to a group of spectral values or band pass<br>
signals above the predetermined frequency that correspond to consecutive<br>
frequency.<br>
19.	Encoder in accordance with claim 17 or 18, further comprising a spectral<br>
envelope estimator (704) for determining a spectral envelope of the audio signal,<br>
the spectral envelope relating to a spectral part of the audio signal above the<br>
predetermined frequency.<br><br>
20.	Encoder in accordance with claim 19, in which the spectral envelope data<br>
comprises number of envelope data points that is smaller than a number of<br>
spectral values, wherein one data point is provided for a scale factor band.<br>
21.	Encoder in accordance with one of the preceding claims, in which the spectral<br>
components are complex transform coefficients or complex band pass signals.<br>
22.	Decoder for decoding an encoded signal, the encoded signal comprising an<br>
encoded input signal representing a frequency content of an original audio signal<br>
below a predetermined frequency, the encoding being performed using a coding<br>
algorithm, and additional information describing detected differences between a<br>
regenerated signal and the original audio signal, the regenerated signal being<br>
regenerated by a high frequency regenerating technique from the input signal or a<br>
coded and decoded version thereof, the decoder comprising:<br>
means (803) for obtaining a decoded input signal, which is produced by decoding<br>
the encoded input signal in accordance with the coding algorithm;<br>
a reconstructor (805) for reconstruction detected differences based on the<br>
additional information;<br>
a high frequency regenerator (804) for performing a high frequency regeneration<br>
technique similar to the high frequency regeneration technique for obtaining the<br>
detected differences to obtain the regenerated signal;<br>
a producer (806,807) for producing a high frequency regenerated audio signal<br>
based on the decoded input signal, the reconstructed differences and the<br>
regenerated signal.<br><br>
23.	Decoder in accordance with claim 22,in which a detected difference comprises<br>
spectral lines in a specified frequency region and the additional information relate<br>
to the specific frequency region.<br>
wherein the reconstructor (805) is arranged for generating a spectral in the<br>
specified region in response to the additional information.<br>
24.	Decoder in accordance with claim 22 or 23,<br>
in which the additional information specifies a scale factor band, in which a<br>
spectral line is to be reconstructed;<br>
in which the encoded signal further comprises spectral envelope data for<br>
describing a spectral portion of the audio signal above the predetermined<br>
frequency,<br>
in which the producer (806,807) is arranged for generating a spectral line in the<br>
scale factor band, and<br>
in which the producer (806,807) is further arranged for adjusting spectral lines in<br>
the scale factor band so that a given energy for the scale factor band comprising<br>
the generated spectral line is maintained.<br>
25.	Decoder in accordance with one of claims 22 to 24,<br>
in which the high frequency regenerator (804) comprises a synthesis filter bank<br>
(1203) having synthesis filter bank channels, wherein a scale factor band includes<br>
more than one filter bank channels,<br>
in which the encoded signal further comprises a spectral envelope vector and a<br>
noise-floor level vector, and<br><br>
wherein the reconstructor (805) is arranged for calculating a level of the<br>
reconstructed spectral line bas on the spectral envelope vector.<br>
26. Decoder in accordance with claim 25, wherein the producer (806,807) is<br>
arranged for determining band pass signals for filter bank channels, into which<br>
no sine is to be inserted, in a scale factor band in accordance with the following<br>
equation<br><br>
wherein 1 is a filter bank channel number, wherein his the lowest filter bank channel<br>
number for the scale factor band, wherein lu is the highest filter bank channel for the<br>
scale factor band, wherein xre is the real part of a band pass signal sample output by<br>
the HFR block (804), wherein xum is an imaginary part of the band pass signal sample<br>
output by the HFR block (804), wherein yre and yim are the real part and the imaginary<br>
part of an adjusted band pass signal for a filter bank channel, and wherein ghfr is a gain<br>
adjustment factor derived from the noise-floor level vector.<br>
27. Decoder in accordance with claim 25 or 26, wherein the reconstructor (805) is<br>
arranged for determining a certain scale factor band ls into which a synthetic<br>
sine is to be inserted, and<br>
wherein a level of a synthetic sine to be inserted is defined as follows:<br><br>
wherein n is a number of the given scale factor band, and e is the spectral envelope<br>
vector, and<br><br>
wherein the producer is arranged for determining a band pass signal for the channel in<br>
which the synthetic sine is to be placed in accordance with the following equation:<br><br>
wherein ls is a filter bank, channel number, into which a sine is to be inserted, wherein<br>
li is the lowest filter bank channel number for the scale factor band, wherein lu is the<br>
highest filter bank channel for the scale factor band, wherein xre is the real part of a<br>
band pass signal sample output by the HFR block (804), and wherein yre and yjm are<br>
the real part and the imaginary part of an adjusted band signal for a filter bank<br>
channel, and wherein ghfr is a gain adjustment factor derived from the noise-floor level<br>
vector,<br>
wherein φre and φim form a complex modulation vector for placing a sine into a band<br>
pass signal and wherein k is a modulation vector index ranging between 0 and 4.<br>
28. Method for encoding an audio signal to obtain an encoded signal, the encoded<br>
signal being intended for decoding using a high frequency regeneration<br>
technique, which is suited for generating frequency components above a<br>
predetermined frequency based on frequency components below the<br>
predetermined frequency, the method comprising the following steps:<br>
providing an encoded input signal, which is a coded representation of an input signal,<br>
the input signal being coded using a coding algorithm , and representing a frequency<br>
content of the audio signal below the predetermined frequency;<br>
performing the high frequency regeneration technique on the input signal or a coded<br>
and decoded version thereof to obtain a regenerated signal having frequency<br>
components above the predetermined frequency;<br><br>
detecting(703a) differences between the regenerated signal and the audio signal,<br>
which are above a significance threshold;<br>
describing (703b) detected differences to obtain additional information; and<br>
combining the encoded input signal and the additional information to produce the<br>
encoded signal.<br>
29. Method for decoding an encoded signal, the encoded signal comprising an<br>
encoded input signal representing a frequency content of an original audio signal<br>
below a predetermined frequency, the encoding being performed using a coding<br>
algorithm, and additional information describing detected differences between a<br>
regenerated signal and the original audio signal, the regenerated signal being<br>
generated by a high frequency regenerating technique from the input signal or a<br>
coded and decoded version thereof, the method comprising the following steps:<br>
obtaining a decoded input signal, which is produced by decoding the encoded input<br>
signal in accordance with the coding algorithm;<br>
reconstruction detected differences based on the additional information;<br>
performing a high frequency regeneration technique similar to the high frequency<br>
regeneration technique for obtaining the detected differences to obtain the regenerated<br>
signal;<br>
producing a high frequency regenerated audio signal based on the decoded input<br>
signal, the reconstructed differences and the regenerated signal.<br><br>
The present invention proposes a new method and a new apparatus for enhancement<br>
of audio source coding systems utilizing high frequency reconstruction (III-R). It<br>
utilizes a detection mechanism (703a) on the encoder side to assess what parts of the<br>
spectrum will not be correctly reproduced by the III-R method in the decoder.<br>
Information on this is efficiently coded (703b) and sent to the decoder, where it is<br>
combined with the output of the III-R unit.</td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzIxLUtPTE5QLTIwMDQtKDExLTAxLTIwMTIpLUZPUk0tMjcucGRm" target="_blank" style="word-wrap:break-word;">721-KOLNP-2004-(11-01-2012)-FORM-27.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzIxLUtPTE5QLTIwMDQtKDMwLTAzLTIwMTIpLUNFUlRJRklFRCBDT1BJRVMoT1RIRVIgQ09VTlRSSUVTKS5wZGY=" target="_blank" style="word-wrap:break-word;">721-KOLNP-2004-(30-03-2012)-CERTIFIED COPIES(OTHER COUNTRIES).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzIxLUtPTE5QLTIwMDQtKDMwLTAzLTIwMTIpLUNPUlJFU1BPTkRFTkNFLnBkZg==" target="_blank" style="word-wrap:break-word;">721-KOLNP-2004-(30-03-2012)-CORRESPONDENCE.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzIxLUtPTE5QLTIwMDQtKDMwLTAzLTIwMTIpLUZPUk0tMTMtMS5wZGY=" target="_blank" style="word-wrap:break-word;">721-KOLNP-2004-(30-03-2012)-FORM-13-1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzIxLUtPTE5QLTIwMDQtKDMwLTAzLTIwMTIpLUZPUk0tMTMucGRm" target="_blank" style="word-wrap:break-word;">721-KOLNP-2004-(30-03-2012)-FORM-13.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzIxLUtPTE5QLTIwMDQtKDMwLTAzLTIwMTIpLVBBLUNFUlRJRklFRCBDT1BJRVMucGRm" target="_blank" style="word-wrap:break-word;">721-KOLNP-2004-(30-03-2012)-PA-CERTIFIED COPIES.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzIxLUtPTE5QLTIwMDQtRk9STS0yNy5wZGY=" target="_blank" style="word-wrap:break-word;">721-KOLNP-2004-FORM-27.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzIxLWtvbG5wLTIwMDQtZ3JhbnRlZC1hYnN0cmFjdC5wZGY=" target="_blank" style="word-wrap:break-word;">721-kolnp-2004-granted-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzIxLWtvbG5wLTIwMDQtZ3JhbnRlZC1jbGFpbXMucGRm" target="_blank" style="word-wrap:break-word;">721-kolnp-2004-granted-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzIxLWtvbG5wLTIwMDQtZ3JhbnRlZC1jb3JyZXNwb25kZW5jZS5wZGY=" target="_blank" style="word-wrap:break-word;">721-kolnp-2004-granted-correspondence.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzIxLWtvbG5wLTIwMDQtZ3JhbnRlZC1kZXNjcmlwdGlvbiAoY29tcGxldGUpLnBkZg==" target="_blank" style="word-wrap:break-word;">721-kolnp-2004-granted-description (complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzIxLWtvbG5wLTIwMDQtZ3JhbnRlZC1kcmF3aW5ncy5wZGY=" target="_blank" style="word-wrap:break-word;">721-kolnp-2004-granted-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzIxLWtvbG5wLTIwMDQtZ3JhbnRlZC1leGFtaW5hdGlvbiByZXBvcnQucGRm" target="_blank" style="word-wrap:break-word;">721-kolnp-2004-granted-examination report.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzIxLWtvbG5wLTIwMDQtZ3JhbnRlZC1mb3JtIDEucGRm" target="_blank" style="word-wrap:break-word;">721-kolnp-2004-granted-form 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzIxLWtvbG5wLTIwMDQtZ3JhbnRlZC1mb3JtIDE4LnBkZg==" target="_blank" style="word-wrap:break-word;">721-kolnp-2004-granted-form 18.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzIxLWtvbG5wLTIwMDQtZ3JhbnRlZC1mb3JtIDIucGRm" target="_blank" style="word-wrap:break-word;">721-kolnp-2004-granted-form 2.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzIxLWtvbG5wLTIwMDQtZ3JhbnRlZC1mb3JtIDI2LnBkZg==" target="_blank" style="word-wrap:break-word;">721-kolnp-2004-granted-form 26.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzIxLWtvbG5wLTIwMDQtZ3JhbnRlZC1mb3JtIDMucGRm" target="_blank" style="word-wrap:break-word;">721-kolnp-2004-granted-form 3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzIxLWtvbG5wLTIwMDQtZ3JhbnRlZC1mb3JtIDUucGRm" target="_blank" style="word-wrap:break-word;">721-kolnp-2004-granted-form 5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzIxLWtvbG5wLTIwMDQtZ3JhbnRlZC1yZXBseSB0byBleGFtaW5hdGlvbiByZXBvcnQucGRm" target="_blank" style="word-wrap:break-word;">721-kolnp-2004-granted-reply to examination report.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzIxLWtvbG5wLTIwMDQtZ3JhbnRlZC1zcGVjaWZpY2F0aW9uLnBkZg==" target="_blank" style="word-wrap:break-word;">721-kolnp-2004-granted-specification.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="230120-medicament-comprising-a-an-active-compound-hydroxyguanidine-compounds.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="230122-apparatus-and-method-for-humidifying-a-sterilization-chamber.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>230121</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>721/KOLNP/2004</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>09/2009</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>27-Feb-2009</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>25-Feb-2009</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>28-May-2008</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>CODING TECHNOLOGIES AB</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>DOBELNSGATAN 64, S-113 52 STOCKHOLM</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>EKSTRAND, PER</td>
											<td>SODERMANNAGATAN 45, S 116 50 STOCKHOLM</td>
										</tr>
										<tr>
											<td>2</td>
											<td>HORICH, HOLGER</td>
											<td>WIELANDSTRASSE 9K, D-90419 NURNBERG</td>
										</tr>
										<tr>
											<td>3</td>
											<td>KJORLING, KRISTOFER</td>
											<td>LOSTIGEN 10, S-170 75 SOLNA</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>G10L 21/02</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/EP2002/013462</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2002-11-28</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>0104004-7</td>
									<td>2001-11-29</td>
								    <td>Sweden</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/230121-an-encoder-a-decoder-and-method-for-emcoding-decoding-an-audio-signal by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 10:52:06 GMT -->
</html>
