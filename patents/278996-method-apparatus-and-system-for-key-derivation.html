<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/278996-method-apparatus-and-system-for-key-derivation by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 00:02:03 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 278996:METHOD, APPARATUS AND SYSTEM FOR KEY DERIVATION</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">METHOD, APPARATUS AND SYSTEM FOR KEY DERIVATION</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A method, an apparatus and a system for key derivation are disclosed. The method includes the following steps: a target base station receives multiple keys derived by a source base station, where the keys correspond to multiple cells under control of the target base station; the target base station selects a key corresponding to the target cell after knowing a target cell that a user equipment (UE) wants to access. An apparatus for key derivation and a communications system are also provided.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td> <br>
<br>
Field of the Invention<br>
The present invention relates to the mobile communication field, and in particular, to a<br>
method, an apparatus and a system for key derivation.<br>
Background of the Invention<br>
In a long term evolution (LTE) system in the prior art, if a user equipment (UE) in<br>
connecting state detects that quality of signal in a source cell is poor, the base station of the<br>
source cell (hereinafter referred as source base station) makes the following handover<br>
preparations after receiving a measurement report from the UE. The source base station<br>
derives a key_A according to a target cell's physical cell identifier (ID), sends the key_A to<br>
the base station X of a target cell A (hereinafter referred as target base station), and sends a<br>
handover command to the UE. If the UE cannot receive the handover command in case of<br>
radio link failure (RLF), the UE re-selects a proper cell and initiates a radio resource<br>
control (RRC) connection reestablishment procedure to resume the service.<br>
In the technical solution in the prior art, when the base station of a target cell B that the<br>
UE attempts to access through the connection reestablishment procedure is the same as the<br>
base station of the target cell A, the UE derives a key_B by using the physical cell ID of the<br>
target cell B, and encrypts messages that the UE sends to the base station X by using the<br>
key_B; the base station X decrypts the messages sent from the UE by using the key_A<br>
.according to context information of the UE. Thus, the keys used by the UE and the base<br>
station X are inconsistent, which leads to a failure of communication between the UE and<br>
the base station.<br>
<br>
 <br>
Summary of the Invention<br>
Embodiments of the present invention provide a method, an apparatus and a system for<br>
key derivation to solve the failure of communication between a UE that attempts to access a<br>
target cell.<br>
According to one aspect of the present invention, a method for key derivation is<br>
provided, which includes:<br>
receiving, by a target base station, multiple keys derived by a source base station,<br>
where the multiple keys correspond to multiple cells under control of the target base<br>
station;<br>
receiving, by the target base station, a radio resource control (RRC) connection<br>
reestablishment request from a User Equipment (UE); and<br>
selecting, by the target base station, a key for being used in communication with<br>
the UE, the selected key corresponding to the target cell that the UE requests to access.<br>
According to the other aspect of the present invention, an apparatus for key derivation<br>
is provided, which includes:<br>
a first unit, configured to receive multiple keys derived by a source base station,<br>
the multiple keys corresponding to multiple cells under control of a target base station,<br>
wherein the first unit is further configured to receive a Radio Resource Control, RRC,<br>
connection reestablishment request message from a User Equipment, UE; and<br>
a second unit, configured to select a key for being used in communication with the<br>
UE, the selected key corresponding to the target cell that the UE requests to access.<br>
According to another aspect of the present invention, a communications system<br>
provided in an embodiment of the present invention includes the key deriving apparatus<br>
provided in an embodiment of the present invention and the UE that communicates with the<br>
key deriving apparatus.<br>
In exemplary embodiments of the present invention, the UE and the network apparatus<br>
derive keys by using the same key derivation parameters. Thus, the UE and the network<br>
<br>
 <br>
apparatus derive the same key, which guarantees normal communication between the UE<br>
and the network apparatus, reduces the call drop rate, and brings a better user experience.<br>
Brief Description of the Drawings<br>
FIG 1 is a flowchart of a method for key derivation according to a first exemplary<br>
embodiment of the present invention;<br>
FIG 2 is a flowchart of a method for key derivation according to a third exemplary<br>
embodiment of the present invention;<br>
FIG 3 is a flowchart of a method for key derivation according to a fourth exemplary<br>
embodiment of the present invention;<br>
FIG 4 is a schematic diagram illustrating an apparatus for key derivation according to a<br>
fifth exemplary embodiment of the present invention;<br>
FIG 5 is a schematic diagram illustrating an apparatus for key derivation according to a<br>
sixth exemplary embodiment of the present invention;<br>
FIG 6 is a schematic diagram illustrating an apparatus for key derivation according to a<br>
seventh exemplary embodiment of the present invention; and<br>
FIG 7 is a schematic diagram illustrating a communications system according to an<br>
eighth exemplary embodiment of the present invention.<br>
Detailed Description of the Invention<br>
The technical solution of the present invention is hereinafter described in detail with<br>
reference to the accompanying drawings. It is evident that the embodiments are exemplary<br>
only and the present invention is not limited to such embodiments. Other embodiments that<br>
those skilled in the art obtain based on embodiments of the present invention also fall in the<br>
scope of protection of the present invention.<br>
In the method for key derivation in an exemplary embodiment of the present invention,<br>
when the target base station receives at least one key that is derived according to the target<br>
<br>
 <br>
base station identifier (ID) and/or target cell's physical cell ID (PCI), upon reception of an<br>
RRC connection reestablishment request from a UE, the target base station selects a Key_A<br>
and provides the UE with the target base sation ID or target cell's physical cell ID needed<br>
for deriving the Key_A. The selected Key_A may be derived according to the target base<br>
station ID, or according to the target cell's physical cell ID corresponding to the cell where<br>
the UE is located or according to the physical cell ID carried in the RRC connection<br>
reestablishment request. Thus, the key derived by the UE is the consistent with the key<br>
determined by the target base station, which guarantees normal communication between<br>
the UE and the base station, reduces the call drop rate, and brings a better user experience.<br>
In exemplary embodiments of the method for key derivation, the UE initiates a<br>
connection reestablishment procedure, and derives a key according to the target base<br>
station ID or target cell's physical cell ID provided by the target base station. Thus, the key<br>
derived by the UE is consistent with the key used by the target base station, which<br>
guarantees normal communication between the UE and the eNodeB, reduces the call drop<br>
rate, and brings a better user experience.<br>
In the prior art, the process of key derivation includes a primary derivation process in<br>
which a key KeNB* is derived according to the target cell's physical cell ID and a<br>
secondary process in which a key KeNB** is derived according to the KeNB* derived in<br>
the primary derivation process. The process of key derivation carried out by the UE and the<br>
network apparatus in embodiments of the present invention is the primary derivation<br>
process. In the method for key derivation in an embodiment of the present invention, the<br>
UE and the network apparatus derive the same KeNB* in the primary derivation process.<br>
Thus, the UE and the network apparatus also derive the same KeNB** in the secondary<br>
derivation process, so that the UE and the network apparatus can maintain normal<br>
communications by using the KeNB**. It is understandable to those skilled in the art that<br>
the method for key derivation described in exemplary embodiments of the present<br>
<br>
 <br>
I<br>
invention can be combined with the method involved in the secondary derivation process in<br>
the prior art, a detailed description is omitted here.<br>
FIG 1 is a flowchart of a method for key derivation according to the first exemplary<br>
embodiment. As shown in FIG 1, a source base station is a network apparatus (for example,<br>
eNode B) that currently serves a UE, and the target base station is another network<br>
apparatus that the source base station selects to serve the UE. The method includes the<br>
following steps:<br>
5101.	The UE sends a measurement report to the source base station.<br>
5102.	The source base station makes a handover decision and derives keys according to<br>
the obtained target cell's physical cell ID and the target base station ID respectively.<br>
In this step, it is assumed that the key derived according to the target cell's physical cell<br>
ID is KeNB* 1 and the key derived according to the target base station ID is KeNB*2.<br>
It is understandable to those skilled in the art that various key derivation algorithms and<br>
methods in the prior art are applicable to the key derivation process in this step and are not<br>
further described.<br>
SL03. The source base station sends the KeNB*l and KeNB*2 to the target base<br>
tstation.<br>
In this step, the keys may be carried in an access stratum message sent through an X2<br>
interface between the source base station and the target base station. For example, the keys<br>
are carried in reserved fields or extended fields in an existing message (for example, a<br>
handover request) or a new message. The keys may also be carried in a message sent by an<br>
SI interface between the source base station and a mobility management entity (MME),<br>
and the MME provides the received keys for the target base station.<br>
5104.	The target base station stores the received key, and sends a handover request<br>
Acknowledgement (ACK) message.<br>
5105.	The source base station sends a handover command to the UE.<br>
<br>
 <br>
If the UE receives the handover command, the UE executes S106' (not shown in the<br>
Figure). That is, the UE derives a key KeNB*1 according to the target cell's physical cell<br>
ID. The KeNB* 1' is consistent with the KeNB*1 stored in the target base station in terms of<br>
derivation algorithms and parameters, and thus the KeNB*1' is consistent with the<br>
KeNB*1.<br>
If an Radio Link Failure (RLF) or handover failure occurs, the connection<br>
reestablishment procedure initiated by the UE may include the following steps:<br>
5106.	The UE sends an RRC connection reestablishment request to the target base<br>
station.<br>
5107.	If the target base station receives the connection reestablishment request and<br>
finds that the key corresponding to the UE is stored in the target base station, the target base<br>
station selects the KeNB*2, and sends an RRC connection reestablishment message to the<br>
UE.<br>
In this step, the target base station may search for the context information in the target<br>
base station according to the UE information so as to find whether the key corresponding to<br>
the UE is stored in the target base station. The process of selecting the KeNB*2 by the<br>
target base station is a secondary derivation process performed by the target base station<br>
•according to the KeNB*2. If, after searching for the context information, the target base<br>
station finds that the key corresponding to the UE is not stored in the target base station, the<br>
target base station may establish a communication with the UE to obtain the context<br>
information of the UE and select some of the context information for storing, which does<br>
not affect the implementation of the present invention.<br>
5108.	The UE receives the RRC connection reestablishment message, and derives a key<br>
KeNB*2' according to the obtained target base station ID.<br>
The KeNB*2' in this step is consistent with the KeNB*2 stored in the target base station<br>
in terms of derivation algorithms and parameters, and thus the KeNB*2' is consistent with<br>
the KeNB*2. The KeNB*2' derived by the UE is used in the secondary derivation process.<br>
<br>
 <br>
In this step, the target base station ID obtained by the UE may come from a system<br>
broadcast message. That is, before starting the connection reestablishment procedure or<br>
after receiving the RRC connection reestablishment message, the UE reads the target base<br>
station ID carried in the system broadcast message. The target base station ID obtained by<br>
the UE may also come from the RRC connection reestablishment message. That is, the<br>
RRC connection reestablishment message that the target base station sends to the UE in<br>
S107 carries a target base station ID, and the UE reads the target base station ID and derives<br>
a key in S108, making it unnecessary to read the system broadcast message. In addition, the<br>
target base station ID obtained by the UE may come from other messages that the target<br>
'base station sends to the UE.<br>
It is understandable to those skilled in the art that a cell global identifier (CGI) includes<br>
information about the target base station ID. Thus, the message that carries the target base<br>
station ID may also be the message that carries the CGI. The receiver reads information<br>
about the target base station ID from the CGI, and then uses the target base station ID.<br>
In this embodiment, the source base station sends the two derived keys to the target<br>
base station. If the UE succeeds in handover, the UE communicates with the target base<br>
station by using the key derived according to the target cell's physical cell ID. When the<br>
connection reestablishment procedure is performed in case of an RLF or handover failure<br>
.of the UE, the UE communicates with the target base station by using the key derived<br>
according to the target base station ID. Thus, normal communication between the UE and<br>
the network apparatus is guaranteed. The method provided in this embodiment can reduce<br>
the call drop rate and bring a better user experience without changing the air interface.<br>
The second exemplary embodiment is similar to the first embodiment except for the<br>
following difference: The source base station drives a key according to the obtained target<br>
base station ID instead of the target cell's physical cell ID, and sends the derived KeNB*2<br>
to the target base station; the target base station carries a target base station ID in the<br>
handover command sent to the UE, so that the UE can derive the KeNB*2' according to the<br>
<br>
 <br>
target base station ID after receiving the handover command. Thus, the KeNB*2' is<br>
consistent with the KeNB*2. In addition, if the UE initiates a connection reestablishment<br>
procedure due to failure to receive the handover command, the target base station carries<br>
the target base station ID in the RRC connection reestablishment message sent to the UE or<br>
carries the target base station ID in the system broadcast message, so that the UE derives<br>
the KeNB*2' according to the target base station ID read from the RRC connection<br>
reestablishment message or system broadcast message. Thus, the KeNB*2' is the consistent<br>
as the KeNB*2.<br>
In this embodiment, the UE and the network apparatus derive keys by using the target<br>
base station ID as the parameter. Thus, the keys derived by the UE and the network<br>
apparatus are consistent, which guarantees normal communication between the UE and<br>
the network apparatus, reduces the call drop rate, and brings a better user experience.<br>
FIG 2 is a flowchart of a method for key derivation according to the third exemplary<br>
embodiment of the present invention. As shown in FIG 2, the source base station is a<br>
network apparatus (for example, source eNodeB) that currently serves the UE, and the<br>
target base station is another network apparatus (for example, target eNode B) that the<br>
source base station selects to serve the UE. The method includes the following steps:<br>
5201.	The UE sends a measurement report to the source base station.<br>
5202.	The source base station makes a handover decision, searches for all target cells'<br>
.physical cell IDs corresponding to the source base station according to the obtained target<br>
base station ID, and derives keys according to the target cells' physical cell IDs<br>
respectively.<br>
In this step, it is assumed that the target base station has three cells; that is, there are<br>
three target cells' physical cell IDs corresponding to the target base station ID, namely,<br>
Ce111, Ce1112, and Ce113. Thus, three keys are derived, represented by KeNB*1, KeNB*2,<br>
and KeNB*3.<br>
<br>
 <br>
It is understandable to those skilled in the art that various key derivation algorithms and<br>
methods in the prior art are applicable to the key derivation process in this step and are not<br>
further described.<br>
5203.	The source base station sends the KeNB*1, KeNB*2 and KeNB*3 to the target<br>
base station.<br>
In this step, the keys may be carried in an access stratum message sent through the X2<br>
interface between the source base station and the target base station. The keys may be<br>
carried in reserved fields or extended fields in an existing message (for example, a<br>
handover request) or a new message. The keys may also be carried in a message sent by the<br>
S1 interface between the source base station and the MME, and the MME provides the<br>
.received keys for the target base station. In addition, the source base station may carry<br>
multiple keys in one message for transmission so as to save resources and improve the<br>
transmission efficiency. Furthermore, the source base station may also carry multiple keys<br>
to different messages for transmission so as to improve the flexibility of transmission.<br>
5204.	The target base station stores the received keys, and sends a handover request<br>
ACK message.<br>
5205.	The source base station sends a handover command to the UE.<br>
If the UE receives the handover command and obtains a target cell's physical cell ID,<br>
for example Ce111, the UE executes S206' (not shown in the figure). That is, the UE derives<br>
a KeNBT according to the Ce111's physical cell ID. The KeNB*1 is consistent with the<br>
KeNB*1 in the target base station in terms of derivation algorithms and parameters, and<br>
thus the KeNBT is consistent with the KeNB*1.<br>
If the UE cannot receive the handover command in case of an RLE, the connection<br>
reestablishment procedure initiated by the UE includes the following steps:<br>
5206.	The UE sends an RRC connection reestablishment request to the target base<br>
station.<br>
<br>
 <br>
5207.	The target base station receives the connection reestablishment request, and<br>
learns'that a physical cell ID of the cell which the UE requests to access is the ID of Cell2<br>
"of the target base station. The target base station uses the KeNB*2 corresponding to the<br>
Cell2, and sends an RRC connection reestablishment message to the UE.<br>
5208.	The UE receives the RRC connection reestablishment message, and derives a<br>
KeNB*2' according to the Cell2.<br>
In this step, the KeNB*2' is consistent with the KeNB*2 stored in the target base station<br>
in terms of derivation algorithms and parameters, and thus the KeNB*2' is consistent with<br>
the KeNB*2.<br>
In this step, the target cell's physical cell ID obtained by the UE may come from a<br>
physical layer ID broadcasted in the system or from the RRC connection reestablishment<br>
 message. The target base station may carry a target cell's physical cell ID in the RRC<br>
connection reestablishment message sent to the UE in step S207, and the UE reads the<br>
target cell's physical cell ID and derives a key in S208. The target cell's physical cell ID<br>
obtained by the UE may also come from other messages that the target base station sends to<br>
the UE.<br>
In this embodiment, the source base station sends all the keys derived according to the<br>
target cells' physical cell IDs to the target base station, so that the target base station may<br>
select a key for being used in communications with the UE according to a cell that the UE<br>
wants to access. Thus, the success rate of UE access to new cells is increased and may<br>
reach 100%. The source base station may also select some of key(s) and send the key(s) to<br>
the target base station according to some conditions; for example, it may only send key(s)<br>
derived according to the target cell(s)' physical cell ID(s) of cell(s) with a higher priority.<br>
The source base station may also derive key(s) according to some conditions; for example,<br>
it may only derive key(s) according to the target cell(s)' physical cell ID(s) of cell(s) with a<br>
lower priority and send the derived key(s) to the target base station. Thus, the success rate<br>
<br>
 <br>
of UE access is increased and the amount of information transmitted by the source base<br>
station is reduced, but the success rate of UE access is smaller than 100%.<br>
In the method provided in the preceding exemplary embodiment of the present<br>
invention, if an RLF occurs when the UE accesses a cell al of a target base station A, the<br>
UE can access a cell a2 of the target base station through the connection reestablishment<br>
procedure. It should be noted that the measurement report sent to the source base station by<br>
the UE carries information of multiple accessible target base stations. Thus, the key<br>
derivation process of the source base station may be specific to multiple cells under control<br>
of multiple target base stations. However, during the key transmission, the keys that the<br>
source base station sends to the target base station A may include only keys of different<br>
cells under control of the target base station A. Thus, the preceding embodiment exemplary<br>
of the present invention is also applicable to the process of UE handover between different<br>
 target base stations.<br>
FIG 3 is a flowchart of a method for key derivation according to the fourth exemplary<br>
embodiment of the present invention. As shown in FIG 3, the source base station is a<br>
network apparatus (for example, source eNodeB) that currently serves the UE, and the<br>
target base station is another network apparatus (for example, target eNodeB) that the<br>
source base station selects to serve the UE. The method includes the following steps:<br>
S301. The UE sends a measurement report to the source base station.<br>
S3 02. The source base station makes a handover decision, and derives a key according<br>
to the obtained target cell's physical cell ID.<br>
In this step, it is assumed that the key derived according to the target celll's physical<br>
cell ID is KeNB*l. Various key derivation algorithms and methods in the prior art are<br>
applicable to the key derivation process in this step, and are not further described.<br>
S3 03. The source base station sends the KeNB* 1 to the target base station.<br>
S304. The target base station stores the received key, and sends a handover request<br>
ACK message.<br>
<br>
 <br>
5305.	The source base station sends a handover command to the UE.<br>
If the UE cannot receive the handover command in case of an RLF, the connection<br>
reestablishment procedure initiated by the UE may include the following steps:<br>
5306.	The UE sends an RRC connection reestablishment request to the target base<br>
'station.<br>
5307.	After the target base station receives the connection reestablishment request, the<br>
target base station sends an RRC connection reestablishment message that carries the Celll<br>
in the handover request, and derives a KeNB* 1 by using the Celll.<br>
5308.	The UE receives the RRC connection reestablishment message, and derives a<br>
KeNB*1 by using the Celll. Thus, the KeNB*l' is consistent with the KeNB*l.<br>
In this embodiment, the target base station may use the key already stored in the target<br>
base station without re-deriving a key. The UE derives a key according to the target cell's<br>
physical cell ID provided by the target base station. Thus, the keys used by the UE and the<br>
.network apparatus are the same, which guarantees normal communication between the UE<br>
and the network apparatus, reduces the call drop rate, and brings a better user experience.<br>
It is understandable to those skilled in the art that this embodiment is applicable not<br>
only to the process of UE handover between different cells under control of the same target<br>
base station, but also to the process of UE handover between different target base stations.<br>
In addition, it is understandable to those skilled in the art that the network apparatus and<br>
the UE in this embodiment may reach an agreement in advance on one or more of the<br>
following aspects: method for key derivation, method for selecting key derivation<br>
parameters, and method for sending key derivation parameters. In this case, the network<br>
apparatus derives a key according to the agreed method, and sends the needed parameters<br>
to the UE, while the UE receives the needed parameters and derives a key according to the<br>
agreed method. The network apparatus and the UE may also determine the preceding<br>
methods through negotiations. The specific negotiation method does not affect the<br>
<br>
 <br>
implementation of the present invention and technical solution, and therefore is not further<br>
described.<br>
FIG 4 illustrates an apparatus for key derivation according to the fifth embodiment of<br>
the present invention. The apparatus includes:<br>
a receiving unit 41, configured to receive at least one key, where the key is derived<br>
according to a target base station ID and/or a target cell's physical cell ID;<br>
a determining unit 42, configured to receive an RRC reestablishment request from<br>
a UE, and select a Key_A, where the Key_A may be derived according to the target<br>
base station ID, or according to the target cell's physical cell ID corresponding to the<br>
cell where the UE is located, or be derived according to a physical cell ED carried in<br>
the RRC reestablishment request; and<br>
a sending unit 43, configured to send the target base station ID or target cell's<br>
physical cell ID required for deriving the Key_A.<br>
FIG 5 illustrates an apparatus for key derivation according to the sixth exemplary<br>
.embodiment of the present invention. The apparatus includes:<br>
a triggering unit 51, configured to initiate a connection reestablishment procedure,<br>
and trigger a receiving unit 52;<br>
the receiving unit 52, configured to receive the target base station ID and/or target<br>
cell's physical cell ID when being triggered by the triggering unit 51; and<br>
a key deriving unit 53, configured to derive a key according to the target base<br>
station ID or target cell's physical cell ID received by the receiving unit 52.<br>
FIG 6 illustrates an apparatus for key derivation according to the seventh exemplary<br>
embodiment of the present invention. The apparatus includes a first unit 61 and a second<br>
unit 62.<br>
The first unit 61 is configured to receive multiple keys derived by a source base station,<br>
where the multiple keys correspond to multiple cells under control of a target base station.<br>
The second unit 62 is configured to select a key corresponding to a target cell after knowing<br>
<br>
 <br>
the target cell that the UE requests to access. Further, the key corresponding to the target<br>
cell that the second unit 62 selects is derived by the source base station according to the<br>
target cell's a physical cell ID.<br>
The keys corresponding to the cells under control of the target base station that the first<br>
unit 61 receives are derived by the source base station according to cell's physical cell IDs<br>
of the target base station. The source base station may send all the keys that are derived<br>
according to the target cells' physical cell IDs to the target base station, so that the target<br>
base station may select a key for being used in communications with the UE according to<br>
the cell that the UE wants to access. Thus, the success rate of UE access to new cells is<br>
100%. The source base station may also select a key and send the key to the target base<br>
station according to some conditions; for example, it may only send a key derived<br>
according to physical cell ID(s) of target cell(s) with a higher priority. The source base<br>
station may also derive a key according to some conditions; for example, it may only derive<br>
a key according to physical cell ID(s) of target cell(s) with a low priority, and send the<br>
key(s) to the target base station. Thus, the success rate of UE access is increased and the<br>
amount of information transmitted by the source base station is reduced, but the success<br>
rate of UE access is lower than 100%.<br>
The first unit 61 is further configured to receive an RRC connection reestablishment<br>
request from the UE.<br>
The apparatus for key derivation may further include a third unit 63, which is<br>
configured to send the target cell's physical cell ID to the UE.<br>
Optionally, the apparatus for key derivation in this embodiment may be a base station.<br>
FIG 7 illustrates a communications system in the eighth exemplary embodiment of the<br>
present invention. The communications system includes an apparatus 71 for key derivation<br>
according to the seventh exemplary embodiment and a UE 72 that communicates with the<br>
r<br>
apparatus 71.<br>
<br>
 <br>
The communications system may further include an MME 73, which is configured to:<br>
receive a target cell physical ID that the apparatus 71 sends to the UE, and forward the<br>
target cell physical ID to the UE.<br>
Further, the apparatus 71 in the communications system may be used as the target base<br>
station of the UE.<br>
The ninth exemplary embodiment of the present invention also provides a<br>
communications system. The communications system includes a UE and a network<br>
apparatus.<br>
The UE is configured to derive a key according to the received target base station ID or<br>
target cell's physical cell ID.<br>
The network apparatus is configured to: select a Key_A from at least one key that is<br>
derived according to the target base station ID and/or target cell's physical cell ID<br>
according to the received RRC reestablishment request, and send the target base station ID<br>
and target cell's physical cell ID needed for deriving the Key_A.<br>
The communications system may further include an Mobility Management Entity<br>
(MME), which is configured to forward the information about communication between the<br>
network apparatus and the UE. The MME forwards the target base station ID or target cell's<br>
physical cell ID sent from the network apparatus to the UE.<br>
It is understandable to those skilled in the art that all or part of the steps in the preceding<br>
embodiments may be implemented by hardware instructed by a program. The program may<br>
be stored in a computer readable storage medium. When the program is executed, the<br>
processes of the preceding method embodiments are involved. The preceding storage<br>
medium may be a magnetic disk, a compact disk (CD), a read-only memory (ROM), or a<br>
random access memory (RAM).<br>
In embodiments of the present invention, the key deriving apparatus and<br>
communications system can ensure that the UE and the network apparatus use the same key,<br>
<br>
 <br>
which guarantees normal communication between the UE and the network apparatus,<br>
reduces the call drop rate, and brings a better user experience.<br>
Although the invention has been described through several exemplary embodiments,<br>
the invention is not limited to such embodiments. It is apparent that those skilled in the art<br>
can make various modifications and variations to the invention without departing from the<br>
scope of the invention. The invention is intended to cover the modifications and variations<br>
provided that they fall in the scope of protection defined by the claims or their equivalents.<br>
<br>
 <br>
WE CLAIM:<br>
1.	A method for key derivation, comprising:<br>
receiving, by a target base station, multiple keys derived by a source base station,<br>
wherein the multiple keys correspond to multiple cells under control of the target base<br>
station;<br>
receiving, by the target base station, a radio resource control (RRC) connection<br>
reestablishment request from a User Equipment (UE); and<br>
selecting, by the target base station, a key for being used in communication with the UE,<br>
the selected key corresponding to a target cell that the UE requests to access.<br>
2.	The method according to claim 1, wherein the multiple keys are derived according to<br>
physical cell identifiers, IDs, of cells under control of the target base station.<br>
3.	The method according to claim 1 or 2, wherein<br>
the multiple keys are all or part of the keys derived by the source base station according<br>
to the physical cell IDs of all cells under control of the target base station, the part of the<br>
keys being selected and sent to the target base station by the source base station according<br>
to a preset condition; or<br>
the multiple keys are derived by the source base station according to the physical cell<br>
IDs of cells with higher priorities of the target base station.<br>
4.	The method according to claim 1, wherein the receiving, by the target base station,<br>
the multiple keys sent by the source base station comprises:<br>
receiving, by the target base station, an access stratum message comprising the multiple<br>
keys sent by the source base station; or<br>
<br>
 <br>
receiving, by the target base station, a message by an S1 interface, the message<br>
comprising the multiple keys sent by a Mobility Management Entity, MME, wherein the<br>
multiple keys are provided for the MME by the source base station.<br>
5.	The method according to claim 1, further comprising:<br>
sending, by the target base station, a target cell's physical cell ID to the UE.<br>
6.	The method according to claim 5, wherein the sending, by the target base station, the<br>
target cell's physical cell ID to the UE comprises:<br>
sending, by the target base station, system broadcast comprising the target cell's<br>
physical cell ID to the UE; or<br>
sending, by the target base station, an RRC connection reestablishment message<br>
comprising the target cell's physical cell ID to the UE.<br>
7.	An apparatus, in a base station functioning as a target base station for a User<br>
Equipment (UE), comprising:<br>
a first unit, configured to receive multiple keys derived by a source base station, the<br>
multiple keys corresponding to multiple cells under control of a target base station wherein<br>
the first unit is further configured to receive a Radio Resource Control, RRC, connection<br>
reestablishment request message from the UE; and<br>
a second unit, configured to select a key for being used in communication with the UE,<br>
the selected key corresponding to a target cell that the UE requests to access.<br>
8.	The apparatus according to claim 7, wherein the multiple keys are derived according<br>
to physical cell identifiers, IDs, of the cells under control of the target base station.<br>
9.	The apparatus according to claim 7 or 8, wherein<br>
the multiple keys are all or part of the keys derived by the source base station according<br>
to the physical cell IDs of all cells under control of the target base station; wherein the part<br>
<br>
 <br>
of the keys are selected and sent to the target base station by the source base station<br>
according to a preset condition; or<br>
the multiple keys are derived by the source base station according to the physical cell<br>
IDs of cells with a priority of the target base station.<br>
10.	The apparatus according to claim 7, wherein the key corresponding to the target cell<br>
is derived by the source base station according to a target cell's physical cell ID.<br>
11.	The apparatus according to claim 7, further comprising:<br>
a third unit, configured to send a target cell's physical cell ID to the UE.<br>
12. An apparatus, in a base station functioning as a source base station for a User<br>
Equipment (UE), comprising:<br>
means for deriving multiple keys corresponding to multiple cells under control of a<br>
target base station; and<br>
means for send the multiple keys to the target base station.<br>
13.	The apparatus according to claim 12, wherein the multiple keys are derived<br>
according to physical cell IDs of cells under control of the target base station.<br>
14.	The apparatus according to claim 12, wherein the transmitter is configured to send<br>
the multiple keys in a handover request through an X2 interface.<br>
15.	A communications system, comprising the apparatus for key derivation according<br>
to any one of claims 7 to 11, and a User Equipment communicating with the apparatus for<br>
key derivation.<br>
 <br>
<br>
<br>
A method, an apparatus and a system for key derivation are disclosed. The method<br>
includes the following steps: a target base station receives multiple keys derived by a<br>
source base station, where the keys correspond to multiple cells under control of the target<br>
base station; the target base station selects a key corresponding to the target cell after<br>
knowing a target cell that a user equipment (UE) wants to access. An apparatus for key<br>
derivation and a communications system are also provided.<br>
</td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/viewdoc.aspx?id=Ng1OY3/3Svq2JjSjOWFXpg==&amp;amp;loc=wDBSZCsAt7zoiVrqcFJsRw==" target="_blank" style="word-wrap:break-word;">http://ipindiaonline.gov.in/patentsearch/GrantedSearch/viewdoc.aspx?id=Ng1OY3/3Svq2JjSjOWFXpg==&amp;amp;loc=wDBSZCsAt7zoiVrqcFJsRw==</a></p>
		<br>
		<div class="pull-left">
			<a href="278995-novel-reactive-dyestuff-with-n-alkylamino-group.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="278997-wroughtable-cobalt-alloy-capable-of-throughthickness-nitridation-and-strengthening.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>278996</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>4270/KOLNP/2010</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>02/2017</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>13-Jan-2017</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>06-Jan-2017</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>12-Nov-2010</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>HUAWEI TECHNOLOGIES CO., LTD.</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>HUAWEI ADMINISTRATION BUILDING, BANTIAN, LONGGANG DISTRICT, SHENZHEN, GUANGDONG 518129, P.R. CHINA</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>HUANG, MIN</td>
											<td>HUAWEI ADMINISTRATION BUILDING, BANTIAN, LONGGANG DISTRICT, SHENZHEN, 518129, GUANGDONG, P.R. CHINA</td>
										</tr>
										<tr>
											<td>2</td>
											<td>CHEN, JING</td>
											<td>HUAWEI ADMINISTRATION BUILDING, BANTIAN, LONGGANG DISTRICT, SHENZHEN, 518129, GUANGDONG, P.R. CHINA</td>
										</tr>
										<tr>
											<td>3</td>
											<td>ZHANG, AIQIN</td>
											<td>HUAWEI ADMINISTRATION BUILDING, BANTIAN, LONGGANG DISTRICT, SHENZHEN, 518129, GUANGDONG, P.R. CHINA</td>
										</tr>
										<tr>
											<td>4</td>
											<td>LIU, XIAOHAN</td>
											<td>HUAWEI ADMINISTRATION BUILDING, BANTIAN, LONGGANG DISTRICT, SHENZHEN, 518129, GUANGDONG, P.R. CHINA</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04W 36/08</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/CN2009/072322</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2009-06-17</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>200810067995.8</td>
									<td>2008-06-23</td>
								    <td>China</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/278996-method-apparatus-and-system-for-key-derivation by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 00:02:04 GMT -->
</html>
