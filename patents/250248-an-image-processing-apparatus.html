<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/250248-an-image-processing-apparatus by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 14:32:37 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 250248:&quot;AN IMAGE PROCESSING APPARATUS&quot;</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">&quot;AN IMAGE PROCESSING APPARATUS&quot;</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>The present invention relates to an image processing method, image processing apparatus and MRI (magnetic resonance imaging) apparatus, and more particularly to an image processing method and apparatus for calculating the average value of complex observed signals from an absolute-value image produced by the complex observed signals, an image processing method and apparatus for calculating the variance of complex observed signals from an absolute-value image produced by the complex observed signals, an image processing method and apparatus for performing image filtering based on the variance of complex observed signals calculated from an absolute-value image produced by the complex observed signals, and an MRI apparatus comprising such image processing apparatuses.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>BACKGROUND OF THE INVENTION<br>
The present invention relates to an image processing method, image processing apparatus and MRI (magnetic resonance imaging) apparatus, and more particularly to an image processing method and apparatus for calculating the average value of complex observed signals from an absolute-value image produced by the complex observed signals, an image processing method and apparatus for calculating the variance of complex observed signals from an absolute-value image produced by the complex observed signals, an image processing method and apparatus for performing image filtering based on the variance of complex observed signals calculated from an absolute-value image produced by the complex observed signals, and an MRI apparatus comprising such image processing apparatuses.<br>
An image processing method has been proposed which performs image filtering on an image produced by complex observed signals S, comprising:<br>
(1)	estimating the variance a* of noise contained in the complex observed<br>
signals S;<br>
(2)	calculating the  variance  6"  of the complex  observed signals S  in  a<br>
proximate region of a pixel of interest; and<br>
(3)	comparing the variance a' of noise contained in the complex observed<br>
signals S and the variance 8" of the complex observed signals S, and if the variance <br>
of the complex observed signals S is equal to or relatively close to the variance a"<br>
noise, setting a value in which the average value of pixel values of the pixc! of interence.<br>
and the surrounding pixels dominates as the pixel value for the pixel of interest. and<br>
the variance δ2 of the complex observed signals S is relatively far from the variance α2 of noise, setting a value in which the original pixel value dominates as the pixel value for the pixel of interest.<br>
According to such an image processing method, a higher degree of smoothing is applied to a pixel in a region in which the variance δ2 of the complex observed signals S is equal to or relatively close to the variance α2 of noise, i.e., a region containing approximately constant signal components, and a lower degree of smoothing is applied to pixels in other regions, i.e., regions containing varying signal components.<br>
The variance δ2 of complex observed signals S in a proximate region of a pixel of interest is calculated by the following equation, wherein the average value of the complex observed signals S in the region is represented by M, and the number of pixels as N:<br><br>
(Equation Removed) <br>
  which the average value M is:<br>
(Equation Removed) <br>
For example, considering complex observed signals S1=Z<o s2="Z&lt;120°" ana s3="Z&lt;240°" us shown in fig.></o>
 (Formula Removed)<br>
However, the average value Ma of pixel values |S| on an absolute-value image sometimes has a value different from the average value M of the complex observed signals S. For example, the average value Ma of the absolute values |S| of the complex observed signals S1=ZےO°, S2=Zے120° and S3=Z
(Equation Removed) <br>
In other words, the conventional technique has the following problems:<br>
(1)	the average value M of complex observed signals S may not be<br>
accurately obtained from an absolute-value image produced by the complex observed<br>
signals S;<br>
(2)	if the average value M of the complex observed signals S is not<br>
accurately obtained, the variance 8" of the complex observed signals S cannot be<br>
accurately obtained; and<br>
(3)	if the variance 6' of the complex observed signals S is not be<br>
accurately obtained, the image filtering cannot be accurately performed.<br>
SUMMARY OF THE INVENTION<br>
It is therefore a first object of the present invention to provide an image<br>
processing method and apparatus for accurately calculating the average value M of complex observed signals S from an absolute-value image produced by the complex observed signals S.<br>
It is a second object of the present invention to provide an image processing method and apparatus for accurately calculating the variance δ2 of complex observed signals S from an absolute-value image produced by the complex observed signals S.<br>
It is a third object of the present invention to provide an image processing method and apparatus for performing image filtering based on the variance 62 of complex observed signals S calculated from an absolute-value image produced by the complex observed signals S.<br>
It is a fourth object of the present invention to provide an MRI apparatus, which is representative of apparatuses for producing an absolute-value image from complex observed signals S, comprising the aforementioned image processing apparatus.<br>
It is a fifth object of the present invention to provide a recording medium for making a computer perform the aforementioned image processing method.<br>
In accordance with a first aspect of the present invention, there is provided an image processing method for calculating from an absolute-value image produced by complex observed signals S an average value M of the original complex observed signals S in a local region on the absolute-value image, characterized in that the method comprises: calculating the average value M by:<br>
(Equation Removed) wherein the function Mala. =f{A//a) is represented by:<br>
(Equation Removed) <br>
the standard deviation of noise contained in the complex observed signals S is represented by a, and the average value of pixel values in the local region is represented as Ma.<br>
When noise with Gaussian distribution having a standard deviation of a is included in complex signal components S having an average value of M, the average value Ma of the absolute values of the complex observed signals S is:<br>
(Equation Removed) <br>
In other words. Ma and M can be related to each other via the unique function A/a/a = f(Ma).<br>
Therefore, in the image processing method of the first aspect, the inverse functionf-1(Ma/a) of the unique function Mala. =f(M/a) is used to calculate the average value M of complex observed signals S from the average value Ma of pixe: values in a local region on an absolute-value image. This enables the average value M of complex observed signals S to be accurately calculated even from an absolute-value image produced by the complex observed signals S.<br>
The  standard deviation  a  of noise  may  be  experimentally  obtained<br>
beforehand, obtained using a conventional method, or be calculated in accordance with the second aspect of the present invention set out below.<br>
In accordance with a second aspect of the present invention, there is provided the image processing method of the foregoing configuration, characterized in that an inverse function f-1(Ma/a) of an approximated function F(Mlα.) of the functiony(M/a) is used instead off-1(A/a/a).<br>
In the image processing method of the second aspect, the calculation time can be reduced because an approximated function F(M/α) is used. The approximated function F(M/α) can be generated based on the calculation result obtained by numerically integrating:<br>
(Equation Removed) <br>
In accordance with a third aspect of the present invention, there is provided the image processing method of the foregoing configuration, characterized in that the method comprises: producing a first average-value image by applying a two-dimensional smoothing filter to the absolute-value image; producing a differential image by subtracting the average-value image from the original absolute-value image; producing a differential square image by squaring pixel values in the differential image; producing a second average-value image by applying a two-dimensional smoothing filter to the differential square image; generating a histogram of pixel values in the second average-value image; and calculating a standard deviation a of noise from a peak position appearing on the histogram.<br>
Focusing attention on one pixel in the absolute-value image as a pixel of interest, the average value Ma of a local region surrounding the pixel of interest is calculated, and the square sum E, of the difference between the average value Ma and the pixel value |S| of each pixel in the local region is calculated as follows:<br>
(Equation Removed) <br>
This process is repeated for all the pixels, and 4's for all the pixels are obtained.<br>
When noise with Gaussian distribution having a standard deviation a is included, the distribution of £, in an image region having constant signal components approaches the Gaussian distribution if the number of pixels k in the local region is sufficiently large. Hence, the peak position PC of the distribution of % is approximately kα2. On the other hand, the distribution of £ in a background region having no signal components has Rayleigh distribution (due to the absolute-value image). Hence, the peak position Pb of the distribution of £ is (2-π/2)kα2. Thus, the standard deviation a of noise can be calculated from the peak position PC or Pb of the distribution of %.<br>
In the image processing method of the third aspect, the pixel value in the second average-value image is £. Therefore, the standard deviation a of noise can be calculated by generating a histogram of pixel values in the second average-value image and obtaining its peak position.<br>
In accordance with a fourth aspect of the present invention, there is provided the image processing method of the foregoing configuration, characterized in that the meihod comprises: producing a first average-value image by applying a two-dimensional smoothing filter to the absolute-value image; producing a differential image by subtracting the average-value image from the original absolute-value image; producing a differential square image by squaring pixel values in the differential image; producing a second average-value image by applying a two-dimensional smoothing filter to the differential square image; generating a histogram of pixel values in the second average-value image; performing curve fitting on the histogram to obtain a curve function; and calculating a standard deviation a or noise from parameters of the curve function.<br>
In the image processing method of the fourth aspect, a curve function representing the distribution of J; can be obtained by performing curve fitting on .;<br>
histogram of pixel values in the second average-value image. The curve function has Gaussian distribution or Rayleigh distribution, and the standard deviation a of noise can be calculated from parameters of the function.<br>
In accordance with a fifth aspect of the present invention, there is provided the image processing method of the foregoing configuration, characterized in that a Gaussian distribution function is used as the curve function.<br>
In the image processing method of the fifth aspect, since the curve fitting is performed using a Gaussian distribution function, the method is useful for an absolute-value image having many local regions containing constant signal components.<br>
In accordance with a sixth aspect of the present invention, there is provided the image processing method of the foregoing configuration, characterized in that a Rayleigh distribution function is used as the curve function.<br>
In the image processing method of the sixth aspect, since the curve fitting is performed using a Rayleigh distribution function, the method is useful for an absolute-value image having many background regions.<br>
In accordance with a seventh aspect of the present invention, there is provided an image processing method for calculating from an absolute-value image produced by complex observed signals S a variance δ2 of the original complex observed signals S in a local region on the absolute-value image, characterized in tha: the method comprises: calculating an average value M by the image processing method of the foregoing configuration; calculating Sl jk by dividing a square sum of pixel values |S| of the absolute-value linage in the local region by the number or" pixels k; and calculating the variance 6" by:<br>
(Equation Removed) <br>
When complex observed signal is represented as S, the average value of the complex observed signals S as M, the variance as δ2, and the number of observation points as k,<br>
(Formula Removed). Rewriting these equations, the following is obtained:<br>
(Equation Removed) <br>
Therefore, in the image processing method of the seventh aspect, Σ|Sl /k is obtained from the pixel values JS| in the absolute-value image; M" is<br>
obtained using the image processing method of the first aspect; and then the variance δ2 can be obtained from the difference therebetween.<br>
In accordance with an eighth aspect of the present invention, there is provided an image processing method characterized in that the method comprises: calculating a variance 8" of original complex observed signals S in a proximate region of a pixel of interest on an absolute-value image produced by the complex obsened signals S according to the image processing method of the foregoing configuration; comparing a variance oC of noise contained in the complex observed signals S and the variance 5" of the complex observed signals S; and if the variance 5" of the complex observed signals S is equal to or relatively close to the variance a" of noise, setting the pixel value for the pixel of interest to a value in which the average value of pi xel values of the pixel of interest and the surrounding pixels dominates, and if the variance 8" of the complex observed signals S is relatively far from the variance as<br>
noise, setting the pixel value for the pixel of interest to a value in which the original pixel value dominates.<br>
In the image processing method of the eighth aspect, image filtering can be performed in which the degree of smoothing is increased for a pixel in a region having the variance δ2 of complex observed signals S equal to or relatively close to the variance α2 of noise, i.e., a region containing approximately constant signal components; and the degree of smoothing is decreased for pixels in other regions, i.e., regions containing varying signal components. Then, the variance δ2 is obtained using the image processing method of the sixth aspect, and the image filtering can therefore be accurately performed even on an absolute-value image.<br>
In accordance with a ninth aspect of the present invention, there is provided the image producing method of the foregoing configuration, characterized in that the method comprises: calculating a ratio between the variance δ2 of the complex observed signals S and the variance α2 of noise; setting a weight W = 1 when the ratio is equal to "1" and reducing the weight W from "1" as the ratio goes away from "1": and calculating a new pixel value |S|ncw for the pixel of interest by:<br>
(Equation Removed) <br>
wherein the pixel value of the pixel of interest is represented as |S|, and the average value of pixel values of the pixel of interest and the surrounding pixels is represented as Ma.<br>
In the image processing method of the ninth aspect, image filtering can be performed in which the degree of smoothing is increased as the variance 5" of the complex observed signals S comes close to the variance a: of noise, and the degree of smoothing is decreased as the variance 5: of the complex observed signals S goes<br><br>
away from the variance a" ot noise.<br>
In accordance with a tenth aspect of the present  invention,  there is<br>
provided an image processing apparatus for calculating from an absolute-value image produced by complex observed signals S an average value M of the original complex observed signals S in a local region on the absolute-value image, characterized in that the apparatus comprises: first calculating means for calculating an average value Ma of pixel values in a region; and second calculating means for calculating the average value M by:<br>
(Equation Removed)  wherein the function Mala. (Mla.) is represented by:<br>
(Equation Removed) <br>
and the standard deviation of noise contained in the complex observed signals S is represented by a.<br>
In the image processing apparatus of the tenth aspect, the image processing method as described regarding the first aspect can be suitably performed.<br>
In accordance with an eleventh aspect of the present invention, there is provided the image processing apparatus of the foregoing configuration, characterized in that said second calculating means uses an inverse function F-1(Mα/α.) of an approximated function F(M/a) of the function/(M/α) instead of f-1(Ma/a).<br>
In the image processing apparatus of the eleventh aspect, the image processing method as described regarding the second aspect can be suitably performed.<br>
In accordance with a twelfth aspect of the present invention, there is provided the image processing apparatus of the foregoing configuration, characterized in that the apparatus comprises: first average-value image producing means for producing a first average-value image by applying a two-dimensional smoothing filter<br><br>
to the absolute-value image; differential image producing means for producing a differential image by subtracting the average-value image from the original absolute-value image; differential square image producing means for producing a differential square image by squaring pixel values in the differential image; second average-value image producing means for producing a second average-value image by applying a two-dimensional smoothing filter to the differential square image; histogram generating means for generating a histogram of pixel values in the second average-value image; and standard deviation calculating means for calculating a standard deviation a of noise from a peak position appearing on the histogram.<br>
In the image processing apparatus of the twelfth aspect, the image processing method as described regarding the third aspect can be suitably performed.<br>
In accordance with a thirteenth aspect of the present invention, there is provided the image processing apparatus of the foregoing configuration, characterized in that the apparatus comprises: first average-value image producing means for producing a first average-value image by applying a two-dimensional smoothing filter to the absolute-value image; differential image producing means for producing a differential image by subtracting the average-value image from the original absolute-value image; differential square image producing means for producing a differential square image by squaring pixel values in the differential image; second average-value image producing means for producing a second average-value image by applying a two-dimensional smoothing filter to the differential square image; histogram generating means for generating a histogram of pixel values in the second average-value image; curve fitting means for performing curve fitting on the histogram to obtain a curve function; and standard deviation calculating means for calculating a standard deviation a of noise from parameters of the curve function.<br>
In the image processing apparatus of the thirteenth aspect, the image processing method as described regarding the fourth aspect can be suitably performed.<br>
In accordance with a fourteenth aspect of the present invention, there i-&gt;<br>
provided the image processing apparatus of the foregoing configuration, characterized in that said curve fitting means uses a Gaussian distribution function as the curve function.<br>
In the image processing apparatus of the fourteenth aspect, the image processing method as described regarding the fifth aspect can be suitably performed.<br>
In accordance with a fifteenth aspect of the present invention, there is provided the image processing apparatus of the foregoing configuration, characterized in that said curve fitting means uses a Rayleigh distribution function as the curve function.<br>
In the image processing apparatus of the fifteenth aspect, the image processing method as described regarding the sixth aspect can be suitably performed.<br>
In accordance with a sixteenth aspect of the present invention, there is provided an image processing apparatus for calculating from an absolute-value image produced by complex observed signals S a variance δ2 of the original complex observed signals S in a local region on the absolute-value image, characterized in that the apparatus comprises: the image processing apparatus as described regarding the<br>
tenth or eleventh aspect; first-term calculating means for calculating ΣS2/k by<br>
dividing a square sum of pixel values |S| of the absolute-value image in a region by the number of pixels; and variance calculating means for calculating the variance δ2 by:<br>
(Equation Removed) <br>
In the image processing apparatus of the sixteenth aspect, the image processing method as described regarding the seventh aspect can be suitably performed.<br>
In accordance with a seventeenth aspect of the present invention, there ;s<br>
provided an image processing apparatus characterized in that the apparatus comprises: the image processing apparatus as described regarding the sixteenth aspect for calculating a variance δ2 of original complex observed signals S in a proximate region of a pixel of interest on an absolute-value image produced by the complex observed signals S; comparing means for comparing a variance α2 of noise contained in the complex observed signals S and the variance δ2 of the complex observed signals S; and image filtering means for, if the variance δ2 of the complex observed signals S is equal to or relatively close to the variance α2 of noise, setting the pixel value for the pixel of interest to a value in which the average value of pixel values of the pixel of interest and the surrounding pixels dominates, and if the variance δ2 of the complex observed signals S is relatively far from the variance α2 of noise, setting the pixel value for the pixel of interest to a value in which the original pixel value dominates.<br>
In the image processing apparatus of the seventeenth aspect, the image processing method as described regarding the eighth aspect can be suitably performed.<br>
In accordance with an eighteenth aspect of the present invention, there is provided the image producing apparatus of the foregoing configuration, characterized in that said image filtering means calculates a ratio between the variance δ2 of the complex observed signals S and the variance α2 of noise; sets a weight W = 1 when the ratio is equal to "1" and reduces the weight W from "1" as the ratio goes awa&gt; from "1"; and calculates a new pixel value |S|nCw for the pixel of interest by:<br>
(Equation Removed) <br>
wherein the pixel value of the pixel of interest is represented as |S|, and the average value of pixel values of the pixel of interest and the surrounding pixels is representec as Ma.<br>
In the image processing apparatus of the eighteenth aspect, the image processing method as described regarding the ninth aspect can be suitably performed<br>
In accordance with a nineteenth aspect of the present invention, there is provided an MRI apparatus characterized in that the apparatus comprises the image processing apparatus of the foregoing configuration.<br>
In the MRI apparatus of the nineteenth aspect, image filtering on an absolute-value image can be suitably performed.<br>
In accordance with a twentieth aspect of the present invention, there is provided a recording medium characterized in that the medium records in a computer-readable manner a program for making a computer perform the image processing method of the foregoing configuration.<br>
The recording medium of the twentieth aspect enables the image processing method of the foregoing configuration to be suitably performed by a computer.<br>
According to the image processing method and apparatus of the present invention, the following effects can be obtained:<br>
(1)	the  average   value   M   of complex  observed  signals   S   can  be<br>
accurately calculated  from  an  absolute-value  image produced by the  complex<br>
observed signals S;<br>
(2)	the variance δ2 of complex observed signals S can be accurately<br>
calculated from an absolute-value image produced by the complex observed signals S;<br>
and<br>
(3)	image filtering can be accurately performed, and the image quality<br>
can be improved.<br>
According the MRI apparatus of the present invention, the image quality of an MR image can be improved.<br>
By utilizing the recording medium of the present invention, the image processing according to the present invention can be performed by a computer.<br>
Further objects and advantages of the present invention will be apparent from the following description of the preferred embodiments of the invention as illustrated in the accompanying drawings.<br>
BRIEF DESCRIPTION OF THE DRAWINGS<br>
Fig. I is a block diagram showing an MRI apparatus in accordance with one embodiment of the present invention.<br>
Fig. 2 is a flow chart showing calculation processing for the standard deviation of noise conducted by the MRI apparatus of Fig. 1.<br>
Fig. 3 is an exemplary diagram of a histogram generated in the calculation processing for the standard deviation of noise.<br>
Fig. 4 is a How chart showing another example of the calculation processing for the standard deviation of noise conducted by the MRI apparatus of Fig-1<br>
Fig. 5 is a How chart showing image filtering processing conducted by the MRI apparatus of Fig. 1.<br>
Fig. 6 is a diagram explaining a weight obtained in the image filtering processing.<br>
Fig. 7 is a (low chart showing calculation processing for the average value conducted by the MRI apparatus of Fig. 1.<br>
Fig.   8   is   a  diagram  explaining  a   function   used   in  the  calculation<br>
processing for the average value.<br>
Fig. 9 is a flow chart showing calculation processing for the variance conducted by the MRI apparatus of Fig. 1.<br>
Fig. 10 is a diagram explaining a case in which the average value of complex values and the average value of absolute values are different.<br>
DETAILED DESCRIPTION OF THE INVENTION<br>
The present invention will now be described in more detail with reference to embodiments shown in the accompanying drawings.<br>
Fig. 1 is a block diagram showing an MRI apparatus in accordance with one embodiment of the present invention.<br>
In the MRI apparatus 100, a magnet assembly 1 has an empty portion (bore) therein for inserting a subject, and surrounding the empty portion are disposed a static magnetic field coil Ip for applying a constant static magnetic field to the subject; a gradient magnetic field coil Ig for generating gradient magnetic fields along X-, Y- and Z-axes; a transmit coil It for supplying an RF pulse to excite spins of atomic nuclei within the subject; and a receive coil Ir for detecting an NMR signal from the subject. The static magnetic field coil Ip, gradient magnetic field coil Ig. transmit coil It and receive coil Ir are connected to a static magnetic field power supply 2, a gradient magnetic field drive circuit 3, an RF power amplifier 4 and a preamplifier 5, respectively.<br>
A sequence memory circuit 6 operates the gradient magnetic field drive circuit 3 based on a stored pulse sequence in response to instructions from a computer 7, to generate the gradient magnetic fields from the gradient magnetic field coil Ig in the magnet assembly 1. The sequence memory circuit 8 also operates a gate<br>
modulation circuit 8 to modulate a carrier output signal from an RF oscillation circuit 9 into a pulsed signal having a predefined timing and envelope shape. The pulsed signal is applied to the RF power amplifier 4 as an RF pulse, power-amplified in the RF power amplifier 4, and applied to the transmit coil It in the magnet assembly 1 to selectively excite a desired imaging plane.<br>
The preamplifier 5 amplifies an NMR signal from the subject detected at the receive coil Ir in the magnet assembly I, arid inputs the signal to a phase detector 10. The phase detector 10 phase-detects the NMR signal from the preamplifier 5 with reference to the carrier output signal from the RF oscillation circuit 9, and supplies the phase-detected signal to an A/D converter 11. The A/D converter 11 converts the phase-detected analog NMR signal into digital data, and inputs it to the computer 7.<br>
The computer 7 reads the digital data from the A/D converter 11, and performs an image reconstruction operation to produce an MR image.<br>
A display device 13 displays the MR image.<br>
The computer 7 is also responsible for overall control such as receiving information input from an operator console 12.<br>
Moreover, the computer 7 reads from a drive device 14 a program recorded on a recording medium 15, such as a CD (compact disk), MOD (magneto-optical disk) or OD (optical disk), to perform calculation processing for the standard deviation of noise, which will be described later with reference to Figs. 2 — 4; image filtering processing, which will be described later with reference to Figs. 5 — 6; calculation processing for the average value, which will be described later with reference to Figs. 7 — 8; and calculation processing for the variance, which will be described later with reference to Fig. 9.<br>
Fig. 2 is a (low chart showing calculation processing for the standard deviation of noise conducted by the computer 7.<br>
In Step Dl, a first average-value image is produced by applying a two-dimensional spatial filter of, for example, 9x9, to an absolute-value image (MR image) produced by complex observed signals (digital data) S.<br>
In Step D2, a differential image is produced by subtracting the first average-value image from the original absolute-value image.<br>
In Step D3, a differential square image is produced by squaring pixel values in the differential image.<br>
In Step D4, a second average-value image is produced by applying a two-dimensional spatial filter of, for example, 9x9, to the differential square image.<br>
In Step D5, a histogram of pixel values in the second average-value image is generated.<br>
In Step D6, a peak of the histogram is obtained. In genera!, the histogram has a shape as shown in Fig. 3, and has two peaks. The pixel value (position) of a peak having a smaller pixel value is represented as Pb, and the pixel value (position) of a peak having a larger pixel value is represented as PC.<br>
In Step D7, the standard deviation a of noise is calculated by either of the following equations:<br>
(Formula Removed)<br>
wherein k = 9x9 = 81, for example.<br>
Moreover, it is preferred that curve fitting be performed in Step D6 in order to obtain the peak of the histogram. In this case, an appropriate curve function may be used because only the peak position needs to be obtained. It will also be easily recognized that a Gaussian distribution function or a Rayleigh distribution function may be used.<br>
Fig. 4 is a flow chart showing another example of the calculation processing of the standard deviation of noise conducted by the computer 7.<br>
In Step Dl, a first average-value image is produced by applying a two-dimensional spatial filter of, for example, 9x9, to an absolute-value image (MR image) produced by complex observed signals (digital data) S.<br>
In Step D2, a differential image is produced by subtracting the first average-value image from the original absolute-value image.<br>
In Step D3, a differential square image is produced by squaring pixei values in the differential image.<br>
In Step D4, a second average-value image is produced by applying a two-dimensional spatial filter of, for example, 9x9, to the differential square image.<br>
In Step D5, a histogram of pixel values in the second average-value image is generated.<br>
In Step D6', curve fitting is performed to obtain a curve function. At this time, a Rayleigh distribution function is used in the proximity of a peak having .1 smaller pixel value, and a Gaussian distribution function is used in the proximity of a peak having a larger pixel value.<br>
In  Step  D7.  the  standard deviation  a of noise  is calculated  from<br>
parameters of the curve function.<br>
Fig. 5 is a flow chart showing image filtering processing conducted by the computer 7.<br>
In Step Fl, one pixel is taken up as a pixel of interest in an absolute-value image (MR image) produced by complex observed signals (digital data) S.<br>
In Step F2, the average value M of the original complex observed signals S in a local region in the proximity of the pixel of interest is calculated. The calculation processing for the average value will be described later with reference to Fig. 7.<br>
In Step F3, the variance δ2 of the original complex observed signals S in the local region in the proximity of the pixel of interest is calculated. The calculation processing for the variance will be described later with reference to Fig. 9.<br>
In Step F4, a weight W is obtained from δ2/α2. As shown in Fig. 6, the weight W has a value such that it is "1" when δ2/α2 is equal to "1", and decreases from "1" as the δ2/α2 goes away from "1".<br>
In Step F5, the pixel value |S| of the pixel of interest and the average value Ma are weighted and added to obtain a new pixel value |S|new for the pixel of interest:<br>
(Equation Removed) <br>
In Step F6, Steps Fl - F5 are repeated for all the pixels in one absolute-value image.<br>
Fig. 7 is a flow chart showing calculation processing for the average value conducted by the computer 7.<br>
In Step Al, the average value Ma of pixel values |S| in a local region is calculated:<br>
(Equation Removed) <br>
In Step α2, the average value M is calculated by: M = a-f1 (Ma/a.),<br>
wherein f-1 (Ma/a.) is an inverse function of the function Ma/a. = f[Mla.) represented as:<br>
(Equation Removed) <br>
Fig. 8 illustrates the concept of the function Ma/a. = J{M/α). The reason why the average value Ma of pixel values in a local region and the average value M of origina complex observed signals S can be uniquely related to each other via the function Ma/a = f(M/α) was explained earlier.<br>
Moreover,  it  is  preferred  that an approximated  function F(M/a) be generated based on the calculation result obtained by numerically integrating:<br>
(Equation Removed) <br>
and an inverse function F-1(Ma/a.) of the approximated function F(M/a) be used instead off-1 (Mα/α), in that the calculation time can be reduced.<br>
Fig. 9 is a flow chart showing calculation processing for the variance conducted by the computer 7.<br>
In Step Bl, the square sum of pixel values |S| in a local region is.obtained, and is then divided by the number of pixels k to calculate:<br>
(Equation Removed) <br>
In Step B2, the variance δ2 is calculated by: δ2 (Formula Removed)<br>
The reason why the variance δ2 of original complex observed signals S can be<br>
obtained by the above equation was explained earlier.<br>
According the foregoing MRI apparatus 100, image filtering can be suitably performed even on an absolute-value image, and the image quality can be improved.<br>
Many widely different embodiments of the invention may be configured without departing from the spirit and the scope of the present invention. It should be understood that the present invention is not limited to the specific embodiments described in the specification, except as defined in the appended claims.<br><br><br><br><br><br>
We Claim:<br>
1. An image processing apparatus for calculating from an absolute-value image produced by complex observed signals S an average value M of the original complex observed signals S in a local region on the absolute-value image, said image processing apparatus implemented in a MRI apparatus (100) comprising<br>
-	a magnet assembly (1) having a static magnetic field coil (1P) connected to a field drive circuit (3), a gradient magnetic field coil (lg) connected to a RF power amplifier (4) and a receive coil (lr) connected to a preamplifier (5) for detecting an NMR signal,<br>
-	a sequence memory circuit (6) to operate said filed drive circuit (3),<br>
-	a phase detector (10) connected to said preamplifier for receiving the NMR signal and generating an output signal to an A/D converter (11),<br>
-	said A/D converter (11) coupled to a controlling device (7) to produce an MR image and to perform the calculation processing, said image processing apparatus comprising:<br>
a first calculating device (7) for calculating an average value Ma of pixel values in a region; and<br>
a second calculating device (7) for calculating the average value M by:<br>
M=α-f-1 (Mα/α),<br>
wherein the function Ma/α=/(M/α) is represented by:<br>
Ma/a={[{\M/α+(X+iY)\exp{-(X2+Y2)/2}/27π}dXdY,<br>
the standard deviation of noise contained in the complex observed signals S is represented by a, the average value of pixel values in the local region is represented as Ma, and the respective axes along which the gradients are generated are represented by X and Y.<br>
2.	The image processing apparatus as claimed in claim 1, wherein said second calculating device uses an inverse function F-1(Ma/α) of an approximated function F(M/α) of the function /(M/α) instead of f-l (Ma/α).<br>
3.	The image processing apparatus as claimed in claim 1, wherein said controlling device further comprising:<br>
a first average-value image producing device for producing a first average-value image by applying a two-dimensional smoothing filter to the absolute-value image;<br>
a differential image producing device for producing a differential image by subtracting the average-value image from the original absolute-value image; a differential square image producing device for producing a differential square image by squaring pixel values in the differential image;<br>
a second average-value image producing device for producing a second average-value image by applying a two-dimensional smoothing filter to the differential square image;<br>
a histogram generating device for generating a histogram of pixel values in the second average-value image; and<br>
a standard deviation calculating device for calculating a standard deviation a of noise from a peak position appearing on the histogram.<br>
4.	The image processing apparatus as claimed in claim 1, comprising:<br>
first average-value image producing device for producing a first average-value image by applying a two-dimensional smoothing filter to the absolute-value image;<br>
a differential image producing device for producing a differential image by subtracting the average-value image from the original absolute-value image;<br>
a differential square image producing device for producing a differential square image by squaring pixel values in the differential image; a second average-value image producing device for producing a second average-value image by applying a two-dimensional smoothing filter to the differential square image;<br>
a histogram generating device for generating a histogram of pixel values in the second average-value image; a curve fitting device for performing curve fitting on the histogram to obtain a curve function; and<br>
a standard deviation calculating device for calculating a standard deviation a of noise from parameters of the curve function.<br>
5.	The image processing apparatus as claimed in claim 4, wherein said curve fitting device uses a Gaussian distribution function as the curve function.<br>
6.	The image processing apparatus as defined in claim 4, wherein said curve fitting device uses a Rayleigh distribution function as the curve function.<br>
7.	An image processing apparatus as claimed in claim  1  for calculating from an absolute-value image produced by complex observed signals S a variance δ2 of the<br>
original complex observed signals S in a local region on the absolute-value image, comprising:<br>
the image processing apparatus as claimed in claim 2; a first-term calculating device for calculating Σ|S|2/k by dividing a square sum of pixel values |S| of the absolute-value image in a region by the number of pixels; and a variance calculating device for calculating the variance 82 as herein described.<br>
8	An image processing apparatus as claimed in claim 7 for calculating a<br>
variance 82 of original complex observed signals S in a proximate region of a pixel of interest on an absolute-value image produced by the complex observed signals S comprising:<br>
a comparing device (7) for comparing a variance α2 of noise contained in the complex observed signals S and the variance δ2 of the complex observed signals S; and<br>
an image filtering device (7) for, if the variance δ2 of the complex observed signals S is equal to or relatively close to the variance α2 of noise, setting the pixel value for the pixel of interest to a value in which the average value of pixel values of the pixel of interest and the surrounding pixels dominates, and if the variance δ2 of the complex observed signals S is relatively far from the variance α2 of noise, setting the pixel value for the pixel of interest to a value in which the original pixel value dominates.<br>
9. The image producing apparatus as claimed in claim 8, wherein said image filtering device calculates a ratio between the variance δ2 of the complex observed signals S and the variance α2 of noise, sets a weight W=l when the ratio is equal to "1" and reduces the weight W from "1" as the ratio goes away from "1"; and calculates a new pixel value |S|new for the pixel of interest as herein described.<br>
10.      The image producing apparatus as claimed in claim 1 used in an MRI apparatus.<br><br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODUyLWRlbC0yMDAxLWFic3RyYWN0LnBkZg==" target="_blank" style="word-wrap:break-word;">852-del-2001-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODUyLWRlbC0yMDAxLWNsYWltcy0oMjctMDItMjAwOCkucGRm" target="_blank" style="word-wrap:break-word;">852-del-2001-claims-(27-02-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODUyLWRlbC0yMDAxLWNsYWltcy5wZGY=" target="_blank" style="word-wrap:break-word;">852-del-2001-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODUyLWRlbC0yMDAxLWNvbXBsZXRlIHNwZWNpZmljYXRpb24gKGdyYW50ZWQpLnBkZg==" target="_blank" style="word-wrap:break-word;">852-del-2001-complete specification (granted).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODUyLWRlbC0yMDAxLWNvcnJlc3BvbmRlbmNlLW90aGVycy5wZGY=" target="_blank" style="word-wrap:break-word;">852-del-2001-correspondence-others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODUyLWRlbC0yMDAxLWNvcnJlc3BvbmRlbmNlLXBvLnBkZg==" target="_blank" style="word-wrap:break-word;">852-del-2001-correspondence-po.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODUyLWRlbC0yMDAxLWRlc2NyaXB0aW9uIChjb21wbGV0ZSkucGRm" target="_blank" style="word-wrap:break-word;">852-del-2001-description (complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODUyLWRlbC0yMDAxLWRyYXdpbmdzLnBkZg==" target="_blank" style="word-wrap:break-word;">852-del-2001-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODUyLWRlbC0yMDAxLWZvcm0tMS5wZGY=" target="_blank" style="word-wrap:break-word;">852-del-2001-form-1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODUyLWRlbC0yMDAxLWZvcm0tMTgucGRm" target="_blank" style="word-wrap:break-word;">852-del-2001-form-18.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODUyLWRlbC0yMDAxLWZvcm0tMi5wZGY=" target="_blank" style="word-wrap:break-word;">852-del-2001-form-2.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODUyLWRlbC0yMDAxLWZvcm0tMy5wZGY=" target="_blank" style="word-wrap:break-word;">852-del-2001-form-3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODUyLWRlbC0yMDAxLWZvcm0tNS5wZGY=" target="_blank" style="word-wrap:break-word;">852-del-2001-form-5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODUyLWRlbC0yMDAxLWdwYS5wZGY=" target="_blank" style="word-wrap:break-word;">852-del-2001-gpa.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODUyLWRlbC0yMDAxLXBldGl0aW9uLTEzNy5wZGY=" target="_blank" style="word-wrap:break-word;">852-del-2001-petition-137.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=ODUyLWRlbC0yMDAxLXBldGl0aW9uLTEzOC5wZGY=" target="_blank" style="word-wrap:break-word;">852-del-2001-petition-138.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="250247-method-for-sterilizing-an-article-using-hydrogen-peroxide-vapor-as-a-sterilant.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="250249-modified-release-pharmaceutical-formulation-containing-fluvastatin-sodium.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>250248</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>852/DEL/2001</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>51/2011</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>23-Dec-2011</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>19-Dec-2011</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>14-Aug-2001</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>GE MEDICAL SYSTEMS GLOBAL COMPANY LLC.</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>3000 NORTH GRANDVIEW BOULEVARD, WAUKESHA, WISCONSIN 53188, USA.</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>OGINO TETSUO</td>
											<td>7-127, ASAHIGOAKA, 4-CHOME, HINO-SHI, TOKYO, 191-8503, JAPAN</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>G06K 9/00</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>N/A</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td></td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>2000-258308</td>
									<td>2000-08-29</td>
								    <td>Japan</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/250248-an-image-processing-apparatus by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 14:32:38 GMT -->
</html>
