<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/256817-a-decoding-method-and-apparatus-for-decoding-a-predictively-encoded-picture-signal-of-a-moving-picture-signal-composed-of-a-plurality-of-pictures by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 09:08:10 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 256817:A DECODING METHOD AND APPARATUS FOR DECODING A PREDICTIVELY ENCODED PICTURE SIGNAL OF A MOVING PICTURE SIGNAL COMPOSED OF A PLURALITY OF PICTURES</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">A DECODING METHOD AND APPARATUS FOR DECODING A PREDICTIVELY ENCODED PICTURE SIGNAL OF A MOVING PICTURE SIGNAL COMPOSED OF A PLURALITY OF PICTURES</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A picture encoding method of the present invention is a picture encoding method of predictively encoding an input picture with reference to pictures stored in a picture buffer, decoding the encoded input picture, judging whether or not the decoded picture is a picture for reference and whether or not the decoded picture is a picture for Output which needs to be stored until its display time, and storing, in the picture buffer, the picture for reference and the picture for Output based on the determination result.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td> <br><br>
DESCRIPTION<br>
PICTURE ENCODING METHOD AND PICTURE DECODING METHOD<br>
Technical Field<br>
The preSent invention relates to a picture encoding method for compressing efficiently a moving picture and a picture decoding method for decoding correctly the encoded picture and displaying it.<br>
Background Art<br>
Recently, with an arrival of the age of rpultimedia which handles integrally audio, Video and pixel values of others, existing Information media, i.e., newspapers, Journals, TVs, radios and telephones and other means through which Information is conveyed to peopie, has come under the scope of multimedia. Generaiiy speaking, multimedia refers to something that is represented by associating not only with characters but also with graphics, audio and especially pictures and the like together. However, in order to include the aforementioned existing information media in the scope of multimedia, it appears as a prerequisite to represent such information in digital form.<br>
However, when calculating the amount of Information contained in each of the aforementioned information media as the amount of digital information, the information amount per character requires 1~2 bytes whereas the audio requires more than 64 Kbits (telephone quality) per second and when it comes to the moving picture, it requires more than lOOMbits (present television reception quality) per second. Therefore, it is not realistic to handle the vast information directly in the digital format via the Information media mentioned above. For example, a videophone has already been put into practica! use via Integrated<br><br>
Services Digital Network (ISDN) vvith a transmission rate of 64 Kbit/s ~ 1.5 Mbit/s, however, it is not practica! to transmit Video captured on the TV screen or shot by a TV camera. This therefore-requires Information compression techniques, and for instance, in the case of the videophone; Video compression techniques compliant with H.261 and H.263 Standards international^ stand ardized by ITU-T (International Telecom munication Union-Telecommunication Standardization Sector) are employed. According to Information compression techniques compliant with the MPEG-1 Standard, picture Information as well as music Information can be stored in an ordinary music CD (Compact Disc).<br>
Here,     MPEG    (Moving     Picture    Experts    Group)     is    an international Standard for compression of moving picture Signals and MPEG-1 is a Standard that compresses Video Signals down to 1.5    Mbit/s,   that   is,   to   com press   information   of   TV   Signals approximately down to a hundredth.    The transmission rate within the scope of the MPEG-1 Standard is limited primarily to about 1.5 Mbit/s, therefore, MPEG-2 which was standardized with the view to meet   the    requirements   of   high-quality    picture    allows    data transmission of moving picture Signals at a rate of 2~15" Mbit/s. In    the    present    circumstances,    a    working    group    (ISO/IEC JTC1/SC29/WG11)   in   the  Charge   of the  standardization   of the MPEG-1 and the MPEG-2 has achieved a compression rate which goes beyond  what the MPEG-1  and  the  MPEG-2  have achieved, realized encoding/decoding Operations on a per-object basis and standardized MPEG-4 in order to realize a new function required by the era of multi media.    In the process of the standardization of the MPEG-4, the standardization of encoding method for a low bit rate was aimed, however, the aim is presently extended to a more versatile encoding of moving pictures at a high bit rate including interlaced pictures.<br>
Recently,   a   new   picture   encoding   as   a   next   generation<br><br>
encoding  of the  MPEG-4  called  JVC is  under the process  of the standardization jointly worked by the ITU-T and the ISO/IEC.<br>
Fig. 24 is a diagram showing a prediction structure, a decoding order and a display order of pictures. "Picture" is a term indicating either a frame or a field and-the term "picture" here is used in stead of frame or field in the present specification. The hatched pictures in Rg. 24 present the pictures to be stored in the memory for reference when other pictures are encoded/decoded.<br>
10 is an intra coded picture and P3, P6 and P9 are predictive coded pictures (P-picture). The predictive encoding in the scheme of the JVT Standard differs from that of the conventional MPEG-1/2/4. An arbitrary picture is selected out of a piurality of encoded pictures as a reference picture and a predictive image can be generated from the reference picture. For example, a picture P9 may select an arbitrary picture out of three pictures of 10, P3 and P6 and generate a predictive image using the selected picture. Consequently, it heightens a possibility to select the more applicable predictive image than the conventional case of applying MPEG-1/2/4 and thereby improves a compression rate. Bl, B2, B4, B5, B7 and B8 are bi-directionaily predictive coded pictures (B-picture), differing from inter-picture prediction, wherein a piurality of pictures (two pictures) are selected and a predictive image is generated using the selected pictures and then encoded. It is especially known that the accuracy of the predictive image can be greatly improved and so can be the compression rate by performing Interpolation prediction using an average value of two pictures temporally previous and subsequent for generating a predictive image. The marks of "I" for an intra coded picture, "P" for a predictive coded picture and "B" for a bi-directionally predictive coded picture are used in order to differentiate encoding method of each picture.<br>
In order to refer to the temporally previous and subsequent<br><br>
pictures for the B-pictures, the temporally previous pictures shall be coded/decoded at first. This is caiied reordering of pictures and often takes place in the conventional MPEG-1/2/4. Therefore, in contrast with an encoding order (Stream Order), an order of displaying the pictures which are decoded (Display Order) is reordered as shown in Fig. 24 showing a prediction structure, a decoding order and a display order of pictures. B-pictures in the example of Fig. 24 are displayed at the moment when the stream is decoded, therefore, there is no need to störe them when they are not referred to by other pictures. However, I-pictures and P-pictures have to be stored in a memory since they are displayed after being decoded when the decoding of the following B-picture is terminated.<br>
The terms and the meanings of the hatched pictures in the diagram showing the prediction structure, the decoding order and the display order of the pictures are the same as those used in Fig. 24.<br>
Fig. 26 is a block djagram showing a picture encoding apparatus for realizing a conventional picture encoding method. The following illustrates an Operation of the picture encoding apparatus for realizing the conventional picture encoding method in Fig. 26.<br>
A picture structure determination unit PicStruct determines an encoding type (I-picture, P-picture and B-picture) for each picture, notifies a reference picture control unit RefPicCtrl of the encoding type and the pictures that can be referred to in the encoding and informs also a reordering unit ReOrder of the encoding order of the pictures. The reordering unit ReOrder reorders the order of an input picture Picln into an encoding order and Outputs the reordered pictures to a motion estimation unit ME and a subtraction unit Sub. The motion estimation unit ME refers to the reference  pictures stored  in a  picture memory PicMeml;<br><br>
determines an applicable reference picture and detects a motion vector indicating a pixel position of the reference picture and sends them to a variable length coding unit VLC, the picture memory PicMeml and a motion compensation unit MC. The picture memory PicMeml Outputs the pixels of the reference picture according to the motion vector MV to the motion compensation unit MC whereas the motion compensation unit MC generates a predictive image using the pixels in the reference picture gained from the picture memory PicMeml and the motion vector MV.<br>
The subtraction unit Sub calculates a difference between the picture reordered by the reordering unit ReOrder and the predictive image. The difference is converted to frequency coefficients by an orthogonal transformation unit T and then the frequency coefficients are quantized by the quantization unit Q and outputted as quantized values Coef.<br>
An inverse quantization unit IQ inverse quantizes the quantized values Coef and restores them as frequency coefficients. The inverse orthogonal transformation unit IT performs inverse frequency conversion for the frequency coefficients to be outputted as pixel differential values. An addition unit Add adds the predictive image to the pixel differential values and obtains a decoded picture.<br>
The reference picture control unit RefPicCtrl, according to the encoding type of the picture, judges whether or not the decoded picture is to be stored in the picture memory PicMeml to be referred to as a reference picture and whether or not the decoded picture is to be removed from the picture memory PicMeml (no longer referred to as a reference picture) and notifies of the Operation using a memory control command MMCO.<br>
A switch SW is turned ON when the memory control command MMCO ordered a storage and thereby the decoded picture is stored in the picture memory PicMeml as a reference'<br><br>
picture. The picture memory PicMeml releases the area where the decocied picture is stored so that other decoded pictures can be stored when the picture memory PicMeml instructs that the decoded picture shail be removed from the picture memory PicMeml,<br>
The variable length coding unit VLC encodes the quantized values Coef, the motion vector MV and the memory control command MMCO and Outputs an encoded stream Str.<br>
The case in which the encoding includes the frequency conversion and the quantization is shown, however, the encoding may be the one without them such as DPCM, ADPCM, and linear predictive encoding. The encoding may be the one in which the frequency conversion and the quantization are integrated or the one that is not accompanied by the quantization after the frequency conversion as in a bit-plane encoding.<br>
Fig. 27 shows bit streams of the memory control command MMCO. The variable length coding unit VLC encodes "000" which means a release of a whole memory area so that the picture memory is initialized at the beginning of the encoding/decoding or in the head of the GOP (Group Of Picture). Also, the variable length coding unit VLC encodes "Ol" when the decoded picture is stored in the picture memory. When a picture stored in the picture memory is reieased at the same time, the variable iength coding unit VLC encodes a picture number following the "001" since the picture number to be reieased has to be indicated. When a plurality of pictures are reieased, the command to release a picture needs to be encoded for a plural number of times, therefore, a command to störe a picture is encoded in addition to the command to release a picture. The variable length coding unit VLC encodes sequentially a plurality of memory control commands MMCO and encodes lastly ul" indicating that the memory control command MMCO is complete.    In this way, the memory control command'<br><br>
MMCO is encoded as an encoded stream Str.<br>
Fig. 28 is a block diagram showing a picture decoding apparatus for realizing a conventional picture decoding method. The same numbers are put for the devices that operate in the same manner as the picture encoding apparatus for realizing the conventional picture encoding method shown in Fig. 26.<br>
A variable length decoding unit VLD decodes an encoded stream Str and Outputs a memory control command MMCO, a motion vector MV and quantized values Coef. A picture time Time is inputted from outside and is a Signal for specifying a picture to be displayed. When a picture to be displayed is a decoded picture, an output from the adding unit Add is selected at a selector Sei and sent out to a display unit Disp. When a picture to be displayed is a picture stored in the picture memory PicMeml, it is read out from the picture memory PicMeml, selected at the selector Sei and outputted to a display unit Disp.<br>
As described above, the picture memory PicMeml Outputs, to the motion compensation unit MC, pixels according to the motion vector MV whereas the motion compensation unit MC generates a predictive image according to the pixels obtained from the picture memory PicMeml together with the motion vector MV.<br>
The inverse quantization unit IQ inverse quantizes the quantized values Coef and restores them as frequency coefficients. Furthermore, the inverse orthogonal transformation IT performs inverse frequency conversion for the frequency coefficients to be outputted as pixel differential values. The addition unit Add adds the predictive image to the pixel differential values to generate a decoded picture.<br>
The picture memory PicMeml releases the area in which the decoded picture is stored so that other decoded picture can be stored.<br>
The example of the decoding inciuding the inverse frequency'<br><br>
conversion and the inverse quantization is descrihed above, however, the decoding may be the one without them such as DPCM, ADPCM and a linear predictive encoding. The decoding may be the one in which the inverse frequency conversion and the inverse quantization are integrated ör the one that is not accompanied by the inverse quantization after the frequency conversion as in a bit-plane encoding.<br>
With the use of the picture decoding apparatus for realizing the conventional picture decoding method shown in Fig. 28, it is obvious that the combination of the conventional picture encoding types shown in Figs. 24 and 25 allows a correct decoding of the encoded stream Str encoded by the picture encoding apparatus for realizing the conventional picture encoding method shown in Fig. 26.<br>
The more flexible combination is considered here as a picture encoding type.<br>
Fig. 1 is a diagram showing a prediction structure, a decoding order and a display order of the pictures, which do not exist in the related art. The prediction structure with respect to B-picture differs in the vicinity of Picture 4 in Fig. 1. Namely, Picture 2 that is a B-picture is stored in the picture memory to be referred to as a predictive image of Picture 1 and Picture 3. Consequently, the encoding order and the display order of each picture are as shown in Fig. 1.<br>
Pictures B5 and B6 are B-pictures that are not stored since they are not referred to in a predictive coding. However, differing from Fig. 24, the display time for the pictures B5 and B6 has not yet come at the time when they are decoded since it is the time for other picture to be displayed. That is, at the time of decoding the picture B5, the picture P4 shall be displayed and at the time of decoding the picture B6, the picture B5 shali be displayed. Since the pictures B5 and B6 are not stored, they cannot be taken out'<br><br>
from the picture memory at the display time. Therefore, the pictures which are not referred to for predictive encoding are not stored in the picture memory; therefore, the pictures B5 and B6 cannot be displayed after being decoded with the use of the conventionai encoding/decoding method. Namely in the case of not storing the pictures that are not referred to in predictive encoding as in the example shown in Fig. 24, only Pictures 1, 2, 4, and 7 can be displayed.<br>
Thus, considering the more flexible combination as a picture encoding type, it is a problem that the pictures which cannot be displayed after being decoded occur. It is conceivable to add another picture memory for display and störe the pictures that are not stored in the picture memory PicMeml in this picture memory for display so that they can be displayed; however, the weak point is that this picture memory requires a huge memory in this case.<br>
Furthermore, there rises a new problem in the reproduction of a picture in the middle of the stream even if another picture memory for display is introduced. Fig. 2 is a diagram showing a prediction structure, a decoding order and a display order of pictures. The difference comparing with Fig. 25 is that the prediction structure in the vicinity of Picture 7 becomes completely independent. The pictures following a picture 17 are not referred to when the pictures with display time preceding the picture 17 are encoded/decoded. Therefore, the pictures following the picture 17 can be encoded correctly if the decoding Starts from the picture 17 and the picture 17 can be reproduced independently. In this way, the Insertion of I picture while Streaming often takes place. This system to reproduce a picture in the middle of the stream, which complies with MPEG-2, is called GOP (Group Of Picture).<br>
The correspondence of a reproduced picture of the picture decoding apparatus and that of the picture encoding apparatus in the case of reproducing the picture in the middle of the stream has'<br><br>
to be assured, and the easy method is to initialize the whole area of the picture mernory. However, Picture 6 is not yet displayed and stored in the picture mernory when Picture 7 is decoded, Picture 6 therefore cannot be displayed from the picture mernory at its display time if the entire picture mernory is initialized before the display of Picture 6 takes place.<br>
The object of the present invention therefore is to allow the display of the pictures that cannot be displayed after being decoded by taking the mernory amount necessary for encoding/decoding of the picture into consideration.<br>
Disclosure of Invention<br>
In order to achieve the above objects, a picture encoding method of the present invention of predictively encoding an input picture with reference to pictures stored in a picture buffer and decoding the encoded input picture, the picture encoding method comprising: judging whether or not the decoded picture is for reference and whether or not the decoded picture is for Output, needing to be stored until display time of the decoded picture; and storing the decoded picture in the picture buffer as one of the foHowing uses: for reference and for output, based on each result of the judgments.<br>
Here, the picture encoding method may comprise the foilowing steps: a first judgment step of judging whether or not the decoded picture is for reference; a second judgment step of judging whether or not the decoded picture is for output, needing to be stored until display time of the decoded picture; and a management step of managing the picture buffer so that the picture buffer Stores the decoded picture judged to be for reference in the first judgment step and the decoded picture judged to be for output in the second judgment step.<br>
With this structure, the judgment on whether the decoded'<br><br>
picture is a picture for Output in addition to the judgrnent on whether the decoded picture is a picture for reference allows a storage not oniy of a picture for reference but also of a picture that is not referred to in the predictive encoding but cannot be ' dispiayed or outputted as a picture for Output at the time of decoding. Such judgrnent and buffer management take place in the picture encoding to simulate a decoding Operation, therefore, a picture for output can surely be dispiayed or outputted at its dispiay time by the decoding apparatus.<br>
Here, the picture buffer may have a specified size,and the picture encoding method may further comprise: a third judgrnent step of judging whether or not the picture for reference stored in the picture buffer is no longer used as a reference picture; and a fourth judgrnent step of judging whether or not the picture for output stored in the picture buffer is already outputted. In the management step, an area storing a picture in the picturei buffer is reused within a scope of the specified size based on each result of the judgments in the third and fourth judgrnent steps.<br>
With this structure, an area storing a picture is reused in the scope of the specified size of the picture buffer for storing the picture for reference and the picture for output in the management step, therefore, the picture buffer may be adapted for the specified size of essential requirements without wasting the memory.<br>
Furthermore, the picture encoding method may include an ■  encoding   step   of   encoding,   for   each   sequence,   Information indicating the specified size for encoding said sequence including a plurality of encoded pictures.<br>
With this structure, a picture structure to be used for predictive encoding can be defined flexibly for each sequence since the size is specified for each sequence.<br>
Also, in the management step, one of the decoded picture judged  to  be for reference  in  the first judgrnent step  and  the '<br><br>
decoded picture judged to be for Output in the second judgment step may be stored in an area storing a picture that is not for reference and is judged as already outputted in the fourth judgment step when the picture buffer doesn't have an area capable of storing newly a picture.<br>
With the structure described above, a new picture is stored in an area storing the outputted picture out of areas aliocated for a picture for Output in the picture buffer. Nameiy, the area storing the outputted picture is reused so that the dispiay of the decoded picture that is not yet outputted may be more assured.<br>
Furthermore, in the management step; one of the decoded picture judged to be for reference in the first judgment step and the picture judged to be for output in the second judgment step may be stored in an area storing a picture whose dispiay order is the eariiest of the pictures that are not for reference and stored within the picture buffer when the picture buffer doesn't have an area capable of storing newly a picture.<br>
With the structure described above, there is a high possibility that a decoded picture already outputted is stored in an area storing a picture whose dispiay order is the eariiest of the pictures for output, therefore, the dispiay of the decoded picture that is not yet outputted may be more assured aithough the structure does not allow a correct determination on the dispiay time of respective decoded pictures.<br>
The picture encoding method may further comprise a releasing step of releasing an area other than an area storing a. picture which is stored before a size of the input picture is modified and is not partly or wholly damaged after being stored out of areas storing dispiay pictures,when the size modification takes place in a sequence including a plurality of encoded pictures.<br>
With the structure described above, the pictures that are not yet outputted at the time of size modification can be outputted as<br><br>
many as possible without being removed since decoded pictures for Output can be ieft in the decoded picture buffer when the size modification takes place.<br>
Thus, according to the present invention, the pictures that can not be displayed correctly in the related ärt can be displayed by making the most use of the released memory area without having unnecessary memory, therefore, its practical value is high.<br>
A picture decoding method, a picture encoding apparatus, a picture decoding apparatus and a program according to the present invention have the same structure, Operation, and effects as described above.<br>
The picture encoding method or the picture decoding method can be any of the compositions described in (1) through (16) below.<br>
(1)	A picture encoding method of predictively encoding a picture Signal with reference to a decoded .picture" stored in a memory after being decoded, the picture encoding method comprising the following steps: generating a predictive image with reference to the decoded picture in the memory and encoding a difference between the predictive image and the picture Signal to obtain an encoded stream; decoding the encoded difference between the predictive image and the picture Signal, adding the predictive image to the decoded difference to obtain a decoded picture and storing a predetermined decoded picture in the memory; and containing in the encoded stream instruction Information indicating whether or not to release a whole area of the memory for making the area reusable.<br>
(2)	A picture encoding method of predictively encoding a picture Signal with reference to a decoded picture in a memory, the picture encoding method comprising: generating a predictive image with reference to the decoded picture in the memory; encoding a difference between the predictive image and the picture'<br><br>
signa! to obtain an encoded stream; decoding the encoded difference between the predictive Image and the picture Signal; adding the predictive image to the decoded difference to obtain a decoded picture; and storing the decoded picture in the memory ' when the decoded picture is one of i) a picture used for reference in order to generate a predictive image and ii) a picture that is not immediately displayable.<br>
(3)	A picture encoding method of predictively encoding a picture signai with reference to a decoded picture, the picture encoding method comprising: generating a predictive image with reference to the decoded picture in a memory; encoding a difference between the predictive image and the picture Signal to obtain an encoded stream; decoding the encoded difference between the predictive image and the picture signai, adding the predictive image to the decoded difference to obtain a decoded. picture; storing a predetermined decoded picture in the memory and releasing an unnecessary picture in the memory, wherein the predetermined decoded picture is stored in an area storing a picture aiready dispiayed in the released area within the memory.<br>
(4)	A picture decoding method of predictively decoding an encoded stream with reference to a decoded picture stored in a memory after being decoded, the picture decoding method comprising the foliowing steps of: generating a predictive image with reference to the decoded picture in the memory, adding the predictive image to a picture signai obtained by decoding the encoded stream to obtain a decoded picture and storing a predetermined decoded picture in the memory; and a processing step of performing processing based on instruction information indicating whether or not to release a whole area of the memory obtained by decoding the encoded stream for making the area reusable.<br>
(5)	A picture decoding method of predictively decoding an '<br><br>
encoded stream with reference to a decoded picture, the picture decoding method comprising: generating a predictive Image with reference to the decoded picture in a memory; decoding the encoded stream; adding the predictive image to the decoded encoded stream to obtain a decoded picture; storing a predetermined decoded picture in the memory and reieasing an unnecessary picture in the memory, wherein the predetermined decoded picture is stored in an area in which a picture aiready displayed has been stored in the reieased area within the memory.<br>
(6)	A picture encoding method of predictiveiy encoding a picture signal with reference to a decoded picture, the picture encoding method comprising: generating a predictive image with reference to the decoded picture in a memory; encoding a difference between the predictive image and the picture Signal to obtain an encoded stream; decoding the encoded difference between the predictive image and the picture signal, adding the predictive image to the decoded difference to obtain a decoded picture; storing a predetermined decoded picture in the memory and reieasing an unnecessary picture in the memory, wherein the predetermined decoded picture is stored in an area in which a picture displayed at the earliest time has been stored in the reieased area within the memory.<br>
(7)	A picture decoding method of predictiveiy decoding an encoded stream with reference to a decoded picture, the picture decoding method comprising: generating a predictive image with reference to the decoded picture in a memory; decoding the encoded stream; adding the predictive image to the decoded picture to obtain a decoded picture; storing a predetermined decoded picture in the memory and reieasing an unnecessary picture in the memory, wherein the predetermined decoded picture is stored in an area in which a picture displayed at the earliest time has been stored in the reieased area within the memory.<br><br>
(8)	A picture encoding method of predictively encoding a picture signal with reference to a decoded picture, the picture encoding method comprising: generating a predictive image with reference to the decoded picture in a memory; encoding a difference between the predictive image and the picture Signal to obtain an encoded stream; decoding the encoded difference between the predictive image and the picture signal, adding the predictive image to the decoded difference to obtain a decoded picture; storing a predetermined decoded picture in the memory and releasing an unnecessary picture in the memory, wherein the predetermined decoded picture is stored in an area that is capable of storing a picture and is firstly released in the memory.<br>
(9)	A picture decoding method for predictively decoding an encoded stream with reference to a decoded picture, the picture decoding method comprising: generating a predictive image with reference to the decoded picture in the memory; decoding the encoded stream; adding the predictive image to the decoded encoded stream to obtain a decoded picture; storing a predetermined decoded picture in the memory and releasing an unnecessary picture in the memory, wherein the predetermined decoded picture is stored in an area that is capable of storing a picture and is released firstly in the memory.<br>
(10)	A picture encoding apparatus for predictively encoding<br>
a picture signal with reference to a decoded picture, the picture<br>
encoding apparatus comprising: a prediction unit operable to<br>
generate a predictive image with reference to the decoded picture<br>
in a memory; an encoding unit operable to encode a difference<br>
between the predictive image predicted by the prediction unit and<br>
the picture signal to obtain an encoded stream; a decoding unit<br>
operable to decode the encoded difference; an addition unit<br>
operable to add the predictive image to the difference decoded by<br>
the decoding  unit;  a  reference  picture control  unit operable to'<br><br>
determine to störe one of i) a picture used for reference in order to generate a predictive Image and ii) a picture that is not irnmediately displayable; and a memory unit operable to störe the adding resuit obtained from the addition unit based on the determination made by the reference picture control unit.<br>
(11)	A picture encoding apparatus for predictively encoding a picture Signal with reference to a decoded picture, the picture encoding apparatus comprising: a prediction unit operable to generate a predictive Image with reference to the decoded picture in a memory; an encoding unit operable to encode a difference between the predictive image predicted by the prediction unit and the picture Signal to obtain an encoded stream; a decoding unit operable to decode the encoded difference; an addition unit operable to add the predictive image to the difference decoded by the decoding unit; a reference picture control unit operable to determine whether or not to störe an adding resuit obtained from the addition unit and whether or not to release an unnecessary picture in the memory; and a memory unit operable to störe the adding resuit obtained from the addition unit in an area in which a picture already outputted as a decoded picture has been stored in the reieased area within the memory based on the determination made by the reference picture control unit.<br>
(12)	A picture decoding apparatus for predictively decoding an encoded stream with reference to a decoded picture; the picture decoding apparatus comprising: a decoding unit operable to decode the encoded stream; a prediction unit operable to generate a predictive image with reference to the decoded picture in a memory; an addition unit operable to add the predictive image to the difference between the predictive image and the picture Signal decoded by the decoding unit; a reference picture control unit operable to determine whether or not to störe the adding resuit obtained from the addition unit in the memory and whether or not'<br><br>
to. release an unnecessary picture in the memory; and a memory unit operable to störe an adding resuit obtained from the addition unit in an area in which a picture aiready outputted as a decoded picture has been stored in the released area in the memory based on the determination made by the reference picture control unit.<br>
(13)	A picture encoding apparatus for predictively encoding a picture Signal with reference to a decoded picture, the picture encoding apparatus comprising: a prediction unit operable to generate a predictive image with reference to the decoded picture in a memory; an encoding unit operable to encode a difference between the predictive image predicted by the prediction unit and the picture Signal to obtain an encoded stream, a decoding unit operable to decode the encoded difference; an addition unit operable to add the predictive image to the difference decoded by the decoding unit; a reference picture control unit operable to determine whether or not to störe the adding resuit obtained from the addition unit in the memory and whether or not to release an unnecessary picture in the memory; and a memory unit operable to störe the adding resuit obtained from the addition unit in an area in which a picture displayed at the earliest time has been stored in the released area within the memory based on the determination made by the reference picture control unit.<br>
(14)	A picture decoding apparatus for predictively decoding an encoded stream with reference to a decoded picture, the picture decoding apparatus comprising: a decoding unit operable to decode the encoded stream; a prediction unit operable to generate a predictive image with reference to the decoded picture in a memory; an addition unit operable to add the predictive image to the difference between the predictive image and the picture Signal decoded by the decoding unit; a reference picture control unit operable to determine whether or not to störe, in the memory, the adding resuit obtained from the addition unit and whether or not to'<br><br><br>
in an area in which a picture displayed at the eariiest time has been. stored   in  the  released  area  within  the   memory  based   on  the determination made by the reference picture control unit.<br>
(15)	A picture encoding apparatus for predictively encoding<br>
a picture signal with reference to a decoded picture, the picture<br>
decoding apparatus comprising: a prediction unit operable to<br>
generate a predictive image with reference to the decoded picture<br>
in a memory; an encoding unit operable to encode a difference<br>
between the predictive image predicted by the prediction unit and<br>
the picture signal to obtain an encoded stream; a decoding unit<br>
operable to decode the encoded difference between the predictive<br>
image and the picture signal decoded by the decoding unit; an<br>
addition unit operable to add the predictive image to the difference<br>
decoded by the decoding unit; a reference picture control unit<br>
operable to determine whether or not to störe the adding result<br>
obtained from the addition unit in the memory and whether or not<br>
to release an unnecessary picture in the memory; and a memory<br>
unit operable to störe the adding result obtained from the addition<br>
unit in an area that is released at the eariiest time of the whole<br>
released area within the memory based on the determination made<br>
by the reference picture control unit.<br>
(16)	A picture decoding apparatus for predictively decoding<br>
an encoded stream with reference to a decoded picture, the picture<br>
decoding apparatus comprising: a decoding unit operable to<br>
decode an encoded stream; a prediction unit operable to generate<br>
a predictive image with reference to the decoded picture in a<br>
memory; an addition unit operable to add the predictive image to<br>
the difference between the predictive image and the picture signal<br>
decoded by the. decoding unit; a reference picture control unit<br>
operable to determine whether or not to störe, in the memory, the '<br><br>
adding result obtained from the addition unit and whether or not to release an unnecessary picture in the memory; and a memory unit operable to störe the adding result obtained from the addition unit in an area that is released at the earliest time of the whole released area within the memory based on the determination made by the reference picture controi unit.<br>
A storage medium for storing a program in which the picture encoding/decoding method of the present invention is executed by a Computer may be any of (17) through (23) below.<br>
(17)	A storage medium employing a picture encoding method in which a Computer is made to predictiveiy encode a picture signai with reference to a decoded picture, the storage medium comprising: generating a predictive image with reference to a decoded picture in a memory; encoding a difference between the predictive image and the picture Signal to obtain an encoded stream; decoding the encoded difference between the encoded predictive image and the picture Signal, and adding the predictive image to the decoded difference and then outputting the adding result as a decoded picture, storing the decoded picture in the memory when the decoded picture is one of i) a picture used for reference in order to generate a predictive image and ii) a picture that is not immediately displayable.<br>
(18)	A storage medium employing a picture encoding method in which a Computer is made to predictiveiy encode a picture Signal with reference to a decoded picture, the storage medium comprising: generating a predictive image with reference to the decoded picture in a memory; encoding a difference between the predictive image and the picture Signal to obtain an encoded stream; decoding the encoded difference; adding the predictive image to the decoded difference to obtain a decoded picture; storing a predetermined decoded picture in the memory and releasing   an   unnecessary   picture   in  the   memory,   wherein  the'<br><br>
predetermined decoded picture is stored in an area in which a picture aiready displayed has been stored in the released area within the memory.<br>
(19)	A storage medium empioying a picture decoding method in which a Computer is made to predictively decode an encoded stream with reference to a decoded picture, the storage medium comprising: generating a predictive image with reference to the decoded picture in a memory; decoding the encoded stream; adding the predictive image to the decoded encoded stream to obtain a decoded picture; stor'mg a predetermined decoded picture in the memory and releasing an unnecessary picture in the memory, wherein the predetermined decoded picture is stored in an area in which a picture aiready displayed has been stored in the released area within the memory.<br>
(20)	A storage medium empioying a picture encoding method in which a Computer is made to predictively encode a picture signai with reference to a decoded picture, the storage medium comprising: generating a predictive image with reference to the decoded picture in a memory; encoding a difference between the predictive image and the picture signai to obtain an encoded stream; decoding the encoded difference; adding the predictive image to the decoded difference to obtain a decoded picture; storing a predetermined decoded picture in the memory and releasing an unnecessary picture in the memory, wherein the predetermined decoded picture is stored in an area in which a picture displayed at the earliest time has been stored in the released area within the memory.<br>
(21)	A storage medium empioying a picture decoding<br>
method in which a Computer is made to predictively decode an<br>
encoded stream with reference to a decoded picture, the storage<br>
medium comprising: generating a predictive image with reference<br>
to the decoded picture; decoding the encoded stream; adding the<br><br>
predictive Image to the decoded encoded stream to obtain a decoded picture; storing a predetermined decoded picture in the memory and releasing an unnecessary picture in the memory, wherein the decoded picture is stored in an area in which a picture displayed at the eariiest time has been stored in the released area within the memory.<br>
(22)	A storage medium employing a picture encoding method in which a Computer is made to predictively encode a picture Signal with reference to a decoded picture, the storage medium comprising; generating a predictive image with reference to the decoded picture in a memory; encoding a difference between the predictive image and the picture Signal to obtain an encoded stream; decoding the encoded difference; adding the predictive image to the decoded difference to obtain a decoded picture; storing a predetermined decoded picture in the memory and releasing an unnecessary picture in the memory, wherein the predetermined decoded picture is stored in an area that is capable of storing a picture and is released firstly of the whole released area in the memory.<br>
(23)	A storage medium employing a picture encoding method in which a Computer is made to predictively encode a picture Signal with reference to a decoded picture, the storage medium comprising: generating a predictive image with reference to the decoded picture in a memory; encoding a difference between the predictive image and the picture Signal to obtain an encoded stream; decoding the encoded difference; adding the predictive image to the decoded difference to obtain a decoded picture; storing a predetermined decoded picture in the memory and releasing an unnecessary picture in the memory, wherein the predetermined decoded picture is stored in an area in which a picture displayed at the eariiest time has been stored in the released area within the memory.<br><br>
A picture encoding method of defining memory constraint conditions for a strearn and a picture decoding apparatus and encoding Video for the picture encoding apparatus of the present invention may be any of (Al) through (A26) below.<br>
(Al) A picture encoding method of defining memory constraint conditions for a stream and a picture decoding apparatus, the picture encoding method comprising the following steps: determining a first maximum number of reference pictures that can be used; setting a second maximum number of reference pictures used for backward prediction; entering the second maximum number in a header of the stream; generating a Virtual display delay buffer; generating a display counter; allocating a sufficient memory space for the reference pictures; and encoding the video. Here, the Virtual display delay buffer is a Virtual buffer for each picture for display to be stored in an area for display retained in a memory in the picture encoding apparatus and stores information indicating an order of outputting the pictures for display (picture order number or the like). The display counter records or Updates a picture order number of the picture to be outputted virtually on the display. The sufficient memory space indicates an area for storing both the reference pictures and the pictures for display.<br>
(A2) The picture encoding method according to (Al), wherein the first maximum number is determined according to a level value indicating a capacity of the decoder.<br>
(A3) The picture encoding method according to (Al) or (A2), wherein the second maximum number is smaller than the first maximum number of reference pictures.<br>
(A4) The picture encoding method according to (Al), (A2) or (A3), wherein the backward prediction of the entire stream is limited by the second maximum number.<br>
(A5)   The   picture   encoding   method   according   to   (Al)1,<br><br>
wherein  a size of the Virtual display delay  buffer is the second maximum number minus 1.<br>
(A6) The picture encoding method according to (Al) or (A5), wherein a physical memory for the Virtual display delay buffer includes only display order information of the pictures.<br>
(A7) The picture encoding method according to (Al), wherein the display counter is used for storing display order information of the pictures to be removed from the Virtual display delay buffer.<br>
(A8) The picture encoding method according to (Al), comprising the following steps of: predicting a predictive image for a current picture to be coded with reference to usable reference pictures; encoding the current picture; determining whether or not the encoded picture can be used for prediction; decoding the encoded picture; storing the decoded picture in the reference picture buffer; updating the Virtual display delay buffer; and updating the display counter.<br>
(A9) The picture encoding method according to (Al) or (A8), wherein one or a plurality of reference pictures can be used for the prediction of the picture when the picture is predictively encoded.<br>
(A10) The picture encoding method according to (Al) or (A8), wherein the reference picture can be used only when the reference picture buffer meets the memory constraint conditions.<br>
(All) The picture encoding method according to (Al) or (A8), wherein the reference picture is decoded when the current picture is to be used as a reference picture.<br>
(A12) The picture encoding method according to (Al), (A8) or (A10), further comprising the following steps of: determining memory constraint conditions of the number of reference pictures with respect to a following picture; removing an unused reference picture from the reference picture buffer; and adding the decoded picture to the reference picture buffer.<br><br>
(A13) The picture encoding method according to (Al), (A8), (A10) or (A12), wherein a maximum number of the reference pictures with respect to the foliowing picture equals to what the number of pictures in the Virtual display delay buffer is subtracted from the first maximum number for the stream.<br>
(A14) A picture encoding method according to (Al), (A8), (A10) or (A12), wherein the display order information for the display of the unused reference picture is moved to the Virtual display delay buffer when the display order information for the display is greater than a value indicated at the display counter.<br>
(A15) The picture encoding method according to (Al) or (A8), wherein the Virtual display delay buffer Stores the temporal Information of the picture when a value indicated in the display order information is greater than a value indicated at the display counter.<br>
(A16) The picture encoding method according to (Al), (A8) or (A15), wherein the Virtual display delay buffer removes the display order information of the picture when the value indicated in the display order information is smaller than or equal to the value indicated at the display counter.<br>
(A17) The picture encoding method according to (Al), (A8), (A10), (A12) or (A13), wherein the number of pictures in the Virtual display delay buffer is defined according to a total number indicated in the display order information of the pictures that are present in the Virtual display delay buffer.<br>
(A18) The  picture encoding  method  according to  (Al)  or<br>
(A8), wherein the display counter Starts updating the display order<br>
information in one of cases: when the Virtual display delay buffer is<br>
füll and when the number of encoded pictures equals to the first<br>
»      maximum number.<br>
(A19) The picture encoding method according to (Al), (A8) or (A18), wherein the display counter Updates the display order<br><br>
Information   based   on   the   display   order   Information   of   each encoded picture.<br>
(A20) The picture encoding method according to (Al), wherein a picture decoding method employed by a picture decoding apparatus comprises the following steps of: determining a maximum post decoder buffer size according to a stream header; determining a minimum number of necessary reference pictures; allocating a sufficient physicai memory space for the reference pictures; decoding the stream; and outputting the stream.<br>
(A21) The picture encoding method according to (Al) or (A20), wherein the maximum post decoder buffer size is the second maximum number set by the picture encoding apparatus.<br>
(A22) The picture encoding method according to (Al) or (A20), wherein the minimum number of necessary reference pictures is fixed according to a capacity level of a picture decoding apparatus that can decode the same stream.<br>
(A23) The picture encoding method according to (Al) or (A20), wherein the physicai memory space allocated by the picture decoding apparatus can be used for storing both reference pictures and post decoder pictures.<br>
(A24) The picture encoding method according to (Al) or (A20), wherein a total number of reference pictures and post decoder pictures does not surpass the allocated physicai memory space.<br>
(A25) The picture encoding method according to (Al) or (A20), wherein a firstly decoded picture is outputted in one of following cases: when the number of decoded pictures equals to the maximum size of post decoder buffer minus 1 and when a total number of decoded pictures equals to the determined minimum number of reference pictures.<br>
(A26) The picture encoding method according to (Al) or (A20),  wherein  the  decoded  picture  is  removed  from the  post<br><br>
decoder buffer once the decoded picture is sent for Output.<br>
Also, a method of decoding a stream based on mernory constraint conditions for a stream and a picture decoding apparatus empioyed by the picture decoding apparatus of the present invention may be any of (A27) through (A37) below.<br>
(A27) A picture decoding method of decoding a stream based on mernory constraint conditions for a stream and a picture decoding apparatus, the picture decoding method comprising the foilowing steps of: determining a first maximum number of reference pictures used for a stream; determining a second maximum number of reference pictures used for backward prediction; calculating a minimum size of a post decoder buffer; allocating a sufficient physicat mernory space for the post reference picture buffer; allocating a sufficient physical mernory space for the post decoder buffer; decoding the stream; storing the decoded picture in a reference picture buffer; storing the decoded picture in the post decoder buffer; outputting the decoded picture. Here, the post decoder buffer is an area for display in a reference picture mernory in the picture decoding apparatus.<br>
(A28) The picture decoding method according to' (A27), wherein the first maximum number is fixed for the picture decoding apparatus according to a capacity level to decode the stream.<br>
(A29) The picture decoding method according to (A27), wherein the second maximum number is defined as the first maximum number minus 1.<br>
(A30) The picture decoding method according to (A27), wherein the minimum size of the post decoder buffer is defined as the second maximum number minus 1.<br>
(A31) The picture decoding method according to (A27) or (A30), wherein the minimum size of the post decoder buffer is obtained from the stream..<br>
(A32) The picture decoding method according to (A27) or<br><br><br>
(A33) The picture decoding method according to (A27), wherein the minimum size of the reference picture buffer is defined as the first maximum number.<br>
(A34) The picture decoding method according to (A27) or (A33), wherein the reference picture buffer is used only for storing reference pictures.<br>
(A35) The picture decoding method according to (A27), (A30) or (A31), wherein the post decoder buffer is used for storing non-reference pictures.<br>
(A36) The picture decoding method according to (A27), (A32) or (A33), wherein a reference picture is removed from the reference picture buffer when the reference picture is judged as a non-reference picture.<br>
(A37) The picture decoding method according to (A27), (A30), (A31) or (A35), wherein picture in the post decoder buffer is removed from the post decoder buffer when outputted.<br>
With the structure described above, a correct decoding of the stream can be assured by operating both the stream and the picture decoding apparatus under the same memory constraint conditions. Otherwise, a memory space sufficient for the picture decoding apparatus to decode the stream in process of decoding cannot be assured.<br>
Brief Description of Drawings<br>
Fig. 1 is a diagram showing a prediction structure, a decoding order and a display order of pictures.<br>
Fig. 2 is a diagram showing a prediction structure, a decoding order and a display order of the pictures.<br>
Fig. 3 is a block diagram showing a picture encoding apparatus for reaiizing a picture encoding method of the present<br><br>
invention described in a first embodiment.<br>
Fig. 4 is a flowchart showing an Operation of a reference picture control unit of the present invention described in the first embodiment.<br>
Fig. 5A, 5B and 5C are State diagrams showing a storage Status of the pictures in the memory.<br>
Fig. 6 is a flowchart showing an Operation of the picture encoding apparatus of the present invention described in a second embodiment.<br>
Fig. 7 is a flowchart showing an Operation of the picture encoding apparatus of the present invention described in a third embodiment.<br>
Fig. 8 is a flowchart showing an Operation of the picture encoding apparatus of the present invention described in a fourth embodiment.<br>
Fig. 9 is a block diagram showing a picture decoding apparatus for realizing a picture decoding method of the present invention described in a fifth embodiment.<br>
Fig. 10 is a flowchart showing an Operation of the picture decoding apparatus of the present invention described in the fifth embodiment.<br>
Fig. 11 is a flowchart showing another Operation of the picture decoding apparatus of the present invention described in the fifth embodiment.<br>
Fig. 12 is a flowchart showing yet another Operation of the picture decoding apparatus of the present invention described in the fifth embodiment.<br>
Fig. 13 is a flowchart showing another Operation of the picture decoding apparatus of the present invention described in the fifth embodiment.<br>
Fig. 14 is a block diagram showing a usage of a Virtual display delay buffer of a picture encoding apparatus.<br><br>
Fig. 15 is a block diagram showing a processing of post decoder buffer Operation for encoding according to the present invention.<br>
Fig. 16 is a block diagram showing a processing of post decoder buffer Operation for decoding according to the present invention.<br>
Fig. 17 is an example of using the Virtual display deiay buffer of the picture encoding apparatus for iimiting the maximum number of the reference pictures.<br>
Fig. 18 is an exampie of using the Virtual display delay buffer for deciding the time to display a first picture.<br>
Fig. 19 is an illustration of a storage medium in order to störe a program for realizing the picture encoding method and the picture decoding method of each embodiment in a Computing System, described in a seventh embodiment.<br>
Fig. 20 is a block diagram showing an overail structure of a content supply system described in a eighth embodiment.<br>
Fig. 21 is an outline view showing an example of a cell phone using the picture encoding/decoding method of the present invention described in the eighth embodiment.<br>
Fig. 22 is a block diagram of the cell phone.<br>
Fig. 23 is a block diagram showing an example of digital broadcasting system described in the eighth embodiment.<br>
Fig. 24 is a diagram showing a prediction structure, a decoding order and a display order of the pictures.<br>
Fig. 25 is a diagram showing a prediction structure, a decoding order and a display order of the pictures.<br>
Fig. 26 is a block diagram of the picture decoding apparatus for realizing the conventional picture encoding method.<br>
Fig. 27 is a mapping diagram showing examples of codes for a memory control commands MMCO.<br>
Fig. 28 is a block diagram of the picture decoding apparatus<br><br>
for realizing the conventional picture decoding method.<br>
Best Mode for Carrying Out the Invention<br>
The foilowing describes a first ernbodiment of the present invention.<br>
(First Ernbodiment)<br>
Fig. 3 is a block diagram showing a picture encoding apparatus for realizing a picture encoding method of the present invention. The same referential numbers are put for the devices that operate in the same manner as described in the block showing a picture encoding apparatus for realizing a conventional encoding method shown in Fig. 26 and the explanation is thereby abbreviated.<br>
Differences between the block diagram in Fig. 26 showing the picture encoding apparatus for realizing the conventional picture encoding method and the block diagram in Fig. 3 showing the picture encoding apparatus for realizing the picture encoding method according to the present invention are that a display picture control unit DisPicCtrl is added to Fig. 3 and that Instructions sent from the display picture control unit DisPicCtrl are outputted to a reference picture control unit RefPicCtrl and a picture memory PicMem2.<br>
In the picture encoding apparatus 100 shown in Fig. 3, a picture size modification unit PicSize for obtaining a picture size modified by externa! Operations as well as an encoding type of each picture (I-picture, P-picture and B-picture) from the picture structure determination unit PicStruct and outputting Information indicating the picture size to be modified to a reference picture control unit RefPicCtrl is newly set.<br>
The Operation of the picture memory PicMem2 is almost same as that of the picture memory PicMeml, therefore, only different Operations will be explained.<br><br>
The display picture controi unit DispPicCtrl obtains a picture time Time and judges whether a picture, which is not stored as it is not for reference, can be dispiayed immediately or not (whether it is necessary to störe the picture in the picture memory until its display time). The picture time Time, a Signal for specifying a picture to be dispiayed, is inputted from outside. The picture time can be obtained in the foilowing ways: from the time information outputted from the System for transmitting pictures via a transmission line such as a packet, from the time Information in process of formatting a Video stream and audio stream for multiplexing them; or from the time information in process of formatting a Video stream. The picture time may be either an absolute time which informs of the time for each picture or a relative time which informs of the order of the pictures. Moreover, the intervals of displaying pictures is normally fixed, therefore, the order ofdisplaying pictures may be considered as the display time.<br>
Now, the case in which the picture is immediately displayable is a case in which the picture gained after the calculation in the adder Add corresponds with the picture to be dispiayed indicated by the picture time Time. In this case, a picture to be dispiayed before the picture that is not yet dispiayed and outputted for encoding is not found in the picture memory PicMem2. When the picture is not immediately displayable, the display picture controi unit DispPicCtrl instructs the reference picture controi unit RefPicCtrl to störe the picture, even though it is not for reference, in the picture memory PicMem2 . Consequently, the picture which is not dispiayed immediately is stored in the picture memory PicMem2 without fail regardless of whether it is for reference or not and can be dispiayed out of the picture memory PicMem2 in the decoding apparatus,<br>
Fig. 4 is a flowchart showing an Operation of the reference picture controi unit RefPicCtrl of the present invention.<br><br>
The reference picture control unit RefPicCtrl judges whether or not a decoded picture (picture) is to be stored for reference for a predictive image (Step 10). When the decoded picture is to be used for reference, the Operation proceeds to Step 12, otherwise to Step 11.<br>
In Step 11, the reference picture control unit RefPicCtrl judges whether or not the decoded picture is immediately displayable. "Immediately displayable" here means that the decoded picture can be displayed at the time of being decoded (see for example Picture 1 in Fig. 1). The decoded picture which is not immediately displayable means that it needs to be displayed later (for instance, B5 shown in Fig. 1). When the picture is immediately displayable, the Operation is terminated, otherwise, goes on to Step 12.<br>
In Step 12, the reference picture control unit RefPicCtrl obtains an area capable of storing a picture in the picture memory PicMem2 and instructs to störe the decoded picture in the area obtained in the picture memory PicMem2 using a memory control command MMCO in Step 13.<br>
In this way, the picture which is not displayed immediately is stored in the picture memory PicMem2 and can be outputted for display from the picture memory PicMem2 when the time has come for its display. This does not require an unnecessary picture memory assigned for a picture for display and a picture that needs to be stored for display can be stored in the picture memory assigned for a picture for reference.<br>
The picture memory PicMem2 includes an area for reference in which a reference picture is stored for generating a predictive image and an area for display in which a picture for display is stored.<br>
Meanwhile, a picture size can be modified for each GOP (Group  Of Picture)  mentioned   before.     The  modification  of th£<br><br>
picture size takes place only when a vvhoie area for reference in the mennory storing an unnecessary reference picture is released (make the Status of the memory reusable).<br>
However, when the modification of the picture size takes place as described above, the picture for display that is not yet dispiayed is stored in the memory area, and it is necessary to determine expiicitly a coping strategy of how to handle this picture for display but not yet dispiayed (whether to delete it or to störe it until it is dispiayed).<br>
Here, a storing State of pictures in the memory when the change of the picture size takes place is explained in stages.<br>
Figs. 5A, 5B and 5C are State diagrams showing the storing Status of the pictures in the memory in stages.<br>
In 5A, pictures 200a, 200b and 200c are the pictures for reference (the pictures to be used for reference in order to generate a predictive image) whereas pictures 201a, 201b, 201c, 20ld, and 20le are the pictures for display (pictures to be dispiayed and not dispiayed yet).<br>
The pictures 201a, 201b, 201c, 201d and 201e will be dispiayed in the numeric order as shown in Fig. 5A.<br>
Fig. 5A illustrates the Status in which the whole memory areas assigned for the reference pictures 200a, 200b and 200c are released for the reusability.<br>
Fig. 5B shows that the picture size is modified following the Status shown in Fig. 5A. A reference picture 202a being modified to a bigger size is stored in the memory area in which the reference picture 200a has been stored. Furthermore, the picture for display 201a is outputted for display and its memory area is released.<br>
Fig. 5C shows a Status in which the memory area storing the picture for display 201b is released after the Status shown in Fig. 5B.    A reference picture 202b being modified into a bigger size is<br><br>
stored in the memory area in vvhich the pictures for display 201a and 201b have been stored and a smail memory area 203 is left. Even though the memory area storing the picture for display 201c is released, the reference picture (whose picture size is enlarged) cannot be newly stored.<br>
Thus, when the picture size is modified, the pictures of different picture sizes are mixed in the memory (the reference pictures whose picture sizes are enlarged and the pictures for display which are not yet displayed and whose sizes are not yet modified).<br>
Consequently, the memory is used fragmentarily, which produces a small memory area that cannot be used, and the usabiiity is thereby deteriorated. When the data in the memory is repositioned so that the small memory area caused by the modification of the picture size disappears, the memory access increases greatly and thereby it is difficult to realize encoding and decoding Operations in actual time.<br>
When the picture size is modified, two methods are conceivable. The first method is to release the area for display in which the pictures for display that are not yet displayed are stored and the area for reference in which the reference pictures are stored (as a reusable State) and gives up the display of the pictures for display that are not yet displayed. This can prevent the fragmentary use of the memory caused by the mixture of the pictures of different sizes and thereby the deterioration in the usabiiity of the memory can be reduced.<br>
The modification in the picture size described above takes place as described in the following. The picture size modification unit PicSize shown in Fig. 3 receives the encoding type (I-picture, P-picture and B-picture) of each picture determined by the picture structure determination unit PicStruct and the picture size for the modification inputted from outside and Outputs to the referencö<br><br>
picture control unit RefPicCtrl an Instruction to modify the picture size with the timing to Start encoding I-picture. The I-picture is a special I-picture (IDR (Instantaneous Decoding Refresh) picture) to be inserted, for exampie, in the beginning of the GOP.<br>
The second method is to switch a method to release the whole area of the memory and discard the pictures for display that are not yet displayed and a method to release only the area for reference in which the reference pictures are stored and display the pictures for display that are not yet displayed before the size modification takes place with a judgment made by a picture decoding apparatus (decoder) for decoding an encoded signal (stream) that is referred to later on so that the display of the pictures for display that are not yet displayed is not obligatory. In this case, the picture decoding apparatus displays the displayable pictures, for instance, the undamaged pictures according to the display order.<br>
For operating such switching, Instruction Information (flag) indicating one of the following methods: the method to release the whole area of the memory; and the method to release only the area for reference in which the reference picture is stored, or other identifiable information is contained in the stream Str outputted from the picture encoding apparatus 100.<br>
On the side of the picture decoding apparatus, the processing is operated based on the instruction information placed in the stream.<br>
The following examples are conceivable for the judging criteria in order to switch the two methods indicated by the instruction information: a content creator may decide the method according to an application; only the area for reference is released but not the area for display storing a picture for display that is not yet displayed (not releasing the whole area of the memory) when memory can afford to provide the space.<br><br>
With the above construction, the picture encoding apparatus can be realized to solve the existing problems.<br>
(Second Ernbodiment)<br>
The following describes a second ernbodiment of the present invention.<br>
In the present ernbodiment, the display picture control unit DispPicCtrl shown in Fig. 3 instructs the picture memory PicMem2 not to störe a picture newly in the area storing the picture that is not yet displayed, when a picture is stored in the released memory area. Normally, even an area for picture is released, a picture stored right before can be reproduced as long as a picture is not newiy stored (overwritten) in the area. Even if a memory area in which the picture that is not yet displayed is released, the picture that is not yet displayed and is released at the time of display but is left without being overwritten can be displayed by storing a picture newly not in the memory area but in the area where the picture that is already displayed is stored. The picture in the released picture area of the picture memory is called picture for display. "Already displayed" here is practically synonymous with "already outputted to a display device".<br>
Fig. 6 is a flowchart showing an Operation of the picture encoding apparatus 100 of the present ernbodiment. The present ernbodiment characterizes in determining the storage of the picture by judging whether the picture stored in the released area in the memory is already displayed or not.<br>
Firstly, in Step 20, the picture encoding apparatus 100 judges whether or not the decoded picture is to be stored in the picture memory PicMem2 based on the Instructions indicated in the memory control command MMCO.<br>
In the case of storing the decoded picture in the picture memory, the released picture area is obtained (Step 21) and whether a picture stored in the released picture area is already<br><br>
displayed or not is veriffed (Step 22).    When it is not yet displayed, the Operation goes back to Step 21 and the processing continues until the released area in which the picture already displayed has been stored is found.<br>
When such released area is found, the decoded picture is stored in the area (Step 23).<br>
Thus, when the picture to be displayed is displayed, the picture that is not yet displayed is stored in the memory without being overwritten until its display time since the area storing the displayed picture is reused.<br>
Whether a picture stored in the memory is already displayed or not can be judged by the display picture control unit DispPicCtrl managing Information on whether or not the picture is displayed.<br>
Whether a picture area is a released area or not can be judged by referring to the information on whether or not each picture area is released, for instance, uused (usable as a reference picture)" or "unused (no I.onger used as a reference picture)" stored in the picture memory PicMem2 according to the memory control command MMCO.<br>
With the above structure, the picture encoding apparatus of the present invention can be realized so as to overcome the existing problems.<br>
Thus, overwriting of a picture newly to the picture that is not yet displayed can be prevented so that the latter picture can be outputted for display from the area that is already released but not overwritten at the display time. The picture that needs to be stored for display can be stored without requiring an unnecessary memory.<br>
As the Operation in the case which requires the modification in the picture size is same as in the first embodiment, the explanation is abbreviated.<br><br>
(Third Embodiment)<br>
The foliowing describes a third embodiment of the present invention.<br>
Fig. 7 is a flowchart of an Operation of the picture encoding apparatus 100 of the third embodiment of the present invention. The present embodiment characterizes in determining the storage of the picture according to the time when the memory is released.<br>
Firstly, in Step 30, the picture encoding apparatus 100 judges whether or not the decoded picture is to be stored in the picture memory PicMem2 based on the Instruction indicated in the memory controi command MMCO.<br>
In the case of storing the decoded picture in the picture memory, the released picture memory area whose dispiay time is the earliest within released area is obtained (Step 31) and the decoded picture is stored in the obtained area (Step 32).<br>
The memory area in which the picture is decoded and stored at the earliest time instead of the memory area released at the earliest dispiay time may be allocated as an area to störe the picture. For, there is a high possibility that the pictures stored in these memory areas are aiready displayed.<br>
These earliest times are not necessarily based on time and may be the earliest time according to an order, for instance, it may be the earliest time according to a dispiay order. For example, it is highly possible that a picture whose dispiay order is the earliest is aiready displayed and a memory area storing such picture can be reused in turn as a storing area in the memory regardless of whether it is aiready displayed or not. Normally, the intervals of displaying pictures is regulär, therefore, the order of displaying pictures may be considered as the dispiay time.<br>
Thus, overwriting of a picture newly onto the picture that is not yet displayed can be prevented so that the latter picture can be outputted for dispiay from the area that is aiready released but not'<br><br>
overwritten at the dispiay time. The picture that needs to be stored for dispiay can be stored without requiring an unnecessary memory. The processing of storing the picture which needs to be stored for dispiay can be carried out regardless of whether the picture stored in the picture memory PicMem2 is already displayed or not. When the earliest time indicates the earliest time in dispiay time, whether or not the picture is stored at the earliest time can be judged by the dispiay picture control unit DispPicCtrl managing the information on whether or not the picture is. displayed.<br>
As an Operation in a case in which a modification of a picture size is required is same as the one described in the first embodiment, the explanation is abbreviated.<br>
(Fourth Embodiment)<br>
The following illustrates a fourth embodiment of the present invention.<br>
Fig. 8 is a flowchart showing an Operation of the picture encoding apparatus 100 according to the fourth embodiment of the present invention. The present embodiment characterizes in determining a storage of the picture according to an order of releasing the memory.<br>
Firstly, in Step 40, the picture encoding apparatus 100 judges whether or not the decoded picture is to be stored in the picture memory PicMem2 based on the Instruction indicated in the memory control command MMCO.<br>
In the case of storing the decoded picture in the picture memory, the picture memory area released at the earliest time within released area is obtained (Step 41) and the decoded picture is stored in the obtained area (Step 42).<br>
Since it is.a System who manages the information on dispiay time,   it  is  difficult to  obtain  the  dispiay  time  depending  on  a<br><br>
rnethod to fabricate a Video decoding apparatus. It is highly possibie that the picture with the earliest dispiay time is stored in the area firstly released than the area reieased at the later time. Namely, it is with high possibility that the picture firstly released is already displayed. Therefore, there is a high possibility that the picture that is not yet displayed is not overwritten when the decoded picture is stored in the picture area firstly released.<br>
Whether the picture area is a released area or not can be judged by referring to the information on whether or not each picture area is released, for instance, "used (usable as a reference picture)' or "unused (no longer used as a reference picture)' that is stored in the picture memory PicMem2 according to the memory control command MMCO. Or, the usage of the picture area can be fixed beforehand to a predetermined procedure in order to judge whether the picture area is the one that is firstly released according to the procedure. For example, this can be judged by the picture memory PicMem2 functioning as a memory using a first-in first-out (FIFO) rnethod by which the contents of record whose time records that picture is to be stored newly is sequentially discarded in turn and the latest pictures of a fixed number of frames (or number of pictures) are always stored. Thus, overwriting a picture newly to a picture that is not yet displayed can be prevented so that the latter picture can be outputted for dispiay from the area that is already released but not overwritten at the dispiay time.<br>
As an Operation in the case in which the modification of the picture size is required is same as the one described in the first embodiment, the explanation is abbreviated.<br>
(Fifth Embodiment)<br>
The following illustrates a fifth embodiment of the present invention.<br><br>
Fig. 9 is a block diagram of a picture decoding apparatus for reaiizing the picture decoding method of the present invention. The same referential numbers are put for the devices that operate in the same manner as a picture encoding apparatus for reaiizing the picture encoding method according to the present invention shown in the block diagram of Fig. 3 and a picture decoding apparatus for reaiizing the conventional picture decoding method shown in the block diagram of Fig. 28 and the explanation is thereby abbreviated.<br>
The difference between the picture decoding apparatus 150 shown in Fig. 9 and the example of conventional apparatus shown in Fig. 28 is that a picture size modification detection unit PicSizeDet and a display picture control unit DispPicCtrl are newly set. The picture size modification detection unit PicSizDet Outputs a command to modify the picture size in the timing of starting encoding of a special I-picture (IDR picture) based on the picture size for the modification obtained from outside and the memory control command MM CO obtained from the variable length decoding unit VLD.<br>
The display picture control unit DispPicCtrl instructs the picture memory PicMem2 not to störe a picture newly in the area for the picture that is not yet displayed when storing the new picture in the reieased area. Normally, even though an area for a picture is reieased, data of a picture that is stored right before is left in the memory and can be reproduced as long as a picture is not newly stored (overwritten) in the area. The picture that is reieased at the time of display but left without being overwritten can be displayed by storing a picture newly in the area where the picture that is already displayed is stored even if the memory area in which the picture that is not yet displayed is reieased. "Already displayed" here is practically synonymous with "already outputted to a display device".<br><br>
Thus, when the picture to be displayed is displayed, the picture that is not yet displayed is stored in the memory without being overwritten until its display tirne since the area storing the displayed picture is reused.<br>
With the above structure, the picture decoding apparatus of the present invention can be realized in order to overcome the existing probiems. The picture decoding apparatus 150 may decode an encoded Signal that is encoded by the picture encoding apparatus 100 shown in the third and fourth embodiments. In this case, the Operation for the use of the picture memory is as same as the one described for the picture encoding apparatus shown in the third and fourth embodiments. Namely, for the reusability of the picture area that is reieased (no ionger used for reference) in the picture memory, either method of deciding the area for the picture to be newly stored described in the first through third embodiments may be employed,<br>
The foilowing describes methods of storing the picture in the memory when decoding the encoded Signal encoded by the picture encoding apparatus shown in the third and fourth embodiments.<br>
Firstly, the method of storing the picture in the memory at the time of decoding the encoded signal encoded by the picture encoding apparatus shown in the third embodiment is explained.<br>
The picture decoding apparatus 150 judges whether or not the decoded picture outputted from the addition unit Add in the picture decoding apparatus 150 is to be stored in the picture memory PicMem2 based on the instruction indicated in the memory control command MMCO.<br>
When storing the decoded picture in the picture memory, the picture memory area firstly reieased is obtained and the decoded picture is stored in the obtained area.<br>
Here, the memory area in which the picture is decoded and stored at the earliest time or the memory area in which the picture<br><br>
with the earliest dispiay time is stored instead of the memory area that is released at the earliest time may be allocated as an area to störe the picture. For there is a high possibility that the pictures stored in these memory areas are aiready displayed.<br>
Since it is a System that manages the Information on dispiay time, it is difficult to obtain the dispiay time depending on a method to fabricate a picture decoding apparatus. It is highly possible that the picture with the earliest dispiay time is stored in the area in which the picture is stored at the earliest time than the one in which the picture is stored at the later time. It is with high possibility that the picture stored at the earliest time is aiready displayed since it is natural that the picture with early dispiay time is aiready displayed. Therefore, there is a high possibility that the picture that is not displayed yet is not overwritten when the decoded picture is stored in the area in which the picture stored at the earliest time has been stored. When the earliest time corresponds with the earliest time when the picture is encoded, whether the picture is encoded at the earliest time, for instance, can be judged by the prediction structure and the decoding order of the picture.<br>
These earliest times are not necessarily based on time and may be the earliest time according to an order, for instance, it may be the earliest time according to a dispiay order. For example, it is highly possible that a picture whose dispiay order is the earliest is aiready displayed and a memory area storing such picture can be reused in turn as a storing area in the memory regardless of whether it is aiready displayed or not. Norrnally, the intervals of displaying pictures is regulär, therefore, the order of displaying pictures may be considered as the dispiay time.<br>
Thus, overwriting of a picture newty onto the picture that is not yet displayed can be prevented so that the latter picture can be outputted for dispiay from the area that is aiready released but not<br><br>
overwritten at the display time. Also, the picture that needs to be stored for display can be stored without requiring an unnecessary memory.<br>
The processing of storing the picture which needs to be stored for display can be carried out regardless of whether the picture stored in the picture memory PicMem2 is already displayed or not. When the earliest time indicates the earliest time in display time, whether or not the picture is stored at the earliest time can be judged by the display picture control unit DispPicCtri managing the Information on whether or not the picture is displayed.<br>
The foliowing describes a method of storing a picture in the memory when decoding the encoded signai encoded by the picture encoding apparatus shown in the fourth ernbodiment.<br>
The picture decoding apparatus 150 judges whether or not the decoded picture outputted from the addition unit Add mentioned above of the picture decoding method 150 is to be stored in the picture memory PicMem2 based on the Instruction indicated in the memory control command MMCO.<br>
In the case of storing the decoded picture in the picture memory, the picture memory firstly released is obtained and the decoded picture is stored in the obtained area.<br>
Since it is a System that manages the information on display time, it is difficult to obtain the display time depending on a method to fabricate a Video decoding apparatus. It is highly possible that the picture with the earliest display time is stored in the area firstly released than the area released at the later time. Namely, it is likely that the picture firstly released is already displayed, Therefore, there is a high possibility that the picture that is not yet displayed is not overwritten by storing the decoded picture in the picture area firstly released.<br>
Whether the picture area is a firstly released picture area or<br><br>
not can be judged by referring to the information on whether or not each picture area is released, for instance, "used (usable as a reference picture)" or "unused (no longer used as a reference picture)7', that is stored in the picture memory PicMem2 according to the mernory control command MMCO, including the order of releasing the pictures. Or, the usage of the picture area can be fixed beforehand to a predetermined procedure in order to judge whether the picture area is the one that is firstly released according to the procedure. For example, this can be judged by the picture memory PicMem2 functioning as a memory using a first-in first-out (FIFO) method by which the contents of record with old recording time is sequentially discarded when the new data is recorded so that the latest pictures of a fixed number of frames (or number of pictures) are always stored.<br>
Thus, overwriting of a picture newly to a picture that is not yet displayed can be prevented and the picture can be outputted for display from the area that is already released but not overwritten at the display time.<br>
The display unit Disp may be installed in the exterior of the picture decoding apparatus 150 in stead of being included in it so that the picture decoding apparatus 150 may send only the data necessary for displaying a picture at the display unit Disp.<br>
Here, an Operation of the picture decoding apparatus 150 when  the  picture size  is modified,  as already explained   in  the second embodiment, is illustrated.    However, the Operation is as same as the one described in the third and the fourth embodiments, therefore, the explanation is abbreviated.<br>
A method corresponding to the first method in the case in which the picture size is modified shown in the second embodiment is that the picture decoding apparatus 150 releases a whole area in the memory including the area for reference in which the reference picture is stored and the area for display in which the picture for<br><br>
display   is   stored   and   performs   initialization   vvhen   receiving   a command to modify the picture size.<br>
Fig. 10 is a flowchart showing an Operation of the picture encoding apparatus 150.<br>
The picture encoding apparatus 150 judges whether or not a Signal outputted from the picture size modification detection unit PicSizeDet indicates a modification of a picture size (Step 100). When it does (Yes in Step 100), the picture encoding apparatus 150 releases a whole memory area of the picture memory PicMem2 (as a reusable State), initializes it (Step 102) and ends the processing,<br>
When the picture size is not modified (No in Step 100), the picture decoding apparatus 150 judges whether or not the memory control command MMCO outputted from the variable length decoding unit VLD indicates the release (initialization) of the whoie memory area in the picture memory PicMem2 (Step 101) and if it does (Yes in Step 101), releases the whole memory area (Step 102), if not (No in Step 101), release only the area for reference in which the reference picture is stored (Step 103) and ends the processing.<br>
Thus releasing the whole area of the memory prevents the fragmentary use of the memory caused by the mixture of the pictures of different sizes and thereby the deterioration in the usability of the memory can be reduced.<br>
Next, an Operation of the picture decoding apparatus 150 corresponding to the second method in the case of the modification of the picture size shown in the second embodiment is explained.<br>
In the case of modifying the picture size, the methods are switched from one to the other: a method of releasing the whole area of the memory or a method of releasing only the area for reference in which the reference picture is stored and displaying the displayable picture out of the pictures that are not yet displayed   with   the   judgment   made   by   the   picture   decoding<br><br>
apparatus 150.<br>
As  described   in   the  second  embodiment,   the   Instruction Information (flag) indicating either to release the whole memory _ area or to release only the area for reference is contained in the memory control command MMCO in the stream Str outputted from the picture encoding apparatus 100.<br>
The picture decoding apparatus 150 determines either of the two methods described above based on the instruction Information contained in the memory control command MMCO.<br>
Fig. 11 is a flowchart showing a determination Operation.<br>
Firstly, the picture decoding apparatus 150 judges whether or not the Instruction Information (flag) indicates the initialization of the whole area of the memory (Step 150). When it indicates the initialization of the whole area (Yes in Step 150), the picture decoding apparatus 150 releases the whole area, for initialization, including the area for display storing the picture for display that is not yet displayed (Step 151), otherwise (No in Step 150), releases only the area for reference for initialization (Step 152).<br>
When the instruction information (flag) does not indicate the initialization of the whole area, the picture decoding apparatus 150 releases only the area for reference. As for thepicture that is not displayed yet and stored in an area other than the area for reference, the picture decoding apparatus 150 judges the picture and displays the displayable.<br>
The following describes the Operation of the picture decoding apparatus 150 in the case of initializing only the area for reference, with reference to a flowchart.<br>
Fig. 12 is a flowchart showing an Operation of the picture decoding apparatus 150 (decoder).<br>
The picture decoding apparatus 150 judges whether or not the signal outputted from the picture size modification detection unit PicSizeDet indicates a modification of a picture size (Step 200).<br><br>
Unless it indicates the modification of the picture size (Nö in Step 200), the picture decoding apparatus 150 dispiays the picture to be displayed that is not yet displayed stored in the area for display (Step 203).<br>
Meanwhile, when the Signal indicates the modification of the picture size (Yes in Step 200) the picture decoding apparatus 150 determines whether or not the picture for display stored in the area for display is the one before the modification of the size takes place (Step 201). When it is not the case (No in Step 201), the picture decoding apparatus 150 dispiays the picture to be displayed that is not yet displayed (Step 203). When it is the case (Yes in Step 201), the picture decoding apparatus 150 judges whether or not the picture for display is displayable or not and display it based on the judgment (Step 202)<br>
The following describes an Operation of the picture decoding apparatus 150 for a judgment on whether the picture cari be displayed or not.<br>
Fig. 13 is a flowchart showing the Operation of the picture decoding apparatus 150 with regards to a display of the picture.<br>
In Fig. 13, the same marks are put for the same processing as described in Fig. 12.<br>
The picture decoding apparatus 150 judges whether or not the picture for display stored in the area for display is the one before the modification of the size takes place (Step 201). When the picture is not the one before the modification takes place (No in Step 201), the picture decoding apparatus 150 dispiays the picture. On the other hand, when the picture is the one before the modification takes place (Yes in Step 201), the picture decoding apparatus 150 determines whether the picture to be displayed is damaged or not (Step 211). When the picture is not damaged (No in Step 211) the picture is considered as displayable and thereby displayed (Step 210).    When it is damaged (Yes in Step 211), the<br><br>
preceding picture; for instance, is dispiayed instead. Here, not being damaged means that the picture to be dispiayed is not overwritten so that a new picture data is stored even the picture is a part of a picture being stored. In this way, the picture decoding apparatus 150 judges whether or not the picture to be dispiayed is damaged, determines the undamaged picture as displayable and displays it.<br>
Thus, as explained in the flowcharts of Figs. 11, 12 and 13, the picture decoding apparatus 150 dispiays the picture that is not dispiayed yet according to the Instruction information (flag) indicating whether or not to initialize the whoie area ofthe memory when the modification of the picture size takes place.<br>
Owing to the picture decoding method of the picture decoding apparatus 150 as described above, an appropriate decoding is realized by switching either to initialize the whole area of the memory or to initialize only the area for reference and display the picture for display that is not yet dispiayed even when the modification of the picture size is performed. Namely, when the free area in the memory is small, for instance, the whole area in the memory is initialized for reuse whereas when it is large, the case can be handled flexibly by allowing the display of the picture that is not yet dispiayed after initializing only the area for reference.<br>
(Sixth Embodiment)<br>
The following terms are used in a sixth embodiment. Namely, a reference picture buffer is an area combining an area for reference and the one for display in the picture memory PicMem2 in a picture encoding apparatus. A-Virtual "display delay buffer is a Virtual buffer for each picture for displ'ay to be stored in the area for display that is retained in the picture memory PicMem2 in the picture    encoding    apparatus    and    Stores    temporal    reference<br><br><br>
memory PicMem2 in a picture decoding apparatus. A post decoder buffer is an area for display in the picture memory PicMem2 in the picture decoding apparatus. The temporal reference numbers are the numbers that are assigned for the pictures according to the order of display time and may be an equivalent of the picture time Time.<br>
Firstly, the explanation Starts with the picture encoding apparatus. The Virtual display delay buffer is used to limit the maximum number of the reference pictures used for predictive encoding performed by the picture encoding apparatus.<br>
Fig. 14 shows processing of determining a relationship between the Virtual display delay buffer and the maximum number of the backward reference pictures. Each module in Fig. 14 presents a function block or a processing step of a picture structure determination unit PicStruct, a reference picture control unit RefPicCtrl and a display picture control unit DispPicCtrl. As shown in the diagram, the maximum number of the reference pictures allowed, NR for this profile and level is determined in module 401. This value is defined for each profile and level and thereby the encoder encodes the value of profile/level, an equivalent of NR, as Information on a stream and a decoder obtains NR according to the value of profile/level in the stream. The picture encoding apparatus, then set the maximum number of backward reference pictures, NB, optimal for encoding a Video sequence in module 402. The size of the Virtual display delay buffer can be determined based on this NB vaiue. When the NB is less than 2, the Virtual display delay buffer is not required. However when NB is greater than or equal to 2, a Virtual display delay buffer that can störe NB-1 number of pictures is created in module 404. The Information on the picture stored. in the Virtual display delay buffer is retained in<br><br><br>
encoding apparatus, This is because only the descriptions of the reference pictures (picture numbers or the like) for identifying not a whole part of the reconstructed (decoded) picture but which reconstructed picture are stored in the Virtual display deiay buffer since the judgment to see which picture is stored in the Virtual display delay buffer for its display unless the picture decoded by the picture decoding apparatus needs to be displayed (outputted). Besides the Virtual display delay buffer, a display counter is created in module 405 and the value is retained either in the memory or in any register. The display counter is used to judge whether to remove an unnecessary picture from the Virtual display delay buffer. The picture encoding apparatus then generates a picture size for NR number of reference pictures in the memory space based on the profiie and ievel definition.<br>
Maximum Virtual display delay buffer size=  NB-1	(1)/<br>
where NB<nr></nr>
Fig. 15 shows the post encoding processing in the picture encoding apparatus, that is, a processing of storing a picture decoded after being encoded (referred to as an encoded picture or simply a picture) in the reference memory buffer. The module in the diagram presents a function block or a processing step in the reference picture control unit RefPicCtrl and the display picture control unit DispPicCtrl. After a Single picture is encoded in module 501, whether or not the picture is to be used as a reference picture is determined in module 502. When the picture is a reference picture, the maximum number of the possible reference pictures is calculated based on equation (2).<br>
NMax= NR -FV	(2)<br>
Here, NMax presents the maximum number of the possible reference pictures whereas NR presents the maximum number of<br><br>
the reference pictures allowed in the profiie and level definition. Fv presents a Virtual display deiay buffer fuliness, that is, the number presentiy used out of the size of the Virtual display delay buffer (NB-1).<br>
When the number of the reference pictures in the reference picture    buffer   is   less   than    NMax,    the   encoded    picture   is reconstructed (decoded) in module 506 and stored in the reference picture buffer in module 507.    When there isn't sufficient space, the picture encoding apparatus retains a necessary area in the reference  picture  buffer by  removing  certain  unused  reference pictures (no longer used as reference pictures) from the buffer, as shown   in   module  504.     When  there  are  no  unused   reference pictures to be removed from the buffer, the encoded picture is not used as a reference picture.    When the encoded picture is not a reference picture, the temporal reference number of the encoded picture is compared with the one indicated at the display counter in module   505.      When   the   temporal   reference   number   of   the non-reference picture is less than the one indicated at the display counter, the Virtual display delay buffer is updated in module 508. In module 508, the Virtual display delay buffer removes the picture having the temporal reference number equal to or earlier than the one   indicated   at  the   display   counter   and   adds   the   temporal reference number of the current non-reference picture into the buffer.    The number of the pictures in the Virtual buffer having the temporal  reference number less than  the one indicated  in  the display counter becomes the fuliness of the buffer.    The display counter only Starts updating Operation with initiative when the number of the encoded picture equals to NB or when the Virtual display counter is füll, no matter which may be earlier.    After that, the display counter is updated for every picture that is encoded in module 509.<br>
Fig. 16 shows the post decoding processing in the picture<br><br>
decoding apparatus, that is, processing of storing a picture decoded by the picture decoding apparatus (referred to as a decoded picture or simply a picture) in the reference picture buffer. The modules in the diagram show the function blocks or the processing steps in the display picture control unit DispPicCtrl. A picture is decoded in module 601. In.module 602, the picture decoding apparatus determines whether or not the picture needs to be stored as a reference picture. If the decoded picture is to be stored as a reference picture, it is stored in the reference picture buffer in module 606, otherwise, the picture decoding apparatus examines whether it is time to display (output) this picture in module 603. If the time has not come yet for the picture to be displayed (outputted), the picture is stored in the post decoder buffer in module 604 until its display time. Both the post decoder buffer and the reference picture buffer share physically the same memory area. In other words, each area of the same memory can be used as a reference picture buffer for some occasions and as a post decoder buffer for other occasions.<br>
In module 605, the picture decoding apparatus then determines a picture to be displayed (outputted) either from the reference picture buffer or the post decoder buffer based on the display timing. Once a picture from the post decoder buffer is displayed (outputted), it is removed from the buffer. On the other hand, a reference picture is only to be removed from the reference picture buffer or shifted to the post decoder buffer when the stream indicates that the reference picture is no longer used for reference.<br>
Fig. 17 is an example of a method using a Virtual display delay buffer for determining the maximum number of reference pictures at each picture interval. In this, example, the maximum number of reference pictures allowed, NR, shall be 4. The picture encoding   apparatus   sets   the   maximum   number   of   backward<br><br>
reference pictures, NB, to be 3. Thus, Virtual display delay buffer in which two pictures are storable is generated (the area is retained). The display counter is used for storing and updating the temporal reference number of the picture to be virtually ' displayed (outputted). In the reference memory buffer shown in the diagram, the vacant area shows that the area is vacant, the area described with its picture type and the number shows that the picture for reference is stored, and the hatched area shows that the picture for display is stored. Also, in the Virtual display delay buffer, the vacant area shows that the area is vacant, the area described with its picture type and the number shows that the temporal reference number of the picture for display in the reference memory buffer is stored and the hatched area shows that the reference memory buffer does not have a storing area for the picture for display. The Virtual display delay buffer whose number corresponds to the number of the hatched area in the reference memory buffer Stores the temporal reference numbers of the pictures for display.<br>
As shown in the diagram, the pictures B2 and B3 are used as reference pictures and thereby they are stored in the reference memory buffer together with 10 and P4, and the display counter Starts updating after the picture B3 is encoded. At time T6, B5 is not used as a reference picture, however, this is because the temporal reference number is greater than the one indicated at the display counter and nee'ds to be updated by the Virtual display delay buffer. Therefore, the fullness of the Virtual display delay buffer Fv at that time is 1 and the maximum number of possibie reference pictures NMax is 3.<br>
Similarly at time T7, the picture B6 needs to be updated by the Virtual display delay buffer whereas B5 cannot be removed yet due to its temporal reference number greater than the one indicated   at   the   display   counter.   , Thus,   NMax   at   that   time<br><br>
indicates 2, The reference picture 10 has to be removed from the reference memory buffer due to the insufficient memory. B7 at that time then can be predicted only with the use of P4 and P8.<br>
Fig. 18 shows an example in which the display counter is firstly incremented using the Virtual display delay buffer. NR shall be 5 in the example. The picture encoding apparatus sets the maximum number of multiple backward reference pictures NB to be 3. Thus a Virtual display delay buffer in which two pictures are storable is generated.<br>
As shown in the diagram, Bl, B2, B3 and B4 are not used for reference pictures whereas B7 and B8 are. Bl and B2 are therefore stored in the Virtual display delay buffer at time T3 in order to wait for the display. Since the Virtual display delay buffer is füll at time T3, the display counter Starts updating at time T3. The reason why the display counter needs to wait at least until the Virtual display delay buffer becomes füll before it can Start updating is that it needs to handle the reordering of the B-pictures that is likely to occur in the picture decoding apparatus.<br>
As shown in Fig. 17, the picture decoding apparatus sometimes use a part of the reference picture buffer as a post decoder buffer. The picture decoding apparatus therefore operates the reference picture buffer based on a fixed physical memory size of the reference picture buffer so that some parts of the reference picture buffer are used for reference pictures and the rest is used as the post decoder buffer. For example, at time T3, the whole reference picture buffer is used to störe reference pictures whereas at time T7, only two areas of the reference picture buffer are used to störe the reference pictures of P4 and P8. The rest is used to störe post decoder pictures B5 and B6.<br>
The maximum number of the reference pictures to be used at the picture decoding apparatus side is defined in the profile and level definition for the picture encoding apparatus.    The picture<br><br>
encoding apparatus therefore can use up to the maximurn nurnber of the reference pictures defined by the profile and level. Thus, it is required that the picture encoding apparatus controls the reference pictures and performs encoding so that the same Operation can be realized (the number of reference pictures does not surpass the predetermined value) when the picture decoding apparatus operates based on the constraint conditions.<br>
Similarly, the picture decoding apparatus has the same number of reference pictures as the picture encoding apparatus does. In addition, additional memory Space is needed for the post decoder buffer. The maximurn number of post decoder pictures is defined by equation (3).<br>
NP= NR -2	(3)<br>
Here, Np presents the maximurn number of post decoder pictures whereas NR presents the maximurn number of the reference pictures defined by the profile and level definition.<br>
The maximurn number of post decoder pictures shall be therefore considered in the design of the picture decoding apparatus so that the picture decoding apparatus complies with the profile and level definition. The maximurn number of the post decoder pictures can be either calculated with the use of the equation (3) or specified in the profile and level definition. Once the maximurn number of post decoder pictures is specified in the profile and level definition, the maximurn number of backward prediction pictures can be calculated based on equation (4).<br>
NB - NP +1	(4)<br>
Here, NB presents the maximurn number of backward prediction pictures in the reference picture buffer. In the present embodiment, NB presents the minimum memory requirements required by the picture decoding apparatus so as to decode a stream compiying with the profile and level definition.<br>
It  is   possible  to   limit  the   number  of  pictures   used   for<br><br>
backward prediction in order to reduce the number of the additional post decoder pictures added to the reference picture buffer by the side of the picture decoding apparatus. For example, when the maximum number of the pictures used for backward ' prediction is limited to 2, oniy one additional post decoder picture is required to be added to the reference picture buffer, which can prevent the allocation of unnecessary physical memory space for the post decoder pictures on the side of the picture decoding apparatus.<br>
(Seventh Embodiment)<br>
Furthermore, it is possible to easily perform the processing shown in the above embodiments in an independent Computing system by recording a program for realizing the picture encoding method and the picture decoding method shown in the above-mentioned embodiments onto the storage medium such as a flexible disk.<br>
Fig. 19 is an Illustration for realizing the picture encoding/decoding method of the above embodiments using a program recorded onto a storage medium like a flexible disk.<br>
Fig. 19B shows a füll appearance of a flexible disk, its structure at cross section and the flexible disk itself whereas Fig. 19A shows an example of a physical format of the flexible disk as a main body of a storing medium. A flexible disk FD1 is contained in a case F, a plurality of tracks Tr are formed concentrically from the periphery to the inside on the surface of the disk, and each track is divided into 16 sectors Se in the angular direction. Therefore, as for the flexible disk storing the above-mentioned program, data as the aforementioned program is stored in an area assigned for it on the flexible disk FD1.<br>
Fig. 19C shows a structure for recording and reading out the program on the flexible disk FD1.    When the program is recorded<br><br>
ort the flexible disk FD1, the Computing System Cs writes in data as the program via a flexible disk drive FDD. When the picture encoding method and the picture decoding method for realizing the picture encoding method and the picture decoding method as the . program on the flexible disk are constructed in the Computing system, the program is read out from the flexible disk by the flexible disk drive FDD and then transferred to the Computing System Cs.<br>
The above explanation is made on an assumption that a storing medium is a flexible disk, but the same processing can also be performed using an optica! disk. In addition, the storing medium is not limited to a flexible disk and an optica! disk, but any other medium such as an IC card and a ROM cassette capable of recording a program can be used.<br>
(Eighth Embodiment)<br>
The following is an explanation of the appiications of the picture encoding method as well as the picture decoding method as shown in the above-mentioned embodiments, and a System using them.<br>
Fig. 20 is a block diagram showing an overall configuration of a content supply System exlOO for realizing content distribution service. The area for providing communication Service is divided into cells of desired size, and cell sites exl07~exll0 which are fixed wireless stations are placed in respective cells.<br>
This content supply system exlOO is connected to devices such as Internet exlOl, an Internet service provider exl02, a telephone network exl04, as well as a Computer exlll, a PDA (Personal Digital Assistant) 6x112; a camera exll3, a cell- phone exll4 and a cell phone with a camera exll5 via the cell sites exl07~exll0.<br>
However, the content supply system exlOO is not limited to<br><br>
the configuration as shown in Fig. 20 and may be connected to a combination of any of them. Also; each device may be connected directly to the telephone network 6x104, not through the cell Sites exl07~exll0.<br>
The camera exll3 is a device capable of shooting Video such as a digital video camera. The cell phone exll4 may be a cell phone of any of the following system: a PDC (Personal Digital Communications) system, a CDMA (Code Division Multiple Access) system, a W-CDMA (Wideband-Code Division Multiple Access) System or a GSM (Global System for Mobile Communications) System, a PHS (Personal Handyphone System) or the like.<br>
A Streaming server exl03 is connected to the camera exll3 via the telephone network exl04 and also the cell site exl09, which realizes a live distribution orthe like using the camera exll3 based on the coded data transmitted from the user. Either the camera exll3 or the server which transmits the data may code the data. Also, the picture data shot by a camera exll6 may be transmitted to the Streaming server exl03 via the Computer exlll. In this case, either the camera exll6 or the Computer exlll may code the picture data. An LSI exll7 included in the Computer exlll or the camera exll6 actually performs encoding processing. Software for encoding and decoding pictures may be integrated into any type of storage medium (such as a CD-ROM, a flexible disk and a hard disk) that is a recording medium which is readable by the Computer exlll or the like. Furthermore, a cell phone with a camera exll5 may transmit the picture data. This picture data is the data encoded by the LSI included in the cell phone exll5.<br>
The content supply system exlOO encodes contents (such as a music live Video) shot by a user using the camera exll3, the camera exll6 or the like in the same way as shown in the above-mentioned embodiments and transmits them to the Streaming server exl03, while the Streaming server exl03 makes<br><br>
stream distribution of the content data to the clients at their requests. The clients include the Computer exlll, the PDA exll2, the camera exll3, the cell phone exll4 and so on capable of decoding the above-mentioned encoded data. In the content . supply System exlOO, the clients can thus receive and reproduce the encoded data, and can further receive, decode and reproduce the data in real time so as to realize personal broadcasting.<br>
When each device in this System performs encoding or decoding, the picture encoding method or the picture decoding method shown in the above-mentioned embodiments can be used,<br>
A cell phone will be explained as an example of the device.<br>
Fig. 21 is a diagram showing the cell phone exll5 using the picture encoding method and the picture decoding method explained in the above-mentioned embodiments. The cell phone exll5 has an antenna ex201 for communicating with the cell site exllO via radio waves, a camera unit ex203 such as a CCD camera capable of shooting moving and still pictures, a display unit ex202 such as a liquid crystal display for displaying the data such as decoded pictures and the like shot by the camera unit ex203 or received by the antenna ex201, a body unit including a set of Operation keys ex204, a audio Output unit ex208 such as a Speaker for outputting audio, a audio in put unit ex205 such as a microphone for inputting audio, a storage medium ex207 for storing coded or decoded data such as data of moving or still pictures shot by the camera, data of received e-mails and that of moving or still pictures, and a slot unit ex206 for attaching the storage medium ex207 to the cell phone exll5. The storage medi'um ex207 Stores in itself a flash memory element, a kind of EEPROM (Electrically Erasable and Programmable Read Only Memory) that is a nonvolatile memory electrically erasable from and rewritable to a plastic case such as an SD card, or the like.<br>
Next, the cell phone exll5 will be explained with reference<br><br>
to Fig. 22. In the cell phone exll5, a main controi unit ex311, designed in order to controi overail each unit of the main body which contains the display unit ex202 as well as the Operation keys ex204, is connected mutually to a power supply circuit unit ex310, an Operation input controi unit ex304, a picture encoding unit ex312, a camera interface unit ex303, an LCD (Liquid Crystal Display) controi unit ex302, a picture decoding unit ex309, a multiplexing/demultiplexing unit 6x308, a read/write unit ex307, a modern circuit unit ex306 and a audio processing unit ex305 via a synchronous bus ex313.<br>
When a call-end key or a power key is turned ON by a user's Operation, the power supply circuit unit ex310 supplies respective units with power from a battery pack so as to activate the camera attached digital cell phone exllS as a ready State.<br>
In the cell phone exll5, the audio processing unit ex305 converts the audio Signals received by the audio input unit ex205 in conversation mode into digital audio data under the controi of the main controi unit ex311 including a CPU, ROM and RAM, the modern circuit unit ex306 performs spread spectrum processing of the digital audio data, and the communication circuit unit ex301 performs digital-to-analog conversion and frequency transform of the data, so as to transmit it via the antenna ex201. Also, in the cell phone exll5, the communication circuit unit ex301 amplifies the data received by the antenna ex201 in conversation mode and performs frequency transform and analog-to-digital conversion to the data, the modern circuit unit ex306 performs inverse spread spectrum processrng of the data, and the audio processing unit ex305 converts it into analog audio data, so as to output it via the audio output unit ex208.<br>
Furthermore, when transmitting an e-mail in data communication mode, the text data of the e-mail inputted by operating the Operation keys ex204 of the main body is sent out ta<br><br>
the main control unit ex311 via the Operation input control unit ex304. In the main control unit ex311, after the modern circuit unit ex306 performs spread spectrum processing of the text data and the communication circuit unit ex301 performs ■ digital-to-analog conversion and frequency transform'for the text data, the data is transmitted to the cell Site fexllO via the antenna ex201.<br>
When picture data is transmitted in data communication mode, the picture data shot by the camera unit ex203 is supplied to the picture encoding unit ex312 via the camera Interface unit ex303. When it is not transmitted, it is also possible to display the picture data shot by the camera unit ex203 directly on the display unit ex202 via the camera interface unit ex303 and the LCD control unit ex302.<br>
The picture encoding unit ex312, which includes the picture encoding apparatus as explained in the present invention, compresses and codes the picture data supplied from the camera unit ex203 by the encoding method used for the picture encoding apparatus as shown in the above-mentioned first embodiment so as to transform it into encoded picture data, and sends it out to the multiplexing/demultiplexing unit ex308. At this time, the cell phone exll5 sends out the audio received by the audio input unit ex205 during the shooting with the camera unit ex203 to the multiplexing/demultiplexing unit ex308 as digital audio data via the audio processing unit ex305.<br>
The multiplexing/demultiplexing unit ex308 multiplexes the encoded picture data supplied from the picture encoding unit ex312 and the audio data supplied from the audio processing unit ex305 using a predetermined method, then the modern circuit unit ex306 performs spread spectrum processing of the multiplexed data obtained as a result of the multiplexing, and lastly the communication    circuit   unit   ex301    performs   digital-to-analog'<br><br>
conversion    and    frequency    transform    of    the    data    for    the transmission via the antenna ex201.<br>
As for receiving data of a moving picture file which is linked to a Web page orthe like in data communication mode, the modern circuit unit ex306 performs inverse spread spectrum processing of the data received from the cell site exllO via the antenna ex201, and sends out the multipiexed data obtained as a resuit of the inverse spread spectrum processing.<br>
In order to decode the multipiexed data received via the antenna ex201, the multiplexing/demultiplexing unit ex308 separates the multipiexed data into an encoded stream of picture data and that of audio data, and supplies the encoded picture data to the picture decoding unit ex309 and the audio data to the audio processing unit ex305 respectiveiy via the synchronous bus ex313.<br>
Next, the picture decoding unit ex309, including the picture decoding apparatus as explained in the above-mentioned invention, decodes the encoded stream of picture data using the decoding method corresponding to the encoding method as shown in the above-mentioned embodiments to generate reproduced moving picture data, and supplies this data to the display unit ex202 via the LCD control unit ex302, and thus the picture data included in the moving picture file linked to a Web page, for instance, is displayed. At the same time, the audio processing unit ex305 converts the audio data into analog audio data, and supplies this data to the audio Output unit ex208, and thus the audio data included in the moving picture file linked to a Web page, for instance, is reproduced.<br>
The present invention is not limited to the above-mentioned system as such ground-based or satellite digital broadcasting has been in the news lately and at least either the picture encoding apparatus or the picture decoding apparatus described in the above-mentioned embodiments can be incorporated into a digital'<br><br>
broadcasting System as shown in Fig. 23. More specificaily, an encoded stream of video information is transmitted from a broadcast Station ex409 to or communicated with a broadcast satellite ex410 via radio waves. Lipon receipt of it, the broadcast -satellite ex410 transmits radio waves for broadcasting. Then, a home-use antenna ex406 with a satellite broadcast reception function receives the radio waves, and a television (receiver) ex401 or a set top box (STB) ex407 decodes the encoded stream for reproduction. The picture decoding apparatus as shown in the above-mentioned embodiment can be implemented in a reproducing apparatus ex403 for reading out and decoding the encoded stream recorded on a storage medium ex402 that is a recording medium such as CD and DVD. In this case, the reproduced video Signals are displayed on a monitor ex404. It is also conceivable to implement the picture decoding apparatus in the set top box ex407 connected to a cable ex405 for a cable television or the antenna ex406 for satellite and/or ground-based broadcasting so as to reproduce them on a monitor ex408 of the television ex401. The picture decoding apparatus may be incorporated into the television, not in the set top box. Also, a car ex412 having an antenna ex411 can receive Signals from the satellite ex410 or the cell site exl07 for reproducing moving pictures on a display device such as a car navigation System ex413 set in the car ex412.<br>
Furthermore, the picture encoding apparatus as shown in the above-mentioned embodiments can encode picture Signals and record them on a recording medium. As a concrete example, a recorder ex420 such as a DVD recorder for recording picture Signals on a DVD disk ex421, a disk recorder for recording them on a hard disk, or the like can be cited. They can be recorded on an SD card ex422. If the recorder ex420 includes the picture decoding     apparatus     as     shown     in     the     above-mentioned<br><br>
embodiments, the picture Signals recorded on the DVD disk ex421 or the SD card ex422 can be reproduced for display on the monitor ex408.<br>
As for the structure of the car navigation System ex413, the structure without the camera unit ex203, the camera Interface unit ex303 and the picture encoding unit ex312, out of the components shown in Fig. 22, for exampie, is conceivable. The same applies for the Computer exlll, the television (receiver) ex401 and others.<br>
In addition, three types of implementations can be conceived for a terminal such as the above-mentioned cell phone exll4; a sending/receiving terminal implemented with both an encoder and a decoder, a sending terminal implemented with an encoder only, and a receiving terminal implemented with a decoder only.<br>
As described above, it is possible to use the picture encoding method or the picture decoding method described in the above-mentioned embodiments for any of the above-mentioned devices and Systems, and by thus doing, the effects described in the above-mentioned embodiments can be obtained. Also, the present invention is not limited to the above-mentioned embodiments and a wide ränge of variations or modifications within the scope of the following Claims are possible.<br>
In the present embodiment, the term "display" means to Output after reordering the order of the pictures into a display order. Namely, a process for outputting a decoded picture to a display device is described as "display". An Operation of outputting the decoded picture in order to record it onto other recording device, for instance, applies to this special usage of "display". When the display device has a picture memory, it is possible to transmit the decoded picture to the display device earlier than the actual display time.<br><br>
Industrial Applicability<br>
The present invention is used for a picture encoding -apparatus for encoding a picture by a predictive encoding with reference to a decoded picture stored in a.decoded picture buffer, decoding the encoded picture and storing the decoded picture in the decoded picture buffer and a picture encoding apparatus for decoding the picture encoded by a predictive encoding with reference to a decoded picture stored in a decoded picture buffer and storing the decoded picture in the decoded picture buffer.<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
WE CLAIM :<br>
1. A decoding method for decoding a predictively encoded picture signal of a moving picture signal composed of a plurality of pictures, said encoded picture signal including an encoded picture referred to in predictive encoding by a previous picture in a predetermined display order for displaying the decoded pictures, comprising:<br>
decoding the encoded picture signal to obtain a decoded picture, deciding (602) whether the decoded picture is a reference picture or a non-reference picture based on the encoded picture signal, a reference picture being a picture which is referred to in predictive encoding by another picture and a non-reference picture being a picture which is not referred to in predictive encoding by another picture, and<br>
storing (606) in the case that the decoded picture is a reference picture, the decoded picture in a buffer characterized by:<br>
judging (603), in the case that the decoded picture is a non-reference picture, whether or not the decoded non-reference picture can be displayed, according to said predetermined display order, prior to all decoded pictures currently stored in the buffer, and<br>
storing (604) in the case that the decoded non-reference picture cannot be displayed, according to said predetermined display order, prior to all decoded pictures currently stored in the buffer, the decoded non-reference picture in the buffer without outputting the decoded non-reference picture, wherein, when the buffer does not have an empty Space for the decoded non-reference picture, the decoded non-reference picture is stored in the buffer after obtaining an empty space by removing the decoded picture stored in the buffer with the earliest display order and not to be used for reference after the decoding of the decoded non-reference picture.<br><br>
2.	The decoding method according to any one of the preceding claims, fiirther<br>
comprising, outputting for display<br>
i) the decoded non-reference picture in the case that the decoded non-reference picture can be displayed, according to said predetermined display order, prior to all decoded pictures currently stored in the buffer, or ii) at least one other decoded picture stored in the buffer in the case that the decoded non-reference picture cannot be displayed, according to said predetermined display order, prior to all decoded pictures currently stored in the buffer.<br>
3.	A decoding apparatus configured to decode a predictively encoded picture<br>
signal of a moving picture signal composed of a plurality of pictures, said<br>
encoded picture signal including an encoded picture referred to in predictive<br>
encoding by a previous picture in a predetermined display order for displaying<br>
the decoded pictures, comprising:<br>
a decoding unit (VLD) operable to decode the encoded picture signal to obtain a decoded picture,<br>
a deciding unit (DispPicCtrl) operable to decide whether the decoded picture is a reference picture or a non-reference picture based on the encoded picture signal, a reference picture being a picture which is referred to in predictive encoding by another picture and a non.-reference picture being a picture which is not referred to in predictive encoding by another picture, a buffer (PicMem2) operable to störe the decoded picture, a storing unit (PicMem2) operable to störe, in the case that the decoded picture is a reference picture, the decoded picture in the buffer characterized by:<br>
a judging unit (DispPicCtrl) operable to judge, in the case that the decoded picture is a non-reference picture, whether or not the decoded non-reference picture can be displayed, according to said predetermined<br><br>
display order, prior to all decoded pictures currently stored in the buffer, and<br>
the storing unit (PicMem2) being further operable to störe, in the case that the  decoded non-reference picture  cannot be  displayed, according to said predetermined display order, prior to all decoded pictures currently stored in the buffer, the decoded non-reference picture in the buffer without outputting the decoded non-reference picture, wherein in the case that the buffer does not have an empty space for the decoded non-reference picture, the decoded non-reference picture is stored in the buffer after obtaining an empty space by removing the decoded picture stored in the buffer with the earliest display order and not to be used for reference after the decoding of the decoded non-reference picture.<br>
4.       The decoding apparatus according to claim 3 further xomprising an outputting unit (Sei) operable to Output for display i)        the decoded non-reference picture in the case that the decoded non-reference picture can be displayed, according to said predetermined display order, prior to all decoded pictures currently stored in the buffer, or ii)       at least one decoded picture stored in the buffer in the case that the decoded non-reference picture cannot be displayed, according to said predetermined display order, prior to all decoded pictures currently stored in the buffer.<br><br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzA3MC1DSEVOUC0yMDA3ICAgIEFNRU5ERUQgIFBBR0VTIE9GIFNQRUNJRklDQVRJT04gIDI1LTA4LTIwMTEucGRm" target="_blank" style="word-wrap:break-word;">3070-CHENP-2007    AMENDED  PAGES OF SPECIFICATION  25-08-2011.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzA3MC1DSEVOUC0yMDA3ICAgIEFNRU5ERUQgQ0xBSU1TICAyNS0wOC0yMDExLnBkZg==" target="_blank" style="word-wrap:break-word;">3070-CHENP-2007    AMENDED CLAIMS  25-08-2011.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzA3MC1DSEVOUC0yMDA3ICAgIENPUlJFU1BPTkRFTkNFIE9USEVSUyAgMjYtMTEtMjAxMi5wZGY=" target="_blank" style="word-wrap:break-word;">3070-CHENP-2007    CORRESPONDENCE OTHERS  26-11-2012.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzA3MC1DSEVOUC0yMDA3ICAgQ09SUkVTUE9OREVOQ0UgT1RIRVJTICAyNS0wOC0yMDExLnBkZg==" target="_blank" style="word-wrap:break-word;">3070-CHENP-2007   CORRESPONDENCE OTHERS  25-08-2011.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzA3MC1DSEVOUC0yMDA3ICAgRVhBTUlOQVRJT04gIFJFUE9SVCBSRVBMWSBSRUNFSVZFRCAgIDEzLTA3LTIwMTEucGRm" target="_blank" style="word-wrap:break-word;">3070-CHENP-2007   EXAMINATION  REPORT REPLY RECEIVED   13-07-2011.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzA3MC1jaGVucC0yMDA3ICAgZm9ybS0xICAyNS0wOC0yMDExLnBkZg==" target="_blank" style="word-wrap:break-word;">3070-chenp-2007   form-1  25-08-2011.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzA3MC1jaGVucC0yMDA3ICAgZm9ybS0zICAyNS0wOC0yMDExLnBkZg==" target="_blank" style="word-wrap:break-word;">3070-chenp-2007   form-3  25-08-2011.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzA3MC1DSEVOUC0yMDA3ICAgT1RIRVIgUEFURU5UIERPQ1VNRU5UICAyNS0wOC0yMDExLnBkZg==" target="_blank" style="word-wrap:break-word;">3070-CHENP-2007   OTHER PATENT DOCUMENT  25-08-2011.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzA3MC1jaGVucC0yMDA3IGNvcnJlc3BvbmRlbmNlIG90aGVycy0zMC0wNi0yMDA5LnBkZg==" target="_blank" style="word-wrap:break-word;">3070-chenp-2007 correspondence others-30-06-2009.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzA3MC1jaGVucC0yMDA3IGZvcm0tMTMtMzAtMDYtMjAwOS5wZGY=" target="_blank" style="word-wrap:break-word;">3070-chenp-2007 form-13-30-06-2009.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzA3MC1jaGVucC0yMDA3IG90aGVycy0zMC0wNi0yMDA5LnBkZg==" target="_blank" style="word-wrap:break-word;">3070-chenp-2007 others-30-06-2009.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzA3MC1jaGVucC0yMDA3LWFic3RyYWN0LnBkZg==" target="_blank" style="word-wrap:break-word;">3070-chenp-2007-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzA3MC1jaGVucC0yMDA3LWNsYWltcy5wZGY=" target="_blank" style="word-wrap:break-word;">3070-chenp-2007-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzA3MC1jaGVucC0yMDA3LWNvcnJlc3BvbmRuZWNlLW90aGVycy5wZGY=" target="_blank" style="word-wrap:break-word;">3070-chenp-2007-correspondnece-others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzA3MC1jaGVucC0yMDA3LWRlc2NyaXB0aW9uKGNvbXBsZXRlKS5wZGY=" target="_blank" style="word-wrap:break-word;">3070-chenp-2007-description(complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzA3MC1jaGVucC0yMDA3LWRyYXdpbmdzLnBkZg==" target="_blank" style="word-wrap:break-word;">3070-chenp-2007-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzA3MC1jaGVucC0yMDA3LWZvcm0gMS5wZGY=" target="_blank" style="word-wrap:break-word;">3070-chenp-2007-form 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzA3MC1jaGVucC0yMDA3LWZvcm0gMjYucGRm" target="_blank" style="word-wrap:break-word;">3070-chenp-2007-form 26.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzA3MC1jaGVucC0yMDA3LWZvcm0gMy5wZGY=" target="_blank" style="word-wrap:break-word;">3070-chenp-2007-form 3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzA3MC1jaGVucC0yMDA3LWZvcm0gNS5wZGY=" target="_blank" style="word-wrap:break-word;">3070-chenp-2007-form 5.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="256816-a-valve-manifold-for-a-pressure-swing-adsorption-system.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="256818-process-for-preparing-granules-comprising-a-beta-lactam-antibiotic.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>256817</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>3070/CHENP/2007</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>31/2013</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>02-Aug-2013</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>31-Jul-2013</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>10-Jul-2007</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>PANASONIC CORPORATION</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>1006, OAZA KADOMA, KADOMA-SHI, OSAKA, OSAKA 571-8501.</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>FOO, TECKWEE</td>
											<td>BLK 107 SERANGOON NORTH AVE 1 #10-681 SINGAPORE 550107</td>
										</tr>
										<tr>
											<td>2</td>
											<td>KADONO, SHINYA</td>
											<td>7-25-204, KOSHIENGUCHI 1-CHOME NISHINOMIYA-SHI HYOGO 663-8113</td>
										</tr>
										<tr>
											<td>3</td>
											<td>HAGAI, MAKOTO</td>
											<td>22-402, OEDAMINAMI-MACHI MORIGUCHI-SHI OSAKA 570-0051</td>
										</tr>
										<tr>
											<td>4</td>
											<td>KONDO, SATOSHI</td>
											<td>7-17, OTOKOYAMASHIGETSU YAWATA-SHI KYOTO 614-8361</td>
										</tr>
										<tr>
											<td>5</td>
											<td>SHEN, SHENG, MEI</td>
											<td>BLOCK 20 CHOA CHU KANG STREET 64 #30-02 WINDERMERE SINGAPORE 689093</td>
										</tr>
										<tr>
											<td>6</td>
											<td>ABE, KIYOFUMI</td>
											<td>16-1-213 MIYAMAE-CHO KADOMA-SHI OSAKA 571-0074</td>
										</tr>
										<tr>
											<td>7</td>
											<td>LIM, CHONG SOON</td>
											<td>BLK 842 SIMS AVE #07-760 SINGAPORE 400842</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04N 7/18</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/JP2003/008576</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2003-07-07</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>2003-6198</td>
									<td>2003-01-14</td>
								    <td>Japan</td>
								</tr>
								<tr>
									<td>2</td>
									<td>2002-202781</td>
									<td>2002-07-11</td>
								    <td>Japan</td>
								</tr>
								<tr>
									<td>3</td>
									<td>2002-207681</td>
									<td>2002-07-17</td>
								    <td>Japan</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/256817-a-decoding-method-and-apparatus-for-decoding-a-predictively-encoded-picture-signal-of-a-moving-picture-signal-composed-of-a-plurality-of-pictures by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 09:08:11 GMT -->
</html>
