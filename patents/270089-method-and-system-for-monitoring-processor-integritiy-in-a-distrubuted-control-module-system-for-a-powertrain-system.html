<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/270089-method-and-system-for-monitoring-processor-integritiy-in-a-distrubuted-control-module-system-for-a-powertrain-system by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 05:36:47 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 270089:METHOD AND SYSTEM FOR MONITORING PROCESSOR INTEGRITIY IN A DISTRUBUTED CONTROL MODULE SYSTEM FOR A POWERTRAIN SYSTEM</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">METHOD AND SYSTEM FOR MONITORING PROCESSOR INTEGRITIY IN A DISTRUBUTED CONTROL MODULE SYSTEM FOR A POWERTRAIN SYSTEM</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A method for monitoring a main control module operative to command first and second motor control processors of a hybrid powertrain system includes signally connecting a programmable logic device to the main control module and the first and second motor control processors, communicating a first seed signal from the programmable logic device to the main control module, and determining an invalid key signal in the main control module in response to the first seed signal. The invalid key signal is communicated to the programmable logic device.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>METHOD AND SYSTEM FOR MONITORING PROCESSOR INTEGRITY<br>
IN A DISTRIBUTED CONTROL MODULE SYSTEM FOR A<br>
POWERTRAIN SYSTEM<br>
CROSS REFERENCE TO RELATED APPLICATIONS<br>
[0001]   This application claims the benefit of U.S. Provisional Application<br>
No. 60/983,165, filed on 10/27/2007 which is hereby incorporated herein by<br>
reference.<br>
TECHNICAL FIELD<br>
[0002]    This disclosure pertains to control systems for hybrid powertrain<br>
systems.<br>
BACKGROUND<br>
[0003]   The statements in this section merely provide background information related to the present disclosure and may not constitute prior art. [0004]   Known hybrid powertrain architectures can include multiple torque-generative devices, including internal combustion engines and non-combustion machines, e.g., electric machines, which transmit torque through a transmission device to an output member. One exemplary hybrid powertrain includes a two-mode, compound-split, electro-mechanical transmission which utilizes an input member for receiving tractive torque from a prime mover power source, preferably an internal combustion engine, and an output member. The output member can be operatively connected to a driveline for a motor vehicle for transmitting tractive torque thereto. Machines, operative as<br><br>
motors or generators, can generate torque inputs to the transmission independently of a torque input from the internal combustion engine. The machines may transform vehicle kinetic energy transmitted through the vehicle driveline to energy that is storable in an energy storage device. A control system is operative to monitor various inputs from the vehicle and the operator and provides operational control of the hybrid powertrain, including controlling transmission operating state and gear shifting, controlling the torque-generative devices, and regulating the power interchange among the energy storage device and the machines to manage outputs of the transmission, including torque and rotational speed. A control system can monitor input and control signals and execute algorithms to verify and secure operation of the powertrain.<br>
SUMMARY<br>
[0005]   A method for monitoring a main control module operative to command first and second motor control processors of a hybrid powertrain system includes signally connecting a programmable logic device to the main control module and the first and second motor control processors, communicating a first seed signal from the programmable logic device to the main control module, and determining an invalid key signal in the main control module in response to the first seed signal. The invalid key signal is communicated to the programmable logic device.<br><br>
BRIEF DESCRIPTION OF THE DRAWINGS<br>
[0006]   One or more embodiments will now be described, by way of<br>
example, with reference to the accompanying drawings, in which:<br>
[0007]   Fig. 1 is a schematic diagram of an exemplary hybrid powertrain, in<br>
accordance with the present disclosure;<br>
[0008]   Figs. 2 and 3 are schematic diagrams of an exemplary architecture for<br>
a control system and hybrid powertrain, in accordance with the present<br>
disclosure; and<br>
[0009]    Figs. 4 and 5 are schematic flow diagrams of a control scheme, in<br>
accordance with the present disclosure.<br>
DETAILED DESCRIPTION<br>
[0010]   Referring now to the drawings, wherein the showings are for the purpose of illustrating certain exemplary embodiments only and not for the purpose of limiting the same, Figs. 1, 2 and 3 depict an exemplary electro-mechanical hybrid powertrain and associated control system. The exemplary electro-mechanical hybrid powertrain in accordance with the present disclosure is depicted in Fig. 1, comprising a two-mode, compound-split, electro-mechanical hybrid transmission 10 operatively connected to an engine 14 and first and second electric machines ('MG-A') 56 and ('MG-B') 72. The engine 14 and first and second electric machines 56 and 72 each generate power which can be transferred to the transmission 10. The power generated by the engine 14 and the first and second electric machines 56 and 72 and transferred to the transmission 10 is described in terms of input and motor<br><br>
torques, referred to herein as TI, TA, and TB respectively, and speed, referred to herein as NI, NA, and NB, respectively.<br>
[0011]   The exemplary engine 14 comprises a multi-cylinder internal combustion engine selectively operative in several states to transfer torque to the transmission 10 via an input member 12, and can be either a spark-ignition or a compression-ignition engine. The engine 14 includes a crankshaft (not shown) operatively coupled to the input member 12 of the transmission 10. A rotational speed sensor 11 monitors rotational speed of the input member 12. Power output from the engine 14, comprising rotational speed and engine torque, can differ from the input speed NI and the input torque TI to the transmission 10 due to placement of torque-consuming components on the input member 12 between the engine 14 and the transmission 10, e.g., a hydraulic pump (not shown) and/or a torque management device (not shown). [0012]   The exemplary transmission 10 comprises three planetary-gear sets 24,26 and 28, and four selectively engageable torque-transferring devices, i.e., clutches C1 70, C2 62, C3 73, and C4 75. As used herein, clutches refer to any type of friction torque transfer device including single or compound plate clutches or packs, band clutches, and brakes, for example. A hydraulic control circuit ('HYD') 42, preferably controlled by a transmission control module (hereafter 'TCM') 17, is operative to control clutch states. Clutches C2 62 and C4 75 preferably comprise hydraulically-applied rotating friction clutches. Clutches C1 70 and C3 73 preferably comprise hydraulically-controlled stationary devices that can be selectively grounded to a transmission case 68. Each of the clutches C1 70, C2 62, C3 73, and C4 75 is preferably<br><br>
hydraulically applied, selectively receiving pressurized hydraulic fluid via the hydraulic control circuit 42.<br>
[0013]   The first and second electric machines 56 and 72 preferably comprise three-phase AC machines, each including a stator (not shown) and a rotor (not shown), and respective resolvers 80 and 82. The motor stator for each machine is grounded to an outer portion of the transmission case 68, and includes a stator core with coiled electrical windings extending therefrom. The rotor for the first electric machine 56 is supported on a hub plate gear that is operatively attached to shaft 60 via the second planetary gear set 26. The rotor for the second electric machine 72 is fixedly attached to a sleeve shaft hub 66.<br>
[0014]   Each of the resolvers 80 and 82 preferably comprises a variable reluctance device including a resolver stator (not shown) and a resolver rotor (not shown). The resolvers 80 and 82 are appropriately positioned and assembled on respective ones of the first and second electric machines 56 and 72. Stators of respective ones of the resolvers 80 and 82 are operatively connected to one of the stators for the first and second electric machines 56 and 72. The resolver rotors are operatively connected to the rotor for the corresponding first and second electric machines 56 and 72. Each of the resolvers 80 and 82 is signally and operatively connected to a transmission power inverter control module (hereafter 'TPIM') 19, and each senses and monitors rotational position of the resolver rotor relative to the resolver stator, thus monitoring rotational position of respective ones of first and second electric machines 56 and 72. Additionally, the signals output from the<br><br>
resolvers 80 and 82 are interpreted to provide the rotational speeds for first and second electric machines 56 and 72, i.e., NAand NB, respectively. [0015]   The transmission 10 includes an output member 64, e.g. a shaft, which is operably connected to a driveline 90 for a vehicle (not shown), to provide output power to the driveline 90 that is transferred to vehicle wheels 93, one of which is shown in Fig. 1. The output power at the output member 64 is characterized in terms of an output rotational speed No and an output torque To. A transmission output speed sensor 84 monitors rotational speed and rotational direction of the output member 64. Each of the vehicle wheels 93 is preferably equipped with a sensor 94 adapted to monitor wheel speed, the output of which is monitored by a control module of a distributed control module system described with respect to Fig. 2, to determine vehicle speed, and absolute and relative wheel speeds for braking control, traction control, and vehicle acceleration management.<br>
[0016]   The input torque from the engine 14 and the motor torques from the first and second electric machines 56 and 72 (Ti, TA, and TB respectively) are generated as a result of energy conversion from fuel or electrical potential stored in an electrical energy storage device (hereafter 'ESD') 74. The ESD 74 is high voltage DC-coupled to the TPIM 19 via DC transfer conductors 27. The transfer conductors 27 include a contactor switch 38. When the contactor switch 38 is closed, under normal operation, electric current can flow between the ESD 74 and the TPIM 19. When the contactor switch 38 is opened electric current flow between the ESD 74 and the TPIM 19 is interrupted. The TPIM 19 transmits electrical power to and from the first electric machine 56 through a first motor control module ('MCP-A') 33 using transfer conductors 29, and<br><br>
the TPIM 19 similarly transmits electrical power to and from the second electric machine 72 through a second motor control module ('MCP-B') 34 using transfer conductors 31 to meet the torque commands for the first and second electric machines 56 and 72 in response to the motor torques TA and TB. Electrical current is transmitted to and from the ESD 74 in accordance with whether the ESD 74 is being charged or discharged. [0017]   The TPIM 19 preferably includes a hybrid control module (hereafter 'HCP') 5 and the pair of power inverters and respective motor control modules 33 and 34 configured to receive the torque commands and control inverter states therefrom for providing motor drive or regeneration functionality to meet the commanded motor torques TA and TB. The power inverters comprise known complementary three-phase power electronics devices, and each includes a plurality of insulated gate bipolar transistors (not shown) for converting DC power from the ESD 74 to AC power for powering respective ones of the first and second electric machines 56 and 72, by switching at high frequencies. The insulated gate bipolar transistors form a switch mode power supply configured to receive control commands. There is typically one pair of insulated gate bipolar transistors for each phase of each of the three-phase electric machines. States of the insulated gate bipolar transistors are controlled to provide motor drive mechanical power generation or electric power regeneration functionality. The three-phase inverters receive or supply DC electric power via DC transfer conductors 27 and transform it to or from three-phase AC power, which is conducted to or from the first and second electric machines 56 and 72 for operation as motors or generators via transfer conductors 29 and 31 respectively.<br><br>
[0018]   Figs. 2 and 3 are schematic block diagrams of the distributed control module system of the control system. As used herein, the term 'control system' is defined as the control modules, wiring harnesses (not shown), communications links, sensors and actuators that monitor and control operation of the powertrain system. The control system monitors sensor inputs and commands outputs for controlling the actuators. The distributed control module system comprises a subset of overall vehicle control architecture, and provides coordinated system control of the exemplary hybrid powertrain described in Fig. 1. The control system includes the distributed control module system for synthesizing information and inputs, and executing algorithms to control actuators to meet control objectives, including objectives related to fuel economy, emissions, performance, drivability, and protection of hardware, including batteries of ESD 74 and the first and second electric machines 56 and 72. The distributed control module system includes an engine control module (hereafter 'ECM') 23, the TCM 17, a battery pack control module (hereafter 'BPCM') 21, and the TPIM 19. The HCP 5 provides supervisory control and coordination of the ECM 23, the TCM 17, the BPCM 21, and the TPIM 19. A user interface ('UF) 13 is preferably signally connected to a plurality of devices through which a vehicle operator controls, directs, and commands operation of the electro-mechanical hybrid powertrain. The devices include an accelerator pedal 113 ('AP'), an operator brake pedal 112 ('BP'), a transmission gear selector 114 ('PRNDL'), and a vehicle speed cruise control (not shown). The transmission gear selector 114 may have a discrete number of operator-selectable positions, including the rotational direction of the output member 64 to enable one of a forward and a<br><br>
reverse direction. The user interface 13 can comprise a single device, as shown, or alternatively can comprise a plurality of user interface devices directly connected to the individual control modules (not shown). [0019]   The aforementioned control modules communicate with other control modules, sensors, and actuators via a communications link comprising a local area network (hereafter 'LAN') bus 6, in this embodiment. The LAN bus 6 allows for structured communication between the various control modules. The specific communication protocol utilized is application-specific. The LAN bus 6 and appropriate protocols provide for robust messaging and multi-control module interfacing between the aforementioned control modules, and other control modules providing functionality including e.g., antilock braking, traction control, and vehicle stability. Multiple communications buses may be used to improve communications speed and provide some level of signal redundancy and integrity. Communications between the MCP-A 33 and the HCP 5 and between the MCP-B 34 and the HCP 5 is preferably effected using direct links preferably comprising serial peripheral interface (hereafter 'SPI') buses 37. Communication between individual control modules can also be effected using a wireless link, e.g., a short range wireless radio communications bus (not shown).<br>
[0020]   The HCP 5 provides supervisory control of the hybrid powertrain, serving to coordinate operation of the ECM 23, TCM 17, MCP-A 33, MCP-B 34, and BPCM 21. Based upon various command signals from the user interface 13 and the hybrid powertrain, including the ESD 74, the HCP 5 determines an operator torque request, an output torque command, an engine input torque command, clutch torque(s) for the applied torque-transfer<br><br>
clutches C1 70, C2 62, C3 73, C4 75 of the transmission 10, and the motor torques TA and TB for the first and second electric machines 56 and 72. The HCP 5 sends commands to specific control modules to effect control of the engine 14, transmission 10 and the first and second electric machines 56 and 72.<br>
[0021]   A programmable logic device ('PLD') 39 is signally connected to the HCP 5 and MCP-A 33 and MCP-B 34. The PLD 39 preferably comprises a microprocessor controlled device that is adapted to monitor functionality of the HCP 5, and is monitored by the HCP 5.<br>
[0022]    The ECM 23 is operatively connected to the engine 14, and functions to acquire data from sensors and control actuators of the engine 14 over a plurality of discrete lines, shown for simplicity as an aggregate bi-directional interface cable 35. The ECM 23 receives the engine input torque command from the HCP 5. The ECM 23 determines the actual engine input torque, T1, provided to the transmission 10 at that point in time based upon monitored engine speed and load, which is communicated to the HCP 5. The ECM 23 monitors input from the rotational speed sensor 11 to determine the engine input speed to the input shaft 12, which translates to the transmission input speed, NI. The ECM 23 monitors inputs from sensors (not shown) to determine states of other engine operating parameters including, e.g., a manifold pressure, engine coolant temperature, ambient air temperature, and ambient pressure. The engine load can be determined, for example, from the manifold pressure, or alternatively, from monitoring operator input to the accelerator pedal 113. The ECM 23 generates and communicates control<br><br>
signals to control engine actuators, including, e.g., fuel injectors, ignition modules, and throttle control modules, none of which are shown. [0023]   The TCM 17 is operatively connected to the transmission 10 and monitors inputs from sensors (not shown) to determine states of transmission operating parameters. The TCM 17 generates and communicates actuator control signals to control the transmission 10, including controlling the hydraulic circuit 42. Inputs from the TCM 17 to the HCP 5 include estimated clutch torques for each of the clutches, i.e., C1 70, C2 62, C3 73, and C4 75, and rotational output speed, No, of the output member 64. Other actuators and sensors may be used to provide additional information from the TCM 17 to the HCP 5 for control purposes. The TCM 17 monitors inputs from pressure switches (not shown) and selectively actuates pressure control solenoids (not shown) and shift solenoids (not shown) of the hydraulic circuit 42 to selectively actuate the various clutches C1 70, C2 62, C3 73, and C4 75 to achieve various transmission operating range states, as described hereinbelow. [0024]   The BPCM 21 is signally connected to sensors (not shown) to monitor the ESD 74, including states of electrical current and voltage parameters, to provide information indicative of parametric states of the batteries of the ESD 74 to the HCP 5. The parametric states of the batteries preferably include battery state-of-charge, battery voltage, battery temperature, and available battery power, referred to as a range PBAT_MiNto PBAT_MAX-[0025]   A brake control module (hereafter 'BrCM') 22 is operatively connected to friction brakes (not shown) on each of the vehicle wheels 93. The BrCM 22 monitors the operator input to the brake pedal 112 and generates control signals to control the friction brakes and sends a control<br><br>
signal to the HCP 5 to operate the first and second electric machines 56 and 72 based thereon.<br>
[0026]   Fig. 3 shows details of the TPIM 19. The MCP-A 33 and the HCP 5 are preferably signally connected to the LAN 6. MCP-A 33 and MCP-B 34 are directly signally connected to the HCP 5 using first and second SPI buses 37 and 37" which are preferably dedicated, i.e., communicate exclusively between the HCP 5 and the MCP-A 33 and the HCP 5 and the MCP-B 34, respectively. The PLD 39 is signally connected to the HCP 5, preferably using a third dedicated SPI bus 37'. The PLD 39 is directly signally connected to each of the MCP-A 33, MCP-B 34 and the HCP 5 preferably via dedicated electric lines 41,41", and 41' respectively, preferably comprising direct electrical connections in the form of electric cables or board traces on a printed wiring board. The PLD 39 generates a discrete signal output comprising either a digital' 1' or a digital '0' that it communicates to each of the MCP-A 33, MCP-B 34 and the HCP 5 via the electric lines 41, 41', and 41".<br>
[0027]   Each of the control modules ECM 23, TCM 17, HCP-5, MCP-A 33, MCP-B 34, BPCM 21, and BrCM 22 is preferably a general-purpose digital computer comprising a microprocessor or central processing unit, storage mediums comprising read only memory ('ROM'), random access memory ('RAM'), electrically programmable read only memory ('EPROM'), a high speed clock, analog to digital ('A/D') and digital to analog ('D/A') circuitry, and input/output circuitry and devices ('I/O') and appropriate signal conditioning and buffer circuitry. Each of the control modules has a set of control algorithms, comprising resident program instructions and calibrations<br><br>
stored in one of the storage mediums and executed to provide the respective functions of each computer. Information transfer between the control modules is preferably accomplished using the LAN bus 6 and SPI buses 37, 37', 37". The control algorithms are executed during preset loop cycles such that each algorithm is executed at least once each loop cycle. Algorithms stored in the non-volatile memory devices are executed by one of the central processing units to monitor inputs from the sensing devices and execute control and diagnostic routines to control operation of the actuators, using preset calibrations. Loop cycles are executed at regular intervals, for example each 3.125, 6.25, 12.5, 25 and 100 milliseconds during ongoing operation of the hybrid powertrain. Alternatively, algorithms may be executed in response to the occurrence of an event.<br>
[0028]   The exemplary hybrid powertrain selectively operates in one of several states that can be described in terms of engine states comprising one of an engine-on state ('ON') and an engine-off state ('OFF'), and transmission operating range states comprising a plurality of fixed gears and continuously variable operating modes, described with reference to Table 1, below.<br><br><br>
[0029]   Each of the transmission operating range states is described in the table and indicates which of the specific clutches C1 70, C2 62, C3 73, and C4 75 are applied for each of the operating range states. A first continuously variable mode, i.e., EVT Mode 1, or Ml, is selected by applying clutch C1 70 only in order to "ground" the outer gear member of the third planetary gear set 28. The engine state can be one of ON ('Ml JEngOn') or OFF ('Ml_Eng_Off). A second continuously variable mode, i.e., EVT Mode 2, or M2, is selected by applying clutch C2 62 only to connect the shaft 60 to the carrier of the third planetary gear set 28. The engine state can be one of ON ('M2_Eng_On') or OFF ('M2_Eng_Off). For purposes of this description, when the engine state is OFF, the engine input speed is equal to zero revolutions per minute ('RPM'), i.e., the engine crankshaft is not rotating.  A fixed gear operation provides a fixed ratio operation of input-to-output speed of the transmission 10, i.e., N1/No. A first fixed gear operation ('Gl') is selected by applying clutches C1 70 and C4 75. A second fixed gear operation<br><br>
('G2') is selected by applying clutches C1 70 and C2 62. A third fixed gear operation ('G3') is selected by applying clutches C2 62 and C4 75. A fourth fixed gear operation ('G4') is selected by applying clutches C2 62 and C3 73. The fixed ratio operation of input-to-output speed increases with increased fixed gear operation due to decreased gear ratios in the planetary gears 24,26, and 28. The rotational speeds of the first and second electric machines 56 and 72, NAand NB respectively, are dependent on internal rotation of the mechanism as defined by the clutching and are proportional to the input speed measured at the input shaft 12.<br>
[0030]   In response to operator input via the accelerator pedal 113 and brake pedal 112 as captured by the user interface 13, the HCP 5 and one or more of the other control modules determine torque commands to control the torque actuators to meet the operator torque request at the output member 64 for transference to the driveline 90. The torque actuators preferably include a plurality of torque generative devices, e.g., the engine 14 and the first and second electric machines 56 and 72 and a torque transferring device comprising the transmission 10 in this embodiment. The HCP 5 determines the operator torque request, an output torque command from the transmission 10 to the driveline 90 and actuator controls including an input torque command from the engine 14, clutch torques for the torque-transfer clutches C1 70, C2 62, C3 73, C4 75 of the transmission 10 and motor torque commands for the first and second electric machines 56 and 72 based upon operator commands from the user interface 13.<br>
[0031]   Torque security of the hybrid powertrain system can be achieved by executing integrity tests of the control system which include monitoring<br><br>
hardware integrity, monitoring integrity of algorithms and memory devices, securing and monitoring signal integrity during communications within a control module and communications between the control modules, monitoring processor integrity and executing remedial actions. Torque security in the presence of an observed fault can include limiting an actuator command signal. This can include maximum and minimum limits on actuator command signals, and maximum rates of change on actuator command signals. Specifically, motor torque commands TA and TB can be limited to maximum and minimum motor torques, and changes in the motor torque commands TA and TB can be limited to effect a maximum rate of change in output torque, e.g., 0.2g.<br>
[0032]    Securing and monitoring signal integrity is preferably accomplished by individually securing the control modules and securing the serial communications links between the control modules. The distributed control module system of the exemplary embodiment preferably includes each of the torque actuators controlled by a separate control module. This embodiment includes the ECM 23 that monitors sensors and control actuators of the engine 14, the TCM 17 that monitors sensors and control actuators of the transmission 10, the MCP-A 33 that monitors sensors and control actuators of the first electric machine 56, and the MCP-B 34 that monitors sensors and control actuators of the second electric machine. The HCP 5 monitors inputs from and commands operation of the ECM 23, TCM 17, MCP-A 33 and MCP-B 34. Each of the ECM 23, MCP-A 33, MCP-B 34 and TCM 17 is responsible for closed loop monitoring and self-security based on secured commands received from the HCP 5.<br><br>
[0033]   Fig. 4 shows a method for securing and monitoring integrity of the control modules to effect torque security, described hereinbelow with reference to an embodiment comprising the exemplary hybrid powertrain system shown in Figs. 1, 2, and 3. The method preferably resides in the aforementioned distributed control modules having communications mechanisms and schemes as described herein in the form of executable algorithms and calibrations. The method can be applied to powertrain systems having multiple torque generating devices, including, e.g., an electromechanical powertrain system having an engine and a single electric machine, a hybrid powertrain system having multiple electric machines, and hydraulic-mechanical hybrid powertrain systems. Securing and monitoring integrity of the control modules to effect torque security includes controlling and managing the torque and power flow by monitoring control system hardware, algorithms, and signal integrity.<br>
[0034]   Fig. 5 shows operation of an HCP State of Health monitor executed to monitor integrity of the HCP 5 preferably during each 50 ms loop cycle. In operation, the PLD 39 generates and directly communicates a seed signal ('Seed') to the HCP 5 via the SPI communications bus 37'. The HCP 5 determines a key signal ('Key'), preferably by executing algorithmic code based upon the received seed signal, and then communicates the key signal to the PLD 39 via the SPI communications bus 37'. The key signal indicates whether the most recent seed signal was a valid seed signal. The PLD 39 monitors key signals sent from the HCP 5. The PLD 39 determines a state of the discrete output ('Key Status') on the electric line 41' based upon the most recently received key signal. The state of the discrete output ('Key Status'),<br><br>
i.e., one of a digital' 1' and a digital '0', indicates a pass state and a fault state, respectively, for the HCP 5 based upon the key signal. The state of the discrete output ('Key Status') is also sent to MCP-A 33 and MCP-B 34 via the electric lines 41 and 41" respectively. Furthermore, the MCP-A 33 transmits a signal to the LAN 6 that is determined based upon the state of the discrete output ('Key Status'). The discrete output sent to MCP-A 33 and MCP-B 34 indicates absence or presence of a matured fault in the State of Health of the HCP 5.<br>
[0035]   A program sequence watch function ('PSW') operates in each of the 6.25, 12.5, and 25 ms loop cycles, and determines an order of execution for each of the N monitor functions ('Monitor A', 'Monitor B', 'Monitor C,..., 'Monitor N') within the HCP 5. When an order of execution is changed or a monitor function is not called or executed, the PSW function returns an incorrect value for the monitor function. The PSW function detects program pointer errors and instruction set execution errors in the arithmetic logic unit (hereafter 'ALU') of the HCP 5. The seed is preferably input to the first monitor ('Monitor A') and each of the N monitor functions in the PSW function executes based upon the seed, including each generating a partial key answer. This preferably includes operating in each of the 6.25, 12.5, and 25 ms loop cycles to generate specific partial key answers. The partial key answers from the N monitor functions of the PSW function and the seed are combined into a final answer. The main processor monitor function ('MPMR') generates a key specific to the final answer using a predetermined final answer/key lookup table. If one of the PSW functions returns an incorrect value, an invalid key is generated. The key is communicated to the<br><br>
PLD 39 via the SPI bus 37', and the PLD 39 determines whether the key is correct for the communicated seed. The PLD 39 expects to receive a correct key within a predetermined period of time subsequent to sending the seed in order to determine the HCP 5 is functioning correctly. A correct key for the seed indicates that the HCP 5 is functioning properly, resulting in the PLD 39 setting the discrete output ('Key Status') to indicate a pass state.  An invalid key for the seed indicates a fault in the HCP 5, resulting in the PLD 39 setting the discrete output ('Key Status') to indicate a fault state. [0036]   The PLD 39 selects a seed from one of a plurality of predetermined valid seeds, with the seed selected in a pseudo-random order. The HCP 5 responds with a correct key corresponding to the valid seed unless there is a fault in the State of Health of the HCP 5. After sending the correct key, the HCP 5 monitors the key status on the electric line 41' from the PLD 39 to determine whether the PLD 39 recognized the key as a correct key, using the discrete output to indicate a pass state. When the PLD 39 responds indicating the key is correct, the HCP 5 purposefully sends an invalid key during the next 50 ms loop cycle. The PLD 39 is expected to respond indicating the key is invalid and toggle the key status ('Key Status') on the electric line 41' from the PLD 39, using the discrete output to indicate a fault state, thus indicating to the HCP 5 that the key in invalid. When the PLD 39 recognizes and determines that an invalid key has been sent from the HCP 5 it sends the same seed to the HCP 5 to test the specific operation in the HCP 5. During the next cycle the HCP 5 responds with a correct key. If the PLD 39 did not recognize the invalid key, the HCP 5 sets a fault and responds by sending another invalid key. The HCP 5 records the fault as a mismatch count in a fault maturation<br><br>
algorithm, e.g., an X of Y routine wherein a fault is detected when X mismatches are observed out of immediately preceding Y observations. When the HCP 5 observes X of Y invalid responses on the electric line 41', the HCP 5 indicates a matured fault and takes remedial action. This is repeated until the PLD 39 responds correctly to the invalid keys, or until a period of time has elapsed. A PLD Fault state is indicated when a period of time, e.g., in the range of 200 ms, elapses without the PLD 39 recognizing an invalid key from the HCP 5. When the PLD Fault state is indicated, the HCP 5 commands the torque actuators off and deactivates any presently applied torque transfer clutches to operate the powertrain in neutral mode. [0037]   During ongoing operation when the correct key is being received from the HCP 5, the discrete output to the electric lines 41 from the PLD 39, which comprises an indication of the HCP State of Health, is set to the HCP Operational state. When the PLD 39 does not receive a correct key within a predetermined elapsed period of time, it determines a fault has occurred in the HCP and indicates an HCP Fault state to the HCP 5 and the MCP-A 33 and MCP-B 34 using the discrete output from the PLD 39 via electric lines 41. When HCP State of Health is the HCP Operational state, the MCP-A 33 and MCP-B 34 operate as intended. When the HCP State of Health is set to the HCP Fault state, MCP-A 33 and MCP-B 34 disregard all motor torque commands coming from the HCP 5, and preferably set default motor torque commands to zero Nm for the remainder of the key cycle of the vehicle. Preferably the ECM 23 receives the HCP 5 Status via the LAN 6. When HCP the State of Health is in the HCP Operational state, the ECM 23 operates normally to command engine output. When HCP State of Health is set to the<br><br>
HCP Fault state the ECM 23 commands engine torque to zero Nm and controls the engine state to engine-off.<br>
[0038]   The HCP 5 further tests functionality of the HCP State of Health monitor during a vehicle key-off period. While the test is in progress the HCP 5 sets Hybrid Control Process State of Health Test in Progress to TRUE and communicates this to the MCP-A 33 and MCP-B 34, preferably via the SPI buses 37 and 37". After a predetermined time delay after indication of the Test in Progress, the PLD 39 communicates a valid seed and the HCP 5 purposefully responds with an invalid key in response to the valid seed from the PLD 39. The PLD 39 performs fault detection, and indicates an HCP Fault on the discrete output to electric lines 41 and 41". The MCP-B 34 sends the signal 'Hybrid Control Processor State of Health Test Passed' to the HCP 5 via SPI bus 37" when the Hybrid Control Process State of Health Test in Progress is TRUE and the HCP State of Health indicates an HCP Fault. The HCP 5 monitors the Hybrid Control Processor Status on the LAN bus 6 and Hybrid Control Processor State of Health Test Passed on the SPI bus 37" during the HCP State of Health Monitor Functional Test. When the HCP 5 receives Hybrid Control Processor Status on the LAN bus 6 equal to HCP Fault and Hybrid Control Processor State of Health Test Passed is TRUE, it will set the test status of the HCP State of Health Monitor Functional Test to 'Passed' and return to normal seed/key behavior with the PLD 39. After a predetermined time delay, the Hybrid Control Process State of Health Monitor Functional Test in Progress is set to FALSE.  When the HCP 5 does not receive Hybrid Control Processor Status on the LAN bus 6 equal to HCP Fault and Hybrid Control Processor State of Health Test Passed is TRUE on the SPI<br><br>
bus 37" within the predetermined time period, the HCP 5 sets the test status of the HCP State of Health Monitor Functional Test to 'Fault'. The HCP 5 stores the HCP State of Health Monitor Functional Test in a non-volatile memory device. During a subsequent key-on event, if the State of Health indicates a fault, the HCP 5 preferably executes a re-test, and prohibits motor torque commands and engine torque commands above zero Nm if the re-test results in a fault.<br>
[0039]   Processor integrity is further monitored by executing test functions that detect inconsistencies in one of the memory devices, in general purpose and special purpose registers, ALU execution of instructions, program pointer errors, memory addressing errors, and TPU errors. Methodologies can be applied to detect inconsistencies, including detecting inconsistencies during initialization, detecting inconsistencies during normal execution by running a check function in the background, and detecting inconsistencies by executing a detection algorithm during one of the loop cycles. When an inconsistency is detected, the inconsistency is recorded and a remedial action can be taken. The remedial action is generally of global scope to place the powertrain system in a torque safe state. The remedial action will also include storing an OBD compliant code.<br>
[0040]   Integrity of system-related hardware including sensors, actuators, transceivers, the SPI buses 37 and the LAN bus 6 and related wiring harnesses can be determined using diagnostics software that monitors data internal to the control module, and rationalizing it in one of the loop cycles. When an inconsistency between monitored data and rationalized data is detected, the inconsistency is recorded as a mismatch count in a fault maturation algorithm,<br><br>
e.g., an X of Y routine wherein a fault is detected when X mismatches are observed out of immediately preceding Y observations. An example is a fault is detected when more than half the immediately preceding observations are mismatches occurring between the monitored data and the rationalized data. When the fault maturation algorithm achieves a threshold number of mismatching observations a fault will be set and a remedial action taken. The remedial action can be actuator-specific or across the entire control system, and preferably places the powertrain in a torque-safe state. The remedial action will also include storing an OBD compliant code for subsequent retrieval.   A diagnostic may preliminarily identify a fault pending, meaning an inconsistency has been detected but the fault maturation algorithm has not reached its threshold. Hardware integrity can be determined using diagnostics software that monitors the sensors and actuators of the control system. [0041]   Other torque security actions can include limiting an actuator command signal. This can include maximum and minimum limits on actuator command signals, and maximum rates of change on actuator command signals. Specifically, motor torque commands TA and TB can be limited to maximum and minimum motor torques, and changes in the motor torque commands TA and TB can be limited to maximum rate of change, e.g., 0.2g. [0042]   It is understood that modifications are allowable within the scope of the disclosure. The disclosure has been described with specific reference to the preferred embodiments and modifications thereto. Further modifications and alterations may occur to others upon reading and understanding the specification. It is intended to include all such modifications and alterations insofar as they come within the scope of the disclosure.<br><br>
CLAIMS<br>
1.	A method for monitoring a main control module operative to command<br>
first and second motor control processors of a hybrid powertrain system,<br>
the method comprising:<br>
signally connecting a programmable logic device to the main control module and the first and second motor control processors;<br>
communicating a first seed signal from the programmable logic device to the main control module;<br>
determining an invalid key signal in the main control module in response to the first seed signal; and<br>
communicating the invalid key signal to the programmable logic device.<br>
2.	The method of claim 1, further comprising<br>
communicating the first seed signal from the programmable logic device to the main control module during an immediately subsequent loop cycle;<br>
determining a valid key signal in the main control module in response to the first seed signal; and<br>
communicating the valid key signal to the programmable logic device.<br><br>
3.	The method of claim 2, further comprising:<br>
determining a state of a discrete output in the programmable logic device<br>
based upon the key signal; and relaying the state of the discrete output from the programmable logic<br>
device to the main control module and to each of the motor control<br>
processors.<br>
4.	A method for monitoring a main control module and first and second<br>
motor control processors operative to control first and second torque<br>
actuators of a hybrid powertrain system, the method comprising:<br>
implementing a programmable logic device;<br>
directly signally connecting a discrete output from the programmable<br>
logic device to the main control module and to each of the motor<br>
control processors; signally connecting the main control module and the programmable logic<br>
device via a first communications bus; signally connecting each of the main control module and the first motor<br>
control processor to a serial communications bus; communicating a seed signal from the programmable logic device to the<br>
main control module via the first communications bus; determining a key signal in the main control module based upon the seed<br>
signal; communicating the key signal to the programmable logic device via the<br>
first communications bus;<br><br>
determining a state of the discrete output in the programmable logic<br>
device based upon the key signal; directly communicating the state of the discrete output from the<br>
programmable logic device to the main control module and to each<br>
of the motor control processors via electric cables; and transmitting a signal determined based upon the state of the discrete<br>
output from the first motor control processor to the serial<br>
communications bus.<br>
5.	The method of claim 4, further comprising<br>
communicating a first state of the discrete output from the programmable<br>
logic device to each of the motor control processors when the key<br>
signal corresponds to the seed signal; and communicating a second state of the discrete output from the<br>
programmable logic device to each of the motor control processors<br>
when the key signal does not correspond to the seed signal.<br>
6.	The method of claim 5, further comprising effecting communications between the main control module and the first and second motor control processors when the key signal corresponds to the seed signal.<br>
7.	The method of claim 5, further comprising the first and second motor control processors selectively disregarding communications from the main control module when the key signal does not correspond to the seed signal.<br><br>
8.	The method of claim 7, comprising commanding zero torque output from the first and second torque actuators.<br>
9.	The method of claim 4, further comprising<br>
detecting a key-off event;<br>
communicating a test in progress from the main control module to the<br>
first and second control modules via second and third<br>
communications buses; communicating a seed signal from the programmable logic device to the<br>
main control module via the first communications bus; communicating an invalid key signal from the main control module to<br>
the programmable logic device via the first communications bus; determining and communicating a state of the discrete output in the<br>
programmable logic device based upon the invalid key signal to the<br>
main control module and to each of the motor control processors via<br>
the electric cables; and transmitting a signal that is determined based upon the state of the<br>
discrete output from the first motor control module to the serial<br>
communications bus.<br>
10.	The method of claim 9, comprising transmitting a signal indicative of a passed test when the state of the discrete output in the programmable logic device indicates a fault.<br><br><br><br>
11.	A method for monitoring a control module system including a main<br>
control module and first and second motor control processors operative<br>
to control torque actuators of a hybrid powertrain system, the method<br>
comprising:<br>
directly signally connecting a programmable logic device to a main<br>
control module; detecting a key-off period for the hybrid powertrain system; communicating a test in progress signal from the main control module to<br>
the first and second control modules; communicating a valid seed signal from the programmable logic device<br>
to the main control module; selecting and communicating an invalid key signal from the main control<br>
module to the programmable logic device in response to the valid<br>
seed signal; determining and communicating a discrete state from the programmable<br>
logic device based upon the valid seed signal and the invalid key<br>
signal during the test in progress signal.<br>
12.	The method of claim 11, comprising identifying a fault in the main control module when the discrete state from the programmable logic device does not indicate a fault within a predetermined time period.<br><br>
A method for monitoring a main control module operative to command first and second motor control processors of a hybrid powertrain system includes signally connecting a programmable logic device to the main control module and the first and second motor control processors, communicating a first seed signal from the programmable logic device to the main control module, and determining an invalid key signal in the main control module in response to the first seed signal. The invalid key signal is communicated to the programmable logic device.<br><br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/viewdoc.aspx?id=INfpZ6XibpPjkJB0gLBkIg==&amp;amp;loc=wDBSZCsAt7zoiVrqcFJsRw==" target="_blank" style="word-wrap:break-word;">http://ipindiaonline.gov.in/patentsearch/GrantedSearch/viewdoc.aspx?id=INfpZ6XibpPjkJB0gLBkIg==&amp;amp;loc=wDBSZCsAt7zoiVrqcFJsRw==</a></p>
		<br>
		<div class="pull-left">
			<a href="270088-auxiliary-support-case-for-at-least-one-piece-of-electrical-equipment.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="270090-managing-communications-between-computing-nodes.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>270089</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>1820/KOL/2008</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>49/2015</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>04-Dec-2015</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>27-Nov-2015</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>24-Oct-2008</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>GM GLOBAL TECHNOLOGY OPERATIONS, INC.</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>300 GM RENAISSANCE CENTER DETROIT, MICHIGAN</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>JAMES T. KURNIK</td>
											<td>4220 CENTER ROAD LINDEN MICHIGAN 48451</td>
										</tr>
										<tr>
											<td>2</td>
											<td>HANNE BUUR</td>
											<td>6945 CORRIGAN DRIVE BRIGHTON, MI. 48116</td>
										</tr>
										<tr>
											<td>3</td>
											<td>STEPHEN T. WEST</td>
											<td>11705 NORTH SHALBY 700 W NEW PALESTINE, INDIANA 46163</td>
										</tr>
										<tr>
											<td>4</td>
											<td>DAVID TURBY</td>
											<td>8866 BEEMAN RD. CHELSEA, MI. 48118</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>G06F19/00</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>N/A</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td></td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>60/983,165</td>
									<td>2007-10-27</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/270089-method-and-system-for-monitoring-processor-integritiy-in-a-distrubuted-control-module-system-for-a-powertrain-system by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 05:36:48 GMT -->
</html>
