<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/227065-a-network-system-for-performing-a-service by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 06:06:56 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 227065:&quot;A NETWORK SYSTEM FOR PERFORMING A SERVICE&quot;</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">&quot;A NETWORK SYSTEM FOR PERFORMING A SERVICE&quot;</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A method and system for performing a service on a home network having a plurality of home devices connected thereto, by: connecting a client device to the home network for displaying a user interface; executing a software agent on the client device for obtaining selection information for the network devices and displaying the selection information on a user interface displayed on the client device; selecting a first home device connected to the network form the user interface being displayed on the client device; reading first capabilities data for the first home device, where the first capabilities data includes information in a structured format for identifying the capabilities of the first home device; reading second capabilities data for a second home device connected to the network, where the second capabilities data includes information in the structured format for identifying the capabilities of the second home device; comparing the first and second capabilities data of the first and second home device, respectively; selecting the second home device from the user interface displayed on the client device; and sending control and command data from the client device to the first and second home devices to cause the first and second home devices to communicate with each other to perform the service.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>The present invention relates to the field of network systems, and more particularly, to home network having multiple devices connected thereto.<br>
Background Art<br>
A network generally includes a communication link and various devices with communication capability connected to the communication link. The devices include computers, peripheral devices, routers, storage devices, and appliances with processors and communication interfaces. An example of a network is a home network for a household in which various devices are interconnected. A usual household can contain several devices including personal computers and home devices that are typically found in the home. As such the term "device" typically includes logical devices or other units having functionality and an ability to exchange data, and can include not only all home devices but also general purpose computer. Home devices include such electronic devices as security systems, theater equipment, TVS, VCRs, stereo equipment, and direct broadcast satellite services or (DBSS), also known as digital satellite services (DSS), sprinkler systems, lighting systems, micro waves, dish washer, ovens/stoves, washers/dryers, and a processing system in an automobile.<br>
In general, home devices are used to perform: tasks that enhance a homeowner's life style and standard of living. For example, a dishwasher performs the talk of washing dirty dishes and relieves the homeowner of having to wash the dishes by hand. A VCR can record a TV program to allow a homeowner to watch a particular program at a tateir time. Security systems protect the homeowner's valuables and can reduce the homeowner's fear of unwanted entry<br>
Home devices, such as home theater equipment, are often controlled using a single common control unit, namely a remote control device. This single common control unit allows a homeowner to control and command several different home devices using a single interface. Thus, may manufacturers have developed control units for controlling and commanding their home devices from a single interface.<br>
One drawback associated with using the remote control unit to command and control home devices is that it provides static and command logic for controlling and commanding each home device. Therefore, a particular remote control unit can only control and command those home devices for which it includes the necessary control and command logic. For example, if a remote control unit comprises logic for controlling a television (TV), a video cassette recorder (VCR), and a digital video device (DVD), but not a compact disk (CD) unit, the remote control unit can not be used to command and control the CD unit. In addition, as new home devices are developed, the remote control unit will not be able to control and command the new home devices that require control and command logic that was not known at the time the remote control unit was developed.<br>
Further, typically a remote control unit can only be used to command and control those home devices that are within the signal range of the remote control unit. Therefore, a user cannot use the remote control unit from a single location in the house to control and command home devices that are interconnected, but located in separate areas of the home. For example, a VCR that is located upstairs in a bedroom may be connected to a TV that is downstairs in the family room. If a user wishes to play a tape contained in the VCR located upstairs in the bedroom, on the W located downstairs in the family room, the user cannot control and command both the W and the VCR from a single location.<br>
Another drawback associated with using remote control units is that known remote control units cannot control a plurality of diverse devices, and more particularly, cannot control a plurality of devices having different capabilities to communicate with each other in order to accomplish tasks or provide a service. Further, conventional network systems do not provide a mechanism for software applications in different network devices to automatically communicate with one another in order to accomplish tasks without direct user command.<br>
There is, therefore, a need for a method and a system which provides dynamic control and command devices in a home network. There is also a need for such a method and system to provide the ability to control a plurality of diverse devices Having different capabilities to communicate with each other in order to accomplish tasks or provide a service. There is also the need for such a method and system to provide the ability for various software applications to automatically command and control other various software applications, wherein said software applications can be located in different network devices.<br>
Summary of the Invention<br>
The present invention satisfies these needs. In one embodiment the present invention provides method and system for performing a service on a home network having a plurality of home devices connected thereto, by: connecting a client device to the home network for displaying a user interface; executing a software agent on the client device for obtaining selection information for the network devices and displaying the selection information on a user interface displayed on the client device; selecting a first home device connected to the network from the user interface being displayed on the client device; reading first capabilities data for the first home device, where the first capabilities data includes information in a structured format for identifying the capabilities of the first home device; reading second capabilities data for a second home device connected to the network, where<br>
the second capabilities data includes information in the structured format for identifying the capabilities of the second home device; comparing the first and second capabilities data of the first and second home devices, respectively; selecting the second home device from the user interface displayed on the client device; and sending control and command data from the client device to the first and second home devices to cause the first and second home devices to communicate with each other to perform the service.<br>
Preferably, the selection information on the user interface is updated to include selection information for the second home device if at least a portion of the first and second capabilities data match, whereby the first and second home devices are compatible. The selection information for each home device can include an iconic representation of the home device. And, the structured format can include the XML format.<br>
A third home device can be connected to the home network, where the third home device contains application interface description data in a structured format for device command control of the third home device by one or more other home devices over the network. The first home device can control the third home device by sending control and command information to the third home device utilizing said application interface description data. And, the second home device controlling the third home device by sending control and command information to the third home device utilizing said application interface description data.<br>
Brief Description of the Drawings<br>
These and other features, aspects and advantages of the present invention will become batter understood with regard to the following description, appended claims and accompanying drawings where:<br>
Figure 1 shows a block diagram on an embodiment of a network according to one aspect of the present invention;<br>
Ftgure 2 shows the block diagram of Figure 1 in an example device control and communication scenario;<br>
Figure 3 shows a block diagram of an example home network .system according to the present invention which includes a plurality of client and server devices;<br>
Figure 4 shows a block diagram of example embodiments of a client device and a server device of Figure 3;<br>
Figure 5 shows example embodiments of client devices;<br>
Figure 6 shows example embodiments of server devices;<br>
Figure 7 shows a block diagram of two example networked server devices capable of communication with, and control of, one another;<br>
Figure 8 shows a block diagram of an example architecture of an audio/video (A/V) model including examples of a source server device, a sink server device and a client device in a network;<br>
Figure 9 shows another example audio/video (A/V) model;<br>
Figure 10 shows an example capabilities data table for a network device;<br>
Figure 11 shows an example attribute data table for a network device;<br>
Figure 12 shows an example configuration of building blocks for generating command messages among networked devices;<br>
Figure 13 shows another example configuration of the building blocks of figure 12 for generating command messages;<br>
Figure 14 shews three examples of interaction among networked client and server devices;<br>
Figure 15 shows an example block diagram for definitions of API extensions of networked device interfaces;<br>
Figure 16 shows an example architecture for a server device application accessing the interface description document of another server device;<br>
Figure 17 shows another example inter-device control architecture between a controller server device and a controlled server device;<br>
-6-<br>
Figure 18 shows an embodiment of an XML protocol providing a Web standard common middleware layer in a communication stack at the API level between networked devices;<br>
Figure 19 shows another embodiment of server device to server device command and control architecture;<br>
Figure 20 snows the relationship between a device interface library and consumer electronics definition data base for home devices;<br>
Figure 21 shows hierarchal form of an embodiment of a device interface definition;<br>
Figure 22 shows an example of layers in device interface definition of Figure 21;<br>
Figure 23 shows a command transmission and interpretation process between a sender and receiver device; and<br>
Figure 24 shows an example table of a partial list of packet types and formate for providing translation services according to an aspect of the present invention.<br>
Detailed Description of the invention<br>
In one aspect, the present invention provides inter-device communication in a network such as a home network. As home devices become more intelligent and can share information, inter-device communication allows a user to interconnect devices in a network to take advantage of the information sharing capabilities of those devices. As such, inter-device communication plays a crucial role in affording a user with the ability to fufly and flexibly utilize the networked devices.<br>
Referring to Figure 1, in an embodiment of the present invention, a network 10 includes at least one client device 12 and at least one server device 14 interconnected via a communication link 16. The communication link 16 can include a 1394 serial bus providing a physical layer (medium) for sending and receiving data between the various connected home devices. The 1394 serial bus supports both time-multiplexed audio/video (AA/) streams<br>
and standard IP (Internet Protocol) communications. In certain embodiments, a home network uses an IP network layer as the communication layer for the home network. However, other communication protocols could be used to provide communication for the home network.<br>
Each client device 12 may communicate with one or more server devices 14 in the network 10. Further, each server device 14 may communicate with one or more other server devices 14, and one or more client devices 12, in the network 10. Each client device 12 can include a user communication interface including input devices such as a mouse and keyboard for receiving user input, and a display for providing a control user interface for a user to interact with the networked devices. The user interface can include a graphical user interface (GUI) display 18 for providing information to the user. Referring to Figure 2, as defined herein, each server device 14 provides a service for the user, except control user interface, and each client device 12 provides control user interface for user interaction with the network 10. As such, only client devices 12 interact directly with users, and server devices 14 interact only with client devices 12 and other server devices 14. Example services can include MPEG sourcing/sinking and display services.<br>
Figure 3 shows a block diagram of an example home network 10 that includes a plurality of client devices 12 and a plurality of server devices 14. Each server device 14 may include hardware as a resource in the network for providing services to the user. Further, each server device 14 may store a server or service control program 20 for controlling the server hardware, and include a graphical control object (GCO) user interface description 22 for user interface with the server control program 20 as shown in Figure 4.<br>
For control between a controlling client device 12 and a controlled server device 14, the client device 12 accesses the GCO 22 of the server device 14 by, for example, transferring the GCO 22 from the server device 14<br>
to the client device 12 over the network. The client device 12 then uses the transferred GCO 22 to create a control user interface GU118 for the user to communicate with the control program 20 of the server device 14 from the client device 12 over the network. The user provides command and control to at least the control program 20 of the server device 14 from the client device 12.<br>
Storing the GCO 22 of each server device 14 in the server device itself may reduce the processing and storage requirements of the client devices 12 in networks with several server devices 14. Further, storing the GCOs 22 in the server devices 14 may allow each server device 14 to provide its own GUI look and feel to tie user, and allows for modification or updating of the GCOs 22 without modifications to client devices 12.<br>
Referring to Figure 4, to provide command and control between a client device 12 and the server device 14, in one embodiment, the client device 12 can include a Tenderer 24 for displaying a GU118 using a GCO 22 stored in the client device 12 or transferred to the client device 12 over the network from a desired server device 14. For example, in an initial device selection phase, the client device 12 can fetch the GCO 22 of at least one server device 14 over the network, and the Tenderer 24 displays a GU118 using the GCO 22 for controlling the server device 14. Preferably, the GU118 is customized to the server device 14 and can include a built-in command set for controlling the server device 14.<br>
In addition, the GUIs 18 of various server devices 14 may include commonalities such as: (1) a common GCO model type for the client device Tenderer 24 to display GUIs 18, (2) common communication protocols for transferring the GCOs 22 from various server devices 14 to the client device 12, and (3) common communication protocols for GUI interaction from the client device 12 to the control program 20 of the corresponding server device<br>
14, wherein the client device 12 does not require a built-in knowledge of a particular server device 14 being controlled.<br>
Referring still to Figure 4, a server device 14 may include one or more server control programs 20 to control the server hardware for providing a service. The GUI interface 18 from the GCO 22 of the server device 14 provides interface to the server device control programs 20. The server device 14 may also include control state data 26 indicating the control status of the server device 14 and server device hardware in providing a requested service.<br>
For example, the control state data 26 can include the status of control information in the GUI 18 for the server device 14, such as timer setup for a recording action in a VCR server device. The control state data 26 is stored in the controlled server device 14, and displayed to a user through the GUI 18 of the server device 14 at the controlling client device 12, for user control of the server device 14. Preferably, the controlling client device 12 for displaying the GUI 18 of the server device 14 does not retain knowledge of the control state data 26 for the controlled server device 14.<br>
Each server device 14 can be controlled by one or more client devices 12. As such, the control state data 26 stored in the server device 14 includes status of the information in the GU118 of the server device 14 at each of the controlling client devices 12. For example, when the user controls a server device 14 using a first client device 12, upon completion of the user control, the information in the GU118 of the server device 14 at the first client device 12 is saved by the server device 14 in the control state data 26 of the server device 14.<br>
Alternatively, while the user is interacting with the GUI 18 of the server device 14 at the first client device 12, the control state data 26 of the server device 14 is updated with the information in the GUI 18 of the server device<br>
14 at the first client device 12, and upon completion of user control, the control state data 26 is retained in the server device 14. When the user controls the server device 14 using a second client device 12, the'.control state data 26 is made available to the user via the GU118 of the server device 14 at the second client device 12 for further control. The user can also use the first client device 12 at a later time to control the server device 14, whereupon the control state data 26 is made available to the user via the GUI 18 of the server device 14 at the first client device 12 for further control. The server device 14 can also include a clock 28, or maintains the current time, to allow time delay action based on time or clock input from a user, as described below.<br>
A client device 12 and a server device 14 can be physically bundled together as one unit such as a DTV. In that case, the server device 14 includes a control program 20 for controlling the server hardware, and the client device 12 provides control user interface to the server control program 20 for control and command of at least the server hardware. Figure 5 shows examples of client devices 12 that may include: (1) a PDA(RemoteC) for displaying a GUI, (2) a DW(STB) for displaying a GUI and including a sink server comprising audio and/or video program streak destination server, and (3) a PC for displaying a GUI and including at least one server device for providing multiple services. Hardware and executables in a DTV or PC client device can also be controlled by other client devices. Figure 6 shows example server devices 14, including: (1) a DVDP SmartCard as a source server device, (2) an Audio Amplifier as a sink server device, (3) a DVCR as either a source or a sink server device, and (4) a Management Server for managing remote server devices. The Management Server can be included in a DBS-STB, Cable TV-STB, or ATSC-STB, for example. Such devices include a Management Server for local control or management of the internal workings of the STB. Further, external servers accessed through an external network can be utilized by local client devices for services such as Video-on-Demand, Enhanced-TV, and Internet commerce, for example.<br>
Referring to Figure 7, communication and control between two server devices 14 is accomplished by the control programs 20 of the server devices 14 communicating command and control data therebetween. A server device 14 can control one or more other server devices 14 over the network. And, a server device 14 can be controlled by one or more server devices 14, and by one or more client devices 12. Further, a user can utilize a client device 12 to control and commnrtd a first set of server devices 14, and the first set of server devices 14 can automatically command and control a second set of server devices 14 without user involvement, as necessary to perform services to the user.<br>
For example, for automatic time-delay operation, a user can "log on" to a client device 12 to control a first set of server devices 14 and specify desired services. The user then "logs off1 from the client device 12-. The first set of server devices 14 perform communication and control among themselves, and at a later time, one or more of server devices 14 in the first set automatically control a second set of server devices 14 as necessary to collectively provide the desired services without user involvement.<br>
Figure 7 shows example embodiments of two server devices 14 capable of communication with, and control of, one another. Each server device 14 includes a control program 20, a clock 28 and control state data 26 described above. Each server device 14 can also include a GCO 22 for the server device 14 to be directly controlled by a client device 12. However; a QCO 22 does not need to be included in a server device 14 that is not directly controlled by a client device 12 and only communicates with other server devices 14. Each server device 14 also includes a command language (CL) interface 30 and a library of commands. The library of commands includes the commands that the server device 14 utilizes to send and receive information for providing its service. However, a command language is not necessary for user control as shown in Figure 4 and described above.<br>
Figure 8 shows an example audio/video (A/V) model including a source server device 14, a sink server device 14 and a client device 12 in the network. The source server device 14 includes a control program ,20 for controlling data stream source hardware 32 of the source server device 14, and the sink server device 14 includes a control program 20 for controlling date stream sink hardware 34 of the sink server device 14. In an example operation, a user utilizes the client device 12 to control the source server device 14 to start the data stream source hardware 32, and to control the sink server device 14 to start the date stream sink hardware 34. Upon initiation of date transfer from the data stream source hardware 32 to the data stream sink hardware 34, the user can relinquish the client device 12. Alternatively, the user can program the initiation of the data transfer for a future time and relinquish the client device 12. Thereafter, the data stream source hardware 32 of the source server device 14 and the data stream sink hardware 34 of the sink server device 14 automatically initiate the data transfer at the time programmed by the user.<br>
For example, the data stream source hardware 32 can include a Tuner-Access Device such as a Direct Broadcast Satellite (DBS). A DBS is a multi-channel alternative to cable television and provides cable-like television programming directly from satellites on small (18 inch to 3-foot diameter) satellite dishes. With DBS, several standard analog television signals are digitally compressed onto a single satellite transponder thereby allowing up to 200 or more channels receivable with a dish pointed at a fixed position in the sky. The date stream sink hardware 34 can include a Digital Video Cassette Recorder (DVCR) which comprises s digital VCR that is able to decode compressed digital video signals on playback. The user provides command and control date including "time-delay record" event data for the DVCR and a lime-delay select a program" event data for the Tuner-Access Device. After the time-delay, the Tuner-Access Device selects the desired program, and sources program data to the DVCR which receives and records the program data without further control actions from the user<br>
Figure 9 shows another example audio/video (A/V) model including at least a source server device 14 SERVER1, a sink server device 14 SERVER2 and a client device 12 in the network 10. The client device 12 includes a session manager 36 with a user interface for displaying selection information for a user to select and control the server devices 14 SERVER1, SERVER2 and other server devices 14 such as SERVERS and SERVER4 (not shown). The selection information can include iconic symbols designated as Sen/1, Serv2, Sen/3 and Serv4 in the session manger 36 for a user to select the server devices 14 SERVER1, SERVER2, SERVERS and SERVER4, respectively. The source sever device 14 SERVER1 can include a DVCR and the sink server device 14 SERVER2 can include a 1/2DTV.<br>
In one example operation, upon selection of the server devices 14 SERVER1 and SEKVER2, the client device 12 transfers the GCO 22 of each server device 14 to the client device and displays a corresponding GU118 for each of the server devices 14 SERVER1 and SERVER2. The user can interact with the GU118 of each server device 14 to provide command and control to the corresponding server device 14 for service. Each server device 14 can provide service alone or in combination with other server devices 14. Further, the session manager 36 transfers control state data 26 between the GUIs 18 of the server devices 14 in the client device 12 as necessary for the corresponding server devices 14 to perform a service. Based on the user command and control information, two or more of the server devices 14 can communicate command and control information therebetween to provide a user requested service.<br>
The session manager 36 can include a software agent which functions to access and display available home network services provided by various server devices 14 in the network 10. The software agent can additionally match the capabilities of various server devices 14 in the network 10 and display selection information for only those server devices 14 that have compatible capabilities. Further, the session manager 36 can match the<br>
selections made in the GUt 18 of one server device 14 to the selections in GU118 of another server device 18 to help the user provide meaningful command and control information to the server devices 14.<br>
In another example operation, the session manager 36 executes the software agent which searches the network and discovers the server devices 14 connected to the network. The software agent also accesses capabilities data stored in each server device 14 to determine the capabilities of the server devices 14 and provide information about those capabilities to the user. The session manager 36 then displays the selection icons Servl, Serv2, ServS and Serv4 for the server devices SERVER1, SERVER2, SERVERS and SERVER 4 as shown in Figure 9.<br>
The session manager 36 initially enables all the selection icons Sen/1, Serv2, ServS and Serv4 to allow the user to select from among all four selection icons. After the user selects the server device SERVER 1 by clicking on the Servl selection icon, the session manager 36 determines that the server devices SERVERS and SERVER 4 are incompatible in capability With the server device SERVER1. As such, the session manager 36 disables the selection icons ServS and Serv 4 for server devices SERVERS and SERVER4, respectively. The user can then click on the icon Serv2 to command and control tie server device SERVER2.<br>
As the user interacts with the GU118 of a selected server device 14, control and command information input by the user into each GU118 provide additional capabilities information which affect further server device selections by the user. For example, if a VCR server device 14 is selected, further action by the session manager 36 in enabling or disabling selection icons for other server devices 14 is affected by a user decision to play or record.<br>
Each server device 14 in the network has one or more service capabilities as discussed above by way of example with reference to the<br>
server devices in Figure 9. Each service capability includes sourcmg or sinking of information. For example, a TV has the sinking capability of receiving video and ai.'dio streams, a VCR device can source (transmit) and sink (receive) video and audio signals, and a PC may be able to transmit and receive video, audio and data. Each sourcing capability has a complementing, and compatible, sinking capability. Similarly, each sinking capability has a complementing, and compatible, sourcing capability.   For example, a video output capability of one device is complemented by a video input capability of another device.<br>
Since each device 14 can be a source or sink for several different services on the network, each device 14 stores a capabilities data table (Capabilities Tafote 1) as shown by example in Figure 10.   The first column of Table 1 identifies the service capabilities of a device 14, and the second column identifies whether the device 14 is a source or a sink for a corresponding service in the first column. Using the capabilities data Table 1, new services can be implemented while maintaining compatibility with older devices. For example, if a new service is developed that is compatible with an older service, both the new and the old service can be entered into the capabilities data Table 1 for a device implementing the new service, whereby the implementing device remains compatible with older devices using the old service.<br>
In one implementation, a Device Manager conducts a matching or comparison of device source and sink services. For example, the Device Manager can be implemented as a software agent to compare the capabilities or properties of various devices 14 and locate devices 14 with matching capabilities. For example, in a case where the service is a media stream from a first device 14 across the network to a second device 14, the Device Manager compares the capabilities of the first and second devices 14 to assist the user in making a sensible selection of the second device 14 which<br>
is compatible with the capabilities of the first device 14.   The following is an example list of service capabilities for an embodiment of a server device 14:<br>
Stream_format_video_dv Stf»am-_format_video__mpeg2tpt Streamjormat_video_dsstpt Streamjofmat_video_mpeg2pes Stream_format_video_mpeg210801 -tpt<br>
Each device 14 can further store an attribute data table (Attribute Table 2) including pertinent attributes of the device, shown by example in Figure 11 f A name and a value define each attribute within Table 2. Though character lengths are shown in Table 2, they are not required. The attribute data is available to other devices 14 on the network 10 to facilitate interoperability and to store device information. For example, a Device Page as described below uses the Attribute Table 2 to store the device name. Other fields can be added to the attribute data Table 2 as necessary.<br>
In the user-to-client device control model described above, attribute date can be displayed on the GUI page of the server device 14 at the client device 12. Alternatively, a second level device information home page can be utilized to display said attribute data. Further, the attribute data in the form of a text or Extensible Markup Language (XML) file can be accessed by a software agent. For the device-to-device control model, the attribute data for the controlled device is stored in the device interface application interface.<br>
The Device Location attribute field in the Attribute Table 2 is used to store the location or group for each device 14. The Device Type attribute field specifies the device type, such as VCR, DVD, DTV, Camcorder, PC, Security System, etc. for the particular device 14. The Device Type attributes field is used to select a default device icon to represent the device within the Device Page if tie device itself does not supply one. The Attribute Table 2 can include multiple entries for the Default Source and the Default Sink attributes fields. Each such entry represents a different default source or sink device 14 for each data type handled by the device 14<br>
Preferably, the capabilities and attributes data are packaged into structured data using a hierarchical language.   This provides a common method of retrieving the capabilities and attributes data that are used for other purposes such as in GCO transfer and server device-to-server device control. As an example, the attributes data can include the following structured data format:<br><deviceattri8utes><br><attribute name value="Samsung&lt;br/&gt;
&lt;ATTRIBUTE name«Manufacturer URL value=www.samsung.com&gt;&lt;br/&gt;
&lt;ATTR!BUTE name*Manufacturerlcon value=" logo.gif><attribute name="DeviceName" value="Samsung DSS"><attribute name value="SCH1900"><attrj8ute name="DevteeType" value="DDS"><attribute name value="Livingroom"><attribute narne="Devicelcon" value="device.gif'&gt; &lt;ATTR1BUTE name=DeviceAddress value=105.144.30.17&gt; &lt;/DEVICEATTRIBUTES&gt;&lt;br/&gt;
As an example, the capabilities data can include the following structured format:&lt;br/&gt;
&lt;DEVICECAPABILITIES&gt;&lt;br/&gt;
" capability type><br><capability type value="Sink"><br><capabiuty type value><br><gapasiilty type value><br>
An application interface language is utilized to allow different server devices 14 to perform device-to-device control, including sever device-to-server device control. The application interface language includes command languages, and can to described using XML, as detailed below. The control program 20 of one server device 14 remotely controls the control prograrn 20 of another server device 14 over the network, without using GUIs 18 or user involvement. An example of device-to-device control is automatic operation. A user initially provides control through a client device 12 for a desired service, and subsequently two or more server devices 14 automatically<br>
communicate and control one another without further user interaction to provide the service<br>
Referring to Figures 12 and 13, preferably a standard application interface language is utilized to allow interoperability among various control programs 20 in various server devices 14. In one embodiment, the standard application interface language includes the following building blocks: (1) functional specification of service 40 such as in a service function database, (2) a block where elements of a message are composed 42, (3) industry standard format 44, (4) message compression 46, and (5) message string construction 48 to output structured message data.<br>
Figure 12 shows an example configuration of the building blocks to perform the function of generating command messages. Each message item is composed from the functional specification of service and standardized by selecting an industry standardized compressed form (Hex) label for the message item. A group of such message items are assembled to create a complete command string. Existing command languages such as CAL and AV/C operate as shown in Figure 12. However, such command language mechanisms specify binary or hex code messages and system operation on physical devices on the physical interface, and are based on hardware specifications. Therefore, such command languages may be less desirable for a network layer based control mechanism where a control system specification includes naming, addressing, device capability discovery, communication language and command messages at the application level software level, where one software application program 20 in a controller device 14 locates and controls another software application 20 program in a controlled device 14 over the network 10. Said control mechanism is more suitable for devices such as digital appliances including appliances (e.g., DVCR) as well as multi-purpose, multi-application devices such as computers.Figure 13 shows a preferred example configuration of the building blocks of Figure 12 to perform the function of generating command messages.  In Figure 13, the positions of the industry standard format 44 and the message compression 46 are different than in Figure 12. A number of textual standard forms are selected from the functional specification service 40 to make a complete message. Later the message may be compressed by a lower layer of the protocol stack.   Figure 13 represents a method of performing service or device command and control for consumer electronics (CE). Message composition can be defined by the XML standard syntax and compression can be performed by another protocol layer such as HTTP. A command interface language is utilized at the application software 20 interface level, rather than lower hardware levels. As such, the network protocol stack is governed by commands in said language, and each of a controller device 14 and controlled device 14 can be viewed as integrated components of the network for message transmission therebetween.<br>
Referring to Figure 14, three different instances of interaction among client devices 12 and server devices 14 are shown.  In the first instance "A", a human user communicates with a remote service application "S".   The user utilizes a browser in a client device 12 as the user interface, wherein the browser controls service programs 20 in the service application "S" and receives response in Hyper Text Markup Language (HTML) or XML formats. A secondary server is included with the browser to accept XML based asynchronous command message postings. For example, for a DVCR the secondary server 14 can accept command messages such as "VCR FAILED: TAPE BROKE." A software agent including a browser can be utilized to display the command messages for a user in the browser's GUI for later attention by the user and control of the DVCR. Preferably, an XML based client device 12 includes an HTTP1.1 server capability to respond to command initiated elsewhere for server device to server device command and control.<br><br>
In the second instance "B", the user is replaced by a software client control program 50. The software client control program 50 generates XML based command postings to the service application "S" and receives back XML command postings. And, in the third instance "C", the software client control program 50 is replaced by an application such a server device control program 20, wherein commands and responses are exchanged between two service applications 20.   In that regard, instance "B" is a special case of instance "C" with a null service.<br>
An application interface language based on XML is used for control between a first server device 14 and a second sever device 14 (device-to-device or service-to-service) for devices or services that are world wide web (Web) enabled and Internet enabled. The application interface language is based on the Web standard, middleware layer. In one embodiment, device-to-device control includes remotely controlling the control program 20 or Application, in one server device 14 from another server device 14 in the network 10. As such, the interfaces (API) to such Applications 20 are made available over the network using API extensions. Preferably, the API extensions utilize a standard format, such as an XML-based interface, to provide overall interoperability.<br>
Referring now Figure 15, there is shown block diagram definitions of API extensions for a first Application A, designated as Service A, and a second Application B, designated as Service B, communicating over the network 10. For example, the Service A can be the control program for a first server device A in the network, and the Service B can be the control program for a second server device 8 in the network. The server device 8 sends commands to the server device A. For this example, the first and second service devices A and 8 can include CE devices.<br>
Referring to the API extensions for the Service A, the first upper-most block 52 provides a comprehensive definition or data base of CE objects and<br><br>
methods using English words to describe CE devices.  The comprehensive definition or data base can also be in C, XML or other formats capable of representing objects and their respective methods.   The comprehensive definition or data base utilizing XML is termed XCE definition. The second block 54 provides a format for representation of an API in XML form for all devices 14, designated as an interface data type definition INTERFACE.DTD.<br>
A software agent, designated as Tool A, utilizes a subset of the XCE definition for Service A, and uses the interface data type INTERFACE.DTD for Service A to create an XML form document, INTERFACE-A.XML. The document INTERFACE-A.XML describes the objects and methods supported by the Service A according to the document type definition INTERFACE.DTD for Service A. Other data type definitions can also be used to create the INTERFACE-A.XML document.<br>
The software Tool A also creates a look-up table 56 to convert from XML messages from Service B on the network interface, to API definitions for Service A, programmed in C for example, and complied to executable binary. Preferably, the look-up table 56 is created at compile time, whereby during run-time, incoming XML form method messages (commands) from Service B are converted to the API format created by the complied application C code for Service A. The look-up 56 table provides run-time translation of XML object method calls from Service B into device native language calls for Service A. The look-up table 56 is complied with the device control program 20 for local execution on the server device A for Service A.<br>
The INTERFACE-A.XML can be used by Service A for validity checks if it encounters an error in a received message. The INTERFACE-A.XML can also be used by a foreign Application such as Service B to determine the message format for Service A before communicating with Service A. Further, if a message from Service B to Service A causes an error, Service B can access the INTERFACE-A.XML document to diagnose the error.<br><br>
Referring to the API extensions for the Service B, the first block 58 provides a comprehensive definition or data base of CE objects such as the XCE definition for Service A above. The next block 60 provides a.language definition for making XML form method (command) calls to remote API services or devices such as the API for Service A. The language definition is a document type definition Method Request CALL.DTD which describes interaction with objects on the network.<br>
A software agent, designated as Tool B, utilizes at least a subset of the objects and methods in the XCE definition for Service B and the CALL.DTD document, to generate a look-up table 62 for converting commands from a complied C program code for Service B into XML form method requests. As such, the look-up table 62 provides conversion between a method invoked by Service B (e.g., "PLAY") and the XML document or message that carries the method call across the network interface to Service A, for example. The subset of the XCE definition used by software Tool B depends on the extent and nature of use of the network. For example, the subset can be selected to provide global or restricted use of all available services on a home network.<br>
Therefore, the API extensions provide for communication between various devices on the network using XML. In the example above, the program code 20 for Service B generates method calls to an API, and the API calls are converted to XML form to comply with the Web/Internet standard XML for inter-device communication. The XML method calls (messages) are sent to Service A over the network, and Service A reconverts the XML method calls from the network interface to program code API definitions for Service A. This conversion and re-conversion provides Web/lntemet compatibility for diverse devices in the network with program code APIs which would otherwise require binary compatibility between different devices. Examples of the XML interface blocks utilizing the block diagrams in of Figure 15 are shown below.<br><br>
im.evi.cK.:..: . dcd<br>
lules for describing an object: interface in xml<br>
Type        CDATA ^REQUIRED<br><br>
interface.h<br>
example object interface in c<br>
typedef struct: St;ream j in c id.<br>
void StreamPlay (int id, int speed); void StresmStop {int id) ,-<br>
interface.xml<br>
the same object in xtnl using ruels of interface.dtd<br>
cobject&gt;Stream<br><method>Play<br><parameter type="int">id</parameter><parameter type="int">speed</parameter></method><method>Stop<br><parameter type="int">id</parameter></method><object><br>
call,dtd<br>
rules for describing a c function call in xml<br><br><br><br>
#PCDATA&gt;<br>
CDATA ^REQUIRED<br><br><br><br><br>
(ttPCDATA,  (parameter)+)&gt; (#PCDATA)&gt; (object,method)&gt;<br><br><br><br>
controller,c<br>
example controller command in c<br>
StreamPlay (OxOlae, 500) ;<br>
call.xml<br>
the same command in xml using call.dtd<br><!-- example to play a stream --><br><object>Stream</object><br><method>Play</method><br>
parameter value*"500"&gt;speed<br>
Further, the above provides examples of interface definitions INTERFACE.DTD and CALL.DTD used to create description documents of available services, INTERFACE.XML, described above. The CALL.DTD definition includes a rule set for generating method call or function call message such as XML Remote Procedure Call (RPC) or XMLRPC messages. The CALL.DTD definition describes an output interface of a controller service 14. In a home network, for example, INTERFACE.XML represents the services available on the home network. The available services are a subset of the entire services in the CE space.<br><br>
In a One-Touch-Record (OTR) scenario, a user is in control of a Tuner-Access-Device such as a Satellite STB. The user controls the tuning using an Electronic Program Guide .(EPG) such as a graphical user interface representation of program listings. OTR record provides the user with a service including selection of a future program from the EPG for recording without the user accessing the VCR graphical user interface to program the VCR for a Time Delayed Recording. OTR automates the control of the VCR. Below is an example control list of actions in OTR.XML: (1) StreamOpen = play the selected program stream output to the network from a Satellite STB; for OTR this control is local to the STB device; (2) StorageOpen = open a storage service; and (3) StorageRecord = Send the Record command across the network to the VCR.<br>
call.dtd<br>
rules for describing a c function call in xml<br><br><br><br><br>
parameter parameter value<br><br>
#PCDATA&gt;<br>
CDATA flREQUIRED<br><br><br><br><br>
(#PCDATA, (parameter)+)&gt; (#PCDATA)&gt; (object.method)&gt;<br><br><br><br>
interface.dtd<br>
example for describing an object interface in xml<br><br><br><br><br>
#PCDATA&gt;<br>
CDATA #REQUIRED<br><br><br><br><br>
(8PCDATA, (parameter)+)&gt; (tfPCDATA, method*)&gt;<br><br><br><br>
interface.xml<br>
this document describes various CE services offered -a<br><br>
subset of the whole CE space.<br><?xml vc.rsion= "l. 0"?><br><br><object>Stream<br><method>Open<br><parameter type="int">id</parameter><parameter type="int">channel</parameter></method><method>Close<br><parameter type="int">id</parameter></method></object> <object>Cbntrol<br><method>Set<br><parameter type="int">id</parameter><parameter type="int">level</parameter></method></object><br>
cobject&gt;Storage<br><method>Open<br><parameter type="int">id</parameter><br><parameter type="int">channel</parameter></method><method>Record<br><parameter type="int">id</parameter></method><method>Play<br><parameter type="int">id</parameter><br><parameter type="int">speed</parameter></method><method>Stop<br><parameter type="int">id</parameter></method><method>Close<br><parameter type="int">id</parameter></method></object><br><object>Display<br><method>Open<br><parameter type="int">id</parameter><br><parameter type="int">channel</parameter></method><method>Render<br><parameter type="int">id</parameter></method><method>Blank<br><parameter type->id</parameter></method><method>Control<br><parameter type="int">id</parameter><br>
• pai aiiietei    Lypr- " i in. " -•<:.: id> •:parameLe:    t;ype-"int " -level 
c/method&gt;<br><mechod>Close<br><parameter type="int">id</parameter><br></mechod></:.:></method></object><br>
otr.xml<br>
an xml representation of one touch record<br>
c representation:<br>
StreamOpen (100, 2) ;/* play a stream (pushed by satellite feed<br>
StorageOpen (24,2);/* open a storage service */ StorageRecord (24);/* record the stream */<br><?xrol version="l . 0"?><br><br><object>Stream</object><br><method>Open<br><parameter value="100">id</parameter> ^parameter value= "2 " &gt; channel <br><object>Storage</object><br><method>Open<br><parameter value=" 100 ">id</parameter><parameter value=" 2 ">channel <br><object>Storage</object><br><method>Record</method><br><parameter value=" 100 ">id<br>
As discussed above in relation to Figure 15, a first device 6 can access the INTERFACE.XML document of a second device A to examine the device capabilities and API interface details of the second device A and determine supported functionality and command details of the second device A. In particular, the first device 8 can determine overlapping, and therefore useable, methods supported by first device B and the second device A. Figure 16 shows an example wherein a first server device B including an<br>
Application B accesses the INTERFACE-A.XML document of a second server device A including an Application A.   The first server device B includes a INTERFACE-B.XML document for comparison with that of a INTERFACE-A.XML document in the second server device A.<br>
In one scenario, the first server device B wishes to control the second sever device A in the network. The INTERFACE-A.XML document of the second device A is transferred from the second server device A to the first server device B and used by Application B to query the capabilities and API interface methods of the second server device A. This allows the first server device B to control the second server device A utilizing XML remote procedure calls XMLRPC. In another scenario, the first server device B performs the above steps after attempting to communicate with the second server device A at least once, and failed to establish communication. Yet in another scenario the first server device B queries the INTERFACE-A.XML document in the second server device A remotely without transferring the INTERFACE-A.XML document to the first server device B.<br>
Upon examining the contents of the INTERFACE-A.XML document, the first server device B can create commands for sending to the second server device A in XML format as described above. Generally, the first server device B can interpret at least a portion of the contents of the INTERFACE-A.XML document that overlaps with a subset of the XCE definition used by the first and second server devices B and A as described above. If the first server device 6 is unable to interpret a portion of the contents of the INTERFACE-A.XML document, then the first server device 6 can ignore that portion, or fetch an application to assist it in interpreting that portion, by translation as described further below.<br>
Referring to Figure 17, another example device-to-device or inter-device control between a controller server device 14 and a controlled server device 14 is shown. The controller device 14 includes a controller application<br>
E and the controlled device 14 includes an application executable C.  The controlled device 14 further includes INTERFACE-A.XML, the application interface description A of the application C.   Application E accesses the application interface description A in the controlled device 14 to query the capabilities and API interface methods of the controlled server device 14. Application Ethen commands and controls application C using XML remote procedure calls to control hardware or service D of the controlled device 14. A scheduler device can be a case of a controller device 14, driven by time of day such as Time-Delay-Record controller in a VCR.<br>
In a first example, the application E accesses the application interface description A by remote query over the network.  In a second example, the application E accesses the application interface description A by transferring a copy of the application interface description A from the controlled device 14 to the controller device 14. The application Ethen queries the interface description A locally.   In a third example, the application interface description A is transferred to a library device 64 which provides library space for interface descriptions, and the application E remotely queries the interface description A in the library.   The library device 64 stored the address (URI) of the associated applications available for direct control action and responses.<br>
Referring to Figure 18, the XML protocol provides a Web standard common middleware layer in a communication stack 66 at the API level between applications 20 of various devices 14 in the network. In each device 14, applications at the top of the communication stack send and receive communication messages over the network, and communicate with software layers in the device stack that locally control the device hardware or service software for the device.<br>
A first XML layer API, designated as XML Layer OUT 68, is used for sending messages, and a second XML layer API, designated as XML Layer IN 70, is used for receiving messages. The XCE definition and the XML<br>
'defmition of a method call, namely the document type definition CALL.DTD described above, are used to create the XML Layer OUT 68. Further the XCE definition and the XML definition for a method call, namely document type definition INTERFACE.DTD described above, are used to create the XML Layer IN 70. For example a controller application utilizes the XML Layer OUT 68 and a controlled application utilizes the XML Layer IN 70.<br>
Referring to Figure 19, another embodiment of server device-to-server device command and control architecture is shown. An XML-based control architecture is utilized for device-to-device (service to service) control for Web and Internet enabled devices or services. A first device A can remotely control an application 20 in a second device B over the network using XML command messages. The interface to each device includes interfaces to the applications in the device, and is described in XML format. Said interfaces can be extended and made available on the middleware layer for retrieval and interpretation by other devices over the network, as described further below.<br>
Each of the server devices A and B includes hardware and software for controlling other server devices over the network and for being controlled by other server devices over the network. In Figure 19, the home network device A is a controller device or module, and the home network device B is a controlled device or module. Each of the devices A and B includes a local Device XML Interface 72 comprising an interface document INTERFACE.XML and a document type definition INTERFACE.DTD. The INTERFACE.XML document includes a description of the objects, methods and parameters supported by the corresponding device 14. The INTERFACE.DTD document can be used for validity checks specific to the XML interface of the device, as described above.<br>
Each of the devices A and B also includes an XML parser 74, comprising program code for parsing and validating XML messages, such as XML interface and XMLRPC commands. The XML parser 74 is similar to<br>
said XML Layer IN 70 described above with reference to Figure 18.   Further, each of the devices A and B includes an XMLRPG encoder and decoder (code";) 76 for encoding method names and. parameters of an outgoing call in an XMLRPC message, and for decoding an incoming XMLRPC message after it is parsed, to retrieve the method name and parameters therein. The XMLRPC codec 76 is independent of the device XML interface 72 and of the device-to-device control architecture, thereby allowing use of different XMLRPC formats without changing other aspect of the device to device control architecture.<br>
An Interface Fetcher comprising program code, is utilized by each of the devices A and 6 to fetch the device interface of another device directly from another device or from a home network Interface Library 80. When a device 14 is a controller device, a controller application program code 82 in the controller device 14 effects command and control of other devices 14 over the network, by supervising software and hardware in the controller device 14 such as the XML parser 74, the interface fetcher 78 and the XMLRPC codec 76, When a device 14 is a controlled device, a controlled application program code 84 in the controlled device 14 supervises software and hardware in the device 14 for the device 14 to be controlled by other devices 14. A Home Network Device Web server 86 in each of the devices A and 6 manages communication between the devices over the network. An XML to Native Lookup Table 88 in each of the devices A and 8 is used by the controlled application 84 to convert information in XMLRPC messages (e.g., method name, parameters name and type) to native interface of the device (e.g., native method name, parameters name and type). Said table 88 is not used when the names of methods and parameters in XML messages and the native interface of the device are the same.<br>
Each of device the devices A and 8 further includes one or more Handlers 90, wherein each Handler 90 includes a pointer from within the controlled application 84 to a native implementation of one specific device<br>
functionality. In most devices, native implementations of device functionality include binary code at run-time. The binary code can be generated from higher level languages at compile time, including C and Java, for example. As such, consumer electronics manufacturers can add more Handlers 90 for new functions without affecting existing Handlers and function implementations. A hardware service 92 in each of the devices A and B includes native implementations of device functions. Each of the devices A and B also includes a Native Interface 94 which comprises the API of native implementation of the device functions.<br>
Further, a Network Object Request Broker such as a Home Network Object Request Broker (HNORB) 79 and Interface Library (IL) 80 provides a middleware layer 98 for the home network 10. As shown in Figure 19, the middleware layer 98 can be located in a third device 96 or in a separate control hub. The HNORB 79 includes a software agent for use by one device 14 to discover the existence of other devices 14 connected to the network 10. The HNORB software agent organizes device names into a naming hierarchical tree structure, organizes device interfaces into said searchable Interface Library, and provides device interfaces to a device requesting interface information.<br>
The middleware layer, comprising the HNORB 79 and the IL 80, can be connected directly to the Internet, such that selected home devices can be accessed from outside of a local home network 10. The middleware layer 98 in one local home network can be connected to the middleware layer 98 in other local home networks over the Internet to provide an integrated network comprising two home networks 10. In that case, authorized users with the appropriate stream encryption can access a DVD changer in the user's primary home, from a TV in the user's secondary home to play a video and view it on the TV,<br>
To use the Interface Library 80, at least one HNORB&amp;IL should be running on the local home network 10.  More than one HNORB&amp;IL may also be available. For example, a cable modem, several DTVs, and a central home hub can all have their own HNORB&amp;IL software agents. To locate the HNORB&amp;IL, a device 14 sends a broadcast message over the-local home network. The first HNORB&amp;IL to respond to the device 14 is utilized by the device 14. Once a HNORB&amp;IL is located, the device 14 and the HNORB&amp;IL can establish a point-to-point Transmission Control Protocol (TCP) or User Datagram Protocol (UDP) connection for registration, interface request and fetch, and device lookup services.  If a UDP protocol is not available, a TCP protocol can be used for high bandwidth connections such as IEEE 1394. HTTP-based XMLRPC can also be utilized for device to HNORB&amp;IL communications. For example, a device 14 can remotely call a "register" method of HNORB to pass the device interface as one or more parameters, or, a XMLRPC call can retrieve a partial or entire device interface from the IL as a XMLRPC response or return value.<br>
As aforementioned, more than one HNORB&amp;ILs can run in a local home network 10 simultaneously, wherein each HNORB&amp;IL recognizes a subset of available devices and one HNORB&amp;IL can communicate with other HNORB&amp;ILs to locate the devices 14 it can not find. Multiple HNORB&amp;ILs on one local home network 10 can locate each other automatically by using broadcasting messages, such as UDP or TCP. In this case, multiple HNORBs construct a distributed object request broker, while multiple Interface Libraries 80 construct a distributed interface library. To provide fault tolerance, if one of the HNORB&amp;IL should terminate unexpectedly, all devices registered with this HNORB&amp;IL are notified and said devices can automatically register with another available HNORB&amp;IL.<br>
Each device interface has an associated consistent, unique logical name. Other devices can use said consistent, unique, logical name to recognize and access a device, even after said device's location or real<br>
network address has changed. The mapping of the logical names and real device addresses are handled by a software agent for naming service in HNORB. Preferably, a standardized naming method is utilized. More preferably, a hierarchical naming structure is used to organize device names into a hierarchical tree. This hierarchical structure can be expressed using "/", similar to that in a file system. The structure can be generated by different methods, such as by different service types as a home/MPEG2/TV; or by different locations, such as home/livingroom/VCR. Several naming trees may coexist for performance and efficiency.<br>
In the example command and control between the controller server device A and the controller server device 6 in Figure 19, the middleware layer 98 is in the third device 96 or can be in a separate central hub. The grayed blocks show the device elements used for the specific command and control process depicted in Figure 19.   In an example operation scenario, after the devices A and 6 become available and accessible over the network, each device registers/submits itself and its XML interface to the central HNORB and IL middleware layer 98. If a central HNORB and IL middleware layer is not available, then each device broadcasts a message over the local home network to announce itself.<br>
The controller application 82 of the device A attempts to query all or part of the device interface of the controlled device 6. If an Interface Library 80 is not available, the controller device A can request and fetch the device interface of the controlled device B directly from the controller device B by first sending a request to device B over the network, and then receiving the XML interface of device B from the device B. However, if an Interface Library 80 is available, the controller device A can request all or part of the device interface of the controlled device 6 from the Interface Library 80. The software agent of HNORB obtains the XML device interface of the device B from the Interface Library 80 structure and sends it back to the controller device A.<br>
Once the contiolkM device A receives the XML. device interface of the controlled device 8, the controller application of device A uses the XML parser 74 of device A to parse and interpret the device interface of the device B.  The XMLRPC codec 76 of device A then generates desired XMLRPC command messages using the parser results.  The XMLRPC command messages are sent to the controlled device B over the network.  Upon receiving said XMLRPC command messages, the controlled application 84 of device B uses the XML parser 74 of device B to parse and interpret the received XML command messages   The XMLRPC codec 76 of device 6 then decodes the parser results to obtain the method call information in the command message, including a method name and parameters for the device 8 functions to perform requested services.<br>
The controlled application 84 of device B then uses the XML to Native Lookup Table 88 and Handlers 90 in the device B to access and launch the native function implementations of device B through the native interface of device B.  If a function generates any responses or return values, said responses or return values are encoded into XML or XMLRPC messages and sent to the controller device A.  Further, the middleware layer HNORB and IL can provide the controller device A with a reference to the controlled device 6, whereby the device A can generate remote calls to the device B native functions just as calls to the local device A native function.<br>
Preferably, a standard XMLRPC format is utilized so that all devices can interpret and decode RFC calls over the network. Because the device interface of a controlled device 14 can be queried and examined by a controller device 14, preferably a simplified XMLRPC format with sufficient device interface information is utilized to improve efficiency. The following example shows two possible formats of XMLRPC calls for One Touch Record (OTR) and Time Delayed Record (TDR) operations.<br>
EXAMPLE I:<br>
XML RFC call, example format including detailed tag and interface information:<br>
Example of QTR call: <?xml version="1.0"?><br><object>DVCR1 . record </object> <method>timeDelayedRecod</method><parameters><parameter><br><name>channel</name><value><int>4</int></value></parameter><parameter><br><name>recordTime</name><value><time>2: 1 0:30</time></value></parameter><br></parameters><br>
2   Example of TDR call: <?xml version="1.0"?><br><object>DVCR1 . record </object> <method>oneTouchRecod</method><parameters><parameter><br><name>channel</name><br><value><channelname>NBC</channelname><br></value></parameter><parameter><br><name>startTime</name><value><datetime.iso8601>1 9990401T1 9:05:35 datetime.iso8601 &gt;</datetime.iso8601></value></parameter><parameter><br><name>recordTime</name><value><time>2:00:00</time></value></parameter><br></parameters><br>
EXAMPLE II:<br>
XML RFC call, example format with reduced tags and interface information:<br>
Example of OTR call:<br><?xml version="1.0"?><br><object>DVCR1 . record </object><br>
method&gt;timeDelayedRecod</parameter></parameter></method><br>
•-parameter value="4"&gt;channel <parameter value="2:10:30"> recordTime ^parameter<br>
Example of TDR call: <?xml version="1.0"?><br><object>DVCR1 .record</object> <method>oneTouchRecod</method><br><parameter value="NBC">channel</parameter><br><parameter></parameter>
value="19990401T19:05:35"&gt;startTime</parameter><br><parameter value="2:00:00">recordTime</parameter><br>
Referring to Figure 20, device interfaces for home devices 14 are based on an industry standard structured data base 100 using standardized vocabulary. Interface data for new interfaces and vocabulary can be added to the data base 100. A comprehensive definition or database of CE objects, methods and parameters using English words to describe all CE devices is termed a CE data base 102. The comprehensive definition or database can be in C, XML or other formats capable of representing objects and their respective methods and parameters. The comprehensive definition or database utilizing standardized XML vocabularies is termed XCE definition or data base 104.<br>
Controller and controlled applications 82, 84 are programmed using a standard interface subset of the XML based XCE data base 104. Each device interface is stored with said applications 82, 84 in XML form. Although the XCE data base 104 need not be in XML, said subset interface produced at compile time is in XML in an embodiment of the invention, as described above in reference to Figure 15.<br>
In Figure 20, for embedded appliances 14, the information designated as 'Manufacturer' information is built-in to the appliances 14 at manufacture time, and the information designated as 'Home Network' is part of the<br>
operational run time aspects of the appliance in the network. Device XML interfaces 72 designated as 1 ... N for N devices 14, are branches of the data in a standardized XCE data base 104. A Home Network Interface Library (HNIL) 106 provides a collection of the device interfaces of available devices 14 connected to the home network. The Home Network Interface Library 106 is a subset of the totality of the XCE data base 104.<br>
In Figure 16, a device interface was transferred from a device A to a device B for an Application B in device B to examine the contents of the interface for the device A.   As detailed above, a device interface includes a description of the objects, methods, parameters supported by a device, and is referred to as INTERFACE-A.XML for a device A for example. A Device XML interface 72 is a device interface in XML format.   The content of the XCE data base 104 is a service oriented structure which provides device interfaces.<br>
Referring to Figure 20, the XCE database 104 also includes a standardized XCE Interface Document Type Definition (DTD) for CE devices, which provides a standardized set of rules for using XML to represent CE devices 14. The DTD or its subsets can be used for validity checks. A software agent designated as Manufacturer Tool 108, filters and utilizes a subset of the standardized XCE definition 104 for a specific CE device, and uses the standardized XCE Interface DTD to generate an XML device interface 72 of the CE device, for example INTERFACE.XML and INTERFACE.DTD. The document INTERFACE.XML includes a description of the objects, methods and parameters supported by a specific device according to the standardized XCE Interface DTD. The document INTERFACE.DTD is a subset of the standardized XCE Interface DTD, and can be used for validity check for the XML interface of the device. Other document type definitions can also be used to create the INTERFACE.XML document.<br>
The XML interlaces 72 of the CE devices, including said XML interface: document and said DTD document, are stored in a universally accessible library such as the home network Interface Library 106.   A software agent 110 collects the device interfaces 72 of all accessible devices 14 over the network and places them into the searchable structured Interface Library 106 along with the device name/address information.   The Interface Library 106 is a subset of the XCE database 104 and the process of generating the Interface Library 106 is similar to that of rebuilding part or all of the XCE database 104. The Interface Library 106 can function as a collection of device interfaces 72 of all devices 14 in the home network, or as a cache depending on availability of storage space, wherein only the most recently used device interfaces 72 are stored therein. In cases where a device 14 updates its device interface 72 due to an event, such as disk change in a DVD player, part of the device interface 72 is updated based on an event service.<br>
Referring to Figure 21, preferably the device interface definition 72 of each device 14 has a hierarchical form. This is because for a home device 14, the device interface definition 72 can be lengthy. Typically, one or few functions such as a single function for Time Delayed Recording, are accessed at a time, and therefore only a small portion of the device interface 72 is used. Rather than rendering the entire device interface 72, it is more efficient to render only a portion of he device interface 72. By using hierarchical device XML interface, a controller device 14 can request partial device interface 72 of a controlled device 14 by specifying the desired function categories or functions in a request for the XML device interface from the controlled device 14 or from the HNORB and IL middleware layer 98. In the latter case, the HNORB and IL middleware layer 98 sends back the desired portion of the device interface 72.<br>
Referring to Figure 21, the hierarchical device interface structure can include four layers, including: (1) a first layer 112 for XML interface of each home network, listing current available devices, (2) a second layer 114 for<br>
general XML interfaces of each device, listing function categories, (3) a third layer 116 for specific XML interface of each function category for a device, and (4) a fourth layer 118 for specific XML interface of each function in a function category.   Inside the home network, only the three lower layers 114, 116 and 118 are utilized, and outside the home network the first layer 112 is utilized.<br>
Figure 22 shows said layers 112, 114, 116, 118 and corresponding interface examples. The interface in each layer is linked to upper or lower layer (if available) through links such as XLink or XPointer, which provide two-way linking. XLink includes a package of hyperlinking functionality that has two parts: (1) an XLink component which allows links in an XML documents to be recognized as such, and (2) an XPointer component which allows links to address into precise sub-parts of an XML document. As such, XLink governs how links are inserted into XML documents, wherein the link may point to data such as a GIF file.   Further, XPointer governs a fragment identifier that can go on a URL when linking to an XML document, from anywhere (e.g., from an HTML file).<br>
In a typical command and control model for a server device 14 to control another server device 14 according to the present invention, a first device 14 attempts to query the device interface of a second device 14 at the second interface layer 114. After selecting function categories (FC), the first device 14 queries the interface layer 116 of a specific function category in the second device 14, such as Record Category. Further, the first device 14 can query the interface layer 118 of a specific function, such as OTR or TDR, to make calls to said functions. The hierarchical or tree structure makes finding of an interface function more efficient and saves network bandwidth. An example interface file structure and layers can be: First layer 112-       HNtxml Second layer 114 - VCRLxml Third layer 116 -      VCR1_RecordCategory.xml<br>
Fourth layer 118      VCR1   RecordCategory_OTR.xml<br>
Similarly, the home network Interface Library 106 is preferably hierarchical and can be structured in a variety of ways such as by different service type of devices or by different locations such as rooms. Said hierarchical structure is the interface of a local home network 10 to other home networks or the Internet.<br>
An example hierarchical device interface definition 72 which can be implemented in XML syntax is shown below.<br>
consumer (document: file, doc)<br>
-r - - - -document f: i le;ei ver home.dt.d, server_auto . dtd&gt; -&gt;-- - --doc (services _home , server auto, server _samsung _web site, avc commands, cal__commands,,)<br>
+	services_home (xml_utility, client, server_av, lighting,<br>
comms, hvac, utility, security, appliances, convenience,,)<br>
+	xml_utility (download_DTD_file,,)<br>
•»	client (acknowledge, attention, error, post_message,<br>
sound, stop_schedule, stop_all, , )<br>
+	sound (alarm, ring, buzz,,)<br>
+	server_av (controls_gen, source, sink)<br>
+	controls gen (ping, process_infor, setup,,)<br>
+ •• - --process_inf o (s/w_id, h/w_id)<br>
•*-	h/w_id (ser_no, manuf, model, class,,)<br>
+•	s/w_id (ser_no, exe__name, version,,)<br>
4	setup (clock,,)<br>
+	clock (hours, minutes, seconds)<br>
+	source (service_id, media, rate, protocol,<br>
stream_format, controls_av,,)<br>
+	sink (service_id, media, rate, protocol, stream_formac<br>
controls__av, , )<br>
+	service_id (url,,)<br>
+	media (tpt_stream, ram, disk, tape,,)<br>
+	disk (name, number,,)<br>
+	rate<value><br>
s	protocol (61883/1394, UDP/IP/Ethernet, ,)<br>
+	61883/1394 (isoch_ch_no)<br>
-t	stream_format (video, audio,,)<br>
4.	video (dv, mpeg2tpt, dsstpt, mpeg2pes,<br>
mpegl0801-tpt,)<br>
+	audio (mpeg3, ac-3, midi, ,)<br>
+controls_av (flow_control, tune, timer_record, ui_control,,)<br>
-t	timer_record (tune, f low^control)<br>
+	flow control (play, scop, goto, record,,)<br>
*	play (time_params )<br>
legality and correctness of the XCE database 104 or part of the XML version of the XCE database 104.  There can be several DTD files for different parts of the XCE structure, wherein said DTDs are different from the document type definitions for the RPC.CALL and INTERFACE.DTD for communication.<br>
'doc' name, provides the top level name of the area of coverage of capabilities, attributes, communication and control interface.<br>
'Services_home', provides area for home automation, consumer electronics, utility, etc.<br>
'Server _auto', for an automobile in the garage and shows message interface available for one or more automobile types.  For example, server_auto_ford_explorer_98' is the interface for a particular automobile. This allows access to mileage and maintenance interfaces of the automobile, and can also be used for remote access by an automobile manufacturer or garage for direct checking and remote diagnostics, for example.<br>
'server_samsung_web_site', provides for communicating with a manufacturer Web site outside the home.  Includes interface for message, service, help, etc<br>
'AVC^commands' and 'CAL_commands', provides for legacy devices capable of interpreting AV/C and CAL languages, for example. This portion of the structure identifies commands in said languages, where the commands are tagged and carried in XML. As such, the contents are not XCE (Web) objects, and protocol converter applications can be utilized to interface to the original CAL or AV/C application software.<br>
In the above description, 'Services_home' provides the main structure including A/V consumer electronics. A branch of the structure is expanded in detail for a particular example of a video services sink, and stream destination (e.g., DVCR) control interface. The control interfaces in a typical home network can include:<br>
'xmljjtility1, provides details for supporting utility network functions such as downloading an updated DTD file, interface file, program file, etc.<br>
'client', describes the interface details of a client device 12 including a Web browser. For example 'acknowledgment' indicates the controller's acceptance of acknowledgment of a message or command sent out.<br>
'server_av', provides control and capacity interfaces for all audio and video services available, including STB, DVCR, DTV, DVD, AUDIO, etc.<br>
'lighting', provides an interface to a home automation lighting controller, and includes sensors, lights, etc.<br>
'comms1, provides control interfaces to communications devices, typically for utility purposes or remote management of the devices' set-up or parameters, or for restoring configurations.<br>
'hvac', provides interfaces for remote control of the HVAC system, and can be used for control of said system from outside the home by the utility company, for example, to turn the home's HVAC system off during peak load periods of the day. Further, said interface can be used for controlling the HVAC system from within the home, by an appliance for device based controller to provide a more sophisticated control mechanism than thermostat control.<br>
'utility', provides interface for reading utility meters for the home, for example.<br>
'security'- provides interface for security sensors and alarm settings. As such, using the interface, applications running on a home network device can have access to the sensor and detector devices around the home for monitoring and controlling of the those devices.<br>
'appliances', provides interfaces for kitchen, utility and general home appliances, including, for example, providing remote control or monitoring temperature settings or other controls and parameters from a controller device. In one scenario, a microwave appliance can scan bar code information on the packaging of a food item and access a manufacturer database to obtain cooking time of the food for a given microwave system type. Such integration of appliances using device to device command and control provides many control scenarios for providing services such as<br>
automatically pausing a dishwasher and muting a TV when a phone is picked up in the kitchen or family room.<br>
'convenience' provides interfaces to devices for providing convenience services such as interface to a curtain, window, blinds or whirlpool controllers, for example.<br>
In the above description, 'server_av' is part of the structure for the control interfaces for A/V appliances offering A/V stream service, and is subdivided into 'controls-gen', 'source' and 'sink' capabilities.<br>
'controls-gen', provides interface for device manufacturer attributes and general utility interfacing such as ping testing the presence of the device. Further, manufactured-in attributes such as software and hardware identification and version information can also be included. A device supplying this interface returns data providing name or identification for said software without effecting any control actions. An interface to set the time of day clock can also be included.<br>
'sink', provides interface for the media stream service devices. The structure is organized based on service offered (i.e. video stream record and replay) rather than particular device names such as VCR.  For example, a Tuner and a DVD player are both video program stream sources for the network with video program formats, and can be controlled, such as started and stopped. Differences in control of particular devices are addressed by the lower layers of the definition structure.<br>
'source1 provides interface similar to the 'sink' interface.<br>
Referenced above, 'servicejd' or 'applicationjnterfacejd' includes the name, address or Web address or URL location of one or more devices 14. Because the XCE database 104 comprises the totality of agreed upon interfaces, typically a Dynamic Host Configuration Protocol (DHCP) software agent executes to assign an address and a default name to each device, and the address and a default name are added the interface of the service or device. The software agent 110 then collects device interfaces 72 which include subset or 'device partial XCE1 definitions from all the devices locally<br>
application 82 can examine the available formats to determine if there are compatible ones.<br>
'controls_av', provides the main control interface for A/V media appliance.<br>
'Flow_control', provides data stream controls such as: PLAY, STOP, GOTO, RECORD, etc as methods for a particular device. The methods do not change for embedded appliance, except for PC software, for example. The controls can include time parameters for delayed operation.<br>
Tuning', provides interface for tuning control. A controller device 14 can send a request to the interfaces of a controlled device 14 to send back an Electronic Program Guide (EPG) data structure described above.<br>
'Ul control', provides control interface to a controlled application 84 to control adjustments for display such as brightness and contrast, and for audio, such as volume and bass.<br>
Timer_record' provides interface for set-up data for a controller application 82 to implement delayed time recording.  Direct channel tune information and flow control (time_aparams) information can be utilized<br>
The above description can apply equally to client devices 12. An alternative syntax XCE definition or database for the CE space can be utilized. The alternative syntax XCE data base includes full service descriptions including home automation, appliances and automobile, for example. In cases where a service object provides flexibility and parameters for control, a control method is utilized to control the object as desired. Example commands in the AV/C and CAL command languages including binary and hex data strings are shown below.<br>
consumer (document file, doc)<br>
+	document^ file<server_home.dtd server dtd><br>
H	doc (avc commands, cal_commands, services_home,<br>
server_auto,<br>
server_samsung_web site, server__auto_f ord_explorer_98 , , )<br>
+	avc^ commands<. ..command_string .><br>
+	cal_commands<...command_string...><br>
+	services^home (client, av, lighting, comms, hvac,<br>
utility, security,<br>
appliance, convenience,,)<br>
+----xml utility (download_DTD_files,,)<br>
+ -	client (acknowledge, attention, error,<br>
post_message, sound, stop_schedule, stop_all,,)<br>
+	sound (alarm, ring, buzz,,)<br>
4--- -server   av   (source,    sink)<br>
+	source   (service_id,   media,   rate,   protocol,<br>
stream__f ormat,<br>
controls_gen, controls_av,,)<br>
+	sink (service_id, media, rate, protocol,<br>
stream_format, controls,,)<br>
+	service_id (url,,)<br>
+	media (tpt_stream, ram, disk, tape,,)<br>
+	disk (name, number,,)<br>
+	rate<value><br>
+	protocol (61883/1394,<br>
UDP/IP/Ethernet,<br>
+	61883/1394 (isoch_ch_no)<br>
+ •	stream_format (video, audio,,)<br>
+	video (dv, mpeg2tpt, dsstpt,<br>
mpeg2pes, mpegl080i-tpt,<br>
+•	audio (mpeg3, ac-3, midi,,)<br>
+	controls_gen (ping, process_info,<br>
setup,,)<br>
timer__record, ui control,,)<br>
+•	controls av (flow control, tune,<br><br>
+	process_info (s/w_id, h/w_id)<br>
class,,) version, , )<br>
seconds) record,,)<br>
+	h/w_id (ser_no, manuf, model,<br>
+	s/w_id (ser_no, exe_name,<br>
+	setup (clock,,)<br>
+	clock (hours, minutes,<br>
+	time_record (tune, flow_control)<br>
+	flow_control (play, stop, goto,<br>
+	play (time_params)<br>
+	record (time_params)<br>
+	tune (send_epg, channel,,)<br>
•+•	channel (number, id,<br>
time_params, .. )<br>
start, duration, end,,)<br>
+	__params (now,<br>
-f	ui_control (display, acoustic)<br>
+	display (brightness,<br>
contrast,<br>
color/tint, horiz__size, vert^size,,)<br>
4-	acoustic (volume, bass,<br>
treble,<br>
balance, fade,)<br><br>
-» • • • -lights {rooms up, rooms_down , yard, , )<br>
-i-	rooms up (bedl, bed2 , beds, bed4 , , )<br>
-(----rooms down (family, kitchen, living, dining, soho, garage,,)<br>
-f----yard (front, back)<br>
i- - - -bedl (lamp, dimmer, , )<br>
+	dimmer<value><br>
-t----comms (netman, intercom, telco, )<br>
+ -- --netman (send^device^list, send _con£iguration, send snmD mib,,:<br>
-.----hvac (controls_gen, controls_hvac,,1<br>
-t	controls_hvac (a/c, heat, temp, humidity,<br>
-i	temp (low, high, hysteresis,,)<br>
-t-	utility (meters, energy_mgmt, , )<br>
-t--	-meters (water, gas, electric,,)<br>
+	water<value> ,      gas<value>,<br>
electric <value--></value-->
••••---security   (sensors,   send_epg,   alram, , )<br>
-* 	-sensors    (peripheral ,   motion, , )<br>
1	-Denpheral    (rooms   up,    rooms   down, ,<br>
*• - •  --motion    (rooms   down,    yard, , )<br>
•• - -    - app 1 i ancer-    (microwave,    range,    over,    fridg^, freezer,    coffee,    toaster, washer,    dryer,    water-heater, ,)<br>
+ - -• -microwave    (send   epg,    controls, , )<br>
+	fridge   (temp,,)<br>
+----water-heater (temp)<br>
-t-	convenience (window, curtain_open, door/gate,<br>
pool/spa, bath, fountain, lift, , )<br>
+	curtain_open <value><br>
+	server_auto (message, mileage, maintenance,,)<br>
+	mileage<date><br>
-i-	maintenace<data><br>
In another aspect, the present invention provides for use of existing command language implementations for device-to-device command and control in a network. Devices can include internal objects and APIs which, at run time, create binary strings according to existing transport mechanisms. In that case, in order to provide XML remote procedure calls (XML RPC) from one device 14 to another device 14 in the network, the exiting application interface implementation is replaced with calls to the XML service API. As such, the original implementation is equivalent to a wrapper for the XML<br>
service API. Figure 18 also shows applications created using other command languages such as CAL or AV/C in dashed lines, with their interface implementations replaced with a wrapper in the XCE/XML service.API. Examples for changing from CAL command language to XML RFC format are shown below.<br>
existing implementation:<br>
void DeviceCALCommand (int command) {<br>
/*<br>
create CAL formatted byte string to represent this<br>
object/method and output to the wire<br>
*/<br>
CreatCALFormattedByteString(command);/*   different for<br>
every protocol */ SendCALByteString();    /* different for every protocol<br>
wrapping the XML Service API call: void DeviceCALCommand (int command) {<br>
r<br>
/*<br>
replace CAL implementation with calls to the XML ServiceAPI<br>
*/<br>
CreateXMLMessage (command);   /* always the same */<br>
sendXMLMessage 0 ;	/* always the same */<br>
Referring to Figure 23, in another aspect, the present invention provides a standard command protocol and control language translation for inter-device communication between disparate devices in a network. For different devices to share information, the information must be in a format that a requesting device can interpret. And, for a device 120 to control another device 22, the two devices must use a common language in order to interpret one another's commands. The present invention provides a common identification format for data and command protocols.<br>
Internet to obtain applications and services of various types for desired functionality. As such, the common format method can be made compatible with Internet protocols and procedure for operation over the Internet and the home network.<br>
One example of providing a common data format is utilizing XML to create a package for the data for transmission over the home network. The data can include command protocol, streaming audio or video, graphics or applications. The data is 'wrapped' with a standard header identifying the native format of the data and contents of the package, in XML form. The header allows unique identification of the data type the data portion of the XML code, whereby the data can be translated if necessary and provided to appropriate applications upon receipt.<br>
Under the Web standard, the identification process is performed by browsers using file name extensions to identify the type and contents of a file transmission. The browsers then launch appropriate plug-in modules to process the file. In the home network, XML is utilized to identify data transmissions which provides all home network transmissions over IP with a common identification method as described above.<br>
Alternatively, a software layer can be provided in the home network protocol stack to uniquely identify the contents of all data transmissions over the home network. The software layer can be used instead of XML. The common format and identification principles of the present invention apply equally in either embodiment using XML or said software layer as identification methods.<br>
In Figure 23, upon receipt of a data package transmission, the receiving device 122 examines the XML identity header of the data package to determine the format of the data therein. If the data is in a format recognizable by the device 122, the XML identity header information is<br>
discarded and the device processes the data directly.  Otherwise, the device 122 converts the received XML package into an XML translation request package and sends the request package and the data to the translation server device 124<br>
The translation server device 124 translates the data and converts the translated data into an XML translation response package. The translation server 124 then transmits the response package back to the requesting device 122. In case of a translation error, the translation server 124 can provide a translation response error condition to the requesting device 122. Upon receiving the translated data, the requesting device 122 processes the translated data in the response package.<br><br>
Example of an XML data package or packet can be:<br>
IDENTITY type=format=AV/c&gt;... packet data ...<br>
Example of a translation request package or packet can be.<br><translation request type="Command" format="CAL"> IDENTITY type=Command format=AV/C&gt;... packet data<br>
...<br><br>
Example of a translation request package or packet can be:<br><translaton type="Command&lt;br/">
format=CAL&gt;...paoKeT	j^ata ...<br><br>
Example of a translation response error condition package or packet can be.<br>
TRANSLATION RESPONSE type=Command format=CAL&gt;... packet data ...<br><br>
\TRANSIATION RESPONSE&gt;<br>
s — -~_Translation could<br>
not b	^^<br>
Further, Table 3 in Figure 24 includes a partial list of package or packet types and formats.In one embodiment, a method of common presentation or packaging of data and command protocol is provided, whereby a receiving device 122 can determine the native format of transmitted data. If the receiving device 122 can interpret that native format, then it can accept the data directly. Otherwise, the receiving device 122 can request a translator device 124 or application to translate the data into a desired format which the requesting device 122 can interpret. The translator device 124 or application determines the native format of the original data, translates the data into said desired format, and sends the translated data to the requesting device 122.<br>
The requesting device 122 then processes that data as though the data had originally been provided in the requesting device's native language format by the sending device 120. The requesting device 122 can also send a response back to the sending device 120 in the requesting device's native format, or send a response by proxy through the translator device 124 or application for translation into the native format of the sending device 120. The translation method can be utilized for information including command protocols, data files and audio/video streams.<br>
For devices that do not utilize the common format described above, the present invention provides for translation of data including command protocols to, and from, such non-compliant devices. For example, when a non-compliant device 120 sends data to a compliant device 122, the compliant device 122 can translate the data based on a determination of the native format of the data. For example, the compliant device 122 can examine the data for particular bit patterns within the data. When a compliant device sends data to a known non-compliant device, the compliant device can translate the data before transmission based on a determination of the native format of the non-compliant device.<br>
An example implementation can be for a home network which supports the IP and HTTP protocols. The home network can be connected to the<br>
Internet to obtain applications and services of various types for desired functionality. As such, the common format method can be made compatible with Internet protocols and procedure for operation over the Internet and the home network.<br>
One example of providing a common data format is utilizing XML to create a package for the data for transmission over the home network. The data can include command protocol, streaming audio or video, graphics or applications. The data is 'wrapped1 with a standard header identifying the native format of the data and contents of the package, in XML form. The header allows unique identification of the data type the data portion of the XML code, whereby the data can be translated if necessary and provided to appropriate applications upon receipt.<br>
Under the Web standard, the identification process is performed by browsers using file name extensions to identify the type and contents of a file transmission. The browsers then launch appropriate plug-in modules to process the file. In the home network, XML is utilized to identify data transmissions which provides all home network transmissions over IP with a common identification method as described above.<br>
Alternatively, a software layer can be provided in the home network protocol stack to uniquely identify the contents of all data transmissions over the home network. The software layer can be used instead of XML. The common format and identification principles of the present invention apply equally in either embodiment using XML or said software layer as identification methods.<br>
In Figure 23, upon receipt of a data package transmission, the receiving device 122 examines the XML identity header of the data package to determine the format of the data therein. If the data is in a format recognizable by the device 122, the XML identity header information is<br>
discarded and the device processes the data directly.  Otherwise, the device 122 converts the received XML package into an XML translation request package and sends the request package and the data to the translation server device 124.<br>
The translation server device 124 translates the data and converts the translated data into an XML translation response package. The translation server 124 then transmits the response package back to the requesting device 122. In case of a translation error, the translation server 124 can provide a translation response error condition to the requesting device 122. Upon receiving the translated data, the requesting device 122 processes the translated data in the response package.<br>
Example of an XML data package or packet can be:<br>
IDENTITY type=format=AV/c&gt;...packet data ...<br>
Example of a translation request package or packet can be:<br><translation request type="Command" format="CAL"> IDENTITY type=Command format=AV/C&gt;...packet data<br>
...<br><br>
Example of a translation request package or packet can be:<br>
type=Command<br><br>
format=CAL&gt;... packet	data...<br><br>
Example of a translation response error condition package or packet can be.<br>
TRANSLATION RESPONSE type=Command format=CAL&gt;...packet data ...<br>
s—-~__Translation could<br>
	-<br>
Further, Table 3 in Figure 24 includes a partial list of package or packet types and formats.<br>
To provide translation services, a translation server 124 is identified in the network during network configuration in a manner similar to that of DHCP servers. The translation server 124 broadcasts its IP address to all devices'.n the network for a period of time after the network is configured. All devices 120, 122 compatible with the translation services store the IP address of the translation server 124 as it is broadcast over the network during network boot up.<br>
Alternatively, the requesting device 122 can broadcast a translation request over the home network. All translation servers 124 in the network that receive the translation request can respond to the translation request by sending a translation response to the requesting device 122. The requesting device 122 then selects one translation server 124 among the responding translation servers.   In one example, the requesting device 122 selects the first translation server 124 that responds to the translation request.   In another example, the translation servers 124 can negotiate among themselves and/or with the requesting device 122 for the selection of a translation server 124 for satisfying the translation request.<br>
In another embodiment of the invention, multiple translation servers 124 are utilized to fulfill all translation requests. For example, a single translation server 124 may not have the capability to translate all requests. In such cases, it is necessary to identify the address of each translation server 124 and the type of translation service each translation server 124 can provide. Each device 120, 122 can store a list of all translation server IP addresses and a corresponding list of the types of translation services each translation server 124 provides, and optionally the associated translation application.<br>
For efficiency, if a sending device 120 wishes to send data to a receiving device 122 which is known to use a different native format than that of the sending device 120, the sending device 120 can send the data to the<br>
receivmg device 122 by proxy through a translation server 124.  The sending device 120 transmits a command to the translation server 124 similar to the translation request command and includes the address of the receiving device 122 as the destination for the translated data.<br>
In cases where a receiving device 122 requires translation of a data stream, the sending device 120 can route the data stream directly to a translation server 124, and the translation server 124 in turn transmits the translated data to the receiving device 122 as described above. Alternatively, the sending device 120 can send the data stream to the receiving device 122, and the receiving device 122 then routes the data stream to the translation server 124 for translation and return of the translated data back to the receiving device 122.<br>
In the description herein, the control mechanism is based on the Hypertext Transfer Protocol (HTTP 1.1) which provides an application-level protocol for distributed, collaborative, hypermedia information systems. HTTP is a generic, stateless, object-oriented protocol in wide use for many tasks. A feature of HTTP is the typing and negotiation of data representation, allowing systems to be built independently of the data being transferred. Preferably, the network protocol used by devices and applications on the home network is IP (Internet Protocol).   However, other protocols can also be utilized.<br>
Although the present invention has been described in considerable detail with regard to the preferred versions thereof, other versions are possible. Therefore, the appended claims should not be limited to the descriptions of the preferred versions contained herein.<br><br><br><br>
WE CLAIM:<br>
1.      A network system for performing a service, comprising:<br>
(a)	a physical layer, Wherein the physical layer provides a communication<br>
medium than can be used by devices to communicate with each other;<br>
(b)	a   first   home   device   storing   first   capabilities   data   including<br>
information in a structured format for identifying the capabilities of<br>
the first home device;<br>
(c )	a  second  home device storing second  capabilities data including<br>
information in said structured format for identifying the capabilities of the second home device;<br>
(d)	a client device including a user interface controller for displaying a<br>
user interface to provide selection information for at least the first home device to a user and to receive user input for selecting at least the first home device;<br>
the client device further including a software agent such that when the user selects the first home device from the user interface being displayed on the client device, the software agent reads and compares said first and second capabilities data, and if compatible, the<br><br>
software agent causes the controller means to update said selection information on the user interface to include selection information for the second home device, and<br>
wherein upon selection of the second home device from the user interface by a user, the client device sends control and command data to the first and second home devices to cause the first and second home devices to communicate with each other to perform a service requested by the user.<br>
2.	The network system as claimed in claim \, wherein the software agent obtains<br>
selection information for a plurality of home devices and displays the selection<br>
information on the user interface displayed on the client device.<br>
3.	The network system as claimed in claim 1 wherein said selection information for<br>
each home device includes an iconic representation of the home device.<br>
4.	The network system as claimed in claim 1, wherein said structured format includes<br>
XML format.<br>
5.	The network system as claimed in claim 1, wherein only the client device is<br>
capable of displaying a control user interface.<br>
6.	The network system as claimed in claim 1, further comprising a third home device<br>
storing application interface description data in a structured format for device<br>
command control of the third home device by one or more other home devices<br>
over the network.<br><br>
7.	The network system as claimed in claim 6, wherein the first home device includes<br>
control application means for controlling the third  home device by sending<br>
control  and   command  information  to  the  third   home  device   utilizing  said<br>
application interface description data.<br>
8.	The network system as claimed in claim 6, wherein the second home device<br>
includes control application means for controlling the third home device by<br>
sending control and command information to the third home device utilizing said<br>
application interface description data.<br>
9.	A network system for performing a service substantially as herein described with<br>
reference to the foregoing description, examples and the accompanying drawings.<br><br><br></translation></translaton></translation></data></date></value></value></value></value></value></...command_string...></.></server_home.dtd></value></method></gapasiilty></capabiuty></capability></attribute></attribute></attrj8ute></attribute></attribute></attribute></deviceattri8utes></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTU0OC1ERUxOUC0yMDA0LUFic3RyYWN0ICgxNC0wMi0yMDA4KS5wZGY=" target="_blank" style="word-wrap:break-word;">1548-DELNP-2004-Abstract (14-02-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTU0OC1kZWxucC0yMDA0LWFic3RyYWN0LSgyMi0wMi0yMDA4KS5wZGY=" target="_blank" style="word-wrap:break-word;">1548-delnp-2004-abstract-(22-02-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTU0OC1kZWxucC0yMDA0LWFic3RyYWN0LnBkZg==" target="_blank" style="word-wrap:break-word;">1548-delnp-2004-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTU0OC1ERUxOUC0yMDA0LUNsYWltcyAoMTQtMDItMjAwOCkucGRm" target="_blank" style="word-wrap:break-word;">1548-DELNP-2004-Claims (14-02-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTU0OC1ERUxOUC0yMDA0LUNsYWltcy0oMjEtMDItMjAwOCkucGRm" target="_blank" style="word-wrap:break-word;">1548-DELNP-2004-Claims-(21-02-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTU0OC1ERUxOUC0yMDA0LUNsYWltcy0oMzEtMDEtMjAwOCkucGRm" target="_blank" style="word-wrap:break-word;">1548-DELNP-2004-Claims-(31-01-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTU0OC1kZWxucC0yMDA0LWNsYWltcy5wZGY=" target="_blank" style="word-wrap:break-word;">1548-delnp-2004-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTU0OC1kZWxucC0yMDA0LWNvcnJlc3BvbmRlbmNlIG90aGVycy5wZGY=" target="_blank" style="word-wrap:break-word;">1548-delnp-2004-correspondence others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTU0OC1ERUxOUC0yMDA0LUNvcnJlc3BvbmRlbmNlLU90aGVycyAoMTQtMDItMjAwOCkucGRm" target="_blank" style="word-wrap:break-word;">1548-DELNP-2004-Correspondence-Others (14-02-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTU0OC1ERUxOUC0yMDA0LUNvcnJlc3BvbmRlbmNlLU90aGVycy0oMjEtMDItMjAwOCkucGRm" target="_blank" style="word-wrap:break-word;">1548-DELNP-2004-Correspondence-Others-(21-02-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTU0OC1kZWxucC0yMDA0LWNvcnJlc3BvbmRlbmNlLW90aGVycy0oMjItMDItMjAwOCkucGRm" target="_blank" style="word-wrap:break-word;">1548-delnp-2004-correspondence-others-(22-02-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTU0OC1ERUxOUC0yMDA0LUNvcnJlc3BvbmRlbmNlLU90aGVycy0oMzEtMDEtMjAwOCkucGRm" target="_blank" style="word-wrap:break-word;">1548-DELNP-2004-Correspondence-Others-(31-01-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTU0OC1kZWxucC0yMDA0LWRlc2NyaXB0aW9uIChjb21wbGV0ZSkucGRm" target="_blank" style="word-wrap:break-word;">1548-delnp-2004-description (complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTU0OC1ERUxOUC0yMDA0LURyYXdpbmdzLSgyMS0wMi0yMDA4KS5wZGY=" target="_blank" style="word-wrap:break-word;">1548-DELNP-2004-Drawings-(21-02-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTU0OC1kZWxucC0yMDA0LWRyYXdpbmdzLnBkZg==" target="_blank" style="word-wrap:break-word;">1548-delnp-2004-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTU0OC1ERUxOUC0yMDA0LUZvcm0tMS0oMjEtMDItMjAwOCkucGRm" target="_blank" style="word-wrap:break-word;">1548-DELNP-2004-Form-1-(21-02-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTU0OC1kZWxucC0yMDA0LWZvcm0tMS5wZGY=" target="_blank" style="word-wrap:break-word;">1548-delnp-2004-form-1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTU0OC1kZWxucC0yMDA0LWZvcm0tMTgucGRm" target="_blank" style="word-wrap:break-word;">1548-delnp-2004-form-18.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTU0OC1ERUxOUC0yMDA0LUZvcm0tMiAoMTQtMDItMjAwOCkucGRm" target="_blank" style="word-wrap:break-word;">1548-DELNP-2004-Form-2 (14-02-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTU0OC1kZWxucC0yMDA0LWZvcm0tMi5wZGY=" target="_blank" style="word-wrap:break-word;">1548-delnp-2004-form-2.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTU0OC1kZWxucC0yMDA0LWZvcm0tMy5wZGY=" target="_blank" style="word-wrap:break-word;">1548-delnp-2004-form-3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTU0OC1kZWxucC0yMDA0LWZvcm0tNS5wZGY=" target="_blank" style="word-wrap:break-word;">1548-delnp-2004-form-5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTU0OC1ERUxOUC0yMDA0LUdQQS0oMjEtMDItMjAwOCkucGRm" target="_blank" style="word-wrap:break-word;">1548-DELNP-2004-GPA-(21-02-2008).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MTU0OC1kZWxucC0yMDA0LW90aGVycy0oMjItMDItMjAwOCkucGRm" target="_blank" style="word-wrap:break-word;">1548-delnp-2004-others-(22-02-2008).pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="227064-fatty-acid-compounds-and-compositions-useful-in-treatment-of-central-nervous-system-disorders.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="227066-a-method-for-avoiding-simultaneous-service-origination-and-paging-in-a-mobile-operating-in-a-group-communication-network.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>227065</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>1548/DELNP/2004</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>04/2009</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>23-Jan-2009</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>01-Jan-2009</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>03-Jun-2004</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>SAMSUNG ELECTRONICS CO., LTD.</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>416, MAETAN-DONG, PALDAL-GU, SUWON-CITY, KYUNGKI-DO, REPUBLIC OF KOREA.</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>HUMPLEMAN, RICHARD</td>
											<td>342 LOWER VINTERS CIRCLE FREMONT, CA 94539, USA.</td>
										</tr>
										<tr>
											<td>2</td>
											<td>WANG, DONGYAN</td>
											<td>440 OAK GROVE DRIVE, #302 SANTA CLARA, CA 95054, USA.</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04L 12/28</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/KR99/00223</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>1999-05-07</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>60/084,578</td>
									<td>1998-05-07</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/227065-a-network-system-for-performing-a-service by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 06:06:57 GMT -->
</html>
