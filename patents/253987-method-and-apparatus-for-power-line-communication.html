<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/253987-method-and-apparatus-for-power-line-communication by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 12:10:39 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 253987:METHOD AND APPARATUS FOR POWER LINE COMMUNICATION</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">METHOD AND APPARATUS FOR POWER LINE COMMUNICATION</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A communication apparatus repeatedly Outputs a first multi-carrier Signal SS during predetermined periods T1, T2, T3, ••-, and Outputs a second multi-carrier signal RS whose phase vector is different from that of the first multi-carrier Signal SS, at a predetermined timing based on the first multi-carrier signal SS. The communication apparatus further detects the second multi-carrier signal RS Output from another communication apparatus, which uses a different communication method from the communication apparatus. Accordingly, both communication apparatuses can differentiate the first multi-carrier signal SS from the second multi-carrier signal RS without performing relatively cumbersome modulation and other processes.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td> <br><br>
DESCRIPTION<br>
COMMUNICATION APPARATUS, INTEGRATED CIRCUIT, AND<br>
COMMUNICATION METHOD<br>
Technical Field<br>
The present invention relates to a communication apparatus, an integrated circuit and a communication method that are capable of easily detecting Signals Output from other communication apparatuses, which use different communication methods and are connected to a common transmission line, while avoiding interference between Signals without performing relatively cumbersome modulation and other processes.<br>
Background Art<br>
With the recent development of communication technology, PLC (Power Line Communication) has been gaining attention. PLC is a technology that performs multi-carrier Communications among a plurality of terminal apparatuses, using power lines installed indoors as transmission lines, and utilizes an OFDM (Orthogonal Frequency Division Multiplexing) System (e.g., Japanese Patent Laid-Open Publication 2000-165304). OFDM is a modulation method for multi-carrier data transmission, by which a plurality of carriers are transmitted in a multiplex way on a frequency axis. OFDM uses an FFT (Fast Fourier Transform) or a DWT (Discrete Wavelet Transform) to narrow frequency intervals of multi-carriers and to closely space a plurality of carriers in such a way that they partially overlap and yet do not interfere with one another. OFDM thus enables broadband transmission by efficiently using a narrow frequency spectrum.<br>
For multi-carrier Communications, such as power line Communications, a technology is proposed to suppress interference in such manner that a phase vector flattens time waveform levels to prevent occurrence significant peak. In this technology, when a time waveform has no significant peak, the phase of each sub-carrier is rotated using the phase vector of default. However, when the significant peak is detected, the phase vector is changed until a phase vector that generates no<br><br>
waveform peak is found, and the phase of each sub-carrier is thus rotated according to the changed phase vector (Denis J. G. Mestdagh and Paul M. P. Spruyt, "A Method to Reduce the Probability of Clipping in DMT-Based Transceivers", IEEE Transactions on Communications, Vol.44, No.10, pp. 1234-1238, 1996). Such a technology for suppressing peaks is essential for reducing the design difficulty for a power amplifier for multi-carrier Communications.<br>
Usually, when the specifications of the same communication method are used, the specifications of communication apparatuses connected to each network are generally common even for a case where different logical networks are formed using a network key, or the like. This way, the communication apparatuses can detect (carrier sense) Signals transmitted between different networks, on a physical layer level of the communication apparatuses, and it is possible to prevent interference between Signals using a CSMA (Carrier Sense Multiple Access), thus enabling smooth communication even for relatively closely located different networks.<br>
However, different manufacturers may use different specifications for a communication method such as a communication protocol, a modulation scheme and a frequency band. Such communication technology is highly likely to be used in an environment where a plurality of types of communication methods are mixed in the same location. For instance, users (communication apparatus users) in collective housing such as an apartment or a condominium do not necessarily use communication apparatuses (e.g., modems) of the same manufacturer. In this case, a plurality of types of communication apparatuses independently made by a plurality of manufacturers may be simultaneously connected to a common power line.<br>
When the a plurality of types of communication apparatuses are connected to the common power line, a communication apparatus cannot demodulate a Signal transmitted from a different communication apparatus using a different type of communication method. Therefore, such a Signal is acknowledged merely as noise. Accordingly, although the plurality of types of communication apparatuses use the same frequency band, even the existence of other communication apparatuses is not acknowledged. This causes interference between Signals transmitted from the plurality of types of communication apparatuses, thereby causing communication<br><br>
. errors. In other words, the plurality of types of communication apparatuses sometimes cannot coexist on the common power line.<br>
On the other hand, when each communication apparatus is set up to perform modulation, Signals transmitted from other communication apparatuses can be differentiated. However, modulation processes performed to allow the plurality of types of communication apparatuses to coexist have an adverse effect of increasing the workload.<br>
Disclosure of the Invention<br>
An object of embodiments described in the following is to provide a communication apparatus, an integrated circuit and a communication method that are capable of easily detecting Signals Output from other communication apparatuses, even when a plurality of types of communication apparatuses using different communication methods are connected to a common transmission line, without performing relatively cumbersome modulation and other processes.<br>
Afirst communication apparatus, which is described in the embodiments, is a communication apparatus is capable of connecting to a power line connected to at least a first communication apparatus and a second communication apparatus. The first communication apparatus is capable of performing a data transmission with said communication apparatus. The second communication apparatus is incapable of performing the data transmission with said communication apparatus. The communication apparatus includes a receiver, a carrier detector, a Channel setting unit and a transmitted The receiver receives a Signal from the second communication apparatus. The carrier detector detects a predetermined data in the Signal. The Channel setting unit sets at least one of time slot and frequency band used for the first communication apparatus when the carrier detector detects the predetermined data, the time or the frequency band used for the first communication apparatus being different from a time or a frequency band used for the second communication apparatus. The transmitter performs the data transmission with the first communication apparatus in at least one of the time and the frequency band used for the first communication apparatus.<br><br>
An integrated circuit, which is described in the embodiments, is an integrated circuit is capabie of connecting to a power line connected to at least a first communication apparatus and a second communication apparatus. The first communication apparatus is capabie of performing a data transmission with said integrated circuit. The second communication apparatus is incapable of performing the data transmission with said integrated circuit The integrated circuit includes a receiver, a carrier detector, a Channel setting unit and a transmitter. The receiver receives a Signal from the second communication apparatus. The carrier detector detects a predetermined data in the signal. The Channel setting unit sets at least one of time and frequency band used for the first communication apparatus when the carrier detector detects the predetermined data, the time or the frequency band used for the first communication apparatus being different from a time or a frequency band used for the second communication apparatus. The transmitter performs the data transmission with the first communication apparatus in at least one of the time and the frequency band used for the first communication apparatus.<br>
A communication method, which is described in the embodiments, is a communication method controls data transmission that a communication apparatus performs through a power line connected to at least a first communication apparatus and a second communication apparatus. The first communication apparatus is capabie of performing the data transmission with said communication apparatus. The second communication apparatus is incapable of performing the data transmission with said communication apparatus. The communication method includes: receiving a signal from the second communication apparatus; detecting a predetermined data in the signal; setting at least one of time and frequency band used for the first communication apparatus when the carrier detector detects the predetermined data, the time or the frequency band used for the first communication apparatus being different from a time or a frequency band used for the second communication apparatus; and performing the data transmission with the first communication apparatus in at least one of the time and the frequency band used for the first communication apparatus.<br>
Brief Description of Drawings<br><br>
Fig. 1 is a schematic configuration view of a communication systern according to a first embodiment;<br>
Fig. 2 (a) is an external perspective view of a front side of a modern;<br>
Fig. 2 (b) is an external perspective view of a rear side of the modern;<br>
Fig. 3 is a block diagram illustrating a hardware example that constitutes the modern according to the first embodiment;<br>
Fig. 4 is a functional block diagram of a PLC PHY block;<br>
Fig. 5 shows a Signal format of an OFDM Signal;<br>
Fig. 6 shows a Signal spectrum of the OFDM Signal;<br>
Fig. 7 (a) is a time chart that employs time division;<br>
Fig. 7 (b) is a time chart that employs another example of time division;<br>
Fig. 7 (c) is a time chart that employs frequency and time division;<br>
Fig. 8 (a) shows an example of attenuation-frequency characteristics on a power line;<br>
Fig. 8 (b) shows an example of noise level-frequency characteristics on the power line;<br>
Fig. 9 shows time slots corresponding to request Signals transmitted during control periods;<br>
Fig. 10 is a time chart illustrating exchange of control Signals between modems;<br>
Fig. 11 is a block diagram illustrating a hardware example that constitutes a modern according to a second embodiment;<br>
Fig. 12 (a) is a time chart that employs frequency division;<br>
Fig. 12 (b) is a time chart that employs frequency and time division;<br>
Fig. 13 is a time chart illustrating an Operation example of a plurality of modems, when different request Signals are transmitted;<br>
Fig. 14 is a time chart illustrating an Operation example of the plurality of modems, when some communication methods are not in syncwith synchronization Signals;<br>
Fig. 15 is a block diagram illustrating a hardware example that constitutes a modern according to a third embodiment;<br>
Fig. 16 is a functional block diagram of a PLC PHY block of a sub IC;<br><br>
Fig. 17 is a time Chart illustrating an Operation example of a plurality of modßms according to the third embodiment;<br>
Fig. 18 is a flowchart illustrating a process of detecting a request Signal;<br>
Fig. 19 shows time slots corresponding to request Signals according to a fourth embodiment;<br>
Fig. 20 is a flowchart illustrating a process of detecting a request signal according to the fourth embodiment;<br>
Fig. 21 is a time chart illustrating an Operation example of a plurality of modems according to a fifth embodiment; and<br>
Fig. 22 is a flowchart illustrating a process of modifying a phase vector according to the fifth embodiment.<br>
Best Mode for Carrying Out the Invention<br>
The first to fourth embodiments are described in the following with reference to Figs. 1 to 22.<br>
First Embodiment<br>
The first embodiment is described in the following with reference to Figs. 1 to 10.<br>
Fig. 1 is a schematic configuration view of communication System 100 according to the first embodiment. As shown in Fig. 1, communication System 100 includes a network using power lines 2 as transmission lines. Power lines 2 include: power transmission cables of power pole 7, which is provided outdoors; a pull-in cable connected to the power transmission cables via transformer 4; and an interior wiring within residence 1. Power lines 2, which include the power transmission cables, are connected to power distribution panel 6 via power lines 2, which include the pull-in cable. Fiber cable 8, which is connected to an ISP (Internet Service Provider/not shown), or the like, is connected to power distribution panel 6 via modern 10C3, which functions as a communication apparatus.<br>
Power lines 2, which are connected to power distribution panel 6, are connected to a plurality of outlets 5 installed in residence 1. A plurality of modems using different types of communication methods are connected to outlets 5 via plugs<br><br>
3 and power lines 2 (e.g., WF cables). Power lines 2 feed commercial AC voltage (e.g;, 100V, 60Hz (or 50Hz)) to various electric appliances, although values other than 100V, 60Hz can also be used. For instance, an AC voltage of 120V, 60Hz is used in the U.S. and an AC voltage of 110/220V, 50Hz is used in China, etc.<br>
As shown in Fig. 1, modems 10A1, 10A2 and 10A3 use communication method A; modems 10B1 and 10B2 use communication method B; and modems 10C1,10C2 and 10C3 use communication method C. All of the modems are installed in residence 1. Various electric appliances are connected to the respective modems via LAN cables 9. More specifically, intercom 109 is connected to modern 10A1; and telephone with display 107 and 107 are connected to modems 10A2 and 10A3.   Television 102 is connected to modern 10B1; and Server 105 is connected to modern 10B2. Portable personal Computer (hereinafter simply referred to as a PC) 101 is connected to modern 10C1; and television 106 is connected to modern 10C2.<br>
In the following description, when no particular distinction is necessary among modems 10A1, 10A2, 10A3, 10B1, 10B2, 10C1, 10C2 and 10C3, these modems are all simply referred to as "modern 10". The modern described in the present embodiment is an example of communication apparatus 10. Any device having a communication function, other than a modern, can also be used. For instance, electric appliances having a modern function (more specifically, various electric appliances 101, 102, 103, ■••shown in Fig. 1) can also be used.<br>
In the specification, power line communication used only in housings, e.g., residences and collective housings, and other structures, e.g., factories and buildings, is defined as "in-home communication"; and power line communication (including communication methods used in buildings using such power line communication) used for outdoor power transmission cables and fiber cables is defined as "access communication". In the following, a communication System by in-home communication is simply referred to as an "in-home system"; and a communication system by access communication is simply referred to as an "access System". In Fig. 1, a communication System including modems 10A1, 10A2, 10A3, 10B1 and 10B2 belongs to the in-home system; and a communication system including modems 10C1,10C2 and 10C3 belongs to the access system.<br><br>
Fig. 2 (a) is an external perspective view of a front side of the modern; and Fig. 2 (b) is an external perspective view of a rear side of the modern. Modem 10 has Chassis 11 shown in Fig. 2. Displays 16, such as LED (Light Emitting Diodes), are provided on the front of Chassis 11. Power connector 12, LAN (Local Area Network) moduiar jack 13, such as RJ 45 and D-sub connector 15 are provided on the rear of chassis 11. Power lines 2, such as a parallel cable, are connected to power connector 12. LAN cable 9 is connected to moduiar jack 13. A D-sub cable (not shown) is connected to D-sub connector 15.<br>
Fig. 3 is a block diagram illustrating a hardware example that constitutes modern 10 according to the first embodiment. As shown in Fig. 3, modern 10 includes circuit module 20 and switching regulator 50. Switching regulator 50 feeds various levels of voltage (e.g., +1.2V, +3.3V, +12V) to circuit module 20. Circuit module 20 includes main IC (Integrated Circuit) 22, AFE IC (Analog Front End IC) 23, band-pass filter 25, driver IC 26, coupler 27, band-pass filter 29, AMP (amplifier) IC 30, band-pass filter 31, ADC (AD Converter) IC 32, memory 33 and Ethernet PHY IC 12. Power connector 12 is connected to power lines 2 via plug 3 and outlet 5.<br>
Main IC 22 includes: CPU (Central Processing Unit) 22A, PLC MAC (Power Line Communication Media Access Control layer) block 22C and PLC PHY (Power Line Communication Physical layer) block 22B. CPU 22A is equipped with a 32-bit RISC (Reduced Instruction Set Computer) processor. PLC MAC block 22C controls a MAC layer; and PLC PHY block 22B controls a PHY layer. AFE IC 23 includes DA Converter (DAC) 23A, variable gain amplifiers (VGAs) 23B and 23C, and AD Converter (ADC) 23D. Coupler 27 includes coil transformer 27A, and coupling condensers 27B and 27C.<br>
Circuit module 20 further includes sub IC 42, AFE IC 43, band-pass filter 45, driver IC 46 and band-pass filter 49. Sub IC 42 includes PLC MAC block 42C and PLC PHY block 42B. AFE IC 43 includes DA Converter (DAC) 43A, variable gain amplifiers (VGAs) 43B and 43C and AD Converter (ADC) 43D.<br>
Main IC 22, as with a general modern, is an electric circuit (LSI) that performs signal processing including basic control and modulation/demodulation for data communication. In other words, main IC 22 modulates received data, which are Output from a communication terminal such as a PC, and Outputs as a transmitted<br><br>
Signal (data) to AFE IC 23. Main IC 22 also demodulates transmitted data, which are input via AFE IC 23 from power lines 2, and Outputs as a received Signal (data) to a communication apparatus such as a PC. Main IC 22 further Outputs a predetermined communication request Signal to sub IC 42 prior to the data communication, so as to check if power lines 2 can be used.<br>
Driver IC 26 functions as a switch that blocks/passes transmitted and received Signals between main IC 22 and power lines 2. In other words, driver IC 26 serves as an interface between a digital Signal processing circuit and the power lines; and the data communication can be controlled by switching ON/OFF driver IC 26. Driver IC 26 can take any form of configuration, as long as it has control capabilities to allow/deny the data communication. For instance, driver IC 26 can be equipped with a switch, such as an analog switch, which enables ON/OFF control by an external Signal.<br>
A first Signal Output unit, a second Signal Output unit and a phase vector setting unit are provided as PLC PHY block 42B of sub IC 42 respectively. A data communication ränge setting unit is provided as PLC PHY block 22B, and band-pass filters 25 and 29. A data communication unit is provided as PLC PHY block 22B and AFE IC 23. PLC PHY block 42B is a sample of a receiver, a carrier detector, and a transmitter.<br>
Fig. 4 is a functional block diagram of PLC PHY block 42B of sub IC 42. First, a phase setting process, which uses an inverse wavelet transform for a multi-carrier Signal modulation, is described with reference to Fig. 4.<br>
PLC PHY block 42B, as shown in the lower section of Fig. 4, includes: symbol mapper 406 that maps transmitted data as serial data onto a complex coordinate plane; S/P Converter 407 that converts the serial data into parallel data corresponding to respective sub-carriers of a multi-carrier; phase rotator 408 that rotates each of phases of the parallel data; inverse wavelet transformer 410 that performs multi-carrier modulation by performing inverse wavelet transform on the phase-rotated parallel data; and Controller 405 that controls the phase vectors rotated by phase rotator 408. Phase vector is a set of values that indicate phases corresponding to respective sub-carrier Signals in a multi-carrier signal. The phase vector is the set of values for flattening time waveform levels to prevent occurrence<br><br>
,significant peak. The Signal phases of all the sub-carriers are randomly set, so that time waveform levels produce no peak. Accordingly, as the phase of each sub-carrier Signal is randomized, the time waveform levels are flattened, thus producing no peak.<br>
Symbol mapper 406 performs a first modulation in which transmitted data in the form of bit data are converted into symbol data, with a total of M-1 sub-carriers mapped onto the complex coordinate plane. S/P Converter 407 converts sequentially input serial data (transmission symbols) generated through the first modulation, to be sequentially input, into parallel data corresponding to each of the sub-carriers in the multi-carrier Signal. Then, phase rotator 408 rotates the phases of the input parallel data. In this case, a (2n-1 )th input (n is a positive integer) is considered as the in-phase component of the complex data, while a 2nth input is considered as the orthogonal component (suppose 1 
Controller 405 supplies a Signal that controls a phase vector (hereinafter simply referred to as a "vector control signai") to phase rotator 408, Controlling settings and changes of the phase vector. In this example, Controller 405 may include a random value generator. The random value generator generates a random value using, for example, a PN (Pseudo Noise) sequence and supplies the random value to phase rotator 408 as a vector control signai in order to perform phase rotation on each of its targeted sub-carriers. As such random values mentioned above, two values, i.e., 0 and TT (or -1) are generated. Or, Controller 405 may include a cyclic shift designator so that a vector control signai (a phase shift value) for a cyclic shift Operation is generated; the vector control signai to phase rotator 405 is supplied; and phase rotation on each of the sub-carriers to be used for the communication is performed.<br><br>
As described above, since phases are rotated based on the PN sequence, phase vectors having a less time correlation can be set, so that first and second Signals can be differentiated with more accuracy. Particularly, using an M sequence as the PN sequence enables a setting of phase vectors having coherent auto-correlation (coherent phases), thereby achieving more accurate differentiation. Any sequence may be used to perform phase rotation as long as it.has seif correlation is sensitive and mutual correlation is insensitive. Forexample, PN sequence such as M sequence and Gold sequence may be used to perform the phase rotation.<br>
Instead of rotating each of targeted sub-carriers each time, it is also possible to pre-save, in a medium such as a memory, Output Signals themselves from phase rotator 408 or inverse wavelet transformer 410, and to retrieve the Signal from the memory as a given data Signal each time a vector control Signal is generated, so as to output the generated vector control signal as a vector control Signal. Or, it is also possible to retrieve given data each time a phase vector is changed, and output the given data as a vector control signal.<br>
The following describes a phase re-rotation process, which uses the wavelet transform for modulating the multi-carrier signal. PLC PHY block 42B, as indicated in the upper section of Fig. 4, further includes: wavelet transformer 401 that performs multi-carrier demodulation through the wavelet transform of a received signal; phase rotator 402 that rotates phases of parallel data corresponding to each of modulated sub-carriers; and P/S Converter 403 that converts the parallel data corresponding to each of the phase-re-rotated sub-carriers into serial data.<br>
Wavelet transformer 401 demodulates the multi-carrier signal through the wavelet transform of the received signal, and generates parallel data corresponding to each of the sub-carriers in the multi-carrier. Phase rotator 402 re-rotates the parallel data individually by rotating the phases of the input parallel data. Then, P/S Converter 403 converts the input parallel data, each packet of which corresponds to each of the sub-carriers in the multi-carrier, into serial data so as to obtain the received data. Changing the order of phase rotator 402 and P/S Converter 403 causes no operational difficulties.<br>
Controller 405 controls settings and changes of a phase vector by supplying a vector control signal to phase rotator 402, As with the above-described phase<br><br>
setting process, Controller 405 includes a random value generator, which generates a random value using the PN (Pseudo Noise) sequence, for instance, and supplies the generated random value as a vector control Signal to phase rotator 402, in order to rotate each of the targeted sub-carriers. As such random values mentioned above, two values, i.e., 0 and u are generated. Or, Controller 405 may include a cyclic shift designator so that a vector control Signal (a phase shift value) for a cyclic shift Operation is generated; the vector control Signal to phase rotator 402 is supplied; and phase rotation on each of the sub-carriers to be used for the communication is performed. Accordingly, such a cyclic shift Operation enables a large number of sub-carriers to be phase-rotated with relatively light workload.<br>
In the first embodiment, an OFDM Signal is used as a data Signal or a control signal (described later). Fig. 5 shows a Signal format of an OFDM Signal. Fig. 6 shows a signal spectrum of the OFDM Signal. The OFDM signal is configured the same way as a preamble signal, which is usually used for carrier detection and synchronization processes. The preamble signal includes a predetermined data. For instance, Controller 405 inputs , as the predetermined data, a series of the same value for each sub-carrier (e.g., a signal in the form of 1,1,1,■■•for each sub-carrier) into phase rotator 408; rotates each of the sub-carriers by an appropriate phase vector; and generates a time signal through frequency-time transform at inverse wavelet transformer 410. As an actual OFDM signal, a multi-tone signal with a symbol length of approximately 100ps (e.g., 56 waves) is used for instance.<br>
Although descriptions have been provided above for the case where a phase vector is rotated through the wavelet transform, other transformation methods, such as a Fourier transform, can also be used. Phase setting and re-rotation processes of PLC PHY bock 22B are identical to those of PLC PHY block 42B, and their descriptions are thus omitted.<br>
Fig. 7 (a) is a time chart that employs time division; Fig. 7 (b) is a time Chart that employs another example of time division; and Fig. 7 (c) is a time chart that employs frequency and time division.<br>
In the first embodiment, frequency bands on power lines 2 are divided, as shown in Fig. 7, into control signal band BW1 and data signal band BW2. Control signal band BW1 is a band for transmitting a control signal. The control signal is for<br><br>
Controlling communication between modems 10, which includes a synchronization<br>
Signal SS and a request signal RS, the synchronization Signal SS indicating a<br>
«<br>
synchronization timing for each modern 10, and the request signal RS announcing that each modern 10 starts data communication. The request signal RS is an example of the first signal; and the synchronization signal SS is an example of the second signal.<br>
Data signal band BW2 is a band for transmitting a data signal. The data signal contains various Information, such as video image, voice, and text data, which is specified in the payload of a packet. When a frequency band used for the power line communication is between 2 and 30MHz, for instance, a frequency band of 2-3MHz is assigned as control signal band BW1; and a frequency band of 3-30MHz is assigned as data signal band BW2. Although an arbitrary frequency band can be selected as control signal band BW1, lower frequencies allowsampling frequencies to be lowered, thereby enabling the modern to be configured with a simple circuit.<br>
Fig. 8 (a) shows an example of attenuation-frequency characteristics on the power line; and Fig. 8 (b) shows an example of noise level-frequency characteristics on the power line. As shown in Fig. 8 (a), signal attenuation is high in the frequency band of 2-3MHz, resulting in a higher noise level as shown in Fig. 8 (b). To achieve high-speed transmission, it is preferable that the communication uses as broad frequency band as possible. However, as described above, a noise level increases concomitantly with an attenuation level in the frequency band of 2-3MHz, and an S/N (signal-to-noise ratio) thus decreases, thereby making only a limited contribution to high-speed transmission. Therefore, the reduction of transmission speed can be kept to a minimum by allocating the frequency band of 2-3MHz exclusively to negotiations as control signal band BW1. This also enables the use of a relatively higher frequency band for data transmission, thereby improving its data transmission efficiency.<br>
The following describes a specific control Operation performed by PLC PHY block 42B of sub IC 42 shown in Fig. 3, the control Operation allowing a plurality of modems 10 to coexist on the common power lines 2.<br>
In the first embodiment, two or more different types of phase vectors, which use the same specifications (e.gM a sampling frequency and symbol length) of a<br><br>
control signal, are used as a control Signal common to a plurality of types of modems 10. For instance, various types of phase vectors, such as a phase vector exclusively used for a synchronization signal SS and a phase vector exclusively used for a request signal RS, are used as needed, so as to control the a plurality of types of modems.<br>
More specifically, PLC PHY block 42B of sub IC 42 transmits a predetermined signal to driver IC 26, so that driver IC 26 blocks data communication at main IC 22. When driver IC 26 is turned OFF, PLC PHY block 42B Outputs a synchronization signal SS via AFE IC 43, band-pass filter 45 and driver IC 46. The synchronization signal SS is superimposed to AC power by coupler 27, and Output to power lines 2 via power connector 12, plug 3 and outlet 5. A synchronization signal SS is set to be Output during each predetermined time period; and PLC PHY block 42B repeatedly Outputs a synchronization signal SS in each predetermined cycle.<br>
As shown in Fig. 7 (a), PLC PHY block 42B of modern 10B1 (see Fig. 1), which uses communication method B, Outputs a synchronization signal SS at times t1, t9, t11, t20, t30,-*-. As previously described, since two or more types of phase vectors are used, each modern 10 stores, in its predetermined memory (not shown), data (two values, i.e., 0 and TT for each sub-carrier) related to phase vectors of a control signal, such as a synchronization signal SS and a request signal RS. Therefore, PLC PHY block 42B of each modern 10 retrieves, from its memory, data related to the phase vectors, and detects a synchronization signal SS after executing the above-described phase re-rotation process at phase rotator 402 and Controller 405. By detecting a synchronization signal SS, each modern 10 sets control periods T1, T2, T3, T4, •••, each of which defines a predetermined cycle (e.g., ms order) as )ne cycle. A period for transmitting a control signal, as described above, is referred o as "control period TcM.<br>
Fig. 9 shows time slots corresponding to request Signals transmitted during :ontrol period Tc.  PLC PHY block 42B of each modern 10 is configured to Output a equest signal RS after a period corresponding to its own communication method has »assed based on where a synchronization signal SS was detected. Phase rotator 08 and Controller 405 execute the above-described phase setting process, so that<br><br>
, the phase vector of the request Signal RS is different trom that ot the synchronization Signal SS.<br>
As shown in Fig. 9, for instance, it is assumed that modern 10B1 Outputs a synchronization signal SS between times t1 and t2. In this case, modems each of 10A1,10A2 and 10A3, which uses communication method A, Outputs a request signal RS after the time has passed fröm times t1 to.t2. Modems 10B1 and 10B2, which use communication method B, Output a request signal RS after the time has passed from times t1 through t3. Modems 10C1 and 10C2, which use communication method C, Output a request signal RS after the time has passed from times t1 through t4.  In other words, time slots T12, T13, T14, •-, T18, which correspond to communication methods A, B, C, ••, are set during control period Tc. A period set for each time slot does not need to be at equal intervals.<br>
Each modern 10 Stores in its predetermined memory data related to the phase vector of a request signal RS. Therefore, as with the case for a synchronization signal SS, each modern 10 retrieves, from its memory, data related to the phase vector, and detects the request signal RS after executing the phase re-rotation process at phase rotator 402 and Controller 405. The request signal RS, as previously described, is set by phase rotator 408 so that its phase vector is different from that of the synchronization signal SS. Therefore, each modern 10 can differentiate the request signal RS from the synchronization signal SS based on the differences of their phase vectors.<br>
When the same phase vector is used for a synchronization signal SS and a request signal RS, and when a carrier detection is performed using Signals output from wavelet transformer 401, for instance, using correlations between carriers and a distribution of correlation values in a frequency domain, both Signals become receivable, thereby making it impossible to teil whetherthe synchronization signal SS or the request signal RS has been transmitted. The power line communication apparatus, however, operates Controller 405 to perform a carrier detection using the phase vector used for the synchronization signal SS, as well as performing a carrier detection using the phase vector used for the request signal RS. In this manner, two different phase vectors are used for two different Signals, and it has thus become impossible to simultaneously perform carrier detections for a plurality of Signals in a<br><br>
frequency domain. This enables differentiation between the synchronizatiori Signal SS ?nd the request Signal RS, which allows each modern 10 to acknowledge what a control signal signifies.<br>
Each modern 10 Stores, in its predetermined modern (not shown in the figure), data related to a correlation between a time slot and a communication method. Based on the correlation, it is possible to detect in which time slot during one control period Tc a request signal RS is Output, and thus to know the number of communication methods (namely, the number of types of communication methods) of modems that have announced Initiation of data transmission.<br>
As described above, since each request signal RS is Output in its corresponding time slot T12, T13, ---.TIS, interference between request Signals RS can be prevented. As a result, each modern 10 can reliably detect request Signals RS Output from other modems 10. When a correlation between a time slot and a communication method is predetermined, the order of outputting a request signal RS is not limited to A—&gt;B—&gt;C—►*■■, but can be changed as needed. Time slots T12, T13, • •-, T18 do not need to be at equal intervals.<br>
In addition, when a control signal is Output to each of the time slots during control period Tc, any functional signification is possible for each slot. For instance, it is possible to use a specific time slot during control period Tc (e.g., time slot T18) as a special time slot for allowing a plurality of modems to coexist by employing frequency division.<br>
The following describes an example of a specific Operation performed by modern 10 according to the first embodiment with reference to Figs. 1, 3, 7 (a), 9 and 10. Fig. 10 shows a timing Chart illustrating exchange of control Signals between modems 10. In this example, modern 10B1, which uses communication method B, Outputs synchronization Signals. Descriptions are provided for transmission of control Signals from modems 10A1, 10B1 and 10C1 only, tofacilitate understanding of the embodiment.<br>
As shown in Figs. 7 (a), 9 and 10, modern 10B1 Outputs, to power lines 2, synchronization Signals SS at time t1. PLC PHY block 42B of each modern 10 monitors the Status of all the time slots, i.e., T12, T13f ■••, T18 during control period Tc; therefore, other modems 10A1 and 10C1 detect the synchronization Signals SS<br><br>
ouipui Trom moaem IUBI. Here, it is assumed that the Signal of a video image captured by intercom 109 (see Fig. 1) is transmitted to modern 10A1 via LAN cable 9. Modem 10A1 Outputs, to power lines 2, request Signals RS at time t2, so as to Output the received Signal of the video image to display telephone 103 (see Fig. 1) via modern 10A2. Other modems 10B1 and 10C1 detect the request Signals RS Output from modern 10A1. The request Signal RS and the synchronization Signal SS transmitted to modern 10A2 are not describes in Fig. 10.<br>
Modems 10B1 and 10B2, which use communication method B, and modems 10C1, 10C2 and 10C3, which use communication method C, do not perform data communication between times t3 and t9, and therefore Output no request Signal RS as shown in Figs. 7 (a) and 9. Since modern 10A1 monitors for a request Signal RS in time slots T12, T13, •••, T18, and detects no request Signal RS, modern 10A1 performs data communication using the following entire control period Tc (T2).<br>
When modern 10B1 Outputs to power lines 2 synchronization Signals SS at time t9, main IC 22 of modern 10A1 (see Fig. 3) Outputs a communication request Signal to sub IC 42 (see Fig. 3). Upon receiving the communication request Signal, sub IC 42 transmits a predetermined Signal to driver IC 26, and allows transmitted and received Signals to pass. In this State, modern 10A1, as shown in Fig. 10, transmits to modern 10A2 a data Signal DS of the video signal, which has been received from intercom 109.<br>
Upon receiving the data signal DS, modern 10A2 transmits an ACK (acknowledgement reply) to modern 10A1. Upon receiving the ACK, modern 10A1 transmits a following data signal DS. Modem 10A2 transmits the received data signal DS to telephone 103 via LAN cable 9. As a result, the video image captured by intercom 109 is displayed on the telephone 103 display. As previously described, since data communication is performed in data signal band BW2, data communication using in-home communication method A is, as shown in Fig. 7 (a), performed in the frequency band of 3-30MHz during control period Tc (T2).<br>
At time t9, it is assumed that the user operates TV 102 (see Fig. 1) to replay motion data, which are stored in server 105 (see Fig. 1). TV 102 then transmits a signal of requesting the motion data to modern 10B1 via LAN cable 9. Upon receiving the signal, modern 10B1, as shown in Fig. 7 (a), Outputs attime t10 a<br><br>
, request Signal RS to power lines 2. During control period Tc (T2) between times t9 and J10, other modems 10 Output no request Signal RS. As a result, modern 10B1 detects no request Signal RS from other modems 10, and therefore performs data communication using the following entire control period Tc (T3). At time t11, modern 10B1 Outputs a synchronization Signal SS, and then transmits a Signal of requesting the motion data to Server 105 via modern 10B2. Upon receiving the request Signal, Server 105 transmits a data Signal DS of a video Signal to modern 10B1, after which the motion picture stored in Server 105 is displayed on TV 102. In other words, data communication using in-home communication method B is performed, as shown in Fig. 7(a), in the frequency band of 3-30MHz during control period Tc (T3), as with the case of communication method A.<br>
Next, it is assumed that PC 101 (see Fig. 1) transmits to an ISP (not shown) a Signal of requesting, for instance, HTML (Hyper Text Markup Language) data. Upon receiving the request Signal from PC 101, and detecting a synchronization signal SS Output at time t11, modern 10C1 Outputs a request Signal RS to power lines 2 at time t14. Since other modems 10 Output no request Signal RS, modern 10C1 performs data communication using the entire following control period Tc (T4). After modern 10C1 transmits a request signal to modern 10C3, modern 10C3 requests a Web (World Wide Web) Server (not shown) of the ISP to send the HTML data via fiber cable 8 (see Fig. 1). Upon receiving the HTML data, modern 10C3 sends the HTML data to PC 101 via modern 10C1, after which the HTML data are displayed on PC 101.  In other words, data communication using access communication method C is performed, as shown in Fig. 7(a), in the frequency band of 3-30MHz during control period Tc (T4), as with the case of communication methods A and B.<br>
At time t20, modern 10B1 Outputs a synchronization signal SS. During control period Tc (T4), however, none of modems 10 Outputs a request signal RS. Therefore, no data communication is performed during control period Tc from time t30. Modem 10B1 Outputs a synchronization signal SS during each control period Tc. When any modern 10 Outputs a request signal RS, one of the modems 10B1 performs data communication using the following control period Tc.<br>
As described above, in the first embodiment, different phase vectors are used for a synchronization signal SS and a request signal RS. Therefore, each<br><br>
In the above-described first embodiment, descriptions have been provided for the case where the number of time slots is 8 as shown in Fig. 9. However, the number does not need to be 8, and can be arbitrary as long as it is 2 or more. Also, descriptions have been provided for the case where each time slot is pre-allocated to its corresponding communication method. However, a corresponding correlation does not need to be predetermined. When a modern is newly installed to the network, for instance, it is possible to monitor the Output Status of a request Signal RS; and, when a vacant time slot is detected (e.g., when a time slot in which no request Signal RS is Output during a predetermined period is detected), the detected time slot can be used.<br>
In the above-described first embodiment, a case has been described where data communication is performed using one communication method during one control period Tc. However, data communication can also be performed using a plurality of communication methods during one control period Tc.<br>
Descriptions are provided, with reference to Fig. 7 (b), for the case where data communication is performed by employing timed division, using a plurality of communication methods during one control period Tc. Operations between times t1 and t11 in Fig. 7 (b) are identical to those described in Fig. 7 (a), and their descriptions are thus omitted. Modem 10A1 Outputs a request Signal RS at time t12; and, modern 10B1 Outputs a request Signal RS at time t13. Each modern 10 detects, from the request Signal RS detected during one control period Tc, the number of communication methods of modems 10 that perform data communication. More specifically, modems 10A1 and 10B1 detect the request signal RS in time slot T12 corresponding to communication method A (see Fig. 9), and the request signal RS in time slot T13 corresponding to communication method B. On the other hand,<br><br>
- modems 10A1 ancMOBI detect no request Signal RS in othertime slotsT14, T15, ••, T18/ As a result, modems 10A1 and 10B1 detect that the number of communication methods is two, i.e., communication methods A and B.<br>
PLC PHY 22B of each modern 10 divides, based on the number of communication methods, time domains during control period Tcfor data communication. In this example, the order of the divided time domains is set as communication methods A -► B. Accordingly, PLC PHY 22B of modern 10A1 sets its time domain so that its data communication is performed between times t20 and t21. On the other hand, PLC PHY 22B of modern 10B1 sets its time domain so that its data communication is performed between times t21 and t30. As a result, data communication using communication method A and data communication using communication method B are performed based on time division during control period Tc (T4) as shown in Fig. 7 (b).<br>
The following describes, with reference to Fig. 7 (c), a case where data communication is performed by employing frequency division, using a plurality of communication methods during one control period Tc. In Fig. 7 (c), Operations between times t1 and t11 are identical to those described in Fig. 7 (a), and their descriptions are thus omitted. Modem 10B1 Outputs a request Signal RS at time t13; and modern 10C1 Outputs a request Signal RS at time t14. On the other hand, during control period Tc (T4), other modems 10 Output no request Signal RS. As a result, modems 10B1 and 10C1 detect that the number of communication methods is two, i.e., communication methods B and C.<br>
PLC PHY 22B of each modern 10 divides, based on the number of communication methods, frequency domains during control period Tcfor data communication.  In this example, the in-home System is set in a high frequency band within data communication band BW2; and the access System is set in a low frequency band within data communication band BW2. As a result, PLC PHY 22B of modern 10B1 sets its frequency domain so that its data communication is performed in the high frequency band within data communication band BW2 via band-pass filters 25 and 29. PLC PHY 22B of modern 10C1, on the other hand, sets its frequency domain so that its data communication is performed in the low frequency band within data communication band BW2 via band-pass filters 25 and 29. As a<br><br>
- result, data communication through communication method B and data communication through communication method C are performed based on frequency division during control period Tc (T4) as shown in Fig. 7 (c). As for a System such as the access System having a long transmission line, components in a high frequency band have relatively high attenuation. Therefore, the entire frequency spectrum can be more efficiently used by allocating the access System to a low frequency band. As previously described, at least one of a time domain and a frequency domain for data communication is set based on the number of communication rnethods, and data communication is performed using the set domain. Therefore, each modern 10 can perform data communication while avoiding interference between data Signals.<br>
Second Embodiment<br>
The second embodiment is described in the following with reference to Figs. 1, 2, and 11 through 14.<br>
Communication System 100 according to the second embodiment is identical to that described in the first embodiment, and its descriptions are thus omitted. The communication apparatus according to the second embodiment is the same modern 10 described in the first embodiment, and its description are thus omitted.<br>
Fig. 11 is a block diagram illustrating a hardware example that constitutes modern 10 according to the second embodiment. Modem 10, as shown in Fig. 11, lacks sub IC 42, which is described in Fig. 3. Modem 10, as shown in Fig. 11, further lacks AFE IC 43, band-pass filters 45 and 49, and driver IC 46 (hereinafter these are referred to as "AFE circuit" that have been described in Fig. 3). In otherwords, modern 10 has the same components as described in the first embodiment except for the deleted sub IC 42 and AFE circuit, and its descriptions are thus omitted. Main IC 22 of Fig. 11 also has the function of sub IC 42 of Fig. 3. Therefore, PLC PHY block 22B of main IC 22 has the respective components described in Fig. 4, and its descriptions are thus omitted.<br>
The following describes an example of a specific Operation of modern 10 according to the second embodiment with reference to Figs. 11 and 12. Fig. 12 (a) is<br><br>
, a time chart that employs frequency division; and Fig. 12 (b) is a time chart that empJoys frequency and time divisions.<br>
First, descriptions are provided for an Operation example shown in Fig. 12 (a). In this example, the Operation is different from that described in the first embodiment. The same frequency band is used as shared frequency band BW1, BW21, BW2 for both transmitting a control signal and performing data communication. When the frequency band for performing power line communication is set between 2 and 30MHz, for instance, the shared frequency band BW1, BW2 is set between 2 and 30MHz. The shared frequency band BW1, BW2 can be changed to different from the frequency band for use.<br>
At time t41, PLC PHY block 22B of modern 10B1 Outputs a synchronization signal SS to power lines 2 via band-pass filter 25, the synchronization Signal SS being set in the shared frequency band BW1, BW2. At time t42, PLC PHY block 22B of modern 10A1 Outputs a request signal RS using band-pass filter 25, as with the synchronization signal SS, the request signal RS being set in the shared frequency band BW1, BW2. At time t43, PLC PHY block 22B of modern 10B1, as with modern 10A1, Outputs a request signal RS, which is set in the shared frequency band BW1, BW2.<br>
In the second embodiment, as with the first embodiment, a period between two adjacent synchronization Signals SS is set as one cycle. As shown in Fig. 12, however, one cycle is divided into control period Tc (T21) and its following data period Td.  In other words, a control signal and a data signal are time-divided, unlike the first embodiment. Further, as shown in the example shown in Fig. 12 (a), data period Td is time-divided into a plurality of data periods T22, T23, T24, •••.<br>
More specifically, modern 10A1 performs data communication between times t49 and t50 in the shared frequency band BW1, BW2 during the first data period T22; and modern 10B1 performs data communication between times t50 and t51 in the shared frequency band BW1, BW2. Modem 10A1 performs data communication between times t51 and t52 during the second data period T23; and modern 10B1 performs data communication between times t52 and 153. Modem 10A1 performs data communication between times t53 and t54 during the third data<br><br>
period T24; and modern 10B1 performs data communication between times t54 and t55..<br>
As described above, in the second embodiment, the same frequency band is used for transmitting a control Signal and for performing data communication. Therefore, as described in Fig. 3 of the first embodiment, sub IC 42 and AFE circuits can be omitted. This configuration makes it possible to avoid a large-scale circuit modification so that a plurality of modems 10 can coexist on the common power lines 2.<br>
Although time division has been described in the above-described second embodiment, frequency division can also be employed. Time division and frequency division can also be combined. A case where both time and frequency division are combined is described in the following with reference to Fig. 12 (b).<br>
For instance, when each modern 10 detects a request Signal RS from only the in-home system during control period Tc, data communication is performed using time division between different communication methods as with Fig. 12 (a). Next, as shown in Fig. 12 (b), when each modern 10 detects communication methods A, B and C, namely, request Signals RS from both in-home and access Systems, in-home communication methods A and B perform data communication by employing time division; and access communication method C performs data communication by employing frequency division.  In this case, modems 10A1 and 10B1 using the in-home System perform data communication by narrowing the frequency band of 2-30MHz used for transmitting control Signals to, for instance, the frequency band of 3-30MHz so that data communication can be achieved in that narrowed frequency band. On the other hand, modern 10C1 using the access System performs data communication in the vacant frequency band of 2-3MHz. In this case, since different frequency bands are used for transmitting control Signals and data Signals DS, each modern 10 may have the hardware configuration described in Fig. 3.<br>
In addition, Fig. 12 (b) is a mere example of a combination of time division and frequency division, and a different combination can also be used. For instance, when there are a plurality of communication methods using the access system, data communication can be performed by using time division among the communication methods using the access system. It is also possible to use time division as a<br><br>
multiple-access method for the in-home and access Systems, while using frequency divjsion within each of the in-home and access Systems. Further, it is possible to determine whether to use time division or frequency division as its communication method on the basis of which time slot is to be used.<br>
Further, in the above-described second embodiment, descriptions have been provided for the case where control Signals are all transmitted in the same . frequency band. However, it is also possible to use different frequency bands for transmitting different control Signals. Fig. 13 is a time Chart illustrating an Operation example of a plurality of modems 10, when different request Signals are transmitted. In this case, a control signal using the in-home System uses the frequency band of 2-30MHz; and a control signal using the access System uses the frequency band of 2-3MHz. In-home data communication uses the frequency band of 3-30MHz, which is different from the band used for transmitting control Signals. Access data communication, on the other hand, uses the frequency band of 2-3MHz, which is the same as the band used for transmitting control Signals. This way (for the purpose of reducing the circuit size, for instance), a communication method using a narrow frequency band only can prevent the circuit size from being large.<br>
In the first and second embodiments described above, a case has been described where all the communication methods are in sync with synchronization Signals SS. However, it is also possible not to synchronize some communication methods. Fig. 14 is a time Chart illustrating an Operation example of a plurality of modems 10, when some communication methods are not in sync with synchronization Signals.<br>
In the Fig. 14 example, it is necessary to transmit/receive a request signal RS not in sync with a synchronization signal SS. Other communication methods need to detect a carrier of a request signal RS of communication method C, the request signal RS being transmitted/received asynchronous with a synchronization signal SS. When the carrier is detected, it is necessary to narrow the frequency band used for the synchronization signal SS and the request signal RS so that both Signals do not interfere with communication method C. A communication method in sync with the synchronization signal SS can recognize which communication method uses power lines 2 in what form in each time slot.<br><br>
It is possible to recognize communication methods asynchronous with each &gt; other by teceiving asynchronous request Signals. However, considering the condition<br>
of the transmission line as described in Fig. 8 (b), there may be a case where it is<br>
impossible to teil whether a request signal RS, which is in a broad band for a<br>
communication method (which can be in a receiving mode), appears to be<br>
concentrated in a lower frequency band, affected by the characteristics of the<br>
transmission line, or the request signal RS is originally set in the lower frequency<br>
band only. To prevent this, the phase vector of a request signal RS for synchronous<br>
coexistence and the phase vector of a request signal RS for asynchronous<br>
coexistence are set differently, so that it becomes possible to recognize whether it is<br>
the request signal RS in a broad band or the request signal RS in an originally narrow<br>
band. It is still impossible to recognize, through an asynchronous communication<br>
method, a communication method in sync with a synchronization signal SS. However,<br>
asynchronous communication methods can coexist by employing a coexistent<br>
method using frequency division even when a synchronous communication method<br>
can not be recognized.<br>
Affected by the transmission lines as power lines 2, even when the request signal RS in the broad band and the request signal RS in the narrow band cannot be differentiated, it has been described that both Signals can be differentiated by using different phase vectors. However, it is possible to differentiate both Signals by determining whether or not request Signals RS are detected synchronously with respect to synchronous and asynchronous types.<br>
In the above-described first and second embodiments, a synchronization signal SS can be generated in any form, as long as it is repeatedly Output during a predetermined period. For instance, commercial alternating current voltage AC (or current) on power lines 2 can be used to generate a synchronization signal SS. In this case, for instance, a zero cross of the commercial alternating current voltage AC is detected, and a synchronization signal SS (e.g., a pulse waveform made of rectangular waves) is generated using a point where the zero cross is detected as a reference time. When the commercial alternating current voltage AC is 100V, 60Hz, for instance, a synchronization signal SS is generated with 60Hz as a reference frequency. In this case, a zero cross circuit, which includes a comparator or the like,<br><br>
and is connected (directly or indirectly) to power lines 2, can be installed in modern 10 shown' in Fig. 3 or 11. Average of plurality of reference times representing the zero cross may be used for the reference time. The stable reference time can be set even if the zero cross fluctuates.<br>
In the above-described first and second embodiments, descriptions have been provided for the case where modern 10B1, which uses communication method B, Outputs a synchronization Signal SS. However, it is also possible that modems 10, which use other communication methods A and C, Output a synchronization signal SS as long as at least one modern 10 Outputs a synchronization signal SS. Modem 10, which Outputs the synchronization signal SS, can be set in either a fixed or variable mode; further, when the variable mode is selected, its setting can be made either manually or automatically.<br>
For fixed setting, for instance, modern 10 using a specific communication method can be set as a default to Output a synchronization signal SS. For manual variable setting, the usercan provide in model 10 an interface (e.g., a switch) that can control whether or not to Output a synchronization signal SS.  For automatic variable setting, on the other hand, modern 10 searches for (listens to) a synchronization signal SS (or a request signal) during at least one control period Tc. When a synchronization signal SS is detected, modern 10 itself does not Output a synchronization signal SS. On the other hand, when a synchronization signal SS is not detected, modern 10 Outputs a synchronization signal SS. This way, priority is given to a synchronization signal SS transmitted from modern 10 that has already performed power line communication on power lines 2. Accordingly, even when the modern 10 is disconnected from power lines 2, one of the other modems 10 automatically Outputs a synchronization signal SS.<br>
In the above-described first and second embodiments, descriptions have oeen provided for the case where the phase vectors of a synchronization signal SS and a request signal RS are different, but the phase vectors of request Signals RS are all identical. However, it is also possible to set different phase vectors for request Signals RS depending on each of different communication methods. For instance, /vhen sending a signal of transmission completion (a completion signal), a new afferent phase vector can be used for the completion signal. This can build a more<br><br>
- flexible environment where modems 10 can coexist. In other words, each modern 10 can 4dentify each other even when request Signals RS are randomly Output (namely, regardless of time slots). This reduces time required for outputting a request Signal RS (namely, control period Tc), and improves communication efficiency of the request Signal RS.<br>
Third Embodiment<br>
The third embodiment is described in the following with reference to Figs. 15 through 17.<br>
Communication System 100 according to the third embodiment is identical to that described in the first embodiment, and its descriptions are thus omitted. As shown in Fig. 2, the communication apparatus according to the third embodiment is identical to modern 10 according to the first embodiment, and its descriptions are thus omitted.<br>
Fig. 15 is a block diagram illustrating a hardware example that constitutes modern 10 according to the third embodiment. In the circuit configuration shown in Fig. 15, zero cross circuit 63 is provided in modern 10 described in Fig. 3. The circuit configuration shown in Fig. 15 is identical to that described in Fig. 3 except for zero cross circuit 63, and PLC PHY block 42D (described later) of sub IC 42. Therefore, the same components are assigned the same numbers, and their descriptions are thus omitted.<br>
Zero cross circuit 63 includes bridge connection diode 63a, resistors 63b and 63c, DC power 63e and comparator 63d. Bridge connection diode 63a is connected to resistor 63b; and the connected resistor 63b is connected in series to another resistor 63c. These two resistors 63b and 63c are connected parallel to an input terminal on one end, which is provided in comparator 63d. A plus side of DC power 63e is connected to an input terminal on the other end, which is provided in comparator 63d. PLC MAC block 42C of sub IC 42 is connected to an Output terminal, which is provided in comparator 63d.<br>
Fig. 16isafunctional block diagram of PLC PHY block 42D of sub IC 42. PLC PHY block 42D performs FFT (Fast Fourier Transform) as time-frequency transform.  In other words, PLC PHY block 42D includes FFT transformier 411 and<br><br>
, IFFT (Inverse Fourier Transform) transformer 420 instead of wavelet transformer 401<br>
&gt;<br>
ancUnverfce wavelet transformer 410 as described in Fig. 4. In the functional block described in Fig. 16, the components common to those of Fig. 4 are assigned the same numbers, and their descriptions are thus omitted. Time-frequency transform does not need to be FFT transform, but can also be wavelet transform described in the first and second embodiments.<br>
The following describes an example of a specific Operation of modern 10 according to the third embodiment with reference to Figs. 15 through 17. Fig. 17 is a time chart illustrating an Operation example of a plurality of modems 10 according to the third embodiment. The Operation shown in Fig. 17 is different from that shown in Fig. 14 only in that synchronization is executed in accordance with commercial alternating current voltage AC, and request Signals RS have different phase vectors. In Fig. 17, the Operations common to those shown in Fig. 14 are assigned the same numbers, and their descriptions are thus omitted. Commercial alternating current voltage AC shown in Fig. 17 indicates "voltage" on the vertical scale, for the sake of easy understanding. The following describes a case where commercial alternating current voltage AC is indicated in the time chart, as shown in Fig. 17. Further, in Fig. 17, 60Hz is indicated as commercial alternating current voltage AC, but other voltage values, for instance, 50Hz, can also be used.<br>
In this example, each modern 10A1, 10A2, 10B1, 10B2, ••* has its predetermined phase vector set differently, depending on a frequency band used for a request Signal RS. Communication methods A and B use the entire frequency band of 2-30MHz (of 2-30MHz). Communication method C uses the frequency band of 2-16MHz (of 2-30MHz). Arbitrary frequency band can be used for transmitting a request Signal RS.<br>
Each modern 10 is designed to transmit a request Signal RS and perform data communication using as a reference point: a zero cross point (voltage is 0VAC) of commercial alternating current voltage AC in zero cross circuit 63.  In this case, 2AC cycle is considered as one cycle from the zero cross of the commercial alternating current voltage AC; and time slots for outputting a request Signal RS are set, starting at the zero cross, in the order of communication methods A, B and C.<br><br>
At time t42, zero cross circuit 63 of modern 10A1 detects the zero cross ZC of the cornmercial alternating current voltage AC. When the zero cross ZC is detected, Controller 405 of PLC PHY block 42D of modern 10A1 retrieves data related to a phase vector from memory 33. The data related to the phase vector indicates phase vector PV1. More specifically, PV1 includes rotation degree coefficients which are made of two values, i.e., 0 and rr, corresponding to each sub-carrier, or phase shift values to cyclically shift the sub-carriers with these coefficients. Phase rotator 408 of PLC PHY block 42D rotates the phase vector of each of the sub-carriers constituting a multi-carrier signal, by phase vector PV1. IFFT transformer 420 of PLC PHY block 42D performs IFFT transform on the phase-rotated multi-carrier signal in order to generate a request signal RS. IFFT transformer 420 Outputs the generated request signal RS to power lines 2 via AFE IC 43, band-pass filter 45, driver IC 46, coupler 27, power connector 12 and plug 3.<br>
As with modern 10A1, modern 10B1 detects zero cross ZC in zero cross circuit 63 at time t42. When zero cross ZC is detected, Controller 405 of PLC PHY block 42D of modern 10B1 retrieves data related to a phase vector from memory 33. Since communication methods A and B use the same frequency band for transmitting a request signal RS, the data related to the retrieved phase vector indicates phase vector PV1 as with modern 10A1. Phase rotator 408 of PLC PHY block 42D rotates, based on the retrieved phase-vector-related Information, the phase vector of each sub-carrier constituting a multi-carrier signal, by phase vector PV1 as with modern 10A1. IFFT transformer 420 of PLC PHY block 42D performs IFFT transform on the phase-rotated multi-carrier signal in order to generate a request signal RS. At time t43, IFFT transformer 420 Outputs the generated request signal RS to power lines 2, using the detected zero cross as a reference point, in the time slot set for communication method B.<br>
As with modern 10A1, modern 10C1 detects a zero cross ZC in zero cross circuit 63 at time t42.  Lipon detecting the zero cross ZC, Controller 405 of PLC PHY block 42D of modern 10C1 retrieves, from memory 33, data related to a phase vector ndicating phase vector PV2, which is different from phase vector PV1, since communication method C uses a frequency band different from communication nethods A and B for transmitting a request signal RS. Phase rotator 408 of PLC<br><br>
PHY block 42D rotates the phase of each sub-carrier constituting a multi-carrier signal, by phase vector PV2, based on the data related to the retrieved phase vector, unlike modems 10A1 and 10B1. IFFT transformer 420 of PLC PHY block 42D performs IFFT transform on the phase-rotated multi-carrier signal in order to generate a request signal RS. At time t44, IFFT transformer 420 Outputs the generated request signal RS to power lines 2, using the detected zero cross as a reference point, in the time slot set for communication method C.<br>
The following describes a process of detecting a request signal RS performed by modern 10 with reference to Figs. 16 to 18. Fig. 18 is a flowchart illustrating a process of detecting a request signal RS. FFT transformer 411 of PLC PHY block 42D of modern 10 performs FFT transform on a received signal (step S11). Controller 405 of PLC PHY block 42D retrieves, from memory 33, data related to phase vector PV1. Phase rotator 402 of PLC PHY block 42D rotates the phase of each sub-carrier by referring to the data related to phase vector PV1 and multiplying the FFT-transformed received signal by phase vector PV1 (step S12).<br>
Controller 405 of PLC PHY block 42D makes a quadrant determination on the phase rotated sub-carriers (step S13) as specifically described in the following. In this example, it is assumed that 512 sub-carriers are used, and phase vectors on the transmitting and receiving sides are a plurality of coefficients, which indicate rotation degrees (e.g., TT, 0, TT, TT, ■•■, 0) corresponding to sub-carrier numbers 1,2,3,4, -,512.<br>
A request signal RS includes known transmitted data as known data, such as a preamble. The transmitted data correspond to sub-carrier numbers 1,2,3,4,"-,512. Although known transmitted data can be arbitrary, all of the data are set as'T' in this example. "1" represents (1, 0) on the complex coordinate plane. Accordingly, the known data are in the form of 1,1,1,1,-\1, which correspond to sub-carrier numbers 1l2)3l4t---l512. Phase rotator 408 on the transmitting side multiplies the known data 1,1,1,1, •••,1 by the phase vectors (TT,0, TT, TT,",0), and Outputs request Signals RS having -1,1,-1,-1,-1 as transmitted data to power lines 2.<br>
Phase rotator 402 on the receiving side respectively multiplies transmitted data-1,1 ,-1,-1,•■•J by coefficients (TT, 0, TT, "ny-,0), each of the transmitted data being included in each sub-carrier of the transmitted request signal RS. As a result, known data in the form of transmitted data 1,1,1,1,---,1, are re-rotated. Controller 405<br><br>
determines whether the transmitted data indicated by the phase-rotated sub-carriers are«knowh data such as a preamble. In this case, Controller 405 sums up the transmitted data, and compares with predetermined threshold Th1. For instance, when threshold Th1 is "258" and the transmitted data are presumably correct, Integration value SUM is "512 (=1+1+1+1+-+1)". Therefore, Controller 405 determines that integration value SUM has exceeded threshold Th1 (step S13: YES). Upon determining that integration value SUM has exceeded threshold Th1, Controller 405 determines that a carrier with phase vector PV1 has been detected (step S14), and terminates the process. In other words, the received signal is a multi-carrier Signal whose phase vector is PV1. On the other hand, when integration value SUM has not exceeded threshold Th1, Controller 405 determines that integration value SUM has not exceeded threshold Th1 (step S13: NO).<br>
Upon determining that integration value SUM has not exceeded threshold Th1, Controller 405 retrieves, from memory 33, data related to phase vector PV2. Phase rotator 402 of PLC PHY block 42D multiplies the FFT-transformed received Signal by phase vector PV2 and rotates the phase of each sub-carrier (step S15). Controller 405 of PLC PHY block 42D makes a guardant determination on the phase-rotated sub-carriers (step S16) as with step 13. Upon determining that Integration value SUM has exceeded threshold Th2 (step S16: Yes), Controller 405 determines that a carrier with phase vector PV2 has been detected (step S18), thereby terminating the process. In other words, the received signal is a multi-carrier signal whose phase vector is PV2. The guardant determination is described in detail later.<br>
On the other hand, upon determining that integration value SUM has not exceeded threshold Th2 (step S16: No), Controller 405 determines that the received signal has neither phase vector PV1 nor PV2 (that it, the signal is a multi-carrier signal whose phase vector is other than PV1 and PV2, or is noise) (step S17), and determines that no carrier with phase vectors PV1 and PV2 has been detected (step S18), thereby terminating the process. It is also possible to perform steps 15 and 16 before steps 12 and 13 in Fig. 18. The phase vector does not need to be two types, i.e., PV1 and PV2, but can be three types or more.<br>
Here, it is assumed, for instance, that the transmission Status of the power line has been deteriorated and a gain in the frequency band of 16-30MHz has<br><br>
- become lower.  In this case, request Signals RS Output from modems 10A1 and 10B1 suffer a higher S/N ratio of sub-carriers, which are transmitted in the frequency band at or higher than 16MHz. This makes it difficult to differentiate request Signals RS Output from modems 10A1 and 10B1 from request Signals RS Output from modern 10C1. However, since different phase vectors are set for modems 10A1, 10B1 and 10C1, request Signals RS can be smoothly differentiated from each other when each modern 10 performs the above-described process of detecting a request Signal RS. As described above, in the third embodiment, different phase vectors are used in accordance with frequency bands used for a request signal RS. As a result, it becomes possible to differentiate request Signals RS even when the transmission Status of the power line is deteriorated.<br>
Fourth Embodiment<br>
Communication System 100 according to the fourth embodiment is identical to that described in the first embodiment, and its descriptions are thus omitted. The communication apparatus according to the fourth embodiment is identical to modern 10 according to the first embodiment as shown in Fig. 2, and its descriptions are thus omitted. The circuit configuration of modern 10 according to the fourth embodiment is identical to that of Figs. 15 and 16, and its descriptions are thus omitted.<br>
The following describes an example of a specific Operation of modern 10 according to the fourth embodiment with reference to Figs. 19 and 20. Fig. 19 shows time slots corresponding to request Signals according to the fourth embodiment; and Fig. 20 is a flowchart illustrating a process of detecting a request signal according to the fourth embodiment. Fig. 19 has extended control period Tc shown in Fig. 17. In the fourth embodiment, which differs from the third embodiment, different phase vectors are set for respective time slots T11, T12, •, T17. It is also possible that different phase vectors are used for different frequency bands for use and for different time slots. The number of time slots is arbitrary as long as it is two or more.<br>
Detailed descriptions are provided in the following. It is assumed that various electric appliances (not shown) are respectively connected to outlets 5, to which modems 10A1 and 10B1 are connected. In this case, affected by the electric appliances (e.g., impedance Variation), commercial alternating current voltage AC2 at<br><br>
outlets 5, to which modems 10A1 and 10B1 are connected, incurs a time-lag from commercial alternating current voltage AC1 at outlets 5, to which other modems 10C1, "are connected. Fig. 19 (a) shows a waveform of commercial alternating current voltage AC1 at the outlets, to which other modems 10C1 •■• are connected, while Fig. 19 (b) shows a waveform of commercial alternating current voltage AC2 at the outlets, to which modems 10A1 and 10B1 are connected. Commercial alternating current voltage AC2, as shown in Figs. 19 (a) and (b), is delayed by time TD compared to commercial alternating current voltage AC1.<br>
In this case, when modern 10A1 Outputs a request Signal RSa, zero cross circuit 63 detects a zero cross ZC of commercial alternating current voltage AC2. Commercial alternating current voltage AC2 is delayed only by time TD compared to commercial alternating current voltage AC1. Therefore, modern 10A1 Outputs a request signal RSa at time t421, which is delayed only by time TD from time t42.<br>
When modern 10B1 Outputs a request signal RSb, zero cross circuit 63 detects at time t421 a zero cross ZC of commercial alternating current voltage AC2 as with modern 10A1. Upon detecting zero cross ZC, modern 10B1 Outputs a request signal RSb at time t431, which is delayed only by time TD from time t43.<br>
At this stage, modern 10C1 has performed a process of detecting a request signal RS as shown in Fig. 20, and detects the request Signals RSa and RSb. The following describes a carrier detection process in time slot T12 with reference to Fig. 20.<br>
FFT transformer 411 of PLC PHY block 42D of modern 10C1 performs FFT transform on a received signal (step S21).  Next, PLC PHY block 42D retrieves, from memory 33, data related to a phase vector as slot data corresponding to time slot T12. Memory 33 stores data related to different phase vectors corresponding to time slotsT11,T12,T13,-■.  In this example, phase vector PV1 is set for communication method A; and phase vector PV2 is set for communication method B. Memory 33 stores the data related to phase vectors PV1 and PV2 corresponding to time slots T11 and T12, respectively.<br>
PLC PHY block 42D Outputs the current slot data in zero cross circuit 63 (step S22). More specifically, modern 10C1 recognizes, from commercial alternating current voltage AC1 in zero cross circuit 63, that a zero cross ZC is at time t42. Each<br><br>
modern 10 includes a counter (not shown) and Stores data indicating the time durations of the time slots. Therefore, each modern 10 can specify how many time slots exist between the current time slot and the zero cross ZC by both the elapsed time from zero cross ZC and time width of the time slot.<br>
At time t43, for instance, PLC PHY block 42D of modern 10C1 recognizes that an elapsed time from the zero cross ZC is a time duration per time slot, and determines that the current time slot is "T12". As a result, Controller 405 of PLC PHY block 42D retrieves, from memory 33, the data related to phase vector PV2 corresponding to time slot T12.<br>
Then, phase rotator 402 of PLC PHY block 42D multiplies the FFT-transformed received Signal by phase vector PV2, so as to rotate the phase of each sub-carrier (step S23). Phase rotator 405 of PLC PHY block 42D makes a quadrant determination on each of the phase-rotated sub-carriers (step S24) as with steps 13 and 15 described in Fig. 18. Steps S25 and S26 are identical to steps S14 (or S17) and S18, and their descriptions are thus omitted.<br>
In time slot T12, the phase vectors of the two request Signals RSa and RSb are Output as shown in Fig. 19 (a). As described above, however, modern 10C1 rotates the phases of the sub-carriers by phase vector PV2, and thus only detects the request signal RSb.<br>
As described above, in the fourth embodiment, each modern 10 rotates the phases of the sub-carriers of the request signal RS Output in the time slot by the phase vector corresponding to the time slot. This enables a reliable detection of request Signals RS Output in each time slot, even when there is a time difference between altemating current voltages ACs.<br>
In the above-described fourth embodiment, descriptions have been provided for the case where different phase vectors are set for time slotsT11,T12,--,717. However, it is not necessary to set different phase vectors for respective time slots. Phase vectors can be reliably differentiated when phase vectors having different rotation degrees (e.g., PV1 and PV2) are set at least for adjacent time slots (e.g., T11 andT12).<br><br>
, Fifth Embodiment<br>
Communication System 100 according to the fifth embodiment is identical to that described in the first embodiment, and its descriptions are thus omitted. The communication apparatus according to the fifth embodiment is modern 10 described in the first embodiment, and its descriptions are thus omitted. The circuit configuration of modern 10 according to the fifth embodiment is identical to that of Figs. 15 and 16, and its descriptions are thus omitted.<br>
The following describes an example of a specific Operation of modern 10 according to the fifth embodiment with reference to Figs. 21 and 22. Fig. 21 is a time chart illustrating an Operation example of a plurality of modems 10 according to the fifth embodiment. Fig. 22 is a flowchart illustrating a process of modifying a phase vector according to the fifth embodiment. The process of detecting a request Signal RS is identical to that described with reference to Fig. 20 in the fourth embodiment.<br>
The following describes a phase vector modification process performed by modern 10A1. Modem 10A1 searches for a request Signal RS during control period Tc (step S31). For instance, it is assumed that Controller 405 (see Fig. 16) of PLC PHY block 42D of modern 10A1 detects a zero cross ZC in zero cross circuit 63 (see Fig. 15) at time t81 shown in Fig. 21. Controller 405 determines whether or not the request Signal RS is Output between times t81 and t82. The carrier detection method is identical to that described in Fig. 18, and its descriptions are thus omitted.<br>
In the fifth embodiment, each time slot during control period Tc is allocated to communication methods in the order of "C", "A" and "B". When data communication is performed through communication methods A, B,-••, data period Td is time-divided into communication methods A, B, •-. When data communication is performed through communication methods A, B,--- and C, a frequency band of 16-30MHz is allocated to communication methods A, B, •••; and a frequency band of 2-16 MHz is allocated to communication method C, thus dividing the frequency band used for power line communication. Memory 33 of each modern 10 Stores data including these time slot allocations and which multiple-access scheme is employed when which request Signal RS is Output.<br>
Modem 10A1 determines whether or not a desired Channel has a vacancy (step S32). A Channel only needs to be at least one of time and frequency bands,<br><br>
and a frequency band is used in this example. When modern 10A1 wishes to use the frequency band of 2-30MHz and when no request Signal RS is Output between times t81 and t82, Controller 405 of PLC PHY block 42D of modern 10A1 determines that the desired Channel has a vacancy (step S32:Yes), since communication method C does not perform data communication during the following data period Td (between times t84 and t86), and terminales the process.<br>
Accordingly, modern 10A1 performs data communication using the frequency band of 2-30MHz without performing a phase vector modification process at time t84.  In this case, since modern 10B1 Outputs a request Signal RS attime t83, modern 10A1 detects the request Signal RS Output from modern 10B1; and modems 10A1 and 10B1 alternately perform data communication during data period Td.<br>
Further, in Fig. 21, the time durations of control period Tc and data period Td are equal to two cycles of commercial alternating current voltage AC. However, this is arbitrary as long as it is over 1/6 cycle of commercial alternating current voltage AC. Particularly, it is preferable that Vn cycle be used for a single-phase; and 1/6 or more cycle be used for three-phases. This is because it eliminates the need to determine whether commercial alternating current voltage AC is increased or decreased even when the waveform of the commercial alternating current voltage AC is inverted by an inverted insertion direction of a pair of plug terminals.<br>
Time durations do not need to be equally divided for the data division of data communication. For instance, one of the time durations can be longer than the others. Although, in Fig. 21, data communication are performed three times for one communication method during one data period Td, the number of performing data communication is arbitrary.<br>
At time t86, modern 10A1 Starts the process described in Fig. 22, and again searches for a request Signal RS (step S31). At the same time, modern 10A1 determines whether or not a desired Channel (frequency band) has a vacancy (step S32). Controller 405 of PLC PHY block 42D of modern 10A1 determines whether or not a request signal RS is Output between time t86 and t87. As shown in Fig. 21, since modern 10C1 Outputs a request signal RS, Controller 405 determines that the desired Channel has no vacancy since communication method C performs data<br><br>
communication during the following data period Td between times t84 and tob (step S32: No)
Controller 405 of PLC PHY block 42D of modern 10A1 modifies the phase vector corresponding to the Channel (frequency band) (step S32). In this example, memory 33 Stores the data related to phase vector PV1, which corresponds to the frequency band of 2-30MHz, and the data related to phase vector PV2, which corresponds to the frequency band of 16-30MHz. Further, phase vector PV1 is set for modern 10A1 as a phase vector between times t81 and t87.<br>
Communication method C performs data communication (since the frequency band of 2-16MHz cannot be used) during the following data period Td (between times t86 and t89), Controller 405 of PLC PHY block 42D of modern 10A1 retrieves, from memory 33, the data related to the phase vector corresponding to the frequency band of 16-30MHz. In other words, Controller 405 retrieves, from memory 33, the data related to phase vector PV2; and phase rotator 408 of PLC PHY block 42D of modern 10A1 modifies the phase vector to PV2 (step S32). The phase vector modification process has been described in detail in the forth embodiment, and its descriptions are thus omitted.<br>
Upon changing the phase vector, IFFT transformer 420 of PLC PHY block 42D of modern 10A1 performs IFFT transform on the sub-carriers whose phase vectors are rotated using PV2, so as to generate a transmitted Signal. PLC PHY block 42D of modern 10A1 shuts off the frequency band of 2~16MHz from the transmitted Signal by Controlling band-pass filter 45. The transmitted Signal in the frequency band of 16-30MHz is Output as a request Signal RS to power lines 2 via driver IC 46, coupler 27, power connector 12 and plug 3, Modem 10A1 Outputs the request signal RS between times t87 and time t88 (step S33) and terminates the process. Modem 10B1 performs the same process, whose descriptions are thus omitted. Accordingly, during data period Td starting at time t89, modern 10C1 performs data communication in the frequency band of 2-16MHz; and modems 10A1 and 10B1 perform data communication in the frequency band of 16-30MHz.<br>
Since modern 10A1 modifies a phase vector according to a frequency band fora request signal RS, other modems 10B1, 10C1, ■•■can easily specify the frequency band used for the request signal RS even when the Status of the<br><br>
transmission line is deteriorated. The same effects can be obtained when any other niodem 10 differentiates the request Signal RS.<br>
As described above, in the fifth embodiment, a phase vector is modified according to a frequency band used for a request Signal RS. Therefore, the frequency band used for the request Signal RS can be smoothly specified despite changes of the transmission line Status. As a result, a phase vector can be smoothly recognized even when the condition of the transmission line is deteriorated.<br>
In the above-described third to fifth embodiments, descriptions have been provided for the case where a request Signal RS is Output at a timing relative to a zero cross as a reference point. However, such a timing does not need to be referenced to a zero cross. For instance, a timing can be arbitrary referenced as long as it is where commercial alternating current voltage AC reaches a predetermined voltage value (e.g., 10V) and it starts at the detected time point.<br>
In the above-described first to fifth embodiments, descriptions have been provided for a power line as an example of a transmission line that performs transmission of a control Signal and data communication. However, a line other than a power line can also be used. For instance, both wireless and wired cables can also be used as transmission lines. For a wired transmission line, for instance, various cables such as a coaxial cable, a telephone line and a Speaker line can be used.<br>
In the above-described first to fifth embodiments, a phase vector modification has been referred to as "rotating the phase of a sub-carrier". This is same as rotating a signal point on the complex coordinate plane. In addition, "phase vector" defined in the specification is a set of values indicating a rotation degree by which the signal point of each sub-carrier is rotated on the complex coordinate plane, each sub-carrier constituting a multi-carrier signal such as an OFDM signal. "Phase vector" is therefore a combination of values for equalizing time waveforms of the multi-carrier signal (suppressing a peak on the time axis). A phase vector has two types, i.e., a fixed value, which is a combination of predetermined values, and a variable value, which is a combination of varied values according to predetermined conditions. Such predetermined conditions include a cyclic shift and a random value. In addition, a phase vector is also referred to as a "carrier phase". In this case, a fixed value is referred to as a "deterministic carrier phase"; and a variable value is<br><br>
referred to as a "random carrier phase". The above-described request signal RS is also referred to as a CDFC (Commonly Distributed Coordination Function) signal.<br>
The above-described first through fifth embodiments are individually described. However, these embodiments can also be combined as needed.<br>
The communication apparatus and the communication method according to the present. invention are useful for power line communication particularly in collective housings such as an apartment and a condominium because of its abilities to communicate while avoiding interference between Signals when a plurality of communication apparatuses using different communication methods are connected to a common transmission line.<br>
It is noted that the foregoing examples have been provided merely for the purpose of explanation and are in no way to be construed as limiting of the present invention. While the present invention has been described with reference to exemplary embodiments, it is understood that the words which have been used herein are words of description and Illustration, rather than words of limitation. Changes may be made, within the purview of the appended Claims, as presently stated and as amended, without departing from the scope and spirit of the present invention in its aspects. Although the present invention has been described herein with reference to particular structures, materials and embodiments, the present invention is not intended to be limited to the particulars disclosed herein; rather, the present invention extends to all functionally equivalent structures, methods and uses, such as are within the scope of the appended Claims.<br>
The present invention is not limited to the above described embodiments, and various variations and modifications may be possible without departing from the scope of the present invention.<br>
Industrial Applicability<br>
The present invention is capable of easily detecting Signals Output from other communication apparatuses, which use different communication methods and are connected to a common transmission line, while avoiding interference between Signals without performing relatively cumbersome modulation and other processes.<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
CLAIMS<br>
1.	A communication apparatus for being capable of connecting to a power<br>
line connected to at least a first communication apparatus and a second<br>
communication apparatus, the first communication apparatus being capable of<br>
performing a data transmission with said communication apparatus, and the second<br>
communication apparatus being incapable of performing the data transmission with<br>
said communication apparatus, said communication apparatus comprising:<br>
a receiverfor receiving a signal from the second communication apparatus;<br>
a carrier detectorfor detecting a predetermined data in the signal;<br>
a Channel setting unit for setting at least one of time and frequency band used for the first communication apparatus when the carrier detector detects the predetermined data, the time or the frequency band used for the first communication apparatus being different from a time or a frequency band used for the second communication apparatus; and<br>
a transmitter for performing the data transmission with the first communication apparatus in at least one of the time and the frequency band used for the first communication apparatus.<br>
2.	The communication apparatus according to claim 1,<br>
wherein the signal is a multi-carrier signal including a plurality of sub-carriers.<br>
3.	The communication apparatus according to claim 2, further comprising:<br>
a phase rotator for rotating phase of the plurality of sub-carriers with a phase<br>
vector, the phase vector representing a predetermined rotation degree,<br>
wherein the carrier detector detects the predetermined data in the multi-carrier signal including the plurality of sub-carriers the phase of which is rotated with the phase vector.<br>
4.	The communication apparatus according to claim 3,<br>
wherein the receiver receives further a multi-carrier signal from the first communication apparatus, the phase vector used by the first communication apparatus is different from the phase vector used by the second communication apparatus.<br>
5.	The communication apparatus according to claim 4,<br><br>
wherein frequency band used by the first communication apparatus is different fröm frequency band used by the second communication apparatus.<br>
6.	The communication apparatus according to claim 4,<br>
wherein there is a relation of a PN sequence between the phase vector used by the first communication apparatus and the phase vector used by the second communication apparatus.<br>
7.	The communication apparatus according to claim 6, wherein the PN sequence is an M sequence.<br>
8.	The communication apparatus according to claim 3,<br>
wherein the receiver receives further a synchronization Signal, and the phase vector corresponding to the synchronization Signal is different from the phase vector corresponding to the multi-carrier signal.<br>
9.	The communication apparatus according to claim 8,<br>
wherein frequency band of the synchronization signal is different from<br>
frequency band of the multi-carrier signal.<br>
10.	The communication apparatus according to claim 8,<br>
wherein there is a relation of a PN sequence between the phase vector corresponding to the synchronization signal and the phase vector corresponding to the multi-carrier signal.<br>
11.	The communication apparatus according to claim 10, wherein the PN sequence is an M sequence.<br>
12.	The communication apparatus according to claim 3,<br>
wherein the receiver receives further a synchronization signal, the multi-carrier signal is Output in a predetermined time based on the synchronization signal.<br>
13.	The communication apparatus according to claim 1, further comprising:<br>
a time point detector for detecting a time point where alternating voltage<br>
transmitted to the power line reaches a predetermined voltage value, the multi-carrier signal is Output in a predetermined time based on the time point.<br>
14.	An integrated circuit for being capable of connecting to a power line<br>
connected to at least a first communication apparatus and a second communication<br>
apparatus, the first communication apparatus being capable of performing a data<br>
transmission with said integrated circuit, and the second communication apparatus<br>
Ä   A<br><br>
being incapable of performing the data transmission with said integrated circuit, said integrated circuit comprising;<br>
a receiver for receiving a Signal from the second communication apparatus;<br>
a carrier detector for detecting a predetermined data in the Signal;<br>
a Channel setting unit for setting at least one of time and frequency band used for the first communication apparatus when the carrier detector detects the predetermined data, the time or the frequency band used for the first communication apparatus being different from a time or a frequency band used for the second communication apparatus; and<br>
a transmitter for performing the data transmission with the first communication apparatus in at least one of the time and the frequency band used for the first communication apparatus.<br>
15.     A communication method for Controlling data transmission that a communication apparatus performs through a power line connected to at least a first communication apparatus and a second communication apparatus, the first communication apparatus being capable of performing the data transmission with said communication apparatus, and the second communication apparatus being incapable of performing the data transmission with said communication apparatus, said communication method comprising:<br>
receiving a signal from the second communication apparatus;<br>
detecting a predetermined data in the signal;<br>
setting at least one of time and frequency band used for the first communication apparatus when the carrier detector detects the predetermined data, the time or the frequency band used for the first communication apparatus being different from a time or a frequency band used for the second communication apparatus; and<br>
performing the data transmission with the first communication apparatus in at least one of the time and the frequency band used for the first communication apparatus.<br><br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzM1Ni1DSEVOUC0yMDA3ICAgQU1FTkRFRCAgUEFHRVMgT0YgU1BFQ0lGSUNBVElPTiAgIDA2LTA4LTIwMTIucGRm" target="_blank" style="word-wrap:break-word;">3356-CHENP-2007   AMENDED  PAGES OF SPECIFICATION   06-08-2012.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzM1Ni1DSEVOUC0yMDA3ICAgQU1FTkRFRCAgUEFHRVMgT0YgU1BFQ0lGSUNBVElPTiAgMTMtMDMtMjAxMi5wZGY=" target="_blank" style="word-wrap:break-word;">3356-CHENP-2007   AMENDED  PAGES OF SPECIFICATION  13-03-2012.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzM1Ni1DSEVOUC0yMDA3ICAgQU1FTkRFRCBDTEFJTVMgICAwNi0wOC0yMDEyLnBkZg==" target="_blank" style="word-wrap:break-word;">3356-CHENP-2007   AMENDED CLAIMS   06-08-2012.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzM1Ni1DSEVOUC0yMDA3ICAgQU1FTkRFRCBDTEFJTVMgIDEzLTAzLTIwMTIucGRm" target="_blank" style="word-wrap:break-word;">3356-CHENP-2007   AMENDED CLAIMS  13-03-2012.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzM1Ni1DSEVOUC0yMDA3ICAgQ09SUkVTUE9OREVOQ0UgT1RIRVJTICAgMDYtMDgtMjAxMi5wZGY=" target="_blank" style="word-wrap:break-word;">3356-CHENP-2007   CORRESPONDENCE OTHERS   06-08-2012.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzM1Ni1DSEVOUC0yMDA3ICAgQ09SUkVTUE9OREVOQ0UgT1RIRVJTICAgMjItMDktMjAxMS5wZGY=" target="_blank" style="word-wrap:break-word;">3356-CHENP-2007   CORRESPONDENCE OTHERS   22-09-2011.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzM1Ni1DSEVOUC0yMDA3ICAgQ09SUkVTUE9OREVOQ0UgT1RIRVJTICAxMy0wOC0yMDEyLnBkZg==" target="_blank" style="word-wrap:break-word;">3356-CHENP-2007   CORRESPONDENCE OTHERS  13-08-2012.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzM1Ni1DSEVOUC0yMDA3ICAgRk9STS0xIDEzLTAzLTIwMTIucGRm" target="_blank" style="word-wrap:break-word;">3356-CHENP-2007   FORM-1 13-03-2012.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzM1Ni1DSEVOUC0yMDA3ICAgRk9STS0xMyAgIDIzLTA0LTIwMDkucGRm" target="_blank" style="word-wrap:break-word;">3356-CHENP-2007   FORM-13   23-04-2009.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzM1Ni1DSEVOUC0yMDA3ICAgRk9STS0zIDEzLTAzLTIwMTIucGRm" target="_blank" style="word-wrap:break-word;">3356-CHENP-2007   FORM-3 13-03-2012.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzM1Ni1DSEVOUC0yMDA3ICAgT1RIRVIgUEFURU5UIERPQ1VNRU5UICAxMy0wMy0yMDEyLnBkZg==" target="_blank" style="word-wrap:break-word;">3356-CHENP-2007   OTHER PATENT DOCUMENT  13-03-2012.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzM1Ni1DSEVOUC0yMDA3ICAgUE9XRVIgT0YgQVRUT1JORVkgMTMtMDMtMjAxMi5wZGY=" target="_blank" style="word-wrap:break-word;">3356-CHENP-2007   POWER OF ATTORNEY 13-03-2012.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzM1Ni1DSEVOUC0yMDA3ICBFWEFNSU5BVElPTiBSRVBPUlQgUkVQTFkgUkVDRUlWRUQgMTMtMDMtMjAxMi5wZGY=" target="_blank" style="word-wrap:break-word;">3356-CHENP-2007  EXAMINATION REPORT REPLY RECEIVED 13-03-2012.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzM1Ni1jaGVucC0yMDA3LWFic3RyYWN0LnBkZg==" target="_blank" style="word-wrap:break-word;">3356-chenp-2007-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzM1Ni1jaGVucC0yMDA3LWNsYWltcy5wZGY=" target="_blank" style="word-wrap:break-word;">3356-chenp-2007-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzM1Ni1jaGVucC0yMDA3LWNvcnJlc3BvbmRuZWNlLW90aGVycy5wZGY=" target="_blank" style="word-wrap:break-word;">3356-chenp-2007-correspondnece-others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzM1Ni1jaGVucC0yMDA3LWRlc2NyaXB0aW9uKGNvbXBsZXRlKS5wZGY=" target="_blank" style="word-wrap:break-word;">3356-chenp-2007-description(complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzM1Ni1jaGVucC0yMDA3LWRyYXdpbmdzLnBkZg==" target="_blank" style="word-wrap:break-word;">3356-chenp-2007-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzM1Ni1jaGVucC0yMDA3LWZvcm0gMS5wZGY=" target="_blank" style="word-wrap:break-word;">3356-chenp-2007-form 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzM1Ni1jaGVucC0yMDA3LWZvcm0gMTgucGRm" target="_blank" style="word-wrap:break-word;">3356-chenp-2007-form 18.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzM1Ni1jaGVucC0yMDA3LWZvcm0gMy5wZGY=" target="_blank" style="word-wrap:break-word;">3356-chenp-2007-form 3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzM1Ni1jaGVucC0yMDA3LWZvcm0gNS5wZGY=" target="_blank" style="word-wrap:break-word;">3356-chenp-2007-form 5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzM1Ni1jaGVucC0yMDA3LXBjdC5wZGY=" target="_blank" style="word-wrap:break-word;">3356-chenp-2007-pct.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="253986-a-device-for-the-manufacture-of-core-yarn.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="253988-iron-based-powder-composition-including-a-silane-lubricant.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>253987</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>3356/CHENP/2007</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>37/2012</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>14-Sep-2012</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>11-Sep-2012</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>31-Jul-2007</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>PANASONIC CORPORATION</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>1006, OAZA KADOMA , KADOMA-SHI, OSAKA, OSAKA 571-8501</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>KOGA , HISAO</td>
											<td>C/O PANASONIC COMMUNICATIONS CO., LTD., 1-62, MINOSHIMA 4-CHOME ,HAKATA-KU,FUKUOKA-SHI, FUKUKA 812-8531</td>
										</tr>
										<tr>
											<td>2</td>
											<td>KODAMA, NOBUTAKA ,</td>
											<td>C/O PANASONIC COMMUNICATIONS CO., LTD., 1-62, MINOSHIMA 4-CHOME ,HAKATA-KU,FUKUOKA-SHI, FUKUKA 812-8531,JP</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04B 3/54</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/JP06/320804</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2006-10-12</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>2005-297529</td>
									<td>2005-10-12</td>
								    <td>Japan</td>
								</tr>
								<tr>
									<td>2</td>
									<td>2006-114191</td>
									<td>2006-04-18</td>
								    <td>Japan</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/253987-method-and-apparatus-for-power-line-communication by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 12:10:40 GMT -->
</html>
