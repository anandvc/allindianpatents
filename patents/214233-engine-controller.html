<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/214233-engine-controller by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 07:49:23 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 214233:ENGINE CONTROLLER`</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">ENGINE CONTROLLER`</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>An engine control device capable of accurately detecting the missing of crank pulses and the erroneous detection of the crank pulses due to generation of noise, wherein a tooth-less part on the outer periphery of a toothed crankshaft for feeding the crank pulses, the erroneous detection of the crank pulses is detected by using the instantaneous value of the rotational speed of the crankshaft calculated by using the crank pulses from the tooth-less part and the teeth across the tooth-less part, and since the instantaneous value of the rotational speed of the crankshaft calculated by using the crank pulses is suddenly decreased and then suddenly increased when the crank pulses are less detected erroneously, the number of the crank pulses less detected is detected by using the number of the crank pulses during that time and, since the instantaneous value of the rotational speed of the crankshaft is suddenly increased and then suddenly decreased when the number of the crank pulses is more detected erroneously, the number of the crank pulses more detected is detected by using the number of the crank pulses during that time.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>DESCRIPTION<br>
ENGINE CONTROLLER<br>
Technical Field<br>
The present invention relates to an engine controller<br>
for controlling an engine, and more particularly, to an engine<br>
controller suitable for use in controlling an engine equipped<br>
with a fuel injector which injects fuel.<br>
Background Art<br>
As a fuel injection device called an injector has recently<br>
become pervasive, control of a fuel inj ection timing and control<br>
of quantity of fuel tobeinjected; that is, control of an air-fuel<br>
ratio, has become easy. As a result, fostering an increase<br>
in power, a reduction in fuel consumption, and cleansing of<br>
exhaust gases has become possible. In relation particularly<br>
to a timing at which fuel is to be injected from among the foregoing<br>
elements, strictly speaking, the state of an intake valve; that<br>
is, the phase state of a cam shaft, is detected, and fuel is<br>
usually injected in accordance with the thus-detected phase<br>
state . However, a so-called cam sensor to be used for detecting<br>
the phase state of the cam shaft is expensive. The cam sensor<br>
presents a problem of an increase in the size of a cylinder<br>
head of, particularly, a two-wheeled vehicle, and hence in many<br>
cases cannot be adopted. For this reason, an engine controller<br>
is proposed in, e.g., JP-A-10-227252, wherein the phase state<br>
of a crankshaft and an air intake pressure are detected, and<br>
the stroke state of a cylinder is then detected on the basis<br>
of these detection results. Use of this related-art technique<br>
enables detection of a stroke state without detecting the phase<br>
of a cam shaft. Hence, the fuel injection timing or the like<br>
can be controlled in accordance with the stroke state.<br>
Detection of the phase state of the crankshaft requires<br>
formation of cogs in the crankshaft or an outer periphery of<br>
a member which rotates in synchronism with the crankshaft,<br>
detection of an approach to the cogs through use of a magnetic<br>
sensor or the like, transmission of a pulse signal, and detection<br>
of the pulse signal as a crank pulse. The phase state of the<br>
crankshaft is detected by numbering the thus-detected crank<br>
pulse. In order to effect numbering or the like, the cogs are<br>
often provided at uneven intervals. Specifically, the<br>
thus-detected crank pulse is characterized by a mark. Fuel<br>
injection timing and ignition timing are controlled in<br>
accordance with the thus-characterized crank pulse.<br>
However, particularly in the case of an engine for a<br>
two-wheeled vehicle having a small displacement and a single<br>
cylinder, an engine speed greatly decreases when, e.g., a<br>
throttle is opened rapidly, detection of a crank pulse at that<br>
moment sometimes fails. Alternatively, electrical noise<br>
associated with firing may sometimes be detected erroneously<br>
as a crank pulse. If too many or too few crank pulses are<br>
detected; i.e., if crank pulse detection is erroneous, there<br>
will arise a problem of actual injection timing or ignition<br>
timing differing from controlled inj ection timing or controlled<br>
ignition timing . A specific technique for detecting occurrence<br>
of erroneous detection of such a crank pulse is never available .<br>
The present invention is developed to solve the problem<br>
and aims at providing an engine controller capable of accurately<br>
detecting occurrence of erroneous detection of a crank pulse.<br>
Disclosure of Invention<br>
To solve the problem, an engine controller according to<br>
claim 1 of the invention comprises : cogs provided at non-uniform<br>
intervals on an outer periphery of a crankshaft or a member<br>
which rotates in synchronism with the crankshaft; crank pulse<br>
generation means which transmits a pulse signal in association<br>
with an approach to the cogs; crankshaft phase detection means<br>
for detecting the phase of a crankshaft from the crank pulse;<br>
engine control means for controlling the operating state of<br>
an engine on the basis of the phase of the crankshaft detected<br>
by the crankshaft phase detection means; and<br>
erroneous-detection-of-crank-pulse detection means which<br>
detects occurrence of erroneous detection of the crank pulse<br>
by means of comparing the rotational speed of the crankshaft<br>
determined from crank pulses assigned to specific cogs from<br>
among the cogs provided at non-uniform intervals with the<br>
rotational speed of the crankshaft determined from crank pulses<br>
assigned to cogs located in the vicinity of the specific cogs.<br>
In order to compute a rotational speed of the crankshaft<br>
from crank pulses assigned to cogs provided on an outer periphery<br>
of a crankshaft or a member which rotates in synchronism with<br>
the crankshaft, actual phases of the two cogs are divided by<br>
a time required to detect crank pulses assigned to a current<br>
cog and a previous cog, thereby determining a rotational speed<br>
of the crankshaft per unit time.<br>
An engine controller according to claim fbf the invention<br>
is characterized by the engine controller according to claim<br>
1 in that, on the assumption that a pitch between the specific<br>
cogs among the cogs provided at non-uniform intervals is a times<br>
apitchbetween the other cogs, when the instantaneous rotational<br>
speed of the crankshaft obtained from a crank pulse assigned<br>
to a cog before then specific cog is one-ath or less a predicated<br>
rotational speed of the crankshaft obtained from a crank pulse<br>
assigned to the previous cog and when the instantaneous<br>
rotational speed of the crankshaft obtained from the crank pulse<br>
assigned to the specific cog is a times or more the average<br>
value of rotational speed of the crankshaft, a determination<br>
is made that crank pulse detection is erroneous, in that too<br>
few crank pulses are detected.<br>
Specifically, the instantaneous rotational speed of the<br>
crankshaft indicates a rotational speed of the crankshaft<br>
computed from a crank pulse assigned to a certain cog and another<br>
crank pulse assigned to a previous cog. The average value of<br>
rotational speed of the crankshaft indicates a moving average<br>
value of rotational speed of the crankshaft and the like.<br>
An engine controller according to claim 3 of the invention<br>
is characterized by the engine controller according to claim<br>
1 or 2 in that, on the assumption that a pitch between the specific<br>
cogs from among the cogs provided at non-uniform intervals is<br>
a times a pitch between the other cogs, when the instantaneous<br>
rotational speed of the crankshaft determined from the crank<br>
pulse assigned to the specific cogs is a times an average value<br>
of rotational speed of the crankshaft and when the instantaneous<br>
rotational speed of the crankshaft determined from crank pulses<br>
assigned to a cog next to the specific cog and those assigned<br>
to subsequent cogs is one-2ath or less the instantaneous<br>
rotational speed of the crankshaft obtained previously, a<br>
determination is made that detection is erroneous, in that too<br>
many crank pulses are detected.<br>
Brief Description of Drawings<br>
A<br>
Fig. 1 is a schematic block diagram of a motorcycle engine<br>
and a controller thereof;<br>
Fig. 2 is a descriptive view pertaining to the principle<br>
by which the engine shown in Fig. 1 transmits a crank pulse;<br>
Fig. 3 is a block diagram showing an embodiment of the<br>
engine controller of the invention;<br>
Fig. 4 is a descriptive view for detecting the state of<br>
a stroke on the basis of the phase of a crankshaft and an intake<br>
pressure;<br>
Fig. 5 is a map to be used for computing the mass of air<br>
stored in a cylinder, the mass being stored in a cylinder air<br>
mass computing section;<br>
Fig. 6 is a map to be used for computing a target air-fuel<br>
ratio stored in a target air-fuel ratio computing section;<br>
Fig. 7 is a descriptive view for describing the operation<br>
of a transition period correction section;<br>
Fig. 8 is a descriptive view showing erroneous detection<br>
of a crank pulse;<br>
Fig. 9 is a descriptive view for describing a difference<br>
between the rotational speed of a crankshaft achieved with a<br>
dropout of a crank pulse and that achieved when noise arises;<br>
Fig. 10 is a flowchart showing computation processing<br>
for detection of erroneous-detection-of-crank-pulse and<br>
correction of a crank angle, both being performed in an engine<br>
control unit;<br>
Fig. 11 is a descriptive view showing operation for<br>
correcting a crank angle through the computation processing<br>
shown in Fig. 10; and<br>
Fig. 12 is a descriptive view showing a relationship<br>
between an instantaneous rotational speed of the crankshaft<br>
obtained at the time of erroneous detection of the crank pulse<br>
and an average value of rotational speed of the crankshaft.<br>
Best Mode for Carrying Out the Invention<br>
An embodiment of the invention will be described<br>
hereinbelow.<br>
Fig. 1 is a schematic block diagram showing, e.g., an<br>
example motorcycle engine and an example controller thereof.<br>
An engine 1 is a single-cylinder four-cycle engine having a<br>
comparatively small displacement and has a cylinder body 2,<br>
a crankshaft 3, a piston 4, a combustion chamber 5, an intake<br>
pipe 6, an intake valve 7, an exhaust pipe 8, an exhaust valve<br>
9, a spark plug 10, and an ignition coil 11. A throttle valve<br>
12 to be opened and closed in accordance with an accelerator<br>
position is provided in the intake pipe 6. An injector 13 serving<br>
as a fuel injector is provided in the intake pipe 6 downstream<br>
from the throttle valve 12. The injector 13 is connected to<br>
a filter 18 provided in a fuel tank 19, a fuel pump 17, and<br>
a pressure control valve 16.<br>
The operating state of the engine 1 is controlled by an<br>
engine control unit 15 . Provided as means for detecting control<br>
inputs to the engine control unit 15; that is, the operating<br>
state of the engine 1, are a crank angle sensor 20 for detecting<br>
the rotation angle of the crankshaft 3 or the phase of the same;<br>
a cooling water temperature sensor 21 for detecting the<br>
temperature of the cylinder body 2 or the temperature of cooling<br>
water; i.e., the temperature of an engine main body; an exhaust<br>
air-fuel ratio sensor 22 for detecting an air-fuel ratio in<br>
the exhaust pipe 8; an intake pressure sensor 24 for detecting<br>
the pressure of intake air within the intake pipe 6; and an<br>
intake air temperature sensor 25 for detecting the inside<br>
temperature of the intake pipe 6; i.e., an intake air temperature .<br>
The engine control unit 15 receives detection signals output<br>
from the sensors and outputs control signals to the fuel pump<br>
17, the pressure control valve 16, the injector 13, and the<br>
ignition coil 11.<br>
Here, the principle of a crank angle signal output from<br>
the crank angle sensor 20 will be described. In the embodiment,<br>
as shown in Fig. 2a, a plurality of cogs 23 are projectingly<br>
provided on an outer periphery of the crankshaft 3 at<br>
substantially uniform intervals, and an approach of the cog<br>
is detected by means of the crank angle sensor 20, such as a<br>
magnetic sensor or the like. A detection result is subjected<br>
to electric processing, as required, and a pulse signal is<br>
transmitted. A circumferential pitch between the cogs 23 is<br>
30° in terms of a phase (rotational angle) of the crankshaft<br>
3. The circumferential width of each cog 23 is set to 10° in<br>
terms of the phase (rotational angle) of the crankshaft 3 . Only<br>
one pitch between cogs 23 does not comply with the specified<br>
pitch, and is double that between the other cogs 23 . As indicated<br>
by a two-dot chain line in Fig. 2a, the reason for this is a<br>
special setting, wherein no cog is provided in a place where<br>
a cog would be disposed if all the pitches are identical. This<br>
place corresponds to a non-uniform interval. Hereinafter, this<br>
place will also be called a cogless section.<br>
A pulse signal train produced by the respective cogs 23<br>
when the crankshaft 3 is rotating at constant velocity appears<br>
as shown in Fig. 2b. Fig. 2a shows the state of the crankshaft<br>
achieved at a compression top dead center (which is also<br>
identical in shape with the state of the crankshaft achieved<br>
at an exhaust top dead center). A pulse signal immediately<br>
preceding the time when the compression top dead center is<br>
achieved is numbered (assigned a number) "0" in the drawing;<br>
the next pulse signal is numbered "1" in the drawing; the next<br>
pulse signal is numbered "2" in the drawing; and subsequent<br>
pulse signals are numbered up to "4" in the drawing. The cog<br>
23 corresponding to the pulse signal "4" in the drawing is<br>
followed by the cogless section. However, the cogless section<br>
is counted as an extra cog as if a cog are present. Then, a<br>
pulse signal assigned to the next cog 23 is numbered "6" in<br>
the drawing. Numbering of the cogs is continued, whereupon<br>
a pulse signal "16" in the drawing is followed and approached<br>
by the cogless section. Hence, the cogless section is counted<br>
as an extra cog in the same manner as mentioned previously.<br>
A pulse signal assigned to the next cog 23 is numbered "18"<br>
in the drawing. When the crankshaft 3 has made two rotations,<br>
a complete cycle consisting of four strokes is completed. Hence,<br>
when pulse signals are numbered up to "23" in the drawing, a<br>
pulse signal assigned to the next cog 23 is again numbered "0"<br>
in the drawing. In principle, the pulse signal corresponding<br>
to the cog 23 numbered 0 should be immediately followed by the<br>
compression top dead center . As mentioned above, the detected<br>
pulse signal train or single pulse signals thereof are defined<br>
as crank pulses. When stroke detection is performed on the<br>
basis of the crank pulses in a manner which will be described<br>
later, a crank timing can be detected. The same is also achieved<br>
even when the cogs 23 are provided on an outer periphery of<br>
a member which rotates in synchronism with the crankshaft 3.<br>
The engine control unit 15 is constituted of an<br>
unillustrated microcomputer or the like. Fig. 3 is a block<br>
diagram showing an embodiment of engine control processing to<br>
be performed by the microcomputer provided in the engine control<br>
unit 15. The computation processing is performed by an engine<br>
speed computing section 26 for computing an engine speed from<br>
the crank angle signal; a crank timing detection section 27<br>
which detects crank timing information; i.e., a stroke state,<br>
from the crank angle signal and the intake pressure signal;<br>
a cylinder air mass computing section (intake air quantity<br>
computing means) 28 which loads the crank timing information<br><br>
detected by the crank timing detection section 27 and computes<br>
a cylinder air mass (the quantity of intake air) from the air<br>
intake temperature signal, the cooling water temperature<br>
(engine temperature) signal, the intake pipe pressure signal,<br>
and the engine speed computed by the engine speed computing<br>
section 26; a target air-fuel ratio computing section 33 which<br>
computes a target air-fuel ratio from the engine speed computed<br>
by the engine speed computing section 26 and the intake pressure<br>
signal; a fuel injection quantity computing section 34 which<br>
computes the quantity of fuel to be inj ected and a fuel inj ection<br>
timing from the target air-fuel ratio computed by the target<br>
air-fuel ratio computing section 33, the intake pressure signal<br>
and the cylinder air mass computed by the cylinder air mass<br>
computing section 28; an injection pulse output section 30 which<br>
loads the crank timing information detected by the crank timing<br>
detection section 27 and outputs, to the injector 13, an<br>
injection pulse corresponding to the fuel injection quantity<br>
computed by the fuel injection quantity computing section 34<br>
and to the fuel injection timing; an ignition timing computing<br>
section 31 which computes an ignition timing from the engine<br>
speed computed by the engine speed computing section 26 and<br>
the target air-fuel ratio set by the target air-fuel ratio<br>
computing section 33; and an ignition pulse output section 32<br>
which loads the crank timing information detected by the crank<br>
timing detection section 27 and outputs, to the ignition coil<br><br>
11, an ignition pulse corresponding to the ignition timing set<br>
by the ignition timing computing section 31.<br>
The engine speed computing section 2 6 computes, as an<br>
engine speed, the rotational speed of the crankshaft—which<br>
is an output shaft of the engine—from the time-varying rate<br>
of the crank angle signal.<br>
The crank timing detection section 27 has a configuration<br>
analogous to that of a stroke determination device described<br>
in previously-mentioned JP-A-10-227252 . By means of the crank<br>
timing detection section, the stroke state of each cylinder<br>
is detected as shown in, e.g., Fig. 4, and the thus-detected<br>
state is output as crank timing information. Specifically,<br>
in a four-cycle engine the crankshaft and a cam shaft rotate<br>
continuously with a predetermined phase difference remaining<br>
therebetween. For instance, when the crank pulse is loaded<br>
in the manner as shown in Fig. 4, the crank pulse numbered "9"<br>
or "21" in the drawing, which corresponds to the fourth cog<br>
from the cogless section, represents either an exhaust stroke<br>
or a compression stroke. As is well known, the exhaust valve<br>
is closed during the exhaust stroke, and the intake value remains<br>
closed. Therefore, the intake pressure is high. In an initial<br>
stage of the compression stroke, the intake valve remains open,<br>
and hence the intake pressure is low. Alternatively, even when<br>
the intake value remains closed, the intake pressure is already<br>
made low during the preceding intake stroke. Accordingly, the<br><br>
crank pulse "21" in the drawing achieved at the low intake<br>
pressure shows that the engine is in the compression stroke.<br>
The compression top dead center is achieved immediately after<br>
the crank pulse numbered 0 in the drawing is achieved. In this<br>
way, when any of the stroke states is detected, the current<br>
stroke state can be detected in more detail, so long as intervals<br>
between the strokes are interpolated with the rotational speed<br>
of the crankshaft.<br>
As shown in Fig. 5, the cylinder air mass computing section<br>
28 has a three-dimensional map to be used for computing the<br>
mass of air in the cylinder from the intake pressure signal<br>
and the engine speed computed by the engine speed computing<br>
section 26. The three-dimensional map pertaining to the<br>
cylinder air mass can be measured through a comparatively simple<br>
test; that is, by means of measuring the mass of air in the<br>
cylinder achieved when the intake pressure is changed while<br>
the engine is actually rotating at a predetermined speed. Hence,<br>
preparation of the map is easy. Further, if sophisticated<br>
engine simulation is available, the map can also be prepared<br>
through use of the simulation. Here, the mass of air in the<br>
cylinder changes depending on the temperature of the engine.<br>
Therefore, the cylinder air mass may be corrected through use<br>
of the cooling water temperature (engine temperature) signal.<br>
As shown in Fig. 6, the target air-fuel ratio computing<br>
section 33 is equipped with a three-dimensional map to be used<br><br>
for computing a target air-fuel ratio from the intake pressure<br>
signal and the engine speed computed by the engine speed<br>
computing section 26. To a certain extent, this<br>
three-dimensional map can also be set up theoretically. The<br>
air-fuel ratio is usually in correlation with torque. When<br>
an air-fuel ratio is low; that is, when fuel content is high<br>
and air content is low, torque is increased whereas efficiency<br>
decreases. Conversely, when the air-fuel ratio is high; that<br>
is, when fuel content is low and air content is high, torque<br>
decreases whereas efficiency improves. A state in which the<br>
air-fuel ratio is low is called a rich state, whilst a state<br>
in which the air-fuel ratio is high is called a lean state.<br>
The leanest state is a so-called ideal air-fuel ratio and is<br>
called a stoichiometric state corresponding to a air-fuel ratio<br>
at which gasoline burns completely; that is, 14.7. The engine<br>
speed means the operating state of the engine. In general,<br>
when the engine is in a high-revolution range, the air-fuel<br>
ratio is increased; and, when the engine is in a low-revolution<br>
range, the air-fuel ratio is decreased. The reason for this<br>
is that torque response is increased at the low-revolution range<br>
and that the responsiveness of the rotating speed is increased<br>
in the high-revolution range. Here, the intake pressure means<br>
the loaded condition of the engine, such as throttle opening.<br>
Generally, when the loaded condition of the engine is heavy;<br>
that is, when throttle opening is wide, and the intake pressure<br><br>
is high, the air-fuel ratio is decreased. When the loaded<br>
condition of the engine is light; that is, when the throttle<br>
opening is narrow, and the intake pressure is low, the air-fuel<br>
ratio is increased. The reason for this is that emphasis is<br>
placed on torque when the loaded condition of the engine is<br>
heavy and that emphasis is placed on efficiency when the loaded<br>
condition of the engine is light.<br>
As mentioned above, the target air-fuel ratio is a numeral<br>
whose physical meaning is easy to ascertain. Accordingly, the<br>
target air-fuel ratio can be set to a certain extent in accordance<br>
with a required output characteristic of the engine . As a matter<br>
of course, it goes without saying that tuning may be performed<br>
in accordance with the output characteristic of the engine of<br>
an actual vehicle.<br>
The target air-fuel ratio computing section 33 has a<br>
transition period correction section 29 which detects the<br>
transient period of operating state of the engine from the intake<br>
pressure signal; specifically, the accelerating and<br>
decelerating states of the engine, and corrects the air-fuel<br>
ratio in accordance with the thus-detected states. As shown<br>
in, e.g., Fig. 7, the intake pressure also stems from throttle<br>
operation. Hence, when the intake pressure increases, the<br>
engine is considered to be in an accelerating state in which<br>
demand exists for opening of the throttle to achieve acceleration.<br>
If such an accelerating state is detected, the target air-fuel<br><br>
ratio is temporarily set to the rich side in accordance with<br>
the detected accelerating state. Subsequently, the air-fuel<br>
ratio is reset to the original target air-fuel ratio. An<br>
existing method can be utilized as a way to reset the air-fuel<br>
ratio to the original air-fuel ratio, wherein, for example,<br>
a gradual change is made in a weighting coefficient to be used<br>
for determining a weighted average value between the air-fuel<br>
ratio set to the rich side during a transition period and the<br>
original target air-fuel ratio. Conversely, if the<br>
decelerating state is detected, the air-fuel ratio may be set<br>
to a position closer to the lean side with reference to the<br>
original target air-fuel ratio, thereby placing emphasis on<br>
efficiency.<br>
The fuel injection quantity computing section 34 can<br>
determine the mass of fuel required in the cylinder by dividing<br>
cylinder air mass computed by the cylinder air mass computing<br>
section 28 by the target air-fuel ratio computed by the target<br>
air-fuel computing section 33. A fuel injection time can be<br>
determined by multiplying the thus-computed mass of fuel by,<br>
e.g., the flow-rate characteristic of the injector 13. The<br>
quantity of fuel to be injected and the fuel injection timing<br>
can be computed from the fuel injection time.<br>
As mentioned above, in the embodiment, the mass of air<br>
in the cylinder is computed from the intake pressure and the<br>
operating state of the engine in accordance with the<br><br>
previously-stored cylinder air mass three-dimensional map. In<br>
accordance with the previously-stored target air-fuel ratio<br>
map, the target air-fuel ratio is computed from the intake<br>
pressure and the operating state of the engine. The cylinder<br>
air mass is divided by the target fuel-air ratio, thereby<br>
computing the quantity of fuel to be injected. Hence, control<br>
is facilitated and rendered accurate. The cylinder air mass<br>
map is easy to measure, and the target air-fuel ratio map is<br>
easy to set. Hence, mapping operation becomes easy. Further,<br>
the necessity for using a throttle sensor for detecting engine<br>
load, such as a throttle opening sensor or a throttle position<br>
sensor, is obviated.<br>
Moreover, from the intake pressure the engine is detected<br>
as being in a transition phase, such as an accelerating state<br>
or a decelerating state, thereby correcting the target air-fuel<br>
ratio. An output characteristic of the engine to be achieved<br>
at the time of acceleration or deceleration is set merely in<br>
accordance with the target air-fuel ratio. Hence, the output<br>
characteristic can be changed to satisfy the driver"s<br>
requirement or so as to be close to the driver"s perception.<br>
The engine speed can also be detected readily by means<br>
of detecting the engine speed from the phase of the crankshaft.<br>
For instance, if the stroke status is detected from the phase<br>
of the crankshaft in lieu of a cam sensor, an expensive,<br>
large-scale cam sensor can be obviated.<br><br>
As mentioned above, according to the embodiment which<br>
does not employ any cam sensor, the phase of the crankshaft<br>
is important. For this reason, the crank pulse must be detected<br>
accurately. However, in reality, a failure to detect a crank<br>
pulse and erroneous detection of noise as a crank pulse can<br>
feasibly occur. For instance, Fig. 8a shows an instantaneous<br>
rotational speed of the crankshaft achieved when the throttle<br>
valve is opened rapidly (i.e., an "instantaneous rev" in the<br>
drawings) , an average value of rotational speed of the crankshaft<br>
("average rev" in the drawing) , an intake pressure, and numbered<br>
crank pulses (a "crank pulse counter" in the drawing). As<br>
mentioned above, the instantaneous rotational speed of the<br>
crankshaft is a value determined by the phase of the cog (i.e.,<br>
the rotational speed) corresponding to the crank pulse divided<br>
by the time required when the crank pulse is detected until<br>
the next crank pulse is detected. The average value of<br>
rotational speed of the crankshaft is an instantaneous moving<br>
average value of rotational speed of the crankshaft.<br>
In the single-cylinder engine having a small displacement<br>
such as that shown in the embodiment, the engine speed is greatly<br>
decreased in association with rapid opening of the throttle<br>
valve. There is a chance of failure to detect a crank pulse<br>
at that moment. Even in Fig. 8a, when the engine speed has<br>
dropped after rapid opening of the throttle valve, the crank<br>
pulse at the top dead center that should originally be detected<br><br>
cannot be detected. For this reason, an increase in the count<br>
value of the crankpulse counter does not become linear . Further,<br>
the phase (rotational angle) of the crankshaft achieved in the<br>
vicinity of the cogless section is recognized erroneously.<br>
Hence, the instantaneous rotational speed of the crankshaft<br>
becomes greatly distorted. Similarly, Fig. 8b shows an example<br>
in which noise derived from firing effected in the vicinity<br>
of the compression top dead center after rapid opening of the<br>
throttle valve is erroneously detected as a crank pulse. As<br>
a result, the count value of the crank pulse counter does not<br>
become linear, and the instantaneous rotational speed of the<br>
crankshaft obtained in the vicinity of the cogless section<br>
becomes greatly distorted.<br>
When focus is placed on the time at which detection of<br>
the crank pulse" has come to end in a failure, i.e., the time<br>
at which the crank pulse has dropped out, and the time at which<br>
noise is detected erroneously as a crank pulse, i.e., an<br>
instantaneous rotational speed of the crankshaft achieved at<br>
the time of occurrence of noise, characteristics have come to<br>
be observed in the cogless section and the neighborhood thereof .<br>
Fig. 9 shows that an average value of rotational speed of the<br>
crankshaft achieved at the time of dropout of the crank pulse<br>
(i.e., a "average rev. pule dropout" in the drawing), an<br>
instantaneous rotational speed of the crankshaft at the time<br>
of dropout of the crank pulse (i.e., an "instantaneous rev at<br><br>
pulse dropouts" in the drawing) , an average value of rotational<br>
speed of the crankshaft achieved at the time of occurrence of<br>
noise (i.e., an "average rev at occurrence of noise" in the<br>
drawing), and an instantaneous rotational speed of the<br>
crankshaft achieved at the time of occurrence of noise (i.e.,<br>
an "instantaneous rev at occurrence of noise") are plotted such<br>
that compression top dead centers are overlapped". The<br>
instantaneous rotational speed of the crankshaft rapidly<br>
increases at the same timing even when dropouts of the crank<br>
pulse and noise have occurred. In contrast, a rapid decrease<br>
arises in the instantaneous rotational speed of the crankshaft<br>
before and after that timing. Specifically, when a dropout<br>
of the crank pulse has arisen, a rapid decrease arises in the<br>
instantaneous rotational speed of the crankshaft before a rapid<br>
increase arises. Conversely, when noise arises, a rapid<br>
decrease tends to arise after a rapid increase has arisen in<br>
the instantaneous rotational speed of the crankshaft.<br>
This is attributable to whether the crank pulse<br>
corresponding to a cog, which is to be originally detected and<br>
would be present in the cogless section, is to be detected before<br>
or after the cogless section. As mentioned above, erroneous<br>
detection of a cog which would be present in the cogless section<br>
as a normal cog is defined as erroneous detection of a cogless<br>
section. A pitch between specif ic cogs in the embodiment; that<br>
is, a pitch between cogs which would be in the cogless section,<br><br>
is double (a times) the pitch between other cogs (which will<br>
also be described as ordinary cogs). Hence, at the time of<br>
occurrence of dropout of a crank pulse at which a cogless section<br>
is erroneously detected at a timing at which the cogless section<br>
should originally be detected, a pitch between ordinary cogs<br>
is divided by the time required to detect a crank pulse for<br>
a cog which would be in the cogless section. Consequently,<br>
the instantaneous rotational speed of the crankshaft obtained<br>
from a crankpulse corresponding to a cog at the time of erroneous<br>
detection of the cogless section has become half (one-ath) or<br>
less a predicted rotational speed of the crankshaft obtained<br>
from the crank pulse corresponding to a preceding cog. However,<br>
as indicatedby two-dot chain lines shown in Fig. 9, thepredicted<br>
rotational speed of the crankshaft is obtained, by means of<br>
extending at a uniform slope the instantaneous rotational speed<br>
of the crankshaft—which is obtained when the crank pulse<br>
assigned to the cog appearing before erroneous detection of<br>
the cogless section is detected—until the cogless section is<br>
detected erroneously. After erroneous detection of the cogless<br>
section, a pitch between cogs which would be present in the<br>
cogless section is divided by the time required to detect crank<br>
pulses assigned to ordinary cogs. Consequently, the<br>
instantaneous rotational speed of the crankshaft obtained from<br>
the crank pulses assigned to ordinary cogs erroneously detected<br>
as a cogless section is twice (a times) or more the average<br><br>
value of rotational speed of the crankshaft.<br>
At the time of occurrence of noise at which the cogless<br>
section is erroneously detected later than a timing at which<br>
the cogless section should originally be detected, the pitch<br>
between cogs in the cogless section is divided by the time<br>
required to detect a crank pulse assigned to ordinary cogs.<br>
Consequently, the instantaneous rotational speed of the<br>
crankshaft obtained from crank pulses assigned to ordinary cogs<br>
which are erroneously detected as those in the cogless section<br>
is double (a-times) or more the average value of rotational<br>
speed of the crankshaft. At the time of erroneous detection<br>
of a cogless section at which an actual cogless section is<br>
erroneously detected, a pitch between the ordinary cogs is<br>
divided by the time required to detect crank pulses assigned<br>
to cogs which would be present in the cogless section.<br>
Consequently, the instantaneous rotational speed of the crank<br>
shaft computed from crank pulses assigned to cogs subsequent<br>
to the cog, the cogs being erroneously detected as being present<br>
in the cogless section, have come to be one-fourth (one-2ath)<br>
or less the instantaneous rotational speed of the crankshaft<br>
obtained earlier than the instantaneous value.<br>
Fig. 10 shows computation processing to be used for<br>
detecting occurrence of erroneous-detection of a crank pulse<br>
on the basis of the rotational speed of the crankshaft obtained<br>
from such a crank pulse. The computing operation is performed<br><br>
by a microcomputer provided in the engine control unit 15 as<br>
interrupt processing each time a crank pulse is detected in<br>
parallel with the computing operation shown in Fig. 3, in such<br>
a way that detectionof a crankpulse, e.g., is taken as a trigger.<br>
Here, the engine speed and the rotational speed of the crankshaft<br>
are substantially identical with each other, because the output<br>
shaft of the engine is a crankshaft. The flowchart is not<br>
provided with a step particularly intended for establishing<br>
communication. However, the information obtained through<br>
computing operation is updated and stored in a storage device,<br>
as required. Further, information and a program, which are<br>
required for executing the processing, are loaded from the<br>
storage device at any time.<br>
In step SI, through computing operation, a determination<br>
is made as to whether or not the crank angle number (denoted<br>
as No. in the drawing) assigned to the crank pulse is "3" or<br>
"4." If the crank angle number is "3" or "4," processing<br>
proceeds to step S2. If not, processing proceeds to step S3.<br>
In step S2, a determination is made as to whether or not<br>
the instantaneous value (instantaneous value in the drawing)<br>
of the rotational speed (C/S rotational speed in the drawing)<br>
of the crankshaft computed from the current crank pulse is half<br>
or less than the predicted current rotational speed of the crank<br>
shaft computed from the instantaneous rotational speed of the<br>
previous crankshaft in the manner mentioned previously. When<br><br>
the instantaneous rotational speed of the crankshaft is half<br>
or less than the predicted rotational speed of the crankshaft,<br>
processing proceeds to step S4. If not, processing returns<br>
to the main program.<br>
In step S4, a determination is made as to whether or not<br>
the crank angle number is three. If the crank angle number<br>
is three, processing proceeds to step S5. If not, processing<br>
proceeds to step S6.<br>
In step S5, a crank angle storage counter CNT is set to<br>
"3," and processing returns to the main program.<br>
In step S6, the crank angle storage counter CNT is set<br>
to "4," and processing returns to the main program.<br>
In step 3 a determination is made as to whether or not<br>
the crank angle number is "6." If the crank angle number is<br>
"6," processing proceeds to step S7 . If not, processing<br>
proceeds to step S8.<br>
In step S7, a determination is made as to whether or not<br>
the instantaneous rotational speed of the crankshaft computed<br>
from the current crank pulse is double or more the average value<br>
of rotational speed of the crankshaft. If the instantaneous<br>
rotational speed of the crankshaft is double or more the average<br>
value of rotational speed of the crankshaft, processing proceeds<br>
to step S9. If not, processing proceeds to step S10.<br>
In step S9, a determination is made as to whether or not<br>
the crank angle storage counter CNT is "3." If the crank angle<br><br>
storage counter CNT is "3," processing proceeds to step Sll.<br>
If not, processing proceeds to step S12.<br>
In step Sll, crank pulses corresponding to two cogs are<br>
determined to have dropped out. A new crank angle number<br>
calculated by addition of "two" to the original crank angle<br>
number is set, and processing proceeds to step S10.<br>
In step S12, a determination is made as to whether or<br>
not the crank angle storage counter CNT is NM . " If the crank<br>
angle storage counter CNT is "4," processing proceeds to step<br>
S13. If not, processing proceeds to step S14.<br>
In step S13, a crank pulse corresponding to one cog is<br>
determined to have dropped out. A new crank angle number<br>
calculated by addition of "1" to the original crank angle number<br>
is set, and processing proceeds to step S10.<br>
In step S14, a determination is made as to whether or<br>
not the crank angle storage counter CNT is "0." If the crank<br>
angle storage counter CNT is "0," processing proceeds to step<br>
S15. If not, processing proceeds to step S10.<br>
In step S10, the crank angle storage counter CNT is set<br>
to "0," and processing returns to the main program.<br>
In step S15, a noise flag FN is set to "1, " and processing<br>
returns to the main program.<br>
In contrast, in step S8 a determination is made as to<br>
whether or not the noise flag FN is set to 1. If the noise flag<br>
FM is set, processing proceeds to step S17. If not, processing<br><br>
returns to the main program.<br>
In step S17, a determination is made as to whether or<br>
not the crank angle number is "7." If the crank angle number<br>
is "7," processing proceeds to step S18. If not, processing<br>
proceeds to step S19.<br>
In step S18, a determination is made as to whether or<br>
not the instantaneous rotational speed of the crankshaft<br>
computed from the current crank pulse is one-fourth or less<br>
the instantaneous rotational speed of the crankshaft computed<br>
from the previous crank pulse. When the instantaneous<br>
rotational speed of the crankshaft computed from the current<br>
crank pulse is one-fourth or less the instantaneous rotational<br>
speed of the crankshaft computed from the previous crank pulse,<br>
processing proceeds to step S20. If not, processing returns<br>
to the main program.<br>
In step S20, noise is determined have arisen once, the<br>
crank angle number is set to "6," and processing proceeds to<br>
step S21.<br>
In step S19, a determination is made as to whether or<br>
not the crank angle number is "8." If the crank angle number<br>
is "8," processing proceeds to step S22. If not, processing<br>
proceeds to step S21.<br>
In step S22, a determination is made as to whether or<br>
not the instantaneous rotational speed of the crankshaft<br>
computed from the current crank pulse is one-fourth or less<br><br>
the instantaneous rotational speed of the crankshaft computed<br>
from the second previous crank pulse. When the instantaneous<br>
rotational speed of the crankshaft computed from the current<br>
crank pulse is one-fourth or less the instantaneous rotational<br>
speed of the crankshaft computed from the second previous crank<br>
pulse, processing proceeds to step S23. If not, processing<br>
proceeds to step S21.<br>
In step S23, noise is determined to have arisen twice.<br>
The crank angle number is set to "6," and processing proceeds<br>
to step S21.<br>
In step S21, the noise flag FN is reset to "0," and<br>
processing returns to the main program.<br>
In a case where a crank pulse corresponding to one cog<br>
has dropped out, a crank pulse corresponding to a cog which<br>
would be in the cogless section is detected when the crank angle<br>
number is "4" in the embodiment by means of the computing<br>
operation. Hence, when the crank angle number is "4,"<br>
processing shifts from step SI to step S2. Here, when the crank<br>
pulse corresponding to one cog has dropped out, the instantaneous<br>
rotational speed of the crankshaft computed from the current<br>
crank pulse is half or less the predicted rotational speed of<br>
the crank shaft. Accordingly, processing shifts from step S2<br>
to step S6 by way of step S4 . In step S6, the crank angle storage<br>
counter CNT is temporarily set to "4," and processing returns<br>
to the main program.<br><br>
When the next crank pulse is detected, the crank angle<br>
number assigned to that crank pulse is "6." Hence, processing<br>
proceeds from step S1 to step S7 by way of step S3. When a<br>
crank pulse corresponding to one cog has dropped out, the<br>
rotational speed of the crankshaft rapidly increases after<br>
having dropped abruptly. The instantaneous rotational speed<br>
of the crankshaft computed from that crank pulse is double or<br>
more the average value of rotational speed of the crankshaft,<br>
and hence processing shifts from step S7 to step S9. Here,<br>
the crank angle storage counter CNT stored in the storage device<br>
still remains "4, " and therefore processing proceeds from step<br>
S9 to step S13 by way of step S12. Here, a crank pulse<br>
corresponding to one cog is determined to have dropped out,<br>
and a value calculated by adding "1" to the original crank angle<br>
number; that is, "7," is set as a new crank angle number, i.e.,<br>
a correct crank angle number, whereupon processing proceeds<br>
to step SIC). The crank angle storage counter CNT is taken as<br>
" 0."<br>
When crank pulses corresponding to two cogs have dropped<br>
out, the instantaneous rotational speed of the crankshaft drops<br>
abruptly when the crank angle number is "3 . " Processing shifts<br>
from step SI to step S4 by way of step S2. Here, since the<br>
crank angle number is "3, " processing proceeds to step S5, where<br>
the crank angle storage counter CNT is set to "3, " and processing<br>
temporarily returns to the main program. When crank pulses<br><br>
corresponding to two cogs have dropped out, the instantaneous<br>
rotational speed of the crankshaft abruptly drops. Then, when<br>
a second crank pulse is detected, the instantaneous rotational<br>
speed of the crankshaft increases immediately. Accordingly,<br>
when the next crank pulse for which the crank angle storage<br>
counter CNT is set to "3" is detected, the crank angle number<br>
still remains "4 ." Processing returns from step SI to the main<br>
program by way of step S2.<br>
When a crank pulse after next is detected, the crank angle<br>
number has assumed "6." Processing proceeds from step SI to<br>
step S7 by way of step S3. At this time, the instantaneous<br>
rotational speed of the crankshaft rapidly increases and has<br>
become double or more the average value of rotational speed,<br>
and hence processing proceeds to step S9. The crank angle<br>
storage counter CNT stored in the storage device at this time<br>
still assumes "3," and hence processing proceeds to step Sll,<br>
where crank pulses corresponding to two cogs are determined<br>
to have dropped out. Further, a value calculated by adding<br>
"2" to the original crank angle number; that is, "8," is set<br>
to a new crank angle number, i.e., a correct crank angle number.<br>
Processing proceeds to step S10, where the crank angle storage<br>
counter CNT is set to "0."<br>
In contrast, when noise has arisen once, the instantaneous<br>
rotational speed of the crankshaft increases rapidly when the<br>
crank angle number assumes "6." Therefore, if processing<br><br>
proceeds from step SI to step S2 when the crank angle number<br>
is "3" or "4," the instantaneous rotational speed of the<br>
crankshaft computed from the crank pulse obtained at that time<br>
is not half or less the predicted rotational speed of the<br>
crankshaft, and processing returns to the main program without<br>
modification. When the crank angle number has assumed "6,"<br>
processing shifts from step S3 to step S7. Here, the<br>
instantaneous rotational speed of the crankshaft computed from<br>
the current crank pulse is double or more the rotational speed<br>
of the crankshaft, and hence processing proceeds to step S9.<br>
However, at this point in time, the crank angle storage counter<br>
CNT stored in the storage device at this moment still remains<br>
"0." Hence, the noise flag FN is temporarily set to "1" in step<br>
S15 by way of steps S9, S12, and S14, and processing returns<br>
to the main program.<br>
As mentioned previously, when noise has arisen once, the<br>
instantaneous rotational speed of the crankshaft rapidly<br>
decreases at the time of detection of the next crank pulse at<br>
which the instantaneous rotational speed of the crankshaft has<br>
increased rapidly. The crank angle number assumes "7" at the<br>
time of detection of the next crank pulse at which the noise<br>
flag FN is set. Processing proceeds from step SI to step S8<br>
by way of step S3. At this time, the noise flag FN still remains<br>
set, and hence processing proceeds to step S17 . The crank angle<br>
number is "7," and hence processing proceeds to step S18. At<br><br>
this time, the instantaneous rotational speed of the crankshaft<br>
has rapidly increased. The instantaneous rotational speed of<br>
the crankshaft computed from the current crank pulse is<br>
one-fourth or less the instantaneous rotational speed of the<br>
crankshaft computed from the previous crank pulse, and hence<br>
processing proceeds to step S20, where noise is determined to<br>
have arisen once. The crank angle number is set to "6," that<br>
is, a correct crank angle number, and processing proceeds to<br>
step S21, whereupon the noise flag FN is reset to "0."<br>
Even when noise has arisen twice, no change arises in<br>
the instantaneous rotational value of the crankshaft rapidly<br>
increasing when the crank angle number assumes "6." For this<br>
reason, when the crank angle number assumes "6," processing<br>
proceeds from step S3 to step S7. Here, the instantaneous<br>
rotational speed of the crankshaft computed from the current<br>
crank pulse is double or more the rotational speed of the<br>
crankshaft, andhence processingproceeds to step S9 . Thenoise<br>
flag FN is set to "1" in step S15 by way of steps S12 and S14.<br>
Processingtemporarily returns to the main program. Incontrast,<br>
when noise has arisen twice, the instantaneous rotational speed<br>
of the crankshaft rapidly decreases. This happens when the<br>
second crank pulse is detected after the instantaneous<br>
rotational speed of the crankshaft is rapidly increased. For<br>
this reason, even when the crank angle number has assumed "7"<br>
at the time of detection of the next crank pulse at which the<br><br>
noise flag FN is set, processing returns to the main program<br>
from step S18 without modification.<br>
Next, when the crank pulse is detected and the crank angle<br>
number has assumed "8," processing proceeds from step S17 to<br>
step S22 by way of step S19. Here, the instantaneous rotational<br>
speed of the crankshaft computed from the current crank pulse<br>
is one-fourth or less the instantaneous rotational speed of<br>
the crankshaft computed from the second previous crank pulse;<br>
that is, a crank angle number of "6 . " Hence, processingproceeds<br>
to step S22, where noise is determined to have arisen twice.<br>
Further, the crank angle number is set to "6"; that is, a correct<br>
crank angle number, and processing proceeds to step S21,<br>
whereupon the noise flag FN is reset to "0."<br>
Fig. lla shows a case where a crank pulse corresponding<br>
to one cog has dropped out, wherein the crank angle number is<br>
corrected through the computation processing shown in Fig. 10,<br>
and Fig. lib shows a case where noise has arisen once, wherein<br>
the crank angle number is corrected through the computation<br>
processing shown in Fig. 10. As is evident from the drawings,<br>
the reason why the instantaneous rotational speed of the<br>
crankshaft has caused an error is that the crank pulse has dropped<br>
out or that the crank pulse has fallen within once cycle after<br>
occurrence of noise. Accurate detection of occurrence of<br>
erroneous-detection of a crank pulse and accurate correction<br>
of a crank angle are understood to be performed.<br><br>
Fig. 12 shows that the ratio of the rotational speed of<br>
the crankshaft to the average value of rotational speed when<br>
the instantaneous rotational speed of the crankshaft has<br>
increased rapidly is determined through repeated, rapid, and<br>
intentional opening of the throttle valve. Simultaneously,<br>
the crank angle number is amended through the computing operation<br>
shown in Fig. 10, whereby the counter is incremented every time<br>
the crank angle number is amended. As is evident from the<br>
foregoing, accurate detection of a rapid increase in the<br>
instantaneous rotational speed of the crankshaft results in<br>
enhancement of the accuracy of detection of occurrence of<br>
erroneous-detection of a crank pulse. As is evident from the<br>
drawing, when the instantaneous rotational speed of the<br>
crankshaft rapidly increases as a result of occurrence of<br>
dropouts of the crank pulse, the instantaneous rotational speed<br>
greatly exceeds double the average value of rotational speed<br>
of the crankshaft, which shows that determination of occurrence<br>
of a dropout of crank pulse rendered in step 2 pertaining to<br>
the computing operation shown in Fig. 10 is reasonable.<br>
The embodiment has described the engine of manifold<br>
injection type in detail. However, the engine controller of<br>
the invention can also be applied in the same manner to an engine<br>
of direct injection type.<br>
Although the embodiment has also described the single<br>
cylinder engine indetail, the engine controller of the invention<br><br><br>
can also be applied in the same manner to a so-called<br>
multicylinder engine having two or more cylinders.<br>
In the engine control unit, various processing circuits<br>
can also be used as substitutes for the microcomputer.<br>
Industrial Applicability<br>
As is described in detail, according to an engine<br>
controller of claim 1 qf the invention, cogs are provided at<br>
non-uniform intervals on an outer periphery of a crankshaft<br>
or a member which rotates in synchronism with the crankshaft.<br>
A pulse signal which is transmitted in association with an<br>
approach to the cogs is detected as a crank pulse . On the occasion<br>
of controlling the operating state of an engine on the basis<br>
of the phase of a crankshaft detected from the crank pulse,<br>
the rotational speed of the crankshaft determined from crank<br>
pulses assigned to specific cogs from among the cogs provided<br>
at non-uniform intervals is compared with the rotational speed<br>
of the crankshaft determined from crank pulses assigned to cogs<br>
located in the vicinity of the specific cogs, thereby detecting<br>
occurrence of erroneous detection of a crank pulse. On the<br>
basis of the relationship between the pitch between the specific<br>
cogs and the pitch between the cogs located in the vicinity<br>
of the specific cogs, the computed rotational speeds of the<br>
crankshaft are compared with each other, thereby enabling<br>
accurate detection of occurrence of erroneous detection of a<br><br><br>
crank pulse.<br>
By means of an engine controller of Claim 2 Of the invention,<br>
on the assumption that the pitch between the specific cogs among<br>
the cogs provided at non-uniform intervals is a times the pitch<br>
between the other cogs, when the instantaneous rotational speed<br>
of the crankshaft obtained from a crank pulse assigned to a<br>
cog before the specific cog is one-ath or less a predicated<br>
rotational speed of the crankshaft obtained from a crank pulse<br>
assigned to the previous cog and when the instantaneous<br>
rotational speed of the crankshaft obtained from the crank pulse<br>
assigned to the specific cog is a times or more the average<br>
value of rotational speed of the crankshaft, a determination<br>
is made that crack pulses are detected erroneously; i.e., too<br>
few crank pulses are detected. Hence, detection of too few<br>
crank pulse can be detected accurately.<br>
Bymeans of an engine controller of claim 3 Of the invention,<br>
on the assumption that a pitch between specific cogs from among<br>
cogs provided at non-uniform intervals is a times a pitch between<br>
the other cogs, when the instantaneous rotational speed of the<br>
crankshaft determined from the crank pulse assigned to the<br>
specific cogs is a times an average value of rotational speed<br>
of the crankshaft and when the instantaneous rotational speed<br>
of the crankshaft determined from crank pulses assigned to the<br>
cog next to the specific cog and those assigned to subsequent<br>
cogs is one-2ath or less the instantaneous rotational speed<br><br>
of the crankshaft obtained before that, a determination is made<br>
that crank pulses are detected erroneously; i.e., too many crank<br>
pulses are detected. Hence, detection of too many crank pulses<br>
can be detected accurately.<br>
37<br>
We Claim<br>
1. An engine controller for a four-stroke engine adaptable to two-wheeler<br>
vehicles, comprising:<br>
a crankshaft (3) or a member rotating in synchronism with the<br>
crankshaft (3), one of which being provided with a plurality of cogs (23)<br>
at non-uniform intervals on an outer periphery;<br>
crank pulse generation means (20) which transmits a pulse signal<br>
in association with an approach to said cogs (23);<br>
crankshaft phase detection means (27) for detecting the phase of a<br>
crankshaft (3) from said crank pulse;<br>
engine control means (15) for controlling the operating state of an<br>
engine (1) on the basis of the phase of said crankshaft detected by said<br>
crankshaft phase detection means (27);<br>
characterized by comprising:<br>
erroneous-detection-of-crank-pulse detection means (26)<br>
which detects occurrence of erroneous detection of said crank<br>
pulse by means of comparing the rotational speed of said<br>
crankshaft determined from crank pulses assigned to specific cogs<br>
from among said cogs provided at non-uniform intervals with the<br>
rotational speed of said crankshaft determined from crank pulses<br>
assigned to cogs located in the vicinity of said specific cogs.<br>
2. The engine controller as claimed in claim 1, wherein on the assumption<br>
that a pitch between said specific cogs among said cogs provided at non-<br>
uniform intervals is a times a pitch between the other cogs, when the<br>
instantaneous rotational speed of said crankshaft obtained from a crank<br>
pulse assigned to a cog before the specific cog is one -ath or less a<br>
predicated rotational speed of said crankshaft obtained from a crank pulse<br>
assigned to the previous cog and when the instantaneous rotational speed<br>
of said crankshaft obtained from the crank pulse assigned to said specific<br>
cog is a times or more the average value of rotational speed of said<br>
crankshaft, a determination is made that that crank pulse detection is<br>
erroneous, in that too few crank pulses are detected.<br>
3. The engine controller as claims in claim 1 or 2, wherein on the assumption<br>
that a pitch between said specific cogs from among said cogs provided at<br>
non-uniform intervals is a times a pitch between the other cogs, when the<br>
instantaneous rotational speed of said crankshaft determined from the<br>
crank pulse assigned to said specific cogs is a times an average value of<br>
rotational speed of said crankshaft and when the instantaneous rotational<br>
speed of said crankshaft determined from crank pulses assigned to a cog<br>
next to said specific cog and those assigned to subsequent cogs is one<br>
-2ath or less the instantaneous rotational speed of said crankshaft<br>
obtained before that, a determination is made that crank pulse detection<br>
is erroneous, in that too many crank pulses have detected.<br>
The invention relates to an engine controller comprising: cogs (23) provided at<br>
non-uniform intervals on an outer periphery of a crankshaft (3) or a member<br>
which rotates in synchronism with the crankshaft (3); crank pulse generation<br>
means (20) which transmits a pulse signal in association with an approach to<br>
said cogs (23); crankshaft phase detection means (27) for detecting the phase of<br>
a crankshaft (3) from said crank pulse; engine control means (15) for controlling<br>
the operating state of an engine (1) on the basis of the phase of said crankshaft<br>
detected by said crankshaft phase detection means (27); erroneous-detection-of-<br>
crank-pulse detection means (26) which detects occurrence of erroneous<br>
detection of said crank pulse by means of comparing the rotational speed of said<br>
crankshaft determined from crank pulses assigned to specific cogs from among<br>
said cogs provided at non-uniform intervals with the rotational speed of said<br>
crankshaft determined from crank pulses assigned to cogs located in the vicinity<br>
of said specific cogs.</td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTI2LWtvbG5wLTIwMDQtZ3JhbnRlZC1hYnN0cmFjdC5wZGY=" target="_blank" style="word-wrap:break-word;">526-kolnp-2004-granted-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTI2LWtvbG5wLTIwMDQtZ3JhbnRlZC1jbGFpbXMucGRm" target="_blank" style="word-wrap:break-word;">526-kolnp-2004-granted-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTI2LWtvbG5wLTIwMDQtZ3JhbnRlZC1jb3JyZXNwb25kZW5jZS5wZGY=" target="_blank" style="word-wrap:break-word;">526-kolnp-2004-granted-correspondence.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTI2LWtvbG5wLTIwMDQtZ3JhbnRlZC1kZXNjcmlwdGlvbiAoY29tcGxldGUpLnBkZg==" target="_blank" style="word-wrap:break-word;">526-kolnp-2004-granted-description (complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTI2LWtvbG5wLTIwMDQtZ3JhbnRlZC1kcmF3aW5ncy5wZGY=" target="_blank" style="word-wrap:break-word;">526-kolnp-2004-granted-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTI2LWtvbG5wLTIwMDQtZ3JhbnRlZC1leGFtaW5hdGlvbiByZXBvcnQucGRm" target="_blank" style="word-wrap:break-word;">526-kolnp-2004-granted-examination report.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTI2LWtvbG5wLTIwMDQtZ3JhbnRlZC1mb3JtIDEucGRm" target="_blank" style="word-wrap:break-word;">526-kolnp-2004-granted-form 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTI2LWtvbG5wLTIwMDQtZ3JhbnRlZC1mb3JtIDE4LnBkZg==" target="_blank" style="word-wrap:break-word;">526-kolnp-2004-granted-form 18.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTI2LWtvbG5wLTIwMDQtZ3JhbnRlZC1mb3JtIDIucGRm" target="_blank" style="word-wrap:break-word;">526-kolnp-2004-granted-form 2.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTI2LWtvbG5wLTIwMDQtZ3JhbnRlZC1mb3JtIDMucGRm" target="_blank" style="word-wrap:break-word;">526-kolnp-2004-granted-form 3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTI2LWtvbG5wLTIwMDQtZ3JhbnRlZC1mb3JtIDUucGRm" target="_blank" style="word-wrap:break-word;">526-kolnp-2004-granted-form 5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTI2LWtvbG5wLTIwMDQtZ3JhbnRlZC1sZXR0ZXIgcGF0ZW50LnBkZg==" target="_blank" style="word-wrap:break-word;">526-kolnp-2004-granted-letter patent.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTI2LWtvbG5wLTIwMDQtZ3JhbnRlZC1wYS5wZGY=" target="_blank" style="word-wrap:break-word;">526-kolnp-2004-granted-pa.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTI2LWtvbG5wLTIwMDQtZ3JhbnRlZC1yZXBseSB0byBleGFtaW5hdGlvbiByZXBvcnQucGRm" target="_blank" style="word-wrap:break-word;">526-kolnp-2004-granted-reply to examination report.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTI2LWtvbG5wLTIwMDQtZ3JhbnRlZC1zcGVjaWZpY2F0aW9uLnBkZg==" target="_blank" style="word-wrap:break-word;">526-kolnp-2004-granted-specification.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTI2LWtvbG5wLTIwMDQtZ3JhbnRlZC10cmFuc2xhdGVkIGNvcHkgb2YgcHJpb3JpdHkgZG9jdW1lbnQucGRm" target="_blank" style="word-wrap:break-word;">526-kolnp-2004-granted-translated copy of priority document.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="214232-multi-mode-mobile-wireless-communications-device-architecture-and-method.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="214234-a-method-for-preparing-a-mixuture-of-fresh-fluid-catalytic-cracking-catalysts-for-use-in-an-fccu-operation.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>214233</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>00526/KOLNP/2004</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>06/2008</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>08-Feb-2008</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>07-Feb-2008</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>21-Apr-2004</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>YAMAHA HATSUDOKI KABUSHIKI KAISHA</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>2500 SHINGAI8, IWATA-SHI,SHIZUOKA JAPAN</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>TAKAHASHI MICHIYASU HASEGAWA HITOSHI AND SAWADA YUICHYIRO</td>
											<td>C/O YAMAHA HATSUDOKI KABUSHIKI KAISHI 2500 SHINGAI, JAPAN</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>F02D45/00</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/JP02/10947</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2002-10-22</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>2001-325512</td>
									<td>2001-10-23</td>
								    <td>Japan</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/214233-engine-controller by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 07:49:24 GMT -->
</html>
