<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/272001-method-and-apparatus-for-coexistence-of-different-synchronous-frame-based-wireless-communication-technologies by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2024 23:58:24 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 272001:METHOD AND APPARATUS FOR COEXISTENCE OF DIFFERENT SYNCHRONOUS FRAME-BASED WIRELESS COMMUNICATION TECHNOLOGIES</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">METHOD AND APPARATUS FOR COEXISTENCE OF DIFFERENT SYNCHRONOUS FRAME-BASED WIRELESS COMMUNICATION TECHNOLOGIES</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A method for coexistence of an orthogonal frequency division multiple access (OFDMA) receiver (117) such as a WiMAX receiver with a synchronous frame-based transmitter (1151 such as a Bluetooth transmitter within a mobile station (110) receives an estimated media access protocol (MAP&quot;) signal indicating when a MAP message is expected to be received by the OFDMA receiver (117) and uses it at a Bluetooth shutdown signal (190) at least when a MAP message is expected to be received. The MAP&quot;signal can be taken directly from the ODFMA transceiver (117) or it may be produced through analysis of a receiver-enable (RXE) signal that includes not only MAP symbols but also downlink data symbols. The RXE signal can be analyzed using interrupt-and-timer, Fast Fourier Transform, covariance, and/or delay-locked loop techniques to extract historical MAP symbol in- formation and generate expected MAP symbol information. Shutting down a Bluetooth transmitter during expected MAP message receipt permits the OFDMA receiver to maintain synchronicity with an access point while not requiring the Bluetooth transmitter to shut down every time the OFDMA receiver expects to receive an OFDMA symbol.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>METHOD AND APPARATUS FOR COEXISTENCE<br>
FIELD OF THE DISCLOSURE<br>
[0001] This disclosure relates generally to coexistence of two different<br>
synchronous frame-based wireless communication technologies and more<br>
specifically to operation of Bluetooth and Orthogonal Frequency Division<br>
Multiple Access (OFDMA) radios on the same device at the same (or nearly<br>
the same) frequency band.<br>
BACKGROUND OF THE DISCLOSURE<br>
[0002] Coexistence refers to the ability for multiple wireless protocols to<br>
operate in or around the same frequency band without significant<br>
degradation to either's operation. For example, IEEE 802.16e wireless<br>
metropolitan area network communications (sometimes referred to as<br>
WiMAX), IEEE 802.11b/g wireless local area network communications<br>
(sometimes referred to as WiFi), and IEEE 802.15 wireless personal area<br>
network communications (sometimes referred to as Bluetooth) all operate in<br>
or around the Industrial, Scientific, and Medical (ISM) band at 2.4 - 2.5 GHz.<br>
Thus, simultaneously using two or more of these technologies in the ISM<br>
band (or operating one of these technologies in the ISM band and another<br>
near the ISM band), will require coexistence in order to operate effectively.<br>
[0003] Within a single mobile station, two or more radio transceivers<br>
operating in or around the same band may cause internal interference.<br>
Transmitting using one technology at a frequency band while receiving using<br>
the other technology at the same or similar frequency band will lead to<br>
adjacent channel interference and receiver de-sense. Because IEEE S02.11b/g<br>
framing is asynchronous Ethernet-based and Bluetooth Synchronous<br>
Connection Oriented (SCO) framing for voice communication is synchronous,<br>
 <br>
it is possible for the mobile station to delay IEEE 802.11b/g transmissions to a<br>
point in time when the mobile station's Bluetooth receiver is not active and<br>
thus reduce internal interference. However, because IEEE 802.16e uses<br>
synchronous framing and Bluetooth SCO links also use synchronous framing,<br>
there is little flexibility to delay one technology's transmission relative to the<br>
other technology's reception. When an IEEE 802.16e radio is transmitting<br>
simultaneously with a Bluetooth radio receiving, and vice versa, packet losses<br>
can be as high as 25% on the downlink (from a base station, or access point, to<br>
the mobile station) and 38% on the uplink (from the mobile station to the base<br>
station or access point).<br>
[0004] Further complicating matters, it is desirable to spread energy on the<br>
ISM band "randomly" so it will look more like white noise. The practical<br>
effect of this desire is that synchronization of the IEEE 802.16e and Bluetooth<br>
radio clocks within a single mobile station is not preferred. Additionally,<br>
Bluetooth communications on the unlicensed 2.4 - 2.5 GHz ISM band should<br>
not consistently degrade IEEE 802.16e communications on the licensed<br>
Multichannel Multipoint Distribution Service (MMDS) and Instructional<br>
Television Fixed Service (IFTS) bands at 2.5 - 2.7 GHz in the United States or<br>
IEEE 802.16e communications in the 2.3 GHz band in Canada, South Korea,<br>
and United States.<br>
[0005] Thus, there is an opportunity to develop methods and apparatus for<br>
Bluetooth SCO-link coexistence with OFDMA synchronous framing<br>
communications that will reduce the risk of internal interference without<br>
synchronizing the clocks of those two radios within the same mobile station.<br>
The various aspects, features and advantages of the disclosure will become<br>
more fully apparent to those having ordinary skill in the art upon careful<br>
consideration of the following Drawings and accompanying Detailed<br>
Description.<br>
 <br>
BRIEF DESCRIPTION OF THE DRAWINGS<br>
[0006] FIG. 1 shows an example of a system diagram having a dual mode<br>
WiMAX/CDMA phone with Bluetooth.<br>
[0007] FIG. 2 shows a diagram of IEEE 802.16e (WiMAX) downlink<br>
frames, IEEE 802.15 (Bluetooth) frames, and associated signals.<br>
[0008] FIG. 3 shows a co-existence predictor that can be used to determine<br>
when to shut down a Bluetooth transmitter.<br>
[0009] FIG. 4 shows a flow chart for operation of an observer unit of the<br>
co-existence predictor shown in FIG. 3.<br>
[0010] FIG. 5 shows a flow diagram for detecting MAP symbols using<br>
transition analysis of a receiver-enable (RXE) signal.<br>
[0011] FIG. 6 shows a flow diagram for finding MAP symbols within an<br>
RXE signal that uses Fast Fourier Transform (FFT) techniques.<br>
[0012] FIG. 7 shows a sample diagram of analysis performed by the FFT<br>
block shown in FIG. 3 operating in accordance with the flow diagram shown<br>
in FIG. 6.<br>
[0013] FIG. 8 shows a simple graphical example of an observed RXE signal<br>
and an expected MAP pattern P.<br>
[0014] FIG. 9 shows a graph of cross-correlation between the observed<br>
RXE signal and the expected MAP pattern P of FIG. 8.<br>
[0015] FIG. 10 shows a derivative graph of the cross-correlation shown in<br>
FIG. 9.<br>
[0016] FIG. 11 shows a graph of cross-correlation maximum versus the<br>
expected MAP pattern P as a percentage.<br>
[0017] FIG. 12 shows a flow diagram of a covariance method for finding<br>
MAP symbols within an RXE signal.<br>
[0018] FIG 13 shows a diagram of a DLL process gradually locking onto<br>
MAP symbols.<br>
 <br>
[0019] FIG. 14 provides a flow diagram for operation of a DLL block<br>
within an observer unit of a co-existence predictor as shown in FIG. 3.<br>
[0020] FIG. 15 shows a flow diagram that can be implemented in the<br>
Decision Logic Unit (DLU) of the co-existence predictor of FIG. 3.<br>
DETAILED DESCRIPTION<br>
[0021] A method for coexistence of an orthogonal frequency division<br>
multiple access (OFDMA) receiver with a synchronous frame-based<br>
transmitter takes an estimated media access protocol (MAP') signal indicating<br>
when a MAP message is expected to be received by the OFDMA receiver and<br>
sends the MAP' signal to the synchronous frame-based transmitter to shut<br>
down the synchronous frame-based transmitter when a MAP message is<br>
expected to be received. If a MAP signal is not directly available from the<br>
OFDMA receiver, a frequency, phase, and duration of a future MAP symbol<br>
(in the MAP signal) can be determined from an OFDMA receiver-enable<br>
(RXE) signal by using techniques such as microcontroller unit interrupt<br>
measurements, Fast Fourier Transform, cross-correlation, and/or symbol<br>
timing recovery such as delay-locked loop.<br>
[0022] One type of OFDMA system is a WiMAX system in accordance<br>
with IEEE 802.16e. Because a single frame size is commonly used today for<br>
WiMAX systems (and one MAP message is contained at the beginning of each<br>
WiMAX frame), the frequency of the MAP signal could alternately be<br>
predetermined. Additionally, estimates of future MAP symbol duration could<br>
be predetermined based on the type of OFMDA link (e.g., video, voice, data)<br>
and/or historical MAP symbol duration information.<br>
[0023] A co-existence predictor that could be used to implement the above<br>
method has an observer unit for determining historical MAP symbol<br>
frequency, duration, and phase from an RXE signal provided by the OFDMA<br>
receiver, an estimator unit for predicting future MAP symbols, and a decision<br>
 <br>
logic unit for producing a shut down signal to the synchronous frame-based<br>
transmitter when future MAP symbols are expected.<br>
[0024] By using the MAP signal to control shut down of the synchronous<br>
frame-based transmitter, the synchronous frame-based transmitter will not<br>
cause internal interference with the OFDMA receiver during expected receipt<br>
of MAP messages. Reliable receipt of MAP messages allows the OFDMA<br>
receiver to maintain synchronization with an external OFDMA transmitter.<br>
The decision logic unit may also choose to shut down the synchronous frame-<br>
based transmitter depending on the relative priorities of frames being<br>
transmitted by the synchronous frame-based transmitter and downlink data<br>
expected to be received by the OFDMA receiver.<br>
[0025] As mentioned previously, WiMAX is an OFDMA communication<br>
technology, and Bluetooth SCO is a synchronous frame-based communication<br>
technology. The co-existence predictor and its method supports WiMAX and<br>
Bluetooth coexistence by reducing the risk that internal interference will cause<br>
the loss of a MAP message. This solution also provides a balance between<br>
successful receipt of important WiMAX packets and successful transmission<br>
of Bluetooth packets.<br>
[0026] FIG. 1 shows an example of a system diagram 100 including a<br>
mobile station 110 having OFDMA radio transceiver 117 operating at a first<br>
frequency band, a Bluetooth Wireless Personal Area Network (WPAN) radio<br>
transceiver 115 operating at a second frequency band near the first frequency<br>
band, and a Wireless Wide Area Network (WWAN) radio transceiver 112<br>
operating at a third frequency band far from the first frequency band. In this<br>
example, the WW AN radio transceiver 112 is implemented as a Code Division<br>
Multiple Access (CDMA) user equipment transceiver operating at 1900 MHz;<br>
although the WW AN radio could alternately be Wideband-CDMA (W-<br>
CDMA), CDMA2000, Global System for Mobile Communications (GSM),<br>
Time Division Multiple Access (TDMA), or other protocols operating at other<br>
frequency bands. The CDMA radio transceiver 112 of the mobile station 110<br>
 <br>
uses a first wireless communication link 125 at 1900 MHz to communicate<br>
with a CDMA base station 120. This example presumes that the first<br>
communication link 125 handles a full-duplex voice call (circuit-switched<br>
connection) including speech encoded with Enhanced Variable Rate Codec<br>
(EVRC) technology. The speech is transcoded with Continuous Variable Slope<br>
Delta (CVSD) modulation to be sent using the Bluetooth transceiver 115 over<br>
a second wireless communication link 145 at 2.4 GHz to the Bluetooth headset<br>
140. Bluetooth uses Synchronous Connection Oriented (SCO) links for voice<br>
where timeslots are fixed and packets are not re-transmitted.<br>
[0027] In this example, the OFDMA transceiver 117 is an IEEE 802.16e<br>
transceiver operating at 2.5 GHz, which will require coexistence with the<br>
Bluetooth transceiver operating at 2.4 GHz. Note that the OFDMA transceiver<br>
117 could alternately be implemented as a UTRA-UTRAN Longer Term<br>
Evolution (LTE) transceiver, a Multiband OFDM Alliance (MBOA) ultra-wide<br>
band (UWB) transceiver, or any other OFDMA synchronous framing system<br>
operating in the same or adjacent band as the Bluetooth transceiver. If a user<br>
of the mobile station 110 is Internet browsing or video streaming using the<br>
OFDMA transceiver 117 over a third wireless communication link 135 at 2.5<br>
GHz to an access point 130 (sometimes referred to as a base station), the<br>
Bluetooth transceiver 115 will be controlled through a Bluetooth shutdown<br>
signal 190 to reduce internal interference, receiver de-sense, and packet<br>
collisions.<br>
[0028] Variations of this system diagram 100 may exclude the WWAN first<br>
communication link 125 at 1900 MHz, because it is not a cause of interference<br>
at the first and second frequency bands (2.4 - 2.5 GHz). For example, if a user-<br>
had a video streaming third wireless communication link 135 at 2.5 GHz and<br>
was listening to the stereo audio portion retransmitted over the Bluetooth<br>
second wireless communication link 145 at 2.4 GHz, this would require<br>
coexistence. Also, if a user had a Voice over Internet Protocol (VoIP) third<br>
 <br>
wireless communication link 135 at 2.5 GHz and was listening to the voice<br>
using the Bluetooth headset, this too would also require coexistence.<br>
[0029] By using a Bluetooth shutdown signal 190, the mobile station 110<br>
can protect the OFDMA receiver 117 from internal interference when an<br>
important OFDMA message is expected to be received. When no important<br>
OFDMA message is expected to be received, the Bluetooth transmitter can be<br>
controlled depending on the relative importance of any Bluetooth message to<br>
be transmitted and any OFDMA data to be received. Before explaining the<br>
Bluetooth shutdown signal 190 in detail, the format of OFDMA frames will be<br>
described.<br>
[0030] FIG. 2 shows a diagram of IEEE 802.16e frames 210 (which will also<br>
be called WiMAX frames for ease of reference), IEEE 802.15 frames 270 (which<br>
will be also called Bluetooth frames), and associated signals. WiMAX is an<br>
example of an OFDMA system. Other OFDMA systems include UTRAN-LTE<br>
and MBOA-UWB. A single WiMAX frame 220, 240 has three major<br>
components: a Media Access Protocol (MAP) message 222, 242 at the<br>
beginning, followed first by a downlink sub-frame 225, 245 and then an<br>
uplink sub-frame 227, 247. The MAP message 222, 242 is variable in duration<br>
and changes as the number of scheduled users changes. Thus, the size of the<br>
MAP message 222, 242 may change slightly from one WiMAX frame to the<br>
next. Although, conventionally, the overall duration of a single WiMAX frame<br>
220, 240 is 5 milliseconds, Section 11.18.1 and Table 384a of IEEE Standard<br>
802.16e specify eight possible WiMAX frame durations ranging from 2<br>
milliseconds to 20 milliseconds.<br>
[0031] The reception of MAP messages 222, 242 is important to IEEE<br>
802.16e (and other types of OFDMA) system performance because a MAP<br>
message 222, 242 is used to allocate active downlink OFDMA symbols 231 on<br>
the current WiMAX frame 220 and active uplink OFDMA symbols 236 on the<br>
next WiMAX frame 240. The end of a downlink sub-frame and the beginning<br>
of an uplink sub-frame can vary from one WiMAX frame to the next, and<br>
 <br>
MAP messages are important for maintaining synchronization between a<br>
mobile station and an access point (sometimes referred to as a base station). If<br>
a MAP message is lost, then a mobile station will not know when to listen for<br>
downlink data and when to transmit uplink data on the next WiMAX frame.<br>
Thus, a MAP indicator signal 255 indicates when a MAP message 222, 242 is<br>
expected to be received. The MAP indicator signal 255 includes a sequence of<br>
MAP symbols 260, which have a periodicity (frequency and phase) and<br>
slowly-varying duration 256. Thus, a MAP symbol has an active pulse of a<br>
MAP duration 256 and a non-active "tail" to complete the MAP symbol. The<br>
MAP symbol indicates when a MAP message is being received (i.e., during<br>
the active pulse of the MAP symbol) and when no MAP message is being<br>
received (i.e., during the inactive "tail" of the MAP symbol).<br>
[0032] Signal 255 can be used directly as the Bluetooth shutdown signal<br>
190 (FIG. 1) and control the Bluetooth radio transmitter. Thus, when signal<br>
255 is active, the Bluetooth radio transmitter is off. This prevents the<br>
Bluetooth transmitter from creating internal interference while the OFDMA<br>
receiver will be receiving a MAP message. Allowing the Bluetooth receiver to<br>
remain functional lets the Adaptive Frequency Hopping (AFH) algorithm<br>
contained in the Bluetooth device to continue its channel interference analysis.<br>
Optionally, on some designs, it may be advantageous to simply disable the<br>
entire Bluetooth transceiver while receiving the MAP message.<br>
[0033] If a MAP indicator signal 255 is not available, several methods can<br>
be used to construct a MAP' signal from a WiMAX receiver-enable (RXE)<br>
signal 252 to create a Bluetooth shutdown signal 190 for the Bluetooth radio<br>
transceiver that reduces interference and yet allows for reliable reception of<br>
MAP messages without totally undermining Bluetooth communications. The<br>
RXE signal 252 is high whenever the OFDMA receiver is active. Thus, the RXE<br>
signal 252 is high during the MAP message of every WiMAX frame and also<br>
during active downlink sub-frames such as downlink sub-frame 231.<br>
Currently, there is no way to distinguish one RXE signal pulse from another.<br>
 <br>
In other words, both a MAP message and downlink data will both cause a<br>
pulse of unit amplitude on the RXE signal.<br>
[0034] As can be seen from the RXE signal 252 shown in FIG. 2, the RXE<br>
signal goes high during every MAP message, which occurs in this example<br>
every 5 milliseconds for about 504 microseconds. The RXE signal 252 also<br>
goes high during downlink data reception, which is not as consistent in<br>
frequency or duration as the MAP messages. By analyzing the pattern of<br>
pulses within an RXE signal 252, embedded MAP symbols can be<br>
hypothesized and verified.<br>
[0035] Similarly, the transmitter-enable (TXE) signal 257 is activated<br>
during a transmission portion of the uplink sub-frame, corresponding to<br>
active uplink OFDMA symbols 236 in this example. TXE signal 257 activation<br>
does not occur as often as the MAP portion of the RXE signal 252 because<br>
MAP messages are monitored even in sleep mode when there is no uplink<br>
data to transmit. Because a WiMAX frame 240 has a MAP message 242<br>
followed by a downlink sub-frame 245 and then an uplink sub-frame 247, a<br>
pulse in the TXE signal 257 (corresponding to uplink symbol 236 in this<br>
example) will be followed-in-time by a pulse on the RXE signal 252 which<br>
indicates a MAP message. There are also fixed time periods between the time<br>
an OFDMA transceiver receives and transmits called the Transmit Transition<br>
Gap (TTG) 228, 248 and vice versa with a Receive Transition Gap (RTG) 226,<br>
246 to prepare the device for switching between receive and transmit mode.<br>
Knowing the TTG can be useful when using the TXE signal to find a MAP<br>
symbol within the RXE signal 252, because reception and a MAP message will<br>
occur after a transmit interval, TTG.<br>
[0036] FIG. 2 also shows a diagram of Bluetooth frames 270 aligned<br>
arbitrarily in time with WiMAX frames 210. Each Bluetooth frame 2S0, 290<br>
lasts 3.75 milliseconds and has a maximum of six timeslots 281, 282, 283, 284,<br>
285, 286, 291, 292, 293, 294, 295, 296 that alternate between the master and<br>
slave every 625 microseconds. In this illustration, the Bluetooth timeslots 281,<br>
 <br>
283, 285, 291, 293, 295 labeled with an 'M' are the possible transmissions of the<br>
Bluetooth transceiver 115 (FIG. 1) and the timeslots 282, 284,286,292,294, 296<br>
labeled with an 'S' are the possible receptions of the Bluetooth transceiver 115.<br>
When a Bluetooth master timeslot 285 aligns with an active portion of the RXE<br>
signal 252, the Bluetooth transceiver 115 will cause interference with the<br>
WiMAX transceiver's 117 receptions. Conversely, when a Bluetooth slave<br>
timeslot 294 aligns with an active portion of the TXE signal 257, the WiMAX<br>
transceiver 117 will interfere with the Bluetooth transceiver's 115 receptions.<br>
[0037] In order to minimize interference between Bluetooth transmissions<br>
and WiMAX receptions (and vice versa) as shown at Bluetooth timeslots 285,<br>
294, the Bluetooth transceiver 115 (FIG. 1) will be shut down using a<br>
Bluetooth shutdown signal 190 when WiMAX MAP messages are expected<br>
and possibly also at times when WiMAX downlink data is expected.<br>
[0038] FIG. 3 shows a co-existence predictor 300 that can be used to<br>
determine when to shut down a Bluetooth transceiver 115 (FIG. 1) in the<br>
absence of a MAP indicator signal 255 (FIG. 2). The co-existence predictor 300<br>
uses the RXE signal 252 (FIG. 2) of the OFDMA transceiver 117 (FIG. 1) to<br>
produce a BT_SHDN signal 390 that can be used as the Bluetooth shutdown<br>
signal 190 (FIG. 1). The predictor can optionally use the TXE signal 257 in<br>
conjunction with the RXE signal 252 to produce a BT_SHDN signal 390.<br>
[0039] The co-existence predictor 300 includes an observer unit 320, an<br>
estimator unit 350, and a decision logic unit (DLU) 370. The observer unit 320<br>
monitors the RXE signal 252 from a coexistent OFDMA transceiver 117 and<br>
analyzes its periodicity (frequency and phase) and pulse duration looking for<br>
embedded MAP symbols representing receipt of MAP messages. Because<br>
MAP messages are periodic and do not vary quickly in duration, the<br>
estimator unit 350 can take the historical MAP symbol information from the<br>
observer unit 320 and generate a MAP' signal representing the expected<br>
location-in-time of future MAP symbols. The decision logic unit 370 generates<br>
 <br>
the BT_SHDN signal 390 based on the MAP signal and an optional BT_PRI<br>
signal 394 that indicates when a priority Bluetooth packet will be transmitted.<br>
[0040] The observer unit 320 can include one or more components used to<br>
extract MAP symbols from an RXE signal 252. A microcontroller unit 321, a<br>
Fast Fourier Transform block 322, a delay-locked loop 325, and/or a<br>
covariance block 327 can be used to find the frequency, phase, and duration of<br>
a MAP symbol.<br>
[0041] FIG. 4 shows a flow chart 400 for operation of the observer unit 320<br>
of the co-existence predictor 300 shown in FIG. 3. In step 401, the observer<br>
unit 320 starts observing the RXE signal 252 (shown in FIG. 2 and FIG. 3).<br>
When step 410 determines that the RXE signal 252 is active, step 420 performs<br>
MAP symbol detection. Although a high RXE signal for a MAP message is<br>
indistinguishable from a high RXE signal for downlink data receipt, over time<br>
the observer unit 320 can detect a periodic high RXE signal of fairly consistent<br>
duration and hypothesize a MAP symbol. Even when there are one or more<br>
sleep frames, characterized by an absence of any transmission or reception<br>
activity for a predetermined number of OFDMA frames, various techniques<br>
can be used to detect a MAP symbol within an RXE signal.<br>
[0042] After one or more possible MAP symbols are detected in step 420,<br>
step 430 activates a locking mechanism to verify whether the next expected<br>
MAP symbol (based on the previous possible MAP symbols) has arrived on<br>
the RXE signal as expected. If the RXE signal is active at the time(s) predicted<br>
by the locking mechanism, step 440 locks to the MAP symbols on the RXE<br>
signal. The flow chart ends with step 499.<br>
[0043] MAP symbol detection step 420 can be implemented in an observer<br>
unit 320 in a number of ways. One simple but processor-intensive method<br>
takes samples of the RXE signal 252 for a predetermined period of time, notes<br>
transitions from low-to-high and high-to-low, and looks for a common<br>
pattern in the transitions to hypothesize as MAP symbols. Another method<br>
uses a Fast Fourier Transform to find the most-common periodic symbol to<br>
 <br>
hypothesize as a MAP symbol. A third method uses a delay-locked loop to<br>
find a common symbol's frequency and phase, which is then hypothesized as<br>
the MAP symbol. And a fourth method uses covariance analysis to match an<br>
expected MAP symbol pattern with the RXE signal.<br>
[0044] FIG. 5 shows a flow diagram 500 for detecting MAP symbols using<br>
transition analysis of an RXE signal 252 (FIG. 2). The flow diagram 500 can be<br>
implemented as part of MAP symbol detection step 420 (FIG. 4) by a<br>
microcontroller unit (MCU) 321 (FIG. 3) with interrupt-driven methods and<br>
programmable timers. After start step 501, step 510 waits for the TXE signal to<br>
be low. After the TXE is low, the first transition of the RXE signal from high-<br>
to-low is sampled in step 520. Step 530 stores the time of the high-to-low<br>
transition in memory. Until the observation period is reached as determined<br>
by step 540, the memory continues to accumulate times when the RXE signal<br>
transitions from high-to-low. At the conclusion of the observation period, step<br>
550 determines the frequency and phase of the MAP symbols from the<br>
statistical mode of the time period between high-to-low transitions of the RXE<br>
signal stored in memory. The method ends at step 599.<br>
[0045] Because MAP messages are expected to produce the most periodic<br>
pulse within an. RXE signal (even when there are one or more sleep frames<br>
within the observation period), finding the most common high-to-low<br>
transition period should produce the hypothetical MAP symbol and not select<br>
the less-periodic active downlink symbols. Additionally, by modifying the<br>
flow diagram to note both low-to-high transitions as well as high-to-low<br>
transitions, the MAP symbol duration can be found by measuring the length<br>
of time the hypothetical MAP pulse is high before the high-to-low transitions<br>
hypothesized to be part of MAP symbols.<br>
[0046] FIG. 6 shows a flow diagram 600 of another method for finding a<br>
MAP symbol within an RXE signal 252 (shown in FIG. 2 and FIG. 3) that uses<br>
Fast Fourier Transform (FFT) techniques. The flow diagram 600 can be<br>
implemented as part of MAP symbol detection step 420 (FIG. 4). An observer<br>
 <br>
unit 320 (FIG. 3) can use an FFT block 322 to find MAP symbol frequency and<br>
phase and also detect sleep intervals.<br>
[0047] After start step 601, step 610 samples an RXE signal 252. In this<br>
embodiment, the RXE signal 252 is sampled at twice the Nyquist frequency fs,<br>
which is the inverse of half the shortest OFDMA symbol duration. Step 620<br>
takes the Fast Fourier Transform of a predetermined number V of samples of<br>
the RXE signal. Step 630 estimates that the highest-amplitude non-DC term of<br>
the FFT indicates the MAP symbol frequency and phase. Given that a 5<br>
millisecond WiMAX frame is ubiquitous currently, a MAP symbol should<br>
usually occur every 5 milliseconds.<br>
[0048] During a sleep frame, no MAP, downlink (DL), or uplink (UL)<br>
messages are transmitted. Thus, sleep frames can alter the FFT block 322<br>
output compared to the theoretical output in the absence of sleep frames. To<br>
compensate for the possible existence of sleep frames within the sampled RXE<br>
signal, step 640 compares the fMAP returned from the FFT block 322 with<br>
known frame and sleep durations and tests across a subset of MAP periods,<br>
TMAP , to enhance the periodic analysis performed by the FFT block 322. The<br>
steps in the flow diagram 600 can be repeated as necessary to confirm the<br>
hypothetical MAP symbol frequency and phase within an RXE signal.<br>
[0049] FIG. 7 shows a sample frequency and phase diagrams 710, 750 of<br>
analysis performed by the FFT block 322 shown in FIG. 3 operating in<br>
accordance with the flow diagram 600 shown in FIG. 6. The x-axis 720<br>
displays frequency and the y-axes 730, 740 display amplitude and phase<br>
(respectively) of a frequency analysis of an RXE signal 252. As shown, the<br>
frequency and phase of the hypothetical MAP symbol is determined by<br>
selecting the most frequent periodic symbol 760. The FFT block 322 finds the<br>
MAP symbol frequency and the FFT block 322 can be used to distinguish<br>
between different WiMAX frame durations and sleep intervals.<br>
[0050] As an alternate or an addition to the FFT block 322 of FIG. 3 (or the<br>
MCU 321), a covariance (CoVAR) block 327 can discern the presence of a<br>
 <br>
hypothetical MAP symbol within an RXE signal 252. The CoVAR block 327<br>
works by observing an incoming RXE signal for a period of time and<br>
calculating a correlation between the incoming RXE signal and a<br>
predetermined signal chosen to best represent an expected MAP signal.<br>
Processing by the CoVAR block 327 can be conducted on a group of RXE<br>
signal samples. The correlation between the RXE signal 252 and a shifting<br>
expected MAP pattern P can be computed for every shift k according to the<br>
following formula.<br>
 <br>
where k changes from 1 to a predetermined maximum number of shifts. For<br>
the examples to be shown, the predetermined maximum number of shifts is<br>
selected to be 120. Thus, the cross-correlation between RXE and P is calculated<br>
for every shift of the expected MAP pattern P.<br>
[0051] Alternatively, a recursive (real-time) method can be used to<br>
calculate pk based on a previously calculated value of pk-1. The output of the<br>
CoVAR block 327 can be used to determine periodicity, indicating the<br>
frequency and phase of a MAP symbol in the observed RXE signal. The<br>
derivative, or slope, of the correlation function can be used to initiate locking<br>
onto a MAP signal when the sign of the derivative changes. The calculated<br>
correlation coefficients with a global extremum can also be used in<br>
conjunction with a delayed-lock loop (DLL) to lock onto the maximum<br>
correlation.<br>
[0052] FIG. 8 shows a simple graphical example 800 of an observed RXE<br>
signal 852 and an expected MAP pattern P 890. In this example, the RXE<br>
signal 852 is 25 milliseconds long and contains a MAP symbol of 504<br>
microseconds duration at the beginning of each 5 millisecond frame plus<br>
active downlink pulses at various other times. The given MAP symbol pattern<br>
 <br>
P 890 is a 25 millisecond sequence of MAP symbols having a duration of 504<br>
microseconds and repeating every 5 milliseconds. Using equation (1)<br>
produces a cross-correlation graph similar to the one shown in FIG. 9.<br>
[0053] FIG. 9 shows a cross-correlation graph 900 where the x-axis 910<br>
represents the number of shifts from 0 to a predetermined maximum of 120<br>
(taking 120 as an example) and where the y-axis 920 represents the magnitude<br>
of the cross-correlation. The results 950 of the cross-correlation of the<br>
observed 25 milliseconds of the incoming RXE signal 852 with the expected<br>
MAP symbol pattern P 890 peaks at point 960, which is at shift 64, and<br>
indicates that the MAP symbols indicated in the RXE signal 852 lag behind the<br>
timing of the expected MAP symbol pattern P by 64 shifts (or leads the<br>
expected MAP pattern P by 56 shifts). Even if there had been sleep frames<br>
within the observed RXE signal, there would still be a peak where the cross-<br>
correlation of the expected MAP symbol pattern P best matches the observed<br>
RXE signal.<br>
[0054] FIG. 10 shows a cross-correlation derivative graph 1000 where the<br>
x-axis 1010 represents the number of shifts from 0 to a predetermined<br>
maximum of 120 (taking 120 as an example) and the y-axis 1020 represents the<br>
magnitude of the derivative of the cross-correlation results shown in FIG. 9.<br>
As shown, the sign S of the derivative results 1050 changes to negative at<br>
point 1060, which happens to be at 64 shifts. Depending on the frequency and<br>
duration of sleep frames, the sign S of the derivative may change at a point<br>
that is different from (or the same as) the peak in the cross-correlation graph<br>
900.<br>
[0055] The duration of a MAP symbol within the RXE signal is not<br>
necessarily constant although current implementations generally result in<br>
MAP symbol durations of about 504 microseconds and sometimes tens of<br>
microseconds more. Duration, also, can be estimated for an observed RXE<br>
signal using covariance analysis. The value at the peak 960 (FIG. 9) of the<br>
cross-correlation results 950 can be used to estimate the duration of the<br>
 <br>
hypothetical MAP symbols as a percentage of the duration of the high pulses<br>
in the expected MAP pattern P 890 (FIG. 8).<br>
[0056] FIG. 11 shows a graph 1100 of cross-correlation maximum versus<br>
the expected MAP pattern P as a percentage of the downlink sub-frame. X-<br>
axis 1110 represents the percentage of a downlink sub-frame while y-axis 1120<br>
shows the peak values of the cross-correlation graph. Taking the example<br>
given throughout FIGs. 8-10 where MAP symbols occur at 5 millisecond<br>
intervals in both the RXE signal and the expected MAP pattern P, the peak<br>
value at point 960 (FIG. 9) is approximately 0.9. This indicates a very high<br>
peak cross-correlation value and thus the duration of a MAP symbol in the<br>
RXE signal can be estimated to be 100% of the duration of a MAP symbol<br>
within the expected MAP pattern P. If, for example, the peak value of a cross-<br>
correlation graph was 0.63, then the duration of a MAP symbol in the RXE<br>
signal is estimated to be only 50% of the duration of a MAP symbol within the<br>
expected MAP pattern P. Although this graph 1100 presumes no sleep<br>
intervals within the observed RXE signal or the expected MAP pattern P,<br>
different covariance graphs can be constructed for different patterns of sleep<br>
intervals by selecting expected MAP patterns incorporating various sleep<br>
intervals. The covariance graph with a highest peak cross-correlation value<br>
will indicate the closest expected MAP pattern.<br>
[0057] FIG. 12 shows a flow diagram 1200 of this covariance method for<br>
finding a MAP symbol within an RXE signal 252 (shown in FIG. 2 and FIG. 3).<br>
The flow diagram 1200 can be implemented as part of MAP symbol detection<br>
step 420 (FIG. 4). An observer unit 320 (FIG. 3) can use a CoVAR block 327 to<br>
find MAP symbol frequency, phase, and/or duration.<br>
[0058] The method starts when start step 1201 selects an expected MAP<br>
pattern P. This expected MAP pattern P can be selected from one or more<br>
expected MAP patterns stored within the mobile station 110 (FIG. 1) based on<br>
one or more factors such as: historical frequency of success by the mobile<br>
station 110 in detecting MAP symbols using a particular expected MAP<br>
 <br>
pattern, a preset order for using expected MAP patterns, knowledge of the<br>
type of OFDMA link currently active (e.g., VoIP, internet, etc.), and/or any<br>
known connection setup or sleep interval information. Step 1210 shifts the<br>
given MAP pattern P a preset number of times (e.g., 120 times) and computes<br>
a cross-correlation between a given portion of the RXE signal and P. Step 1220<br>
determines the derivative sign S of the cross-correlation. When the derivative<br>
sign S changes from a positive value to a negative value (or zero) as<br>
determined by step 1230, the peak value of the cross-correlation function can<br>
be used to estimate the hypothetical MAP symbol duration and sample offset<br>
in step 1240. Then the flow diagram 1200 ends in step 1299. If periodicity<br>
cannot be detected after a predefined number of expected MAP pattern P<br>
shifts, the algorithm exits abnormally and may restart at step 1201 and select<br>
another expected MAP pattern P.<br>
[0059] Thus, a covariance technique provides yet another alternate method<br>
for observing a MAP symbol in an RXE signal. Once the periodic MAP<br>
symbol is located in time, the locking mechanism can be activated in step 430.<br>
Of course, if sleep frames are included in the observed RXE signal 852 (FIG. S)<br>
such that no MAP message is included in a sleep frame, then the peak<br>
magnitude of the cross-correlation results will not be as high - unless an<br>
expected MAP pattern has the same sleep pattern. Even without a perfect<br>
expected MAP pattern match, the general results will still occur, and the shift<br>
number where the cross-correlation derivative goes negative in amplitude<br>
will indicate when the locking mechanism should be activated.<br>
[0060] Yet another method of observing a MAP symbol within an RXE<br>
signal uses a delayed-lock loop (DLL) 325 (FIG. 3). A DLL will lock to MAP<br>
message timing, even when observations do not begin with a MAP message<br>
on the RXE signal.<br>
[0061] FIG. 13 shows a diagram 1300 of a DLL process gradually locking<br>
onto MAP symbols. The x-axis 1310 shows milliseconds and the y-a\is 1320<br>
shows amplitude. Because the RXE signal and the matched filter in (or<br>
 <br>
sometimes considered as preceding) the DLL both contain simple rectangular<br>
pulses, the convolution creates triangle peaks 1341,1342 that are separated by<br>
zero intervals 1343,1344. Zeros of the slope of the convolution graph occur<br>
either at the peak of a triangle or during the zero intervals between triangles.<br>
Three samples taken around a preliminary MAP period TMAP (Xl being early,<br>
X2 being on-time, and X3 being late) can be used iteratively adjust the MAP<br>
period TMAP to find the MAP frequency.<br>
[0062] For each set of three samples, the slopes between the samples are<br>
analyzed to determine whether to extend or decrease the MAP period for the<br>
next three samples to be taken around the new MAP period. For example, at<br>
the first sampling point 1331 shown, three samples are taken. Because the<br>
graph is rising around sampling point 1331, the MAP period is lengthened,<br>
and the next sampling point 1332 is the lengthened MAP period away from<br>
the previous sampling point 1331. Around sampling point 1332, the slopes are<br>
all zero because the sampling point 1332 is in a zero interval between<br>
triangles. Then the MAP period is changed again because the DLL has not<br>
found a maximum of the convolution. The next sampling point 1333 results in<br>
negative slopes among the three-sample set, indicating that the MAP period<br>
should be shortened. The MAP period is successively shortened, resulting in<br>
sampling points 1334,1335,1336 which draw closer and closer to the peaks of<br>
the convolution graph. When the sampling point 1337 is reached, the samples<br>
on either side of point 1337 have a positive slope followed by a negative slope,<br>
indicating at least a local extremum.<br>
[0063] Note that this diagram 1300 reflects an RXE signal 252 (FIG. 2 and<br>
FIG. 3) containing both a MAP symbol at peak 1431 and a downlink data<br>
symbol at peak 1342. Because the MAP symbol corresponds exactly to the<br>
matched filter, the amplitude of the MAP symbol peak 1341 is 1. Meanwhile,<br>
the downlink data symbol does not correspond exactly to the matched filter<br>
and so the amplitude of the peak 1342 is less than 1. Although the example<br>
here is fairly simple, note that the downlink data symbol is not as consistent<br>
 <br>
as the MAP symbol in either time or magnitude; thus any temporary lock on a<br>
downlink data peak 1342 will eventually be overcome by future iterations the<br>
DLL.<br>
[0064] As stated previously, a sample value of 1 (or close to 1), with equal<br>
values that are less than 1 immediately before and after the on-time sample X2,<br>
indicates that a portion of the RXE signal matches exactly with the expected<br>
MAP symbol represented by the matched filter and provides an indication<br>
that the MAP symbol in the RXE signal has been located. The MAP period is<br>
kept stable now and the last sample shown, at point 1338 (taken with a MAP<br>
period equal to the preceding MAP period used to find point 1337), also has a<br>
value of 1 which indicates that the DLL has locked onto a TMAP that accurately<br>
reflects the timing of the MAP symbl within the RXE signal.<br>
[0065] FIG. 14 provides a flow diagram 1400 for operation of a DLL block<br>
325 within an observer unit 320 of a co-existence predictor 300 as shown in<br>
FIG. 3. This flow diagram 1400 can be situated within step 420 of FIG. 4 as<br>
being another additional or alternate method for detecting a MAP symbol.<br>
[0066] After the start step 1401, step 1410 obtains an initial expected MAP<br>
symbol periodicity TMAP, which is the inverse of the frequency of an expected<br>
MAP symbol. This expected MAP symbol periodicity TMAP can be selected<br>
from one or more expected MAP symbol periodicity values stored within the<br>
mobile station 110 (FIG. 1) based on one or more factors such as: historical<br>
frequency of success by the mobile station 110 in detecting MAP symbols<br>
using a particular expected MAP symbol periodicity, a preset order for using<br>
expected MAP symbol periodicity values, knowledge of the type of OFDMA<br>
link currently active (e.g., VoIP, internet, etc.), and/or FFT analysis. For<br>
example, because most WiMAX frames are 5 milliseconds in length, selecting<br>
an initial TMAP of 5 milliseconds is reasonable. In step 1420, the expected MAP<br>
symbol is fed into an averaging matched filter (MF) of a DLL (sometimes an<br>
MF is considered as "preceding" a DLL rather than being part of the DLL),<br>
 <br>
and the DLL will convolve the expected MAP symbol and the observed RXE<br>
signal to produce triangle peaks.<br>
[0067] Step 1430 samples three points at TMAP intervals (x1 being early, x2<br>
being on-time, and x3 being late) from the output of the DLL averaging filter.<br>
Assuming the output of the averaging filter provides extremum when<br>
elements of the RXE signal have the same duration and periodicity as the<br>
expected MAP symbol, sampling at three nearby points and comparing the<br>
slopes between those three points will adjust the MAP period to lock onto the<br>
MAP symbol. Step 1440 calculates the slopes between the each of the three<br>
points. Slope m1 = xn-1 - xn-2; slope m2 = xn - xn-1; and slope m3 = xn - xn-2. If all<br>
three slopes m1, m2, and m3 are zero as determined by step 1450, then the<br>
samples are presumed to be at a minimum between triangles (see FIG. 13 zero<br>
intervals 1343,1344) and thus the TMAP will be adjusted by a larger value<br>
MAP_Length in step 1460. In this embodiment, MAP_Length represents the<br>
duration of the hypothetical MAP symbol.<br>
[0068] Optional steps 1452,1455,1457 examine the TXE signal 257 (FIG. 2<br>
and FIG. 3) and determine whether TMAP should be increased by MAP_Length<br>
or decreased by MAP_Length. If the TXE signal is active as determined by<br>
step 1452 (NO branch), then a MAP symbol will be expected soon. (This is<br>
because a WiMAX frame has a MAP message followed by downlink sub-<br>
frames and then uplink sub-frames. Thus, uplink data will be followed by a<br>
MAP message. See FIG. 2.) Because a MAP symbol is expected soon, step 1457<br>
causes step 1460 to decrease the MAP interval by the MAP_Length value. If<br>
the TXE signal is not active, step 1455 causes step 1460 to increase the MAP<br>
interval by the MAP_Length.<br>
[0069] If one of the three slopes from step 1440 is non-zero (as determined<br>
by step 1450), then step 1470 determines if m3 does not equal zero. If m3 does<br>
not equal zero, this indicates that there is an overall slope within the three<br>
samples and the MAP interval is gradually increased or decreased depending<br>
on the sign of the overall slope m3 using step 14S0. Generally speaking, the<br>
 <br>
change in the MAP interval produced by step 1480 is slight (e.g., µ2 represents<br>
one sampling interval) when the change in the MAP interval produced by<br>
step 1460 is greater (e.g., MAP_Length represents more than one sampling<br>
interval).<br>
[0070] If the overall slope m3 is zero as determined by step 1470 (NO<br>
branch), then the three samples are straddling a local extremum and step 1490<br>
maintains the same MAP interval for the next iteration through the flow<br>
diagram 1400. If the extremum found is not the global maximum, then it<br>
results from a downlink OFDMA data symbol. Because downlink OFDMA<br>
data symbols are not as periodic as MAP symbols, the consistent TMAP will<br>
eventually fail to produce an indicator of a local maximum (i.e., either step<br>
1450 will result in a YES decision or step 1470 will result in a YES decision)<br>
and the DLL will proceed to find another local maximum.<br>
[0071] Thus are described four methods of determining frequency, phase,<br>
and/or duration of a hypothetical MAP symbol within an RXE signal. Some<br>
of these methods make use of expected MAP symbol patterns (e.g., covariance<br>
techniques and delay-locked loop techniques) while others do not (e.g., RXE<br>
signal transition observation and FFT analysis). Some methods find frequency<br>
and phase of a hypothetical MAP symbol (e.g., FFT analysis and delay locked<br>
loop analysis), while other methods can estimate duration of a MAP symbol<br>
as well as frequency and phase (e.g., covariance analysis and transition<br>
analysis). Because each of the methods can be varied differently depending on<br>
the constraints of the OFDMA communication technology being used and<br>
because each of the methods has different processor and power consumption<br>
requirements, portions of these methods (and/or their variants) can be used<br>
alternately or cumulatively.<br>
[0072] Returning to FIG. 3, the MAP symbol duration and/or MAP<br>
symbol periodicity (frequency and phase) outputs of the observer unit 320 are<br>
used as inputs to the estimator unit 350 to generate a MAP' signal (estimating<br>
the timing and duration of future MAP symbols).<br>
 <br>
[0073] The DLU 370 uses the MAP' signal, plus the actual RXE signal from<br>
the OFDMA transceiver 117, to control shutdown of the Bluetooth transmitter<br>
within Bluetooth transceiver 115 (or any other transmitter, such as a WiFi<br>
transmitter, that has potential contention issues).<br>
[0074] FIG. 15 shows a flow diagram 1500 that can be implemented in the<br>
DLU 370 of the co-existence predictor 300 of FIG. 3. The DLU 370 operates to<br>
protect the OFMDA receiver 117 (FIG. 1) and shuts down the co-located<br>
Bluetooth transmitter 115 whenever MAP messages are expected as indicated<br>
by the MAP' signal from the estimator unit 350. Also, when an active OFDMA<br>
downlink symbol is expected, the DLU 370 prioritizes the OFDMA receiver<br>
over the Bluetooth transmitter unless the Bluetooth transmitter has a high<br>
priority signal. If, however, the Bluetooth priority signal has been high for a<br>
predetermined amount of time, the OFDMA receiver is temporarily<br>
prioritized so that at least some incoming OFDMA data can be received. This<br>
prioritization logic allows the OFDMA transceiver 117 to coexist with a<br>
Bluetooth transceiver 115 operating in the same mobile station 110 at the same<br>
or similar frequency band while maintaining synchronization. This logic also<br>
strikes a particular balance between the relative priorities of a Bluetooth<br>
uplink frame and an OFDMA downlink data frame. Of course, other balances<br>
may be desired and achieved using the basic principles shown. It should be<br>
noted that if there were long periods of inactivity on the WiMAX link<br>
concurrent with a high priority Bluetooth SCO connection, it may be desirable<br>
to finish any Bluetooth transmission currently in process at the expense of<br>
corrupting the first new MAP message. In this situation, a small sacrifice is<br>
made on the WiMAX connection in order to maintain the high quality<br>
Bluetooth audio link.<br>
[0075] After starting in step 1501, the DLU checks whether a Bluetooth<br>
priority signal BT_PRI is active in step 1510. If the BT_PRI signal is active as<br>
determined by step 1520, the DLU checks whether a downlink counter has<br>
reached a threshold in step 1530, increments the downlink counter in step<br>
 <br>
1540 if the threshold has not been reached, and couples the MAP signal to the<br>
BT_SHDN pin in step 1550 so that Bluetooth communication is only<br>
interrupted when MAP messages are expected. If a Bluetooth transmission is<br>
halted, the data will be lost if it is using an SCO connection. (If the Bluetooth<br>
transceiver is using a fast ARQ mechanism, it will be retransmitted at the next<br>
available timeslot.)<br>
[0076] If the BT_PRI signal remains high for the threshold number of<br>
frames, step 1530 will determine that the downlink counter threshold has<br>
been reached, step 1560 will reset the downlink counter, and the RXE signal is<br>
coupled to the BT_SHDN pin in step 1570 even if the BT_PRI signal is still<br>
active. Thus, the DLU 370 will always prefer the reception of expected MAP<br>
messages over Bluetooth operation, will prefer Bluetooth operation over the<br>
reception of WiMAX downlink data for a limited number of WiMAX frames<br>
when the BT_PRI signal is active, and will prefer the reception of WiMAX<br>
downlink data over Bluetooth operation when the BTJPRI signal is not active<br>
or when the BTJPRI signal has exceeded the limited number of WiMAX<br>
frames.<br>
[0077] Note that the BT_PRI signal is configurable and the BT_PRI signal<br>
for Bluetooth/WiMAX co-existence can differ from its definition for<br>
Bluetooth/WLAN co-existence.<br>
[0078] If step 1520 determines that the Bluetooth priority signal BT_PRI is<br>
not active, the DLU 370 couples the RXE signal to the BT_SHDN pin in step<br>
1570 to protect all WiMAX downlink traffic as well as the MAP messages.<br>
[0079] Thus, the method and apparatus for coexistence reduces internal<br>
interference between a Bluetooth transmitter and an OFDMA receiver both<br>
operating at (or near) a single frequency band in a single mobile station.<br>
Coexistence is promoted by protecting MAP messages and balancing the<br>
relative priorities of receiving OFDMA downlink data symbols and<br>
transmitting Bluetooth timeslots. A signal indicating expected MAP message<br>
receipt can be directly generated by an OFDMA transceiver or an RXE signal<br>
 <br>
can be analyzed by a co-existence predictor to determine expected MAP<br>
message receipt times.<br>
[0080] While this disclosure includes what are considered presently to be<br>
the preferred embodiments and best modes of the invention described in a<br>
manner that establishes possession thereof by the inventors and that enables<br>
those of ordinary skill in the art to make and use the invention, it will be<br>
understood and appreciated that there are many equivalents to the preferred<br>
embodiments disclosed herein and that modifications and variations may be<br>
made without departing from the scope and spirit of the invention, which are<br>
to be limited not by the preferred embodiments but by the appended claims,<br>
including any amendments made during the pendency of this application and<br>
all equivalents of those claims as issued.<br>
[0081] It is further understood that the use of relational terms such as first<br>
and second, and the like, if any, are used solely to distinguish one from<br>
another entity, item, or action without necessarily requiring or implying any<br>
actual such relationship or order between such entities, items or actions.<br>
Much of the inventive functionality and many of the inventive principles are<br>
best implemented with or in software programs or instructions. It is expected<br>
that one of ordinary skill, notwithstanding possibly significant effort and<br>
many design choices motivated by, for example, available time, current<br>
technology, and economic considerations, when guided by the concepts and<br>
principles disclosed herein will be readily capable of generating such software<br>
instructions and programs with minimal experimentation. Therefore, further<br>
discussion of such software, if any, will be limited in the interest of brevity<br>
and minimization of any risk of obscuring the principles and concepts<br>
according to the present invention.<br>
[0082] As understood by those in the art, the mobile station 110 includes a<br>
processor that executes computer program code to implement the methods<br>
described herein. Embodiments include computer program code containing<br>
instructions embodied in tangible media, such as floppv diskettes, CD-ROMs,<br>
 <br>
hard drives, or any other computer-readable storage medium, wherein, when<br>
the computer program code is loaded into and executed by a processor, the<br>
processor becomes an apparatus for practicing the invention. Embodiments<br>
include computer program code, for example, whether stored in a storage<br>
medium, loaded into and/or executed by a computer, or transmitted over<br>
some transmission medium, such as over electrical wiring or cabling, through<br>
fiber optics, or via electromagnetic radiation, wherein, when the computer<br>
program code is loaded into and executed by a computer, the computer<br>
becomes an apparatus for practicing the invention. When implemented on a<br>
general-purpose microprocessor, the computer program code segments<br>
configure the microprocessor to create specific logic circuits.<br>
[0083] We claim:<br>
 <br>
CLAIMS<br>
 <br>
1.	A method for coexistence of an orthogonal frequency division multiple<br>
access (OFDMA) receiver with a synchronous frame-based transmitter within a<br>
mobile station comprising:<br>
receiving an estimated media access protocol (MAP') signal indicating<br>
when a MAP message is expected to be received by the OFDMA receiver;<br>
sending the MAP' signal to the synchronous frame-based transmitter to<br>
shut down the synchronous frame-based transmitter when a MAP message is<br>
expected to be received.<br>
2.	The method according to claim 1 wherein the MAP' signal is a MAP<br>
indicator signal from the OFDMA receiver.<br>
3.	The method according to claim 1 wherein the receiving comprises:<br>
receiving an OFMDA receiver-enable (RXE) signal indicating when a MAP<br>
message is expected to be received by the OFDMA receiver and also indicating<br>
when downlink data is expected to be received by the OFDMA receiver;<br>
detecting a MAP symbol within the RXE signal; and<br>
producing the MAP' signal.<br>
4.	The method according to claim 3 wherein detecting comprises:<br>
determining a frequency of the MAP symbol;<br>
observing a phase of the MAP symbol; and<br>
finding a duration of the MAP symbol.<br>
 <br>
5.	The method according to claim 4 wherein the determining a frequency of<br>
the MAP symbol comprises:<br>
waiting for a transmitter-enable (TXE) signal to be low;<br>
sampling transitions of the RXE signal going from high-to-low for a<br>
predetermined observation period of time;<br>
finding lengths of time between transitions;<br>
determining a period of the MAP symbol (TMAP) to be a statistical mode of<br>
the lengths of time between transitions.<br>
6.	The method according to claim 4 wherein the determining a frequency of<br>
the MAP symbol and observing a phase of the MAP symbol comprises:<br>
taking a Fast Fourier Transform of samples of the RXE signal; and<br>
setting the frequency of the MAP symbol and the phase of the MAP symbol<br>
to be at a maximum non-DC term of the Fast Fourier Transform.<br>
7.	The method according to claim 4 wherein the determining a phase of the<br>
MAP symbol comprises:<br>
computing a cross-correlation between the RXE signal and an expected<br>
MAP pattern; and<br>
setting the phase of the MAP symbol to be when a derivative of the cross-<br>
correlation changes from a positive value to a non-positive value.<br>
8.	The method according to claim 7 wherein the finding a duration of a MAP<br>
symbol comprises:<br>
mapping a highest value of the cross-correlation to a percentage of a<br>
duration of a MAP symbol in the expected MAP pattern.<br>
 <br>
9.	The method according to claim 4 wherein the determining a frequency of<br>
the MAP symbol and observing a phase of the MAP symbol comprises:<br>
convolving the RXE signal with an expected MAP symbol to produce a<br>
convolution result;<br>
analyzing slopes of at least three samples of the convolution result taken<br>
around a MAP interval and adjusting the MAP interval based on the slopes; and<br>
repeating the analyzing until the MAP interval locates a maximum of the<br>
convolution result.<br>
10.	The method according to claim 4 wherein the finding a duration of a MAP<br>
symbol comprises:<br>
measuring a duration of a high RXE signal at the frequency of the MAP<br>
symbol and the phase of the MAP symbol.<br>
11.	The method according to claim 4 wherein producing comprises:<br>
creating a MAP signal having the determined frequency of the MAP<br>
symbol, the observed phase of the MAP symbol, and the found duration of the<br>
MAP symbol.<br>
12.	The method according to claim 3 wherein sending comprises:<br>
determining that the synchronous frame-based transmitter is not<br>
transmitting a priority frame and sending the RXE signal to the synchronous<br>
frame-based transmitter to shut down the synchronous frame-based transmitter<br>
when a MAP message is expected to be received and when downlink data is<br>
expected to be received.<br>
 <br>
13.	A co-existence predictor comprising:<br>
an observer unit for observing a receiver-enable (RXE) signal from a first<br>
transceiver operating at a frequency band and determining a frequency, duration,<br>
and phase of a media access protocol (MAP) symbol within the RXE signal;<br>
an estimator unit for producing an estimated media access protocol (MAP')<br>
signal from the frequency, duration, and phase of the MAP symbol; and<br>
a decision logic unit for producing a shut down signal to shut down a<br>
transmitter of a co-located second transceiver operating near the frequency band<br>
when the MAP' signal is active.<br>
14.	The co-existence predictor according to claim 13 wherein the observer unit<br>
comprises:<br>
Peggi.Bova(@motorola. <a href="../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="ea898587ba8f8d8d83c4a8859c8baa87859e859885868bc4898587">[email&#160;protected]</a><br>
15.	The co-existence predictor according to claim 13 wherein the observer unit<br>
comprises:<br>
a Fast Fourier Transform block for determining the frequency of the MAP<br>
symbol and the phase of the MAP symbol.<br>
16.	The co-existence predictor according to claim 13 wherein the observer unit<br>
comprises:<br>
a delay-locked loop for determining the frequency of the MAP symbol and<br>
the phase of the MAP symbol.<br>
17.	The co-existence predictor according to claim 13 wherein the observer unit<br>
comprises:<br>
a covariance block for determining the phase of the MAP symbol.<br>
18.	The co-existence predictor according to claim 13 wherein the frequency is a<br>
predetermined value.<br>
 <br>
19.	The co-existence predictor according to claim 13 wherein the duration is a<br>
predetermined value.<br>
20.	The co-existence predictor according to claim 13 wherein the decision logic<br>
unit comprises:<br>
a priority signal input for receiving an active priority signal when the<br>
transmitter is transmitting a priority frame.<br>
21.	The co-existence predictor according to claim 13 wherein the shut down<br>
signal shut is active when the RXE signal is active.<br>
<br>
A method for coexistence of an orthogonal frequency division multiple access (OFDMA) receiver (117) such as a WiMAX receiver with a synchronous frame-based transmitter (1151 such as a Bluetooth transmitter within a mobile station (110) receives an estimated media access protocol (MAP') signal indicating when a MAP message is expected to be received by the OFDMA receiver (117) and uses it at a Bluetooth shutdown signal (190) at least when a MAP message is expected to be received. The MAP'signal can be taken directly from the ODFMA transceiver (117) or it may be produced through analysis of a receiver-enable (RXE) signal that includes not only MAP symbols but also downlink data symbols. The RXE signal can be analyzed using interrupt-and-timer, Fast Fourier Transform, covariance, and/or delay-locked loop techniques to extract historical MAP symbol in-<br>
formation and generate expected MAP symbol information. Shutting down a Bluetooth transmitter during expected MAP message receipt permits the OFDMA receiver to maintain synchronicity with an access point while not requiring the Bluetooth transmitter to shut down every time the OFDMA receiver expects to receive an OFDMA symbol.</td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/viewdoc.aspx?id=qkhbBTKSCMZO4pw6kJhHFQ==&amp;amp;loc=wDBSZCsAt7zoiVrqcFJsRw==" target="_blank" style="word-wrap:break-word;">http://ipindiaonline.gov.in/patentsearch/GrantedSearch/viewdoc.aspx?id=qkhbBTKSCMZO4pw6kJhHFQ==&amp;amp;loc=wDBSZCsAt7zoiVrqcFJsRw==</a></p>
		<br>
		<div class="pull-left">
			<a href="272000-sensor-interface-capable-of-handling-sensor-independent-data-requests-and-method-and-handheld-mobile-device-thereof.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="272002-process-for-racemisation.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>272001</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>2686/KOLNP/2009</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>12/2016</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>18-Mar-2016</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>14-Mar-2016</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>23-Jul-2009</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>MOTOROLA MOBILITY, INC.</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>600 NORTH US HIGHWAY 45,LIBERTYVILLE,IL,60048,USA</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>RUSSELL, MICHAREL E.</td>
											<td>804 PANORAMA DRIVE # 109, PALATINE, IL 60067</td>
										</tr>
										<tr>
											<td>2</td>
											<td>STRUHSAKER, PAUL F.</td>
											<td>11520 EAGLES GLEN, AUSTIN, TX 78732</td>
										</tr>
										<tr>
											<td>3</td>
											<td>VAN BOSCH, JAMES A.</td>
											<td>2015 BLUE PINE DRIVE, CRYSTAL LAKE, IL 60012</td>
										</tr>
										<tr>
											<td>4</td>
											<td>SHEYNMAN, ARNOLD</td>
											<td>3918 DUNDEE ROAD, NORTHBROOK, IL 60062</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04B 7/26</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/US2008/053555</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2008-02-11</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>11/680,067</td>
									<td>2007-02-28</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script data-cfasync="false" src="../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/272001-method-and-apparatus-for-coexistence-of-different-synchronous-frame-based-wireless-communication-technologies by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2024 23:58:25 GMT -->
</html>
