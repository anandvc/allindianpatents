<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/272308-implementation-of-a-power-line-communications-modem-based-on-ofdm by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2024 22:47:19 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 272308:IMPLEMENTATION OF A POWER LINE COMMUNICATIONS MODEM BASED ON OFDM</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">IMPLEMENTATION OF A POWER LINE COMMUNICATIONS MODEM BASED ON OFDM</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>Implementation of a Power Line Communications Modem based on OFDM The aim of present invention is to implement a power Line Communication (PLC) modem on a platform consisting of a DSP and an FPGA MATLAB/SIMULINK model based on Orthogonal Frequency Division Multiplexing (OFDM). Since more than 50 years, the electricity grid is used for primitive signaling (e.g. switching of streetlights etc). The recent advent of powerful digital signal processors made a higher bandwidth power line communication (PLC) possible. The electricity distribution grid can provide a solution for the so-called last mile problem. Domestic applications such as automatic switching and alarm switching, metering i.e. measurement of energy consumption measurements and broadcasting tariff information as well as demand side management require a small bandwidth and that will be our prime interest. he purpose of the PLC modem is to transmit digital data over the power line in the analog form. A similar modem is required at the receiver side to convert the analog data received again into digital format. A parallel line is used to transfer data from PC to the DSP. The DSP containing PCB is located besides the FPGA daughter board. The DSP is connected to the FPGA which is connected to the AD or DA converters through a flat cable. The front end is connected to the power line through a transformer, which attenuates 50 Hz frequencies of the power mains. This modem configuration is implemented in three parts. Firstly a MATLAB/SIMULINK model is developed employing OFDM (Orthogonal Frequency Division Multiplexing) to divide the available spectrum into small bands employing an appropriate channel model. In the second part, VHDL code is developed to interface chip for AD and DA converter. Finally, the PLC modems is implemented on the DSP and an FPGA board for both transmitter and receiver sides as shown in the following figure</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>•<br>
Field of Invention<br>
The present invention generally relates to implementing a power Line<br>
Communication (PLC) modem and particularly to a modem to be implemented<br>
on a platform consisting of a DSP to an FPGA MATLAB/SIMULINK model<br>
based on Orthogonal Frequency Division Multiplexing (OFDM).<br>
Background and related art<br>
Power line networks have a very extensive infrastructure all over the world<br>
right down to every room in our homes. Because of this fact, use of this<br>
network for transmission of data in addition to power supply has gained a lot<br>
of attention. Based on the voltage levels at which they transfer, power lines<br>
can be categorized as follows<br>
1. High-tension lines (&gt;1 00 kV): These connect electricity generation<br>
stations to distribution stations and run over distances of the order of<br>
tens of kilometers.<br>
2. Medium-tension lines (1-100 kV): These connect the distribution<br>
stations to pole mounted transformers and run over distances of the<br>
order of a few kilometers.<br>
3. Low-tension lines (
individual households and run over distances of the order of a few<br>
hundred meters.<br>
Since more than 50 years, the electricity grid is used for primitive signaling<br>
(e.g. switching of streetlights etc). The recent advent of powerful digital signal<br>
processors made a higher bandwidth power line communication (PLC)<br>
possible. The electricity distribution grid can provide a solution for the socalled<br>
last mile problem. Domestic applications such as automatic ~Switching<br>
and alarm switching, metering i.e. measurement of energy consumption<br>
measurements and broadcasting tariff information as well as demand side<br>
management require a small bandwidth and that will be our prime interest.<br>
"Power Line Communications" or PLC refers to the use of existing electricity<br>
cable infrastructure to carry voice and data signals e.g. Internet, telephony,<br>
and video through low and medium voltage lines, i.e. 1 OkV to 20kV tension<br>
lines. For lower bandwidths, domestic applications such as automatic<br>
switching and alarm switching. Metering i.e. measurement of energy<br>
consumption measurements and broadcasting tariff information as well as<br>
demand side management also require a small bandwidth and that will be our<br>
prime interest.<br>
The power line communications channels are defined by several national and<br>
international standards. The maximum allowable power and bandwidth are<br>
prescribed in order to avoid or limit interference with other telecommunication<br>
services and to prevent further polluting the electromagnetic spectrum.<br>
2<br>
•<br>
International standardization defines the low voltage installation. It_ divides the<br>
frequency band into five sub bands.<br>
3-9 kHz: limited to energy providers. Can be used by others subject to<br>
their approval.<br>
9-95 kHz (A-band): energy providers and concession holders.<br>
95-125 kHz (B-band): energy providers and called no access protocol.<br>
125-140 kHz (C-band): available to customers with protocol.<br>
140 -148.5 kHz (D-band): available to customers, no access protocol.<br>
148.5 kHz to 500 kHz is prohibited region.<br>
The purpose of the PLC modem is to transmit digital data over the power line<br>
in the analog form. A similar modem is required at the receiver side to convert<br>
the analog data received again into digital format.<br>
Advantages of PLC are that there are no additional costs pertaining to cables<br>
and related infrastructure. Many companies have set up parallel fibre Optic<br>
network to high voltage lines and these can be used to form an extended<br>
telecom network. However, there are several challenges,<br>
(i) Noise<br>
There are many different sources of noise and disturbances on Electrical<br>
Power networks. Noise on the low voltage network can be classified as<br>
follows.<br>
A) Noise having line components synchronous with Power system<br>
frequencies. Most important sources of this are silicon controlled rectifiers<br>
(triacs) found in light dimmers. Light dimmers are devices used to reduce the<br>
intensity of a bulb or a luminescence lamp.<br>
B) Noise with flat spectrum or white noise. Most important source of noise<br>
are motors found universally in vacuum cleaners, blenders etc. Effect of class<br>
B noise is reduced if ARQ (Automatic Repeat Request) with error coding is<br>
implemented.<br>
C) Single event impulse Noise. Is caused by switching phenomena,<br>
lightening etc. Impulse noise lasts for less than 100 J.IS. Impulse amplitudes lie<br>
more than 10 dB above the background noise and can exceed 40 dB. Type C<br>
noise disturbs the entire frequency band for a fraction of seconds. Applying<br>
an appropriate error correction code combined with interleaving can reduce<br>
effect of class C noise.<br>
D) Non-synchronous noise. Occurs from TVs and computer monitors. A TV<br>
picture is built of left to right lines, which are usually scanned in 53.5 J.IS.<br>
Thereafter, the trace returns in 10 J.IS. Thus, a pulse occurs at frequencies of<br>
(1/63.5)*106 = 15 735 HZ and its higher harmonics. Possible at frequency<br>
within CENELEC A band at 31, 47, 62, 78 and 92 kHz.<br>
Other) Background thermal noise is the noise that remains in the channel<br>
when all other noise types are removed. Background noise decreases with<br>
3<br>
•<br>
increasing frequency. In the CENELEC A band, this noise can be<br>
approximated by N(f) = 1Q<k-></k->
3<br>
.<br>
95<br>
x<br>
1o-s n where K is normally distributed over an<br>
average 1.1 = -8.64. The standard deviation cr of K equals 0.5.<br>
(ii) Impedance<br>
Channel impedance is a strongly fluctuation variable depending on the<br>
specific loads being connected to the net at specific times. Signal power at the<br>
receiver side reaches a maximum when impedance of receiver and<br>
transmitter are matched. An impedance range of 0 to 80 n can be concluded<br>
for 3 to 148.5 kHz. A frequency dependence of the mean impedance can be<br>
represented by IZI = 0.005 f 0<br>
·<br>
063<br>
•<br>
(iii) Attenuation<br>
Only a fraction of the transmitted power reaches the receiver due to<br>
attenuation. Losses occur majorly due to the load on the lines such as<br>
capacitors, which have very low impedance for signal frequencies. For the low<br>
voltage network, this amounts to 100 dB/km. Attenuation is highest at the<br>
peaks of the line voltage. For frequencies above 100 kHz, attenuation<br>
increase of 0.25 dB/kHZ is reported. Attenuation across phases usually varies<br>
between 2 and 15 dB. In extreme cases even 40 dB has been measured.<br>
(iv) Interference<br>
Background noise, impulsive noise and narrow band interference can cause<br>
frequency impairments. If we exceed the CENELEC upper limit there can also<br>
be interference from Low Frequency Broadcasts. The spectrum of the<br>
transmitted modem should be shaped to avoid broadcast frequencies. As far<br>
as possible PLC transmission should take place in a relatively quiet part of<br>
electromagnetic spectrum.<br>
Shaping the signal is computationally intensive and has become only recently<br>
possible using DSPs and ASICs. OFDM is a scheme that has been<br>
successfully employed to achieve this.<br>
A brief overview of presently available power Line communications channel<br>
has been developed without regard for communication consideration. A<br>
choice of the appropriate frequency range employed has to be made and a<br>
channel model which appropriately describes the characteristics of the<br>
channel. An appropriate modulation technique has to be employed in order to<br>
implement the modem. All this will form the subject of the subsequent<br>
chapters in this thesis.<br>
Channel Capacity<br>
If the bandwidth from 100 kHz to 400 kHz is used the maximum attainable<br>
capacity is 5 Mbps for small distances and about 1 Mbps between offices in<br>
the same floor. The attainable throughput is large enough to set up a small<br>
LAN and for conveying metering information. For transmitting metering<br>
information, the required bandwidth can be as low as 10 kbps.<br>
4<br>
•<br>
A general channel model<br>
Figure 1 shows a general channel model widely used in the communication<br>
Engineering. The signal after going through the transmitter part of OFDM enters the<br>
channel. The channel due to its characteristics changes the signal from x(t) to u(t).<br>
Noise present in the channel has been modelled as additive white Gaussian noise.<br>
Transfer Function<br>
Transmission line theory describes the voltage and current along an l m long line as<br>
follows:<br>
U(x) = U2 cosh(yx) + 12ZL sinh(yx)<br>
l(x) = /2 cosh(yx) + U2 sinh(yx)<br>
ZL<br>
where U(x) is the voltage and I(x) is the current at x along the line, U2 is the voltage<br>
and / 2 is the current at x = l . The characteristic impedance Z Land propagation<br>
constant rare given by<br>
R1+ jOJL I<br>
ZL =<br>
G1+ jmC1<br>
y = ~(R 1+ jmL 1<br>
}( G1+ jmC1<br>
)<br>
where C 1 is the capacitance per unit length, L 1 is the inductance per unit length and<br>
R 1 is resistance per unit length. (see Appendix 2 for values for the particular AI cable<br>
used). In the formula for propagation constant, G I is negligible and can be neglected<br>
in the frequency range of interest. However, R is dependent on frequency because of<br>
skin effect.<br>
o(f)= ~ ~ 7! pa<br>
Skin effect is the tendency for Ac current to flow mostly near the outer surface of the<br>
electric conductor. The effect is negligible for 50 Hz but becomes more and more<br>
apparent as the frequency increases. The effect can be taken into account by<br>
introducing a skin depth o(f).<br>
Thus the propagation constant becomes •<br>
y(f) = ~( R(f) + jmL 1}(jmC 1<br>
)<br>
and the transfer function can be defined as<br>
H(f) = ~g=~~ = exp( -yl)<br>
5<br>
•<br>
Summary of the Present Invention<br>
A power Line Communication (PLC) modem is implemented to overcome the<br>
problems as mentioned in the prior art. A parallel line is used to transfer data<br>
from PC to the DSP. The DSP containing PCB is located besides the FPGA<br>
daughter board. The DSP is connected to the FPGA which is connected to the<br>
AD or DA converters through a flat cable. The front end is connected to the<br>
power line through a transformer, which attenuates 50 Hz frequencies of the<br>
power mains, as shown in Fig. 1<br>
This modem configuration is implemented in several parts. Firstly a<br>
MATLAB/SIMULINK model is developed employing OFDM (Orthogonal<br>
Frequency Division Multiplexing) to divide the available spectrum into small<br>
bands employing an appropriate channel model. In the second part, VHDL<br>
code is developed to interface chip for AD and DA converter.<br>
Work is then focused on developing an understanding OFDM scheme for use,<br>
as it is most tolerant and used modulation/demodulation scheme for OFDM.<br>
This work was accomplished in steps. First, a MATLAB code is developed for<br>
OFDM without a channel or noise. In the next step, noise is added to the<br>
signal and its bit error rate versus signal to noise ratio is analysed. Taking its<br>
Fourier transform and convolving it with the data coming from the transmitter,<br>
and then employ the channel model. Two simulink models are developed.<br>
First without the use of coding and then, using convolutional coding and<br>
interleaving.<br>
Next, VHDL code is developed to interface the hardware developed using a<br>
14-bit, DSP compatible AD converter and 14-bit DA converter. Finally, the<br>
PLC modems is implemented on the DSP and an FPGA board for both A BER<br>
versus SNR plot<br>
Brief Description of Drawings<br>
Fig.1 General Layout of the modem<br>
Fig. 2: The modem setup<br>
Fig. 3: A simple OFDM scheme without channel or noise<br>
Fig 4: : Implementing OFDM scheme on the PLC channel<br>
Fig 5: A BER versus SNR plot<br>
Fig 6: Block diagram of the DA converter<br>
Fig 7: Block diagram of the DA converter<br>
Fig 8: simulated waveforms from the code for DA interface<br>
Fig 9: Block diagram of the AD converter<br>
6<br>
•<br>
Fig 1 0: simulated waveforms from the code for AD interface<br>
Detailed description with reference to accompanying drawings<br>
A simple OFDM scheme<br>
To start with a simple OFDM scheme was constructed in MATLAB. No<br>
channel or noise was taken into account. The idea was to send in bits and to<br>
receive them without any errors i.e. to test the scheme.<br>
The simple scheme is as shown in Fig 3<br>
The various steps to implement OFDM are as follows:<br>
1. Digital data is generated first generating random numbers and then<br>
rounding them.<br>
11001000111101001100 ..... .<br>
2. In the next step, BPSK mapping is performed. As explained in chapter<br>
4, two phases are assigned to the two possible values. Such a mapped<br>
data will look<br>
1 1 -1 -1 1 -1 -1 -1 1 1 1 1 -1 1 -1 -1 1 1 -1 -1 ..... .<br>
3. This digital data is converted from series to parallel. Suppose the<br>
number of sub carriers decided upon is 4. Then, the data is arranged<br>
into 4 rows such that adjacent bits come sequentially as shown. This is<br>
an important step. The bits placed in the same row are going to be<br>
"intermixed" while performing the IFFT.<br>
I I I -I I<br>
I -I I I I<br>
-I -I I -I -I<br>
-I -I I -I -I<br>
4. In the next step, IFFT is performed on the elements of this<br>
matrix row wise. For 4 point IFFT, the first symbol will look<br>
like:<br>
w(k) = W(l)exp(j<br>
2<br>
: (0* k) )+W(I)exp(j<br>
2<br>
: (I* k) )+<br>
( .2~ ) (·2~ ) W(2)exp J 4 (2*k) +W(3)exp J4 (3*k)<br>
where for the example give W(k) are 1, 1,-1 and -1.<br>
Here, exp(j ~ (k* n)) can be regarded as an orthogonal set.<br>
7<br>
•<br>
Thus the BPSK information coming from the first bits is "intermixed"<br>
to form the first OFDM symbol ands so on.<br>
5. After taking IFFT, data guard (cyclic prefix) is added. This is<br>
done by taking the first g rows of the IFFT matrix and adding<br>
them to the end where g is the number of guard bits. The<br>
matrix now has N+g rows. The number of columns remains<br>
unchanged. The number of guard bits is taken to be more<br>
than the maximum expected time delay. This is the only<br>
condition on the number of guard bits to be chosen. E.g. for<br>
case of 32 subcarriers, g can be 7, 8, 9 or 11 or any<br>
convenient number. The only condition to be met is that this<br>
prefix should be cyclic as is explained in Chapter 4.<br>
6. The data is now changed into series so that it can be<br>
transmitted along the channel. Now the data assumes the<br>
form C1, C2, C3 etc where C1 is the first column, C2 is the<br>
second column etc.<br>
7. Since no channel or noise was considered at this stage, The<br>
data reaches the receiver as it is without any changes.<br>
8. The received data is then reshaped back to have N+G rows.<br>
9. The guard rows are removed.<br>
10. FFT is now performed on the matrix, again the operation is<br>
row wise.<br>
11. BPSK demapping is performed and the received bits are<br>
compared with the transmitted bits.<br>
12. Zero bit errors are obtained. Thus confirming that the<br>
code is correct and does what it is expected to. [For MATLAB<br>
code see Appendix 2].<br>
MATLAB model for PLC<br>
Mirroring<br>
The previous scheme though mathematically correct has an implementation<br>
problem. We start with bits in the frequency domain and assume that the<br>
system is baseband. After taking IFFT, we get complex numbers, which<br>
makes the impulse response complex, but real signals cannot be complex.<br>
Hence in order to over come this problem, the data needs to be mirrored<br>
about they axis. Thus if an input datastream into the IFFT is of the form 1 2 3<br>
4, it has to be made symmetric and needs to sent as 1 2 3 4 4 3 2 1.<br>
8<br>
•<br>
However, it in implied in this implementation that the number of effective<br>
carriers is halved. This ensures that the samples in time domain are real.<br>
After, this as explained earlier guard can be added.<br>
Adding cyclic prefix<br>
After, the data has been modulated and multiplexed, in order to avoid ICI<br>
happening when the data passes through the channel, cyclic prefix needs to<br>
added. This addition is done on the basis of the estimated time delay caused<br>
during propagation through the channel. For the channel model used in this<br>
implementation, it was found that the impulse response fell significantly at<br>
about 6 taps. Thus, taking a guard interval like 8 (or 7 or (seconds) is good<br>
enough. It is important to note that the as long as the cyclic nature of the<br>
symbol is maintained, the length of the guard interval will not do away with the<br>
orthogonally of the carriers. This can be seen by writing<br>
Modeling the channel<br>
As discussed earlier, once the channel model has been decided upon, first we<br>
need to go to the time domain and take the impulse response by again<br>
mirroring the transfer function about the y axis and then, taking an FFT. Since<br>
multiplication in frequency domain becomes convolution in the time domain,<br>
this impulse response needs to be convolved with the input into the channel.<br>
Adding Noise<br>
To estimate the noise and add it to the transmitted data the following method<br>
was employed. First, the signal power was estimated by squaring each<br>
individual output after passing through the channel and then summing them<br>
up to get an estimate of the channel power and averaging it over the total<br>
number of such outputs.<br>
The signal to noise ratio range was selected in dB and was kept from 0 dB to<br>
10 dB. Then, random noise is generated using the randn function which<br>
generates numbers with mean 0 and standard deviation 1. Noise power was<br>
calculated on the basis of this range of signal to noise ratio. The square root<br>
of this noise power was multiplied with the noise to get the noise of the<br>
required PSD.<br>
This signal is received at the receiver and again series to parallel conversion<br>
performed and the steps explained as above are repeated.<br>
Equalization<br>
The received signal then can be equalized on the basis of the estimated<br>
channel. since, in these simulations case the channel was modeled by us, this<br>
should result in undoing the loss to the signal caused by the channel.<br>
Bit Error Rate vs Signal to Noise ratio<br>
9<br>
•<br>
The results from simulations performed with the model described above are<br>
being given. For this simulation, the number of sub carriers was fixed to 64<br>
and the length of guard interval was fixed to 8. The results with equalization<br>
are substantially better than those without using equalization.<br>
A simulink scheme<br>
A similar model was constructed in Simulink. Here, Bernoulli Binary Generator<br>
block generates random binary numbers using a Bernoulli distribution. The<br>
Bernoulli distribution with parameter p produces zero with probability p and<br>
one with probability 1-p. The Bernoulli distribution has mean value 1-p and<br>
variance p(1-p). p =1-p were set equl to 0.5 so that 0 and 1 had equal<br>
probababilty.<br>
The Rectangular QAM Demodulator Baseband block demodulates a signal<br>
that was modulated using quadrature amplitude modulation with a<br>
constellation on a rectangular lattice. The signal constellation has M points,<br>
where M is the M-ary number parameter. M must have the form 2K for some<br>
positive integer K. M is set to 2 so that the random binary numbers (1 and 0)<br>
generated by Bernoulli random genertor were BPSK mapped to 1 and -1.<br>
The block select takes the BPSK input and makes a column vector. 64<br>
samples were taken in the saem frame, so the number of suncarriers was 64.<br>
The block Symmetric Input performs the mirrroring explained in Section 6-2<br>
on the data so that the problem of complex output after IFFT is avoided. Thus<br>
the samples are real in the time domain. Cyclic Prefix adds 16 guard intervals.<br>
The block Digital Filter has been used to model the channel. As is evident<br>
from the name, this block acts as a filter and has been used to model the<br>
channel. We have used the first 6 coefficient of the impulse response which<br>
were real numbers to model the channel. As explained earlier this<br>
approximation will give an accurate enough descripton of the channel.<br>
The AWGN Channel block adds white Gaussian noise to a real or complex<br>
input signal. When the input signal is real, this block adds real Gaussian noise<br>
and produces a real output signal. We set the signal to noise ratio from 0 dB<br>
to 10 dB in 11 separate simulations.<br>
The remove Cyclic Prefix removes the cyclic prefix in the receiver and FFT is<br>
permormed on the received signal, the symmetric input1 block removes the<br>
mirroring performed before IFFT to keep the signal real. The Frame Status<br>
Conversion block passes the input through to the output, and sets the output<br>
frame status to the Output signal parameter, which can be either Framebased<br>
or Sample-based as binary numbers were being generated samples<br>
per frame. Th datainput and dataoutput blocks send the input bits at the<br>
transmitter and output bits at the reciever to the workspace.<br>
The Error Rate Calculation block compares input data from a transmitter with<br>
input data from a receiver. It calculates the error rate as a running statistic, by<br>
10<br>
•<br>
dividing the total number of unequal pairs of data elements by the total<br>
number of input data elements from one source.<br>
A BER versus SNR plot is shown in Figure 5 for simulations performed on this<br>
simulink model. The error rates are higher as equilization has not been<br>
incorporated in the Simulink scheme.<br>
Developing VHDL code for the AD/DA converters<br>
Once the OFDM scheme is ready and the simulation results are satisfactory,<br>
the next task is to focus on converting the digital data into analog to be sent<br>
on the power line. The hardware for the powerline modem used has been<br>
previously developed at Electa. As mentioned before, THS1401-EP 14 bit,<br>
DSP compatible AD converter and THS5671A 14 bit DA converter from Texas<br>
Instruments have been used.<br>
Block diagram of the transmitter part of the DA converter is as shown in Fig.<br>
6.<br>
In this figure T refers to the transformer and H is the front-end driver used to<br>
build the circuit. F is the band pass filter allowing frequencies between 60 kHz<br>
to 400 kHz to pass through. Thus our modem will work for frequencies<br>
between 60 kHz and 400 kHz. As mentioned before, the CENELEC limit is till<br>
148.5 kHz. However, it is expected that in future the band could be extended<br>
to higher frequencies. For simplicity we are using the entire band.<br>
A similar block diagram can be drawn for the AD converter as well.<br>
Developing environment and coding language<br>
The Quartus® II development software provides a complete design<br>
environment for system-on-a-programmable-chip (SOPC) design. The coding<br>
is done in VHDL. VHDL is an acronym, which stands for VHSIC Hardware<br>
Description Language. VHSIC is yet another acronym which stands for Very<br>
High Speed Integrated Circuits. VHDL is a standard (VHDL-1076) developed<br>
by the IEEE (Institute of Electrical and Electronics Engineers). Once the code<br>
is ready, Quartus compiles it and finds the best possible fit for the gates on<br>
the FPGA for the required design. Simulations can then be performed by<br>
giving test values to bits on the input pins and output waveforms can be seen<br>
and checked for semantic and other errors in the code even after it has<br>
compiled successfully.<br>
Description of DA converter interface<br>
Fig 7 shows a block diagram of the DA converter interface. The arrows going<br>
into the box show the input, the arrows coming out of the block show the<br>
output two sided arrows show bidirectional pins. All inputs and outputs are of<br>
data type standard logics (std_logic). Besides the logic values 0 and 1,<br>
standard logic can also take metalogic values like high impedance, which<br>
means that the line is not driven. The inputs are values that we assign and<br>
we are free to choose any number of inputs. However the number of outputs<br>
11<br>
•<br>
is fixed. The output of our code serves as input needed to the DA converter<br>
and are described in the data sheets that accompany the converter. Care a los<br>
needs to be taken about the layout on the board and the interrelation between<br>
pins of various components.<br>
elk stands for the global clock for the FPGA, TX_elk is the clock for the DA<br>
converter. elk is the 50 MHz clock which represents the speed at which the<br>
FPGA can function. TX_elk is a clock that is needed by the DA converter to<br>
works and is much slower and is needed for the internal working of the DA<br>
converter. It is kept at value '1' for 25 elk clock cycles and at '0' for the next<br>
25 cycles.<br>
aelr stands for asynchronous clear, efg is the configure pin which serves the<br>
purpose to act as a counter to control the working of the interface by sending<br>
a pulse. X_D, eontrol_bus and data_in are 14 bit std_logic_vectors taking<br>
values from 13 down to 0, which will be explained later. TX_WE is a pin that<br>
when high allows writing the data to be converted into the DA converter and<br>
X_eonfig when high allows writing information to configure the chip.<br>
The basic algorithm of the code for the DA interface is given below:<br>
When the DA converter is connected then, intially TX_WE, X_eonfig have<br>
zero values and X_D is set to high impedance. efg is an input which is<br>
triggered to start a counter everytime there is pulse input. At the next clock<br>
cycle, the X_eonfig pin takes a value '1' and thus, the control bus can write to<br>
the chip. The control bus contains bits that are used to configure the chip for<br>
selected task. This happens in the next clock cycle when the contents of the<br>
eontrol_bus are written to X_D. The information on X_D Is sent to the DA<br>
converter. TX_WE is still zero. Two clock cycles later, X_eonfig is set to zero.<br>
The chip is now configured. But contents of eontrol_bus are still being written<br>
toX_D.<br>
In the next clock cycle, X_D is set to high impedance. The reason is that there<br>
should be gap before the contents of data_in are written to X_D to prevent<br>
contention. This happens in the next clock cycle. data_in is the digital data<br>
that is sent into the DA converter to be converted to analog. And this process<br>
continues as long as data needs to be read in.<br>
Aelr sets TX_WE and X_eonfig to 0 and X_D to high impedance when 1.<br>
The result of simulating sample waveforms are shown in Fig. 8.<br>
elk is the fast clock for FPGA. Since the time duration considered in this<br>
simulation is small (500ns), TX_elk remains at a constant high in the portion<br>
of time shown. X_D is input and X_D result is output since X_D is a<br>
bidirectional pin. aelr is set to 0 so that the interface can perform its functions.<br>
Test values are assigned to data_in and eontrol_bus. These values are<br>
shown in hexadecimal. A 4-digit hexadecimal can be equated to a 16 bit<br>
binary number. So care is taken to assign lower values to the first digit as<br>
X_D, eontrol_bus and data_in are all 14-bit numbers. An impulse is entered<br>
12<br>
• for cfg, which starts the reading process in the DA interface. At first X_config<br>
goes high after two clock cycles. Then it stays high for 4 clock cycles as<br>
prescribed by the code. During this interval, contents of the control_bus are<br>
written to X_D. For this particular simulation, both are hexadecimal "0011".<br>
After this, as X_config goes to 0 and TX_WE goes to 1 there is more than<br>
clock cycle when X_D goes to high impedance. Then the contents of data_in<br>
are written to X_ D.<br>
Description of AD converter interface<br>
Fig 9 shows the Block diagram of the AD converter. As for the case of DA<br>
converter, elk stands for the clock for the FPGA, RX_clk is the clock for the<br>
AD converter. RX_clk is similar in function to TX_clk. aclr stands for all clear,<br>
cfg is the configure pin which serves the purpose to act as a counter to<br>
control the working of the interface by sending a pulse. X_D, control_bus,<br>
off_set, Pga_gain and data_out are 14 bit std_logic_vectors taking values<br>
from 13 down to 0, which will be explained later. RX_pga is a 2 bit<br>
std_logic_vector. RX_nWE is a pin that when low allows writing data into the<br>
DA converter and RX_nRE when low allows writing information to configure<br>
the chip.<br>
The basic algorithm of the code for the AD interface is given below:<br>
When the AD converter is connected then, initially RX_nWE, RX_nRE have<br>
value 1 and X_D is set to high impedance. cfg is an input which is starts the<br>
configuration of AD converter.<br>
The first step is to assign a value to the X_D. We assign the value 0000 0000<br>
1000 01.The reason for this assignment is that X_D[5] and X_D[6] are<br>
connected to the address input of the AD converter through a latch as shown<br>
in Appendix 3. X_D[O] sets the DA converter to sleep mode so that it does not<br>
function while AD converter is working. Gain can be upto 7 dB. The purpose<br>
of X_config is to lock the latch to a particular value. Thus the value of the<br>
address input is set to 01. Now, X_D is assigned the value Pga_gain. For<br>
this, RX_nWE pin is assigned value 0 so that contents of Pga_gain can be<br>
written to the Ad converter through X_D. Then, RX_new is set back to 1. This<br>
fulfils one part of the configuration i.e. writing the value PGA gain to AD<br>
converter. This whole cycle needs to be repeated twice again to assign values<br>
of off_set and control_bus to configure the AD converter. off_set corrects<br>
the value from -128 to 128 LSb. and then the contents of control_bus are<br>
written to the AD converter. Next, the values of RX_pga are fixed to desired<br>
value before the previous steps are repeated by setting address to 11 through<br>
X_D[S] and X_D[6] The Ad converter is now fully configured.<br>
One cycles later, X_D is set to high impedance and then, RX_nWE is set to 1<br>
again. RX_nRE is was 1 all through this process. RX_nRE is now assigned<br>
the value 0. A clock cycle later, data_out takes the values from X_D. Digital<br>
data coming from the AD converter is sent to the receiver. And this process<br>
continues as long as data needs to be read in.<br>
13<br>
•<br>
Fig 1 0 shows the simulated waveforms from the code for AD interface<br>
The simulations are performed for 1 microsecond and a change in RX_clk<br>
can be seen in this duration from 1 to 0. X_D is input and X_D result is output<br>
since X_D is a bidirectional pin. An impulse is entered for cfg, which starts the<br>
read/write process in the AD interface. lnitally, the output of X_D is high<br>
impedance. However, in the next clock cycle, It takes the value 0000 0000<br>
1000 01. Here in the simulations its hexadecimal equivalent is shown which is<br>
0021. Next, the contents of Pga_gain are written to X_D. Both are equal to<br>
0123 for this simulation as can be seen from Fig. 10. Next the address is set<br>
to 0000 0000 0100 01. Its hexadecimal equivalent is 0011 as can be seen<br>
from X_D Result. Now th·e value of Off_set which is "ODDD" is written to X_D<br>
as can be seen from X_D result. Next the address is given the value 11 by<br>
setting X_D to 0000 0000 1100 01 which is 0031 in hexadecimal notation.<br>
Next, the value of the control_bus which is 0012 is written to X_D. RX pga<br>
is a 2 bit pin and is given a value 11 in this simulation. These form the 3rif' and<br>
the 41<br>
h bit in X_D and hence the hexadecimal equivalent takes the value 0019.<br>
During this time, whenever an output was written to X_D, RX_nWE takes the<br>
value 0 as can be seen from Fig. 7-5. Next, RX_nRE takes the value 1 and<br>
from then on, the input assigned to X_D is written to data_out in this<br>
simulation. This is time when the AD converter is converting Analog data to<br>
digital and data_out is this digital data which can then be passed on into the<br>
modem. In this simulation, the value given to X_D is "OEEE" which can be<br>
seen assigned to data out.<br>
14<br>
<br>
<br>
<br>
•<br>
I claim<br>
1. A power Line Communication (PLC) modem based on a platform<br>
consisting of a DSP to an FPGA MATLAB/SIMULINK m'odel based on<br>
Orthogonal Frequency Division Multiplexing (OFDM) comprising<br>
A parallel line is to transfer data from PC to the DSP, containing PCB<br>
located besides the FPGA daughter board.<br>
The said DSP is connected to the FPGA which is connected to the AD<br>
or DA converters through a flat cable.<br>
A front end is connected to the power line through a transformer, which<br>
attenuates 50 Hz frequencies of the power mains<br>
Wherein the modem configuration is implemented in<br>
a MATLAB/SIMULINK model,<br>
and though VHDL code developed to interface chip for AD and<br>
DA converter.<br>
2. The power Line Communication (PLC) modem as claimed in<br>
Claim 1, wherein the MATLAB/SIMULINK model is developed<br>
employing OFDM (Orthogonal Frequency Division Multiplexing)<br>
3. The power Line Communication (PLC) modem as claimed in<br>
Claim 2, wherein the MATLAB/SIMULINK model is developed<br>
to divide the available spectrum into small bands employing<br>
an appropriate channel model<br>
4. The power Line Communication (PLC) modem as claimed in<br>
Claim 2, wherein a MATLAB code is developed for OFDM<br>
without a channel or noise and then noise is added to the<br>
signal and its bit error rate versus signal to noise ratio is<br>
analysed.<br>
5. The power Line Communication (PLC) modem as claimed in<br>
Claim 2, wherein Fourier transform is implemented and<br>
convolving it with the data coming from the transmitter, and<br>
further the channel model is employed.<br>
6. The power Line Communication (PLC) modem as claimed in<br>
Claim 1 wherein two simulink models are developed. First<br>
without the use of coding and then, using convolutional<br>
coding and interleaving.<br>
15<br>
•<br>
7. The power Line Communication (PLC) modem as claimed in<br>
Claim 1 wherein VHDL code is developed to interface the<br>
hardware developed using a 14-bit, DSP compatible AD<br>
converter and 14-bit DA converter<br>
8. The power Line Communication (PLC) modem as claimed in<br>
Claim 1 wherein the PLC modems is implemented on the DSP<br>
and an FPGA board for both A BER versus SNR plot<br>
9. A method of implementing a power Line Communication<br>
(PLC) modem based on a platform consisting of a DSP to an<br>
FPGA MATLAB/SIMULINK model based on Orthogonal<br>
Frequency Division Multiplexing (OFDM) comprising the steps<br>
of<br>
Developing a MATLAB/SIMULINK model employing OFDM<br>
(Orthogonal Frequency Division Multiplexing) to divide the available<br>
spectrum into small bands employing an appropriate channel model<br>
Developing a VHDL code is developed to interface chip for AD and DA<br>
converter.</td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/viewdoc.aspx?id=Skye6VnWVpAOz9psAYnYGQ==&amp;amp;loc=+mN2fYxnTC4l0fUd8W4CAA==" target="_blank" style="word-wrap:break-word;">http://ipindiaonline.gov.in/patentsearch/GrantedSearch/viewdoc.aspx?id=Skye6VnWVpAOz9psAYnYGQ==&amp;amp;loc=+mN2fYxnTC4l0fUd8W4CAA==</a></p>
		<br>
		<div class="pull-left">
			<a href="272307-agricultural-chemical-compositions-comprising-thiophanate-methyl-and-tricyclazole.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="272310-glass-article-having-a-zinc-oxide-coating-and-method-for-making-same.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>272308</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>2256/DEL/2006</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>14/2016</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>01-Apr-2016</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>29-Mar-2016</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>16-Oct-2006</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>ANU MEHRA</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>122, deshbandhu apartments kalkaji, new delhi 110019 india</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>ANU MEHRA</td>
											<td>C-6, SHIVALIK, NEW DELHI-110 017, INDIA.</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04B1/00</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>N/A</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td></td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td></td>
									<td></td>
								    <td>NA</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/272308-implementation-of-a-power-line-communications-modem-based-on-ofdm by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2024 22:47:20 GMT -->
</html>
