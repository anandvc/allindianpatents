<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/225407-method-of-thermal-printing-and-thermal-printer-therefor by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2024 23:34:58 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 225407:METHOD OF THERMAL PRINTING AND THERMAL PRINTER THEREFOR</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">METHOD OF THERMAL PRINTING AND THERMAL PRINTER THEREFOR</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A model of a thermal print head is provided that models the thermal response of thermal print head elements to the provision of energy to the print head elements over time. The thermal print head model generates predictions of the temperature of each of the thermal print head elements at the beginning of each print head cycle based on: (1) the current ambient temperature of the thermal print head, (2) the thermal history of the print head, and (3) the energy history of the print head. The amount of energy to provide to each of the print head elements during a print head cycle to produce a spot having the desired density is calculated based on: (1) the desired density to be produced by the print head element during the print head cycle, and (2) the predicted temperature of the print head element at the beginning of the print head cycle.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>"METHOD OF THERMAL PRINTING AND THERMAL PRINTER THEREFOR"<br>
BACKGROUND<br>
Field Of The Invention<br>
The present invention relates to method of thermal printing and thermal printer therefor,<br>
and, more particularly, to techniques for improving<br>
thermal printer output by compensating for the effects of<br>
thermal history, on thermal print heads.<br>
Related Art<br>
Thermal printers typically contain a linear array of<br>
heating elements (also referred to herein as "print head<br>
elements") that print on an output medium by, for example,<br>
transferring pigment from a donor sheet to the output<br>
medium or by initiating a color-forming reaction in the<br>
output medium. The output medium is typically a porous<br>
receiver receptive to the transferred pigment, or a paper<br>
coated with the color-forming chemistry. Each of the<br>
print head elements, when activated, forms color on the<br>
medium passing underneath the print head element, creating<br>
a spot having a particular density. Regions with larger<br>
or denser spots are perceived as darker than regions with<br>
smaller or less dense spots. Digital images are rendered<br>
as two-dimensional arrays of very small and closely-spaced<br>
spots.<br>
A thermal print head element is activated by<br>
providing it with energy. Providing energy to the print<br>
head element increases the temperature of the print head<br>
element, causing either the transfer of pigment to the<br>
output medium or the formation of color in the receiver.<br><br>
The density of the output produced by the print head<br>
element in this manner is a function of the amount of<br>
energy provided to the print head element. The amount of<br>
energy provided to the print head element may be varied<br>
by, for example, varying the amount of power to the print<br>
head element within a particular time interval or by<br>
providing power to the print head element for a longer<br>
time interval.<br>
In conventional thermal printers, the time during<br>
which a digital image is printed is divided into fixed<br>
time intervals referred to herein as "print head cycles.<br>
Typically, a single row of pixels (or portions thereof) in<br>
the digital image is printed during a single print head<br>
cycle. Each print head element is typically responsible<br>
for printing pixels (or sub-pixels) in a particular column<br>
of the digital image. During each print head cycle, an<br>
amount of energy is delivered to each print head element<br>
that is calculated to raise the temperature of the print<br>
head element to a level that will cause the print head<br>
element to produce output having the desired density.<br>
Varying amounts of energy may be provided to different<br>
print head elements based on the varying desired densities<br>
to be produced by the print head elements.<br>
One problem with conventional thermal printers<br>
results from the fact that their print head elements<br>
retain heat after the conclusion of each print head cycle.<br>
This retention of heat can be problematic because, in some<br>
thermal printers, the amount of energy that is delivered<br>
to a particular print head element during a particular<br>
print head cycle is typically calculated based on an<br>
assumption that the print head element's temperature at<br>
the beginning of the print head cycle is a known fixed<br>
temperature. Since, in reality, the temperature of the<br>
print head element at the beginning of a print head cycle<br>
depends on (among other things) the amount of energy<br>
delivered to the print head element during previous print<br>
head cycles, the actual temperature achieved by the print<br>
head element during a print head cycle may differ from the<br>
calibrated temperature, thereby resulting in a higher or<br>
lower output density than is desired. Further<br>
complications are similarly caused by the fact that the<br>
current temperature of a particular print head element is<br>
influenced not only by its own previous temperatures -<br>
referred to herein as its "thermal history" - but by the<br>
ambient (room) temperature and the thermal histories of<br>
other print head elements in the print head.<br>
As may be inferred from the discussion above, in some<br>
conventional thermal printers, the average temperature of<br>
each particular thermal print head element tends to<br>
gradually rise during the printing of a digital image due<br>
to retention of heat by the print head element and the<br>
over-provision of energy to the print head element in<br>
light of such heat retention. This gradual temperature<br>
increase results in a corresponding gradual increase in<br>
density of the output produced by the print head element,<br>
which is perceived as increased darkness in the printed<br>
image. This phenomenon is referred to herein as "density<br>
shift.<br>
Furthermore, conventional thermal printers typically<br>
have difficulty accurately reproducing sharp density<br>
gradients between adjacent pixels in both the fast scan<br>
and slow scan direction. For example, if a print head<br>
element is to print a white pixel following a black pixel,<br>
the ideally sharp edge between the two pixels will<br>
typically be blurred when printed. This problem results<br>
from the amount Of time that is required to raise the<br>
temperature of the print head element to print the black<br>
pixel after printing the white pixel. More generally,<br>
this characteristic of conventional thermal printers<br>
results in less than ideal sharpness when printing images<br>
having regions of high density gradient.<br>
What is needed, therefore, are improved techniques<br>
for controlling the temperature of print head elements in<br>
a thermal printer to more accurately render digital<br>
images.<br>
SUMMARY<br>
A model of a thermal print head is provided that<br>
models the thermal response of thermal print head elements<br>
to the provision of energy to the print head elements over<br>
time. The thermal print head model generates predictions<br>
of the temperature of each of the thermal print head<br>
elements at the beginning of each print head cycle based<br>
on: (1) the current ambient temperature of the thermal<br>
print head, (2) the thermal history of the print head, and<br>
(3) the energy history of the print head. The amount of<br>
energy to provide to each of the print head elements<br>
during a print head cycle to produce a spot having the<br>
desired density is calculated based on: (1) the desired<br>
density to be produced by the print head element during<br>
the print head cycle, and (2) the predicted temperature of<br>
the print head element at the beginning of the print head<br>
cycle.<br>
Additional aspects and embodiments of the present<br>
invention will be described in more detail below.<br>
BRIEF DESCRIPTION OF THE ACCOMPANYING DRAWINGS<br>
FIG. 1 is a data flow diagram of a system that is<br>
used to print digital images according to one embodiment<br>
of the present invention.<br>
FIG. 2 is a data flow diagram of an inverse printer<br>
model used in one embodiment of the present invention.<br>
FIG. 3 is a data flow diagram of a thermal printer<br>
model used in one embodiment of the present invention.<br>
FIG. 4 is a data flow diagram of an inverse media<br>
density model used in one embodiment of the present<br>
invention.<br>
FIG. 5A is a schematic side view of a thermal print<br>
head according to one embodiment of the present invention.<br>
FIG. 5B is a diagram of a spatial/temporal grid used<br>
by a head temperature model according to one embodiment of<br>
the present invention.<br>
FIGS. 6A-6D are flow charts of processes that are<br>
used to compute energies to be provided to thermal print<br>
head elements according to one embodiment of the present<br>
invention.<br>
FIG. 7 is a graph illustrating energy provided to a<br>
thermal print head element by a conventional thermal<br>
printer and by one embodiment of the present invention.<br>
DETAILED DESCRIPTION<br>
In one aspect of the present invention, a model of a<br>
thermal print head is provided that models the thermal<br>
response of thermal print head elements to the provision<br>
of energy to the print head elements over time. The<br>
history of temperatures of print head elements of a<br>
thermal print head is referred to herein as the print<br>
head's "thermal history." The distribution of energies to<br>
the print head elements over time is referred to herein as<br>
the print head's "energy history."<br>
In particular, the thermal print head model generates<br>
predictions of the temperature of each of the thermal<br>
print head elements at the beginning of each print head<br>
cycle based on: (1) the current ambient temperature of the<br>
thermal print head, (2) the thermal history of the print<br>
head, and (3) the energy history of the print head. In<br>
one embodiment of the present invention, the thermal print<br>
head model generates a prediction of the temperature of a<br>
particular thermal print head element at the beginning of<br>
a print head cycle based on: (1) the current ambient<br>
temperature of the thermal print head, (2) the predicted<br>
temperatures of the print head element and one or more of<br>
the other print head elements in the print head at the<br>
beginning of the previous print head cycle, and (3) the<br>
amount of energy provided to the print head element and<br>
one or more of the other print head elements in the print<br>
head during the previous print head cycle.<br>
In one embodiment of the present invention, the<br>
amount of energy to provide to each of the print head<br>
elements during a print head cycle to produce a spot<br>
having the desired density is calculated based on: (1) the<br>
desired density to be produced by the print head element<br>
during the print head cycle, and (2) the predicted<br>
temperature of the print head element at the beginning of<br>
the print head cycle. It should be appreciated that the<br>
amount of energy provided to a particular print head<br>
element using such a technique may be greater than or less<br>
than that provided by conventional thermal printers. For<br>
example, a lesser amount of energy may be provided to<br>
compensate for density drift. A greater amount of energy<br>
may be provided to produce a sharp density gradient. The<br>
model used by various embodiments of the present invention<br>
is flexible enough to either increase or decrease the<br>
input energies as appropriate to produce the desired<br>
output densities.<br>
Use of the thermal print head model decreases the<br>
sensitivity of the print engine to the ambient temperature<br>
and to previously printed image content, which manifests<br>
itself in the thermal history of the print head elements.<br>
For example, referring to FIG. 1, a system for<br>
printing images is shown according to one embodiment of<br>
the present invention. The system includes an inverse<br>
printer model 102, which is used to compute the amount of<br>
input energy 106 to be provided to each print head element<br>
in a thermal printer 108 when printing a particular source<br>
image 100. As described in more detail below with respect<br>
to FIGS. 2 and 3, a thermal printer model 302 models the<br>
output (e.g., the printed image 110) produced by thermal<br>
printer 108 based on the input energy 106 that is provided<br>
to it. Note that the thermal printer model 302 includes<br>
both a print head temperature model and a model of the<br>
media response. The inverse printer model 102 is an<br>
inverse of the thermal printer model 3 02. More<br>
particularly, the inverse printer model 102 computes the<br>
input energy 106 for each print head cycle based on the<br>
source image 100 (which may, for example, be a two-<br>
dimensional grayscale or color digital image) and the<br>
current ambient temperature 104 of the thermal printer's<br>
print head. The thermal printer 108 prints a printed<br>
image 110 of the source image 100 using the input energy<br>
106. It should be appreciated that the input energy 106<br>
may vary over time and for each of the print head<br>
elements. Similarly, the ambient temperature 104 may vary<br>
over time.<br>
In general, the inverse printer model 102 models the<br>
distortions that are normally produced by the thermal<br>
printer 108 (such as those resulting from density drift,<br>
as described above and those resulting from the media<br>
response) and "pre-distorts" the source image 100 in an<br>
opposite direction to effectively cancel out the<br>
distortions that would otherwise be produced by the<br>
thermal printer 108 when printing the printed image 110.<br>
Provision of the input energy 106 to the thermal printer<br>
108 therefore produces the desired densities in the<br>
printed image 110, which therefore does not suffer from<br>
the problems (such as density drift and degradation of<br>
sharpness) described above. In particular, the density<br>
distribution of the printed image 110 more closely matches<br>
the density distribution of the source image 100 than the<br>
density distributions typically produced by conventional<br>
thermal printers.<br>
As shown in FIG. 3, thermal printer model 3 02 is used<br>
to model the behavior of the thermal printer 108 (FIG. 1).<br>
As described in more detail with respect to FIG. 2, the<br>
thermal printer model 3 02 is used to develop the inverse<br>
printer model 102, which is used to develop input energy<br>
106 to provide to the thermal printer 108 to produce the<br>
desired output densities in printed image 110 by taking<br>
into account the thermal history of the thermal printer<br>
108. In addition, the thermal printer model 302 is used<br>
for calibration purposes, as described below.<br>
Before describing the thermal printer model 3 02 in<br>
more detail, certain notation will be introduced. The<br>
source image 100 (FIG. 1) may be viewed as a two-<br>
dimensional density distribution ds having r rows and c<br>
columns. In one embodiment of the present invention, the<br>
thermal printer 108 prints one row of the source image 100<br>
during each print head cycle. As used herein, the<br>
variable n will be used to refer to discrete time<br>
intervals (such as particular print head cycles).<br>
Therefore, the print head ambient temperature 104 at the<br>
beginning of time interval n is referred to herein as<br>
Ts(n) . Similarly, ds(n) refers to the density distribution<br>
of the row of the source image 100 being printed during<br>
time interval n.<br>
Similarly, it should be appreciated that the input<br>
energy 10 6 may be viewed as a two-dimensional energy<br>
distribution E. Using the notation just described, E{n)<br>
refers to the one-dimensional energy distribution to be<br>
applied to the thermal printer's linear array of print<br>
head elements during time interval n. The predicted<br>
temperature of a print head element is referred to herein<br>
as Ta. The predicted temperatures for the linear array of<br>
print head elements at the beginning of time interval n is<br>
referred to herein as Ta(n) .<br>
As shown in FIG. 3, the thermal printer model 3 02<br>
takes as inputs during each time interval n:(1) the<br>
ambient temperature Ts(n) 104 of the thermal print, head at<br>
the beginning of time interval n, and (2) the input energy<br>
E(n) 106 to be provided to the thermal print head elements<br>
during time interval n. The thermal printer model 3 02<br>
produces as an output a predicted printed image 306, one<br>
row at a time. The predicted printed image 3 06 may be<br>
seen as a two-dimensional distribution of densities dp(n).<br>
The thermal printer model 302 includes a head temperature<br>
model 202 (as described in more detail below with respect<br>
to FIG. 2) and a media density model 304. The media<br>
density model 304 takes as inputs the predicted<br>
temperatures Ta(n) 204 produced by the head temperature<br>
model 2 02 and the input energy E(n) 106, and produces as<br>
an output the predicted printed image 3 06.<br>
Referring to FIG. 2, one embodiment of the inverse<br>
printer model 102 is shown. The inverse printer model 102<br>
receives as inputs for each time interval n: (1) the print<br>
head ambient temperature 104 Ts(n) at the beginning of time<br>
interval n, and (2) the densities ds(n) of the. row of the<br>
source image 100 to be printed during time interval n.<br>
The inverse printer model 102 produces the input energy<br>
E(n) 106 as an output.<br>
Inverse printer model 102 includes head temperature<br>
model 202 and an inverse media density model 206. In<br>
general, the head temperature model 202 predicts the<br>
temperatures of the print head elements over time while<br>
the printed image 110 is being printed. More<br>
specifically, the head temperature model 202 outputs a<br>
prediction of the temperatures Ta(n) of the print head<br>
elements at the beginning of a particular time interval n<br>
based on: (1) the current ambient temperature Ts(n) 104,<br>
and (2) the input energy E{n - 1) that was provided to the<br><br>
print head elements during time interval n - 1.<br>
In general, the inverse media density model 206<br>
computes the amount of energy E{n) 106 to provide to each<br>
of the print head elements during time interval n based<br>
on: (1) the predicted temperatures Ta(n) of each of the<br>
print head elements at the beginning of time interval n,<br>
and (2) the desired densities ds(n) 100 to be output by<br>
the print head elements during time interval n. The input<br>
energy E(n) 106 is provided to the head temperature model<br>
202 for use during the next time interval n + 1. It<br>
should be appreciated that the inverse media density model<br>
2 06, unlike the techniques typically used by conventional<br>
thermal printers, takes both the current (predicted)<br>
temperatures Ta(n) of the print head elements and the<br>
temperature-dependent media response into account when<br>
computing the energy E(n) 106, thereby achieving an<br>
improved compensation for the effects of thermal history<br>
and other printer-induced imperfections.<br>
Although not shown explicitly in FIG. 2, the head<br>
temperature model 202 may internally store at least some<br>
of the predicted temperatures Ta(n), and it should<br>
therefore be appreciated that previous predicted<br>
temperatures (such as Ta(n - 1)) may also be considered to<br>
be inputs to the head temperature model 2 02 for use in<br>
computing Ta(n) .<br>
Referring to FIG. 4, one embodiment of the inverse<br>
media density model 2 06 (FIG. 2) is now described in more<br>
detail. The inverse media density model 2 06 receives as<br>
inputs during each time interval n: (1) the source image<br>
densities ds(n) 100, and (2) Ta(n) , the predicted<br>
temperatures of the thermal print head elements at the<br><br>
beginning of time interval n. The inverse media density<br>
model 206 produces as an output the input energy E(n) 106.<br>
In other words, the transfer function defined by the<br>
inverse media density model 206 is a two-dimensional<br>
function E = F(d,Ta) . In non-thermal printers, the transfer<br>
function relating input energy E and output density d is<br>
typically a one dimensional function d = T(E) , referred to<br>
herein as a gamma function. In thermal printers, such a<br>
gamma function is not unique because the output density d<br>
is dependent not only on the input energy E but also on<br>
the current thermal print head element temperature. If,<br>
however, we introduce a second function Tr{d) that<br>
represents the temperature of the print head element when<br>
the gamma function d = T (E) was measured, then the<br>
combination of the functions T(E) and TT(d) uniquely<br>
describes the response of the thermal printer..<br>
In one embodiment, the function E = F(d,Ta) described<br>
above is represented using the form shown by Equation 1<br><br>
This equation may be interpreted as the first two<br>
terms of a Taylor series expansion in (Ta -TT(d)) for the<br>
exact energy that would provide the desired density. In<br>
Equation 1, T-1 (d) is the inverse of the function T (E)<br>
described above, and S(d) is a sensitivity function which<br>
may take any form, one example of which is described in<br>
more detail below. Note that Equation 1 represents the<br>
two-dimensional function E = F(d,Ta) using threes one-<br>
dimensional functions: T-1 (d) , S{d), and TT(d). In one<br>
embodiment of the present invention, the inverse media<br><br>
density model 206 uses Equation 1 to compute the input<br>
energies E{n) 106, as illustrated diagrammaticalI? in FIG.<br>
4. The reference temperatures Tr(d) 408 of the print head<br>
elements are subtracted from the current (predicted)<br>
temperatures Ta(n) of the print head elements (which may,<br>
for example, either be generated by the head temperature<br>
model 2 02 or be actual temperature measurements) to<br>
develop temperature differences DT(n). The temperature<br>
differences DT(n) are multiplied by the output of<br>
sensitivity function S{d) 4 06 to produce correction<br>
factors DE(n) , which are added to the uncorrected energies<br>
ET (n) output by T-1 (d) 404 to produce input energies E(n)<br>
10 6. It should be appreciated that correction factors<br>
AE(22) may be computed and applied either in the log domain<br>
or the linear domain, with the calibration performed<br>
accordingly.<br>
An alternative implementation of Equation 1 according<br>
to one embodiment of the present invention is now<br>
described. Equation 1 may be rewritten as Equation 2:<br><br>
In one embodiment, the term is<br>
represented and stored as a single one-dimensional<br>
function G(d) , so that Equation 2 may be rewritten as:<br><br>
In practice, the value of E may be computed using Equation<br>
3 using two lookups: G{d) and S(d), based on the value of<br>
d. Such a representation may be advantageous for a<br><br>
variety of reasons. For example, a direct software and/or<br>
hardware implementation of E = F(d,Ta) as a two-dimensional<br>
function may require a large amount of storage or a<br>
significant number of computations to compute the energy<br>
E. In contrast, the one dimensional functions G(d) and<br>
S(d) may be stored using a relatively small amount of<br>
memory, and the inverse media density model 206 may<br>
compute the results of Equation 3 using a relatively small<br>
number of computations.<br>
One embodiment of the head temperature model 202<br>
(FIGS. 2-3) is now described in more detail. Referring to<br>
FIG. 5A, a schematic side view of a thermal print head 500<br>
is shown. The print head 500 includes several layers,<br>
including a heat sink 502a, ceramic 502b, and glaze 502c.<br>
Underneath the glaze 502c is a linear array of print head<br>
elements 520a-i. It should be appreciated that although<br>
only nine heating elements 520a-i are shown in FIG. 5A for<br>
ease of illustration, a typical thermal print head will<br>
have hundreds of very small and closely-spaced print head<br>
elements per inch.<br>
As described above, energy may be provided to the<br>
print head elements 52 0a-i to heat them, thereby causing<br>
them to transfer pigment to an output medium. Heat<br>
generated by the print head elements 520a-i diffuses<br>
upward through the layers 502a-c.<br>
It may be difficult or unduly burdensome to directly<br>
measure the temperatures of the individual print head<br>
elements 520a-i over time (e.g., while a digital image is<br>
being printed) . Therefore, in one embodiment of the<br>
present invention, rather than directly measuring the<br>
temperatures of the print head elements 520a-i, the head<br><br>
temperature model 202 is used to predict the temperatures<br>
of the print head elements 520a-i over time. In<br>
particular, the head temperature model 202 may predict the<br>
temperatures of the print head elements 520a-i by modeling<br>
the thermal history of the print head elements 520a-i<br>
using knowledge of: (1) the ambient temperature of the<br>
print head 500, and (2) the energy that has been<br>
previously provided to the print head elements 520a-i.<br>
The ambient temperature of the print head 500 may be<br>
measured using a temperature sensor 512 that measures the<br>
temperature Ts(n) at some point on the heat sink 512.<br>
The head temperature model 202 may model the thermal<br>
history of the print head elements 520a-i in any of a<br>
variety of ways. For example, in one embodiment of the<br>
present invention, the head temperature model 2 02 uses the<br>
temperature Ts(n) measured by temperature sensor 512, in<br>
conjunction with a model of heat diffusion from the print<br>
head elements 520a-i to the temperature sensor 512 through<br>
the layers of the print head 500, to predict the current<br>
temperatures of the print head elements 520a-i. It should<br>
be appreciated, however, that the head temperature model<br>
202 may use techniques other than modeling heat diffusion<br>
through the print head 500 to predict the temperatures of<br>
the print head elements 520a-i.<br>
Referring to FIG. 5B, a three-dimensional spatial and<br>
temporal grid 53 0 used by the head temperature model 202<br>
according to one embodiment of the present invention is<br>
illustrated diagrammatically. In one embodiment, a multi-<br>
resolution heat propagation model uses the grid 530 to<br>
model the propagation of heat through the print head 500.<br>
As shown in FIG. 5B, one dimension of the grid 53 0 is<br>
labeled by an i axis. The grid 53 0 includes three<br>
resolutions 532a-c, each corresponding to a distinct value<br>
of i. With respect to the grid 530 shown in FIG. 5B,<br>
i=0 corresponds to resolution 532c, i=1 corresponds to<br>
resolution 532b, and i=2 corresponds to resolution 532a.<br>
The variable i is therefore referred to herein as a<br>
"resolution number." Although three resolutions 532a-c<br>
are shown in the grid 530 of FIG. 5B, this is merely an<br>
example and does not constitute a limitation of the<br>
present invention. Rather, a temporal and spatial grid<br>
used by the head temperature model 202 may have any number<br>
of resolutions. As used herein, the variable nresolutions<br>
refers to the number of resolutions in the spatial and<br>
temporal grid used by the head temperature model 2 02. For<br>
example, nresolutions = 3 with respect to the grid 530<br>
shown in FIG. 5B. The maximum value of i is<br>
nresolutions - 1.<br>
Furthermore, although there may be the saline number of<br>
resolutions as the number of layers in the print head 500<br>
(FIG. 5A), this is not a requirement of the present<br>
invention. Rather, there may be a greater or lesser<br>
number of resolutions than physical layers of material.<br>
Each of the resolutions 532a-c of the three-<br>
dimensional grid 53 0 includes a two-dimensional grid of<br>
reference points. For example, resolution 532c includes a<br>
9X9 array of reference points referred to collectively by<br>
reference numeral 534 (only a single one of the reference<br>
points in resolution 532c is labeled with reference<br>
numeral 534 for ease of illustration). Similarly,<br>
resolution 532b includes a 3X3 array of reference points<br><br>
referred to collectively by reference numeral 53 6, and<br>
resolution 532a includes a 1X1 array including a single<br>
reference point 53 8.<br>
As further shown in FIG. 5B, a j axis labels one<br>
dimension (the fast scan direction) of each of the<br>
resolutions 532a-c. In one embodiment, the j axis runs<br>
from left to right beginning at j = 0 and increasing by<br>
one at each reference point to a maximum value of jmax. As<br>
further shown in FIG. 5B, an n axis labels the second<br>
dimension in each of the resolutions 532a-c. In one<br>
embodiment, the n axis runs in the direction shown by the<br>
corresponding arrow (i.e., into the plane of FIG. 5B)<br>
beginning at n = 0 and increasing by one at each reference<br>
point. For ease of explanation, in the description below<br>
a particular value of n in resolution i will be said to<br>
refer to a corresponding "row" of reference points in<br>
resolution i.<br>
In one embodiment, the n axis corresponds to discrete<br>
time intervals, such as consecutive print head cycles.<br>
For example, n=0 may correspond to a first print head<br>
cycle, n=1 may correspond to the succeeding print, head<br>
cycle, and so on. As a result, in one embodiment, the n<br>
dimension is referred to herein as a "temporal" dimension<br>
of the spatial and temporal grid 53 0. Print head cycles<br>
may, for example, be numbered sequentially beginning with<br>
n=0 when the thermal printer 108 is turned on or when<br>
the printing of a digital image is initiated.<br>
It should be appreciated, however, that in general n<br>
refers to a time interval, the duration of which may or<br>
may not be equal to that of a single print head cycle.<br>
Furthermore, the duration of the time interval to which n<br><br>
corresponds may differ for each of the different<br>
resolutions 532a-c. For example, in one embodiment, the<br>
time interval referenced by the variable n in resolution<br>
532c (i = 0) is equal to a single print head cycle,<br>
whereas the time intervals referenced by the variable n in<br>
the other resolutions 532a-b are longer than a single<br>
print head cycle.<br>
In one embodiment, reference points 534 in resolution<br>
532c (for which i=0) have a special significance. In<br>
this embodiment, each row of reference points in<br>
resolution 532c corresponds to the linear array of print<br>
head elements 520a-i in the print head 500 (FIG. 5A). For<br>
example, consider the row of reference points 534a-i, for<br>
which i=0 and n=0. In one embodiment, each of these<br>
reference points 534a-i corresponds to one of the print<br>
head elements 520a-i shown in FIG. 5A. For example,<br>
reference point 534a may correspond to print head element<br>
520a, reference point 534b may correspond to print head<br>
element 520b, and so on. The same correspondence may hold<br>
between each of the remaining rows of reference points in<br>
resolution 532c and the print head elements 520a-i.<br>
Because of this correspondence between reference points<br>
within a row of reference points and print head elements<br>
arranged in a row in the print head 500, in one embodiment<br>
the j dimension is referred to as a "spatial" dimension of<br>
the spatial and temporal grid 530. Examples of how this<br>
correspondence may be used by the head temperature model<br>
202 are described in more detail below.<br>
Using these meanings of the j and n dimensions, each<br>
of the reference points 534 in resolution 532c (for which<br>
i=0) may be seen to correspond to a particular one of<br><br>
the print head elements 520a-i at a particular point in<br>
time (e.g., at the beginning of a particular print head<br>
cycle). For example, j=3 and n = 2 may refer to<br>
reference point 54 0 (which corresponds to print head<br>
element 520d) at the beginning of time interval n = 2.<br>
In one embodiment, associated with each of the<br>
reference points 534 at coordinates (n,j) in resolution<br>
532c (i = 0) is an absolute temperature value Ta,<br>
representing a predicted absolute temperature of the print<br>
head element j at the beginning of time interval n. Also<br>
associated with each of the reference points 534 at<br>
coordinates (n,j) in resolution 532c (i = 0) is an energy<br>
value E, representing the amount of energy to be provided<br>
to print head element j during time interval n.<br>
As described in more detail below, in one embodiment<br>
of the present invention the head temperature model 202<br>
updates the absolute temperature values Ta associated with<br>
reference points in row n of resolution 532c at the<br>
beginning of each time interval n, thereby predicting the<br>
absolute temperatures of the print head elements 520a-i at<br>
the beginning of time interval n. As further described in<br>
more detail below, the head temperature model 202 updates<br>
the energy values E associated with the reference points<br>
in row n of resolution 532c at the beginning of each time<br>
interval n based on the updated temperature values Ta and<br>
the desired output densities ds. The energies E are then<br>
provided to the print head elements 52 0a-i to produce,<br>
output having the desired densities.<br>
It should be appreciated that there need not be a<br>
one-to-one correspondence between reference points in each<br>
row of resolution 532c of the grid 53 0 and print head<br><br>
elements in the print head 500. For example, there may be<br>
a greater or lesser number of reference points in each<br>
such row than the number of print head elements. If the<br>
number of reference points in each row of resolution 532c<br>
is not equal to the number of print head elements,<br>
temperature predictions for the reference points may be<br>
mapped to the print head elements using, e.g., any form of<br>
interpolation or decimation.<br>
More generally, resolution 532c (i = 0) models an<br>
area including some or all of the print head elements<br>
520a-i. The area that is modeled may, for example, be<br>
equal to, larger than, or smaller than the area occupied<br>
by the print head elements 520a-i. The number of<br>
reference points in each row of resolution 532c may be<br>
greater than, less than, or equal to the number of print<br>
head elements in the modeled area. For example, if the<br>
modeled area is larger than the area occupied by all of<br>
the print head elements 520a-i, one or more reference<br>
points at each end of each row in resolution 53 2c may<br>
correspond to a "buffer zone" extending before the first<br>
print head element 52 0a and after the last print head<br>
element 520i. One way in which the buffer zone may be<br>
used is described in more detail below with respect to<br>
Equation 7.<br>
The head temperature model 2 02 may generate<br>
temperature predictions for the reference points 534 in<br>
any of a variety of ways. For example, as shown in FIG.<br>
5B, the grid 53 0 includes additional reference points 53 6<br>
and 53 8. As described in more detail below, the head<br>
temperature model 202 generates intermediate temperature<br>
and energy values for reference points 536 and 53 8, which<br><br>
are used to generate the final temperature predictions Ta<br>
and input energies E associated with reference points 534.<br>
The absolute temperature values Ta associated with<br>
reference points 536 and 538 may, but need not, correspond<br>
to predictions of absolute temperatures within the print<br>
head 500. Such temperature values may, for example,<br>
merely constitute intermediate values that are convenient<br>
for use in generating the absolute temperature predictions<br>
Ta for the reference points 534 in resolution 532c.<br>
Similarly, the energy values E associated with reference<br>
points 53 6 and 53 8 may, but need not, correspond to<br>
predictions of heat accumulation within the print head<br>
500. Such energy values may, for example, merely<br>
constitute intermediate values that are convenient for use<br>
in generating temperature values for the reference points<br>
534 in resolution 532c.<br>
In one embodiment, a relative temperature value T may<br>
also be associated with each of the reference points in<br>
the spatial grid 530. The relative temperature value T of<br>
a reference point in a particular resolution i is a<br>
temperature value that is relative to the absolute<br>
temperature of the corresponding reference point in the<br>
resolution i + 1 above. As described in more detail<br>
below, the "corresponding" reference point may refer to an<br>
interpolated reference point in the resolution i + 1.<br>
The n and j coordinates of a reference point in a<br>
particular resolution is expressed using the notation<br>
(n,j) . As used herein, the superscript (i) denotes a<br>
resolution number (i.e., a value of i) . Therefore, the<br>
expression E(i)(n,j) refers to the energy value associated<br>
with the reference point having coordinates (n,j) in<br><br>
resolution i. Similarly, Ta(i)(n,j) refers to the absolute<br>
temperature value associated with the reference point<br>
having coordinates {n,j) in resolution i, and T{i)(n,j)<br>
refers to the relative temperature value associated with<br>
the reference point having coordinates (n,j) in resolution<br>
i. Because of the special meaning attributed to reference<br>
points in resolution 532c (where i = 0), in one embodiment<br>
the expression E(0)(n,j) refers to the amount of input<br>
energy provided to print head element j during time<br>
interval n. Similarly, Ta(i)(n,j) refers to the predicted<br>
absolute temperature of print head element j at the<br>
beginning of time interval n, and T(o)(n,j) refers to the<br>
predicted relative temperature of print head element j at<br>
the beginning of time interval n.<br>
In the description below, the suffix (*,*) refers to<br>
all the reference points in the time and space dimensions.<br>
For example, E(k)(*,*) denotes the energy for all the<br>
reference points in resolution k. The notation T(k)m)<br>
denotes an interpolation or decimation operator from<br>
resolution k to resolution m. When k &gt; m, T(k)(m) acts as an<br>
interpolation operator; when k 
decimation operator. When applied to a two-dimensional<br>
array of values for a particular resolution of the grid<br>
530 (e.g., E(k)(*,*)), the operator I(k)(m) is a two-dimensional<br>
interpolation or decimation operator that operates on both<br>
the space (i.e., along the j axis) and ime (i.e., along<br>
the n axis) dimensions to produce a new array of values,<br>
based on the values of k and m, as just described. The<br>
number of values in the array produced by application of<br>
the operator is equal to the number of reference<br>
points in resolution m of the grid 530. Application of<br>
the operator is denoted in prefix form. For<br>
example, denotes application of the operator <br>
to the energies . The use of the operator will<br>
become clearer through the particular examples described<br>
below.<br>
The operator may use any interpolation or<br>
decimation method. For example, in one embodiment of the<br>
present invention, the decimation function used by the<br>
operator is an arithmetic mean and the interpolation<br>
method is linear interpolation.<br>
It was stated above that the relative temperature<br>
value T(i)(n,j) is relative to the "corresponding" absolute<br>
temperature value in the layer i + 1. It should now<br>
be clear that this "corresponding" absolute temperature<br>
value refers more precisely to the absolute<br>
temperature value of the reference point at coordinates<br>
(n,j) in an array produced by applying the interpolation<br>
operator to <br>
In one embodiment, the head temperature model 202<br>
generates relative temperature values T(i)(n,j) as a<br>
weighted combination of the previous relative temperature<br>
value and the energy accumulated in the previous time<br>
interval, using Equation 4:<br><br>
The variables a1 and Ai in Equation 4 are parameters<br>
that may be estimated in any of a variety of ways, as<br>
described in more detail below. The parameter a1<br>
represents the natural cooling of the print head, and the<br>
parameter Ai represents heating of the print head due to<br>
accumulated energy. The head temperature model 202 also<br>
generates absolute temperature values Ta(0) (n,j) using<br>
Equation 5 and recursive Equation 6:<br><br>
More specifically, is initialized by<br>
Equation 5 to Ts(n), the absolute temperature measured by<br>
the temperature sensor 512. Equation 6 recursively<br>
calculates the absolute temperature values Ta for each<br>
resolution as the sum of the relative temperatures of the<br>
resolutions above.<br>
In one embodiment, the relative temperatures T(i)(n,j)<br>
produced in Equation 4 are further modified by Equation 7:<br><br>
Equation 7 represents the lateral heat transfer<br>
between print head elements. The inclusion of lateral heat<br>
transfer in the head temperature mode] results in a<br><br>
compensating lateral sharpening of the image in the<br>
compensating lateral sharpening of the image in the<br>
inverse printer model. It should be appreciated that<br>
although Equation 7 uses a three-point kernel (consisting<br>
of reference point j and its two immediate neighbors at<br>
locations j + 1 and j - 1), this is not a limitation of<br>
the present invention. Rather, any size kernel may be<br>
used in Equation 7. A boundary condition must be provided<br>
for T(i)(n,j) where j = 0 and j = jmax, so that values of<br>
T(i){n,j) for j = -1 and j = jmax + 1 may be provided for use<br>
in Equation 7. For example, T{i)(n,J) may be set to zero for<br>
j = -1 and j = jmax + 1. Alternatively, T(i)(n,-l) may be<br>
assigned the value of r(i)(n,0) and T(0)(n,jmax + 1) may be<br>
assigned the value of T(0)(n,jmax). These boundary conditions<br>
are provided merely for purposes of example and do not<br>
constitute limitations of the present invention; rather,<br>
any boundary conditions may be used.<br>
In one embodiment, the energies E(o)(n,j) (i.e., the<br>
energies to be provided to the print head elements 520a-i<br>
during time interval n) are computed using Equation 8,<br>
which is derived from Equation 3:<br>
Em(n,j) = G(d(n,j)) + S(d(n,j))Ta(0)(n,j)<br>
Equation 8<br>
The values E{0){n,j) defined by Equation 8 allows<br>
values of i?(l) (n,j) for i &gt; 0 to be recursively calculated<br>
using Equation 9:<br>
 for i - 1, 2, ..., nresolutions - 1<br>
Equation 9<br>
The order in which Equation 4-Equation 9 may be<br>
computed is constrained by dependencies among these<br>
equations. Examples of techniques for computing Equation<br>
4-Equation 9 in an appropriate order are described in more<br>
detail below.<br>
The head temperature model 202 and the media density<br>
model 3 04 include several parameters which may be<br>
calibrated as follows. Referring again to FIG. 1, the<br>
thermal printer 108 may be used to print a target image<br>
(serving as the source image 100), producing printed image<br>
110. During the printing of the target image,<br>
measurements may be taken of: (1) the energies used by the<br>
thermal printer 108 to print the target image, and (2) the<br>
ambient temperature of the print head over time. The<br>
measured energies and ambient temperatures are then<br>
provided as inputs to the thermal printer model 302. The<br>
density distribution of the predicted printed image 306<br>
predicted by the thermal printer model 302 is compared to<br>
the actual density distribution of the printed image 110<br>
produced by printing the target image. The parameters of<br>
the head temperature model 202 and the media density model<br>
304 are then modified based on the results of this<br>
comparison. The process is repeated until the density<br>
distribution of the predicted printed image 306<br>
sufficiently matches that of the printed image 110<br>
corresponding to the target image. The parameters of the<br>
head temperature model 2 02 and media density model 3 04<br>
thereby obtained are then used in the head temperature<br>
model 2 02 and inverse media density model 206 of the<br>
inverse printer model 102 (FIG. 2). Examples of<br>
parameters that may be used in these models arc described<br><br>
in more detail below.<br>
In one embodiment of the present invention, the gamma<br>
function r(E) that we discussed in regard to the inverse<br>
media model is parameterized as an asymmetric: S-shaped<br>
function as shown in Equation 10:<br><br>
where e = E - Eo, and Eo is an energy offset. When a = 0 and<br>
b=0, r(E) shown in Equation 10 is a symmetrical function<br>
about the energy EO, and has a slope dmax at E=E0. However,<br>
typical gamma curves for thermal printers are often<br>
asymmetrical and are better represented with values of a<br>
and b that are not zero. The function Tr(d) described above<br>
with respect to FIG. 4 may be estimated in any of a<br>
variety of ways. The function Tr(d) may, for example, be<br>
an estimate of the print head element temperature when the<br>
gamma function F(E) was measured. Such an estimate may be<br>
obtained from the head temperature model.<br>
In one embodiment, the sensitivity function S(d) is<br>
modeled as an p-order polynomial, as shown in Equation 11:<br><br>
In a preferred embodiment., a third order polynomial,<br>
p=3, is used, although this is not a limitation of the<br>
present invention. Rather, the sensitivity function S(d)<br>
may be a polynomial of: any order.<br>
It should be appreciated that the gamma and<br>
sensitivity functions shown in Equation 10 and Equation 11<br>
are shown merely for purposes of example and do not<br>
constitute limitations of the present invention. Rather,<br>
other mathematical forms for the gamma and sensitivity<br>
functions may be used.<br>
Having described generally how the head temperature<br>
model 202 models the thermal history of the print head<br>
500, one embodiment for applying the techniques described<br>
above is now described in more detail. In particular,<br>
referring to FIG. 6A, a flow chart of a process 600 that<br>
is used to print the source image 100 (FIG. 1) according<br>
to one embodiment of the present invention is shown. More<br>
specifically, the process 600 may be executed by the<br>
inverse printer model 102 to generate and provide the<br>
input energy 106 to the thermal printer 108 based on the<br>
source image 100 and the ambient temperature 104. The<br>
thermal printer 108 may then print the printed image 110<br>
based on the input energy 106.<br>
As described above, the head temperature model 2 02<br>
may calculate values for the relative temperatures T,<br>
absolute temperatures Ta, and energies E. As further<br>
described above, the inter-relations of the equations used<br>
to perform these calculations impose constraints on the<br>
order in which the calculations may be performed. The<br>
process 600 performs these calculations in an appropriate<br>
order, thereby calculating the input energies Em(n,*) to<br>
provide to the print head elements 520a-i during each time<br>
interval n. As used herein, the suffix (n,*) refers to<br>
(absolute temperature Td, relative temperature T, or energy<br>
E) values for all reference points in a particular<br><br>
resolution at discrete time interval n. For example,<br>
E(l)(n,*) refers to the energy values of all reference points<br>
(i.e., for all values of j) in resolution i during<br>
discrete time interval n. The process 600 may, for<br>
example, be implemented in software using any suitable<br>
programming language.<br>
In one embodiment, for each time interval n, the<br>
process 600 makes reference only to energies and<br>
temperatures from time interval n and from the previous<br>
time interval n-1. It is therefore unnecessary to keep a<br>
permanent storage of these quantities for all n. The two<br>
dimensional arrays, T(i)(*,*), Ta(i)(*,*), and E(i)(*,*) can each be<br>
replaced by just two one-dimensional arrays, with<br>
subscripts "new" and "old" replacing the time dimension<br>
arguments n and n-1 respectively. Specifically, the<br>
following one-dimensional arrays are used to store<br>
intermediate values at the time interval n:<br>
(1) Told(i)(*), an array for storing relative<br>
temperatures of all the reference points in<br>
resolution i from the previous print time<br>
interval (i.e., print time interval n-1).<br>
Told(i)(*) is equivalent to T(i)(n-1);<br>
(2) Told(i)(*), an array for storing relative<br>
temperatures of all the reference points in<br>
resolution i in the current time interval n.<br>
Tnew(i)(*) is equivalent to T(i)(*);<br>
(3) STold(i)(*) an array for storing absolute<br>
temperatures of all the reference points in<br>
resolution i from the previous Lime interval<br>
n-1. Told(i)(*) is equivalent to Ta(i)(*);<br><br>
(4) Told(i)(*), an array for storing absolute<br>
temperatures of all the reference points in<br>
resolution i in the current time interval<br>
n-1. Tnew(i)(*) is equivalent to Ta(i)(n,*) ; and<br>
(5) Eacc(i)(*) an array for storing the current<br>
accumulated energies of all the reference<br>
points in resolution i in the current time<br>
interval n. Eold(i)(*) is equivalent to E(i)(n,*).<br>
Note that the interpolation operator lnk , when applied<br>
to any of the five one-dimensional arrays above, results<br>
in a one-dimensional interpolation or decimation of the<br>
spatial domain. Time interpolation is carried out<br>
separately by reference to the explicitly stored 'old' and<br>
'new' values of T or ST.<br>
The process 600 begins by calling a routine<br>
InitializeO (step 602). The InitializeO routine may,<br>
for example: (1) initialize Tnew(i)(*) and Tacc(i)(*) to zero (or<br>
some other predetermined value) for all values of i (i.e.,<br>
from i=0 to i = nresolutions - 1), and (2) initialize<br>
STnew(i)(*) to Ts (the temperature reading from the temperature<br>
sensor 512) for all values of i from i=0 to<br>
i =nresolutions.<br>
The process 600 initializes the value of n to zero<br>
(step 604), corresponding to the first print head cycle of<br>
the source image 100 to be printed. The process 600<br>
compares the value of n to nmax (the total number of print<br>
head cycles required to print the source image 100) to<br>
determine whether the entire source image 100 has been<br>
printed (step 606) . If n is greater than nmax, the process<br>
600 terminates (step 610). If n is not greater than nmax,<br><br>
then a subroutine Compute_Energy() is called with a value<br>
of nresolutions - 1 (step 608).<br>
Compute_Energy(i) takes as an input a resolution<br>
number i, and computes the input energies Eacc(i)(*) , in<br>
accordance with the equations described above. Referring<br>
to FIG. 6B, in one embodiment, Compute_Energy() is<br>
implemented using a recursive process 620. As described<br>
in more detail below, in the course of computing Eacc(1)(*),<br>
the process 620 also recursively computes each of the<br>
energies in a particular<br>
pattern. When the energies Eacc(0)(*) are computed, they<br>
are provided to the print head elements 520a-i to produce<br>
the desired output densities and the value of n is<br>
incremented.<br>
More specifically, the process 620 initializes the<br>
array Told(i) by assigning to it the values of (step 622).<br>
The process 620 updates the relative temperatures in time<br>
by assigning values to a temporary array using<br>
Equation 4 (step 624). The process 620 updates the<br>
relative temperatures in space by assigning values to <br>
using Equation 7 (step 626).<br>
The process 62 0 then computes the current and<br>
previous absolute temperature and . More<br>
specifically, the value of is set to (step<br>
627). Then the process 620 updates the current absolute<br>
temperatures in resolution i based on the relative<br>
temperatures in resolution i and the absolute temperatures<br>
in resolution i + 1, using Equation 6 (step 628). The<br>
interpolation operator is applied to <br>
producing an array of interpolated absolute temperature<br><br>
values. The dimension of this array is equal to the<br>
spatial dimension of resolution i. This array of<br>
interpolated absolute temperature values is added to <br>
to produce . In this manner, absolute temperature<br>
values are propagated downward from layer i + 1 to layer<br>
i. It should be appreciated that absolute temperatures<br>
are propagated downward between successive layers in a<br>
particular pattern over time resulting from the recursion<br>
performed by Compute_Energy().<br>
The process 620 tests whether i - 0 to determine<br>
whether energies are currently being computed for the<br>
bottom (finest) resolution (step 630). This test is<br>
necessary to determine whether the absolute temperatures<br>
need to be interpolated in time in order to provide<br>
reference absolute temperatures for the layer below. In<br>
the event that i=0, absolute temperatures are being<br>
computed for the finest resolution, and no time<br>
interpolation is required.<br>
In the event that i is not zero, temporal<br>
interpolation is required. The quantity dec_factor(i)<br>
represents the ratio of the number of reference points in<br>
the temporal dimension in resolution i - 1 to the number<br>
in resolution i. Therefore, it is necessary to generate<br>
dec_factor(i) interpolated absolute temperatures. It<br>
should be appreciated that dcc__factor(i) may have any<br>
value for each value of i; for example, dec_factor(i) may<br>
be equal to one for each value of i, in which case various<br>
steps described below may be simplified or eliminated as<br>
will be apparent to those of ordinary skill in the art.<br>
At the same time, the energies are computed by<br>
accumulating the energies for all dec_ factor(i)<br><br>
interpolated points in the time dimension. These two tasks<br>
are accomplished by the following steps.<br>
The energies are initialized to zero (step<br>
634) . An array is used to store step values to<br>
interpolate between and . The values in <br>
are initialized by dividing the difference between <br>
and by dec_factor(i) (step 636).<br>
Referring to FIG. 6C, the process 620 enters a loop<br>
having dec_factor(i) iterations (step 638). is<br>
assigned interpolated values by adding to (step<br>
640) . Compute_Energy() is recursively called to compute<br>
energies for resolution i - 1 (step 642). After obtaining<br>
the energies computed for resolution i - 1, energies<br>
 for the current resolution i are partially computed<br>
using Equation 9 (step 644) .<br>
Note that in Equation 9, the notation describes a<br>
two-dimensional decimation of the energies in resolution<br>
i-1 in space and time. Since is a one-dimensional<br>
array representing energies of the reference points in<br>
resolution i-1 in the spatial dimension, Step 644<br>
achieves the same result step-wise through an explicit<br>
averaging of in the time dimension. It should be<br>
appreciated that the energies are not computed in<br>
their entirety until the loop initiated in step 638 has<br>
completed all of its iterations.<br>
 is assigned the values of in preparation for<br>
the next iteration of the loop initiated in step G38 (step<br>
646). The loop performs steps 640-646 a total of<br>
dec_factor(i) times. At the completion of the loop (step<br>
648), all energies for resolution i have been<br>
computed, and all necessary absolute temperatures have<br>
been propagated downward to finer resolutions. Therefore,<br>
Compute_Energy(i) terminates (step 650) and returns<br>
control to Compute^Energy(i+1) (step 644) which initiated<br>
it. When control has finally been returned to level<br>
i=nresolutions-l, Compute_Energy(i) terminates (step 650)<br>
and returns control to process 600 at step 606.<br>
Returning again to step 630 (FIG. 6B), if i = 0 then<br>
Compute_Energy() is being asked to compute energies <br>
for the bottom (finest) resolution. In one embodiment,<br>
the energies are the energies to be provided to the<br>
print head elements 520a-i. The process 620 computes the<br>
energies using Equation 3 (step 652). The process<br>
620 provides the energies to the print head<br>
elements 520a-i to produce the desired densities d(n,*)<br>
(step 654).<br>
As described above, the number of reference points in<br>
resolution i=0 may be different (greater or less) than<br>
the number of print head elements 520a-i. If there fewer<br>
reference points than elements, the absolute temperatures<br>
 are interpolated to the resolution of the print head<br>
elements, and then step 652 is applied to compute the<br>
energies to be provided to the print head elements<br>
in step 654. The energies are then decimated back<br>
to resolution i=0, and process 620 is resumed.<br>
The value of n is incremented, representing an<br>
advance in time to the next print head cycle (step 656).<br>
If n &gt; nmax (step 658), printing of the source image 100 is<br>
complete and both processes 620 and 600 terminate (step<br>
660). Otherwise, Compute_Energy(i) terminates (step 662),<br>
representing the bottoming-out of the recursion used by<br>
Compute_Energy(i). Termination of Compute_ Energy(i) at<br>
step 662 returns control to Compute_Energy(i+1) at step<br>
644 (FIG. 6C). The process 600 repeats step 608 until<br>
printing of the digital image is complete.<br>
It should therefore be appreciated that the processes<br>
600 and 620 shown in FIGS. 6A-6D may be used to print a<br>
digital image (e.g., the source image 100) in accordance<br>
with the techniques for thermal history compensation<br>
described above.<br>
It should be appreciated that features of various<br>
embodiments of the present invention described above and<br>
described in more detail below provide numerous<br>
advantages.<br>
One advantage of various embodiments of the present<br>
invention is that they reduce or eliminate the problem of<br>
"density drift" described above. More precisely, by<br>
taking the current ambient temperature of the print head<br>
and the thermal and energy histories of the print head<br>
into account when computing the energy to be provided to<br>
the print head elements, the print head elements are more<br>
accurately raised only to the temperatures necessary to<br>
produce the desired densities.<br>
A further advantage of various embodiments of the<br>
present invention is that they may either increase or<br>
decrease the input energy E(0)(*,*) provided to the print<br>
head elements 520a-i, as may be necessary or desirable to<br>
produce the desired densities d(*,*). Conventional<br><br>
systems that attempt to compensate for the effects of<br>
thermal history typically decrease the amount of energy<br>
provided to the thermal print heads to compensate for<br>
increase in temperature of the print head elements over<br>
time. In contrast, the generality of the models used by<br>
various embodiments of the present invention enable them<br>
to flexibly increase or decrease the amount of: energy<br>
provided to particular print head elements.<br>
For example, referring to FIG. 7 two graphs 702 and<br>
704 are shown of energy provided to a print head element<br>
over time. Both graphs 702 and 704 represent the amount<br>
of energy provided to the print head element to print a<br>
column of pixels including two high density gradients<br>
(located approximately at pixels numbered 25 and 50,<br>
respectively). Graph 702 (illustrated in solid line)<br>
represents energy provided to the print head element by a<br>
conventional thermal printer, and graph 704 (illustrated<br>
in dashed line) represents energy provided to the print<br>
head element by one embodiment of the inverse printer<br>
model 102. As shown in graph 704, the inverse printer<br>
model 102 provides a greater amount of energy than the<br>
conventional thermal printer at the first high density<br>
gradient. This will tend to raise the temperature of the<br>
print head element more quickly and thereby produce a<br>
sharper edge in the output. Similarly, the inverse<br>
printer model 102 provides a lesser amount of energy than<br>
the conventional thermal printer at the second high<br>
density gradient. This will tend to lower the temperature<br>
of the print head element more quickly and thereby produce<br>
a sharper edge in the output.<br>
It should be appreciated based on the discussion of<br><br>
FIG. 7 above that various embodiments of the present<br>
invention may flexibly increase or decrease the amount of<br>
energy provided to the print head elements as necessary to<br>
produce the desired output densities d. The flexibility<br>
of the inverse printer model 206 enables the correction<br>
factors AE(n) (FIG. 4) (which are used to produce the<br>
input energies E{n)) to vary in any appropriate manner and<br>
in any combination from print head element to print head<br>
element, and from print head cycle to print head cycle.<br>
For example, the correction factors AE(n) may be positive,<br>
negative, or zero in any combination. Furthermore, the<br>
correction factor DE(n, j) for a particular print head<br>
element j may increase, decrease, or remain the same from<br>
one print head cycle to the next. The correction factors<br>
for a plurality of print head elements may increase,<br>
decrease, or remain the same from print head cycle to<br>
print head cycle, in any combination. For example, the<br>
correction factor for a first print head element j1 may<br>
increase from one print head cycle to the next, while the<br>
correction factor for a second print head element j2<br>
decreases.<br>
These examples of the variety of correction factors<br>
that may be produced by the inverse media density model<br>
206 are merely examples that illustrate the flexibility of<br>
the inverse media density model 206 illustrated in FIG. 4.<br>
More generally, the ability of the inverse media density<br>
model 206 to accurately compensate for the effects of the<br>
thermal history of the thermal printer 108 enables it to<br>
mitigate the effects of various problems typically<br>
associated with thermal printers, such as density drift<br>
and blurred edges. Various other advantages of the<br><br>
inverse media density model 206 and other aspects and<br>
embodiments of the present invention will be apparent to<br>
those of ordinary skill in the art.<br>
Another advantage of various embodiments of the<br>
present invention is that they compute the energies to be<br>
provided to the print head elements in a computationally<br>
efficient manner. For example, as described above, in one<br>
embodiment of the present invention, the input energy is<br>
computed using two one-dimensional functions (G(d) and<br>
S(d)), thereby enabling the input energy to be computed<br>
more efficiently than with the single two-dimensional<br>
function F(d,T1).<br>
In particular, if f is the decimation factor between<br>
any two resolutions, an upper bound on the number of<br>
additions performed per pixel in one embodiment is given<br>
by Equation 12: <br>
Furthermore, in one embodiment an upper bound on the<br>
number of multiplications performed per pixel in one<br>
embodiment is given by Equation 13:<br><br>
In one embodiment, two lookups are performed per<br>
pixel. In experimental use various embodiments of the<br>
present invention have been shown to be capable of<br>
computing the input energy sufficiently rapidly to permit<br>
real-time use in a thermal printer having a print head<br>
cycle period of 1.6ms.<br>
The present invention has been described above in<br>
terms of various embodiments. Various other embodiments,<br>
including but not limited to the following, are also<br>
within the scope of the claims.<br>
Although some embodiments may be described herein<br>
with respect to thermal transfer printers, it should be<br>
appreciated that this is not a limitation of the present<br>
invention. Rather, the techniques described above may be<br>
applied to printers other than thermal transfer printers<br>
(e.g. direct thermal printers). Furthermore, various<br>
features of thermal printers described above are described<br>
merely for purposes of example and do not constitute<br>
limitations of the present invention.<br>
Various aspects of the embodiments described above<br>
are provided merely for purposes of example and do not<br>
constitute limitations of the present invention. For<br>
example, there may be any numbers of layers in the print<br>
head 500 and any number of resolutions in the model of the<br>
thermal print head. Furthermore, there need not be a one-<br>
to-one correspondence between print head layers and<br>
resolutions. Rather, there may be a many-to-one or one-<br>
to-many relationship between print head layers and<br>
resolutions. There may be any number of reference points<br>
in each resolution, and there may be any decimeition factor<br>
between resolutions. Although particular gamma and<br>
sensitivity functions are described above, other functions<br>
may be used.<br>
It should be appreciated that the results of the<br>
various equations shown and described above may be<br><br>
generated in any of a variety of ways. For example, such<br>
equations (such as Equation 1) may be implemented in<br>
software and their results calculated on-the-fly.<br>
Alternatively, lookup tables may be pre-generated which<br>
store inputs to such equations and their corresponding<br>
outputs. Approximations to the equations may also be used<br>
to, for example, provide increased computational<br>
efficiency. Furthermore, any combination of these or<br>
other techniques may be used to implement the equations<br>
described above. Therefore, it should be appreciated that<br>
use of terms such as "computing" and "calculating" the<br>
results of equations in the description above does not<br>
merely refer to on-the-fly calculation but rather refers<br>
to any techniques which may be used to produce the same<br>
results.<br>
In general, the techniques described above may be<br>
implemented, for example, in hardware, software, firmware,<br>
or any combination thereof. The techniques described<br>
above may be implemented in one or more computer programs<br>
executing on a programmable computer and/or printer<br>
including a processor, a storage medium readable by the<br>
processor (including, for example, volatile and non-<br>
volatile memory and/or storage elements), at least one<br>
input device, and at least one output device. Program<br>
code may be applied to data entered using the input device<br>
to perform the functions described herein and to generate<br>
output information. The output information may be applied<br>
to one or more output devices.<br>
Printers suitable for use with various embodiments of<br>
the present invention typically include a print engine and<br>
a printer controller. The printer controller receives<br><br>
print data from a host computer and generates page<br>
information, such as a logical halftone to be printed<br>
based on the print data. The printer controller transmits<br>
the page information to the print engine to be printed.<br>
The print engine performs the physical printing of the<br>
image specified by the page information on the output<br>
medium.<br>
Elements and components described herein may be<br>
further divided into additional components or joined<br>
together to form fewer components for performing the same<br>
functions.<br>
Each computer program within the scope of the claims<br>
below may be implemented in any programming language, such<br>
as assembly language, machine language, a high-level<br>
procedural programming language, or an object-oriented<br>
programming language. The programming language may be a<br>
compiled or interpreted programming language.<br>
Each computer program may be implemented in a<br>
computer program product.tangibly embodied in a machine-<br>
readable storage device for execution by a computer<br>
processor. Method steps of the invention may be performed<br>
by a computer processor executing a program tangibly<br>
embodied on a computer-readable medium to perform<br>
functions of the invention by operating on input and<br>
generating output.<br>
It is to be understood that although the invention<br>
has been described above in terms of particular<br>
embodiments, the foregoing embodiments are provided as<br>
illustrative only, and do not limit or define the scope of<br>
the invention. Other embodiments are also within the<br>
scope of the present invention, which is defined by the<br><br>
scope of the claims below. Other embodiments that fall<br>
within the scope of the following claims includes include,<br>
but are not limited to, the following.<br>
CLAIMS:<br>
1. A method of thermal printing by using a thermal printer having a print head<br>
element, said method comprising the steps of:<br>
computing an input energy to provide to the<br>
print head element based on a current<br>
temperature of the print head element and a<br>
plurality of one-dimensional functions of a<br>
desired output density to be printed by the<br>
print head element.<br>
2. The method as claimed in claim 1, which involves a step of:<br>
providing the input energy to the print head<br>
element.<br>
3. The method as claimed in claim 1, wherein the current<br>
temperature of the print head element comprises a<br>
predicted current temperature of the print head element.<br>
4. The method as claimed in claim 3, wherein the predicted<br>
temperature is predicted based on an ambient temperature<br>
and an energy previously provided to the print head<br>
element.<br>
5. The method as claimed in claim 3, wherein the thermal printer<br>
has a plurality of print head elements, and wherein<br>
the predicted temperature is predicted based on an ambient<br>
temperature, an energy previously provided to the print<br>
head element, and an energy previously provided to at<br>
least one other print head element in the plurality of<br>
print head elements.<br>
6. The method as claimed in claim 1, wherein the plurality of<br>
one-dimensional functions comprise. :<br>
an inverse gamma function having the desired output<br>
density as an input and an uncorrected input energy as an<br>
output; and<br>
a correction function having the current temperature<br>
of the print head element as an input and a correction<br>
factor as an output; and<br>
wherein the step of computing the input energy is carried out by adding the<br>
correction factor to the uncorrected input energy.<br>
7. The method as claimed in claim 6, wherein the correction<br>
function develops the correction factor by performing<br>
steps of:<br>
developing a temperature difference value by<br>
subtracting a reference temperature from the current<br>
temperature of the print head element; and<br>
developing the correction factor as the product of<br>
the temperature difference value and the output of a<br>
sensitivity function having the desired output density as<br>
an input and a sensitivity value as an output.<br>
8. The method as claimed in claim 6, wherein the correction<br>
factor is positive.<br>
9. The method as claimed in claim 6, wherein the correction<br>
factor is negative.<br>
10. The method as claimed in claim 1, wherein the input energy is represented by the<br>
variable E, and wherein the step of computing the input energy is carried out by using an<br>
equation of the following form:<br>
E = rl(d) + s(d)(ra -Tr(d)),<br>
wherein T...1(d) relates the desired output, density d to<br>
an uncorrected input energy ET, Ta is the current:<br>
temperature of the print head element, Tr (d) relates the<br>
desired output density d to a reference temperature, which<br>
is the temperature of the print head element when TO was<br>
measured, and S(d) is the slope of the temperature<br>
dependence of r-l(d).<br>
11. The method as claimed in claim 1, wherein the input energy is represented by the<br>
variable K, and wherein the step of computing the input energy is carried out by using an<br>
equation of the following form:<br>
E=G(d) + S(d)Ta,<br>
wherein G(d) relates the desired output density d to<br>
an uncorrected input energy Er, Ta is the current<br>
temperature of the print head element, and S{d) is the<br>
slope of the temperature dependence of G(d).<br>
12. The method as claimed in claim 1, wherein the step of computing the input energy-<br>
is performed within a single print head cycle of the thermal printer.<br>
13. A thermal printer comprising:<br>
a print head element; and<br>
means for computing an input energy to provide to the<br>
print head element based on a current temperature of the<br>
print head element and a plurality of one-dimensional<br>
functions of a desired output density to be printed by the<br>
print head element.<br>
14. The thermal printer as claimed in claim 13, having means for providing the input<br>
energy to the print head element.<br>
15. The thermal printer as claimed in claim 13, wherein the<br>
current temperature of the print head element comprises a<br>
predicted current temperature of the print head element.<br>
16. The thermal printer as claimed in claim 15, wherein the<br>
predicted temperature is predicted based on an ambient<br>
temperature and an energy previously provided to the print<br>
head element.<br>
17. The thermal printer as claimed in claim 15, wherein the<br>
print head element is one of a plurality of print head<br>
elements, and wherein the thermal printer<br>
has means for predicting the predicted temperature<br>
based on an ambient temperature, an energy previously<br>
provided to the print head element, and an energy<br>
previously provided to at least one other print head<br>
element in the plurality of print head elements.<br>
18. The thermal printer as claimed in claim 13, wherein the<br>
means for computing- the input energy comprises:<br>
inverse gamma function means having the desired<br>
output density as an input and an uncorrected input energy<br>
as an output;<br>
correction function means having the current<br>
temperature of the print head element as an input and a<br>
correction factor as an output; and<br>
means for computing the input energy by adding the<br>
correction factor to the uncorrected input energy.<br>
19. The thermal printer as claimed in claim 18, wherein the<br>
correction function means comprises:<br>
means for developing a temperature difference value<br>
by subtracting a reference temperature from the current<br>
temperature of the print head element; and<br>
means for developing the correction factor as the<br>
product of the temperature difference value and the output<br>
of a sensitivity function having the desired output<br>
density as an input and a sensitivity value as an output.<br>
20. The thermal printer as claimed in claim 13, wherein the<br>
input energy is represented by the vax"iable E, and wherein<br>
the means for computing the input energy comprises means<br>
for computing the input energy using an equation of the<br>
following form:<br>
E = r-l(d) + S(d)(Ta -Tr(d)),<br>
wherein T--1 (d) relates the desired output density d to<br>
an uncorrected input energy Er, Ta is the current<br>
temperature of the print head element, Tt (d) relates the<br>
desired output density d to a reference temperature, which<br>
is the temperature of the print head element, when l"() was<br>
measured, and S(d) is the slope of the temperature<br>
dependence of T-](d).<br>
21. The thermal printer as claimed in claim 13, wherein the<br>
input energy is represented by the variable E, and wherein<br>
the means for computing the input energy comprises means<br>
for computing the input energy using an equation of the<br>
following form:<br>
E = G(d) + S(d)Ta,<br>
wherein G(d) relates the desired output density d to an<br>
uncorrected input energy Er, Ta is the current temperature<br>
of the print head element, and S(J) is the slope of the<br>
temperature dependence of G(d).<br>
22. The thermal printer as claimed in claim 13, wherein the<br>
means for computing the input energy comprises means for<br>
computing the input energy within a single print head<br>
cycle of the thermal printer.<br>
23. An apparatus for producing a plurality of input<br>
energies to provide to a plurality of print head elements<br>
in a thermal print head to produce a printed image<br>
corresponding to a source image having a distribution of<br>
desired densities, the apparatus comprising:<br>
head temperature model means for:<br>
receiving as inputs, for each of a plurality of<br>
print head cycles: (1) an ambient<br>
temperature, and (2) a plurality of input<br>
energies provided to the plurality of print<br>
head elements during at: least one previous<br>
print head cycle; and for<br>
producing as an output, for each of the<br>
plurality of print head cycles, a plurality<br>
of predicted temperatures of the plurality<br>
of print head elements at the beginning of<br>
the print head cycle, wherein the plurality<br>
of predicted temperatures are developed<br>
using a first recursive process utilizing a<br>
multi-resolution heat propagation model;<br>
and<br><br>
inverse media density model means for:<br>
receiving as inputs, for each of the plurality<br>
of print head cycles: (1) the plurality of<br>
predicted temperatures, and (2) a subset of<br>
the distribution of desired densities that<br>
is to be printed during the print head<br>
cycle; and for<br>
producing as an output, for each of the<br>
plurality of print head cycles, a plurality<br>
of input energies to be provided to the<br>
plurality of print head elements during the<br>
print head cycle.<br>
24. The apparatus as claimed in claim 23, wherein the inverse<br>
media density model means comprises:<br>
inverse gamma function means for receiving the subset<br>
of the distribution of desired densities as an input and<br>
producing a plurality of uncorrected input energies as an<br>
output;<br>
sensitivity function means for receiving the subset<br>
of the distribution of desired densities as an input and<br>
producing a plurality of sensitivity values as an output;<br>
reference temperature function means for receiving<br>
the subset of the distribution of desired densities as an<br>
input: and producing a plurality of reference temperatures<br>
as an output;<br>
a subtractor for subtracting the plurality of<br>
reference temperatures from the plurality of predicted<br>
temperatures to produce a plurality of temperature<br>
differences;<br>
a multiplier for multiplying the plurality of<br>
sensitivity values by the plurality of temperature<br>
differences to produce a plurality of correction factors;<br>
and<br>
an adder for adding the plurality of correction<br>
factors to the plurality of uncorrected input energies to<br>
produce the plurality of input energies.<br>
25. The apparatus as claimed in claim 23. wherein the head<br>
temperature model means further receives as an input at<br>
least one previous predicted temperature produced by the<br>
head temperature model.<br>
26. A method for developing input energy to provide to each one of a plurality of print<br>
head elements in a thermal printer, for each of a plurality of print head cycles, a plurality<br>
of input energies to produce a plurality of output densities, said method comprising the<br>
steps of:<br>
(i) using a multi-resolution heat propagation model to<br>
develop, for each of the plurality of print head<br>
cycles, a plurality of predicted temperatures of<br>
the plurality of print head elements at the<br>
beginning of the print head cycle; and<br>
(ii) using an inverse media model to develop the<br>
plurality of input energies based on the plurality<br>
of predicted temperatures and a plurality of<br>
densities to be output by the plurality of print<br>
head elements during the print head cycle.<br>
27. The method as claimed in claim 26, wherein the step (i),<br>
comprises a step of developing the plurality of predicted<br>
temperatures based on an ambient temperature and a<br>
plurality of input energies provided to the plurality of<br>
print head elements during at least one previous print<br>
head cycle.<br>
28. The method as claimed in claim 26, wherein the step (i),<br>
comprises a step of developing the plurality of predicted<br>
temperatures based on a plurality of previous predicted<br>
temperatures for the plurality of print head elements.<br>
29. The method as claimed in claim 26, wherein the step (i),<br>
comprises a step of developing, for each of the plurality<br>
of print head elements, a predicted temperature based on a<br>
predicted temperature of at least one of the other print<br>
head elements at the beginning of at least one previous<br>
print head cycle.<br>
30. The method as claimed in claim 26, which involves a step of:<br>
(iii) defining a three-dimensional grid having an i<br>
axis, an n axis, and a j axis, wherein the three-<br>
dimensional grid comprises a plurality of resolutions,<br>
wherein each of the plurality of resolutions defines a<br>
plane having a distinct coordinate on the i axis, wherein<br>
each of the plurality of resolutions comprises a distinct<br>
two-dimensional grid of reference points, and wherein any<br>
one of the reference points in the three-dimensional grid<br>
may be uniquely referenced by its i, n, and j ccordinates;<br>
wherein associated with each of the reference points<br>
in the three-dimensional grid is an absolute temperature<br>
value and an energy value;<br>
wherein the absolute temperature value associated<br>
with a reference point having coordinates (0,n,j)<br>
corresponds to a predicted temperature of a print head<br>
element at location j at the beginning of time interval n,<br>
and wherein the energy value associated with the reference<br>
point having coordinates (0,n,j) corresponds to an amount<br>
of input energy to provide to the print head element at<br>
location j during time interval n; and wherein the step<br>
(ii) comprises a step of:<br>
developing the plurality of input energies by<br>
developing energy values associated with a plurality of<br>
reference points having an i coordinate of zero based on<br>
the plurality of output densities and the absolute<br>
temperature values associated with the plurality of<br>
reference points having an i coordinate of zero.<br>
31. The method as claimed in claim 30, which involves steps of :<br>
(iv) calculating relative temperature values using the<br>
following equations:<br><br>
in which T(i)(n,j) refers.to a relative temperature<br>
value associated with a reference point having coordinates<br>
(i,n, j) ;<br>
(v) calculating absolute temperature values using the<br>
following recursive equation:<br><br>
for i = nresolutions - 1, nrcsolutions ... 2,..., 0;<br>
with initial conditions specified by:<br><br>
wherein nresolutions is the number of resolutions in<br>
the three-dimensional grid, Ts is an ambient; temperature,<br>
Ta(i)(n,j) refers to an absolute temperature value associated<br>
with a reference point having coordinates (i,n,j), and I(i)(i=1)<br>
is an interpolation operator from resolution i-i-1 to<br>
resolution i; and wherein the step of developing the plurality of input energies in step (ii)<br>
comprises a step of :<br>
calculating the plurality of input energies using the<br>
following recursive equation:<br>
 for i = 1, 2,..., nresolutions -<br>
1;<br>
with initial conditions specified by<br><br>
wherein G(d(n,j)) relates the desired output density d<br>
to an uncorrected input energy ET, Ta(0)(n,j) is an absolute<br>
temperature value associated with a reference point having<br>
coordinates (0,n,j), and S(d(n,j)) is a the slope of the<br>
temperature dependence of G(d(n,j)).<br>
32. The method as claimed in claim 31, which involves a step<br>
of providing the plurality of input energies E(0)(n,j) to<br>
the plurality of print head elements during each time<br>
interval n.<br>
33. The method as claimed in claim 26, wherein the steps (i) and<br>
(ii) are performed during a single print head cycle of the<br>
thermal printer.<br>
34. A thermal printer comprising:<br>
a print head including a plurality of print head<br>
elements; and<br>
means for developing, for each of a plurality of<br>
print head cycles, a plurality of input energies to be<br>
provided to the plurality of print head elements during<br>
the print head cycle to produce a plurality of output<br>
densities, the means for developing the plurality of input<br>
energies comprising:<br>
first means for using a multi-resolution heat<br>
propagation model to develop, for each of the plurality of<br>
print head cycles, a plurality of predicted temperatures<br>
of the plurality of print head elements at the beginning<br>
of the print head cycle; and<br>
second means for using an inverse media model to<br>
develop the plurality of input energies based on the<br>
plurality of predicted temperatures and a plurality of<br>
densities to be output by the plurality of print head<br>
elements during the print head cycle.<br>
35. The thermal printer as claimed in claim 34, wherein the<br>
first means comprises means for developing the plurality<br>
of predicted temperatures based on an ambient temperature<br>
and a plurality of input energies provided to the<br>
plurality of print head elements during at least one<br>
previous print head cycle.<br>
36. The thermal printer as claimed in claim 34, wherein the<br>
first means comprises means for developing the plurality<br>
of predicted temperatures based on a plurality of previous<br>
predicted temperatures for the plurality of print head<br>
elements.<br>
37. The thermal printer as claimed in claim 34, wherein the<br>
first means comprises means for developing, for each of<br>
the plurality of print head elements, a predicted<br>
temperature based on a predicted temperature of at least<br>
one of the other print head elements at the beginning of<br>
at least one previous print head cycle.<br>
38. The thermal printer as claimed in claim 34, which is provided<br>
with, means for defining a three-dimensional grid having an<br>
i axis, an n axis, and a j axis, wherein the three-<br>
dimensional grid comprises a plurality of resolutions,<br>
wherein each of the plurality of resolutions defines a<br>
plane having a distinct coordinate on the i axis, wherein<br>
each of the plurality of resolutions comprises a distinct<br>
two-dimensional grid of reference points, and wherein any<br>
one of the reference points in the three-dimensional grid<br>
may be uniquely referenced by its i, n, and j coordinates;<br>
wherein associated with each of the reference points<br>
in the three-dimensional grid is an absolute temperature<br>
value and an energy value;<br>
wherein the absolute temperature value associated<br>
with a reference point having coordinates (0,n,j)<br>
corresponds to a predicted temperature of a print head<br>
element at location j at the beginning of time interval n,<br><br>
and wherein the energy value associated with the reference<br>
point having coordinates {0,n,j) corresponds- to an amount<br>
of input energy to provide to the print head element at<br>
location j during time interval n; and wherein the second<br>
means comprises:<br>
means for developing the plurality of input energies<br>
by developing energy values associated with a plurality of<br>
reference points having an i coordinate of zero based on<br>
the plurality of output densities and the absolute<br>
temperature values associated with the plurality of<br>
reference points having an i coordinate of zero.<br>
39. The thermal printer as claimed in claim 38, having :<br>
means for calculating relative temperature values<br>
using the following equations:<br><br>
in which T(i)(n,j) refers to a relative temperature<br>
value associated with a reference point having coordinates<br>
(i,n, j) ;<br>
means for calculating absolute temperature values<br>
using the following recursive equation:<br><br>
for i = nresolutions - 1, nresolutions - 2,..., 0;<br>
with initial conditions specified by:<br><br>
wherein nzresolutions is the number of resolutions in<br>
the three-dimensional grid, Ts is an ambient temperature,<br>
Ta(i}(n,j) refers to an absolute temperature value associated<br>
with a reference point having coordinates (i,n,j), and <br>
is an interpolation operator from resolution i+1 to<br>
resolution i; and wherein the second means comprises:<br>
means for calculating the plurality of input energies<br>
using the following recursive equation:<br>
 for i = 1, 2,..., nresolutions -<br>
1;<br>
with initial conditions specified by<br><br>
wherein G(d(n,j)) relates the desired output density d<br>
to an uncorrected input energy ET, Ta(0)(n,j) is an absolute<br>
temperature value associated with a reference point having<br>
coordinates (O,n,j), and S(d(n,j)) is the slope of the<br>
temperature dependence of G(d(n,J)).<br>
40. The thermal printer as claimed in claim 39,<br>
having means for providing the plurality of input<br>
energies Em(n,j) to the plurality of print head elements<br>
during each time interval n.<br>
41. A method for developing an input energy to<br>
provide to a print head element in a print head of a<br>
thermal printer to produce output having a desired<br>
density, the method comprising steps of:<br>
(i) developing an uncorrected energy using a first<br>
function that has the desired density as an input and<br>
the uncorrected energy as an output;<br>
(ii) developing a correction factor using a correction<br>
function that has the desired density and a<br>
temperature of the print head element as inputs and<br>
the correction factor as an output; and<br>
(iii) modifying the uncorrected energy using the<br>
correction factor to produce the input energy.<br>
42. The method as claimed in claim 41, wherein the step (iii)<br>
comprises a step.of adding the correction factor to the<br>
uncorrected energy.<br>
43. The method as claimed in claim 41, wherein the temperature<br>
of the print head element comprises a predicted<br>
temperature of the print head element.<br>
44. The method as claimed in claim 41, wherein the step (ii) comprises<br>
steps of:<br>
developing a sensitivity value using a<br>
sensitivity function that has the desired density as an<br>
input and the sensitivity value as an output; and<br>
multiplying the sensitivity value by the<br>
temperature of the print head element to produce the<br>
correction factor.<br>
45. The method as claimed in claim 41, wherein the step (ii) comprises<br>
steps of :<br>
developing a sensitivity value using a<br>
sensitivity function that has the desired density as an<br>
input and the sensitivity value as an output;<br>
developing a temperature difference value by<br>
subtracting a reference temperature from a temperature of<br>
the print head element; and<br>
multiplying the sensitivity value by the<br>
temperature difference value to produce the correction<br>
factor.<br>
46. The method as claimed in claim 45, wherein the first<br>
function comprises an inverse of a gamma function, wherein<br>
the gamma function takes as an input an energy and<br>
produces as an output a density produced by the print head<br>
element when provided with the energy, wherein a reference<br>
temperature function takes as an input a density and<br>
produces as an output a temperature of the print head<br>
element when the print head element produced the density<br>
during measurement of the gamma function, and wherein the<br>
step of developing a temperature difference value comprises the steps of:<br>
developing a reference temperature value as the<br>
output of the reference temperature function with the<br>
desired density as the input; and<br>
developing the temperature difference value by<br>
subtracting the reference temperature value from a<br>
temperature of the print head element.<br>
47. The method as claimed in claim 41, wherein the steps<br>
(i), (ii) and (iii) are performed during a single print head<br><br>
cycle of the thermal printer.<br>
48. A thermal printer comprising:<br>
a print head including a print head element; and<br>
means for developing an input energy to provide to<br>
the print head element in a print head of a thermal<br>
printer to produce output having a desired density, the<br>
means for developing the input energy comprising:<br>
means for developing an uncorrected energy using a<br>
first function that has the desired density as an input<br>
and the uncorrected energy as an output;<br>
means for developing a correction factor using a<br>
correction function that has the desired density and a<br>
temperature of the print head element as inputs and the<br>
correction factor as an output; and<br>
means for modifying the uncorrected energy using the<br>
correction factor to produce the input, energy.<br>
49. The thermal printer as claimed in claim 48, wherein the<br>
means for modifying the uncorrected energy comprises means<br>
for adding the correction factor to the uncorrected<br>
energy.<br>
50. The thermal printer as claimed claimed in claim 48, wherein the<br>
temperature of the print head element comprises a<br>
predicted temperature of the print head element.<br>
51. The thermal printer as claimed in claim 48, wherein the<br>
means for developing the correction factor comprises:<br>
means for developing a sensitivity value using a<br>
sensitivity function that has the desired density as an<br>
input and the sensitivity value as an output; and<br>
means for multiplying the sensitivity value by the<br>
temperature of the print head element to produce the<br>
correction factor.<br>
52. The thermal printer as claimed in claim 48,. wherein the<br>
means for developing the correction factor comprises:<br>
means for developing a sensitivity value using a<br>
sensitivity function that has the desired density as an<br>
input and the sensitivity value as an output;<br>
means for developing a temperature difference value<br>
by subtracting a reference temperature from a temperature<br>
of the print head element; and<br>
means for multiplying the sensitivity value by the<br>
temperature difference value to produce the correction<br>
factor.<br>
53. The thermal printer as claimed in claim 52,. wherein the<br>
first function comprises an inverse of a gamma function,<br>
wherein the gamma function takes as an input an energy and<br>
produces as an output a density produced by the print head<br>
element when provided with the energy, wherein a reference<br>
temperature function takes as an input a density and<br>
produces as an output a temperature of the print head<br>
element when the print head element produced, the density<br>
during measurement of the gamma function, and wherein the<br>
means for developing the temperature difference value<br>
comprises:<br>
means for developing the reference temperature value<br>
as the output of the reference temperature function with<br>
the desired density as the input; and<br>
means for developing the temperature difference value<br>
by subtracting the reference temperature value from a<br>
temperature of the print head element.<br>
A model of a thermal print head is provided that models the thermal response of thermal print head elements to the<br>
provision of energy to the print head elements over time. The thermal print head model generates predictions of the temperature of<br>
each of the thermal print head elements at the beginning of each print head cycle based on: (1) the current ambient temperature of<br>
the thermal print head, (2) the thermal history of the print head, and (3) the energy history of the print head. The amount of energy to<br>
provide to each of the print head elements during a print head cycle to produce a spot having the desired density is calculated based<br>
on: (1) the desired density to be produced by the print head element during the print head cycle, and (2) the predicted temperature<br>
of the print head element at the beginning of the print head cycle.</td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
		<br>
		<div class="pull-left">
			<a href="225406-quinoline-oxy-phenoxy-propionil-acid.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="225408-electrode-for-biomedical-measurements.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>225407</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>00339/KOLNP/2004</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>46/2008</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>14-Nov-2008</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>12-Nov-2008</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>12-Mar-2004</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>POLAROID CORPORATION</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>1265 MAIN STREET, WALTHAM MA 02451</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>SAQUIB SUHAIL S</td>
											<td>33 TROWBRIDGE LANE, SHREWSBURY, MA 01545</td>
										</tr>
										<tr>
											<td>2</td>
											<td>VETTERLING WILLIAM T</td>
											<td>35 TURNING MILL ROAD LEXINTON, MA 02420</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>B41J 2/365, 2/36</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/US02/15406</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2002-05-16</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>09/934,703</td>
									<td>2001-08-22</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/225407-method-of-thermal-printing-and-thermal-printer-therefor by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2024 23:34:59 GMT -->
</html>
