<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/270163-system-for-monitoring-the-geometry-of-a-radiation-treatment-apparatus-trackable-assembly-program-product-and-related-methods by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 05:21:59 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 270163:SYSTEM FOR MONITORING THE GEOMETRY OF A RADIATION TREATMENT APPARATUS, TRACKABLE ASSEMBLY, PROGRAM PRODUCT, AND RELATED METHODS</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">SYSTEM FOR MONITORING THE GEOMETRY OF A RADIATION TREATMENT APPARATUS, TRACKABLE ASSEMBLY, PROGRAM PRODUCT, AND RELATED METHODS</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A system (30) to monitor a geometry of a treatment apparatus (31), an apparatus (51), a trackable assembly (43), program product (81), and methods are provided. The system (30) includes a treatment apparatus (31) having a radiation emitter (33), a rotating assembly (35) controlled by a controller (39), and an application computer (41), which provides treatment delivery instructions to the controller (39). The system (30) can also include a trackable assembly (43) connected to the rotating assembly (35) and having a fixedly connected first trackable body (45) which functions as a reference fixture and a pivotally connected second trackable body (49) which provides data used to determine a rotation angle of the rotating assembly (35). The sys...</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>SYSTEM FOR MONITORING THE GEOMETRY OF<br>
A RADIATION TREATMENT APPARATUS, TRACKABLE<br>
ASSEMBLY, PROGRAM PRODUCT, AND RELATED METHODS<br>
BACKGROUND OF THE INVENTION<br>
1.	Related Applications<br>
[0001] This application is related to U.S. Non-Provisional Application No.<br>
11/374,572, filed on March 10, 2006, which claims priority to and the benefit<br>
of U.S. Provisional Application No. 60/664,513, filed on March 23, 2005,<br>
10	incorporated herein by reference in their entirety.<br>
2.	Field of The Invention<br>
[0002] The present invention relates to patient therapy. More specifically, the<br>
present invention relates to a system, a trackable assembly, program product,<br>
and related methods for monitoring a geometry of a radiation treatment<br>
apparatus to verify the origin and directions of a coordinates system used<br>
during treatment plan delivery.<br>
2. Description of the Related Art<br>
[0003]	Radiation therapy can be effective in treating certain types of cancerous<br>
tumors, lesions, or other "targets." A vast majority of such targets can be<br>
eradicated completely if a sufficient radiation dose is delivered to the tumor or<br>
lesion volume. Complications, however, may result from use of the necessary<br>
effective radiation dose, due to damage to healthy tissue which surrounds the<br>
target, or to other healthy body organs located close to the target. The goal of<br>
various radiation procedures, such as conformal radiation therapy treatment,<br>
is to confine the delivered radiation dose to only the target volume defined by<br>
the outer surfaces of the target, while minimizing the dose of radiation to<br>
surrounding healthy tissue or adjacent healthy organs. If the effective<br>
radiation dose is not delivered to the proper location within the patient,<br>
serious complications may result.<br>
[0004]	Radiation therapy treatment typically uses a radiation delivery apparatus<br>
or device, such as a linear accelerator or other radiation producing source, to<br><br>
treat the target. For example, the conventional linear accelerator includes a<br>
rotating gantry which generally rotates about a horizontal axis and which has<br>
a radiation beam source positionable about the patient which can direct a<br>
radiation beam toward the target to be treated. The linear accelerator can also<br>
include a rotating treatment table which generally rotates about a vertical axis<br>
and which can position the target within a rotational plane of the rotating<br>
gantry. Various types of apparatus can further conform the shape of the<br>
radiation treatment beam to follow the spatial contour of the target as seen by<br>
the radiation treatment beam, from a linear accelerator, as it passes through<br>
the patient's body into the target during rotation of the radiation beam source.<br>
Multileaf collimators having multiple leaf or finger projections can be<br>
programmed to move individually into and out of the path of the radiation<br>
beam to shape the radiation beam.<br>
[0005] Various types of radiation treatment planning systems can create a radiation<br>
treatment plan, which, when implemented, will deliver a specified dose of<br>
radiation shaped to conform to the target volume, while limiting the radiation<br>
dose delivered to sensitive surrounding healthy tissue or adjacent healthy<br>
organs or structures. Typically, the patient has the radiation therapy treatment<br>
plan prepared, based upon a diagnostic study through the use of computerized<br>
	tomographic ("CT") scanning, magnetic resonance ("MR") imaging, or<br>
conventional simulation films, which are plain x-rays generated with the<br>
patient, and thus, the patient's tumor or lesion in the position which will be<br>
used during the radiation therapy treatment.<br>
[0006] Regardless of which radiation generating apparatus or technique is used at the<br>
	time of the diagnostic study to develop the radiation therapy treatment plan, in<br>
the delivery of either conformal radiation therapy treatments or static<br>
radiation therapy treatments, etc., the position of the target with respect to the<br>
radiation delivery apparatus is very important. Successful radiation therapy<br>
depends on accurately placing the radiation beam in the proper position upon<br>
the target. Thus, it is necessary to relate the position of the target at the time<br>
of the diagnostic study to how the target will be positioned at the time of the<br>
radiation therapy treatment. It is also necessary to maintain an alignment<br>
between the radiation delivery apparatus and the target throughout the<br>
-2-<br><br>
delivery of the radiation therapy. If this positional relationship is not correct,<br>
the radiation dose may not be delivered to the correct location within the<br>
patient's body, possibly under treating the target tumor or lesion and<br>
damaging healthy surrounding tissue and organs.<br>
 [0007] Placement of the radiation beams in the proper juxtaposition with the patient<br>
to be treated can be accomplished by referencing both the radiation beam and<br>
the patient position to a coordinate system referred to as the isocenter<br>
coordinate system, which is defined by the geometry of the radiation delivery<br>
apparatus. In the linear accelerator example, the gantry, the treatment table,<br>
and collimator each have axes of rotation designed to intersect at a specific<br>
location in the middle of a treatment room, referred to as the isocenter, an<br>
origin of an interesting coordinate system of the treatment room,<br>
correspondingly referred to as the isocenter coordinate system. The isocenter<br>
coordinate system is nominally defined as horizontal (x-axis), vertical (z-<br>
axis), and co-linear with the axis of gantry rotation (y-axis). The isocenter of<br>
these three axis of interest is determined and used as a reference "point" to<br>
orient the target to the radiation treatment plan during treatment plan<br>
development and subsequent radiation delivery.<br>
[0008] In order to deliver the radiation therapy in accordance with the radiation plan,<br>
the position of the patient is adjusted to dispose the target at the isocenter of<br>
the linear accelerator. In general, the patient is positioned on the treatment<br>
table of the radiation delivery apparatus to conform to the position used<br>
during formulation of the treatment plan. The treatment table is further<br>
rotated to then dispose the target at the isocenter to align the view of the target<br>
with that view expected by the collimator or other radiation delivery<br>
apparatus of the linear accelerator, according to the radiation treatment plan.<br>
The treatment table is then locked in place, and the patient is immobilized so<br>
that the radiation therapy treatment can be started.<br>
[0009] Also, in the linear accelerator example, the isocenter of gantry rotation is the<br>
point where the radiation beams from the collimator intersect as the gantry of<br>
the linear accelerator carrying the radiation beam source rotates around the<br>
target in the patient. There are various methodologies of determining the<br>
location of this isocenter. For example, one methodology of determining the<br>
-3-<br><br>
isocenter of gantry rotation includes attaching to the gantry a marking device,<br>
such as a long rod holding a marking implement, positioning a vertically<br>
oriented sheet of receiving material, such as paper, adjacent the marking<br>
device. The gantry is then rotated to form an arc or a circle on the receiving<br>
material. The operator can then examine the arc or circle to determine the<br>
origin of the circle, which relates to the isocenter. Also for example, the<br>
operator can actually deploy the radiation beam in order to measure the<br>
direction of the radiation beam during rotation of the gantry. Other physical<br>
measurements can also be taken to help the operator determine an<br>
approximate location of the isocenter. For example, described in co-pending<br>
Application Number 11/005,643, by Scherch et al., entitled "System for<br>
Analyzing the Geometry of a Radiation Treatment Apparatus, Software and<br>
Related Methods," incorporated by reference, is a system, apparatus, software<br>
and methods that can measure the rotation of various components of the<br>
mechanical system of the radiation treatment apparatus or device to determine<br>
the location of the radiation beam and the positioning of the patient in order to<br>
precisely define the isocenter coordinate system used by the operator.<br>
[00010] Regardless of the methodology used to determine isocenter, once the<br>
isocenter coordinate system has been determined, the radiation beam<br>
arrangement and patient positioning can be referenced to the isocenter.<br>
Lasers, typically mounted on the wall of the treatment room, are then pointed<br>
or directed to cross at the isocenter to identify the location of the isocenter.<br>
[00011] Recognized by the Applicants, however, is that the above described<br>
methodologies of determining isocenter generally do not account for<br>
continuing degradation of the gantry during the actual delivery of the<br>
radiation treatment. Also, existing systems, which indicate to the operator the<br>
position of the isocenter coordinate system, i.e., the above described lasers,<br>
are not accessible during the course of the radiation treatment. Therefore,<br>
many systems must rely on the accuracy of a calibrated tracking system to<br>
reliably indicate the isocenter coordinate system during radiation delivery.<br>
Also recognized, however, is that these systems are vulnerable to inadvertent<br>
changes in that calibrated position.<br>
-4-<br><br>
[00012] Specifically, the "camera" of the optical tracking system is typically<br>
structurally removed from the gantry by a great distance and fixedly<br>
connected to a wall or ceiling mount. This "rigid mounting" of the camera<br>
may actually move around relative to isocenter. Even slight movements in<br>
the camera mounting can have a significant effect on the accuracy of the<br>
optical tracking system, due to the great distance between itself and the<br>
isocenter, and thus, the optical tracking system requires a specific pre-<br>
operation "morning" quality assurance examination to determine if any such<br>
changes have occurred.<br>
[00013] Thus, also recognized by the Applicants is the need for a system, an assembly,<br>
program product, and related methods for continuously monitoring a<br>
geometry of a treatment apparatus or device during treatment to continuously<br>
verify the origin and orientation of a coordinate system used by the tracking<br>
system or device to reference the radiation beam and the patient position to<br>
accurately place a radiation beam in a proper juxtaposition with the patient<br>
being treated.<br>
SUMMARY OF THE INVENTION<br>
[00014] In view of the foregoing, embodiments of the present invention<br>
advantageously provide a system, trackable assembly, program product, and<br>
methods related to monitoring a geometry of an apparatus of having at least<br>
one rotating assembly. Embodiments of the present invention advantageously<br>
provide a system, trackable assembly, program product, and methods related<br>
to monitoring a geometry of a radiation treatment or generating apparatus to<br>
verify the origin and directions of a coordinates system used during patient<br>
treatment delivery to reference radiation beam and patient positioning.<br>
Advantageously, embodiments of the present invention include a system,<br>
trackable assembly, program product, and methods that can also monitor the<br>
rotation of various rotating assemblies of a mechanical system of the<br>
treatment apparatus during radiation delivery to continuously verify the origin<br>
(isocenter) and orientation of the isocenter coordinate system used to<br>
reference radiation beam and patient positioning. This information can be<br>
used to calibrate the treatment plan to the isocenter coordinate system used by<br>
-5-<br><br>
the operator so that a treatment plan can be more accurately applied.<br>
Advantageously, embodiments of the present invention also provide a system<br>
including a trackable assembly, program product, and methods that can<br>
measure three-dimensional points in space at locations along the maximum<br>
rotational arc or path of a rotating assembly of the treatment apparatus, such<br>
as, a rotating gantry assembly. These measurements can be used to adapt the<br>
planned radiation treatment to improve its accuracy and efficiency.<br>
Advantageously, analyzed and indicated can be imperfections in the<br>
mechanical system of the radiation treatment apparatus which might normally<br>
be ignored or misinterpreted during radiation delivery.<br>
[00015] Generally, embodiments of the present invention provide a system that<br>
includes a treatment apparatus, typically in the form of a linear accelerator,<br>
having a radiation emitter, at least one rotating assembly controlled by a<br>
controller, and an application computer which provides treatment delivery<br>
instructions to the controller. The system also includes a trackable assembly<br>
connected to a rotating assembly. The trackable assembly includes a fixedly<br>
connected first trackable body, having a plurality of indicators positioned<br>
thereon, which functions as a reference fixture, and can include a pivotally<br>
connected second trackable body, also having a plurality of indicators<br>
positioned thereon, which provides data used to determine rotation angle of<br>
the rotating assembly. The system also includes an apparatus to track a<br>
trackable body hereinafter referred to as a "trackable body tracking<br>
apparatus," which includes a trackable body detector provided to detect a<br>
position of the indicators, and a determiner in communication with the<br>
trackable body detector to determine the position and orientation of the first<br>
and the second trackable bodies, to thereby determine the location and<br>
orientation of the origin of a coordinate system, used by a therapist, and<br>
referred to as the isocenter of an isocenter coordinate system, and to thereby<br>
determine rotational path data about the rotating assembly.<br>
[00016] More specifically, in an embodiment of the present invention, the system<br>
includes an apparatus, preferably in the form of a radiation treatment<br>
apparatus which delivers radiation to a target in a patient. An application<br>
computer having memory associated therewith and a treatment plan stored in<br>
-6-<br><br>
the memory provides treatment delivery instructions to the treatment<br>
apparatus. The treatment apparatus has the radiation emitter positioned to<br>
emit a radiation beam having a beam axis, a controller to control delivery of<br>
the radiation beam to the patient, and a rotating assembly having a rotational<br>
path in a distinct plane and an axis of rotation functioning to direct the<br>
radiation beam through a target of a patient in accordance with signals from<br>
the controller. The axis of rotation of the rotating assembly generally<br>
intersects with the beam axis at a three-dimensional coordinate, which defines<br>
the isocenter or origin of the isocenter coordinate system of the treatment<br>
apparatus.<br>
[00017] The system includes a trackable body tracking apparatus including a<br>
preferably optical trackable body detector or camera subsystem and a<br>
determiner. The trackable body detector includes a detector body positioned<br>
spaced apart from the treatment apparatus and a trackable assembly. A<br>
trackable assembly is positioned to be viewed/detected by the trackable body<br>
detector. The trackable assembly includes a first trackable body fixedly<br>
connected to a preselected portion of the rotating assembly at a predetermined<br>
offset position relative to a predetermined three-dimensional coordinate<br>
system definition of the three-dimensional coordinate position of the isocenter<br>
and along the rotational path of the rotating assembly. The first trackable<br>
body has a plurality of separate and spaced-apart indicators each connected at<br>
a separate preselected position thereon to indicate to the trackable body<br>
detector separate three-dimensional coordinate positions of each indicator of<br>
the plurality of indicators. Correspondingly, the trackable body detector has a<br>
receiver positioned to receive energy to thereby detect three-dimensional<br>
positions and to produce a plurality of position signals indicating three-<br>
dimensional coordinate positions of the trackable assembly indicators. The<br>
indicators are preferably in the form of passive indicators such as, for<br>
example, retro-reflective spheres which advantageously provide upwards of a<br>
180 degree reflective field of view and decrease inherent wiring requirements<br>
associated with active indicators. In such configuration, the trackable body<br>
detector also includes an emitter to energize the indicators.<br>
-7-<br><br>
[00018] The determiner, in communication with the trackable body detector and<br>
responsive to the plurality of position signals produced by the detector, can<br>
determine (in trackable body detector/camera space) the three-dimensional<br>
coordinate position of the isocenter and/or orientation of the isocenter<br>
coordinate system with reference to the first trackable body through use of a<br>
predetermined transform matrix stored in the memory of the determiner can<br>
provide or indicate a transform (magnitude, direction, and rotation) between a<br>
predetermined or preselected trackable body reference coordinate system (i.e.<br>
position and orientation) of first trackable body and a predetermined isocenter<br>
coordinate system (i.e. physical three-dimensional coordinate position of the<br>
isocenter and orientation of the isocenter coordinate system). The trackable<br>
body detector can detect the first trackable body and the determiner can<br>
determine a separate transform matrix between the trackable body detector<br>
coordinate system and the first trackable body coordinate system. Having a<br>
chain of transformation matrices, the determiner can thus transform the three-<br>
dimensional coordinate system definition of the isocenter to detector/camera<br>
space. Note, the determination of the three-dimensional coordinate system<br>
definition of the isocenter in trackable body detector/camera space is<br>
generally referred to as calibrating the trackable body tracking apparatus to a<br>
location and orientation in space of the physical three-dimensional coordinate<br>
position of the isocenter.<br>
[00019] In an embodiment of the present invention, the determiner can also detect or<br>
determine a possible isocenter coordinate system definition failure (described<br>
later), when so existing. In this embodiment, the trackable body detector is<br>
fixedly mounted or immobilized and can function as a reference fixture. The<br>
trackable body detector is assigned a trackable body tracking apparatus<br>
coordinate system having a fixed relationship with the trackable body detector<br>
defining a trackable body detector offset position. To detect or determine the<br>
possible isocenter coordinate system definition failure, the determiner can<br>
determine the three-dimensional coordinate system definition of the isocenter<br>
with reference to the trackable body detector, rather than the first trackable<br>
body, through use of a predetermined transform matrix stored in the memory<br>
of the determiner which provides or indicates a transform between a trackable<br>
-8-<br><br>
body detector reference coordinate system and the predetermined isocenter<br>
coordinate system. The separately determined three-dimensional coordinate<br>
system definitions of the isocenter can then be compared, whereby a<br>
substantial difference indicates a possible isocenter coordinate system<br>
definition failure.<br>
[00020] As an alternative methodology of detecting or determining a possible<br>
isocenter coordinate system definition failure, in an embodiment of the<br>
present invention, the determiner can determine a plurality of sampled three-<br>
dimensional coordinate first trackable body positions along the rotational path<br>
of the rotating assembly. The determined positions provide current rotational<br>
path data that can be compared to a predetermined rotational path of the<br>
rotating assembly stored in the memory of the determiner. A possible<br>
isocenter coordinate system definition failure is indicated if either of the<br>
plurality of determined first trackable body positions substantially deviate<br>
from a position substantially coincident with the predetermined rotational<br>
path of the rotating assembly.<br>
[00021] The first trackable body, being connected to a rotating assembly, by its nature,<br>
can generally only be used to produce a reference to the isocenter coordinate<br>
system having coordinate system axes oriented relative to the orientation of<br>
the first trackable body, which, in the above described configuration, is<br>
variable. Thus, advantageously, in an embodiment of the present invention,<br>
the trackable assembly can also include a second trackable body which can be<br>
utilized to determine or to correct the relative orientation of the isocenter<br>
coordinate system determined with reference to the first trackable body. This<br>
is generally required when the rotating assembly is rotated off an initial<br>
reference position. To this end, the second trackable body has a proximal<br>
body end portion pivotally connected to or adjacent the first trackable<br>
(preferably flat) body, a free-moving distal body end portion, a medial body<br>
portion connected to and extending between the proximal body end portion<br>
and the distal body end portion. The medial body portion has a plurality of<br>
separate and spaced-apart indicators each connected at a separate preselected<br>
position, of the second trackable body also to indicate to the trackable body<br>
detector a three-dimensional coordinate position of each indicator. The<br>
-9-<br><br>
proximal and distal end configuration preferably provides a pendulum-type<br>
action which, responsive to gravity, allows the second trackable body to<br>
maintain a constant orientation which can be used by the determiner as a<br>
reference orientation. This reference orientation allows the determiner to<br>
correct the orientation of isocenter coordinate system determined with<br>
reference to the first trackable body resulting from a rotational error existing<br>
when the rotating assembly carrying the trackable assembly is rotated.<br>
[00022] To determine the orientation of the isocenter coordinate system, the<br>
determiner first determines the orientations of the first and second trackable<br>
bodies, respectively. The determiner can then determine the rotation angle of<br>
the first trackable body, which relates to the rotational position of the rotating<br>
assembly from an initial reference position. This can be accomplished by<br>
determining an angular difference in orientation between the first and the<br>
second trackable trackable bodies. The correct orientation of the isocenter<br>
coordinate system can be determined by conceptually rotating the reference<br>
orientation of the isocenter coordinate system, determined from the first<br>
trackable body, by an amount related to the angular difference between the<br>
respective orientations of the first and the second trackable bodies. Thus,<br>
advantageously an accurate reference orientation (and position) of the<br>
isocenter coordinate system is provided using the same predetermined<br>
transform matrix regardless of the rotational orientation of the first trackable<br>
body, which can vary due to rotation of the rotating assembly for which the<br>
trackable assembly is connected.<br>
[00023] The function of the determiner can be implemented in hardware and/or<br>
software/program product. In the preferred embodiment of the present<br>
invention, however, the function of the determiner is implemented almost<br>
entirely in software/program product either preloaded in memory of the<br>
determiner or contained on separate storage media. Correspondingly, the<br>
system can further include a program product, such as geometry analyzing<br>
program product, to analyze treatment apparatus geometry. The geometry<br>
analyzing program product includes a trackable body position determiner, that<br>
is adapted to receive and is responsive to the plurality of position signals<br>
produced by a trackable body detector which indicate a separate three-<br>
	-10-<br><br>
dimensional coordinate position of a plurality of separate and spaced-apart<br>
trackable indicators connected to a first trackable body. The trackable body<br>
position determiner determines a three-dimensional coordinate trackable body<br>
position of the first trackable body. An isocenter position determiner,<br>
determines a first three-dimensional coordinate position of the isocenter in<br>
response to the determined three-dimensional coordinate position of the first<br>
trackable body and a first predetermined transform matrix indicating a<br>
transform between a predetermined first trackable body reference coordinate<br>
system and a predetermined isocenter coordinate system of the treatment<br>
apparatus.<br>
[00024] In an embodiment of the present invention having the previously described<br>
second trackable body, the orientation of the isocenter coordinate system can<br>
also be determined. A trackable body orientation determiner, responsive to<br>
the plurality of position signals produced by the trackable body detector, can<br>
determine a first trackable body orientation of the first trackable body and a<br>
second trackable body orientation of the second trackable body. An isocenter<br>
orientation determiner, responsive to the first and the second trackable body<br>
orientations can then determine the angular difference between the orientation<br>
of the first and the second trackable bodies. The angular difference indicates<br>
an angle of rotation of the rotating assembly, utilized to determine the three-<br>
dimensional orientation of the isocenter coordinate system. Thus,<br>
advantageously, the geometry analyzing program product provides for<br>
determining both the position of the isocenter and the orientation of the<br>
isocenter coordinate system independent of the angle of rotation of the<br>
rotating assembly, using the same predetermined transform matrix.<br>
[00025] The geometry analyzing program product also includes a deviation detector,<br>
responsive to either of the trackable body position determiner or the isocenter<br>
position or both, to detect a deviation in the geometry of the rotating<br>
assembly, when so existing. Such deviation indicates a possible isocenter<br>
coordinate system definition failure. A deviation responder, responsive to<br>
detection of the deviation, correspondingly can respond to such deviation<br>
during application of the treatment plan by signaling an existence of the<br>
possible isocenter coordinate system definition failure.<br>
-11-<br><br>
[00026] More specifically, in an embodiment of the present invention, the isocenter<br>
position determiner, can determine a second three-dimensional coordinate<br>
position of the isocenter with reference to a fixed trackable body detector<br>
offset position through use of a second predetermined transform matrix<br>
indicating a transform between a trackable body detector reference coordinate<br>
system for the trackable body detector and the predetermined isocenter<br>
coordinate system of the treatment apparatus. This trackable body detector<br>
reference coordinate system including reference offset position is preferably<br>
assigned to a portion of the body of the trackable body detector but can be<br>
instead assigned to a separate fixedly mounted fixture. In this embodiment,<br>
the deviation detector includes an isocenter comparator, which, responsive to<br>
the first and the second determined three-dimensional coordinate positions of<br>
the isocenter, compares the first and the second three-dimensional coordinate<br>
positions of the isocenter. A substantial difference between the first and the<br>
second determined three-dimensional coordinate positions of the isocenter<br>
indicates a possible isocenter coordinate system definition failure.<br>
Additionally, the isocenter comparator, responsive to the first and the second<br>
determined orientations of the isocenter coordinate system, can also compare<br>
the first and the second orientations of the isocenter coordinate system. A<br>
substantial difference between the first and the second determined<br>
orientations of the isocenter coordinate system correspondingly can also<br>
indicate a possible isocenter coordinate system definition failure.<br>
[00027] In an alternate embodiment of the present invention, the trackable body<br>
position determiner determines a plurality of first trackable body positions<br>
located along the rotational path of the rotating assembly. In this<br>
embodiment, the deviation detector includes a rotational path comparator,<br>
which, responsive to the plurality of determined three-dimensional coordinate<br>
trackable body positions and a predetermined rotational path of the rotating<br>
assembly, determines if either of the plurality of determined first trackable<br>
body positions substantially deviate from a position substantially coincident<br>
with the predetermined rotational path of the rotating assembly. Such<br>
deviation also can indicate a possible isocenter coordinate system definition<br>
failure.<br>
-12-<br><br>
[00028] Embodiments of the present invention also include a computer readable<br>
medium that is readable by a computer to monitor a geometry of an apparatus<br>
having one or more rotating assemblies, such as, for example, a patient<br>
treatment apparatus. Advantageously, the monitoring can be accomplished<br>
during testing of the apparatus or "on the fly" during patient treatment<br>
delivery, without the necessity of interrupting the treatment delivery. For<br>
example, in an embodiment of the present invention the computer readable<br>
medium includes a program product that comprises a set of instructions that,<br>
when executed by the computer, cause the computer to perform the operations<br>
of: receiving a plurality of position signals produced by a trackable body<br>
detector, the signals indicating a separate three-dimensional coordinate<br>
position of a plurality of preferably optically trackable indicators connected<br>
respectively to a trackable body, which is connected to the rotating assembly<br>
along its rotational path. The instructions also include those to perform the<br>
operations of: determining, from the plurality of position signals, a three-<br>
dimensional coordinate trackable body position of the trackable body;<br>
receiving a predetermined transform matrix indicating a transform between a<br>
predetermined trackable body reference coordinate system and a<br>
predetermined isocenter coordinate system of the treatment apparatus; and<br>
responsive to the determined trackable body position and the predetermined<br>
transform matrix, determining a respective three-dimensional coordinate<br>
position of the isocenter of the apparatus.<br>
[00029] Advantageously, a second trackable body can be connected to the rotating<br>
assembly. The second trackable body also has a plurality of separate and<br>
spaced-apart trackable indicators. The second trackable body advantageously<br>
can maintain a generally constant orientation to provide a preferably vertical<br>
reference orientation, useful in determining an orientation of the first and the<br>
second trackable bodies. In this embodiment of the present invention, the<br>
plurality of position signals produced by the trackable body detector can also<br>
indicate separate three-dimensional coordinate positions of the plurality of<br>
separate and spaced-apart trackable indicators connected to the second<br>
trackable body. Correspondingly, the instructions can also include those to<br>
perform the operation of determining from the position signals a first<br>
-13-<br><br>
trackable body orientation of the first trackable body and a corresponding<br>
second trackable body orientation of the second trackable body. Further,<br>
responsive to the first trackable body orientation and the corresponding<br>
second trackable body orientation, the instructions can include those to<br>
perform the operations of: determining an angular difference between the first<br>
and the second trackable body orientations indicating an angle of rotation of<br>
the rotating assembly; and determining, in response to the angle of rotation of<br>
the rotating assembly, a three-dimensional orientation of the isocenter<br>
coordinate system for the treatment apparatus independent of angle of rotation<br>
of the rotating assembly.<br>
[00030] The computer readable medium can also include a set of instructions that,<br>
when executed by the computer, cause the computer to perform the operations<br>
of: receiving a second predetermined transform matrix indicating a transform<br>
between a trackable body detector reference coordinate system for the<br>
trackable body detector and the predetermined isocenter coordinate system of<br>
the treatment apparatus; determining a second three-dimensional coordinate<br>
position of the isocenter referenced to a fixed trackable body detector offset<br>
position, responsive to the second predetermined transform matrix; and<br>
comparing the first and the second three-dimensional coordinate positions of<br>
the isocenter. A substantial difference between the first and the second<br>
determined three-dimensional coordinate positions of the isocenter can be<br>
indicative of a possible isocenter coordinate system definition failure.<br>
Advantageously, knowledge of a potential failure in the definition of the<br>
isocenter coordinate system can allow an operator of an apparatus such as, for<br>
example, a radiation treatment apparatus, to verify the functionality of the<br>
monitored rotating assembly.<br>
[00031] In an alternative embodiment of the present invention, the instructions can<br>
also include those to perform the operations of: receiving a data set defining a<br>
predetermined rotational path of the rotating assembly, to define a rotational<br>
path dataset; and responsive to the plurality of determined trackable body<br>
positions and the rotational path dataset, determining if the determined<br>
trackable body position or positions substantially deviate from a position<br>
substantially coincident with the predetermined rotational path of the rotating<br>
-14-<br><br>
assembly. Such deviation is indicative of a possible isocenter coordinate<br>
system definition failure. The instructions can also include those to perform<br>
the operation of determining, in response to the deviation, a corrected three-<br>
dimensional coordinate position of the isocenter and orientation of the<br>
isocenter coordinate system.<br>
[00032] In an embodiment of the present invention, the computer readable medium<br>
includes a set of instructions that, when executed by the computer, cause the<br>
computer to perform the operations of: receiving a plurality of position<br>
signals produced by a trackable body detector, the signals indicating a<br>
separate three-dimensional coordinate position of a plurality of separate and<br>
spaced-apart trackable indicators connected to a trackable body that is<br>
positioned along a rotational path of a rotating assembly; and responsive to<br>
the plurality of position signals, determining during patient treatment delivery<br>
a three-dimensional coordinate trackable body position of the trackable body.<br>
The instructions also include those to perform the operations of: receiving a<br>
predetermined transform matrix indicating a transform between a<br>
predetermined trackable body reference coordinate system and a<br>
predetermined isocenter coordinate system of the treatment apparatus; and<br>
responsive to the determined three-dimensional coordinate position of the<br>
trackable body and the predetermined transform matrix, determining a<br>
respective three-dimensional coordinate position of the isocenter. The<br>
instructions can further include those to perform the operations of: detecting a<br>
deviation in the geometry of the rotating assembly, when so existing, from the<br>
determined three-dimensional coordinate position of the isocenter, such<br>
deviation indicating a possible isocenter coordinate system definition failure;<br>
and responsive to detection of such deviation, responding to the deviation by<br>
signaling an existence of the potential isocenter coordinate system definition<br>
failure. Advantageously, such knowledge can allow an operator, during the<br>
radiation treatment delivery, to interrupt radiation treatment delivery to<br>
prevent either over treating or under treating a target tissue structure and to<br>
prevent excessive radiation delivery to a non-target tissue structure.<br>
[00033] Embodiments of the present invention also include a method of determining<br>
an isocenter of a treatment apparatus having at least one rotating assembly so<br>
	-15-<br><br>
that a treatment plan can be more accurately applied to a patient. For<br>
example, in an embodiment of the present invention, a method includes the<br>
step of determining a three-dimensional coordinate position of a first<br>
trackable body connected to a preselected portion of one of the rotating<br>
assemblies and located at a predetermined position offset relative to a<br>
predetermined (physical) three-dimensional coordinate position of an<br>
isocenter of the treatment apparatus. The first trackable body has a plurality<br>
of separate and spaced-apart indicators each connected at a separate<br>
preselected position on the first trackable body to indicate a separate three-<br>
dimensional coordinate position of each indicator of the plurality of<br>
indicators, so as to provide three-dimensional positional data of the first<br>
trackable body. Having determined the three-dimensional coordinate position<br>
of the first trackable body, the three-dimensional coordinate position of the<br>
isocenter can be determined by applying to the determined three-dimensional<br>
position of the first trackable body a predetermined transform matrix<br>
indicating a transform between a predetermined first trackable body reference<br>
coordinate system and a predetermined isocenter coordinate system<br>
positioned coincident with the physical three-dimensional coordinate position<br>
of the isocenter. Note, determining the three-dimensional coordinate system<br>
definition of the isocenter corresponding to the physical three-dimensional<br>
coordinate position of the isocenter is generally referred to as a "calibrating<br>
procedure."<br>
[00034] Because the first trackable body is connected to a rotating assembly, by its<br>
nature, it has an orientation that varies with the rotation of the rotating<br>
assembly. Correspondingly, the orientation of the isocenter coordinate system<br>
rotates along with the first trackable body relative to the non-rotating portions<br>
of the treatment apparatus and treatment room. The actual preselected<br>
orientation of the isocenter coordinate system, however, is fixed relative to<br>
the non-rotating portions of the treatment apparatus and treatment room.<br>
Thus, an embodiment of the present invention, advantageously, provides the<br>
operator the ability to determine the three-dimensional orientation of the<br>
isocenter coordinate system for the treatment apparatus, independent of angle<br>
of rotation of the rotating assembly. This can be accomplished by applying an<br>
-16-<br><br>
isocenter angular correction factor, which relates to an angle of rotation of the<br>
respective rotating assembly, to the determined three-dimensional orientation<br>
of the isocenter coordinate system.<br>
[00035] In order to determine the angle of rotation of the rotating assembly and the<br>
socenter correction factor, a second trackable body can be utilized. The<br>
second trackable body has a proximal body end portion pivotally connected to<br>
or adjacent the first trackable body and a free moving distal body end portion.<br>
A medial body portion is connected to and extends between the proximal<br>
body end portion and the distal body end portion. Having a pivotally<br>
connected proximal body end portion and a free-moving distal body end<br>
portion allows the second trackable body to maintain a substantially constant<br>
reference orientation. A second plurality of separate and spaced-apart<br>
indicators are each connected at a separate preselected position on the second<br>
trackable body to indicate a separate three-dimensional coordinate position of<br>
each indicator of the second plurality of indicators, to thereby provide second<br>
trackable body orientation data of the second trackable body.<br>
[00036] The angular rotation of the rotating assembly along with the isocenter angular<br>
correction factor can then be determined by first determining an orientation of<br>
both the first and the second trackable bodies and then comparing the<br>
orientations to ascertain the angular difference. By applying the isocenter<br>
angular correction factor to the determined three-dimensional orientation of<br>
the isocenter coordinate system, the orientation of the isocenter coordinate<br>
system can then be determined independent of angle of rotation of the rotating<br>
assembly.<br>
 [00037] Embodiments of the present invention also include methods of monitoring a<br>
geometry of a treatment apparatus having at least one rotating assembly so<br>
that a treatment plan can be more accurately applied to a patient. For<br>
example, in an embodiment of the present invention, the method includes the<br>
steps of: connecting a trackable body to a preselected portion of a rotating<br>
assembly located at a predetermined offset position relative to a<br>
predetermined three-dimensional coordinate position of an isocenter of the<br>
treatment apparatus; and detecting a deviation, when so existing, in the<br>
geometry of a rotating assembly of the treatment apparatus by analyzing and<br>
-17-<br><br>
35<br><br>
sampling at least one position of the trackable body along a rotational path of<br>
a rotating assembly to verify a definition of the isocenter coordinate system<br>
used by a trackable body tracking apparatus, determined with reference to the<br>
trackable body. The method also includes the step of responding to detection<br>
of the deviation, when so existing, during application of the treatment plan by<br>
signaling an existence of a potential isocenter coordinate system definition<br>
failure.<br>
[00038] More particularly, a deviation can be detected by determining a first<br>
determined three-dimensional coordinate position of the isocenter and/or<br>
orientation of the isocenter coordinate system referenced to the trackable<br>
body, determining a second three-dimensional coordinate position of the<br>
isocenter and/or orientation of the isocenter coordinate system referenced to a<br>
fixed trackable body detector offset position of a trackable body detector, and<br>
comparing the first and the second determined three-dimensional coordinate<br>
positions of the isocenter and/or determined first and second orientations of<br>
the isocenter coordinate system. A substantial difference between the first<br>
and the second determined three-dimensional coordinate positions of the<br>
isocenter or first and second determined orientations of the isocenter<br>
coordinate system is indicative of a possible isocenter coordinate system<br>
definition failure. Also, a deviation can be detected by determining a plurality<br>
of three-dimensional coordinate trackable body positions for the trackable<br>
body located along the rotational path of the rotating assembly, and<br>
comparing the determined three-dimensional coordinate trackable body<br>
positions to a predetermined rotational path of the rotating assembly. A<br>
substantial deviation of either of the plurality of determined three-dimensional<br>
coordinate trackable body positions from a position substantially coincident<br>
with the predetermined rotational path of the rotating assembly is indicative<br>
of a possible isocenter coordinate system definition failure.<br>
[00039] Advantageously, embodiments of the present invention may negate the<br>
requirement for a specific quality assurance check to determine if inadvertent<br>
changes have occurred in the calibrated position of a calibrated tracking<br>
system indicating the isocenter of the isocenter coordinate system. The<br>
embodiments of the present invention can utilize a trackable assembly which<br>
-18-<br><br>
can be fixedly positioned in relationship to a predetermined isocenter position<br>
to continuously indicate the location and orientation of the isocenter<br>
coordinate system. Conveniently, the trackable assembly can be mounted to<br>
the radiation delivery or treatment apparatus at a very near distance in relation<br>
to the physical isocenter position, making it viewable substantially throughout<br>
the treatment delivery. Advantageously, negated is the requirement for a<br>
stable or in any other way precisely calibrated camera or optical<br>
detection/tracking system or apparatus, the trackable assembly, rather than the<br>
camera or optical detection/tracking system or apparatus, can act as a fixture<br>
with respect to the physical isocenter position. Advantageously, however, in<br>
an embodiment of the present invention, when the trackable system or<br>
apparatus is precisely calibrated to the isocenter position, the system is<br>
overspecified, and provides the operator verification of the definition of the<br>
isocenter coordinate system. Advantageously, embodiments of the present<br>
invention can include multiple trackable bodies to provide for all six degrees<br>
of freedom of the various rotating assemblies and the patient target (e.g. target<br>
tumor) while indicating the location of the isocenter and orientation of the<br>
isocenter coordinate system. The continuous position and orientation<br>
availability, during radiation delivery, of the trackable assembly and/or other<br>
trackable bodies allows for continuous, instantaneous measurement and<br>
verification of the tracking system's definition of the isocenter and/or<br>
orientation of the isocenter coordinate system as well as the continuous,<br>
instantaneous verification of the position and orientation of all items being<br>
tracked.<br>
25<br>
BRIEF DESCRIPTION OF THE DRAWINGS<br>
[00040] So that the manner in which the features and advantages of the invention, as<br>
well as others which will become apparent, may be understood in more detail,<br>
a more particular description of the invention briefly summarized above may<br>
be had by reference to the embodiments thereof which are illustrated in the<br>
appended drawings, which form a part of this specification. It is to be noted,<br>
however, that the drawings illustrate only various embodiments of the<br>
invention and are therefore not to be considered limiting of the invention's<br>
scope as it may include other effective embodiments as well.<br>
-19-<br><br>
[00041] FIG. 1 is a perspective view of a system to monitor a geometry of a treatment<br>
apparatus according to an embodiment of the present invention;<br>
[00042] FIG. 2 is a perspective view of a trackable assembly according to an<br>
embodiment of the present invention;<br>
[00043] FIG. 3 is a perspective view of a portion of a system to monitor a geometry of<br>
a treatment apparatus illustrating determining a position of an isocenter of the<br>
treatment apparatus according to an embodiment of the present invention;<br>
[00044] FIG. 4 is a perspective view of a portion of a system to monitor a geometry of<br>
a treatment apparatus illustrating determining a position and an orientation of<br>
an isocenter of the treatment apparatus according to an embodiment of the<br>
present invention;<br>
[00045] FIG. 5 is a perspective view of a portion of a system to monitor a geometry of<br>
a treatment apparatus illustrating multiple methods of determining the<br>
isocenter of the treatment apparatus according to an embodiment of the<br>
present invention;<br>
[00046] FIG. 6 is a perspective view of a treatment apparatus illustrating a rotational<br>
path of a rotating assembly having imperfections according to an embodiment<br>
of the present invention;<br>
[00047] FIG. 7 is a schematic diagram of program product to monitor a geometry of a<br>
treatment apparatus according to an embodiment of the present invention;<br>
[00048] FIG. 8 is a flow chart of a method to monitor a geometry of a treatment<br>
apparatus illustrating determining an isocenter of the treatment apparatus<br>
according to an embodiment of the present invention;<br>
[00049] FIG. 9 is a high-level flow chart of a method to monitor a geometry of a<br>
treatment apparatus according to an embodiment of the present invention;<br>
[00050] FIG. 10 is a flow chart of a method to monitor a geometry of a treatment<br>
apparatus illustrating steps to verify a definition of an isocenter coordinate<br>
system according to an embodiment of the present invention;<br>
[00051] FIG. 11 is a flow chart of a method to monitor a geometry of a treatment<br>
apparatus illustrating steps to analyze sample positions of a trackable body<br><br><br><br>
-20-<br><br>
along a rotational path of a rotating assembly rotating assembly according to<br>
an embodiment of the present invention; and<br>
[00052] FIG. 12 is a flow chart of a method to monitor a geometry of a treatment<br>
apparatus illustrating steps to respond to detection of a deviation in an<br>
isocenter coordinate system definition according to an embodiment of the<br>
present invention.<br>
DETAILED DESCRIPTION<br>
[00053] The present invention will now be described more fully hereinafter with<br>
reference to the accompanying drawings, which illustrate embodiments of the<br>
invention. This invention may, however, be embodied in many different<br>
forms and should not be construed as limited to the illustrated embodiments<br>
set forth herein. Rather, these embodiments are provided so that this<br>
disclosure will be thorough and complete, and will fully convey the scope of<br>
the invention to those skilled in the art. Like numbers refer to like elements<br>
throughout. Prime notation, if used, indicates similar elements in alternative<br>
embodiments.<br>
[00054] Successful therapy treatments, such as, for example, radiation therapy, rely on<br>
the ability to accurately locate and define a radiation beam. The spatial<br>
position of the radiation beam is defined by the physical geometry of the<br>
treatment apparatus. The geometry of rotating assemblies of the treatment<br>
apparatus define a coordinate system of the treatment apparatus, which is used<br>
by a therapist to determine the position of the radiation beam and the<br>
positioning of the patient. The origin of this coordinate system is referred to<br>
as "isocenter" and this coordinate system is referred to as the "isocenter<br>
coordinate system." Many treatment systems rely on the accuracy of a<br>
calibrated tracking system to reliably indicate the isocenter coordinate system<br>
during radiation delivery. These systems are, however, vulnerable to<br>
inadvertent changes in that calibrated position. For example, the "camera" or<br>
trackable body detector of a typical trackable body tracking system or<br>
apparatus is structurally removed from the treatment apparatus by a great<br>
distance and fixedly connected to a wall or ceiling mount, and thus, is<br>
-21-<br><br>
affected by even slight movements in the camera/detector mounting. Thus,<br>
advantageously, as illustrated in FIGS. 1-12, embodiments of the present<br>
invention provide a system, apparatus, trackable assembly, program product,<br>
and methods for monitoring the geometry of a rotating assembly of the<br>
treatment apparatus to determine the correctness of the definition of the<br>
isocenter coordinate system used by a trackable body tracking system or<br>
apparatus.<br>
[00055] As perhaps best shown in FIG. 1, the system 30 generally includes a treatment<br>
apparatus having one or more rotating assemblies, such as, for example, a<br>
linear accelerator 31. The following discussion will refer to linear accelerator<br>
31 shown in FIG. 1 for illustrative purposes, only. Other treatment apparatus<br>
known to those skilled in the art, including but not limited to a magnetic<br>
resonance imaging ("MRI") or computerized tomography ("CT") scan device,<br>
are also within the scope of the present invention. The linear accelerator 31<br>
has a rotating beam collimator assembly 33 which functions as a radiation<br>
emitter, a rotating gantry assembly 35, and a rotating treatment table assembly<br>
37, each preferably controlled by a controller 39. The system 30 also includes<br>
an application computer 41 which provides treatment delivery instructions to<br>
the controller 39. The system 30 also further includes a trackable assembly<br>
43 connected to the rotating gantry assembly 35. The trackable assembly 43<br>
(see also FIG. 2) includes a fixedly connected first trackable body 45, having<br>
a plurality of indicators 47 positioned thereon, which functions as a reference<br>
fixture. The trackable assembly 43 also can include a pivotally connected<br>
second trackable body 49, also having a plurality of indicators 47 positioned<br>
thereon, which provides data used to determine rotation angle of the rotating<br>
gantry assembly 35. The system 30 also includes a system or apparatus 51 to<br>
track a trackable body which includes a trackable body detector 53 provided<br>
to detect a position of the indicators 47, and a determiner 55, in<br>
communication with the trackable body detector 53, to determine the position<br>
and/or orientation of the first and the second trackable bodies 45, 49. The<br>
determiner 55 further determines the location the isocenter 57 of the isocenter<br>
coordinate system and can determine rotational path data about the rotating<br>
gantry assembly 35.<br>
-22-<br><br><br><br>
[00056] More specifically, in an embodiment of the present invention, the system 30<br>
includes a treatment apparatus, such as linear accelerator 31, which delivers<br>
radiation to a target T in a patient P. The linear accelerator 31 has a plurality<br>
of rotating assemblies including: a rotating beam collimator assembly 33,<br>
which functions as a radiation emitter; a rotating gantry assembly 35, which<br>
positions the radiation beam; and a rotating treatment patient table assembly<br>
37, which positions a patient P. Together the rotating assemblies function to<br>
direct a radiation beam through a target T of the patient P. Each rotating<br>
assembly has a rotational path in a distinct plane and an axis of rotation. An<br>
application computer 41, having memory 59 and a treatment plan stored in the<br>
memory 59, provides treatment delivery instructions to the linear accelerator<br>
31. The rotating gantry assembly 35 has a gantry axis of rotation G and a<br>
gantry head 60 positioned adjacent the gantry rotational outer circumference<br>
to direct a radiation beam toward the center of the gantry axis of rotation G, in<br>
accordance with signals from the controller 39. The rotating beam collimator<br>
assembly 33 is connected to and directed by the gantry head 60. The rotating<br>
beam collimator assembly 33 generates a radiation beam along a beam axis C<br>
and, depending upon the configuration, can shape the profile of the radiation<br>
beam. The rotating patient treatment table assembly 37 has a treatment table<br>
axis of rotation TT and is positioned adjacent the gantry assembly 35 to move<br>
the position of the target T of the patient P with respect to the isocenter 57<br>
before and during treatment. The axis of rotation G of the rotating gantry<br>
assembly 35 generally intersects with the beam axis C at a three-dimensional<br>
coordinate which defines the isocenter 57 (origin) of the isocenter coordinate<br>
system of the linear accelerator 31.<br>
[00057] As shown in FIGS. 1-4, the system 30 includes a subsystem or apparatus to<br>
track the trackable body, hereinafter referred to as a "trackable body tracking<br>
apparatus" 51. The trackable body tracking apparatus 51 includes a preferably<br>
optical trackable body detector or camera subsystem, such as, for example,<br>
trackable body detector 53, and a determiner 55. The trackable body detector<br>
53 includes a detector body 61 positioned spaced apart from the linear<br>
accelerator or other treatment apparatus and trackable assembly 43. The<br>
trackable assembly 43 is positioned to be viewed/detected by the trackable<br>
-23-<br><br>
body detector 53. The trackable assembly 43 includes a first trackable body<br>
45 fixedly connected to a preselected portion of the rotating gantry assembly<br>
35 at a predetermined offset position relative to a predetermined three-<br>
dimensional coordinate system definition of the isocenter 57 and along the<br>
rotational path RP (FIG. 4) of the rotating gantry assembly 35. The first<br>
trackable body 45 has a plurality of separate and spaced-apart indicators 47<br>
each connected at a separate preselected position thereon to indicate to the<br>
trackable body detector 53 separate three-dimensional coordinate positions of<br>
each indicator 47 of the plurality of indicators 47. The indicators 47 are<br>
preferably in the form of passive indicators such as, for example, retro-<br>
reflective spheres, which advantageously provide upwards of a 180-degree<br>
reflective field of view and decrease inherent wiring requirements associated<br>
with active indicators. Note, the indicators 47 can, however, be in other<br>
forms including that of active emitters.<br>
[00058] The trackable body detector 53 is preferably an optical detector or camera<br>
locator subsystem, such as, for example, the camera or opti-electrical motion<br>
measurement system, known as the Polaris, by Northern Digital Inc.,<br>
Ontario Canada, having a pair of optical receivers 63, each with a field of<br>
view and adapted to receive optical energy emitted or reflected by each of the<br>
plurality of indicators 47 when positioned in the field of view. In this form,<br>
the receivers 63 can detect the three-dimensional sphere position of each of<br>
the plurality of indicators 47 of the trackable assembly 43 when positioned<br>
simultaneously within the field of view of both of the optical receivers 63 to<br>
produce the plurality of position signals. When the plurality of indicators 47<br>
are in the form of optical retro-reflective spheres, the detector 53 can include<br>
a pair of illuminators, such as, infrared illuminators 67, each separately<br>
positioned adjacent one of the receivers 63, to selectively illuminate each of<br>
the plurality of indicators 47 when positioned in the field of view of the<br>
respective adjacent receiver 63.<br>
[00059] Referring to FIGS. 1 and 3, the determiner 55 communicates with the<br>
trackable body detector 53 to receive and process the plurality of position<br>
signals produced by the trackable body detector 53. The determiner 55 can<br>
determine (in trackable body tracking apparatus/camera space) the three-<br>
-24-<br><br>
dimensional coordinate system definition of the isocenter 57 referenced to the<br>
first trackable body 45 through use of a predetermined transform matrix M<br>
(FIG. 3) preferably stored in the memory 69 of the determiner 55. As further<br>
shown in FIG. 3, the trackable body tracking apparatus 51 has a preselected<br>
trackable body detector coordinate system illustrated on the face of detector<br>
body 61. The preselected trackable body detector coordinate system, having<br>
an preselected origin and orientation, can be established in a fixed<br>
relationship with the trackable body detector 53 to define a trackable body<br>
detector offset position O. Note, transform matrix M indicates a<br>
mathematical construct which can be used to relate or transform the location<br>
(position) and orientation of a coordinate system relative to some other<br>
coordinate system. The transform matrix M is preferably in the form of what<br>
is referred to as a 4-by-4 matrix. Such transformation matrix defines a set of<br>
three rotations (to the new orientation), and a set of three translations (to the<br>
new position). Transformation matrices can be chain together in order to<br>
relate the location and orientation of a coordinate system to a successive<br>
series of coordinate systems. Note also, the term "location" or "position"<br>
with respect to isocenter generally specifies the x, y, and z coordinates of the<br>
isocenter. The term "orientation" with respect to isocenter specifies direction<br>
vectors of the coordinate axes of the isocenter coordinate system.<br>
[00060] In the preferred embodiment of the present invention, the trackable body<br>
detector 53 detects the first trackable body 45, which functions as a reference<br>
fixture to the isocenter 57 and isocenter coordinate system. The determiner<br>
55 then determines a transform matrix M" between an assigned trackable<br>
body reference coordinate system preferably centered upon the trackable body<br>
detector offset position O and a reference coordinate system preferably<br>
centered upon the determined position of the first trackable body 45. The<br>
determiner 55 can receive or retrieve the predetermined transform matrix M,<br>
which provides or indicates a transform between a first trackable body<br>
reference coordinate system centered upon a first trackable body position of<br>
the first trackable body 45 (normally coincident with the illustrated location<br>
of the first trackable body 45) and isocenter coordinate system centered upon<br>
the physical three-dimensional coordinate position of the isocenter 57. Along<br>
	-25-<br><br>
with transform matrix M", the determiner 55 is provided sufficient data to<br>
transform the three-dimensional coordinate system definition of the isocenter<br>
57 to detector/camera space. When properly calibrated to the trackable body<br>
detector 53, the first trackable body 45 provides a ready reference to the three-<br>
dimensional coordinate position of the isocenter 57. Note, the determination<br>
of the three-dimensional coordinate system definition of the isocenter 57 in<br>
trackable body detector/camera space is generally referred to as calibrating the<br>
trackable body tracking apparatus 51 to a location in space of the physical<br>
three-dimensional coordinate position of the isocenter 57 and orientation of<br>
the isocenter coordinate system.<br>
[00061] Because the system definition of the first trackable body 45 with respect to the<br>
trackable body detector offset position O of the trackable body detector 53<br>
can be readily determined, the three-dimensional coordinate position (location<br>
and/or orientation) of the detector body 61 need not remain in a highly stable<br>
position, required where reference to the three-dimensional coordinate system<br>
definition of the isocenter 57 is determined solely with respect to the<br>
trackable body detector offset position O. That is, the detector 53 can<br>
advantageously be readily moved without losing reference to the isocenter 57<br>
because, rather than the detector 53 performing the function of a reference<br>
fixture, the first trackable body 45 provides a relative reference to the<br>
isocenter 57. Further, having such a reference fixture, especially one<br>
positioned close to the isocenter 57, provides additional significant<br>
advantages. The greater the distance between the trackable body detector 53<br>
and the isocenter 57, the less accurate the trackable body tracking apparatus<br>
51. Still further, advantageously, the first trackable body 45 allows the<br>
trackable body detector 53 to be positioned in a less intrusive location and<br>
with a less stable mounting than would otherwise be required for merely<br>
determining and maintaining reference to the isocenter 57.<br>
[00062] As perhaps best shown in FIG. 4, because the first trackable body 45 is<br>
connected to a rotating assembly, such as the rotating gantry assembly 35, it<br>
should be readily apparent that transform matrix M maintains a reference to<br>
the isocenter 57 that will appear to rotate with the rotation of the rotating<br>
gantry assembly 35. The orientation of the isocenter coordinate system<br>
-26-<br><br>
conceptually rotates along with the first trackable body 45 relative to the non-<br>
rotating portions of the treatment apparatus (linear accelerator 31) and the<br>
treatment room. The physical isocenter 57 and corresponding preselected<br>
orientation of the isocenter coordinate system, however, remains stationary<br>
and does not rotate with the rotation of the rotating gantry assembly 35<br>
relative to the non-rotating portions of the treatment apparatus and treatment<br>
room. Thus, the first trackable body 45 can generally only be used to produce<br>
a reference to the isocenter 57 having coordinate system axes oriented relative<br>
to the orientation of the first trackable body 45 at the time the determination is<br>
made. Thus, advantageously, in an embodiment of the present invention, the<br>
trackable assembly 43 can also include a second trackable body 49 either<br>
connected to the first trackable body 45 (as illustrated) or separately<br>
connected to a preferably adjacent preselected portion of the rotating gantry<br>
assembly 35. The second trackable body 49 can be utilized to determine or to<br>
correct the relative orientation of the isocenter coordinate system determined<br>
with reference to the first trackable body 45 when the rotating gantry<br>
assembly 35 is rotated off an initial reference position, illustrated as position<br>
I.<br>
[00063] To this end, and as perhaps best shown in FIG. 2, the second trackable body<br>
49 has a proximal body end portion 71 which, rather than being fixedly<br>
mounted, can be pivotally connected to either the rotating gantry assembly 35,<br>
or to or adjacent the first trackable body 45. The second trackable body 49<br>
also has a free-moving distal body end portion 73 and a medial body portion<br>
75 connected to and extending between the proximal body end portion 71 and<br>
the distal body end portion 73. Similar to the first trackable body 45, the<br>
medial body portion 75 of the second trackable body 49 can have a plurality<br>
of separate and spaced-apart indicators, such as indicators 47, each connected<br>
at a separate preselected position of the second trackable body 49, also to<br>
indicate to the trackable body detector 53 a three-dimensional coordinate<br>
position of each indicator 47. This pivoting-proximal end/free-distal end<br>
configuration can provide a pendulum-type action, which, responsive to<br>
gravity, allows the second trackable body to maintain a constant orientation<br>
(illustrated as vertical) used by the determiner 55 as a reference orientation.<br>
-27-<br><br>
[00064] To provide such pendulum-type action and to maintain a substantially<br>
constant orientation during rotation of the rotating gantry assembly 35, the<br>
second trackable body 49 can be connected to a preferably non-trackable<br>
mount 77 which can include dampeners (not shown), known and understood<br>
by those skilled in the art, to prevent excess undesirable oscillations. The<br>
second trackable body 49 can be appropriately weighted with a weight or<br>
weights 79 to synergistically maintain the second trackable body 49 in a<br>
substantially constant orientation during rotation of the rotating gantry<br>
assembly 35. Advantageously, in the illustrated embodiment of the trackable<br>
assembly 43, the body of the first trackable body 45 has a flat configuration<br>
which can allow the second trackable body 49 to freely rotate within the<br>
confines of the first trackable body 45 without obstructing any of the<br>
indicators 47 carried by the first trackable body 45, while maintaining a close<br>
profile to the rotating assembly.<br>
 [00065] The above described reference orientation provided by the second trackable<br>
body 49 allows the determiner 55 to correct or adjust the relative orientation<br>
of the isocenter coordinate system which was determined with reference to<br>
the first trackable body 45. This incorrect orientation is the result of a<br>
rotational error typically existing when the rotating gantry assembly 35<br>
carrying the trackable assembly 43 is rotated off its initial reference position I<br>
(FIG. 3), illustrated as vertical. More specifically, to determine the<br>
orientation of the isocenter coordinate system, the determiner 55 first<br>
determines the orientations of the first and the second trackable bodies 45, 49,<br>
respectively. The determiner 55 can then determine the rotation angle of the<br>
first trackable body 45, which relates to the rotational position of the rotating<br>
gantry assembly 35 from the initial reference position I. This can be<br>
accomplished by determining an angular difference in orientation between the<br>
first and the second trackable bodies 45, 49. The correct orientation of the<br>
isocenter coordinate system can be determined by conceptually rotating the<br>
reference orientation of the isocenter 57, determined from the first trackable<br>
body 45, by an amount related to the angular difference between the<br>
respective orientations of the first and the second trackable bodies 45, 49.<br>
Thus, advantageously an accurate reference orientation (and position) of the<br>
-28-<br><br>
isocenter coordinate system can be provided (determined) using the same<br>
predetermined transform matrix M regardless of the rotational orientation of<br>
the first trackable body 45, which can vary due to rotation of the rotating<br>
gantry assembly 35.<br>
[00066] As shown in FIGS. 5 and 6, in an embodiment of the present invention, the<br>
determiner 55 can also detect or determine a possible isocenter coordinate<br>
system definition failure, when so existing. To do so, as shown in FIG. 5, a<br>
trackable body detector reference coordinate system including trackable body<br>
detector reference offset position, such as offset position 0, can be selected to<br>
"over specify" the system 30. This allows for separate and independent<br>
determinations of isocenter 57 to be made, one with reference to a fixture<br>
(e.g. trackable body 45) positioned on the rotating gantry assembly 35 (e.g.<br>
trackable body 45), the other reference to an immobilized fixture normally<br>
associated with the body 61 of the detector 53.<br>
[00067] For example, the determiner 55, through use of a second predetermined<br>
transform matrix M', can make a second independent determination of the<br>
three-dimensional coordinate system definition of the isocenter 57 but with<br>
reference to the trackable body detector reference offset position O, rather<br>
than with reference to the trackable body reference position of the first<br>
trackable body 45. The second predetermined transform matrix M1,<br>
preferably also stored in the memory 69 of the determiner 55, can provide or<br>
indicate a transform between the trackable body detector reference coordinate<br>
system (normally coincident with offset position O) and the isocenter<br>
coordinate system (normally coincident with the physical three-dimensional<br>
coordinate position of the isocenter 57). The separately determined three-<br>
dimensional coordinate positions of the isocenter 57 can then be compared.<br>
A substantial difference would indicate a possible isocenter coordinate system<br>
definition failure. Note, the transform matrices are shown in the form of an<br>
arrow between the trackable body detector 53 and trackable body 45 and the<br>
trackable body 45 and isocenter 57 pointing towards isocenter 57 for<br>
illustrative purposes only. The transform of the various coordinate systems<br>
can be accomplished in either direction.<br>
-29-<br><br>
[00068] Note, although the possible isocenter coordinate system definition failure is<br>
generally due to an unexpected undesired movement of either the trackable<br>
body 45 or the trackable body detector 53 caused by mounting failure, the<br>
possible isocenter coordinate system definition failure can be caused by a<br>
misalignment or partial failure of the rotating assembly. Note also, although<br>
in the preferred embodiment of the present invention the preselected trackable<br>
body detector reference coordinate system is preferably assigned coincident<br>
with a location of a portion of the body 61 of the trackable body detector 53<br>
(as illustrated), it can be instead assigned to a separate immobilized trackable<br>
fixture (not shown) that is stationery with respect to the treatment apparatus<br>
and treatment room. This configuration would allow for "over-specifying"<br>
the system 30 without the requirement to immobilize the trackable body<br>
detector 53. This alternative configuration minimizes inaccuracies due to<br>
movement of the trackable body detector 53 caused by wall-vibrations or<br>
other external stimulus. Further, this alternative allows for positioning a<br>
fixture that is smaller and that is less likely to need maintenance, and thus, is<br>
less likely to be inadvertently moved or needed to be moved.<br>
[00069] As an alternative methodology of detecting or determining a possible<br>
isocenter coordinate system definition failure, as shown in FIG. 6, the<br>
determiner 55 can determine a plurality of sampled two or three-dimensional<br>
coordinate first trackable body positions S along the rotational path RP of the<br>
rotating gantry assembly 35. The determined positions S provide current<br>
rotational path data that can be compared to a predetermined rotational path<br>
RP' of the rotating gantry assembly 35, typically referred to as a "quality<br>
assurance (QA) circle," preferably stored in the memory 69 of the determiner<br>
55, in the form of a rotational path dataset. Thus, the determiner 55 can<br>
determine if either of the plurality of determined first trackable body positions<br>
S substantially deviate from a position (e.g. illustrated position S')<br>
substantially coincident with the predetermined rotational path RP' of the<br>
rotating gantry assembly 35. Such deviation would be indicative of a possible<br>
isocenter coordinate system definition failure.<br>
[00070] In an embodiment of the present invention, the determiner 55 can respond to<br>
such detection or determination of a deviation before or during application of<br>
-30-<br><br>
a treatment plan to the patient P by signaling an existence of the potential<br>
isocenter coordinate system definition failure. Further, in an embodiment of<br>
the present invention, where the determiner 55 is in communication with<br>
application computer 41, the application computer 41 can notify an operator a<br>
deviation exists, signal the controller 39 of the treatment apparatus to<br>
terminate treatment delivering, and/or where the treatment apparatus is in a<br>
form such as that of a linear accelerator 31, signal the controller 39 to adjust<br>
radiation beam direction or intensity as necessary to compensate for the<br>
deviation. Additionally, in response to such deviation, the determiner 55 can<br>
project a re-calculated three-dimensional coordinate system definition of the<br>
isocenter 57 from the first trackable body 45 regardless of the angle of<br>
rotation A (FIG. 4) of the rotating gantry assembly 35.<br>
[00071] Still further, in an embodiment of the present invention, the system 30 can<br>
include a third trackable body which can provide patient position data. For<br>
example, in an embodiment of the present invention, a trackable body 80<br>
(FIG. 6) having a plurality of separate and spaced apart indicators 47 mounted<br>
thereto, such as, for example, that disclosed in U.S. Patent Application Serial<br>
Number 10/957,128 by Smetak et al., titled "System and Tracker for Tracking<br>
an Object, and Related Methods" or a suitable substitute, can be connected to<br>
a preselected portion of the rotating treatment table assembly 37 at a<br>
predetermined offset position relative to the target T of the patient P. In this<br>
embodiment of the present invention, in response to the detection of a<br>
deviation, the determiner 55 can determine the position of the target T to<br>
enable the application computer 41 to signal the controller 39 to, if authorized<br>
to do so, adjust the position of the rotating treatment table assembly 37 to<br>
move the target T to coincide with a corrected three-dimensional coordinate<br>
system definition of the isocenter 57.<br>
[00072] As shown in FIG. 7, the function of the determiner 55 can be implemented in<br>
hardware and/or software/program product, however, in the preferred<br>
embodiment of the present invention, the function of the determiner 55 is<br>
implemented almost entirely in software/program product either preloaded in<br>
memory 69 of the determiner 55 or contained on separate storage media, such<br>
as, for example, a compact disc, portable hard drive, a remote computer, etc.<br>
-31-<br><br>
Correspondingly, the system 30 can further include a program product, such<br>
as geometry analyzing program product 81, to analyze treatment apparatus<br>
geometry. Note, the program product 81 can be in the form of microcode,<br>
programs, routines, and symbolic languages that provide a specific set or sets<br>
of ordered operations that control the functioning of the hardware and direct<br>
its operation, as known and understood by those skilled in the art. Note also,<br>
the determiner 55 is illustrated for simplicity as a single separate unit (FIG.<br>
1), and the geometry analyzing program product 81 is described below as<br>
positioned within memory 69 of the determiner 55.<br>
[00073] The determiner 55, however, is actually preferably implemented such that it is<br>
distributed over the trackable body detector 53 and the illustrated determiner<br>
55, or in a remote computer (not shown). Correspondingly, all or a portion of<br>
the geometry analyzing program product 81 can be located in both the<br>
trackable body detector 53 and the determiner 55, and/or partially or solely in<br>
a remote computer (not shown). In fact, in the preferred embodiment of the<br>
invention, the geometry program product 81 is at least partially located in the<br>
trackable body detector 53. Thus, the physical embodiment of the trackable<br>
detector 53 also can include a portion of the physical and the functional<br>
embodiment of the determiner 55. To this end, the illustrated trackable body<br>
detector 53 typically includes its own processor and memory (not shown).<br>
[00074] As shown in FIG. 7, the geometry analyzing program product 81 includes a<br>
trackable body position and orientation determiner 83 having a trackable body<br>
position determiner 85, which can determine the position of a trackable body,<br>
and a trackable body orientation determiner 87, which can determine the<br>
orientation of a trackable body, both of which can be in the form of a unitary<br>
module or separate modules. When loaded in memory 69 of the determiner<br>
55, the trackable body position and orientation determiner 83 is positioned to<br>
receive and is responsive to the plurality of position signals produced by a<br>
trackable body detector 53 which indicate separate three-dimensional<br>
coordinate positions of a plurality of separate and spaced-apart trackable<br>
indicators 47.<br>
[00075] The trackable body position and orientation determiner 83 can identify the<br>
first and the second trackable bodies 45, 49, and relate their respective<br>
-32-<br><br>
trackable indicators 47 to a preselected coordinate system assigned to each<br>
respective trackable body 45, 49. This can be accomplished through use of a<br>
table of definitions 84 stored in memory 69 or through means of another<br>
suitable trackable body identifier, known to those skilled in the art. The result<br>
is to identify the first and the second trackable bodies 45,49, and to determine<br>
a three-dimensional coordinate trackable body position and/or orientation of<br>
the first and the second trackable bodies 45, 49.<br>
[00076] The plurality of indicators 47 for the first and the second trackable bodies 45,<br>
49, can be positioned on the respective bodies 45, 49, so that each have<br>
unique segment lengths between each other indicator 47. This positioning<br>
allows the trackable body tracking apparatus 51 to uniquely identify each<br>
preselected trackable body when viewed by the trackable body detector 53.<br>
As such, the plurality of indicators 47 of the respective trackable bodies 45,<br>
49, can be positioned with respect to a selected origin of a coordinate system<br>
assigned to or preselected for the respective trackable bodies 45, 49 (see e.g.<br>
FIG. 4). This geometry can allow the trackable body position and orientation<br>
determiner 83 to determine a three-dimensional coordinate position for the<br>
origin and linear direction (direction vectors) of the each axes of the<br>
coordinate system separately assigned to trackable bodies 45, 49, which can<br>
be used to define the position and the orientation of the preselected trackable<br>
bodies 45, 49. Other methodologies of defining position and orientation,<br>
however, known by those skilled in the art, are within the scope of the present<br>
invention.<br>
[00077] The geometry analyzing program product 81 includes an isocenter position<br>
and orientation determiner 93 which can function as a single integrated<br>
module or separate modules including an isocenter position determiner 95,<br>
which can determine the position of the isocenter 57, and an isocenter<br>
orientation determiner 97, which can determine the orientation of the<br>
isocenter 57, both of which can also be in the form of a unitary module or<br>
separate modules. The isocenter position and orientation determiner 93 is<br>
responsive to the determined three-dimensional coordinate position of the<br>
first trackable body 45 and a first predetermined transform matrix M (FIGS. 3<br>
and 4) to determine a first three-dimensional coordinate position of the<br>
-33-<br><br>
isocenter 57. Note, as stated previously, the predetermined transform matrix<br>
M indicates a transform between the first trackable body reference coordinate<br>
system of the first trackable body 45 on the rotating assembly (rotating gantry<br>
assembly 35) and a predetermined/preselected isocenter coordinate system of<br>
the treatment apparatus (e.g. linear accelerator 31).<br>
[00078] As shown in FIGS. 4 and 7, in an embodiment of the present invention having<br>
the previously described second trackable body 49, the orientation of the<br>
isocenter coordinate system can also be readily determined. The isocenter<br>
position and orientation determiner 93, responsive to the determined<br>
orientations for the first and the second trackable bodies 45, 49, can determine<br>
the angular difference between the determined orientations. The angular<br>
difference indicates both an angle of rotation A (FIG. 4) of the rotating gantry<br>
assembly 35 from an initial position I (FIG. 4) and an isocenter angular<br>
correction factor, which can be utilized to determine the three-dimensional<br>
orientation of the isocenter coordinate system. Thus, advantageously, the<br>
geometry analyzing program product 81 can provide for determining both the<br>
position the isocenter 57 and the orientation of the isocenter coordinate<br>
system with reference to various positions along the rotating gantry assembly<br>
35, independent of angle of rotation A of the rotating gantry assembly 35,<br>
using the same predetermined transform matrix M.<br>
[00079] As shown in FIG. 7, the geometry analyzing program product 81 also can<br>
include a deviation detector 101 which can detect a deviation in geometry of a<br>
rotating assembly, such as, rotating gantry assembly 35, indicative of a<br>
potential isocenter coordinate system definition failure. Note, as stated<br>
previously, the deviation can result from a malfunction or unexpected<br>
movement in the rotating assembly carrying the first trackable body 45,<br>
though, it is most typically a result of improper movement of the first<br>
trackable body 45 or the trackable body detector 53. A deviation responder<br>
103 can respond to detection of such deviation before or during application of<br>
a treatment plan to the patient P by signaling an existence of a potential<br>
isocenter coordinate system definition failure. In an embodiment of the<br>
present invention, where the determiner 55 is in communication with<br>
application computer 41 (FIG. 1), the application computer 41 can notify an<br>
-34-<br><br>
operator a deviation exists, signal the controller 39 of the treatment apparatus<br>
to terminate treatment delivering, and/or where the treatment apparatus is in a<br>
form such as that of a linear accelerator 31, signal the controller 39 to adjust<br>
radiation beam direction or intensity or, if provided authorization, reposition<br>
the rotating treatment table assembly 37, as necessary, to compensate for the<br>
deviation.<br>
[00080] As shown in FIGS. 5 and 7, in an embodiment of the present invention, the<br>
isocenter position and orientation determiner 93 can receive a second<br>
predetermined transform matrix M', also preferably stored in memory 69, to<br>
determine a second determined three-dimensional coordinate position of the<br>
isocenter 57, but instead with reference to the fixed trackable body detector<br>
offset position O. Note, as stated previously, the predetermined transform<br>
matrix M' preferably indicates a transform between the predetermined<br>
isocenter coordinate system and a trackable body detector reference<br>
coordinate system, which normally is coincident with offset position O.<br>
[00081] The trackable body detector reference offset position is preferably assigned to<br>
the trackable body detector 53 or alternatively assigned to an immobilized<br>
non-rotating (static) fixture (not shown) positioned in view of the trackable<br>
body detector 53 and in view of the physical isocenter coordinate position of<br>
the isocenter 57. hi this embodiment of the present invention, the deviation<br>
detector 101 includes an isocenter comparator 105, which can receive the first<br>
and the second determined three-dimensional coordinate positions of the<br>
isocenter 57, determined as described above, and can compare the first and<br>
the second three-dimensional coordinate positions of the isocenter 57. A<br>
substantial difference between the first and the second determined three-<br>
dimensional coordinate positions of the isocenter 57 indicates a possible<br>
 isocenter coordinate system definition failure. The isocenter comparator 105<br>
can also compare the first and the second orientations of the isocenter<br>
coordinate system. A substantial difference between the first and the second<br>
determined orientations of the isocenter coordinate system correspondingly<br>
can also indicate a possible isocenter coordinate system definition failure.<br>
The above described comparison can be made either separately or in<br>
combination with the comparison of a difference between the first and the<br>
	-35-<br><br>
second determined three-dimensional coordinate positions/system definitions<br>
of the isocenter 57.<br>
[00082] As shown in FIGS. 6 and 7, in an embodiment of the present invention, the<br>
trackable body position and orientation determiner 93 can determine a<br>
plurality of three-dimensional coordinate trackable body positions S located<br>
along the rotational path RP of the rotating gantry assembly 35. In this<br>
embodiment, the deviation detector 101 can include a rotational path<br>
comparator 107, which compares the plurality of determined trackable body<br>
positions S with a predetermined rotational path RP' of the rotating gantry<br>
assembly 35, preferably in the form of a dataset, to determine if either of the<br>
plurality of determined first trackable body positions S substantially deviate<br>
from a position substantially coincident with the predetermined rotational<br>
path RP' of the rotating gantry assembly 35 (e.g. position S'). Such deviation<br>
indicates a possible isocenter coordinate system definition failure.<br>
[00083] It is important to note that while embodiments of the present invention have<br>
been described in the context of a fully functional system, those skilled in the<br>
art will appreciate that the mechanism of the present invention and/or aspects<br>
thereof are capable of being distributed in the form of a computer readable<br>
medium of instructions in a variety of forms for execution on a processor,<br>
processors, or the like, and that the present invention applies equally<br>
regardless of the particular type of signal bearing media used to actually carry<br>
out the distribution. Examples of computer readable media include but are<br>
not limited to: nonvolatile, hard-coded type media such as read only<br>
memories (ROMs), CD-ROMs, and DVD-ROMs, or erasable, electrically<br>
programmable read only memories (EEPROMs), recordable type media such<br>
as floppy disks, hard disk drives, CD-R/RWs, DVD-RAMs, DVD-R/RWs,<br>
DVD+R/RWs, flash drives, and other newer types of memories, and<br>
transmission type media such as digital and analog communication links.<br>
[00084]	As shown in FIGS. 1-12, embodiments of the present invention also<br>
include a computer readable medium that is readable by a computer to<br>
monitor the geometry of an apparatus having one or more rotating assemblies.<br>
For example, again referencing the linear accelerator 31 (FIG. 1) for<br>
illustrative purposes, a trackable body 45 is connected to a portion of the<br>
-36-<br><br>
rotating gantry assembly 35 along a rotational path of the rotating gantry<br>
assembly 35. A plurality of preferably optically trackable indicators 47 is<br>
connected to the trackable body 45 to provide positional data for the optically<br>
trackable indicators 47. A trackable body tracking apparatus 51 includes a<br>
trackable body detector 53 provided to detect a position of each of the<br>
indicators 47, and a determiner 55, in communication with the trackable body<br>
detector 53. The determiner 55, a combination of the detector 53/determiner<br>
55, or a remote computer (not shown), can perform the function of the<br>
computer to monitor the geometry (one or more rotating assemblies 33, 35,<br>
37, of the linear accelerator 31). Advantageously, such monitoring can be<br>
accomplished either prior to or during patient treatment delivery.<br>
[00085]	In this embodiment of the present invention, the computer readable<br>
medium includes a program product having a set of instructions that, when<br>
executed by a computer, cause the computer to perform the operations of:<br>
receiving a plurality of position signals produced by the trackable body<br>
detector 53. As perhaps best shown in FIG. 3, the instructions also include<br>
those to perform the operations of: determining, from the plurality of position<br>
signals, a three-dimensional coordinate trackable body position of the<br>
trackable body 45; receiving a predetermined transform matrix M indicating a<br>
transform between a trackable body reference coordinate system of the<br>
trackable body 45 and a predetermined isocenter coordinate system of the<br>
apparatus (e.g. linear accelerator 31); and responsive to the determined<br>
trackable body position of the trackable body 45 and the predetermined<br>
transform matrix M, determining a respective three-dimensional coordinate<br>
system definition of the isocenter 57 of the linear accelerator 31. This<br>
determination can be accomplished during testing of the linear accelerator 31,<br>
or "on the fly" during patient treatment delivery, without the necessity of<br>
interrupting the treatment delivery.<br>
[00086] A second trackable body 49 can be connected to the rotating gantry assembly<br>
35. The second trackable body 49 also has a plurality of separate and spaced-<br>
apart trackable indicators, such as, indicators 47. The second trackable body<br>
49 advantageously maintains a generally constant orientation to provide a<br>
preferably vertical reference orientation useful in determining an orientation<br>
-37-<br><br>
of the first and the second trackable bodies 45, 49. In this embodiment of the<br>
present invention, the plurality of position signals produced by the trackable<br>
body detector 53 can also indicate separate three-dimensional coordinate<br>
positions of the plurality of separate and spaced-apart trackable indicators 47<br>
of the second trackable body 49. Correspondingly, the instructions can also<br>
include those to perform the operation of determining from the position<br>
signals a first trackable body orientation of the first trackable body 45 and a<br>
corresponding second trackable body orientation of the second trackable body<br>
49. Further, responsive to the first trackable body orientation and the<br>
corresponding second trackable body orientation, the instructions can include<br>
those to perform the operations of: determining an angular difference between<br>
the first and the second trackable body orientations (FIG. 4) to define an<br>
isocenter coordinate system angular correction factor, which relates to an<br>
angle of rotation A (FIG. 4) of the rotating gantry assembly 35; and<br>
determining, in response to either the angular correction factor or the angle of<br>
rotation A, a preferably three-dimensional orientation of the isocenter<br>
coordinate system for the linear accelerator 31 independent of an angle of<br>
rotation A of the rotating gantry assembly 35.<br>
[00087]	The computer readable medium can also include a set of instructions that,<br>
when executed by the computer, cause the computer to perform the operations<br>
of: receiving a second predetermined transform matrix M' (FIG. 5) indicating<br>
a transform between a trackable body detector reference coordinate system for<br>
the trackable body detector 53, normally a position coincident with offset<br>
position O (FIG. 5), and the predetermined or preselected isocenter coordinate<br>
system of the linear accelerator 31; and responsive to the second<br>
predetermined transform matrix M', independently determining a second<br>
three-dimensional coordinate position of the isocenter 57 referenced to the<br>
trackable body detector 53 (e.g. offset position O).<br>
[00088] The instructions can also include those to perform the operations of<br>
comparing the first and the second three-dimensional coordinate positions of<br>
the isocenter 57 A substantial difference between the first and the second<br>
determined three-dimensional coordinate positions of the isocenter 57 can be<br>
indicative of a possible isocenter coordinate system definition failure.<br>
-38-<br><br>
Further, the instructions can also include those to perform the operations of:<br>
independently determining a second orientation of the isocenter coordinate<br>
system corresponding to the second determined three-dimensional coordinate<br>
position of the isocenter 57, and comparing the first and the second<br>
determined orientations of the isocenter coordinate system. A substantial<br>
difference between the first and the second determined orientations of the<br>
isocenter coordinate system can also be indicative of a possible isocenter<br>
coordinate system definition failure.<br>
[00089] Advantageously, knowledge of a potential failure in the coordinate system<br>
definition of the isocenter 57 can allow an operator of a treatment apparatus,<br>
such as, for example, the linear accelerator 31, to verify the functionality of<br>
the monitored rotating assembly prior to treatment delivery, and can allow the<br>
operator during the radiation treatment delivery, to interrupt radiation<br>
treatment delivery to prevent either over treating or under treating a target<br>
tissue structure T (FIG. 1) and to prevent excessive radiation delivery to a<br>
non-target tissue structure.<br>
[00090] Further, the instructions can also include those to perform the operation of:<br>
determining a differential between the determined orientation of the first<br>
trackable body 45 and the corresponding determined orientation of the second<br>
trackable body 49 at a location (an angular position) of the first trackable<br>
body 45 with respect to the rotating gantry assembly 35 (FIG. 4) coinciding<br>
with the potential isocenter coordinate system definition failure. The<br>
instructions also include those to perform the operations of: determining from<br>
the comparison, the angular position; and responsive to the determined<br>
angular position of the first trackable body 35, determining a location of the<br>
cause of the possible isocenter coordinate system definition failure.<br>
[00091] In an alternative embodiment of the present invention, the instructions can<br>
include those to perform the operations of: receiving a data set defining a<br>
predetermined rotational path PR' of the rotating gantry assembly 35, to<br>
define a rotational path dataset; and responsive to the plurality of determined<br>
trackable body positions S and the rotational path dataset, determining if one<br>
of the determined trackable body position or positions S substantially deviate<br>
from a position (illustrated as S') substantially coincident with the<br>
-39-<br><br>
predetermined rotational path RP' of the rotating gantry assembly 35. Such<br>
deviation is indicative of a possible isocenter coordinate system definition<br>
failure. The instructions can also include those to perform the operation of<br>
determining, in response to the determined or detected deviation, a corrected<br>
three-dimensional coordinate position of the isocenter 57 and orientation of<br>
the isocenter coordinate system.<br>
[00092] As shown in FIGS. 4 and 8, embodiments of the present invention also<br>
include a method of determining a coordinate system definition of an<br>
isocenter 57 of a treatment apparatus, such as linear accelerator 31, having at<br>
least one rotating assembly so that a treatment plan can be more accurately<br>
applied to a patient P (FIG. 1). For example, in an embodiment of the present<br>
invention a method includes the step of determining (block 110) a three-<br>
dimensional coordinate position (location and/or orientation) of a first<br>
trackable body 45 connected to a preselected portion of one of the rotating<br>
assembly, such as, for example, rotating gantry assembly 35, and located at a<br>
predetermined trackable body reference position offset relative to a<br>
predetermined (physical) three-dimensional coordinate position of an<br>
isocenter 57 of the linear accelerator 31. The first trackable body 45 has a set<br>
of a plurality of separate and spaced-apart indicators, such as indicators 47,<br>
each connected at a separate preselected position thereon to indicate a<br>
separate three-dimensional coordinate position of each indicator 47 in the set<br>
of the plurality of indicators 47, so as to provide three-dimensional positional<br>
data of the first trackable body 45. Having determined the three-dimensional<br>
coordinate position of the first trackable body 45, the three-dimensional<br>
coordinate system definition of the isocenter 57 can be readily determined<br>
(block 113) by applying a predetermined transform matrix M indicating a<br>
transform between a coordinate system of the first trackable body 45 and the<br>
isocenter coordinate system. Note, determining the three-dimensional<br>
coordinate system definition of the isocenter 57 is generally referred to as a<br>
calibrating procedure whereby a physical location of the isocenter 57 and<br>
orientation of the isocenter coordinate system is converted into an electronic<br>
location usable by an application computer 41 to formulate and deliver a<br>
treatment plan.<br>
-40-<br><br>
[00093] Because the first trackable body 45 is connected to a rotating assembly, by its<br>
nature, it has an orientation that varies with the rotation of the rotating<br>
assembly 35. Thus, in an embodiment of the present invention, the three-<br>
dimensional orientation of the isocenter coordinate system for the linear<br>
accelerator 31 is determined independent of angle of rotation A of the rotating<br>
gantry assembly 35 by applying to the determined three-dimensional<br>
coordinate position and relative orientation of the isocenter coordinate<br>
system, provided by the first trackable body 45, an isocenter angular<br>
correction factor, which is related or equivalent to the angle of rotation A. In<br>
order to determine the isocenter correction factor, a second trackable body 49<br>
can be pivotally connected preferably to or adjacent the first trackable body<br>
45. The second trackable body 49 has a medial body portion 75 carrying a set<br>
of a plurality of separate and spaced-apart indicators, such as indicators 47,<br>
each connected at a separate preselected position thereon. The indicators 47<br>
indicate a separate three-dimensional coordinate position of each indicator 47<br>
in the set of the plurality of indicators 47, to thereby provide second trackable<br>
body orientation data of the second trackable body 49. Having a pivotally<br>
connected proximal body end portion 71 and a free-moving distal body end<br>
portion 73 allows the second trackable body 49 to maintain a substantially<br>
constant reference orientation, regardless of the angle of rotation A of the<br>
rotating gantry assembly 35.<br>
[00094] By determining an orientation of the first and the second trackable bodies 45,<br>
49 (block 115), and comparing the orientations (block 117) to ascertain the<br>
angular difference, the angle of rotation A of the rotating gantry assembly 35<br>
along with the isocenter angular correction factor can be readily determined.<br>
The orientation of the isocenter coordinate system can then be determined<br>
(block 119) independent of angle of rotation A of the rotating gantry assembly<br>
35 by applying the isocenter angular correction factor to the three-dimensional<br>
coordinate position of the isocenter 57 having an orientation determined<br>
relative to the orientation of the first trackable body 45. That is, to correctly<br>
determine both the position of the isocenter 57 and orientation of the isocenter<br>
coordinate system, relative to the non-rotating portion of the linear accelerator<br>
and/or treatment room, the orientation of the isocenter coordinate system<br>
-41-<br><br>
associated with the position of the isocenter 57 determined relative to the first<br>
trackable body 45 is conceptually rotated or "oriented" by an amount related<br>
to the angle of rotation A of the rotating gantry assembly 35.<br>
[00095] As shown in FIGS. 9-11, embodiments of the present invention also include<br>
methods of monitoring a geometry of a treatment apparatus, such as linear<br>
accelerator 31, having at least one rotating assembly, such as, rotating gantry<br>
assembly 35, so that a treatment plan can be more accurately applied to a<br>
patient. For example, in an embodiment of the present invention, the method<br>
includes the step of detecting a deviation (block 130), when so existing, in the<br>
geometry of a rotating assembly of a treatment apparatus, such as linear<br>
accelerator 31, and, if a deviation is detected (block 160), responding to such<br>
detected deviation (block 170).<br>
[00096] As shown in FIGS. 4-6, and 9-12, the step of detecting a deviation (block<br>
130) can include either or both of the steps of verifying a definition of an<br>
isocenter 57 (block 140) of a trackable body tracking system or apparatus,<br>
such as trackable body tracking apparatus 51, determined with reference to<br>
the trackable body 45, and/or analyzing sample positions of a preferably<br>
optically trackable body (block 150), such as trackable body 45, along a<br>
rotational path RP of the rotating gantry assembly 35. In the former, the<br>
trackable body 45 is connected to a preselected portion of a rotating gantry<br>
assembly 35 and located at a predetermined trackable body position offset<br>
relative to a predetermined three-dimensional coordinate position of the<br>
isocenter 57 of the linear accelerator 31.<br>
[00097] More specifically, as shown in FIGS. 5, 9, and 10, a deviation can be detected<br>
by determining a first determined three-dimensional coordinate position of the<br>
isocenter 57 and/or orientation of the isocenter coordinate system referenced<br>
to a trackable body position and/or orientation of the trackable body 45 (block<br>
141), determining a second three-dimensional coordinate position of the<br>
isocenter 57 and/or orientation of the isocenter coordinate system referenced<br>
to an immobilized fixture having a location such as, for example, a fixed<br>
trackable body detector offset position O of a trackable body detector 53<br>
(block 143), and comparing the first and the second determined three-<br>
dimensional coordinate positions of the isocenter 57 (block 145) and/or<br>
-42-<br><br>
comparing the first and the second orientations of the isocenter coordinate<br>
system (block 147). A substantial difference between the first and the second<br>
determined three-dimensional coordinate positions of the isocenter 57 and/or<br>
a substantial difference in the first and the second orientations of the isocenter<br>
coordinate system indicate a possible isocenter coordinate system definition<br>
failure.<br>
[00098] Also, as shown in FIGS. 6, 9, and 11, a deviation can alternatively be detected<br>
by determining a plurality of two or three-dimensional coordinate trackable<br>
body positions S (block 151) for the trackable body 45 located along the<br>
rotational path RP of the rotating gantry assembly 35, and comparing (block<br>
153) the determined three-dimensional coordinate trackable body positions S<br>
to a predetermined rotational path RP' of the rotating gantry assembly 35, to<br>
determine if either of the plurality of determined three-dimensional coordinate<br>
trackable body positions S substantially deviate from a position (e.g. position<br>
S') substantially coincident with the predetermined rotational path RP' of the<br>
rotating gantry assembly 35. Such deviation indicates a possible isocenter<br>
coordinate system definition failure.<br>
[00099] As shown in FIGS. 9 and 12, when a deviation is detected (block 160), the<br>
method also includes the step of responding to detection of the deviation<br>
(block 170). The operator can then either continue or terminate operations<br>
(block 180). If the operations are to continue, the geometry of the rotating<br>
gantry assembly 35 can continue to be monitored. Advantageously, the<br>
operator can be provided various methods of responding to a detected<br>
deviation. Prior to or during application of the treatment plan, the step of<br>
responding to detection of the deviation (block 170) can be accomplished by<br>
signaling an existence of a potential isocenter coordinate system definition<br>
failure (block 171) and/or by determining a corrected three-dimensional<br>
coordinate position of the isocenter 57 and/or orientation of the isocenter<br>
coordinate system (block 173). This allows either an operator, or in the linear<br>
accelerator example, an application computer 41, to stop radiation treatment<br>
or optionally to adjust the juxtaposition of the radiation beam to the target T<br>
by varying the radiation beam shape or intensity or repositioning of the target<br>
T by rotating the rotating treatment table assembly 37.<br>
-43-<br><br>
[000100] In the drawings and specification, there have been disclosed a typical<br>
preferred embodiment of the invention, and although specific terms are<br>
employed, the terms are used in a descriptive sense only and not for purposes<br>
of limitation. The invention has been described in considerable detail with<br>
specific reference to these illustrated embodiments. It will be apparent,<br>
however, that various modifications and changes can be made within the<br>
spirit and scope of the invention as described in the foregoing specification<br>
and as defined in the attached claims. For example, the treatment apparatus<br>
was described and illustrated in the form of a linear accelerator. The<br>
invention, however, is not limited to such apparatus and can be used with any<br>
apparatus having at least one rotating assembly which requires monitoring of<br>
the geometry of the apparatus to verify a definition of a coordinate system of<br>
the apparatus. Also for example, the determiner was illustrated as a single<br>
piece of hardware having memory and geometry analyzing program product,<br>
however, the determiner and/or functions of the determiner and the geometry<br>
analyzing program product can be installed in the detector, in the illustrated<br>
determiner, in both, or in a remote computer. Further, the program product<br>
can be independently stored in a mobile storage media, such as, a compact<br>
disc, portable hard drive, etc., or be located on separate pieces of storage<br>
media for loading on multiple separate components. Further, the constant<br>
orientation trackable body was illustrated positioned on the variable<br>
orientation trackable body. It can, however, be positioned at various other<br>
locations on the rotating assembly. Additionally, the constant orientation<br>
trackable body can be implemented using other methodologies known to<br>
those skilled in the art to maintain a constant orientation, such as, for<br>
example, gyroscopic methodologies.<br>
-44-<br><br>
WO 2007/030142	PCT/US2006/010483<br>
AMENDED CLAIMS<br>
received by the International Bureau on<br>
May 17,2007<br>
1. A system (30) to monitor a geometry of a treatment apparatus (31) to thereby<br>
detect a possible isocenter coordinate system definition failure, the system (30)<br>
 comprising an application computer (41) having memory (69) associated therewith, and<br>
a treatment plan stored in the memory (69) to provide treatment delivery instructions,<br>
and a treatment apparatus (31), in communication with the application computer (41), to<br>
provide radiation treatment to the patient, the radiation treatment apparatus (31)<br>
including a radiation emitter (33) positioned to emit a radiation beam, and a rotating<br>
 assembly (35) to direct a radiation beam having a beam axis (C) through a target (T) of<br>
the patient and having a rotational path (RP) in a distinct plane and an axis of rotation<br>
(G), the axis of rotation (G) of the rotating assembly (35) intersecting the beam axis (C)<br>
at a three-dimensional coordinate to define an isocenter (57) of an isocenter coordinate<br>
system of the treatment apparatus (31), the system being characterized by:<br>
a trakable body (43) fixedly connected to a preselected portion (60) of the<br>
rotating assembly (35) at a predetermined trackable body offset position relative to a<br>
predetermined three-dimensional coordinate position of the isocenter (57), the traclcable<br>
body (43) having a plurality of separate and spaced-apart indicators (47) each connected<br>
at a separate preselected position thereon and adapted to be tracked to indicate a separate<br>
three-dimensional coordinate position of each indicator (47) of the plurality of indicators<br>
(47); and<br>
an apparatus (51) to track a trackable body (43), comprising:<br>
a trackable body detector (53) having a detector body (61) positioned<br>
spaced apart from the treatment apparatus (31) and having a receiver (63)<br>
positioned to receive energy provided by a subset of the plurality of indicators<br>
(47), to thereby detect three-dimensional positions and to produce a plurality of<br>
position signals indicating three-dimensional coordinate positions of the subset of<br>
the plurality of indicators (47), and<br>
a determiner (55), in communication with the trackable body detector (53)<br>
and responsive to the plurality of position signals produced by the detector (53),<br>
to determine the three-dimensional coordinate positions of the subset of the<br>
plurality of indicators (47), to thereby determine the three-dimensional coordinate<br>
AMENDED SHEET (ARTICLE 19)<br>
45<br><br>
WO 2007/030142	PCT/US2006/010483<br>
position of the isocenter (57) of the treatment apparatus (31) and to thereby<br>
determine, when so existing, a possible isocenter coordinate system definition<br>
failure.<br>
2.	A system (30) as defined in Claim 1,<br>
wherein the determiner (55) includes memory (69) associated therewith, a<br>
predetermined transform matrix (M) stored in the memory (69) to indicate a transform<br>
magnitude, direction, and rotation between a preselected trackable body reference<br>
coordinate system and a predetermined isocenter coordinate system; and<br>
wherein the determiner (55), responsive to the plurality of position signals from<br>
the trackable body detector (53) and the predetermined transform matrix (M), determines<br>
the three-dimensional coordinate position of the isocenter (57).<br>
3.	A system (30) as defined in either of Claims 1 or 2,<br>
wherein the determiner (55) includes memory (69) associated therewith, a<br>
predetermined transform matrix (M) stored in the memory (69) to indicate a transform<br>
magnitude, direction, and rotation between a preselected trackable body reference<br>
coordinate system and a predetermined isocenter coordinate system, and geometry<br>
analyzing program product (81) stored in the memory (69) to analyze treatment<br>
apparatus geometry; and<br>
wherein the geometry analyzing program product (81) includes:<br>
a trackable body position determiner (85), responsive to the plurality of<br>
position signals produced by the trackable body detector (53), to determine at<br>
least one three-dimensional coordinate position of the trackable body along the<br>
rotational path (RP) of the rotating assembly (35), and<br>
an isocenter position determiner (95), responsive to the determined at<br>
least one three-dimensional coordinate position of the trackable body (43) and the<br>
predetermined transform matrix (M) stored in the memory (69), to determine a<br>
respective at least one three-dimensional coordinate position of the isocenter (57).<br>
AMENDED SHEET (ARTICLE 19)<br>
46<br><br>
WO 2007/030142	PCT/US2006/0104834.<br>
A system (30) as defined in any of Claims 1-3, wherein the trackable body (43)<br>
includes a first trackable body (45), and wherein the set of the plurality of indicators (47)<br>
is a first set of indicators (47), the system (30) being further characterized by:<br>
a second trackable body (49) having a proximal body end portion (71) (71)<br>
pivotally connected to or adjacent the first trackable body (45), a free-moving distal body<br>
end portion (73), a medial body portion (75) connected to and extending between the<br>
proximal body end portion (71) and the distal body end portion (73), and having a<br>
second set of a plurality of separate and spaced-apart indicators (47) each connected at a<br>
. separate preselected position of the second trackable body (49) to indicate to the<br>
trackable body detector (53) a three-dimensional coordinate position of each indicator<br>
(47) in the second set of the plurality of indicators (47).<br>
5.	A system (30) as defined in Claim 4,<br>
wherein the determiner (55) includes memory (69) associated therewith, a<br>
predetermined transform matrix (M) stored in the memory (69) to indicate a transform<br>
magnitude, direction, and rotation between a preselected first trackable body reference<br>
coordinate system and a predetermined isocenter coordinate system; and<br>
wherein the determiner (55), responsive to the plurality of position signals from<br>
the trackable body detector (53) and the predetermined transform matrix (M), determines<br>
a three-dimensional coordinate position and orientation for each of the first and the<br>
second trackable bodies (45), (49), to thereby determine a respective three-dimensional<br>
coordinate position of the isocenter (57) and orientation of the isocenter coordinate<br>
system.<br>
6.	A system (30) as defined in either of Claims 4 or 5,<br>
wherein the determiner (55) includes memory (69) associated therewith, a<br>
predetermined transform matrix (M) stored in the memory (69) to indicate a transform<br>
magnitude, direction, and rotation between a preselected first trackable body reference<br>
coordinate system and a predetermined isocenter coordinate system, and geometry<br>
analyzing program product (81) stored in the memory (69) to analyze treatment<br>
apparatus (31) geometry; and<br>
AMENDED SHEET (ARTICLE 19)<br>
47<br><br>
WO 2007/030142	PCT/US2006/010483<br>
wherein the geometry analyzing program product (81) includes:<br>
a trackable body orientation determiner (87), responsive to the plurality of<br>
position signals produced by the trackable body detector (53), to determine a first<br>
trackable body orientation of the first trackable body (45) and to determine a<br>
second trackable body orientation of the second trackable body (47), and<br>
an isocenter orientation determiner (97), responsive to the first trackable<br>
body orientation and the second trackable body orientation, to determine an<br>
angular difference between the first trackable body orientation and the second<br>
trackable body orientation, the angular difference indicating an angle of rotation<br>
(A) of the rotating assembly (35), to thereby determine a three-dimensional<br>
orientation of the isocenter coordinate system for the treatment apparatus (31)<br>
independent of the angle of rotation (A) of the rotating assembly (35).<br>
7.	A system (30) as defined in any of Claims 4-6,<br>
wherein the first trackable body (43) has a first trackable body orientation;<br>
wherein the first trackable body (43) is substantially fixed to the preselected<br>
portion of the rotating assembly (35) of the treatment apparatus (31) so that during<br>
rotation of the rotating assembly (35) along the rotational path (RP) of the rotating<br>
assembly (35) from a preselected angle of rotation (A) of the rotating assembly (35), the<br>
first trackable body orientation rotates by an amount corresponding to an angle of<br>
rotation (A) of the preselected portion of the rotating assembly (35);<br>
wherein the second trackable body (49) has a second trackable body orientation;<br>
and<br>
wherein the proximal body end portion (71) of the second trackable body (49) is<br>
pivotally connected to a non-trackable body mounted to or adjacent the first trackable<br>
body (45) so that during rotation of the rotating assembly (35) from the preselected angle<br>
of rotation (A), the second trackable body orientation remains substantially constant.<br>
8.	A system (30) as defined in any of Claims 2-7, wherein the predetermined<br>
transform matrix (M) is a first predetermined transform matrix (M), wherein the<br>
determined three-dimensional position of the isocenter (57) is a first three-dimensional<br>
AMENDED SHEET (ARTICLE 19)<br>
48<br><br>
WO 2007/030142	PCT/US2006/010483<br>
coordinate position of the isocenter (57) determined with reference to the first trackable<br>
body (45), wherein the trackable body detector (53) is positioned at a location offset<br>
from the three-dimensional coordinate position of the isocenter (57) to define a trackable<br>
body detector (53) offset position, wherein the determiner (55) has a second<br>
predetermined transform matrix (M') stored in the memory (69) to indicate a transform<br>
between the predetermined isocenter coordinate system and a trackable body detector<br>
(53) reference coordinate system, wherein, responsive to the second predetermined<br>
transform matrix (M'), the determiner (55) determines a second three-dimensional<br>
coordinate position of the isocenter (57) with reference to the trackable body detector<br>
(53) offset position, and wherein the determiner (55) compares the first and the second<br>
determined three-dimensional coordinate positions of the isocenter (57), a substantial<br>
difference between the first and the second determined three-dimensional coordinate<br>
positions of the isocenter (57) indicating a possible isocenter coordinate system<br>
definition failure.<br>
9, A system (30) as defined in any of Claims 3-8,<br>
wherein the predetermined transform matrix (M) is a first predetermined<br>
transform matrix (M);<br>
wherein the determined three-dimensional position of the isocenter (57) is a first<br>
three-dimensional coordinate position of the isocenter (57) determined with reference to<br>
the three-dimensional coordinate position of the first trackable body (45);<br>
wherein the trackable body detector (53) has a preselected trackable body<br>
detector coordinate system;<br>
wherein the trackable body detector (53) is positioned at a preselected location<br>
offset from the three-dimensional coordinate position of the isocenter (57) to define a<br>
trackable body detector offset position of the trackable body detector coordinate system;<br>
wherein the determiner (55) has a second predetermined transform matrix (M')<br>
stored in the memory (69) to indicate a transform between the predetermined isocenter<br>
coordinate system and a preselected trackable body detector coordinate system;<br>
wherein the isocenter position determiner (95), responsive to the second<br>
predetermined transform matrix (M'), determines a second three-dimensional coordinate<br>
AMENDED SHEET (ARTICLE 19)<br>
49<br><br>
WO 2007/030142	PCT/US2006/010483<br>
position of the isocenter (57) with reference to the trackable body detector offset<br>
position; and<br>
wherein the geometry analyzing program product (81) further includes an<br>
isocenter comparator (105), responsive to the first and the second determined three-<br>
dimensional coordinate positions of the isocenter (57), to compare the first and the<br>
second determined three-dimensional coordinate positions of the isocenter (57), a<br>
substantial difference between the first and the- second determined three-dimensional<br>
coordinate positions of the isocenter (57) indicating a possible isocenter coordinate<br>
system definition failure.<br>
10.	A system (30) as defined in any of Claims 1-9, wherein the system (30) further<br>
includes a controller (39), responsive to the treatment plan treatment delivery<br>
instructions, to control delivery of the radiation beam to the patient, and wherein the<br>
determiner (55) is in communication with the application computer (41), and wherein the<br>
determiner (55), responsive to determination of a possible isocenter definition failure,<br>
when so determined, signals the application computer (41) to perform at least one of the<br>
following operations: notify an operator a possible definition failure exists, signal the<br>
controller (39) to terminate radiation delivery, and signal the controller (39) to adjust<br>
radiation beam direction or intensity as necessary to compensate for the possible<br>
isocenter definition failure.<br>
11.	A system (30) as defined in any of Claims 1-10,<br>
wherein the determiner (55) includes memory (69) associated therewith and a<br>
predetermined rotational path (RP) of the rotating assembly (35) stored in the memory<br>
(69);<br>
wherein the determiner (55), responsive to the plurality of position signals from<br>
the trackable body detector (53), determines a set of first trackable body positions (S)<br>
located substantially along the rotational path (RP) of the rotating assembly (35); and<br>
wherein the determiner (55) compares each first trackable body position (S) of<br>
the set of first trackable body positions (S) to the predetermined rotational path (RP) to<br>
thereby determine if either of the three-dimensional coordinate trackable body positions<br>
AMENDED SHEET (ARTICLE 19)<br>
50<br><br>
WO 2007/030142	PCT/US2006/010483<br>
(S) substantially deviate from a position substantially coincident with the predetermined<br>
rotational path (RP), such deviation indicating a possible isocenter definition failure.<br>
12.	A system (30) as defined in any of Claims 1-11,<br>
wherein the determiner (55) includes memory (69) associated therewith, and a<br>
predetermined rotational path (RP) of the rotating assembly (35) stored in the memory<br>
(69), and geometry analyzing program product (81) stored in the memory (69) to analyze<br>
treatment apparatus geometry; and<br>
wherein the geometry analyzing program product (81) includes:<br>
a trackable body position determiner (85), responsive to the plurality of<br>
position signals produced by the trackable body detector (53), to determine a<br>
plurality of first trackable body positions (S) along the rotational path (RP) of the<br>
rotating assembly (35), and<br>
a rotational path comparator (107), responsive to the plurality of<br>
determined first trackable body positions (S), to compare the determined plurality<br>
of first trackable body positions (S) to the predetermined rotational path (RP) to<br>
thereby determine if either of the determined plurality of first trackable body<br>
positions (S) substantially deviate from a position substantially coincident with<br>
the predetermined rotational path (RP) of the rotating assembly (35), such<br>
deviation indicating a possible isocenter definition failure.<br>
13.	A system (30) as defined in Claim 12, wherein the determiner (55), responsive to<br>
determination of a substantial deviation of either of the first trackable body positions (S)<br>
from a position substantially coincident with the predetermined rotational path (RP) of<br>
the rotating assembly (35), determines a corrected three-dimensional coordinate position<br>
of the isocenter (57).<br>
AMENDED SHEET (ARTICLE 19)<br>
51<br><br>
WO 2007/030142	PCT/US2006/010483<br>
14,	A traclcable assembly (43) to provide three-dimensional positional and angular<br>
rotational data about a rotating assembly (35) of a treatment apparatus (31) to thereby<br>
detect a possible isocenter coordinate system definition failure, and characterized by a<br>
traclcable body (49) having a proximal body end portion (71) adapted to be pivotally<br>
connected to a preselected portion of the rotating assembly (35), a free-moving distal<br>
body end portion (73), a medial body portion (75) connected to and extending between<br>
the proximal body end portion (71) and the distal body end portion (73), and having a<br>
plurality of separate and spaced-apart indicators (47) each connected at a separate<br>
preselected position thereon to indicate a separate three-dimensional coordinate position<br>
of each indicator (47), to thereby provide three-dimensional position data and orientation<br>
data of the trackable body (49), the trackable body (49) adapted to be tracked by an<br>
apparatus (51) to track a trackable body over a subset of possible trackable body<br>
positions and orientations to provide a substantially constant reference orientation to the<br>
apparatus (51) to track a trackable body.<br>
15.	A trackable assembly (43) as defined in Claim 14, wherein the trackable body<br>
(49) is a first trackable body (49) having a first set of a plurality of separate and spaced<br>
apart indicators (47), and wherein the trackable assembly (43) is further characterized by<br>
a second trackable body (45) adapted to be fixedly connected to a preselected portion of<br>
a rotating assembly (35) located at a predetermined offset position relative to a<br>
predetermined three-dimensional coordinate position of an isocenter (57) of an isocenter<br>
coordinate system of the treatment apparatus (31), the second trackable body (45) having<br>
a plurality of separate and spaced-apart indicators (47) each connected at a separate<br>
preselected position thereon to indicate a separate three-dimensional coordinate position<br>
of each indicator (47), to thereby provide three-dimensional positional data of the second<br>
trackable body (45), the second trackable body (45) adapted to be tracked by the<br>
apparatus (51) to track a trackable body over a subset of possible trackable body<br>
positions to provide a fixed positional reference to the three-dimensional coordinate<br>
position of the isocenter (57).<br>
AMENDED SHEET (ARTICLE 19)<br>
52<br><br>
WO 2007/030142	PCT/US2006/010483<br>
16.	A trackable assembly (43) as defined in Claim 15, wherein the first trackable<br>
body (49) is pivotally connected to a non-trackable body mounted to the second<br>
traclcable body (45).<br>
17.	A trackable assembly (43) as defined in either of Claims 15 or 16, wherein the<br>
first trackable body (49) and the second trackable body (45) together provide the<br>
apparatus (51) to track a trackable body angle of rotation data about the rotating<br>
assembly (35).<br>
18.	A trackable assembly (43) as defined in any of Claims 15-17, wherein the first<br>
and the second trackable bodies (49), (45) provide the apparatus (51) to track a trackable<br>
body respective three-dimensional orientation data for the first and the second trackable<br>
bodies (49), (45), respectively, the apparatus (51) to track a trackable body adapted to<br>
determine an angular difference between the first trackable body orientation and the<br>
second trackable body orientation, the angular difference indicating an angle of rotation<br>
(A) of the rotating assembly (35) used by the apparatus (51) to track a trackable body to<br>
determine an orientation of the isocenter coordinate system of the treatment apparatus<br>
(31) independent of the angle of rotation (A) of the rotating assembly (35).<br>
19.	A trackable assembly (43) as defined in any of Claims 15-18, wherein the second<br>
trackable body (45) is substantially fixed to the preselected portion of the rotating<br>
assembly (35) of the treatment apparatus (31) so that during rotation of the rotating<br>
assembly (35) a second trackable body orientation rotates by an amount proportional to<br>
an angle of rotation (A) of the preselected portion of the rotating assembly (35) along the<br>
rotational path (RP) of the rotating assembly (35) from a preselected angle of rotation<br>
(A) of the rotating assembly (35).<br>
20.	A trackable assembly (43) as defined in any of Claims 14-19, wherein the first<br>
trackable body orientation, responsive to gravity, remains substantially vertical during .<br>
rotation of the rotating assembly (35).<br>
AMENDED SHEET (ARTICLE 19)<br>
53<br><br>
WO 2007/030142	PCT/US2006/010483<br>
21. A traclcable assembly (43) as defined in any of Claims 15-20, wherein the second<br>
trackable body (45) provides the apparatus (51) to track a traclcable body a trackable<br>
reference to a predetermined rotational path (RP) of the rotating assembly (35).<br>
22.	A trackable assembly (43) as defined in Claim 21, wherein the second traclcable<br>
body (45) provides the apparatus (51) to track a trackable body three-dimensional<br>
positional data for the trackable body (45) so that the apparatus (51) to track a traclcable<br>
body determines a plurality of positions (S) of the second trackable body (45) to thereby<br>
determine if either of a plurality of three-dimensional coordinate positions (S) of the<br>
second trackable body (45) determined by the apparatus (51) to track a trackable body<br>
substantially deviate from a position substantially coincident with the predetermined<br>
rotational path (RP) of the rotating assembly (35), such deviation indicating possible<br>
isocenter coordinate system definition failure.<br>
23.	Geometry analyzing program product (81) stored on a storage media to analyze a<br>
geometry of a treatment apparatus (31) having a rotating assembly (35) to thereby detect<br>
a possible isocenter coordinate system definition failure, the program product (81)<br>
comprising a trackable body position determiner (85), adapted to receive a plurality of<br>
position signals produced by a trackable body detector (53) and indicating a separate<br>
position of a plurality of separate and spaced-apart trackable indicators (47) connected to<br>
a trackable body (45) positioned along a rotational path (RP) of a rotating assembly (35),<br>
to determine a trackable body position of the trackable body (45), the program product<br>
(81) being characterized by:<br>
an isocenter position determiner (95), responsive to the determined trackable<br>
body position and a predetermined transform matrix (M) indicating a transform<br>
magnitude and direction between a predetermined trackable body coordinate system and<br>
a predetermined isocenter coordinate system of the treatment apparatus (31), to<br>
determine a respective at least one three-dimensional coordinate position of an isocenter<br>
(57) of the isocenter coordinate system.<br>
24.	Program product (81) as defined in Claim 23, further characterized by:<br>
AMENDED SHEET (ARTICLE 19)<br>
54<br><br>
WO 2007/030142	PCT/US2006/010483<br>
a deviation detector (101), responsive to at least one of the traclcable body<br>
position determiner (85) and the isocenter position determiner (95), to detect a deviation<br>
in the geometry of the rotating assembly (35), when so existing, such deviation<br>
indicating a possible isocenter coordinate system definition failure; and<br>
a deviation responder (103), responsive to detection of the deviation, when so<br>
existing, to respond to such deviation during application of the treatment plan by<br>
signaling an existence of a possible isocenter coordinate system definition failure.<br>
25.	Program product (81) as defined in either Claims 23 or 24,<br>
wherein the trackable body (45) is a first traclcable body (45);<br>
wherein the plurality of position signals produced by the trackable body detector<br>
(53) also indicate separate positions of a plurality of separate and spaced-apart trackable<br>
indicators (47) connected to a second trackable body (49) also positioned along the<br>
rotational path (RP) of the rotating assembly (35); and<br>
wherein the program product (81) is further characterized by:<br>
a trackable body orientation determiner (87), responsive to the plurality of<br>
position signals produced by the trackable body detector (53), to determine a first<br>
traclcable body orientation of the first trackable body (45) and to determine a<br>
second trackable body orientation of the second trackable body (49), and<br>
an isocenter orientation determiner (97), responsive to the determined first<br>
trackable body orientation and the second trackable body orientation, to<br>
determine an angular difference between the first trackable body orientation and<br>
the second trackable body orientation, the angular difference indicating an angle<br>
of rotation (A) of the rotating assembly (35), to thereby determine an orientation<br>
of the isocenter coordinate system for the treatment apparatus (31) independent of<br>
the angle of rotation (A) of the rotating assembly (35).<br>
26.	Program product (81) as defined in any of Claims 23-25,<br>
wherein the predetermined transform matrix (M) is a first predetermined<br>
transform matrix (M);<br>
AMENDED SHEET (ARTICLE 19)<br>
55<br><br>
WO 2007/030142	PCT/US2006/010483<br>
wherein the determined three-dimensional coordinate position of the isocenter<br>
(57) is a first three-dimensional coordinate position of the isocenter (57) determined with<br>
reference to the first trackable body position;<br>
wherein the trackable body detector (53) is positioned at a fixed location offset<br>
from the three-dimensional coordinate position of the isocenter (57) to define a trackable<br>
body detector offset position;<br>
wherein the isocenter position determiner (95), responsive to a second<br>
predetermined transform matrix (M') indicating a transform magnitude and direction<br>
between the preselected trackable body detector reference offset position for the<br>
trackable body detector (53) and the predetermined three-dimensional coordinate<br>
position of the isocenter (57) of the treatment apparatus (31), determines a second three-<br>
dimensional coordinate position of the isocenter (57) with reference to the trackable body<br>
detector (53) offset position; and<br>
wherein the program product (81) is further characterized by an isocenter<br>
comparator (105), responsive to the first and the second determined three-dimensional<br>
coordinate positions of the isocenter (57), to compare the first and the second three-<br>
dimensional coordinate positions of the isocenter (57), a substantial difference between<br>
the first and the second determined three-dimensional coordinate positions of the<br>
isocenter (57) indicating a possible isocenter coordinate system definition failure.<br>
27. Program product (81) as defined in either of Claims 25 or 26,<br>
wherein the determined orientation of the isocenter coordinate system is a first<br>
orientation of the isocenter coordinate system determined from an angular difference<br>
between the first trackable body orientation and the second trackable body orientation;<br>
wherein the isocenter orientation determiner (97) determines a second orientation<br>
of the isocenter coordinate system referenced to a trackable body detector (53) reference<br>
orientation; and<br>
wherein the isocenter comparator (105), responsive to the first and the second<br>
determined orientations of the isocenter coordinate system, compares the first and the<br>
second determined orientations of the isocenter coordinate system, a substantial<br>
difference between the first and the second determined orientations of the isocenter<br>
coordinate system indicating a possible isocenter coordinate system definition failure.<br>
AMENDED SHEET (ARTICLE 19)<br>
56<br><br>
WO 2007/030142	PCT/US2006/010483<br>
28.	Program product (81) as defined in any of Claim 23-27,<br>
wherein the traokable body position determiner (85) determines a plurality of<br>
three-dimensional coordinate trackable body positions (S) located along the rotational<br>
path (RP) of the rotating assembly (35); and<br>
wherein the program product (81) is further characterized by a rotational path<br>
comparator (107), responsive to the plurality of determined trackable body positions (S)<br>
and is positioned to receive a predetermined rotational path (RP) of the rotating assembly<br>
(35), to determine if either of the plurality of determined trackable body positions (S)<br>
substantially deviate from a position substantially coincident with the predetermined<br>
rotational path (RP) of the rotating assembly (35), such deviation indicating a possible<br>
isocenter coordinate system definition failure.<br>
29.	Program product (81) as defined in Claim 28, wherein the isocenter position<br>
determiner (95), responsive to the determination of the deviation, determines a corrected<br>
three-dimensional coordinate position of the isocenter (57).<br>
30.. Program product (81) as defined in Claim 29, wherein the corrected three-<br>
dimensional coordinate position of the isocenter (57) is determined for a plurality of<br>
rotational positions along a maximum rotational range of the rotating assembly (35).<br>
31. A computer readable medium that is readable by a computer (55) to monitor a<br>
geometry of an apparatus (31) having a rotating assembly (35) to thereby detect a<br>
possible isocenter coordinate system definition failure, the computer readable medium<br>
comprising a set of instructions that, when executed by the computer (55), cause the<br>
computer (55) to perform the operations of receiving a plurality of position signals<br>
produced by a trackable body detector (53) and indicating a separate three-dimensional<br>
coordinate position of a plurality of trackable indicators (47) connected respectively to a<br>
trackable body (45), and determining a three-dimensional coordinate trackable body<br>
position of the trackable body (45) responsive to the plurality of position signals, the<br>
operations being further characterized by:<br>
AMENDED SHEET (ARTICLE 19)<br>
57<br><br>
WO 2007/030142	PCT/US2006/010483<br>
receiving a predetermined transform matrix (M) indicating a transform<br>
magnitude, direction, and rotation between a predetermined trackable body reference<br>
coordinate system of the trackable body (45) and a predetermined isocenter coordinate<br>
system of the apparatus (31); and<br>
determining a respective a three-dimensional coordinate system definition of the<br>
isocenter (57) of the apparatus (31), responsive to the determined trackable body position<br>
and the predetermined transform matrix (M).<br>
32.	A computer readable medium as defined in Claim 31, wherein the trackable body<br>
(45) is a first trackable body (45), and wherein the plurality of position signals produced<br>
by the trackable body detector (53) also indicate separate three-dimensional coordinate<br>
positions of a plurality of separate and spaced-apart trackable indicators (47) connected<br>
to a second trackable body (49), the operations being further characterized by:<br>
determining a first trackable body orientation of the first trackable body (45) and<br>
a corresponding second trackable body orientation of the second trackable body (49),<br>
responsive to the plurality of position signals;<br>
determining an angular difference between the first trackable body orientation<br>
and the second trackable body orientation responsive to the determined first trackable<br>
body orientation and the determined second trackable body orientation, the angular<br>
difference indicating an angle of rotation (A) of the rotating assembly (35); and<br>
 responsive to the angle of rotation (A) of the rotating assembly (35), determining<br>
a three-dimensional orientation of the isocenter coordinate system for the apparatus (31)<br>
independent of the angle of rotation (A) of the rotating assembly (35).<br>
33.	A computer readable medium as defined in any of Claims 31 or 32, wherein the<br>
predetermined transform matrix (M) is a first predetermined transform matrix (M),<br>
wherein the determined three-dimensional system definition of the isocenter (57) is a<br>
first three-dimensional coordinate system definition of the isocenter (57) determined<br>
with reference to the first trackable body position, and wherein the trackable body<br>
detector (53) is positioned at a fixed location offset from the three-dimensional<br>
coordinate system definition of the isocenter (57) to define a trackable body detector<br>
reference offset position, the operations being further characterized by:<br>
AMENDED SHEET (ARTICLE 19)<br>
58<br><br>
WO 2007/030142	PCT/US2006/010483<br>
receiving a second predetermined transform matrix (M') indicating a transform<br>
magnitude, direction, and rotation between a trackable body detector (53) coordinate<br>
system for the trackable body detector (53) and the predetermined isocenter coordinate<br>
system of the apparatus (31);<br>
determining a second three-dimensional coordinate system definition of the<br>
isocenter (57) referenced to the trackable body detector offset position, responsive to the<br>
second predetermined transform matrix (M'); and<br>
comparing the first and the second three-dimensional coordinate system<br>
definitions of the isocenter (57), responsive to determine the first and the second<br>
determined three-dimensional coordinate system definitions of the isocenter (57), a<br>
substantial difference between the first and the second determined three-dimensional<br>
coordinate system definitions of the isocenter (57) indicating a possible isocenter<br>
coordinate system definition failure.<br>
34.	A computer readable medium as defined in any of Claims 31-33, the operations<br>
being further characterized by:<br>
receiving a data set defining a predetermined rotational path (RP) of the rotating<br>
assembly (35), to define a rotational path (RP) dataset;<br>
determining if the determined trackable body position substantially deviates from<br>
a position substantially coincident with the predetermined rotational path (RP) of the<br>
rotating assembly (35), responsive to the determined trackable body position and the<br>
rotational path (RP) dataset, such deviation indicating a possible isocenter coordinate<br>
system definition failure; and<br>
determining a corrected three-dimensional coordinate system definition of the<br>
isocenter (57) and orientation of the isocenter coordinate system, responsive to the<br>
determination of the deviation.<br>
35.	A computer readable medium that is readable by a computer to monitor during<br>
patient treatment delivery a geometry of a treatment apparatus (31) having a rotating<br>
assembly (35) to thereby detect a possible isocenter coordinate system definition failure,<br>
the computer readable medium comprising a set of instructions that, when executed by<br>
AMENDED SHEET (ARTICLE 19)<br>
59<br><br>
WO 2007/030142	PCT/US2006/010483<br>
the computer (55), cause the computer (55) to perform the operations of receiving a<br>
plurality of position signals produced by a trackable body detector (53) and that indicate<br>
a separate three-dimensional coordinate position of a plurality of separate and spaced-<br>
apart trackable indicators (47) connected to a trackable body (45) positioned along a<br>
rotational path (RP) of the rotating assembly (35), the operations being further<br>
characterized by:<br>
determining during patient treatment delivery a three-dimensional coordinate<br>
trackable body position of the trackable body (45), responsive to the plurality of position<br>
signals;<br>
receiving a predetermined transform matrix (M) indicating a transform between a<br>
predetermined trackable body coordinate system of the trackable body and a<br>
predetermined isocenter coordinate system of the treatment apparatus (31); and<br>
determining an at least one three-dimensional coordinate position of the isocenter<br>
(57), responsive to the determined three-dimensional coordinate position of the trackable<br>
body (45) and the predetermined transform matrix (M).<br>
36.	A computer readable medium as defined in Claim 35, the operations being further<br>
characterized by:<br>
detecting a deviation in the geometry of the rotating assembly (35), when so<br>
existing, responsive to the determined three-dimensional coordinate position of the<br>
isocenter (57), such deviation indicating a possible isocenter coordinate system definition<br>
failure; and<br>
responding to the deviation by signaling an existence of the possible isocenter<br>
(57) definition failure, responsive to detection of the deviation.<br>
37.	A computer readable medium as defined in either of Claims 35 or 36, wherein the<br>
trackable body (45) is a first trackable body (45), and wherein the plurality of position<br>
signals produced by the trackable body detector (53) also indicate separate three-<br>
dimensional coordinate positions of a plurality of separate and spaced-apart trackable<br>
indicators (47) connected to a second trackable body (49) also positioned along the<br>
AMENDED SHEET (ARTICLE 19)<br>
60<br><br>
WO 2007/030142	PCT/US2006/010483<br>
rotational path (RP) of the rotating assembly (35), the operations being further<br>
characterized by:<br>
determining a first trackable body orientation of the first trackable body (45) and<br>
determining a corresponding second trackable body orientation of the second trackable<br>
body (49), responsive to the plurality of position signals produced by the traclcable body<br>
detector (53);<br>
determining an angular difference between the first trackable body orientation<br>
and the second trackable body orientation, responsive to the determined first trackable<br>
body orientation and the second traclcable body orientation, the angular difference<br>
indicating an angle of rotation (A) of the rotating assembly (35); and<br>
determining a three-dimensional orientation of the isocenter coordinate system<br>
for the treatment apparatus (31) independent of the angle of rotation (A) of the rotating<br>
assembly (35), responsive to the angle of rotation (A) of the rotating assembly (35).<br>
38. A computer readable medium as defined in any of Claims 35-37, wherein the<br>
predetermined transform matrix (M) is a first predetermined transform matrix (M), and<br>
wherein the determined three-dimensional position of the isocenter (57) is a first three-<br>
dimensional coordinate position of the isocenter (57) determined with reference to the<br>
first trackable body position, wherein the trackable body detector (53) is positioned at a<br>
fixed location offset from the three-dimensional coordinate position of the isocenter (57)<br>
to define a trackable body detector offset position, the operations being further<br>
characterized by:<br>
receiving a second predetermined transform matrix (M') indicating a transform<br>
between a trackable body detector (53) coordinate system for the trackable body detector<br>
(53) and the predetermined isocenter coordinate system of the treatment apparatus (31);<br>
determining a second three-dimensional coordinate position of the isocenter (57)<br>
with reference to the trackable body detector offset position, responsive to the second<br>
predetermined transform matrix (M'); and<br>
comparing the first and the second three-dimensional coordinate positions of the<br>
isocenter (57), responsive to the first and the second determined three-dimensional<br>
coordinate positions of the isocenter (57), a substantial difference between the first and<br>
AMENDED SHEET (ARTICLE 19)<br>
61<br><br>
WO 2007/030142	PCT/US2006/010483<br>
the second determined three-dimensional coordinate positions of the isocenter (57)<br>
indicating a possible isocenter coordinate system definition failure.<br>
39.	A computer readable medium as defined in Claim 38, the operations being further<br>
characterized by:<br>
determining an angle of rotation (A) of the rotating assembly (35), responsive to<br>
the determined first trackable body orientation and the second trackable body orientation;<br>
and<br>
determining a location of a cause of the possible isocenter coordinate system<br>
definition failure, responsive to the determined angle of rotation (A) of the rotating<br>
assembly (35) and the possible isocenter definition failure.<br>
40.	A computer readable medium as defined in either of Claims 38 or 39, wherein the<br>
determined orientation of the isocenter coordinate system is a first orientation of the<br>
isocenter coordinate system determined from an angular difference between the first<br>
trackable body orientation and the second trackable body orientation, the operations<br>
being further characterized by:<br>
determining a second orientation of the isocenter coordinate system referenced to<br>
a trackable body detector (53) offset position, responsive to the second predetermined<br>
transform matrix (M'); and<br>
comparing the first and the second determined orientations of the isocenter<br>
coordinate system, responsive to the first and the second determined orientations of the<br>
isocenter coordinate system, a substantial difference between the first and the second<br>
determined orientations of the isocenter coordinate system indicating a possible isocenter<br>
coordinate system definition failure.<br>
41.	A method of determining an isocenter (57) of a treatment apparatus (31) having a<br>
rotating assembly (35) to detect a possible isocenter coordinate system definition failure,<br>
the method being characterized by the steps of:<br>
determining a three-dimensional coordinate position of a trackable body (45),<br>
(49) connected to a preselected portion of the rotating assembly (35) and located at a<br>
AMENDED SHEET (ARTICLE 19)<br>
62<br><br>
WO 2007/030142	PCT/US2006/010483<br>
predetermined offset position relative to a predetermined three-dimensional coordinate<br>
system definition of an isocenter (57) of an isocenter coordinate system of the treatment<br>
apparatus (31), the tractable body (45), (49) having a plurality of separate and spaced-<br>
apart indicators (47) each connected at a separate preselected position on the trackable<br>
body (45), (49) to indicate a separate three-dimensional coordinate position of each<br>
indicator (47) of the plurality of indicators (47), to thereby provide three-dimensional<br>
positional data of the trackable body (45), (49); and<br>
detennining the three-dimensional coordinate system definition of the isocenter<br>
(57) by applying to the determined three-dimensional position of the trackable body (45),<br>
(49) a predetermined transform matrix (M) indicating a transform between a trackable<br>
body reference coordinate system and the isocenter coordinate system.<br>
42.	A method as defined in Claim 41, wherein the trackable body (45), (49) is a first<br>
trackable body (45) having a first plurality of separate and spaced apart indicators (47),<br>
the method being further characterized by the steps of:<br>
determining a first trackable body orientation of the first trackable body (45); and<br>
determining a second trackable body orientation of a second trackable body (49),<br>
the second trackable body (49) having: a proximal body end portion (71) pivotally<br>
connected to or adjacent the first trackable body (45) and a free moving distal body end<br>
portion (73) to provide a substantially constant reference orientation, a medial body<br>
portion (75) connected to and extending between the proximal body end portion (71) and<br>
the distal body end portion (73), and a second plurality of separate and spaced-apart<br>
indicators (47) each connected at a separate preselected position on the second trackable<br>
body to indicate a separate three-dimensional coordinate position of each indicator (47)<br>
of the second plurality of indicators (47), to thereby provide second trackable body<br>
orientation data of the second trackable body (49).<br>
43.	A method as defined in Claim 42, the method being further characterized by the<br>
step of comparing the first trackable body orientation of the first trackable body (45) to<br>
the second trackable body orientation of the second trackable body (49) at a sampled<br>
point to thereby determine the angular rotation of the rotating assembly (35) at the<br>
sampled point.<br>
AMENDED SHEET (ARTICLE 19)<br>
63<br><br>
WO 2007/030142	PCT/US2006/010483<br>
44.	A method as defined in either of Claims 42 or 43, wherein the isocenter<br>
coordinate system has an orientation relative to the first trackable body orientation, the<br>
method being further characterized by the steps of:<br>
determining an angular difference between the first trackable body orientation of<br>
the first trackable body (45) and the second trackable body orientation of the second<br>
trackable body (49), the angular difference indicating an isocenter angular correction<br>
factor; and<br>
applying the isocenter angular correction factor to the determined three-<br>
dimensional coordinate system definition of the isocenter (57), to thereby determine an<br>
orientation of the isocenter coordinate system for the treatment apparatus (31)<br>
independent of angle of rotation (A) of the rotating assembly (35).<br>
45.	A method of monitoring a geometry of a treatment apparatus (31) having a<br>
rotating assembly (35) to detect a possible isocenter coordinate system definition failure,<br>
the method being characterized by the steps of:<br>
connecting a trackable body (45), (49) to a preselected portion of the rotating-<br>
assembly (35) located at a predetermined offset position relative to a predetermined<br>
three-dimensional coordinate position of an isocenter (57) of the treatment apparatus<br>
(3D;<br>
sampling and analyzing at least one position of the trackable body (45), (49)<br>
along a rotational path (RP) of the rotating assembly (35) to detect a deviation in the<br>
geometry of the rotating assembly (35), when so existing, during application of the<br>
treatment plan, to thereby verify a definition of the isocenter coordinate system<br>
determined with reference to the trackable body (45), (49); and<br>
signaling an existence of a possible isocenter coordinate system definition failure,<br>
responsive to detection of the deviation.<br>
46.	A method as defined in Claim 45, wherein the step of detecting a deviation<br>
further comprises the steps of:<br>
AMENDED SHEET (ARTICLE 19)<br>
64<br><br>
WO 2007/030142	PCT/US2006/010483<br>
determining a three-dimensional coordinate position of the trackable body (45),<br>
(49) to define a trackable body position;<br>
applying to the trackable body position, a first predetermined transform matrix<br>
(M) indicating a transform between a predetermined trackable body reference coordinate<br>
system and a predetermined isocenter coordinate system, to thereby determine a first<br>
determined isocenter coordinate position;<br>
determining a three-dimensional coordinate position of a portion of an apparatus<br>
(51) to track a trackable body to define a trackable body detector offset position;<br>
applying to the trackable body detector offset position, a second predetermined<br>
transform matrix (M') indicating a transform between the predetermined trackable body<br>
detector offset position and the predetermined three-dimensional coordinate position of<br>
the isocenter (57), to thereby determine a second determined isocenter position; and<br>
comparing the first and the second determined isocenter positions, a substantial<br>
difference between the first and the second determined isocenter positions indicating a<br>
possible isocenter coordinate system definition failure.<br>
47. A method as defined in either of Claims 45 and 46, wherein the trackable body<br>
(45), (49) is a first trackable body (45), and wherein the step of detecting a deviation<br>
further comprises the steps of:<br>
determining an angular difference between a first trackable body orientation of<br>
the first trackable body (45) and a second trackable body orientation of a second<br>
trackable body (49) pivotally connected to or adjacent the first trackable body (45), to<br>
thereby determine a first determined orientation of the isocenter (57);<br>
determining a second determined orientation of the isocenter coordinate system,<br>
responsive to a predefined orientation of a portion of the apparatus (51) to track a<br>
trackable body; and<br>
comparing the first and the second orientations of the isocenter coordinate<br>
system, a substantial difference between the first and the second determined orientations<br>
of the isocenter coordinate system indicating a possible isocenter coordinate system<br>
definition failure.<br>
AMENDED SHEET (ARTICLE 19)<br>
65<br><br>
WO 2007/030142	PCT/US2006/010483<br>
48.	A method as defined in any of Claims 45-47, wherein the step of detecting a<br>
deviation further comprises the steps of:<br>
determining a plurality of three-dimensional coordinate trackable body positions<br>
for the trackable body located along the rotational path (RP) of the rotating assembly<br>
(35); and<br>
comparing each of the determined three-dimensional coordinate trackable body<br>
positions to a predetermined rotational path (RP) of the rotating assembly (35), to<br>
determine if either of the plurality of determined three-dimensional coordinate trackable<br>
body positions substantially deviate from a position substantially coincident with the<br>
predetermined rotational path (RP) of the rotating assembly (35), such deviation<br>
indicating a possible isocenter coordinate system definition failure.<br>
49.	A method as defined in Claim 48, wherein the step of responding to detection of<br>
the deviation further comprises the step of determining a corrected three-dimensional<br>
coordinate position of the isocenter (57).<br>
50.	A method as defined in Claim 49, wherein the corrected three-dimensional<br>
coordinate position of the isocenter (57) is determined for a plurality of rotational<br>
positions along a maximum rotational range of the rotating assembly (35).<br>
AMENDED SHEET (ARTICLE 19)<br>
66<br><br>
A system (30) to monitor a geometry of a treatment apparatus (31), an apparatus (51), a trackable assembly (43), program product (81), and methods are provided. The system (30) includes a treatment apparatus (31) having a radiation emitter (33), a rotating assembly (35) controlled by a controller (39), and an application computer (41), which provides treatment delivery instructions to the controller (39). The system (30) can also include a trackable assembly (43) connected to the rotating assembly (35) and having a fixedly connected first trackable body (45) which functions as a reference fixture and a pivotally connected second trackable body (49) which provides data used to determine a rotation angle of the rotating assembly (35). The system (30) also includes an apparatus (51) to track a trackable body which has a trackable body detector (53) to detect a position of the indicators (47) carried by the first and the second trackable bodies (45), (49) and a determiner (55) to determine and verify the location of the origin (57) of an isocenter coordinate system and to determine rotational path data about the rotating assembly (35).<br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/viewdoc.aspx?id=oIktBtDdGpdesWgEHvrPXQ==&amp;amp;loc=wDBSZCsAt7zoiVrqcFJsRw==" target="_blank" style="word-wrap:break-word;">http://ipindiaonline.gov.in/patentsearch/GrantedSearch/viewdoc.aspx?id=oIktBtDdGpdesWgEHvrPXQ==&amp;amp;loc=wDBSZCsAt7zoiVrqcFJsRw==</a></p>
		<br>
		<div class="pull-left">
			<a href="270162-battery-and-heat-exchanger-structure-thereof.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="270164-system-and-method-for-joining-non-transparent-parts-by-means-of-a-radiation-curable-adhesive.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>270163</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>3850/KOLNP/2007</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>49/2015</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>04-Dec-2015</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>30-Nov-2015</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>09-Oct-2007</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>NOMOS CORPORATION</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>200 WEST KENSINGER DRIVE, SUITE 100, CRANBERRY TOWNSHIP, PA</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>SMETAK EDWARD CHARLES</td>
											<td>25606 WINSTON HOLLOW LANE, KATY, TX 77494</td>
										</tr>
										<tr>
											<td>2</td>
											<td>SCHERCH JOHN DAVID</td>
											<td>438 S. DALLAS AVENUE, PITTSBURGH, PA 15208</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>A61N 5/10</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/US2006/010483</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2006-03-23</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>60/664,513</td>
									<td>2005-03-23</td>
								    <td>U.S.A.</td>
								</tr>
								<tr>
									<td>2</td>
									<td>11/374,572</td>
									<td>2006-03-10</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/270163-system-for-monitoring-the-geometry-of-a-radiation-treatment-apparatus-trackable-assembly-program-product-and-related-methods by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 05:22:00 GMT -->
</html>
