<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/210564-a-method-and-apparatus-for-measuring-time-related-to-satellite-date-messages by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 03:33:06 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 210564:A METHOD AND APPARATUS FOR MEASURING TIME RELATED TO SATELLITE DATE MESSAGES</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">A METHOD AND APPARATUS FOR MEASURING TIME RELATED TO SATELLITE DATE MESSAGES</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>The present invention relates to a method and apparatus for measuring time related to satellite data messages which are used with satellite positioning systems (SPS). In one method, a first record of at least a portion of a satellite data message is received at an entity, which is typically a basestation. The first record is compared with a second record of the satellite data message, where the first record and the second record overlap at least partially in time. Then a time is determined from this comparison, and this time indicates when the first record (or the source from which the first record was obtained) was received at a remote entity which is typically a mobile SPS receiver. Various other methods of the invention are described and various apparatuses of the invention are also described. The methods and apparatuses measure time of day using SPS signals without reading the satellite data messages which are transmitted as data within these signals. The methods and apparatuses are suitable for situations in which the received signal level is too weak to allow reading of the satellite data messages.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td> <br><br>
METHOD AND APPARATUS FOR SATELLITE POSITIONING SYSTEM<br>
ISPS-&gt; TIME MEASUREMENT<br>
This application is a continuation-in-part (CEP) of provisional patent application Serial No. 60/125,673 which was filed March 22,1999 and which is entitled "Method and Apparatus for Satellite Positioning System (SPS) Time Measurement." This application hereby claims the benefit of the filing date of this provisional patent application.<br>
The present invention relates to methods and systems which use received signals from Satellite Position Systems (SPS) to locate themselves or to determine time-of-day. This invention is a continuation-in-part of co-pending U.S. Patent Application Serial No. 09/074,521, filed May 7,1998 by Norman Krasner, which is a continuation of U.S. Patent Application Serial No. 08/794,649, filed February 3,1997, which is now U.S. Patent No. 5,812,087 (referred to as the "Parent Patent"). The Parent Patent is hereby incorporated herein by reference. The disclosure in Patent Application No. 08/842,559 filed April 15,1997 is also incorporated herein by reference.<br>
In most situations, the methods of the Parent Patent work reliably, allowing one system (e.g. a server system) to determine a time of capture of SPS signals (such as, for example, Global Positioning System (GPS) signals) at another system (e.g. a mobile SPS receiver/client system).<br>
In most situations of interest the time coordination method of this invention (termed "pattern matching") works reliably. In some unusual situations, there are extremely long latencies in transmitting the signal between the mobile (e.g. mobile unit 453 of Figure 6 of the Parent Patent) and the server (e.g. basestation 463 of Figure 6 of the Parent Patent), This can arise if the link utilizes packet communications which allow arbitrarily long routing delays. On rare occurrences such packets may arrive after a very long period of time. Such a long latency would require that the server compare the received pattern from the mobile with a very long record stored at the server. This may be computationally complex and may require a considerable amount of time to perform the necessary computations. In addition, long latencies may give rise to ambiguities associated with the repetitions in the data patterns. For example, a substantial portion of the U.S. GPS data signal repeats at 30 second intervals, and small portions may repeat at 6<br><br>
second intervals. In such circumstances the pattern match procedure may produce ambiguous results.<br>
SUMMARY OF THE INVENTION<br>
The present invention provides methods and apparatuses for measuring time related to satellite data messages which are used with satellite position systems, such as GPS or Glonass. A method in one embodiment comprises the steps of: (1) receiving, at an entity, a first record of at least a portion of a satellite data message; (2) comparing the first record with a second record of the satellite data message, where the first record and the second record overlap at least partially in time and where the comparing is performed after determining an estimated time when the first record was received; and (3) determining a time from the comparing, where the time indicates when the first record (e.g., the source of the first record) was received at a remote entity. In one example of this embodiment, the remote entity is a mobile SPS receiver and the entity is a basestation which communicates with the mobile SPS receiver through a wireless (and perhaps also wired) link. A method of the present invention may be performed exclusively at the basestation. In an alternative embodiment, the comparison may be performed and then the estimated time when the first record was received is used to verify that the time determined from the comparing is correct.<br>
An embodiment of the present invention for establishing receiver timing is for the receiver to form an estimate of a portion of the satellite data message and transmit this estimate to the basestation. At the basestation this estimate is compared to a record of the satellite data message received from another GPS receiver or source of GPS information. This record is assumed to be error free. This comparison then determines which portion of the basestation's message most closely matches the data transmitted by the remote unit. Since the basestation has read the satellite data message without error it can associate each data bit of that message with an absolute time stamp, as seen by the transmitting satellite. Hence the comparison results in the basestation assigning an appropriate time to the estimated data transmitted by the remote. This time information may be transmitted back to the remote, if desired.<br>
A variation on the above approach is to have the basestation send a clean record of the satellite data message to the remote plus the absolute time associated<br><br>
with the beginning of this message. In this case the remote entity compares this record to the estimate of this data which it forms by processing a GPS signal which it receives. This comparison will provide the offset in time between the two records and thereby establish an absolute time for the locally collected data.<br>
BRIEF DESCRIPTION OF THE DRAWINGS<br>
Figure 1A is a block diagram of major components of a combined mobile SPS and communication system which can receive SPS signals and establish communication with a basestation.<br>
Figure IB shows a block diagram of a typical implementation for the RF to BF converter and frequency synthesizer of Figure 1 A.<br>
Figure 2 is a flowchart which illustrates one method of the present invention.<br>
Figure 3 is a flowchart which shows another method of the present invention.<br>
Figure 4A shows a method performed by a mobile SPS receiver in one particular method of the present invention; Figure 4B shows a corresponding method performed by a basestation.<br>
Figure 5A shows one embodiment of a basestation of the present invention.<br>
Figure 5B shows another embodiment of a basestation of the present invention.<br>
Figure 6 shows a system of the present invention which includes an SPS receiver, a cellular telephone site, a basestation, the Internet and a client computer system.<br>
Figure 7 shows a simplified view of the pattern matching typically performed in the present invention in order to determine time of receipt of a satellite data message at a mobile SPS receiver.<br>
Figure 8A shows a method performed by a mobile SPS receiver in another particular embodiment of the invention, and Figure 8B shows a corresponding method performed by a basestation.<br>
Figure 9 shows the simplified structure of a conventional GPS receiver.<br>
Figures 10A, 10B, IOC, and 10D show examples of sampled SPS signals after various stages of signal processing according to the present invention.<br><br>
Figures 11 A, 1 IB, and 11C show further examples of sampled SPS signals after various stages of signal processing according to the invention.<br>
Figure 12A shows an example of a coarse time coordination method according to one embodiment of the present invention.<br>
Figure 12B shows another example of a coarse time coordination method according to another embodiment of the present invention.<br>
DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT<br>
Various methods and apparatuses for measuring time related to satellite data messages for use with satellite positioning systems are described below. The discussion of the invention focuses upon the United States Global Positioning Satellite (GPS) system. However, it should be evident that these methods are equally applicable to similar satellite positioning systems, such as the Russian Glonass system. Moreover, it will be appreciated that the teachings of the present invention are equally applicable to positioning systems which utilize pseudolites or a combination of satellites and pseudolites. Moreover, the various architectures for basestations and mobile SPS receivers are provided for illustrative purposes rather than to be construed as limitations of the present invention.<br>
Figure 2 shows a generalized method of the present invention which may be utilized with a mobile SPS receiver which is combined with a mobile communication receiver and transmitter, such as that shown in Figure 1 A. The mobile GPS receiver 100 shown in Figure 1A samples the satellite data message, such as ephemeris, and creates a record of the message in step 201. Next in this method 200, the remote or mobile GPS receiver transmits this record to a basestation, such as the basestation shown in Figures 5A or 5B in step 203. This record is typically some representation of the message received by the mobile SPS receiver. In step 205, the basestation compares the record transmitted from the mobile SPS receiver to another record which may be considered a reference record of the satellite data message. This reference record has associated time values wherein various segments of the satellite data message have specified "reference" times associated therewith. In step 207, the basestation determines the time of sampling by the mobile GPS receiver of the satellite data message. This determination is based upon a time value which is associated with the reference record and this determination will indicate the time when the record or the source<br><br>
of the record was received by the mobile GPS receiver. In the embodiments shown in Figures 12A and 12B, the comparison of operation 205 is aided by determining an estimate of the time of receipt of the record of SPS signals at the mobile SPS receiver. This estimate may be used to limit the range of the comparison of the record to a reference or may be used to verify the result of the comparison. This will normally improve the speed of the comparison operation and also ensure the accuracy of the result (where there may be unusually long transmission latencies between recording the record at the mobile and performing the comparison operation).<br>
Figure 7 illustrates in a simplified way the comparison operation in step 205 of Figure 2. In particular, Figure 7 shows the attempted comparison between the mobile receiver's record and the basestation's reference record shown respectively as records 491 and 495. The horizontal axes for both records indicate time. There is a portion 493 of the mobile's record which represents the portion transmitted to the basestation for purposes of comparison. Typically, the basestation will have a corresponding portion 497 which will overlap at least partially in time with the record received from the mobile receiver. In Figure 7 , this overlap is complete in that the reference record provides the satellite data message throughout the entire interval of the mobile receiver's record. However, this is only one example and the overlap may be such that only a portion of the mobile receiver's record overlaps with the reference record from the basestation.<br>
Figure 3 illustrates in further detail a method 220 of the present invention for measuring time related to satellite data messages for use with a satellite positioning system. The mobile or remote GPS receiver acquires in step 221 GPS signals and determines pseudoranges from those acquired GPS signals. In step 223, the mobile GPS receiver removes the PN data and creates a record of the satellite data message from the acquired GPS signals used to create or determine the pseudoranges. This record is typically some representation of the ephemeris data in the acquired GPS signals and typically represents an estimate of the data. In step 225, the mobile GPS receiver transmits the record and the determined pseudoranges to a basestation, such as the basestation shown in Figure 5A or 5B.<br>
In step 227, the basestation performs a cross-correlation of the record transmitted from the mobile GPS receiver to a reference record of ephemeris of the satellites. This reference record typically includes an accurate time stamp<br><br>
associated with the data in the reference record (e.g. each bit of data in the reference record has an associated time value or "stamp"), and it is this time stamp which will be used to determine the time of receipt by the mobile GPS receiver of the originally acquired GPS signals. In step 229, the basestation determines from the cross-correlation operation the time of acquiring by the remote GPS receiver of the acquired GPS signals. The basestation then uses in step 231 the time of the acquiring by the remote GPS receiver of the GPS signals and uses the determined pseudoranges to determine a position information, which may be a latitude and longitude of the remote/mobile GPS receiver. The basestation, in step 233, may communicate this position information of the remote GPS receiver to another entity, such as a computer system coupled through a network, such as the Internet, or an intranet, to the basestation. This will be described further below in conjunction with Figures 5B and 6.<br>
Below we explain in further detail several methods for estimating the satellite data at the remote SPS receiver. The methods fall into two classes: one which performs differential demodulation and soft decision of the data (after PN is removed) and the other which samples the raw I/Q data after PN is removed. The first method is shown diagrammatically in Figures 4A and 4B and the second is indicated in Figures 8A and 8B. Note that the object here is to determine the difference in times of arrival between the reception of the signal at the remote and at the basestation. Since the basestation is presumed to have the precise time, this difference in time will determine the precise time of reception of data at the remote. As explained below, the two approaches differ by the amount of processing that must be done by the remote (mobile SPS receiver) and the amount of information that must be transferred from the remote to the basestation over a communication link. In essence, there is a tradeoff in the processing burden at the remote versus the quantity of data that must be passed over the link.<br>
Before describing the details of the procedures in Figures 4A and 4B and Figures 8A and 8B, a review of conventional GPS operation is provided to provide a contrast to the methods of this invention. A simplified version of a conventional GPS receiver 601 is shown in Figure 9.<br>
This conventional receiver 601 receives digitized I/Q input signals 603 from a GPS RF front end (e.g. downconverter and digitizer) and mixes in mixer 605 these input signals 603 with oscillator signals from digital oscillator 607. The<br><br>
output from mixer 605 is then mixed in mixer 609 with the output of a PN generator 611 which is controlled for chip advance by signals 619 from the microcontroller 617. The microcontroller 617 also controls the digital oscillator 607 in order to translate the signal to near baseband.<br>
In the operation of a conventional GPS receiver, a signal received from a GPS satellite in the absence of noise has the form<br>
  (eq. 1)<br>
where P(t) is a 1023 length repeating binary phase-shift keyed pseudorandom sequence (chip rate 1.023 Mchips/sec) having values ±1 and D(t) is a 50 baud data signal aligned with the beginning of the PN framing, again assuming values ±1. After translating the signal to near baseband (e.g. by the mixer 605), the PN code is normally removed by using a correlator (which may be considered to include elements 609,611,613,615 and 617 of Figure 9). This device locally reproduces the code P(t) (for the given satellite) and determines the relative phasing of the received PN with the locally generated PN. When phase aligned, the correlator multiplies this signal by the locally generated reference resulting in the signal form:<br><br>
At this point the signal is narrowband filtered (e.g. in filter 613) to remove noise outside the band of the data signal D(t). The sample rate may then be reduced to a small multiple of the data rate by sampler 615. Thus, the time variable t in the right hand side of equation (2) takes on values of the form mT/K, m=0,l,2,... where K is a small integer (e.g. 2) and T is the bit period.<br>
The samples of data at this point then are used for performing the PN tracking operations, carrier tracking and data demodulation. This is normally done by software algorithms in a microcontroller, but may alternatively be done in hardware. In Figure 9 the microcontroller 617 feeds back correction signals 621 and 619 to the digital oscillator and PN generator respectively in order to keep the locally generated carrier signals and PN signals in phase synchronism with the received signal. This operation is normally done in parallel for a multiplicity of<br><br>
simultaneously received GPS signals (typically 4 or more GPS signals from 4 or more GPS satellites).<br>
Now, in some circumstances (e.g. a low signal to noise ratio ("SNR")) the GPS signal may be so weak that the data D(t) cannot be extracted with high reliability. As described previously, a conventional GPS receiver needs to read this data in order to determine a universal time as well as provide a position fix. An alternative approach, provided by the present invention, in this low SNR situation is for the remote to work together with a basestation, the latter of which has access to this satellite data information. The remote sends information to the basestation that allows it to compute the time associated with the original reception of such data by the remote. An alternative configuration exists in which the basestation sends information to the remote in order for it to compute this time of reception. We mainly consider the first case.<br>
It should be noted that time coordination between the base and the remote may, in some cases, be achieved by sending accurate timing signals (e.g. pulses or specialized waveforms) across a communication link and accounting for any transit time by either a priori knowledge of the link latencies or measuring a round trip delay (assuming a two-way symmetric link). However, there are many circumstances where this approach is impractical or impossible. For example, many links include packetized protocols in which latencies may be variable from one transmission to another and span many seconds.<br>
The approach of this invention is for the remote to form an estimate of a portion of the data sequence D(t) or an estimate of a processed version of it, and transmit this data to the basestation. This data sequence can be compared against a similar but much higher fidelity signal generated at the basestation. The two sequences are slid in time relative to one another until the best match occurs, according to a given metric, such as minimum mean-squared error. This "correlation" procedure is very similar to that used by GPS receivers in order to synchronize to the PN spreading sequences; here, however, the operation is done on much lower rate data signals and, furthermore, the pattern of such signals is constantly changing and may be unknown a priori.<br>
Since the basestation presumably knows the precise time associated with each element of the message, it may utilize this knowledge plus the aforementioned<br><br>
comparison to ascertain the original time associated with the signal received at the remote.<br>
Thus, the main problem lies in the estimation at the remote of the data sequence D(t) or a derivative thereof.<br>
One particular embodiment of the invention, shown in Figures 8A and 8B, for estimating the data sequence is to simply sample and store a record of the signal after the PN is removed, e.g. as shown in equation (2). Here the signal is assumed to be sampled at a small multiple of the data rate; a 100 sample per second rate may be suitable for this purpose. Note that both 1 and Q tributaries must be sampled. Also, a record of length of around 25 or more data symbols (0.5 seconds) should be taken in order to make it likely that the data pattern is unique for the purpose of identification at the basestation. Note from equation (2)<br>
that a small residual carrier fo and unknown carrier phase <j> may still be present. It<br>
is highly beneficial that the carrier frequency be known to an accuracy better than ±one-half the sample rate of the data signal; otherwise the carrier may effectively introduce phase reversals of the data signal and so corrupt the data.<br>
Figure 8A illustrates a method performed in the mobile GPS receiver according to this particular embodiment. The receiver acquires the first (or next if not the first) PN code for the particular GPS signal and removes the PN code from the signal in step 503. Then, the receiver performs an accurate estimate of carrier frequency in step 505 and them removes the carrier from the inputted signal in step 507. Then the I and Q data is sampled and quantized in steps 509 and 511, and this quantized result is saved as a record of the corresponding satellite data message and then transmitted to the basestation (perhaps also with the corresponding pseudorange from the GPS satellite transmitting the particular GPS signal). In step 513, the receiver determines whether the receiver has performed steps 503,505,507, 509, and 511 (and hence determined a record) for all satellites of interest (e.g. all satellites in view of the mobile GPS receiver or at least four satellites in view). If a record of the satellite data message has been determined from each satellite of interest, then the GPS receiver transmits (in step 515) the records with an elapsed time tag to the basestation. The elapsed time tag may be used by the basestation to estimate and/or select the "reference" record at the basestation which will be compared (e.g. by correlation) to the record. If the<br><br>
receiver has not determined a record from each satellite of interest, then the mobile GPS receiver proceeds from step 513 back to step 503, and repeats steps 503, 505,507,509, and 511 in order to determine a record of the satellite data message received from the next satellite of interest. An example of a GPS receiver (and communication receiver/transmitter) which may perform the method of Figure 8A is shown in Figure 1 A, and this GPS receiver is described in further detail below.<br>
The basestation when receiving this information can refine the frequency estimate and remove the carrier and then determine relative timing by cross-correlating this data against similar data extracted from a high fidelity signal received from a GPS receiver with a clear view of the sky (or received from some other source of high fidelity GPS signals, such as from the Internet or from a GPS ground control station).<br>
Figure 8B shows a method 521 performed by the basestation upon receiving the record of the satellite data message transmitted from the remote. In step 523, the basestation receives a record corresponding to a satellite data message, and then in step 525 phaselocks to the record and removes any residual phase error/roll in step 525. Contemporaneously with steps 523 and 525, the basestation will typically be tracking and demodulating GPS data messages and applying time tags to these data messages in order to provide an accurate time value in association with various intervals of the satellite data message which has been demodulated. This is shown in step 527. Typically, the basestation will be performing the tracking and demodulation of satellite data messages on an ongoing basis such that a continuous reference record is being generated and a running sample of this "reference" record is stored at the basestation. It will be appreciated that this running record of the reference may be maintained for a time period of up to perfiaps 10 to 30 minutes prior to the current time. That is, the basestation may maintain a copy of the reference record for as long as 30 minutes before discarding the oldest portion of the reference record and in effect replacing it with the newest portion in time.<br>
In step 529, the basestation correlates the base's reference record against the reference record from the remote for the first (or the next, if not the first) satellite data message from the first (or next) satellite. This correlation is effectively a comparison between the two records in order to match the patterns such that the basestation may determine the time accurately when the remote<br><br>
received the record (which is typically, in effect, the time when the source of that record was received by the remote since the record is itself an estimate of the source). It will be appreciated that as used to describe the present invention, the time of receipt of the record by the remote effectively is the time of receipt of the source of the record at the remote. At step 531, the basestation finds and interpolates the peak location which indicates the time at which the remote received the record for the current satellite and its corresponding satellite data message. In step 533, the basestation determines whether all times associated with all corresponding records have been determined for all satellites of interest. If not, the processing proceeds back to step 529 and the process is repeated for each record received from the remote. If all records have been processed in order to determine corresponding times for all satellites of interest and their corresponding satellite data messages, then processing proceeds from step 533 to step 535, wherein the times are compared for the different satellites of interest. In step 537, majority logic is used to discard erroneous or ambiguous data and then in step 539 it is determined whether all data is ambiguous. If all data is ambiguous, the basestation commands the mobile GPS receiver to take further data by transmitting a command to the communication receiver in the mobile GPS unit. If all data is not ambiguous, then in step 543 the basestation performs a weighted average of the times to determine an average time of receipt of the satellite data messages at the mobile GPS receiver. It will be appreciated that in certain circumstances such as those when a sample of GPS signals is digitized and stored in a digital memory for further processing that there will be in effect one time of receipt as long as that sample is of a short duration. In other instances, such as those involving serial correlation where one satellite at a time is processed and signals from that satellite are acquired and a record is made of that signal and then next in time another satellite signal is acquired, in this case, there may be multiple times of receipt and the basestation may determine each of those times and use them in the manner described below.<br>
It will be appreciated that the time of receipt of the record in conjunction with the pseudoranges which are typically transmitted from the mobile GPS receiver, at least in some embodiments, will be used by the basestation to determine a position information, such as a latitude and longitude and/or an altitude of the mobile GPS receiver.<br><br>
In some cases it may be difficult to determine the residual carrier frequency (in step 525) to sufficient accuracy and then a differential demodulation of the data from the remote and the locally received data may precede the cross-correlation. This differential demodulation is further described below in conjunction with Figures 4A and 4B.<br>
If the communication link capacity (between the mobile GPS receiver and the basestation) is low, it is advantageous for the remote to perform additional processing on the despread signal (the signal with PN removed), A good approach toward this end, as illustrated in Figures 4A and 4B, is for the remote to differentially detect this signal by performing a delay-multiply operation on the data signal, with delay set to a bit period (20 milliseconds) or a multiple thereof. Thus, if the baseband signal of equation (2) is represented as<br>
  (eq. 3) then the appropriate operation would be:<br><br>
where the asterisk represents complex conjugate, T is the bit period (20 msec) and Di(t) is a new 50 baud sequence formed by differentially decoding the original data sequence (e.g. mapping a transition to a -1 and no transition to a +1). Now if the carrier frequency error is small compared to the reciprocal of the symbol period, then the latter exponential term has a real component that dominates the imaginary<br>
component and only the real component may be retained yielding the result A2 Dj(t). Thus, the operation of equation (4) produces a real signal stream instead of the complex signal stream of the method shown in Figure 8A. This, by itself, halves the required transmission message length when the record is transmitted<br>
across the communication link. Since the signal A2 D](t) is at baseband, it may be sampled at a somewhat smaller rate than that of the method shown in Figure 8A. It is possible, also, to retain only the sign of this data, thereby reducing the amount of data to be transmitted However, this approach will reduce the ability of the basestation to resolve time much better than one symbol period (20 msec). Here we should note that the PN code repeats at a 1 msec interval and hence will not be useful by itself for further resolving this measurement error.<br><br>
Figure 4A illustrates the processing steps performed in the mobile GPS receiver, and Figure 4B illustrates the processing steps performed at the basestation according to this particular embodiment of the present invention. The mobile GPS receiver receives in step 301 a request for position information from a basestation. It will be appreciated that in a typical embodiment, this reception will occur by a communication receiver such as that shown within the mobile GPS receiver 100 in Figure 1 A. In response to that request for position information, the mobile GPS receiver in step 303 acquires the first (or the next, if not the first) PN code from a GPS signal and removes that PN code from the received GPS signal. In step 305, the remote performs an accurate estimate of the carrier frequency; the accuracy of this estimate should be better than the sample rate of the GPS data message, which is typically 100 Hz in the case of 50 baud GPS data. Step 305 may be performed by using conventional frequency measurement systems in GPS receivers; these frequency measurement systems typically use carrier tracking loops which often include phaselock loops to extract the carrier and then a frequency measurement circuit or alternatively, a frequency tracking loop with a phaselock loop. In step 307, the carrier frequency is removed by the mobile GPS receiver from the remaining signal, leaving the 50 baud data. Then in step 309, the remaining data is differentially detected by sampling the data at typically twice the rate of the data itself. It will be appreciated that rather than differentially detect the data as in step 309, the remote GPS receiver may transmit the data itself to the basestation and allow the basestation to perform the differential detection and quantization steps of steps 309 and 311. The mobile GPS receiver continues, in step 311, by quantizing and storing the result which is a record of the satellite data message typically having a duration in time of from one-half to one second. Then in step 313, the mobile GPS receiver determines if a record of satellite data message has been created for each satellite of interest, which may be all satellites in view or at least four satellites in view. If a record has not been created for each satellite of interest and its corresponding satellite data message, then processing proceeds from step 313 back to step 303 and this loop continues until a record has been created for each of the satellite data messages for each satellite of interest. If all records for all satellites of interest have been determined and created, then processing proceeds from step 313 to step 315 in which the mobile GPS receiver transmits through its communication transmitter the records<br><br>
for all satellites of interest with a coarse (elapsed) time tag which is used by the basestation in the manner described above.<br>
The basestation receives these records from the mobile GPS receiver in step 327 shown in Figure 4B. Contemporaneously with the operation of the mobile GPS receiver, the basestation is typically tracking and demodulating GPS data messages and applying time tags to those data messages in order to in effect time stamp these data messages; this is performed in step 321 as shown in Figure 4B. Then in step 323, the basestation differentially decodes the data to provide the base's data which will be used in the correlation operation in step 325. The received data from the mobile GPS receiver will typically be stored for the correlation operation and compared against the stored differentially decoded data from step 323. In step 325, the basestation correlates the base's data against the record from the mobile GPS receiver for the first (or the next, if not the first) satellite. In step 327, the basestation finds and interpolates the peak location which indicates the time of arrival at the mobile receiver of the satellite data message from the current satellite being processed. In step 329, the basestation determines if correlation has been performed for all records received from the mobile receiver. If not, then processing proceeds back to step 325 in which the next record for the next satellite data message is processed in steps 325 and 327. If in step 329, it has been determined that correlation has been performed for all records received from the mobile GPS receiver, then in step 331, a comparison is made between the determined times for different satellites of interest In step 333, the basestation uses majority logic to discard erroneous or ambiguous data. Then in step 335, the basestation determines if all data is ambiguous or erroneous. If so, the basestation commands the mobile receiver in step 337 to acquire more data and the entire process will be repeated starting from the method shown in Figure 4A and continuing to the method shown in Figure 4B. If all data is not ambiguous as determined in step 335, then the basestation performs a weighted average of the times in step 339 and uses this weighted average with the pseudoranges transmitted from the mobile GPS receiver, at least in some embodiments, in order to determine a position information of the mobile GPS receiver.<br>
In order to illustrate the processing steps just described a live GPS signal was sampled, collected into a record, despread and sampled at a rate of 4 samples per symbol period. Figure 10A shows a 1 second record of the real portion of the<br><br>
despread waveform with carrier partially removed. The symbol pattern is evident, but a small residual carrier offset of about 1 Hz is obviously still present. Figure 10B shows the signal differentially detected by multiplying it by a conjugated and delayed version of itself with delay equal to 20 milliseconds. The symbol pattern is clearly evident. Figure IOC shows the ideal data signal and Figure 10D shows the cross-correlation of the ideal signal (e.g. produced at the basestation) and the signal of 10B. Note the glitches in 10B that result from sampling effects and the nonideal nature of the signal due to noise, etc.<br>
Figure 11A shows the demodulated data when noise was added to the signal so that the SNR of the demodulated signal is approximately 0 dB. This models the situation when the received GPS signal is reduced in power by over 15 dB relative to its nominal level, e.g. by blockage conditions. Figure 11B shows the differentially demodulated data. The bit pattern is undetectable. Finally Figure 11C shows the cross-correlation of this noise signal with the clean reference. Obviously the peak is still strong, with peak to RMS level in excess of 5.33 (14.5 dB), allowing accurate time-of-arrival estimation. In fact, an interpolation routine applied about the peak of this signal indicated an accuracy of less than 1/16 sample spacing, i.e. less than 0.3 msec.<br>
As mentioned previously, the basestation can send to the remote the data sequence together with the time associated with the beginning of this message. The remote can then estimate the time-of-arrival of the data message via the same cross-correlation methods described above except that these correlation methods are performed at the remote. This is useful if the remote computes its own position location. In this situation the remote may also obtain satellite ephemeris data by a transmission of such data from the basestation.<br>
Figure 1A shows an example of a combined mobile GPS receiver and communication system which may be used with the present invention. This combined mobile GPS receiver and communication system 100 has been described in detail in copending application serial number 08/652,833 filed May 23,1996 and entitled "Combined GPS Positioning System and Communication System Utilizing Shared Circuitry" which is hereby incorporated herein by reference (now U.S. Patent No. 6,002,363). Figure IB illustrates in further detail the RF to IF converter 7 and the frequency synthesizer 16 of Figure 1A. These components shown in Figure IB are also described in copending application serial number<br><br>
08/652,833. The mobile GPS receiver and communication system 100 shown in Figure 1A may be configured to perform a particular form of digital signal processing on stored GPS signals in such a manner that the receiver has very high sensitivity. This is further described in copending US Patent Application serial number 08/612,669, which was filed March 8,1996, and is entitled "An Improved GPS Receiver and Method for Processing GPS Signals", and this application is hereby incorporated herein by reference. This processing operation described in application serial number 08/612,669 computes a plurality of intermediate convolutions typically using fast Fourier transformations and stores these intermediate convolutions in the digital memory and then uses these intermediate convolutions to provide at least one pseudorange. The combined GPS and communication system 100 shown in Figure 1A also may incorporate certain frequency stabilization or calibration techniques in order to further improve the sensitivity and accuracy of the GPS receiver. These techniques are described in copending application serial no. P003X, which was filed December 4,1996, and is entitled "An Improved GPS Receiver Utilizing a Communication Link", and which application is hereby incorporated herein by reference (now U.S. Patent No. 5,841,396).<br>
Rather than describing in detail the operation of the combined mobile GPS receiver and communication system 100 shown in Figure 1A, a brief summary will be provided here. In a typical embodiment, the mobile GPS receiver and communication system 100 will receive a command from a basestation, such as basestation 17, which may be either one of the basestations shown in either Figure 5A or Figure SB. This command is received on the communication antenna 2 and the command is processed as a digital message after stored in the memory 9 by the processor 10. The processor 10 determines that the message is a command to provide a position information to the basestation, and this causes the processor 10 to activate the GPS portion of the system at least some of which may be shared with the communication system. This includes, for example, setting the switch 6 such that the RF to IF converter 7 receives GPS signals from GPS antenna 1 rather than communication signals from the communication antenna 2. Then the GPS signals are received, digitized, and stored in the digital memory 9 and then processed in accordance with the digital signal processing techniques described in the aforementioned application serial number 08/612,669. The result of this<br><br>
processing typically includes a plurality of pseudoranges for the plurality of satellites in view and these pseudoranges are then transmitted back to the basestation by the processing component 10 activating the transmitter portion and transmitting the pseudoranges back to the basestation to the communication antenna 2.<br>
The basestation 17 shown in Figure 1A may be coupled directly to the remote through a radio communication link or may be, as shown in Figure 6, coupled to the remote through a cellular telephone site which provides a wired communication link between the telephone site and the basestation. Figures 5A and 5B illustrate these two possible basestations.<br>
The basestation 401 illustrated in Figure 5A may function as an autonomous unit by providing a radio link to and from mobile GPS receivers and by processing received pseudoranges and the corresponding time records according to the present invention. This basestation 401 may find use where the basestation is located in a metropolitan area and all mobile GPS receivers to be tracked are similarly located in the same metropolitan area. For example, this basestation 401 may be employed by police forces or rescue services in order to track individuals wearing or using the mobile GPS receivers. Typically, the transmitter and receiver elements 409 and 411, respectively, will be merged into a single transceiver unit and have a single antenna. However, these components have been shown separately as they may also exist separately. The transmitter 409 functions to provide commands to the mobile GPS receivers through transmitter antenna 410; this transmitter 409 is typically under control of the data processing unit 405 which may receive a request from a user of the processing unit to determine the location of a particular mobile GPS receiver. Consequently, the data processing unit 405 would cause the command to be transmitted by the transmitter 409 to the mobile GPS receiver. In response, the mobile GPS receiver would transmit back to the receiver 411 pseudoranges and corresponding records in one embodiment of the present invention to be received by the receiving antenna 412. The receiver 411 receives these messages from the mobile GPS receiver and provides them to the data processing unit 405 which then performs the operations which derive the position information from the pseudoranges from the mobile GPS receiver and the satellite data messages received from the GPS receiver 403 or other source of reference quality satellite data messages. This is further<br><br>
described in the above-noted copending patent applications. The GPS receiver 403 provides the satellite ephemeris data which is used with the pseudoranges and the determined time in order to calculate a position information for the mobile GPS receiver. The mass storage 407 includes a stored version of the reference record of the satellite data messages which is used to compare against the records received from the mobile GPS receiver. The data processing unit 405 may be coupled to an optional display 415 and may be also coupled to a mass storage 413 with GIS software which is optional. It will be appreciated that the mass storage 413 may by the same as the mass storage 407 in that they may be contained in the same hard disk or other mass storage device.<br>
Figure 5B illustrates an alternative basestation of the present invention. This basestation 425 is intended to be coupled to remote transmitting and receiving sites such as a cellular telephone site 455 shown in Figure 6. This basestation 425 may also be coupled to client systems through a network, such as the Internet or an intranet, or other types of computer networking systems. The use of the basestation in this manner is further described in copending application serial no. 08/708,176, which was filed September 6,1996 and which is entitled "Client-Server Based Remote Locator Device" and which is hereby incorporated herein by reference. The basestation 425 communicates with a mobile GPS unit, such as the combined mobile GPS receiver and communication system 453 shown in Figure 6 through the cellular telephone site 455 and its corresponding antenna or antennas 457 as shown in Figure 6. It will be appreciated that the combined GPS receiver and communication system 453 may be similar to the system 100 shown in Figure 1A.<br>
The basestation 425, as shown in Figure 5B, includes a processor 427 which may be a conventional microprocessor coupled by a bus 430 to main memory 429 which may be random access memory (RAM). The basestation 425 further includes other input and output devices, such as keyboards, mice, and displays 435 and associated I/O controllers coupled via bus 430 to the processor 427 and to the memory 429. A mass storage device 433, such as a hard disk or CD ROM or other mass storage devices, is coupled to various components of the system, such as processor 427 through the bus 430. An I/O controller 431 which serves to provide I/O control between the GPS receiver or other source of satellite data messages, is also coupled to the bus 430. This I/O controller 431 receives<br><br>
satellite data messages from the GPS receiver 430 and provides them through the bus 430 to the processor which causes the time stamp to be applied to them and then stored in the mass storage device 433 for use later in comparing to records received from mobile GPS receivers. Two modems 439 and 437 are shown in Figure 5B as interfaces to other systems remotely located from the basestation 425. In the case of modem or network interface 439, this device is coupled to a client computer, for example, through the Internet or some other computer network. The modem or other interface 437 provides an interface to the cellular telephone site, such as the site 455 shown in Figure 6 which illustrates a system 451.<br>
The basestation 425 may be implemented with other computer architectures as will be appreciated by those skilled in the art. For example, there may be multiple busses or a main bus and a peripheral bus or there may be multiple computer systems and/or multiple processors. It may be advantageous, for example, to have a dedicated processor to receive the satellite data message from the GPS receiver 403 and process that message in order to provide a reference record in a dedicated manner such that there will be no interruption in the process of preparing the reference record and storing it and managing the amount of stored data in accordance with the present invention.<br>
The system 451 shown in Figure 6 will typically operate, in one embodiment, in the following manner. A client computer system 463 will transmit a message through a network, such as the Internet 461 to the basestation 425. It will be appreciated that there may be intervening routers or computer systems in the network or Internet 461 which pass along the request for position of a particular mobile GPS receiver. The basestation 425 will then transmit a message through a link, which is typically a wired telephone link 459, to the cellular telephone site 455. This cellular telephone site 455 then transmits a command using its antenna or antennas 457 to the combined mobile GPS receiver and communication system 453. In response, the system 453 transmits back pseudoranges and records of the satellite data messages in accordance with the present invention. These records and pseudoranges are then received by the cellular telephone site 455 and communicated back to the basestation through link 459. The basestation then performs the operations as described according to the present invention using the records to determine the time of receipt of the satellite<br><br>
data messages and using pseudoranges from the remote GPS system 453 and utilizing the satellite ephemeris data from the GPS receiver at the basestation or from other sources of GPS data. The basestation then determines a position information and communicates this position information through a network, such as the Internet 461, to the client computer system 453 which may itself have mapping software at the client computer system, allowing the user of this system to see on a map the exact position of the mobile GPS system 453.<br>
There are several methods for determining an estimated time when GPS signals were received at a mobile GPS system. The mobile, when sending the pattern to the server, may begin a timer and wait for an acknowledge from the server. If the acknowledgment of receipt is very lengthy, then the pattern may be resent together with the time offset between successive transmissions. This may be continued until the acknowledgment is received within an acceptable time period (say within one second). Effectively, this method is determining transmission delay and retransmitting a pattern for matching if the transmission delay is above a predetermined amount (e.g. the delay is more than the acceptable time period). This transmission delay establishes a comparison range for a comparison of the two patterns.<br>
Alternatively, the mobile and server may initially establish a coarse time coordination, for example to 1 second or better accuracy, by means of a round trip signal. The server may send time-of-day to the mobile, which records this time and sends an acknowledgment to the server. If the acknowledgment is received within a prescribed period of time T, then it is obviously the case that the time recorded at the mobile is within T seconds of that of the server. Then, when the mobile processes GPS information to create the data pattern to be sent to the server, the time of such processing may be tagged to an accuracy with T seconds. Hence, when estimated GPS data information is sent to the server, the server need only examine offsets in time, within a range no greater than T, between the pattern received from the mobile and a reference pattern (e.g. received by a local GPS receiver or another data feed). The coarse time coordination can also be done by the mobile sending its local version of the time of processing to the server and the server sending an acknowledgment response. The server can associate the received mobile's time with its own time to determine an offset (sometimes called a bias). If this round trip time is within T seconds, then subsequent transmissions<br><br>
of patterns to the server from the mobile, time tagged with the mobile's local time, will again allow the server to restrict its search range to less than T seconds. In this manner, the server can restrict the range of comparison.<br>
It should be appreciated that the same approach to coarse time coordination between the mobile and server may be done if the pattern match operation is performed at the mobile rather than at the server. Once the server and mobile establish coarse time with respect to one another, to an amount no greater than T seconds, then subsequent pattern match operations performed at the mobile need not be performed over ranges greater than T seconds.<br>
Other variations in the above procedure are possible. Instead of sending data back and forth and measuring receipt time of data, it is possible in some circumstances to send electrical pulses or other timing signals between the mobile and the server or some other entity to which the server may communicate. The pulses or signals may then provide the means to roughly coordinate time between the mobile and server. The mobile and the server may be able to get a rough knowledge of time by receipt of a signal or signals separate from its communications with the server. For example, each may receive a time-of-day broadcast signal from another communications signal, such as WWV. The mobile and server may both view a common radio signal and agree upon a particular epoch associated with that signal in order to establish a coarse common time.<br>
Figure 12A shows an overall block diagram of the coarse time coordination method followed by the pattern match, where the final pattern matching operation is done at the server. A similar block diagram corresponds to the pattern matching done at the mobile and is shown in Figure 12B.<br>
In Figure 12A, the server and the mobile perform time coordination in operation 700 by sending round trip messages or signals and by measuring the round trip delay (referred to as T seconds). This measurement is used to determine whether T is too large (e.g. more than 30 seconds) in operation 701. If the delay is too long, the operation 700 may be repeated (or alternative methods, discussed above, for time coordination between the mobile and server may be used). If the delay T is not too large, operation 702 is performed; this operation 702 is similar to operation 203 of Figure 2 of the Parent Patent. In operation 703, the server (e.g. basestation 425 of Figure 6 of the Parent Patent) performs a correlation operation to determine a precision time by matching the pattern/record<br><br>
transmitted by the mobile). This coarse time is used to create a search window (window = CT - delta to CT + delta) to select the server's record in that window which is compared to the pattern received from the mobile unit.<br>
In Figure 12B, a series of operations (800-803), which are similar to the operations 700-703, are performed except that the mobile performs the pattern matching operation (rather than the server performing this operation).<br>
The present invention has been described with reference to various figures which have been provided for purposes of illustration and are not intended to limit in any way the present invention. Moreover, various examples have been described of the methods and apparatuses of the present invention, and it will be appreciated that these examples may be modified in accordance with the present invention and yet fall within the scope of the following claims.<br><br><br>
CLAIMS<br>
What is claimed is:<br>
1.	A method for measuring time related to satellite data messages for use with<br>
a satellite positioning system (SPS), said method comprising:<br>
receiving at an entity a first record of at least a portion of a satellite data message of a satellite positioning system;<br>
comparing said first record with a second record of said satellite data<br>
message wherein said first record and said second record overlap at least partially in time, said comparing being performed after determining an estimated time when said first record was received;<br>
determining a time from said comparing, said time indicating when said first record was received at a remote entity.<br>
2.	A method as in claim 1 wherein said remote entity is a mobile satellite positioning system (SPS) receiver and wherein said estimated time is used to specify a range in time relative to the second record for comparing said second record to said first record.<br>
3.	A method as in claim 1 wherein said remote entity is a mobile SPS receiver and wherein said method further comprises:<br>
determining a comparison range from said estimated time when said first record was received.<br>
4.	A method as in claim 1 wherein said second record provides time of day information such that said time may be determined from said second record.<br>
5.	A method for measuring time related to satellite data messages for use with a satellite positioning system, said method comprising:<br>
receiving at an entity a first record of at least a portion of a satellite data<br>
message of a satellite positioning system; determining a comparison range from an estimated time when said first<br>
record was received;<br><br>
comparing said first record with a second record of said satellite data<br>
message wherein said first record and said second record overlap at least partially in time and wherein said comparing is performed at least in a portion of said comparison range;<br>
determining a time from said comparing, said time indicating when said first record was received at a remote entity.<br>
6.	A method as in claim 5 wherein said method is performed exclusively at said entity which is a basestation.<br>
7.	A method as in claim 6 wherein said remote entity is a mobile satellite positioning system (SPS) receiver.<br>
8.	A method as in claim 7 wherein said mobile SPS receiver is a GPS (Global Positioning System) receiver.<br>
9.	A method as in claim 7 wherein said second record provides time of day information such that said time may be determined from said second record.<br>
10.	A method as in claim 9 wherein said second record is stored at said basestation.<br>
11.	A method as in claim 9 wherein said comparing comprises performing a cross-correlation or a sample-by-sample comparison between said first record and said second record.<br>
12.	A method as in claim 11 further comprising receiving at said entity a plurality of pseudoranges from said remote entity.<br>
13.	A method as in claim 12 further comprising:<br>
using said time and said plurality of pseudoranges to determine a position information of said remote entity.<br>
14.	A method as in claim 9 wherein said first record comprises 50 baud data.<br><br>
15.	A method as in claim 7 further comprising precisely determining a carrier frequency of said first record.<br>
16.	A method as in claim 7 wherein said determining of said comparison range comprises transmitting at least one message between said entity and said remote entity.<br>
17.	A method as in claim 16 wherein said transmitting comprises transmitting a first message from said entity to said remote entity and transmitting a second message from said remote entity to said entity.<br>
18.	A method as in claim 17 wherein said first record comprises at least one record of at least said portion of said satellite data message corresponding to a first pseudorange of a plurality of pseudoranges.<br>
19.	A method as in claim 18 further comprising:<br>
receiving at said entity a third record of at least a portion of a second satellite data message;<br>
comparing said third record with a fourth record of said second satellite data message, wherein said third record and said fourth record overlap at least partially in time;<br>
determining a second time from said comparing step, said second time<br>
indicating when said third record was received at said remote entity, wherein said second satellite data message corresponds to a second pseudorange of said plurality of pseudoranges.<br>
20.	A method as in claim 7 wherein said remote entity comprises a cellular telephone and said first record is received from said cellular telephone through a cellular telephone site.<br>
21.	An apparatus for measuring time related to satellite data messages for use with a satellite positioning system, said apparatus comprising:<br><br>
a receiver for receiving a first record of at least a portion of a satellite data message;<br>
a data processor coupled to said receiver, said data processor performing a comparison in a comparison range of said first record with a second record of said satellite data message wherein said first record and said second record overlap at least partially in time and determining a time from said comparison, said time indicating when said first record was received at a remote entity wherein said comparison range is determined from an estimated time when said first record was received at said remote entity.<br>
22.	An apparatus as in claim 21 wherein said remote entity is a mobile satellite position system (SPS) receiver.<br>
23.	An apparatus as in claim 22 wherein said second record provides time of day information such that said time may be determined from said second record.<br>
24.	An apparatus as in claim 23 further comprising a storage device coupled to said data processor, said storage device storing said second record.<br>
25.	An apparatus as in claim 24 further comprising a GPS (Global Positioning System) receiver coupled to said data processor, said GPS receiver providing said second record.<br>
26.	An apparatus as in claim 25 wherein said receiver is one of a wireless radio or a wired communication receiver.<br>
27.	An apparatus as in claim 26 wherein said receiver receives a plurality of pseudoranges from said remote entity.<br>
28.	An apparatus as in claim 27 wherein said data processor uses said time and said plurality of pseudoranges to determine a position information of said remote entity.<br><br>
29.      An apparatus as in claim 23 wherein said first record comprises 50 baud data.<br>
30-      An apparatus as in claim 24 further comprising a transmitter coupled to said data processor, said transmitter for communicating to another entity.<br>
31.	An apparatus as in claim 22 wherein said comparison range is determined by transmitting at least one message between said entity and said remote entity.<br>
32.	An apparatus as in claim 28 wherein said first record comprises at least one record of at least said portion of said satellite data message corresponding to a first pseudorange of said plurality of pseudoranges.<br>
33.	An apparatus as in claim 32 wherein said receiver receives a third record of at least a portion of a second satellite data message and wherein said data processor compares said third record with a fourth record of said second satellite data message, wherein said third record and said fourth record overlap at least partially in time, and wherein said data processor determines a second time from said comparing step, said second time indicating when said third record was received at said remote entity, and wherein said second satellite data message corresponds to a second pseudorange of said plurality of pseudoranges,<br>
34.	An apparatus as in claim 31 wherein said transmitting comprises transmitting a first message from said entity to said remote entity and transmitting a second message from said remote entity to said entity.<br>
35.	A method for measuring time related to satellite data messages for use with a satellite positioning system (SPS), said method comprising:<br>
receiving in a mobile SPS receiver at least a portion of a satellite data<br>
message; determining a first record of said at least a portion of said satellite data<br>
message;<br><br>
determining a parameter which specifies a comparison range from an<br>
estimated time when said first record was received at said mobile<br>
SPS receiver; transmitting said first record to a remote basestation for the purpose of<br>
determining a time indicating when said first record was received at<br>
said mobile SPS receiver.<br>
36.	A method as in claim 35 further comprising receiving SPS signals and determining at least one pseudorange.<br>
37.	A method as in claim 36 further comprising transmitting said at least one pseudorange.<br>
38.	A method as in claim 35 wherein said receiving, determining said first record and transmitting are performed in a mobile satellite positioning system (SPS) receiver.<br>
39.	A method as in claim 38 further comprising:<br>
receiving GPS signals and determining a plurality of pseudoranges; transmitting said plurality of pseudoranges.<br>
40.	A method as in claim 39 wherein said first record comprises 50 baud data.<br>
41.	A method as in claim 36 further comprising removing a carrier frequency from said GPS signals.<br>
42.	A method as in claim 41 further comprising differentially detecting said first record.<br>
43.	A method as in claim 35 wherein said determining said parameter which specifies said comparison range comprises one of transmitting a first message from said mobile SPS receiver to said remote basestation or receiving a second message from said remote basestation.<br><br>
44.	A satellite positioning system (SPS) receiver comprising:<br>
an antenna for receiving SPS signals;<br>
a demodulator coupled to said antenna, said demodulator removing a PN code from said SPS signals;<br>
a processor coupled to said demodulator, said processor determining a first record of at least a portion of a satellite data message received from said demodulator and determining a parameter which specifies a comparison range from an estimated time when said first record was received at said SPS receiver;<br>
a transmitter coupled to said processor, said transmitter transmitting said first record to a remote basestation.<br>
45.	A receiver as in claim 44 further comprising:<br>
a communication antenna coupled to said transmitter, said communication antenna for transmitting said first record to said remote basestation.<br>
46.	A receiver as in claim 44 further comprising:<br>
a correlator coupled to said antenna, said correlator acquiring said SPS signals and determining at least one pseudorange.<br>
47- A receiver as in claim 44 wherein said determining of said parameter comprises one of transmitting a first message from said SPS receiver to said remote basestation or receiving a second message from said remote basestation.<br>
48.      A satellite positioning system (SPS) receiver comprising:<br>
a SPS antenna for receiving SPS signals;<br>
a processor coupled to said SPS antenna, said processor processing said SPS signals and determining at least one pseudorange from said SPS signals, said processor removing a PN code from said SPS signals to provide a first record of at least a portion of a satellite data message in said SPS signals and determining at least one parameter which specifies a comparison range from an estimated time when said first record was received at said SPS receiver;<br><br>
a transmitter coupled to said digital processor, said transmitter transmitting said first record to a remote basestation.<br>
49.	An SPS receiver as in claim 48 wherein said determining of said parameter comprises one of transmitting a first message from said SPS receiver to said remote basestation or receiving a second message from said remote basestation.<br>
50.	In a mobile satellite positioning system (SPS) receiver, a method for measuring time related to satellite data messages with use with an SPS, said method comprising:<br>
receiving at said mobile SPS receiver a first record of at least a portion of a<br>
satellite data message; receiving at said mobile SPS receiver a second record of said satellite data<br>
message, wherein said first record and said second record overlap at<br>
least partially in time; determining a comparison range; comparing said first record with said second record at least in said<br>
comparison range determined from an estimated time when said<br>
first record was received at said mobile SPS receiver, determining a time from said comparing, said time indicating when said<br>
first record was received at said mobile SPS receiver.<br>
51.	A method as in claim 50 wherein said second record provides time of day<br>
information such that said time may be determined from said second record.<br>
52.	A method as in claim 51 wherein said second record is received from a basestation.<br>
53.	A method as in claim 52 further comprising receiving satellite ephemeris information at said mobile SPS receiver.<br>
54.	A method as in claim 53 wherein said satellite ephemeris information is received from said basestation.<br><br>
55.	A method as in claim 51 further comprising receiving SPS signals and determining a plurality of pseudoranges and wherein said determining of said comparison range comprises one of transmitting a first message from said SPS receiver to a remote basestation or receiving a second message from said remote basestation.<br>
56.	A method as in claim 55 wherein said first record is obtained by removing a PN code from said satellite data message.<br>
57.	A mobile satellite positioning system (SPS) receiver comprising:<br>
an antenna for receiving SPS signals;<br>
a demodulator coupled to said antenna, said demodulator removing a PN code from said SPS;<br>
a processor coupled to said demodulator, said processor determining a first record of at least a portion of a satellite data message received from said demodulator and determining a comparison range;<br>
a communication antenna;<br>
a communication receiver coupled to said communication antenna and to said processor, said communication receiver receiving a second record of said satellite data message, wherein said first record and said second record overlap at least partially in time, said processor comparing said first record and said second record at least in said comparison range determined from an estimated time when said first record was received at said mobile SPS receiver and determining a time indicating when said first record was received.<br>
58.	A mobile SPS receiver as in claim 57 wherein said second record provides time of day information such that said time may be determined from said second record.<br>
59.	A mobile SPS receiver as in claim 58 wherein said second record is received from a basestation.<br><br>
60.	A mobile SPS receiver as in claim 59 wherein said communication receiver receives satellite ephemeris information.<br>
61.	A mobile SPS receiver as in claim 60 wherein said satellite ephemeris information is provided from said basestation.<br>
62.	A mobile SPS receiver as in claim 58 wherein said mobile SPS receiver determines pseudoranges.<br>
63.	An apparatus for assisting in the measurement of time related to satellite data messages for use with a satellite positioning system (SPS), said apparatus comprising:<br>
a transmitter which is for transmitting a second record of a satellite data message for use in comparing to a first record of at least a portion of a satellite data message, said transmitter transmitting a message which is used to determine a comparison range for comparing said first record to said second record, said comparison range being based on an estimated time when said first record was received at a remote mobile SPS receiver.<br><br>
64.	A method for measuring time related to satellite data messages for use<br>
with a satellite positioning system substantially as hereinbefore described<br>
with reference to the accompanying drawings.<br>
65.	An apparatus for measuring time related to satellite data messages for<br>
use with a satellite positioning system substantially as hereinbefore<br>
described with reference to the accompanying drawings.<br>
66.	A satellite positioning system receiver substantially as hereinbefore<br>
described with reference to the accompanying drawings.<br><br></j></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=YWJzLWluLXBjdC0yMDAxLTEyODgtY2hlLmpwZw==" target="_blank" style="word-wrap:break-word;">abs-in-pct-2001-1288-che.jpg</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMTI4OC1jaGUtYWJzdHJhY3QucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2001-1288-che-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMTI4OC1jaGUtYXNzaWduZW1lbnQucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2001-1288-che-assignement.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMTI4OC1jaGUtY2xhaW1zIGZpbGVkLnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2001-1288-che-claims filed.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMTI4OC1jaGUtY2xhaW1zIGdyYW50ZWQucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2001-1288-che-claims granted.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMTI4OC1jaGUtY29ycmVzcG9uZG5lY2Utb3RoZXJzLnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2001-1288-che-correspondnece-others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMTI4OC1jaGUtY29ycmVzcG9uZG5lY2UtcG8ucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2001-1288-che-correspondnece-po.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMTI4OC1jaGUtZGVzY3JpcHRpb24oY29tcGxldGUpZmlsZWQucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2001-1288-che-description(complete)filed.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMTI4OC1jaGUtZGVzY3JpcHRpb24oY29tcGxldGUpZ3JhbnRlZC5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2001-1288-che-description(complete)granted.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMTI4OC1jaGUtZHJhd2luZ3MucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2001-1288-che-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMTI4OC1jaGUtZm9ybSAxLnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2001-1288-che-form 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMTI4OC1jaGUtZm9ybSAyNi5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2001-1288-che-form 26.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMTI4OC1jaGUtZm9ybSAzLnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2001-1288-che-form 3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMTI4OC1jaGUtZm9ybSA1LnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2001-1288-che-form 5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMTI4OC1jaGUtcGN0LnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2001-1288-che-pct.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDEtMTI4OC1jaGUtcHJpb3JpdHkgZG9jdW1lbnQucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2001-1288-che-priority document.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="210563-a-fence-support.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="210565-a-method-for-sealing-an-annulus-between-two-solid-tubulars.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>210564</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>IN/PCT/2001/1288/CHE</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>50/2007</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>14-Dec-2007</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>08-Oct-2007</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>17-Sep-2001</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>M/S. QUALCOMM INCORPORATED</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>5775 Morhouse Drive San Diego, California 92121</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>KRASNER, Norman</td>
											<td>1 Torino Lane San Carlos, California 94070,</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>G01S 5/00</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/US2000/007683</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2000-03-22</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>60/125,673</td>
									<td>1999-03-22</td>
								    <td>U.S.A.</td>
								</tr>
								<tr>
									<td>2</td>
									<td>09/531,806</td>
									<td>2000-03-21</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/210564-a-method-and-apparatus-for-measuring-time-related-to-satellite-date-messages by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 03:33:07 GMT -->
</html>
