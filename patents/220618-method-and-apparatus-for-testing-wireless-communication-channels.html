<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/220618-method-and-apparatus-for-testing-wireless-communication-channels by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 10:32:54 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 220618:METHOD AND APPARATUS FOR TESTING WIRELESS COMMUNICATION CHANNELS</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">METHOD AND APPARATUS FOR TESTING WIRELESS COMMUNICATION CHANNELS</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>IN/PCT/2002/1015/CHE ABSTRACT &quot;METHOD AND APPARATUS FOR TESTING WIRELESS COMMUNICATION CHANNELS&quot; Techniques to test a wireless communication link. A traffic channel is tested via a test data service option (TDSO) that may be negotiated and connected similar to other services. Test parameters values may be proposed, accepted or rejected, and negotiated. Test data for a channel is generated based on a defined data pattern or a pseudo-random number generator. Sufficient test data may be generated based on the generator for a test interval, stored to a buffer, and thereafter retrieved from a particular section of the buffer to form data block(s) for each &quot;active&quot; frame. The traffic channel may be tested using discontinuous transmission. A two-state Markov chain determines whether or not to transmit test data for each frame. The average frame activity and average burst length are defined by selecting the probabilities for transitioning between the ON/OFF states of the Markov chain, which may be driven by a second generator.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td> <br><br>
METHOD AND APPARATUS FOR TESTING WIRELESS COMMUNICATION CHANNELS<br>
BACKGROUND OF THE INVENTION<br>
I.	Field of the Invention<br>
The present invention relates to data communication. More particvilarly, the present invention relates to novel and improved method and apparatus for testing wireless communication channels.<br>
II.	Description of the Related Art<br>
Wireless communication systems such as code division multiple access (CDMA) systems, time division multiple access (TDMA) systems, and others are widely used to provide various types of communication such as voice, data, and so on. For these wireless systems, it is highly desirable to utilize the available resources (i.e., bandwidth and transmit power) as efficiently as possible. This typically entails transmitting as much data to as many users within as short a time period as supported by the conditions of the communication links.<br>
To achieve the above goal, the communication links between a transmitting source (e.g., a base station) and the receiving devices (e.g., "connected" remote terminals) within the system may be characterized. Based on the characterized link conditions for the remote terminals, the system may be better able to select a particular set of remote terminals to serve, allocate a portion of the available resources (e.g., transmit power) to each selected remote terminal, and transmit to each remote terminal at a data rate supported by the allocated transmit power and characterized link conditions.<br>
Conventionally, a communication link is characterized by transmitting (e.g., from a base station) a known data pattern (e.g., generated by a defined pseudo-random number generator), receiving the transmitted data pattern, comparing the received data pattern with a locally generated data pattern to determine transmission errors, and reporting the results back to the transmitting source.     This "loop-back" testing is typically performed<br><br>
continuously for a number of frames over the desired test interval. The test results are reflective of the performance of the communication link over that test interval.<br>
Many newer generation wireless communication systems are capable of flexible operation. For exam.ple, data may be transmitted in bursts and over one or more traffic channels (or physical channels), the data rate may be allowed to vary from frame to frame, the processing of the data may also vary (e.g., from frame to frame and/or from channel to channel), and so on. The conventional loop-back test technique typically characterizes the communication link (e.g., one traffic channel) based on a defined set of test parameters, and may not provide an accurate assessment of the performance of the communication link when the system operates in this flexible manner.<br>
As can be seen, techniques that can be used to characterize a communication link under various flexible operating conditions supported by a wireless commimication system are highly desirable.<br>
SUMMARY OF THE INVENTION<br>
The present invention provides various techniques to test a wireless commtmication link. In one aspect, the testing of a traffic channel is performed via a test data service option (TDSO), which is a service that may be negotiated and connected using the available service configuration and negotiation procedures defined by a particular (CDMA) system and used for other services (e.g., a voice call, a data call). Values for test parameters may be proposed by an entity (e.g., a remote terminal), accepted or rejected by the other entity (e.g., a base station), and alternative values for rejected values may also be provided by the other entity. The negotiation may be performed for each traffic chaimel to be tested.<br>
In another aspect, to test a traffic channel, test data is generated based on a defined data pattern or a pseudo-random number generator. Sufficient test data may be generated for a test interval (e.g., 10.24 sec) based on values from the pseudo-random number generator, and the generated test data may be stored to a (circular) buffer. Test data may thereafter be retrieved, as necessary, from a particular section of the buffer to form one or more data blocks for each<br><br>
"active" frame in the test interval in which test data is to be transmitted. The particular section of the buffer from which to retrieve the test data may be identified by a particular "offset" from a current buffer pointer location, and this offset may be determined based on a number from the pseudo-random number generator. Each data block may be appropriately identified by a header to enable concurrent testing of multiple traffic channels and for testing frames having multiple data blocks per frame. In an embodiment, one pseudo-random number generator and one buffer are provided (at the transmission soiirce and also at the receiving device) for each traffic channel, either on the forward or reverse link, to be tested.<br>
A traffic channel may be tested using discontinuous transmission. In this case, a two-state first-order Markov chain may be used to determine whether or not to transmit test data for each frame in the test interval. By selecting the proper probabilities of transitioning between an ON state (signifying transmission of test data) and an OFF state (signifying no transmission of test data) of the Markov chain, the average frame activity and average burst length (two parameters that define a discontinuous transmission) may be defined. The Markov chain may be driven by a second pseudo-random number generator, which may be different than the one used to generate the test data.<br>
At a receiving device, the transmitted test data is received, processed in a complementary manner, and provided to a controller. The controller further directs local generation of the test data based on a pseudo-random number generator, which is synchronized to the generator at the transmitting source. The locally generated test data is stored in a buffer and thereafter retrieved from the buffer (as necessary) and compared against the received test data. Various performance and statistical data may be collected at the remote terminal based on the resvdts of the comparison between the received and generated test data.<br>
The testing of the reverse link may be achieved in similar manner as that for the forward link. Multiple traffic channels on the forward and reverse links may be tested concurrently. Independent testing of the traffic channels is possible by testing each traffic channel based on a respective set of test parameter values.   Thus, the forward link traffic channels and reverse link<br><br>
traffic channels may be tested based on symmetric or asymmetric test parameter values. The traffic channels under test may have different frame lengths.<br>
The invention further provides other methods and system elements that 5    implement various aspects, embodiments, and features of the invention, as described in further detail below.<br>
BRIEF DESCRIPTION OF THE DRAWINGS<br>
10	The features, nature, and advantages of the present invention wiU<br>
become more apparent from the detailed description set forth below when taken in conjunction with the drawings in which like reference characters identify correspondingly throughout and wherein:<br>
FIG. 1 is a diagram of a spread spectrum communication system that 15    supports a number of users;<br>
FIGS. 2A and 2B are block diagrams of an embodiment of a base station and a remote terminal, respectively, capable of implementing various aspects and embodiments of the invention;<br>
FIG. 3 is a flow diagram of a process for generating test data using a 20    pseudo-random number generator, in accordance with a specific embodiment of the invention;<br>
FIG. 4 is a block diagram of the buffers and pseudo-random number<br>
generators used for generating pseudo-random test data for two traffic<br>
channels;<br>
25	FIG. 5 is a diagram that illustrates the reshuffling of a pseudo-random<br>
number to generate a number for the test data;<br>
FIG. 6 is a diagram that illustrates test data transmission for a<br>
discontinuous transmission (DTX) scheme based on a deterministic frame<br>
activity;<br>
30	FIG. 7 is a diagram of a two-state first-order Markov chain that may be<br>
used to model the ON/OFF states for a DTX scheme based on pseudo-random frame activity;<br>
FIG. 8 is a flow diagram of an embodiment of a process for transitioning between the ON and OFF states of the Markov chain for a traffic channel; and<br><br>
FIG. 9 is a diagram of an embodiment of a test data block. DETAILED DESCRIPTION OF THE SPECIFIC EMBODIMENTS<br>
FIG. 1 is a diagram of a spread spectrum commxmication system 100 that supports a nvunber of users. System 100 provides communication for a number of cells, with each cell being serviced by a corresponding base station 104. Various remote terminals 106 are dispersed throughout the system. Each remote terminal 106 may communicate with one or more base stations 104 on iine forward and reverse links at any particular moment, depending on whether or not the remote terminal is active and whether or not it is in soft handoff. As shown in FIG. 1, base station 104a communicates with remote terminals 106a, 106b, 106c, and 106d and base station 104b communicates with remote terminals 106d, 106e, and 106f.<br>
A system controller 102 couples to base statiorns 104 and may further couple to a public switched telephone network (PSTNT). System controller 102 provides coordination and control for the base statiorns coupled to it. System controller 102 further controls the routing of telephone calls among remote terminals 106, and between remote terminals 106 and the users coupled to PSTN (e.g., conventional telephones), via base stations 104. For a CDMA system, svstem controller 102 is also referred to as a base station controller (BSC).<br>
System 100 may be designed to support one or more CDMA standards such as the "TIA/EIA-95-B Mobile Station-Base Station Compatibility Standard for Dual-Mode Wideband Spread Spectrum Cellular System" (the IS-95 standard), the "TIA/EIA-98-D Recommended Minimum Standard for Dual-Mode Wideband Spread Spectrum Cellular Mobile Station" (the IS-98 standard), the "TIA/EIA/IS-2000.2-A Physical Layer Standard for cdma2000 Spread Spectrum Systems", the "TIA/EIA/IS-2000.5-A Upper Layer (Layer 3) Signaling Standard for cdma2000 Spread Spectrum Systems", the standard offered by a consortium named "3rd Generation Partnership Project" (3GPP) and embodied in a set of documents including Document Nos. 3G TS 25.211, 3G TS 25.212, 3G TS 25.213, and 3G TS 25.214 (the W-CDMA standard), the standard offered by a consortium named "3rd Generation Partnership Project 2"<br><br>
(3GPP2) and embodied in a set of documents including Document Nos. C.S0002-A, C.S0005-A, C.S0010-A, C.S0011-A and C.S0026 (the cdma2000 standard), or some other standards. These standards are incorporated herein by reference.<br>
Some newer generation CDMA systems are capable of concurrently supporting voice and data transmissions, and may further be able to transmit to a particular remote terminal via a number of forward traffic channels. For example, in the cdma2000 system, a fundamental channel may be assigned for voice and certain types of data, and one or more supplemental channels may be assigned for high-speed packet data.<br>
FIG. 2A is a block diagram of an embodiment of base station 104, which is capable of implementing various aspects and embodiments of the invention. For simplicity, FIG. 2A shows the processing at the base station for a communication with one remote terminal. On the forward link, voice and packet data (collectively referred to herein as "traffic" data) from a transmit (TX) data sotirce 210 and test data from a forward link (FL) test data buffer 212 are provided to a multiplexer (MUX) 214. Mviltiplexer 214 selects and provides the traffic data to a TX data processor 216 when operating in a normal mode, and provides the test data when operating in a test mode. TX data processor 216 receives and processes (e.g., formats, encodes, and interleaves) the received data, which is then further processed (e.g., covered, spread, and scrambled) by a modulator (MOD) 218. The modulated data is then provided to an RF TX uiut 222 and conditioned (e.g., converted to one or more analog signals, amplified, filtered, and quadrature modulated) to generate a forward link signal. The forward link signal is routed through a duplexer (D) 224 and transmitted via an antenna 226 to a remote terminal.<br>
Although not shown in FIG. 2A for simplicity, base station 104 is capable of processing and transmitting data on one or more forward traffic channels to a particular remote terminal. For a cdma2000 system, the forward traffic channels include the fundamental channel (FCH), dedicated control charmel (DCCH), supplemental chaimel (SCH), and supplemental code channel (SCCH). The processing (e.g., encoding, interleaving, covering, and so on) for each forward traffic channel may be different from that of other forward traffic channels.<br><br>
FIG. 2B is a block diagram of an embodiment of remote terminal 106. The forward link signal is received by an antenna 252, routed through a duplexer 254, and provided to an RF receiver unit 256. RF receiver imit 256 conditions (e.g., filters, amplifies, downconverts, and digitizes) the received signal and provides samples. A demodulator (DEMOD) 258 receives and processes (e.g., despreads, decovers, and pilot demodtilates) the samples to provide recovered symbols. Demodulator 258 may implement a rake receiver capable of processing mtiitiple instances of the received signal and generating combined recovered sjonbols. A receive (RX) data processor 260 decodes the recovered sjrmbols, checks the received frames, and provides decoded traffic data to a RX data sink 264 and decoded test data to a controller 270. Demodulator 258 and receive data processor 260 may be operated to process multiple transmissions received via mtiltiple forward traffic charmels.<br>
On the reverse link, a multiplexer (MUX) 284 receives results of the forward traffic channel testing from controller 270, test data for testing of the reverse link from a reverse link (RL) test data buffer 278, and traffic data from a TX data source 282. Depending on the operating mode of remote terminal 106, mxiltiplexer 284 provides the proper combination of data and/or resxilts to a TX data processor 286. The data and results are then processed (e.g., formatted, encoded, and interleaved) by TX data processor 286, further processed (e.g., covered, spread) by a modulator (MOD) 288, and conditioned (e.g., converted to analog signals, amplified, filtered, and quadrature modulated) by an RF TX unit 290 to generate a reverse link signal, which is then routed through duplexer 254 and transmitted via anterma 252 to one or more base stations 104.<br>
Referring back to FIG. 2A, the reverse link signal is received by antenna 226, routed through duplexer 224, and provided to an RF receiver unit 228. The reverse hnk signal is conditioned (e.g., downconverted, filtered, and amplified) by RF receiver unit 228, and further processed by a demodulator 232 and an RX data processor 234 in a complementary manner to recover the transmitted data and test results. The reverse link traffic data is provided to a RX data sink 238, and the forward link test results and reverse link test data are provided to a controller 220 for evaluation.<br>
As noted above, for efficientuization of the available system resources, the communication link between the base station and remote terminal may be<br><br>
characterized. The link characterization information may then be used to schedule data transmission, allocate transmit power, determine data rate, and so on, for the remote terminal.<br>
The invention provides various techniques to test a wireless communication link. In an aspect, to test a forward traffic channel, test data is generated at the base station by a test data generator 240 and provided to FL test data buffer 212. The generated test data is thereafter retrieved from buffer 212 (as necessary), processed, and transmitted from the base station to the remote terminal. At the terminal, the transmitted forward link test data is received, processed in a complementary manner, and provided to controller 270. Controller 270 further directs a test data generator 280 to locally generate the test data, which is stored in a FL test data buffer 268. The locally generated test data is thereafter retrieved from buffer 268 (as necessary) and compared against the received test data. Various performance and statistical data may be collected at the remote terminal based on the results of the comparison between the received and generated test data, as described in further detail below. The testing of the reverse link may be achieved in similar manner as that for the forward link.<br>
For clarity, various aspects of the invention are described for a specific implementation for a cdma2000 system.<br>
Channel and Frame Structure<br>
In some CDMA systems, data may be transmitted on one or more traffic chaimels over the forward and reverse links. (A traffic channel may be akin to a physical channel for some CDMA systems, e.g., a W-CDMA system.) For example, in a cdma2000 system, voice data is typically transmitted over a fundamental channel (FCH), traffic data is typically transmitted over a supplemental chaimel (SCH), and signaling may be transmitted over a dedicated control channel (DCCH). The FCH, DCCH, and SCH are different types of traffic channel. To receive a high-speed data transmission on the SCH, a remote terminal is also typically assigned a FCH or DCCH. In the cdma2000 system, each assigned traffic channel is associated with a particular radio configuration (RC) that defines the channel's transmission formats, which may<br><br>
be characterized by various physical layer parameters such as the transmission rates, modulation characteristics, spreading rate, and so on.<br>
For many CDMA systems, data is also transmitted in "frames", with each frame covering a particular time interval. For the cdma2000 system, data may be transmitted in frame lengths of 5 msec, 20 msec, 40 msec, or 80 msec on the fundamental and supplemental channels. For each frame of each connected traffic channel, one or more data blocks may be transmitted, depending on the radio configuration of the traffic channel.<br>
In certain embodiments of the invention, the forward and reverse traffic chaimels are each subdivided into independent "test intervals" (which may also be referred to as "segments"). Each test interval has a diuration of 10.24 seconds, which corresponds to 2048 frames for traffic channels (FCH, DCCH) with 5 msec frame length, 512 frames for traffic channels (FCH, DCCH, and SCH) with 20 msec frame length, 256 frames for traffic channels (SCH) with 40 msec frame length, and 128 frames for traffic channels (SCH) with 80 msec frame length. The first frame in the test interval is referred to as a synchronization frame. In an embodiment, the S5mchronization frame for each oi the forward and reverse traffic channels (FCH, DCCH, SCHO, and SCHl) is selected based on (1) a 32-bit public long code mask (PLCM) assigned to the remote terminal and (2) the system frame number (SFN) of the traffic channel's frames, as described in further detail below. Thus, each traffic channel may be associated with synchronization frames that are different (time-wise) from those of other traffic channels.<br>
In an aspect, the CDMA system is designed to support a test data service option (TDSO), which is akin to an operating mode in which the performance of the forward and/or reverse traffic channels for a remote terminal may be tested and/or verified. The initiation and negotiation oi the parameters for the TDSO are described in further detail below. While operating in this mode, test data may be transmitted over the forward and/or reverse links and over one or more traffic chaimels on each link. This allows for independent testing of various traffic channels and further allows for independent testing of the forward and reverse links.<br><br>
Test Data Generation<br>
In accordance with an aspect of the invention, various types of test data may be used to test a traffic channel. These test data types may include defined data sequences, pseudo-random data, and others. The test data type may be selected via a parameter in the test data service option.<br>
In one test configuration, one or more defined data sequences are used to test a traffic channel. Various schemes may be used to generate these data sequences. In one scheme, a single byte pattern is used to fill up each data block. This byte pattern may be an all ones pattern ("11111111") or some other byte pattern. If a data block includes more than a whole ntimber of octets (e.g., 171 bits), each whole octet may be represented by the byte pattern and the remaining bits may be filled with zeros ("0"). The use of a defined data sequence may simplify the test data generation at the transmission source and receiving device.<br>
In another test configuration, pseudo-random data is used to test a traffic channel. This data may be generated using one or more pseudo-random number generators, as described in further detail below.<br>
FIG. 3 is a flow diagram of a process for generating test data using a pseudo-random number generator, in accordance with a specific embodiment of the invention. FIG. 3 presents an overall view of the test data generation process, which is described in greater detail below. Prior to the start of each test interval for a particular traffic channel to be tested, as determined at step 312, the pseudo-random number generators used at the transmitting source and receiving device to generate the pseudo-random test data for this traffic channel are synchronized and initialized, at step 314.<br>
The pseudo-random number generator at the transmitting source is then operated to generate a sufficient number of test data bits for N frames (where N is two or greater), at step 316. These test data bits are stored to a (circular) buffer, which is subsequently used as the data source for bits to be packed into one or more data blocks for each "active" frame period in the test interval. The receiving device similarly generates the test data bits for N frames, which are stored to a corresponding buffer at the receiving device and thereafter retrieved<br><br>
as necessary to verify whether or not the transmitted test data bits are received error free.<br>
In accordance with an aspect of the invention and as described below, the traffic channel may be tested using discontinuous transmission. In this case, for each frame in the test interval, a TDSO state for the current frame is updated, at step 318. A determination is then made whether or not test data is to be transmitted for the current frame based on the updated TDSO state, at step 320. If test data is to be transmitted, one or more blocks of test data are retrieved from a particular section of the circular buffer, at step 322. These steps are described in further detail below.<br>
FIG. 4 is a block diagram of the buffers and pseudo-random nunber generators used for generating pseudo-random test data for a forward and a reverse traffic channel, in accordance with an embodiment of the invention. In this embodiment, one pseudo-random number generator is associated with each traffic channel to be tested on each of the forward and reverse links. For example, if the TDSO is configured to transmit data over the FCH in the forward and reverse links and over the SCHO only in the forward link, then three pseudo-random number generators are used at the base station and three pseudo-random number generators are used at the remote terminal (only two generators are shown on each side in FIG. 4).<br>
In the embodiment shown in FIG. A, base station 104 includes pseudo¬random number generators 440a and 440b used to generate pseudo-random data for a traffic channel on the forward and reverse links, respectively. The generated test data from generators 440a and 440b is provided to test data buffers 412a and 412b, respectively. Similarly, remote terminal 106 includes pseudo-random niimber generators 480a and 480b used to generate pseudo¬random data for the traffic chaninel on the forward and reverse Hnks, respectively, which is provided to test data buffers 482a and 482b, respectively. Additional pseudo-random number generators are used for additional traffic channels to be tested. In an embodiment, pseudo-random number generators 440a, 440b, 480a, and 480b are initialized and synchronized at each synchronization frame (i.e., once every test interval), as described in further detail below.<br><br><br>
In the above pseudo-code, PRNGx denotes the content of the x* pseudo¬random number generator. The seed for the pseudo-random number generator may be selected as the system time, in frames, of the synchronization frame (e.g., the system frame number of the synchronization frame may be used as the seed for the pseudo-random generator). TOGGLE is a value used to toggle some of the bits of the seed, and may be selected as 0x2AAAAAAA for a generator used for the forward link and 0x55555555 for a generator used for the reverse link. As used herein, the notation "Ox..." denotes a hexadecimal number.<br>
Once initiated, the pseudo-random number generator is iterated a number of times to generate the pseudo-random test data to be used for the upcoming test interval.   The number of test data bits to be generated is<br><br>
dependent on various factors such as (1) the traffic channel type (i.e., FCH, DCCH, or SCH) (2) the connected radio configuration of the remote terminal, (3) the maximum number of bits to be passed by a multiplex sublayer to the physical layer for each frame period, (4) the size of the available buffer, and (5) possibly other factors. The multiplex sublayer is a protocol layer between a physical layer and a higher layer, and which multiplexes traffic data, test data, signaling, and other types of data received from the TDSO to the assigned traffic channel(s).<br>
In an embodiment, test data bits are generated for N frames at the maximum bit rate possible for the connected radio configuration, as described in further detail below. A default value of two, for example, may be set for N, imless another value for N is negotiated between the base station and remote terminal. A larger value for N may provide test data having better randomness properties but requires a larger-sized btiffer.<br>
After initialization, the pseudo-random nujtnber generator is used to generate test data bits for N frames. During the test data generation, whenever a pseudo-random niunber is needed, the current value of the variable PRNGx is retrieved and used, and the variable PRNGx is then updated (i.e., iterated) once as shown in equation (1). In an embodiment, only the most sigiuficant 24 bits of the 31-bit number for PRNGx are used because of better randomness properties and ease of xisage, and the least significant 7 bits are discarded. Thxis, each iteration of the pseudo-random ntunber generator provides a 24-bit pseudo¬random number, yjk), used to provide three bytes of test data. P(n) iterations are performed to generate the required test data for N frames.<br>
FIG. 5 is a diagram that illustrates a reshuffling of each pseudo-random number to generate 24 bits of test data. Using the 31-bit number from the pseudo-random number generator to generate test data is inefficient, from an implementation point of view, because the number is not octet aligned. It is easier to build a frame with a number that is octet aligned. The least sigriificant bits of the 31-bit number are "less random" than the most significant bits, and are thus shuffled to the right. In an embodiment, each 24-bit pseudo-random number yjk) from the pseudo-random number generator, where 1 
 <br>
swapping the least significant byte in the 24-bit number yjk) with the most significant byte to generate the reshuffled nimiber yik).<br>
To generate test data for a new test interval for a particular rate R(n), the TDSO generates P(n) pseudo-random numbers corresponding to an actual buffer size B(n), where B(n) &gt; N»R(n). As an example, to generate 344 test data bits, the pseudo-random number generator is iterated 15 times (15*24=360, which is the first integer number of iteratioris that yield at least 344 bits). The buffer is then filled with the following number sequence:<br><br>
The buer is filled with test data at the start of each test interval and prior to the synchronization frame. Thereafter, for each "active" frame in the test interval in which test data is to be transmitted, test data bits may be retrieved from the buffer to generate one or more data blocks for the frame. For a particvdar traffic channel, the bits from the buffer are packed serially into one or more data blocks (e.g., corresponding to the available MUX PDU (Protocol Data Unit), as determined by the connected multiplex option, where each MUX PDU represents encapsulated data communicated between peer layers at the base station and remote terminal).<br>
In an embodiment, the test data buffer is operated as a circular buffer and test data for each frame is retrieved from a particular section of the drciilar buffer (i.e., starting from a particular location in the circular buffer). Initially, after filling the circular buffer (e.g., with at least two frames of test data), a buffer pointer is set to the first location in the buffer (e.g., address zero). In an embodiment, at the start of each frame, the pseudo-random number generator is iterated once and a 24-bit number is obtained as described above. The least significant 6 bits of this 24-bit number, O is then used to determine an offset for the buffer pointer. The buffer pointer is advanced from its current location by [0„ mod B(n)] byte positions to the new starting location for the current frame. Bytes of test data are then retrieved from the circular buffer, starting from this starting location, to fill whole octets in a data block. For example, if a data block includes 171 bits, then 21 bytes (i.e., 168 bits) of test data are retrieved from the drctilar buffer and the remaining three bits in the data block are filled with zeros ("0").<br><br>
For the next frame, the pseudo-random nximber generator is iterated once more, the least significant 6 bits of the 24-bit number, 0„+j, from the generator is used to determine the buffer pointer offset for this frame. The buffer pointer is advanced by [0„+i mod B(n)] byte positions from the aarrent location (which is one byte position over from the last test data byte retrieved for the prior frame). This process for generating data blocks is repeated for each active frame in the test interval in which test data is to be transmitted. An example of the test data generation is provided below.<br>
Frame and Btiffer Sizes<br>
As noted above, the pseudo-random number generator for a particular traffic channel and (forward or reverse) Unk to be tested is iterated a niunber of times (i.e., as often as necessary) to generate the test data to be used for a test interval. The number of test data bits to be generated for each test interval is based on the channel type and radio configuration. Table 1 lists the maximum number of bits for each (5 msec, 20 msec, 40 msec, or 80 msec) frame and the buffer size for the FCH and DCCH for various radio configtirations defined by the cdma2000 standard.<br><br><br><br>
Discontinuous Transmission Testing<br>
In accordance with an aspect of the invention, the testing of a traffic channel may be performed in a manner to model discontinuous transmission (DTX) supported by some newer generation CDMA systems (e.g., the cdma2000 and W-CDMA systems). This DTX testing may be achieved by transmitting test data on the traffic channel in accordance with a particular ON/OFF frame activity. For each frame period (e.g., each 20 msec, 40 msec, or 80 msec) for the traffic chaimel, the TDSO may choose to provide to the<br><br>
multiplex sublayer either one or more data blocks corresporiding to a full-rate frame on that channel or one or more blank data blocks. Various DTX schemes may be used to provide data to the multiplex sublayer to achieve a particular desired frame activity. Some of these DTX schemes are described in further detail below.<br>
In a first DTX scheme, test data is provided based on a deterministic frame activity. For this DTX scheme, test data is transmitted on the traffic channel for a particular ON duration, followed by blank data transmission for a particular OFF duration, followed by test data transmission for another ON duration, and so on. The ON and OFF durations may be selectable or negotiated between the base station and remote terminal. Also, the ON/OFF cycles may be periodic or non-periodic.<br>
FIG. 6 is a diagram that illustrates test data transmission for an embodiment of the first DTX scheme. As shown in FIG. 6, the TDSO sends to the multiplex sublayer test data blocks for a traffic channel for a particular ON duration, and then sends blank data blocks for a particxilar OFF duration. The ON/OFF cycle may be designated to start at the beginning of a synchronization frame on the traffic channel being tested. The ON and OFF dtirations may be selected such that (1) each test interval includes one ON/OFF cycle, (2) a test interval includes multiple ON/OFF cycles, or (3) an ON/OFF cycle spans multiple test intervals.<br>
In an embodiment, the ON duration for transmitting test data and the OFF duration for transmitting blank data may be specified by two parameters (e.g., TX_ON_PERIOD and TX_OFF_PERIOD) in a message (e.g., a Service Option Control Message in the cdma2000 system) sent or received by the transmitting sovurce.<br>
In a second DTK scheme, test data is provided in a pseudo-random manner based on a particular average frame activity and burst length. This DTX scheme may be used to achieve a particular (desired or selected) long-term average of frame activity (D) and a particiiLar average burst length (B) for a traffic channel. The average frame activity D refers to the average number of frames in each ON dxiration versus the average number of frames in each ON/OFF cycle. And the average bxirst length B refers to the average nxmiber of frames in each ON duration.<br><br>
FIG. 7 is a diagram of a two-state first-order Markov chain that may be used to model the ON/OFF states for the TDSO for the second DTX scheme. In an embodiment, one Markov chain is maintained for each traffic channel being tested. At the start of each frame, ihe TDSO is either in the ON state or the OFF state. The Markov chain is characterized by a probability p of transitioning from the ON state to the OFF state, and a probability (] of transitioning from the OFF state to the ON state. The values of p and q may be specified by two parameters (e.g., ON_TO_OFF_PROB and OFF_TO_ON_PROB) in a message (e.g., a SeTvice Option Control Message) sent by the transmitting source (e.g., the base station).<br><br>
Equation (4) indicates that for a given value of B, D varies from 0 to<br>
B(l+B) when Cf varies from 0 to 1, respectively. Similarly, equation (5) indicates<br>
that for a given value of D, B varies from D/(l-D) to infinity when q varies from<br>
0 to 1, respectively. For example, when B is selected as 2, D should be smaller<br>
&gt;    than 2/3, which indicates that the average frame activity D cannot be set higher<br><br>
than 2/3 when B is set to 2. As another example, if D is set to 7/10, then B is set greater than 7/3.<br>
In an embodiment, a (e.g., 24-bit) pseudo-random ntunber is used to drive the transition between the ON and OFF states for each frame period (each 5 msec, 20 msec, 40 msec, or 80 msec). In an embodiment, one pseudo-random nimiber generator is used for aU traffic channels having the same frame length. For example, one pseudo-random number generator is used for all traffic channels having 20 msec frame length. A second pseudo-random nimiber generator is used for supplemental channels configxired for 40 msec or 80 msec frame length, and this generator is updated every 40 msec or 80 msec corresponding to the channel frame length. In an embodiment, the pseudo¬random nimiber generator(s) used to drive the TDSO states are different than the ones used to generate the test data.<br>
In an embodiment, the pseudo-random number generator(s) used to drive the transitions between TDSO states are initialized at the start of the first synchronization frame after the TDSO is initialized. Upon initialization, the Markov chain for each traffic channel is set to a particular state (e.g., OFF). The pseudo-random number generator(s) are thereafter maintained throughout the duration of the call, without reinitialization at subsequent synchronization frames. These generators may be reiiutialized upon completion of a CDMA-CDMA hard handoff.<br>
FIG. 8 is a flow diagram of an embodiment of a process for transitioning between the ON and OFF states of the Markov chain for a traffic channel. Initially, the pseudo-random ntimber generator iised to drive the TDSO states for the traffic channel is initialized, at step 812. This initialization may be achieved, for example, by obtaining a seed for the generator, XORing the seed with the value 0x2AAAAAAA, ANDing the result with the value OxTFFFFFFF, and iterating the generator four times with the modified seed, as described in the above pseudo-code.<br>
In an embodiment, a 24-bit pseudo-random number from the pseudo¬random number generator is used to determine whether or not to transition from one state to another. Thus, 24-bit ON and OFF threshold values are computed, at step 814. These thresholds may be computed as:<br><br><br><br>
As shown in FIG. 7, the TDSO for the traffic channel transitions from the ON state to the OFF state with a probability of p, and from the OFF state to the ON state with a probability of q. Based on a pseudo-randomly generated 24-bit niunber, the TDSO transitions from the ON state to the OFF state if this number is less than the OFF_THRESHOLD, and from the OFF state to the ON state if this niimber is less than the ON_lHRESHOLD. Steps 812 and 814 are typically performed once, prior to the first sjmchronization frame after the TDSO has been initialized.<br>
The steps within box 820 are thereafter performed for each frame period. Initially, a 24-bit pseudo-random number is generated from the ctirrent 31-bit state of the pseudo-random number generator, at step 822. A determination is next made whether or not the ctorrent TDSO state for the traffic channel is OFF, at step 824.<br>
If the current TDSO state is OFF, a determination is made whether the 24-bit number is greater than or equal to the ON_THRESHOLD, at step 826. If the answer is yes, the TDSO remains in the OFF state, at step 828. Otherwise, the TDSO transitions to the ON state, at step 832. In either case, the.process then proceeds to step 834.<br>
If the current TDSO state is ON (determined back at step 824), a<br>
determination is then made whether the 24-bit number is greater than or equal<br>
to the OFF_THRESHOLD, at step 830. If the ariswer is yes, the TDSO remains<br>
in the ON state, at step 832. Otherwise, the TDSO transitions to the OFF state,<br>
at step 828.<br>
i	At step 834, the pseudo-random number generator is iterated once, as<br>
shown in equation (1), to update the state of the generator for the next frame.<br>
)    Data Block Header and Format<br>
In accordance with an aspect of the invention, each test data block is appropriately identified to enable concurrent testing of multiple traffic channels and for frames with multiple data blocks per frame. In an embodiment, the<br><br>
identification is achieved via a header provided in each data block supplied to the multiplex sublayer for each frame.<br>
FIG. 9 is a diagram of an embodiment of a test data block 900, which includes a channel ID field 912, a PDU (data block) sequence nnunber field 914, 5 and a test data field 916. Channel ID field 912 identifies the particular traffic chaimel used to send this data block. PDU sequence ntimber field 914 identifies the sequence number of this data block within the frame (e.g., within a physical layer service data unit (SDU)). For a FCH or DCCH carrying one data block per frame, this field is set to '0'. And for an SCH capable of carrying multiple data<br>
10 blocks per frame, this field is set to '0' for the first data block in the SCH frame, 1' for the second data block in the SCH frame, and so on. Test data field 916 includes the (defined or pseudo-random) test data generated as described above.<br>
Table 4 lists the fields and their lengths and definitions for an<br>
15    embodiment of test data block 900.<br><br><br>
Example of Test Data Generation<br>
For clarity, the test data generation is now described for a specific example.  In this example, the following parameters are used:<br>
•	The TDSO is configured to transmit primary traffic over the FCH.<br>
•	The base station and remote terminal are configured to support radio configuration 3, and the frame length is 172 bits.<br>
•	Multiplex option 0x01 is selected for the FCH, and one data block is passed to the multiplex sublayer for each active (20 msec) frame.<br>
•	The average frame activity D and average burst length B are based on the probabilities p = 0.7 and q = 0.3. Thus, D = q/ip+cj) = 0.3, B = 1/p = 1.4, ON_THRESHOLD= ROUND (16,777,215 • p) = 11,744,051, and OFF_THRESHOLD = ROUND (16,777,215 •q) = 5,033,164.<br>
•	The least significant 32 bits of the remote terminal's Public Long Code Mask (PLCM) is equal to 0x9F000307.<br>
•	A first pseudo-random number generator used to determine the transitions between the ON/OFF states of the Markov chain for this traffic channel has a current value of 0x682DFF0C.<br>
For this example, the TDSO is about to transmit frame number 0xAB89EFAD on the forward FCH (F-FCH) to the remote terminal. The frame number is XORed with the value 0x2AAAAAAA, and the least significant 9 bits of the XOR result is equal to 0x107, which is equal to the least significant 9 bits of the remote terminal's PLCM. This frame is thus the synchronization frame for the F-FCH, and the test data generation process is resynchronized.<br>
As part of the resynchronization, a second pseudo-random niunber generator used to generate test data for tiie F-FCH is reinitialized by (1) seeding it with the frame number 0xAB89EFAD, (2) performing an XOR of the seed with the value 0x2AAAAAAA to generate the value 0x01234507, and (3) iterating the pseudo-random number generator four times, as described in the above pseudo-code.<br>
After reinitialization, the state of the second pseudo-random nvimber generator is 0x3B7E3E68, tine most significant 24 bits of tiiis state is 0x76FC7C, and the least significant 6 bits of this 24-bit number is 0x3C. This 6-bit number, 0„, is later used to determine the offset for tiie circular buffer.<br><br>
number of iterations that will provide at least 344 bits included in two frames for radio configuration 3). The actual buffer size is thus B(n) = 45 (i.e., 360 bits = 45 bytes).<br>
The generation of the test data proceeds as follows. Prior to each iteration, the current state of the second generator is obtained and the most significant 24 bits are used to form a 24-bit number. The following sequence of 24-bit numbers are generated by the second pseudo-random number generator:<br><br>
The first pseudo-random ntimber generator used to determine the ON/OFF state is then updated, and a new 24-bit number having a value of 0x478744 (4,687,684) is generated. The first pseudo-random generator is updated at the end of the first iteration of the loop and after the 24-bit number is calculated, it is tested against the ON_THRESHOLD during the second iteration around the loop. Since this value is less than the ON_THRESHOLD value of 11,744,051, the TDSO transitions from the OFF state to the ON state, and a data block is provided to the multiplex sublayer for the current frame.<br>
To generate this data block for the first frame in the test interval, the offset for the buffer pointer is computed as 0„ mod B(n) (i.e., 0x3C mod 45 = 60 mod 45 = 15).    The bviffer pointer (which is initialized to zero upon<br><br>
reinitialization) is thus advanced by 15 byte positions, from 0x7C to 0x6B. The 171 bits for the data block are then formed with 21 bytes (168 bits) retrieved from the circular buffer, starting at the buffer location identified by the advanced buffer pointer. The remaining three bits in tiie data block are filled with zeros. The data block includes the following byte sequence:<br>
6B A4 4C 3D 78 BE AF ED C7 B3 BD C5 8D 42 29 FE 5B DO 44 87 47 '000'<br>
Since this frame is to be sent over the F-FCH, the first 5 bits of the octet are replaced by '00000' corresponding to the channel ID of '00' and the PDU sequence number of '000'. The final test data block is as follows:<br>
03 A4 4C 3D 78 BE AF ED 07 B3 BD C5 8D 42 29 FE 5B DO 44 87 47 '000'<br>
For the next TDSO frame, a new 24-bit nvmiber having a value of 107,486 is generated by the first pseudo-random number generator. Since this value is less than the ON ihreshold, the TDSO remains in the ON state and a new data block is generated for the multiplex sublayer.<br>
For the second frame in the test interval, the second pseudo-random number generator is iterated, and a 24-bit number having a value of 0x02F3FD is generated. The 6-bit niimber 0„ for the buffer offset has a value of 0x3D. The buffer offset is then computed as 0„ mod B(n) {i.e., 0x3D mod 15 = 61 mod 45 = 16). The buffer pointer (which was pointing one b5e location over from the last retrieved byte value of 0x47 for the last data block) is thtis advanced by 16 byte positions from OxDE to 0x6F. The 171 bits for the data block are then formed with 21 bytes from the circular btiffer, starting at the new buffer location. The remaining three bits in the data block are filled with zeros. The data block includes the following byte sequence:<br>
i  7F 9D A7 79 12 EF E8 FO 6B A4 4C 3D 78 BE AF ED 07 B3 BD C5 8D '000'<br>
After replacing the first 5 bits with '00000' corresponding to the data block header for the F-FCH, the data block provided to the multiplex sublayer is as follows:<br>
07 9D A7 79 12 EF E8 FO 6B A4 40 3D 78 BE AF ED 07 B3 BD 05 8D '000'<br>
)    The buffer pointer now points to the next byte position (0x42) for the next frame.<br><br>
TDSO Frame Transmission and Reception<br>
To test a particular traffic channel, the data block(s) for each "active" frame are generated based on a defined data pattern or a pseudo-random number generator, as described above. The transmitting source and receiving device are synchronized so that the receiving device is able to properly generate the transmitted frames, such that the received frames may be compared with the locally generated frames. Each data block in each frame is appropriately identified to indicate (1) the particular traffic channel used to send the data block and (2) the data block number within the frame. The TDSO is able to compare the received and locally generated frames, covint the errors, determine the bit error rate (BER), PDU or data block error rate (PER), and frame error rate (PER), and compute other measures of performance.<br>
The testing thus includes processing performed at the transmitting source to transmit a test frame and processing performed at the receiving device to receive a test frame.<br>
The transmit frame processing includes:<br>
•	Generating one or more data blocks for each active frame.<br>
•	Supplying the generated data block(s) to the multiplex sublayer for tiansmission.<br>
•	Incrementing the appropriate cotmters.<br>
For a test of the FCH or DCCH that operates on 20 msec frames, the TDSO provides one data block to the multiplex sublayer for each active frame interval in which the TDSO state for the traffic channel is ON. For a test of the SCH, the TDSO provides Ng data blocks to the multiplex sublayer for each active frame interval (20 misec, 40 msec, or 80 msec), where Ng is the maximimi number of data blocks in a physical layer SDU for the connected service option. Each data block may be generated as described above, and includes the header and test data.<br>
The receive frame processing includes:<br>
•	Generating one or more data blocks for each active frame.<br>
•	Receiving data block(s) from the multiplex sublayer.<br>
•	Comparing the rates and contents of the received and generated data block(s).<br><br>
Incrementing the appropriate cotinters.<br>
At the receiving device, the mtiltiplex sublayer categorizes each received data block (e.g., as either test data or blank) and the frame. The multiplex sublayer then supplies the data block t3rpe and received test data bits, if any, to the TDSO.<br>
Various counters may be maintained at the transmitting source and receiving device to support TDSO. For each traffic channel to be tested, a set of cotinters may be maintained at the transmitting source to keep track of the number of frames (of various types) and data blocks transmitted to the receiving device. At the receiving device, another set of counters may be maintained to keep track of the number of frames, data blocks, and data bits received from the transmitting source, the number of frame errors, block errors, and bit errors, and so on. These coimter values may be stored in a buffer. This buffer is tjically implemented separate from the data buffer, and is used to store variovis coimters over a period of time. The coimter values may thereafter be used to determine the FER, PER, and/or BER, and other statistics such as the average frame activity, average burst length, and so on. The test results and statistical information may be reported from the remote terminal to the base station via one or more messages.<br>
Test Data Service Option<br>
In accordance with an aspect of the invention, the test data service option (TDSO) is a service that may be negotiated and connected using the available service configuration and negotiation procedures defined by a particxilar CDMA system and used for other services (e.g., a voice call, a data call). The remote terminal may be able to propose and/or accept a service configuration having attributes that are consistent with valid attributes for that configuration. The remote terminal may also be able to indicate the preferred radio configurations for the forward and reverse links.<br>
In an embodiment, the remote terminal is able to propose or invoke service-optLon-specific fimctions for a TDSO call by sending a message (e.g., a Service Option Control Message in the cdma2000 system) to the base station. This message may be sent such that an acknowledgement is requested or required from the base station. Via the message, the remote terminal may propose values for various test parameters to be used dviring the test period.<br><br>
The base station receives the message and may accept or reject the remote terminal's proposed test parameter settings. If all the fields in the remote terminal's directive are within acceptable ranges for the base station, the base station may issue a directive that accepts the remote terminal's proposal. This directive may be sent to the remote terminal via a response message (e.g., a Service Option Control Message) that includes the same values, as proposed by the remote terminal, for the various fields.<br>
Alternatively, if the remote terminal proposes a particular test setting not supported by or acceptable to the base station, the base station may issue a directive that may include alternative values (i.e., cotmter-proposals) to the remote terminal's proposed values. This directive may be sent to the remote terminal via a response message that includes the proposed values in the fields supported and accepted by the base station, and cotxnter-proposed values in the fields not supported or accepted by the base station. For example, if the remote terminal requests a particular number of circular buffer frames N that is not supported by the base station, the base station may respoiise with a value indicating the maximum number of frames for the buffer supported by the base station.<br>
Thus, via messaging and negotiation, the base station is able to accept the remote terminal's proposal, or reject the proposal and provide alternative values for test parameters.<br>
Upon receiving the response message from the base station, the remote terminal may accept the covmter-proposed values or select new values that conform to the coimter-proposed values. The remote terminal may then send to the base station another message proposing these new values.<br>
Table 6 lists the valid service configuration for TDSO for a specific implementation in the cdma2000 system.<br><br><br><br>
As noted above, a niunber of traffic channels may be concurrently tested on each of the forward and reverse links. For each traffic channel to be tested, the test parameters for the channel may be negotiated via the signaling and negotiation described above. Thus, traffic channels of various tjrpes on the forward and reverse links may be tested independently based on their respective sets of test parameter values.<br>
In FIGS. 2A, 2B, and 4, the elements in the base station and remote terminal may be implemented by various means. For example, the pseudo¬random number generators may be implemented with hardware, software, or a combination thereof. For a hardware implementation, pseudo-random number generators, controllers, and other processing imits may be implemented within one or more application specific integrated circuits (ASICs), digital signal processors (DSPs), programmable logic devices (PLDs), controllers, micro¬controllers, microprocessors, other electronic imits designed to perform the functions described herein, or a combination thereof.<br>
For a software implementation, these processing tmits may be implemented with modules (e.g., procedures, functions, and so on) that perform the functions described herein. For example, the pseudo-random number generators may be implemented with software code stored in a memory unit and executed by a processor (e.g., controller 220 or 270).<br>
The circular buffers for the test data for the traffic channels may be implemented with one or more buffers, which may be implemented using RAM, DRAM, Flash memory, or some other memory technology. Also, the pseudo-random nixmber generators may be operated to generate test data for the traffic channels as the data is needed, without having to store the test data in bxiffers. In that case, the states of the pseudo-random nuraiber generators are appropriately maintained and updated such that the generators are able to generate the proper sequence of test data for each active frame.<br>
Although varioiis aspects, embodiments, and features of the test data generation and traffic channel testing of the invention have been described for the cdma2000 system, these techniques may be advantageously applied for the other wireless commtmication systems and other CDMA systems (e.g., the W-CDMA system).<br>
A specific implementation of various aspects of the invention for a cdma2000 system is described herein below  :<br><br>
Terms<br>
Base Station (BS). A fixed station used for conununicating with mobile stations. Depending on the context, the tenn base station may refer to a cell, a sector within a cell, or another part of the wireless 5     system.<br>
Blank-and-burst The preemption of the traffic in an entire traffic channel frame by another form of traffic, typically signaling.<br>
Data Block. The unit of data exchanged between the multiplex sublayer and the TDSO.<br>
Dim-and-burst A frame in which primary traffic is multiplexed with secondary, signaling, or secondary 10     and signaling traffic.<br>
ESCAM. Extended Supplemental Channel Assignment Message (see [5]).<br>
FER. Frame Error Rate.<br>
Forward Dedicated Control Channel. A portion of a Radio Configuration 3 ttirough 9 Forward Traffic Channel.<br>
15     Forward Fundamental ChanneL A portion of a Forward Traffic Channel.<br>
Forward Supplemental Channel. A portion of a Radio Configuration 3 through 9 Forward Traffic Channel, which operates in conjunction with a Forward Fundamental Channel or Forward Dedicated Control Channel in that Forward Traffic Channel to provide higher data rate services.<br>
Forward Traffic channel. One or more forward CDMA channels used to transport user and signaling 20     traffic from the base station to the mobile station (see Forward Fundamental Channel, Forward Dedicated Control Channel, and Forward Supplemental Channel).<br>
Frame. A basic timing interval in the system. For the traffic channel, a frame is 5 ms, 20 ms, 40 ms, or 80 ms long.<br>
FSCAMM. Forward Supplemental Channel Assignment Mini Message (see [5]).<br>
25     Fundamental Channel. A portion of a traffic channel, which includes a Forward Fundamental Channel and a Reverse Fundamental Channel.<br>
Fundicated Frame. A TDSO frame carried in a fundicated data block.<br>
Fundicated Channel. Fundamental Channel or a Dedicated Control Channel.<br>
Fundicated Data Block. A data block carried on a Fundamental Channel or a Dedicated Control 30     Channel.<br>
Mobile Station (MS). A station that communicates with the base station.<br>
Multiplex Format Indicator. A number that specifies the format of a MuxPDU [see 3].<br>
 Reserved for future use.<br><br>
Multiplex Option. The ability of the multiplex sublayer and lower layers to be tailored to provide special capabilities. A multiplex option defmes such characteristics as the frame format and rate decision rules (see also Multiplex Sublayer).<br>
Multiplex Sublayer. One of the conceptual layers of the system that multiplexes and demultiplexes primary traffic, secondary traffic, and signaling traffic (see [3).<br>
MuxPDU Type 1 Category. The category of the received MuxPDU type 1 as defined in [3].<br>
MuxPDU Type 2 Category. The category of the received MuxPDU type 2 as defined in [3].<br>
MuxPDU Type 3 Category. The category of the received MuxPDU type 3 as defined in [3].<br>
MuxPDU Type 5 Category. The category of the received MuxPDU type 5 as defined in [3].<br>
PER. PDU Error Rate.<br>
Primary Traffic Data bits from a service that has the traffic type in the Service Configuration Record set to Primary.<br>
Radio Configuration (RC). A set of Forward Traffic Channel and Reverse Traffic Channel transmission formats that are characterized by physical layer parameters such as transmission rates, modulation characteristics, and spreading rate.<br>
Reverse Dedicated Control Channel. A portion of a Radio Configuration 3 through 6 Reverse Traffic Channel.<br>
Reverse Fundamental Channel. A portion of a Reverse Traffic Channel.<br>
Reverse Supplemental Channel. A portion of a Radio Configuration 3 through 6 Reverse Traffic Charmel, which operates in conjunction with a Reverse Fundamental Channel or Reverse Dedicated Control Channel in that Reverse Traffic Channel to provide higher data rate services.<br>
Reverse Traffic channel. One or more reverse CDMA channels on which data and signaling are transmitted from a mobile station to a base station (see Reverse Dedicated Control Channel, Reverse Fundamental Channel, and Reverse Supplemental Channel).<br>
RSCAMM. Reverse Supplemental Channel Assignment Mini Message (see [5]).<br>
SCRM. Supplemental Channel Request Message (see [5]).<br>
SCRMM. Supplemental Channel Request Mini Message (see [5]).<br>
Secondary Traffic Data bits from a service that has the traffic type in the Service Configuration Record set to Secondary.<br>
Service Option. A service capability of the system. Service options may be applications such as voice, data, or facsimile etc.<br>
Service Option Connection. A particular instance or session in which the service defined by a service option is used.<br>
Signaling Traffic Control messages that are carried between mobile station and the base station on the Traffic Channel.<br><br>
System Time. The time reference used by the system. System Tmie is synchronous to Universal Coordinate Time (except for leap seconds) and uses the same time origin as GPS time. All base stations use the same System Time (within a small margin of error). Mobile stations use the same System Time, offset by the propagation delay from the base station to the mobile station.<br>
5     TDSO. Test Data Service Option.<br>
TrafBc Channel. One or more CDMA channels on which data and signaling are transmitted between a mobile station and base station (see Forward Traffic Channel and Reverse Traffic Channel).<br>
UHDM. Universal Handoff Direction Message (see [5]).<br><br><br>
Test Data Service Option<br>
Overview<br>
The following are the requirements of the cdma2000 Test Data Service Option:<br>
•	Connects the Service Option at the Multiplex Sublayer.<br>
•	Supports both forward and reverse links (asymmetric and symmetric).<br>
•	Does bit-wise comparison of the received frame with the locally generated/expected frame to detect the undetected bit errors that are not detected by frame quality bits.<br>
•	Maintains separate sets of error statistics for the FCH/DCCH and SCH(s) and responds with this information when queried by the base station.<br>
•	Defines a single service option, and sets up different RCs and service configurations on the two links through service negotiation.<br>
•	May include simultaneous primary and secondary traffic (for example, can run Markov service [SO 54] on the Fundamental Channel and TDSO on the Supplemental Channel).<br>
•	Can be carried by all RC combinations on the reverse/forward links as defined under cdma2000.<br>
•	Requires separate chaimel IDs to differentiate between the FCH, DCCH, and Supplemental Channel(s).<br>
•	Is able to handle multiframe interleaving over 40 ms and 80 ms intervals in the physical layer.<br>
•	Does not preclude a future extension to support flexible/variable rate.<br>
•	Allows two types of ON/OFF traffic models to be selectable:<br><br>
-	Deterministic frame activity given by TX_ON and TX_OFF<br>
-	Random frame activity with average frame activity D and average burst length B, in units of Physical Layer frames<br>
•	Supports two source types of bits for frame generation:<br>
-	Selectable byte pattern<br>
-	Pseudo-random bits<br>
•	Supports 5 ms FCH/DCCH frames testing using Layer 3 Signaling mini messages<br>
General description<br>
TDSO provides for the generation of an arbitrary (preselected or random) data<br>
sovtrce for transport over forward and reverse traffic channels while following<br><br>
an arbitrary (preselected or random) transmission frame activity. The test is performed at a fixed data rate.<br>
The mobile station and the base station generate TDSO data frames for the configured and allocated traffic channels. The content of each frame is generated per a selectable byte pattern or by employing a hybrid approach consisting of pseudo-randorrdy generated data together with a circular buffer. The frame generation processes are synchronized between the mobile station and the base station. This permits the receiving station to reproduce the transmitted frames and compare them to the received frames. The TDSO counts the number of various frame types that were transmitted on a particular traffic channel. The TDSO also coimts the number of various frame types received on the traffic channel according to the information provided by the multiplex sublayer and the result of the comparison between the frame received and the locally generated replica. Frame error and bit error statistics can be calculated from these counts.<br>
The TDSO allows system signaling to take precedence. Dim-and-burst frames and blank-and-burst frames are excluded from FER or bit error rate calculations. Becaiise the receiver cannot predict when the transmitter transmits a dim-and-burst or blank-and-burst frame, the receiver may categorize a frame as dim-and-burst or blank-and-burst when it is not (false alarm), or categorize a frame as not dim-and-burst or blank-and-burst when it is (miss). Therefore, the frame error statistics calculated by using only frame cotmts recorded in the receiver may not be exact. However, the error is very small and can usually be ignored.<br>
Service option number<br>
The TDSO described by this standard shall use service option nimxber 32.<br>
Required multiplex option support<br>
The TDSO shall transmit and receive traffic channel frames in accordance with the requirements of the multiplex option or multiplex options configured for the service option.<br>
Multiplex option support for FCH/DCCH (for 20 ms FCH/DCCH frames only)<br>
On the FCH/DCCH physical channels, the TDSO shall support an interface with the multiplex optioris indicated in Table 8.<br><br><br>
When Multiplex Option 0x01 is used, MuxPDU Type 1 is used (see Ofor 5    interface to multiplex option).<br>
When Multiplex Option 0x02 is used, MuxPDU Type 2 is used (see Ofor interface to multiplex option)<br>
Multiplex option support for SCH<br>
On the SCH(s) physical channel(s), the TDSO shall support an interface with 10    the multiplex options as indicated in Table 9.<br><br><br>
9600 bps or 19200 bps. For Supplemental Channel rates lower than or equal to 16x, MuxPDU Type 1,2 or 3 that is associated with the multiplex option as shown in Table 9 will be used. For Supplemental Channel rates higher than 16x, the TDSO shaD use MuxPDU Type 5, which is associated with the Multiplex Option Oxf20.<br>
The niimber of data blocks (either carried by MuxPDU Type 1,2, or 3) in every SCH frame is shown in Table 9 for different multiplex options. For SCH rates higher than 16x, there is exactly one data block (carried by MuxPDU Type 5) in every SCH frame (see [3]). (see Of or interface to multiplex options)<br>
Interface to multiplex options<br>
TDSO frames can be carried as primary or secondary traffic. A TDSO frame supplied to the multiplex sublayer as a fundicated data block (a data block carried on an FCH or DCCH) is called a Fundicated TDSO frame. Similarly, a TDSO frame supplied to the multiplex sublayer to be carried as a supplemental data block or data blocks (data block(s) carried on an SCHO or SCHl) is referred to as a Supplemental TDSO frame.<br>
Primary traffic<br>
Normally, each TDSO frame supplied to the multiplex sublayer shall be one of the Rate 1, Rate 2, or Blank (zero bits) frame types shown in Table lO.Table 10. The nxomber of bits per data block supplied to the multiplex sublayer for each type of TDSO frame is shown in Table 10. The maximum number of MuxPDUs (or data blocks) ihat can be carried in an SCH TDSO frame is also shown in Table 9.<br>
On command, the TDSO shall supply a Blank frame. A Blank frame contains no bits. Also on command, the TDSO shall supply a non-blank Fundicated TDSO frame of x bits when the multiplex sublayer requests for an x-bit data block. The first x bits of the generated Fundicated TDSO frame shall be supplied to the multiplex sublayer.<br><br><br>
The multiplex sublayer in the mobile station categorizes every received MxaxPDU(s) in the Traffic Chaimel frame and supplies the MuxPDU category and accompanying bits, if any, to TDSO. When the multiplex format indicator is supplied by the mux sublayer, the value of the multiplex format indicator shall be used as the MxixPDU category. Table 11 lists the categories (and corresponding TDSO frame types) supplied by the mtiltiplex sublayer when TDSO is carried as primary traffic.<br>
J<br><br><br>
Secondary trafBc<br>
Normally, each TDSO frame supplied to the multiplex sublayer shall be orie of the Rate 1, Rate 2, Rate 3, or Blank frame types shown in. The number of bits per data block supplied to the multiplex sublayer for each type of TDSO frame shall also be as shown in Table 12. The maximum ntimber of MuxPDUs that can be carried in a SCH TDSO frame is also shown in Table 9. On command, TDSO shall generate a Blank TDSO frame. A Blank TDSO frame contains no bits. Also on command, TDSO shall supply a non-blank Fimdicated TDSO frame of x bits when the mvdtiplex sublayer requests for an x-bit data block. The first x bits of the generated Fxmdicated TDSO frame shall be supplied as a data block to the multiplex sublayer.<br><br><br>
The multiplex sublayer in the mobile station categorizes every MvixPDU in the 5    received Traffic Channel frame and supplies the MuxPDU category and accompanying bits, if any, to TDSO. When the multiplex format indicator is supplied by the mux sublayer, the value of the multiplex format indicator shall be used as the MuxPDU category. Table 13 lists the categories (and corresponding TDSO frame types) supplied by the multiplex sublayer when the 10    TDSO is carried as secondary traffic.<br><br><br>
When primary or secondary traffic is carried on SCH(s) and/or FCH/DCCH, the content of each frame is generated in one of two ways, as negotiated between the two ends. The test stream can consist of a selectable repeated byte pattern (by default set to all 'I's) or a pseudo-randomly generated data stream from a circular buffer. The two ends are synchronized to the content of test data transmitted (expected) in a particular frame. This permits the receiving station to reproduce the transmitted frames and compare them to the received frames. When a pseudo-random data stream is used, data blocks for all frames are generated by copying the bits from the circular buffer to the data blocks, starting at a random offset for each TDSO frame. The random offset is synchroiuzed between the mobile station and the base station. The TDSO cotmts the number of various frame types received on the FCH/DCCH and/or SCH separately according to the MuxPDU category information provided by the multiplex sublayer and the result of the comparison between the frames received and the locaUy generated replica. FER<br><br>
and PER characteristics can be calculated from these counts for each physical channel.<br>
There can be instances of transmission power headroom running out in either the base station or mobile station (causing the transmitter to not transmit on a given traffic channel for a particular frame), which leads to the physical layer reporting an erasure at the receiver. For the TDSO, no special mechanism is used to account for the inacaoracies that can occur in the FER (PER) calculation due to this. No transmission by the physical channel is considered to be a channel and/or implementation limitation.<br>
Transmitted frames<br>
If configured to operate over Fundicated Qnannels (FCH or DCCH) that use 20 ms frames, if the frame activity is "ON", the service option shall supply exactly one Fundicated data block to the multiplex sublayer every 20 ms. The data block contains a header (channel ID and PDU sequence number) followed by the service option information bits.<br>
Unless otherwise commanded, the service option shall supply a Rate 1 or blank data block as listed in Table 10 and Table 12 when carrying primary or secondary traffic, respectively. On command, the service option shall supply a blank data block. Also on command, the service option shaU supply a data block with the number of bits that the multiplex sublayer requests, by truncating the generated data block if necessary.<br>
If configured to operate over Supplemental Qiannels (SCHO and/or SCHl), if the frame activity is "ON", the service option shall supply one or N data blocks to the multiplex sublayer for each Supplemental Channel every frame interval (20 ms, 40 ms, or 80 ms), where N is the maxunum number of data blocks (or MuxPDUs) in a physical layer SDU for a connected multiplex option, as shown in Table 9. The data blocks contain a header (channel ID and PDU sequence nimiber) followed by the service option information bits. Unless otherwise commanded, the service option shall supply Rate 1, Rate 2, Rate 3, or Blank Supplemental frames, as listed in Table 10 and Table 12, when carrjdng primary or secondary traffic, respectively. A single data block is passed to the mtiltiplex sublayer for the SCH when the connected multiplex option is 0xf20.<br><br>
Received frames<br>
The multiplex sublayer in the receiving station categorizes every received MuxPDU(s) in the fundicated and supplemental frame (see [3]), and supplies the MvixPDU t3rpe and accompanying bits, if an-, to the TDSO. The MusPDU types that are supplied are indicated in Table 10 and Table 12 for primary and secondary traffic operations, respectively.<br>
Interface to Layer 3 Signaling when testing 5 ms FCH/DCCH frames<br>
When testing 5 ms FCH/DCCH frames, TDSO generates requests to Layer 3 Signaling to send mini messages as opposed to sending TDSO frames as described in the 20 ms frame length case. The same frame activity model wiU be used for each 5 ms frame to determine whether to request Layer 3 Signaling to send a mini message or not during that frame. Since TDSO has no control of timing in Layer 3 Signaling, the mini message may actually be transmitted at a later 5 ms frame.<br>
To test the Forward 5 ms FCH/DCCH frames, the TDSO in the base station shall request Layer 3 Signaling to transmit Forward Supplemental Channel Assignment Mini Message (FSCAMM), according to the frame activity. The base station shall fill the FSCAMM in accordance with 0. Thebase station should count the number of 5 ms frames transmitted, which includes all the transmitted and retransmitted 5 ms Layer 3 Signaling messages. The mobile station keeps a reception coimter (see [3]) of the number of good 5 ms frames received (e.g., MUXl_FOR_FCH_5_ms when Multiplex Option 0x01 is used on a Forward Fundamental Channel).<br>
To test the Reverse 5 ms FCH/DCCH frames, the TDSO in the mobile station shall request Layer 3 Signaling to transmit Supplemental Channel Request Mini Messages (SCRMM), according to the frame activity. The mobile station shall fUl the SCRMM_REQ_BLOB in the SCRMM in accordance with 0. The base station should coimt the number of good 5 ms frames received, which includes all the good transmitted and retransmitted 5 ms Layer 3 Signaling messages. The mobile station keeps a transmission counter (see [3]) of the number of 5 ms frames transmitted (e.g., MUXl_REV_FCH_5_ms when Multiplex Option 0x01 is used on a Reverse Fimdamental Channel). No text.<br><br>
TDSO Procedures and Description<br>
Negotiation and activation of service option<br>
The mobile stations and base stations that conform to cdma2000 are required to support service configuration and negotiation as described in [5].<br>
5     Mobile station requirements<br>
The TDSO shall be negotiated and connected using the service configuration and negotiation procedures defined in [5]. For the TDSO, the mobile station shall not propose a service configuration whose attributes are inconsistent with the valid service configuration attribute for the service option. For a mobile<br>
10    station operating in MC-41 mode, the mobile station shall indicate the preferred Forward RC and Reverse RC in the FOR_RC_PREF field and the REV_RC_PREF field, respectively, in the Page Response Message and Origination Message. For a mobile station operating in MC-MAP mode (see [6]), the mobile station shall indicate the preferred Forward RC and Reverse RC in the<br>
15    FOR_RC_PREF field and the REV_RC_PREF field, respectively, in the MC-MAP RRC Connection Request Message. When proposing the TDSO, the mobile station shall not accept a service configuration whose attributes are inconsistent with the valid service configuration attributes for the service option as listed in Table 14. The default service configuration for the TDSO shall be as shown in the<br>
20    valid service configuration detailed in Table 14.<br>
Table 14 Valid service configuration attributes for test data service option<br><br><br><br>
If the mobile station originates or accepts a TDSO call, then the mobile station shall perforin the following:<br>
•	If the TDSO call is mobile station terminated, then the mobile station shall initiate an auto¬<br>
answer before entering the Waiting for Mobile Station Answer subsate?<br>
5	•     The mobUe station shall comiect the TDSO at the action time specified in the Service Connect<br>
Message, the General Handoff Direction Message, or the Universal Handoff Direction Message<br>
containing the TDSO service option connection, and shall initialize the service option as<br>
specified in Section Oin this document While the service option is connected, the TDSO shaU<br>
process the received frames as specified in Oand generate and supply frames for transmission as<br>
10	specified in 0.<br>
Supplemental channel allocation<br>
The mobile station may request high-speed operation on the Supplemental Charmel(s) by sending one of the following messages to the BSC/MSC at an implementation-defined time:<br>
15	•     Supplemental Channel Request Message (SCRM)<br>
•	Supplemental Channel Request Mini Message (SCRMM)<br>
If a Supplemental Channel Request Message is used, the mobile station shall:<br>
•	Assemble the SCRM_REQ_BLOB (see Table 15)<br>
•	Set the DURATION field in the SCRM_REQ_BLOB to '1111'<br>
20	•     Include die SCRM_REQ_BLOB in the REQ_BLOB field in the Supplemental Channel Request<br>
Message<br>
•	Set the SIZE_OF_REQ_BLOB field in the Supplemental Channel Request Message to the<br>
number of octets in the SCRM_RE(i.BLOB<br>
If a Supplemental Channel Request Mini Message is used, the mobile station shall:<br>
25	•     Assemble the SCRMM_REQ_BLOB (see Table 16) and include it in the REQ_BLOB field in the<br>
Supplemental Chaimel Request Mini Message<br>
•	Set the DURATION field in the SCRMM_REQ_BLOB to '1111'<br>
•	Include the SCRMM_REQ_BLOB in the REQ_BLOB field in the Supplemental Channel Request Mini Message<br>
 For the purposes of this standard, the term "auto-answer" shall have the following meaning: While in the Waiting for Mobile Station Answer Substate of the Mobile Station CotUrol on the Traffic Channel State, the mobile station shall automatically send a Connect Order to the base station as a<br>
at-<br><br>
After the mobile station sends the Supplemental Oiannel Request Message or Supplemental Channel Request Mini Message, the BS may respond with an allocation message (ESCAM, RSCAMM, or UHDM). The mobile station shall not repeat the request sooner than one second after the request was sent. If the mobile station receives an UHDM, ESCAM, FSCAMM, or RSCAMM that changes the transmission rates available to the mobile station on the Supplemental Qiannel, the mobile station shall:<br>
•	At the start time indicated by die FOIL.SCH_START_TIME or REV_SCH_START_TIME fields,<br>
reinitialize the TDSO to supply one or more data blocks at the new rate, filled with all 1 bits<br>
with a 100% frame activity (that is, continuously) to the multiplex sublayer for the SCH(s) until<br>
the next synchronization frame (see Ofor description of synchronization frame).<br>
•	At the synchronization frame time, the TDSO shall:<br>
-	Reset all counters associated with the involved Supplemental Channels.<br>
-	Commence using the same test parameters for the channel that was used before the rate change took effect<br>
If the mobile station receives a UHDM, a ESCAM, a RSCAMM, or a FSCAMM<br>
that deallocates the current Supplemental Channel(s):<br>
•	The mobile station shall continue transmitting the TDSO traffic over the Fundicated Channels<br>
without any reinitialization.<br>
•	The mobile station may request high-speed operation on the Supplemental Channel(s) by<br>
sending a Supplemental Channel Request Message or, if permitted by the base station, a<br>
Supplemental Channel Request Mini Message to the BSC/MSC at an implementation-defined<br>
time.<br>
SCRM_REQ_BLOB format<br><br><br><br><br><br>
While in a TDSO call, if the mobile station receives a Universal Hmtdojf Direction Message signaling a hard handoff in which the active set, frame offset, or frequency assignment changes, upon performing the hard handoff, the mobile station shall:<br>
•	At the action time associated with the message, reinitialize the TDSO to supply data blocks with<br>
all 1 bits at a 100% frame activity to the multiplex sublayer for the FCH/DCCH chaimels<br>
(depending on the channel configuration).<br>
•	If a supplemental channel assignment is included, at the start time indicated by the<br>
FOR_SCH_START_TlME or REV_SCH_START_TIME fields, reinitialize the TDSO to supply<br>
one or more data blocks at the new rate filled with all 1 bits with a 100% frame activity to the<br>
multiplex sublayer for the SCH(s).<br>
•	If the TDSO call in progress is a mobile-originated call, after the hard handoff, the mobile<br>
station shall propose the test parameters that were in effect before the hard handoff to the base<br>
station in a control directive using the Service Option Control Message.<br><br>
Base station requirements<br>
The TDSO shall be negotiated and connected using the service configuration and negotiation procedures defined in [5]. For the TDSO, the base station shall not propose a service configuration whose attributes are inconsistent witin. the valid service configuration attribute for the service option. The base station shall not accept a service configuration whose attributes are inconsistent with the valid service configuration attributes for the service option as shown in Table 14. The base station should not propose a reverse RC that is different than the one proposed by the mobile station.<br>
The BS controls both the forward and reverse high-speed operation by allocating Supplemental Channels for an infinite duration. Allocation is specified in the ESCAM, FSCAMM, RSCAMM, or UHDM.<br>
Synchronization frame<br>
The I. :-ward and Reverse Traffic Channels (F/R-FCH or F/R-DCCH, F/R-SCHO and F/R-SCHl) are each subdivided into independent segments of 10.24 seconds each. This corresponds to every:<br>
•	2048 frames for physical channels (FCH, DCCH) with 5 ms frame length<br>
•	512 frames for physical channels (FCH, DCCH or SCH) with 20 ms frame length<br>
•	256 frames for Supplemental Channels with a 40 ms frame lengtii<br>
•	128 frames for a Supplemental Channel with an 80 ms frame length<br>
The first frame of a segment is called the synchronization frame. All pseudo¬random nimaber generators associated with the channel are reinitialized prior to TDSO frame processing for each synchronization frame. All service option initialization and control operations also take effect prior to TDSO frame processing for a s5mchronization frame for each physical channel.<br>
Forward Traffic Channels<br>
For the Forward Traffic Channels (F-FCH, F-DCCH, F-SCHO, and F-SCHl), the synchronization frames shall be those frames for which the least significant nine bits of the System Time in frames (as defined in [2]) are equal to the least significant nine bits of tiie bit-wise exclusive-OR of the least significant 32-bits Public Long Code Mask (PLCM_32) of the mobile station and the value 0x2aaaaaaa.<br><br>
Forward Supplemental Channels<br>
For 40 ms and 80 ms frame length operation on the Forward Supplemental Channels, however, the synchronization frame time as calculated for the Forward Traffic Oiannels above may not coincide with the beginning of the frame period for these channels. In that case, the circidar bxiffer shall still be generated using the same generator as for other forward channels (F-FCH/DCCH) for the 20 ms frame length. However, the beginning of the next frame period on the Forward Supplemental Channel that is closest in time to the frame as calculated above for Forward Traffic Channels shall be treated as the first frame of the next 10.24-second test segment for the Forward Supplemental Channel.<br>
Reverse Traffic Channels<br>
For the Reverse Traffic Channels (R-FCH, R-DCCH, R-SCHO, and R-SCHl), the synchronization frames shall be those frames for which the least significant nine bits of the System Time in frames (as defined in [2]) are equal to the least significant nine bits of the bit-wise exclusive-OR of the least significant 32-bits Public Long Code Mask (PLCM_32) of the mobile station and the value 0x15555555.<br>
Reverse Supplemental Channels<br>
For 40 ms and 80 ms frame length operation on the Reverse Supplemental Channels, however, the synchronization frame time as calculated for the Reverse Traffic Channels above may not coincide with the beginning of the frame period for these channels. In that case, the ciroilar buffer shall still be generated using the same generator as for other reverse channels (R-FCH/DCCH) for the 20 ms frame length. However, the beginning of the next frame period on the Reverse Supplemental Channel closest in time to the frame as calculated above for Reverse Traffic Channels shall be treated as the first frame of the next 10.24-second test segment for the Reverse Supplemental Channel.<br>
Counters<br>
The mobile station and the base station shall support the transmit cotmters<br>
listed in Table 19 and Table 20 for the Fundicated and Supplemental Channels,<br>
respectively.<br><br><br><br><br><br><br><br><br>
Mobile station initialization and control operation<br>
Service option initialization<br>
5    If a TDSO initialization is required as a result of a signaling message on f-dsch, the mobile station shall consider the System. Time in frames coinciding with the action time of the message (as defined in [5]) to be the effective initialization frame, EFF_FRAME. For the Forward and Reverse Fundicated Traffic Channels (F/R-DCCH and/or<br>
10    F/R-FCH), the TDSO shall consider the System Time in frames that coincide with the action time of the Sei-vice Connect Message as the initialization frame. For the Forward and Reverse Supplemental Qiannels (F/R-SCHO and/or F/R-SCHl), the TDSO shall consider the System time in frames coinciding with the start time indicated by the FOR_SCH_STAJRT_TiME (for Forward Supplemental<br>
15    Qiannels) or REV_SCH_START_TIME (for Reverse Supplemental Qiannels) fields inside of the ESCAM, FSCAMM, RSCAMM, or UHDM that is the initialization frame.<br>
The initialization frame may coincide with the synchronization frame on a physical channel. Until the first synchronization on a channel is achieved, the<br>
20    TDSO shall orily use the default settings for the test parameters, that is, an all<br><br>
I's data pattern with a continuous transmission every frame period (20 ms,<br>
40 ms, or 80 ms) on that channel.<br>
To perform TDSO initialization, the mobile station shall perform the following<br>
operations:<br>
•	Immediately prior to TDSO frame processing for the Reverse Traffic Channel (that is,<br>
R-FCH/R-DCCH/R-SCHO/R-SCHl) synchronization frame for which the System Time in<br>
frames falls in the range from EFF_FRAME to EFF_FRAME + FRAMES_PER_SEGMENT_I<br>
inclusive, the mobile station shall set the counters associated with the Reverse Traffic Channels<br>
to zero.<br>
-	For Reverse Fundicated Traffic Channels, the  counters  are RFCH_BUFFER and RDCCH.BUFFER<br>
-	For   Reverse   Supplemental   Channels,   the   counters   areRSCHO_BUFFER  and RSCH1_BUFFER<br>
-	The value of FRAMES_PER_SEGMENT_1 shall be:<br><br>
•	511 for a 20 ms physical channel frame length<br>
•	255 for a 40 ms physical channel frame length<br>
•	127 for a 80 ms physical channel frame length<br>
•	Immediately prior to TDSO frame processing'for the Forward Traffic Channel (that is,<br>
F-FCH/F-DCCH/F-SCHO/F-SCHl) synchronization frame for which the System Time in frames<br>
falls in the range from EFF.FRAME to EFF_FRAlvlE + FRAMES_PER_SEGMENT_1 inclusive,<br>
the mobile station shall set the counters associated with the Forward TrafBc Channels to zero.<br>
-	For Forward Fundicated Traffic Channels, the counters are FFCH_BUFFER and FDCCH_BUFFER<br>
-	For  Forward  Supplemental  Channels,   the  counters   are  FSCHO_BUFFER  and FSCH1_BUFFER<br>
-	The value of FRAMES_PER_SEGMENT_1 shall be:<br><br>
•	511 for a 20 ms physical channel frame length<br>
•	255 for a 40 ms physical channel frame length<br>
•	127 for a 80 ms physical channel frame length<br><br>
Mobile station control operations<br>
Control invocation<br>
The mobile station can either propose or invoke service-option-spedfic functions for a TDSO call by sending a Service Option Control Message to the base station. When the mobile station sends the Service Option Control Message, it shall:<br>
•	Send it as a message requiring acknowledgment<br>
•	Set the CONTROL_CODE field in the message (see Table 39) to '00000000'<br>
The mobile station can only propose values of test param.eters for use during the test interval. The mobile shall be able to invoke the coimter retrieval directives without any base station mediation.<br>
Control directive<br>
When the mobile station receives a Service Option Control Message with CTL_REC_TYPE in the range 'ooooooi' - 'oooooioo' inclusive (corresponding to FCH, DCCH, SCHO, or SCHl physical channels) as indicated in Table 39, the mobile , station shall consider the System Time in frames coinciding with the action time of the message to be the effective operation frame or initialization frame (also known as EFF_FRAME for the particular physical channel).<br>
•	Reverse Traffic Channel<br>
Immediately prior to TDSO frame processing for the Reverse Traffic Channel synchronization frame for which the System Time in frames falls in the range from EFF_FRAME to EFF_FRAME + 5ii, inclusive, the mobile station shall perform the following:<br>
-	If the COPY_COUNTERS field is equal to '1', the mobile station shall copy the counters associated with the specified Reverse Traffic Channel to RFCH_BUFFER, RDCCH_BUFFER, RSCHO.BUFFER, and/or RSCH1_BUFFER as determined by the channel configuration (see Section 3.3 for more information).<br>
-	If the CLEAR_COUNTERS field is equal to '1', the mobile station shall set the counters associated with the specified Reverse Traffic Channel to zero (see Section 3.3 for more information).<br>
-	If the CHANNEL_DIRECTION field is equal to '00' or '10', die mobile station shall perform the following:<br><br>
•	Initialize the local test variables associated with DATA_SOURCE to the value implied by its value in the message.<br>
•	Initialize the local test variables associated with FRAME_ACTIVITY to the value implied by its value in the message.<br>
•	Forward Traffic Channel<br>
Immediately prior to TDSO frame processing for the Forward Traffic Channel synchronization frame for which the System Time in frames falls in the range from EFF_FRAME to EFF_FRAME + 5ii, inclxisive, the mobile station shall do the following:<br>
-	If the COPY_COUNTERS field is equal to T, the mobile station shall copy the counters associated with the specified Forward Traffic Channel to FFCH_BUFFER, FDCCH_BUFFER, and/or FSCH_BUFFER (see Section 3.3 for more information).<br>
-	If the CLEAR.COUNTERS field is equal to '1', the mobile station shall set the counters associated with the specified Forward Traffic Channel to zero (see Section 3.3 for more information).<br>
-	If the CHANNEL_DIRECTION field is equal to '00' or '01', the mobile station shall perform the following:<br><br>
•	Initialize the local test variables associated with DATA_SOURCE to the value implied by its value in the message.<br>
•	Initialize the local test variables associated with FRAME_ACnVITY to the value implied by its value in the message.<br>
Following a mobile station test control proposal (see Section 3.5.1 for a<br>
description), if a mobile station receives a Service Option Control Message with<br>
CTL_REC_TYPE in the range 'oooooooi' - 'oooooioo' inclusive (corresponding to FCH,<br>
DCCH, SCHO, or SCHl physical channels) as listed in Table 38, the mobile<br>
station shall perform the following:<br>
•	If the CONTROL.CODE field is set to '00000011', the mobile station may send another proposal with the NIJM_CIRC_BUF_FRAMES field set to a value less than or equal to the value indicated in the corresponding field of the base station directive.<br>
•	If the CONTROL_C0DE field is set to '00000110', the mobile station may send another proposal with the FRAME_SOURCE field set to a value other than 10.<br><br>
Counter retrieval<br>
When the mobile station receives a Service Option Control Message with CTL_REC_TYPE in the range of 'oooooioi' - 'ooooiooo' (corresponding to FCH, DCCH, SCHO, or SCHl physical channels) as listed in Table 38, then:<br>
•	If the message is used to retrieve the 5 ms Transmitted Frame Counters or the 5 ms Received Frame Counters, then at the first synchronization frame boundary, the mobile station shall respond with the Service Option Control Message containing its response shown in Table 46, corresponding to the VECT_COUNTER_E) fields (see Table 47) in the received Service Option Control Message.<br>
•	Otherwise, at the action time associated with the message, the mobile station shall respond with the Service Option Control Message containing its response shown in Table 46 and<br>
•	Table48, respectively, for the Fundicated and Supplemental Channels, corresponding to the VECT_COUNTER_ID fields (see Table 47 and Table 49) in the received Service Option Control Message.<br>
Base station initialization and control operations<br>
To perform TDSO initialization, if the FCH/DCCH are configured to xose 5 ms frames, the base station shall send a Service Option Control Message no later than 1 second before the occurence of the first synchronization frame after EFF_FRAME, in accordance witii 0, to retrieve tin.e values of the 5 ms frame coimters in the mobile station (e.g., MlJXl_FOR_FCH_5_ms). Base station contirol operations<br>
Control invocation<br>
The base station shall use the Service Option Control Message for invoking service<br>
option specific directives. When the base station sends the Service Option Control<br>
Message, it shall send it as a message requiring acknowledgment.<br>
When the mobile station proposes values of test parameters for use during the<br>
test interval, the base station shall decide whether or not to invoke the mobUe-<br>
station-proposed test parameter settings through the Service Option Control<br>
Message.<br>
The base station shall not send a control directive to the mobile station any later<br>
than one second before the occxirrence of the synchronization frame on the<br>
channel for which the directive is intended.<br><br>
Control directive<br>
When the base station receives a Service Option Control Message with CTL_REC_TYPE in the range of 'oooooooi' - 'oooooioo' inclusive (corresponding to FCH, DCCH, SCHO, or SCHl physical channels) as indicated in Table 38, the base station shall respond to the mobile station proposal as follows:<br>
•	If all of the fields in the mobile-station-proposed control directive (as indicated in Table 39) are within the acceptable range for the base station, the base station shall issue a Control Directive including the same values for the different fields (see Table 39) as proposed by the mobile station in a Service Option Control Message, while setting the CONTROL_CODE field (Table 40) in the message to a value of '00000010'.<br>
•	If the base station does not have the capability of supporting the value proposed by the mobile station for the NUM_CIRC_BUF_FRAMES, it shall issue a Control Directive including the same values for the different fields (see Table 39) as were proposed by the mobile station, except for the NUM_CIRC_BUF_FRAMES field in a Service Option Control Message, while setting the CONTROL_CODE field (Table 40) in the message to a value of '00000011'. In the NUM_CIRC_BUF_FRAMES field of the message, the base station shall indicate the maximum number of firames it can support for the circular buffer.<br>
•	If the base station does not have the capability of generating one frame per frame period as requested by the mobile station through setting a value of '10' for the FElAME_SOURCE field, it shall issue a Control Directive, including the same values for the different fields (see Table 39), as proposed by the mobile station, except for the FRAME_SOURCE field in a Service Option Control Message, while setting the CONTROL_CODE field (Table 40) in the message to a value of'00000110'.<br>
•	If the base station is not able to recognize the fields in the mobile-proposed Control Directive, it shall issue a Control Directive including the same values for the different fields (see Table 39), as proposed by the mobile station in a Service Option Control Message, while setting the CONTROL.CODE field (Table 40) in the message to a value of '00000101'.<br>
Counter retrieval<br>
When the base station receives a Service Option Control Message with CTL_REC_TYPE in tiie range of 'oooooioi' - 'ooooiooo' inclusive (corresponding to FCH, DCCH, SCHO, or SCHl physical channels) as listed in Table 38, then at the action time associated with the message, the base station shall respond with the Service Option Control Message containing its response, as shown in Table 46 and Table48, respectively, for the Fundicated and Supplemental Channels, corresponding to the VECT_COUNTER_ID fields (see Table 47 and Table 49) in the received Service Option Control Message.<br><br>
TDSO Frame processing<br>
For an FCH/DCCH that is configxired to use 5 ms frames, the service option shall perform transmit frame processing for 5 ms DCCH frames exactly once for every 5 ms frame of System Time while the service option is connected on the allocated FCH/DCCH in accordance with 0.<br>
If 20 ms frames are used, the service option shall perform transmit and receive frame processing exactly once for every 20 ms frame of System Time while the service option is connected on the allocated physical channel{s) in accordance with Oand 0, respectively.<br>
If 40 ms (or 80 ms) SCH frames are used, the service option shall perform transmit and receive frame processing exactly once for every 40 ms (or 80 ms) frame of System Time while the service option is connected on the allocated SCH in accordance vth Oand 0, respectively.<br>
Transmit firame processing<br>
Transmit frame processing refers to F-FCH/F-DCCH/F-SCH Forward Traffic Channel frame processing in the base station or R-FCH/R-DCCH/R-SCH Reverse Traffic Channel frame processing in the mobile station. Transmit frame processing cor,   sts of the following:<br>
•	Generating data block(s)<br>
•	Supplying data block(s) to the multiplex sublayer for transmission<br>
•	Incrementing the corresponding counters<br>
The service option shall generate the data blocks in accordance with 3.7. For Fundicated data frames (carried over FCH or DCCH), if the multiplex sublayer has requested a Blank data block, the service option shall supply a blank data block (data block containing no bits) to the multiplex sublayer. If the multiplex sublayer has requested a non-blank x-bit data block, the service option shall supply the first x bits of the generated data block to the multiplex sublayer and discard the rest of the generated data block. Otherwise, the service option shall supply the generated data block(s) to the multiplex sublayer, every physical channel frame.<br>
For Supplemental data frames, if the multiplex sublayer has requested a Blank data block or Blank data blocks, the service option shall supply a data block or data blocks containing zero bits to the multiplex sublayer. Otherwise, the<br><br>
service option shall supply the generated data block(s) to the multiplex sublayer every SCH frame.<br>
The service option shall increment the counters that are shown in Table 26 and Table 27, corresponding to the rate of the generated Fundicated and<br>
Supplemental frames and the command received from the multiplex sublayer.<br><br>
Receive firame processing<br>
Receive frame processing refers to F-FCH/F-DCCH/F-SCH frame processing in the mobile station or R-FCH/R-DCCH/R-SCH frame processing in the base station. Receive frame processing consists of the following:<br>
•	Generating data block(s)<br>
•	Accepting data block(s) from the multiplex sublayer<br>
•	Comparing the rates and contents of the comparable data block(s)<br><br>
•	Incrementing the corresponding counters For Fimdicated Channel processing:<br>
•	The service option shall generate a data block in accordance with 3.7.<br><br>
•	The service option shall accept a received frame and the categorization of the MuxPDU(s) from the multiplex sublayer.<br>
•	If the categorization of the received MuxPDU corresponds to the rate of the generated data block, the service option shall compare the contents of the generated data block with the contents of the received data block, and shall determine whether or not they are i . ntical.<br>
•	The service option shall increment the counter shown in Table 28 (when MuxPDU Type 1 is used) or<br><br><br><br><br>
For Supplemental Channel processing:<br>
•	The service option shall generate one or more data blocks in accordance with 3,7 for every SCH<br>
frame.<br>
•	The service option shall accept one or more data blocks, along with a categorization of each<br>
MuxPDU (see [3]), from the multiplex sublayer at every SCH frame, as dictated by the<br>
connected multiplex option.<br>
•	If the categorization of the received MuxPDU(s) corresponds to the rate of the corresponding<br>
generated frame, the service option shall compare the contents of the generated data block(s)<br>
with the contents of the received data block(s), and shall determine whether or not they are<br>
identical.<br>
•	The service option shall increment the counter shown in Table 31 corresponding to the rate of<br>
the generated frame, the categorization of the received MuxPDU(s), and the result, if any, of the<br>
comparison of the two frames. These counters are employed in PER calculations on the<br>
Supplemental Channels.<br><br><br><br><br>
Transmit frame processing for 5 ms FCH/DCCH firames<br>
Mobile Station Requirement<br>
For R-FCH/DCCH 5 ms transmit frame processing in the mobile station, the TDSO shall request Layer 3 Signaling to transmit a SCRMM when TDSO decides to send a 5 ms frame based on the frame activity. If ihe R-SCHO has already been assigned, the mobile station shall set the fields of the SCRMM_REQ_BLOB as follows:<br>
•	SR_ID set to the sr_id corresponding to the connected SO<br>
•	PREFERRED_RATE set to the currently connected R-SCHO rate<br><br>
•	DURATION field set to 1111'<br>
Otherwise, the mobile station should set the fields of the SCRMM_REQ_BLOB as follows:<br>
•	SR_ID set to the sr_id corresponding to the connected SO<br>
•	PREFERRED_RATE set to any valid R-SCHO rate<br>
•	DURATION field set to '0000'<br>
The mobile station coimts and stores the number of transmitted or retransmitted 5 ms frames in the counters (MUXl_REV_FCH_5_ms, MUX2_REV_DCCH_5_ms, MUX2_REV_DCCH_5_ms and MUX2_REV_FCH_5_ms) as specified in [3].<br>
Since TDSO has no control on timing in Layer 3 Signaling, the actual transmission of the mini message may occur in a later frame.<br>
Base Station Requirement<br>
For F-FCH/DCCH 5 ms transmit frame processing in the base station, the TDSO shall request Layer 3 Signaling to transmit an FSCAMM when TDSO decides to send a 5 ms frame based on the frame activity. If the F-SCHO has already been assigned, the base station should set the fields of the FSCAMM as follows:<br>
•	FOR_SCH_IDsetto'0'<br>
•	FOR_SCH_DURATrON field set to '1111'<br>
•	SCCL_INDEX set to the Supplemental Channel Code list index corresponds to one currently in use by F-SCHO.<br>
Otherwise, the base station should set the fields of the FSCAMM as foUows:<br>
•	FOR_SCH_ID set to '0'<br>
•	FOR_SCH_DURATION field set to '0000'<br>
•	SCCL_INDEX set to any Supplemental Channel Code list index that corresponds to F-SCHO, if available. If there is no Supplemental Channel Code list index corresponds to F-SCHO, SCCL_INDEX shall be set to any value, in which case the mobile station ignores the SCCL_INDEX field.<br>
The base station should count the number of transmitted or retraiismitted 5 ms<br>
frames, which includes the following:<br>
•	Any 5 ms frame carrying a mini message that is initiated by TDSO<br><br>
•	Any 5 ms frame carrying a mini message that is not initiated by TDSO<br>
•	A retransmitted 5 ms frame due to LAC retransmission<br>
TDSO frame generation<br>
Two different categories of traffic can be transported over the connected TDSO:<br>
•	Selectable byte pattern<br>
•	Pseudo-randomly generated bits<br>
At the physical layer, by default, the TDSO is configured to generate primary<br>
traffic over the Forward and Reverse Fundamental Qiannels using RC3. The<br>
default test mode for the TDSO service option is the byte pattern OxFF with a<br>
100% frame activity.<br>
For every 20 ms FCH/DCCH frame, when TDSO generates a TDSO frame, it<br>
shall generate a Rate 1 data bloclcFor every SCH frame, when TDSO generates<br>
a TDSO frame, it shall generate one or more Rate 1, Rate 2, or Rate 3 data blocks<br>
that are applicable to the connected SCH rate.<br>
The actual size of the transmitted data block(s) during a TDSO frame depends<br>
on the multiplex sublayer command.<br>
Selectable byte pattern<br>
When using this scheme, a single-byte pattern is used to fill tiie data block or data blocks that are passed to the multiplex sublayer (up to a whole number of octets) during each TDSO frame interval (20 ms, 40 ms, or 80 ms). When the TDSO prepares a TDSO frame for a traffic chaimel, it shall perform the following:<br>
•	Fill up a Rate 1, Rate 2, or Rate 3 data block, whichever is applicable, with single-byte pattern<br>
up to a whole number of octets. Pad the data block with '0' bits for any remaining bits that are<br>
'	not filled, (e.g., a 171-bit Rate 1 has 21 full octets and 3 additional bits. The additional<br>
remaining bits are filled by '0' bits.)<br>
•	Replace the first 5 bits of the data block by the header depicted in Table 37. This helps the<br>
TDSO on the receive side to categorize the data blocks on a per-cfaannel and per-PDU basis.<br>
Pseudo-random number generation<br>
I    Pseudo-random number generators are utilized for frame generation. These generators are associated with a particular physical channel (forward or reverse) and are initialized at each synchronization frame. The pseudo-random<br><br>
nxunber generators are iterated one or more times for every frame. Iterations of the pseudo-random number generators are used for information bit generation, enough to fill two maximum rate physical layer frames (per the configured RC). The bits are stored in circular buffers. The buffers are regenerated with a new seed of the System Time frame number associated with a synchronization frame every 10.24 seconds.<br>
For each physical channel, a TDSO uses two independent pseudo-random number generators. One pseudo-random number generator is associated with the Forward Traffic Channel, while the other is associated with the Reverse Traffic Qiannel. These pseudo-random number generators are synchronized with their coimterparts at the other end of the link, as shown in Figure 1. At synchronization time, the pseudo-random number generator for the transmit side is used for generating the circular bxiffer that serves as the data source for bits packed into data blocks each frame period for the next test segment (10.24 seconds). The receive side pseudo-random number generator, by emulating the frame generation process at the other end of the link, enables the service option to verify if a data block(s) is received error-free.<br><br>
Figure 1. Synchronized operation of pseudo-random number generated buffers<br>
On the transmit side, the bits from the circular buffer for a particxilar channel are packed serially into data blocks corresponding to the available MuxFDUs as determined by the connected multiplex option. The multiplex option indicates the size of the data block or data block(s), which is equal to the number of bits to be copied from the circular buffer to the last whole octet to form a data block or data blocks. Any remaining bits up to the data block size are filled with<br><br>
'0' bits. For every frame, the service option shall copy the data bits from the circular buffer, starting at a reference point plus an offset, to fill the data block(s). The reference for the current frame shall be calculated as foUows: If the current frame is a synchronization frame, the reference point shall be set to zero; otherwise, the reference point shall be set to the end of the last byte that was copied into the previous frame. The offset, O, which is generated every<br>
frame, shall be set to the 6 least significant bits ofRNG/128 modulo B(n), where B(n) is the buffer size and RNG is the random number generator associated with the physical channel (see Ofor buffer sizes]. This process is synchronized with its counterpart on the receive side. The receive side emulates the frame generation process at the other end by following the same process of building a frame (which consists of one or more data blocks) from tiie drctilar buffer each time from a different offset.<br>
Depending on the frame activity or the TX_ON_PERIOD/TX_OFF_PERIOD, if the TDSO transmits the TDSO frame during the current frame, it shall perform the following:<br>
•	Replace the first 5 bits of the generated data block(s) with the header depicted in Table 37. This helps the TDSO on the receive side to categorize the data blocks on a per-channel and per-PDU basis.<br>
•	The TDSO shall pass the generated data block(s) to the multiplex sublayer. The TDSO shall supply the first x bits of the data block to the multiplex sublayer if the multiplex sublayer requests an x-bit data block, where x may be smaller than the number of bits in a Rate 1 data block.<br>
Otherwise, the TDSO shall discard the generated data block(s) during this frame. The service option shall store the state of all the Forward Traffic Channel pseudo-random nvimber generators, FRNG, and the state of the Reverse Traffic Channel pseudo-random number generators, RRNG.<br>
Initialization<br>
Before frame generation for every Forward Traffic Channel synchronization frame, the service option shall initialize the Forward Traffic Channel pseudo¬random number generator as follows:<br>
{<br>
a = 16807<br>
m = 2147483647<br><br>
FRNG = System Time in frames of the forward synchronization frame<br>
FRNG = (FRNG  0x2AAAAAAA) &amp; OxTFFFFFFF<br>
FRNG = (FRNG * a) mod m<br>
FRNG = (FRNG * a) mod m<br>
FRNG = (FRNG * a) mod m<br>
FRNG = (FRNG * a) mod m }<br>
Before frame generation for every Reverse Traffic Chaimel synchronization frame, tiie service option shall initialize the Reverse Traffic Channel pseudo¬random number generator as f ollovsrs:<br>
{<br>
a = 16807<br>
m = 2147483647<br>
RRNG = System Time in frames of the reverse synchronization frame<br>
RRNG = (RRNG  0x55555555) &amp; OxTFFFFFFF<br>
RRNG = (RRNG * a) mod m<br>
RRNG = (RRNG * a) mod m<br>
RRNG = (RRNG * a) mod m<br>
RRNG = (RRNG * a) mod m }<br>
Number production<br>
Whenever a pseudo-random number is required for Forward Traffic Channel frame processing, the service option shall use the current value of FRNG as the pseudo-random niunber and then shall update FRNG as follows:<br>
{<br>
a = 16807<br>
m = 2147483647<br>
FRNG = (FRNG * a) mod m<br>
}<br>
Whenever a pseudo-random number is required for Reverse Traffic Channel frame processing, the service option shall use the current value of RRNG as the pseudo-random number and then shall update RRNG as foUows:<br><br><br>
24-bit random number<br>
The pseudo-random nxunber generators that are used to fill the circular buffers (see Section 0 for more information) to determine the transitions between the two TDSO states for caicxilation of frame activity (see Section Ofor more iriformation) and to select the 6-bit bjiie offset in the circular buffer (see Section 0 for more information) each frame period, all have the following linear congruent relationship:<br><br>
•    Xn -1 and Xn are the successive outputs of the generator and are 31-bit integers However, becaxise of the better randomness properties of the most significant 24 bits within the 31-bit nvmiber and for ease of usage, especially for building circular bixffers (31-bit number is not octet-aligned), only the most significant 24 bits of these ntunbers are used throughout. That is, 24-bit number = 31-bit PN niunber » 7<br>
Circular buffer sizes<br>
The sizes of the required buffers for generation of Ftmdicated and Supplemental (for each Supplemental Channel) traffic frames for various radio configurations (RCs) on the forward/reverse links are indicated in Table 32, Table 33, and<br><br><br><br><br>
Information bit generation<br>
For every Forward or Reverse Traffic Channel frame, the TDSO iterates the associated pseudo-random nimiber generator for the Physical Channel (FCH/DCCH or SCH) one or more times, as specified in the following subsections. For every synchronization frame, the service option shall initiate the drailar buffer. However, for ease of implementation, the actual number of random bits in a circular buffer that is generated for a radio configtiration is rounded to an octet-aligned number of bits determined exactly by the minimum number of iterations conducted on the associated pseudo-random number generator to achieve the given buffer size.<br><br>
To generate the circiilax buffer at any rate R(n):<br>
•     The service option shall generate a total of NUM_RAM) pseudo-random numbers (as shown in Table 35) corresponding to actual circular buffer size B(n).<br><br><br><br>
Information-bit generation for an N-frame droilar buffer follows the same method and principles as described for the 2-frame circular buffer case.<br>
Frame activity<br>
If 5 ms FCH/DCCH frames are nised, the TDSO shall decide whether or not to request Layer 3 Signaling to send a mini message for each 5 ms frame period based on the frame activity.<br>
Otherwise, the TDSO passes the information bits to the multiplex sublayer according to a certain ON/OFF frame activity. For each frame period (20 ms, 40 ms, or 80 ms) on a particular physical channel, the TDSO may choose to pass data block(s) corresponding to a fuU-rate frame on that channel or pass a blank data block to the multiplex sublayer. The TDSO shall support two different schemes to pass data to the multiplex sublayer, as follows:<br>
Deterministic frame activity<br>
This scheme is governed by the values of the TX_ON_PER[OD and TX_OFF_PERIOD indicated in the Service Option Control Message. The fields represent (in units of 5 ms, 20 ms, 40 ms, or 80ms, depending on the target physical channel configuration) the pattern for passing data to the mtiltiplex sublayer.<br><br>
If the channel is an FCH/DCCH configured to use 5 ms frames, the TDSO shaU:<br>
•	Request Layer 3 Signaling to send an FSCAMM in the base station (or a SCRMM in the mobile<br>
station) every 5 ms, for a duration of TX_ON_PERIOD.<br>
•	Not request an FSCAMM in the base station (or a SCRMM in mobile station) every 5 ms, for a<br>
duration of TX_OFF_PERIOD,<br>
Otherwise, the TDSO shall:<br>
•	Pass data blocks to the multiplex sublayer for a duration of TX_ON_PERIOD.<br>
•	Send blank data blocks for a duration of TX_OFF_PERI0D.<br>
The ON/OFF cycle starts at the synchronization frame and terminates at the last frame before the next synchronization frame for that channel.<br>
Random with a specified frame activity and burst length<br>
This second scheme is more random. Its goal is to achieve a long-term average of a specified frame activity (D) and a specified burst length (B), which is defined as the average consecutive "On" period, for a channeL This goal is achieved by modeling the ON/OFF states by a two-state first order Markov chain with transition probabilities p and q, as indicated in Figtire 3. The values of p and q are specified in the ON_TO_OFF_PROB field and the OFF_TO_ON_PROB field, respectively, in the base-station control directive using the Service Option Control Message (see Table 39). The value of D can be calculated based on p and<br><br><br><br>
Figure 3. Two-state Markov chain representing ON/OFF transitions for TDSO<br>
A 24-bit pseudo-random number is used to drive the transitions between the two TDSO states every frame period (5 ms, 20 ms, 40 ms, and 80 ms). For all 20 ms frame length-based physical channels, the TDSO uses the same PN niunber generator, iterating every 20 ms to calculate the transitions. If the operating Supplemental Qiannels are configured for 40 ms or 80 ms frame lengths, a second PN number generator iterating every 40 ms or 80 ms, respectively, is used to derive the TDSO state for the Supplemental Qiannels. The PN generator for the 5 ms, 20 ms frame lengtii channels shall be initialized at the first synchronization frame time after the TDSO is initialized at the action time that is associated with the Service Connect Message. For the 40 ms or 80 ms frame lengths, the associated PN number generator shall be initialized at the first synchronization frame time after the TDSO is initialized on the Supplemental Qiannel at the action time associated with the UHDM, ESCAM, FSCAMM, or RSCAMM. When initialized, the state of the Markov chain shall be set to the "Off' state.<br>
Normally, the state of the PN generators is maintained throughout the dviration of the call without any reinitialization at the synchronization frames. However, the PN generators are reinitialized if a CDMA-CDMA hard handoff has been completed. In case of the latter, the reinitialization occurs at the first synchronization frame after the handoff completion message. When reinitialized, the state of the Markov chain shaU be set to the "Off' state. Section Odescribes how the 24-bit PN niunber is derived. The method that is foUowed in choosing the TDSO state (ON or OFF) during a frame period is shown in Figure 4.<br><br><br><br>
The first 5 bits of each generated data block are replaced by the header as shown in Table 37 for the FCH/DCCH and SCH Multiplex PDUs.<br><br>
Message formats<br>
Service Option Control Message<br>
If the base station or mobile station sends a Service Option Control Message, it shall set the CTL_REC_TYPE field to the value shown in Table 38 corresponding to the desired directive.<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
•	The TDSO is configured to carry primary traffic over the FCH in both forward and reverse<br>
directions and on SCHO in only the forward direction.<br>
10	•     The mobile station and base station are configured to support the RC3 configuration for the test<br>
setup.<br>
•	The TDSO is passing pseudo-randomly generated data blocks to the mux sublayer per Multiplex<br>
Option 0x01 on the FCH (that is, one MuxPDU Type 1 data block can be passed to the multiplex<br>
sublayer every 20 ms).<br><br>
•	SCHO is configured for 20 ms frame length, has been allocated to support 19.2 kbps, and cairies TDSO-generated pseudo-random data bits per Multiplex Option 0x809 format (that is, two single-sized MuxPDU Type 3 data blocks can be supplied to the multiplex sublayer every 20 ms).<br>
•	p is equal to 0.7 and q is equal to 0.3. Then, D = q/(p+q) = 0.3, B = 1/p =1.4, OFF_THRESHOLD = ROUND(16777215 * p) = 11744051 and ON.THRESHOLD = ROUND(16777215 * q) = 5033164.<br>
•	The TDSO option has been running for some time and, at the first synchronization frame after the TDSO was initialized (corresponding to the action time associated with the Service Connect Message), the 31_BIT_PN_NUM, which supplies the 24_BIT_PIN_NUM to drive the TDSO_STATE transitions (see 0), was initialized and iterated as illustrated in Figure 4 once every frame period after that. Assume the 31_BIT_PN_NUM has a current value equal to 0x682dff0c and the current Markov chain is in the "Off state.<br>
B.2 Pundamental Channel TDSO process<br>
Asstune that in this stated mode the TDSO is about to transmit frame number 0xab89efad on the Forward Fundamental Traffic Channel (F-FCH) to a mobile . station with the least-significant 32 bits of Public Long-Code Mask (PLCM) equal to 0x9F000307. Since the least significant 9 bits of (0xab89ef ad xor Ox2aaaaaaa) equal 0x107, and the least significant 9 bits of the PLCM are 0x0107, it is time to resynchronize the F-FCH TDSO process. The pseudo¬random ntimber generator associated with F-FCH is initialized with F-FRNG (FRNG for the Forward Fundamental Channel) set equal to the 31 least-significant bits of (0xab89efad or 0x2aaaaaaa) = 0x01234507 as follows (see 0):<br>
01234507	(F-FRNG: starting value for the Synchronization Frame)<br>
3288cf26	(F-FRNG: 1st iteration)<br>
33d7elb5	(F-FRNG: 2nd iteration)<br>
22234caa	(F-FRNG: 3rd iteration)<br>
3b7e3e68	(F-FRNG: 4th iteration)<br>
After reinitialization, the Forward Ftindamental Traffic Channel TDSO service option would compute y„(l) = FRNG/128 = 0x3b7e3e68/128 = 0x76fc7c. The least-significant 6 bits of yn(l)/ On, is equal to 0x3c, or 60. On mod B(n) (see Table 35) for the values of B(n), for RC3 B(n) = 45) determines the byte offset in 5    the circular buffer (where to begin copying data bits into blocks for the multiplex sublayer).<br><br>
For the synchronization frame, the offset is taken with respect to the first-generated byte in the droilar buffer; whereas for subsequent System Time frames, the byte address next to that of the last-packed byte from the previous fram.e serves as the reference. The TDSO always advances this pointer in the cirailar buffer according to the value of On, irrespective of whether any data bits were actually passed to the multiplex sublayer during that frame period as determined by the value of 24_Brr_PN_NUM.<br>
For the F-FCH, the TDSO generates 45 bytes through random number iterations. These bytes are put togedver, starting with the same 24-bit number that was used to determine Ihe offset.<br><br>
Each 24-bit number yj}:) is written to the frame buffer in little-endian fashion. So 0x76fc7c becomes the byte stream 0x7c Oxfc 0x76. The little-endian version of the next 24-bit number, 0xba6678, is written immediately after the first number. The drcvilar bxiffer to be used to generate data blocks for the F-FCH for the next 512 frames is thus organized as follows:<br><br>
~&gt;7c fc 76 78 66 ba 54 7i 9d a7 79 12 ef e8 fO 6b a4 4c 3d 78 be ai ed c7 b3 bd c5 8d 42 29 fe 5b dO 44 87 47 de a3 01 7d 4a ad 34 89 f5-<br>
Following the procedxire outlined in Figure 4, the new pseudo-random number generator is as follows, assuming the current value of the PN generator for the TDSO state model is 0x682dff0c:<br>
31_BrT_PN_NUM = (0x682dff0c * a) mod m = 0x23c3a243 24_BIT_PN_aJM = 31_BIT_PN_NIJM » 7 = 0x478744 = 4687684 As the value of 24_Brr_PN_NUM is less than the ON.THRESHOLD, the TDSO_STATE turns to ON and, therefore, TDSO shall pass a Rate 1 frame to the multiplex sublayer dxiring the current frame period.<br>
The starting offset for the first frame in the 512-frame segmait is given by On mod B(n), which, in this case, is 60 mod 45 = 15. Therefore, the TDSO will generate a Rate 1 (171-bit) frame that can be supplied to the mux sublayer. The frame will be comprised of 21 octets from the circular buffer beginning at the 15th byte offset in the circular buffer followed by 3 zero bits as shown:<br>
6b a4 4c 3d 78 be af ed c7 b3 bd c5 8d 42 29 fe 5b dO 44 87 47 '000'<br>
Since this frame is to be carried over the Fundamental Channel, the first 5 bits of the first octet are replaced by '00000', the CHANNEL.ID code, and PDU_SEQ_isnJM for the FCH as shown in Table 37 and Table 37. Therefore, the final data block passed to the multiplex sublayer is as follows:<br>
03 a4 4c 3d 78 be af ed c7 b3 bd c5 <d fe do></d>
For the next TDSO frame, the pseudo-random nxmibers yn(l) is as follows:<br>
F-FRNG        y„(l)<br>
0x0179fe8e    0x02f3fd Following the procedure outlined in Figure 4, the new pseudo-random number generator is as follows:<br><br><br>
As the value of 24_Brr_PN_NruM is less than the ON.THRESHOLD, the TDSO_STATE turns to ON and, therefore, TDSO shall pass a Rate 1 frame to the multiplex sublayer during the current frame period.<br>
The 6 least-significant bits of 7(1), On, is 0x3d = 61. On mod 45 = 16 is used to indicate the byte offset in the circular buffer. The offset is taken with respect to the byte address next to the last packed byte from the frame generated in the previous 20 ms period, that is, with respect to the byte Oxde in the buffer. The TDSO service option will generate and supply a Rate 1 frame using 21 octets from the circular buffer followed by 3 zero bits. The complete data block looks like the following:<br>
7i 9d a7 79 12 ef e8 fO 6b a4 4c 3d 78 be af ed c7 b3 bd c5 8d '000'<br>
After replacing the first 5 bits with '00000' corresponding to the data block header for FCH, the data block supplied to the mtdtiplex sublayer, as a data block, is as follows:<br>
07 9d a.7 79 12 ef e8 fO 6b a4 4c 3d 78 be af ed c7 b3 bd c5 8d '000'<br>
—    The byte offset pointer advances to the byte immediately after OxSd, that is, 42 for the next frame.<br>
A while later, frame number 0xab89f052 is about to be generated for the Reverse Fxmdamental Traffic Qiannel. Since the least-significant nine bits of (0xab89f052 xor 0x55555555) equal 0x107, and the least-significant nine bits of the PLCM are 0x0107, it is time to resynchronize the Reverse Traffic Channel TDSO process. The associated pseudo-random number generator is initialized with F-RRNG set equal to the 31 least-significant bits of (0xab89f052 xor 0x55555555) = Ox7edca507 as follows (see 0):<br><br><br>
The Reverse Fundamental Traffic Channel TDSO first computes yjl) = RRNG/128 = 0x2611dlfd/128 = 0x4c23a3. For the R-FCH, the TDSO generates 360 bits (two TDSO frames) through random nxxmber iteratioris. These bytes are put together, starting with the same 24-bit number that was used to determine the offset above.<br><br>
The 3i_BiT_PN_NUM has gone through 164 iterations since the synchronization time for the Forward Traffic Channel was reached. The current value of the<br>
32_BrT_PN_NUM = 0x4de9620.<br>
Following the procedure outlined in Figure 4, the new pseudo-random number generator is as follows, assxaming the current value of the FN generator for the TDSO state model is 0x0x4de9620:<br><br><br>
As the value of 24_BIT_PN_NUM is greater than the ON_THRESHOLD, the TDSO_STATE<br>
stays in OFF and, therefore, TDSO shall pass a blank data block (0 bits) to the<br>
multiplex sublayer during the current frame period.<br>
The starting offset for the first frame in the 512-fraine segment is given by the 6<br>
least-significant bits of yn(l)/ On mod B(n), which in this case is equal to 0x23<br>
mod 45 or 19.<br>
Even though no frame shall be built in this frame period, the pointer associated<br>
with the starting offset for the next frame shall be incremented by 19, that is, the<br>
reference byte address for the next frame in the circular btiffer is that of byle 02<br>
in the buffer.<br>
For the next TDSO frame, the pseudo-random numbers yn(l) is as foUows:<br><br>
Following the procedure outlined in Figure 4, the new pseudo-random number generator is as foUows:<br><br>
As the value of 24_Brr_PN_NUM is less than the ON.THRESHOLD, the TDSO.STATE turns to ON, therefore, it shaU pass a Rate 1 frame to the multiplex sublayer during the current frame period.<br>
The 6 least-significant bits of yn(l). On, is 0x3d = 61. On mod 45 = 16 is used to indicate the byte offset in the circular buifer. The offset is taken with respect to the byte address of byte 02 in the buffer as stored in the previous frame.<br><br>
The TDSO service option will generate and supply a Rate 1 frame using 21 octets from the circiilar buffer followed by'3 zero bits. The packet derived from the circtilar buffer thus looks like this:<br>
6d 50 e8 aa 21 Ic 7a 7e d7 cc a3 23 4c 99 e2 b7 e5 b3 7d f3 '000'<br>
However, the first 5 bits are to be replaced by '00000' for the FCH. Therefore, the data block supplied to the mtix sublayer is:<br>
09 50 e8 aa 21 Ic 7a 7e d7 cc a3 23 4c 99 e2 b7 e5 b3 7d f3 '000'<br>
The reference byte address for the next frame in the circular bxiffer is that of byte 9f in the btiffer.<br>
B.3 Supplemental Channel TDSO process<br>
Assume that in this stated mode the TDSO is about to transmit frame number 0xab89ef ad on the Forward Supplemental Channel (F-SCHO) to a mobile station with the least-significant 32 bits of PLCM equal to 0x9F000307. Since the least-significant rune bits of (0xab89efad xor 0x2aaaaaaa) equal 0x107, and the least significant nine bits of the PLCM are 0x0107, it is time to res5nichroni2e the F-SCHO TDSO process. The pseudo-random number generator associated with F-SCHO is initialized witii S-FRNGO (FRNG for the Forward Supplemental Channel 0) set equal to the 31 least-sigiiificant bits of (0xab89efad xor Ox2aaaaaaa) = 0x01234507 as follows (see 0):<br>
01234507	(S-FRNGO: starting value for the Synchronization Frame)<br>
3288cf26	(S-FRNGO: 1st iteration)<br>
33d7elb5	(S-FRNGO: 2nd iteration)<br>
22234caa	(S-FRNGO: 3rd iteration)<br>
3b7e3€68	(S-FRNGO: 4th iteration)<br>
After reinitialization, the Forward Supplemental Channel TDSO service option would compute yn(l) = FRNG/128 = 0x3b7e3e68/128 = Ox76fc7c. The least-significant 6 bits of yj(l). On, is equal to 0x3c, or 60. On mod B(n) (see Table 35) for the values of B(n), for RC3 B(n) = 762) determines the byte offset in the<br><br>
circular buffer from where to begin copying data bits into blocks for the multiplex sublayer.<br>
For the synchronization frame, the offset is taken with respect to the first-generated byte in the circular buffer; whereas for subsequent System Time frames, the byte address next to that of the last-packed byte from the previous frame serves as the reference. The TDSO always advances this pointer in the circular buffer according to the value of On mod B(n), irrespective of whether any data bits were actually passed to the multiplex sublayer during that frame period as determined by the value of 24_Brr_PN_NUM. For the F-SCHO, the TDSO generates 762 bytes (two full-rate RC3 frames) through random number iterations. These bytes are put together, starting with the same 24-bit number that was used to determine the offset.<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
As the value of 24_Brr_PN_NUM is less than the ON.TBIRESHOLD, the TDSO_STATE turns to ON and, therefore, TDSO shall pass two Rate 1 frame to the multiplex sublayer during the current frame period.<br>
The starting offset for the first frame in the 512 frame segment is given by On mod B(n), which in this case is 60 mod 762 = 60. Therefore, the TDSO will generate two Rate 1 (170-bit) date blocks that are supplied to the multiplex sublayer. Each data block is comprised of 21 octets from the circular buffer begiiming at the 60th byte offset in the circular buffer followed by 2 zero bits as shown:<br><br><br>
The first 5 bits of each generated PDU, however, will be masked by 2 bits representing the CHANNEL.ID, that is, 10 for F-SCHO followed by 3 bits to designate the PDU sequence number within the physical layer SDU ('000' for first data block and '001' for the second). Therefore, the two data blocks that are passed to the multiplex sublayer look like the following:<br>
PDUl-&gt;80 c4 cd Id 7513 a8 f2 6d 54 08 56 ec e8 3c 2f Oa eO d4 bO be '00' PDU2-&gt;8e 6e fd 96 da 52 89 d6 8c 95 el 58 a9 08 42 5b a2 46 be Od 4d '00'<br>
For the next frame, however, the byte offset pointer advances to the byte immediately after 4d, that is, 78.<br>
Using the TDSO<br>
C.l Introduction<br>
This annex outlines the procedure for conducting a TDSO test and a method for<br>
computing frame error rates.<br>
C.2 Conducting a TDSO test<br>
A TDSO test may be conducted at a base station using the following<br>
procedures:<br>
1.   Start a TDSO call (or clear the counters of an existing call).<br>
•	To conduct a TDSO call with a random data source, send a Service Option Control Message control directive with DATA_SOURCE field set to '001' and the CLEAR_COUNTERS field set to T for the particular physical channel.<br>
•	Wait for the test interval to elapse.<br>
•	Direct the mobile station to make a copy of the TDSO counters.<br>
•	Wait for the forward synchronization and reverse synchronization frame after the action time to occur.<br>
•	Retrieve the values of the copied counters from the mobile station and compute the FERs.<br>
A call is Started by negotiating the TDSO (see 0) and initializing and connecting the service option. The service option counters are cleared at initialization, or<br><br>
could be cleared explicitly by the base station by sending a control directive while a TDSO call is in progress.<br>
The diiration of a test should correspond to an integral number of segments (see 0). The mobile station's processing of the control directive (see 0) enforces this test duration.<br>
The base station sends a Service Option Control Message directing the mobile station to copy the received and transmitted TDSO coimters to buffers at the next Forward and Reverse Traffic Channel synchronization frames. This provides a synchronized snapshot of aU the TDSO coimters for acoirate calculations of FERs.<br>
The base station sends Service Option Control Messages to request counter values to be retrieved from the copied buffer. These coimter values are iised in frame-error rate and bit-error rate calculations.<br><br>
where coimters in the mobile station are denoted by a subscript m, and counters in the base station are denoted by a subscript b. The number of dim-and-burst frames and the number of blank-and-burst frames are not used in the FER calculations described above.<br><br>
The values of the base station transmit cottnter TDSO_Ei_Tib, TDSO_EB_TBb can be estimated by summing the values of the corresponding mobile station counters for received frames as follows:<br><br>
where counters in the mobile station are denoted by a subscript m, and counters in the base station are denoted by a subscript b.<br>
The FERs of Nx9.6 or Nxl4.4 frames on the Reverse Fundicated Traffic Channel are given by the following calculation:<br>
FERRateNx9.6 orNxi4.4 (Reverse) = 1 - (TDSO_ENx_RNxb + TDSO_EB_RBb) / (TDSO_ENx_TNxm+ TDSO_EB_TBm) where coim.ters in the mobile station are denoted by a subscript m, and cotmters in the base station are denoted by a subscript b.<br><br>
The values of the base station transmit coxmter TDSO_ENx_TNxb, TDSO_EB_TBb can be estimated by stunming the values of the corresponding mobile station counters for received frames as follows:<br><br><br>
where counters in the mobile station are denoted by a subscript m, and counters in the base station are denoted by a subscript b. The values of the base station transmit counters TDSO_Ela_Tiab, TDSO_Eib_Tibb, TDSO_E2_T2b, and TDSO_E3_T3b Can be calculated by svunming the values of the corresponding mobile station counters for received frames as follows:<br>
TDSO_Ela_Tlab = TDSO.Ela.Rlam + TDSO_Ela_RERRin + TDSO_Ela_REm,<br>
TDSO_Elb_Tlbb = TDSO_Elb_Rlbm + TDSO_Elb_RERRm +<br>
TDSO_Elb_REm,<br>
TDSO_E2_T2b = TDSO_E2_R2m + TDSO_E2_RERRm + TDSO_E2_REm,<br>
TDSO_E3_T3b = TDSO_E3_R3m + TDSO_E3_RERRm + TDSO_E3_REm<br>
The values of the mobile station transmit coimters TDSO_Eia_Tiam, TDSO_Eib_Tibin, TDSO_E2_T2in, and TDSO_E3_i3in Can be. calculated by summing the values of the corresponding base station counters for received frames as foUows:<br>
TDSO_Ela_Tlam = TDSO_Ela_Rlab + TDSO_Ela_RERRb + TDSO_Ela_REb,<br>
TDSO_Elb_Tlbm = TDSO_Elb_Rlbb + TDSO_Elb_RERRb + TDSO_Elb_REb,<br>
TDSO_E2_T2m = TDSO_E2_R2b + TDSO_E2_RERRb + TDSO_E2_REb,<br>
TDSO_E3_T3in = TDSO_E3_R3b + TDSO_E3_RERRb + TDSO_E3_REb<br>
C.5 PER computation on the FCH and DCCH with 5 ms frame length<br>
The PER on the Forward Fxmdicated Traffic Qiannel is given by the following<br>
caloilation:<br>
Let Rm be the number of good 5 ms frames received in the mobile station and<br>
Tb be the total niunber of 5 ms frames transmitted by the base station during<br>
the test period, then<br>
FERRate 1 (Forward) = 1 - (I/Tb)<br>
where coimters in the mobile station are denoted by a subscript m, and<br>
counters in the base station are denoted by a subscript b.<br>
The FER on the Reverse Fimdicated Traffic Channel is given by the following<br>
calculation:<br><br>
Let Rb be the number of good 5 ms frames received in the base station and Tm<br>
be the total n-umber of 5 ms frames transmitted by the mobile station during the<br>
test period, then<br>
FERRate 1 (Reverse) = 1 - (Rb/TJ<br>
where counters in the mobile station are denoted by a subscript m, and<br>
coimters in tiie base station are denoted by a subscript b.<br>
Both Rm and Tm can be derived from the values of the mobile station counters<br>
(e.g., MUXl_FOR_FCH_5_ms) retrieved in the 5 ms Frame Received Counters<br>
Response and 5 ins Frame Transmitted Counters Response, respectively. For<br>
exam.ple, for a 5 ms DCCH using Multiplex Option 0x01, Rm can be calculated<br>
as the difference of the values of TDSO_MUXl_5ms_Rl at the beginning of the<br>
first TDSO frame and at the end of the last TDSO frame during the test.<br>
Similarly, both Rb and Tb can be derived from the values of the base station<br>
coimters. For exanaple, Rb can be calculated as the difference of the values of the<br>
corresponding counter in the base station at the beginning of the first TDSO<br>
frame and at the end of the last TDSO frame during ttie test.<br>
No text.<br>
Calculating p and q Based on D and B<br><br><br>
Equation 3 shows that given a fixed B, D varies from 0 to B/(l+B), when q varies from 0 to 1. Similarly, Equation 4 shows that given a fixed value of D, B varies from D/(l-D) to infinity.<br>
For example, if B is set to 2, D has to be smaller than 2/3. As a result, the frame 5    activity (D) can never get higher than 2/3 when B is set to 2. Similarly, if D is set to 7/10, B has to be greater than 7/3.<br>
The corresponding valid values of p and q can be calculated from Equation 1 . and Equation 2 given a valid pair of D and B.<br>
10	The foregoing description of the preferred embodiments is provided to<br>
enable any person skilled in the art to make or use the present invention. Various modifications to these embodiments will be readily apparent to those skilled in the art, and the generic principles defined herein may be applied to other embodiments without the use of the inventive faculty. Thus, the present<br>
15 invention is not intended to be limited to the embodiments shown herein but is to be accorded the widest scope consistent with the principles and novel features disclosed herein.<br><br><br>
WE CLAIM :<br>
1.	A method for generating test data for testing a particular channel under flexible<br>
operating conditions in a wireless communication system, comprising the steps<br>
of:<br>
generating a sequence of data bits based on a pseudo-random number generator; and<br>
forming a plurality of data blocks for transmission under the flexible operating conditions, and over a plurality of time intervals on the particular channel, wherein each data block includes at least a portion of the generated sequence of data bits.<br>
2.	The method as claimed in claim 1, wherein each time interval corresponds to a frame on the particular traffic charmel, and wherein the sequence of data bits includes at least N times a maximum number of bits expected to be transmitted for one frame on the particular charmel, where N is two or greater.<br>
3.	The   method   as   claimed   in   claim    1,   comprising   the   steps   of   :<br>
storing the generated sequence of data bits to a buffer.<br>
4.	The method as claimed in claim 3, wherein the buffer is operated as a circular<br>
buffer, the method comprising the steps of:<br>
retrieving data bits for each data block from a particular section of the circular buffer.<br>
5.	The method as claimed in claim 4, wherein a starting location in the circular buffer from which to retrieve data bits for a particular data block is determined based in part on a value obtained from the pseudo-random number generator.<br>
6.	The method as claimed in claim 5, comprising the steps of:<br><br>
formatting the value obtained from the pseudo-random number generator; and<br>
advancing a pointer for the circular buffer by a number of positions determined based on the formatted number.<br>
7.	The method as claimed in claim 6, wherein a 31-bit value is obtained from the<br>
pseudo-random number generator, and wherein the formatting comprises :<br>
generating a 24-bit number with 24 most significant bits of the31-bit value, and<br>
generating the formatted number with six least significant bits of the 24bit number.<br>
8.	The method as claimed in claim 1, wherein the generating the sequence of data<br>
bits comprises :<br>
obtaining a value corresponding to a current state of the pseudo-random number generator,<br>
forming a set of data bits based on the obtained value, and updating the pseudo-random number generator.<br>
9.	The method as claimed in claim 8, wherein the generating the sequence of data<br>
bits comprises :<br>
repeating the obtaining, forming, and updating a plurality of times, and concatenating a plurality of sets of data bits formed based on a plurality<br>
of values obtained from the pseudo-random number generator to generate the<br>
sequence of data bits.<br>
10.	The method as claimed in claim 8, wherein the forming comprises :<br>
extracting a most significant portion of the obtained value, and rearranging bytes in the extracted most significant portion to form the set of data bits.<br><br>
11.	The method as claimed in claim 10, wherein a 31-bit value is obtained from the pseudo-random number generator, a 24-bit value is extracted from the most significant portion of the obtained value, and the bytes of the 24-bit value are rearranged in little-endian order.<br>
12.	The   method   as   claimed   in   claim    1,    comprising   the    steps   of   :<br>
reinitializing    the    pseudo-random    number    generator    at    each synchronization time corresponding to a start of a new test interval.<br>
13.	The method as claimed in claim 12, wherein each test interval has a duration of 10. 24 seconds.<br>
14.	The method as claimed in claim 12, wherein the synchronization time is determined based in part on a system frame number for a frame on the particular traffic channel.<br>
15.	The method as claimed in claim 14, wherein the synchronization time is further determined based on a public long code mask (PLCM) assigned to a remote terminal designated to receive the data blocks.<br>
16.	The method as claimed in claim 1, wherein a plurality of channels are concurrently tested, and wherein a plurality of-pseudo-random number generators are used to generate test data for testing the plurality of channels.<br>
17.	The method as claimed in claim 16, wherein each channel has a corresponding pseudo-random number generator for generating test data.<br>
18.	The method as claimed in claim 17, wherein the test data generated for each channel is stored to a respective buffer.<br><br>
19.	A method for generating test data for testing a particular channel under flexible<br>
operating conditions in a wireless communication system, comprising :<br>
selecting a particular one of a plurality of available test data types; generating a sequence of data bits of the selected test data type; and forming a plurality of data blocks for transmission under the flexible operating conditions, and over a plurality of time intervals on the particular channel, wherein each data block includes at least a portion of the generated sequence of data bits.<br>
20.	The method as claimed in claim 19, wherein the available test data types comprise test data generated based on a defined data pattern and test data pseudo randomly generated.<br>
21.	The method as claimed in claim 20, wherein the sequence of data bits generated based on the defined data pattern includes a plurality of bytes of a particular value.<br>
22.	The method as claimed in claim 21, wherem the defined data pattern is a sequence of a particular number of ones.<br>
23.	A transmitting entity in a wireless communication system, comprising :<br>
at least one pseudo-random number generator, each generator configured to generate pseudo-random numbers used to generate a sequence of data bits; and<br>
at least one buffer operatively coupled to the at least one generator, each buffer configured to store a respective generated sequence of data bits, and<br>
wherein a plurality of data blocks are formed for transmission over a plurality of time intervals on a particular channel, and wherein each data block has at least a portion of a particular sequence of data bits from a particular buffer.<br><br>
24.	The transmitting entity as claimed in claim 23, comprising :<br>
a controller configured to select one of a plurality of available test data types, wherein the available test data types has test data generated based on a defined data pattern and test data pseudo-randomly generated.<br>
25.	The transmitting entity as claimed in claim 24, wherein the controller is<br>
configured to determine a transmission state of a current frame for the<br>
particular charmel, and wherein the transmission state is either an ON state<br>
signifying transmission of test data on the particular channel in the current<br>
frame or an OFF state signifying no transmission of test data on the particular<br>
channel in the current frame.<br>
26.	The transmitting entity as claimed in claim 23, wherein a plurality of channels<br>
are concurrently tested, and wherein one pseudo-random number generator and<br>
one buffer are associate with each channel to be tested.<br><br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTAxNS1jaGUgYWJzdHJhY3QtZHVwbGljYXRlLnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2002-1015-che abstract-duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTAxNS1jaGUgYWJzdHJhY3QucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2002-1015-che abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTAxNS1jaGUgY2xhaW1zLWR1cGxpY2F0ZS5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2002-1015-che claims-duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTAxNS1jaGUgY2xhaW1zLnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2002-1015-che claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTAxNS1jaGUgY29ycmVzcG9uZGVuY2Utb3RoZXJzLnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2002-1015-che correspondence-others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTAxNS1jaGUgY29ycmVzcG9uZGVuY2UtcG8ucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2002-1015-che correspondence-po.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTAxNS1jaGUgZGVzY3JpcHRpb24oY29tcGxldGUpLWR1cGxpY2F0ZS5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2002-1015-che description(complete)-duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTAxNS1jaGUgZGVzY3JpcHRpb24oY29tcGxldGUpLnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2002-1015-che description(complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTAxNS1jaGUgZHJhd2luZ3MtZHVwbGljYXRlLnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2002-1015-che drawings-duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTAxNS1jaGUgZHJhd2luZ3MucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2002-1015-che drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTAxNS1jaGUgZm9ybS0xLnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2002-1015-che form-1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTAxNS1jaGUgZm9ybS0xOC5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2002-1015-che form-18.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTAxNS1jaGUgZm9ybS0yNi5wZGY=" target="_blank" style="word-wrap:break-word;">in-pct-2002-1015-che form-26.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTAxNS1jaGUgZm9ybS0zLnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2002-1015-che form-3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTAxNS1jaGUgZm9ybS01LnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2002-1015-che form-5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTAxNS1jaGUgcGN0LnBkZg==" target="_blank" style="word-wrap:break-word;">in-pct-2002-1015-che pct.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=aW4tcGN0LTIwMDItMTAxNS1jaGUgcGV0aXRpb24ucGRm" target="_blank" style="word-wrap:break-word;">in-pct-2002-1015-che petition.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="220617-high-pressure-fuel-store-for-a-common-rail-fuel-injection-system-of-an-internal-combustion-engine.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="220619-a-process-for-reducing-the-nox-and-n2o-concentration-from-the-residual-gas-from-nitric-acid-production.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>220618</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>IN/PCT/2002/1015/CHE</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>29/2008</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>18-Jul-2008</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>29-May-2008</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>01-Jul-2002</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>QUALCOMM INCORPORATED</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td></td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>FISCHEL, SCOTT EDUARD</td>
											<td>548 Ford Avenue Solana Beach, CA 92075</td>
										</tr>
										<tr>
											<td>2</td>
											<td>MIR, IDREAS A</td>
											<td>7532 Charmant Drive #331 San Diego, CA 92122</td>
										</tr>
										<tr>
											<td>3</td>
											<td>FISCHEL, Scott, Eduard</td>
											<td>548 Ford Avenue Solana Beach, CA 92075,</td>
										</tr>
										<tr>
											<td>4</td>
											<td>MIR, Idreas, A</td>
											<td>7532 Charmant Drive #331 San Diego, CA 92122,</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04B 17/00</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/US2001/000896</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2001-01-10</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>09/757,773</td>
									<td>2001-01-09</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/220618-method-and-apparatus-for-testing-wireless-communication-channels by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 10:32:55 GMT -->
</html>
