<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/259518-systems-and-methods-for-modifying-complex-structured-type-columns-in-a-database by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 01:39:24 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 259518:&quot;SYSTEMS AND METHODS FOR MODIFYING COMPLEX STRUCTURED TYPE COLUMNS IN A DATABASE&quot;</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">&quot;SYSTEMS AND METHODS FOR MODIFYING COMPLEX STRUCTURED TYPE COLUMNS IN A DATABASE&quot;</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A technique for updating collection-valued and other complex structured columns in a nested table using a nested extension of an UPDATE statement that uses syntax and semantics to modify collection-valued columns in a way that is analogous to the syntax and semantics of the UPDATE statement that is used to modify scalar-valued columns of the table (called the outer UPDATE). Using the same syntactic and semantic constructs as the table at the outer level allows an existing implementation that processes modifications to relational tables to reuse its implementation techniques for processing outer updates to modify collection-valued columns as well. The UPDATE extensions enable the specification of updates to nested collections embedded at arbitrary levels of depth in the object model. The new syntax is embedded inside the outer UPDATE statement in a way that parallels the structure of the data itself and thus maps more directly to the user&quot;s conceptual model of the data The method for implementing the UPDATE extensions uses a change descriptor, which is a data structure that aggregates substantially all changes, both scalar and collection-valued into a single value that can be applied to the changed collection-valued column. This technique can also be used for modifications to other kinds of complex-structured columns such as objects or xml. The change descriptor includes hierarchical information for the cell, thereby enabling efficient application of multiple updates at various granularity levels in a single operation and enabling the implementation of efficient index maintenance algorithms by updating only the indexes affected by the UPDATE operation and updating only those index rows that were affected by the UPDATE operation.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>SQL LANGUAGE EXTENSIONS FOR MODIFYING COLLECTION-VALUED AND SCALAR VALUED COLUMNS IN A SINGLE STATEMENT<br>
CROSS-REFERENCE TO RELATED APPLICATIONS<br>
This application claims priority to U.S. Application Serial No. 10/693,302, filed October 24,2003, the disclosure of which is incorporated herein by reference in its entirety.<br>
FIELD OF THE INVENTION<br>
[0001]	The present invention relates to database systems and, more particularly, to a<br>
system and method for using nested relational SQL language extensions to modify tables with a hierarchical structure (such as nested tables and tables that store complex-structured objects or XML) in arbitrary ways in one step and for providing the mechanisms (such as change descriptor and leveraging of query optimization and query execution techniques) to achieve complex and partial updates efficiently.<br>
BACKGROUND OF THE INVENTION<br>
[0002]	The SQL query language provides a user with the ability to query (and modify)<br>
tabular data stored using the relational data model. The relational data model dictates that each cell in a table (a column of a row) is a single scalar (or atomic) value. The structured query language (SQL) is an American National Standards Institute (ANSI) standard used to communicate with a relational database. SQL statements are used to perform tasks such as update data or retrieve data from a relational database. Although many database systems use SQL, many of them also have their own additional proprietary extensions that are usually only used on their system. However, the standard SQL commands such as "Select", "Insert", "Update", "Delete", "Create", and "Drop" can be used to accomplish many things that one desires to do with a relational database and are believed to be well known to those skilled in the database art.<br>
 [0003]t extensions to tne relational data model relax tne restriction ot storing a<br>
single scalar value in a cell and allow each cell in a table to be a collection of values itself. Each element inside this collection can in turn contain a collection itself, i.e. the collection can be nested to arbitrary levels of depth. Tables with such collection-valued cells with multiple values can be broadly called nested tables. This development presents the problem of how to extend the SQL language to modify the collection values in such a nested table.   For example, a technique for modifying the collection-valued cells to permit the simultaneous change of scalar values at any nesting level is desired.<br>
[0004]	Current implementations of nested tables and associated standards offer<br>
extensions for querying and updating collections in a nested table. In a conventional nested table<br>
system, however, the nested scalar values are updated one level at a time for each level of scalar<br>
values in a collection-valued cell, thus requiring multiple updates to change the stored values in a<br>
multi-level cell. For example, US Patent 6,564,203 describes techniques for updating data that<br>
logically resides in one or more nested collections in a nested collection column. A Data<br>
Manipulation Language (DML) statement that operates on one or more of the nested collections<br>
is detected and trigger code is executed once for each individual element within the nested<br>
collections targeted by the DML statement. The trigger code may include references to parent<br>
values; however, the triggers are designed to fire when a row of a database table or a table view<br>
is updated, inserted or deleted. In other words, only a single row is updated at a time. This<br>
process is slow and tedious and does not permit updates at any designated nested level.<br>
[0005]	US Patent 6,493,708 discloses a mechanism for defining a hierarchical dimension,<br>
the various levels thereof, and the relationships among the levels using a CREATE DIMENSION<br>
statement that includes various LEVEL statements to identify the levels of the hierarchy. A<br>
dimension table embeds the hierarchical relationships between granules in various levels of the<br>
dimension, assuming that the levels go from a finer to a coarser level. However, no general<br>
mechanism is taught for updating nested tables for values in respective rows that are not<br>
necessarily related to each other as finer/coarser representations of the same data.<br>
[0006]	The SQL 2003 standard specifies two kinds of collections - arrays and multisets.<br>
Columns of a table can be one of these two types. In existing database systems that implement arrays and multisets, the standard specifies syntax and semantics for modifying the collection-valued column in its entirety where the old value is replaced by an entirely new value. The prior art does not specify any way to modify the collection-valued column incrementally. A technique is desired that permits one to perform incremental modifications to such collections since it can<br>
be very expensive to replace an entire large collection with a new collection while the need is to only modify a small portion of it. The present invention addresses these needs in the art.<br>
SUMMARY OF THE INVENTION<br>
[0007]	The present invention meets the above-mentioned needs in the art by providing a<br>
new way to update collection-valued columns in a nested table using a nested extension of the SQL UPDATE statement. The proposed extension uses syntax and semantics to modify collection-valued columns that is analogous to the syntax and semantics of the conventional UPDATE statement that is used to modify scalar-valued columns of the table (called the outer UPDATE). This is desirable since using the same syntactic and semantic constructs as the table at the outer level allows an existing implementation that processes modifications to relational tables to reuse its implementation techniques for processing updates to modify collection-valued columns as well. Also, such UPDATE extensions in accordance with the invention enable the specification of updates to nested collections embedded at arbitrary levels of depth in the hierarchy.<br>
[0008]	The new syntax is embedded inside the outer UPDATE statement in a way that<br>
parallels the structure of the data itself. The syntax thus maps more directly to the user's conceptual model of the data and is hence easier to understand. The proposed extension to the UPDATE statement allows updates to both the collection-valued columns and to other scalar-valued columns simultaneously using the same statement which allows for efficient processing of the modification.<br>
[0009]	A relational database system that implements UPDATE statements using change<br>
descriptors in accordance with the invention includes a parser that parses a database modification (query) statement and produces a logical description of changes to the table as specified by the UPDATE statement, a query optimizer that produces the execution algorithm that will perform the modifications, and finally a query execution engine that implements the execution algorithm. The execution algorithm consists of the following steps: (i) determine the rows in the complex structured type column (e.g., nested table) that need to be updated and calculate the new values for the columns in the complex structured type column to be updated, and (ii) apply the calculated new values to the complex structured type column. For modifications to collection-valued columns, step (ii) uses a data structure (change descriptor) that represents an aggregation of changes to the values in the collection-valued column and the location of the values to be updated in the hierarchy of the complex structured type column. In step (ii), the query execution engine reads the change descriptor and applies the changes as described by it to the collection-valued columns in addition to using simple scalar updates for the scalar valued columns.<br>
 [0010]	The method for implementing the UPDATE extensions uses a technique, called<br>
the change descriptor, which is a data structure that aggregates all changes, both scalar and collection-valued, into a single value that provides a complete description of the changes to be made in a collection-valued column. The change descriptor tells the query execution engine what to change and where and is packaged as a conventional scalar but with all the hierarchical information needed to modify the scalars in the designated hierarchical levels. The change descriptor thus enables the efficient application of multiple updates at various granularity levels in a single operation. The change descriptor also enables the implementation of efficient index maintenance algorithms by updating only the indexes affected by the specific scalar fields modified at various nesting levels by the SET clause in the UPDATE operation and also updating only those rows of the index that correspond to the actual elements that got modified by the UPDATE operation. The change descriptor also has the benefit of separating the computation of the changes from their application itself (known as Halloween Protection), i.e. to prevent the update statement from side effecting itself. This could happen if the computation and the application of the changes were not strongly separated, because the first phase could be improperly affected, as a result of seeing the intermediate changes to the data the second phase might have produced.<br>
[0011]	The invention thus enables the use of nested relational SQL language extensions<br>
to modify tables with a hierarchical structure (such as nested tables and tables that store complex structured objects or XML) in arbitrary ways in one step and provides the mechanisms (change descriptor, leveraging of query optimization and query execution techniques) to achieve complex and partial updates efficiently. The SQL language extensions of the invention also enable rich and efficient support for managing and querying complex structured type relational or XML data in a database adapted to implement the invention.<br>
BRIEF DESCRIPTION OF THE DRAWINGS<br>
[0012]	The foregoing summary, as well as the following detailed description of the<br>
invention, is better understood when read in conjunction with the appended drawings. For the<br>
purpose of illustrating the invention, the drawings include exemplary embodiments of various<br>
aspects of the invention; however, those skilled in the art will appreciate that the invention is not<br>
limited to the specific methods and instrumentalities disclosed. In the drawings:<br>
[0013]	Figure 1 illustrates a nested table update of the Salary scalar which is<br>
implemented by enumerating the rows that satisfy the predicate in the query and calculating the new value of the Salary column for each row.<br>
 [0014]	Figures 2-4 illustrate three examples of nested UPDATE statements in accordance<br>
with the invention including diagrams outlining the change descriptor content and the effects of its application.<br>
[0015]	Figure 5 illustrates the steps of parsing, optimizing and executing a regular update<br>
of a table using a conventional UPDATE instruction in a conventional SQL Server system.<br>
[0016]	Figure 6 illustrates the nested update case of the invention whereby the query<br>
execution process is modified to compute the change descriptor in accordance with the invention.<br>
DETAILED DESCRD7TION OF THE INVENTION<br>
[0017]	The subject matter of the present invention is described with specificity to meet<br>
statutory requirements (35 U.S.C. 1 et seq.). However, the description itself is not intended to<br>
limit the scope of the invention. Rather, the inventors have contemplated that the claimed<br>
subject matter might also be embodied in other ways to include different steps or elements<br>
similar to the ones described herein as may be used in conjunction with other present or future<br>
technologies during the lifetime of this patent. Moreover, although the term "step" may be used<br>
herein to connote different aspects of methods employed, this term should not be interpreted as<br>
implying any particular order among or between various steps herein disclosed unless and except<br>
when a specific order of individual steps is explicitly described as being necessary.<br>
[0018]	Those skilled in the database and memory management arts will appreciate that<br>
the present invention will be useful to any extended relational database system that supports nested tables, such as MYSQL. Accordingly, the present invention described herein with respect to Figures 1-6 is to be understood to be applicable to all such systems.<br>
Definitions:<br>
[0019]	Complex Structured Type: A complex structured type consists of a set of fields,<br>
properties and methods. Each field or property can be one of:<br>
a scalar type;<br>
a complex structured type itself;<br>
a multiset in which each element is a complex structured type.<br>
[0020]	Complex structured types are restricted to be non-recursive. In other words, a<br>
complex structured type cannot include a property of field of that same type. A complex structured type as defined herein includes nested tables, collection-valued tables, and other multidimensional data structures.<br>
[0021]	Multisets: A multiset is a type of collection. It is a set of unordered objects with<br>
possible duplicates. The multiset is strongly typed in the sense that it defines the type of the<br>
elements it contains. This document will use the notation Multiset<t> to denote a multiset of<br>
elements of type T.<br>
[0022]	In both complex structured types and multiset-valued types, it is possible to have<br>
arbitrarily deep levels of nesting.<br>
[0023]	A complex structured type may be represented canonically with the following<br>
syntax. In this example, the AddressType has a field called PhoneNos which is collection-valued<br>
and is typed Multiset<phonenotype>:<br>
(Formula removed)<br><br><br>
[0024]	The following tables use the types defined above. First a MULTISET type is<br>
created for a Multiset of AddressType. Then that type is used to define a column of the Employees table:<br>
(Formula removed)<br><br>
Embodiments of Invention:<br>
[0025]	The present invention provides a technique for providing data modification<br>
capabilities for tables with complex structures (i.e., tables that contain both structured columns and multiset-valued columns). In a preferred embodiment of the invention, these features are part of a SQL Server engine for updating data stored in a relational database. For example, the<br>
present invention is efficiently used in conjunction with applications that often have a data model that is more complex than a INF (or "flat") relational model. The data types that they model have complex internal structure and/or include multisets of values. Typically, such applications model this data using a set of flat tables. Complex structured types and multisets provide a way to model such data whose logical schema maps more naturally to the original data model. The present invention may be used to update relational data in multisets that are embedded inside such a complex structured type. As will be explained in more detail below, the invention also includes the ability to modify multiset data with the level of richness and expressive power that SQL provides at the outer most level on flat tables.<br>
[0026]	In accordance with the invention, an SQL statement is being enhanced to support<br>
modifications to collection-valued columns (multisets) of a table. The SQL statement that is being enhanced to support modifications to collection-valued columns of a table in accordance with the invention is the UPDATE statement. The general format of the conventional UPDATE statement is as follows, where syntax elements surrounded by o are non-terminals that are expanded later<br>
(Formula removed)<br><br>
in the description:<br>
where <target-table> is the table being modified, <scalar-column-modification> specifies the modification of a scalar-valued column and is of the following form:<br>
(Formula removed)<br><br>
where <target-column> is the name of the column being modified and <value-expression> is a scalar valued expression that supplies the new value to which <target-column> should be modified.<br>
[0027]	The proposed extension of the UPDATE statement in accordance with the<br>
invention introduces another kind of modification (<collection-column-modification>) in the SET clause that can be used to modify collection-valued columns. A <collection-column-modification> is one of the following forms:<br>
(Formula removed)<br><br>
[0028]	In other words, the <collection-column-modification> uses<br>
INSERT/UPDATE/DELETE syntax that is similar to INSERT/UPDATE/DELETE against the outer-table. The SET clause of the inner UPDATE can in turn specify modifications to collection-valued columns inside the outer collection-valued column, and thus enables modifications to collection-valued columns in any level of nesting using the same recursively nested syntactic approach. In essence, modifications on collection-valued columns are modeled as UPDATES on the outer table by embedding the INSERT/UPDATE/DELETE in the SET clause of the outer UPDATE statement.<br>
[0029]	As noted above, the data structure that aggregates all changes, both scalar and<br>
collection-valued, into a single value that provides a complete description of the changes to be<br>
made in a complex-structured, object-valued or collection-valued column in accordance with the<br>
invention is referred to herein as a "change descriptor." The change descriptor tells the<br>
UPDATE instruction what to change and where in the complex structured type hierarchy and is<br>
packaged as a conventional scalar so as to permit the UPDATE instruction to update scalars in<br>
the designated hierarchical levels. The change descriptor enables the implementation of efficient<br>
index maintenance algorithms by updating only the indexes affected by scalar or collection-<br>
valued fields affected by the set clause in the UPDATE operation and also updating only those<br>
rows of the index that correspond to the actual elements of the collection that got modified by the<br>
UPDATE operation. The present invention thus uses a change descriptor to implement complex<br>
and partial updates to table columns that are not scalar, but rather have a hierarchical structure.<br>
[0030]	Examples of the implementation of the change descriptor will be provided below<br>
with respect to updates to an Employees table, with the scalar-valued columns: FirstName,<br>
LastName and EmployeeED, Salary and a collection-valued column called Addresses which stores a set of addresses. Each address in the collection-valued column has the following scalar-valued columns: Street, City, State, ZipCode and a collection-valued column called PhoneNos. For example:<br>
(Formula removed)<br><br>
[0031]	The syntax of conventional UPDATE statements only allows modifying table<br>
columns as a whole, by assigning them to their new value. As an example, if employees 1234 and 1235 in the table "Employees" are to be given a 10% salary raise, then this operation can be implemented with the following conventional syntax:<br>
(Formula removed)<br><br>
[0032]	Such UPDATES are processed using two phases. During the first phase, the rows<br>
to be changed are enumerated and the new values for the columns to be modified are calculated. This process produces a stream of data representing the changes to be performed, called herein a delta stream. In the second phase, the columns are modified as per this delta stream.<br>
 [0033]	In accordance with the invention, on the other hand, UPDATE statements modify<br>
parts of a complex-structured collection-valued column using a variation of the same mechanism<br>
using two phases. In the first phase, in accordance with the invention, the delta stream uses a new<br>
data structure that aggregates all the changes to the collection valued column. As illustrated in<br>
Figure 1, the first phase of the update will be implemented by enumerating the rows that satisfy<br>
the predicate in the query and calculating the new value of the Salary column for each of them.<br>
This will produce the delta stream for the update. The second phase includes the step of<br>
applying the delta stream to the table itself, so as to perform the previously gathered changes.<br>
[0034]	As described herein, the change descriptor technique is a way to implement fine-<br>
grained, rather than full, changes to complex-structured or collection-valued columns, extending the concept of delta stream mentioned above. The set of changes to be applied to a collection-valued column as part of a nested update can be seen as a delta stream in itself. This delta stream is nested inside the top-most delta stream representing the changes to the table. Changes to collection-valued columns contained inside a collection-valued column again can be represented with a further nested delta stream.<br>
[0035]	The change descriptor is a compact and scalar representation of the nested delta<br>
streams. Representing it as a scalar value allows it to be seamlessly gathered together with the other new values of regular table columns during the generation of the top-most, table level delta stream. This allows scalar and multi-level nested updates to be mixed together in the same statement.<br>
[0036]	The implementation of the second phase of the update understands that the change<br>
descriptor does not contain the full new value of the collection-valued columns, but rather only<br>
the set of fine-grained changes to be applied. The implementation is also aware of the storage<br>
format of the collection-valued column, and is able to translate the information contained inside<br>
the change descriptor into physical operations. Hence, the change descriptor format is rather<br>
flexible and not too implementation dependent, and can be used with a variety of other kinds of<br>
complex structures such as XML, object types in addition to collection-valued columns.<br>
[0037]	Figures 2-4 illustrate three examples of nested update statements, and the<br>
corresponding diagrams outlining the change descriptor content and the effects of its application. The first statement (Figure 2) will change the records for the two employees, at the same time giving the 10% raise and updating the ZipCode for addresses in Washington State.<br>
 (Formula removed)<br><br>
[0038]	The second statement (Figure 3) is similar, but it also updates the AreaCode field<br>
inside some of phones contained inside the addresses being updated. This shows the ability to modify scalar values in 3 levels of the hierarchy in the same statement (Salary in level 1, Zipcode in level 2 and AreaCode in level 3).<br>
(Formula removed)<br><br>
[0039]	In the third example (Figure 4), together with the raise, the two employees have<br>
their addresses in Seattle removed.<br>
(Formula removed)<br><br>
Code Implementation of Change Descriptors<br>
[0040]	The code for implementing the change descriptors in accordance with the<br>
invention operates to build the change descriptors and to consume the change descriptors. The change descriptors are built from the bottom up in the hierarchy, and operators receiving the change descriptors break them down in accordance with the syntax set forth in detail above. The<br>
syntax specifies the update location in the hierarchical nested table structure and maintains a<br>
hierarchical record of the multi-valued stored data. Since the change descriptor embodies<br>
location information as well as scalar information, hierarchical data within a cell may be updated<br>
using a single step in the query execution algorithm as in the examples above.<br>
[0041]	Figures 5 and 6 illustrate the implementation of the change descriptors of the<br>
invention in the examples of Figures 2-4 above. Figure 5 illustrates the steps of parsing, optimizing and executing a regular update of a cell using a conventional UPDATE instruction in a conventional SQL Server system. Figure 6 illustrates the nested update case of the invention whereby the query execution process is modified to compute the change descriptor in accordance with the syntax above. As illustrated, the relational database system includes a SQL parser that parses the received SQL statement and produces a logical description of what the user requires to be done by the database (e.g., insert, update, or delete data) and a query optimizer that produces an execution algorithm using techniques known in the art. In accordance with the invention, the conventional query execution of Figure 5 is modified to further include the step of computing the change descriptor for making each of the changes in the nested tables set forth in the change descriptor. Further, the query execution engine in accordance with the invention is enhanced to read the change descriptor and apply the changes as described by the change descriptor to the table. In the example of Figure 6, the Addresses are updated in addition to the salary. Once the changes are gathered, they are applied to the Employees table in the database (not shown) that is associated with the SQL Server system of the invention.<br>
[0042]	Those skilled in the art will appreciate from Figure 6 that the change descriptor of<br>
the invention enables the implementation of efficient index maintenance algorithms by updating<br>
only the indexes affected by the specific scalar fields modified at various nesting levels by the<br>
SET clause in the UPDATE operation and also updating only those rows of the index that<br>
correspond to the actual elements that got modified by the UPDATE operation. The change<br>
descriptor also has the benefit of separating the computation of the changes from their<br>
application (known as Halloween Protection), i.e. to prevent the update statement from side<br>
effecting itself. This could happen if the computation and the application of the changes were not<br>
strongly separated in two separate steps, because the first phase could be improperly affected, as<br>
a result of seeing the intermediate changes to the data the second phase might have produced.<br>
[0043]	Those skilled in the art will also appreciate that the present invention is<br>
particularly advantageous for storing large data types as fields of a user defined type within a database management system. It is understood that changes may be made to the embodiments described above without departing from the broad inventive concepts thereof. For example,<br>
while an embodiment of the present invention has been described above in the context of Microsoft's SQL SERVER database management system, it is understood that the present invention may be embodied in any database management system (e.g., object oriented database, XML database, etc.) that supports the use of SQL UPDATE statements. Additionally, while certain aspects of the present invention have been described as being embodied in the context of a relational database system such as SQL Server, it is understood that those aspects of the present invention are by no means necessarily limited to implementation in that environment. Accordingly, it is understood that the present invention is not limited to the particular embodiments disclosed, but is intended to cover all modifications that are within the spirit and scope of the invention as defined by the appended claims.<br><br><br><br><br><br>
What is Claimed:<br>
1.	A method of updating values in a complex structured type column in a relational<br>
database system, comprising the steps of:<br>
representing modifications to values in the complex structured type column using a data structure that aggregates changes to the values at any level of a hierarchy of the complex structured column; and<br>
computing the data structure in response to a data modification statement on the database to determine which values within the complex structured type column to update with the aggregated changes.<br>
2.	A method as in claim 1, comprising the further step of simultaneously updating multiple scalar values at different levels within the hierarchy of the complex structured type column.<br>
3.	A method as in claim 1, comprising the further step of simultaneously updating a scalar value in a table along with a complex structured type value in a complex structured type column of said relational database system.<br>
4.	A method as in claim 1, comprising the further step of embedding an INSERT/UPDATE/DELETE statement inside a SET clause of an UPDATE statement.<br>
5.	A method as in claim 4, comprising the further step of embedding a plurality of nested SET clauses inside an outer-most UPDATE statement corresponding to each layer within the hierarchy of the complex structured type column.<br>
6.	A method as in claim 4, wherein the computing step comprises the steps of updating only indexes affected by specific scalar fields modified at various nesting levels by the SET clause in the UPDATE statement and updating only those rows of the index that correspond to the actual values that are modified by the UPDATE statement.<br>
7.	A method as in claim 1, comprising the further step of applying the aggregated changes to the complex structured type column, wherein the applying step is separate from the computing step so as to provide Halloween Protection.<br>
8.	A relational database system responsive to database modification statements to<br>
store and update values in at least one complex structured type column, comprising:<br>
a parser that parses a database modification statement and produces a description of changes to the database proposed by the database modification statement;<br>
a query optimizer that produces an execution algorithm to implement the database modification statement; and<br>
a query execution engine that uses the execution algorithm to compute a data structure of the database modification statement to determine which values within a complex structured type column are to be updated, wherein the data structure represents values in the complex structured type column as an aggregation of changes to the values at any level of hierarchy of the complex structured type column, and said query execution engine applies the changes to the values in the complex structured type column that are to be updated.<br>
9.	A system as in claim 8, wherein the query execution engine simultaneously updates multiple scalar values at different levels within the hierarchy of the complex structured type column.<br>
10.	A system as in claim 8, wherein the query execution engine simultaneously updates a scalar value in a table along with a complex structured type value in a complex structured type column of said relational database system.<br>
11.	A system as in claim 8, wherein the parser parses a SET clause of a database UPDATE statement.<br>
12.	A system as in claim 11, wherein the parser parses the UPDATE statement in a plurality of nested SET clauses inside an outermost UPDATE statement corresponding to each level within the hierarchy of the complex structured type column.<br>
13.	A system as in claim 11, wherein the query execution engine updates only indexes affected by specific scalar fields modified at various nesting levels by the SET clause in the UPDATE statement and updates only those rows of the index that correspond to the actual values that are modified by the UPDATE statement.<br>
14.	A system as in claim 8, wherein the query execution engine applies the aggregated changes to the complex structured type column separate from the computation of the data structure so as to provide Halloween Protection.<br>
15.	A method of updating values in a collection-valued column in a relational database system, comprising the steps of:<br>
representing modifications to values in the collection-valued column using a data structure that aggregates changes to the values inside the collection-valued column; and<br>
computing the data structure in response to a data modification statement on the database to determine which values within the collection-valued column to update with the aggregated changes.<br>
16.	A method as in claim 15, comprising the further step of simultaneously updating multiple scalar values at different levels within the collection-valued column.<br>
17.	A method as in claim 15, comprising the further step of simultaneously updating a scalar value in a table along with a value in a collection-valued column of said relational database system.<br>
18.	A relational database system responsive to database modification statements to store and update values in at least one collection-valued column, comprising:<br>
a parser that parses a database modification statement and produces a description of changes to the database proposed by the database modification statement;<br>
a query optimizer that produces an execution algorithm to implement the database modification statement; and<br>
a query execution engine that uses the execution algorithm to compute a data structure of the database modification statement to determine which values within a collection-valued column are to be updated, wherein the data structure represents values in the collection-valued column as an aggregation of changes to the values inside the collection-valued column, and said query execution engine applies the changes to the values in the collection-valued column that are to be updated.<br>
19.	A system as in claim 18, wherein the parser parses a SET clause of a database<br>
UPDATE statement.<br>
20.	A system as in claim 19, wherein the parser parses the UPDATE statement in a plurality of nested SET clauses inside an outermost UPDATE statement corresponding to each level within the collection-valued column.<br>
21.	A system as in claim 18, wherein the query execution engine updates only indexes affected by specific scalar fields modified at various nesting levels by the SET clause in the UPDATE statement and updates only those rows of the index that correspond to the actual values that are modified by the UPDATE statement.<br>
22.	A system as in claim 18, wherein the query execution engine applies the aggregated changes to the collection-valued column separate from the computation of the data structure so as to provide Halloween Protection.<br></collection-column-modification></collection-column-modification></collection-column-modification></target-column></value-expression></target-column></scalar-column-modification></target-table></phonenotype></t></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ0Ni1kZWxucC0yMDA1LWFic3RyYWN0LnBkZg==" target="_blank" style="word-wrap:break-word;">2446-delnp-2005-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ0Ni1kZWxucC0yMDA1LWFzc2lnbm1lbnQucGRm" target="_blank" style="word-wrap:break-word;">2446-delnp-2005-assignment.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ0Ni1kZWxucC0yMDA1LUNsYWltcy0oMDctMTItMjAxMikucGRm" target="_blank" style="word-wrap:break-word;">2446-delnp-2005-Claims-(07-12-2012).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ0Ni1kZWxucC0yMDA1LWNsYWltcy5wZGY=" target="_blank" style="word-wrap:break-word;">2446-delnp-2005-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ0Ni1kZWxucC0yMDA1LUNvcnJlc3BvbmRlbmNlIE90aGVycy0oMDctMTItMjAxMikucGRm" target="_blank" style="word-wrap:break-word;">2446-delnp-2005-Correspondence Others-(07-12-2012).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ0Ni1kZWxucC0yMDA1LUNvcnJlc3BvbmRlbmNlIE90aGVycy0oMTEtMTEtMjAxMykucGRm" target="_blank" style="word-wrap:break-word;">2446-delnp-2005-Correspondence Others-(11-11-2013).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ0Ni1kZWxucC0yMDA1LUNvcnJlc3BvbmRlbmNlLU90aGVycy0oMDItMTEtMjAxMikucGRm" target="_blank" style="word-wrap:break-word;">2446-delnp-2005-Correspondence-Others-(02-11-2012).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ0Ni1ERUxOUC0yMDA1LUNvcnJlc3BvbmRlbmNlLU90aGVycy0oMDMtMDYtMjAxMCkucGRm" target="_blank" style="word-wrap:break-word;">2446-DELNP-2005-Correspondence-Others-(03-06-2010).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ0Ni1kZWxucC0yMDA1LUNvcnJlc3BvbmRlbmNlLU90aGVycy0oMDYtMTItMjAxMCkucGRm" target="_blank" style="word-wrap:break-word;">2446-delnp-2005-Correspondence-Others-(06-12-2010).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ0Ni1kZWxucC0yMDA1LUNvcnJlc3BvbmRlbmNlLU90aGVycy0oMjItMTAtMjAxMikucGRm" target="_blank" style="word-wrap:break-word;">2446-delnp-2005-Correspondence-Others-(22-10-2012).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ0Ni1kZWxucC0yMDA1LWNvcnJlc3BvbmRlbmNlLW90aGVycy5wZGY=" target="_blank" style="word-wrap:break-word;">2446-delnp-2005-correspondence-others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ0Ni1kZWxucC0yMDA1LURlc2NyaXB0aW9uIChDb21wbGV0ZSktKDA3LTEyLTIwMTIpLnBkZg==" target="_blank" style="word-wrap:break-word;">2446-delnp-2005-Description (Complete)-(07-12-2012).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ0Ni1kZWxucC0yMDA1LWRlc2NyaXB0aW9uIChjb21wbGV0ZSkucGRm" target="_blank" style="word-wrap:break-word;">2446-delnp-2005-description (complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ0Ni1kZWxucC0yMDA1LWRyYXdpbmdzLnBkZg==" target="_blank" style="word-wrap:break-word;">2446-delnp-2005-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ0Ni1kZWxucC0yMDA1LUZvcm0tMS0oMDYtMTItMjAxMCkucGRm" target="_blank" style="word-wrap:break-word;">2446-delnp-2005-Form-1-(06-12-2010).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ0Ni1kZWxucC0yMDA1LWZvcm0tMS5wZGY=" target="_blank" style="word-wrap:break-word;">2446-delnp-2005-form-1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ0Ni1kZWxucC0yMDA1LWZvcm0tMTgucGRm" target="_blank" style="word-wrap:break-word;">2446-delnp-2005-form-18.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ0Ni1kZWxucC0yMDA1LUZvcm0tMi0oMDctMTItMjAxMikucGRm" target="_blank" style="word-wrap:break-word;">2446-delnp-2005-Form-2-(07-12-2012).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ0Ni1kZWxucC0yMDA1LWZvcm0tMi5wZGY=" target="_blank" style="word-wrap:break-word;">2446-delnp-2005-form-2.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ0Ni1kZWxucC0yMDA1LWZvcm0tMy5wZGY=" target="_blank" style="word-wrap:break-word;">2446-delnp-2005-form-3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ0Ni1kZWxucC0yMDA1LWZvcm0tNS5wZGY=" target="_blank" style="word-wrap:break-word;">2446-delnp-2005-form-5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ0Ni1ERUxOUC0yMDA1LUdQQS0oMDMtMDYtMjAxMCkucGRm" target="_blank" style="word-wrap:break-word;">2446-DELNP-2005-GPA-(03-06-2010).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ0Ni1kZWxucC0yMDA1LWdwYS5wZGY=" target="_blank" style="word-wrap:break-word;">2446-delnp-2005-gpa.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ0Ni1kZWxucC0yMDA1LXBjdC0xMDEucGRm" target="_blank" style="word-wrap:break-word;">2446-delnp-2005-pct-101.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ0Ni1kZWxucC0yMDA1LXBjdC0zMDYucGRm" target="_blank" style="word-wrap:break-word;">2446-delnp-2005-pct-306.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ0Ni1kZWxucC0yMDA1LVBldGl0aW9uLTEzNy0oMDItMTEtMjAxMikucGRm" target="_blank" style="word-wrap:break-word;">2446-delnp-2005-Petition-137-(02-11-2012).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjQ0Ni1kZWxucC0yMDA1LXBldGl0aW9uLTEzOC5wZGY=" target="_blank" style="word-wrap:break-word;">2446-delnp-2005-petition-138.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="259517-thermoplastic-composition.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="259519-methods-and-apparatuses-for-performing-a-handover-in-mobile-communication-system.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>259518</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>2446/DELNP/2005</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>12/2014</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>21-Mar-2014</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>14-Mar-2014</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>07-Jun-2005</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>MICROSOFT CORPORATION</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>ONE MICROSOFT WAY, REDMOND, WASHINGTON 98052, U.S.A</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>BALAJI RATHAKRISHNAN</td>
											<td>ONE MICROSOFT WAY, REDMOND, WASHINGTON 98052, U.S.A</td>
										</tr>
										<tr>
											<td>2</td>
											<td>ALEKSANDRAS SURNA</td>
											<td>ONE MICROSOFT WAY, REDMOND, WASHINGTON 98052, U.S.A</td>
										</tr>
										<tr>
											<td>3</td>
											<td>STEFANO STEFANI</td>
											<td>ONE MICROSOFT WAY, REDMOND, WASHINGTON 98052, U.S.A</td>
										</tr>
										<tr>
											<td>4</td>
											<td>OLIVER NICHOLAS SEELIGER</td>
											<td>ONE MICROSOFT WAY, REDMOND, WASHINGTON 98052, U.S.A</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>G06F 1/00</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/US2004/024522</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2004-07-29</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>10/693,302</td>
									<td>2003-10-24</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/259518-systems-and-methods-for-modifying-complex-structured-type-columns-in-a-database by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 01:39:25 GMT -->
</html>
