<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/235143-an-apparatus-for-processing-packet-of-data-and-method-thereof by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 14:38:04 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 235143:AN APPARATUS FOR PROCESSING PACKET OF DATA AND METHOD THEREOF</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">AN APPARATUS FOR PROCESSING PACKET OF DATA AND METHOD THEREOF</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>Adaptive De-Jitter Buffer for Voice over IP (VoIP) for packet switch communications. The de-jitter buffer methods and apparatus presented avoid playback of underflows while balancing end-to-end delay. In one example, the de-jitter buffer is recalculated at the beginning of each talkspurt. In another example, talkspurt packets are compressed upon receipt of all remaining packets.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>FORM 2<br>
THE PATENTS ACT, 1970<br>
(39 of 1970)<br>
&amp; <br>
The Patents Rules, 2003<br>
COMPLETE SPECIFICATION<br>
(See section 10, rule 13)<br>
"ADAPTIVE   DE-JITTER  BUFFER  FOR VOICE   OVER IP"<br>
QUALCOMM INCORPORATED of 5775 Morehouse Drive, San Diego, California   92121-1714, USA.<br>
The following specification particularly describes the invention and the manner in which it is to be performed.<br><br>
WO 2006/026635	2	PCT/US2005/030894<br>
METHOD AND APPARATUS FOR AN ADAPTIVE DEJITTER<br>
BUFFER<br>
Claim of Priority under 35 U.S.C. ยง119<br>
[0001]	The present Application for Patent claims priority to U.S.  Provisional<br>
Application No. 60/606,036, entitled "Adaptive De-Jitter Buffer For Voice Over IP for Packet Switched Communications," filed August 30, 2004, assigned to the assignee<br>
hereof.<br>
BACKGROUND<br>
Field<br>
[0002]	The  present  invention relates  to  wireless  communication  systems,  and<br>
specifically to an adaptive de-jitter buffer for Voice over Internet Protocol (VoIP) for packet switched communications. The invention applies to any system where packets may be lost.<br>
Background<br>
[0003]	In a communication system, the end-to-end delay of a packet may be defined as<br>
the time from its generation at the source to when the packet reaches its destination. In a<br>
packet-switched communication system, the delay for packets to travel from source to<br>
destination may vary depending upon various operating conditions, including but not<br>
limited to, channel conditions and network loading. Channel conditions refer to the<br>
quality of the wireless link. Some factors determining the quality of the wireless link<br>
are signal strength, speed of a mobile and/or physical obstructions.<br>
[0004]	The end-to-end delay includes the delays introduced in the network and the<br>
various elements through which the packet passes. Many factors contribute to end-to-end delay. Variance in the end-to-end delay is referred to as jitter. Jitter may cause packets to be received after the packets are no longer useful. For example, in a low latency application, such as voice, if a packet is received too late, it may be dropped by the receiver. Such conditions lead to degradation in the quality of communication.<br><br>
WO 2006/026635<br><br>
3<br><br><br>
PCT/US2005/030894<br><br>
BRIEF DESCRIPTION OF THE DRAWINGS<br>
[0005]	FIG. 1 is a block diagram of a prior art communication system, wherein an<br>
Access Terminal includes a de-jitter buffer.<br>
[0006]	FIG. 2 illustrates &amp; prior art de-jitter buffer.<br>
[0007]	FIG. 3 is a timing diagram illustrating transmission, receipt, and playback for<br>
packets resulting in an "underflow."<br>
[0008]	FIGs. 4A and 4B are timing diagrams illustrating calculation of optimal de-jitter<br>
buffer lengths in two scenarios.<br>
[0009]	FIG.       5       is       a       timing       diagram       illustrating       a      run       of<br>
"underflows" resulting from delayed packets.<br>
[0010]	FIG. 6 is a flowchart illustrating the calculation of the target de-jitter buffer<br>
length.<br>
[0011]	FIG. 7A is a timing diagram illustrating transmission of packets in a first<br>
scenario.<br>
[0012]	FIG. 7B is a tuning diagram illustrating receipt of packets without de-jitter<br>
buffer adaptation.<br>
[0013]	FIG. 7C is a timing diagram illustrating receipt of packets with de-jitter buffer<br>
adaptation, wherein the receiver may receive a packet subsequent to an expected time<br>
for the packet.<br>
[0014]	FIG. 8A is a flowchart illustrating one example of implicit buffer adaptation,<br>
which allows the receiver to receive a packet subsequent to an expected time for the<br>
packet<br>
[0015] .	FIG. 8B is a state diagram of modes of operation for an adaptive de-jitter buffer.<br>
[0016]	FIG. 9 is a timing diagram illustrating application of de-jitter buffer adaptation<br>
according to another example.<br>
[0017]	FIG. 10 is a diagram illustrating transmission of voice information in talkspurts<br>
according to one example, wherein the de-jitter buffer delay is not sufficient to avoid<br>
collision of data.<br>
[0018]	FIG.  11 is a block diagram of a communication system incorporating an<br>
adaptive de-jitter buffer.<br>
[0019]	FIG. 12 is a block diagram of a portion of a receiver including an adaptive de-<br>
jitter buffer and a time warping unit.<br><br>
WO 2006/026635		PCT/US2005/030894<br>
4<br>
[0020]	FIG. 13A illustrates one example of an adaptive de-jitter buffer, including<br>
compression and expansion thresholds.<br>
[0021]	FIG. 13B illustrates one example of an adaptive de-jitter buffer, including<br>
multiple compression and expansion thresholds.<br>
[0022]	FIG. 14 is a timing diagram illustrating time warping on receipt of packets<br>
having various delays.<br>
[0023]	FIG. 15 is a timing diagram illustrating examples: i) compression of a silence<br>
portion of a speech segment; and ii) expansion of a silence portion of a speech segment.<br>
[0024]	FIG. 16 is a timing diagram illustrating a speech signal, wherein portions of the<br>
speech signal may repeat.<br>
[0025]	FIG. 17A is a diagram illustrating a speech segment, wherein the number of<br>
PCM samples in a reference window for an add-overlap operation, referred to as<br>
RWindowSize, is identified, and wherein a target or desired segment size, referred to as<br>
Segment, is identified.<br>
[0026]	FIG. 17B is a diagram illustrating application of an add-overlap operation to<br>
compress the speech segment according to one example.<br>
[0027]	FIG. 18A is a diagram illustrating a multiple speech segments, wherein the<br>
number of PCM samples in a reference window for an add-overlap operation, referred<br>
to as RWindowSize, is identified, and wherein a target or desired segment size, referred<br>
to as Segment, is identified in preparation for expansion of a current speech segment.<br>
[0028]	FIG. 18B is a diagram illustrating application of an add-overlap operation to<br>
expand a speech sample according to one example.<br>
[0029]	FIG. 18C is a diagram illustrating application of an operation to expand a speech<br>
sample according to an alternate example.<br>
[0030]	FIG. 19 is a diagram illustrating expansion of packets to allow for the arrival of<br>
delayed packets and packets that arrive out of order as is the case in a Hybrid ARQ re<br>
transmission.<br>
[0031]	FIG. 20 is a diagram illustrating a timeline of a conversation between two users.<br>
[0032]	FIG. 21 is a flowchart illustrating enhancement at the beginning of a talkspurt<br>
according to one example.<br>
[0033]	FIG. 22 is a diagram illustrating enhancement at the beginning of a talkspurt<br>
according to an alternate example.<br>
[0034]	FIG. 23 is a diagram illustrating the enhancement of the end of talkspurts.<br><br>
WO 2006/026635<br><br>
PCT/US2005/030894<br><br>
5<br>
[0035]	FIG. 24 is a flowchart illustrating enhancement at the end of a talkspurt<br>
according to one example.<br>
[0036J	FIG. 25 is a diagram illustrating operation of a prior art de-jitter buffer and<br>
decoder system, wherein the de-jitter buffer delivers packets to the decoder at regular<br>
time intervals.<br>
[0037]	FIG. 26 is a diagram illustrating operation of an adaptive de-jitter buffer and<br>
decoder according to one example, wherein the adaptive de-jitter buffer delivers packets<br>
to the decoder at uneven time intervals.<br>
[0038]	FIG. 27 is a block diagram illustrating an Access Terminal (AT) according to<br>
one example, including an adaptive de-jitter buffer and a time warping control unit.<br>
[0039]	FIG. 28 illustrates a portion of a receiver, including an adaptive de-jitter buffer,<br>
and adapted to time warp packets according to one example.<br>
[0040]	FIG. 29 illustrates an alternate example of a receiver, including an adaptive de-<br>
jitter buffer, and adapted to time warp packets according to another example.<br>
[0041]	FIG. 30 is a flowchart illustrating one example of a scheduler in a decoder in one<br>
example of a receiver, including an adaptive de-jitter buffer, and adapted to time warp<br>
packets according to one example.<br>
[0042]	FIG. 31 is a flowchart illustrating a scheduler in an audio interface unit in one<br>
example of a receiver.<br>
[0043]	FIG. 32 illustrates the time warp unit where the scheduling is calculated outside<br>
the decoder.<br>
[0044]	FIG. 33 illustrates the time warp unit where the scheduling is calculated in the<br>
time warp unit in decoder.<br>
DETAILED DESCRIPTION<br>
[0045]	In packet-switched systems, data is formed into packets and routed through a<br>
network. Each packet is sent to a destination in the network, based on an assigned address contained within the packet, typically in a header. The end-to-end delay of packets, or the time it takes a packet to travel within the network from a first user or "sender" to a second user or "receiver" varies, depending upon channel conditions, network load, Quality of Service (QoS) capabilities of the system, and other flows competing for resources among other things. Note, for clarity the following discussion<br><br>
WO 2006/026635	PCT/US2005/030894<br>
6<br>
describes a spread-spectrum communication systems supporting packet data communications including, but is not limited to Code Division-Multiple Access (CDMA) systems, Orthogonal Frequency Division Multiple Access (OFDMA), Wideband Code Division Multiple Access (W-CDMA), Global Systems for Mobile Communications (GSM) systems, systems supporting IEEE standards, such as 802.11 (A,B,G), 802.16, etc.<br>
[0046]	In a wireless communication system, each packet may incur a source to<br>
destination delay different from that experienced by other packets belonging to the same flow. This variation in delay is known as "jitter." Jitter creates additional complications for receiver-side applications. If the receiver does not correct for jitter, the received message will suffer distortion when the packets are re-assembled. Some systems correct for jitter when reconstructing messages from the received packets. Such systems incorporate a de-jitter buffer, which adds a wait time, referred to as a de-jitter buffer delay. When the de-jitter buffer apphes a fixed, large de-jitter buffer delay, it may accommodate a high amount of jitter in arrival of packets; however;, this use is not efficient since packets having a smaller delay are also processed using the large de-jitter buffer delay even though these packets could have been processed earher. This leads to larger end-to-end delays for these packets than what may have been achieved using a smaller de-jitter buffer delay.<br>
[0047]	In order to prevent this, VoIP systems incorporating de-jitter buffers may try to<br>
adapt to changes in packet delay. For instance, a de-jitter buffer may detect changes in packet delay by analyzing packet arrival statistics. Many de-jitter buffer implementations do not adapt their delay at all and are configured to have a conservatively large delay. In this case, the de-jitter buffer may add excessive delay to packets causing a user's experience to be sub-optimal.<br>
[0048]	The following discussion describes an adaptive de-jitter buffer that adapts to<br>
changes in the packet delay behavior by changing its de-jitter buffer delay. This de-jitter buffer makes use of speech time warping to enhance its ability to track variable delay of packets. The following discussion is applicable to packetized communications, such as communications having periodic data transmission, low latency requirements, sequential processing of data, or a designate playback rate. In particular, the following discussion details a voice communication, wherein the data, or speech and silence, originate at a source and are transinitted to a destination for playback. The original data<br><br>
WO 2006/026635	7	PCT/US2005/030894<br>
is packetized and encoded using a known encoding scheme.   At the receiver, the encoding scheme is determined for each packet of data. In a speech communication, for<br>
example, the type of encoding of speech is different from the type of encoding of silence. This allows the communication system to take advantage of the periodic nature of speech, which includes silence portions. For a speech communication, the data appears bursty, and the speech content may appear repetitive. The packetized speech transmission has low latency requirements, as participants to a voice communication do not want to hear delays, but the quality of the communication allows for only limited delays. The packetized speech may take different paths to arrive at the receiver, however, on receipt the packets are recompiled in their original sequence. Therefore, the received packetized speech is played back sequentially. If a packet is lost in over the air transmission or in physical layer processing, the packet is not recovered, but the receiver may estimate or guess what the content of the packet was. Additionally, the playback rate of speech communications has a predetermined playback rate or range. If the playback is outside of the range, the quality at the receiver is degraded. The application to speech communications is an example of application of the present discussion. Other applications may include video communications, gaming communications, or other communications having characteristics, specifications and/or requirements similar to those of speech communications. For example, video communications may desire to speed up or slow down playback. The present discussion may be desirable for such use. As provided herein, an adaptive de-jitter buffer may allow a receiver to achieve a quality of service specified by the jitter requirements of the system. The adaptive de-jitter buffer adapts a target de-jitter buffer length, e.g., the amount of data stored in the de-jitter buffer, to the timing and amount of data received at the adaptive de-jitter buffer. Further, an adaptive de-jitter buffer uses the status or size of the de-jitter buffer, e.g., measure of data stored in the adaptive de-jitter buffer, to determine when time warping is beneficial for processing and playback of the received data. For example, if data is arriving at the adaptive de-jitter buffer at a slow rate, the adaptive de-jitter buffer provides this information to a time warping unit, allowing the time warping unit to expand the received packets. If the data stored in the adaptive de-jitter buffer exceeds a threshold value, the adaptive de-jitter buffer alerts the time warping unit to compress the packets so as to effectively keep up with the incoming<br>
data. Note, time warping is within liinits, which may be defined by the application and<br><br>
WO 2006/026635		PCT/US2005/030894<br>
8<br>
type of communication. For example, in speech communications, the time warping should not compress speech, i.e., increase the pitch, so that the listener is not able to understand the communication. Similarly, the time warping should not expand speech beyond the range. Ideally, the time warping range is defined to allow the listener little to no discomfort.<br>
 Communication System<br>
[0049]	FIG. 1 is a block diagram illustrating a digital communication system 50. Two<br>
Access Terminals (ATs) 52 and 82 communicate via Base Station (BS) 70. Within AT 52, transinit processing unit 64 transinits voice data to an encoder 60, which encodes and packetizes the voice data and sends the packetized data to lower layer processing unit 58. For transmission, data is then sent to BS 70. BS 70 processes the received data and transinits the data to AT 82, wherein the data is received at lower layer processing unit 88. The data is then provided to de-jitter buffer 86, which stores the data so as to conceal or reduce the impact of jitter. The data is sent from the de-jitter buffer 86 to decoder 84, and on to receive processing unit 92.<br>
[0050]	For transmission from AT 82, data/voice is provided from transinit processing<br>
unit 94 to encoder 90. Lower layer processing unit 88 processes the data for transmission to BS 70. For receipt of data from BS 70 at AT 52, data is received at lower layer processing unit 58. Packets of data are then sent to a de-jitter buffer 56, where they are stored until a required buffer length or delay is reached. Once this length or delay is attained, the de-jitter buffer 56 begins to send data to a decoder 54. The decoder 54 converts the packetized data to voice data packets and sends the packets<br>
	to receive processing unit 62.    In the present example, the behavior of AT 52 is<br>
analogous to AT 82.<br>
De-Jitter Buffer<br>
[0051]	A storage or de-jitter buffer is used in ATs, such as the ones described above, to<br>
conceal the effects of jitter. In one example, an adaptive de-jitter buffer is used for packet switched communications, such as VoIP communication. The de-jitter buffer has an adaptive buffer memory and uses speech time warping to enhance its ability to track variable delay and jitter. In this example, the processing of the de-jitter buffer is coordinated with that of the decoder, wherein the de-jitter buffer identifies an opportunity or need to time warp the packets and instructs the decoder to time warp the<br><br>
WO 2006/026635	9	PCT/US2005/030894<br>
packets. The decoder time warps the packets by compressing or expanding the packets, as instructed by the de-jitter buffer.<br>
[0052J	FIG. 2 illustrates one example of a de-jitter buffer. Incoming encoded packets<br>
are accumulated and stored in the buffer. In one example, the buffer is a First In, First Out (FIFO) buffer, wherein data is received in a particular order and processed in that same order; the first data processed is the first data received. In another example, the de-jitter buffer is an ordered list that keeps track of which packet is the next to process. The adaptive de-jitter buffer may be a memory storage unit, wherein the status of the de-jitter buffer is a measure of the data (or the number of packets) stored in the adaptive de-jitter buffer. The data processed by the de-jitter buffer may be sent to a decoder or other utility from the de-jitter buffer. The encoded packets may correspond to a fixed amount of speech data, e.g., 20 msec corresponding to 160 samples of speech data, at 8Khz sampling rate.   In one example of the present invention, the number of samples<br>
produced by the decoder, with time warping capabilities, may vary based on whether the packet is time warped or not. When the de-jitter buffer instructs the decoder/time warping to expand a packet, the decoder/time warper may produce more than 160 samples. On the other hand, when the de-jitter buffer instructs the decoder/timewarping<br>
to compress a packet, the decoder/time warping may produce less than 160 samples.<br>
Note, alternate systems may have different playback schemes, such as other than 20 ms<br>
vocoding.<br>
[0053]	Packets arriving at the de-jitter buffer may not arrive at regular intervals. One of<br>
the design goals of a de-jitter buffer therefore, is to adjust for the irregularity of incoming data. In one example of this invention, a de-jitter buffer has a target de-jitter buffer length. The target de-jitter buffer length refers to the required amount of data to be accumulated in the de-jitter buffer before starting to playback the first packet. In another example, the target de-jitter buffer length may refer to the amount of time the first packet in the de-jitter buffer needs to be delayed before being played back. The target de-jitter buffer length is illustrated in FIG. 2. By accumulating enough packets in the de-jitter buffer before starting playback of packets, the de-jitter buffer is able to playback subsequent packets at regular intervals while minimizing the potential of running out of packets. FIG. 2 illustrates a de-jitter buffer, wherein the vocoder packet first received into the de-jitter buffer is the next packet scheduled for output from the de-jitter buffer. The de-jitter buffer includes sufficient packets to achieve the required<br><br>
WO 2006/026635<br><br>
10<br><br>
PCT/US2005/030894<br><br>
de-jitter buffer delay. This way, the de-jitter buffer smooths the jitter experienced by packets and conceals the variation in packet arrival time at the receiver.<br>
10054]	FIG. 3 illustrates transmission, receipt, and playback timelines for packets in<br>
various scenarios. The first packet, PKT 1, is transinitted at time to and is played back upon receipt at time t1. Subsequent packets, PKT 2, PKT 3, and PKT 4, are transinitted at 20 ms intervals after PKT 1. In the absence of time warping, decoders playback packets at regular time intervals (e.g. 20 ms), from the first packet's playback time. For instance, if a decoder plays back packets at regular 20 ms intervals, a first received packet is played back at time t1, and subsequent packets will be played back 20 ms after time t1, 40 ms after time t1, 60 ms after time t1, etc. As illustrated in FIG. 3, the anticipated playback time (without de-jitter buffer delay) of PKT 2 is t2 = t1 + 20 ms. PKT 2 is received before its anticipated playback time, t2. Packet 3, on the other hand, is received after its anticipated playback time t3 = t2 + 20 ms. This condition is referred to as an underflow. An underflow occurs when the playback utility is ready to play a packet, but the packet is not present in the de-jitter buffer. Underflows typically cause the decoder to produce erasures and degrade playback quality.<br>
[00S5]	FIG. 3 further illustrates a second scenario, in which the de-jitter buffer<br>
introduces a delay, tdjb before the playback of the first packet. In this scenario, the de-jitter buffer delay is added to enable the playback utility to receive packets (or samples) every 20 ms. In this scenario, even though PKT 3 is received after its anticipated playback time, t3, the addition of the de-jitter buffer delay allows PKT 3 to be played 20 ms after playback of PKT 2.<br>
[0056]	PKT 1 is sent at time to, received at time ti and instead of being played back at<br>
time ti, as was done previously, is now played back at time t1 + tdjb = t1'. The playback utility plays PKT 2 at a predetermined interval, e.g. 20 ms, after PKT 1 or at time t2โ = t1 + tdjb+20 = t2 + tdjb and PKT 3 at time t3' = t3 + tdjb. The delaying of the playback by tdjb allows the third packet to be played out without an underflow being caused. Thus, as illustrated in FIG. 3, introduction of the de-jitter buffer delay may reduce underflows and prevent speech quality from being degraded.<br>
[0057]	Speech   consists   of  periods   of  talkspurts   and   silence   periods.   The<br>
expansion/compression of silence periods has minimal or no impact on speech quality. This allows the de-jitter buffer to delay the playback of the first packet differently for<br>
each talkspurt.<br><br>
WO 2006/026635	11	PCT/US2005/030894<br>
[0058]	FIGs. 4A and 4B illustrate transmission and receipt timelines for different<br>
talkspurts. Note, the amount of de-jitter buffer delay is determined to prevent underflows. This is referred to as "optimal de-jitter buffer delay." The optimal de-jitter<br>
buffer delay is related to the target de-jitter buffer length. In other words, the target de-jitter buffer length is determined to allow enough data to be stored in the buffer so packets are played back consistent with playback utility specifics. The optimal de-jitter<br>
buffer delay may be determined by the greatest end-to-end delay experienced by the system. Alternately, the optimal de-jitter buffer delay may be based on an average delay experienced by the system. Other methods for determining the optimal de-jitter buffer delay may also be implemented specific to a given criteria or system design. Further, the target de-jitter buffer length is determined so as to effect the optimal de-jitter buffer delay, and therefore, the target de-jitter buffer length may be calculated based on received packet rates, Packet Error Rate (PER) or other operating statistics.<br>
[0059]	FIGs. 4A and 4B illustrate optimal de-jitter buffer delays for two examples. As<br>
illustrated, the time between transmission and receipt of sequential packets varies over time. As PKT 3 has the longest delay from transmission to receipt, this difference is used to determine an optimal delay for de-jitter processing.<br>
[0060]	Use of a de-jitter buffer with a target de-jitter buffer length may avoid at least<br>
some underflow conditions. Referring again to FIG. 3 the second scenario obviated an underflow (occurring when the decoder expected a packet and the playback utility was ready to play a packet, but no packets were present in the packet storage buffer). Here, PKT 2 is played back after a predetermined interval, 20 ms, subsequent to ti, wherein ti is the playback time of PKT 1. While PKT 3 is scheduled or anticipated for playback at time t3, PKT 3 is not received until after time 13. In other words, the playback utility is ready to playback PKT 3 but this packet is not present in the storage buffer. Since PKT 3 is not available for playback at the anticipated time, and is not played back, there results a large amount of jitter and an underflow with respect to PKT 3. PKT 4 is played back at 14, the anticipated playback time for PKT 4. Note the anticipated time t4 is calculated from the time t3.   Since each packet may contain more than one voice<br>
packet, the loss of packets due to underflows degrades voice quality.<br>
[0061]	Another scenario for consideration involves a run of "underflows due to delayed<br>
packets" as illustrated in FIG. 5, wherein transmission, receipt and anticipated playback time of packets are illustrated in time. In this scenario, each packet is received a short<br><br>
WO 2006/026635	12	PCT/US2005/030894<br>
time after its anticipated playback time. For example, anticipated playback time for PKT 50 is to but PKT 50 is not received until time to' after to. The next packet, 51 is<br>
anticipated at time t1 but is not received until time t1 after t1 This causes a run of<br>
underflows leading to a high percentage of "delayed underflows," underflows due to a delayed packet, and thus, higher end-to-end delays.<br>
[0062]	Clearly, a de-jitter buffer which delays playback by a large amount will be<br>
successful in keeping underflows to a minimum. Such a de-jitter buffer, however, introduces a large de-jitter buffer delay into the end-to-end delay of packets. A large end-to-end delay may lead to difficulty in maintaining the flow of a conversation. Delays greater than 100 ms may cause the listening party to think that the speaking party has not finished talking. Good quality, therefore, ideally considers both avoidance of underflows and reduction of end-to-end delay. A problem exists as resolution of one problem may worsen the other. In other words, smaller end-to-end delays generally result in more underflows, and vice versa. There is therefore, a need to balance these competing goals. Specifically, there is a need for the de-jitter buffer to track and avoid underflows while reducing end-to-end delay. <br>
De-Jitter Buffer Target Length<br>
[0063]	A design goal of an adaptive de-jitter buffer is to allow the system to target a<br>
particular "underflow rate" of voice packets, while at the same time achieving low end-to-end delays. As perceived quality is a function of the percentage of underflows, the ability to target a particular percentage of underflows enables the control of voice<br>
quality. Packet underflows at the de-jitter buffer may occur when there are missing packets.  A packet may be missing when it is lost or delayed.  A lost packet causes an<br>
underflow when dropped before it reaches the receiver, such as when it is dropped somewhere in the access network, for example on the physical layer or the forward link<br>
scheduler. In this scenario, the underflow cannot be corrected by using a de-jitter buffer<br>
delay because the packet never arrives at the de-jitter buffer. Alternatively, an<br>
underflow may occur as a result of a packet that is delayed, and arrives after its<br>
playback time. In addition to tracking underflows due to delayed packets, the adaptive<br>
de-jitter buffer may also track underflows due to lost packets.<br>
[0064]	The number of underflows due to a delayed packet may be controlled by trading<br>
off underflows for de-jitter buffer delay. A value representing the target percentage of underflows due to delayed packets is referred to as "underflow target." This value is the<br><br>
WO 2006/026635	13	PCT/US2005/030894<br>
target value for operation of the de-jitter buffer and is selected so as to keep end-to-end delay within reasonable liinits. In one instance, a value of 1% (0.01) may be used as the<br>
"underflow target." Another example uses a value of 0.5% (0.005). In order to achieve<br>
an "underflow target," the de-jitter buffer delay may be adapted.<br>
[0065]	In one example of the present invention, the filtered value of percentage of<br>
underflows due to delayed packets (henceforth referred to as "delayed underflows") may be used to adapt the de-jitter buffer delay. At the end of each silence period (or beginning of each talkspurt), the de-jitter buffer delay is updated as illustrated in FIG. 6. As illustrated in FIG. 6, the algorithm specifies the following:<br>
1)	If(PERdeky<target_value then></target_value>
DEJTITER_DELAY = DEJITTER_DELAY - CONSTANT;<br>
2)	If (PERdelay &gt; TARGET_VALUE &amp;&amp; PERdelay= lastJPERdelay,) then<br>
DEJTTER_DELAY = DEJTTER_DELAY + CONSTANT;<br>
3)	Set DEJITTER_DELAY = MAX (MIN-JITTER, DEJTTTER_DELAY);<br>
AND<br>
4)	DEJTITER_DELAY = MIN(MAX_jriTER,DEJriTER_DEI^	(1)<br>
[0066]            In the present example, the initial de-jitter buffer delay may be set to a constant<br>
value such as 40 ms. The TARGETJVALUE is a targeted value of "delayed<br>
underflows" (e.g., 1%). PERdelay is a filtered value of the "delayed underflow" rate of<br>
packets where the parameters of the filter allow the TARGET_VALUE to be achieved.<br>
The lastJPERdelay is the value of PERdelay at the previous updating of the de-jitter buffer<br>
delay. DEJITTER_DELAY is the target de-jitter buffer length as defined hereinabove.<br>
In the present example, CONSTANT is equal to 20 ms. MINJITTER and<br>
MAX_JTITER are the minimum and maximum values of the de-jitter buffer delay;<br>
according to one example these are set at 20 ms and 80 ms, respectively. MINJITTER<br>
and MAXJTTTER may be estimated based on system simulation. The values<br>
(MINJITTER, MAX JITTER, CONSTANT) may be optimized depending on the<br>
communications system in which the de-jitter buffer is deployed.<br>
[0067]	PERdelay may be updated at the end of each silence period or at the beginning of<br>
each talkspurt, wherein PERdelay is calculated as:<br>
PERdelay =PER_CONSTANTxPERMv+(l-PER_CONSTANT)xCurrent_PERlUay (2)<br><br>
WO 2006/026635	14	PCT/US2005/030894<br>
[0068]	PER_CONSTANT is the time constant for the filter used to estimate PERdelay.<br>
The value for this constant determines the memory of the filter and allows the<br>
TARGET.VALUE to be achieved. Current_PERdelay is the rate of "delayed underflows"<br>
observed between the last update of PERdelay and the current update.<br>
[0069]    CurrentPERdelay is defined as the ratio of the number of delayed underflow packets to<br>
the total number of packets received between the last update of PERaeiay and the current<br>
update.<br>
^		Number of Delayed Underflows Since Last Update	. .<br>
Current	PERdelay. =		(3}<br>
Number of Packets Re ceived Since Last Update<br>
[0070]	Referring to FIG. 6, the process 100 for calculating and updating the de-jitter<br>
buffer delay begins at step 101 by initializing the DEJITER_DELAY. By comparing the PERdelay is compared to the TARGET_VALUE at step 102. If the PERdelay is less than the TARGETJVALUE, the CONSTANT value is subtracted from the DEJITTER_DELAY at step 104. If the PERdelay is larger than the TARGETJVALUE at step 102, and PERdelay is greater than TARGET_VALUE and greater than or equal to LAST_PERDELAY at step 103, is not less than last PERdelay at step 102, then processing continues to decision 108. The DEJITTER_DELAY is set to the DEJITTERDELAY plus the CONSTANT value at step 108. Continuing from step 103, if PERdelay is not greater than TARGET_VALUE and not greater than or equal to LAST_PERDELAY, processing continues to step 110. Also, continuing from step 104, the DEJITTER_DELAY is set equal to the maximum of MESF_JITTER and DEJITTER_DELAY at step 110. From step 110, processing continues to step 112 to set the DEJTTTER_DELAY equal to the minimum of MAXJITTER and DEJITER_DELAY at step 112.<br>
 Tracking Delay<br>
[0071]	The de-jitter buffer may enter a mode where it tracks delay (instead of tracking<br>
the underflow rate.) The tracked delay may be the end-to-end delay or the de-jitter buffer delay. In one instance, the de-jitter buffer enters a "track delay" mode when the target underflow rate may be easily met. This means the de-jitter buffer is able to achieve a lower underflow rate than the target underflow rate for some period of time. This period of time may be anywhere from a few hundred ms to a few sec.<br>
10072]	In this mode the de-jitter buffer has a target delay value. This is similar to the<br>
underflow target value described above. Equation (1) above may be used for targeting<br><br>
WO 2006/026635	15	PCT/US2005/030894<br>
an underflow rate may be used in an analogous manner to calculate a Target Delay<br>
value. When the de-jitter buffer enters this mode where it targets a Target Delay value,<br>
this may allow it to reduce its Target underflow rate as long as the Target Delay is being<br>
maintained.<br>
Implicit Buffer Adaptation<br>
[0073J	In some situations, the decoder may expect to play a packet, which has not yet<br>
been received. This situation is shown in FIG. 5, where the anticipated playback time of PKT 50 is to, but PKT 50 is received after this time. Similarly, PKT 51 is received after its anticipated playback time t1, PKT 52 is received after its anticipated playback time t2 and so on. It should be noted here that packets arrive fairly regularly, but because PKT 50 was received slightly after its anticipated playback time, it caused all subsequent packets also to miss their playback times. If, on the other hand, the decoder could insert an erasure at to and still playback PKT 50 at t1, it would allow all packets to meet then-playback times. By playing PKT 50 after an erasure in lieu of PKT 50 has been played, the de-jitter buffer length is effectively adapted.<br>
[0074]	Note playback of PKT 50 after its erasure may cause discontinuities, which may<br>
be removed by using a phase matching technique described in co-pending application number 11/192,231, entitled 'THASE MATCHING IN VOCODERS," filed July 7, 2005.<br>
[0075]	As illustrated in FIG. 7A, there may be gaps in receipt of packets such as the<br>
time gap between PKT 3 and PKT 4. The delay in packet arrival may be different for each packet. The de-jitter buffer may respond immediately with adjustments to compensate for the delay. As illustrated, PKT 1, PKT 2 and PKT 3 are received at times t1, t2, and t3, respectively. At time t4, it is anticipated that PKT 4 will be received, but PKT 4 has not yet arrived. It is assumed in FIG. 7A that packets are expected to be received every 20 ms. In the present illustration, PKT 2 is received 20 ms after PKT 1 and PKT 3 is received 40 ms after PKT 1. PKT 4 is expected to be received 60 ms after PKT 1 but does not arrive until 80 ms after PKT 1.<br>
[0076]	In FIG. 7B, an initial delay is introduced at the de-jitter buffer prior to playback<br>
of the first packet received, PKT 1. Here, the initial delay is Dinit. In this case, PKT 1 will be played back by the buffer at time Dh.it, PKT 2 at time Dinit + 20 ms, PKT 3 at Dinit + 40 ms, etc. In FIG. 7B, when PKT 4 fails to arrive at the expected time, Dinit + 60 ms, an erasure may be played back by the de-jitter buffer. At the next time to playback<br><br>
WO 2006/026635	16	PCT/US2005/030894<br>
a packet, the de-jitter buffer will seek to play PKT 4. If PKT 4 still has not arrived, another erasure may be sent at time Dinit + 80 ms. Erasures will continue to be played back until PKT 4 arrives at the de-jitter buffer. Once PKT 4 arrives at the de-jitter<br>
buffer, PKT 4 is then played back. Such processing results in delay, as no other packets are played back until PKT 4 is received. When the system is not able to recover, i.e., never receives PKT 4, the system may apply a reset of the process, allowing playback of packets subsequent to PKT 4 without playback of PKT 4. In the scenario described above, end-to-end delay of the de-jitter buffer has the potential of increasing as erasures may continue to be sent for a long period of time before PKT 4 arrives.<br>
[0077J	In contrast, according to an example illustrated in FIG. 7C, if a packet fails to<br>
arrive or if receipt of the packet is delayed, an erasure is played back at the expected playback time of PKT 4. This is similar to the scenario described with respect to FIG. 7B above, wherein the system waited for PKT 4. At the next playback time, if PKT 4 has still not arrived but the next packet, PKT 5 has arrived, then PKT 5 is played back. To further illustrate, suppose receipt of PKT 4 is delayed and the de-jitter buffer expects to receive PKT 4 at time Djnit + 80 ms. When PKT 4 is delayed, an erasure is played back. At time Dinit +100 ms, if PKT 4 still has not arrived, instead of playing back another erasure, PKT 5 is played back. In this second scenario, adjustments for delay are made immediately and excessive end-to-end delays in the communication network are avoided. This process may be referred to as IBA, as the size of data stored in the buffer prior to playback increases and decreases according to the receipt of data.<br>
[0078]	Implicit buffer adaptation (IBA) process 200 is illustrated by a flowchart in<br>
FIG. 8A. The process 200 may be implemented in a controller within an adaptive de-jitter buffer, such as in output controller 760 or in de-jitter buffer controller 756. The process 200 may reside in other portions within a system supporting an adaptive de-jitter buffer. At step 202, a request is received at the adaptive de-jitter buffer to provide a next packet for playback. The next packet is identified as a packet having an index i in a sequence, specifically, PKT[/]. At 204, if an Implicit Buffer Adaption (DBA) mode is enabled, processing continues to 206 to process according to IBA mode; and if IBA mode is disabled, processing continues to 226 to process without IBA mode.<br>
[0079]	If PKT [z] is received at 206, then the adaptive de-jitter buffer provides PKT [i]<br>
for playback at step 208. IBA mode is disabled at step 210 and the index, i, is incremented, i.e., (i=i+l). Further, if PKT [i] is not received at 206 and if PKT [I+1] is<br><br>
WO 2006/026635<br><br>
17<br><br>
PCT/US2005/030894<br><br>
received at 214, processing continues to step 216 to playback PKT [i+l]. IBA mode is disabled at step 218 and the index, i, is incremented twice, i.e., (i=i+ 2), at step 220.<br>
[0080]	If, at 214, PKT [I] and PKT [i+l] are not received, then the controller initiates<br>
playback of an erasure at step 222; and index i is incremented at step 224. Note, in the present example, when in IBA mode, the controller checks for up to two (2) packets in response to a request for a next packet, such as received at step 202. This effectively implements a packet window over which the controller searches for received packets. Alternate examples may implement a different window size, e.g., search for three (3)<br>
packets, which in this example would be packet sequence numbers i, i+l, and i+2.<br>
[0081]	Returning to 204, if IBA mode is not enabled, processing continues to 226 to<br>
determine if PKT [i] is received. If received, PKT [i] is provided for playback at step 228, and index, i, is incremented at step 230. If PKT [i] is not received at 226, the adaptive de-jitter buffer provides an erasure for playback at step 232. IBA mode is enabled, as PKT [i] was not received and an erasure was played back instead.<br>
[0082]	FIG. 8B is a state diagram related to DBA mode. When in normal mode 242, if<br>
the adaptive de-jitter buffer provides PKT [i] for playback, the controller stays in normal mode. The controller transitions from normal mode 242 to IBA mode 240 when an erasure is played back. Once in IBA mode 240, the controller remains there on playback of an erasure. The controller transitions from IBA mode 240 to normal mode 242 on playback of PKT [i] or PKT [i+l].<br>
[0083]	FIG. 9 is one example of a de-jitter buffer implementing IBA such as illustrated<br>
in FIGs. 8A and 8B. In the present illustration, the playback utility requests samples for playback from a decoder.  The decoder then requests packets from the de-jitter buffer<br>
sufficient to allow uninterrupted playback by the playback utility. In the present<br>
illustration the packets carry voice communications, and the playback utility plays back<br>
a sample every 20 ms. Alternate systems may provide the packetized data from the de-<br>
jitter buffer to the playback utility through other configurations, and the packetized data<br>
may be other than voice communications.<br>
[0084]	The de-jitter buffer is illustrated in FIG. 9 as a stack of packets.    In this<br>
illustration, the buffer receives PKT 49 first, and then subsequently receives PKT 50, 51, PKT 52, PKT 53, etc. The packet number in this illustration refers to a sequence of<br>
packets. In a packetized system, however, there is no guarantee the packets will be received in this order.   For clarity of understanding, in this illustration packets are<br><br>
WO 2006/026635	PCT/US2005/030894<br>
18<br>
received in the same numerical sequence as transmitted, which is also the order of playback. For illustration purposes, in FIG. 9 subsequently received packets are stacked on top of previously received packets in the de-jitter buffer; for instance, PKT 49 is stacked on top of PKT 50, PKT 51 is stacked on top of PKT 50, etc. The packet at the bottom of the stack in the de-jitter buffer is the first to be sent to the play back utility. Note also, in the present illustration, the target de-jitter buffer length is not shown.<br>
[0085]	In FIG. 9, the receipt of packets, anticipated receipt time of packets and<br>
playback time of packets is graphed versus time. The updated buffer status is illustrated each time a packet is received. For example, PKT 49 is received at time to, wherein PKT 49 is anticipated for playback at time t1. The buffer status on receipt of PKT 49 is illustrated at the top of the graph above time to, the receipt time of PKT 49. The time receipt for each packet received at the de-jitter buffer is graphed as RECEIVED. The ANTICIPATED PLAYBACK time is graphed just below the RECEIVED time. Playback times are identified as PLAYBACK.<br>
[0086]	In this example, initially the next packet for playback is PKT 49, which is<br>
anticipated to be played back at time to. The next sequential packet is expected at time<br>
t1, etc. The first packet, PKT 49 is received before the anticipated playback time of to.<br>
Therefore, PKT 49 is played back at time to as anticipated. The next packet, PKT 50, is<br>
anticipated at time t1. Receipt of PKT 50, however, is delayed, and an erasure is sent to<br>
the playback utility, in lieu of PKT 50. The delay of PKT 50 causes an underflow as<br>
previously described. PKT 50 is received after the anticipated playback time, X\, and<br>
before the next anticipated playback time, t2. Once received, PKT 50 is stored in the de-<br>
jitter buffer. Therefore, when a next request for a packet to playback at time t2 is<br>
received, the system looks for the lowest sequential packet in the de-jitter buffer; and<br>
PKT 50 is provided to the playback utility for playback at time t1. Note, using IBA,<br>
even though PKT 50 is not received in time to playback as anticipated, PKT 50 is<br>
played back later and the rest of the sequence resumed from that point. As illustrated,<br>
subsequent packets, PKT 51, PKT 52, etc. are received and played back in time to avoid<br>
further erasures.<br>
[0087]	Although it may seem like IBA increases the end-to-end delay of packets, this is<br>
actually not the case. Since IBA leads to a smaller number of underflows, the de-jitter buffer value as estimated from Equation 1 above, is maintained at a smaller value.<br><br>
WO 2006/026635	19	PCT/US2005/030894<br>
Therefore, the overall effect of IBA may be a decrease in the average end-to-end delay<br>
of packets overall.<br>
[0088]	IBA may enhance processing of communication having talkspurts. A talkspurt<br>
refers to the speech portion of a voice communication, wherein a voice communication<br>
includes speech and silence portions, consistent with normal speech patterns. In speech<br>
processing, a vocoder produces one type of packet for speech and another type for silence. The speech packets are encoded at one encoding rate, and silence is encoded at a different encoding rate. When encoded packets are received at the de-jitter buffer, the de-jitter buffer identifies the type packet from the encoding rate. The de-jitter buffer assumes a speech frame is part of a talkspurt. The first non-silence frame is the beginning of a talkspurt. The talkspurt ends when a silence packet is received. In discontinuous transmission, not all of the silence packets are transmitted, as the receiver may implement a simulated noise to account for the silence portions of the communication. In continuous transmission, all of the silence packets are transmitted and received. In one example, the de-jitter buffer adjusts the de-jitter buffer length according to the type of packets received. In other words, the system may decide to reduce the length of the de-jitter buffer required for silence portions of the communication. Note, the IBA methods may be applicable to any communications where the playback is according to a predetermined timing scheme, such as a fixed rate, etc.<br>
Time Warping<br>
[0089]	A talkspurt is generally made up of multiple packets of data.  In one example,<br>
playback of a first packet of a talkspurt may be delayed by a length equal to the de-jitter buffer delay. The de-jitter buffer delay may be determined in various ways. In one scenario, the de-jitter buffer delay may be a calculated de-jitter buffer delay, based on an algorithm such as Equation 1 above. In another scenario, the de-jitter buffer delay may be the time it takes to receive voice data equal to the length of the de-jitter buffer delay. Alternatively, the de-jitter buffer delay may be selected as the smaller of the aforementioned values. In this example, suppose the de-jitter buffer delay is calculated as 60 ms using Equation 1 and the first packet of a talkspurt is received at a first time tj. When a next packet of the talkspurt is received 50 ms after the first packet, the adaptive de-jitter buffer data is equal to the de-jitter delay, 60 ms. In other words, the time from receipt of a packet at the adaptive de-jitter buffer to playback is 60 ms. Note, the target<br><br>
WO 2006/026635	20	PCT/US2005/030894<br><br>
length of the adaptive de-jitter buffer may be set to achieve a 60ms delay. Such calculation determines how many packets are to be stored in order to meet the delay time.<br>
[0090]	The adaptive de-jitter buffer monitors the filling and emptying of data from the<br>
buffer and adjusts the output of the buffer to maintain the buffer at the target delay length, i.e., the amount of data to achieve the target delay time. When the de-jitter buffer sends the first packet of the talkspurt to playback, there is a delay equal to A, where A = MEN (de-jitter buffer delay, time taken to receive voice data equal to de-jitter delay). Subsequent packets of the talkpsurt are delayed by ฮ plus the time it takes to playback the previous packets. Thus the de-jitter buffer delay of subsequent packets of the same talkspurt is implicitly defined once the de-jitter buffer delay for the first packet has been defined. In practice, this definition of de-jitter buffer delay may require additional considerations to accommodate for situations such as those illustrated in FIG. 10.<br>
[0091J	FIG. 10 illustrates the transmission of voice information in talkspurts. Talkspurt<br>
150 is received at time to and talkspurt 154 is received at time t2. There is a silence period 152 received between talkspurt 150 and talkspurt 154 of 20 ms. Upon receipt the adaptive de-jitter buffer may store the received data and determine the delays for playback of each talkspurt. In this example, talkspurt 150 is received at the adaptive de-jitter buffer at time to, wherein the adaptive de-jitter buffer delay time is calculated as 80ms. The de-jitter buffer delay is added to the receipt time to result in a playback time. In this way, talkspurt 150 is delayed by the adaptive de-jitter buffer by 80ms before playback. Talkspurt 150 begins playback at time t1, wherein t1 = t0 + 80ms, or 80ms after talkspurt 150 is received; and completes playback at time t4. Using an algorithm such as Equation 1 to calculate the target de-jitter buffer length as above, the de-jitter buffer delay applied to talkspurt 154 is 40ms. This means the first packet of talkspurt 154 is to be played back at time t3, wherein t3 = t2+40 ms, or 40ms after talkspurt 154 is received. Playback of packet 154 at time t3, however, conflicts with playback of the last packet of talkspurt 150, which finishes playback at time t4. Therefore, the calculated de-jitter buffer delay of 40 ms (for packet 154) does not allow sufficient time for talkspurt 150 to finish playing. To avoid such conflict and allow both packets to playback correctly, the first packet of talkspurt 154 should be played after the last<br>
packet of talkspurt 150 has been played with a silence period in between. In this<br><br>
WO 2006/02663S<br><br>
21<br><br>
PCT/US2005/030894<br><br>
example, talkspurt 150 and talkspurt 154 overlap from time t3 to t4 Therefore, the playback method in this scenario is not desirable. In order to prevent overlaps between the playback of packets as described herein, there is a need to detect when the last packet of the previous talkspurt is played back. Thus, calculation of the de-jitter buffer delay for a packet may consider the playback timing of previously played back packets, so as to avoid overlap or conflict.<br>
[0092]	As described above, in one example the de-jitter buffer delay is calculated or<br>
updated at the beginning of a talkspurt. Restricting the update of the de-jitter buffer delay to the beginning of a talkspurt, however, may be limiting, as talkspurts often vary in length and operating conditions may change during a talkspurt. Consider the example of FIG. 10. Thus, there may be a need to update the de-jitter buffer delay during a talkspurt.<br>
[0093]	Note, it is desirable to control the flow of data out of the adaptive de-jitter buffer<br>
to maintain the target delay length. In this way, if the adaptive de-jitter buffer is receiving data with variable delays, the data out of the adaptive de-jitter buffer is adjusted to allow the buffer to be filled with data sufficient to meet the target adaptive de-jitter buffer length. Time warping may be used to expand packets when the adaptive<br>
de-jitter buffer is receiving insufficient packets to maintain the target delay length.<br>
Similarly, time warping may be used to compress packets when the adaptive de-jitter<br>
buffer is receiving too many packets and is storing packets above the target delay<br>
length. The adaptive de-jitter buffer may work in coordination with a decoder to time<br>
warp packets as described herein.<br>
(0094]	FIG. 11 is a block diagram of a system including two receivers communicating<br>
through a network element. The receivers are AT 252 and AT 282; as illustrated ATs 252 and 282 are adapted for communication through a BS 270. In AT 252, transmit processing unit 264 transmits voice data to an encoder 260 which digitizes the voice data and sends the packetized data to lower layer processing unit 258. Packets are then sent to BS 270. When AT 252 receives data from BS 270, the data is first processed in the lower layer processing unit 258, from which packets of data are provided to an adaptive de-jitter buffer 256. Received packets are stored in adaptive de-jitter buffer 256 until the target de-jitter buffer length is reached. Once the target de-jitter buffer length is reached, the adaptive de-jitter buffer 256 sends data to a decoder 254. In the<br>
illustrated example, compression and expansion to implement time warping may be<br><br>
WO 2006/026635	22	PCT/US2005/030894<br>
performed in the decoder 254 which converts the packetized data to voice data and sends the voice data to a receive processing unit 262. In another example of this invention, time compression and expansion (time warping) may be performed within the adaptive de-jitter buffer by a controller (not shown). The behavior of AT 282 is similar to that of AT 252. AT 282 transmits data on a path from transmit processing unit 294 to encoder 290 to lower layer processing unit 288 and finally to BS 270. AT 282 receives data on a path from lower layer processing unit 288 to adaptive de-jitter buffer 286 to decoder 284 to receive processing unit 292. Further processing is not illustrated but may affect the playback of data, such as voice, and may involve audio processing, screen displays, etc.<br>
[0095]	The de-jitter buffer equations given in Equation 1 calculate the de-jitter buffer<br>
delay at the beginning of a talkspurt. The de-jitter buffer delay may represent a specific number of packets, such as determined by talkspurts, or may represent an expected time equivalent for playback of data, such as voice data. Note here that the de-jitter buffer has a target size, and this determines the amount of data the de-jitter buffer expects to see stored at all points of time.<br>
[0096]	Variation in packet delay due to channel conditions, and other operating<br>
conditions, may lead to differences in packet arrival time at the adaptive de-jitter buffer. Consequently, the amount of data (number of packets) in the adaptive de-jitter buffer may be less or greater than the calculated de-jitter buffer delay value, DEJ1 TJL ER_DELAY. For instance, packets may arrive at the de-jitter buffer at a slower or faster rate than the packets were generated originally at the encoder. When packets arrive at the de-jitter buffer at a slower rate than expected, the de-jitter buffer may begin to deplete because incoming packets will not replenish outgoing packets at the same rate. Alternatively, if packets arrive at a faster rate than the generation rate at the encoder, the de-jitter buffer may start increasing in size because packets are not leaving the de-jitter buffer as fast as they are entering. The former condition may lead to underflows, whereas the latter condition may cause high end-to-end delays due to larger buffering times in the de-jitter buffer. The latter is important because if the end-to-end delay of the packet data system decreases (AT moves to a less loaded area or user moved to an area with better channel quality) it is desirable to incorporate this delay reduction into the playback of the speech. The end-to-end delay is an important speech<br><br>
WO 2006/026635<br><br>
23<br><br><br>
PCT/US2005/030894<br><br>
quality factor and any reduction on playback delay is perceived as an increase of conversational or speech quality.<br>
[0097]	To correct discrepancies at the de-jitter buffer between DEJITTERJDELAY and<br>
the amount of data actually present in the de-jitter buffer, one example of a de-jitter buffer employs time warping. Time warping involves expanding or compressing the duration of a speech packet. The de-jitter buffer implements time warping by expanding speech packets when the adaptive de-jitter buffer starts to deplete, and compressing speech packets when the adaptive de-jitter buffer becomes larger than DEJITTER_DELAY. The adaptive de-jitter buffer may work in coordination with a decoder to time warp packets. Time warping provides substantial improvement in speech quality without increasing the end-to-end delay.<br>
[0098]	FIG. 12 is a block diagram of an example of an adaptive de-jitter buffer<br>
implementing time warping. The physical layer processing unit 302 provides data to the data stack 304. The data stack 304 outputs packets to the adaptive de-jitter buffer and control unit 306. The Forward Link (FL) Medium Access Control (MAC) processing unit 300 provides a handoff indication to de-jitter processing unit 306. The MAC layer implements protocols for receiving and sending data on the physical layer, i.e. over the air. The MAC layer may include security, encryption, authentication, and connection information. In a system supporting IS-856, the MAC layer contains rules governing the Control Channel, the Access Channel, as well as the Forward and Reverse Traffic Channels. The target length estimator 314 provides the target de-jitter buffer length to the de-jitter buffer using the calculations given in Equation 1. Input to the target length estimator 314 includes packet arrival information and current packet error rate (PER). Note, alternate configurations may include the target length estimator 314 within the adaptive de-jitter buffer and control unit 306.<br>
[0099]	In one example, adaptive de-jitter buffer and control unit 306 further includes<br>
playback control which controls the rate of data provided for playback. From the adaptive de-jitter buffer and control unit 306, packets are sent to a Discontinuous Transmission (DTX) unit 308, wherein DTX unit 308 provides background noise information to decoder 310 when speech data is not being received. Note, the packets provided by the adaptive de-jitter buffer and control unit 306 are ready for decode processing and may be referred to as vocoder packets. The Decoder 310 decodes the packets and provides Pulse Code Modulated (PCM) speech samples to the time warping<br><br>
WO 2006/026635	24	PCT/US2005/030894<br>
unit 312. In alternate examples, the time warping unit 312 may be implemented within the decoder 310. Time warping unit 312 receives a time warping indicator from adaptive de-jitter buffer and control unit 306. The time warping indicator may be a<br>
control signal, an instruction signal or a flag. In one example, a time warp indicator may be a multistate indicator, having for instance, a compression, expansion, and no time warping. There may be different values for different compression levels and/or different expansion levels. In one example, the time warping indicator instructs the time warping unit 312 to expand or compress data. The time warping indicator indicates expand, compress, or no warping. The time warping indicator may be considered a control signal initiating action at the time warping unit 312. The time warping indicator may be a message specifying how to expand or compress the packets. The time warping indicator may identify the packets to time warp as well as which action to take, expand or compress. Still further, the time warping indicator may provide a choice of options to the time warping unit 312. During a silence interval the DTX module modifies the stream of erasures provided by the de-jitter buffer into a stream of erasures and silence frames that the decoder uses to reconstruct a more precise and higher quality background noise. In an alternate example, the time warp indicator turns time warping<br>
on and off. In still another example, the indicator identifies the amount of compression<br>
and expansion used for playback. The time warping unit 312 may modify the samples from the decoder and provides the samples to audio processing 316, which may include an interface and conversion unit, as well as an audio driver and speaker.<br>
[00100]	While the time warping indicator identifies when to compress or when to<br>
expand, there is a need to determine how much time warping to apply to a given packet. In one embodiment, the amount of time warping is fixed, wherein packets are time warped according to speech cycle, or pitch.<br>
[00101]	In one embodiment, the time warping indicator is communicated as a percentage<br>
of a target expansion or a target compression level. In other words, the time warping indicator instructs to compress by a given percent or expand by a given percent.<br>
[00102]	In one scenario, it may be necessary to recognize a known characteristic of<br>
incoming data. For example, an encoder may anticipate data of a known tone or having specific characteristics of length for instance.    In this situation, since a particular<br>
characteristic is anticipated, it would not be desirable to modify the received data using time warping. For instance, an encoder may expect incoming data to have a particular<br><br>
WO 2006/026635	24	PCT/US2005/030894<br>
tone length. However, if time warping is enabled, the length of the tone may be modified by time warping. Therefore, in this scenario, time warping should not be enabled. Tone based communications include, but are not limited to, TeleTYpewriter/Telecommunications Device for the Deaf (TTY/TDD) information, applications using keypad entries, or other applications using tone-based communications. In such communications the length of the tone carrier information, and therefore, modifying the pitch or tone length, such as compression or expansion at playback, may result in loss of that information. In TTY, TDD and other applications which enable receipt by hearing-impaired recipients, the decoder also provides the<br>
status of its inband processing of such communication. This indication is used to mask<br>
the time warping indications provided by the de-jitter buffer. If the decoder is<br>
processing packets with TTY/TDD information, time warping should be disabled. This<br>
may be done in 2 ways; providing the TTY/TDD status to the dejitter buffer controller,<br>
or providing the TTY/TDD status to the time warping unit. If the decoder TTY/TDD<br>
status is provided to the de-jitter buffer controller, the controller should not indicate any<br>
expansion or compression indication when the vocoder indicates processing of<br>
TTY/TDD. If the decoder TTY/TDD status is provided to the time warping unit, this<br>
acts as a filter and the time-warping unit does not act upon time warping indications if<br>
the decoder is processing TTY/TDD information.<br>
[00103]	In a system as illustrated in FIG. 12, the adaptive de-jitter buffer and control unit<br>
306 monitors the rate of incoming data and generates a time warp indicator when too many or too few packets are available or buffered. The adaptive de-jitter buffer and control unit 306 determines when to time warp and which action to take. FIG. 13A illustrates operation of one example of an adaptive de-jitter buffer making the time warp determinations using compression and expansion thresholds. The de-jitter buffer accumulates packets which may have arrived at irregular time intervals. The de-jitter target length estimator 314 generates a target de-jitter buffer length; the target de-jitter buffer length is then applied to the de-jitter buffer. In practice, an adaptive de-jitter buffer and control unit 306 uses the de-jitter buffer length value to make control decisions about de-jitter buffer operation and to control playback. The compression threshold and expansion threshold indicate when compression or expansion is triggered, respectively. These thresholds may be specified as a fraction of the de-jitter target length.<br><br>
WO 2006/026635		PCT/US2005/030894<br>
26<br>
[00104]	As illustrated in FIG. 13 A, the target de-jitter buffer length is given as 1/rarget-<br>
The compression threshold is given as Tcompress, and the expansion threshold is given as TExpand- When the de-jitter buffer length increases above the compression threshold, Tcompress, the de-jitter buffer indicates to the decoder that packets should be compressed.<br>
[00105]	In a similar manner, when the de-jitter buffer length depletes below the<br>
expansion threshold, TExpand, the de-jitter buffer indicates to the decoder that packets should be expanded, and effectively played back at a slower rate<br>
[00106]	A point of operation between the expansion and compression thresholds avoids<br>
underflows as well as excessive increases in end-to-end delays. Therefore, target operation is between Tcompress and TExpand- In one example, the values for expansion and compression thresholds are set to 50% and 100%, of the target value of the de-jitter buffer, respectively. While in one example, time warping may be performed inside the decoder, in alternate examples, this function may be performed outside the decoder, for instance subsequent to decoding. However, it may be simpler to time warp the signal before synthesizing the signal. If such time warping methods were to be applied after decoding the signal, the pitch period of the signal would need to be estimated.<br>
[00107]	hi certain scenarios, the de-jitter buffer length may be larger, for instance in a<br>
W-CDMA system. A time warp threshold generator may generate multiple compression and expansion thresholds. These thresholds may be calculated in response to operating conditions. Multi-level thresholds are illustrated in FIG. 13B. Tci is a first compression threshold, Tc2 is a second compression threshold and Tc3 is a third compression threshold. Also illustrated are TEI, TE2 and TES representing three different values for expansion thresholds. The thresholds may be based on a percentage of time warping (how many packets get time warped), on compressed packets, on a percentage of expanded packets or on a ratio of these two values. The number of thresholds may be changed as needed, in other words, more or less thresholds may be needed. Each one of the thresholds relates to a different compression or expansion rate, for instance, for systems requiring finer granularity, more thresholds may be used, and for coarser granularity, less thresholds may be used. TE1, TE2 and TE3, etc., may be a function of target delay length. Threshold may be changed by tracking delayed underflows and based on error statistics such as PER.<br>
[00108]	FIG. 14 illustrates playback of packets with and without time warping. In FIG.<br>
14, PKT 1 is transmitted at time t1, PKT 2 is sent at time t2, and so on. The packets<br><br>
WO 2006/026635<br><br><br>
27<br><br>
PCT/US2005/030894<br><br>
arrive at the receiver as indicated, wherein PKT 1 arrives at t2', and PKT 2 arrives at<br>
t2". For each packet, the playback time without using time warping is given as<br>
PLAYBACK WITHOUT WARPING. In contrast, the playback time using time<br>
warping is given as PLAYBACK WITH WARPING. As the present example is for<br>
real-time data, such as speech communications, the anticipated playback time of packets<br>
is at fixed time intervals. During playback, ideally each packet arrives before the<br>
anticipated playback time. If a packet arrives too late for playback at the anticipated<br>
time, there may be an impact on playback quality.<br>
[00109]	PKTs 1 and 2 are received on time, and they are played back, without time<br>
warping. PKT 3 and PKT 4 are both received at the same time, tยป\ The receipt time for both packets is satisfactory, because each packet is received before the associated anticipated playback times, t4" for PKT 3 and t5' for PKT 4. PKTs 3 and 4 are played back on time without warping. A problem arises when PKT 5 is received at time V,<br>
after the anticipated playback time. An erasure is played back in lieu of PKT 5 at the anticipated playback time. PKT 5 arrives later, after the erasure has begun playback.<br>
[00110]	In a first scenario without warping, PKT 5 is dropped and PKT 6 is received and<br>
played back at the next anticipated playback time. Note, in this case, PKT 6 was received in time for playback. In a second scenario, if PKT 5 and all packets subsequent to PKT 5 are delayed, each packet may arrive too late for anticipated playback, and result in a string of erasures. In both of these scenarios, information is lost i.e., PKT 5 is dropped in the first scenario; PKT 5 and subsequent packets are lost in the second scenario.<br>
[00111]	Alternatively, using an IBA technique allows PKT 5 to be played back the next<br>
anticipated playback time, wherein subsequent packets continue from that point. IBA prevents loss of data, however, delays the stream of packets.<br>
[00112]	Such playback without time warping may increase the overall end-to-end delay in<br>
a communication system. As illustrated in FIG. 14, inter-packet delays may result in lost information, or delays in playback.<br>
[00113]	By implementing time warping, when PKT 5 arrives after its anticipated playback<br>
time, packets are expanded and an erasure may be avoided. For instance, expanding PKT 4 may cause playback in 23 ms instead of 20 ms. PKT 5 is played back when it is received. This is sooner than it would have been played back had an erasure been sent<br>
instead (as illustrated in one alternative for the playback without time warping but with<br><br>
WO 2006/026635	28	PCT/US2005/030894<br>
IBA as described in FIG. 14.) Expanding PKT 4 instead of sending an erasure results in less degradation of playback quality. Thus, time warping provides for better overall playback quality as well as latency reduction. As illustrated in FIG. 14, packets subsequent to PKT 5 are played back earlier using time warping than if not using a time warping technique, hi this specific example, PKT 7 is played back at time t9, when time warping is used, which is earlier than without time warping.<br>
[00114]	One application of time warping to improve playback quality while considering<br>
the changing operating conditions as well as the changes in characteristics of the transmitted information in the transmission of speech. As speech characteristics vary, having talkspurts and silence periods, the target de-jitter buffer delay length and the compression and expansion thresholds for each type of data may be different.<br>
[00115]	FIG. 15 illustrates examples of "silence compression" and "silence expansion"<br>
due to differences in de-jitter delay from one talkspurt to another. In FIG. 15, the shaded regions 120, 124 and 128 represent talkspurts, while unshaded regions 122 and 126 represent silence periods of the received information. As received, talkspurt 120 begins at time ti and ends at time t2. At the receiver, de-jitter buffer delay is introduced and therefore playback of talkspurt 120 begins at time t1'. The de-jitter buffer delay is identified as the difference between time t1 and time t1. As received, silence period 122<br>
begins at time t2 and ends at time t3. The silence period 122 is compressed and played back as silence period 132 from time t2 to t3', which is less than the original time duration of the received silence period 122. Talkspurt 124 begins at time 13 and ends at time U at the source. Talkspurt 104 is played back at the receiver from time t3' to time t4'- Silence period 126 (time t4 to t5) is expanded at the receiver on playback as silence period 136, wherein (t4' - t4') is greater than (t5 - t4.) A silence period may be compressed when the de-jitter buffer needs to playback packets sooner and expanded when a de-jitter buffer needs to delay the playback of packets.    In one example,<br>
compression or expansion of silence periods causes insignificant degradation in voice<br>
quality.    Thus, adaptive de-jitter delays may be achieved without degrading voice<br>
quality.   In the example of FIG. 15, the adaptive de-jitter buffer compresses and<br>
expands the silence periods as identified and controlled by the adaptive de-jitter buffer.<br>
[00116]	Note, as used herein, time warping refers to the adaptive control of playback in<br>
response to the arrival time and length of received data.   Time warping may be<br>
implemented using compression of data on playback, expansion of data on playback, or<br><br>
WO 2006/026635<br><br>
29<br><br>
PCT/US2005/030894<br><br>
using both compression and expansion of data on playback. In one example, a threshold is used to trigger compression. In another example, a threshold is used to trigger expansion. In still another example, two triggers are used: one for compression, and one for expansion. Still other examples may employ multiple triggers, indicating various levels of time warping, e.g. fast playback at different rates.<br>
[00117]	Time warping may also be performed inside the decoder.    Techniques for<br>
performing decoder time-warping are described in co-pending application number 11/123,467, entitled 'Time Warping Frames Inside the Vocoder by Modifying the Residual," filed May 5,2005.<br>
[00118]	In one example, time warping incorporates a method for "merging"<br>
segments of speech. Merging speech segments involves comparing speech samples in at least two consecutive segments of speech and if a correlation is found between compared segments, creating a single segment of at least two consecutive segments. Merging of speech is done while attempting to preserve speech quality. Preserving speech quality and minimizing introduction of artifacts, such as sounds which degrade the quality for the user, including "clicks" and "pops," into the output speech is accomplished by carefully selecting the segment to merge. The selection of speech segments is based on segment similarity or correlation. The closer the similarity of the<br>
speech segments, the better the resulting speech quality and the lower the probability of introducing a speech artifact.<br>
[00119]	FIG. 16 illustrates a speech signal plotted over time. The vertical axis represents<br>
the amplitude of the signal; and horizontal axis represents time. Note, the speech signal has a distinctive pattern, wherein portions of the speech signal repeat over time. In this example, the speech signal includes a first segment from time t1 to t2, which repeats as a second segment during t2 to t3. When such repetition of a segment is found, one of the segments or more, such as that from time t2 to time t3, may be eliminated with tittle or effectively no impact on the playback quality of the sample.<br>
[00120]	In one example, Equation 4, as given hereinbelow, may be used to find a<br>
relationship between the two segments of speech. Correlation is a measure of the strength of the relationship between the two segments. Equation 4 provides an absolute and bounded correlation factor (from -1 to +1) as a measure of the strength of the relationship, wherein a low negative number reflects a weaker relation, i.e., less correlation, than a high positive number, which reflects a stronger relation, i.e., more<br><br>
WO 2006/026635<br><br>
30<br><br>
PCT/US2005/030894<br><br>
correlation. If application of Equation 4 indicates "good similarity," time warping is performed. If application of Equation 4 shows little similarity, artifacts may be present in a merged segment of speech. The correlation is given as:<br><br>
[00121]	In Equation 4, x and y represent the two segments of speech, m represents the<br>
window over which the correlation between the two segments is being calculated, d<br>
represents the correlation portion and i is an index. If application of Equation 4 indicates segments may be merged without introducing artifacts, merging may be done using an "add-overlap" technique. The add-overlap technique combines the compared segments and produces one speech segment out of two separate speech segments. The combination using add-overlap may be based on an equation such as Equation 5i given as:<br><br><br><br><br><br>
100122]	<br>
            The resultant samples may be Pulse Code Modulation (PCM) samples.   Each<br>
PCM sample has a predetermined format defining the bit length and format of the PCM sample. For example, a 16 bits signed number may be the format to represent a PCM sample. The add-overlap technique produced by application of Equation 5 includes weighting to provide a smooth transition between the first PCM sample of Segment 1 and the last PCM sample of Segment2. In Equation 5, "RWindowSize" is the number of PCM samples in a reference window and "OutSegment' is the size of the resulting add-overlapped segment. "WindowSize" is equal to the reference window size and "Segmentโis the target segment size. These variables are determined depending on the sampling rate, frequency content of speech and desired tradeoff between quality and computational complexity.<br><br>
WO 2006/026635	PCT/US2005/030894<br>
31<br>
[00123]	The add-overlap technique described above is illustrated in FIGs. 17A and 17B.<br>
In FIG. 17A, a speech segment made up of 160 PCM samples is shown.   In this<br>
example, RWindowSize is represented by PCM samples 0-47. In other words, PCM samples 0-47 correspond to the number of samples in the reference window of size WindowSize. Segment refers to the size of the target search area and is represented by PCM samples 10-104. In this example, PCM samples 0 - 47 are compared to samples 10-104, one PCM sample at a time, to find the best correlation between the reference samples and the target search area. The location within the target search area where maximum correlation is found is referred to as an "offset." At the point of offset, RWindowSize may be combined with the portion of Segment corresponding to the size of RWindowSize. The speech segment corresponding to PCM samples 104 - 160 is left untouched.<br>
[00124]	In FIG. 17B, the first RWindowSize samples of the speech segment are<br>
compared to subsequent portions of the speech segment one PCM sample at a time. The location where maximum correlation is found between RWindowSize and a corresponding length of samples within the target search area (Segment) is the "offset." The length of the offset is the distance from the beginning of the speech segment to the point of maximum correlation between RWindowSize and Segment. Once maximum correlation is found, RWindowSize is merged (at the point of offset) with a corresponding length Segment. In other words, add-overlap is performed by adding RWindowSize to a portion of Segment of the same lengm. This is done at the point of offset as illustrated. The rest of samples are copied from the original segment as illustrated. The resulting speech segment consists of the remaining samples copied as-is from the original speech segment, appended to the merged segment as illustrated. The resulting packet is shorter than original segment by the length of the offset. This process is referred to as speech compression. The lesser a speech segment is compressed, the lower the probability that a person may detect any degradation in quality.<br>
[00125]	Speech expansion is performed when the de-jitter buffer contains a low number<br>
of voice packets. The probability of underflows is increased if the de-jitter buffer has a low number of packets. The de-jitter buffer may feed an erasure to the decoder when an underflow occurs. This however, leads to degradation in voice quality.  In order to<br><br>
WO 2006/026635	PCT/US2005/030894<br>
32<br>
prevent such a degradation in voice quality, the playback of the last few packets in the de-jitter buffer may be delayed. This is accomplished by expanding the packets.<br>
[00126}	Speech expansion may be accomplished by repeating multiple PCM samples of<br>
a speech segment. Repeating multiple PCM samples while avoiding artifacts or pitch flatness is accomplished by working with more PCM speech samples than when speech time compression is performed. For instance, the number of PCM samples used to implement speech expansion may be double of the number of PCM samples used in speech time compression. The additional PCM samples may be obtained from the previous packet of speech played.<br>
[00127]	FIG. 18A illustrates one example of speech expansion, wherein each packet or<br>
speech segment is 160 PCM samples long and a 'โpre-expanded" speech segment is generated. In this example, two segments of speech are compared; a "current" speech segment and a "previous" speech segment. The first RWindowSize PCM samples of the current speech segment are selected as reference samples. These RWindowSize samples are compared to Segment of a previous packet of speech, wherein a point of maximum correlation (or offset) is determined. The RWindowSize PCM samples are add-overlapped with a corresponding size of Segment within the previous packet at the offset point. A pre-expanded speech segment is created by copying and appending the rest of the samples from the previous speech segment to the add-overlapped segment as illustrated in FIG. 18 A. The length of the expanded speech segment is then the length of the pre-expanded segment plus the length of the current speech segment as illustrated in FIG. 18A. In this example, the PCM samples are offset from the beginning of a speech segment.<br>
[00128]	In another example, the current packet or speech sample is expanded as<br>
illustrated in FIG. 18B. The reference samples, RWindowSize, are located at the beginning of the current speech segment. RWindowSize is compared to the rest of the current speech packet until a point of maximum correlation (offset) is located. The reference samples are add-overlapped with the corresponding PCM samples found to have maximum correlation within the current speech segment. The expanded speech segment is then created by copying the PCM samples starting at the beginning of the packet to the point of offset, appending the add-overlapped segment to this and copying<br>
and appending the remaining PCM samples, unmodified, from the current packet. The<br><br>
WO 2006/026635		PCT/US2005/030894<br>
33<br>
length of the expanded speech segment is equal to the sum of the offset plus the length of the original packet.<br>
[00129]	In another example, speech is expanded as illustrated in FIG. 18C, wherein<br>
RWindowSize is embedded within the current packet or speech segment and does not occur at the beginning of the packet. Roffset is the length of the speech segment corresponding to the distance between the beginning of the current packet to the point at which RWindowSize begins. RWindowSize is add-overlapped with the corresponding size of PCM samples in the current packet found at the point of maximum correlation. The expanded speech segment is then created by copying the PCM samples starting at the beginning of the original or a current packet and ending at the offset and appending the add-overlapped segment and the remaining PCM samples from the original packet. The length of the resulting expanded speech segment is the length of the original packet plus the offset minus Roffset samples, i.e. the number of PCM samples in Roffset as defined above. <br>
Filtered Time Warping Thresholds<br>
[00130]	To avoid oscillating decisions of compression an expansion, when the number of<br>
packets stored in the adaptive de-jitter buffer varies quickly, variables used to evaluate the status of the adaptive de-jitter buffer, i.e., number of packets stored in the adaptive de-jitter buffer, one example filters such variables over a sampling window. The status of the adaptive de-jitter buffer may refer to the number of packets stored in the adaptive de-jitter buffer or any variables used to evaluate the data stored in the adaptive de-jitter buffer. In a system supporting burst data delivery, IS-856 referred to as lxEV-DO, packet delivery to a given receiver is time division multiplexed on the forward link the receiver may receive several packets at one instance, followed by no packets for some time. This results in receipt of data in bursts at the adaptive de-jitter buffer of the receiver. The received data is effectively subject to "bundling," wherein there may be instances of two or more packets arriving close together in time. Such bundling may easily result in oscillations between expansion and compression of packets, wherein the adaptive de-jitter buffer provides time warping instructions in response to the rate of<br>
received data and the status of the buffer. For instance, consider an example wherein the calculated value (delay or length) of the de-jitter buffer is 40 ms at the beginning of a talkspurt. At a later time, the de-jitter buffer loading falls below the expansion threshold, resulting in a decision to expand a data packet.   Immediately after the<br><br>
WO 2006/026635	PCT/US2005/030894<br>
playback of this packet, a bundle of three packets arrives; the arriving data fills the de-jitter buffer size such that the compression threshold is exceeded.   This will cause<br>
packets to be compressed. Since the arrival of a bundle of packets may be followed by<br>
no packet arrivals for some time, the de-jitter buffer may again be depleted, causing<br>
packets to be expanded. This kind of toggling between expansion and compression may<br>
cause a high percentage of packets to be time warped. This is undesirable since we<br>
would like to restrict the percentage of packets whose signal information has been<br>
modified due to time warping to a small value.<br>
[00131]	One example avoids such oscillations by smoothing out the effects bundling<br>
may have on the adaptive control of the adaptive de-jitter buffer and on time warping<br>
and playback of data. This example uses average values in determining when to time<br>
warp. The averages are calculated by filtering the variables used in such calculations.<br>
In one example, the compression and expansion thresholds are determined by filtering<br>
or averaging the size of the de-jitter buffer. Note that the size of the buffer refers to the<br>
current status of the buffer.<br>
[00132]	Comparing the filtered value of the size of the buffer to the expansion threshold<br>
may result in a higher number of underflows since some packets which would have been expanded using an unaltered value, are not expanded using a filtered value. On the other hand, comparing a filtered value to the compression threshold may serve to dampen most of the oscillations (or toggling between time warp controls) with minimal<br>
or effectively no negative impact. Therefore, the compression and expansion thresholds<br>
may be treated differently.<br>
[00133]	In one example, the instantaneous value of the size of the adaptive de-jitter<br>
buffer is checked against the expansion threshold. In contrast, a filtered value of the de-jitter buffer is checked against the compression threshold. One configuration uses an Infinite Impulse Response (UK) filter to determine the average size of the adaptive de-jitter buffer, wherein the adaptive de-jitter buffer has a filtered value which may be recomputed periodically, such as once every 60 ms. The filter time constant may be derived from bundling statistics and an example for this for lxEV-DO Rev A may be 60 msec. The bundling statistics are used to derive the filter time constant because they have a strong correlation to how the instantaneous de-jitter buffer size oscillates during operation. <br>
Expansion Due to Missing Packet<br><br>
WO 2006/026635<br><br>
35<br><br>
PCT/US2005/030894<br><br>
[00134]	As noted hereinabove, the adaptive de-jitter buffer and the various methods for<br>
controlling the adaptive de-jitter buffer and controlling time warping of received data<br>
may be adapted to the specific system specifications and operating conditions. For communications systems implementing a repeat request scheme to improve performance, such as a Hybrid Automatic Repeat Request (H-ARQ) scheme, such repeat processing has implications on how a speech packet is expanded. Specifically, H-ARQ may cause packets to arrive reordered (i.e. out of order). Consider FIG. 19, illustrating a de-jitter buffer of a certain length and expansion threshold, TExpand, given as 50% of the target de-jitter buffer length. The current packet being played back has sequence number 20, PKT 20. The de-jitter buffer contains three packets having sequence numbers 21, 23 and 24, identified as PKT 21, PKT 23 and PKT 24,<br>
respectively. When a playback utility requests the next packet after playing back PKT 20, the expansion threshold does not trigger as the de-jitter buffer contains packets sufficient to maintain a buffer length at more than 50% of the calculated de-jitter buffer length. In the present example, PKT 21 is therefore not expanded. This may cause an<br>
underflow if PKT 22 does not arrive by the time PKT 21 finishes playback, as packets are played back in sequence and therefore the playback utility may not play back PKT 23 before PKT 22. Even though the expansion threshold did not trigger, one example anticipates the discontinuity in the received packets and selects to expand PKT 21 to allow more time for PKT 22 to arrive. In this way, expansion of PKT 21 may avoid a missing packet and an erasure. Thus, a packet may be expanded even if the de-jitter buffer length is above the expansion threshold TExpand-<br>
[00135]	The conditions under which packets are to be expanded may be enhanced. As<br>
described hereinabove, a packet may be expanded if the de-jitter buffer size is below the expansion threshold. In another scenario, a packet may be expanded if the packet having the next sequence number is not present in the de-jitter buffer.<br>
[00136]	As previously mentioned, the de-jitter buffer delay may be calculated at the<br>
beginning of a talkspurt. Since network conditions, including but not limited to channel conditions and loading conditions, may change during a talkspurt, particularly during a long talkspurt, one example is configured to change the de-jitter buffer delay during a talkspurt. Thus, the de-jitter buffer equations given hereinabove may be recalculated periodically, every CHANGE_JITER_TIME seconds during a talkspurt. Alternately, the variables may be recalculated on a triggering event, such as a significant change in<br><br>
WO 2006/026635	36	PCT/US2005/030894<br>
operating conditions, loading, air interface indications or other event In one example, the value of CHANGE_JITTER_TIME may be set to 0.2 sec (200 ms).<br>
[00137]	The time warping thresholds, e.g., compression and expansion thresholds may<br>
provide guidance on how to change values during talkspurts. Normal operation refers to operation of the receiver when the adaptive de-jitter buffer status is between the compression and expansion thresholds and around a target de-jitter buffer length. Each threshold acts as a trigger. When a threshold is reached or violated, the packets in the adaptive de-jitter buffer may be expanded or compressed depending on the threshold. The size of the adaptive de-jitter buffer may continue to expand or contract as it receives packets. This constant change in the size of the adaptive de-jitter buffer indicates the expansion and compression thresholds may be continuously approached during communication. In general, the system attempts to keep the adaptive de-jitter buffer size between the expansion and compression thresholds which is considered a stable state. In the stable state the size of the adaptive de-jitter buffer is not changed; and a change in the receipt of packets, and thus a change in the adaptive de-jitter buffer size, may automatically cause the compression/expansion threshold to trigger and compress/expand packets, respectively, until the new adaptive de-jitter buffer delay is achieved. In this scenario, the adaptive de-jitter buffer target delay length is updated is according to the CHANGE_JITTER_TIME. The actual size of the de-jitter buffer may not necessarily be calculated, as the de-jitter buffer size changes automatically when triggered as a result of reaching either the time warping expansion/compression thresholds. In one example, the value of CHANGE_JTTTER_TIME may be set to 0.2 sec (200 ms). <br>
HANDOFF PRE-WARPING<br>
[00138]	Handoffs are typically accompanied by loss of coverage for a short amount of<br>
time. When handoff is imminent, the AT may experience poor channel conditions and increased packet delays. One example processes handoff conditions in a special manner applying time warping to speech packets. As soon as the AT decides to handoff to a new base station, this information may be used to control the de-jitter buffer. Upon receiving this handoff signal, the AT enters a "pre-warping" mode, such as illustrated in pre-warping mode 244 of FIG. 8B. In this mode, the AT expands packets until one of two conditions is met. Under the first condition, the de-jitter buffer continues to accumulate packets and the cumulative expansion results in a de-jitter buffer size of<br><br>
WO 2006/026635<br><br>
37<br><br><br>
PCT/US2005/030894<br><br>
PRE_WARPING_EXPANSION. In other words, expansion of packets is performed until PRE_WARPING_EXPANSION is reached. Alternatively, under a second condition, a time period WARPING_T1ME has been satisfied. A timer starts on receipt of a handoff signal or outage indicator; the timer expires at WARPING_TIME. Once one of these two conditions has been satisfied, the AT exits the pre-warping mode. During the pre-warping mode, no packets are compressed unless the End_Talkspurt condition (described later) is satisfied because the de-jitter buffer will want to accumulate enough packets to send them at regular intervals to the playback utility. In an example wherein packets are expected at regular intervals, for instance 20 ms, the value of PRE_WARPING_EXPANSION may be set to 40 ms and that of WARPINGJITME to be equivalent to 100 slots (166 ms).<br>
[00139]	Handoffs are just one form of outage events.    The de-jitter buffer may<br>
implement a mechanism to handle handoffs or other types of outages.   The required information for this is how much de-jitter excess is required to handle the outage (PRE_WARPING_EXPANSION) and how long the de-jitter buffer will keep working on this outage avoidance mode (WARP1NG_TIME). <br>
COUNTING DELAYED UNDERFLOWS<br>
[00140]	Since the adaptive de-jitter buffer equations provided hereinabove are designed<br>
to target a percentage of delayed underflows, it is desirable to accurately measure the number of delayed underflows. When an underflow occurs, it is not known whether the underflow was caused due to packet delay or due to a packet dropped somewhere in the network, i.e., in transmission path. There is a need therefore, to accurately account for the type of underflow.<br>
[00141]	In one example, for communications using RTP/UDP/IP, each packet includes<br>
an RTP sequence number. Sequence numbers are used to arrange received packets in<br>
the order they were transmitted. When an underflow occurs, the RTP sequence number<br>
of the packet causing the underflow may be stored in memory, such as in a memory<br>
array. If a packet with the identified sequence number arrives later, this underflow is<br>
counted as a "delay underflow."<br>
[00142]	The "delayed underflow rate" is the ratio of the number of underflows to the<br>
number of total received packets. The number of underflows and the number of received packets are both set to zero each time the de-jitter buffer equations are updated. Enhancement to the Beginning and End of a Talkspurt<br><br>
WO 2006/026635	PCT/US2005/030894<br>
38<br>
[00143]	Consider FIG. 20 illustrating the timeline of a conversation between two users.<br>
In this graph, the vertical axes represent time. Each user transmits talkspurts and silence periods, which are then received by the other user. For clarity, the shaded block segments 400 and 410 represent talkspurts (speech segments) for User 1. The unshaded block segment 405 represents talkspurts for User 2. The areas outside of the talkspurts on the timeline represent times when the users are not talking, but may be listening to the other user or receiving a silence period. Segment 400 is played back at User 2. Once the speech segment 400 finishes playback at User 2, User 2 waits for a short interval of time before starting to speak. The beginning of User 2's first speech segment 405 is subsequently heard by User 1. The conversational Round Trip Delay (RTD) perceived by User 1 is the time gap between when User 1 stopped speaking to the time when User 1 heard the beginning of User 2's speech segment. Conversational RTD is not a one-way end-to-end delay, but is user specific and significant from the point of view of the users. For instance, if the conversational RTD is too large for User 1, it will prompt User 1 to start speaking again without waiting for User 2's speech segment to be played back. This breaks the flow of conversation and is perceived as conversational quality degradation.<br>
[00144]	The conversational RTD experienced by User 1 may be changed in different<br>
ways. In one example, the time at which the end of User l's speech segment is played back to User 2 may be changed. In a second example, the time at which the beginning of User 2's speech segment is played back to User 1 is changed. Note, the delays of only the beginning and end of talkspurts influence voice quality in a conversation. A design goal is to further reduce the delays at the beginning and end of talkspurts.<br>
[00145]	In one example, the goal is to enhance the beginning of a talkspurt   This<br>
enhancement may be accomplished by manipulating the first packet of a talkspurt of User 1 such that a listener, User 2, receives the packet sooner than if the defaults adaptive de-jitter buffer delay had been implemented. The delay applied to a packet in an adaptive de-jitter buffer may be the default adaptive de-jitter buffer delay, a calculated value, or a value selected to result in a listener receiving the packet at a particular time. In one example, the timing of a first packet of a talkspurt is varied by recalculating the adaptive de-jitter buffer delay at the beginning of each received talkspurt. When the adaptive de-jitter buffer delay applied to the first packet of a talkspurt is decreased, this first packet is expedited to the listener. When the applied<br><br>
WO 2006/026635	39	PCT/US2005/030894<br>
delay is increased, the first packet is received by a listener at a later time. The default de-jitter buffer delay for a first packet may be less than the calculated de-jitter buffer<br>
delay and vice versa. In the illustrated example, the de-jitter delay of the first packet of<br>
each talkspurt is restricted by a value referred to as MAX_BEGINNING_DELAY,<br>
which may be measured in seconds. This value may be a recalculated de-jitter buffer<br>
delay or a delay designed to result in the listener receiving the packet at a designated<br>
time. The value of MAX_BEGINNING_DELAY may be less than the actual calculated<br>
de-jitter buffer delay. When MAX_BEGINNING_DELAY is less than the calculated<br>
delay of the de-jitter buffer and is applied to the first packet of a talkspurt, subsequent<br>
packets of the talkspurt will be expanded automatically. Automatic expansion of<br>
subsequent packets occurs because a de-jitter buffer may not receive packets at the same<br>
rate that it plays back packets. As the de-jitter buffer plays back packets, the de-jitter<br>
buffer decreases in size and the expansion threshold is approached. Once the expansion<br>
threshold is reached, expansion is triggered and subsequent packets in the talkspurt are<br>
expanded until the de-jitter buffer receives enough incoming packets to exceed the<br>
expansion threshold. By implementing a MAX_BEGINNING_DELAY value, the first<br>
packet of the talkspurt is received by the listener sooner while subsequent packets are<br>
expanded. The listener is satisfied by receipt of the initial packet sooner. Enhancing<br>
the beginning of a talkspurt has the potential to increase the number of underflows by a<br>
small amount; however, an appropriate value of MAX_BEGINNINGJDELAY<br>
mitigates this effect. In one example a value of MAX_BEGINNING_DELAY is<br>
calculated as a fraction of the actual de-jitter target; as an example, a<br>
MAX_BEGINNING_DELAY value of 0.7 of the TARGET DE-JITTER BUFFER<br>
LENGTH may lead to an insignificant increase in underflows. In another example, a<br>
MAX_BEGINNING_DELAY value may be a fixed number such as 40 ms, which leads<br>
to an insignificant increase in underflows, such as for example, in a system supporting<br>
lxEV-DORevA.<br>
[00146]	Expansion of subsequent packets in a talkspurt does not degrade overall voice<br>
quality.   This is illustrated in FIG. 20, wherein User 2 receives the first packet of a talkspurt from User 1 and the initial or "one way delay" is restricted to a Td1.   As<br>
illustrated, speech segment 400 is received at User 2 without any expansion or<br>
compression, speech segment 405, however, is compressed at User 1 on receipt.<br><br>
WO 2006/026635		PCT/US2005/030894<br>
40<br>
[00147]	FIG. 21 is a flowchart illustrating the enhancement to the beginning of<br>
talkspurts. It is first determined in step 510 whether the system is in silence mode. Silence mode may correspond to a period of silence between talkspurts, or a time when packets are not being received by the de-jitter buffer. If the system is not in silence mode, the process ends. If it is in silence mode, target de-jitter length estimation is performed in step 520. Then, it is determined whether the system is enhanced in step 530. Enhancement, according to one example indicates the calculated target adaptive de-jitter length is greater than a given value, which in one example is given as an enhancement factor such as MAX_BEGINNING_DELAY; the system waits a period equal to the enhancement factor or fraction of the target length to start playing, in step 540. If the system is not enhanced, the system waits for a new target to start playback,<br>
in step 550. The value of the new target may be equal to the calculated target de-jitter<br>
buffer length or the maximum de-jitter buffer length.<br>
[00148]	FIG. 22 also illustrates enhancement to the beginning of a talkspurt.    The<br>
process 580 is illustrated starting on identification of a talkspurt. Two scenarios are considered: i) with time warping; and ii) without time warping. In this example, speech packets of 20 ms length are used. Speech packets of any length may be implemented. Here, the adaptive de-jitter buffer waits for 120 ms before playing back packets. This value is the adaptive target de-jitter buffer length and is received from an adaptive de-jitter buffer target estimator at step 582. In the present example, 120 ms is equivalent to receiving six (6) packets, each 20 ms long, without time warping. If time warping is not used at 584, six (6) packets are provided in 120 ms. In the first scenario, therefore, the de-jitter buffer will begin to play back packets after receipt of six packets. This is equivalent in time to 120 ms of delay. In the second scenario, with the implementation of time warping, the de-jitter buffer may expand the first four (4) packets received and begin playing back packets upon receipt of four (4) packets. Thus, even though the de-jitter buffer delay of 80 ms in this case is less than the estimated de-jitter buffer delay of 120 ms, potential underflows may be avoided by expanding the first few packets. In other words, playback of packets may begin sooner with time warping than without time warping. Thus, time-warping may be used to enhance the beginning of a talkspurt without affecting the number of underflows.<br>
[00149]	In another example, the end of a talkspurt may be enhanced.   This is<br>
accomplished by compressing the last few packets of a talkspurt, thus reducing the end-<br><br>
WO 2006/026635	PCT/US2005/030894<br>
to-end delay. In other words, the delay at the end of a talkspurt is made smaller and a second user hears back from a first user faster. Enhancement to the end of a talkspurt is illustrated in FIG. 23. Here, a 1/8 rate packet indicates the end of a talkspurt. This differs from full rate (rate 1), half rate (rate 1/2) or quarter rate (rate 1/4) packets, which may be used to transmit voice data. Other rate packets may also be used for transmission during silence periods or at the end of talkspurts. The implementation of 1/8 rate packets as silence indicator packets in voice communication is described further in co-pending U.S. Patent Application No. 11/123,478, priority date February 1, 2005, entitled "METHOD FOR DISCONTINUOUS TRANSMISSION AND ACCURATE REPRODUCTION OF BACKGROUND NOISE INFORMATION."<br>
[00150]	As illustrated in FIG. 23, without time warping, packets N through N+4 are<br>
played back in 100ms. By compressing the last few packets of the talkspurt, the same packets N through N+4 may be played back in 70 ms instead of 100 ms. The quality of speech may have little or effectively no degradation when time compression is implemented. Enhancement to the end of a talkspurt assumes the receiver has knowledge to identify the end of the talkspurt, and anticipate when the end is approaching.<br>
[00151]	While sending voice packets over Real-time Transport Protocol (RTP) in. one<br>
example, an "end of talkspurt" indicator may be set in the last packet of each talkspurt. When a packet is being provided to playback, the packets in the de-jitter buffer are checked for the "end of talkspurt" indicator. If this indicator is set in one of the packets and there are no missing sequence numbers between the current packet being provided to playback and the "end of talkspurt" packet, the packet being provided to the playback is compressed, as well as all future packets of the current talkspurt.<br>
[00152]	In another example, the system transitions to silence if it is in a talkspurt and<br>
either a 1/8 rate packet or a packet with the Silence Indicator Description (SID) bit set is delivered to the playback utility. A 1/8 rate packet may be detected by checking its size. The SID bit is carried in the RTP header. The system transitions to talkspurt if it is in silence, and a packet which is neither 1/8 rate nor has the SID bit set is delivered to playback. Note, in one example, adaptive de-jitter buffering methods as presented herein may be performed when the system is in the talkspurt state, and may be ignored when in a silence period.<br><br>
WO 2006/026635	PCT/US2005/030894<br>
[00153]	Note, this method may correctly discard duplicated packets that arrived late.   If<br>
a duplicated packet arrives, it will simply be discarded since the first instance of the packet was played back at the appropriate time and its sequence was not saved in the array containing the "delay underflows" candidates.<br>
[00154]	While sending voice packets over RTP in one example, an "end of talkspurt"<br>
indicator may be set in the last packet of each talkspurt. When a packet is being provided to playback, the packets in the de-jitter buffer are checked for the "end of talkspurt" indicator. If this indicator is set in one of the packets and there are no missing sequence numbers between the current packet being provided to playback and the "end of talkspurt" packet, the packet being provided to the playback is compressed, as well as all future packets of the current talkspurt.<br>
[00155]	A flowchart illustrating enhancement to the end of talkspurts according to one<br>
example is illustrated in FIG. 24. A new packet begins at step 600. In step 605, if the de-jitter buffer length is greater or equal to the compression threshold, a compression indication is generated in step 635 and the tail is provided to the new packet in step 600. In step 605, if the de-jitter buffer is not greater or equal to the compression threshold, it is determined in step 610 whether the de-jitter buffer length is smaller or equal to the expansion threshold. If it is, step 615 determines whether the tail is equal to a packet rate which may be representative of a silence period or end of talkspurt. In one example, a continuous train of 1/8 rate packets may be sent at constant intervals, e.g. 20 ms, during a silence period or at the end of a talkspurt. In FIG. 24, if it is determined in step 615 that the tail is not equal to a 1/8 rate packet, the segment is expanded in step 620 and returns to the new packet in step 600. Step 625 determines whether the tail is equal to 1/8. In step 625, if the tail is equal to 1/8 rate, a compression indication is generated in step 635. If it is not equal to 1/8 rate, then the playback is normal, without any time warping, in step 630.<br>
TIME WARP QUALITY OPTIMIZER<br>
[00156]	When a number of consecutive packets are compressed (or expanded), this may<br>
noticeably speed up (or slow down) the audio and cause degradation in quality. Such degradation may be avoided by spacing out time-warped packets, i.e., a time-warped packet is succeeded by a few non-time-warped packets before another packet is warped.<br><br>
WOB0M2C635	43	PCT/US20O5/0MKM<br>
[00157]	If the above spacing out of warped packets is applied to expansion, it can cause<br>
some packets that would otherwise be expanded to not be expanded. This can lead to underflows since expansion of packets is carried out when the de-jitter buffer is depleted of packets. Thus, in one example, the above spacing out of warped packets may be applied to compressed packets, i.e., a compressed packet may be followed by a few uncompressed packets before another packet can be compressed. The number of such packets that should not be compressed between two compressed packets may be typically set to 2 or 3. <br>
Set of Conditions to Trigger Time Warping<br>
[00158]	Described  herein  are   a  number  of conditions  to   trigger time  warping<br>
(expansion/compression) of voice packets. The following is a combined set of rules (in the form of pseudo-code) to determine whether a packet is to be compressed, to be expanded or neither.<br>
[00159]	If (in Pre-Warping (Handoff Detected) Phase and no End of Talkspurt Detected)<br>
and DEJTTTER_TARGET + PRE_WARPING EXPANSION not reached)<br>
Expand Packet<br>
End If<br>
Else<br>
If (End of Talkspurt Detected)<br>
Compress<br>
End If<br>
Else<br>
If (Compress Threshold Triggered)<br>
Compress<br>
End If<br>
Else If (Expand Threshold Triggered or Next Packet not in Queue )<br>
Expand<br>
End If<br>
End If<br>
End If.<br>
[00160]	FIG. 25 illustrates implementation of a traditional de-jitter buffer coupled with a<br>
decoder function. In FIG. 25, the packets are expected to arrive at the de-jitter buffer in<br>
20 ms intervals.   It is observed, in this example, that the packets arrive at irregular<br><br>
44<br>
                                                                                                                                                                                                                               PCT/US2005/030894<br>
intervals i.e. with jitter. The de-jitter buffer accumulates the packets until a specific de-jitter buffer length is reached such that the de-jitter buffer is not depleted once it begins<br>
to send packets out at regular intervals such as 20 ms. At the required de-jitter buffer length, the de-jitter buffer begins to playback the packets at regular intervals of 20 ms. A decoder receives these packets at regular intervals and converts each packet into 20 ms of voice per packet. Alternate examples may choose other time intervals.<br>
[00161]	FIG. 26, in comparison, illustrates an example of an adaptive de-jitter buffer<br>
supporting time warping. Here, the packets arrive at the adaptive de-jitter buffer at irregular intervals. In this case however, the target de-jitter buffer length is much smaller. This is because time warping allows packets to be expanded if the de-jitter buffer begins to deplete thus allowing time for the adaptive de-jitter buffer to become replenished. The decoder may expand packets if the adaptive de-jitter buffer begins to deplete and compress packets if the adaptive de-jitter buffer begins to accumulate too many packets. It is observed that an un-even delivery of voice packets is input into the decoder and time warping unit from the adaptive de-jitter buffer. These packets are allowed to arrive at irregular intervals because with time warping, the decoder converts each packet to a different length voice packet, depending on the arrival time of the original packet. For instance, in this example, the decoder converts each packet into 15-35 ms of voice per packet. Since packets may be played back sooner due to time warping, the required buffer size is smaller, resulting in less latency in the network.<br>
[00162]	FIG. 27 is a block diagram illustrating an AT according to one example.<br>
Adaptive de-jitter buffer 706, time warp control unit 718, receive circuitry 714, control of processor 722; memory 710, transmit circuitry 712, Decoder 708, H-ARQ Control 720, encoder 716, speech processing 724, Talkspurt ID 726, error correction 704 may be coupled together as shown in the preceding embodiments. In addition they may be coupled together via communication bus 702 shown in FIG. 27.<br>
[00163]	FIG. 28 illustrates packet processing in one example wherein packets are<br>
received by a de-jitter buffer and eventually played back by a speaker. As illustrated, packets are received at the de-jitter buffer. The de-jitter buffer sends packets and time warping information to the decoder upon packet requests from the decoder. The decoder sends samples to the output driver upon requests from the output driver.<br>
[00164]	The input controller within the de-jitter buffer keeps track of the incoming<br>
packets and indicates if there is an error in the mcoming packets. The de-jitter buffer<br><br>
WO 2006/026635		PCT/US2005/030894<br>
45<br>
may receive packets that have sequence numbers. An error may be detected by the input controller for instance, when an incoming packet has a sequence number that is lower than the sequence number of a previous packet. A classification unit, located<br>
within the input controller in FIG. 28 classifies incoming packets. Different categories defined by the classification unit may include "good packets," "delayed packets," "bad packets," etc. Also, the input control unit may compare packets and send this information to de-jitter buffer controller.<br>
[00165]	The de-jitter buffer controller illustrated in FIG. 28 receives bi-directional input<br>
from the input and output controller of the de-jitter buffer. The de-jitter buffer controller receives data from the input controller, wherein such data indicates characteristics of the incoming data such as the number of good packets received, the number of bad packets received, etc. The de-jitter buffer may use this information to determine when the de-jitter buffer needs to shrink or grow, which may result in a signal to the time warping controller to compress or expand. A Packet Error Rate (PER) unit within the de-jitter buffer controller unit calculates the PER delay. The output controller of the de-jitter buffer requests packets from the de-jitter buffer. The output controller unit of the de-jitter buffer may also indicate what was the last packet played back.<br>
[00166]	The decoder sends packet requests to the de-jitter buffer and receives packets<br>
from the de-jitter buffer upon such requests. A time warping controller unit within the decoder receives time warping control information from the output controller of the de-jitter buffer. The time warping control information indicates whether packets are to be compressed, expanded or left unmodified. The packets received by the decoder are decoded and converted to speech samples; and upon request from a buffer within an output driver, samples are sent to the output driver.   The sample requests from the<br>
output driver are received by an output controller within the decoder.<br>
Phase Matching<br>
[00167]	As noted previously, the receipt of a packet after its anticipated playback time<br>
may result in erasures being played back in lieu of the delayed packet. The receipt of erasures or missing packets at the adaptive de-jitter buffer may cause discontinuities in<br><br>
WO 2006/026635	46	PCT/US2005/030894<br>
the decoded speech. When potential discontinuities are recognized by the adaptive de-jitter buffer, the adaptive de-jitter buffer may request the decoder perform phase<br>
matching. As illustrated in FIG. 28, the adaptive de-jitter buffer 750 may include a<br>
phase match controller that receives input from the output controller 760. The phase<br>
match control information is sent to a phase match unit which may be located in the<br>
decoder 762. In one example, the phase match control information may include "phase<br>
offset" and "run length" information. The phase offset is the difference between the<br>
number of packets the decoder has decoded and the number of packets the encoder has<br>
encoded. Run length refers to the number of consecutive erasures the decoder has<br>
decoded immediately prior to decoding the current packet.<br>
[00168]	In one example, phase matching and time warping are both implemented in a<br>
decoder having common control code or software. In one example, a decoder implements waveform interpolation, wherein:<br>
a)	If no time-warping and no phase matching is used, vocoding is done<br>
using waveform_interpolation with 160 samples;<br>
b)	If time-warping is used and no phase matching, vocoding is done using<br>
waveform_interpolation_decoding with (160 +- N * Pitch Period)<br>
samples, where N may be 1 or 2.<br>
c)	If no time-warping and phase matching is used, vocoding is done using<br>
wavefoim_mterpolation_decoding with (160 - ฮ) samples, where A is the amount of Phase Matching.<br>
d)	If both Phase Matching and time-warping used, vocoding is done<br>
waveform_interpolation_decoding with (160 - ฮ +- N * Pitch Period) samples, where ฮ is the amount of Phase Matching.<br>
[00169]	A clock input to the output driver determines how frequently data is requested<br>
by the buffer within the output driver. This is the main clock in the system and may be implemented in many different ways. The dominant clock of the system may be derived by the sampling rate of the PCM samples. For example, if narrowband speech is being communicated, the system plays back 8000 PCM samples per second (8KHz). This clock may drive the rest of the system. One approach is to let the audio interface 770 request more samples from the decoder when they are needed. Another approach is to let the decoder/time warping run independently and because this module knows how<br><br>
WO 2006/026635		PCT/US2005/030894<br>
47<br>
many PCM samples were previously delivered, it knows when next to provide more samples.<br>
[00170]	A scheduler may be located in the decoder 762 or in the audio interface and<br>
control unit 810. When located in the audio interface control unit 810, the scheduler bases a next request for packets on the number of PCM samples received. When the scheduler is located in the decoder, the scheduler may request packets every t ms. For instance, the decoder scheduler may request packets every 2 ms from the adaptive de-jitter buffer 750. If time warping is not enabled in the decoder, or if the time warp unit is not located in the decoder 762, the scheduler sends a set of samples to the audio interface and control unit 770 corresponding to the exact number of samples in 1 packet. For instance, where the audio interface unit 770 requests samples every 2 ms, the output Ctrl 766 of the decoder sends 16 PCM samples (1 packet corresponds to 20 ms 160 samples of speech data, at 8Khz sampling rate.) In other words, when the time warp controller is outside the decoder, the output of the decoder is a normal packet to sample conversion. The audio interface unit 770 converts the number of samples to the number of samples it would have received had the decoder performed time warping.<br>
[00171]	In another scenario, when the time warp controller is located within the decoder,<br>
and when time warping is enabled, in compression mode, the decoder may output fewer samples; and in expansion mode, the decoder may output more samples."<br>
[00172]	FIG. 30 further illustrates a scenario where the scheduling function is done by<br>
the decoder. In step 902, the decoder requests a packet from the de-jitter buffer. The packet is received at step 904. The packet is converted into "N" samples in step 906. The "N" generated samples are delivered to the audio interface control unit in step 908, and in step 910, the next packet request is scheduled as a function of N.<br>
[00173]	FIG. 31 illustrates scheduling outside the decoder, in the audio interface and<br>
control unit. The audio interface unit first requests a set of PCM samples at step 1002. The requested PCM samples are received at step 1004, and in step 1006, the next packet request is scheduled as a function of N.<br>
[00174]	The time warp indicator may be a part of the instruction from the adaptive de-<br>
jitter buffer such as a no time warp indicator. FIG. 32 illustrates the time warp unit where the scheduling is calculated outside the decoder, for instance in the audio interface and control unit. The packet type, time warp indicator and the amount of warping to be done is input to the time warp unit<br><br>
WO 2006/026635	48	PCT/US2005/030894<br>
[00175]	FIG. 33 illustrates the time warp unit where the scheduling is calculated in the<br>
time warp unit in decoder. Input to the time warp unit includes packet type, time warp indicator and amount of warping to be done. The amount of warping and enable are input to the quality optimization unit of the time warp unit. The time warping information is output.<br>
[00176]	While the specification describes particular examples of the present invention,<br>
those of ordinary skill can devise variations of the present invention without departing from the inventive concept. For example, the teachings herein refer to circuit-switched network elements but are equally applicable to packet-switched domain network elements. Also, the teachings herein are not limited to authentication triplet pairs but can also be applied to use of a single triplet including two SRES values (one of the customary format and one of the newer format disclosed herein).<br>
[00177]	Those skilled in the art will understand that information and signals may be<br>
represented using any of a variety of different technologies and techniques. For example, data, instructions, commands, information, signals, bits, symbols, and chips that may be referenced throughout the above description may be represented by voltages, currents, electromagnetic waves, magnetic fields or particles, optical fields or particles, or any combination thereof.<br>
[00178]	Those skilled in the art will further appreciate that the various illustrative logical<br>
blocks, modules, circuits, methods and algorithms described in connection with the examples disclosed herein may be implemented as electronic hardware, computer software, or combinations of both. To clearly illustrate this interchangeability of hardware and software, various illustrative components, blocks, modules, circuits,<br>
methods and algorithms have been described above generally in terms of their<br>
functionality. Whether such functionality is implemented as hardware or software<br>
depends upon the particular application and design constraints imposed on the overall<br>
system. Skilled artisans may implement the described functionality in varying ways for<br>
each particular application, but such implementation decisions should not be interpreted<br>
as causing a departure from the scope of the present invention.<br>
[00179]	The various illustrative logical blocks, modules, and circuits described in<br>
connection with the examples disclosed herein may be implemented or performed with a general purpose processor, a digital signal processor (DSP), an application specific integrated circuit (ASIC), a field programmable gate array (FPGA) or other<br><br>
WO 2006/026635		PCT/US2005/030894<br>
49<br>
programmable logic device, discrete gate or transistor logic, discrete hardware components, or any combination thereof designed to perform the functions described herein. A general-purpose processor may be a microprocessor, but in the alternative, the processor may be any conventional processor, controller, microcontroller, or state machine. A processor may also be implemented as a combination of computing devices, e.g., a combination of a DSP and a microprocessor, a plurality of microprocessors, one or more microprocessors in conjunction with a DSP core, or any other such configuration.<br>
[00180]	The methods or algorithms described in connection with the examples disclosed<br>
herein may be embodied directly in hardware, in a software module executed by a processor, or in a combination of the two. A software module may reside in RAM memory, flash memory, ROM memory, EPROM memory, EEPROM memory, registers, hard disk, a removable disk, a CD-ROM, or any other form of storage medium known in the art. A storage medium may be coupled to the processor such that the processor can read information from, and write information to, the storage medium. In the alternative, the storage medium may be integral to the processor. The processor and the storage medium may reside in an ASIC.<br>
[00181]	The previous description of the disclosed examples is provided to enable any<br>
person skilled in the art to make or use the present invention. Various modifications to these examples will be readily apparent to those skilled in the art, and the generic principles defined herein may be applied to other examples without departing from the spirit or scope of the invention. Thus, the present invention is not intended to be limited to the examples shown herein but is to be accorded the widest scope consistent with the principles and novel features disclosed herein.<br>
[00182]	WHAT IS CLAIMED IS:<br><br>
WO 2006/026635<br><br>
50<br><br><br>
PCT/US2005/030894<br><br>
CLAIMS<br>
1.	An apparatus, comprising:<br>
a memory storage unit configured to store packets of data; and a first controller configured to compare a number of packets stored in the memory storage unit to a first time warp threshold for the memory storage unit, the first controller further adapted to generate a time warp indicator when the number of stored packets violates the first time warp threshold.<br>
2.	The apparatus as in claim 1, wherein the apparatus further comprises:<br>
an input controller configured to receive packets and store packets in the memory storage unit; and<br>
an output controller coupled to the first controller and configured to receive the time warping indicator from the first controller.<br>
3.	The apparatus as in claim 2, further comprising:<br>
means for time warping packets in response to the time warp indicator, wherein the output controller is adapted to provide the time warp indicator to the means for time warping packets.<br>
4.	The apparatus as in claim 3, wherein the first controller is further configured to compare the number of packets stored in the memory storage unit to a second time warp threshold for the memory storage unit and to generate the time warp indicator when the number of stored packets exceeds the second time warp threshold.<br>
5.	The apparatus as in claim 4, wherein the first controller is further configured to generate a first value for the time warp indicator for expansion of packets.<br>
6.	The apparatus as in claim 5, wherein the first controller is further configured to generate a second value for the time warp indicator for compression of packets.<br>
7.	The apparatus as in claim 6, wherein the first value is a first percentage of the target delay length.<br><br>
WO 2006/026635	51	PCTAJS2005/030894<br>
8.	The apparatus as in claim 7, wherein the second value is a second percentage of the target delay length.<br>
9.	The apparatus as in claim 6, wherein the first controller is further configured to generate the first value if a next sequential packet is not received within a first time period after a previous sequential packet.<br>
10.	The apparatus as in claim 6, wherein the first controller is further configured to average a status of the memory storage unit over a time window.<br>
11.	The apparatus as in claim 10, wherein the first controller is further configured to filter the number of packets stored in the memory storage unit over a time window.<br>
12.	The apparatus as in claim 11, wherein the first controller is further configured to determine a target de-jitter buffer delay length, and determine the time window as a function of the target de-jitter buffer delay length.<br>
13.	The apparatus as in claim 12, wherein the first controller is further configured to determine the target de-jitter buffer delay length as a target number of packets to be stored in the memory storage unit.<br>
14.	The apparatus as in claim 10, wherein the first controller is further configured to compare the filtered number of packets stored in the memory storage unit to the first and second time warp thresholds.<br>
15.	The apparatus as in claim 1, wherein first controller is further configured to generate the time warp indicator as an instruction to compress the packet, expand the packet, or process the packet without time warping.<br>
16.	The apparatus as in claim 1, wherein the memory storage unit is an adaptive de-jitter buffer.<br><br>
WO 2006/026635	52	PCT/US2005/030894<br>
17.	A method for processing packets of data, comprising:<br>
storing packets of data in a memory storage unit;<br>
comparing a number of packets stored in the memory storage unit to a first time warp threshold; and<br>
generating a time warp indicator when the number of packets stored in the memory storage unit violates the first time warp threshold.<br>
18.	The method as in claim 17, further comprising:<br>
in response to the time warp indicator, time warping at least one packet.<br>
19.	The method as in claim 18, further comprising:<br>
comparing the number of packets stored in the memory storage unit to a second time warp threshold; and<br>
generating a time warp indicator at a first value when the number of packets stored in the memory storage unit is less than the first time warp threshold and at a second value when the number of packets stored in the memory storage unit exceeds the second time warp threshold.<br>
20.	The method as in claim 17, further comprising:<br>
expanding a least one packet when the time warp indicator is the first value; and compressing at least one packet when the time warp indicator is a second value.<br>
21.	The method as in claim 20, further comprising:<br>
receiving a plurality of sequential packets; and<br>
add-overlapping segments of the sequential packets in response to the time warp indicator.<br>
22.      The method as in claim 21,  further wherein add-overlapping further comprises: combining at least two of the plurality of segments as:<br><br>
WO 2006/026635	PCT/US2005/030894<br>
53<br><br><br><br><br><br>
wherein OutSegment is a resultant add-overlapped segment;<br>
Segment 1 and Segment2 are the at least two of the plurality of segments to be<br>
add-overlapped;<br>
WindowSize corresponds to a first segment; and<br>
RWindowSize corresponds to a second segment.<br>
23.	The method of claim 17, further comprising:<br>
determining a first time warp threshold by tracking a number of delayed packets.<br>
24.	The method of claim 23, wherein a delayed packet is a packet received after an<br>
associated anticipated playback time of the packet.<br>
25.	The method of claim 17, further comprising:<br>
time warping at least one packet; and<br>
playing back the at least one time warped packet.<br>
26.	A computer-readable storage medium containing a set of instructions, the set of<br>
instructions comprising:<br>
an input routine for storing packets of data in a memory storage unit;<br>
a first routine for comparing the number of packets stored in the memory storage unit to a second time warp threshold; and<br>
a second routine for generating a time warp indicator at a first value when the number of packets stored in the memory storage unit is less than the first time warp threshold and at a second value when the number of packets stored in the memory storage unit exceeds the second time warp threshold.<br>
27.	An apparatus, comprising:<br>
a memory storage unit configured to store packets of data; and<br><br>
WO 2006/026635	54	PCT/US2005/030894<br>
a first controller configured to compare a number of packets stored in the memory storage unit to a first compression time warp threshold and a first expansion time warp threshold for the memory storage unit, the first controller further adapted to generate a time warp control signal indicating compression if the number of stored packets exceeds the first compression time warp threshold and to generate a time warp control signal indicating expansion if the number of stored packets exceeds the first expansion time warp threshold.<br>
28.	The apparatus as in claim 27, wherein the first controller further adapted to compare the number of packets stored to a set of compression time warp thresholds and a set of expansion time warp thresholds, wherein each of the set of compression time warp thresholds and each of the set of expansion time warp thresholds correspond to unique percentages of a target delay length for the memory storage unit.<br>
29.	The apparatus as in claim 27, wherein the first controller is further configured to generate the time warp control signal for expansion if a next sequential packet is received after an anticipated playback time for the next sequential packet.<br>
30.	The apparatus as in claim 29, wherein the first controller is further configured to average a status of the memory storage unit over a time window before comparing the number of stored packets to time warp thresholds.<br>
31.	The apparatus as in claim 30, wherein the first controller is further configured to filter the number of packets stored in the memory storage unit over a time window.<br>
32.	The apparatus as in claim 31, wherein the first controller is further configured to determine a target delay length, and determine the time window as a function of the target delay length.<br>
33.	The apparatus as in claim 32, wherein the first controller is further configured to determine the target delay length as a target number of packets to be stored in the memory storage unit.<br><br>
WO 2006/026635		PCT/US2005/030894<br>
55<br>
34.	The apparatus as in claim 30, wherein the first controller is further configured to compare an average number of packets stored in the memory storage unit to time warp thresholds.<br>
35.	The apparatus as in claim 27, wherein the first controller is further configured to generate the time warp control signal is a multi-state control signal.<br>
36.	The apparatus as in claim 35, wherein the first controller is further configured to determine a target delay length for the memory storage unit, wherein the memory storage unit is an adaptive de-jitter buffer, and wherein the target delay length is a target de-jitter buffer delay.<br>
37.	An apparatus, comprising:<br>
a memory storage unit configured to store packets of data; and<br>
a first controller adapted to determine a target delay length for the memory<br>
storage unit, and to initiate compression of at least one packet when a number of stored<br>
packets exceeds the target delay length.<br>
38.	The apparatus as in claim 37, wherein the first controller is further configured to maintain a given percentage of underflows due to delayed packets.<br>
39.	The apparatus as in claim 38, wherein the first controller is further configured to calculate the target delay length as:<br>
If (PERdelay 
DEJITTER_DELAY = DEJITTER_DELAY - CONSTANT; If (PERdday &gt; TARGETJVALUE &amp;&amp; PERdelay &gt;= last_PERdelay) then<br>
DEJITTER_DELAY = DEJITTER_DELAY + CONSTANT;<br>
Set DEJITTER_DELAY = MAX (MESLJTTTER, DEJITTER_DELAY);<br>
and DEJfTTER_DELAY = MIN (MAXJITTER, DEJITTER_DELAY),<br><br>
WO 2006/026635		PCT/US2005/030894<br>
56<br>
wherein PERdelay is a rate of underflows due to delayed packets, TARGET_VALUE is a targeted rate of delayed packets, DEJTTTER_DELAY is the target delay length of the<br>
adaptive de-jitter buffer, CONSTANT is a pre-defined value, and MAXJITTER and<br>
MIN_JITTER are pre-defined values representing the maximum and minimum target delay lengths respectively.<br>
40.	The apparatus as in 39, wherein the first controller is configured to calculate the<br>
PERdelay as:<br>
PERdelay = PER_CONSTANTxPERdelay + (1- PER _CONSTANT)x Current _PERMvy<br>
wherein PERCONSTANT is the time constant for the filter used to estimate PERdelay<br>
41.	The apparatus as in claim 40, wherein the first controller comprises:<br>
a packet error calculation unit configured to calculate the Current_PERdetay as a rate of delayed packets, wherein delayed packets are received after an anticipated playback time, and wherein the Current-PERdelay.<br>
42.	The apparatus as in claim 41, wherein the packet error calculation unit is<br>
configured to calculate the Current_PERdelay as a ratio of delayed packets to total<br>
packets received, including delayed packets, measured from a last update of PERdelay to a current update, and calculated as:<br><br>
43.	The apparatus as in claim 42, wherein the first controller is configured to identify a first portion of received packets, wherein the first portion corresponds to a talkspurt, and wherein the talkspurt comprises a plurality of sequential packets.<br>
44.	The apparatus as in claim 43, wherein the first controller is configured to identify the first portion by encoding of the first portion.<br>
45.	The apparatus as in claim 44, wherein the first controller is configured to determine an anticipated playback time for a first packet of the talkspurt, and to initiate playback of the first packet of the talkspurt before the anticipated playback time.<br><br>
WO 2006/026635	57	PCT/US2005/030894<br>
46.	The apparatus as in claim 45, the first controller further configured to initiate<br>
expansion of subsequent packets after playback of the first packet.<br>
47.	The apparatus as in claim 46, wherein the first controller is configured to identify the beginning and the end of a talkspurt.<br>
48.	The apparatus as in claim 47, wherein the first controller is configured to identify an end portion of the talkspurt, and compress at least one packet in the end portion of the talkspurt.<br>
49.	The apparatus as in claim 48, wherein the first controller is configured to identify the end portion of the talkspurt by an encoding rate of received packets.<br>
50.	The apparatus as in claim 49, wherein the first controller is configured to identify the end portion of the talkspurt by a silence indicator.<br>
51.	The apparatus as in claim 50, wherein the first controller is configured to identify the end portion of the talkspurt by an end-of- talkspurt indicator.<br>
56.      A method for processing packetized data, comprising:<br>
storing packets of data in a memory storage unit;<br>
determining a target delay length for the memory storage unit;<br>
evaluating a status of the memory storage unit with respect to the target delay length, wherein the status of the memory storage unit is a measure of data stored in the memory storage unit; and<br>
initiating time warping of at least one packet from the memory storage unit if the status of the memory storage violates the target delay length.<br>
57.      The method of claim 52, further comprising: calculating the target delay length as:<br>
If (PERdelay 
 <br>
WO 2006/026635	56	PCT/US2005/030894<br>
DEJITTER_DELAY = DEJITTER_DELAY - CONSTANT; If (PERdelay &gt; TARGETJVALUE &amp;&amp; PERdelay &gt;= last_PERdelay) then<br>
DEJITTER_DELAY = DEJITTER_DELAY + CONSTANT; Set DEJITTER_DELAY = MAX (MIN-JTTTER, DEJITTER_DELAY);<br>
and<br>
DEJITTER_DELAY = MIN (MAXJITTER, DEJTTTER_DELAY), wherein PERdelay is a rate of underflows due to delayed packets, the TARGET_VALUE is a targeted rate of delayed packets, the DEJITTER_DELAY is the target delay length of the adaptive de-jitter buffer, the CONSTANT is a pre-defined value, and the MAXJITTER and MINJTTTER are pre-defined values which are the maximum and minimum target delay lengths respectively.<br>
54.	The method as in claim 53, further comprising: generating a time warp control signal; receiving a plurality of sequential packets; and add-overlapping segments in response to the time warp control signal.<br>
55.	The method as in claim 54, wherein the add-overlapping comprises: combining at least two of the plurality of segments as:<br><br><br><br><br>
wherein OutSegment is a resulting add-overlapped segment, Segment1 and Segment2 are the segments to be add-overlapped, WindowSize corresponds to a first segment, and RWindowSize corresponds to a second segment.<br>
56.       The method of claim 55, wherein the add-overlapping further comprises:<br>
identifying a portion of maximum correlation between the first segment and the<br>
second segment.<br><br>
WO 2006/026635	59	PCT/US2005/030894<br>
57.	The method of claim 56, wherein identifying the portion of maximum<br>
correlation between the first segment and the second segment further comprises:<br>
identifying the portion of maximum correlation by calculating maximum correlation as:<br><br>
wherein x represents the first segment, y represents the second segment of speech,<br>
m represents the correlation window, i is an index value, and d represents the correlation portion.<br>
58.	The method as in claim 52, further comprising:<br>
time warping a plurality of sequential packets;<br>
inhibiting time warping for at least one sequential packet, wherein the at least one sequential packet is subsequent to the plurality of sequential packets; and<br>
enabling time warping subsequent to the at least one sequential packet.<br>
59.	The method as in claim 52, further comprising:<br>
calculating a time warping rate, wherein the time warping rate is a number of time warped packets over a time window; and<br>
initiating time warping of packets as a function of the time warping rate.<br>
60.	A computer-readable storage medium containing a set of instructions, the set of<br>
instructions comprising:<br>
an input routine for storing packets of data in a memory storage unit; a target delay length calculation routine for determining a target delay length for the memory storage unit;<br>
a first routine for evaluating a status of the memory storage unit with respect to<br>
the target delay length, wherein the status of the memory storage unit is a measure of<br>
data stored in the memory storage unit; and<br><br>
WO 2006/026635	60	PCT/US2005/030894<br>
a second routine initiating time warping of at least one packet from the memory storage unit if the status of the memory storage violates the target delay length.<br>
61.	An apparatus, comprising:<br>
a buffer memory storage unit configured to store packets of data; and<br>
means for buffer adaptation configured to compare sequence identifiers of<br>
received packets of data to a playback sequence, the first controller configured to select<br>
at least one of the received packets for playback.<br>
62.	The apparatus as in claim 1, wherein the means for buffer adaptation is further configured to initiate playback of an erasure if an anticipated packet having an anticipated playback sequence identifier is not received, wherein the erasure is played back at an anticipated playback time for the anticipated packet.<br>
63.	The apparatus as in claim 61, wherein the means for buffer adaptation is further configured to:<br>
determine a next anticipated playback time;<br>
compare sequence identifiers of received packets to a plurality of sequence<br>
identifiers, including the anticipated playback sequence identifier; and initiate playback of an erasure if the anticipated packet and the next sequential<br>
packet are not received, wherein the erasure is played back at a next<br>
anticipated playback time for the anticipated packet.<br>
64.	An apparatus, comprising:<br>
a time warp control unit coupled to the decoder, the time warp unit adapted to receive a time warp indicator and to initiate time warping of at least one packet in response to the time warp indicator,<br>
decode circuitry coupled to the time warp control unit, the decode circuitry is configured to generate a set of samples from a received packet of data, the decode circuitry is further configured to generate a first set of samples in response to a first value of the time warp indicator and a second set of samples in response to a second value of the time warp indicator; and<br><br>
WO 2006/026635	61	PCT/US2005/030894<br>
an output control unit coupled to the time warp control unit, the output control unit configured to output samples.<br>
65.	The apparatus as in claim 64, wherein the apparatus further comprises:<br>
decode circuitry, coupled to the time warp unit and configured to decode<br>
received packets; and<br>
an output controller coupled to the decoder and the time warp control unit, the output controller configured to output packets as determined by the time warp control unit.<br>
66.	The apparatus as in claim 65, wherein the time warp control unit is configured to find approximate redundancies in packet content.<br>
67.	The apparatus as in claim 66, wherein the time warp control unit is configured to repeat redundancies to expand packets and reduce redundancies to compress packets.<br>
68.	The apparatus as in claim 67, wherein the redundancies are repeating portions of a speech signal.<br>
69.	The apparatus as in claim 68, wherein the first set of samples is generated for compression of a packet and the second set of samples is generated for expansion, and<br>
wherein the first set of samples is smaller than the second set of samples.<br>
70.	The apparatus as in claim 69, wherein the time warp indicator is a multi-state indicator, and wherein a first value corresponds to compression, a second value corresponds to expansion, and a third value corresponds to processing with no time warping.<br>
71.	The apparatus as in claim 70, wherein in response to a third value of the time warp indicator, the decode circuitry generates a third set of samples, wherein the third set of samples is greater than the first set of samples and less than the second set of samples.<br><br>
WO 2006/026635	62	PCT/US2005/030894<br>
72.	The apparatus as in claim 71, wherein a fourth value of the time warp indicator corresponds to a second compression level, wherein in response to receiving the fourth value, the decode circuitry generates a fourth set of samples less than the first set of samples.<br>
73.	The apparatus as in claim 72, wherein a fifth value of the time warp indicator corresponds to a second expansion level, wherein in response to receiving the fifth value, the decode circuitry generates a fifth set of samples greater than the second set of samples.<br>
74.	An apparatus, comprising:<br>
a time warp control unit configured to receive samples of decoded packets, the time warp unit adapted to receive a time warp indicator and to initiate time warping of at least one packet in response to the time warp indicator, the time warp control unit is configured to generate convert a plurality of received samples to generate a set of output samples, the time warp control unit is further configured to convert received samples into a first set of output samples in response to a first value of the time warp indicator and into a second set of samples in response to a second value of the time warp<br>
indicator, wherein the first set of output samples is less than the second set of samples.<br>
75.	The apparatus as in claim 74, wherein the first set of output samples are compressed from the received samples and the second set of samples are expanded from the received samples.<br>
76.	The apparatus as in claim 75, wherein the time warp control unit is configured to find approximate redundancies in packet content.<br>
77.	The apparatus as in claim 76, wherein the time warp control unit is configured to repeat redundancies to expand packets and reduce redundancies to compress packets.<br>
78.	The apparatus as in claim 77, wherein the redundancies are repeating portions of a speech signal.<br><br>
WO 2006/026635	63	PCT/US2005/030894<br>
79.	The apparatus as in claim 78, wherein the first set of samples is generated for compression of a packet and the second set of samples is generated for expansion, and wherein the first set of samples is smaller than the second set of samples.<br>
80.	The apparatus as in claim 79, wherein the time warp indicator is a multi-state indicator, and wherein a first value corresponds to compression, a second value corresponds to expansion, and a third value corresponds to processing with no time warping.<br>
81.	The apparatus as in claim 80, wherein in response to a third value of the time warp indicator, the decode circuitry generates a third set of samples, wherein the third set of samples is greater than the first set of samples and less than the second set of samples.<br>
82.	The apparatus as in claim 81, wherein a fourth value of the time warp indicator corresponds to a second compression level, wherein in response to receiving the fourth value, the decode circuitry generates a fourth set of samples less than the first set of samples.<br>
83.	The apparatus as in claim 82, wherein a fifth value of the time warp indicator corresponds to a second expansion level, wherein in response to receiving the fifth value, the decode circuitry generates a fifth set of samples greater than the second set of samples.<br>
84.	A method for processing packetized data, comprising:<br>
receiving a time warp indicator;<br>
initiating time warping of at least one packet in response to the time warp indicator;<br>
generating a set of samples from a received packet of data, comprising:<br>
generating a first set of samples in response to a first value of the time warp indicator; and<br>
generating a second set of samples in response to a second value of the<br>
time warp indicator; and<br><br>
WO 2006/026635	64	PCT/US2005/030894<br>
outputting the set of samples.<br>
85.     A computer-readable medium for storing a set of instructions, the set of instructions comprising:<br>
a first routine for receiving a time warp indicator;<br>
a second routine for initiating time warping of at least one packet in response to the time warp indicator,<br>
a third routine for generating a set of samples from a received packet of data, comprising:<br>
a fourth routine for generating a first set of samples in response to a first value of the time warp indicator;<br>
a fifth routine for generating a second set of samples in response to a second value of the time warp indicator, and<br>
a sixth routine for outputting the set of samples.<br><br>
65<br>
ABSTRACT<br>
ADAPTIVE DE-JITTER BUFFER FOR VOICE OVER IP<br>
Adaptive De-Jitter Buffer for Voice over IP (VoIP) for packet switch communications. The de-jitter buffer methods and apparatus presented avoid playback of underflows while balancing end-to-end delay. In one example, the de-jitter buffer is recalculated at the beginning of each talkspurt. In another example, talkspurt packets are compressed upon receipt of all remaining packets.<br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctQUJTVFJBQ1QoMjItNC0yMDA5KS5wZGY=" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-ABSTRACT(22-4-2009).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctQUJTVFJBQ1QoNS0zLTIwMDcpLnBkZg==" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-ABSTRACT(5-3-2007).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctQUJTVFJBQ1QoQU1FTkRFRCktKDIyLTQtMjAwOSkucGRm" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-ABSTRACT(AMENDED)-(22-4-2009).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctQUJTVFJBQ1QoR1JBTlRFRCktKDI2LTYtMjAwOSkucGRm" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-ABSTRACT(GRANTED)-(26-6-2009).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLW11bW5wLTIwMDctYWJzdHJhY3QuZG9j" target="_blank" style="word-wrap:break-word;">321-mumnp-2007-abstract.doc</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLW11bW5wLTIwMDctYWJzdHJhY3QucGRm" target="_blank" style="word-wrap:break-word;">321-mumnp-2007-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctQ0FOQ0VMTEVEIFBBR0VTKDIyLTQtMjAwOSkucGRm" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-CANCELLED PAGES(22-4-2009).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctQ0xBSU1TKDIyLTQtMjAwOSkucGRm" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-CLAIMS(22-4-2009).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctQ0xBSU1TKDUtMy0yMDA3KS5wZGY=" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-CLAIMS(5-3-2007).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctQ0xBSU1TKEdSQU5URUQpLSgyNi02LTIwMDkpLnBkZg==" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-CLAIMS(GRANTED)-(26-6-2009).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLW11bW5wLTIwMDctY2xhaW1zLnBkZg==" target="_blank" style="word-wrap:break-word;">321-mumnp-2007-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctQ09SUkVTUE9OREVOQ0UgMSgxMC04LTIwMTApLnBkZg==" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-CORRESPONDENCE 1(10-8-2010).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctQ09SUkVTUE9OREVOQ0UoMjItNC0yMDA5KS5wZGY=" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-CORRESPONDENCE(22-4-2009).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctQ09SUkVTUE9OREVOQ0UoMjMtNy0yMDA3KS5wZGY=" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-CORRESPONDENCE(23-7-2007).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctQ09SUkVTUE9OREVOQ0UoSVBPKS0oMTAtMi0yMDEyKS5wZGY=" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-CORRESPONDENCE(IPO)-(10-2-2012).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLW11bW5wLTIwMDctY29ycmVzcG9uZGVuY2UtcmVjZWl2ZWQucGRm" target="_blank" style="word-wrap:break-word;">321-mumnp-2007-correspondence-received.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLW11bW5wLTIwMDctZGVzY3JpcHRpb24gKGNvbXBsZXRlKS5wZGY=" target="_blank" style="word-wrap:break-word;">321-mumnp-2007-description (complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctREVTQ1JJUFRJT04oQ09NUExFVEUpLSgyMi00LTIwMDkpLnBkZg==" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-DESCRIPTION(COMPLETE)-(22-4-2009).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctREVTQ1JJUFRJT04oQ09NUExFVEUpLSg1LTMtMjAwNykucGRm" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-DESCRIPTION(COMPLETE)-(5-3-2007).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctREVTQ1JJUFRJT04oR1JBTlRFRCktKDI2LTYtMjAwOSkucGRm" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-DESCRIPTION(GRANTED)-(26-6-2009).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctRFJBV0lORygyMi00LTIwMDkpLnBkZg==" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-DRAWING(22-4-2009).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctRFJBV0lORyg1LTMtMjAwNykucGRm" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-DRAWING(5-3-2007).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctRFJBV0lORyhHUkFOVEVEKS0oMjYtNi0yMDA5KS5wZGY=" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-DRAWING(GRANTED)-(26-6-2009).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLW11bW5wLTIwMDctZHJhd2luZ3MucGRm" target="_blank" style="word-wrap:break-word;">321-mumnp-2007-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctRk9STSAxKDUtMy0yMDA3KS5wZGY=" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-FORM 1(5-3-2007).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctRk9STSAxKDktNi0yMDA5KS5wZGY=" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-FORM 1(9-6-2009).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctRk9STSAxNig5LTYtMjAxMCkucGRm" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-FORM 16(9-6-2010).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLW11bW5wLTIwMDctZm9ybSAyKDIyLTQtMjAwOSkucGRm" target="_blank" style="word-wrap:break-word;">321-mumnp-2007-form 2(22-4-2009).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctRk9STSAyKENPTVBMRVRFKS0oNS0zLTIwMDcpLnBkZg==" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-FORM 2(COMPLETE)-(5-3-2007).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctRk9STSAyKEdSQU5URUQpLSgyNi02LTIwMDkpLnBkZg==" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-FORM 2(GRANTED)-(26-6-2009).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctRk9STSAyKFRJVExFIFBBR0UpLSgyMi00LTIwMDkpLnBkZg==" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-FORM 2(TITLE PAGE)-(22-4-2009).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctRk9STSAyKFRJVExFIFBBR0UpLSg1LTMtMjAwNykucGRm" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-FORM 2(TITLE PAGE)-(5-3-2007).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctRk9STSAyKFRJVExFIFBBR0UpLShHUkFOVEVEKS0oMjYtNi0yMDA5KS5wZGY=" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-FORM 2(TITLE PAGE)-(GRANTED)-(26-6-2009).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctRk9STSAyNigyMi00LTIwMDkpLnBkZg==" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-FORM 26(22-4-2009).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctRk9STSAyNigzLTgtMjAxMCkucGRm" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-FORM 26(3-8-2010).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctRk9STSAyNig1LTMtMjAwNykucGRm" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-FORM 26(5-3-2007).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctRk9STSAzKDIyLTQtMjAwOSkucGRm" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-FORM 3(22-4-2009).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctRk9STSAzKDIzLTctMjAwNykucGRm" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-FORM 3(23-7-2007).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctRk9STSAzKDUtMy0yMDA3KS5wZGY=" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-FORM 3(5-3-2007).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctRk9STSA1KDUtMy0yMDA3KS5wZGY=" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-FORM 5(5-3-2007).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLW11bW5wLTIwMDctZm9ybS0xLnBkZg==" target="_blank" style="word-wrap:break-word;">321-mumnp-2007-form-1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLW11bW5wLTIwMDctZm9ybS0xOC5wZGY=" target="_blank" style="word-wrap:break-word;">321-mumnp-2007-form-18.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLW11bW5wLTIwMDctZm9ybS0yLnBkZg==" target="_blank" style="word-wrap:break-word;">321-mumnp-2007-form-2.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLW11bW5wLTIwMDctZm9ybS0yNi5wZGY=" target="_blank" style="word-wrap:break-word;">321-mumnp-2007-form-26.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLW11bW5wLTIwMDctZm9ybS0zLnBkZg==" target="_blank" style="word-wrap:break-word;">321-mumnp-2007-form-3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLW11bW5wLTIwMDctZm9ybS01LnBkZg==" target="_blank" style="word-wrap:break-word;">321-mumnp-2007-form-5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLW11bW5wLTIwMDctZm9ybS1wY3QtaWItMzA0LnBkZg==" target="_blank" style="word-wrap:break-word;">321-mumnp-2007-form-pct-ib-304.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLW11bW5wLTIwMDctcGN0LXNlYXJjaCByZXBvcnQucGRm" target="_blank" style="word-wrap:break-word;">321-mumnp-2007-pct-search report.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctUEVUSVRJT04gVU5ERVIgUlVMRSAxMzcoOS02LTIwMDkpLnBkZg==" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-PETITION UNDER RULE 137(9-6-2009).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctU1BFQ0lGSUNBVElPTihBTUVOREVEKS0oMjItNC0yMDA5KS5wZGY=" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-SPECIFICATION(AMENDED)-(22-4-2009).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctV08gSU5URVJOQVRJT05BTCBQVUJMSUNBVElPTiBSRVBPUlQoNS0zLTIwMDcpLnBkZg==" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-WO INTERNATIONAL PUBLICATION REPORT(5-3-2007).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MzIxLU1VTU5QLTIwMDctV08gSU5URVJOQVRJT05BTCBQVUJMSUNBVElPTiBSRVBPUlQoNS0zLTIwMTApLnBkZg==" target="_blank" style="word-wrap:break-word;">321-MUMNP-2007-WO INTERNATIONAL PUBLICATION REPORT(5-3-2010).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=YWJzdHJhY3QxLmpwZw==" target="_blank" style="word-wrap:break-word;">abstract1.jpg</a></p>
		<br>
		<div class="pull-left">
			<a href="235142-a-method-for-manufacturing-a-multimode-optical-fibre-having-higher-bandwith-and-a-multimiode-optical-fiber.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="235144-foaming-cosmetic-products.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>235143</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>321/MUMNP/2007</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>28/2009</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>10-Jul-2009</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>26-Jun-2009</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>05-Mar-2007</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>QUALCOMM INCORPORTED</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>5775 Morehouse Drive,San Diego, California 92121-1714,</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>BLACK, PETER JOHN</td>
											<td>2961 First Avenue,San Diego, CA 92103</td>
										</tr>
										<tr>
											<td>2</td>
											<td>KAPOOR, ROHIT</td>
											<td>10335 Caminito Alvarez,San Diego, CA 92126</td>
										</tr>
										<tr>
											<td>3</td>
											<td>YAVUZ, MEHMET</td>
											<td>3640 Torrey View Court, Poway, CA 92130</td>
										</tr>
										<tr>
											<td>4</td>
											<td>SPINDOLA, SERAFIN DIAZ</td>
											<td>12503 Kestrel Street,San Diego CA 92129</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>G10L19/00</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/US2005/030894</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2005-08-30</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>60/606,036</td>
									<td>2004-08-30</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/235143-an-apparatus-for-processing-packet-of-data-and-method-thereof by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 14:38:05 GMT -->
</html>
