<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/269654-real-time-capturing-and-generating-stereo-images-and-videos-with-a-monoscopic-low-power-mobile-device by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 06:52:50 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 269654:REAL-TIME CAPTURING AND GENERATING STEREO IMAGES AND VIDEOS WITH A MONOSCOPIC LOW POWER MOBILE DEVICE</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">REAL-TIME CAPTURING AND GENERATING STEREO IMAGES AND VIDEOS WITH A MONOSCOPIC LOW POWER MOBILE DEVICE</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A monoscopic low-power mobile device is capable of creating real-time stereo images and videos from a single captured view. The device uses statistics from an autofocusing process to create a block depth map of a single capture view. Artifacts in the block depth map are reduced and an image depth map is created. Stereo three-dimensional (3D) left and right views are created from the image depth map using a Z-buffer based 3D surface recover process and a disparity map which is a function of the geometry of binocular vision.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>REAL-TIME CAPTURING AND GENERATING STEREO IMAGES AND VIDEOS WITH A MONOSCOPIC LOW POWER MOBILE<br><br>
DEVICE<br><br>
BACKGROUND OF THE INVENTION<br><br>
I. Field of the Invention<br><br>
[0001] The present invention relates generally to monoscopic low-power mobile devices, such as a hand-held camera, camcorder, single-sensor cameral phone, or other single camera sensor device capable of creating real-time stereo images and videos. The present invention also relates to a method for generating real-time stereo images, a still image capturing device, and to a video image capturing device.<br><br>
II. Background<br><br>
[0002] Recently, enhancing the perceptual realism has become one of the major forces that drives the revolution of next generation multimedia development. The fast growing multimedia communications and entertainment markets call for 3D stereoscopic image and video technologies that cover stereo image capturing, processing, compression, delivery, and display. Some efforts on future standards, such as 3DTV and MPEG 3DAV, have been launched to fulfill such requests.<br><br>
[0003] A major difference between a stereo image and a mono image is that the former provides the feel of the third dimension and the distance to objects in the scene. Human vision by nature is stereoscopic due to the binocular views seen by the left and right eyes in different perspective viewpoints. The human brain is capable of synthesizing an image with stereoscopic depth. In general, a stereoscopic camera with two sensors is <br><br>
required for producing a stereoscopic image or video. However, most of the current multimedia devices deployed are implemented within the monoscopic infrastructure. [0004] In the past decades, stereoscopic image generation has been actively studied. In one study, a video sequence is analyzed and the 3D scene structure is estimated from the 2D geometry and motion activities (which is also called Structure from Motion (SfM)). This class of approaches enables conversion of recorded 2D video clips to 3D. However, the computational complexity is rather high so that it is not feasible for real-time stereo image generation. On the other hand, since SfM is a mathematically ill-posed problem, the result might contain artifacts and cause visual discomfort. Some other approaches first estimate depth information from a single-view still-image based on a set of heuristic rules according to specific applications, and then generate the stereoscopic views thereafter.<br><br>
[0005] In another study, a method for extracting relative depth information from monoscopic cues, for example retinal sizes of objects, is proposed, which is useful for the auxiliary depth map generation. In a still further study, a facial feature based parametric depth map generation scheme is proposed to convert 2D head-and-shoulder images to 3D. In another proposed method for depth-map generation some steps in the approach, for example the image classification in preprocessing, are not trivial and maybe very complicated in implementation, which undermine the practicality of the proposed algorithm. In another method a real-time 2D to 3D image conversion algorithm is proposed using motion detection and region segmentation. However, the artifacts are not avoidable due to the inaccuracy of object segmentation and object depth estimation. Clearly, all the methods mentioned above consider only the captured monoscopic images. Some other approaches use an auxiliary source to help generate the stereo views. For <br><br>
example, a low cost auxiliary monochrome or low-resolution camera is used to capture the additional view, and then use a disparity estimation model to generate the depth map of the pixels.<br><br>
[0006] In another example, a monoscopic high resolution color camera is used to capture the luminosity and chromaticity of a scene, and inexpensive flanking<br><br>
3D-stereoscopic pair of low resolution monochrome "outrigger" cameras are used to augment luminosity and chromaticity with depth. The disparity maps generated from the obtained 3 views are used to synthesis the stereoscopic pairs. In a still further example, a mixed set of automatic and manual techniques are used to extract the depth map<br><br>
(sometimes automatic method is not reliable), and then a simple smoothing filter is used to reduce the visible artifacts of the result image.<br><br>
[0007] As can be readily seen, there is a need for a low-complexity method to obtain real-time stereo images and videos by using a monoscopic mobile camera phone or other low-power monoscopic device.<br><br>
[0008] There is a need for a monoscopic low-power mobile device that estimates the depth map information in a manner that avoids not only the auxiliary equipments or human-interaction used in other approaches, but also the introduced computational complexity by using SfM or depth analysis.<br><br>
[0009] There is a further need for a monoscopic low-power mobile device that employs a low-complexity approach to detect and estimate depth information for real-time capturing and generation of stereo video. <br><br>
SUMMARY OF THE INVENTION<br><br>
[0010] In view of the foregoing, an object of the present invention is to provide a monoscopic low-power mobile device that employs a low-complexity approach to detect and estimate depth information for real-time capturing and generation of stereo video. [0011] Another object of the present invention is to provide a monoscopic low-power mobile device that avoids not only the auxiliary equipments or human-interaction, but also the introduced computational complexity by using SfM or depth analysis.<br><br>
[0012] A further object of the present invention is to provide a monoscopic low-power mobile device that employs a low-complexity stereo image pair generation process.<br><br>
[0013] A still further object of the present invention is to provide a monoscopic low-power mobile device that captures and generates stereo images and videos with superior 3D effects.<br><br>
[0014] A still further object of the present invention is to provide a monoscopic low-power mobile device that can be used for both stereo image and video capturing and generation.<br><br>
[0015] The above objects are carried out by a monoscopic low-power mobile device comprising: a single-sensor camera sensor module operable to capture an image and having an autofocusing sub-module operable to determine a best focus position by moving a lens through an entire focusing range via a focusing process and to select the focus position with a maximum focus value when capturing the image. The device includes a depth map generator assembly which is operable in a first-stage to develop a block-level depth map automatically using statistics from the autofocusing sub-module <br><br>
and in a second- stage to develop an image depth map. The device also includes an image pair generator module operable to create a missing second view from the captured image to create 3D stereo left and right views.<br><br>
[0016] The monoscopic low-power mobile device uses an auto focus function of a monoscopic camera sensor to estimate the depth map information, which avoids not only the auxiliary equipments or human-interaction used in other approaches, but also the introduced computational complexity by using SfM or depth analysis of other proposed systems.<br><br>
[0017] The monoscopic low-power mobile device can be used for both stereo image and video capturing and generation with an additional but optional motion estimation module to improve the accuracy of the depth map detection for stereo video generation.<br><br>
[0018] The monoscopic low-power mobile device uses statistics from the auto focus process to detect and estimate depth information for generating stereo images.<br><br>
The use of the autofocus process is feasible for low-power devices due to a two-stage depth map estimation design. That is, in the first stage, a block-level depth map is detected using the autofocus process. An approximated image depth map is generated by using bilinear filtering in the second stage.<br><br>
[0019] Additionally, the monoscopic low-power mobile device employs a low-complexity approach to detect and estimate depth information for real-time capturing and generation of stereo video. The approach uses statistics from motion estimation, autofocus processing, and the history data plus some heuristic rules to estimate the depth map.<br><br>
[0020] The monoscopic low-power mobile device that employs a low-complexity <br><br>
stereo image pair generation process by using Z-buffer based 3D surface recovery. [0021] As another aspect of the present invention, a method for generating real-time stereo images with monoscopic low-power mobile device comprises the steps of capturing an image; autofocusing a lens and determining a best focus position by moving the lens through an entire focusing range and for selecting the focus position with a maximum focus value when capturing the image; generating in a first-stage a block-level depth map automatically using statistics from the autofocusing step and in a second-stage generating an image depth map; and creating a missing second view from the captured image to create 3D stereo left and right views.<br><br>
[0022] As another aspect of the present invention, a method for processing still images comprises the steps of: autofocusing processing a captured still image and estimating depth information of remote objects in the image to detect a block-level depth map; and approximating an image depth map from the block-level depth map. [0023] The autofocusing processing includes the step of processing the image using a coarse-to-fine depth detection process. Furthermore, the approximating step comprises the step of bilinear filtering the block- level depth map to derive an approximated image depth map.<br><br>
[0024] In a still further aspect, the present invention is directed to a program code having program instructions operable upon execution by a processor to: bilinear filter an image to determine a depth value of each focus block including corner points (A, B, C and D) of a block-level depth map, and determine the depth value (dp) of all pixels within the block according to the following equation <br><br>
d = P<br><br><br>
wherein position values and the depth values for the corners points (A, B, C, and D) of the block are denoted as (xA, VA, dA), (XB, VB, dB), (xc, yc, dc), (XD, yD, dD); and a respective pixel denoted by a point P (xP, yP, dp).<br><br>
[0025] In a still further aspect of the present invention, a still image capturing device comprises: an auto focusing module operable to process a captured still image and estimate depth information of remote objects in the image to detect a block-level depth map; an image depth map module operable to approximate from the block-level depth map an image depth map using bilinear filtering; and an image pair generator module operable to create a missing second view from the captured image to create three-dimensional (3D) stereo left and right views.<br><br>
[0026] In a still further aspect of the present invention, a video image capturing device comprises: an auto focusing module operable to process a captured video clip and estimate depth information of remote objects in a scene; and a video coding module <br><br>
operable to code the video clip captured, provide statistics information and determine motion estimation. A depth map generator assembly is operable to detect and estimate depth information for real-time capturing and generation of stereo video using the statistics information from the motion estimation, the process of the auto focusing module, and history data plus heuristic rules to obtain a final block depth map from which an image depth map is derived.<br><br>
BRIEF DESCRIPTION OF THE DRAWINGS<br><br>
[0027] The foregoing summary, as well as the following detailed description of preferred embodiments of the invention, will be better understood when read in conjunction with the accompanying drawings. For the purpose of illustrating the invention, there is shown in the drawings embodiments which are presently preferred. It should be understood, however, that the invention is not limited to the precise arrangement of processes shown. In the drawings:<br><br>
[0028] FIG. 1 illustrates a general block diagram of a monoscopic low-power mobile device;<br><br>
[0029] FIG. 2 illustrates a general block diagram of the operation for both real-time stereo image and video data capturing, processing, and displaying;<br><br>
[0030] FIG. 3 illustrates a general block diagram of the operation for real-time capturing and generating 3D still images;<br><br>
[0031] FIG. 4 illustrates a plot of a relationship between lens position from the focal point and object distance;<br><br>
[0032] FIG. 5A illustrates a graph of the relationship between lens position and<br><br>
FV using a global search algorithm; <br><br>
[0033] FIG. 5B illustrates a graph of the relationship between lens position and<br><br>
FV for a course-to-fine search algorithm;<br><br>
[0034] FIG. 6A illustrates an original image;<br><br>
[0035] FIG. 6B illustrates an image depth map of the image of FIG. 6A;<br><br>
[0036] FIG. 6C illustrates an block depth map of the image of FIG. 6A;<br><br>
[0037] FIG. 6D illustrates an synthesized 3D anaglyph view using the block depth map of FIG 6C;<br><br>
[0038] FIG. 6E illustrates a filtered depth map of the image of FIG. 6B;<br><br>
[0039] FIG. 7A illustrates an a diagram of a middle point with neighboring blocks;<br><br>
[0040] FIG. 7B illustrates a diagram of a block with corner points;<br><br>
[0041] FIG. 8 illustrates a flowchart for the depth map generation process;<br><br>
[0042] FIGS. 9 A and 9B show the image of the first frame and the corresponding<br><br>
BDM; th<br><br>
[0043] FIGS. 9C and 9D show the 30 frame of the video and its corresponding BDM; th<br><br>
[0044] FIGS. 9E and 9F show the 60 frame of the video and its corresponding BDM; [0045] FIGS. 1OA, 1OB and 1OC illustrate the image depth maps (IDMs) generated from the BDMs shown in FIGS. 9B, 9D and 9F; [0046] FIG. 11 illustrates the image pair generation process;<br><br>
[0047] FIG. 12A illustrates left and right view of binocular vision;<br><br>
[0048] FIG. 12B illustrates a geometry model of binocular vision with parameters <br><br>
for calculating the disparity map;<br><br>
[0049] FIG. 13A shows an anaglyph image generated by using the approximated image depth map shown in FIG. 6E;<br><br>
[0050] FIG. 13B shows an anaglyph image generated by using the accurate image depth map shown in FIG. 6B;<br><br>
[0051] FIG. 14A shows an example of a resultant anaglyph video frame of FIG.<br><br>
9A;<br><br>
[0052] FIG. 14B shows an example of a resultant anaglyph video frame of FIG.<br><br>
9C;<br><br>
[0053] FIG. 14B shows an example of a resultant anaglyph video frame of FIG.<br><br>
9E; and<br><br>
[0054] FIGS. 15A- 15B illustrate a flowchart of a Z-buffer based 3D interpolation process<br><br>
DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS<br><br>
[0055] While this invention is susceptible of embodiments in many different forms, this specification and the accompanying drawings disclose only some forms as examples of the use of the invention. The invention is not intended to be limited to the embodiments so described, and the scope of the invention will be pointed out in the appended claims. [0056] The preferred embodiment of the device for capturing and generating stereo images and videos according to the present invention is described below with a specific application to a monoscopic low-power mobile device <br><br>
such as a hand-held camera, camcorder, or a single-sensor camera phone. However, it will be appreciated by those of ordinary skill in the art that the present invention is also well adapted for other types of devices with single-sensor camera modules. Referring now to the drawings in detail, wherein like numerals are used to indicate like elements throughout, there is shown in FIG. 1, a monoscopic low-power mobile device, generally designated at 10, according to the present invention.<br><br>
[0057] The monoscopic low-power mobile device 10 includes in general a processor 56 to control the operation of the device 10 described herein, a lens 12 and a camera sensor module 14 such as a single-sensor camera unit, a hand-held digital camera, or a camcorder. The processor 56 executes program instructions or programming code stored in memory 60 to carryout the operations described herein. The storage 62 is the file system in the camera, camcorder, or single-sensor unit and may include a flash, disc, or tape depending on the applications.<br><br>
[0058] The camera sensor module 14 includes an image capturing sub-module 16 capable of capturing still images in a still image mode 18 and capturing videos over a recording period in a video mode 20 to form a video clip. The camera sensor module 14 also includes an autofocusing sub-module 22 having dual modes of operation, a still image mode 24 and a video mode 26.<br><br>
[0059] The monoscopic low-power mobile device 10 further includes a depth map detector module 28 also having dual modes of operation, namely a still image mode 30 and a video mode 32. In the exemplary embodiment, a depth map generator assembly 34 employs a two-stage depth map estimation process with dual modes of operation. As best seen in FIGS. 2 and 3, the first stage (STAGE 1) of the two-stage depth map estimation process develops a block-level depth map automatically using statistics from <br><br>
the auto focusing processing 124 in the still mode 24 or 126 in the video mode 26 carried out by the autofocusing sub-module 22. In a second stage, an image depth map is created by a depth detection process 130 in the still mode 30 or 132 in the video mode 32 carried out by the depth map detector module 28. In FIG. 2, fi denotes the ith frame, ^-1 denotes the i-1 frame, U1 denotes the block depth map (BDM) of the ith frame, and di' denotes the image depth map (IDM) of the ith frame.<br><br>
[0060] The monoscopic low-power mobile device 10 has a single-sensor camera sensor module 14. Accordingly, only one image is captured, such image is used to represent a Left (L) view for stereo imaging and displaying. An image pair generator module 42 is included in device 10 to generate a second or missing Right (R) view in the stereo view generator sub-module 48 from the Left view (original captured image) and an image depth map. The image pair generator module 42 also includes a disparity map sub-module 44 and a Z-buffer 3D surface recover sub-module 46. [0061] In the exemplary embodiment, the 3D effects are displayed on display 58 using a 3D effects generator module 52. In the exemplary embodiment, the 3D effects generator module 52 is an inexpensive red-blue anaglyph to demonstrate the resulting 3D effect. The generated stereo views are feasibly displayed by other mechanisms such as holographic and stereoscopic devices.<br><br>
[0062] Optionally, the monoscopic low-power mobile device 10 includes a video coding module 54 for use in coding the video. The video coding module 54 provides motion (estimation) information 36 for use in the depth detection process 132 in the video mode 32 by the depth map detector module 28.<br><br>
[0063] Referring also to FIG. 3, in operation the camera sensor module 14 captures one or more still images in an imaging capturing sub-module 16 in a still image <br><br>
mode 18. The still image mode 18 performs the capturing process 118. The capturing process 118 is followed by an autofocusing processing 124. In general, the autofocusing processing 124 of the still image mode 24 is utilized to estimate the depth information of remote objects in the scene. To reduce the computational complexity, a block depth detection in STAGE 1 employs a coarse-to-fine depth detection algorithm in an exhaustive focusing search 125 of the still image mode 24. The coarse-to-fme depth detection algorithm divides the image captured by the capturing process 118 in the still image mode 18 into a number of blocks which detects the associated depth map in the earlier stage (STAGE 1). In STAGE 2, the depth detection process 130 in the still image mode 30 uses a bilinear filter 13 IB to derive an approximated image depth map from the block depth map of STAGE 1.<br><br>
[0064] The autofocusing sub-module 22 in a still image mode 24 employs an exhaustive search focusing 125 used in still-image capturing. In order to achieve real-time capturing of video clips in a video image mode 26, the exhaustive search focusing 125 is used in still-image capturing is replaced by a climbing-hill focusing 127, and the depth detection process 132 of the video sub-module 32 detects the block depth map 34 based on motion information 36 from a video coding module 54, the focus value 38B from the autofocusing process 126, and frame history statistics 40, shown in FIG. 2.<br><br>
Automatic depth map detection<br><br>
[0065] Referring still to FIG. 3, the monoscopic low-power mobile device 10 takes advantage of the autofocusing process 124 of the autofocusing sub-module 22 for automatic block depth map detection. For image capturing in the still-image mode 18 and the video mode 20 of operation, different approaches are needed due to the different focus <br><br>
length search algorithms employed in these scenarios (modes of operation). [0067] In digital cameras, most focusing assemblies choose the best focus position by evaluating image contrast on the imager plane. Focus value (FV) 38B is a score measured via a focus metric over a specific region of interest, and the auto focusing process 126 normally chooses the position corresponding to the highest focus value as the best focus position of lens 12. In some cameras, the high frequency content of an image is used as the focus value (FV) 38B, for example, the high pass filter (HPF) below<br><br>
- 1 0 0 0 - 1<br><br>
HPF = 0 0 4 0 0<br><br>
- 1 0 0 0 - 1<br><br>
can be used to capture the high frequency components for determining the focus value (FV) 38B. Focus value (FV) is also a FV map as described later in the video mode. [0067] There is a relationship between the lens position of lens 12 from the focal point (FV) 38B and the target distance from the camera or device 10 with a camera (as shown in FIG. 4), and the relationship is fixed for a specific camera sensor module 14. Various camera sensors may have different statistics of such relationships. Thus, once the auto focusing process 124 in the auto focusing sub-module 22 locates the best focus position of the lens 12, based on the knowledge of the camera sensor module's property, the actual distance is estimated between the target object and the camera or device 10, which is also the depth of the object in the scene. Therefore, the depth map detection process relies on a sensor-dependent auto focusing process 124 or 126. The [0068] In the still-image capturing mode 18, most digital camera sensor modules<br><br>
14 choose exhaustive search algorithm 125 for the auto focusing process 124, which determines the best focus position by moving its lens 12 through the entire focusing range <br><br>
and selecting the focus position with the maximum focus value.<br><br>
[0069] A typical example of an exhaustive search algorithm 125 is a global search described in relation to FIG. 5A, which scans the whole focus range with the smallest motor step denoted by the row of equally-spaced arrow heads. On the other hand, FIG. 5B shows a coarse-to-fine search, which searches the whole focus range using a bigger step first, denoted by the row of arrow heads, then search around the peak position using a smaller step denoted by the arrow heads with a smaller distance between adjacent arrow heads.<br><br>
[0070] Clearly, the accuracy of the depth map generated for a still-image is purely dependent on the sizes of the spot focus windows selected for the image. In general, in the auto focusing process 124 for the still-image mode 24, the image is split into NxN sub-blocks, which is also called spot focus windows, and the focus values 38B are calculated for each focus windows during the auto focusing process 124. [0071] After the exhaustive search 125, the best focus position of the lens 12 is obtained for each focus window, and thus the depth of the object corresponding to each window can be estimated. Clearly, the smaller the focus window size, the better accuracy of the depth map, and the higher computational complexity.<br><br>
[0072] In the monoscopic low-power mobile device 10, two types of depth maps: image depth map (IDM) and block depth map (BDM), are defined in the depth map generator assembly 34. For an image depth map, the pixel depth value of every pixel is stored by the depth detection process 130; for the block depth map, the depth value of each focus window is stored. In FIG. 6B, the image depth map 75 corresponding to the still-image 70 shown in FIG. 6A is obtained by setting the focus window size as 1x1 and thus the image depth map 75 is in pixel-level accuracy, where pixels with higher intensity <br><br>
correspond to objects closer to the viewpoint. However, this setting is normally infeasible for most applications due to excessive computational complexity for auto focusing. An example of block depth map 77 is shown in FIG. 6C where N is set to be 11 and it is a more practical setting for cameras with normal computation capability. [0073] In general, the block depth map 77, created in STAGE 1 by the auto focusing process 124 needs to be further processed to obtain an image depth map 80 (FIG. 6E); otherwise, some artifacts may appear. An example of a synthesized 3D anaglyph view 79 using the block depth map 77 shown in FIG, 6C is shown in FIG. 6D, where the artifacts appear due to the fact that the sharp depth gap between neighbor focus windows at the edges does not correspond to the actual object shape boundaries in the image. The artifacts can be reduced by an artifact reduction process 13 IA followed by processing by a bilinear filter 13 IB. The filtered image depth map 80 is shown in FIG. 6E.<br><br>
[0074] The artifacts reduction process 13 IA, consists of two steps, as best illustrated in FIGS. 7A and 7B. In the first step, the depth value of the corner points A, B, C, and D of each block in FIGG. 6C is found during the auto focusing process 124, and the depth value would be the average value of its neighboring blocks as shown in FIG. 7A where the depth of the middle point d is defined by equation Eq.(l) d = dl + d2 + d3 + d4 ^ Eq (1 )<br><br>
where dl, d2, d3, and d4 are depth value of the neighboring blocks. [0075] The block depth map created by the auto focusing process 124 includes the depth value of each focus window/block which is stored. In FIG. 3, the memory 60 and/or storage 62 (shown in FIG. 2) which are the hardware blocks are not illustrated in the <br><br>
process shown.<br><br>
[0076] After the depth value of all corner points A, B, C and D are obtained, in the second step as best illustrated in FIG. 7B, bilinear filtering obtains the depth value of the pixels inside the blocks. As shown an example in FIG. 7B, the position and depth values for the corners points A, B, C, and D of the block are denoted as (XA, VA, (XB, VB, dß), (xc, yc, dc), (XD, VD, do), so the depth value of all the pixels within the block can be calculated. For example, for the pixel denoted by the point P (xP, yP, dp), the pixel depth value dp can be obtain by equation Eq.(2) below d = P<br><br><br>
[0077] Referring now to FIG. 2, for video, the exhaustive search algorithm 125 is not feasible due to the excessive delay caused in determining the best focus. Hill climbing focusing 127 is more popular because of its faster search speed. It searches the best focus position like climbing a hill. When the camera sensor module 14 starts to record video in the video mode 20 in the image capturing sub-module 16, an exhaustive search algorithm <br><br>
125 is used to find the best focus position as an initial position, but after the initial lens position is located, the camera sensor module 14 needs to determine in real-time the direction the focus lens 12 has to move and by how much in order to get to the top of the hill. Clearly, getting accurate depth maps for videos, during the video mode 26 of the auto focusing process 126, is much more difficult than that for still-images. While not wishing to be bound by theory, the reason is that hill climbing focusing only obtains the correct depth for the area in focus, while not guaranteeing the correctness of depth for other blocks. In addition, the exhaustive search algorithm 125, which guarantees the correctness of depth for all blocks, is only called at the starting point of recording, so it is impossible to correct the depths of all the blocks during the recording period of the video mode 20 in the image capturing sub-module 16.<br><br>
[0078] Referring now to FIG. 8, a flowchart of the depth map detection process<br><br>
132 for use in the video mode 32 by the depth map detector module 28 is shown. The current frame index is denoted by n, the (Dn(i,j)} and (Fn(i,j)} (i= 1,2,... N, j= 1,2,... N) are the final determined block depth map (BDM) and focus value (FV) map 38A of the current frame, {Mn(i, j)} and {Vn(i, j)} are the internal BDM and FV map obtained by the autofocusing process 126, and {Pn(i, j)} and {Tn(i, j)} are the internal BDM and FV map obtained by motion prediction.<br><br>
[0079] During the depth detection process 132 in video mode 32, the focus position of current frame n is first determined by hill climbing focusing 127 and the corresponding block depth map {Mn(i, j)} and FV map 38B {Vn(i, j)} are obtained at step S 134. Step S 134 is followed by step S 136 where a determination is made whether motion information (MV) 36 is available from the video coding process 154 performed by the video coding module 54. If the determination is "YES," then, the motion information <br><br>
(MV) 36 is analyzed and the global motion vector (GMV) is obtained at step S 138. Step S 138 is followed by step S 139 where a determination is made whether the global motion (i.e., the GMV). is greater than a threshold. If the determination is "YES," than the lens 12 is moving to other scenes, then the tasks of maintaining an accurate scene depth history and estimating the object movement directions uses a different process. [0080] If the determination at step S 139 is "YES," set Dn(i,j)=Mn(i,j) and<br><br>
Fn(i,j)=Vn(i,j), at and clean up the stored BDM and FV map history of previous frames at step S 144 during an update process of the BDM and FV map.<br><br>
[0081 ] Returning again to step S 136, in some systems, the motion information 36 is unavailable due to all kinds of reasons, for example, the video is not coded, or the motion estimation module of the coding algorithm has been turned off. Thus, the determination at step S136 is "NO," and step S136 followed to step S144, to be described later. When the determination is "NO" at step S 136, the process assumes the motion vectors are zeros for all blocks.<br><br>
[0082] If the motion information 36 are available, step S 139 is followed by step<br><br>
S 142 where the process 132 predicts the BDM and FV map of current frame Pn(Ij) and Tn(i,j) from those of the previous frame by equations Eq.(3) and Eq.(4)<br><br>
4? '<br><br>
and<br><br><br>
where the block (a,b) in (n-l)st frame is the prediction of block (i, j) in the nth frame, and <br><br>
FV TH is a threshold for FV difference.<br><br>
[0083] Step S142 is followed by step S144, where the device 10 assumes that the better focus conveys more accurate depth estimation. Therefore, the focal lens position corresponds to the largest FV and is treated as the best choice. Based on such logic, the final BDM and FV map are determined by equations Eq.(5) and Eq.(6)<br><br>
D1JhJ) if Fn-SJ) = Vn(IJ) SLF1JUJ) = Tn(Uj)<br><br>
DnQJ) = Mn(Uj) ifVn(ij) &gt;Fn_?ij)&amp;LVn(ij) &gt;Tn(ij)<br><br>
Eq.(5)<br><br>
Pn(IJ) ifTn(i,j) =Fn_AiJ)&amp;Tn(iJ) = Vn(iJ)<br><br>
and<br><br>
Fn (U j) = ma?v! (i, J)9 Vn (i, j), Tn (i, J)]<br><br>
Eq.(6) where (Dn(i,j)} and (Fn(i,j)} (i=l,2,...N,j= 1,2,... N) are the final determined block depth map (BDM) and focus value (FV) map 38A of the current frame; {Mn(i, j)} and {Vn(i, j)} are the internal BDM and FV map obtained by the auto focusing process 126; and {Pn(i, j)} and {Tn(i, j)} are the internal BDM and FV map obtained by motion prediction. [0084] As expected, the equations Eqs. (5) and (6) are not accurate for all cases. Equations Eq.(5) and Eq.(6) would fail for some difficult scenarios such as when occlusion/exposure occurs. In general, it is reasonable to assume that the video frames are captured at a speed of 15-30 frames per second, and the object in the frames are moving in reasonable speed, so that an object would not move too far away in neighbor frame. [0085] Heuristic rules refer to the assumptions and logics for equations Eq.(3)-(6) set forth above and in the flowchart shown in Fig. 8. These rules are actually coded in the programs, and the history data are stored in memory 60 to estimate the depth map. [0086] After the BDM is obtained, the image depth map (IDM) is calculated at <br><br>
step S 146 from the BDM results of step S 144 based on the same approach described in relation to the depth detection process 130 for the still image mode. Thus, the BDM of step S 144 is subject to artifact reduction 13 IA and bilinear filtering by bilinear filter 131B (FIG. 3).<br><br>
[0087] Returning to step S 139, if the determination is "NO," step S 139 is followed by step S 140 where the history is rolled over. At step S 140, rollover history refers to the following actions: If the global motion (i.e., the GMV is greater than a threshold) is detected, which means the camera lens is moving to other scenes, then the tasks of maintaining an accurate scene depth history and estimating the object movement directions becomes different. For this case, set Dn(i,j)=Mn(i,j) and Fn(i,j)=Vn(i,j), and clean up the stored BDM and FV map history of previous frames. Step S 140 is then followed by step S146.<br><br>
[0088] An example for demonstrating the process of FIG. 8 is shown in FIGS.<br><br>
9A-9F. FIGS. 9 A and 9B show the image of the first frame 82 and the corresponding th<br><br>
BDM 84. On the other hand, FIGS. 9C and 9D show the 30 frame 86 of the video and its th corresponding BDM 88. FIGS. 9E and 9F show the 60 frame 90 of the video and its corresponding BDM 92. In the video, a plastic bottle rolls to the camera from a far distance. It can be readily seen from these figures that the process 132 is capable of catching the movements of the objects in the scene and reflects these activities in the obtained depth maps.<br><br>
[0089] In FIGS. 1OA, 1OB and 1OC, the image depth maps (IDMs) 94, 96 and 98 generated from the BDMs 84, 88, and 92, respectively, shown in FIGS. 9B, 9D and 9F using the process 132. The IDMs 94, 96 and 98 obtained by using the depth detection <br><br>
process 130 (FIG. 3).<br><br>
Stereo image pair generation<br><br>
[0090] Referring now to FIGS. 1 and 11, so far device 10 has captured an image or left view and obtained a corresponding image depth map. The image pair generation module 42 uses an image pair generation process 142 which will now be described. At step S 144 the left view is obtained and its corresponding image depth map from the depth detection process 130 or 132 at step S146 is obtained.<br><br>
[0091] While, the image pair generation process 142 first assumes the obtained image is the left view at step S 144 of the stereoscopic system alternately, the image could be considered the right view. Then, based on the image depth map obtained at step S 146, a disparity map (the distance in pixels between the image points in both views) for the image is calculated at step S148 in the disparity map sub-module 44. The disparity map calculations by the disparity map sub-module 48 will be described below with reference to FIGS. 12A and 12B. Both the left view and the depth map are also input for calculating the disparity map, however, for the 3D view generation, and the left view and the depth map directly contribute to the Z-buffer based surface recovery. Step S 148 is followed by step S150 where a Z-buffer based 3D interpolation process 146 by the Z-buffer 3D surface recover sub-module 46 is called to construct a 3D visible surface for the scene from the right eye. Step S 150 is followed by step S 152 where the right view is obtained by projecting the 3D surface onto a projection plane, as best seen in FIG. 12B. Step S152 is carried out by the stereo view generator sub-module 48.<br><br>
[0092] In FIG. 12A, the geometry model of binocular vision is shown using the<br><br>
Left (L) and Right (R) views on a projection plane for a distant object. In FIG. 12B, F is <br><br>
the focal length, L(xL,yL,0) is the left eye, R(xR,yR,0) is the right eye, T(xt,yt,z) is a 3D point in the scene, and P(xp,yp,F) and Q(xQ,yQ,F) are the projection points of the T onto the left and right projection planes. Clearly, the horizontal position of P and Q on the projection planes are (XP-XL) and (XQ-XR), and thus the disparity is d=[(xQ-XR)-(xp-XL)]. [0093] As shown in FIG. 12B, the ratio of F and z is defined in equation Eq.. (7) as<br><br>
F _ Xp -X1 _ XQ ~ XR z xt -xL xt -xR Eq-C7)<br><br>
where z is the depth. so equations Eq.(8) and (9) follow as<br><br>
XQ -XR -L(XT .XR1<br><br>
and thus the disparity d can be obtained by equation Eq.(lO)<br><br>
F d = (xL -XR ). Eq.(lO)<br><br>
[0094] Therefore, for every pixel in the left view, its counterpart in the right view is shifted to the left or right side by a distance of the disparity value obtained in Eq. (10). However, the mapping from left- view to right- view is not 1-to-l mapping due to possible occlusions, therefore further processing is needed to obtain the right-view image. [0095] Therefore, a Z-buffer based 3D interpolation processl46 is performed by the Z-buffer 3D surface recover sub-module 46 for the right-view generation. Since the distance between two eyes compared to the distance from eyes to the objects (as shown in FIG. 12A) is very small, approximately think that the distance from object to the left eye <br><br>
is equal to the distance from itself to the right eye, which would greatly simplify the calculation. Therefore, a depth map Z(x,y) (where Z(x,y) is actually an image depth map, but it is an unknown map to be detected) is maintained for the Right (R) view where x,y are pixel position in the view.<br><br>
[0096] Referring now to FIGS. 15A and 15B, the process 146 to reconstruct the<br><br>
3D visible surface for the right- view will now be described. At the beginning (step S 166), the depth map is initialized as infinity. Step S 166 is followed by step S 168 where a pixel (xo,yo) in the left view is obtained. Then, for every pixel (xo,yo) in the left view with depth zo and disparity value do, the depth map is updated for its corresponding pixel in the right view in step S 170 by equation Eq. (11) defined as<br><br>
z(?o + d0' y0) = min[z( ?o + d0' y0)' z0] • Eci-(1 *)<br><br>
[0097] Step S 170 is followed by step S 172, a determination step to determine whether there are any more pixels. If the determination is "YES," step S 172 returns to step S 168 to get the next pixel. On the other hand, after all the pixels in the left- view are processed thus the determination at step S 172 is "NO," and step S 172 is followed by step S 174 where the reconstructed depth map is checked and searched for the pixels with values equal to infinity (the pixels without a valid map on the left- view). Step S 174 is followed by step S 176 where a determination is made whether a pixel value (PV) is equal to infinity. If the determination at step S 176 is "NO," than the pixel value (PV) is valid and can be used directly as the intensity value at step S 188 of FIG. 15B. [0098] If the determination at step S 176 is "YES," for such pixels, at step S 180 first calculates the depth for the corresponding pixel by 2D interpolation based on its neighbor pixels with available depth values. After that at step S 182, the disparity value is computed using Eq. 10 above and then at step S 184 inversely find the pixel's <br><br>
corresponding pixel in the left view. Step S 184 is followed by step S 186 to determine if a pixel is found. If the corresponding pixel is available, step S 186 is followed by step S 188 where the corresponding intensity value can be used on the right-view pixel. Otherwise, if the determination at step S 186 is "NO," step S 186 is followed by step S 190 which uses interpolation to calculate the intensity value based on its neighbor pixels in the right- view with available intensity values.<br><br>
[0099] It is important to point out that the benefits of using the proposed algorithm over the direct intensity interpolation method is that it considers the 3D continuity of the object shape which results in better realism for stereo effect. Clearly, the problem of recovering invisible area of left view is an ill-posed problem. In one known solution, the depth of missing pixel is recovered by using its neighbor pixel in horizontal direction corresponding to further surface with an assumption that no other visible surfaces behind is in the scene. For some cases, the assumption might be invalid. To consider more possible cases, in the proposed solution, the surface recovering considers depths of all neighbor pixels in all directions, which will reduce the chances of invalid assumption and will result in better 3D continuity of the recovered surface.<br><br>
Experimental Results<br><br>
[0100] The device 10 can be implemented in a MSM8K VFE C-SIM system.<br><br>
Experimental results indicate that the captured and generated stereo images and videos have superior 3D effects.<br><br>
[0101] In the experiments, an inexpensive red-blue anaglyph generation process<br><br>
152 was used to demonstrate the resulted 3D effect, although the generated stereo views are feasible to be displayed by other mechanisms such as holographic and stereoscopic <br><br>
devices. In the first experiment, the stereo image pairs were calculated using different kinds of image depth map and generated the corresponding anaglyph images. As shown in FIGS. 13A and 13B. FIG. 13A is generated by using the approximated image depth map shown in FIG. 6E, and the FIG. 13B is generated by using the accurate image depth map shown in FIG. 6B. Clearly, the results indicate that the approximated image depth map result in a similar image quality as using the accurate depth map, which proves the good performance.<br><br>
[0102] In summary, the monoscopic low-power mobile device 10 provides real-time capturing and generation of stereo images and videos. The device 10 employs the auto focusing processes of a monoscopic camera sensor module 14 to capture and generate the stereo images and videos. The auto focusing process of the camera sensor is utilized to estimate the depth information of the remote objects in the scene. For video capturing, a low-complexity algorithm is provided to detect the block depth map based on motion information, focus value, and frame history statistics.<br><br>
[0103] The device 10 is constructed for real-time applications so that computational complexity is a major concern. However, device 10 estimates the object depth in a coarse-to-fine strategy, that is, the image is divided into a number of blocks so that an associated block depth map can be detected quickly. Then a bilinear filter is employed to convert the block depth map into an approximated image depth map. For stereo image generation, a low-complexity Z-buffer based 3D surface recovering approach to estimate the missing views.<br><br>
[0104] Experimental results indicate that the captured and generated stereo images and videos have satisfactory 3D effects. The better focus functionality of the sensor module 14, the more accurate the estimated depth map will be, and thus the better <br><br>
the stereo effect the produced image and video have.<br><br>
[0105] The foregoing description of the embodiments of the invention has been presented for purposes of illustration and description. It is not intended to be exhaustive or to limit the invention to the precise form disclosed, and modifications and variations are possible in light of the above teachings or may be acquired from practice of the invention. The embodiments were chosen and described in order to explain the principles of the invention and its practical application to enable one skilled in the art to utilize the invention in various embodiments and with various modifications as are suited to the particular use contemplated. It is intended that the scope of the invention be defined by the claims appended hereto, and their equivalents. <br><br>
WHAT IS CLAIMED IS:<br><br>
1. A monoscopic low-power mobile device comprising: a single-sensor camera sensor module operable to capture an image and having an autofocusing sub-module operable to determine a best focus position by moving a lens through an entire focusing range via a focusing process and to select the focus position with a maximum focus value when capturing the image; a depth map generator assembly operable in a first-stage to develop a block-level depth map automatically using statistics from the autofocusing sub-module and in a second-stage to develop an image depth map; and an image pair generator module operable to create a missing second view from the captured image to create three dimensional (3D) stereo left and right views.<br><br>
2. The device of claim 1, wherein the image pair generator module comprises: a disparity map sub-module which calculates a disparity map based on a distance in pixels between image points in the left and right views of binocular vision geometry for the captured image wherein the captured image represents the left view; a Z-buffer 3D surface recover sub-module operable to construct a 3D visible surface for the captured image from the right view; and a stereo view generator sub-module operable to project the 3D surface of the right view onto a projection plane.<br><br>
3. The device of claim 1, wherein the focusing process of the autofocusing sub-module in a still image mode performs an exhaustive search focusing process to capture a still-image, and in a video mode, to achieve real-time capturing of a video clip, <br><br>
is initiated with the exhaustive search focusing process and follows with a climbing-hill focusing process.<br><br>
4. The device of claim 3, wherein the depth map generator assembly in the second stage is operable to reduce artifacts with a bilinear filter.<br><br>
5. The device of claim 4, wherein in the second stage, the depth map generator assembly is operable to: obtain a depth value of corner points (A, B, C, and D) of each block found during the focusing process, the depth value being an average value of neighboring blocks of a respective block where a depth of a middle point d is defined by d? + d2 + d3 + d4 d = - ,<br><br>
where dls d2, d3, and d4 are the depth values of the neighboring blocks; and after the depth value of all the corner points (A, B, C and D) are obtained, the bilinear filter is operable to obtain a pixel depth value of pixels inside the blocks.<br><br>
6. The device of claim 5, wherein the bilinear filter is further operable to calculate the pixel depth value dp for pixel P (xp, yp, dp) in accordance with the equation <br><br><br>
d = P<br><br><br>
where position values and the depth values for the corners points (A, B, C, and D)<br><br>
of the block are denoted as (xA, VA, dA), (XB, VB, dB), (xc, yc, dc), (XD, y?, dD).<br><br>
7. The device of claim 3, further comprising a video coding module for coding the video clip captured and providing statistics information for calculating the block-level depth map, the video coding module being operable to determine motion estimation, and the depth map generator assembly being operable in the second stage to detect and estimate depth information for real-time capturing and generation of stereo video using the statistics information from the motion estimation, the focusing process, and history data plus heuristic rules to obtain a final block depth map from which the image depth map is derived. <br><br><br>
8. The device of claim 1, further comprising a display and a 3D effects generator module for displaying on the display the 3D stereo left and right views.<br><br>
9. The device of claim 8, wherein the 3D effects generator module is operable to produce a red-blue anaglyph image of the 3D stereo left and right views on the display.<br><br>
10. The device of claim 1 , wherein the monoscopic low-power mobile device comprises one of a hand-held digital camera, a camcorder, and a single-sensor camera phone.<br><br>
11. A monoscopic low-power mobile device comprising: means for capturing an image with a single sensor; means for autofocusing a lens and determining a best focus position by moving the lens through an entire focusing range and for selecting the focus position with a maximum focus value when capturing the image; means for generating in a first-stage a block-level depth map automatically using statistics from the autofocusing means and in a second-stage an image depth map; and means for creating a missing second view from the captured image to create three dimensional (3D) stereo left and right views.<br><br>
12. The device of claim 11, wherein the creating means comprises: means for calculating a disparity map based on a distance in pixels between image points in the left and right views of binocular vision geometry for the captured image wherein the captured image represents the left view; means for 3D surface recovering with Z-buffering for constructing a 3D visible surface for the captured image from a missing right viewpoint; and means for generating stereo views by projecting the constructed 3D surface onto a projection plane. <br><br><br>
13. The device of claim 11, wherein the auto focusing means includes means for performing an exhaustive search focusing process to capture a still-image in a still image mode; means for initiating the exhaustive search focusing process in a video mode; and means for climbing -hill focusing in a video mode to capture a real-time video clip.<br><br>
14. The device of claim 13, wherein the generating means in the second stage includes means for reducing artifacts.<br><br>
15. The device of claim 14, wherein the means for reducing artifacts includes means for obtaining a depth value of corner points (A, B, C, and D) of each block found by the autofocusing means, the depth value being an average value of neighboring blocks of a respective block where a depth of a middle point d is defined by d? + d2 + d3 + d4 d = 4 ' where dls d2, d3, and d4 are the depth values of the neighboring blocks; and means for, after the depth value of all the corner points (A, B, C and D) are obtained, bilinear filtering to obtain a pixel depth value of pixels inside the blocks.<br><br>
16. The device of claim 15, wherein the bilinear filtering means comprises means for calculating the pixel depth value dp for pixel P (xp, yp, dp) in accordance with equation <br><br><br>
d = P<br><br><br>
where position values and the depth values for the corners points (A, B, C, and D)<br><br>
of the block are denoted as (xA, VA, dA), (XB, YB, dB), (xc, yc, dc), (XD, yD, dD).<br><br>
17. The device of claim 13, further comprising means for video coding the video clip captured and providing statistics information;, wherein the means for video coding includes means for motion estimating; and wherein the generating means includes means for detecting and estimating depth information for real-time capturing and generation of stereo video using statistics information from the motion estimating means, the autofocusing means, and history data plus some heuristic rules to obtain a final block depth map from which the image depth map is derived.<br><br>
18. The device of claim 11, further comprising a display and means for generating 3D effects of the 3D stereo left and right views on the display.<br><br>
19. The device of claim 18, wherein the 3D effects generating means produces a red-blue anaglyph image of the 3D stereo left and right views on the display. <br><br><br>
20. The device of claim 11, wherein the monoscopic low-power mobile device comprises one of a hand-held digital camera, a camcorder, and a single-sensor camera phone.<br><br>
21. A method for generating real-time stereo images comprising the steps of: capturing an image with a single sensor; autofocusing a lens and determining a best focus position by moving the lens through an entire focusing range and selecting the focus position with a maximum focus value when capturing the image; generating in a first-stage a block-level depth map automatically using statistics from the autofocusing step and in a second- stage generating an image depth map; and creating a missing second view from the captured image to create three-dimensional (3D) stereo left and right views.<br><br>
22. The method of claim 21, wherein the creating step comprises the steps of: calculating a disparity map based on a distance in pixels between image points in the left and right views of binocular vision geometry for the captured image wherein the captured image represents the left view; 3D surface recovering with Z-buffering for constructing a 3D visible surface for the captured image from a missing right viewpoint; and generating a missing right view by projecting the constructed 3D surface onto a projection plane.<br><br>
23. The method of claim 21, wherein the autofocusing step includes the steps of performing an exhaustive search focusing process to capture a still-image in a still image mode; initiating the exhaustive search focusing process in a video mode; and climbing-hill focusing in a video mode to capture a real-time video clip.<br><br>
24. The method of claim 23, wherein the generating step in the second stage includes the step of reducing artifacts. <br><br><br>
25. The method of claim 24, wherein the reducing artifacts step includes the steps of: obtaining a depth value of corner points (A, B, C, and D) of each block found by the autofocusing means, the depth value being an average value of neighboring blocks of a respective block where a depth of a middle point d is defined by dx + d2 + d3 + d4 d = 4 ' where dls d2, d3, and d4 are the depth values of the neighboring blocks; and after the depth value of all the corner points (A, B, C and D) are obtained, performingb ilinear filtering to obtain a pixel depth value of pixels inside the blocks.<br><br>
26. The method of claim 25, wherein the bilinear filtering step comprises the step of: calculating the pixel depth value dP for pixel P (xP, yP, dP) in accordance with equation<br><br>
d = P<br><br><br>
where position values and the depth values for the corners points (A, B, C, and D) <br><br>
of the block are denoted as (xA, yA, dA), (XB, yB, dB), (xc, yc, dc), (XD, yD, dD)-<br><br>
27. The method of claim 23, further comprising the step of video coding the video clip and motion estimating, wherein the generating step includes the step of detecting and estimating depth information for real-time capturing and generation of stereo video using statistics from the motion estimating step, the autofocusing step, and history data plus heuristic rules to obtain a final block depth map from which the image depth map is derived.<br><br>
28. The method of claim 21, further comprising the step of generating 3D effects of the 3D stereo left and right views on a display.<br><br>
29. The method of claim 28, wherein the step of generating 3D effects includes the step of producing a red-blue anaglyph image of the 3D stereo left and right views on the display.<br><br>
30. A method for processing still images comprising the steps of: autofocusing processing a captured still image and estimating depth information of remote objects in the image to detect a block-level depth map; and approximating an image depth map from the block-level depth map.<br><br>
31. The method of claim 30, wherein the autofocusing processing step includes the step of processing the image using a coarse-to-f?ne depth detection process.<br><br>
32. The method claim 30, wherein the approximating step comprises the step of bilinear filtering the block-level depth map to derive an approximated image depth map. <br><br><br>
33. The method of claim 32, wherein the autofocusing processing step comprises the step of determining a depth value of each focus block including corner points (A, B, C and D) when detecting the block-level depth map; and wherein the bilinear filtering step obtains the depth value of the pixels inside the block.<br><br>
34. The method of claim 33, wherein position values and the depth values for the corners points (A, B, C, and D) of the block are denoted as (XA, VA, d?), (XB, VB, dß), (xc, yc, dc), (XD, VD, do) so that the depth value of all the pixels within the block are calculated, wherein for a respective pixel denoted by a point P (xP, yP, dp), the depth value dp of the respective pixel is defined as d = P<br><br><br>
35. A still image capturing device comprising: an autofocusing module operable to process a captured still image and estimate depth information of remote objects in the image to detect a block-level depth map; an image depth map module operable to <br><br>
approximate from the block-level depth map an image depth map using bilinear filtering; and an image pair generator module operable to create a missing second view from the captured image to create three-dimensional (3D) stereo left and right views.<br><br>
36. The device of claim 35, further comprising a 3D effects generator module operable to display 3D effects of the 3D stereo left and right views.<br><br>
37. The device of claim 35, wherein a focusing process of the auto focusing module performs an exhaustive search focusing process to capture the still image.<br><br>
38. The device of claim 35, wherein the image depth map module is operable to reduce artifacts with the bilinear filtering.<br><br>
39. A video image capturing device comprising: an auto focusing module operable to process a captured video clip and estimate depth information of remote objects in a scene; a video coding module operable to code the video clip captured, provide statistics information and determine motion estimation; and an image depth map module operable to detect and estimate depth information for real-time capturing and generation of stereo video using the statistics information from the motion estimation, the process of the auto focusing module, and history data plus heuristic rules to obtain a final block depth map from which an image depth map is derived. <br><br><br>
40. The device of claim 39, wherein a focusing process of the autofocusing module to achieve real-time capturing of a video clip is initiated with the exhaustive search focusing process and follows with a climbing-hill focusing process.<br><br>
41. The device of claim 39, further comprising an image pair generator module operable to create a missing second view from the captured image to create three-dimensional (3D) stereo left and right views.<br><br>
42. The device of claim 41, further comprising a 3D effects generator module operable to display 3D effects of the 3D stereo left and right views.<br><br>
43. The device of claim 39, wherein the depth map module is operable to predict an internal block depth map (Pn(Ij)) and a focus value map (Tn(i,j)) of a current frame n from those of a previous frame by the following equations<br><br><br>
and<br><br>
vn (itj)-Fn_1(atb) \ 
<br>
where {Pn(i, j)} and {Tn(i, j)} are the internal BDM and FV map obtained from the motion estimation of the video coding module, (a,b) denotes a block in (n-l)st frame and is a prediction of block (i, j) in the nth frame, and FV TH is a focus value (FV) threshold; and wherein a focal lens position corresponds to a largest FV and is treated as the best <br><br>
choice wherein the final BDM and FV map are determined by the following equations<br><br>
D1JhJ) if Fn-SJ) = Vn(IJ) SLF1JUJ) = Tn(Uj)<br><br>
DnQJ) = MnQJ) ifVnQ,j) =Fn_{Q,j)&amp;VnQ,j) =TnQ,j)<br><br>
PnQJ) if\{Uj) =F,jUj)&amp;.Tn{Uj) = VnQJ)<br><br>
and<br><br>
Fn (U j) = ma?v! (i, j), Vn (i, j), Tn (i, j)]<br><br>
where (Dn(i,j)} and (Fn(i,j)} (i=l,2,...N,j= 1,2,... N) are the final determined block depth map (BDM) and the final determined focus value (FV) map, respectively, of the current frame, and {Mn(i, j)} and {Vn(i, j)} are the internal BDM and FV map obtained by the autofocusing module.<br><br>
44. A program code having program instructions operable upon execution by a processor to: bilinear filter an image to determine a depth value of each focus block including corner points (A, B, C and D) of a block-level depth map, and determine the depth value (dp) of all pixels within the block according to the following equation <br><br><br>
d = P<br><br><br>
wherein position values and the depth values for the corners points (A, B, C, and<br><br>
D) of the block are denoted as (xA, VA, dA), (XB, yß, dB), (xc, yc, dc), (XD, yD, dD) and a respective pixel denoted by a point P (xP, yP, dP).</td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/viewdoc.aspx?id=d9uLDIy0vEHAu9lWXkNnUg==&amp;amp;loc=vsnutRQWHdTHa1EUofPtPQ==" target="_blank" style="word-wrap:break-word;">http://ipindiaonline.gov.in/patentsearch/GrantedSearch/viewdoc.aspx?id=d9uLDIy0vEHAu9lWXkNnUg==&amp;amp;loc=vsnutRQWHdTHa1EUofPtPQ==</a></p>
		<br>
		<div class="pull-left">
			<a href="269653-brassiere-construction-using-multiple-layers-of-fabric.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="269655-an-adenoviral-vector-comprising-a-nucleotide-construct.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>269654</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>2786/MUMNP/2008</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>45/2015</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>06-Nov-2015</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>30-Oct-2015</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>30-Dec-2008</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>QUALCOMM INCORPORATED</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>5775 MOREHOUSE DRIVE, SAN DIEGO, CALIFORNIA</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>WANG  HAOHONG</td>
											<td>4102 FOWLER COURT SAN JOSE CALIFORNIA 95135 </td>
										</tr>
										<tr>
											<td>2</td>
											<td>LI  HSIANG-TSUN</td>
											<td>4349 NOBEL DRIVE #142 SAN DIEGO CALIFORNIA 92122</td>
										</tr>
										<tr>
											<td>3</td>
											<td>MANJUNATH SHARATH</td>
											<td>11326 VISTA SORRENTO PARKWAY #202 SAN DIEGO CALIFORNIA 92130</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04N13/00</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/US2007/074748</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2007-07-30</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>11/497,906</td>
									<td>2006-08-01</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/269654-real-time-capturing-and-generating-stereo-images-and-videos-with-a-monoscopic-low-power-mobile-device by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 06:52:51 GMT -->
</html>
