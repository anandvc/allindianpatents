<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/264150-a-method-for-producing-a-label-switching-path-lsp-database-for-network-based-vpns by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2024 23:57:29 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 264150:A METHOD FOR PRODUCING A LABEL SWITCHING PATH (LSP) DATABASE FOR NETWORK BASED VPNS</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">A METHOD FOR PRODUCING A LABEL SWITCHING PATH (LSP) DATABASE FOR NETWORK BASED VPNS</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A method and apparatus for producing and maintaining a repository of service level test points for network based VPNs is presented. A determination is made regarding whether there is more than one Autonomous System (AS) in a network for one or more VPNs. When there is not more than one AS then next hops are found for the VPN. Next, VPN prefixes associated with the VPN are found and a set of Label Switching Paths (LSPs) in use for the VPN are produced. When the determination is that there is more than one AS then routers in the present AS associated with the VPN are found. VPN label stacks are used to find all Provider Edge (PE) routers associated with the VPN. A set of LSPs in use for the VPN is produced from the routers and the VPN label stacks.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>BACKGROUND<br>
Computer networks typically provide a physical interconnection between different<br>
computers to allow convenient exchange of programs and data. A plurality of connectivity devices, such as switches and routers, interconnect each user computer connected to the network. The connectivity devices maintain routing information about the computers and perform routing decisions concerning message traffic passed between the computers via the connectivity devices. Each connectivity device, or router, corresponds to a network routing prefix indicative of the other computers, which it has direct, or indirect access to. Therefore, data routed from one computer to another follows a path through the network defined by the routers between the two computers.<br>
The routers define nodes in a network, and data travels between the nodes in a series of so-called "hops" over the network. Since each router is typically connected to multiple other routers, there may be multiple potential paths between given computers. Typically, the routing information is employed in a routing table in each router, which is used to determine a path to a destination computer or network. The router makes a routing decision, using the routing table, to identify the next "hop," or next router, to send the data to in order for it to ultimately reach the destination computer. However, network problems may arise which render routers and transmission paths between routers inoperable.<br>
There are two families of path characteristics, and the verification/diagnostics there of, that are of particular interest when considering network-based Internet Protocol (IP) Virtual Private Networks (VPNs). The first family of path characteristics relate to path verification in terms of basic connectivity. The second group of characteristics of interest to a customer of a network-based VPN fall under the umbrella of real-time statistics. These real-time statistics can be defined\as the ability for a customer edge (CE) router to obtain realtime statistics related to a particular path used by that CE to carry its traffic across the core of the network-based VPN provider. Such attribute properties include (but are not limited to) delay (one way and round trip), jitter, and error rate (i.e.: packet loss/error). Currently these<br>
types of statistics are provided by some service providers, but are based largely on average<br>
values that are insufficient for the customer to compute real-time path characterization.<br>
Up-to-the-minute values for various path characteristics such as delay and jitter are desired in order to qualify a particular path on a real-time basis so as to ease troubleshooting should some path characteristics such as the delay be detected as abnormally high, make instantaneous repairs to broken paths, or in order to choose alternate paths (i.e.: change routing behavior so as to obscure the network defect from the customer), or just to obtain information as to wheither the requested path attributes are being delivered by the core network at any given point in time.<br>
Certain applications, such as the Service Assurance Agent (SAA) available from Cisco Systems, Inc. of San Jose^California, may be used by the customer between their customer edge routers to verify the,end-to-end path using IP protocol packets. These provide important information about the overall end-to-end path, but do not provide any direct information about the critical core network paths between the provider's PE routers that actually carry the IP traffic between their sites. For this reason the customer is unable to ascertain in which segment of the network a particular problem is located, or what specific path characteristics are being delivered at any particular point in time. Such information could be used by a network-based DP customer to trigger appropriate QoS parameter setting adjustment on their PE to CE links, trigger a local link update and so on, should an Service Level Agreement (SLA) degradation cause be located on such links. This information must be gathered by the Service Provider using MPLS-specific tools and algorithms to assure their accuracy and their efficiency when used to correct any defects detected by them.<br>
In a particular example, a client has the ability to identify a set of "important" destinations for which the gathering of the path attributes is required on a real-time basis (because of the necessity to measure the performance of a particular path). Note that the term "real-time" does not refer to the frequency at which path attributes are retrieved but is used to illustrate the fact that such iniormation is gathered upon an explicit request of an authorized CE. The client is able to identify the set of important destinations which to gather path attributes.<br>
Many label switched paths may be used to transport the traffic for many different applications such as Traffic Engineering or MPLS L3 VPN between end points of the MPLS network. In some cases, these paths may contain many parallel equal cost branches called<br>
load-share paths (LSPs). These paths may be rather divergent as they traverse the network, but ultimately terminate at the same end points. These paths allow traffic to be better distributed across equal cost linl^s, thereby better utilizing the available bandwidth in the network. Load-share paths, although an advantage in its own right, also pose a potential difficulty in the way of testing each'one of these paths for characteristics. Further adding to this difficulty is the fact that only a subset of these LSPs are in use by any given VPN at any given point in time. The actual choice of paths is also largely dependent on the local forwarding decisions made by specific types of forwarding hardware (i.e.: routers).<br>
SUMMARY<br>
Conventional mechanisms such as those explained above suffer from a variety of deficiencies. One such deficiency is that operators have to "discover" the paths and combinations thereof used by used by the VPNs using manual means such as screen-scraping<br>
numerous Command Line Interlace (CLI) screens on each device along the LSP. This is<br>
time-consuming and prone to error, inaccuracies, is cumbersome, and in the end, may be too slow to allow an operator to react to the changes in a VPN network.<br>
Embodiments of the invention significantly overcome such deficiencies and provide<br>
mechanisms and techniques that automatically determine which LSP paths may be in use by<br>
\ a given L3 VPN by determining which PE routers and paths to those routers will be used.<br>
This allows a system to know exactly which LSPs are important for a particular VPN and allows them to be verified or otherwise measured.<br>
By way of the presently described method and apparatus the paths used by the VPN (and by the tools used to test those paths) are discovered dynamically, as well as any updates to these paths, thereby allowing the LSP discovery process to run without operator intervention. For instance, if a path is no longer used, it is automatically pruned from the list of paths to test In the past, an operator had to manually discover this and prune it, resulting in wasted network bandwidth and processing, as well as the potential for attending to invalid alarms thrown due to these paths not responding to testing (because they no longer existed). Additionally, the method and, apparatus can filter entries if certain PEs are not desired in the list of PEs to be verified. For example, if an operator employs a vast number of PEs, it may wish to only test a subset of these PEs (perhaps based on some statistical confidence or local<br>
heuristic). Another important use is to filter entries which are situated beyond a particular ASBR, due to their potentially large number.<br>
The present method and apparatus provides the ability to test the paths between any two PE devices once and only once. In the case of L3 VPN, a PE (PE1) may host more than one Virtual Routing Forwarding instance (e.g.: VPN), and those VPNs may have connections to the same remote PE (PE2). In this case, the obvious use might test the paths between VRFs A and B from PE1 to PE2, thereby testing the same LSP twice (it is often the case that the same LSP run between PEs across a, core network). The present method and apparatus is able to filter-out duplicates, further optimizing and enhancing its utility.<br>
While a particular embodiment is described based on routing updates which are actually used to forward data, and thus the data stored in the data base managed by the invention is kept up-to-date instantaneously, it is also possible to implement the invention using a timer, which when expires, causes the invention to examine the current routing data base and update itself accordingly.<br>
In a particular embodiment of a method for producing and maintaining a repository of service level test points for network based VPNs includes selecting to perform the method for a single Autonomous System (AS) configuration or a multiple AS configuration for at least one VPN of interest. When the selection is for a single AS configuration then next hops are found for the at least one VPN of interest. Next, VPN prefixes associated with said at least one VPN of interest are found and a set of Label Switching Paths (LSPs) in use for said at least<br>
one VPN of interest are produced from the next hops and the VPN prefixes. The set of LSPs is made available to other processes.<br>
When the selection is that there is more than one AS, then routers in the present AS associated with said at least one VPN of interest are found. All Provider Edge (PE) routers<br>
and/or Autonomous System Boundary Routers (ASBR) associated with the at least one VPN of interest are found. A set of LSPs in use for the at least one VPN of interest is produced. The set of LSPs is made available to other processes.<br>
Other embodiments include., a computer readable medium having computer readable code thereon for providing a process for producing and maintaining a repository of service level test points for network based VPNs. The medium includes instructions for selecting to perform the method for a single Autonomous System (AS) configuration or a multiple AS<br>
configuration for at least one VPN of interest. The medium further includes instruction for , when there is not more than one AS, finding next hops for the at least one VPN of interest. The medium also includes instructions for finding VPN prefixes associated with the at least one VPN of interest and for producing a set of Label Switching Paths (LSPs) in use for the at least one VPN of interest from the next hops and the VPN prefixes. The medium additionally includes instructions for making the set of LSPs available to other processes.<br>
The medium may additionally include instructions for, when the selection is that there is more than one AS routers associated with said at least one VPN of interest are found, to find all Provider Edge (PE) routers associated with the at least one VPN of interest. The medium include instructions for producing a set of LSPs in use for the at least one VPN of interest. The medium additionally includes mstructions for making the set of LSPs available to other processes.<br>
Still other embodiments include a computerized device, configured to process all the method operations disclosed herein as embodiments of the invention. In such embodiments, the computerized device includes a memory system, a processor, communications interface in an interconnection mechanism connecting these components. The memory system is encoded with a process that provides a process for producing and maintaining a repository of service level test points for network based VPNs as explained herein that when performed (e.g. when executing) on the processor, operates as explained herein within the computerized device to perform ail of the method embodiments and operations explained herein as embodiments of the invention. Thus any computerized device that performs or is programmed to perform up processing explained herein is an embodiment of the invention.<br>
Other arrangements of embodiments of the invention that are disclosed herein include software programs to perform the method embodiment steps and operations summarized above and disclosed in detail below. More particularly, a computer program product is one embodiment that has a computer-readable medium including computer program logic encoded thereon that when performed in a computerized device provides associated operations providing a method and apparatus for producing and maintaining a repository of service level test points for network based Virtual Private Networks (VPNs) as explained herein. The computer program logic, when executed on at least one processor with a computing system, causes the processor to perform the operations (e.g., the methods) indicated herein as embodiments of the invention. Such arrangements of the invention are<br>
typically provided as software, code and/or other data structures arranged or encoded on a computer readable medium such.as an optical medium (e.g., CD-ROM), floppy or hard disk or other a medium such as firmware ,or microcode in one or more ROM or RAM or PROM chips or as ari Application Specific Integrated Circuit (ASIC) or as downloadable software images in one or more modules, shared libraries, etc. The software or firmware or other such configurations can be installed onto a computerized device to cause one or more processors in the computerized device to perform the techniques explained herein as embodiments of the invention. Software processes that operate in a collection of computerized devices, such as in a group of data communications devices or other entities can also provide the system of the invention. The system of the invention can be distributed between many software processes on several data communications devices, or all processes could run on a small set of dedicated computers, or on one computer alone.<br>
It is to be understood that the embodiments of the invention can be embodied strictly as a software program, as software and hardware, or as hardware and/or circuitry alone, such as within a data communications device.<br>
BRIEF DESCRIPTION OF THE DRAWINGS<br>
The foregoing and other objects, features and advantages of the invention will be apparent from the following more particular description of preferred embodiments of the<br>
invention, as illustrated in the accompanying drawings in which like reference characters refer to the same parts throughout the different views. The drawings are not necessarily to<br>
scale, emphasis instead being placed upon illustrating the principles of the invention.<br>
Figure 1 illustrates a block diagram of a basic VPN deployment scenario;<br>
Figure 2 illustrates a block diagram of an Inter-AS VPN deployment scenario;<br>
Figure 3 illustrates a block diagram of an LSP discovery system in accordance with embodiments of the invention; and<br>
Figures 4A and 4B comprise flow diagrams of a method for the creation and maintenance of a self-adjusting repository of service level diagnostics test points for network based VPNs in accordance with embodiments of the invention.<br>
DETAILED DESCRIPTION<br>
Within a MPLS L3 VPN network, a signaling protocol such as BGP establishes sessions between provider edge (PE) routers and autonomous system border routers (ASBRs). These paths are realized as MPLS Label Switched Paths (LSPs). The LSPs are signaled via a variety of MPLS control plane signaling protocols (i.e.: LDP or RSVP-TE). A signaling protocol such as BGP exchanges VPN routes (VPNv4 or VPNv6) between PEs and ASBRs while recording the LSPs that are used to reach the remote PE router. The LSP is assigned as a recursive next-hop for each VPNv4 route which is installed for a particular VPN. The LSPs that are used by VPNs begin with a label stack of two labels. The outer is an IGP label. This label is popped off just before the BGP next-hop. The inner label is a VPN label, which is popped off at the final destination of the LSP.<br>
The method and apparatus for the creation and maintenance of a self-adjusting repository of service level diagnostics test points for network based VPNs (also referred to as LSP Discovery) periodically scans through all of the routes in the desired VRF routing tables and receives routing updates in order to build a database of the next-hop LSPs that are assigned to each of the routes. Filtering policies are then applied to discard undesired end points from the database. It is at this time that duplicates are also removed from the data base, thus preventing testing tools from duplicating tests to the same next hop on behalf of different VPNs (see example given above). The database can then be read by client path testing tools to automatically provide them with the end points to which to test LSP path characteristics for.<br>
LSP discovery can be used for both single AS configurations and multiple AS configurations, in a single AS configuration, the LSPs used to reach every BGP next-hop in<br>
use by a VRF are discovered.  This approach will allow for the verification of all PEs and<br>
ASBRs in the AS.   This may not provide end-to-end coverage of more complicated VPN<br>
topologies. In some Inter-AS cases, some PEs and ASBRs in other ASs will not be reached. The LSP discovery for multiple AS, configurations discovers VPN prefixes instead of next-hops.<br>
The following are the expected outcomes for LSP discovery under different VPN scenarios when correctly configured.<br>
1.  Simple VPN - LSP discovery will discover the LSPs to each destination PE in use.<br>
2.	Inter-AS (back-to-back VRFs) - This case is the same as the above described<br>
case, however, the PEs (ASBRs) discovered will all be at the edge of the same<br>
AS.	'•<br>
3.	Inter-AS (VPNv4 on ASBRs, next-hop-self on ASBRs) - The LSPs to each<br>
ASBR on the edge of the same AS will be discovered.<br>
4.	Inter-AS (VPNv4 on ASBRs, no next-hop-self) - The LSPs to each ASBR across<br>
the AS boundary will be discovered.<br>
5.	Inter-AS (IPv4 + label on ASBRs) - The LSPs to each PE in the other AS will be<br>
discovered<br>
6.	Inter-AS (non-VPN MPLS transit provider) - This case is the same as the fifth<br>
case, although LSP ping will be required to push two labels to forward messages<br>
to the remote PE.<br>
7.	CsC (DP or MPLS within lower tier) - In the carrier supporting carrier case, LSP<br>
discovery would only be applicable within the core ISP since the lower tier<br>
providers do not use VRFs. This case would be the same as the first case.<br>
8.	CsC (Hierarchical VPNs) - LSP discovery will discover the LSPs to all of the PEs<br>
in use in the same tier only.<br>
Referring now to Figure 1, a particular embodiment of a network topology 10 is shown. The network topology 10 includes three VPNs: VPN1, VPN2 and VPNS. One end<br>
of VPN 1, VPN2 and VPN 3 is in communication with PE 12. PE 12 is part of Internet<br>
iService Provider (ISP) 20, which also includes PE 22 and PE 24. Within ISP 20, between PE 12 and PE 22 are Provider (P) routers 26 and 28. Similarly, between PE 12 and PE 24 are P routers 30 and 32. VPN 1 thus extends from router 14, to PE 12, to P 28 to P 26 to PE 22 to router 34. VPN 2 extends from router 16, to PE 12, to P 32 to P 30 to PE 24 to router 36. VPN 3 extends from router 18, to PE 12, to P 32 to P 30 to PE 24 to router 38.<br>
From the point-of-view of router PE 12, these VPNs are reachable remotely via BGP next-hops PE 22 and PE 24. When LSP discovery runs on PE 12, a database is generated based from the local VRF routing tables. The database in this example contains two next hop entries; one for PE 22 and one for PE 24. PE 22 is used by VPN 1 and PE 24 is used by VPN 2 and VPN 3.<br>
The routing table IDs are maintained per next-hop to distinguish which next-hops are contained in which VRFs. Note that it is possible that many VPNs may utilize the same next-hop. For each next-hop entry, the IPv4 prefix of the BGP next-hop in the global routing table<br>
is provided so that it can be pinged using the IPv4 prefix FEC of LSP ping. This is also useful for IPv6, traffic engineering and any otherconnection between BGP peers.<br>
Figure 2 illustrates a block diagram of an Inter-AS VPN deployment scenario. Referring now to Figure 2, a particular embodiment topology 50 is shown where LSP discovery for a single AS configuration may not find all PEs in a different AS. In topology 50, a first VPN 54 is in communication with PE 52. PE 52 is part of first ISP 70. First ISP 70 includes PE 60 and PE 62. A second IPS network 72 is in communication with first ISP 70. Second ISP 72 includes an ASBR 58 in communication with ASBR 56 of first ISP 70. ASBR 58 is also in communication with PE 64, PE 66 and PE 68. PE 66 is also in communication with router 74 as part of the first VPN. In this Inter-AS VPN case, the router<br>
ASBR 56 is discovered as a BGP next-hop for PE 52. There is no way for PE 52 to<br>
determine the topology past ASBR 56. In this example there are other PE routers (PE 64, PE<br>
66 and PE 68) that are hidden in the other AS behind ASBR 58. In this environment the LSP discovery process running on PE 52 would discover PE 60, ASBR 56 and PE 62.<br>
For inter-AS configurations,; further processing which discovers every LSP in use by a VRF is performed. This approach is an end-to-end solution and discovers all PEs and ASBRs even in more complicated VPN topologies. The drawback is that there are far more LSPs that need to be verified. In fact, every prefix in the VRF routing table may have to be discovered in order to guarantee all PEs are verified<br>
Referring now to Figure 3, a particular embodiment of an LSP discovery system 100 is shown. The system 100 includes a LSP discovery database 102, which interacts with the VRF routing tables (also referred to as Routing Information Tables (RIBs)) 104,106 and 108 to collect all of the unique BGP next-hops that are in use. Clients 112, 114 and 116 of LSP discovery can retrieve this information via API calls into the database 102.<br>
The LSP discovery database, 102 stores all the next-hops that have been discovered from route prefixes within Hie routing table tables 104,106,108. Multiple prefixes from multiple routing table tables might share the same next-hop entry in the database. This database is kept up-to-date through scans of the routing tables and through route updates from the processes 110. Clients 112,114 and 116 perform lookups in this table through APIs.<br>
Clients 112,114 and 116 are notified of database changes via registry calls.<br>
Routing tables 104,106 and 108 store routes for each VPN along with next-hop information. These tables are scanned to find next-hops to be put into the database. Border Gateway Protocol (BGP) is an example of a routing process that distributes routing information from the network into the routing table tables 104,106 and 108.<br>
The LSP discovery system performs certain operations for different types of events that occur. At initialization, the LSP discovery database is started. VRF and global routing tables are scanned to populate the LSP discovery database. Routing table refresh requests are used to keep the database up-to-date. When a routing table refresh request is serviced, the routing table is scanned. Entries in the database are added or flagged as being refreshed. Any entries not refreshed are removed. Clients are notified of additions and removal. The number of VPN prefixes using a next hop are counted and the next hop is removed if the count goes to zero.<br>
Clients can perform lookups in the database at any time after imtialization. When trying to discover all LSPs in use, load sharing may become a concern. Any particular LSP can be split in different directions. The information obtained can be provided to other tools which are used to find load sharing paths.<br>
A flow chart of the presently disclosed method is depicted in Figures 4A and 4B. The rectangular elements are hereuxdenoted "processing blocks" and represent computer software instructions or groups of instructions. The diamond shaped elements, are herein denoted<br>
.   "decision blocks," represent computer software instructions, or groups of instructions which affect the execution of the computer software instructions represented by the processing blocks.<br>
Alternatively, the processing and decision blocks represent steps performed by functionally equivalent circuits such as a digital signal processor circuit or an application specific integrated circuit (ASIC). The flow diagrams do not depict the syntax of any particular programming language. Rather, the flow diagrams illustrate the functional information one of ordinary skill in the art requires to fabricate circuits or to generate computer software to perform the processing required in accordance with the present<br><br>
invention. It should be noted that many routine program elements, such as initialization of loops and variables and the use of temporary variables are not shown. It will be appreciated by those of ordinary skill in the art that unless otherwise indicated herein, the particular sequence of steps described is illustrative only and can be varied without departing from the spirit of the invention. Thus, unless otherwise stated the steps described below are unordered meaning that, when possible; the steps can be performed in any convenient or desirable order.<br>
Referring to Figures 4A and 4B, a particular embodiment of a method for producing and maintaining a repository of service level test points for network based VPNs 200 is shown. The method begins with decision block 202 wherein a determination is made regarding whether there is more than one Autonomous System (AS) in a network for at least one VPN of interest. When there is not more than one AS then processing with processing block 204. When there is more than one AS then processing continues with processing block 224.<br>
In processing block 204, when the determination in decision block is that there is not more than one AS for the VPN of interest, next hops are found for the at least one VPN of interest.<br>
In processing block 206, VPN prefixes associated with the at least one VPN of interest are found. As shown in processing block 208, the next-hops that an outer IGP label of a label stack associated the VPN of interest is able to reach are found. In processing block 210, prefixes for the label stack are discovered.<br>
Processing continues at processing block 212, wherein a set of Label Switching Paths (LSPs) in use for the at least one VPN of interest are determined from the next hops and the VPN prefixes. As shown in processing block 214, the set of LSPs may be filtered to remove undesired paths. This may be done to reduce the number of PE routers being discovered and the associated LSPs; In processing block 216, the set of LSPs may be pruned to remove inactive paths. The accounts for paths that have been taken down or otherwise are no longer in use. In processing block 218, the pruning further includes removing duplicate paths from the set of LSPs. Processing block 220 discloses maintaining the set of LSPs current by processing route update information. The updates may occur dynamically as part of the routing process. Alternately, as shown in processing block 222, routing updates can be performed at a pre-determined time.<br>
In processing block 224, when the determination in decision block is that there is more than one AS for the VPN of interest routers in a present AS associated with the at least one VPN of interest are found.<br>
In processing block 226, all Provider Edge (PE) routers and/or autonomous System Border Routers (ASBRs) associated with the at least one VPN of interest are found. As shown in processing block 228, all LSPs in use by a Virtual Routing and Forwarding (VRF) table associated with the PE routers are found.<br>
As shown in processing block 230, a set of LSPs hi use for the at least one VPN of interest are determined from the routers and the VPN label stacks. As shown in processing block 232, the set of LSPs may be filtered to remove undesired paths. This may be done to reduce the number of PE routers being discovered and the associated LSPs. In processing block 234, the set of LSPs may be pruned to remove inactive paths. The accounts for paths that have been taken down or otherwise are no longer in use. In processing block 236, the pruning further includes removing duplicate paths from the set of LSPs. Processing block 238 discloses maintaining the set of LSPs current by processing route update information. The updates may occur dynamically as part of the routing process. Alternately, as shown in processing block 240, routing updates can be performed at a pre-determined time.<br>
In processing block 242, after completion of processing block 222 or processing block<br>
1<br>
240, the resulting set of LSPs are made available to other processes. In such a manner a discovery process has been performed to identify a set of LSPs for a VPN, which can be used by other processes.<br>
Having described preferred embodiments of the invention it will now become apparent to those of ordinary skill in the art that other embodiments mcoiporating these concepts may be used. Additionally, the software included as part of the invention may be embodied in a computer program product that includes a computer useable medium. For example, such a computer usable medium can include a readable memory device, such as a hard drive device, a CD-ROM) a DVD-ROM, or a computer diskette, having computer readable program code segments stored thereon. The computer readable medium can also include a communications link, either optical, wired, or wireless, having program code segments carried thereon as digital or analog signals. Accordingly, it is submitted that that the invention should not be Umited to the described embodiments but rather should be Umited only by the spirit and scope of the appended claims.<br><br><br><br><br>
WE CLAIM:-<br>
1 .        A method for producing and maintaining a repository of service level test points for network based Virtual Private Networks (VPNs) comprising:<br>
selecting to perform said method for a single Autonomous System (AS) configuration or for a multiple AS configuration in a network for at least one VPN of interest; when said selecting results in selecting a single AS configuration, then: rinding next hops for said at least one VPN of interest; rinding VPN prefixes associated with said at least one VPN of interest; and determining a set of Label Switching Paths (LSPs) in use for said at least one VPN of interest from said next hops and said VPN prefixes;<br>
when said selecting results in selecting a multiple AS configuration, then:<br>
rinding routers in a present AS associated with said at least one VPN of interest; and<br>
finding all Provider Edge (PE) routers and Autonomous System Border Routers (ASBRs) associated with said at least one VPN of interest;<br>
determining a set of LSPs in use for said at least one VPN of interest from said routers; and<br>
making said set of LSPs available to other processes.<br>
2.	The method of claim 1 wherein said determining a set of LSPs further comprises<br>
filtering said set of LSPs to remove undesired paths.<br>
3.	The method of claim 1 wherein said determining a set of LSPs further comprises<br>
pruning said set of LSPs to remove inactive paths.<br>
4.	The method of claim 3 wherein said pruning includes removing duplicate paths from<br>
said set of LSPs.<br>
5.	The method of claim 1 wherein said determining a set of LSPs further comprising<br>
maintaining said set of LSPs current by processing route update information.<br>
6.	The method of claim 5 wherein said maintaining comprises performing routing<br>
updates at a pre-determined time.<br>
7.	The method of claim 1 wherein said finding next hops for said at least one VPN of<br>
interest comprises discovering next-hops that an outer IGP label of a label stack associated<br>
the VPN of interest is able to reach.<br><br>
8.	The method of claim 7 wherein said finding VPN prefixes associated with said at least<br>
one VPN of interest comprises discovering prefixes for said label stack.<br>
9.	The method of claim 1 wherein said finding all Provider Edge (PE) routers associated<br>
with said at least one VPN of interest comprises finding all LSPs in use by a Virtual Routing<br>
and Forwarding (VRF) table associated with said PE routers.<br>
10.	A Label Switching Paths (LSP) discovery system comprising:<br>
an LSP discovery database in communication with at least one client;<br>
a default routing table in communication with said LSP discovery database and with at least one routing process; <br>
at least one VPN routing table in communication with said LSP discovery database and with said at least one routing process; and<br>
a routing process for distributing routing information into said routing tables, and wherein said system is capable of producing and maintaining a repository of service level test points for network based Virtual Private Networks (VPNs) in said LSP discovery database.<br>
11.	The LSP discovery system of claim 10 wherein said LSP discovery database interacts<br>
with said routing tables to collect next-hops that are in use.<br>
12.	The LSP discovery system of claim 10 wherein information from said LSP discovery<br>
database is available to at least one. client.<br>
13.	The LSP discovery system of claim 12 wherein said clients are notified of database<br>
changes.<br>
14.	The LSP discovery system of claim 10 wherein said database is maintained   by<br>
performing scans of said routing tables and through route updates.<br>
15.	The LSP discovery system of claim 10 wherein said routing tables store routes for<br>
each VPN with next-hop information.<br>
16.	The LSP discovery system of claim 10 wherein said system is capable of performing<br>
the operations of       selecting to perform said method for a single Autonomous System<br>
(AS) configuration or for a multiple AS configuration in a network for at least one VPN of<br>
interest;<br>
when said selecting results in selecting a single AS configuration, then:<br>
finding next hops for said at least one VPN of interest;<br>
finding VPN prefixes associated with said at least one VPN of interest; and<br>
determining a set of Label Switching Paths (LSPs) in use for said at least one VPN of interest from said next hops and said VPN prefixes;<br>
when said selecting results in selecting a multiple AS configuration, then:<br>
finding routers in a present AS associated with said at least one VPN of interest; and<br>
finding all Provider Edge (PE) routers and Autonomous System Border Routers (ASBRs) associated with said at least one VPN of interest;<br>
determining a set of LSPs in use for said at least one VPN of interest from said routers; and<br>
making said set of LSPs available to other processes.<br>
17.	A system for producing and maintaining a repository of service level test points for<br>
network based Virtual Private Networks (VPNs) comprising:<br>
means for selecting to perform said method for a single Autonomous System (AS) configuration or for a multiple AS configuration in a network for at least one VPN of interest; when said selecting results in selecting a single AS configuration, then:<br>
means for finding next hops for said at least one VPN of interest;<br>
means for finding VPN prefixes associated with said at least one VPN of interest; and<br>
means for determining a set of Label Switching Paths (LSPs) in use for said at least one VPN of interest from said next hops and said VPN prefixes; when said selecting results in selecting a multiple AS configuration, then:<br>
means for finding routers in a present AS associated with said at least one VPN of interest; and<br>
means for finding all Provider Edge (PE) routers and Autonomous System Border Routers (ASBRs) associated with said at least one VPN of interest;<br>
means for determining a set of LSPs in use for said at least one VPN of interest from said routers; and<br>
means for making said set of LSPs available to other processes.<br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTk3Ni1ERUxOUC0yMDA3LUFic3RyYWN0LTA3MTExNC5wZGY=" target="_blank" style="word-wrap:break-word;">5976-DELNP-2007-Abstract-071114.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTk3Ni1kZWxucC0yMDA3LWFic3RyYWN0LnBkZg==" target="_blank" style="word-wrap:break-word;">5976-delnp-2007-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTk3Ni1kZWxucC0yMDA3LWNsYWltcy5wZGY=" target="_blank" style="word-wrap:break-word;">5976-delnp-2007-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTk3Ni1kZWxucC0yMDA3LUNvcnJlc3BvbmRlbmNlIE90aGVycy0oMTMtMTAtMjAxNCkucGRm" target="_blank" style="word-wrap:break-word;">5976-delnp-2007-Correspondence Others-(13-10-2014).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTk3Ni1kZWxucC0yMDA3LUNvcnJlc3BvbmRlbmNlIE90aGVycy0oMzEtMDEtMjAxNCkucGRm" target="_blank" style="word-wrap:break-word;">5976-delnp-2007-Correspondence Others-(31-01-2014).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTk3Ni1ERUxOUC0yMDA3LUNvcnJlc3BvbmRlbmNlLTA3MTExNC5wZGY=" target="_blank" style="word-wrap:break-word;">5976-DELNP-2007-Correspondence-071114.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTk3Ni1kZWxucC0yMDA3LWNvcnJlc3BvbmRlbmNlLW90aGVycy5wZGY=" target="_blank" style="word-wrap:break-word;">5976-delnp-2007-correspondence-others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTk3Ni1kZWxucC0yMDA3LWRlc2NyaXB0aW9uIChjb21wbGV0ZSkucGRm" target="_blank" style="word-wrap:break-word;">5976-delnp-2007-description (complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTk3Ni1kZWxucC0yMDA3LWRyYXdpbmdzLnBkZg==" target="_blank" style="word-wrap:break-word;">5976-delnp-2007-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTk3Ni1ERUxOUC0yMDA3LUZvcm0gMihUaXRsZSBQYWdlKS0wNzExMTQucGRm" target="_blank" style="word-wrap:break-word;">5976-DELNP-2007-Form 2(Title Page)-071114.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTk3Ni1kZWxucC0yMDA3LWZvcm0tMS5wZGY=" target="_blank" style="word-wrap:break-word;">5976-delnp-2007-form-1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTk3Ni1kZWxucC0yMDA3LWZvcm0tMi5wZGY=" target="_blank" style="word-wrap:break-word;">5976-delnp-2007-form-2.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTk3Ni1kZWxucC0yMDA3LWZvcm0tMy5wZGY=" target="_blank" style="word-wrap:break-word;">5976-delnp-2007-form-3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTk3Ni1kZWxucC0yMDA3LWZvcm0tNS5wZGY=" target="_blank" style="word-wrap:break-word;">5976-delnp-2007-form-5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTk3Ni1ERUxOUC0yMDA3LU9USEVSUy0wNzExMTQucGRm" target="_blank" style="word-wrap:break-word;">5976-DELNP-2007-OTHERS-071114.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTk3Ni1kZWxucC0yMDA3LXBjdC0xMDEucGRm" target="_blank" style="word-wrap:break-word;">5976-delnp-2007-pct-101.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NTk3Ni1kZWxucFstMjAwNy1Db3JyZXNwb25kZW5jZS1PdGhlcnMtKDE4LTAyLTIwMTMpLnBkZg==" target="_blank" style="word-wrap:break-word;">5976-delnp[-2007-Correspondence-Others-(18-02-2013).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=YWJzdHJhY3QuanBn" target="_blank" style="word-wrap:break-word;">abstract.jpg</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=QWJzdHJhY3QucGRm" target="_blank" style="word-wrap:break-word;">Abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=QW1lbmRlZCBDbGFpbXNfQ2xlYW4ucGRm" target="_blank" style="word-wrap:break-word;">Amended Claims_Clean.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=RkVSIFJlcGx5LnBkZg==" target="_blank" style="word-wrap:break-word;">FER Reply.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=T3RoZXJzLnBkZg==" target="_blank" style="word-wrap:break-word;">Others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=UGV0aXRpb24gdW5kZXIgcnVsZSAxMzcgRm9yIEZvcm0gMS5wZGY=" target="_blank" style="word-wrap:break-word;">Petition under rule 137 For Form 1.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="264149-a-picture-decoding-method-for-decoding-a-coded-picture.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="264151-an-apparatus-for-processing-traffic-information.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>264150</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>5976/DELNP/2007</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>50/2014</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>12-Dec-2014</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>09-Dec-2014</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>31-Jul-2007</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>CISCO TECHNOLOGY, INC.</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>170 WEST TASMAN DRIVE, SAN JOSE, CALIFORNIA 95134-1706, USA.</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>NADEAU, THOMAS D.</td>
											<td>2 ASHBROOK DRIVE, HAMPTON, NEW HAMPSHIRE 03842, USA.</td>
										</tr>
										<tr>
											<td>2</td>
											<td>PIECUCH, MICHAEL T.</td>
											<td>5 BRILEY PLACE, NASHUA, NEW HAMPSHIRE 03063, USA.</td>
										</tr>
										<tr>
											<td>3</td>
											<td>LIM, VANSON</td>
											<td>APT. # 9, 12 ROYAL CREST DRIVE, NASHUA, NEW HAMPSHIRE 03060, USA.</td>
										</tr>
										<tr>
											<td>4</td>
											<td>HANZL, ROBERT</td>
											<td>REHNIKOVA 2115, 25301 HOSTIVICE (CZ)</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04L 12/56</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/US2006/006232</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2006-02-22</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>11/091,058</td>
									<td>2005-03-28</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/264150-a-method-for-producing-a-label-switching-path-lsp-database-for-network-based-vpns by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2024 23:57:30 GMT -->
</html>
