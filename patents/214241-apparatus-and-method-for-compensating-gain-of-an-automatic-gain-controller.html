<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/214241-apparatus-and-method-for-compensating-gain-of-an-automatic-gain-controller by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 07:50:43 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 214241:APPARATUS AND METHOD FOR COMPENSATING GAIN OF AN AUTOMATIC GAIN CONTROLLER</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">APPARATUS AND METHOD FOR COMPENSATING GAIN OF AN AUTOMATIC GAIN CONTROLLER</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>An apparatus and method for compensating the gain of an Automatic Gain Controller (AGC) for stabilizing the reception power of discontinuously transmitted packet data in a mobile communication system are disclosed. A compensation controller receives an AGC value from the AGC, sampling the AGC value by a predetermined sample number for a predetermined period, and obtains an AGC compensation gain by comparing a predetermined value with the difference between a sampled AGC value with a reference gain for the predetermined period. A compensator compensates the AGC value with the AGC compensation gain, thereby correcting errors generated in view of the nature of the AGC. (FIG.3)</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>FIELD OF THE INVENTION<br>
The present invention relates generally to an automatic gain control apparatus<br>
and method, and in particular, to an apparatus and method for compensating the<br>
error of an automatic gain controller (AGC) in order to stabilize the received<br>
signal power of discontinuously transmitted high-rate packet data in a mobile<br>
communication system.<br>
BACKGROUND OF THE INVENTION<br>
Mobile communication systems for high-rate packet data transmission<br>
(hereinafter, referred to as a high-rate packet transmission mobile<br>
communication system) usually support only data channels or support both data<br>
and voice channels. The former is referred to as an International Mobile<br>
Telecommunication-2000 (IMT-2000) Evolution Data Only (lx EV-DO), while the<br>
latter is referred to as an IMT-2000 Evolution-Data and Voice (lxEV-DV).<br>
To realize high-rate data transmission, a plurality of users share the same<br>
channel for Time Division Multiplexing (TDM) in the high-rate packet<br>
transmission mobile communication systems. A base station receives feedback<br>
forward channel state information from a mobile station and if the channel state<br>
is acceptable, the base station transmits data in a high-order modulation scheme<br>
such as 8 Phase Shift Keying (PSK), 16 Quadrature Amplitude Modulation (QAM),<br>
or 64-QAM to receive a higher data rate. Since a forward packet channel is<br>
shared among a plurality of users in TDM, the base station assigns all available<br>
transmission power to one or two particular users in a time slot assigned to the<br>
users.<br>
Because packet data is usually generated discontinuously, there exist periods<br>
where packets are not transmitted e.g. non-packet-transmission periods. Hence,<br>
if the received signal level of packet data is not kept constant, the use of a high-<br>
order modulation such as 64-QAM leads to poor packet reception quality. A<br>
typical solution is to use an AGC. The structure of the AGC and the level<br>
variations of a signal received at a receiver will be described below with<br>
reference to Fig. 1 to Fig. 2C.<br>
Fig. 1 is block diagram of a typical AGC for keeping a received signal level<br>
constant.<br>
Referring to Fig. 1, the AGC comprises a gain controlled amplifier (GCA) 10 for<br>
receiving a signal s(t) from an antenna (not shown), an accumulator 20 for<br>
accumulating the output of the GCA 10 for a predetermined period, an adder 30<br>
for adding the output of the accumulator 20 to a target reference voltage<br>
AIM_AMP, and a feedback loop filter 40 having a predetermined bandwidth, for<br>
filtering the output of the adder 30.<br>
The GCA 10 is an amplifier controlled by a feedback signal Vc.<br>
During operation, an input signal is fed to the GCA 10. The output of the GCA 10<br>
is divided into two parts and one part of the output is fed to the accumulator 20.<br>
The adder 30 adds an accumulated signal received form the accumulator 20 to<br>
the reference voltage AIM AMP with a negative value. That is, the adder 30<br>
computes the difference between the output of the accumulator 20 and the<br>
reference voltage AIM_AMP. The feedback loop filter 40 filters the signal of the<br>
difference and the GCA 10 amplifies the input signal with the filtered signal.<br>
The level variations of a signal received from a base station will be described in<br>
connection with the strucfure of the AGC.<br>
FIGs. 2A, 2B and 2C are timing diagrams illustrating transmitted power level<br>
variations and received power level variations for discontinuous packet<br>
transmission. More specifically, Fig. 2A illustrates base station transmission<br>
power lor, FIG. 2B illustrates the level of a received signal I0_agc is not kept<br>
constant due to the rapid variation of the transmitted signal at the transmission<br>
start point tl or the transmission end point t3 because the AGC generally<br>
operates in a loop control manner. Thus, some time is taken until the AGC loop is<br>
stabilized. It is an evitable AGC error under the assumption of an ideal AGC.<br>
Therefore, most high-rate packet receives face the same problem in relation to<br>
discontinuous packet transmission.<br>
High-rate packet data transmission involves a high-order modulation like<br>
QPSK/8-PSK or a higher-order modulation scheme such as 16-QAM / 64-QAM.<br>
Demodulation performance is greatly degraded if the AGC error caused by<br>
discontinuous packet transmission makes the power level of an input signal<br>
inconstant.<br>
Moreover, the AGC error lasting until the stabilization of the AGC during the<br>
discontinuously packet transmission changes the received power level in one<br>
slot, which significantly affects the demodulation performance of 16-QAM/64-<br>
QAM. Therefore, there is a need for an algorithm for reducing the power level<br>
variation of a signal output from the AGC in one slot.<br>
US 2001/018275 Al describes a gain control device for packet signal receiver in<br>
which a variable gain amplifier is controlled in accordance with the detected<br>
output power of a received packet signal.<br>
Patent Abstract of Japan 2002 164756 describes a Digital Receiving Device in<br>
which the degree of amplifier in an AGC Circuit is controlled in accordance with<br>
the number of used channel signals.<br>
OBJECTS OF THE INVENTION<br>
An object of the present invention is to provide an apparatus and method for<br>
keeping constant the level of received power measured during a packet<br>
transmission period in a high-rate packet transmission mobile communication<br>
system.<br>
Another object of the present invention is to provide an apparatus and method<br>
for preventing the decrease of reception quality caused by discontinuous packet<br>
transmission in a high-rate packet transmission mobile communication system.<br>
A further object of the present invention is to provide an apparatus and method<br>
for compensating for the power level changes of a distorted received signal in a<br>
high-rate packet transmission mobile communication system.<br>
Still another object of the present invention is to provide an apparatus and<br>
method compensating for the level changes of a distorted received signal without<br>
modifying the structure of a receiver in a high-rate packet transmission mobile<br>
communication system.<br>
SUMMARY OF THE INVEMTTON<br>
The above objects are achieved by an apparatus and method in accordance with<br>
the features of the invention.<br>
In the AGC error compensating apparatus, a compensation controller receives an<br>
AGC output value form the AGC, samples the AGC output value of the<br>
predetermined sample number for a predetermined period, and obtains an AGC<br>
compensation control signal by comparing a predetermined value with the<br>
difference between a sampled AGC output value with a reference gain value for<br>
the predetermined period. A compensator compensates the AGC output value<br>
with the AGC compensation control thereby correcting errors generated in view<br>
of the nature of the AGC. This apparatus further includes an offset compensator<br>
for compensating the power level of the compensated AGC output value with an<br>
AGC compensation offset calculated in the compensation controller.<br>
In the AGC error compensating method, an AGC output value from the AGC is<br>
sampled by a predetermined sample number for a predetermined period, and an<br>
AGC compensation control signal is obtained by comparing a predetermined<br>
value with the difference between a sampled AGC output value with a reference<br>
value for the predetermined period. The AGC output value is compensated with<br>
the AGC compensation compensation control signal, thereby correcting errors<br>
generated in view of the nature of the AGC. Furthermore an AGC compensation<br>
offset is obtained using the difference between the reference value for a present<br>
period and a reference value for a next period extracted in response to a next<br>
reference value clock signal when the predetermined period expires, and the<br>
power level of the compensated AGC output value is compensation offset.<br>
BRIEF DESCRIPTION OF THE ACCOMPANYING DRAWINGS<br>
The above and other objects, features and advantages of the present invention<br>
will become more apparent from the following detailed description when taken in<br>
conjunction with the accompanying drawings in which:<br>
Fig. 1 is a block diagram of a conventional Automatic Gain Controller (AGC) for<br>
keeping the power level of a received signal constant;<br>
Figs. 2A, 2B and 2C are timing diagrams illustrates changes in transmission<br>
power, received signal controlled by AGC, and control voltage in AGC in the<br>
conventional technology;<br>
Fig. 3 is a block diagram illustrating an apparatus for compensating the error of<br>
an AGC in a mobile station receiver in a communication system according to an<br>
embodiment of the present invention;<br>
Fig. 4 is a block diagram illustrating a compensation controller in the error<br>
compensating apparatus of Fig. 3;<br>
Figs. 5A to 5D are timing diagrams illustrates the power level variations of input<br>
signals by applying the error compensation of the AGC according top an<br>
embodiment of the present invention; and<br>
Fig. 6 is a flowchart illustrating a method of compensating the error of the AGC<br>
according to an embodiment to an embodiment of the present invention.<br>
DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS<br>
Embodiments of the present invention will be described herein below with<br>
reference to the accompanying drawings. It should be noted that like reference<br>
numerals denote the same components in the drawings.<br>
Many specific details, such as specific signals and signal levels, which are shown<br>
in the following description, are disclosed for the purpose of helping to form a<br>
comprehensive understanding of the embodiments of eth present invention. It<br>
should be appreciated by those skilled in the art that the embodiments of the<br>
present invention may be implemented without these details. In addition, well-<br>
known functions or constructions are omitted for conciseness.<br>
The embodiments of the present invention will be described in the context of a<br>
forward link in a high-rate packet transmission mobile communication system<br>
that supports multimedia service including voice and data services using the<br>
Code Division Access (IX CDMA) bandwidth. The IX CDMA bandwidth is a 1.25 -<br>
MHz frequency bandwidth found is a existing IS - 95 synchronous systems in<br>
North America. It is used to determine a slot boundary reference signal T125<br>
that in turn determines a clock cycle in an embodiment of the present invention.<br>
As packet data is discontinuously transmitted, it follows that transmission power<br>
rapidly changes at the transmission start point tl or the transmission end point<br>
t3, and as a result, the Automatic Gain Controller (AGC) 110 fails to keep<br>
received power constant, as illustrated in Fig. 2B.<br>
The implementation of an AGC error compensating algorithm in a mobile station<br>
receiver according to an embodiment of the present invention will be described<br>
below.<br>
Fig. 3 is a block diagram of an apparatus for compensating the error of an AGC<br>
in a mobile station receiver according to an embodiment of the present<br>
invention.<br>
Referring to Fig. 3, the mobile station receiver includes a packet data receiver<br>
100, the AGC 110, which is a gain controller and a symbol demodulator 130. The<br>
AGC 110 stabilizes the power level of discontinuous packet data received from<br>
the packet data receiver 100 via gain control and outputs an AGC out put value<br>
AGC_VALUE. AGC_VALUE represents the power level of a distorted signal<br>
generated during the time required fore stabilization in the loop structure of the<br>
AGC 110. It is the gain of one symbol in a slot. The error compensating<br>
apparatus is compensating apparatus is comprised of a channel compensator<br>
121, a Walsh demodulator 122, a first multiplier 123, and a compensation unit<br>
200.<br>
The channel compensator 121 compensates a packet data channel and outputs<br>
P(n,m). The Walsh demodulator 122 demodulates the received packet data with<br>
a Walsh code and outputs Y(n,m). The First multiplier 123 multiplies the channel<br>
compensated signal by the Walsh-demodulated signal and outputs the products<br>
as the distorted signal to be compensated, the is, an actual AGC value Z(n,m) to<br>
be compensated.<br>
The compensation unit 200 has a compensation controller 210, a compensator<br>
220, a symbol energy estimator 230, a second multiplier 240, and an offset<br>
compensator 250. The compensation controller 210 calculates an AGC<br>
compensation control signal AGCC__GAIN and an AGC compensation offset<br>
AGCC_OFFSET with which to compensate AGC_VALUE. The compensator 220<br>
compensates Z(n.m) with AGCCJ3AIN. The symbol energy estimator 230<br>
estimator a reference energy for the compensated value ZAGcc(n, m) received<br>
from the compensator 220. The second multiplier 240 multiplies the estimated<br>
symbol energy _1_ by ZAGcc (n.m). The offset compensator 250 compensates the<br>
VBRE<br>
compensation value product Z agcc (n,m) with AGC_OFFSET received from the<br>
compensation controller 210. it should be noted that AGCC_OFFSET is calculated<br>
only hen needed. In other words, AGC-OFFSET can be omitted if it is<br>
unnecessary.<br>
The symbol energy estimator 230 adopts a blind estimation technique in which it<br>
estimates JL using only the symbols of received data. Radio channel fading can<br>
VBRE<br>
be tracked by estimating _!_ for each slot, and _1_ is used as a reference<br>
vBRE vBRE<br>
energy when demodulating the symbols of a received slot.<br>
The structure and operation of the compensation controller 210 in the<br>
compensation unit 200 will be described in detail with reference to Fig. 4.<br>
Fig. 4 is a block diagram of the compensation controller 210 illustrated in Fig. 3.<br>
Referring to Fig. 4, the compensation controller 210 comprises a timing controller<br>
211, a sampler 212, a first subtracter 213, a first look-up table 214, a storage<br>
215, a second substractor 216, and a second look-up table 217. The timing<br>
controller 211 generates a gain clock signal GAIN_CLK is synchronized to a slot<br>
boundary reference signal T125 of a predetermined period, and used as a<br>
sampling period for aqGC_VALUE. The sampler 212 samples AGC_VALUE in<br>
response to the clock signals.<br>
The storage 215 temporarily stores a signal output from the sampler 212 in<br>
response to REF_GAIN_CLK as a reference value GREf. The First subtracter 213<br>
calculates the difference (i.e compensation value Gcomp) between Gref and an<br>
AGC value sample which is output from the sampler 2121 in response to<br>
GAIN_CLK. The first look-up table 214 outputs AGC_GAIN by comparing Gcomp<br>
with a predetermined value. Here, the storage 215 is a D-flipflop connected to<br>
the timing controller 211 and operated in response to REF_GAIN-CLK.<br>
The second subtracter 216 calculates the difference (i.e compensation offset<br>
Goffset) between the reference value for the present slot and a reference value<br>
for the next slot. The second look-up table 217 outputs AGC_OFFSET by<br>
comparing GoffsEt with the predetermined value.<br>
Returning to Fig. 3, the actual AGC value Z(n,m) to be compensated with AGC-<br>
GAIN from the compensation controller 210 is determined by<br>
where m is the index of a symbol in one slot, and n is the index of the slot. Z (n,<br>
m) is the product of the output P(n,m) of the channel compensator 121 and the<br>
output Y (n,m) of the Walsh-demodulator 212.<br>
In Eq. (1), P is the strength of a pilot signal g(n,m) is again reflected in a<br>
received signal by the AGC loop, h (n,m) is the product of x(n,m) to be multiplied<br>
by a carrier c, and the strength s(n,m) of a received signal s(t) added to P, and<br>
n(n,m) is added to h(n,m). these computations are performed in the packet data<br>
receiver 100 prior to input to the AGC 110.<br>
Figs. 5A to 5D are timing diagrams illustrates the power level variations of input<br>
signals by applying the error compensation of the AGC 110 according to the<br>
present invention.<br>
Fig. 5A illustrates the operation timing of the compensation controller 210<br>
illustrated in Fig. 4 and Fig. 5B illustrates the level change of AGC_GAIN<br>
computed in the compensation controller 210. Figs. 5C and 5D will be described<br>
later in connection with a discussion of FIG. 7.<br>
Since the AGC-controlled power level of a discontinuously received signal is<br>
variable, errors are generated in the output from the AGC 110 during a<br>
stabilization period. That is, the compensation controller 210 receives the<br>
distorted received signal on a symbol basis for one slot. Therefore, correction of<br>
the AGC errors is equivalent to compensation of the output from the SGC 110,<br>
that is, AGC-VALUE.<br>
The timing controller 211 outputs GAIN_CLK and REF_GAIN_CLK to the sampler<br>
212 is response to T125. At the same time, the timing controller 211 outputs<br>
REF_GAIN_CLK to the storage 215. Referring to Fig. 5A. AGC_VALUE is<br>
synchronized to T125 and frequency-divided into a predetermined number of<br>
sample according to GAIN_CLK in the sampler 212. The frequency-division<br>
numbers of AGC-VALUE are used as symbol indexes and the clock pulses of T<br>
Represent slot indexes.<br>
The sampler 212 outputs AGC_VALUE samples by sampling AGC_VALUE<br>
according to GAINJXK and REF.GAIN _CLK. AGC_VALUE sample output from<br>
the sampler 212 in response to REF-GAIN-CLK is stored as GREf for one in the<br>
storage 215. The first subtracter 213 subtracts an AGC_VALUE sample generated<br>
in response to GAIN_CLK from GREf. The first look-up table 214 obtains<br>
AGC_GAIN by comparing Gcomp received from the first subtracter 213 a stored<br>
value. As illustrated in Fig. 5B, since AGC_GAIN is calculated in correspondence<br>
with AGC_VALUE, its level changes in the opposite to the level change illustrated<br>
in Fig. 2. Here, the AGCC_GAIN is calculated by Eq. (2). The compensator 220<br>
illustrated in Fig. 3 compensates Z(n,m) with AGCC_GAIN.<br>
AGCC_GAIN = (gREF(n)/g(n,m))2<br>
Meanwhile, the second subtracter 216 calculates the compensation offset Goffset<br>
subtracting the reference value for the present slot from that for the next slot,<br>
upon generation of REF_GAIN_CLK. The second look-up table 217 then obtains<br>
AGCC-OFFSET for the present slot by comparing Goffset with a corresponding<br>
table value. AGC_OFFSET is calculated by EQ. (3). Returning to Fig. 3, AGCC-<br>
OFFSET is reflected in Z" agcc (n,m) to thereby keep constant the power of a<br>
packet data signal input to the symbol demodulator 130.<br>
AGCC.OFFSET = (gREF (n+1) / gREF (n))2<br>
.........3<br>
Hereinafter, a described will be made of a method of compensating the AGC<br>
error-caused distorted signal, AGC_VALUE using AGCC_GAIN and AGC-OFFSET.<br>
Fig. 6 is a flowchart illustrating a method of correcting AGC errors according to<br>
an embodiment of the present invention.<br>
Referring to FIG. 6, the compensation controller 210 sets variables to their initial<br>
values in step 300. The variables will be described first.<br>
AGC.VALUE is a control signal for a GCA. A sampling period AGC_SAMP_DUR for<br>
AGC_VALUE and the number of samples per slot AGC_SAM_NUM are<br>
determined. REF_GAIN_CLK is synchronized to T125, the slot boundary<br>
reference signal indicating the start of a slot. GAIN_CLK is used as a sampling<br>
clock signal.<br>
The compensation controller 210 initializes counters by setting the symbol index<br>
m and the slot index n to 0s in step 310 and compares m with AGC_SAM_NUM in<br>
step 320. If m is equal to AGC_SAM_NUM, the compensation controller 210 sets<br>
m to the initial value, 0 and increases n by 1 (n = n+1) in step 330. The<br>
compensation controller 210 generates REF_GAIN_CLK in step 335 and proceeds<br>
to step 340. If m is not equal to AGC_SAM_NUM is step 320, the compensation<br>
controller 210 performs step 340.<br>
After the compensation controller 210 samples AGC_VALUE according to GAIN-<br>
CLK in step 340, it determines whether m is the initial value, 0 in step 350.<br>
If m is 0, the compensation controller 210 sets AGC_VALUE for the present<br>
symbol as a reference for an nth slot, GRef(n) (GREF(n) = AGC-VALUE) in step<br>
360. AGC_VALUE being GREF(n) is extracted at each slot start point and stored as<br>
GREF(n) for the slot in the storage 215. Using GREF(n), AGC_GAIN is extracted in<br>
relation to the AGC error of each symbol. Since the control signal for the GCA<br>
and the gain of the GCA in the AGC loop is in the relationship of an exponential<br>
function, the relationship between AGC_VALUE and the gain of the GCA is<br>
expressed as Eq. (4). For reference, upon input of T125 at each slot start point<br>
(m=0), the timing controller 211 generates REF_GAIN_CLK and thus the storage<br>
215 extracts GREF each time it receives REF_GAIN_CLK, in steps 330 and 335.<br>
and then step 380 is performed. On the other hand, if M is not 0 is step 350, the<br>
procedure proceeds to step 380.<br>
The compensation controller 210 obtains an compensation offset GoFFSET(n-l) for<br>
the previous slot by calculating the difference between the reference value<br>
GREF(n) for the present AGC_VALUE and the reference value GREF(n-l) for the<br>
previous slot by Eq. (5). By Eq. (6), the compensation controller 210 sets the<br>
AGC compensation offset of the previous compensation offset G0FFSET(n-l) as the<br>
previous AGC compensation offset AGCC_OFFSET(n-l) using the second look-up<br>
table 217. The compensator 220 reflects AGC_OFFSET(n-l) in the distorted<br>
signal.<br>
In step 380, the compensation controller 210 calculates AGC_GAIN by<br><br>
The compensation controller 210 obtains he compensation value GcoMp(m) for<br>
the present symbol by calculating the difference between the reference value<br>
GREF(n) for the present slot and the AGC output value AGC_VALUE(m) for the<br>
present symbol by Eq. (7). It then obtains a value expressed as an exponential<br>
function in the first look-up table 214 in Eq. (8), corresponding to GcoMp(m), as<br>
AGCC-GAIN.<br>
AGC_LUT(x) = 105xagc_gain_step10<br>
By applying Eq. (7) to Ep. (8), the AGC compensation control signal for the<br>
present symbol in the present slot, AGCC.GAIN (n,m) is expressed as<br>
AGCC_GAIN(n,m) = AGCC_LUT(GC0Mp(m))<br>
........(9)<br>
After calculating AGC_GAIN, the compensation controller 210 increase m by 1 in<br>
step 390 and returns to step 320.<br>
It should be noted that step 370 for calculating AGC_OFFSET and offset<br>
compensation with AGCJDFFSET is optional.<br>
The offset compensator 250 obtains a compensation offset GOFFSET by<br>
multiplying AGC_OFFSET by a compensation value product Z" AGcc(n-l, m)<br>
For the previous slot according to Eq. (10). Z" AGcc(n-l, m) is the product of the<br>
compensated AGC value and the estimated symbol energy, ZAGcc_oFFSET(n-l, m)<br>
for its power offset, thereby making the power of Z" AGC(n-l,m) constant.<br>
ZAGcc_oFFSET(n-l, m) = AGCC_OFFSET(n-l)* Z"AGcc(n-l),m)<br>
..............10<br>
The compensator 220 multiplies AGCC_GAIN by the distorted received signal,<br>
thereby compensating the signal for AGC errors. The compensated signal<br>
ZAGcc(n,m) is expressed as<br>
= g2 REFpx [ I hm l2x (n,m) + h (n,m) n(n,m)]<br>
...........(11)<br>
By Eq. (11), ZAGCC(n,m) is calculated by multiplying AGCC_GAIN<br>
(=(gREF(n)/g(n,m))2) by Z(n,m) from the first multiplier 123 having a output from<br>
the loop of the AGC 110. Thus, ZAGC(n,m) renders the variations of the output<br>
of the AGC 110 for one slot fixed to the present reference value gREF(n) is set for<br>
each slot, AGC is performed with respect to channel variations on a slot basis.<br>
Signal level variations exhibited during this process are shown in Fig. 5C and 5D.<br>
Fig. 5C illustrates the level of an AGC error-caused distorted signal after<br>
reflecting AGC_GAIN . A dotted line denotes the distorted signal and a solid line<br>
denotes the level-controlled signal. The signal distortion is compensated for with<br>
AGC-GAIN and thus the signal power level is kept constant in a corresponding<br>
slot. Fig. 5D illustrates the power level of the final received signal after<br>
AGCC_OFFSET compensates the signal for the compensation offsets GOFFSET of<br>
its power level involved with the AGC compensation process in each slot.<br>
AGCC_OFFSET(n) is calculated at the boundary t3 of the text slot (i.e., n+l)th<br>
slot), at which the next REF_GAIN_CLK is generated, that is, when the next T125<br>
is generated. In the same manner, AGCC_OFFSET(n+l) is calculated when T125<br>
is generated in an (n+2)th slot.<br>
Meanwhile, fading-incurred channel variations are very slow relative to AGC<br>
ERROR-CAUSED CHANNEL VARIATIONS. Hence, the slot-based AGC has little<br>
influence on the AGC"s original function (i.e. keeping constant the power level of<br>
a received signal against radio channel changes).<br>
While the first AGC output value in a slot is used to calculate AGCC-OFFSET in an<br>
embodiment of the present invention, it can be further contemplated as another<br>
embodiment of the present invention that the last AGC output value in the slot is<br>
used as a reference value for stabilizing the loop of the AGC 110.<br>
The AGC error compensation algorithm according to the second embodiment of<br>
the present invention is different from the of the first embodiment in that a<br>
storage is added to store AGC output values because the last AGC output value<br>
in a slot is used as a reference value for the slot. Except for the reference value,<br>
offset compensation is performed in the same manner as described above.<br>
While it has been described that offset compensation is performed when the<br>
dynamic area of a received signal is to be kept constant, the offset compensation<br>
apparatus and operation can be omitted because the offset compensation has<br>
little influence on performance.<br>
As described above, the present invention compensates a received signal for<br>
signal distortion caused by AGC errors due to discontinuous transmission using<br>
an AGC compensation control signal and an AGC compensation offset calculated<br>
from an AGC error compensating algorithm. Therefore, the degradation of<br>
reception quality of a packet channel due to signal distortion is prevented.<br>
While the invention has been shown and described with reference to certain<br>
embodiments thereof, it will be understood by those skilled in the art that<br>
various changes in form and details may be made therein without departing from<br>
the sprit and scope of the invention as defined by the appended claims.<br>
WE CLAIM<br>
1. An apparatus for compensating the error of an automatic gain controller<br>
(110) for controlling the gain of received packet data in a receiver in a<br>
mobile communication system where packet data is discontinuously<br>
transmitted, the apparatus comprising:<br>
a compensation controller (200) for receiving an AGC output value<br>
AGC_VALUE from the AGC, sampling the AGC output value by a<br>
predetermined sample number for a predetermined period, and obtaining<br>
an AGC compensation control signal AGCC_GAIN by calculating the<br>
difference between a sampled AGC output value with a reference value<br>
(Gref) stored for the predetermined period; and<br>
a compensator 220 for compensating the AGC output value with the AGC<br>
compensation control signal, thereby correction errors generated in view<br>
of the nature of the AGC.<br>
2. The apparatus as claimed in claim 1, wherein the reference value<br>
comprises the AGC output value extracted at the start of the<br>
predetermined period and temporarily stored.<br>
3. The apparatus as claimed in claim 2, wherein the compensation controller<br>
comprises :<br>
a timing controller (211) for generating a reference value clock signal in<br>
the predetermined period, and generating a gain clock signal by dividing<br>
the frequency of the reference value clock signal by the predetermined<br>
sample number;<br>
a sampler (212) for sampling the AGC output value for the predetermined<br>
period in response to the gain clock signal;<br>
a storage (215) for temporarily storing the AGC output value and<br>
outputting the AGC output value as the reference value for the<br>
predetermined period in response to the reference value clock signal;<br>
a first subtracter (213) for subtracting the AGC output value sampled in<br>
response to the gain clock signal from the reference value and outputting<br>
the difference as a compensation value (Gcomp); and<br>
a first look-up table (214) for obtaining the AGC compensation control<br>
signal by outputting a stored value corresponding to the compensation<br>
value.<br>
4. The apparatus as claimed in claim 3, wherein the predetermined period<br>
comprises one slot including a transmission unit of packet data.<br>
5. The apparatus as claimed in claim 2, comprising an offset compensator<br>
(250) for compensating the power level of the compensated AGC output<br>
value with an AGC compensation offset calculated in the compensation<br>
controller.<br>
6. The apparatus as claimed in claim 5, wherein the compensation controller<br>
(200) comprises :<br>
a timing controller (211) for generating a reference value clock signal in<br>
the predetermined period and generating a gain clock signal by dividing<br>
the frequency of the reference value clock signal by the predetermined<br>
sample number;<br>
a sampler (212) for sampling the AGC output value for the predetermined<br>
period in response to the gain clock signal;<br>
a storage (215) for temporarily storing the AGC output value and<br>
outputting the AGC output value as the reference value for the<br>
predetermined period in response to the reference value clock signal;<br>
a first subtracter (213) for subtracting the AGC output value sampled in<br>
response to the reference value clock signal from the reference value and<br>
outputting the difference as a compensation value (Gcomp); and<br>
a first look-up table for obtaining the AGC compensation control signal by<br>
outputting a stored value corresponding to the compensation value.<br>
7. The apparatus as claimed in claim 6, wherein the predetermined period<br>
comprises one slot including a transmission unit of packet data.<br>
8. The apparatus as claimed in claim 7, wherein the compensation controller<br>
further comprises:<br>
a second subtracter (216) for subtracting the reference value for a<br>
present period from a reference value for a next period extracted in<br>
response to a next reference value clock signal when the predetermined<br>
period expires and outputting the difference as a compensation offset<br>
(Goffset); and<br>
a second look-up table (217) for obtaining the AGC compensation offset<br>
(AGCC_OFFSET) by outputting a stored value corresponding to the<br>
compensation offset.<br>
9. The apparatus as claimed in claim 1, comprising a symbol energy<br>
estimator for estimating the energy of the compensated AGC value<br>
received from the compensator and normalizing the estimated energy.<br>
10.The apparatus as claimed in claims 1 to 9, wherein the compensator (220)<br>
receives as input a modified AGC value from signal processing units (121,<br>
122).<br>
11. A method of compensating the error of an automatic gain controller (AGC)<br>
for controlling the gain of received packet data in a receiver in a mobile<br>
communication system where packet data is discontinuously transmitted,<br>
the method comprising the steps of:<br>
(1) receiving an AGC output value from the AGC, sampling the AGC<br>
output value by a predetermined sample number for a<br>
predetermined period, and obtaining an AGC compensation control<br>
signal by comparing a predetermined value with the difference<br>
between a sampled AGC output value with a reference value for<br>
the predetermined period; and<br>
(2) compensating the AGC output value with the AGC compensation<br>
control signal, thereby correcting errors generated in view of the<br>
nature of the AGC.<br>
12.The method as claimed in claim 11, wherein the reference value<br>
comprises the AGC output value extracted at the start of the<br>
predetermined period and temporarily stored.<br>
13.The method as claimed in claim 12, wherein the step of (1) comprises the<br>
steps of:<br>
generating a reference value clock signal in the predetermined period, and<br>
generating a gain clock signal by dividing the frequency of the reference<br>
value clock signal by the predetermined sample number;<br>
sampling the AGC output for the predetermined period in response to the<br>
gain clock signal;<br>
temporarily storing the AGC output value and out putting the AGC output<br>
value as the reference value for the predetermined period in response to<br>
the reference value clock signal;<br>
subtracting the AGC output value sampled in response to the gain clock<br>
signal from the reference value and outputting the difference as a<br>
compensation value; and<br>
obtaining the AGC compensation control signal by outputting a stored<br>
value corresponding to the compensation value.<br>
14. The method as claimed in claim 13, wherein the predetermined period<br>
comprises one slot including a transmission unit of packet data.<br>
15.The method as claimed in claim 12, comprising the steps of:<br>
obtaining an AGC compensation offset using the difference between the<br>
reference value for a present period and a reference value for a next<br>
period extracted in response to a next reference value clock signal when<br>
the predetermined period expires; and<br>
compensation the power level of the compensated AGC output value with<br>
the AGC compensation offset.<br>
16. The method as claimed in claim 11, wherein the AGC compensation offset<br>
obtaining step comprises the steps of:<br>
generating a reference value clock signal in the predetermined period and<br>
generating a gain clock by dividing the frequency of the reference value<br>
clock signal by the predetermined sample number;<br>
sampling the AGC output value for the predetermined period in response<br>
to the gain clock signal;<br>
temporarily storing the AGC output value and outputting the AGC output<br>
value as the reference value for the predetermined period in response to<br>
the reference value clock signal;<br>
subtracting the AGC output value sampled in response to the gain clock<br>
signal from the reference value and outputting the difference as a<br>
compensation value; and<br>
obtaining the AGC compensation control signal by outputting a stored<br>
value corresponding to the compensation value.<br>
17.The method as claimed in claim 16, wherein the predetermined period<br>
comprises one slot including a transmission unit of packet data.<br>
18.The method as claimed in claim 11 to 17, wherein the AGC output value is<br>
further processed before being compensated.<br>
An apparatus and method for compensating the error of an Automatic Gain*<br>
Controller (AGC) for stabilizing the reception power of discontinuously<br>
transmitted packet data in a mobile communication system are disclosed. A<br>
compensation controller receives an AGC output value from the AGC, sampling<br>
the AGC output value by a predetermined sample number for a predetermined<br>
period, and obtains an AGC compensation control signal by comparing a<br>
predetermined value with the difference between a sampled AGC output value<br>
with a reference value for the predetermined period. A compensator<br>
compensates the AGC output value with the AGC compensation control signal,<br>
thereby correcting errors generated in view of the nature of the AGC.</td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzY4LWtvbG5wLTIwMDUtZ3JhbnRlZC1hYnN0cmFjdC5wZGY=" target="_blank" style="word-wrap:break-word;">768-kolnp-2005-granted-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzY4LWtvbG5wLTIwMDUtZ3JhbnRlZC1jbGFpbXMucGRm" target="_blank" style="word-wrap:break-word;">768-kolnp-2005-granted-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzY4LWtvbG5wLTIwMDUtZ3JhbnRlZC1jb3JyZXNwb25kZW5jZS5wZGY=" target="_blank" style="word-wrap:break-word;">768-kolnp-2005-granted-correspondence.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzY4LWtvbG5wLTIwMDUtZ3JhbnRlZC1kZXNjcmlwdGlvbiAoY29tcGxldGUpLnBkZg==" target="_blank" style="word-wrap:break-word;">768-kolnp-2005-granted-description (complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzY4LWtvbG5wLTIwMDUtZ3JhbnRlZC1kcmF3aW5ncy5wZGY=" target="_blank" style="word-wrap:break-word;">768-kolnp-2005-granted-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzY4LWtvbG5wLTIwMDUtZ3JhbnRlZC1leGFtaW5hdGlvbiByZXBvcnQucGRm" target="_blank" style="word-wrap:break-word;">768-kolnp-2005-granted-examination report.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzY4LWtvbG5wLTIwMDUtZ3JhbnRlZC1mb3JtIDEucGRm" target="_blank" style="word-wrap:break-word;">768-kolnp-2005-granted-form 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzY4LWtvbG5wLTIwMDUtZ3JhbnRlZC1mb3JtIDE4LnBkZg==" target="_blank" style="word-wrap:break-word;">768-kolnp-2005-granted-form 18.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzY4LWtvbG5wLTIwMDUtZ3JhbnRlZC1mb3JtIDIucGRm" target="_blank" style="word-wrap:break-word;">768-kolnp-2005-granted-form 2.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzY4LWtvbG5wLTIwMDUtZ3JhbnRlZC1mb3JtIDMucGRm" target="_blank" style="word-wrap:break-word;">768-kolnp-2005-granted-form 3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzY4LWtvbG5wLTIwMDUtZ3JhbnRlZC1mb3JtIDUucGRm" target="_blank" style="word-wrap:break-word;">768-kolnp-2005-granted-form 5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzY4LWtvbG5wLTIwMDUtZ3JhbnRlZC1ncGEucGRm" target="_blank" style="word-wrap:break-word;">768-kolnp-2005-granted-gpa.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzY4LWtvbG5wLTIwMDUtZ3JhbnRlZC1sZXR0ZXIgcGF0ZW50LnBkZg==" target="_blank" style="word-wrap:break-word;">768-kolnp-2005-granted-letter patent.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzY4LWtvbG5wLTIwMDUtZ3JhbnRlZC1yZXBseSB0byBleGFtaW5hdGlvbiByZXBvcnQucGRm" target="_blank" style="word-wrap:break-word;">768-kolnp-2005-granted-reply to examination report.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzY4LWtvbG5wLTIwMDUtZ3JhbnRlZC1zcGVjaWZpY2F0aW9uLnBkZg==" target="_blank" style="word-wrap:break-word;">768-kolnp-2005-granted-specification.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NzY4LWtvbG5wLTIwMDUtZ3JhbnRlZC10cmFuc2xhdGVkIGNvcHkgb2YgcHJpb3JpdHkgZG9jdW1lbnQucGRm" target="_blank" style="word-wrap:break-word;">768-kolnp-2005-granted-translated copy of priority document.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="214240-a-revolving-transmission-having-at-least-two-revolving-transmission-cones.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="214242-novel-compounds-as-beta-3-adrenoreceptor-agonist.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>214241</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>00768/KOLNP/2005</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>06/2008</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>08-Feb-2008</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>07-Feb-2008</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>02-May-2005</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>SAMSUNG ELECTRONICS CO., LTD</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>416, MAETAN-DONG, YEONGTONG-GU SUWON-SI GYEONGGI-DO REPUBLIC KOREA.</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>SEONG-WOO AHN</td>
											<td>2002-1101, SHINIL APT., KIHUNG-EUP, YONGIN-SHI,KYONGGI-DO REPUBLIC OF KOREA.</td>
										</tr>
										<tr>
											<td>2</td>
											<td>SEO-WEON HEO</td>
											<td>127-18, KAEBONGBON-DONG, KURO-GU, SEOUL, REPUBLIC OF KORREA</td>
										</tr>
										<tr>
											<td>3</td>
											<td>SAMG-MIN BAE</td>
											<td>102-601, SHINYOUNGTONGT, HYUNDAI APT, PANWOTRI TAEAN -EUP HWASEONG-GUN, KYONGGI-DO REPUBLIC OF KOREA.</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H04B 7/005</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/KR03/002264</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2003-10-24</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>2002-65240</td>
									<td>2002-10-24</td>
								    <td>Republic of Korea</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/214241-apparatus-and-method-for-compensating-gain-of-an-automatic-gain-controller by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 07:50:44 GMT -->
</html>
