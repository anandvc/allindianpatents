<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/272940-optimal-selection-of-hybrid-range-state-and-or-input-speed-with-a-blended-braking-system-in-a-hybrid-electric-vehicle by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 01:50:23 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 272940:OPTIMAL SELECTION OF HYBRID RANGE STATE AND/OR INPUT SPEED WITH A BLENDED BRAKING SYSTEM IN A HYBRID ELECTRIC VEHICLE</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">OPTIMAL SELECTION OF HYBRID RANGE STATE AND/OR INPUT SPEED WITH A BLENDED BRAKING SYSTEM IN A HYBRID ELECTRIC VEHICLE</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A method for operating a vehicle includes determining a transmission input speed, operating the transmission using the transmission input speed, and providing a braking torque request to cause braking of the vehicle according to a scheme selected from the group consisting of a first braking mode and a second braking mode. The transmission input speed and the transmission operating range state are dependent on said braking torque request in the first braking mode, and wherein the transmission operating state, but not the transmission input speed, is dependent on the braking torque request in the second braking mode.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>OPTIMAL SELECTION OF HYBRID RANGE STATE AND/OR INPUT<br>
SPEED WITH A BLENDED BRAKING SYSTEM IN A HYBRID<br>
ELECTRIC VEHICLE<br>
CROSS-REFERENCES TO RELATED APPLICATIONS<br>
[0001] This application claims the benefit of U.S. Provisional Application<br>
No. 60/985,228 filed on 11/3/2007, which is hereby incorporated herein by<br>
reference.<br>
TECHNICAL FIELD<br>
[0002] This disclosure relates generally to control systems for electro-<br>
mechanical transmissions.<br>
BACKGROUND<br>
[0003] The statements in this section merely provide background<br>
information related to the present disclosure and may not constitute prior art.<br>
[0004] Known powertrain architectures include torque-generative devices,<br>
including internal combustion engines and electric machines, which transmit<br>
torque through a transmission device to an output member. One exemplary<br>
powertrain includes a two-mode, compound-split, electro-mechanical<br>
transmission which utilizes an input member for receiving motive torque from<br>
a prime mover power source, preferably an internal combustion engine, and an<br>
output member. The output member can be operatively connected to a<br>
driveline for a motor vehicle for transmitting tractive torque thereto. Electric<br>
machines, operative as motors or generators, generate a torque input to the<br><br><br>
transmission, independently of a torque input from the internal combustion<br>
engine. The electric machines may transform vehicle kinetic energy,<br>
transmitted through the vehicle driveline, to electrical energy that is storable in<br>
an electrical energy storage device. A control system monitors various inputs<br>
from the vehicle and the operator and provides operational control of the<br>
powertrain, including controlling transmission operating state and gear<br>
shifting, controlling the torque-generative devices, and regulating the electrical<br>
power interchange among the electrical energy storage device and the electric<br>
machines to manage outputs of the transmission, including torque and<br>
rotational speed.<br>
SUMMARY<br>
[0095] A motorized vehicle has a powertrain system that includes an engine<br>
coupled to an electro-mechanical transmission selectively operative in one of a<br>
plurality of transmission operating range states and one of a plurality of engine<br>
states, an accelerator control, and an electrical energy storage device. A<br>
method for operating the vehicle includes determining a transmission input<br>
speed, operating the transmission using the transmission input speed, and<br>
providing a braking torque request to cause braking of the vehicle according to<br>
a scheme selected from the group consisting of a first braking mode and a<br>
second braking mode. The transmission input speed and the transmission<br>
operating range state are dependent on said braking torque request in the first<br>
braking mode, and wherein the transmission operating state, but not the<br>
transmission input speed, is dependent on the braking torque request in the<br>
second braking mode.<br><br><br>
BRIEF DESCRIPTION OF THE DRAWINGS<br>
[0006] One or more embodiments will now be described, by way of<br>
example, with reference to the accompanying drawings, in which:<br>
[0007] FIG. 1 is a schematic diagram of an exemplary powertrain, in<br>
accordance with the present disclosure;<br>
[0008] FIG. 2 is a schematic diagram of an exemplary architecture for a<br>
control system and powertrain, in accordance with the present disclosure;<br>
[0009] FIGS. 3 - 8 are schematic flow diagrams of various aspects of a<br>
control scheme, in accordance with the present disclosure;<br>
[0010] FIG. 9 is a schematic power flow diagram, in accordance with the<br>
present disclosure;<br>
[0011] FIG. 10 illustrates an arrangement of a first plurality of preferability<br>
factors relating to a method, in accordance with the present disclosure;<br>
[0012] FIG. 11 illustrates a combination of a plurality of preferability<br>
factors, in accordance with the present disclosure;<br>
[0013] FIG. 12 provides a graphical representation of a stabilization of<br>
changes of operating range of an electro-mechanical hybrid transmission, in<br>
accordance with the present disclosure;<br>
[0014] FIG. 13 shows an alternate graphical representation of a stabilization<br>
of changes of operating range of an electro-mechanical hybrid transmission, in<br>
accordance with the present disclosure;<br>
[0015] FIG. 14 depicts an architecture useful in carrying out execution of a<br>
change of operating range of an electro-mechanical hybrid transmission, in<br>
accordance with the present disclosure;<br><br><br>
[0016] FIG. 15 shows a path taken by the transmission input speed over the<br>
course of a change from one potential transmission operating range state to<br>
another, in accordance with the present disclosure;<br>
[0017] FIG. 16 illustrates variation in transmission input speed values as a<br>
function of time for various potential operating range states of an electro-<br>
mechanical hybrid transmission, in accordance with the present disclosure;<br>
[0018] FIG. 17 shows differences in rpm values between different<br>
transmission input speed values at a selected point in time between various<br>
potential operating range states of an electro-mechanical hybrid transmission,<br>
in accordance with the present disclosure;<br>
[0019] FIG. 18 shows a profile of how input speeds for an electro-<br>
mechanical hybrid transmission vary at a change in mode during resetting of a<br>
filter, in accordance with the present disclosure;<br>
[0020] FIG. 19 illustrates one biasing cost function useful in biasing the<br>
preferability of a potential transmission operating range state for a given<br>
operator torque request, in accordance with the present disclosure;<br>
[0021] FIG. 20 is one embodiment of a representation of the difference over<br>
time between an operator torque request and a desirable transmission torque<br>
output for an exemplary transmission operating range state, in accordance with<br>
the present disclosure;<br>
[0022] FIG. 21 is a graphical definition of the space in which a search engine<br>
selects values for evaluation of torque outputs, in accordance with the present<br>
disclosure;<br>
[0023] FIG. 22 is a 3-dimensional graphical representation of a hypothetical<br>
cost function, in accordance with the present disclosure;<br><br><br>
[0024] FIG. 23 is a profile of how transmission input speed over time might<br>
appear, in accordance with the present disclosure;<br>
[0025] FIG. 24 illustrates a smoothing effect in the transmission input speed<br>
over time, in accordance with the present disclosure;<br>
[0026] FIG. 25 is a flow chart showing processing of data relating to the<br>
accelerator pedal position to provide a biasing cost, in accordance with the<br>
present disclosure; and<br>
[0027] FIG. 26 is a flow chart showing processing of data relating to the<br>
accelerator pedal position to provide a biasing cost, in accordance with the<br>
present disclosure.<br>
DETAILED DESCRIPTION<br>
[0028] Referring now to the drawings, wherein the showings are for the<br>
purpose of illustrating certain exemplary embodiments only and not for the<br>
purpose of limiting the same, FIG. 1 shows an exemplary electro-mechanical<br>
hybrid powertrain. The exemplary electro-mechanical hybrid powertrain<br>
shown in FIG. 1 comprises a two-mode, compound-split, electro-mechanical<br>
hybrid transmission 10 operatively connected to an engine 14, and first and<br>
second electric machines ('MG-A') 56 and ('MG-B') 72. The engine 14 and<br>
first and second electric machines 56 and 72 each generate power which can<br>
be transmitted to the transmission 10. The power generated by the engine 14<br>
and the first and second electric machines 56 and 72 and transmitted to the<br>
transmission 10 is described in terms of input torques, referred to herein as TI,<br>
TA, and TB respectively, and speed, referred to herein as NI, NA, and NB,<br>
respectively.<br><br>
[0029] In one embodiment, the exemplary engine 14 comprises a multi-<br>
cylinder internal combustion engine which is selectively operative in several<br>
states to transmit torque to the transmission 10 via an input shaft 12, and can<br>
be either a spark-ignition or a compression-ignition engine. The engine 14<br>
includes a crankshaft (not shown) operatively coupled to the input shaft 12 of<br>
the transmission 10. A rotational speed sensor 11 is preferably present to<br>
monitor rotational speed of the input shaft 12. Power output from the engine<br>
14, comprising rotational speed and output torque, can differ from the input<br>
speed, NI, and the input torque, TI, to the transmission 10 due to torque-<br>
consuming components being present on or in operative mechanical contact<br>
with the input shaft 12 between the engine 14 and the transmission 10, e.g., a<br>
hydraulic pump (not shown) and/or a torque management device (not shown).<br>
[0030] In one embodiment the exemplary transmission 10 comprises three<br>
planetary-gear sets 24, 26 and 28, and four selectively-engageable torque-<br>
transmitting devices, i.e., clutches C1 70, C2 62, C3 73, and C4 75. As used<br>
herein, clutches refer to any type of friction torque transfer device including<br>
single or compound plate clutches or packs, band clutches, and brakes, for<br>
example. A hydraulic control circuit 42, preferably controlled by a<br>
transmission control module (hereafter 'TCM') 17, is operative to control<br>
clutch states. In one embodiment, clutches C2 62 and C4 75 preferably<br>
comprise hydraulically-applied rotating friction clutches. In one embodiment,<br>
clutches C1 70 and C3 73 preferably comprise hydraulically-controlled<br>
stationary devices that can be selectively grounded to a transmission case 68.<br>
In a preferred embodiment, each of the clutches C1 70, C2 62, C3 73, and C4<br><br>
75 is preferably hydraulically applied, selectively receiving pressurized<br>
hydraulic fluid via the hydraulic control circuit 42.<br>
[0031] In one embodiment, the first and second electric machines 56 and 72<br>
preferably comprise three-phase AC machines, each including a stator (not<br>
shown) and a rotor (not shown), and respective resolvers 80 and 82. The<br>
motor stator for each machine is grounded to an outer portion of the<br>
transmission case 68, and includes a stator core with electrical windings<br>
extending therefrom. The rotor for the first electric machine 56 is supported<br>
on a hub plate gear that is operatively attached to shaft 60 via the second<br>
planetary gear set 26. The rotor for the second electric machine 72 is fixedly<br>
attached to a sleeve shaft hub 66.<br>
[0032] Each of the resolvers 80 and 82 preferably comprises a variable<br>
reluctance device including a resolver stator (not shown) and a resolver rotor<br>
(not shown). The resolvers 80 and 82 are appropriately positioned and<br>
assembled on respective ones of the first and second electric machines 56 and<br>
72. Stators of respective ones of the resolvers 80 and 82 are operatively<br>
connected to one of the stators for the first and second electric machines 56<br>
and 72. The resolver rotors are operatively connected to the rotor for the<br>
corresponding first and second electric machines 56 and 72. Each of the<br>
resolvers 80 and 82 is signally and operatively connected to a transmission<br>
power inverter control module (hereafter 'TPIM') 19, and each senses and<br>
monitors rotational position of the resolver rotor relative to the resolver stator,<br>
thus monitoring rotational position of respective ones of first and second<br>
electric machines 56 and 72. Additionally, the signals output from the<br><br>
resolvers 80 and 82 are interpreted to provide the rotational speeds for first<br>
and second electric machines 56 and 72, i.e., NAand NB, respectively.<br>
[0033] The transmission 10 includes an output member 64, e.g. a shaft,<br>
which is operably connected to a driveline 90 for a vehicle (not shown), to<br>
provide output power, e.g., to vehicle wheels 93, one of which is shown in<br>
FIG. 1. The output power is characterized in terms of an output rotational<br>
speed, NO and an output torque, TO. A transmission output speed sensor 84<br>
monitors rotational speed and rotational direction of the output member 64.<br>
Each of the vehicle wheels 93, is preferably equipped with a sensor 94 adapted<br>
to monitor wheel speed, VSS_WHL, the output of which is monitored by a<br>
control module of a distributed control module system described with respect<br>
to FIG. 2, to determine vehicle speed, and absolute and relative wheel speeds<br>
for braking control, traction control, and vehicle acceleration management.<br>
[0034] The input torques from the engine 14 and the first and second electric<br>
machines 56 and 72 (TI, TA, and TB respectively) are generated as a result of<br>
energy conversion from fuel or electrical potential stored in an electrical<br>
energy storage device (hereafter 'ESD') 74. ESD 74 is high voltage DC-<br>
coupled to the TPIM 19 via DC transfer conductors 27. The transfer<br>
conductors 27 include a contactor switch 38. When the contactor switch 38 is<br>
closed, under normal operation, electric current can flow between the ESD 74<br>
and the TPIM 19. When the contactor switch 38 is opened electric current<br>
flow between the ESD 74 and the TPIM 19 is interrupted. The TPIM 19<br>
transmits electrical power to and from the first electric machine 56 by transfer<br>
conductors 29, and the TPIM 19 similarly transmits electrical power to and<br>
from the second electric machine 72 by transfer conductors 31, in response to<br><br><br>
torque commands for the first and second electric machines 56 and 72 to<br>
achieve the input torques TA and TB. Electrical current is transmitted to and<br>
from the ESD 74 in accordance with commands provided to the TPIM which<br>
derive from such factors as including operator torque requests, current<br>
operating conditions and states, and such commands determine whether the<br>
ESD 74 is being charged, discharged or is in stasis at any given instant.<br>
[0035] The TPIM 19 includes the pair of power inverters (not shown) and<br>
respective motor control modules (not shown) configured to receive the torque<br>
commands and control inverter states therefrom for providing motor drive or<br>
regeneration functionality to achieve the input torques TA and TB. The power<br>
inverters comprise known complementary three-phase power electronics<br>
devices, and each includes a plurality of insulated gate bipolar transistors (not<br>
shown) for converting DC power from the ESD 74 to AC power for powering<br>
respective ones of the first and second electric machines 56 and 72, by<br>
switching at high frequencies. The insulated gate bipolar transistors form a<br>
switch mode power supply configured to receive control commands. There is<br>
typically one pair of insulated gate bipolar transistors for each phase of each of<br>
the three-phase electric machines. States of the insulated gate bipolar<br>
transistors are controlled to provide motor drive mechanical power generation<br>
or electric power regeneration functionality. The three-phase inverters receive<br>
or supply DC electric power via DC transfer conductors 27 and transform it to<br>
or from three-phase AC power, which is conducted to or from the first and<br>
second electric machines 56 and 72 for operation as motors or generators via<br>
transfer conductors 29 and 31, depending on commands received which are<br><br>
typically based on factors which include current operating state and operator<br>
torque demand.<br>
[0036] FIG. 2 is a schematic block diagram of the distributed control module<br>
system. The elements described hereinafter comprise a subset of an overall<br>
vehicle control architecture, and provide coordinated system control of the<br>
exemplary hybrid powertrain described in FIG. 1. The distributed control<br>
module system synthesizes pertinent information and inputs, and executes<br>
algorithms to control various actuators to achieve control objectives, including<br>
objectives related to fuel economy, emissions, performance, drivability, and<br>
protection of hardware, including batteries of ESD 74 and the first and second<br>
electric machines 56 and 72. The distributed control module system includes<br>
an engine control module (hereafter 'ECM') 23, the TCM 17, a battery pack<br>
control module (hereafter 'BPCM') 21, and the TPIM 19. A hybrid control<br>
module (hereafter 'HCP') 5 provides supervisory control and coordination of<br>
the ECM 23, the TCM 17, the BPCM 21, and the TPIM 19. A user interface<br>
('UP) 13 is operatively connected to a plurality of devices through which a<br>
vehicle operator may selectively control or direct operation of the electro-<br>
mechanical hybrid powertrain. The devices present in UI 13 typically include<br>
an accelerator pedal 113 CAP') from which an operator torque request is<br>
determined, an operator brake pedal 112 ('BP'), a transmission gear selector<br>
114 ('PRNDL'), and a vehicle speed cruise control (not shown). The<br>
transmission gear selector 114 may have a discrete number of operator-<br>
selectable positions, including the rotational direction of the output member 64<br>
to enable one of a forward and a reverse direction.<br><br>
[0037] The aforementioned control modules communicate with other control<br>
modules, sensors, and actuators via a local area network (hereafter 'LAN') bus<br>
6. The LAN bus 6 allows for structured communication of states of operating<br>
parameters and actuator command signals between the various control<br>
modules. The specific communication protocol utilized is application-specific.<br>
The LAN bus 6 and appropriate protocols provide for robust messaging and<br>
multi-control module interfacing between the aforementioned control<br>
modules, and other control modules providing functionality such as antilock<br>
braking, traction control, and vehicle stability. Multiple communications<br>
buses may be used to improve communications speed and provide some level<br>
of signal redundancy and integrity. Communication between individual<br>
control modules can also be effected using a direct link, e.g., a serial<br>
peripheral interface ('SPF) bus (not shown).<br>
[0038] The HCP 5 provides supervisory control of the powertrain, serving to<br>
coordinate operation of the ECM 23, TCM 17, TPIM 19, and BPCM 21.<br>
Based upon various input signals from the user interface 13 and the<br>
powertrain, including the ESD 74, the HCP 5 generates various commands,<br>
including: the operator torque request ('TO_REQ'), a commanded output torque<br>
('TCMD') to the driveline 90, an engine input torque command, clutch torques<br>
for the torque-transfer clutches C1 70, C2 62, C3 73, C4 75 of the<br>
transmission 10; and the torque commands for the first and second electric<br>
machines 56 and 72, respectively. The TCM 17 is operatively connected to the<br>
hydraulic control circuit 42 and provides various functions including<br>
monitoring various pressure sensing devices (not shown) and generating and<br>
communicating control signals to various solenoids (not shown) thereby<br><br><br>
controlling pressure switches and control valves contained within the<br>
hydraulic control circuit 42.<br>
[0039] The ECM 23 is operatively connected to the engine 14, and functions<br>
to acquire data from sensors and control actuators of the engine 14 over a<br>
plurality of discrete lines, shown for simplicity as an aggregate bi-directional<br>
interface cable 35. The ECM 23 receives the engine input torque command<br>
from the HCP 5. The ECM 23 determines the actual engine input torque, TI,<br>
provided to the transmission 10 at that point in time based upon monitored<br>
engine speed and load, which is communicated to the HCP 5. The ECM 23<br>
monitors input from the rotational speed sensor 11 to determine the engine<br>
input speed to the input shaft 12, which translates to the transmission input<br>
speed, NI. The ECM 23 monitors inputs from sensors (not shown) to<br>
determine states of other engine operating parameters which may include<br>
without limitation: a manifold pressure, engine coolant temperature, throttle<br>
position, ambient air temperature, and ambient pressure. The engine load can<br>
be determined, for example, from the manifold pressure, or alternatively, from<br>
monitoring operator input to the accelerator pedal 113. The ECM 23<br>
generates and communicates command signals to control engine actuators,<br>
which may include without limitation actuators such as: fuel injectors, ignition<br>
modules, and throttle control modules, none of which are shown.<br>
[0040] The TCM 17 is operatively connected to the transmission 10 and<br>
monitors inputs from sensors (not shown) to determine states of transmission<br>
operating parameters. The TCM 17 generates and communicates command<br>
signals to control the transmission 10, including controlling the hydraulic<br>
circuit 42. Inputs from the TCM 17 to the HCP 5 include estimated clutch<br><br><br>
torques for each of the clutches, i.e., C1 70, C2 62, C3 73, and C4 75, and<br>
rotational output speed, NO, of the output member 64. Other actuators and<br>
sensors may be used to provide additional information from the TCM 17 to the<br>
HCP 5 for control purposes. The TCM 17 monitors inputs from pressure<br>
switches (not shown) and selectively actuates pressure control solenoids (not<br>
shown) and shift solenoids (not shown) of the hydraulic circuit 42 to<br>
selectively actuate the various clutches C1 70, C2 62, C3 73, and C4 75 to<br>
achieve various transmission operating range states, as described hereinbelow.<br>
[0041] The BPCM 21 is signally connected to sensors (not shown) to<br>
monitor the ESD 74, including states of electrical current and voltage<br>
parameters, to provide information indicative of parametric states of the<br>
batteries of the ESD 74 to the HCP 5. The parametric states of the batteries<br>
preferably include battery state-of-charge, battery voltage, battery temperature,<br>
and available battery power, referred to as a range PBAT_MIN to PBAT_MAX.<br>
[0042] Each of the control modules ECM 23, TCM 17, TPIM 19 and BPCM<br>
21 is preferably a general-purpose digital computer comprising a<br>
microprocessor or central processing unit, storage mediums comprising read<br>
only memory ('ROM'), random access memory ('RAM'), electrically<br>
programmable read only memory ('EPROM'), a high speed clock, analog to<br>
digital ('A/D') and digital to analog ('D/A') circuitry, and input/output<br>
circuitry and devices ('I/O') and appropriate signal conditioning and buffer<br>
circuitry. Each of the control modules has a set of control algorithms,<br>
comprising resident program instructions and calibrations stored in one of the<br>
storage mediums and executed to provide the respective functions of each<br>
computer. Information transfer between the control modules is preferably<br><br><br>
accomplished using the LAN bus 6 and serial peripheral interface buses. The<br>
control algorithms are executed during preset loop cycles such that each<br>
algorithm is executed at least once each loop cycle. Algorithms stored in the<br>
non-volatile memory devices are executed by one of the central processing<br>
units to monitor inputs from the sensing devices and execute control and<br>
diagnostic routines to control operation of the actuators, using preset<br>
calibrations. Loop cycles are preferably executed at regular intervals, for<br>
example at each 3.125, 6.25, 12.5, 25 and 100 milliseconds during ongoing<br>
operation of the powertrain. However, any interval between about 2<br>
milliseconds and about 300 milliseconds may be selected. Alternatively,<br>
algorithms may be executed in response to the occurrence of any selected<br>
event.<br>
[0043] The exemplary powertrain shown in reference to FIG. 1 is capable of<br>
selectively operating in any of several operating range states that can be<br>
described in terms of an engine state comprising one of an engine on state<br>
('ON') and an engine off state ('OFF'), and a transmission state comprising a<br>
plurality of fixed gears and continuously variable operating modes, described<br>
with reference to Table I, below.<br><br><br>
[0044] Each of the transmission operating range states is described in the<br>
table and indicates which of the specific clutches C1 70, C2 62, C3 73, and C4<br>
75 are applied for each of the operating range states. As an example, a first<br>
continuously variable mode, i.e., EVT Mode 1, or M1, is selected by applying<br>
clutch C1 70 only in order to "ground" the outer gear member of the third<br>
planetary gear set 28. The engine state can be one of ON ('Ml_Eng_On') or<br>
OFF ('MI_Eng_Off). A second continuously variable mode, i.e., EVT Mode<br>
2, or M2, is selected by applying clutch C2 62 only to connect the shaft 60 to<br>
the carrier of the third planetary gear set 28. The engine state can be one of<br>
ON ('M2_Eng_On') or OFF ('M2_Eng_Off). For purposes of this<br>
description, when the engine state is OFF, the engine input speed is equal to<br>
zero revolutions per minute ('RPM'), i.e., the engine crankshaft is not rotating.<br>
A fixed gear operation provides a fixed ratio operation of input-to-output<br>
speed of the transmission 10, i.e., NI/NO, is achieved. For example, a first<br>
fixed gear operation ('Gl') is selected by applying clutches C1 70 and C4 75.<br><br>
A second fixed gear operation ('G2') is selected by applying clutches C1 70<br>
and C2 62. A third fixed gear operation ('G3') is selected by applying<br>
clutches C2 62 and C4 75. A fourth fixed gear operation ('G4') is selected by<br>
applying clutches C2 62 and C3 73. The fixed ratio operation of input-to-<br>
output speed increases with increased fixed gear operation due to decreased<br>
gear ratios in the planetary gears 24,26, and 28. The rotational speeds of the<br>
first and second electric machines 56 and 72, NA and NB respectively, are<br>
dependent on internal rotation of the mechanism as defined by the clutching<br>
and are proportional to the input speed measured at the input shaft 12.<br>
[0045] In response to operator input via the accelerator pedal 113 and brake<br>
pedal 112 as captured by the user interface 13, the HCP 5 and one or more of<br>
the other control modules determine the commanded output torque, TCMD,<br>
intended to meet the operator torque request, TO_REQ, to be executed at the<br>
output member 64 and transmitted to the driveline 90. Resultant vehicle<br>
acceleration is affected by other factors including, e.g., road load, road grade,<br>
and vehicle mass. The operating range state is determined for the transmission<br>
10 based upon inputs which include a variety of operating characteristics of<br>
the powertrain. These include the operator torque request communicated<br>
through the accelerator pedal 113 and brake pedal 112 to the user interface 13.<br>
[0046] In some embodiments, the operating range state may be predicated on<br>
a powertrain torque demand caused by a command to operate the first and<br>
second electric machines 56 and 72 in an electrical energy generating mode or<br>
in a torque generating mode. In some embodiments, the operating range state<br>
can be determined by an optimization algorithm or routine which determines a<br>
preferential selection of the operating range state based upon inputs which<br><br><br>
may include: operator demand for power; battery state-of-charge; and<br>
operating efficiencies of the engine 14 and the first and second electric<br>
machines 56, 72. The control system manages torque inputs from the engine<br>
14 and the first and second electric machines 56 and 72 based upon pre-<br>
selected outcome criteria embedded in the executed selection routine, and<br>
system operation is controlled thereby to effectively manage resources<br>
commensurate with desired levels of ESD state-of-charge and fuel delivery.<br>
Moreover, operation can be determined, including over-riding of any desired<br>
feature(s), based upon detection of a fault in one or more components or sub-<br>
systems. The HCP 5 monitors the torque-generative devices, and determines<br>
the power output from the transmission 10 required to achieve the output<br>
torque necessary to meet the operator torque request. The ESD 74 and the<br>
first and second electric machines 56 and 72 are electrically-operatively<br>
coupled for power flow therebetween. Furthermore, the engine 14, the first<br>
and second electric machines 56 and 72, and the electro-mechanical<br>
transmission 10 are mechanically-operatively coupled to transmit power<br>
therebetween to generate a power flow to the output member 64.<br>
[0047] Given various operating conditions possible for a motorized vehicle<br>
equipped with an electro-mechanical hybrid transmission, which include<br>
varied environmental and road conditions such as road grade and operator<br>
torque demands, it is generally possible for an electro-mechanical hybrid<br>
transmission to be usefully operatively engaged potentially in more than one<br>
operating range state, including such range states specified in Table I, at a<br>
given time during its operation. Moreover, it may be true that for every<br>
change in road grade, throttle opening, and brake pedal depression that a<br><br><br>
motorized vehicle comprising an electro-mechanical hybrid transmission<br>
experiences during the course of its typical travel, differing operating range<br>
states of the transmission and engine states of the engine may at any time be<br>
viewed as being advantageous in consideration of an overall balance between<br>
such factors including fuel economy, required torque output of the<br>
transmission, and state of charge of the ESD 74. At any one instant in time, a<br>
particular transmission operating range state and engine state may be<br>
desirable, advantageous or preferred, while at subsequent instants in time other<br>
transmission operating range states and engine states may be desirable,<br>
advantageous or preferred, with the result being that over even a relatively<br>
short time span of operation such as, for example, five minutes, conditions<br>
making dozens or more desirable, advantageous, or preferred transmission<br>
operating range states and engine states exist during such time span.<br>
However, this disclosure provides that altering the transmission operating<br>
range state and engine states in response to each and every single change in<br>
operating conditions encountered is not necessarily desirable in a motorized<br>
vehicle having an electro-mechanical hybrid transmission.<br>
[0048] FIG. 3 shows a control system architecture for controlling and<br>
managing signal flow in a hybrid powertrain system having multiple torque<br>
generative devices, described hereinbelow with reference to the hybrid<br>
powertrain system of FIGS. 1 and 2, and residing in the aforementioned<br>
control modules in the form of executable algorithms and calibrations. The<br>
control system architecture is applicable to alternative hybrid powertrain<br>
systems having multiple torque generative devices, including, e.g., a hybrid<br>
powertrain system having an engine and a single electric machine, a hybrid<br><br><br>
powertrain system having an engine and multiple electric machines.<br>
Alternatively, the hybrid powertrain system can utilize non-electric torque-<br>
generative machines and energy storage systems, e.g., hydraulic-mechanical<br>
hybrid transmissions (not shown).<br>
[0049] In operation, the operator inputs to the accelerator pedal 113 and the<br>
brake pedal 112 are monitored to determine the operator torque request. The<br>
operator inputs to the accelerator pedal 113 and the brake pedal 112 comprise<br>
individually determinable operator torque request inputs including an<br>
immediate accelerator output torque request ('Output Torque Request Accel<br>
Immed'), a predicted accelerator output torque request ('Output Torque<br>
Request Accel Prdtd'), an immediate brake output torque request ('Output<br>
Torque Request Brake Immed'), a predicted brake output torque request<br>
('Output Torque Request Brake Prdtd') and an axle torque response type<br>
('Axle Torque Response Type'). As used herein, the term 'accelerator' refers<br>
to an operator request for forward propulsion preferably resulting in increasing<br>
vehicle speed over the present vehicle speed, when the operator selected<br>
position of the transmission gear selector 114 commands operation of the<br>
vehicle in the forward direction. The terms 'deceleration' and 'brake' refer to<br>
an operator request preferably resulting in decreasing vehicle speed from the<br>
present vehicle speed. The immediate accelerator output torque request, the<br>
predicted accelerator output torque request, the immediate brake output torque<br>
request, the predicted brake output torque request, and the axle torque<br>
response type are individual inputs to the control system. Additionally,<br>
operation of the engine 14 and the transmission 10 are monitored to determine<br>
the input speed ('Ni') and the output speed ('No'). The immediate accelerator<br><br><br>
output torque request is determined based upon a presently occurring operator<br>
input to the accelerator pedal 113, and comprises a request to generate an<br>
immediate output torque at the output member 64 preferably to accelerate the<br>
vehicle. The predicted accelerator output torque request is determined based<br>
upon the operator input to the accelerator pedal 113 and comprises an<br>
optimum or preferred output torque at the output member 64. The predicted<br>
accelerator output torque request is preferably equal to the immediate<br>
accelerator output torque request during normal operating conditions, e.g.,<br>
when any one of antilock braking, traction control, or vehicle stability is not<br>
being commanded. When any one of antilock braking, traction control or<br>
vehicle stability is being commanded the predicted accelerator output torque<br>
request remains the preferred output torque with the immediate accelerator<br>
output torque request being decreased in response to output torque commands<br>
related to the antilock braking, traction control, or vehicle stability control.<br>
[0050] The immediate brake output torque request is determined based upon<br>
a presently occurring operator input to the brake pedal 112, and comprises a<br>
request to generate an immediate output torque at the output member 64 to<br>
effect a reactive torque with the driveline 90 which preferably decelerates the<br>
vehicle. The predicted brake output torque request comprises an optimum or<br>
preferred brake output torque at the output member 64 in response to an<br>
operator input to the brake pedal 112 subject to a maximum brake output<br>
torque generated at the output member 64 allowable regardless of the operator<br>
input to the brake pedal 112. In one embodiment the maximum brake output<br>
torque generated at the output member 64 is limited to -0.2g. The predicted<br>
brake output torque request can be phased out to zero when vehicle speed<br><br><br>
approaches zero regardless of the operator input to the brake pedal 112. When<br>
commanded by the operator, there can be operating conditions under which<br>
the predicted brake output torque request is set to zero, e.g., when the operator<br>
setting to the transmission gear selector 114 is set to a reverse gear, and when<br>
a transfer case (not shown) is set to a four-wheel drive low range.<br>
[0051] A strategic control scheme ('Strategic Control') 310 determines a<br>
preferred input speed ('NiDes') and a preferred engine state and transmission<br>
operating range state ('Hybrid Range State Des') based upon the output speed<br>
and the operator torque request and based upon other operating parameters of<br>
the hybrid powertrain, including battery power limits and response limits of<br>
the engine 14, the transmission 10, and the first and second electric machines<br>
56 and 72. The predicted accelerator output torque request and the predicted<br>
brake output torque request are input to the strategic control scheme 310. The<br>
strategic control scheme 310 is preferably executed by the HCP 5 during each<br>
100 ms loop cycle and each 25 ms loop cycle. The desired operating range<br>
state for the transmission 10 and the desired input speed from the engine 14 to<br>
the transmission 10 are inputs to the shift execution and engine start/stop<br>
control scheme 320.<br>
[0052] The shift execution and engine start/stop control scheme 320<br>
commands changes in the transmission operation ('Transmission Commands')<br>
including changing the operating range state based upon the inputs and<br>
operation of the powertrain system. This includes commanding execution of a<br>
change in the transmission operating range state if the preferred operating<br>
range state is different from the present operating range state by commanding<br>
changes in application of one or more of the clutches C1 70, C2 62, C3 73,<br><br><br>
and C4 75 and other transmission commands. The present operating range<br>
state ('Hybrid Range State Actual') and an input speed profile ('Ni_Prof) can<br>
be determined. The input speed profile is an estimate of an upcoming input<br>
speed and preferably comprises a scalar parametric value that is a targeted<br>
input speed for the forthcoming loop cycle. The engine operating commands<br>
and the operator torque request are based upon the input speed profile during a<br>
transition in the operating range state of the transmission.<br>
[0053] A tactical control scheme ('Tactical Control and Operation') 330 is<br>
executed during one of the control loop cycles to determine engine commands<br>
('Engine Commands') for operating the engine 14, including a preferred input<br>
torque from the engine 14 to the transmission 10 based upon the output speed,<br>
the input speed, and the operator torque request comprising the immediate<br>
accelerator output torque request, the predicted accelerator output torque<br>
request, the immediate brake output torque request, the predicted brake output<br>
torque request, the axle torque response type, and the present operating range<br>
state for the transmission. The engine commands also include engine states<br>
including one of an all-cylinder operating state and a cylinder deactivation<br>
operating state wherein a portion of the engine cylinders are deactivated and<br>
unfueled, and engine states including one of a fueled state and a fuel cutoff<br>
state. An engine command comprising the preferred input torque of the<br>
engine 14 and the present input torque ('Ti') reacting between the engine 14<br>
and the input member 12 are preferably determined in the ECM 23. Clutch<br>
torques ('Tel') for each of the clutches C1 70, C2 62, C3 73, and C4 75,<br>
including the presently applied clutches and the non-applied clutches are<br>
estimated, preferably in the TCM 17.<br><br><br>
[0054] An output and motor torque determination scheme ('Output and<br>
Motor Torque Determination') 340 is executed to determine the preferred<br>
output torque from the powertrain ('To_cmd')- This includes determining<br>
motor torque commands ('TA', 'TB') to transfer a net commanded output<br>
torque to the output member 64 of the transmission 10 that meets the operator<br>
torque request, by controlling the first and second electric machines 56 and 72<br>
in this embodiment. The immediate accelerator output torque request, the<br>
immediate brake output torque request, the present input torque from the<br>
engine 14 and the estimated applied clutch torque(s), the present operating<br>
range state of the transmission 10, the input speed, the input speed profile, and<br>
the axle torque response type are inputs. The output and motor torque<br>
determination scheme 340 executes to determine the motor torque commands<br>
during each iteration of one of the loop cycles. The output and motor torque<br>
determination scheme 340 includes algorithmic code which is regularly<br>
executed during the 6.25 ms and 12.5 ms loop cycles to determine the<br>
preferred motor torque commands.<br>
[0055] The hybrid powertrain is controlled to transfer the output torque to<br>
the output member 64 to react with the driveline 90 to generate tractive torque<br>
at wheel(s) 93 to forwardly propel the vehicle in response to the operator input<br>
to the accelerator pedal 113 when the operator selected position of the<br>
transmission gear selector 114 commands operation of the vehicle in the<br>
forward direction. Similarly, the hybrid powertrain is controlled to transfer<br>
the output torque to the output member 64 to react with the driveline 90 to<br>
generate tractive torque at wheel(s) 93 to propel the vehicle in a reverse<br>
direction in response to the operator input to the accelerator pedal 113 when<br><br><br>
the operator selected position of the transmission gear selector 114 commands<br>
operation of the vehicle in the reverse direction. Preferably, propelling the<br>
vehicle results in vehicle acceleration so long as the output torque is sufficient<br>
to overcome external loads on the vehicle, e.g., due to road grade,<br>
aerodynamic loads, and other loads.<br>
[0056] FIG. 4 details signal flow in the strategic optimization control scheme<br>
310, which includes a strategic manager 220, an operating range state analyzer<br>
260, and a state stabilization and arbitration block 280 to determine the<br>
preferred input speed ('NiDes') and the preferred transmission operating<br>
range state ('Hybrid Range State Des'). The strategic manager ('Strategic<br>
Manager') 220 monitors the output speed No, the predicted accelerator output<br>
torque request ('Output Torque Request Accel Prdtd'), the predicted brake<br>
output torque request ('Output Torque Request Brake Prdtd'), and available<br>
battery power PBAT_MIN to PBAT_MAX. The strategic manager 220 determines<br>
which of the transmission operating range states are allowable, and determines<br>
output torque requests comprising a strategic accelerator output torque request<br>
('Output Torque Request Accel Strategic') and a strategic net output torque<br>
request ('Output Torque Request Net Strategic'), all of which are input the<br>
operating range state analyzer 260 along with system inputs ('System Inputs')<br>
and power cost inputs ('Power Cost Inputs'), and any associated penalty costs<br>
('Penalty Costs') for operating outside of predetermined limits. The operating<br>
range state analyzer 260 generates a preferred power cost ('P*cost') and<br>
associated input speed ('N*i') for each of the allowable operating range states<br>
based upon the operator torque requests, the system inputs, the available<br>
battery power and the power cost inputs. The preferred power costs and<br><br><br>
associated input speeds for the allowable operating range states are input to the<br>
state stabilization and arbitration block 280 which selects the preferred<br>
operating range state and preferred input speed based thereon. The operating<br>
range state analyzer 260 executes searches in each candidate operating range<br>
state comprising the allowable ones of the operating range states, including<br>
Ml (262), M2 (264), Gl (270), G2 (272), G3 (274), and G4 (276) to<br>
determine preferred operation of the torque actuators, i.e., the engine 14 and<br>
the first and second electric machines 56 and 72 in this embodiment. The<br>
preferred operation preferably comprises a minimum power cost for operating<br>
the hybrid powertrain system and an associated engine input for operating in<br>
the candidate operating range state in response to the operator torque request.<br>
The associated engine input comprises at least one of a preferred engine input<br>
speed ('Ni*'), a preferred engine input power ('Pi*'), and a preferred engine<br>
input torque ('Ti*') that is responsive to and preferably meets the operator<br>
torque request. The operating range state analyzer 260 evaluates Ml-Engine-<br>
off (264) and M2-Engine-off (266) to determine a preferred cost ('P*cost') for<br>
operating the powertrain system responsive to and preferably meeting the<br>
operator torque request when the engine 14 is in the engine-off state.<br>
[0057] Fig. 6 schematically shows signal flow for the 1 -dimension search<br>
scheme 610. A range of one controllable input, in this embodiment<br>
comprising minimum and maximum input torques ('TiMin/Max'), is input to a<br>
1-D search engine 415. The 1-D search engine 415 iteratively generates<br>
candidate input torques ('Ti(j)') which range between the minimum and<br>
maximum input torques, each which is input to an optimization function ('Opt<br>
To/Ta/Tb') 440, for n search iterations. Other inputs to the optimization<br><br><br>
function 440 include system inputs preferably comprise parametric states for<br>
battery power, clutch torques, electric motor operation, transmission and<br>
engine operation, the specific operating range state and the operator torque<br>
request. The optimization function 440 determines transmission operation<br>
comprising an output torque, motor torques, and associated battery powers<br>
('To(j), Ta(j), Tb(j), Pbat(j), Pa(j), Pb(j)') associated with the candidate input<br>
torque based upon the system inputs in response to the operator torque request<br>
for the candidate operating range state. The output torque, motor torques, and<br>
associated battery powers and power cost inputs are input to a cost function<br>
450, which executes to determine a power cost ('Pcost(j)') for operating the<br>
powertrain in the candidate operating range state at the candidate input torque<br>
in response to the operator torque request. The 1-D search engine 415<br>
iteratively generates candidate input torques over the range of input torques<br>
and determines the power costs associated therewith to identify a preferred<br>
input torque ('Ti*') and associated preferred cost ('P*cost'). The preferred<br>
input torque ('Ti*') comprises the candidate input torque within the range of<br>
input torques that results in a minimum power cost of the candidate operating<br>
range state, i.e., the preferred cost.<br>
[0058] Fig. 7 shows the preferred operation in each of continuously variable<br>
modes Ml and M2 executed in blocks 262 and 264 of the operating range state<br>
analyzer 260. This includes executing a 2-dimensional search scheme 620,<br>
shown with reference to Figs. 6 and 8, in conjunction with executing a 1-<br>
dimensional search using the 1-dimensional search scheme 610 based upon a<br>
previously determined input speed which can be arbitrated ('Input Speed<br>
Stabilization and Arbitration') 615 to determine preferred costs ('P*cost') and<br><br><br>
associated preferred input speeds ('N*i') for the operating range states. As<br>
described with reference to Fig. 8, the 2-dimensional search scheme 620<br>
determines a first preferred cost ('2D P*cost') and an associated first preferred<br>
input speed ('2D NT). The first preferred input speed is input to the 2-<br>
dimensional search scheme 620 and to an adder. The adder sums the first<br>
preferred input speed and a time-rate change in the input speed ('NI_DOT')<br>
multiplied by a predetermined time period ('dt'). The resultant is input to a<br>
switch 605 along with the first preferred input speed determined by the 2-<br>
dimensional search scheme 620. The switch 605 is controlled to input either<br>
the resultant from the adder or the preferred input speed determined by the 2-<br>
dimensional search scheme 620 into the 1-dimensional search scheme 610.<br>
The switch 605 is controlled to input the preferred input speed determined by<br>
the 2-dimensional search scheme 620 into the 1 -dimensional search scheme<br>
610 (as shown) when the powertrain system is operating in a regenerative<br>
braking mode, e.g., when the operator torque request includes a request to<br>
generate an immediate output torque at the output member 64 to effect a<br>
reactive torque with the driveline 90 which preferably decelerates the vehicle.<br>
The switch 605 is controlled to a second position (not shown) to input the<br>
resultant from the adder when the operator torque request does not include<br>
regenerative braking. The 1-dimensional search scheme 610 is executed to<br>
determine a second preferred cost ('ID P*cost') using the 1-dimensional<br>
search scheme 610, which is input to the input speed stabilization and<br>
arbitration block 615 to select a final preferred cost and associated preferred<br>
input speed.<br><br>
[0059] Fig. 8 schematically shows signal flow for the 2-dimension search<br>
scheme 620. Ranges of two controllable inputs, in this embodiment<br>
comprising minimum and maximum input speeds ('NiMin/Max') and<br>
minimum and maximum input powers ('PiMin/Max'), are input to a 2-D<br>
search engine 410. In another embodiment, the two controllable inputs can<br>
comprise minimum and maximum input speeds and minimum and maximum<br>
input torques. The 2-D search engine 410 iteratively generates candidate<br>
input speeds ('Ni(j)') and candidate input powers ('Pi(j)') which range<br>
between the minimum and maximum input speeds and powers. The candidate<br>
input power is preferably converted to a candidate input torque ('Ti(j)') (412).<br>
Each candidate input speed ('Ni(j)') and candidate input torque ('Ti(j)') are<br>
input to an optimization function ('Opt To/Ta/Tb') 440, for n search iterations.<br>
Other inputs to the optimization function 440 include system inputs preferably<br>
comprising parametric states for battery power, clutch torques, electric motor<br>
operation, transmission and engine operation, the specific operating range<br>
state and the operator torque request. The optimization function 440<br>
determines transmission operation comprising an output torque, motor torques,<br>
and associated battery powers ('To(j), Ta(j), Tb(j), Pbat(j), Pa(j), Pb(j)')<br>
associated with the candidate input power and candidate input speed based<br>
upon the system inputs and the operating torque request for the candidate<br>
operating range state. The output torque, motor torques, and associated<br>
battery powers and power cost inputs are input to a cost function 450, which<br>
executes to determine a power cost ('Pcost(j)') for operating the powertrain at<br>
the candidate input power and candidate input speed in response to the<br>
operator torque request in the candidate operating range state. The 2-D search<br><br><br>
engine 410 iteratively generates the candidate input powers and candidate<br>
input speeds over the range of input speeds and range of input powers and<br>
determines the power costs associated therewith to identify a preferred input<br>
power ('P*') and preferred input speed('Ni*') and associated preferred cost<br>
('P*cost'). The preferred input power ('P*') and preferred input speed ('N*')<br>
comprises the candidate input power and candidate input speed that result in a<br>
minimum power cost for the candidate operating range state.<br>
[0060] Fig. 9 schematically shows power flow and power losses through<br>
hybrid powertrain system, in context of the exemplary powertrain system<br>
described above. There is a first power flow path from a fuel storage system 9<br>
which transfers fuel power ('PFUEL') to the engine 14 which transfers input<br>
power ('PI') to the transmission 10. The power loss in the first flow path<br>
comprises engine power losses ('PLOSS ENG')- There is a second power flow<br>
path which transfers electric power ('PBATT') from the ESD 74 to the TPIM 19<br>
which transfers electric power ('PIN ELEC') to the first and second electric<br>
machines 56 and 72 which transfer motor power ('PMOTOR MECH ') to the<br>
transmission 10. The power losses in the second power flow path include<br>
battery power losses ('PLoss BATT') and electric motor power losses ('PLoss<br>
MOTOR')- The TPIM 19 has an electric power load ('PHV LOAD') that services<br>
electric loads in the system ('HV Loads'), which can include a low voltage<br>
battery storage system (not shown). The transmission 10 has a mechanical<br>
inertia power load input ('PINERTIA') in the system ('Inertia Storage') that<br>
preferably include inertias from the engine 14 and the transmission 10. The<br>
transmission 10 has a mechanical power losses ('PLOSS MECH') and power<br><br>
output ('POUT') which can be affected by brake power losses ('PLOSS BRAKE')<br>
when being transferred to the driveline in the form of axle power ('PAXLE')-<br>
[0061] The power cost inputs to the cost function 450 are determined based<br>
upon factors related to vehicle driveability, fuel economy, emissions, and<br>
battery usage. Power costs are assigned and associated with fuel and<br>
electrical power consumption and are associated with specific operating points<br>
of the hybrid powertrain. Lower operating costs can be associated with lower<br>
fuel consumption at high conversion efficiencies, lower battery power usage,<br>
and lower emissions for each engine speed/load operating point, and take into<br>
account the candidate operating state of the engine 14. As described<br>
hereinabove, the power costs may include the engine power losses ('PLOSS<br>
ENG'), electric motor power losses ('PLOSS MOTOR'), battery power losses ('PLOSS<br>
BATT'), brake power losses ('PLOSS BRAKE'), and mechanical power losses<br>
('PLOSS MECH') associated with operating the hybrid powertrain at a specific<br>
operating point which includes input speed, motor speeds, input torque, motor<br>
torques, a transmission operating range state and an engine state.<br>
[0062] A preferred operating cost (PCOST) can be determined by calculating a<br>
total powertrain system power loss PLOSS TOTAL and a corresponding cost<br>
penalty. The total system power loss PLOSS TOTAL comprises all powertrain<br>
system power losses and includes the engine power losses PLOSS ENG, electric<br>
motor power losses PLOSS MOTOR, battery power losses PLOSS BATT, brake power<br>
losses PLOSS BRAKE, and mechanical power losses PLOSS MECH.<br>
[0063] The engine power loss in the engine 14 includes power losses due to<br>
fuel economy, exhaust emissions, losses in the mechanical system (e.g., gears,<br>
pumps, belts, pulleys, valves, chains), losses in the electrical system (e.g., wire<br><br><br>
impedances and switching and solenoid losses), and heat losses. The engine<br>
power loss can be determined for each operating range state based upon input<br>
speed and input torque and/or input speed and input power.<br>
[0064] Thus, in fixed gear operation, i.e., in one of the fixed gear operating<br>
ranges states of G1, G2, G3 and G4 for the embodiment described herein, the<br>
power cost input comprising the mechanical power loss to the cost function<br>
450 can be predetermined outside of the 1-dimension search scheme 610. In<br>
mode operation, i.e., in one of the mode operating ranges states of Ml and M2<br>
for the embodiment described herein, the power cost input comprising the<br>
mechanical power loss to the cost function 450 can be determined during each<br>
iteration of the search scheme 620.<br>
[0065] The state stabilization and arbitration block 280 selects a preferred<br>
transmission operating range state ('Hybrid Range State Des') which<br>
preferably is the transmission operating range state associated with the<br>
minimum preferred cost for the allowed operating range states output from the<br>
operating range state analyzer 260, taking into account factors related to<br>
arbitrating effects of changing the operating range state on the operation of the<br>
transmission to effect stable powertrain operation. The preferred input speed<br>
('Ni_Des') is the engine input speed associated with the preferred engine input<br>
comprising the preferred engine input speed ('Ni*'), the preferred engine input<br>
power ('Pi*'), and the preferred engine input torque ('Ti*,) that is responsive<br>
to and preferably meets the operator torque request for the selected preferred<br>
transmission operating range state.<br>
[00661 The cost information used in the cost function of each iteration loop<br>
in some embodiments comprises operating costs, in terms of energy usage,<br><br><br>
which are generally determined based upon factors related to vehicle<br>
drivability, fuel economy, emissions, and battery life for the operating range<br>
state. Furthermore, costs may be assigned and associated with fuel and<br>
electrical power consumption associated with a specific operating point of the<br>
powertrain system for the vehicle. Lower operating costs are generally<br>
associated with lower fuel consumption at high conversion efficiencies, lower<br>
battery power usage, and lower emissions for an operating point, and take into<br>
account a current operating range state of the powertrain system. The<br>
optimum operating cost (PCOST*) can be determined by calculating a total<br>
powertrain system loss, comprising an overall system power loss and a cost<br>
penalty, such as can be associated with controlling battery state of charge.<br>
The overall system power loss comprises a term based upon engine power loss<br>
driven by fuel economy and exhaust emissions, plus losses in the mechanical<br>
system (e.g., gears, pumps, belts, pulleys, valves, chains), losses in the<br>
electrical system (e.g., wire impedances and switching and solenoid losses),<br>
and heat losses. Other losses to be considered may include electrical machine<br>
power losses, and factors related to battery life due to depth of discharge of the<br>
ESD 74, current ambient temperatures and their effect on state of charge of the<br>
battery. Due to subjective constraints imposed on a system such as that herein<br>
described, the transmission operating range state selected may not in all cases<br>
be that which is truly optimal from the standpoint of energy usage and power<br>
losses. At any one instant in time, a particular transmission operating range<br>
state and engine state may be desirable, advantageous or preferred, while at<br>
subsequent instants in time other transmission operating range states and<br>
engine states may be desirable, advantageous or preferred, with the result<br><br><br>
being that over even a relatively short time span of operation such as, for<br>
example, five minutes, conditions making dozens or more desirable,<br>
advantageous, or preferred transmission operating range states and engine<br>
states exist during such time span. However, this disclosure provides that<br>
altering the transmission operating range state and engine states in response to<br>
each and every single change in operating conditions encountered is not<br>
necessarily desirable in a motorized vehicle having an electro-mechanical<br>
hybrid transmission.<br>
[0067] Given various operating conditions possible for a motorized vehicle<br>
equipped with an electro-mechanical hybrid transmission, which include<br>
varied environmental and road conditions such as road grade and operator<br>
torque demands, it is generally possible for an electro-mechanical hybrid<br>
transmission to be usefully operatively engaged potentially in more than one<br>
transmission operating range state, including such range states specified in<br>
Table I, at a given time during its operation. Moreover, it may be true that for<br>
every change in road grade, accelerator pedal position, and brake pedal<br>
depression that a motorized vehicle including an electro-mechanical hybrid<br>
transmission experiences during the course of its typical travel, differing<br>
transmission operating range state and engine states of the engine may at any<br>
time be viewed as being advantageous in consideration of an overall balance<br>
between such factors including fuel economy, required torque output of the<br>
transmission, and state-of-charge of the ESD 74.<br>
[0068] According to one embodiment of this disclosure, FIG. 10 shows a<br>
first plurality of numerical values, each of which represents a preferability<br>
factor for each of the potential operating range states of an electro-mechanical<br><br><br>
hybrid transmission, and potential engine states for the engine, including the<br>
operating range states and engine states specified in Table I. In FIG. 10, the<br>
designations M1 and M2 refer to mode 1 and mode 2 of the electro-<br>
mechanical hybrid transmission. For purposes of the disclosure, the term<br>
'candidate operating range state' can be used interchangeably with 'potential<br>
operating range state' and the term 'candidate engine state' can be used<br>
interchangeably with 'potential engine state'. The designations G1, G2, G3,<br>
and G4 refer to gear 1, gear 2, gear 3, and gear 4, respectively, and HEOff<br>
refers to the engine state, which engine state is either engine-on or engine-off.<br>
In one embodiment of this disclosure, any one or more such preferability<br>
factors may be arbitrarily assigned. In another embodiment, any one or more<br>
of such preferability factors may comprise an output generated as a result of<br>
any algorithmic or other data processing method which has as an input or basis<br>
any information provided by any one or more sensors disposed at any location<br>
on a motorized vehicle equipped with such an electro-mechanical hybrid<br>
transmission, or disposed on, at, or near any portion of its drive train where<br>
data may be acquired. Such sensors may include without limitation: a wheel<br>
speed sensor 94, an output speed sensor 84, and a rotational speed sensor 11.<br>
[0069] It is desired that the preferability factors provided for each of the<br>
transmission operating range states and engine state shown in FIG. 10 are<br>
maintained in association with their respective transmission operating range<br>
state and engine state, and according to one embodiment of this disclosure<br>
such preferability factors are set forth in an array, as shown in FIG. 10. This<br>
arrangement is not a strict requirement, but is of convenience when<br><br>
performing a method according to this disclosure, as shown and described in<br>
relation to FIG. 11.<br>
[0070] This disclosure also provides a plurality of numerical values, each of<br>
which is associated with one of the possible operating range states and engine<br>
states of an electro-mechanical hybrid transmission at any selected point in<br>
time while in service in a motorized vehicle, such as during operation while a<br>
vehicle is traveling on a road surface, which plurality may be referred to as<br>
current operating range state values. Preferred embodiments include a<br>
numerical value associated with the engine state. This second plurality of<br>
numerical values are shown arranged in an array in FIG. 11 labeled as "current<br>
operating range factors" which includes numerical values for both the<br>
transmission operating range state and the engine state.<br>
[0671] FIG. 11 illustrates how the numerical values of the first plurality of<br>
preferability factors from FIG. 10 may be combined with the second plurality<br>
of preferability factors from the current operating range state and engine state.<br>
In one embodiment, the combination is made by summing the numerical<br>
values from each corresponding operating range state and engine state in each<br>
array, to arrive at a third array that comprises preferability factors for each<br>
possible transmission operating range state and engine state, which is labeled<br>
"new desired operating range factors". As used herein, a desired operating<br>
range state refers to a transmission operating range state or engine state that is,<br>
for one reason or another, generally relating to drivability, but may relate to<br>
engine economy, emissions or battery life, more desirable than the current<br>
transmission operating range state and/or engine state. The numerical values<br>
present in the third array may be compared to one another, and in one<br><br>
embodiment the lowest numerical value present in the third array represents<br>
the transmission operating range state or engine state which is to be selected or<br>
evaluated for selection as a basis upon which to make a change in operating<br>
state of the electro-mechanical hybrid transmission while a motorized vehicle<br>
containing same is in operation. For example, in the third array in FIG. 11, the<br>
lowest numerical value is 7, corresponding to M1 operation of the electro-<br>
mechanical hybrid transmission, whereas the current operating range state for<br>
the transmission is M2, evidenced by the zero in the current operating range<br>
array being the lowest numerical value. In one illustrative, non-limiting<br>
exemplary embodiment, a signal would be sent to a shift execution module<br>
embedded in the TCM 17, suggesting a change of transmission operating<br>
range state from M2 to M1, which may be effected by the TCM. In alternate<br>
embodiments, the TCM may be provided with additional decision-making data<br>
and algorithms to either accept and execute a suggested command change<br>
resulting from a process according to this disclosure, or it may deny such<br>
execution, based on other factors programmed into the TCM 17 which can be<br>
arbitrary in one embodiment, and in other embodiments are based on the<br>
output of one or more algorithms having inputs provided by on-board vehicle<br>
sensors. In one embodiment of the disclosure, the TCM 17 provides current<br>
operating range factors, which may be in the same format that the numerical<br>
values for the second plurality of preferability factors are in. In other<br>
embodiments, the TCM 17 provides current operating range factors in any<br>
format different than that which the numerical values relating to the second<br>
plurality of preferability factors are in.<br><br>
[0072] In another embodiment, the first plurality of preferability factors<br>
described in reference to FIG. 10 may be combined with an alternative<br>
plurality of preferability factors, which are depicted in the array labeled as the<br>
"desired operating range factors" (which include numerical values for both the<br>
transmission operating range state and the engine state) in FIG. 11, to arrive at<br>
a third array comprising a set of preferability factors which are considered the<br>
"new desired operating range factors". The preferability factors comprising<br>
the desired operating range factors may be an output generated as a result of<br>
any algorithm or other data processing method of information provided by any<br>
one or more sensors disposed at any location on a motorized vehicle equipped<br>
with such an electro-mechanical hybrid transmission, or disposed on, at, or<br>
near any portion of its drive train where data may be acquired. Such sensors<br>
include without limitation: a wheel speed sensor 94, an output speed sensor<br>
84, and a rotational speed sensor 11. In another embodiment, the first plurality<br>
of preferability factors described in reference to FIG. 10 may be combined<br>
with both the preferability factors from the current operating range factors and<br>
the desired operating range factors to arrive at a third array comprising new<br>
desired operating range factors.<br>
[0073] In general, one or more of the preferability factors among the desired<br>
operating range factors will change over time, in response to changing<br>
operating conditions encountered by a motorized vehicle equipped with an<br>
electro-mechanical hybrid transmission, and the value of these factors may<br>
either increase or decrease during vehicle operation. For example, when a<br>
operator torque request upon encountering an uphill grade while traveling at a<br>
low speed, the preferability factor associated with G1 operation may be caused<br><br><br>
to decrease in value in response thereto. Similarly, when the vehicle operator<br>
makes a braking torque request upon encountering an downhill grade while<br>
traveling at a constant speed, the preferability factor associated with G1<br>
operation may be caused to increase substantially in value so that selection of<br>
the G1 operating range is essentially precluded.<br>
[0074] In FIG. 11, the numerical values in the arrays comprising the current<br>
operating range factors and the desired operating range factors are identical<br>
only for illustrative purposes, and in practice the numerical values present in<br>
these sets of preferability factors may differ from one another. For<br>
embodiments in which the first plurality of preferability factors from FIG. 10<br>
are combined with those of the desired operating range factors, a third array<br>
comprising preferability factors for a new desired operating range factors are<br>
provided, at least one of which factors are subsequently provided to a shift<br>
control module which may be embedded in the TCM 17. For instances in<br>
which the shift control module orders the execution of a change in<br>
transmission operating range state, engine state, or both, the preferability<br>
factors comprising the new desired operating range factors are communicated<br>
as an input to a process of this disclosure as the desired operating range factors<br>
in a subsequent iteration of a process as herein described, as it is desirable in<br>
such embodiments to repeatedly perform a method as described herein at any<br>
time interval desired or selected, which may be any interval between about 2<br>
milliseconds and about 300 milliseconds, including all intervals and ranges of<br>
intervals therebetween.<br>
[0075] In preferred combinations of preferability factors according to the<br>
disclosure, it is desirable to only combine preferability factors of like kind<br><br><br>
with one another, i.e., preferability factors relating to M1 may only be<br>
combined with other preferability factors which relate to M1, G2 with G2, and<br>
so forth. Although combination of arrays, each of which comprise a plurality<br>
of preferability factors according to one embodiment of this disclosure has<br>
been shown and described as involving the summation of such arrays, and<br>
selecting the least value present in an array as a value for consideration in<br>
making a change in the operating range of an electro-mechanical hybrid<br>
transmission, the present disclosure also includes embodiments in which the<br>
selection criteria is to choose the largest numerical value. In other<br>
embodiments, the combination of two or more arrays may include subtraction,<br>
division, or multiplication of the numerical values corresponding to each<br>
operating range present in the arrays so combined, to provide that one of the<br>
values emerges as unique or differentiable from the remaining values present<br>
as a result of such combination, each value representing a relative preferability<br>
of the engine state or transmission range state. Selection is then made basis<br>
the highest or lowest numerical value present, or any other differentiable<br>
numerical attribute, in each of such embodiments. For cases where two or<br>
more preferability factors present in a set or array which results from a<br>
combination of preferability factors as provided herein are identical or non-<br>
differentiable from one another, the selection of a transmission operating<br>
range from such non-differentiable values may be arbitrary, or may be set to<br>
any default selection desired.<br>
[0076] In one embodiment of the disclosure, the numerical values of the first<br>
plurality of preferability factors in the array shown in FIG. 10 may be selected<br>
to be of a size sufficient to provide a biasing effect when combined with<br><br><br>
numerical values present in either the desired operating range factors or<br>
current operating range factors as described in reference to FIG. 11. For<br>
convenience according to one embodiment, sets of such preferability factors<br>
from FIG. 10 may be provided and arranged in a matrix, as shown in Table II<br>
and Table HI below:<br><br>
Thus, a plurality of preferability factors for the current operating range factors<br>
may be provided from such matrix. Under such an arrangement, if the current<br>
operating range of the electro-mechanical hybrid transmission is M1, then<br>
numerical values from the first row are chosen as the numerical values for the<br>
array to be used in a combination of arrays as described herein. Arrays for the<br>
desired operating range factors may be selected from a matrix such as that<br>
shown in Table III, as representative of preferability factor values associated<br>
with the desired operating range state of the electro-mechanical hybrid<br>
transmission and engine state.<br><br><br>
[0077] When combining arrays comprising current operating range factors<br>
and desirable operating range factors described in reference to FIG. 11 with a<br>
plurality of preferability factors as provided in reference to FIG. 10 according<br>
to this disclosure, the net effect is to stabilize the shifting of the transmission<br>
to both the desired operating range and the current operating range by<br>
inclusion of the preferability factors provided according to FIG. 10. Through<br>
judicious selection of the values in Tables II and III above, an unexpected<br>
benefit arises in that it is possible to select values which prohibit specific<br>
changes in operating range states of an electro-mechanical hybrid<br>
transmission. For example, a change in operating range from M2 to G4 may<br>
be permitted, whereas a change in operating range from M2 to G3 may be<br>
forbidden, the choices of which changes to permit or forbid being in control of<br>
the user of a method herein by their judicious selection of numerical values for<br>
the preferability factors. In general, it is desirable to avoid selecting non-<br>
allowed range states, whether based on output speed of the transmission or any<br>
other criteria selected by a user. In one embodiment, different potential input<br><br><br>
speeds for M1 and M2 operation of the transmission are considered over time<br>
in providing corresponding numerical values for these states in the first<br>
plurality of numerical values, independent of the desired transmission<br>
operating range state. According to one embodiment, a selection process<br>
involves consideration only of the input speed associated with the desired<br>
transmission operating state selected. In one preferred embodiment, the<br>
numerical value representative of the current transmission operating range<br>
state has a bias of zero. In other embodiments, the numerical value<br>
representative of the current transmission operating range state has a relatively<br>
small bias, and may be either positive or negative. Although shown as<br>
positive numerical values, a preferability factor according to the disclosure<br>
may be negative, since the net result of a process herein which combines the<br>
different preferability factors for the result specified depends generally on<br>
their relative magnitudes with respect to one another.<br>
[0078] The net effect of the stabilization of shifting events or changes of<br>
operating range of an electro-mechanical hybrid transmission according to this<br>
disclosure is illustrated in FIG. 12, which uses power loss as its ordinate;<br>
however, other units of ordinate may be employed as desired. In FIG. 12 the<br>
power loss associated with vehicle operation in G1 over time of varying<br>
operating conditions is shown by the dotted wavy line. As this power loss<br>
varies along the abscissa of time labeled as M1, it may be possible for other<br>
operating range states of the electro-mechanical hybrid transmission to be<br>
employed to advantage with respect to fuel economy, battery state-of-charge,<br>
total torque output, etc. However, given typical wide variance in torque<br>
demands over time by an operator, a plurality of shifting or transmission mode<br><br><br>
changes would adversely impact drivability of a vehicle so equipped. Hence,<br>
by the present incorporation of bias, by consideration of the preferability<br>
factors described, the power loss associated with vehicle operation in G1 over<br>
time of varying operating conditions may be moved upwards on the ordinate<br>
scale, to the corresponding solid wavy line, the amount of which bias is<br>
represented by the sum of factors A and B from the first row in Table II and<br>
Table HI respectively. The result of this with reference to FIG. 12 is that the<br>
transmission operating range remains in M1 until the power loss associated<br>
with operating in that mode, plus the bias amount, exceeds the power loss of<br>
operating in another operating range state, in this case G1, at which point a<br>
change in operating range state is effected, with the power loss throughout the<br>
depicted time interval following the path marked by solid circles.<br>
Accordingly, situations where excessive operating range state changes of an<br>
electro-mechanical hybrid transmission occur, are maintained at any desirable<br>
level, dictated by the preferability factors chosen, which can mean their<br>
minimization, as well as substantial or complete elimination. This result is<br>
also depicted in FIG. 13, which shows the transmission desired operating<br>
range state as ordinate, depicting the removal of what would have been<br>
deemed as an undesirable operating range state change tor some end-use<br>
applications of a vehicle equipped with an electro-mechanical hybrid<br>
transmission according to the disclosure.<br>
[0079] In one embodiment, the matrices, arrays, or other arrangements of<br>
preferability factors as described herein are caused to be present in or<br>
accessible to a microprocessor, in hard or soft memory, and the combinations<br>
described herein are preferably carried out using such a processing device,<br><br><br>
which then issues an output to a TCM 17 that itself employs such output as an<br>
input in its own decision-making process. However, any arrangement of the<br>
preferability factors in memory which is convenient for computing purposes<br>
may be employed, in addition to such matrices or arrays as herein described.<br>
Individual preferability factors may relate to, or be based upon any number of<br>
potential variables relating to vehicle operation, and include without limitation<br>
variables relating to energy usage, drivability, fuel economy, tailpipe<br>
emissions, and battery state-of-eharge, with information concerning such<br>
variables being provided in one embodiment, by sensors. In other<br>
embodiments, the preferability factors may be derived from or based on losses<br>
in a mechanical drive system, including losses due to belts, pulleys, valves,<br>
chains, losses in the electrical system, heat losses, electrical machine power<br>
losses, internal battery power loses, or any other parasitic loss in a vehicle<br>
system, taken either alone, or in combination with any one or more other loss<br>
or losses.<br>
[0080] FIG. 14 depicts an architecture including a microprocessor, which is<br>
capable of carrying out execution of a change of operating range state of an<br>
electro-mechanical hybrid transmission according to one embodiment of the<br>
disclosure. FIG. 14 shows microprocessor MP, having inputs of the current<br>
desired range preferability factors, and the preferability factors described in<br>
reference to FIG. 10. The microprocessor has an output, which is inputted to a<br>
transmission control module, TCM 17, which itself provides feedback to the<br>
microprocessor in the form of a plurality of current operating range state<br>
preferability factors. The TCM 17 is capable of providing a suggested shift<br>
execution command to the transmission 10.<br><br><br>
[0081] Operation of a vehicle equipped with an electro-mechanical hybrid<br>
transmission as herein described (including functionally-equivalent devices)<br>
also includes the transmission input speed, NI, which itself is subject to change<br>
as vehicle operating conditions encountered during travel of a motorized<br>
vehicle vary. After undergoing a change in operating conditions, it is true that<br>
in many cases a different transmission operating range state may become more<br>
desirably employed than the present or current transmission operating range<br>
state. In general, the transmission input speed NI are different for different<br>
transmission operating range states possible when the motorized vehicle is<br>
traveling at the same given speed, when different operating modes or<br>
transmission operating states are contemplated as being employed as alternate<br>
operative modalities for operating at a same given speed. Accordingly, a<br>
change in transmission operating state and/or engine state is desirably<br>
accompanied by a change in transmission input speed NI.<br>
[0082] FIG. 15 illustrates graphically one example of how the transmission<br>
input speed NI may vary over time when a vehicle equipped with an electro-<br>
mechanical hybrid transmission as herein described undergoes an exemplary<br>
change in operating range state from M1 to M2. The NI for M1 represents the<br>
current NI when the current transmission operating range state is M1. G2 NI<br>
and M2 NI represent the selected (desired) NI for the corresponding<br>
transmission operating range states. Since a direct change of operating range<br>
state from M1 to M2 is forbidden, the transmission must first pass through G2.<br>
During such a transition, the necessary transmission input speed NI is seen to<br>
first decrease when going from M1 to G2, then to increase slightly over time<br>
during brief operation in G2, after which a steep increase in NI is experienced<br><br><br>
in achieving M2 operation. Therefore, the path or "trip" that the transmission<br>
input speed NI is seen to go through is given by:<br>
(M1 N, - G2 NI) + (M2 NI - G2 NI)	[1]<br>
in which M1 NI is the transmission input speed for transmission M1 operation;<br>
G2 NI is the transmission input speed for transmission G2 operation, M2 NI is<br>
the transmission input speed for transmission M2 operation, and G2 NI is the<br>
transmission input speed for transmission G2 operation. By weighting the<br>
direction of change of N|, the total "cost" of the trip that the transmission input<br>
speed is seen to go through can be provided by a calculation of the type:<br>
TC = [ (M1 NI - G2 NI) * a + (M2 NI - G2 NI) * b ] * x	[2]<br>
in which the "*" character indicates a multiplication operation, and a and b are<br>
constants in which a is used for negative changes in NI and in which b is used<br>
for positive changes in NI. In alternate embodiments, a and b are varying<br>
parameters which are a function of the corresponding distance of the NI trip or<br>
the corresponding desired transmission operating range state. The variable x,<br>
a trip-direction weighting constant, is a subjective value which may be set or<br>
determined by the vehicle engineers. The determination of x takes into<br>
account whether a potential change in transmission operating range state first<br>
requires a shift up followed by a shift down, or whether it first requires a shift<br>
down, followed by a shift up, as shown in FIG. 15. If the required sequence is<br>
shift down, then shift up, then x is set to a subjectively-determined value c. If<br><br><br>
the required sequence is shift up then shift down, the x is set to a subjectively-<br>
determined value d. For the case illustrated in FIG. 15, the formula for<br>
determining TC is:<br>
TC = [ (M1 NI - G2 NI) * a + (M2 NI - G2 NI) * b ] * c	[3]<br>
By analogous arithmetic a trip costing factor (TC) may be readily provided for<br>
every potential change in transmission operating range state and engine state<br>
by consideration of the trip that the NI must pass for a given potential change<br>
in transmission operating range state and engine state at any point in time of<br>
the vehicle travel. Although the changes in NI shown in FIG. 15 follow a<br>
straight-line path for purposes of illustration, in actual operation the changes in<br>
NI may also follow curved paths during all or a portion of the transition,<br>
wherein the paths may be either concave-up or concave-down. As shown as<br>
occurring at different points in time in FIG. 15, the calculation of the NI values<br>
for M1, which in this example is the origin of the trip is that of the monitored<br>
current NI value, and the calculation of NI values for G2 and M2 operation,<br>
which represent the intermediate and final destinations of the trip, may be<br>
conducted simultaneously.<br>
[0083] FIG. 16 graphically illustrates how selected values of NI may vary<br>
over time for each transmission operating range state shown during the<br>
operation of a motorized vehicle equipped with an electro-mechanical hybrid<br>
transmission as herein described. The current NI profile represents the<br>
monitored current NI values, which in this example is when the current<br>
transmission operating range state is M1. In one embodiment, the selected NI<br><br><br>
values (which may in alternate embodiments be desired NI values or required<br>
NI values) at various points in time are arbitrarily selected to yield the curves<br>
shown. In other embodiments the selected NI values at various points in time<br>
are based on the output of one or more algorithms having inputs provided by<br>
on-board vehicle sensors, which after manipulation such as by a<br>
microprocessor may provide curves similar or different to those shown in FIG.<br>
16. Importantly, as shown in FIG. 9, for each point in time Tx under<br>
consideration, there is associated with each of such curves a single point,<br>
which may be used as a basis for calculating the differences in rpm, labeled "A<br>
rpm" which differences in rpm are useful in determining a trip costing factor<br>
associated with every potential change in transmission operating range state<br>
for any desired point in time. While rpm is used herein to exemplify one<br>
implementation, other rotational speed metrics are equally applicable. In one<br>
embodiment, the A rpm values may be conveniently set forth in an array as in<br>
Table IV below:<br><br>
wherein the rpm differences associated with M2 involves the rpm difference<br>
M1 to G2 and G2 to M2 as earlier described. The M1 NI value used for the A<br>
rpm calculation is that of the current M1 NI value and not that of the selected<br>
M1 NI value. The values for the A rpm in Table IV are exemplary of those<br>
encountered when the transmission is presently in M1 operation, as the value<br><br><br>
of the A rpm for M1 is zero, which has a biasing effect that tends to maintain<br>
the transmission operating range state in M1, thus stabilizing the transmission<br>
operating range state with respect to M1 operation. In one embodiment, the<br>
values for the A rpm associated with each potential change in transmission<br>
operating range state, such as those provided in Table IV, are each next<br>
multiplied by the trip direction weighting constants a, b, c, d (which in<br>
alternate embodiments may be varying parameters which are a function of the<br>
corresponding distance of the trip, A rpm, or corresponding desired range)<br>
from the equation defining TC above for each associated potential change in<br>
transmission operating range state, to arrive at a new array comprising a<br>
plurality of Trips Costing factors (TC) representing preferability factors for<br>
each of the transmission operating range states that are effectively based on<br>
the input speed trip or profile associated with each potential change in<br>
operating range state of the transmission, of which the values in Table V are<br>
provided for exemplary purposes and are non-limiting of this disclosure:<br><br>
[0084] The preferability factors based on the input speed trip or profile<br>
("transmission input speed trip preferability factors") associated with each<br>
potential operating range state of the transmission as set forth in Table V may<br>
be combined as herein specified with other sets of preferability factors,<br>
including one or more sets of preferability factors shown in and described with<br>
reference to FIG. 11 towards generation of new desired operating range<br><br><br>
factors. The selected NI values at various points in time as shown in FIG. 16<br>
may be based on the output of one or more algorithms carried out in a<br>
microprocessor having one or more inputs provided by on-board vehicle<br>
sensors, including without limitation sensors mentioned herein. In some<br>
embodiments, transmission input speeds NI for M1 operation and M2<br>
operation are provided at selected intervals with regard to the desired<br>
operating range state of the transmission. In one embodiment, the NI value for<br>
M1 is selected by a microprocessor which searches and selects an NI value<br>
that is associated with the least power loss, which in this embodiment may<br>
serve as, or as a basis for determining the preferability factor for M1 operation<br>
from FIG. 10. At or at about the same time, the NI value for M2 operation is<br>
selected by a microprocessor which searches and selects an NI value that is<br>
associated with the least power loss, which in this embodiment may serve as,<br>
or as a basis for determining the preferability factor for M2 operation from<br>
FIG. 10. Slight changes in operating conditions can substantially alter the<br>
preferability factors, and could result in transmission operation that would<br>
attempt to change gears or modes too frequently, and the biasing or weighting<br>
of the preferability factors as herein described alleviates undesirably frequent<br>
shifting. For embodiments in which NI values for M1 and M2 are<br>
continuously provided at short time intervals on the order of milliseconds in<br>
response to changes in vehicle operating conditions, given that slight changes<br>
in operating conditions can substantially alter the preferability factors, it<br>
occurs that there may be wide fluctuations in the NI values for M1 and M2<br>
from one time interval to the next. Changing operating range state for every<br>
instance that a driving condition changed slightly would result essentially in a<br><br><br>
transmission which was nearly constantly attempting to change gears or<br>
modes, and the biasing or weighting of the preferability factors as herein<br>
described alleviates undesirably frequent shifting. Following generation of<br>
new desired operating range factors and selection of the desired operating<br>
range, the NI values for the desired operating range are evaluated for selection<br>
and it is frequently the case that the NI values may vary substantially from one<br>
interval to the next. It is accordingly desirable to "filter" the NI values, to<br>
remove noise, which noise comprises values that are very high above or below<br>
an average NI value owing to instantaneous fluctuation in the NI values during<br>
one or more short time intervals. In one embodiment, NI values for both M1<br>
operation, M2 operation and neutral are filtered, even though the values of<br>
only one of M1 or M2 are actually to be used at a given point in time, i.e., the<br>
system continuously provides NI values for both M1 and M2 operation. In<br>
such embodiment, while input speeds NI for M1 or M2 operation are provided<br>
continuously or at selected intervals, only the input speed NI associated with<br>
the desired mode (either M1 or M2) is used for creating a desired transmission<br>
input speed profile based on current vehicle operating conditions. After<br>
selection of a desired range state is made, the selected NI values for M1 and<br>
M2 are filtered to reduce noise, while filtering, when the desired range<br>
changes reset the filter of the mode of the desired range that it is transitioning<br>
to, in order that the initial output value is equivalent to the input value, as<br>
shown in FIG. 18. The suggested NI values depicted therein will eventually be<br>
used to create a profile of desired input speeds based on what range is desired.<br>
For example, when M1 is selected as the desired range, NI M1 is used as the<br>
desired NI profile, as soon as M2 becomes desired the profile will switch to<br><br><br>
suggested NI M2. This selective resetting is done so that when the system<br>
switches from one profile to another, the non-filtered suggested NI is used as<br>
the initial value. When filtering the suggested input speeds for noise<br>
reduction, only the suggested input speed of the desired mode is filtered. This<br>
allows the suggested input speed to reset when its mode is chosen.<br>
[0085] One consideration of operating a motorized vehicle that is equipped<br>
with an electro-mechanical hybrid transmission as described herein, is that the<br>
operator of such a motorized vehicle will at different times make different<br>
torque requests from the drivetrain (such as by depressing the vehicle<br>
accelerator or brake pedal). However, in many instances of operator torque<br>
requests, the vehicle drivetrain and/or braking system may be incapable of<br>
delivering the amount of torque requested by the operator, i.e., the brake or<br>
accelerator pedal may be depressed beyond the point at which the system<br>
capabilities to deliver the requested torque can be fulfilled. An accelerator<br>
pedal is one non-limiting form of an accelerator control.<br>
[0086] For different potential engine operating points in operating range<br>
states of the transmission, given the same operator torque request, the<br>
differences between the operator-requested torque and the vehicle drivetrain<br>
capabilities typically differ from one another. In one embodiment of this<br>
disclosure, the difference between the amount of torque requested by the<br>
operator at a given point in time and the torque that is deliverable by the<br>
system when operating at a potential engine operating point is considered for<br>
each of the engine operating points, to generate a plurality of torque difference<br>
values for each of the engine operating points at substantially the time that the<br>
operator makes a torque request. In one embodiment a biasing "cost" value is<br><br><br>
assigned to each of the torque difference values in proportion to the magnitude<br>
by which the deliverable torque for a given engine operating point in a<br>
potential transmission operating range state falls short with respect to that of<br>
the operator torque request. Such biasing cost values generally reflect a lower<br>
degree of desirability for engine operating points having higher biasing costs<br>
associated with them for a given operator torque request, when such biasing<br>
costs are compared with one another and used as a basis in evaluating which<br>
engine operating point is most suitable or desirable for a given operator torque<br>
request at a particular point in time of the vehicle operation. In one<br>
embodiment, the sum of all components representing power losses for various<br>
drivetrain components and this bias cost (comprising the total power loss) for<br>
each potential engine operating point at the torque deliverable that is nearest to<br>
that requested by the operator are compared with one another, with that<br>
potential engine operating point having the least total power loss when<br>
operated at the torque nearest that of the operator torque request being selected<br>
as the desired engine operating point.<br>
[0087] FIG. 19 shows a cost function useful in providing biasing costs<br>
indicating a component of preferability of a potential engine operating point<br>
and transmission operating range state, which is dependent on the magnitude<br>
of an operator torque request. The exemplary definition of a biasing cost<br>
graph in FIG. 19 is a generally-parabolic cost profile, having as its abscissa the<br>
operator torque request. Such a biasing cost profile may be determined by any<br>
function desired, selected, or created by the vehicle engineers, and accordingly<br>
affords an opportunity to include a subjective aspect in the determination of<br>
preferability of different engine operating points and potential transmission<br><br><br>
operating range states. Function types useful in this regard include without<br>
limitation: hyperbolic functions, linear functions, continuous functions, non-<br>
continuous functions, constant functions, smooth-curved functions, circular<br>
functions, ovoid functions, and any combinations comprising any of the<br>
foregoing, either alone or mathematically combined with one another, over<br>
any range of operator torque request values desired or selected. Thus, in one<br>
embodiment, criteria used in the determination of which engine operating<br>
point and transmission operating range state is most desirable for a given<br>
operator torque request at any selected point in time of the travel of a vehicle<br>
having a drivetrain as herein described is not necessarily bound to the most<br>
efficient operation of the motorized vehicle in terms of fuel economy, power<br>
output, drivability, etc.<br>
[0088] For each engine operating point in a potential transmission operating<br>
range state, there exists a minimum output torque (To Min) and a maximum<br>
output torque (To Max) that the drivetrain system is capable of delivering.<br>
The maximum output torque is generally applicable towards vehicle<br>
acceleration and includes such components as the engine input torque and<br>
motor torques from the first and second electric machines. The minimum<br>
output torque is generally applicable towards vehicle deceleration, and<br>
includes such components as braking torque provided during regenerative<br>
braking, including cases when the charging of a battery on-board the vehicle is<br>
accomplished, more or less, by one or more of the electric machines<br>
functioning in their capacity as electrical generators.<br>
[0089] With respect to FIG. 19, which represents a single engine operating<br>
point in a potential transmission operating range state, it is clear that for a<br><br><br>
substantial range of possible operator torque request values residing between<br>
TO Min and TO Max, there is no biasing cost associated therewith, i.e., the<br>
value of the function represented by the dotted line is zero. As the operator<br>
torque request approaches or exceeds the TO Max value, however, the cost<br>
associated with the operator torque request is given by the ordinate value<br>
along the dotted line curve corresponding to the operator torque request.<br>
Other potential transmission operating range states may have the same,<br>
similarly-shaped, or differently-shaped functions associated with them, as<br>
desired.<br>
[0090] In one embodiment, if the operator torque request is within a range<br>
between TO Min and TO Max where the biasing cost function represented by<br>
the dashed line curve in FIG. 19 is constant, in this case at zero, there is no<br>
biasing cost assigned for the particular engine operating point in the operating<br>
range state under consideration at levels of operator torque request residing<br>
within this range. When the operator torque request is for a torque that is<br>
greater than TO Max, the function determining the biasing costs associated<br>
with the torque request is represented by the dashed line in FIG. 11. This<br>
biasing cost may thus comprise a subjective component in addition to the<br>
objective costs associated with power losses in the determination of the engine<br>
operating point selection and the first plurality of numerical values shown in<br>
FIG. 10. Thus, in one embodiment, an operator torque request which only<br>
slightly exceeds that of TO Max, by, for example, 10 Newton-meters, will be<br>
assigned a biasing cost which is less than the biasing cost which would be<br>
assigned to an operator torque request which exceeds that of TO Max by more<br>
than 10 Newton-meters.<br><br><br>
[0091] Table VI below is exemplary of one way to express costs associated<br>
with the difference between a vehicle operator torque request and the<br>
maximum torque deliverable by the drivetrain system for an exemplary<br>
potential transmission operating range state, wherein  N*m is the difference<br>
value in Newton-meters and kW is the cost, expressed in kilowatts in this<br>
example; however any other convenient units, or no units, may be used. Such<br>
an array may be stored in computer memory and accessed by a<br>
microprocessor, on an as-needed basis.<br><br>
[0092] An alternative representation of the biasing cost associated with a<br>
potential transmission operating range state is shown in FIG. 20. In FIG. 20,<br>
the value x represents the difference between the amount of operator torque<br>
request and that torque output which is desirable ("Desirable To") for a<br>
potential transmission operating range state, as but one example. The<br>
Desirable T0 is that amount of torque that is closest to the operator torque<br>
request that is available based on the output torque limits ( TO Max and TO<br>
Min) of the selected engine operating points and the Torque Reserve for the<br>
particular potential transmission operating range state under consideration.<br>
The quantity x, which is a torque difference value ( N*m), varies, depending<br>
on which potential transmission operating state is under consideration, for the<br>
same operator torque request at a same given point in time of vehicle<br><br><br>
operation. Comparison of x values for different potential transmission<br>
operating range states given the same operator torque request enables selection<br>
of that potential transmission operating range state having the least x value, in<br>
one embodiment. In another embodiment, a biasing cost (weighting factor)<br>
may be assigned to the potential transmission operating range state having the<br>
least x value, which is combined with the sum of all components representing<br>
power losses for various drivetrain components, to arrive at a sum total power<br>
loss which may then be used as a criteria for selecting a particular potential<br>
transmission operating range state over others.<br>
[0093] By providing a function having any desired features, including<br>
without limitation those features illustrated by the biasing costs curve in FIG.<br>
19, it is possible to assign a biasing cost to a given operator torque request for<br>
particular instances even when the torque requested in an operator torque<br>
request is below the maximum system torque output. This is illustrated by an<br>
operator torque request having the magnitude at point Q in FIG. 19, which is<br>
below the TO Max, yet there is nevertheless a cost assigned for this potential<br>
transmission operating range state and operator torque request. Such a<br>
provision of costing (or biasing) operator torque requests allows establishment<br>
of a Torque Reserve over the range of operator torque requests which reside<br>
between TO Max and the operator torque request having the highest magnitude<br>
of torque for which no biasing cost is assigned over a range between TO Min<br>
and TO Max. The provision of a range of operator torque requests comprising<br>
such a Torque Reserve effectively biases the preferability of the transmission<br>
control system against selecting system actuator operating points and<br>
transmission operating range states having a TO Max which is greater than, yet<br><br><br>
near to, an operator torque request in an amount that is proportional to the<br>
difference between the operator torque request and the TO Max for the<br>
particular engine operating point in a transmission operating range state under<br>
consideration. Instead of biasing to select system actuator operating points<br>
which can produce the highest TO Max and lowest TO Min, including the<br>
Torque Reserve has the effect of decreasing the bias criteria point TO Max to<br>
TO Max subtracted by the Torque Reserve. This will not only effect the<br>
operator torque requests which exceed the maximum deliverable output<br>
torque, but also the operator torque requests that are less than and near the<br>
maximum deliverable output torque. This results in improved drivability of<br>
the motorized vehicle by reducing the tendency of the transmission system to<br>
cause multiple shifting events or mode changes when an operator torque<br>
request has a magnitude that is near the maximum deliverable for the<br>
transmission operating range state that is currently selected, i.e., currently<br>
under utilization. In embodiments which follow, no Torque Reserve is<br>
present.<br>
[0094] Moreover, when an operator torque request exceeds TO Max (or is<br>
less than TO Min) for cases where a method according to this disclosure which<br>
so uses biasing costs is not employed, information relating to the amount by<br>
which an operator torque request exceeds TO Max (or is less than TO Min) is<br>
lost due to the fact that the total power loss evaluation is based on the<br>
deliverable output torque which is limited by TO Max and TO Min.<br>
Proceeding in accordance with a method of this disclosure and obtaining a<br>
biasing cost value for an operator torque request which exceeds TO Max (or is<br>
less than TO Min) provides information relative to the amount by which such a<br><br><br>
torque request is in excess of TO Max, and this information is incorporated<br>
into the overall selection process concerning which engine operating point and<br>
potential transmission operating state will be selected. In one embodiment,<br>
this information effectively biases a search engine embedded within software<br>
and/or hardware useful for providing the plurality of numerical values shown<br>
in FIG. 10 to locate an engine operating point within each potential<br>
transmission operating range state that biases towards providing the greatest<br>
value of TO Max (least value of TO Min). In one embodiment, the biasing<br>
costs associated with the operator torque request for each of the potential<br>
operating range states of the transmission substantially at the time an operator<br>
makes a torque request during vehicle operation are but one component used<br>
in determining a first plurality of numerical values as shown in FIG. 10.<br>
[0095] In one embodiment, the calculation of each of the numerical values<br>
present in the first plurality of numerical values shown in FIG. 10 include<br>
components relating to objective power losses such as: engine power loss,<br>
battery power loss, electrical machine power loss, and transmission power<br>
loss. Another embodiment provides additional penalty costs, including costs<br>
for exceeding the battery power limits, engine torque limits, electric machine<br>
torque limits, and other subjective costs desired which may include biasing<br>
costs associated with the output torque request as herein described. Also<br>
included are the components generated as the result of an iterative data<br>
processing method that in one embodiment employs a microprocessor-based<br>
search engine.<br>
[0096] A search engine suitable for such a method employs, for each<br>
continuously variable operating range state, a space that is defined as shown in<br><br><br>
FIG. 21 by the region on the coordinate axes bounded by PI Min, PI Max, NI<br>
Min, and NI Max, wherein PI represents power inputted to the electro-<br>
mechanical hybrid transmission and NI is the same transmission input speed.<br>
The search engine selects, either randomly or according to any desired<br>
algorithm, an NI and PI pair present in the space S and calculates a TO Min, TO<br>
Max and total power loss associated with the NI and PI pair chosen, based on<br>
drivetrain system component power losses and operating constraints, which<br>
constraints are either inherent in the system, or imposed by vehicle engineers.<br>
Repetition of this method for a large number of different NI and PI pairs<br>
provides a plurality of different TO Min, TO Max and total power loss values<br>
for a given potential continuously variable transmission operating range state<br>
from which NI and PI pairs from each potential continuously variable<br>
transmission operating state. The method is repeated for each potential<br>
transmission operating range state and a plurality of TO Min, TO Max, and<br>
total power loss values are generated in the space S of and for each potential<br>
transmission operating range state and NI and PI pairs provided.<br>
[0097] From such plurality of different TO Min and TO Max values so<br>
generated by a search engine for a given potential transmission operating<br>
range state, the NI and PI pair having the highest TO Max value associated with<br>
each potential transmission operating range state is biased to be selected as the<br>
preferred NI and PI, to reduce biasing costs associated with the output torque<br>
request in FIG. 19, which is one of the multiple components in the total power<br>
loss, when an operator torque request is greater than the plurality of different<br>
TO Max values generated. For cases in which an operator torque request is<br>
less than the plurality of different TO Min generated, the NI and PI pair<br><br><br>
associated with the lowest TO Min value is biased to be selected as the<br>
preferred NI and PI to reduce biasing costs associated with the output torque<br>
request in FIG. 19, which is one of the multiple components in the total power<br>
loss for the particular potential transmission operating range state under<br>
consideration. The hybrid Engine-Off state can be considered as continuously<br>
variable modes with the NI and PI as being zero; thus. TO Min, TO Max, and<br>
the total power loss are determined without the need for a search procedure.<br>
[0098] In the case of Fixed Gear range states, a search engine suitable for<br>
such a method employs, for each potential transmission operating range state,<br>
a space that is defined by the region on the coordinate axes bounded by TI<br>
Min, and TI Max, wherein TI represents torque inputted to the electro-<br>
mechanical hybrid transmission where the transmission input speed is pre<br>
determined by the hardware parameter of potential transmission operating<br>
range state. The search engine selects, either randomly or according to any<br>
desired algorithm, an TI present in the search range and calculates a TO Min<br>
and TO Max and Total Power Loss associated with the TI chosen, based on<br>
drivetrain system component power losses and operating constraints, which<br>
constraints are either inherent in the system, or imposed by vehicle engineers.<br>
Repetition of this method for a large number of different T, provides a<br>
plurality of different TO Min and TO Max and Total Power Loss values for a<br>
given potential transmission operating range state. The method is repeated for<br>
each potential transmission operating range state and a plurality of TO Min and<br>
TO Max and Total Power Loss are generated in the search range of and for<br>
each potential transmission operating range state and TI is provided.<br><br>
[0099] From such plurality of different TO Min and TO Max values so<br>
generated by a search engine for a given potential transmission operating<br>
range state, the TI having the highest TO Max value associated with each<br>
potential transmission operating range state is biased to be selected as the<br>
preferred TI, when an operator torque request is greater than the plurality of<br>
different TO Max generated. This reduces biasing costs associated with the<br>
output torque request in FIG. 19, which is one of the components in the total<br>
power loss for the particular potential transmission operating range state under<br>
consideration. For cases in which an operator torque request is less than the<br>
plurality of different TO Min generated, the TI associated with the lowest TO<br>
Min value is biased to be selected as the preferred TI to reduce biasing costs<br>
associated with the output torque request in FIG. 19, which is one of the<br>
components in the total power loss for the particular potential transmission<br>
operating range state under consideration.<br>
[00100] In one embodiment, including when a vehicle operator makes a<br>
request for an acceleration torque that is greater than the maximum deliverable<br>
output torque, following generation of a plurality of engine operating points<br>
(NI and PI pairs for continuously variable modes and TI for fixed gears) for<br>
each potential transmission operating range state, which engine operating<br>
points (NI and PI pairs for continuously variable modes and TI for fixed gears)<br>
each have associated with them a TO Min, TO Max, and total power loss<br>
values, the desired transmission operating range state is determined by<br>
comparing the points associated with the selected engine operating points (NI<br>
and PI pairs for continuously variable modes and TI for fixed gears) from each<br>
potential transmission operating state with one another, and selecting that<br><br><br>
operating range state having the least total power loss associated with its point<br>
biased to the highest TO Max value, which corresponds to the least value of x<br>
in FIG. 20.<br>
[00101] In another embodiment, including when a vehicle operator makes a<br>
request for a deceleration torque that is less than the minimum deliverable<br>
output torque, following generation of a plurality of engine operating points<br>
(NI, PI pairs for continuously variable modes and TI for fixed gears) for each<br>
potential transmission operating range state, which engine operating points<br>
(NI, PI pairs for continuously variable modes and TI for fixed gears) each have<br>
associated with them a TO Min, TO Max, and total power loss values, the<br>
desired transmission operating range state is determined by comparing the<br>
points associated with the selected engine operating points (NI and PI pairs for<br>
continuously variable modes and TI for fixed gears) from each potential<br>
transmission operating state which have the least total power loss with one<br>
another and selecting that operating range state having the least total power<br>
loss associated with its point biased to having the lowest TO Min value<br>
(corresponding to the least value of y in FIG. 20).<br>
[00102] In one embodiment, determination of the total power loss associated<br>
with vehicle operation at a point associated with or identified by an engine<br>
operating point (NI and PI pair for continuously variable modes and TI for<br>
fixed gears) in a potential operating range state of the transmission comprises<br>
combining operating costs, in terms of energy usage (kW), which operating<br>
costs are provided based upon factors related to vehicle drivability, fuel<br>
economy, emissions, electrical power consumption and battery life for the<br>
operating range state. Lower operating costs are generally associated with<br><br><br>
lower fuel consumption at high conversion efficiencies, lower battery power<br>
usage, and lower emissions for an operating point, and take into account a<br>
current operating range state of the powertrain system.<br>
[00103] Summation of all power losses (total power loss) associated with<br>
operating at a particular point that is associated with an engine operating point<br>
(NI, PI pair for continuously variable modes and TI for fixed gears) of a<br>
potential transmission operating range state provides a preferability factor<br>
(including without limitation, those shown in FIG. 10) for operating at that<br>
particular point in the particular potential transmission operating range state<br>
under consideration. In the case when the operator torque request is greater<br>
than the torque deliverable by the driveline system, the point associated with<br>
an engine operating point (NI, PI pairs for continuously variable modes and TI<br>
for fixed gears) in the respective search space S or range associated with a<br>
potential transmission operating range state may be selected to be biased to a<br>
point at which the maximum output torque ( TO Max) of the transmission<br>
occurs for that potential transmission operating range state. Depending on the<br>
severity of the bias cost associated with the operator torque request, the<br>
selected point may or may not be that at which the maximum output torque<br>
occurs. Since the point selection is based on minimizing the total power loss<br>
where the bias cost associated with the output torque request is a component<br>
of, the larger the bias costs associated with the output torque request the<br>
greater is the advantage of selecting the point at which the maximum output<br>
torque of the transmission occurs. The search space S or range for each<br>
potential transmission operating range state may be examined, such as by<br>
algorithm, and the point associated with an engine operating point (NI, PI pair<br><br><br>
for continuously variable modes and TI for fixed gears) at which the maximum<br>
output torque (TO Max) of the transmission is biased to occur identified for<br>
each potential transmission operating range state. The points associated with<br>
the engine operating point (NI, PI pair for continuously variable modes and TI<br>
for fixed gears) at which the maximum output torque ( TO Max) of the<br>
transmission is biased to occur for each potential transmission operating range<br>
state are compared with one another to identify the potential transmission<br>
operating range state having the lowest power loss that is likely to have the<br>
highest TO Max, which potential transmission operating range state is selected<br>
as being the best transmission operating range state when a vehicle operator<br>
makes a request for an acceleration torque, which is a torque request that tends<br>
to deliver more torque to the vehicle drive wheel(s) that are in contact with the<br>
road surface.<br>
[00104] Similarly, in the case when the operator torque request is less than the<br>
torque deliverable by the driveline system, the point associated with an engine<br>
operating point (NI, PI pair for continuously variable modes and TI for fixed<br>
gears) associated with a potential transmission operating range state may be<br>
selected to be biased to a point at which the minimum output torque (TO Min)<br>
of the transmission occurs for that potential transmission operating range state.<br>
Depending on the severity of the bias cost associated with the operator torque<br>
request, the point selected may or may not be that at which the minimum<br>
output torque occurs. Since the point selection is based on minimizing the<br>
total power loss where the bias cost associated with the output torque request<br>
is a component of, the larger the bias costs associated with the output torque<br>
request the more advantage there is to selecting the point at which the<br><br><br>
minimum output torque of the transmission occurs. The search space S, or<br>
range for each potential transmission operating range state may be examined,<br>
such as algorithmically using a microprocessor, and the point associated with<br>
an NI and PI pair at which the minimum output torque (TO Min) of the<br>
transmission is biased to occur identified for each potential transmission<br>
operating range state. The points associated with the engine operating point<br>
(NI, PI pair for continuously variable modes and TI for fixed gears) at which<br>
the minimum output torque (TO Min) of the transmission is biased to occur for<br>
each potential transmission operating range state are compared with one<br>
another to identify the potential transmission operating range state having the<br>
lowest total power loss which is likely to have the lowest TO Min, which<br>
potential transmission operating range state is selected as being the best<br>
transmission operating range state when a vehicle operator makes a request for<br>
an deceleration torque, which is a torque request that tends to deliver less<br>
torque to the vehicle drive wheel(s) that are in contact with the road surface.<br>
[00105] According to one embodiment of this disclosure, for cases of operator<br>
torque requests which command heavy vehicle acceleration (levels of<br>
acceleration for which the operator torque request is greater than that<br>
deliverable by the driveline system and the pre-determined bias cost associated<br>
with the output torque request is severe enough to overrule all other<br>
components of the total power loss), determining the engine operating point<br>
(NI, PI pair for continuously variable modes and TI for fixed gears) having the<br>
least power loss associated with them automatically results in determination of<br>
the NI and P( pair having the T0 Max, because the engine operating point (NI,<br>
PI pair for continuously variable modes and TI for fixed gears) having the<br><br><br>
highest TO Max values associated with it, also has the smallest power losses<br>
associated with it. The converse is true for cases of operator torque requests<br>
which command vehicle deceleration.<br>
[00106] Hence, in a method according to an embodiment of the disclosure, an<br>
operator torque request is made during operation of a vehicle equipped with a<br>
system as herein described. A search engine embedded in an on-board<br>
microprocessor chooses a first engine operating point (NI, PI pair for<br>
continuously variable modes and TI for fixed gears) from the search space S or<br>
range associated with a potential transmission operating range state. TO Max<br>
and TO Min values associated with that engine operating point (NI, PI pair for<br>
continuously variable modes and TI for fixed gears) in the search space S or<br>
range are calculated. Then, the power losses associated with that engine<br>
operating point (NI, PI pair for continuously variable modes and TI for fixed<br>
gears) in the respective search space S or range are calculated. As part of the<br>
total power loss calculation, the difference between the operator torque request<br>
and the TO Max (or TO Min, as may be applicable for cases where deceleration<br>
torque is requested) is assigned a biasing cost. This process is repeated for<br>
each engine operating point (NI and PI pair for continuously variable modes<br>
and TI for fixed gears) in the space S or range chosen by the search algorithm<br>
associated with that potential transmission operating range state, which results<br>
in a cost being associated with each chosen engine operating point (NI, PI pair<br>
for continuously variable modes and TI for fixed gears) in the respective<br>
search space S or range associated with that potential transmission operating<br>
range state. The points having the lowest biasing costs are inherently inclined<br>
to have the highest TO Max and lowest TO Min values.<br><br><br>
[00107] Thus, a method according to the disclosure is concerned with<br>
balancing selection of a transmission operating range state from a set of<br>
potential transmission operating range states between choosing engine<br>
operating point (NI, PI pair for continuously variable modes and TI for fixed<br>
gears, with emphasis on the NI value, which is used for creating a desired<br>
transmission input profile as earlier described herein) in the respective search<br>
space S or range which have the least power losses of the system associated<br>
with each potential transmission operating range state, which includes a bias<br>
cost that biases the point selection to a point which has the highest TO Max,<br>
(or lowest TO Min). Preference in some embodiments may be given to those<br>
engine operating point (NI, PI pair for continuously variable modes and TI for<br>
fixed gears) within the respective search space S or range for the various<br>
potential transmission operating range states which have the absolute least<br>
total power losses, which includes large bias costs associated with the output<br>
torque request, which in such instance is more concerned with meeting an<br>
extreme torque request from the vehicle operator. In other embodiments,<br>
preference may be given to those engine operating points (NI, PI pairs for<br>
continuously variable modes and TI for fixed gears) within the respective<br>
search space S or range for the various potential transmission operating range<br>
states which have the absolute least total power losses, which include none or<br>
small bias costs associated with the output torque request, as this is an instance<br>
wherein it is desired to focus less on attempting to meet the extreme torque<br>
demand of the driver, and more on overall system efficiency. The choice<br>
between whether preference is given to system performance to meet the<br>
extreme torque demand as closely as possible, or to maximize the overall<br><br><br>
system efficiency is controllable by altering the function which determines the<br>
shape of the biasing cost curve shown in FIG. 19. When the slope of the curve<br>
defined by the function therein is selected to be steeper, more weight is given<br>
to meeting the operator torque request that is higher or lower than the torque<br>
output deliverable by the driveline.<br>
[00108] Once a method of the disclosure has been used to identify which<br>
potential transmission operating range state is to be selected, the transmission<br>
input speed NI that was the basis for the selection of that particular<br>
transmission operating range state is used as the transmission input speed for<br>
continuously variable modes.<br>
[00109] It has been demonstrated that an operating point described by a<br>
particular NI, PI pair is caused to be selected from a search range space in view<br>
of power losses associated with one or more cost functions, for the case of<br>
operation in modes such as M1 and M2. However, it may in certain instances,<br>
depending on the structure of the cost function(s) employed and operating<br>
conditions encountered, be possible that the search method fails to converge to<br>
the NI, PI pair associated with the lowest total power loss. For example, in<br>
some instances this may be due to the nature of the costing functions and<br>
operating conditions, eddies or areas on the cost function curve(s) having local<br>
minima may cause an iterative search method using a search engine as herein<br>
described to zero-in on one NI, PI pair associated with a local minimum<br>
associated with a power loss that is greater than that of the global minimum,<br>
such as that shown in exemplary FIG. 22, instead of the global minimum that<br>
is defined by a different NI, PI pair. In such instances it may be considered<br>
that the search for an appropriate NI, PI pair has then failed, which failure may<br><br><br>
become problematic with regards to stable operation of an electro-mechanical<br>
transmission as provided herein. However, even for some cases where the<br>
search does not so "fail" it may be desirable to ensure that the NI value that is<br>
chosen has good subjective appeal to the operator. For instance, it might be<br>
that in some instances when a person who is operating a vehicle equipped with<br>
a driveline as herein described depresses the accelerator pedal, that an NI value<br>
is chosen which is lower than that which was in use prior to the depression of<br>
the accelerator pedal. In general, vehicle operators are accustomed to hearing<br>
a vehicle engine increase in rpm when they depress an accelerator pedal and<br>
hearing or sensing a decrease in NI in particular instances may provide an<br>
undesirable, un-natural feeling to a vehicle operator, which situation is<br>
desirably avoided.<br>
[00110] In one embodiment a method as provided herein examines NI values<br>
from a previous iteration of the search engine and makes a determination of<br>
whether a prior NI value is more desirable, in terms of power loss, than a<br>
newly-generated NI value from the search engine. For those cases where it is<br>
found that the search "failed", the prior NI value may be chosen by Arbitration<br>
over the newly-generated NI value, causing the general shape of the graph of<br>
the NI value over time to appear as shown in FIG. 23, being constant over the<br>
region(s) where the search fails and the 1-dimensional (ID) search engine<br>
predominates the 2-dimensional (2D) search engine results. In general, the<br>
Arbitration will examine the output of the 1D and 2D search engines and<br>
choose that output having the least power loss associated with it.<br><br>
[00111] In other embodiments, input speed (NO stabilization is enhanced by<br>
adding a cost to the existing cost function(s) or providing a separate cost<br>
function which stabilizes NI to the position of the vehicle accelerator pedal.<br>
[00112] The disclosure provides an improved value for NI in those cases<br>
where the search fails, by considering the rate of change of the input speed<br>
(NI) expressed as d(NI)/dt. In one embodiment, an improved NI value is<br>
provided the equation:<br>
new NI = old NI + [d(NI)/dt] (dt)	[4]<br>
(wherein "old NI" refers to the NI selected from the previous search, and<br>
d(NI)/dt refers to the optimal input speed change rate which are predetermined<br>
parameters which are dependent on the operator torque request and driving<br>
conditions. These parameters represent a desired optimal input speed change<br>
rate and may be based on simulated results of the 2D search process for<br>
various operator torque requests and driving conditions) and the NI / time<br>
profile is also manipulated, based on accelerator pedal position by adding<br>
costs for those situations in which the NI profile over time is moving in a<br>
direction which is deemed undesirable, based on subjective features<br>
determined by the vehicle engineers. This has the net effect of costing, and<br>
hence making less favorable from the standpoint of selection, undesirable<br>
movements in the NI profile over time. Thus, according to a general case as<br>
provided herein, the trajectory of the input speed that is chosen to be most<br>
desirable, which may be called Opt NI, is stabilized by replacing the 2-<br>
dimensional search optimal input speed (2D Opt NI) with the sum of the<br><br><br>
optimal input speed from the previous loop (Opt NI old) and the optimal input<br>
speed change rate, multiplied by the time interval between search loops<br>
[d(NI)/dt](dt), as shown pictorially in FIG. 24, in which the following<br>
equalities apply:<br>
2D OptN, - 2D NI *	[5]<br>
ID OptNI = 1DNI	[6]<br>
2D OptPwrLoss = 2D PCost*	[7]<br>
1D OptPwrLoss = 1D PCost*	[8]<br>
in which OptNI is the Arbitrated NI, and OptPwrLoss is the Arbitrated<br>
PCost*). With reference to FIG. 25, one exemplary algorithm useful for<br>
determining NI is:<br>
If 2D OptCost &gt; ID OptCost (*)<br>
OptNi = OptNi_old + [d(NI)/dt] (dt)<br>
OptPwrLoss = 1D OptPwrLoss<br>
Else<br>
OptNi = 2D OptNi<br>
OptPwrLoss = 2D OptPwrLoss -<br>
(Driver pedal filter derivative gain scheduling costing)(**)<br>
End<br>
in which the 2D Optimal Cost could have a higher cost than the ID Optimal<br>
Cost due to a relatively high driver pedal filter derivative gain scheduling cost,<br>
or when the 2D Search fails to converge to the minimum optimal cost. Driver<br>
pedal filter derivative gain scheduling costing provides a cost the input speed<br>
change with respect to the driver pedal aggressiveness, i.e cost heavy decrease<br>
(increase) in input speed when the driver pedal is requesting aggressive<br><br><br>
acceleration (deceleration). This is included in the Cost Function in the 2D<br>
and 1D Optimization for Input Speed stabilization purposes, but subtracted<br>
from the total cost arbitration so that it would not affect the optimal range<br>
selection. This cost is always 0 in the 1D Optimization since Ni(j) = Niold.<br>
[00113] In one embodiment, whether a movement in the NI profile over time<br>
is desirable or not is based on the position of the accelerator pedal. In another<br>
embodiment, whether a movement in the NI profile over time is desirable or<br>
not is based on the rate of change of position of the accelerator pedal.<br>
However, in general, it is undesirable that the NI value should decrease when<br>
the accelerator pedal is depressed substantially.<br>
[00114] Referring now to FIG. 25 which illustrates a costing algorithm for<br>
negative NI changes (i.e., costing transmission input speed (NI) points that<br>
have a lower value than the selected NI value from the prior search) the<br>
derivative of pedal position is along the x-axis in the gain and offset functions.<br>
When the derivative of the pedal position is negative, the cost gain and offset,<br>
which are the y-axis values of the cost gain and offset functions, are zero.<br>
This includes the case when the operator removes their foot from the<br>
accelerator pedal.<br>
[00115] On the other hand, if the derivative of pedal position is positive, such<br>
as when the vehicle operator depresses the accelerator pedal, then the cost gain<br>
and offset functions will not be zero, but will be given by:<br>
Accel. Pedal Stabilizing Cost = [(negative gain) * (A NI)] +	[9]<br>
neg. offset value<br><br>
These provisions ensure, in general, that if the NI value is decreasing with time<br>
at a given instant, costing will only occur when the operator depresses the<br>
accelerator pedal.<br>
[00116] Referring now to FIG. 26, illustrating the costing algorithm for<br>
positive NI changes, i.e., costing transmission input speed (NI) points that<br>
have a higher value than the selected NI value from the prior search, the<br>
derivative of pedal position is along the x-axis in the gain and offset functions.<br>
When the derivative of the pedal position is positive, the cost gain and offset,<br>
which are the y-axis values of the cost gain and offset functions, are zero.<br>
This includes the case when the operator depresses the accelerator pedal. On<br>
the other hand, if the derivative of pedal position is negative, such as when the<br>
operator removes their foot from the accelerator pedal, then the cost gain and<br>
offset functions will not be zero, but will be given by the equation:<br>
Accel. Pedal Stabilizing Cost = [(positive gain) * (A NI)] +	[10]<br>
pos. offset value<br>
These provisions ensure, in general, that if the NI value is increasing with time<br>
at a given instant, this type of costing will only occur when the operator<br>
removes their foot from the accelerator pedal. The negative, positive gain and<br>
offset values are subjective to the vehicle engineer, to enable latitude in<br>
providing enhanced drivability versus vehicle performance or economy.<br>
[00117] In one embodiment, the processes described by FIGS. 25 and 26 are<br>
embedded in the cost functions (450) of the ID and 2D process 610,620, as<br>
shown and described in reference to FIGS. 6 and 8, and are but one of a<br><br>
plurality of costs provided by cost functions and algorithms resident in those<br>
processes, and are conducted only with regards to that operating range state<br>
which is currently selected. Thus, the process involving stabilization of the NI<br>
values as a function of pedal position is not considered as a factor in selection<br>
of which transmission operating range state is to be selected at a given time<br>
given particular operator torque requests or operating parameters, including<br>
road conditions. In one embodiment, when preferability factors are<br>
determined for purposes of determining transmission operating range state<br>
selection, the costs associated with stabilization of NI are subtracted out from<br>
the total costs used in determining the preferability factors, as earlier described<br>
herein.<br>
[00118] Important aspects of operation of a motorized vehicle comprising a<br>
drivetrain as herein described include situations in which the operator of the<br>
vehicle provides a negative torque request, e.g., desires to apply braking. It is<br>
desirable in general to provide stable vehicle operation during times when<br>
braking torques are requested, and provision for such stability must take into<br>
consideration how the selection of transmission operating range state and<br>
transmission input speed are to be carried out during braking conditions.<br>
[00119] During one non-limiting example of a braking situation, when<br>
predicted accelerator output torque request ('Accel Prdtd') is zero and the<br>
predicted braking output torque request ('Output Torque Request Brake Prdtd')<br>
is, for example, -1000 Newton*meters (Nm), the torque output (TO) from the<br>
('Opt To/Ta/Tb') function 440 could potentially be any value between zero<br>
and -1000 Nm, if these values reside within the TO Min and TO Max. This is<br>
in contrast to a conventional braking system, in the presence of a braking<br><br><br>
output torque request of- 1000 Nm, when the accelerator output torque<br>
request is zero, the sum of zero and -1000 Nm needs to be provided by the<br>
friction brakes. Stated another way, in a vehicle equipped with a drivetrain as<br>
herein described, there are two types of braking: 1) conventional friction<br>
braking; and 2) regenerative braking, which means that in the above example,<br>
friction braking and regenerative braking may each be individual components,<br>
in any desired or selected amount or proportion, to provide a sum total<br>
combination of -1000 Nm of braking torque.<br>
[00120] According to embodiments of the present disclosure, two general<br>
braking strategies may be employed for a vehicle equipped with an electro-<br>
mechanical transmission described herein. In one embodiment, braking<br>
operation may be switched between a first general strategy and a second<br>
general strategy by means of a switch 605, which is activated in accordance<br>
with the vehicle calibrations.<br>
[00121] In the first general strategy, both the transmission input speed (Nj)<br>
and the transmission operating range state selection are dependent on the<br>
braking torque request. A general schematic diagram of information<br>
processing in accordance with the first general strategy is shown in FIG. 7, for<br>
the case when the switch 605 is set so that the input to 610 is Ni* +<br>
[d(NI)/dt](dt) which includes full optimization of transmission input speed and<br>
transmission operating range state selection in strategic optimization, while<br>
accounting for blended braking, involving both friction-pad braking and the<br>
use of resistive torque from electric machines 56 and 72 which generate<br>
electrical energy during the course of their being in operative connection with<br>
one or more of the vehicle wheels during such braking, the electrical energy so<br><br><br>
produced being stored in the ESD 74. In this strategy, the ID optimization<br>
610 is executed in parallel with the 2D optimization 620 during blended<br>
braking operations. The Optimal Output Torque (OptTo) function (which is a<br>
part of the Opt To/Ta/Tb function 440) and the Brake Power Loss Cost<br>
function are enabled in both ID and 2D optimizations. Optimal Output<br>
Torque (OptTo) function selects an optimal output torque which is constrained<br>
by the achievable output torque limits, TO min and TO max, that minimizes the<br>
battery power ('PBat') within the range from the minimum Output Torque<br>
Request Net Strategic (Output Torque Request Accel Prdtd + Output Torque<br>
Request Brake Prdtd) to the maximum of TO Req Prdtd (Output Torque<br>
Request Accel Strategic). Brake Power Loss Costing is added to the Cost<br>
function 450 to compensate for power lost through friction braking. This is<br>
caused to occur by the OptTO function selecting an Optimal Output Torque<br>
(OptTo) that is greater than the Output Torque Request Net Strategic. Thus, a<br>
braking torque request by the operator affects both the optimal input speed and<br>
the optimal range selection.<br>
[00122] As previously mentioned, it is possible in some instances for the 2D<br>
search to fail to converge to an NI, PI pair associated with the lowest total<br>
power loss, or for there to exist relatively high power losses (change costs)<br>
associated with an undesirable change in NI, in which case it is desirable to<br>
stabilize the 2D Ni* values which are the outputs of the 2D optimization 620.<br>
Accordingly, in parallel with the 2D optimization, a ID optimization 610 is<br>
conducted using a previous value for the optimal NI value Ni* and adding to it<br>
the change rate of the NI value, [d(NI)/dt](dt) as previously described, for<br>
which the system provides a new d(NI)/dt every time the search is made. The<br><br><br>
new summed value is used as an input in a ID optimization to arrive at a value<br>
for TI which gives the most desirable total power loss. Then, a new quantity<br>
becomes a part of the cost function sum (total power loss) of the ID search,<br>
which sum cost is compared to the cost output from the 2D search. Thus,<br>
according to a first strategy the 1D search exists for the purpose of stabilizing<br>
what would otherwise be an undesirable output, if the 2D search output was<br>
the only output present.<br>
[00123] In such a first general strategy, information sent to an Arbitration<br>
decision step is the lowest total power loss (P*cost) and optimal NI from the<br>
2D search results, and the lowest total power loss (P*cost) from the ID search<br>
results and previous value for the optimal NI value added to [d(N[)/dt](dt).<br>
The Arbitration selects the optimal NI and P*Cost as values upon which to<br>
base selection of an optimal transmission operating range state ('Hybrid Range<br>
State Des') (P*cost selected from 2D or ID) and select input speeds associated<br>
with the selected P*cost, to be used as a basis for determining an optimal or<br>
desired transmission input speed ('Ni_Des') profile.<br>
[00124] In a second general strategy, only the transmission operating range<br>
state selection is dependent on the braking torque request ('Output Torque<br>
Request Brake Prdtd), with the transmission input speed NI being unaffected<br>
by the braking torque request of the operator. Thus, in a second general<br>
strategy, selection of NI ignores the operator brake torque request and bases<br>
the NI chosen on the position of the accelerator pedal ('Output Torque Request<br>
Accel Prdtd'). A general schematic diagram of information processing in<br>
accordance with the second general strategy is shown in Fig. 7, when the<br>
switch 605 is set so the input to 610 is 2D Ni* and does not involve<br><br><br>
transmission input speed stabilization. In this strategy, the 1D optimization is<br>
executed in series with the 2D optimization during a blended braking<br>
operation, which effectively disables transmission input speed stabilization.<br>
The ID Opt TO function and brake power loss Cost is enabled and the 2D Opt<br>
TO function is partially disabled so that Opt TO will always be equal to the<br>
Output torque Request Accel Prdtd, that is limited by the achievable output<br>
torque (TO min, TO max), with brake power loss costing disabled, and<br>
therefore the 2D optimal input speed will not account for the braking effect.<br>
The braking will effect the optimal range selection through the 1D P*cost<br>
resulting from incorporating braking input data in the 1D optimization, but not<br>
the input speed selection. This has one effect of avoiding driver discomfort by<br>
preventing sudden changes in engine speed at braking events.<br>
[00125] In the case of the second general strategy, when the operator of the<br>
vehicle makes a braking torque request, such as by applying the brake pedal, it<br>
is not desired to have any effects from braking to impact the engine speed, and<br>
by ignoring the brake torque request in the 2D search a transmission input<br>
speed NI is obtained that is unaffected by the operator brake torque request<br>
(Output Torque Request Brake Prdtd). In this strategy, the ID optimization<br>
needs an Opt NI value, and for this, the output of the 2D optimization is used.<br>
Accordingly, the selection of NI is done without braking input data.<br>
[00126] In the second general strategy, the information sent to Arbitration is<br>
the lowest total power loss (P*cost) from the ID search engine and the optimal<br>
NI from the 2D search engine, and Arbitration selects the P*cost from the ID<br>
search engine results and the optimal NI from the 2D search engine results as<br>
values upon which to base range selection ('Hybrid Range State Des') on<br><br><br>
(P*cost from ID) and to select an input speed to be used as a basis for<br>
determining an optimal or desired transmission input speed (NiDes) profile.<br>
[00127] The difference of (Opt TO - Output Torque Request Net Strategic)<br>
represents unused torque or brake power loss, which may be multiplied by NO<br>
to convert to power units and used as a cost to be combined with other power<br>
losses (costs) in determining total power loss.<br>
[00128] Although the foregoing strategies are descriptive of selection of<br>
operating parameters in continuously variable modes of the electro-mechanical<br>
transmission, these same Optimal Output Torque (Opt TO) function and<br>
braking power losses are included also in the cost functions for fixed gear<br>
operation and engine-off modes. Since the transmission input speed is<br>
predetermined for fixed gear operations and engine-off modes, the Opt TO<br>
function and the brake power loss functions are enabled only to determine the<br>
P*Cost values for each potential operating range upon which to base selection<br>
of transmission operating range state ('Hybrid Range State Des')-<br>
[00129] It is understood that modifications are allowable within the scope of<br>
the disclosure. The disclosure has been described with specific reference to<br>
the preferred embodiments and modifications thereto. Further modifications<br>
and alterations may occur to others upon reading and understanding the<br>
specification. It is intended to include all such modifications and alterations<br>
insofar as they come within the scope of the disclosure.<br><br>
CLAIMS<br>
1.	Method for operating a motorized vehicle having a powertrain system<br>
that includes an engine coupled to an electro-mechanical transmission<br>
selectively operative in one of a plurality of transmission operating range<br>
states and one of a plurality of engine states, an accelerator control, and<br>
an electrical energy storage device comprising:<br>
determining a transmission input speed;<br>
operating said transmission using said transmission input speed; and<br>
providing a braking torque request to cause braking of said vehicle<br>
according to a scheme selected from the group consisting of a first<br>
braking mode and a second braking mode;<br>
wherein said transmission input speed and said transmission operating<br>
range state are dependent on said braking torque request in said first<br>
braking mode, and wherein said transmission operating state, but not<br>
said transmission input speed, is dependent on said braking torque<br>
request in said second braking mode.<br>
2.	A method according to claim 1 wherein transmission input speed is<br>
substantially unaffected by said braking torque request.<br>
3.	A method according to claim 1 wherein selection of said transmission<br>
operating range state is made based at least in part on the magnitude of<br>
said braking torque request.<br><br>
4.	A method according to claim 1 wherein said transmission input speed is<br>
one which yields a torque output of said transmission that provides a<br>
maximal level of charging of said electrical energy storage device<br>
relative to other potential transmission input speeds immediately<br>
subsequent to provision of said braking torque request.<br>
5.	A method according to claim 1 wherein said transmission input speed is<br>
one which yields a torque output of said transmission that provides a less<br>
than maximal level of charging of said electrical energy storage device<br>
relative to other potential transmission input speeds immediately<br>
subsequent to provision of said braking torque request.<br>
6.	A method according to claim 1 wherein said braking of said vehicle is<br>
caused as a result of the blending of forces from friction brake pads<br>
contacting a brake rotor and braking torque provided by at least one<br>
electric machine present in said electro-mechanical transmission during<br>
charging of said electrical energy storage device.<br>
7.	A method according to claim 1 wherein the transmission input speed<br>
determined is based solely on the position of said accelerator control.<br>
8.	A method according to claim 7 wherein said braking torque request is<br>
ignored when determining said transmission input speed.<br><br>
9.	A method according to claim 1 wherein the determined transmission<br>
input speed is dependent upon the selected operating range state of the<br>
transmission.<br>
10.	A method according to claim 9 wherein the determined transmission<br>
input speed is different for each potential transmission operating range<br>
state, given the same braking torque request.<br>
11.	Method for improving drivability of a powertrain system having a<br>
braking control and including an engine coupled to an electro-<br>
mechanical transmission selectively operative in one of a plurality of<br>
transmission operating range states and one of a plurality of engine<br>
states, comprising:<br>
determining a first transmission input speed, said first transmission input<br>
speed having a first power loss associated with it;<br>
operating said transmission using said first transmission input speed;<br>
determining an operational parameter relating said braking control;<br>
determining a second transmission input speed responsive to said<br>
operational parameter, said second transmission input speed having a<br>
second power loss associated with it;<br>
biasing the value of at least one of said first power loss and said second<br>
power loss, based on said operational parameter;<br>
comparing said first power loss to said second power loss subsequent to<br>
said biasing;<br>
determining a third transmission input speed; and<br><br><br>
operating said transmission using said third transmission input speed.<br>
12.	A method according to claim 11 wherein said operational parameter is<br>
the position of said braking control.<br>
13.	A method according to claim 11 wherein said determining a third<br>
transmission input speed is based on the comparison of said first power<br>
loss to said second power loss subsequent to said biasing.<br>
14.	A method according to claim 11 in which said third transmission speed<br>
is greater than said second transmission speed by an amount equal to<br>
about the product of the change rate of the transmission input speed<br>
[d(transmission input speed)/dt ] and a time differential [dt], in which dt<br>
is any amount of time between about one and about one thousand<br>
milliseconds, including all amounts of time and all intervals<br>
therebetween.<br><br>
A method for operating a vehicle includes determining a<br>
transmission input speed, operating the transmission using the transmission<br>
input speed, and providing a braking torque request to cause braking of the<br>
vehicle according to a scheme selected from the group consisting of a first<br>
braking mode and a second braking mode. The transmission input speed and<br>
the transmission operating range state are dependent on said braking torque<br>
request in the first braking mode, and wherein the transmission operating state,<br>
but not the transmission input speed, is dependent on the braking torque<br>
request in the second braking mode.</td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/viewdoc.aspx?id=KuVgp1cAtnuaNGakjXMlzw==&amp;amp;loc=wDBSZCsAt7zoiVrqcFJsRw==" target="_blank" style="word-wrap:break-word;">http://ipindiaonline.gov.in/patentsearch/GrantedSearch/viewdoc.aspx?id=KuVgp1cAtnuaNGakjXMlzw==&amp;amp;loc=wDBSZCsAt7zoiVrqcFJsRw==</a></p>
		<br>
		<div class="pull-left">
			<a href="272939-a-modular-pure-air-unit-device-for-feeding-pure-air-into-clean-rooms-having-pharmaceutical-grocery-and-biotechnical-product.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="272941-a-defoliant-comprising-a-mixture-of-thidiazuron-and-benfuresate-and-or-ethofumesate.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>272940</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>1890/KOL/2008</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>19/2016</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>06-May-2016</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>04-May-2016</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>03-Nov-2008</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>GM GLOBAL TECHNOLOGY OPERATIONS LLC.</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>300 RENAISSANCE CENTER DETROIT, MICHIGAN 48265-3000, USA</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>KEE YONG KIM</td>
											<td>1699 SCIO RIDGE RD. ANN ARBOR, MI 48103</td>
										</tr>
										<tr>
											<td>2</td>
											<td>ANTHONY H. HEAP</td>
											<td>2969 LESLIE PARK CIRCLE ANN ARBOR, MICHIGAN 48105</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>B60W10/02;B60L7/26;B60K6/20;F16H57/08</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>N/A</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td></td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>60/985,228</td>
									<td>2007-11-03</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/272940-optimal-selection-of-hybrid-range-state-and-or-input-speed-with-a-blended-braking-system-in-a-hybrid-electric-vehicle by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 01:50:24 GMT -->
</html>
