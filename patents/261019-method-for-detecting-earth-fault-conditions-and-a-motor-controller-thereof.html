<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/261019-method-for-detecting-earth-fault-conditions-and-a-motor-controller-thereof by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 02:46:54 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 261019:&quot;METHOD FOR DETECTING EARTH-FAULT CONDITIONS AND A MOTOR CONTROLLER THEREOF&quot;</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">&quot;METHOD FOR DETECTING EARTH-FAULT CONDITIONS AND A MOTOR CONTROLLER THEREOF&quot;</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>The present invention relates to a method for determining the existence of an earth-fault on die-fly and thereby protecting a motor controller having a high- and a low-side DC-link, and having high- and low-side switching elements, the high- and low-side switching elements being operatively connected to the high- and low-side DC-link buses, respectively, the method comprising the steps of generating a fault signal, generating at least one test vector in response to the fault signal by switching at least one of the switching element on, and measuring, while me at least one switching element is on, the magnitude of a current flowing in that DC-link operatively connected to the conducting switching element in order to detect an earth-fault. The present invention further relates to additional methods for on-the-fly determination of earth-faults.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td>The present invention relates to a method for determining the existence of an earth-fault on-the-fly and thereby protecting a motor controller having a high- and a low-side DC-link. The method according to the present Invention is able to distinguish between differential-mode over currents and common-mode over currents.<br>
BACKGROUND OF THE INVENTION<br>
Motor controllers for AC-motors etc. need to know whether an earth-fault (common-mode fault) exists during operation. This type of fault should be distinguished from differential-mode faults such as for example over currents caused by a blocked rotor of the motor.<br>
Those skilled in the art will acknowledge the following priority of excessive current in a motor controller.<br>
a.	Short-circuit currents in the range of the saturation level of the switching elements<br>
should cause a permanent shutdown to be initiated within microseconds regardless of<br>
whether the low-impedance problem is of a common- or differential-mode nature.<br>
b.	Over currents caused by common-mode faults with current-limiting impedance in the<br>
earth loop should be limited to an upper level for a given time period in the range of<br>
milliseconds before a permanent shutdown is initiated.<br>
c.	Over currents caused by load-related differential-mode faults should be limited to an<br>
upper level for a given time period in the range of seconds before a permanent<br>
shutdown is initiated.<br>
Motor controllers with a short-to-earth on an output phase are likely to be categorized as exhibiting an item b. problem, when the rectifier-side employs inductance for line-current harmonics limitation in accordance with IEC1000-3-2 or IEC1000-3-12. The difference between item b. and c. is that common-mode faults will stress the rectifier part with high-frequency currents, which differential-mode faults do not. The rectifier stress may lead to catastrophic failures if the duration exceeds the millisecond range.<br>
The VLT5000 produced by Danfoss Drives A/S since 1995 employs 3 current transducers on the output phases. By summing the current transducer signals an earth-fault signal is generated. Hence, this principle is always able to differ between differential and common-mode faults. The drawback of this solution is cost-related.<br><br>
The VLT2800 produced by Danfoss Drives A/S since 1998 employs a shunt in the lower DC-link bus to sense differential-mode currents, and a common-mode summing current transformer in the rectifier part to sense earth currents. Hence, this principle is able to differ between differential and common-mode faults. A similar approach is suggested in US 5,687,049 where the summing transformer is placed In the inverter stage of the motor controller. Though this solution exhibit lower costs than the VLT5000 solution, both solutions will result in a problematic PCB layout due to more current sensing elements in the DC-link.<br>
US 5,687,049 proposes a solution with a high and low-side current sensing element in the inverter part of the DC-link bus. Summing the 2 sensing signals (where at least one needs to employ galvanic/functional isolation) gives an earth-current signal similar to the VLT5000 solution. Hence, this solution is able to differ between item b. and c. However, the practical PCB layout issue is a drawback.<br>
The IAS'96 conference paper "Single Current Sensor Technique in the DC-link of Three-phase PWM-VS Inverters A Review and the Ultimate Solution" and US 5,687,049 report a solution with a current transducer having both the positive and negative DC-link bus wired through the transducer with an unequal number of turns. This reduces the count of current sensing elements to unity and is reported as the "ultimate solution" for protecting a motor controller (will differ between item b. and a). However, those skilled in the art will acknowledge that this kind of multiple turns in a current transducer may compromise an optimum coupling and give excessive leakage inductance in the inverter side of the DC-link. Also, the PCB layout is problematic. Furthermore, design and automatic assembly become difficult with multiple turns having different voltage potentials in a modern small-sized current transducer.<br>
Hence, the present invention is preferably used along with the following hardware combinations considered to be best-suited for a modern, low-cost and robust motor controller.<br>
1.	Motor controller with an inverter stage employing a shunt in series with each of the low-side switching elements and desaturation protection of the high-side switching elements.<br>
2.	Motor controller with a shunt in the low-side DC-link bus and de-saturation protection of the high-side switching elements.<br>
3.	Motor controller with a current transducer in the low- or high-side DC-link bus and de-saturation protection of the high- or low-side switching elements.<br>
Items 1 and 2 assume that the control circuitry for the motor controller is referenced to the low-side DC-link bus. Item 3 assumes that the control circuitry is galvanically isolated from<br><br>
the power stage. The current sensing element(s) gives a feedback to the control circuitry in the motor controller. The de-saturatlon protection is used to protect the switching elements in the opposite side of where the current sensing element(s) Is placed. The de-saturation protection may be with or without galvanically/functionally isolated feedback to the control circuitry as described in US 5,687,049.<br>
De-saturation protection without feedback is patented in US 5,687,049 meaning that the switching elements with de-saturation protection operates on a self-protective, cycle-by-cycle basis until the central control circuitry shuts down the inverter stage in response to a fault signal from the current sensing element. De-saturation protection with feedback is well known and offered by many gate drive vendors at least since the early 1990th - for example the IXYS driver chipset IXPD4410 and IXPD4411.<br>
The preferred hardware configurations will not be able to distinguish between a common-mode and differential-mode fault condition as the other solutions. Intelligent sampling of the DC-link current sensing element(s) is required. The above IAS'96 paper teaches that the earth-fault current may be sampled during the zero-voltage vectors 000 or 111. However, the method suggested in IAS'96 does not offer the possibility that the phase connected to the earth-fault may be identified.<br>
Hence, the information is available on a switching-period basis as long as a zero-voltage vector is available. EP 0 490 388 discloses a principle of receiving an over-current fault signal, a first action is to generate a signal from the PWM sequence to determine whether the fault occurred during a zero-voltage vector or an active vector. This will differ between item b. and c. above. However, the patent does not consider the problem that the zero-voltage vector may not exist generally in all operating points.<br>
An industrial standard for PWM generation is the space-vector-modulation reported in the PESC'90 conference paper "Stator Flux Oriented Asynchronous Vector Modulation for AC-Drives" (referred to as SFAVM below) along with all the variants of SFAVM generated by varying the zero-voltage-vector distribution. The goal of these PWM strategies is to obtain optimised motor performance in terms of torque and current ripple, losses, acoustic noise and voltage-transfer ratio from input to output. It is well known that SFAVM uses the zero-voltage vectors in every switching period at low output voltages. However, at high output voltage the use of the zero-voltage vectors is minimized. In some switching cycles the zero-voltage vectors may not be used, especially in the over-modulation range. And in some cycles the zero-voltage vectors may be used for a short time only, meaning that a proper measurement of an earth current during a zero-voltage vector becomes practically impossible. The problem becomes even worse as the switching frequency is increased.<br><br>
SUMMARY OF THE INVENTION<br>
The scope of the present invention is to generate the required zero-voltage vector on a regular basis ("on-the-fly") even though the normal optimised PWM pattern (SFAVM etc.) of the motor controller does not command this. The scope is to implement this while ensuring that there is a minimum impact on the normal high-quality PWM.<br>
1.	A first principle is to generate the required zero-voltage test vector for a sufficient time period to measure the earth current accurately, If not commanded by the normal PWM pattern, at a rate lower than the switching frequency. This reduces undesirable effects on the motor performance.<br>
2.	The next principle is that any error made in each phase duty cycle in response to the additional zero-voltage vector is corrected later in time to compensate for unbalance in the multi-phase PWM system.<br>
3.	Preferably items 1. and 2. are generated synchronously to the fundamental motor frequency, such that half-wave and quarter-wave symmetry is obtained relative to the phase duty-cycle curves over the fundamental period.<br>
4.	Typically items 1., 2., and 3. are required at high output voltage. At low voltages a sufficient zero-voltage-vector time Is always available in every switching cycle.<br>
5.	To compensate for the fact that the zero-voltage vector and the earth-fault test are only executed at a fraction of the switching cycles, a backup principle is that the zero-voltage test vector is always generated just before re-enabling normal PWM after having received a fault signal commanding that the inverter switching elements should be turned off until the fault signal disappears. The fault signal may be caused by an over-current condition etc. Hence, in a disable/enable PWM sequence to provide a fault ride-through capability for the motor controller, the test vector is frequently used giving the desired differentiation between item b. and c. The philosophy is that during this kind of disable/enable ride-through sequence the normal PWM quality is ruined anyway. Therefore the test vector may be applied more frequently than In item 1.<br>
The invention is not limited to the industrial standard SFAVM. Any other PWM scheme relying on either a pre-calculated, optimized pattern as well as various current-controlled PWM schemes etc. are also considered in combination with the invention.<br>
In a first aspect, the present invention relates to a method for determining the existence of an earth-fault on-the-fly and thereby protecting a motor controller having a high- and a low-side DC-link, and having high- and low-side switching elements, the high- and low-side<br><br>
switching elements being operatively connected to the high- and low-side DC-link buses, respectively, the method comprising the steps of<br>
-	generating a fault signal, said fault signal indicating abnormal working conditions for the motor controller,<br>
-	generating at least one test vector in response to the fault signal by switching at least one of the switching elements on, and<br>
-	measuring, while the at least one switching element is on, the magnitude of a current flowing in that DC-link operatively connected to the conducting switching element(s) in order to detect an earth-fault.<br>
By on-the-fiy is meant that the steps of the method should be completed within a time interval similar to the electrical time constant of the AC-motor in order to be able to regain full stability/control of the AC-motor. At least, the steps of the method should be completed within a fraction of the period of the fundamental output voltage of the motor controller. The number of the switching elements in the motor controller may in principle be arbitrary - thus, the number of switching may be 2, 4, 6, 8, 10 or even higher.<br>
The method may further comprise the step of switching all switching elements off prior to switching the at least one switching element on.<br>
In one embodiment of the present invention test vectors are applied by switching the switching elements operatively connected to the high-side DC-link on in a sequential manner. In case of a motor controller having six switching elements test vectors may be applied by switching three switching elements operatively connected to the high-side DC-link on in a sequential manner.<br>
In another embodiment of the present invention test vectors are applied by switching the switching elements operatively connected to the low-side DC-link on in a sequential manner. Again, in case of a motor controller having six switching elements test vectors may be applied by switching three switching elements operatively connected to the low-side DC-link on In a sequential manner.<br>
In yet another embodiment of the present invention a test vector is applied by switching the switching elements operatively connected to the high-side DC-link on at essentially the same time. In case of six switching elements in the motor controller a test vector is applied by<br><br>
switching three switching elements operatively connected to the high-side DC-link on at essentially the same time.<br>
In yet another embodiment of the present invention a test vector is applied by switching the switching elements operatively connected to the low-side DC-link on at essentially the same time. In case of six switching elements in the motor controller a test vector is applied by switching three switching elements operatively connected to the low-side DC-link bus on at essentially the same time.<br>
The same test vector may be applied a number of times. During the appliance of said test vector, the magnitude of the current flowing In the DC-link operatively connected to the repeatedly conducting switching element(s) is measured a corresponding number of times. By applying the test vector in such a repeatedly manner, measurements may be confirmed before a decision of for example permanent shut-down is taken and Implemented.<br>
The generated fault signal may be provided by current sensing means measuring the current in one of the DC-link buses of the motor controller. The current sensing means may for example provide information regarding the magnitude of the current flowing in that DC-link operatively connected to the conducting switching element(s).<br>
All steps relating to turning the switching elements on and off, processing of the fault signal, and the measuring of the magnitude of the current in a DC-link of the motor controller may be controlled by a motor controller unit, such as a DSP.<br>
The fault signal may be an indication for short circuit currents or over currents in one of the DC-link buses of the motor controller. The fault signal may also be an indication for an over voltage across at least one of the switching elements of the motor controller. Such over voltage may be detected by a desaturation protection circuit. Generally speaking, the fault signal may be an indication of basically any abnormal working condition for the motor controller, such as abnormal temperature, abnormal voltages, and abnormal currents.<br>
The method according to the first aspect of the present invention may further comprise the step of permanently shutting down the motor controller if an earth-fault is determined.<br>
In a second aspect, the present invention relates to a method for determining the existence of an earth-fault on-the-fly and thereby protecting a motor controller having a high- and a low-side DC-link, and having high- and low-side switching elements, the high- and low-side switching elements being operatively connected to the high- and low-side DC-link buses, respectively, the motor controller further comprising a motor controller unit for controlling<br><br>
when the switching elements are to be switched on and off by generating a PWM signal to each of the switching elements, the method comprising the steps of<br>
-	modifying the generated PWM signal by increasing the duty cycle of at least one of the PWM signal applied to the low-side switching elements, the increase of the duty cycle having a time period being a fraction of the switching period of the low-side switching elements,<br>
-	generating and hereby applying a 000 test vector, and<br>
-	measuring, while the low-side switching elements are on, the magnitude of a current flowing in the low-side DC-link in order to detect an earth-fault,<br>
wherein the 000 test vector is generated and applied at a rate lower than the switching frequency of the low-side switching elements.<br>
By the notation 000 test vector is meant that the three switching elements operatively connected to the low-side DC-link are switched on. The ratio between the rate at which the test vector is generated and applied, and the switching frequency of the low-side switching elements is typically in the range 0.05 - 0.5.<br>
The method according to the second aspect of the present invention may further comprise the step of modifying the generated PWM signal by reducing the duty cycle of the PWM signal applied to the low-side switching elements so as to compensate for the previously increased duty cycle.<br>
In a third aspect, the present invention relates to a method for determining the existence of an earth-fault on-the-fly and thereby protecting a motor controller having a high- and a low-side DC-link, and having high- and low-side switching elements, the high- and low-side switching elements being operatively connected to the high- and low-side DC-link buses, respectively, the motor controller further comprising a motor controller unit for controlling when the switching elements are to be switched on and off by generating a PWM signal to each of the switching elements, the method comprising the steps of<br>
-	modifying the generated PWM signal by increasing the duty cycle of at least one of the<br>
PWM signals applied to the high-side switching elements, the increase of the duty cycle<br>
having a time period being a fraction of the switching period of the high-side switching<br>
elements,<br><br>
-	generating and hereby applying a 111 test vector, and<br>
-	measuring, while the high-side switching elements are on, the magnitude of a current flowing in the high-side DC-link in order to detect an earth-fault,<br>
wherein the 111 test vector is generated and applied at a rate lower than the switching frequency of the high-side switching elements.<br>
By the notation 111 test vector is meant that the three switching elements operatively connected to the high-side DC-link are switched on. The ratio between the rate at which the test vector is generated and applied, and the switching frequency of the low-side switching elements Is again typically in the range 0.05 - 0.5.<br>
The method according to the third aspect may further comprise the step of modifying the generated PWM signal by reducing the duty cycle of the PWM signal applied to the high-side switching elements so as to compensate for the previously increased duty cycle.<br>
The method according to the second and third aspects of the present invention may be applied synchronously with a fundamental output voltage from the motor controller.<br>
In a fourth aspect, the present invention relates to a method for determining the existence of an earth-fault on-the-fly and thereby protecting a motor controller, the method comprising the step(s) of repeatedly applying the method according to the second and third aspect of the present invention.<br>
In case an earth-fault is detected by applying the methods according to the second, third, and fourth aspect, the method according to the first aspect may be applied.<br>
In a fifth and final aspect, the present invention relates to a motor controller comprising means for configuring the motor controller to perform any one of first, second, third and fourth aspects of the present invention.<br>
BRIEF DESCRIPTION OF THE DRAWINGS<br>
The present invention will now be explained in further details with reference to the accompanying figures, wherein<br>
Figure 1 shows one of the possible hardware configurations suited for the invention,<br><br>
Figure 2 shows the 8 voltage vectors in a 3-phase motor controller,<br>
Figure 3 shows a PWM cycle of SFAVM at low and high output voltage with the zero- and active-voltage vectors shown,<br>
Figure 4 shows a possible implementation of a phase duty cycle with item 3 applied - the curves should all be offset-adjusted by 1 and divided by 2 to describe the actual duty cycle, and<br>
Figure 5 shows a disable/enable ride-though PWM sequence with item 5 applied while assuming the configuration in Figure 1.<br>
While the invention Is susceptible to various modifications and alternative forms, specific embodiments have been shown by way of example in the drawings and will be described in detail herein. It should be understood, however, that the invention Is not intended to be limited to the particular forms disclosed. Rather, the invention is to cover all modifications, equivalents, and alternatives falling within the spirit and scope of the invention as defined by the appended claims.<br>
DETAILED DESCRIPTION OF THE INVENTION<br>
Figure 1 shows a motor controller designed according to configuration three, I.e. having a current transducer in the high-side DC-link and a desaturation protection circuit placed in the gate driver of the low-side switches of the inverter. A brake circuit comprising two diodes and a switch with a desaturation protection circuit is via the desaturation protection connected to an OR gate (brake resistor not showed). The OR gate goes high, if one of the desaturation protection-circuits signals a saturation condition across a switch.<br>
In a conventional manner, the motor controller further comprises a three-phase rectifier and coils inserted in the high- and low-side DC-link buses. The coils act as chokes to reduce mains retroaction. An optional Radio-Frequency Interference (RFI) filter is placed on the input to the rectifier.<br>
The control section of the motor controller comprises a digital signal processor (DSP), which performs the overall motor control and generates the PWM control signals, which are led to a galvanic isolation consisting of seven optocouplers, one optocoupler for each inverter switch and one for the brake switch. Correspondingly, the signals from the desaturation protection circuits are galvanically isolated by an optocoupler and fed to a desaturation control circuit,<br><br>
which is connected to the DSP. A current-control circuit is connected to the current transducer and to the DSP. The control section is electrically referenced to ground. In operation, the inverter switches are pulse-width modulated, and electrically connected to a three phase AC motor.<br>
If a short circuit between one of the three motor phases and earth Incidentally arises (Figure 1 shows such a fault on the output between switch Q3 and Q4), an item b problem has emerged, i.e. an earth-fault with current-limiting Impedance in the earth loop. The coiis in the DC-link function as the current limiting Impedance, until saturation occurs. Due to the reduced amperage of the current, the acceptable reaction time is in the millisecond range and not in the microsecond range. This fault condition may be detrimental to the rectifier due to repetitive spikes on the pulsating DC voltage.<br>
According to Figure 5 the short circuit to earth occurs during a voltage vector 110, i.e. high-side switches Ql and Q3 on, and switch Q5 off. Correspondingly, Q2 and Q4 are off, and Q6 on. Figure 2 shows the conventional vector circle, which is also used in SFAVM. Vectors 000 or 111 result in a differential-mode no-current condition in the DC-link, i.e. the motor currents are flowing in the inverter bridge only. The current rise due to the earth connection is measured by the current transducer and detected by the current-control circuit, which signals to the DSP. The DSP acknowledges that the motor controller is in an error condition and will now do one of two, based on the amperage of the error current.<br>
1.	If the amplitude of the error current is relatively low normal operation is maintained, where normal operation includes the steps in Figure 4.<br>
2.	If the amplitude is high, the controller stops the pulse width modulation of the switches. In this case, operation ceases, and the motor is coasting for a short time. This coasting time may be almost arbitrarily chosen, but a time period corresponding to 1 or more switching period(s) is a good practical choice.<br>
Before resuming operation with PWM control signals on the inverter switches, the step of applying the fault detection vector is performed. The DSP imposes the 111 vector (because the current transducer is placed in the high side; vice versa if it was placed in the low side) and expects a zero-current signal from the current transducer. However, due to the earth-fault connection, a current will flow, and the DSP will stop operation of the motor, because the type of error was identified as an earth-fault.<br><br>
Generally, the fault signal can be other signals than current signals; it can also be an over- or under-voltage of the DC-link (DC voltage sensor not shown in the Figure). If the fault signal came from the desaturation protection circuit of Q4 instead of coming from the current transducer, the desaturation control circuit would signal this to the DSP, which would act in the same way as just described.<br>
Thus, the motor controller of Figure 1 is able to dispense operation upon either of two fault signals. If the low-side desaturation circuits are trigged, an earth-fault test may also be made by simply applying the opposite zero-voltage vector 000. This gives an earth-fault test independent on the current sensing.<br>
In the following, the timing and the generation of the test vector will be described in detail. Figure 3a and b shows a conventional SFAVM switching period comprising four different switch states; two zero vectors (000, 111) and two active vectors (100,110). The vectors are symmetrically placed around the 180 degrees centre axis of the switching period. Figure 3a shows the situation where the output voltage of the motor controller is high. The U-phase is on for nearly the whole period, while the w-phase is on for only a short time. As a part of the conventional modulation scheme, zero vectors are applied In the middle (111) and at the start and end of the period (000). The same applies for the situation in Figure 3b, where the output voltage to the motor is lower.<br>
In Figure 5, the high voltage SFAVM pattern on Figure 3a is repeated. During the fifth vector, 110, the over-current signal described above (or any alternative violation) reaches the DSP, which stops operation. No switching occurs for a period a little longer than a switching period in order - maybe - to remove the cause of the fault, which could be moisture which evaporates during this pause. Also, cooling of the switch itself might relieve the problem. Shortly before commencing operation again, vector 111 is applied. This test zero vector is different from the zero vector applied in the start of the SFAWM scheme of Figure 3a because the test zero vector is followed by a current measurement in order to identify the type of fault. Also, the pulse length may be different. The duration of the applied test vector is larger than a minimum value to ensure that the earth-fault can be detected in any operating point of the motor; typically it has a duration equal to a fraction of the switching period. The duration may be from 5 to 50 µs, such as between 15 µs and 45 µs, such as between 20 µs and 40 µs, such as between 25 µs and 35 µs. After having applied the test vector, the current is measured, and, if an earth-fault is detected, the inverter operation is again paused before a new test Is applied. Alternatively, the drive is tripped permanently. The number of iterations before the test result is accepted as an earth-fault, may be set as desired.<br><br>
If an earth-fault is not detected, the normal operation can be continued providing the ride-through capability.<br>
The test vector in Figure 5 is sketched as being positioned prior to the normal PWM. Alternatively, the test vector may be placed in the first PWM period after the re-enabling also, for example as a simple duty-cycle reduction similar to Figure 4. This is purely a matter of implementation easiness. The important Issue is to measure the earth current before an active vector is applied giving differential-mode currents in the DC-link, which may coast the drive again before the earth-fault test can be made.<br>
Figure 4 shows in a diagram form the duty-cycle curves for the high-side switches for each of the three phases U, V and W. The y-axis goes from -1 to 1. The actual duty cycles, which in a known manner is calculated as ton/(ton+toff), may be obtained by the curves in Figure 4 by adding 1 and dividing by 2. The x-axis Is the time in seconds. The phase sequence in Figure 4 is phase U, V and W.<br>
At a time of approximately 0.185s, the test vector is applied by modifying phase W, which graphically is shown by a triangle in the bottom of the Figure. 120 degrees later, the next test vector is applied by modifying phase U, shown by the bullet in the bottom of the Figure. And again 120 degrees later a third test vector is applied by modifying phase V shown with the square. Applying the test vector introduces an error in the planned switching period. This problem is evident during high voltage demand, and typically results in a lowered output voltage.<br>
To make space for the test vector, the planned duty cycle must be modified, i.e. increased. This is seen in Figure 4, where the duty cycle of phase W Is Increased during application of the test vector at approx. 0.185s. The duty cycle is increased from for example 0.06 to 0.12, but to compensate for this, the duty cycle is reduced 180 degrees later (at approx. 0.195s) from 0.94 to 0.88. Thus, the test vector is applied at times where the duty cycle is low, and correction is made when the duty cycle is high.<br>
Preferably, the earth-fault test vector for current sensing including the correction is made with quarter-wave and half-wave symmetry giving minimum distortion in the 3-phase PWM system.<br>
The method of applying a test vector and introducing a correction of the duty cycle as shown in Figure 4 can be executed without using the method described in Figure 5. In fact, each of the methods of Figures 4 and 5 are independent, but can be combined giving the preferred protection quality. The method of Figure 4 is running always meaning that the earth-fault<br><br>
current is measured continuously at a rate which is maximum in the millisecond range regardless of a fault condition or not. The duty-cycle modification is applied if necessary at the same rate to obtain the test vector.<br>
The method of Figure 4 is necessary for earth-fault conditions where the amperage of the error current Is relatively low, say 20-30% of the nominal value. This Is the case, if the earth-fault connection has a high impedance of e.g. 100 Ohm between the motor phase and earth. Preferably, the rate of applying the test vector in Figure 4 is lower than the rate of the switching frequency, typically 1 to 10, i.e. 1.5 kHz In relation to a switching frequency of 15 kHz.<br><br><br><br><br><br>
We claim:<br>
1.	A method for determining the existence of an earth-fault on-the-fly and thereby protecting a motor<br>
controller, having a high- and a low-side DC-link, and having high- and low-side switching elements,<br>
the high- and low-side switching elements being operatively connected to the high- and low-side DC-<br>
link buses, respectively, the method comprising the steps of:<br>
generating a fault signal, said fault signal indicating abnormal working conditions for the motor controller,<br>
generating at least one test vector in response to the fault signal by-switching at least one of the switching elements on, and<br>
measuring, while the at least one switching element is on, the magnitude of a current flowing in that DC-link operatively connected to the conducting switching element(s) in order to detect an earth-fault.<br>
2.	A method as claimed in claim 1, comprising the step of switching off all switching<br>
elements prior to switching the at least one switching element on.<br>
3.	A method as claimed in claim 1 or 2, wherein test vectors are applied by switching the switching elements operatively connected to the high-side DC-link on in a sequential manner.<br>
4.	A method as claimed in claim 1 or 2, wherein test vectors are applied by switching three switching elements operatively connected to the high-side DC-link on in a sequential manner.<br>
5.	A method as claimed in claim 1 or 2, wherein test vectors are applied by switching the switching elements operatively connected to the low-side DC-link on in a sequential manner.<br>
6.	A method as claimed in claim 1 or 2, wherein test vectors are applied by switching three switching elements operatively connected to the low-side DC-link on in a sequential manner.<br>
7.	A method as claimed in claim 1 or 2, wherein a test vector is applied by switching the switching<br><br>
elements operatively connected to the high-side DC-link on at essentially the same time.<br>
8.	A method as claimed in claim 1 or 2, wherein a test vector is applied by switching three switching elements operatively connected to the high-side DC-link on at essentially the same time.<br>
9.	A method as claimed in claim 1 or 2, wherein a test vector is applied by switching the switching elements operatively connected to the low-side DC-link on at essentially the same time.<br><br>
10.	A method as claimed in claim 1 or 2, wherein a test vector is applied by switching three switching elements operatively connected to the low-side DC-link on at essentially the same time.<br>
11.	A method as claimed in any of the preceding claims, wherein the same test vector is applied a number of times, and wherein, during the appliance of said test vector, the magnitude of the current flowing in the DC-link operatively connected to the repeatedly conducting switching element(s) is measured a corresponding number of times.<br>
12.	A method as claimed in any of the preceding claims, wherein the generated fault signal is provided by current sensing means measuring the current in one of the DC-link buses of the motor controller.<br>
13.	A method as claimed in claim 12, wherein the current sensing means provides the magnitude of the current flowing in that DC-link operatively connected to the conducting switching element(s).<br>
14.	A method as claimed in any of the preceding claims, wherein all steps relating to turning the switching elements on and off, the processing of the fault signal, and the measuring of the magnitude of the current in a DC-link of the motor controller is controlled by a motor controller unit, such as a DSP.<br>
15.	A method as claimed in any of the preceding claims, wherein generation of the fault signal is an indication for short circuit currents or over currents in one of the DC-link buses of the motor controller.<br><br>
16.	A method as claimed in any of claims 1-15, wherein generation of the fault signal is an indication for an over voltage across at least one of the switching elements of the motor controller.<br>
17.	A method as claimed in claim 16, wherein a desaturation protection is provided for detecting the over voltage across one of the switching elements of the motor controller.<br>
18.	A method as claimed in any of claims 1-14, wherein generation of the fault signal is an indication of a fault selected from the group consisting of: abnormal temperature, abnormal voltages, and abnormal currents.<br>
19.	A method as claimed in any of the preceding claims, comprising the step of permanently shutting down the motor controller if an earth-fault is determined.<br>
20.	A motor controller comprising means adapted to perform a method as claimed in any of the preceding claims.</td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDc2OS1ERUxOUC0yMDA3LUFic3RyYWN0LSgyMC0xMi0yMDExKS5wZGY=" target="_blank" style="word-wrap:break-word;">4769-DELNP-2007-Abstract-(20-12-2011).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDc2OS1kZWxucC0yMDA3LWFic3RyYWN0LnBkZg==" target="_blank" style="word-wrap:break-word;">4769-delnp-2007-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDc2OS1ERUxOUC0yMDA3LUNsYWltcy0oMTYtMDUtMjAxMikucGRm" target="_blank" style="word-wrap:break-word;">4769-DELNP-2007-Claims-(16-05-2012).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDc2OS1ERUxOUC0yMDA3LUNsYWltcy0oMjAtMTItMjAxMSkucGRm" target="_blank" style="word-wrap:break-word;">4769-DELNP-2007-Claims-(20-12-2011).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDc2OS1kZWxucC0yMDA3LWNsYWltcy5wZGY=" target="_blank" style="word-wrap:break-word;">4769-delnp-2007-claims.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDc2OS1ERUxOUC0yMDA3LUNvcnJlc3BvbmRlbmNlIE90aGVycy0oMTYtMDUtMjAxMikuLnBkZg==" target="_blank" style="word-wrap:break-word;">4769-DELNP-2007-Correspondence Others-(16-05-2012)..pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDc2OS1ERUxOUC0yMDA3LUNvcnJlc3BvbmRlbmNlIE90aGVycy0oMTYtMDUtMjAxMikucGRm" target="_blank" style="word-wrap:break-word;">4769-DELNP-2007-Correspondence Others-(16-05-2012).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDc2OS1kZWxucC0yMDA3LWNvcnJlc3BvbmRlbmNlLW90aGVycyAxLnBkZg==" target="_blank" style="word-wrap:break-word;">4769-delnp-2007-correspondence-others 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDc2OS1ERUxOUC0yMDA3LUNvcnJlc3BvbmRlbmNlLU90aGVycy0oMTQtMDktMjAxMCkucGRm" target="_blank" style="word-wrap:break-word;">4769-DELNP-2007-Correspondence-Others-(14-09-2010).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDc2OS1kZWxucC0yMDA3LUNvcnJlc3BvbmRlbmNlLU90aGVycy0oMTctMDYtMjAxMykucGRm" target="_blank" style="word-wrap:break-word;">4769-delnp-2007-Correspondence-Others-(17-06-2013).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDc2OS1ERUxOUC0yMDA3LUNvcnJlc3BvbmRlbmNlLU90aGVycy0oMjAtMTItMjAxMSkucGRm" target="_blank" style="word-wrap:break-word;">4769-DELNP-2007-Correspondence-Others-(20-12-2011).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDc2OS1kZWxucC0yMDA3LWNvcnJlc3BvbmRlbmNlLW90aGVycy5wZGY=" target="_blank" style="word-wrap:break-word;">4769-delnp-2007-correspondence-others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDc2OS1ERUxOUC0yMDA3LURlc2NyaXB0aW9uIChDb21wbGV0ZSktKDIwLTEyLTIwMTEpLnBkZg==" target="_blank" style="word-wrap:break-word;">4769-DELNP-2007-Description (Complete)-(20-12-2011).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDc2OS1kZWxucC0yMDA3LWRlc2NyaXB0aW9uIChjb21wbGV0ZSkucGRm" target="_blank" style="word-wrap:break-word;">4769-delnp-2007-description (complete).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDc2OS1ERUxOUC0yMDA3LURyYXdpbmdzLSgxNi0wNS0yMDEyKS5wZGY=" target="_blank" style="word-wrap:break-word;">4769-DELNP-2007-Drawings-(16-05-2012).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDc2OS1kZWxucC0yMDA3LWRyYXdpbmdzLnBkZg==" target="_blank" style="word-wrap:break-word;">4769-delnp-2007-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDc2OS1ERUxOUC0yMDA3LUZvcm0tMS0oMjAtMTItMjAxMSkucGRm" target="_blank" style="word-wrap:break-word;">4769-DELNP-2007-Form-1-(20-12-2011).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDc2OS1kZWxucC0yMDA3LWZvcm0tMS5wZGY=" target="_blank" style="word-wrap:break-word;">4769-delnp-2007-form-1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDc2OS1kZWxucC0yMDA3LWZvcm0tMTgucGRm" target="_blank" style="word-wrap:break-word;">4769-delnp-2007-form-18.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDc2OS1ERUxOUC0yMDA3LUZvcm0tMi0oMjAtMTItMjAxMSkucGRm" target="_blank" style="word-wrap:break-word;">4769-DELNP-2007-Form-2-(20-12-2011).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDc2OS1kZWxucC0yMDA3LWZvcm0tMi5wZGY=" target="_blank" style="word-wrap:break-word;">4769-delnp-2007-form-2.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDc2OS1ERUxOUC0yMDA3LUZvcm0tMy0oMTQtMDktMjAxMCkucGRm" target="_blank" style="word-wrap:break-word;">4769-DELNP-2007-Form-3-(14-09-2010).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDc2OS1ERUxOUC0yMDA3LUZvcm0tMy0oMTYtMDUtMjAxMikucGRm" target="_blank" style="word-wrap:break-word;">4769-DELNP-2007-Form-3-(16-05-2012).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDc2OS1kZWxucC0yMDA3LUZvcm0tMy0oMTctMDYtMjAxMykucGRm" target="_blank" style="word-wrap:break-word;">4769-delnp-2007-Form-3-(17-06-2013).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDc2OS1ERUxOUC0yMDA3LUZvcm0tMy0oMjAtMTItMjAxMSkucGRm" target="_blank" style="word-wrap:break-word;">4769-DELNP-2007-Form-3-(20-12-2011).pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDc2OS1kZWxucC0yMDA3LWZvcm0tMy5wZGY=" target="_blank" style="word-wrap:break-word;">4769-delnp-2007-form-3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDc2OS1kZWxucC0yMDA3LWZvcm0tNS5wZGY=" target="_blank" style="word-wrap:break-word;">4769-delnp-2007-form-5.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDc2OS1kZWxucC0yMDA3LXBjdC0xMDEucGRm" target="_blank" style="word-wrap:break-word;">4769-delnp-2007-pct-101.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDc2OS1kZWxucC0yMDA3LXBjdC0yMTAucGRm" target="_blank" style="word-wrap:break-word;">4769-delnp-2007-pct-210.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDc2OS1kZWxucC0yMDA3LXBjdC00MDkucGRm" target="_blank" style="word-wrap:break-word;">4769-delnp-2007-pct-409.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=NDc2OS1ERUxOUC0yMDA3LVBldGl0aW9uLTEzNy0oMTYtMDUtMjAxMikucGRm" target="_blank" style="word-wrap:break-word;">4769-DELNP-2007-Petition-137-(16-05-2012).pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="261018-all-in-one-shaving-tool.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="261020-compositions-containing-polysaccharides.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>261019</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>4769/DELNP/2007</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>23/2014</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>06-Jun-2014</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>30-May-2014</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>20-Jun-2007</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>DANFOSS DRIVES A/S</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>ULSNAES 1, DK-6300 GRASTEN, DENMARK.</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>ANDERSEN, HENRIK, ROSENDAL</td>
											<td>HJORTEVEJ 4, DK-6300 GRASTEN, DENMARK.</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>H02H 7/122</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>PCT/DK2004/000920</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td>2004-12-27</td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>PCT/DK2004/000920</td>
									<td>2004-12-27</td>
								    <td>PCT</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/261019-method-for-detecting-earth-fault-conditions-and-a-motor-controller-thereof by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 02:46:55 GMT -->
</html>
