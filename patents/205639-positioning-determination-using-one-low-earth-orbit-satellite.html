<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from www.allindianpatents.com/patents/205639-positioning-determination-using-one-low-earth-orbit-satellite by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 07:03:34 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Patents. 205639:POSITIONING DETERMINATION USING ONE LOW-EARTH ORBIT SATELLITE</title>
    <meta content="authenticity_token" name="csrf-param" />
<meta content="cYcP52B8zyTWKbLwby2YPh9z/gvY/RLjWOwY4YXkiXg=" name="csrf-token" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
    <![endif]-->

    <link href="../assets/application-e80cf34975c5b1730c80b2f7170e7d26.css" media="all" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">Indian Patents</a>
          <div class="container-fluid nav-collapse">
            <ul class="nav">
              <li><a href="../recently-granted.html">Recently Granted Patents</a></li>
              <li><a href="../recently-published.html">Recently Published Patents</a></li>
            </ul>
            <form id="gform" class="navbar-search pull-right" action="https://www.google.com/search" method="get" target="_blank" onsubmit="document.getElementById('gform').q.value='site:http://www.allindianpatents.com '+document.getElementById('gform').q.value">
                <input type="text" name="q" id="q" class="search-query" placeholder="Search" onclick="this.value=''" autocomplete="off">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">

          <style>
          .allindianpatents-top { width: 320px; height: 50px; }
          @media(min-width: 500px) { .allindianpatents-top { width: 468px; height: 60px; } }
          @media(min-width: 800px) { .allindianpatents-top { width: 728px; height: 90px; } }
          </style>
          <center>
          </center>
          
          <div class="row-fluid">
	<div class="span8">

		<table class="table">
			<tr>
				<th>Title of Invention</th>
				<td><h1 style="font-size:large;">POSITIONING DETERMINATION USING ONE LOW-EARTH ORBIT SATELLITE</h1></td>
			</tr>
			<tr>
				<th>Abstract</th>
				<td>A system and method for determining the position of a user terminal (for example, a mobile wireless telephone) in a low-Earth orbit satellite communications system. The system includes a user terminal, at least one satellite with a known position and velocity, and a gateway (that is, a terrestrial base station) for communicating with the user terminal through the satellites. The method includes the steps of determining a range parameter and a range-rate parameter. A range parameter represents a distance between the satellite and the user terminal. A range-rate parameter represents a relative radial velocity between that satellite and the user terminal. The position of the user terminal on the Earth&#x27;s surface is then determined based on the range parameter, the range-rate parameter, and the known position and velocity of the satellite.</td>
			</tr>
		</table>

					<style>
					.allindianpatents-post-abstract { width: 320px; height: 50px; }
					@media(min-width: 880px) { .allindianpatents-post-abstract { width: 468px; height: 60px; } }
					@media(min-width: 1267px) { .allindianpatents-post-abstract { width: 728px; height: 90px; } }
					</style>
					<center>
					<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					<!-- AllIndianPatents-post-abstract -->
					<ins class="adsbygoogle allindianpatents-post-abstract"
					     style="display:inline-block"
					     data-ad-client="ca-pub-7914358224572760"
					     data-ad-slot="9152759240"></ins>
					<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
					</script>					
					</center>

		<table class="table">
			<tr>
				<th>Full Text</th>
				<td> <br><br><br>
POSITION DETERMINATION USING ONE LOW-EARTH ORBIT SATELLITE<br>
BACKGROUND OF THE INVENTION<br>
I. Field of the Invention<br>
The present invention relates generally to object position determination using satellites. More specifically, the present invention relates to a method for determining the position of a user terminal in a satellite communications system using characteristics of the communications signals.<br>
II.       Related Art<br>
A typical satellite-based communications system comprises at least one terrestrial base station (hereinafter referred to as a gateway), at least one user terminal (for example, a mobile telephone), and at least one satellite for relaying communications signals between the gateway and the user terminal. The gateway provides links from a user terminal to other user terminals or communications systems, such as a terrestrial telephone system.<br>
A variety of multiple access communications systems have been developed for transferring information among a large number of system users. These techniques include time division multiple access (TDMA), frequency division multiple access (FDMA), and code division multiple access (CDMA) spread-spectrum techniques, the basics of which are well known in the art. The use of CDMA techniques in a multiple access communications system is disclosed in U.S. Patent No. 4,901,307, which issued February 13, 1990, entitled "Spread Spectrum Multiple Access Communication System Using Satellite Or Terrestrial Repeaters/' and U.S. Patent Application Serial No. 08/368,570, filed January 4, 1995, entitled "Method And Apparatus For Using Full Spectrum Transmitted Power In A Spread Spectrum Communication System For Tracking Individual Recipient Phase Time And Energy/' which are both assigned to the assignee of the present invention, and are incorporated herein by reference.<br>
The above-mentioned patent documents disclose multiple access communications systems in which a large number of generally mobile or remote system users employ user terminals to communicate with other system users or users of other connected systems, such as a public telephone<br><br>
switching network. The user terminals communicate through gateways and satellites using CDMA spread-spectrum type communications signals.<br>
Communications satellites form beams which illuminate a "spot" produced by projecting satellite communications signals onto the Earth's surface. A typical satellite beam pattern for a spot comprises a number of beams arranged in a predetermined coverage pattern. Typically, each beam comprises a number of so-called sub-beams (also referred to as CDMA charmels) covering a common geographic area, each occupying a different frequency band.<br>
In a typical spread-spectrum communications system, a set of preselected pseudorandom noise (PN) code sequences is used to modulate (i.e., "spread") information signals over a predetermined spectral band prior to modulation onto a carrier signal for transmission as communications signals. PN spreading, a method of spread-spectrum transmission that is well known in the art, produces a signal for transmission that has a bandwidth much greater than that of the data signal. In a forward communications link (that is, in a communications link originating at a gateway and terminating at a user terminal), PN spreading codes or binary sequences are used to discriminate between signals transmitted by a gateway over different beams, and to discriminate between multipath signals. These PN codes are typically shared by all communications signals within a given sub-beam.<br>
In a typical CDMA spread-spectum system, channelizing codes are used to discriminate between signals intended for particular user terminals transmitted within a satellite beam on the forward link. That is, a unique orthogonal chaxmel is provided for each user terminal on the forward link by using a unique "channelizing" orthogonal code. Walsh functions are generally used to implement the charmelizing codes, with a typical length being on the order of 64 code chips for terrestrial systems and 128 code chips for satellite systems.<br>
Typical CDMA spread-spectrum communications systems, such as disclosed in U.S. Patent No. 4,901,307, contemplate the use of coherent modulation and demodulation for forward link user terminal commtmications. In commtmications systems using this approach, a "pilot" carrier signal (hereinafter referred to as a "pilot signal") is used as a coherent phase reference for forward links. That is, a pilot signal, which typically contains no data modulation, is transmitted by a gateway throughout a region of coverage.   A single pilot signal is typically transmitted by each<br><br>
gateway for each beam used for each frequency used. These pilot signals are shared by all user terminals receiving signals from the gateway.<br>
Pilot signals are used by user terminals to obtain initial system synchronization and time, frequency, and phase tracking of other signals transmitted by the gateway. Phase information obtained from tracking a pilot signal carrier is used as a carrier phase reference for coherent demodulation of other system signals or traffic signals. This technique allows many traffic signals to share a common pilot signal as a phase reference, providing for a less costly and more efficient tracking mechanism.<br>
When a user terminal is not involved in a communications session (that is, the user terminal is not receiving or transmitting traffic signals), the gateway can convey information to that particular user terminal using a signal known as a paging signal. For example, when a call has been placed to a particular mobile phone, the gateway alerts the mobile phone by means of a paging signal. Paging signals are also used to distribute traffic channel assignments, access channel assignments, and system overhead information.<br>
A user terminal can respond to a paging signal by sending an access signal or access probe over the reverse link (that is, the communications link originating at the user terminal and terminating at the gateway). The access signal is also used when a user terminal originates a call.<br>
When communications are required with a user terminal, the communications system may need to determine the position of the user terminal. The need for user terminal position information stems from several considerations. One consideration is that the system should select an appropriate gateway for providing the communications link. One aspect of this consideration is allocation of a commimications link to the proper service provider (for example, a telephone company). A service provider is typically assigned a particular geographic territory, and handles all calls with users in that territory. When communications are required with a particular user terminal, the communications system can allocate the call to a service provider based on the territory within which the user terminal is located. In order to determine the appropriate territory, the communications system requires the position of the user terminal. A similar consideration arises when calls must be allocated to service providers based on political bovmdaries or contracted services.<br>
A crucial requirement in position determination for a satellite-based communications system is speed. When commimications are required with a particular user terminal, the gateway that will serve the user terminal<br><br>
should be selected rapidly. For example, a mobile telephone user is not likely to tolerate a delay of more than a few seconds when placing a call. The need for positioning accuracy in this situation is less important than the need for speed. An error of less than 10 kilometers (km) is considered adequate. In contrast, most conventional approaches to satellite-based position determination emphasize accuracy over speed.<br>
One conventional approach is that employed by the U.S. Navy's TRANSIT system- In that system, the user terminal performs continuous Doppler measurements of a signal broadcast by a low-Earth orbit (LEO) satellite. The measurements continue for several minutes. The system usually requires two passes of the satellite, necessitating a wait of more than 100 minutes. In addition, because the position calculations are performed by the user terminal, the satellite must broadcast information regarding its position (also known as "ephemeris"). Although the TRANSIT system is capable of high accuracy (on the order of one meter), the delay involved is unacceptable for use in a commercial satellite communications system.<br>
Another conventional approach is that employed by the ARGOS and SARSAT (Search and Rescue Satellite) systems. In that approach, the user terminal transmits an intermittent beacon signal to a receiver on the satellite, which makes frequency measurements of the signal. If the satellite receives more than four beacon signals from the user terminal, it can usually solve for the user terminal's position. Because the beacon signal is intermittent, an extended Doppler measurement, such as that performed by the TRANSIT system, is unavailable.<br>
Another conventional approach is that employed by the Global Positioning System (GPS). In that approach, each satellite broadcasts a time-stamped signal that includes the satellite's ephemeris. When the user terminal receives a GPS signal, the user terminal measures the transmission delay relative to its own clock and determines a pseudo-range to the transmitting satellite's position. The GPS system requires three satellites for two-dimensional positioning, and a fourth satellite for three-dimensional positioning.<br>
One disadvantage of the GPS approach is that at least three satellites are required for position determination. Another disadvantage of the GPS approach is that, because the calculations are performed by the user terminal, the GPS satellites must broadcast their ephemeris information, and the user terminal must possess the computational resources to perform the required calculations.<br><br>
One disadvantage of all of the above-described approaches is that the user terminal must have a separate transmitter or receiver, in addition to that required to process communication signals, in order to use those approaches.<br>
Another conventional approach is that disclosed in commonly-owned U.S. Patent No. 5,126,748, which issued June 30,1992, entitled "Dual Satellite Navigation System And Method/ which is incorporated herein by reference. This approach employs two satellites to actively determine the position of the user terminal through trilateration. While useful, this approach requires two satellites.<br>
What is needed and desirable, therefore, is a satellite-based position determination system capable of rapid position determination using only one satellite.<br>
SUMMARY OF THE INVENTION<br>
The present invention is a system and method for rapidly determining the position of a user terminal (for example, a mobile telephone) using only one satellite in a satellite communications system, such as a low-Earth orbit satellite communications system. The system includes a user terminal, at least one satellite with a known position and a known velocity, and a gateway (that is, a terrestrial base station) for communicating with the user terminal through the satellite. The method includes the steps of determining parameters that describe the temporal and spatial relationships between the user terminal and the satellite and solving for the position of the user terminal using the parameters and the known position and known velocity of the satellite.<br>
Two parameters are used: range and range-rate. The range parameter represents the distance between a satellite and a user terminal. The range-rate parameter represents the relative radial velocity between a user terminal and a satellite.<br>
In a preferred embodiment of the present invention, an iterative weighted Gauss-Newton least-squares method is used to solve for the position of the user terminal based on the parameters used and the known position and known velocity of the satellite.<br>
One advantage of the present invention is that it permits quick position determination using a single satellite, such as a LEO satellite.<br>
BRIEF DESCRIPTION OF THE FIGURES<br><br>
The features and advantages of the present invention will become more apparent from the detailed description set forth below when taken in conjunction with the drawings in which like reference numbers indicate identical or functionally similar elements. Additionally, the left-most digits of a reference number identify the drawing in which the reference number first appears.<br>
FIG. 1 depicts a typical satellite communication system;<br>
FIG. 2 is a block diagram of an exemplary transceiver for use in a user terminal;<br>
FIG. 3 is a block diagram of an exemplary transmission and reception apparatus for use in a gateway;<br>
FIG. 4 is a block diagram of an exemplary time tracking loop for use in a user terminal;<br>
FIG. 5 is a block diagram of an exemplary frequency tracking loop for use in a user terminal;<br>
FIG. 6 depicts the sub-point of a satellite and a projection, onto the surface of the Earth, of iso-contours for range and range-rate parameters related to the satellite;<br>
FIG. 7A is a graphical depiction of the components of the frequency of a signal measured at the user terminal;<br>
FIG. 73 is a graphical depiction of the components of the frequency of a signal measured at the gateway;<br>
FIG. 8 is a flowchart depicting the operation of a preferred embodiment of the present invention; and<br>
FIG. 9 is a block diagram illustrating an exemplary environment in which the present invention can operate.<br>
DETAILED DESCRIPTION OF THE PREFERRED<br>
EMBODIMENTS<br>
L	Introduction<br>
The present invention is a system and method for rapid position determination of a user terminal in a satellite communications system using only one low-Earth orbit (LEO) satellite. As would be apparent to one skilled in the relevant art, the concept of the present invention can be applied to satellite systems in which the satellites travel in non-LEO orbits if the relative motion between the satellites and the user terminal is sufficient to facilitate the range-rate measurements described below.<br><br>
The preferred embodiment of the invention is discussed in detail below. While specific steps, configurations and arrangements are discussed, it should be understood that this is done for illustrative purposes only. A person skilled in the relevant art will recognize that other steps, configurations and arrangements can be used without departing from the spirit and scope of the present invention.<br>
The present invention will be described in four parts. First, a typical satellite communications system is described. Second, the parameters employed by the system's positioning method are described. Third, the positioning method is described in terms of its physical representations. Finally, the execution of the positioning method is described.<br>
II.       A Typical Satellite Communications System<br>
FIG. 1 depicts a typical satellite communication system 100. Satellite communication system 100 comprises gateway 102, satellite 104, and user terminals 106. User terminals 106 are generally of three types: fixed user terminals 106A, which are typically mounted in permanent structures; mobile user terminals 106B, which are typically mounted in vehicles; and portable user terminals 106C, which are typically hand-held. Gateway 102 communicates with user terminals 106 through satellite 104.<br>
An exemplary transceiver 200 for use in a user terminal 106 is illustrated in FIG. 2. Transceiver 200 uses at least one antenna 210 for receiving communication signals which are transferred to an analog receiver 214, where they are downconverted, amplified, and digitized. A duplexer element 212 is usually used to allow the same antenna to serve both transmit and receive functions. However, some systems employ separate antennas for operating at different frequencies.<br>
 Digital communication signals output by analog receiver 214 are transferred to at least one digital data receiver 216A and at least one digital searcher receiver 218. Additional digital data receivers 216B-216N can be used in a "rake" configuration to obtain desired levels of signal diversity, depending on the acceptable level of limit complexity, as would be apparent to one skilled in the relevant art. A receiver configured in such a marmer is called a "rake receiver," and each digital data receiver 216 is called a "finger." The fingers of the rake receiver are used not only for signal diversity, but also to receive signals from multiple satellites. Furthermore, additional searcher receivers 218 can be used to provide for high speed signal acquisition.<br><br>
At least one user terminal control processor 220 is electrically coupled to digital data receivers 216A-216N and searcher receiver 218. Control processor 220 provides, among other functions, basic signal processing, timing, power and handoff control or coordination and selection of frequency used for signal carriers. Another basic control function often performed by control processor 220 is the selection or manipulation of FN code sequences or orthogonal functions to be used for processing communication signal waveforms. Control processor 220 signal processing can include a determination of the parameters employed by the present invention. Such computations of signal parameters, such as relative timing and frequency, can include the use of additional or separate dedicated circuitry to provide increased efficiency or speed in naeasurements or improved allocation of control processing resources.<br>
Outputs for digital data receivers 216A-216N are electrically coupled to user digital baseband circuitry 222 within the user terminal. User digital baseband circuitry 222 comprises processing and presentation elements used to transfer information to and from a user terminal user. That is, signal or data storage elements, such as transient or long term digital memory; input and output devices such as display screens, speakers, keypad terminals, and handsets; A/D elements, vocoders and other voice and analog signal processing elements; etc., all form parts of the user baseband circuitry using elements well known in the art. If diversity signal processing is employed, user digital baseband circuitry 222 can comprise a diversity combiner and decoder. Some of these elements may also operate under the control of, or in communication with, control processor 220.<br>
When voice or other data is prepared as an output message or communication signal originating with the user terminal, user digital baseband circuitry 222 is used to receive, store, process, and otherwise prepare the desired data for transmission. User digital baseband circuitry 222 provides this data to a transmit modulator 226 operating under the control of control processor 220. The output of transmit modulator 226 is transferred to a power controller 228 which provides output power control to a transmit power amplifier 230 for final transmission of the output signal from antenna 210 to a gateway.<br>
Transceiver 200 can also employ one or more precorrection elements or precorrectors 232 and 234. The operation of these precorrectors is disclosed in a copending, commonly-owned application entitled "Time And Frequency Precorrection For Non-Geostationary Satellite Systems' having application   Serial   No.  [to  be assigned.  Attorney   Docket<br><br>
Number PA338), which is incorporated herein by reference. Preferably, precorrection occurs at the output of digital power controller 228 at baseband frequency. The baseband spectral information including the frequency adjustment is translated to the appropriate center frequency during up-conversion performed in transmit power amplifier 230. The precorrection or frequency adjustment is accomplished using techniques known in the art. For example, the precorrection can be effected by a complex signal rotation,<br>
which is equivalent to multiplying the signal by a factor of ejώt, where ώ is computed on the basis of known satellite ephemerides and desired channel frequency. This is very useful where communication signals are processed as in-phase (I) and quadrature phase (Q) channels. A direct digital synthesis device can be used to generate some of the rotation products. Alternatively, a coordinate rotation digital computation element can be used that employs binary shifts, adds, and subtracts to perform a series of discrete rotations, resulting in the desired overall rotation. Such techniques and related hardware are well understood in the art.<br>
As an alternative, precorrection element 234 can be disposed in the transmission path on the output of transmit power amplifier 230, to adjust the frequency of the outgoing signal. This can be accomplished using well known techniques, such as up- or down-conversion of the transmission waveform. However, changing the frequency on the output of the analog transmitter can be more difficult because there is often a series of filters used to shape the waveform, and changes at this juncture may interfere with the filtering process. Alternatively, precorrection element 234 can form part of a frequency selection or control mechanism for the analog up-conversion and modulation stage (230) of the user terminal so that an appropriately adjusted frequency is used to convert the digital signal to a desired transmission frequency in one step.<br>
Information or data corresponding to one or more measured signal parameters for received communication signals, or one or more shared resource signals, can be sent to the gateway using a variety of techniques known in the art. For example, the information can be transferred as a separate information signal or be appended to other messages prepared by user digital baseband circuitry 222. Alternatively, the information can be inserted as predetermined control bits by transmit modulator 226 or transmit power controller 228 under control of control processor 220.<br>
Digital data receivers 216A-N and searcher receiver 218 are configured with signal correlation elements to demodulate and track specific signals.<br><br>
Searcher receiver 218 is used to search for pilot signals, or other relatively fixed pattern strong signals, while data receivers 216A-N are used to track pilot signals or demodulate signals associated with detected pilot signals. Therefore, the outputs of these units can be monitored to provide information employed to compute the parameters of the present invention. Information on the measurements made by user terminal 106 on received communication signals or shared resource signals can be sent to the gateway using a variety of techniques known in the art. For example, the information can be transferred as a separate data signal or be appended to other messages prepared by user digital baseband circuitry 222. Data receivers 216 (A-N) also employ frequency tracking elements that can be monitored to provide current frequency and timing information to control processor 220 for signals being demodulated. This is discussed further below with reference to FIGS. 4 and 5.<br>
Control processor 220 uses such information to determine to what extent the received signals are offset from an expected frequency, based on a local oscillator frequency, when scaled to the same frequency band, as appropriate. This and other information related to frequency offsets, errors and Doppler shifts, can be stored in one or more error/Doppler storage or memory elements 236, as desired. This information can be used by control processor 220 to adjust its operating frequency, or can be transferred to gateways using various communication signals.<br>
At least one time reference element 238 is used to generate and store chronological information such as the date and time of day to assist in determining satellite positions. The time can be stored and updated periodically. The time may also be supplied periodically by a gateway. In addition, the current time is stored each time a user terminal enters an inactive mode such as when it is "turned off. This time value is used in conjunction with the "turn on" time to determine various time dependent signal parameters and user terminal position changes.<br>
Additional, storage or memory elements 240 and 242 can be used to store specific information about parameters discussed in further detail below. For example, a memory element 240 can store user terminal measurements made relative to a range-rate parameter, such as differences in relative frequency offsets between two arriving signals. A memory element 242 could be used to store user terminal measurements relative to a range difference parameter, such as differences in the time of arrival for two signals. These memory elements use structure and circuits well known in the art and can be formed either as distinct or separate elements or as a larger<br><br>
unified structure in which this information is stored in a controlled manner, for later retrieval.<br>
As shown in FIG. 2, a local or reference oscillator 250 is used as a reference for the analog receiver 214 to down convert the incoming signal to baseband at the desired frequency. It can also be employed in multiple intermediate conversion steps, as desired, until the signal reaches the desired baseband frequency. As shown, oscillator 250 is also used as a reference for analog transmitter 230, for up-conversion from baseband to the desired carrier frequency for reverse link transmissions, and as a frequency standard or reference for a timing circuit 252. Timing circuit 252 generates timing signals for other stages or processing elements within user terminal 200 such as time tracking circuits, the correlators in digital receivers 216A-N and 218, transmit modulator 226, time reference element 238, and control processor 220. Timing circuit 252 can also be configured to produce delays for retarding or advancing in the relative timing of timing or clock signals, under processor control. That is, time tracking can be adjusted by predetermined amounts. This also allows the application of codes to be advanced or retarded from "normal" timing, typically by one or more chip periods, so that PN codes or chips making up the codes can be applied with different timing, as desired.<br>
An exemplary transmission and reception apparatus 300 for use in a gateway 102 is illustrated in FIG. 3. The portion of gateway 102 illustrated in FIG. 3 has one or more analog receivers 314 connected to an antenna 310 for receiving communication signals which are then downconverted, amplified, and digitized using various schemes well known in the art. Multiple antennas 310 are used in some communication systems. Digitized signals output by analog receiver 314 are provided as inputs to at least one digital receiver module, indicated by dashed lines generally at 324.<br>
Each digital receiver module 324 corresponds to signal processing elements used to manage communications between a gateway 102 and one user terminal 106, although certain variations are known in the art. One analog receiver 314 can provide inputs for many digital receiver modules 324, and a number of such modules are typically used in gateways 102 to accommodate all of the satellite beams and possible diversity mode signals being handled at any given time. Each digital receiver module 324 has one or more digital data receivers 316 and searcher receivers 318. Searcher receiver 318 generally searches for appropriate diversity modes of signals other than pilot signals, and several searchers can be used in parallel to increase searching speed.    Where  implemented   in  the  communication<br><br>
system, multiple digital data receivers 316A-316N are used for diversity signal reception.<br>
The outputs of digital data receivers 316 are provided to subsequent baseband processing elements 322 comprising apparatus well known in the art and not illustrated in further detail here. Exemplary baseband apparatus includes diversity combiners and decoders to combine multipath signals into one output for each user. Exemplary baseband apparatus also includes interface circuits for providing output data, typically to a digital switch or network. A variety of other known elements such as, but not limited to, vocoders, data modems, and digital data switching and storage components may form a part of baseband processing elements 322. These elements operate to control or direct the transfer of data signals to one or more transmit modules 334.<br>
Signals to be transmitted to user terminals 106 are each electrically coupled to one or more appropriate transmit modules 334. A typical gateway uses a number of such transmit modules 334 to provide service to many user terminals 106 simultaneously, and for several satellites and beams simultaneously. The number of transmission modules 334 used by gateway 102 is determined by factors well known in the art, including system complexity, number of satellites usually in view, user capacity, degree of diversity chosen, and the like.<br>
Each transmit module 334 includes a transmit modulator 326 which spread-spectrum modulates data for transmission and has an output electrically coupled to a digital transmit power controller 328, which controls the transmission power used for the outgoing digital signal. Digital transmit power controller 328 generally applies a minimum level of power for purposes of interference reduction and resource allocation, but applies appropriate levels of power when needed to compensate for attenuation in the transmission path and other path transfer characteristics. A PN generator 332 is used by transmit modulator 326 in spreading the signals. This code generation can also form a functional part of one or more control processors or storage elements used in gateway 102.<br>
The output of transmit power controller 328 is transferred to a summer 336 where it is summed with the outputs from other transmit power control circuits. Those outputs are signals for transmission to other user terminals 106 at the same frequency and within the same beam as the output of transmit power controller 328. The output of summer 336 is provided to an analog transmitter 338 for digital-to-analog conversion, conversion to the appropriate RF carrier frequency, further amplification.<br><br>
filtering, and output to one or more antennas 340 for radiating to user terminals 106. Antennas 310 and 340 may be the same antennas depending on the complexity and configuration of the communication system.<br>
At least one gateway control processor 320 is electrically coupled to receiver modules 324, transmit modules 334, and baseband circuitry 322. These limits may be physically separated from each other. Control processor 320 provides command and control signals to effect functions such as, but not limited to, signal processing, timing signal generation, power control, handoff control, diversity combining, and system interfacing. In addition, control processor 320 assigns PN spreading codes, orthogonal code sequences, and specific transmitters and receivers or modules for use in user commimications. Further, control processor 320 can be used to compute the parameters and execute the positioning method of the present invention.<br>
Control processor 320 also controls the generation and power of pilot, synchronization, and paging charmel signals and their coupling to transmit power controller 328. The pilot charmel is simply a signal that is not modulated by data, and may use a repetitive unchanging pattern or non-varying frame structure. That is, the orthogonal function used to form the pilot signal channel generally has a constant value, such as all I's or O's, or a well known repetitive pattern of interspersed I's and O's.<br>
While control processor 320 can be electrically coupled directly to the elements of a module, such as transmit module 334 or receive module 324, each module generally comprises a module-specific processor, such as transmit processor 330 or receive processor 321, which controls the elements of that module. Thus, in a preferred embodiment, control processor 320 is electrically coupled to transmit processor 330 and receive processor 321, as shown in FIG. 3. In this maimer, a single control processor 320 can control the operations of a large number of modules and resources more efficiently. Transmit processor 330 controls generation of, and signal power for, pilot, synchronization, paging signals, and traffic charmel signals, and their respective coupling to power controller 328. Receive processor 321 controls searching, PN spreading codes for demodulation and monitoring received power. Processor 321 can also be used in determining signal parameters employed in the method of the present invention, or can detect and transfer information received from the user terminal regarding such parameters, thereby decreasing the burden on control processor 320.<br>
In order to implement embodiments of the present invention, one or more precorrectors or frequency precorrection elements 342 and 344 may be used. Preferably, a precorrection element 342 is used to adjust the frequency<br><br>
of the digital output of digital power controller 328 at baseband frequency. As in the user terminal, baseband spectral information including the frequency adjustment is translated to the appropriate center frequency during the up-conversion performed in analog transmitter 338. The frequency precorrection is accomplished using techniques known in the art, such as the complex signal rotation discussed above, where the angle of rotation is computed on the basis of known satellite ephemerides and desired channel frequency. As in the user terminal, other signal rotation techniques and related hardware can be used without departing from the spirit and scope of the present invention.<br>
In addition to frequency precorrection, there may be a desire to have time precorrection, to alter the relative timing of signals, or PN codes. This is generally accomplished by adjusting either code generation and timing or other signal parameter timing when a signal is generated at baseband and prior to output by power controller 328. For example, controller 320 can determine when codes are generated, and their relative timing and application to signals, as well as when signals are acted upon by transmit modulator 326 and are transmitted to various satellites by power controller 328. However, known time precorrection elements or circuits, either forming a part of, or as separate units (not shown) similar to, precorrection elements 342 and 344 can be used without or in addition to frequency precorrection elements, as desired.<br>
In FIG. 3, precorrector 342 is shown disposed in the transmission path prior to summer 336. This allows individual control over each user terminal signal as desired. However, a single frequency precorrection element can be used when precorrection is performed after summer 336, because user terminals share the same transmission path from the gateway to the satellite.<br>
As an alternative, a precorrector 344 can be disposed in the transmission path on the output of analog transmitter 338, to adjust the frequency of the outgoing signal, using well known techniques. However, changing the frequency on the output of the analog transmitter can be more difficult, and may interfere with signal filtering processes. Alternatively, the output frequency of analog transmitter 338 can be adjusted directly by control processor 320 to provide a shifted output frequency, offset from the normal center frequency.<br>
The amount of frequency correction imposed on the outgoing signal is based on known Doppler between the gateway and each satellite through which communication is established.   The amount of shifting required to<br><br>
account for the satellite Doppler can be computed by control processor 320 using known satellite orbital position data. This data can be stored in, and retrieved from, one or more storage elements 346, such as lookup tables or memory elements. This data can also be provided from other data sources, as desired. A variety of well known devices such as RAM and ROM circuits, or magnetic storage devices can be used to construct storage elements 346. This information is used to establish the Doppler adjustment for each satellite being used by the gateway at a given time.<br>
As shown in FIG. 3, a time and frequency unit (TFU) 348 provides reference frequency signals for the analog receiver 314 . A Universal Time (UT) signal from a GPS receiver can be used as part of this process in some applications. It can also be employed in multiple intermediate conversion steps, as desired. TFU 348 also serves as a reference for analog transmitter 338. TFU 348 also provides timing signals to other stages or processing elements within gateway transmission and reception apparatus 300 such as the correlators in digital receivers 316A-N and 318, transmit modulator 326, and control processor 320. TFU 348 is also configured to retard or advance the relative timing of (clock) signals, under processor control, ty predetermined amounts, as desired.<br>
One embodiment for performing timing measurements is illustrated in FIG. 4, which presents a time tracking loop 400 for a user terminal. This type of time tracking loop is referred to as a Tau Dither type, as is known in the art. In FIG. 4, incoming communication signals from the analog receiver are typically oversampled and then input to a decimator 402. The decimator 402 operates at a preselected rate and timing to transfer only certain samples to subsequent stages in the receiver.<br>
Decimated samples are transferred to a combination element 404, typically a multiplier, for combining with appropriate system FN spreading codes, provided by a FN generator or source 406, to despread the signal. The despread signal is transferred to a combination element 408 where it is combined with appropriate orthogonal code functions Wi, provided by a<br>
code generator or source 410, where used, to obtain data. The orthogonal code functions are those used to create communication signal channels. Generally, pilot and paging signals are used for this process, although other strong signals could be used. Therefore, the orthogonal code is generally one used to generate a pilot or paging signal, as would be known in the art. Alternatively, FN spreading and orthogonal codes can be combined together and then combined with the samples in a single step, as is known in the art.<br><br>
The time tracking circuit can employ an "Early/Late" scheme as disclosed in U.S. Patent No. 4,901,307, discussed above. In this approach, the degree to which the timing of incoming signals and digital receivers 216 are the same, or aligned, is measured by sampling an incoming data stream at an offset from a nominal chip time. This offset is either plus or minus half a FN code chip period, and is referred to as either late or early, respectively.<br>
If the timing of the plus or minus offset data differs symmetrically from that of the nominal despread incoming signal peaks, the difference formed between "late" and "early" sampling values is zero. That is, a value created by forming a difference between the "late" and "early" signals goes to zero when the one-half chip offset is centered about the "on-time" timing of the received signal If the relative timing used by receivers 216 is not tracking the received signal timing accurately, and is fast relative to the incoming signal data, then the late-minus-early difference produces a correction signal with a positive value. On the other hand, if the signal timing is too slow, the difference produces a correction signal with a negative value. It is readily apparent that an inverse or other relationship can also be employed as desired.<br>
To implement this technique, the decimator output is controlled to occur one-half chip earlier than normally used to demodulate signals. The decimator output is then despread and decoded, and the resulting data accumulated over a pre-selected period (typically a symbol period) in an accumulator 414. The accumulated symbol data provide symbol energies, which are squared in a squaring element 416 to provide non-negative magnitude values for an "early" signal.<br>
Another set of samples is accumulated and summed, or integrated, over a subsequent pre-selected period using accumulator 414. However, during this period a set of delay elements 412 are used to delay the application of the PN and orthogonal codes by one chip period. This has the same effect as altering the timing of the samples, or decimation, producing a "late" version of the despread and decoded data. This despread and decoded data is accumulated over the pre-selected period in accumulator 414. Additional elements and storage devices can be used as desired. The accumulated late symbol data is squared in squaring element 416. The resulting early and late squared values are either subtracted from each other or compared to produce a desired Early/Late timing difference in element 418. This difference is filtered using a timing filter 420 to provide an "advance/retard" signal 422. The time tracking loop continues to alternate between using un-delayed and delayed codes to produce early and late<br><br>
symbols, which are used to update or generate values for "advance/retard" signal 422. This continues until the receiver timing is reset, such as when the receiver is inactivated or shifted to tracking a new signal, as would be apparent to one skilled in the relevant art.<br>
Initial and ongoing timing control for the decimation process, and delay of codes, is provided by circuitry such as a timing control circuit 424. That is, timing control circuit 424 determines the timing of sample selection from decimator 402. At the same time, PN spreading and orthogonal code generation are also controlled by signals from timing control circuit 424. This later timing is sometimes referred to as a PN-enable since it enables application of codes. There may also be an initialization or EPOCH timing signal. The timing selected by timing control circuit 424 is adjusted by advance/retard signal 422 in response to the timing loop output. Generally, the timing is advanced by a length of time that is a fraction of a chip period, for example 1/8 of a chip where 8-times oversampling is used, to collect the input signal before decimation. The use of such timing and advance and retard mechanisms are well understood in the art.<br>
The amount by which each finger or digital receiver adjusts its timing to synchronize or align with an input signal is used to determine relative delays in signal arrival time. This is easily accomplished by tracking the total amount of time change (advance/retard) used by timing loop 400. An accumulator 426 can be used to simply accumulate and sum each of the advance/retard signals or commands over a preselected period. This provides a total or net amount of change needed to align the incoming signal and receiver timing. This represents an offset of the signal from local user terminal or receiver timing. Where user terminal timing is relatively close to or synchronized with the gateway, this could provide a measure of the delay experienced by a signal as it transits between a gateway and user terminal, which allows computation of range. Unfortunately, many factors such as local oscillator inaccuracy or drift generally prevent such direct computations.<br>
As mentioned before, this data can be sent to the gateway as part of other messages or as dedicated time information signals. The data can be stored in transient memory elements for later transfer and use. The information can also be provided or stored with some form of "time stamp" reflecting the time of collection, so that a gateway has an accurate time relationship for the data and can more accurately determine user terminal position. However, the accuracy desired in communications systems, as mentioned above, is not a very strict requirement.    If the information  is<br><br>
transmitted within a very short time from collection, time stamping is not very useful. Generally, the data is sent within a few data frames of its measurement, and if there is a transfer problem, the data is generated again before transfer so it is not more than a few frames old. However, time stamping allows more flexibility in data transmission, and repeated transfer of signals or sets of signals regardless of actual time. Otherwise, the system is likely to use fixed timing slots and reporting requirements if time stamping is not used to maintain a desired level of accuracy.<br>
The process is similar for signals received by a gateway, except that a pilot signal is not detected, and the orthogonal codes are generally associated with access probe signals. One advantage for a gateway is that the timing can be thought of as an absolute time reference. That is, the gateway has accurate system timing, as discussed above, and can accurately determine time differences for application of PN or orthogonal codes relative to its own time. This allows a gateway to determine accurate transit times or distances from the state of the PN codes being used for each receiver or finger. These transit times or distances can be used in determination of the range parameter of the present invention. Therefore, while useful in some applications, the information for each finger can be treated separately and need not be combined using an element 428, as before.<br>
One embodiment for performing frequency measurements is illustrated in FIG. 5, which presents an overview of a frequency tracking loop 500 for a user terminal. These frequency measurements can be used in determination of the range-rate parameter of the present invention. In FIG. 5, communication signals from the analog receiver are input to a rotator 502, Rotator 502 operates at a preselected but adjustable phase to remove residual frequency errors or offsets from digital samples arriving from an analog receiver at the digital receiver or finger.<br>
When CDMA-type signals are employed, the samples can be transferred to one or more combination elements 504, typically a multiplier, for combining with appropriate system PN spreading codes provided by one or more code generators or sources 506 to obtain data. Such PN spreading and orthogonal codes can be combined with the signal either separately or together in a single step. Where traffic channels are used to adjust the frequency, a fast Hadamard transform (FHT) element may be used in place of combiner 504 and code generator 506. This technique is disclosed in U.S. Patent Application No. 08/625,481 entitled "Frequency Tracking For Orthogonal Walsh Modulation," which is assigned to assignee of the present invention and is incorporated herein by reference.<br><br>
Rotated, and despread and decoded, signals are accumulated over a symbol period in accumulator 514 to provide a data symbol, and the results are provided to a vector cross product generation element or generator 518. At the same time, each symbol is provided to a one symbol time delay element 516, which provides a one symbol period delay before transferring the symbol to cross product generator 518.<br>
Cross product generator 518 forms a vector cross product between a given symbol and the preceding symbol to determine a change in phase between the symbols. This provides a measure of error in the phase rotation imparted to the input signal. The output from cross product generator 518 is provided as a frequency error estimate or adjustment factor to rotator 502 and code generator 506.<br>
Timing control for the despreading and decoding processes is provided by circuitry such as a timing control circuit 524, as discussed above. This timing may be provided as an output from the timing loop discussed above.<br>
The amount by which each finger or digital receiver adjusts its phase to align with an input signal is used to determine relative frequency offsets in arriving signals. That is, the amount by which the rotator phase has to be adjusted to remove residual error in signal alignment indicates the amount by which the arriving signal frequency is offset from the expected or local reference frequency for the user terminal.<br>
Since the communication system operates within fixed sets of frequency bands for communication signals, the receivers know the center of nominal carrier frequencies to use. However, as a result of Doppler shifts and other effects, which may be minimal, the arriving signal will not be at the expected center frequency. The adjustments discussed above define an offset, which can be used to determine the Doppler shifts and the actual frequency of the arriving signal.<br>
This is easily accomplished by tracking the total amount of change implemented by frequency tracking loop 500. An accumulator 522 can be used to simply accumulate the phase changes from the error estimates, signals, or commands over a preselected period. This provides a total or net amount of change needed to align the incoming signal and receiver frequencies, and represents the frequency offset of the signal from local user terminal or receiver frequency, scaled to the appropriate frequency band.<br>
As before, this data can be sent to the gateway as part of other messages or as dedicated frequency information signals. The data can be stored in transient memory for later transfer and can also be provided with<br><br>
some form of "time stamp". However, this is generally not necessary since data is sent within a few data frames of its measurement, and can be regenerated if there is a problem. Otherwise, the system is likely to use fixed timing slots and reporting requirements if time stamping is not used to maintain a desired level of accuracy.<br>
DDL      Available Parameters<br>
In a preferred embodiment, the present invention employs two parameters: range and range-rate. These parameters describe the spatial and temporal relationships between user terminal 106 and satellite 104. These parameters, and their measurement and application, are described below.<br>
FIG. 6 depicts the projection, onto the surface of the Earth, of iso-contours representing these parameters. An iso-contour of a parameter is a curve connecting all points having the same value of the parameter. FIG. 6 depicts the sub-point 614 of a satellite 104 (that is, the point on the surface of the Earth that is directly below the satellite) and a projection, onto the surface of the Earth, of iso-contours for range and range-rate parameters related to satellite 104. Two axes, x-axis 602A and y-axis 602B, graduated in thousands of kilometers, are provided to illustrate an exemplary scale.<br>
Range* The range parameter represents the distance between a satellite and a user terminal. In a preferred embodiment of the present invention, the range parameter is the distance R between a satellite 104 and a user terminal 106. The projection of an iso-R contour onto the surface of the Earth describes a circle centered beneath the relevant satellite, as shown generally at 604 in FIG. 4. In a preferred embodiment of the present invention, R is obtained by measuring the round-trip delay (RTD) of a signal transmitted from a satellite 104 to a user terminal 106 and back to the same satellite 104. R is then determined by dividing RTD by two, to yield a oneway delay, and multiplying the result by the speed of light, which represents the speed of the signal. In an alternative embodiment, RTD is used as a range parameter.<br>
In a preferred embodiment of the present invention, RTD is measured by the following method. First, a signal containing a known running PN sequence or spreading code is transmitted by gateway 102. The signal is relayed to user terminal 106 by a satellite 104. User terminal 106 retransmits the signal either immediately or after a known delay. The retransmitted signal is relayed back to gateway 102 by the same satellite 104. Gateway 102 then compares the state of the PN sequence in the received signal to the state of the local PN sequence.   The difference in states is then<br><br>
used to determine the total round-trip delay, which includes known delays between gateway 102 and satellite 104. These delays are known because the distance between satellite 104 and gateway 102 is maintained by gateway 102, as is well known in the relevant art. Subtracting these known delays from the total round-trip delay yields RTD. Using known satellite ephemerides, the known delays between gateway 102 and satellite 104 are computed by various methods well known in the art.<br>
As would be apparent to one skilled in the relevant art, other methods can be employed to obtain R without departing from the spirit and scope of the present invention.<br>
In a preferred embodiment of the present invention, the round-trip delay can be measured either during a call or during call establishment. If the measurement takes place during call establishment, the signal measured is usually transmitted from gateway 102 to user terminal 106 as part of the paging signal, and is retransmitted from user terminal 106 to gateway 102 as part of the access signal. If the measurement takes place during a call, the signal measured is usually transmitted from gateway 102 to user terminal 106 and back as part of the traffic signals. As would be apparent to one skilled in the relevant art, the measured signal can be another type of signal or can be incorporated into other signals, as desired, without departing from the spirit and scope of the present invention.<br>
Range-rate. The range-rate parameter represents the relative radial velocity between a user terminal 106 and a satellite 104. In a preferred embodiment of the present invention, the range-rate parameter is the relative radial velocity R between a user terminal 106 and a satellite 104. In an alternative embodiment of the present invention, the range-rate parameter is the Doppler shift RTDop in signals transmitted between a user terminal 106 and a satellite 104. R can be calculated by multiplying RTDop by the speed of light and dividing by the center carrier frequency. The projection of iso-RTDop contours on the surface of the Earth describes a set of hyperbola-like curves, symmetric with respect to the velocity vector 616 of the relevant satellite, as shown generally at 606 in FIG. 6. The RTDop = 0 contour, which passes through the sub-point 614 of satellite 104, describes a straight line.<br>
In a preferred embodiment of the present invention, R is determined by taking two frequency measurements, one at user terminal 106 and one at gateway 102, by the following method. User terminal 106 measures the frequency of a signal received from gateway 102 through a satellite 104 and<br><br>
reports this frequency- to gateway 102. Gateway 102 measures the frequency of a signal received from user terminal 106 through the same satellite 104. Thus, two frequency measurements are available at gateway 102. In a preferred embodiment, the frequencies are measured relative to local oscillator frequencies. The actual frequency can then be obtained as discussed below. This technique is also disclosed in copending, commonly-owned copending application "Determination Of Frequency Offsets In Communication Systems" having application number (to be assigned. Attorney Docket Number PA300), which is incorporated herein by reference.<br>
These measurements can be represented by two equations involving two imknowns: the relative radial velocity R and a normalized offset /off//o of the local oscillator of user terminal 106. This pair of equations can be solved for these two unknowns, yielding not only R, but also foff//fo which is a measurement that is useful in other aspects of satellite communications systems operations, as would be apparent to one skilled in the relevant art.<br>
The derivation of these two equations is depicted graphically in FIGS. 7A and 7B. FIG. 7A is a graphical depiction of the components of the frequency measured at user terminal 106. FIG. 7B is a graphical depiction of the components of the frequency measured at gateway 102.<br><br><br>
Adding and subtracting (1) and (2) yields both the frequency offset and the relative radial velocity, according to the relationships:<br><br>
As would be apparent to one skilled in the relevant art, other methods can be employed to obtain R without departing from the spirit and scope of the present invention.<br>
In a preferred embodiment of the present invention, the frequency measurements can take place either during a call or during call establishment. If the measurement takes place during call establishment, the signal measured at user terminal 106 is the paging signal, and the signal measured at gateway 102 is the access signal. If the measurement takes place during a call, the signals measured at user terminal 106 and gateway 102 are traffic signals. As would be apparent to one skilled in the relevant art, other signals can be employed without departing from the spirit and scope of the present invention.<br>
IV.     Positioning Method<br>
The two parameters described above can be used to determine the position of a user terminal 106. As an aid to understanding the present invention, physical representations of the parameters are presented as iso-parameter contours projected onto the surface of the Earth.<br>
In a preferred embodiment of the present invention, position determination is based on the range and range-rate parameters. In FIG. 6, the range parameter is R and the range-rate parameter is RTDop. Referring to FIG. 6, one iso-R contour is depicted, shown generally at 604, which forms a circle representing a range of 2000 km between user terminal 106 and satellite 104.<br>
FIG. 6 also depicts a family of iso-RTDop contours, as shown generally at 606. The iso-RTDop contours are hyperbola-like, and are symmetric with respect to the velocity vector 616 of satellite 104. Each RTDop contour connects those points on the Earth's surface experiencing the same Doppler shift with respect to satellite 104. The iso-RTDop contours are graduated in<br><br>
kHz, with the RTDop = 0 contour passing through the sub-point 614 of satellite 104.<br>
This positioning method suffers from two problems. The first problem is position ambiguity. For example, consider a case where R = 2000 km and RTDop = +30 kHz. Referring to HG. 6, the R = 2000 km contour intersects the RTDop = +30 kHz contour at two points, 610A and 610B. Without further information, it cannot be determined whether user terminal 106 is at point 610A or 610B.  Thus, this solution is ambiguous.<br>
The second problem is known as Geometric Dilution of Precision (GDOP). A GDOP "singularity" occurs when a small error in a measurement causes a large error in the position solution. When the range and range-rate contours are tangential or nearly tangential, as shown in FIG. 6 at point 610C, a small error in either parameter will cause a large position error. Without further position information, a positioning method using only the range and range-rate parameters can suffer from a GDOP singularity.<br>
These problems can be solved in at least two ways. First, additional information can resolve both position ambiguities and GDOP singularities. This information may be provided by additional measurements, or through the use of other parameters, such as which satellite beam is in use. One such technique is disclosed in a copending, commonly-owned application entitled "Ambiguity Resolution For Ambiguous Position Solutions Using Satellite Beams' having application number (to be assigned. Attorney Docket Number PD456). Second, the problems can be resolved by starting with a good estimate of the position of user terminal 106, such as its last known position.<br>
FIG. 8 is a flowchart depicting the operation of a preferred embodiment of the present invention. One or more range parameters are determined, as described above and shown in a step 802. One or more range-rate parameters are determined, as described above and shown in a step 806. Then, the position of the user terminal on the Earth's surface is determined based on the known positions and velocities of the satellite and the range and range-rate parameters, as shown in a step 810 and described below.<br>
V.       Positioning Execution<br>
Before describing positioning execution in detail, it is useful to first describe an exemplary environment in which the positioning method of the present invention can operate. FIG, 9 is a block diagram illustrating such an example envirornment. The envirornment is a computer system 900 that can form a part of control processor 220 and/or control processor 320.   Computer<br><br>
system 900 includes one or more processors, such as processor 904. The processor 904 is connected to a communications bus 906. Various embodiments are described in terms of this example computer system. After reading this description, it will be apparent to a person skilled in the relevant art how to implement the positioning method of the present invention using other computer systems, computer architectures, hardware state machines, look-up tables, and the like, and various combinations thereof.<br>
Computer system 900 also includes a main memory 908, preferably random access memory (RAM), and can also include a secondary memory 910. The secondary memory 910 can include, for example, a hard disk drive 912 and/or a removable storage drive 914, representing a floppy disk drive, a magnetic tape drive, an optical disk drive, etc. The removable storage drive 914 reads from and/or writes to a removable storage limit 918 in a well known manner. Removable storage unit 918 represents a floppy disk, magnetic tape, optical disk, etc. As will be appreciated, the removable storage unit 918 includes a computer usable storage medium having stored therein computer software and/or data.<br>
In alternative embodiments, secondary memory 910 may include other similar means for allowing computer programs or other instructions to be loaded into computer system 900. Such means can include, for example, a removable storage unit 922 and an interface 920. Examples can include a program cartridge and cartridge interface (such as that found in video game devices), a removable memory chip (such as an EPROM, or PROM) and associated socket, and other removable storage units 922 and interfaces 920 which allow software and data to be transferred from the removable storage unit 922 to computer system 900.<br>
Computer system 900 can also include a communications interface 924. Communications interface 924 allows software and data to be transferred between computer system 900 and external devices through communications path 926. Examples of communications interface 924 can include a modem, a network interface (such as an Ethernet card), a communications port, etc. Software and data transferred through communications interface 924 are in the form of signals which can be electronic, electromagnetic, optical or other signals capable of being received by communications interface 924 through communications path 926.<br>
The operation of the positioning method of the present invention is described in terms of this example environment. Description in these terms is provided for convenience only.  It is not intended that the operation of<br><br>
the positioning method of the present invention be limited to application in this example environment. In fact, after reading the following description, it will become apparent to a person skilled in the relevant art how to implement the positioning method of the present invention in alternative environments.<br>
In one embodiment of the present invention, the position of user terminal 106 is determined by executing the positioning method described below on computer system 900. As would be apparent to one skilled in the relevant art, the positioning method can be executed by a hardware state machine, look-up tables, or the like without departing from the spirit and scope of the present invention.<br>
According to a preferred embodiment of the present invention, an M X 1 vector of parameters denoted z is constructed that consists of the M parameters to be used in position determination. Vector z can include one or more of each of the parameters described above. As is well-known in the art, the parameters are non-linear functions of the 2-dimensional user terminal position vector x,<br>
X = [lat long]T	(5)<br>
where the "T" superscript indicates the transpose of a matrix or vector, according to:<br>
z = h(x) + v	(6)<br>
where the M x 1 vector v represents the measurement errors, and h is the non-linear function which describes the relationship between the measured parameters and the position of user terminal 106. h is also a function of the positions and velocities of satellites 104A and 104B. In an alternate embodiment, the user terminal position vector x can be defined by three Cartesian coordinates, rather than by latitude and longitude, as shown in equation (7).<br>
x=[ x y Z]T	(7)<br>
According to Gauss' method of linearization, a M x K partial derivative matrix H is constructed to solve for the position of user terminal 106, where K is the number of position unknowns, and whose (m.k) element is the partial derivative of the mth measurement with respect to the kth position parameter, determined at a given position x. For example.<br><br>
if the position vector describes latitude and longitude, as in equation (5), then K equals 2 and the elements in the k = 1 column of the matrix H describe the partial derivatives with respect to the latitude of user terminal 106 and the elements in the k = 2 column describe the partial derivatives with respect to the longitude of user terminal 106. If the position vector is in Cartesian coordinates {K = 3), the k = (1,2,3) columns of H refer to (x,y,2) coordinates, respectively. When Cartesian coordinates are used, an additional equation is used to indicate that the sum of the squares of the coordinates is the square of the radius of the Earth. The relationship between x and H is given by:<br><br>
An iterative weighted least-squares method is used to solve for the unknown position parameters. In a preferred embodiment of the present invention, the method employed is the weighted Gauss-Newton method disclosed by H. W. Sorenson in Parameter Estimation - Principles and Problems, New York, Marcel Dekker, 1980. The iterative equation is given by the relationship:<br><br>
where x i and x i+1 are the current and next position estimates, respectively, and W is a M X M weight matrix. The subscript i represents the iteration number, with i=0 representing the first iteration. Matrices or vectors based on a position estimate are indicated by a "^" superscript. A reference point, such as the last-known position of user terminal 106, is selected as an initial position estimate. If no last position is known, any position, such as the position of gateway 102, can be used.<br><br>
is the partial derivative matrix determined at the current position estimate, and <br>
are the expected error-free parameters, determined using the current position estimate.  The iterations terminate when the difference between X i<br><br>
and X i+1 falls below a predetermined threshold. The threshold is detennined by system designers and/or operators based on system accuracy, as would be apparent to one skilled in the relevant art. For example, the threshold can be based on the chip accuracy of the measurements and the chip rate.<br>
The elements of the M x M weight matrix W provide means to emphasize the influence of specific parameters upon the estimated position X when there are more parameters than unknowns. In a preferred embodiment, weight matrix W is a diagonal matrix whose elements reflect the relative accuracy with which each parameter can be determined. Thus, the values of the elements are set based on the known measurement accuracies of the system as would be apparent to those skilled in the relevant art. Therefore, a parameter based on a very accurate measurement is given more significance than a parameter which cannot be measured as accurately. The elements of the weight matrix are initialized to predetermined values, but can be adjusted dynamically. Optimal accuracy is obtained if the weight matrix is chosen as the inverse of the measurement error covariance matrix.<br>
If the measurement errors are mutually independent with zero mean and variances:<br><br>
then W is a diagonal matrix with σm2   as its diagonal elements.<br>
With this choice of W the variance of the kth element of the estimated position vector x is given by:<br><br>
Finally, the combined theoretical horizontal position error, in units of distance, is given by:<br><br>
where RE is the Earth radius.<br>
In a preferred embodiment, the positioning method employs a smooth ellipsoid model for the Earth's surface. In an alternate embodiment, the positioning method initially employs a smooth ellipsoid model for the Earth's surface such as the WGS-84 Earth model.   When  the values of x<br><br>
converge so that difference between x i and x f+i is less than a predetermined threshold, a detailed digital terrain model is substituted for the smooth model, and the iterations continue until the values of x converge so that the difference between x f and x f+i is less than a second predetermined distance<br>
threshold. Thus, any errors introduced by the elevation of user terminal 106 are mitigated. In an alternative embodiment, the detailed digital terrain model is substituted after a predetermined number of iterations. The values of the distance thresholds and the number of iterations described above are determined according to various factors, as would be apparent to one skilled in the relevant art.<br>
VI.      Conclusion<br>
While various embodiments of the present invention have been described above, it should be understood that they have been presented by way of example, and not limitation. It will be apparent to persons skilled in the relevant art that various changes in form and detail can be made therein without departing from the spirit and scope of the invention. Thus the present invention should not be limited by any of the above-described exemplary embodiments, but should be defined only in accordance with the following claims and their equivalents.<br>
What I claim^ as my invention is:<br><br><br><br><br>
What Is Claimed Is:<br>
1.	A system for making a three-material<br>
lollipop product, said system comprising:<br>
an extruder for extruding a gum material;<br>
a batch forming mechanism;<br>
a tubular member for transporting the gum material into said batch forming mechanism;<br>
a candy laminator mechanism for supplying candy material to said batch forming mechanism;<br>
a semi-liquid-fill mechanism for adding a semi-liquid material to said gum material; "<br>
said batch forming mechanism forming a rope of three-layer material including a center layer of the semi-liquid material, an intermediate layer of the gum material, and an outer layer of the candy material; a sizing mechanism for sizing the rope of three-layer material;<br>
a lollipop forming mechanism for forming the rope of three-layer material into lollipop balls, said lollipop forming mechanism inserting stick members into each of the lollipop balls.<br>
2.	The system as recited in claim 1 further comprising a conveyer mechanism and a cooling mechanism, said conveyer mechanism positioned to transport the lollipop products into said cooling mechanism.<br>
3.	The system as recited in claim 1 wherein said batch forming mechanism has at least one end which is adjustable in a vertical direction.<br>
4.	The system as recited in claim 1 wherein said semi-liquid fill mechanism adds the liquid material to the gum<br>
9<br>
material  in said tubular member.<br><br>
5.	The system as set forth in claim 2 wherein said cooling mechanism comprises a housing, a plurality of tray members in the housing, and means for shaking said tray members in order to tumble the lollipop products.<br>
6.	The system as set forth in claim 1 wherein said lollipop forming mechanism comprises a housing with a rotating drum member inside said drum member having a plurality of forming die members thereon.<br>
7.	The system as set forth in claim 1 wherein said lollipop forming mechanism comprises a housing with a pair of rotating chain members, said rotating chain members each having a plurality of forming dies thereon.<br>
8.	A method of making a three-material lollipop product, said steps comprising:<br>
extruding a gum material from an extruder;<br>
transporting said extruded gum material into a batch forming mechanism;<br>
injecting a center-fill semi-liquid material into said gum material;<br>
coating said gxim material with molten candy material in said batch forming mechanism; and<br>
forming individual lollipop balls from said candy coated gum material in a lollipop forming mechanism.<br>
9.	The method as set forth in claim 8 further comprising the step of inserting sticks into said lollipop balls to foann lollipop products.<br>
10.	A product having a center layer of a semi-liquid material, an intermediate layer of a gum material and an outer layer of a hard candy material.<br>
11.	The product as recited in claim 10 wherein said lollipop product is made by a process including the steps of extruding said gum material from an extruder, injecting said<br><br>
liquid material into said extruded gum material, coating said semi-liquid-filled gum material with a candy material, and "forming said candy coated semi-liquid-filled gum material into a lollipop product.<br><br>
12. A system for making a three-material lollipop product substantially as herein described with reference to the accompanying drawings.<br><br></td>
			</tr>
		</table>	
		<br>
		<h3>Documents:</h3>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjE0Ny1tYXMtMTk5Ny1hYnN0cmFjdC5wZGY=" target="_blank" style="word-wrap:break-word;">2147-mas-1997-abstract.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjE0Ny1tYXMtMTk5Ny1hc3NpZ25tZW50LnBkZg==" target="_blank" style="word-wrap:break-word;">2147-mas-1997-assignment.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjE0Ny1tYXMtMTk5Ny1jbGFpbXMgZHVwbGljYXRlLnBkZg==" target="_blank" style="word-wrap:break-word;">2147-mas-1997-claims duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjE0Ny1tYXMtMTk5Ny1jbGFpbXMgb3JpZ2luYWwucGRm" target="_blank" style="word-wrap:break-word;">2147-mas-1997-claims original.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjE0Ny1tYXMtMTk5Ny1jb3JyZXNwb25kYW5jZSBvdGhlcnMucGRm" target="_blank" style="word-wrap:break-word;">2147-mas-1997-correspondance others.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjE0Ny1tYXMtMTk5Ny1jb3JyZXNwb25kYW5jZSBwby5wZGY=" target="_blank" style="word-wrap:break-word;">2147-mas-1997-correspondance po.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjE0Ny1tYXMtMTk5Ny1kZXNjcmlwdGlvbiBjb21wbGV0ZSBkdXBsaWNhdGUucGRm" target="_blank" style="word-wrap:break-word;">2147-mas-1997-description complete duplicate.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjE0Ny1tYXMtMTk5Ny1kZXNjcmlwdGlvbiBjb21wbGV0ZSBvcmlnaW5hbC5wZGY=" target="_blank" style="word-wrap:break-word;">2147-mas-1997-description complete original.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjE0Ny1tYXMtMTk5Ny1kcmF3aW5ncy5wZGY=" target="_blank" style="word-wrap:break-word;">2147-mas-1997-drawings.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjE0Ny1tYXMtMTk5Ny1mb3JtIDEucGRm" target="_blank" style="word-wrap:break-word;">2147-mas-1997-form 1.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjE0Ny1tYXMtMTk5Ny1mb3JtIDI2LnBkZg==" target="_blank" style="word-wrap:break-word;">2147-mas-1997-form 26.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjE0Ny1tYXMtMTk5Ny1mb3JtIDMucGRm" target="_blank" style="word-wrap:break-word;">2147-mas-1997-form 3.pdf</a></p>
				<p><a href="http://ipindiaonline.gov.in/patentsearch/GrantedSearch/pdfviewer.aspx?AppNo=MjE0Ny1tYXMtMTk5Ny1mb3JtIDQucGRm" target="_blank" style="word-wrap:break-word;">2147-mas-1997-form 4.pdf</a></p>
		<br>
		<div class="pull-left">
			<a href="205638-an-article-comprising-a-substrate-coated-with-a-fluorine-doped-coating-and-a-method-of-making-such-substrate.html">&laquo; Previous Patent</a>
		</div>
		<div class="pull-right">
			<a href="205640-vehicle-drive-wheel-assembly.html">Next Patent &raquo;</a>
		</div>			
	</div><!-- /span8 -->
	<div class="span4">
		<div class="well infobox">
			<table class="table table-condensed">
				<tr>
					<th>Patent Number</th>
					<td>205639</td>
				</tr>
				<tr>
					<th>Indian Patent Application Number</th>
					<td>2147/MAS/1997</td>
				</tr>
				<tr>
					<th>PG Journal Number</th>
					<td>26/2007</td>
				</tr>
				<tr>
					<th>Publication Date</th>
					<td>29-Jun-2007</td>
				</tr>
				<tr>
					<th>Grant Date</th>
					<td>09-Apr-2007</td>
				</tr>
				<tr>
					<th>Date of Filing</th>
					<td>29-Sep-1997</td>
				</tr>
				<tr>
					<th>Name of Patentee</th>
					<td>QUALCOMM INCORPORATED</td>
				</tr>
				<tr>
					<th>Applicant Address</th>
					<td>6455 LUSK BOULEVARD, SAN DIEGO, VALIFORINIA 92121</td>
				</tr>
				<tr>
					<td colspan=2>
								<h5>Inventors:</h5>
								<table class="table">
									<tr>
										<th>#</th>
										<th>Inventor's Name</th>
										<th>Inventor's Address</th>
									</tr>

										<tr>
											<td>1</td>
											<td>NADAV LEVANON</td>
											<td>HAMERIRI STREET RAMER GAN 52651</td>
										</tr>
								</table>
					</td>
				</tr>
				<tr>
					<th>PCT International Classification Number</th>
					<td>G01S005/02</td>
				</tr>
				<tr>
					<th>PCT International Application Number</th>
					<td>N/A</td>
				</tr>
				<tr>
					<th>PCT International Filing date</th>
					<td></td>
				</tr>
				<tr>
					<td colspan=2>
						<h5>PCT Conventions:</h5>
						<table class="table">
							<tr>
								<th>#</th>
								<th>PCT Application Number</th>
								<th>Date of Convention</th>
								<th>Priority Country</th>
							</tr>

								<tr>
									<td>1</td>
									<td>08/723,751</td>
									<td>1996-09-30</td>
								    <td>U.S.A.</td>
								</tr>

						</table>
					</td>
				</tr>
			</table>
		</div><!-- /well -->
	</div><!-- /span4 -->
</div><!-- /row-fluid -->

        </div>

      </div><!--/row-->

      <footer class="footer">

        <style>
        .allindianpatents-footer { width: 320px; height: 50px; }
        @media(min-width: 500px) { .allindianpatents-footer { width: 468px; height: 60px; } }
        @media(min-width: 800px) { .allindianpatents-footer { width: 728px; height: 90px; } }
        </style>
        <center>
        </center>

        <p>&copy; All Indian Patents, 2013-2021.</p>
        <p>Patent data available in the public domain from Indian Patents Office, Department of Industrial Policy and Promotions, Ministry of Commerce and Industry, Government of India.</p>
      </footer>

    </div> <!-- /container -->

    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/application-95f297ff0d8d2015987f04b30593c800.js" type="text/javascript"></script>

    <!-- Start of StatCounter Code for Default Guide -->
    <script type="text/javascript">
    var sc_project=8902313; 
    var sc_invisible=1; 
    var sc_security="3c1f8147"; 
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write("<sc"+"ript type='text/javascript' src='" +
    scJsHost+
    "statcounter.com/counter/counter.js'></"+"script>");
    </script>
    <noscript><div class="statcounter"><a title="web stats"
    href="http://statcounter.com/free-web-stats/"
    target="_blank"><img class="statcounter"
    src="http://c.statcounter.com/8902313/0/3c1f8147/1/"
    alt="web stats"></a></div></noscript>
    <!-- End of StatCounter Code for Default Guide -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-244143-31', 'allindianpatents.com');
      ga('send', 'pageview');

    </script>

  </body>

<!-- Mirrored from www.allindianpatents.com/patents/205639-positioning-determination-using-one-low-earth-orbit-satellite by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Apr 2024 07:03:35 GMT -->
</html>
